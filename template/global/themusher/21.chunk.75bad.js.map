{"version":3,"sources":["webpack:///./components/team/publicFeedLine.js"],"names":["initialState","showAddComment","likeWorkout","idxSuggestion","idxAd","limit","offset","hasFollowSugguestions","hasAd","sessionid","Date","getTime","TeamPublicFeedLine","observer","props","toggleDate","e","stopPropagation","preventDefault","setState","showDate","state","workoutId","response","parseInt","target","closest","dataset","id","workoutStore","stores","setTimeout","status","addLikeToFeed","data","addCommentToFeed","type","workout","commentId","replyId","holdingStore","teamStore","addLikeToComment","addLikeToCommentReply","addCommentToWorkoutComment","addCommentToWorkout","storyStore","workoutsAddLikeToComment","workoutsAddLikeToCommentReply","workoutsAddCommentToWorkoutComment","workoutsAddCommentToWorkout","addLikeToWorkout","workoutsAddLikeToWorkout","toggleAddComment","inputRef","focus","toggleMenu","showMenu","toggleAdminDetails","showAdminDetails","showEdit","reportWorkout","adminRemoveWorkout","adminHideWorkout","shareLink","appState","shareUrl","url","title","text","showWorkoutDetail","localName","console","log","route","translate","translatedTextName","translatedTextComment","feed","user","userStore","object","field","comment","showOriginal","displayTeam","teamId","openDrawer","height","openInbox","fromuser","containerRef","render","publicDogs","this","onTeamClick","onUserClick","onDogClick","isAdmin","language","hasShareApi","team","publicUser","findPublicTeam","findPublicUser","findTeamAmbition","ambition","ambitions","findTeamType","username","userLink","isTeamAdmin","members","some","m","image","mu","getImage","priority","likes","comments","reports","hasLikedWorkout","findIndex","isYourTeam","indexOf","isFollowing","followers","hasRequestedFollow","followRequests","workoutEquipment","findEquipment","equipment","workoutEquipmentIcon","gpxInfo","displayNameShort","displayName","settings","uuidv4","hideProfile","images","mapImage","push","imgs","toJS","currentLocationGeocode","views","getViews","statistics","adminData","getAdminData","name","translationName","getTranslation","targetLang","feedName","feedComment","class","onClick","data-id","public","buttonOnly","simple","classNames","style","href","date","util","formatDate","locale","hour12","hour","minute","formatDistance","dogs","length","track","sledWeight","value","temperature","format","formattedCounty","moonIllumination","phaseIcon","formatted_address","deviceInfo","map","count","ranking","isNumber","rankingTrend","getClassForTrend","durationAvg","durationAvgTrend","statisticsCurrent","totalInteractions","shadowTags","tag","dblClick","likeRef","allDogs","distanceKm","elevation","duration","secToHms","speedAvg","avgGpsMovingSpeed","markdown","replaceImages","markdownOpts","getMarkdownOptions","data-url","data-title","rel","data-native","c","inputRefObject","col","showAvatar","extraClass","callback","compact","Component"],"mappings":"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","file":"21.chunk.75bad.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\nimport { route } from 'preact-router';\n\nimport ImageScroller from '../imageScroller';\nimport DogScroller from '../dog/scroller';\nimport WorkoutComments from '../workout/comments';\nimport WorkoutAddComment from '../workout/commentAdd';\n\nimport PublicTeam from '../team/public';\n\nimport LikesAndComments from '../feedback/likesAndComments';\nimport Views from '../feedback/views';\n\nimport Speed from '../data/speed';\nimport Elevation from '../data/elevation';\nimport Weight from '../data/weight';\nimport Distance from '../data/distance';\nimport Temperature from '../data/temperature';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distanceKm) {\n\tif (distanceKm < 5) {\n\t\treturn util.format(distanceKm, 2);\n\t}\n\tif (distanceKm < 10) {\n\t\treturn util.format(distanceKm, 1);\n\t}\n\treturn util.format(distanceKm, 1);\n}\n\nconst initialState = {\n\tshowAddComment: {},\n    // viewImageIdx: {},\n    likeWorkout: {},\n    idxSuggestion: 0,\n    idxAd: 4,\n    limit: 15,\n    offset: 0,\n    hasFollowSugguestions: false,\n    hasAd: false,\n    sessionid: new Date().getTime(),\n};\n\n@observer\nclass TeamPublicFeedLine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.inputRef = {};\n        this.containerRef = null;\n    }\n\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n\tlikeWorkout = async (e) => {\n        const workoutId = parseInt(e.target.closest('.imageContainer').dataset.id, 10);\n\t\tconst { workoutStore } = this.props.stores;\n\n        const { likeWorkout } = this.state;\n        likeWorkout[workoutId] = true;\n        this.setState({ likeWorkout });\n        setTimeout(() => {\n            const { likeWorkout } = this.state;\n            delete likeWorkout[workoutId];\n            this.setState({ likeWorkout });\n        }, 1200);\n\n\t\tconst response = await workoutStore.likeWorkout({ id: workoutId });\n        if (response && response.status === 200) {\n            this.addLikeToFeed(workoutId, response.data);\n\t\t}\n\t}\n\n    addCommentToFeed = ({ type, workout, response, commentId, replyId }) => {\n        // console.log('addCommentToFeed', { workout, response, commentId });\n        const { holdingStore = 'team' } = this.props;\n        if (holdingStore === 'team') {\n            const { teamStore } = this.props.stores;\n            switch (type) {\n                case 'likeComment':\n                    teamStore.addLikeToComment({ id: workout.id, data: response.data, commentId });\n                    break;\n                case 'likeReply':\n                    teamStore.addLikeToCommentReply({ id: workout.id, data: response.data, commentId, replyId });\n                    break;\n\n                default:\n                    if (commentId) {\n                        teamStore.addCommentToWorkoutComment({ id: workout.id, data: response.data, commentId });\n                    } else {\n                        teamStore.addCommentToWorkout({ id: workout.id, data: response.data });\n                    }\n                    break;\n            }\n        } else if (holdingStore === 'story') {\n            const { storyStore } = this.props.stores;\n            switch (type) {\n                case 'likeComment':\n                    storyStore.workoutsAddLikeToComment({ id: workout.id, data: response.data, commentId });\n                    break;\n                case 'likeReply':\n                    storyStore.workoutsAddLikeToCommentReply({ id: workout.id, data: response.data, commentId, replyId });\n                    break;\n\n                default:\n                    if (commentId) {\n                        storyStore.workoutsAddCommentToWorkoutComment({ id: workout.id, data: response.data, commentId });\n                    } else {\n                        storyStore.workoutsAddCommentToWorkout({ id: workout.id, data: response.data });\n                    }\n                    break;\n            }\n        }\n    }\n\n    addLikeToFeed = (id, data) => {\n        const { holdingStore = 'team' } = this.props;\n        if (holdingStore === 'team') {\n            const { teamStore } = this.props.stores;\n            teamStore.addLikeToWorkout({ id, data });\n        } else if (holdingStore === 'story') {\n            const { storyStore } = this.props.stores;\n            storyStore.workoutsAddLikeToWorkout({ id, data });\n        }\n    }\n\n\ttoggleAddComment = (e) => {\n\t\tconst workoutId = e.target.closest('button').dataset.id;\n\t\tconst { showAddComment } = this.state;\n        if (showAddComment[workoutId]) {\n            delete showAddComment[workoutId];\n        } else {\n            showAddComment[workoutId] = true;\n        }\n\t\tthis.setState({\n\t\t\tshowAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[workoutId]) {\n\t\t\t\tthis.inputRef[workoutId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n    toggleMenu = (e) => {\n        const { id } = e.target.closest('i').dataset;\n\t\tconst { showMenu = {} } = this.state;\n        showMenu[id] = !showMenu[id];\n\t\tthis.setState({\n\t\t\tshowMenu,\n\t\t});\n\t}\n\n    toggleAdminDetails = () => {\n        const { showAdminDetails } = this.state;\n        this.setState({\n            showAdminDetails: !showAdminDetails,\n        });\n        this.setState({\n            showEdit: {},\n            showMenu: {},\n\t\t});\n    }\n\n    reportWorkout = async (e) => {\n        const { id } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        await teamStore.reportWorkout({ id });\n        this.setState({\n            showEdit: {},\n            showMenu: {},\n\t\t});\n    }\n\n    adminRemoveWorkout = async (e) => {\n        const { id } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        await teamStore.adminHideWorkout({ id });\n        this.setState({\n            showEdit: {},\n            showMenu: {},\n\t\t});\n    }\n\n    shareLink = (e) => {\n        const { url, title, text } = e.target.closest('button').dataset;\n        const { appState } = this.props.stores;\n        appState.shareUrl({ url, title, text });\n    }\n\n    showWorkoutDetail = (e) => {\n        if (e.target.localName === 'a') {\n            return false;\n        }\n        const target = e.target.closest('#workoutDetail');\n        if (target) {\n            const { id } = target.dataset;\n            if (id) {\n            console.log({ target, id });\n                route(`/workouts/public/${id}`);\n            }\n        }\n    }\n\n    translate = async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { feed = {} } = this.props;\n        const { userStore, teamStore } = this.props.stores;\n        const { user } = userStore;\n        const translatedTextName = await teamStore.translate({ object: feed, user, field: 'name' });\n        let translatedTextComment;\n        if (feed.comment) {\n            translatedTextComment = await teamStore.translate({ object: feed, user, field: 'comment' });\n        }\n        this.setState({ showOriginal: 0, translatedTextName, translatedTextComment });\n    }\n\n    showOriginal = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({ showOriginal: 1 });\n    }\n\n    displayTeam = (e, teamId) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { appState } = this.props.stores;\n        appState.openDrawer('publicTeam', { teamId, height: '80vh' });\n\t}\n\n    openInbox = (e, fromuser) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { appState } = this.props.stores;\n        appState.openDrawer('inboxDetail', { fromuser, height: '80vh' });\n    }\n\n    render() {\n        const {\n            showAddComment,\n            showDate,\n            likeWorkout,\n            showOriginal,\n            translatedTextName,\n            translatedTextComment,\n            showAdminDetails,\n            showMenu = {},\n        } = this.state;\n        const {\n            feed,\n            idx,\n            onTeamClick = () => {},\n            onUserClick = () => {},\n            onDogClick = () => {},\n            holdingStore = 'team',\n        } = this.props;\n        const { teamStore, storyStore, userStore, appState } = this.props.stores;\n        const { user, isAdmin } = userStore;\n        const { language = 'en' } = user;\n        const { darkmode, hasShareApi } = appState;\n        let publicDogs;\n\n        let team = {};\n        let publicUser = {};\n        if (holdingStore === 'team') {\n            team = teamStore.findPublicTeam(feed.team);\n            publicUser = teamStore.findPublicUser(feed.user) || {};\n            const { publicDogs: teamPublicDogs } = teamStore;\n            publicDogs = teamPublicDogs;\n        } else if (holdingStore === 'story') {\n            team = storyStore.findPublicTeam(feed.team);\n            publicUser = storyStore.findPublicUser(feed.user) || {};\n            const { publicDogs: storyPublicDogs } = storyStore;\n            publicDogs = storyPublicDogs;\n        }\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n\n        const isTeamAdmin = (team && team.members) ? team.members.some(m => m === user.id) : false;\n\n        const image = mu.getImage({ user: publicUser, team, object: feed, priority: 'user' });\n\n        const { likes, comments, reports = [] } = feed;\n        const hasLikedWorkout = feed.likes && feed.likes.findIndex(e => e.user === user.id) > -1;\n        const totalFollowers = team && team.followers ? team.followers.length : 0;\n\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team && team.followers && team.followers.indexOf(user.id) > -1;\n        const hasRequestedFollow = team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n        const workoutEquipment = userStore.findEquipment({ equipment: feed.equipment, language });\n        const workoutEquipmentIcon = userStore.findEquipment({ equipment: feed.equipment, field: 'icon' });\n\t\tconst { gpxInfo = {} } = feed;\n\n\n        let shortname;\n        let name;\n        let username;\n        let userLink;\n        if (publicUser) {\n            shortname = mu.displayNameShort(publicUser);\n            name = mu.displayName(publicUser);\n            username = mu.displayName(publicUser);\n            if (publicUser.settings && publicUser.uuidv4 !== user.uuidv4) {\n                userLink = publicUser.settings.hideProfile ? null : `/inbox/${publicUser.uuidv4}`;\n            }\n        }\n\n        const images = [];\n        if (feed.mapImage) {\n            images.push({\n                ...feed.mapImage,\n                type: 'map',\n            });\n        }\n        if (feed.images) {\n            const imgs = toJS(feed.images);\n            images.push(...imgs);\n        }\n\n        const { currentLocationGeocode = {}, yrWeather = [] } = feed;\n        const views = mu.getViews(feed.statistics);\n        const adminData = mu.getAdminData(feed.statistics);\n\n        if (!team || !team.name) {\n            return '';\n        }\n\n        const translationName = mu.getTranslation({\n            object: feed,\n            targetLang: language,\n            field: 'name',\n        }) || translatedTextName;\n        let feedName = translationName || feed.name;\n        const translationComment = mu.getTranslation({\n            object: feed,\n            targetLang: language,\n            field: 'comment',\n        }) || translatedTextComment;\n        let feedComment = translationComment || feed.comment;\n\n        if (showOriginal) {\n            feedName = feed.name;\n            feedComment = feed.comment;\n        }\n\n        return (<>\n            {(isAdmin || (user.id === feed.user)) ? <>\n                <span class='float-right font-weight-lighter text-muted'>\n                    <i class='fas fa-ellipsis-h' onClick={this.toggleMenu} data-id={feed.uuidv4} />\n                </span>\n            </> : <>\n                {!isYourTeam && !isFollowing && !hasRequestedFollow && team.public > 0 && <span class='float-right'>\n                    <PublicTeam stores={this.props.stores} team={team} buttonOnly={true} simple={true} classNames={'btn btn-link text-primary'} />\n                </span>}\n            </>}\n            {showMenu[feed.uuidv4] && <>\n                <div class='position-absolute bg-light p-2 border rounded rounded-lg shadow-sm' style='top: 30px; right: 10px; width: 60%; z-index: 999999;'>\n                    <button class='btn btn-link btn-block text-left' onClick={this.reportWorkout} data-id={feed.uuidv4}><i class='fas fa-flag' /> Report</button>\n                    {isAdmin && <>\n                        <hr />\n                        <button class='btn btn-link btn-block text-left text-danger' onClick={this.adminRemoveWorkout} data-id={feed.id}>\n                            <i class='fas fa-eraser' /> Remove from feed\n                        </button>\n                    </>}\n                    <button class='btn btn-link btn-block text-left' onClick={this.toggleAdminDetails}>\n                        <i class='fas fa-user-cog' /> Toggle admin details\n                    </button>\n                </div>\n            </>}\n\n            <div class='d-flex position-relative'>\n                <div class='text-center'>\n                    <div\n                        class={`position-relative text-center border rounded-circle imageRounded imageRoundedMedium`}\n                        style={image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}>\n                        {!image && <i class='fas fa-users text-muted mt-2' style='font-size: 20px;' />}\n                    </div>\n                </div>\n                <div class='flex-grow-1 pl-3 text-overflow' style='line-height: 1.2em;'>\n                    {/* <span class='badge badge-pill badge-secondary float-right'>{teamType}</span> */}\n                    <h5 class='mb-1 position-relative' style='line-height: 1.0em;'>\n                        {team.public ? <>\n                            <a href={`/teams/public/${team.uuidv4}`} onClick={(e) => this.displayTeam(e, team.uuidv4)} class='stretched-link'>{team.name}</a>\n                        </> : <>\n                            {team.name}\n                        </>}\n                    </h5>\n                    \n                    <div class='d-flex flex-row flex-nowrap' style='overflow: auto;'>\n                        {feed.date && <small class='text-muted' onClick={this.toggleDate}>\n                            {showDate ? util.formatDate(feed.date, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' }) : util.formatDistance(feed.date, new Date(), { locale: 'no-NB' })}\n                        </small>}\n                        {username && <>\n                            <small class='ml-2 text-muted'>\n                                {userLink ? <>\n                                    <i class='fas fa-user' /> <a href={userLink} onClick={(e) => this.openInbox(e, publicUser.uuidv4)}>{username}</a>\n                                </> : <>\n                                    <i class='fas fa-user' /> {username}\n                                </>}\n                            </small>\n                        </>}\n                        <small class='text-muted'>\n                            {feed.equipment > 0 && <><i class={`${workoutEquipmentIcon} ml-2`} /> {workoutEquipment}</>}\n                            {/* {feed.distanceKm > 0 && <><i class='fas fa-road ml-2' /> {displayDistance(feed.distanceKm)}km</>}\n                            {feed.elevation > 0 && <><i class='fas fa-mountain ml-2' /> {util.format(feed.elevation, 0)}m</>}\n                            {feed.speedAvg > 0 && <><i class='fas fa-tachometer-alt ml-2' /> {util.format(feed.speedAvg, 1)}km/t</>} */}\n                            {feed.dogs > 0 && <><i class='fas fa-dog ml-2' /> {feed.dogs.length}</>}\n                            {feed.track > 0 && <><i class={`fas fa-map-marked text-${feed.track > 0 ? 'success' : 'danger'} ml-2`} /></>}\n                            {/* {feed.dogsLeft > 0 && <><i class={`fas fa-crosshairs text-${feed.dogsLeft && feed.dogsRight ? 'success' : 'danger'} ml-2`} /></>} */}\n                            {feed.sledWeight > 0 && <>\n                                <i class='fas fa-sleigh ml-2' /> <Weight stores={this.props.stores} value={feed.sledWeight} />\n                            </>}\n                            {feed.temperature !== 0 && <>\n                                <i class='fas fa-temperature-low ml-2' /> <Temperature stores={this.props.stores} value={feed.temperature} />\n                            </>}\n                            {feed.dogs && feed.dogs.length > 0 && <>\n                                <i class='fas fa-dog ml-2' /> {util.format(feed.dogs.length, 0)}\n                            </>}\n                            {/* {feed.kcalBurnedTotal && <><i class='fas fa-balance-scale' /> {util.format(feed.kcalBurnedTotal)} kcal</>}\n                            {feed.kcalMeatGramsTotal && <><i class='fas fa-drumstick-bite ml-2' /> {util.format(feed.kcalMeatGramsTotal / 1000, 1)} kg</>}\n                            {feed.kcalSalmonGramsTotal && <><i class='fas fa-fish ml-2' /> {util.format(feed.kcalSalmonGramsTotal / 1000, 1)} kg</>}\n                            {feed.kcalFatGramsTotal && <><i class='fas fa-piggy-bank ml-2' /> {util.format(feed.kcalFatGramsTotal / 1000, 1)} kg</>} */}\n                            {currentLocationGeocode && currentLocationGeocode.formattedCounty && <>\n                                <i class='fas fa-map-marker-alt ml-2' /> {currentLocationGeocode.formattedCounty}\n                            </>}\n                            {feed.moonIllumination && feed.moonIllumination.phaseIcon && <span class='ml-2'>{feed.moonIllumination.phaseIcon}</span>}\n                        </small>\n                    </div>\n\n                    {showAdminDetails && isAdmin && <div\n                        class='d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2'\n                        style='overflow: auto;'\n                    >\n                        <small class='text-muted mr-2'>Adm:</small>\n                        {reports && reports.length > 0 && <>\n                            <small class='text-danger mr-2'>\n                                <i class='fas fa-flag' /> {reports.length}\n                            </small>\n                        </>}\n                        {currentLocationGeocode && currentLocationGeocode.formatted_address && <>\n                            <small class='text-muted'>\n                                <i class='fas fa-map-marker-alt' /> {currentLocationGeocode.formatted_address}\n                            </small>\n                        </>}\n                        {publicUser.deviceInfo && <>\n                            <span class='badge badge-secondary ml-1 float-right font-weight-light'>\n                                {['platform', 'manufacturer', 'model'].map(e => <>\n                                    <span class='ml-1 text-white'>\n                                        {publicUser.deviceInfo[e]}\n                                    </span>\n                                </>)}\n                            </span>\n                        </>}\n                        {adminData && <>\n                            {/* {JSON.stringify(adminData)}<br /> */}\n                            <small class='ml-2 text-muted'>\n                                V: {adminData.count}\n                            </small>\n                            <small class='ml-2 text-muted'>\n                                R: {adminData.ranking} {util.isNumber(adminData.rankingTrend) && <><i class={mu.getClassForTrend(adminData.rankingTrend)} /></>}\n                            </small>\n                            <small class='ml-2 text-muted'>\n                                D: {util.format(adminData.durationAvg / 1000, 1)}s {util.isNumber(adminData.durationAvgTrend) && <><i class={mu.getClassForTrend(adminData.durationAvgTrend)} /></>}\n                            </small>\n                            {feed.statisticsCurrent && feed.statisticsCurrent.totalInteractions > 0 && <small class='ml-2 text-muted'>\n                                S: {util.format(feed.statisticsCurrent.totalInteractions, 0)}\n                            </small>}\n                            {feed.shadowTags && feed.shadowTags.map(tag => <>\n                                <span class='badge badge-secondary ml-2 float-right font-weight-light'>{tag}</span>\n                            </>)}\n                        </>}\n                    </div>}\n                </div>\n            </div>\n\n\n            {/* <div class='row'>\n                <div class='row mb-3'>\n                    {feed.gpxInfo && feed.gpxInfo.svgMap && <>\n                        <div class='col-6 mt-auto text-center overflow-hidden'>\n                            <svg viewBox='0 0 300 300' style='width: 150px; height: 150px;'>\n                                <path d={`${feed.gpxInfo.svgMap}`} style='fill: none; stroke: #0275d8; stroke-width: 5; opacity: 0.5;' />\n                            </svg>\n                            <small class='text-muted'>Track</small>\n                        </div>\n                    </>}\n                    {feed.gpxInfo && feed.gpxInfo.svgElevation && <>\n                        <div class='col-6 mt-auto text-center overflow-hidden'>\n                            <svg viewBox='0 0 300 200' style='width: 150px; height: 100px;'>\n                                <path d={`${feed.gpxInfo.svgElevation}`} style='fill: none; stroke: #5cb85c; stroke-width: 5; opacity: 0.5;' />\n                            </svg>\n                            <small class='text-muted'>Elevation</small>\n                        </div>\n                    </>}\n                </div>\n            </div> */}\n\n            <div class='container-fluid px-0 mt-1'>\n                <div class='row'>\n                    <ImageScroller stores={this.props.stores} images={images} id={feed.id} dblClick={this.likeWorkout} likeRef={likeWorkout} />\n                </div>\n            </div>\n\n            {feed.dogs && feed.dogs.length > 0 && <div class='container-fluid px-0 mt-1'>\n                <div class='row pt-2'>\n                    <DogScroller stores={this.props.stores} dogs={feed.dogs} allDogs={publicDogs} onDogClick={onDogClick} />\n                </div>\n            </div>}\n\n            <div class='d-flex justify-content-between bg-light rounded-lg px-2'>\n                {feed.distanceKm > 0 && <div class='mr-2 text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-road' /> <Text id='workout.calendar.distance'>Distanse</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Distance stores={this.props.stores} value={feed.distanceKm} />\n                    </div>\n                </div>}\n                {feed.elevation > 0 && <div class='mr-2 text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-mountain' /> <Text id='workout.calendar.ascend'>HÃ¸ydemeter</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Elevation stores={this.props.stores} value={feed.elevation} />\n                    </div>\n                </div>}\n                {feed.duration > 0 && <div class='mr-2 text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-clock' /> <Text id='workout.calendar.duration'>Varighet</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        {util.secToHms(feed.duration, true)}\n                    </div>\n                </div>}\n                {feed.speedAvg > 0 && <div class='text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-tachometer-alt' /> <Text id='workout.calendar.avg-speed'>Snittfart</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        {gpxInfo && gpxInfo.avgGpsMovingSpeed > 0 ? <>\n                            <Speed stores={this.props.stores} value={gpxInfo.avgGpsMovingSpeed * 3.6} />\n                        </> : <>\n                            <Speed stores={this.props.stores} value={feed.speedAvg} />\n                        </>}\n                    </div>\n                </div>}\n            </div>\n\n            <div class='row mt-2'>\n                <div id='workoutDetail' class='clearfix col-12 font-weight-bold' style='font-size: 1.2em;' onClick={this.showWorkoutDetail} data-id={feed.uuidv4}>\n                    <Markdown markdown={mu.replaceImages(feedName, feed.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                </div>\n                <div class='clearfix col-12'>\n                    <Markdown markdown={mu.replaceImages(feedComment, feed.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                </div>\n                {feed.language !== language && <>\n                    {!showOriginal && translationName ? <>\n                        <button type='button' class='btn btn-sm btn-link text-muted' onClick={this.showOriginal}><i class='fas fa-cog' />  <Text id='home.translate-show-original'>Show original</Text></button>\n                    </> : <>\n                        <button type='button' class='btn btn-sm btn-link text-muted' onClick={this.translate}><i class='fas fa-cog' /> <Text id='home.translate-to'>See translation</Text></button>\n                    </>}\n                </>}\n            </div>\n\n            <div class='mt-2'>\n                <LikesAndComments\n                    stores={this.props.stores}\n                    likes={likes}\n                    comments={comments}\n                    type='team'\n                    onTeamClick={onTeamClick}\n                    onUserClick={onUserClick}\n                />\n            </div>\n\n            {!isYourTeam && !isFollowing && !hasRequestedFollow && <div class='clearfix mb-2'>\n                <PublicTeam stores={this.props.stores} team={team} buttonOnly={true} />\n            </div>}\n\n            <div>\n                <div class='row'>\n                    <div class='col text-center'>\n                        <button type='button' class={`imageContainer btn btn-sm btn-outline-${hasLikedWorkout ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedWorkout ? 'text-primary' : ''} text-overflow`}\n                            data-id={feed.id}\n                            onClick={this.likeWorkout}\n                            // disabled={hasLikedWorkout}\n                        >\n                            <i class={`${hasLikedWorkout ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> <Text id='comments.like'>Lik</Text>\n                        </button>\n                    </div>\n                    <div class='col text-center'>\n                        <button type='button' class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                            data-id={feed.id}\n                            onClick={this.toggleAddComment}\n                        >\n                            <i class='fas fa-comment' /> <Text id='comments.comment-add'>Kommentar</Text>\n                        </button>\n                    </div>\n                    {hasShareApi ? <>\n                        <div class='col text-center'>\n                            <button class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                                onClick={this.shareLink}\n                                data-url={`https://themusher.app/share/workout/${feed.uuidv4}`}\n                                data-title={`title: ${feed.title}`}\n                            >\n                                <i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n                            </button>\n                        </div>\n                    </> : <>\n                        <div class='col text-center'>\n                            <a class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                                href={`https://themusher.app/share/workout/${feed.uuidv4}`}\n                                target='_blank'\n                                rel='noreferrer'\n                                data-native\n                            >\n                                <i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n                            </a>\n                        </div>\n                    </>}\n                </div>\n            </div>\n\n            {views > 0 && <>\n                <div class='mt-2'>\n                    <Views\n                        stores={this.props.stores}\n                        views={views}\n                        object={feed}\n                        type='team'\n                        isTeamAdmin={isTeamAdmin}\n                        isAdmin={isAdmin}\n                        onTeamClick={onTeamClick}\n                        onUserClick={onUserClick}\n                    />\n                </div>\n            </>}\n\n            <div class='mt-2'>\n                {showAddComment[feed.id] && <WorkoutAddComment\n                    stores={this.props.stores}\n                    workout={feed}\n                    inputRef={c => this.inputRef[feed.id] = c}\n                    inputRefObject={this.inputRef}\n                    col='12'\n                    offset='0'\n                    showAvatar={true}\n                    extraClass='px-0'\n                    callback={this.addCommentToFeed}\n                />}\n                <WorkoutComments\n                    stores={this.props.stores}\n                    workout={feed}\n                    col='12'\n                    offset='0'\n                    compact={false}\n                    callback={this.addCommentToFeed}\n                />\n            </div>\n        </>);\n    }\n}\n\nexport default TeamPublicFeedLine;\n"],"sourceRoot":""}