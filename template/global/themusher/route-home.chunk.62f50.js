(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+1Jk":function(t,e,r){"use strict";function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.r(e);var c,a,l,u,h=r("hosL"),m=r("Utv1"),b=r("/eY4"),d=r("OhSV"),p=r("ZOvn"),f=r.n(p),O=r("JWe/"),g=r("WAWY"),j=r("XPU5"),v=(r("go65"),Object(b.a)(c=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).toggleSetting=function(t){return new Promise((function(r,o){var s,n,i;return i=(n=e.props.stores.userStore).user.settings,Promise.resolve(n.updateSetting((s={},s["settings."+t]=1===(void 0===i?{}:i)[t]?0:1,s))).then((function(){try{return r()}catch(t){return o(t)}}),o)}))},e.hideSettings=function(){return new Promise((function(t,r){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideSettings":1})).then((function(){try{return e.setState({hideSettings:!0}),t()}catch(t){return r(t)}}),r)}))},e}var r,o;return o=t,(r=e).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,e.prototype.render=function(){var t=this,e=this.props.stores.userStore.user.settings,r=void 0===e?{}:e;return this.state.hideSettings||r.hideSettings||!this.props.forceShow&&r.summaryEmails&&r.infoEmails&&r.partnerEmails?"":Object(h.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(h.h)("h5",null,Object(h.h)(d.c,{id:"users.settings"},"Brukerinnstillinger")),!r.summaryEmails&&Object(h.h)("div",{class:"row mt-4"},Object(h.h)("div",{class:"col-4 text-muted text-right"},Object(h.h)(d.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(h.h)("div",{class:"col-8"},Object(h.h)("div",{class:"custom-control custom-switch"},Object(h.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:function(){return t.toggleSetting("summaryEmails")},checked:r.summaryEmails}),Object(h.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(h.h)("small",{class:"text-muted"},Object(h.h)(d.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!r.infoEmails&&Object(h.h)("div",{class:"row mt-4"},Object(h.h)("div",{class:"col-4 text-muted text-right"},Object(h.h)(d.c,{id:"users.settings-info-email"},"Info")),Object(h.h)("div",{class:"col-8"},Object(h.h)("div",{class:"custom-control custom-switch"},Object(h.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:function(){return t.toggleSetting("infoEmails")},checked:r.infoEmails}),Object(h.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(h.h)("small",{class:"text-muted"},Object(h.h)(d.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!r.partnerEmails&&Object(h.h)("div",{class:"row mt-4"},Object(h.h)("div",{class:"col-4 text-muted text-right"},Object(h.h)(d.c,{id:"users.settings-partner-email"},"Partners")),Object(h.h)("div",{class:"col-8"},Object(h.h)("div",{class:"custom-control custom-switch"},Object(h.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:function(){return t.toggleSetting("partnerEmails")},checked:r.partnerEmails}),Object(h.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(h.h)("small",{class:"text-muted"},Object(h.h)(d.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post")))),Object(h.h)("div",{class:"row mt-4"},Object(h.h)("div",{class:"col-12 text-muted"},Object(h.h)("small",null,Object(h.h)("a",{href:"/users"},Object(h.h)("i",{class:"fas fa-sliders-h"})," ",Object(h.h)(d.c,{id:"users.settings-text-info"},"Innstillingene finner du inne på profilen din."))))),Object(h.h)("div",{class:"row mt-4"},Object(h.h)("div",{class:"col-12 text-muted text-right"},Object(h.h)("small",null,Object(h.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(h.h)("i",{class:"fas fa-eye-slash"})," ",Object(h.h)(d.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))},e}(h.Component))||c),y=r("CE5K"),k=(r("ox/y"),r("Y3FI"),{menu:{profile:!1,main:!1},searchText:""}),w=Object(b.a)(a=function(t){function e(e){var r;return(r=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},k),r}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype.render=function(){var t=this.props.stores.userStore.notifications,e=(void 0===t?[]:t).filter((function(t){return!t.read})).length||0;return e<3?"":Object(h.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 clearfix px-0"},Object(h.h)("div",{class:"alert alert-danger",role:"alert"},Object(h.h)("a",{href:"/users/notifications",class:"text-dark"},Object(h.h)("i",{class:"fas fa-bell mr-2 text-dark"}),Object(h.h)("span",{class:"badge badge-pill badge-danger"},e)," ",Object(h.h)(d.c,{id:"notifications.unread"},"Uleste varslinger. Klikk her for å se alle..."))))},e}(h.Component))||a,S=r("0SNj"),P=r("ETxl"),x=r.n(P),E=Object(b.a)(l=function(t){function e(){return t.apply(this,arguments)||this}var r,o;return o=t,(r=e).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,e.prototype.render=function(){var t,e=this.props.stores,r=e.userStore,o=e.workoutPlanStore,s=e.teamStore,n=r.user.language,i=f.a.getMonths(void 0===n?"no":n),c=s.team,a=this.props.year,l=(new Date).getMonth()+1,u=m.a.getYear(),b=parseInt(a||(l<6?u-1:u),10),p=m.a.monthRange(b+"-06-01",b+1+"-05-31");return Object(h.h)("div",{class:"container-fluid mb-2"},Object(h.h)("div",{class:"row mt-2"},Object(h.h)("div",{class:"col-12"},Object(h.h)("h5",null,Object(h.h)(d.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(h.h)("div",{class:"row mt-2 border-bottom pb-2"},p&&p.map((function(e){if(e.year>u||e.year===u&&e.month>=l)return"";var s=o.sumWorkoutPlanMonth(e.year,e.month+1);if(!s)return"";t=s;var n=r.findWorkoutSummaryMonth(e.year,e.month+1)/s*100,c=n>100?100:m.a.format(n,0);return Object(h.h)("div",{class:"col-3 text-center"},Object(h.h)("div",{class:"px-auto w-100 clearfix"},Object(h.h)("div",{class:"progress "+x.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(h.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+c+"%; width: 40px;","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},m.a.format(n,0),"%"))),Object(h.h)("div",{class:"w-100 mt-1"},i[e.month]," ",e.year))})),!t&&Object(h.h)("div",{class:"col-12 text-center"},Object(h.h)("h3",null,Object(h.h)(d.c,{id:"workout.plan.no-workout-plan-found",fields:{name:c.name}},"Ingen treningsplaner funnet for team ",c.name,".")))))},e}(h.Component))||l,W=r("bUJL"),T=r("4imK"),A=r("pJjI"),D=f.a.marginTop(!0),I=f.a.marginBottom(),_=f.a.subMenuMarginTop(),L={isLoading:!1,submenu:"lastWorkouts"},M=Object(b.a)(u=function(t){function e(e){var r;return(r=t.call(this,e)||this).loadTeamInfo=function(){return new Promise((function(t,e){return Promise.resolve(r.loadWorkoutSummary()).then((function(){try{return Promise.resolve(r.loadWorkoutPlans()).then((function(){try{return t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},r.loadWorkoutPlans=function(t){return new Promise((function(e,o){function s(){return r.setState({isLoading:!1}),e()}var n,i,c,a,l,u,h,b,d;return void 0===t&&(t=r.props),r.setState({isLoading:!0}),n=t.year,i=(new Date).getMonth()+1,c=m.a.getYear(),a=parseInt(n||(i<6?c-1:c),10),b=void 0===(h=(l=t.stores).workoutStore.currentTeam)?l.userStore.team.id:h,(u=l.workoutPlanStore).updateItem("workoutPlans",[]),u.updateItem("workoutPlan",{}),u.resetGraphPlanWeekDistanceCurrent(),b?Promise.resolve(u.load({query:{team:b,seasonYear:a,seasonMonth:6}})).then(function(){try{if((d=u.workoutPlans[0]||{}).id)return Promise.resolve(u.load(d.id)).then(function(){try{return u.prepareWeekGraphs({year:n}),t.call(this)}catch(t){return o(t)}}.bind(this),o);function t(){return s.call(this)}return t.call(this)}catch(t){return o(t)}}.bind(this),o):s.call(this)}))},r.loadDogs=function(){return new Promise((function(t,e){var o;return r.setState({isLoading:!0}),o=r.props.stores.dogStore,Promise.resolve(o.load({query:{team:o.currentTeam},addData:["workoutSummary"]})).then((function(){try{return r.setState({isLoading:!1}),t()}catch(t){return e(t)}}),e)}))},r.chooseSubmenu=function(t){r.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},r.state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},L),r}var r,o;o=t,(r=e).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o;var s=e.prototype;return s.loadAll=function(){return new Promise(function(t,e){var r,o,s;return o=(r=this.props.stores).appState,s=r.userStore,this.setState({isLoading:!0}),Promise.resolve(o.getFingerprint()).then(function(){try{return Promise.resolve(s.getInfo()).then(function(){try{return Promise.resolve(s.getNotifications()).then(function(){try{return Promise.resolve(this.loadWorkoutSummary()).then(function(){try{return Promise.resolve(Promise.all([this.loadWorkoutPlans(),this.loadTeams(),this.loadStravaActivities(),this.loadGarminActivities()])).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},s.loadTeams=function(t){return new Promise(function(e,r){var o;return void 0===t&&(t=this.props),o=t.stores,Promise.resolve(o.teamStore.load({query:{team:o.workoutStore.currentTeam},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return r(t)}}),r)}.bind(this))},s.loadFeed=function(){return new Promise(function(t,e){return Promise.resolve(this.props.stores.userStore.getFeed({})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},s.loadWorkoutSummary=function(){return new Promise(function(t,e){var r;return r=this.props.stores,Promise.resolve(r.userStore.getWorkoutSummary({team:r.workoutStore.currentTeam})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},s.loadStravaActivities=function(){return new Promise(function(t){return this.props.stores.stravaActivityStore.load({query:{hideImported:1}}),t()}.bind(this))},s.loadGarminActivities=function(){return new Promise(function(t){return this.props.stores.garminActivityDetailsStore.load({query:{hideImported:1}}),t()}.bind(this))},s.componentDidMount=function(){this.loadAll()},s.render=function(){var t=this,e=this.state,r=e.isLoading,o=e.submenu,s=this.props.stores,n=s.userStore,i=s.workoutPlanStore,c=s.teamStore,a=s.stravaActivityStore,l=s.garminActivityDetailsStore,u=i.workoutPlan,m=i.workoutPlans,b=s.appState.darkmode,p=n.workouts,f=n.workoutSummary,k=n.isAdmin,P=n.teams.length,x=s.dogStore.dogs.length,L=n.tracks.length,M=s.workoutStore.currentTeam,C=(M?c.findWorkoutSummary(M,2019):c.findWorkoutSummaryTotal(2019))||{},F=(M?c.findWorkoutSummary(M,2020):c.findWorkoutSummaryTotal(2020))||{},q=n.user,J=a.stravaActivities,Y=l.garminActivityDetails;return Object(h.h)("div",{class:"container-fluid",style:"margin-bottom: "+I+"; margin-top: "+D+";"},Object(h.h)("div",{class:"row mb-4 fixed-top",style:"margin-top: "+_+"; background-color: "+(b?"#191d21":"#f8f9fa")+";"},k&&Object(h.h)("div",{class:"col text-center subtopmenu"},Object(h.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(h.h)("nobr",null,Object(h.h)("i",{class:"fas fa-user-shield"})," ",Object(h.h)(d.c,{id:"home.admin"},"Admin")))),Object(h.h)("div",{class:"col text-center subtopmenu border-bottom border-primary"},Object(h.h)("a",{href:"/",class:"text-primary stretched-link"},Object(h.h)("nobr",null,Object(h.h)("i",{class:"fas fa-chart-line"})," ",Object(h.h)(d.c,{id:"home.dashboard"},"Dashboard")))),Object(h.h)("div",{class:"col text-center subtopmenu"},Object(h.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(h.h)("nobr",null,Object(h.h)("i",{class:"fas fa-rss"})," ",Object(h.h)(d.c,{id:"home.feed"},"Feed")))),Object(h.h)("div",{class:"col text-center subtopmenu"},Object(h.h)("a",{href:"/todo",class:"text-secondary stretched-link"},Object(h.h)("nobr",null,Object(h.h)("i",{class:"fas fa-list"})," ",Object(h.h)(d.c,{id:"home.todo"},"Todo"))))),!r&&Object(h.h)(v,{stores:this.props.stores}),Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(h.h)(A.a,{stores:this.props.stores,callback:this.loadTeamInfo,key:"teams-"+M})),Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!r&&f&&0===f.length&&Object(h.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(h.h)("div",{class:"text-center"},Object(h.h)("div",{class:"display-4"},Object(h.h)("i",{class:"fas fa-paw"})),Object(h.h)("h5",null,Object(h.h)(d.c,{id:"home.welcome-title"},"Velkommen til The Musher.")),Object(h.h)("p",null,Object(h.h)(d.c,{id:"home.welcome-body-1"},"The Musher er en app som er kontinuerlig under utvikling. Alle ideer/innspill/kommentarer mottas med stor takk på Facebooksiden vår 😃")),Object(h.h)("p",null,Object(h.h)(d.c,{id:"home.welcome-body-2"},"Fokus til appen er enkel registrering av hunder, team, treninger og hendelser rundt hundene. Når man har mange hunder så er det ofte vanskelig å holde styr på løpetid, vaksiner, treninger, skader, vetrinærbesøk, chiplister, osv.")),Object(h.h)("p",null,Object(h.h)(d.c,{id:"home.welcome-body-3"},"Alle data lagres sentralt i skyen hos AWS (Amazon Web Services) og det vil derfor være mulig å bruke appen fra flere telefoner og datamaskiner samtidig. Dette kan være fint dersom det er flere som trener og følger opp hundene."))),Object(h.h)("h5",null,Object(h.h)(d.c,{id:"home.howto-title"},"Slik kommer du i gang:")),Object(h.h)("ol",null,P<1&&Object(h.h)("li",null,Object(h.h)("a",{class:"btn btn-info mt-3",href:"/teams/"},Object(h.h)(d.c,{id:"home.howto-step-1"},"Legg inn teamene dine."))),x<1&&Object(h.h)("li",null,Object(h.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(h.h)(d.c,{id:"home.howto-step-2"},"Legg inn hundene dine."))),L<1&&Object(h.h)("li",null,Object(h.h)("a",{class:"btn btn-info mt-3",href:"/tracks/"},Object(h.h)(d.c,{id:"home.howto-step-3"},"Legg inn rundene dine."))),Object(h.h)("li",null,Object(h.h)("a",{class:"btn btn-info mt-3",href:"/workouts/"},Object(h.h)(d.c,{id:"home.howto-step-4"},"Begynn å registrere treningene."))))),Object(h.h)(g.a,{stores:this.props.stores,isLoading:r,key:"graph-"+u.id+"-"+m.length}))),Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col px-1 pt-2"},Object(h.h)("button",{class:"btn btn-block "+("lastWorkouts"===o?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"lastWorkouts",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-running"})," ",Object(h.h)(d.c,{id:"home.workouts"},"Treninger"))),Object(h.h)("div",{class:"col px-1 pt-2"},Object(h.h)("button",{class:"btn btn-block "+("totals"===o?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-equals"})," ",Object(h.h)(d.c,{id:"home.totals"},"Totaler"))),Object(h.h)("div",{class:"col px-1 pt-2"},Object(h.h)("button",{class:"btn btn-block "+("workoutplanStatus"===o?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplanStatus",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-chart-line"})," ",Object(h.h)(d.c,{id:"home.status"},"Status"))))),"totals"===o&&Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)(S.a,{stores:this.props.stores,key:"totals-"+F.distancekm,currentSeason:F,prevSeason:C})),"workoutplanStatus"===o&&Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)(E,{stores:this.props.stores,key:"status-"+F.distancekm,currentSeason:F,prevSeason:C}))),Object(h.h)(y.a,null),Object(h.h)(j.a,{stores:this.props.stores}),Object(h.h)(w,{stores:this.props.stores}),"lastWorkouts"===o&&Object(h.h)("div",{class:"row"},q&&q.strava&&J&&J.length>0&&Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2"},Object(h.h)("h5",null,Object(h.h)(d.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")),J&&J.map((function(e){return Object(h.h)(W.a,{stores:t.props.stores,activity:e,key:"strava-"+M+"-"+e.id})}))),q&&q.garmin&&Y&&Y.length>0&&Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2"},Object(h.h)("h5",null,Object(h.h)(d.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")),Y&&Y.map((function(e){return Object(h.h)(T.a,{stores:t.props.stores,activity:e,key:"garmin-"+M+"-"+e.id})}))),p&&p.length>0&&Object(h.h)("div",{class:"col-12 mb-4"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(h.h)("h5",null,Object(h.h)(d.c,{id:"home.last-workouts",fields:{total:p.length}},"Siste treningsturer - ",p.length," stk"))),p&&p.map((function(e){return Object(h.h)(O.a,{stores:t.props.stores,workout:e})})))))},e}(h.Component))||u;e.default=M}}]);
//# sourceMappingURL=route-home.chunk.62f50.js.map