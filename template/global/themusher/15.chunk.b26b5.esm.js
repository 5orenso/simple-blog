(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"/DnB":function(e,t,s){"use strict";function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,l=s("hosL"),r=(s("Utv1"),s("/eY4"));const c={};let n=Object(r.a)(i=class extends l.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c),this.container=null}componentDidMount(){const{horizontal:e,vertical:t=""}=this.props,s={behavior:"smooth"};e&&(s.inline=e),t&&(s.block=t),this.container.scrollIntoView(s)}render(){return Object(l.h)("div",{ref:e=>this.container=e}," ")}})||i;t.a=n},TiXY:function(e,t,s){"use strict";var o,a=s("hosL"),i=s("/eY4"),l=(s("cneo"),s("Utv1"),s("OhSV")),r=s("u2zT");let c=Object(i.a)(o=class extends a.Component{constructor(e){super(e),this.handleAddImage=e=>{const{updateField:t,object:s,field:o}=this.props;t({id:s.id,field:o,value:e})},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:o=!1}=this.props;return Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)(l.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(a.h)("br",null),Object(a.h)(r.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload",uploadStatus:e,before:t,after:s,autoOpen:o},Object(a.h)("div",{style:{height:30,width:"100%"}}))))}})||o;t.a=c},f4kV:function(e,t,s){"use strict";s.r(t),function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var l,r,c,n,d,u,p,h,b,m,f=s("hosL"),O=s("Utv1"),j=s("/eY4"),g=s("cneo"),v=s("go65"),w=s("Y3FI"),k=s("OhSV"),y=s("ZOvn"),x=s("X9Km"),I=s("om2D"),F=s("3on9"),T=s("HqZR"),D=s("TiXY"),V=s("/DnB");const $=y.a.marginTop(!1),S=y.a.marginTopBack(!1),N=y.a.marginBottom(),H={newWorkout:{}};let K=Object(j.a)(l=class extends f.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{workoutStore:o}=this.props.stores;o.updateObjectKeyValue("newWorkout",t,s),o.updateObjectKeyValue("newWorkout","updated-"+t,(new Date).getTime())},this.updateDuration=(e,t)=>{const{field:s}=this.props,{workoutStore:o}=this.props.stores;o.updateObjectKeyValue("newWorkout",e,t);const{newWorkout:a}=o;if(O.a.isUndefined(a[s+"-hours"])){o.updateObjectKeyValue("newWorkout",s+"-hours",0)}if(O.a.isUndefined(a[s+"-minutes"])){o.updateObjectKeyValue("newWorkout",s+"-minutes",0)}o.updateObjectKeyValue("newWorkout",s,3600*(a[s+"-hours"]||0)+60*(a[s+"-minutes"]||0)),o.updateObjectKeyValue("newWorkout","updated-"+s,(new Date).getTime())},this.onInputDuration=e=>{const t=parseInt(e.target.value,10);this.updateDuration(e.target.name,t)},this.decDuration=e=>{const{name:t}=e.target.closest("button").dataset,{workoutStore:s}=this.props.stores,{newWorkout:o}=s,a=(o[t]||0)-1;this.updateDuration(t,a<0?0:a)},this.incDuration=e=>{const{name:t}=e.target.closest("button").dataset,{workoutStore:s}=this.props.stores,{newWorkout:o}=s,a=(o[t]||0)+1;this.updateDuration(t,a<0?0:a)},this.setDateToNow=()=>{const{field:e}=this.props,t=O.a.isoDate(void 0,!1,!1,!0),{workoutStore:s}=this.props.stores;s.updateObjectKeyValue("newWorkout",e,t)},this.setTimeToNow=()=>{const{field:e}=this.props,t=O.a.isoTime(),{workoutStore:s}=this.props.stores;s.updateObjectKeyValue("newWorkout",e,t)},this.setRightValue=()=>{const{field:e,rightValueReal:t}=this.props,{workoutStore:s}=this.props.stores;s.updateObjectKeyValue("newWorkout",e,t)}}render(){const{type:t,datalist:s=[],min:o,max:a,step:i,field:l,title:r,icon:c,help:n,placeholder:d,rightValue:u}=this.props,{workoutStore:p}=this.props.stores,{newWorkout:h}=p;let b,m=a;if("date"===t&&"today"===a&&(m=O.a.isoDate(void 0,!1,!1,!0)),"duration"!==l&&"rest"!==l||(b=O.a.secToHms(h[l],!0)),"weather"===l&&O.a.checkNested(h,"yr","0","instant","details")){const e=Object(g.i)(h.yr[0].instant.details);O.a.isoDate(h.yr[0].date,!1,!1,!0)===O.a.isoDate(h.date,!1,!1,!0)&&(b=`Yr.no: 🌡️ ${e.air_temperature}°C, 💨 ${e.wind_speed}m/s 🧭 ${y.a.windDirection(e.wind_from_direction)}, ☁️ ${e.cloud_area_fraction}%, ${e.air_pressure_at_sea_level}mb, 💦 ${e.relative_humidity}%`)}if("temperature"===l&&O.a.checkNested(h,"yr","0","instant","details")){const e=Object(g.i)(h.yr[0].instant.details);O.a.isoDate(h.yr[0].date,!1,!1,!0)===O.a.isoDate(h.date,!1,!1,!0)&&(b=`Yr.no: 🌡️ ${e.air_temperature}°C`)}if("datalist"===t)return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("label",{for:l+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",r),Object(f.h)("input",{list:"list-"+l,class:"form-control",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInput,value:h[l]}),Object(f.h)("datalist",{id:"list-"+l},s.map(e=>Object(f.h)("option",{value:e[0]},e[1]))),Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},n));if("duration"===t){const e=Math.floor(h[l]/3600),t=Math.floor(h[l]%3600/60);return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",null,b)),Object(f.h)("label",{for:l+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",r),Object(f.h)("div",{class:"form-row"},Object(f.h)("div",{class:"input-group col-5 offset-1 col-xl-3 offset-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":l+"-hours",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-hours",value:e,type:"number",min:"0",max:"24"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":l+"-hours",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"})))),Object(f.h)("div",{class:"input-group col-5 col-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":l+"-minutes",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-minutes",value:t,type:"number",min:"0",max:"59"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":l+"-minutes",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"}))))),Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},n))}return"toggle"===t?Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("label",{for:l+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",r),Object(f.h)("div",{class:"custom-control custom-switch"},Object(f.h)("input",{type:"checkbox",class:"custom-control-input",id:l+"Input",value:1===h[l]?0:1,"data-field":l,onInput:this.onInput,checked:1==h[l]?"checked":""}),Object(f.h)("label",{class:"custom-control-label",for:l+"Input"})),Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},n)):"textarea"===t?Object(f.h)(e,null,Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("label",{for:l+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",r),Object(f.h)("textarea",{class:"form-control "+("number"===t||"date"===t||"time"===t?"text-center":""),id:l+"Input","aria-describedby":l+"Help",min:o,max:m,step:i,rows:5,onInput:this.onInput,value:h[l],placeholder:d,onKeyUp:y.a.resizeTextarea,onFocus:y.a.resizeTextarea}),Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},n))):Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},"date"===t&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(f.h)("i",{class:"far fa-check-circle"})),"time"===t&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"Nå ",Object(f.h)("i",{class:"far fa-check-circle"})),u&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},u),Object(f.h)("label",{for:l+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",r),b&&Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",null,b)),Object(f.h)("input",{type:t,class:"form-control "+("number"===t||"date"===t||"time"===t?"text-center":""),id:l+"Input","aria-describedby":l+"Help",min:o,max:m,step:i,onInput:this.onInput,value:h[l],placeholder:d}),Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},n))}})||l,W=Object(j.a)(r=class extends f.Component{constructor(...e){var t;super(...e),t=this,this.updateDuration=(e,t)=>{const{field:s,updateField:o,workout:a}=this.props,i=O.a.secToHms(a[s]).split(":");let l=parseInt(i[0]||0,10);isNaN(l)&&(l=0);let r=parseInt(i[1]||0,10);isNaN(r)&&(r=0);let c=parseInt(i[2]||0,10);isNaN(c)&&(c=0),e.match(/-hours/)&&(l=isNaN(t)?0:t),e.match(/-minutes/)&&(r=isNaN(t)?0:t),e.match(/-seconds/)&&(c=isNaN(t)?0:t);o({id:a.id,field:s,value:3600*l+60*r+c})},this.onInputDuration=e=>{const t=parseInt(e.target.value,10);this.updateDuration(e.target.name,t)},this.decDuration=e=>{const{name:t}=e.target.closest("button").dataset,{field:s,workout:o}=this.props,a=O.a.secToHms(o[s]).split(":");let i=parseInt(a[0]||0,10);isNaN(i)&&(i=0);let l=parseInt(a[1]||0,10);isNaN(l)&&(l=0);let r=parseInt(a[2]||0,10);if(isNaN(r)&&(r=0),t.match(/-hours/)){this.updateDuration(t,i-1<0?0:i-1)}if(t.match(/-minutes/)){this.updateDuration(t,l-1<0?0:l-1)}if(t.match(/-seconds/)){this.updateDuration(t,r-1<0?0:r-1)}},this.incDuration=e=>{const{name:t}=e.target.closest("button").dataset,{field:s,workout:o}=this.props,a=O.a.secToHms(o[s]).split(":");let i=parseInt(a[0]||0,10);isNaN(i)&&(i=0);let l=parseInt(a[1]||0,10);isNaN(l)&&(l=0);let r=parseInt(a[2]||0,10);if(isNaN(r)&&(r=0),t.match(/-hours/)){this.updateDuration(t,i+1<0?0:i+1)}if(t.match(/-minutes/)){this.updateDuration(t,l+1<0?0:l+1)}if(t.match(/-seconds/)){this.updateDuration(t,r+1<0?0:r+1)}},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{workoutStore:s}=t.props.stores,{workout:o}=t.props;s.removeImage({id:o.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{workout:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})},this.setDateToNow=()=>{const{field:e,updateField:t,workout:s}=this.props,o=O.a.isoDate(void 0,!1,!1,!0);t({id:s.id,field:e,value:o})},this.setTimeToNow=()=>{const{field:e,updateField:t,workout:s}=this.props,o=O.a.isoTime();t({id:s.id,field:e,value:o})},this.setValue=e=>{const t=e.target.parentElement.dataset.value||e.target.dataset.value;if(t){const{field:e,updateField:s,workout:o}=this.props;s({id:o.id,field:e,value:t})}},this.setRightValue=()=>{const{field:e,updateField:t,workout:s,rightValueReal:o}=this.props;t({id:s.id,field:e,value:o})}}render(){const{saved:t,workout:s,type:o,datalist:a=[],min:i,max:l,step:r,elementtype:c,field:n,title:d,icon:u,help:p,onInput:h,updateField:b,rightValue:m}=this.props;let j,v,w=Object(g.i)(s[n]),x=l;if("date"===o&&(w&&(w=O.a.isoDate(s[n],!1,!1,!0)),"today"===l&&(x=O.a.isoDate(void 0,!1,!1,!0))),"duration"!==n&&"rest"!==n||(j=O.a.secToHms(w,!0)),"weather"===n&&O.a.checkNested(s,"yr","0","instant","details")){const e=Object(g.i)(s.yr[0].instant.details);O.a.isoDate(s.yr[0].date,!1,!1,!0)===O.a.isoDate(s.date,!1,!1,!0)&&(j=`Yr.no: 🌡️ ${e.air_temperature}°C, 💨 ${e.wind_speed}m/s 🧭 ${y.a.windDirection(e.wind_from_direction)}, ☁️ ${e.cloud_area_fraction}%, ${e.air_pressure_at_sea_level}mb, 💦 ${e.relative_humidity}%`,v=j)}if("temperature"===n&&O.a.checkNested(s,"yr","0","instant","details")){const e=Object(g.i)(s.yr[0].instant.details);O.a.isoDate(s.yr[0].date,!1,!1,!0)===O.a.isoDate(s.date,!1,!1,!0)&&(j=`Yr.no: 🌡️ ${e.air_temperature}°C`,v=O.a.asNumber(e.air_temperature))}if("file"===o)return Object(f.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),Object(f.h)(D.a,{saved:t,object:s,field:n,updateField:b}),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p));if("image"===o)return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),Object(f.h)("div",{class:"container-fluid"},Object(f.h)("div",{class:"row"},s.images&&s.images.map(e=>Object(f.h)("div",{class:"col-3 p-1"},Object(f.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(f.h)("i",{class:"fas fa-trash"})," Remove"))))),Object(f.h)(I.a,{saved:t,object:s,field:n,updateField:b,autoOpen:!1}),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p));if("datalist"===o)return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),Object(f.h)("input",{list:"list-"+n,class:"form-control "+(t[`${n}.${s.id}`]?"is-valid":""),id:n+"Input","aria-describedby":n+"Help",value:w,"data-id":s.id,"data-field":n,onInput:h}),Object(f.h)("datalist",{id:"list-"+n},a.map(e=>Object(f.h)("option",{value:e[0]},e[1]))),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p));if("duration"===o){const e=Math.floor(s[n]/3600),o=Math.floor(s[n]%3600/60);Math.floor(s[n]%3600%60);return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",{onClick:this.setValue,"data-value":v},j)),Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),Object(f.h)("div",{class:"form-row"},Object(f.h)("div",{class:"input-group col-5 offset-1 col-xl-3 offset-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-hours",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:n+"Input","aria-describedby":n+"Help",onInput:this.onInputDuration,name:n+"-hours",value:e,type:"number",min:"0",max:"24"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-hours",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"})))),Object(f.h)("div",{class:"input-group col-5 col-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-minutes",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:n+"Input","aria-describedby":n+"Help",onInput:this.onInputDuration,name:n+"-minutes",value:o,type:"number",min:"0",max:"59"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-minutes",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"}))))),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p))}return"toggle"===o?Object(f.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),Object(f.h)("div",{class:"custom-control custom-switch"},Object(f.h)("input",{type:"checkbox",class:"custom-control-input",id:n+"Input",value:1===w?0:1,"data-id":s.id,"data-field":n,onInput:h,checked:1==w?"checked":""}),Object(f.h)("label",{class:"custom-control-label",for:n+"Input"})),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p)):"textarea"===o?Object(f.h)(e,null,Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),Object(f.h)("textarea",{class:`form-control ${"number"===o||"date"===o||"time"===o?"text-center":""} ${t[`${n}.${s.id}`]?"is-valid":""}`,id:n+"Input","aria-describedby":n+"Help",min:i,max:x,step:r,rows:5,value:w,"data-id":s.id,"data-field":n,"data-type":o,"data-elementtype":c,onInput:h,onKeyUp:y.a.resizeTextarea,onFocus:y.a.resizeTextarea}),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p))):Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${n}.${s.id}`]?"is-valid":"")},"date"===o&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(f.h)("i",{class:"far fa-check-circle"})),"time"===o&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"Nå ",Object(f.h)("i",{class:"far fa-check-circle"})),m&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},m),Object(f.h)("label",{for:n+"Input"},u&&Object(f.h)("i",{class:u+" text-muted"})," ",d),j&&Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",{onClick:this.setValue,"data-value":v},j)),Object(f.h)("input",{type:o,class:`form-control ${"number"===o||"date"===o||"time"===o?"text-center":""} ${t[`${n}.${s.id}`]?"is-valid":""}`,id:n+"Input","aria-describedby":n+"Help",min:i,max:x,step:r,value:w,"data-id":s.id,"data-field":n,"data-type":o,"data-elementtype":c,onInput:h}),t[`${n}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},p))}})||r,C=Object(j.a)(c=class extends f.Component{toggleMusher(e){const{workout:t,type:s,elementtype:o,field:a,updateField:i,isNew:l}=this.props,r=Object(g.i)(t[a])||[],c=r.indexOf(e);c>-1?r.splice(c,1):r.push(e),i({id:t.id,field:a,value:r,type:s,elementtype:o,isNew:l})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t}=this.props.stores,{mushers:s}=t,{saved:o,workout:a,field:i,title:l,icon:r,help:c}=this.props,n=Object(g.i)(a[i])||[];return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(o[`${i}.${a.id}`]?"is-valid":"")},Object(f.h)("label",{for:i+"Input"},r&&Object(f.h)("i",{class:r+" text-muted"})," ",l),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-column pb-2 px-1"},s&&s.map(t=>Object(f.h)("div",{class:"col mb-2 px-1",ref:n.indexOf(t.id)>-1?e=>this.container=e:null},Object(f.h)("button",{class:`btn btn-block \n                                                rounded-lg\n                                                btn${n.indexOf(t.id)>-1?"":"-outline"}-success\n                                                text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleMusher(t.id)},Object(f.h)("i",{class:"fas fa-user mr-2"}),t.firstname?Object(f.h)(e,null,t.firstname," ",t.lastname):Object(f.h)(e,null,t.email)))))))),o[`${i}.${a.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:i+"Help",class:"form-text text-muted"},c))}})||c,_=Object(j.a)(n=class extends f.Component{toggleTeam(e){const{dogStore:t,workoutStore:s}=this.props.stores,{workout:o,type:a,field:i,updateField:l,isNew:r,selectTeam:c}=this.props;let n=Object(g.i)(o[i]);n=n===e?null:e,null===n?l({id:o.id,field:i,value:n,type:a,isNew:r}):o.teams&&o.teams.indexOf(n)>-1?s.removeTeam({id:o.id,team:n}):o.team?s.addTeam({id:o.id,team:n}):(t.setCurrentTeam(n),s.setCurrentTeam(n),l({id:o.id,field:i,value:n,type:a,isNew:r}),O.a.isDefined(c)&&c(e))}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t}=this.props.stores,{teams:s}=t,{saved:o,workout:a,field:i,title:l,icon:r,help:c}=this.props,n=Object(g.i)(a[i])||[],{highlight:d}=this.props;return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(o[`${i}.${a.id}`]?"is-valid":"")},Object(f.h)("label",{for:i+"Input"},r&&Object(f.h)("i",{class:r+" text-muted"})," ",l),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},s&&s.map((t,o)=>{const i=n===t.id,l=a&&O.a.isArray(a.teams)&&a.teams.indexOf(t.id)>-1;return Object(f.h)("div",{class:"col mb-0 px-0",ref:i||l?e=>this.container=e:null},Object(f.h)("button",{class:`btn btn-block \n            \t\t\t\t\t\t\t\t\t\trounded-none ${0===o?"rounded-pill-left":o+1===s.length?"rounded-pill-right":""}\n                                                    btn${i||l?"":"-outline"}-${l?"info":"success"}\n                                                    text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleTeam(t.id)},a.hintTeam===t.id&&Object(f.h)("span",{class:"float-right text-primary"},Object(f.h)("i",{class:"fas fa-circle"})),Object(f.h)("i",{class:"fas fa-users mr-2"}),t.name,d&&d.indexOf(t.id)>-1&&Object(f.h)(e,null,n===t.id?Object(f.h)(e,null,Object(f.h)("i",{class:"fas fa-check float-right"})):Object(f.h)(e,null,Object(f.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(f.h)("span",{class:"sr-only"},"Loading...")),Object(f.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))),Object(f.h)("small",null,i&&Object(f.h)("span",{class:"badge badge-pill badge-primary"},"Primary"),l&&Object(f.h)("span",{class:"badge badge-pill badge-secondary"},"Secondary"))))}))))),o[`${i}.${a.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:i+"Help",class:"form-text text-muted"},c))}})||n,E=Object(j.a)(d=class extends f.Component{constructor(...e){super(...e),this.toggleFilter=()=>{const{showAll:e}=this.state;this.setState({showAll:e?0:1})},this.toggleSearchField=()=>{const{showSearchField:e}=this.state;this.setState({showSearchField:e?null:1})}}toggleTrack(e,t){const{showAll:s}=this.state,{workout:o={},type:a,field:i,updateField:l,isNew:r}=this.props,{userStore:c}=this.props.stores,{types:n,user:d}=c,{language:u}=d,p=y.a.getDays(u);let h=Object(g.i)(o[i]);h=h===e?null:e;if(l({id:o.id,field:i,value:h,type:a,isNew:r,skipTimer:!0}),o.distanceKm||l({id:o.id,field:"distanceKm",value:t.distanceKm,type:"number",isNew:r,skipTimer:!0}),o.elevation||l({id:o.id,field:"elevation",value:t.elevation,type:"number",isNew:r,skipTimer:!0}),!o.name){const e=p[(o.date?new Date(o.date):new Date).getDay()],s=n.find(e=>e.id===o.type);l({id:o.id,field:"name",value:`${t.name}: ${e}${s?" "+s.name:"stur"}`,type:"string",isNew:r,skipTimer:!0})}this.setState({filterText:""}),s&&this.toggleFilter()}render(){const{showAll:e,filterText:t,showSearchField:s}=this.state,{userStore:o}=this.props.stores,{tracks:a}=o,{saved:i,workout:l,field:r,title:c,icon:n,help:d,filter:u=(()=>!0)}=this.props,p=Object(g.i)(l[r]);let h=e?()=>!0:u;t&&(h=e=>e.name.match(new RegExp(t,"i"))||l.track===e.id);const b=a.filter(h);return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(i[`${r}.${l.id}`]?"is-valid":"")},Object(f.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(f.h)("i",{class:"fas fa-search"})),Object(f.h)("label",{for:r+"Input"},n&&Object(f.h)("i",{class:n+" text-muted"})," ",c),Object(f.h)("div",{class:"container-fluid px-0"},s&&Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"col-12"},Object(f.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:"Søk etter runder",value:t,onInput:Object(v.a)(this,"filterText")}))),Object(f.h)("div",{class:"row"},b&&b.map(e=>Object(f.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-2"},Object(f.h)("div",{class:"border position-relative rounded p-2 pt-3 pb-1 "+(p===e.id?"bg-success":""),onClick:()=>this.toggleTrack(e.id,e),style:"line-height: 0.9em; cursor: pointer; pointer-events: inherit;"},Object(f.h)("small",{class:"float-right position-absolute",style:"top: 0; right: 5px;"},Object(f.h)("small",null,Object(f.h)("i",{class:"fas fa-road"})," ",O.a.format(e.distanceKm,1)," km",Object(f.h)("i",{class:"fas fa-mountain ml-2"})," ",O.a.format(e.elevation,0)," m")),Object(f.h)("div",{style:"overflow: hidden;"},l.hintTrack===e.id&&Object(f.h)("span",{class:"float-right text-primary"},Object(f.h)("i",{class:"fas fa-circle"})),Object(f.h)("small",null,Object(f.h)("i",{class:"fas fa-map-marked mr-2"}),e.name)))))),Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"col-12 text-right"},e?Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.toggleFilter},Object(f.h)(k.c,{id:"workouts.show-last-used-tracks"},"Vis kun de sist brukte rundene")):Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.toggleFilter},Object(f.h)(k.c,{id:"workouts.show-all-tracks"},"Vis alle rundene"))))),i[`${r}.${l.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:r+"Help",class:"form-text text-muted"},d))}})||d,A=Object(j.a)(u=class extends f.Component{constructor(...e){super(...e),this.updateTextField=e=>{const{type:t,updateField:s,isNew:o}=this.props,{id:a,field:i}=e.target.dataset,l=e.target.value;s({id:parseInt(a,10),field:i,value:l,type:t,isNew:o})}}toggleType(e){const{workout:t,type:s,field:o,updateField:a,isNew:i}=this.props;let l=Object(g.i)(t[o]);l=l===e?null:e,a({id:t.id,field:o,value:l,type:s,isNew:i})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t,raceStore:s}=this.props.stores,{types:o,user:a}=t,{language:i}=a,{saved:l,workout:r,field:c,title:n,icon:d,help:u,isNew:p}=this.props,h=Object(g.i)(r[c]),b=s.getSignupByUserEmail(a.email).length>0;return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(l[`${c}.${r.id}`]?"is-valid":"")},Object(f.h)("label",{for:c+"Input"},d&&Object(f.h)("i",{class:d+" text-muted"})," ",n),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},o&&o.map((t,s)=>Object(f.h)("div",{class:"col mb-0 px-0",ref:h===t.id?e=>this.container=e:null},Object(f.h)("button",{class:`btn btn-block \n        \t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===o.length?"rounded-pill-right":""}                                    \n                                                btn${h===t.id?"":"-outline"}-success\n                                                text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleType(t.id)},t.icon&&Object(f.h)("i",{class:t.icon})," ",i&&t.lang&&t.lang[i]?t.lang[i]:t.name,b&&2===t.id&&Object(f.h)(e,null,h===t.id?Object(f.h)(e,null,Object(f.h)("i",{class:"fas fa-check float-right"})):Object(f.h)(e,null,Object(f.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(f.h)("span",{class:"sr-only"},"Loading...")),Object(f.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))))))))),4===h&&Object(f.h)("div",{class:"row"},p?Object(f.h)("div",{class:"col-12"},Object(f.h)(K,{stores:this.props.stores,field:"typeTitle",title:Object(f.h)(k.c,{id:"workouts.other"},"Annet"),help:Object(f.h)(k.c,{id:"workouts.other-help"},"Hva slags type tur/aktivitet var dette?")})):Object(f.h)("div",{class:"col-12"},Object(f.h)(W,{saved:l,workout:r,field:"typeTitle",title:Object(f.h)(k.c,{id:"workouts.other"},"Annet"),help:Object(f.h)(k.c,{id:"workouts.other-help"},"Hva slags type tur/aktivitet var dette?"),onInput:this.updateTextField})))),l[`${c}.${r.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u))}})||u,M=Object(j.a)(p=class extends f.Component{toggleType(e){const{workout:t,type:s,field:o,updateField:a,isNew:i}=this.props;let l=Object(g.i)(t[o]);l=l===e?null:e,a({id:t.id,field:o,value:l,type:s,isNew:i})}render(){const{userStore:t}=this.props.stores,{intensities:s}=t,{saved:o,workout:a,field:i,title:l,icon:r,help:c}=this.props,n=Object(g.i)(a[i]);return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(o[`${i}.${a.id}`]?"is-valid":"")},Object(f.h)("label",{for:i+"Input"},r&&Object(f.h)("i",{class:r+" text-muted"})," ",l),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},s&&s.map(t=>Object(f.h)("div",{class:"col-12 mb-2"},Object(f.h)("button",{class:`btn btn-block btn${n===t.id?"":"-outline"}-${t.class||"success"} text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleType(t.id)},a.hintIntensity===t.id&&Object(f.h)("span",{class:"float-right text-primary"},Object(f.h)("i",{class:"fas fa-circle"})),Object(f.h)("span",{style:"font-size: 1.5em;"},t.icon||""," ",t.name),t.help&&Object(f.h)(e,null,Object(f.h)("br",null),Object(f.h)("small",null,t.help))))))),o[`${i}.${a.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:i+"Help",class:"form-text text-muted"},c))}})||p,P=Object(j.a)(h=class extends f.Component{toggleEquipment(e){const{workout:t,type:s,field:o,updateField:a,isNew:i}=this.props;let l=Object(g.i)(t[o]);l=l===e?null:e,a({id:t.id,field:o,value:l,type:s,isNew:i})}render(){const{userStore:e}=this.props.stores,{equipments:t,user:s}=e,{language:o}=s,{saved:a,workout:i,field:l,title:r,icon:c,help:n}=this.props,d=Object(g.i)(i[l]);return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(a[`${l}.${i.id}`]?"is-valid":"")},Object(f.h)("label",{for:l+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",r),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-column",style:"overflow: auto; scroll-snap-type: x mandatory;"},t&&t.map(e=>Object(f.h)("div",{class:"col px-1 mb-1"},Object(f.h)("button",{class:`btn btn-block btn${d===e.id?"":"-outline"}-success text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleEquipment(e.id)},e.icon&&Object(f.h)("i",{class:e.icon})," ",o&&e.lang&&e.lang[o]?e.lang[o]:e.name))))))),a[`${l}.${i.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(k.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},n))}})||h,q=Object(j.a)(b=class extends f.Component{render(){const{raceStore:e,userStore:t}=this.props.stores,{user:s}=t,o=e.getSignupByUserEmail(s.email);return o&&o.length>0?Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(f.h)("div",{class:"alert alert-warning"},Object(f.h)("h5",null,Object(f.h)(k.c,{id:"races.race-in-progress"},"Løp pågår")),Object(f.h)("ul",null,o.map(e=>Object(f.h)("li",null,e.race.title))),Object(f.h)("i",{class:"fas fa-exclamation-triangle"})," ",Object(f.h)(k.c,{id:"races.choose-correct-team-and-type"},"Velg riktig team og type for løpet."))):""}})||b,L=Object(j.a)(m=class extends f.Component{constructor(e){var t;super(e),t=this,this.loadAll=async function(){await t.loadDogs(),await t.loadWorkout();const{raceStore:e}=t.props.stores;e.loadRaceInProgress()},this.loadWorkout=async function(e){const{workoutStore:s,userStore:o,dogStore:a}=t.props.stores,{user:i}=o,{language:l}=i,r=y.a.getDays(l);let{workouts:c=[],newWorkout:n}=s;const{currentTeam:d}=s;if("new"===t.props.workout){t.setState({createNew:!0}),c=await s.load({query:{team:e||d},skipUpdate:1,limit:5,sort:"-createdDate"});let o=c[0];const l=d||i.team;if(o){n.team||s.updateObjectKeyValue("newWorkout","team",l),s.updateObjectKeyValue("newWorkout","dogs",o.dogs||[]),s.updateObjectKeyValue("newWorkout","dogsLeft",o.dogsLeft||[]),s.updateObjectKeyValue("newWorkout","dogsRight",o.dogsRight||[]),s.updateObjectKeyValue("newWorkout","mushers",o.mushers),s.updateObjectKeyValue("newWorkout","type",o.type),s.updateObjectKeyValue("newWorkout","equipment",o.equipment),s.updateObjectKeyValue("newWorkout","duration",o.duration),s.updateObjectKeyValue("newWorkout","duration-hours",Math.floor(o.duration/3600)),s.updateObjectKeyValue("newWorkout","duration-minutes",Math.floor(o.duration%3600/60)),s.updateObjectKeyValue("newWorkout","rest",o.rest||0),s.updateObjectKeyValue("newWorkout","rest-hours",Math.floor(o.rest/3600)||0),s.updateObjectKeyValue("newWorkout","rest-minutes",Math.floor(o.rest%3600/60)||0),s.updateObjectKeyValue("newWorkout","rating",o.rating||3),s.updateObjectKeyValue("newWorkout","sledWeight",o.sledWeight),n["updated-date"]||s.updateObjectKeyValue("newWorkout","date",O.a.isoDate(o.date,!1,!1,!0)),n["updated-time"]||s.updateObjectKeyValue("newWorkout","time",O.a.isoTime(o.date)),s.updateObjectKeyValue("newWorkout","hintTeam",o.team),s.updateObjectKeyValue("newWorkout","hintType",o.type),s.updateObjectKeyValue("newWorkout","hintTrack",o.track),s.updateObjectKeyValue("newWorkout","hintIntensity",o.intensity);const e=c.map(e=>e.track);t.setState({lastUsedTracks:e})}else{const t=r[(new Date).getDay()],o=await a.load({query:{team:e||d},skipUpdate:1});n.team||s.updateObjectKeyValue("newWorkout","team",l),s.updateObjectKeyValue("newWorkout","dogs",o.map(e=>e.id)||[]),s.updateObjectKeyValue("newWorkout","dogsLeft",[]),s.updateObjectKeyValue("newWorkout","dogsRight",[]),s.updateObjectKeyValue("newWorkout","mushers",[i.id]),s.updateObjectKeyValue("newWorkout","name",O.a.ucfirst(t+" - Tur med hundene")),s.updateObjectKeyValue("newWorkout","type",1),s.updateObjectKeyValue("newWorkout","equipment",2),s.updateObjectKeyValue("newWorkout","duration",3600),s.updateObjectKeyValue("newWorkout","rest",0),s.updateObjectKeyValue("newWorkout","rating",3),s.updateObjectKeyValue("newWorkout","date",O.a.isoDate(void 0,!1,!1,!0)),s.updateObjectKeyValue("newWorkout","time",O.a.isoTime())}s.updateObjectKeyValue("newWorkout","temperature",-1)}else s.load(t.props.workout)},this.loadDogs=async function(){t.setState({isLoading:!0});const{dogStore:e}=t.props.stores;await e.load({query:{deceased:0},addData:["workoutSummary"]}),t.setState({isLoading:!1})},this.insertWorkout=async function(){const{workoutStore:e,userStore:s}=t.props.stores,{newWorkout:o}=e,i=await e.insert(a({},o));422===i.status?x.a.publish(x.b.STATUS_MESSAGE,{message:"Mangler tittel på treningsøkten",type:"warning",icon:"fas fa-exclamation-triangle"}):i.status>=500?x.a.publish(x.b.STATUS_MESSAGE,{message:i.message||i.error,type:"danger",icon:"fas fa-exclamation-triangle"}):(t.resetDog(),s.getInfo(),Object(w.route)("/workouts/"+i.data.id))},this.updateField=e=>{const{id:t,field:s,type:o,elementtype:a,isNew:i}=e.target.dataset,{value:l,type:r,min:c,max:n}=e.target;"date"===r&&c&&n?l>=c&&l<=n&&this.updateFieldValue({id:parseInt(t,10),field:s,value:l,type:o,elementtype:a,isNew:i}):this.updateFieldValue({id:parseInt(t,10),field:s,value:l,type:o,elementtype:a,isNew:i})},this.updateFieldValue=async function({id:e,field:s,value:o,datatype:a,elementtype:i,isNew:l=!1,skipTimer:r=!1}){const{workoutStore:c}=t.props.stores;let n=o,d=o;const{workout:u}=c;if("images"===s&&Array.isArray(u.images)&&Array.isArray(o)&&(d=[...u.images,...o]),"array"!==a||Array.isArray(o)||(n="number"===i?o.split(",").map(e=>parseFloat(e)||e):o.split(",")),l?c.updateObjectKeyValue("newWorkout",s,o):(c.updateField(e,s,d),r?await t.doUpdateField(e,s,n):(clearTimeout(t.updateTimer[s]),t.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,n)}),500))),"gpx"===s&&u&&O.a.checkNested(u,"gpx","gpxInfo")){const{totalDistance:t,maxSpeed:s,avgSpeed:o,ascent:a,decent:i,duration:l,rest:r,startLatlng:n,endLatlng:d}=u.gpx.gpxInfo,p={};l&&(c.updateField(e,"duration",l),p.duration=l),r&&(c.updateField(e,"rest",r),p.rest=r),t&&(c.updateField(e,"distanceKm",O.a.roundTo(t,10)),p.distanceKm=O.a.roundTo(t,10)),s&&(c.updateField(e,"speedmax",O.a.roundTo(s,10)),p.speedmax=O.a.roundTo(s,10)),o&&(c.updateField(e,"speedAvg",O.a.roundTo(o,10)),p.speedAvg=O.a.roundTo(o,10)),a&&(c.updateField(e,"elevation",a),p.elevation=a),i&&(c.updateField(e,"decent",i),p.decent=i),n&&(c.updateField(e,"startLatlng",n),p.startLatlng=n),d&&(c.updateField(e,"endLatlng",d),p.endLatlng=d),await c.save(p,u.id)}},this.dogFilter=e=>{const{workoutStore:t}=this.props.stores,{workout:s}=t;return!(!s||!s.dogs)&&(e.team===s.team||s.dogs.indexOf(e.id)>-1)},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.getYrWeather=async function(){const{createNew:e}=t.state,{workoutStore:s,userStore:o}=t.props.stores,{workout:a={},newWorkout:i}=s,l=y.a.getFirstPoint(a),r=y.a.getMidPoint(a,.5),c=await o.getWeather({lat:l[0],lon:l[1],altitude:l[2]}),n=await o.getWeather({lat:r[0],lon:r[1],altitude:r[2]});if(e){if(t.updateFieldValue({id:i.id,field:"yr",value:c,isNew:!0,skipTimer:!1}),t.updateFieldValue({id:i.id,field:"yrMid",value:n,isNew:!0,skipTimer:!1}),O.a.checkNested(i,"yr","0","instant","details")&&!i.weather){let e="";const s=Object(g.i)(i.yr[0].instant.details);e=`Yr.no: 🌡️ ${s.air_temperature}°C, 💨 ${s.wind_speed}m/s 🧭 ${y.a.windDirection(s.wind_from_direction)}, ☁️ ${s.cloud_area_fraction}%, ${s.air_pressure_at_sea_level}mb, 💦 ${s.relative_humidity}%`,t.updateFieldValue({id:i.id,field:"weather",value:e,isNew:!0,skipTimer:!1}),i.temperature||t.updateFieldValue({id:i.id,field:"temperature",value:s.air_temperature,isNew:!0,skipTimer:!1})}}else if(t.updateFieldValue({id:a.id,field:"yr",value:c,isNew:!1,skipTimer:!1}),t.updateFieldValue({id:a.id,field:"yrMid",value:n,isNew:!1,skipTimer:!1}),O.a.checkNested(a,"yr","0","instant","details")){let e="";const s=Object(g.i)(a.yr[0].instant.details);O.a.isoDate(a.yr[0].date,!1,!1,!0)!==O.a.isoDate(a.date,!1,!1,!0)||a.weather&&""!==a.weather||(e=`Yr.no: 🌡️ ${s.air_temperature}°C, 💨 ${s.wind_speed}m/s 🧭 ${y.a.windDirection(s.wind_from_direction)}, ☁️ ${s.cloud_area_fraction}%, ${s.air_pressure_at_sea_level}mb, 💦 ${s.relative_humidity}%`,t.updateFieldValue({id:a.id,field:"weather",value:e,isNew:!1,skipTimer:!1}),a.temperature||t.updateFieldValue({id:a.id,field:"temperature",value:s.air_temperature,isNew:!0,skipTimer:!1}))}},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.toggleAdminDebug=()=>{const{showAdminDebug:e}=this.state;this.setState({showAdminDebug:!e})},this.state=a(a({},H),{},{submenu:e.submenu||"info"}),this.updateTimer={}}resetDog(){const{workoutStore:e}=this.props.stores;e.updateKeyValue("newWorkout",{})}async doUpdateField(e,t,s){const{workoutStore:o}=this.props.stores;e&&t&&await o.saveField(e,t,s)}componentDidMount(){this.loadAll()}render(){const{createNew:t,lastUsedTracks:s,submenu:o,showAdminDebug:a=!0}=this.state,{workoutStore:i,userStore:l,appState:r,raceStore:c}=this.props.stores,{viewmode:n}=r,{isAdmin:d,user:u}=l,{insertStatus:p,saved:h,workout:b={},newWorkout:m={}}=i,{currentTeam:j}=i,g=l.findTeam(b.team||j,!0),v=c.getSignupByUserEmail(u.email).map(e=>parseInt(e.musher.team,10)),{name:w,gpxInfo:x={},gpx:I={gpxInfo:{}}}=b;let D=!1;return D=t?[6,8].indexOf(m.type)>-1:[6,8].indexOf(b.type)>-1,t?Object(f.h)("div",{class:"container-fluid",style:`margin-bottom: ${N}; margin-top: ${$};`},Object(f.h)("button",{class:"btn btn-link float-left pl-0 fixed-top text-primary",style:`top: ${S}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(f.h)("i",{class:"fas fa-arrow-circle-left"})),Object(f.h)("div",{class:"row"},Object(f.h)(q,{stores:this.props.stores}),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3",style:"padding-left: 35px;"},Object(f.h)("div",null,Object(f.h)("h5",null,Object(f.h)(k.c,{id:"workouts.add-new"},"Legg til ny treningstur")))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-info-circle"})," ",Object(f.h)(k.c,{id:"workouts.info"},"Info")),"info"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"team"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"team",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-users"})," ",Object(f.h)(k.c,{id:"workouts.team"},"Team")),"team"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"user"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"user",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-user"})," ",Object(f.h)(k.c,{id:"workouts.user"},"Musher")),"user"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"images"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-images"})," ",Object(f.h)(k.c,{id:"workouts.images"},"Bilder")),"images"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"gps"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gps",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(f.h)(k.c,{id:"workouts.gps"},"GPS")),"gps"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"equipment"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"equipment",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-sleigh"})," ",Object(f.h)(k.c,{id:"workouts.equipment"},"Equipment")),"equipment"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-cogs"})," ",Object(f.h)(k.c,{id:"workouts.advanced"},"advanced")),"advanced"===o&&Object(f.h)(V.a,{horizontal:"center",vertical:"end"})))))),"info"===o&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"number",field:"type",icon:"fas fa-running",title:Object(f.h)(k.c,{id:"workouts.type"},"Type tur"),help:Object(f.h)(k.c,{id:"workouts.type-help"},"Type treningstur. 'trening', 'konkurranse', 'tur'."),updateField:this.updateFieldValue}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"name",icon:"fas fa-heading",title:Object(f.h)(k.c,{id:"workouts.title"},"Tittel"),help:Object(f.h)(k.c,{id:"workouts.title-help"},"Tittel på denne turen. 'Fin høsttur i øsende regn...'")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"comment",type:"textarea",title:Object(f.h)(k.c,{id:"workouts.comment"},"Kommentar"),help:Object(f.h)(k.c,{id:"workouts.comment-help"},"Kommentar til turen. Hvordan gikk det?")})),g&&g.public>0&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"private",icon:"fas fa-eye",type:"toggle",title:Object(f.h)(k.c,{id:"workouts.private"},"Skjul treningsturen"),help:Object(f.h)(k.c,{id:"workouts.private-help"},"Skal denne turen være skjult for de som følger teamet ditt?")}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"date",icon:"fas fa-calendar",type:"date",min:"2010-01-01",max:"today",title:Object(f.h)(k.c,{id:"workouts.date"},"Dato"),help:Object(f.h)(k.c,{id:"workouts.date-help"},"Dato for turen. Format på dato er: 'YYYY-MM-DD'.")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"time",icon:"fas fa-clock",type:"time",title:Object(f.h)(k.c,{id:"workouts.time"},"Klokka"),help:Object(f.h)(k.c,{id:"workouts.time-help"},"Klokkeslett for turen. Format: 'HH:MI'.")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"duration",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(k.c,{id:"workouts.duration"},"Varighet på treningen"),help:Object(f.h)(k.c,{id:"workouts.duration-help"},"Hvor lenge var du ute? (HH:MI)")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"rest",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(k.c,{id:"workouts.rest"},"Hviletid på treningen"),help:Object(f.h)(k.c,{id:"workouts.rest-help"},"Hvor lenge stod du stille? (HH:MI)")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)(K,{stores:this.props.stores,field:"speedAvg",rightValue:O.a.format(y.a.speedAvg({duration:m.duration,rest:m.rest,distanceKm:m.distanceKm}),1,"."," ")+" km/t",rightValueReal:y.a.speedAvg({duration:m.duration,rest:m.rest,distanceKm:m.distanceKm}),updateField:this.updateFieldValue,icon:"fas fa-tachometer-alt",type:"number",min:"0",max:"100",step:"0.1",title:Object(f.h)(k.c,{id:"workouts.avg-speed"},"Gjennomsnittsfart"),help:Object(f.h)(k.c,{id:"workouts.avg-speed-help"},"Gjennomsnittsfart når du var i bevegelse. Dersom du ikke vet dette så legger du bare inn distanse og varighet så blir dette regnet ut.")}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row px-0"},Object(f.h)("div",{class:"col-6"},Object(f.h)(K,{stores:this.props.stores,field:"distanceKm",icon:"fas fa-road",title:Object(f.h)(k.c,{id:"workouts.distance"},"Distanse i km"),type:"number",min:"0",max:"300",step:"1",help:Object(f.h)(k.c,{id:"workouts.distance-help"},"Hvor lang var turen i km.")})),Object(f.h)("div",{class:"col-6"},Object(f.h)(K,{stores:this.props.stores,field:"elevation",icon:"fas fa-mountain",title:Object(f.h)(k.c,{id:"workouts.ascend"},"Høydemeter"),type:"number",min:"0",max:"3000",step:"1",help:Object(f.h)(k.c,{id:"workouts.ascend-help"},"Høydemeter du klatret på denne turen.")}))))),"team"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(_,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"number",field:"team",icon:"fas fa-users",title:Object(f.h)(k.c,{id:"workouts.team"},"Team"),help:Object(f.h)(k.c,{id:"workouts.team-help"},"Teamet som er på tur."),updateField:this.updateFieldValue,selectTeam:this.loadWorkout,highlight:v})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(F.a,{stores:this.props.stores,isNew:1,saved:h,object:m,type:"array",icon:"fas fa-dog",elementtype:"number",field:"dogs",title:Object(f.h)(k.c,{id:"workouts.dogs"},"Hunder"),help:Object(f.h)(k.c,{id:"workouts.dogs-help"},"Hvilke hunder var med på turen."),updateField:this.updateFieldValue,filter:e=>e.team===m.team||m.dogs&&m.dogs.indexOf(e.id)>-1,showPositions:!D&&["beta","advanced","normal"].indexOf(n)>-1,currentTeam:g,key:"dogs-"+O.a.getNestedValue(g,"id")}))),"user"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(C,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"array",elementtype:"number",field:"mushers",icon:"fas fa-user",title:Object(f.h)(k.c,{id:"workouts.mushers"},"Kjørere"),help:Object(f.h)(k.c,{id:"workouts.mushers-help"},"Hvem av kjørerne var med på turen."),updateField:this.updateFieldValue}))),"images"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"text-center text-muted"},Object(f.h)("div",{class:"display-1"},Object(f.h)("i",{class:"fas fa-images"})),Object(f.h)(k.c,{id:"workouts.save-to-add-images"},"Please save workout and then go into edit mode to add images.")))),"gps"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"text-center text-muted mb-3"},Object(f.h)("div",{class:"display-1"},Object(f.h)("i",{class:"fas fa-map-marker-alt"})),Object(f.h)(k.c,{id:"workouts.save-to-add-gpx"},"Please save workout and then you will be able to upload a GPX-file if you like.")),Object(f.h)(E,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"number",field:"track",icon:"fas fa-map-marked",title:Object(f.h)(k.c,{id:"workouts.track"},"Runde"),help:Object(f.h)(k.c,{id:"workouts.track-help"},"Hvilken treningsrunde er dette."),updateField:this.updateFieldValue,filter:e=>e.id===m.track||s&&s.indexOf(e.id)>-1}))),"equipment"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(P,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"number",field:"equipment",icon:"fas fa-sleigh",title:Object(f.h)(k.c,{id:"workouts.equipment"},"Utstyr"),help:Object(f.h)(k.c,{id:"workouts.equipment-help"},"Utstyr som ble brukt. 'trollvogn', 'atv', 'slede'."),updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"number",field:"sledWeight",icon:"fas fa-sleigh",title:Object(f.h)(k.c,{id:"workouts.sledWeight"},"Sledevekt"),help:Object(f.h)(k.c,{id:"workouts.sledWeight-help"},"Vekt på sleden denne turen."),updateField:this.updateFieldValue}))),"advanced"===o&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"weather",icon:"fas fa-cloud-sun-rain",title:Object(f.h)(k.c,{id:"workouts.weather"},"Været på turen"),help:Object(f.h)(k.c,{id:"workouts.weather-help"},"Hvordan var været.")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"temperature",icon:"fas fa-temperature-low",title:Object(f.h)(k.c,{id:"workouts.temperature"},"Temperatur"),type:"number",min:"-40",max:"20",step:"0.5",help:Object(f.h)(k.c,{id:"workouts.temperature-help"},"Hvilken temperatur var det.")}))),["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(K,{stores:this.props.stores,field:"rating",icon:"fas fa-dice",title:Object(f.h)(k.c,{id:"workouts.rating"},"Rating av turen"),type:"number",min:"0",max:"6",step:"1",help:Object(f.h)(k.c,{id:"workouts.rating-help"},"Din rating av turen. 1-6")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(M,{stores:this.props.stores,isNew:1,saved:h,workout:m,type:"number",field:"intensity",icon:"fas fa-dumbbell",title:Object(f.h)(k.c,{id:"workouts.intensity"},"Intensitet"),help:Object(f.h)(k.c,{id:"workouts.intensity-help"},"Hvor stor belastning var denne turen?"),updateField:this.updateFieldValue})))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("button",{type:"button",class:"btn btn-block btn-primary",onClick:this.insertWorkout},Object(f.h)(k.c,{id:"workouts.add-save-new"},"Lagre treningstur"))))),p&&Object(f.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(f.h)(k.c,{id:"workouts.workout-saved"},"Treningen er lagret."))):Object(f.h)("div",{class:"container-fluid",style:`margin-bottom: ${N}; margin-top: ${$};`},Object(f.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${S}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(f.h)("i",{class:"fas fa-arrow-circle-left"})),Object(f.h)("div",{class:"row"},Object(f.h)(q,{stores:this.props.stores}),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3",style:"padding-left: 35px;"},Object(f.h)("div",null,Object(f.h)("h5",null,Object(f.h)(k.c,{id:"workouts.edit-workout"},"Endre trening"),": ",w,1===b.isLocked&&Object(f.h)("i",{class:"fas fa-lock text-danger ml-3"})))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-info-circle"})," ",Object(f.h)(k.c,{id:"workouts.info"},"Info"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"team"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"team",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-users"})," ",Object(f.h)(k.c,{id:"workouts.team"},"Team"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"user"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"user",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-user"})," ",Object(f.h)(k.c,{id:"workouts.user"},"Musher"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"images"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-images"})," ",Object(f.h)(k.c,{id:"workouts.images"},"Bilder"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"gps"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gps",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(f.h)(k.c,{id:"workouts.gps"},"GPS"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"equipment"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"equipment",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-sleigh"})," ",Object(f.h)(k.c,{id:"workouts.equipment"},"Equipment"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===o?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-cogs"})," ",Object(f.h)(k.c,{id:"workouts.advanced"},"advanced"))))))),"info"===o&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,saved:h,workout:b,type:"number",field:"type",icon:"fas fa-running",title:Object(f.h)(k.c,{id:"workouts.type"},"Type tur"),help:Object(f.h)(k.c,{id:"workouts.type-help"},"Type treningstur. 'trening', 'konkurranse', 'tur'."),updateField:this.updateFieldValue}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"name",icon:"fas fa-heading",title:Object(f.h)(k.c,{id:"workouts.title"},"Tittel"),help:Object(f.h)(k.c,{id:"workouts.title-help"},"Tittel på denne turen. 'Fin høsttur i øsende regn...'"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"comment",type:"textarea",title:Object(f.h)(k.c,{id:"workouts.comment"},"Kommentar"),help:Object(f.h)(k.c,{id:"workouts.comment-help"},"Kommentar til turen. Hvordan gikk det?"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},g&&g.public>0&&Object(f.h)(W,{stores:this.props.stores,saved:h,workout:b,field:"private",icon:"fas fa-eye",type:"toggle",title:Object(f.h)(k.c,{id:"workouts.private"},"Skjul treningsturen"),help:Object(f.h)(k.c,{id:"workouts.private-help"},"Skal denne turen være skjult for de som følger teamet ditt?"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{stores:this.props.stores,saved:h,workout:b,field:"date",icon:"fas fa-calendar",type:"date",min:"2010-01-01",max:"today",title:Object(f.h)(k.c,{id:"workouts.date"},"Dato"),help:Object(f.h)(k.c,{id:"workouts.date-help"},"Dato for turen. Format på dato er: 'YYYY-MM-DD'."),onInput:this.updateField,updateField:this.updateFieldValue}),a&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.minEpoch>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.minEpoch: ",O.a.isoDate(x.minEpoch,!0,!0)," ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.startTime>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.startTime ",O.a.isoDate(I.gpxInfo.startTime,!0,!0)," ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{stores:this.props.stores,saved:h,workout:b,field:"time",icon:"fas fa-clock",type:"time",title:Object(f.h)(k.c,{id:"workouts.time"},"Klokka"),help:Object(f.h)(k.c,{id:"workouts.time-help"},"Klokkeslett for turen. Format: 'HH:MI'."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"duration",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(k.c,{id:"workouts.duration"},"Varighet på treningen"),help:Object(f.h)(k.c,{id:"workouts.duration-help"},"Hvor lenge var du ute? (HH:MI)"),onInput:this.updateField,updateField:this.updateFieldValue}),a&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.minEpoch>0&&x.maxEpoch>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",O.a.secToHms(x.maxEpoch-x.minEpoch)," ",Object(f.h)("br",null)),d&&x.duration>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",O.a.secToHms(x.duration)," ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.endTime>0&&I.gpxInfo.startTime>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",O.a.secToHms((I.gpxInfo.endTime-I.gpxInfo.startTime)/1e3)," ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.duration>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",O.a.secToHms(I.gpxInfo.duration)," ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"rest",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(k.c,{id:"workouts.rest"},"Hviletid på treningen"),help:Object(f.h)(k.c,{id:"workouts.rest-help"},"Hvor lenge stod du stille? (HH:MI)"),onInput:this.updateField,updateField:this.updateFieldValue}),a&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.minEpoch>0&&x.maxEpoch>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",O.a.secToHms(x.rest)," ",Object(f.h)("br",null)),d&&x.rest>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",O.a.secToHms(x.rest)," ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.rest>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",O.a.secToHms(I.gpxInfo.rest)," ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},!D&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)(W,{saved:h,workout:b,field:"speedAvg",rightValue:O.a.format(y.a.speedAvg({duration:b.duration,rest:b.rest,distanceKm:b.distanceKm}),1,"."," ")+" km/t",rightValueReal:y.a.speedAvg({duration:b.duration,rest:b.rest,distanceKm:b.distanceKm}),updateField:this.updateFieldValue,icon:"fas fa-tachometer-alt",title:Object(f.h)(k.c,{id:"workouts.avg-speed"},"Gjennomsnittsfart"),type:"number",min:"0",max:"100",step:"0.1",help:Object(f.h)(k.c,{id:"workouts.avg-speed-help"},"Gjennomsnittsfart når du var i bevegelse. Dersom du ikke vet dette så legger du bare inn distanse og varighet så blir dette regnet ut."),onInput:this.updateField}),a&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.avgMovingSpeeds>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",O.a.format(3.6*x.avgMovingSpeeds,2)," km/t ",Object(f.h)("br",null)),d&&x.avgGpsSpeed>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",O.a.format(3.6*x.avgGpsSpeed,2)," km/t ",Object(f.h)("br",null)),d&&x.avgGpsMovingSpeed>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",O.a.format(3.6*x.avgGpsMovingSpeed,2)," km/t ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.avgSpeed>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",O.a.format(3.6*I.gpxInfo.avgSpeed,2)," km/t ",Object(f.h)("br",null)))))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row px-0"},!D&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-6"},Object(f.h)(W,{saved:h,workout:b,field:"distanceKm",icon:"fas fa-road",title:Object(f.h)(k.c,{id:"workouts.distance"},"Distanse i km"),type:"number",min:"0",max:"300",step:"1",help:Object(f.h)(k.c,{id:"workouts.distance-help"},"Hvor lang var turen i km."),onInput:this.updateField,updateField:this.updateFieldValue}),a&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.calculatedTotalDistance>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",O.a.format(x.calculatedTotalDistance,2)," km ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.totalDistance>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",O.a.format(I.gpxInfo.totalDistance,2)," km ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-6"},Object(f.h)(W,{saved:h,workout:b,field:"elevation",icon:"fas fa-mountain",title:Object(f.h)(k.c,{id:"workouts.ascend"},"Høydemeter"),type:"number",min:"0",max:"3000",step:"1",help:Object(f.h)(k.c,{id:"workouts.ascend-help"},"Høydemeter du klatret på denne turen."),onInput:this.updateField,updateField:this.updateFieldValue}),a&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.calculatedAscend>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",O.a.format(x.calculatedAscend,0)," m ",Object(f.h)("br",null)),d&&x.calculatedDescend>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",O.a.format(x.calculatedDescend,0)," m ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.ascent>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",O.a.format(I.gpxInfo.ascent,0)," m ",Object(f.h)("br",null)),d&&I.gpxInfo&&I.gpxInfo.descent>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",O.a.format(I.gpxInfo.descent,0)," m ",Object(f.h)("br",null)))))))),"team"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(_,{stores:this.props.stores,saved:h,workout:b,type:"number",field:"team",icon:"fas fa-users",title:Object(f.h)(k.c,{id:"workouts.team"},"Team"),help:Object(f.h)(k.c,{id:"workouts.team-help"},"Teamet som er på tur."),updateField:this.updateFieldValue,highlight:v})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(F.a,{stores:this.props.stores,saved:h,object:b,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(f.h)(k.c,{id:"workouts.dogs"},"Hunder"),help:Object(f.h)(k.c,{id:"workouts.dogs-help"},"Hvilke hunder var med på turen."),updateField:this.updateFieldValue,filter:this.dogFilter,showPositions:!D&&["beta","advanced","normal"].indexOf(n)>-1,currentTeam:g}))),"user"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(C,{stores:this.props.stores,saved:h,workout:b,type:"array",elementtype:"number",field:"mushers",icon:"fas fa-user",title:Object(f.h)(k.c,{id:"workouts.mushers"},"Kjørere"),help:Object(f.h)(k.c,{id:"workouts.mushers-help"},"Hvem av kjørerne var med på turen."),updateField:this.updateFieldValue}))),"images"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"image",type:"image",stores:this.props.stores,title:Object(f.h)(k.c,{id:"workouts.photos"},"Bilder"),help:Object(f.h)(k.c,{id:"workouts.photos-help"},"Legg til bilde fra treningen."),onInput:this.updateField,updateField:this.updateFieldValue}))),"gps"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},I&&Object(f.h)("div",{style:"height: 300px;"},Object(f.h)(T.a,{stores:this.props.stores,mapId:b.id,geojson:I.geoJSON,gpxInfo:I.gpxInfo,height:300})),Object(f.h)(W,{saved:h,workout:b,field:"gpx",type:"file",title:Object(f.h)(k.c,{id:"workouts.gpx"},"Gpx"),help:Object(f.h)(k.c,{id:"workouts.gpx-help"},"Gpx til denne treningen."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{stores:this.props.stores,saved:h,workout:b,type:"number",field:"track",icon:"fas fa-map-marked",title:Object(f.h)(k.c,{id:"workouts.track"},"Runde"),help:Object(f.h)(k.c,{id:"workouts.track-help"},"Hvilken treningsrunde er dette."),updateField:this.updateFieldValue,filter:e=>e.id===b.track}))),"equipment"===o&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(P,{stores:this.props.stores,saved:h,workout:b,type:"number",field:"equipment",icon:"fas fa-sleigh",title:Object(f.h)(k.c,{id:"workouts.equipment"},"Utstyr"),help:Object(f.h)(k.c,{id:"workouts.equipment-help"},"Utstyr som ble brukt. 'trollvogn', 'atv', 'slede'."),updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"sledWeight",type:"number",step:"1",icon:"fas fa-sleigh",title:Object(f.h)(k.c,{id:"workouts.sledWeight"},"Sledevekt"),help:Object(f.h)(k.c,{id:"workouts.sledWeight-help"},"Vekt på sleden denne turen."),onInput:this.updateField,updateField:this.updateFieldValue}))),"advanced"===o&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},!O.a.checkNested(b,"yr","0","instant","details")&&Object(f.h)("button",{class:"btn btn-sm float-right btn-secondary",onClick:this.getYrWeather},Object(f.h)(k.c,{id:"workouts.fetch-weather"},"Hent fra yr")),Object(f.h)(W,{saved:h,workout:b,field:"weather",icon:"fas fa-cloud-sun-rain",title:Object(f.h)(k.c,{id:"workouts.weather"},"Været på turen"),help:Object(f.h)(k.c,{id:"workouts.weather-help"},"Hvordan var været."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"temperature",icon:"fas fa-temperature-low",title:Object(f.h)(k.c,{id:"workouts.temperature"},"Temperatur"),type:"number",min:"-40",max:"20",step:"0.5",help:Object(f.h)(k.c,{id:"workouts.temperature-help"},"Hvilken temperatur var det."),onInput:this.updateField,updateField:this.updateFieldValue}))),["beta","advanced","normal"].indexOf(n)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(W,{saved:h,workout:b,field:"rating",type:"number",min:"0",max:"6",step:"1",icon:"fas fa-dice",title:Object(f.h)(k.c,{id:"workouts.rating"},"Rating av turen"),help:Object(f.h)(k.c,{id:"workouts.rating-help"},"Din rating av turen. 1-6"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(M,{stores:this.props.stores,saved:h,workout:b,type:"number",field:"intensity",icon:"fas fa-dumbbell",title:Object(f.h)(k.c,{id:"workouts.intensity"},"Intensitet"),help:Object(f.h)(k.c,{id:"workouts.intensity-help"},"Hvor stor belastning var denne turen?"),updateField:this.updateFieldValue}))))))}})||m;t.default=L}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=15.chunk.b26b5.esm.js.map