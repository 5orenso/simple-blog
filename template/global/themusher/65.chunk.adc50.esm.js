(window.webpackJsonp=window.webpackJsonp||[]).push([[65,5],{"68RK":function(t,e,s){"use strict";var o=s("ivZ3"),n=s("Utv1"),i=s("ZOvn");const a={adit:new o.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new o.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new o.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new o.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new o.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new o.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new o.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new o.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new o.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new o.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new o.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new o.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new o.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new o.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new o.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new o.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new o.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new o.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new o.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new o.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new o.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new o.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new o.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new o.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new o.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new o.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new o.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new o.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new o.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new o.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new o.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new o.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new o.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new o.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new o.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new o.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new o.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new o.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new o.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new o.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new o.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new o.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new o.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new o.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new o.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new o.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new o.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new o.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new o.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new o.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new o.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new o.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new o.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new o.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new o.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new o.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new o.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new o.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new o.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new o.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new o.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new o.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new o.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new o.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new o.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new o.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new o.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new o.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new o.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new o.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new o.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new o.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new o.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new o.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new o.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new o.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new o.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new o.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new o.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new o.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new o.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new o.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new o.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new o.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new o.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new o.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new o.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new o.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new o.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new o.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new o.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new o.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new o.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new o.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new o.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new o.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new o.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new o.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new o.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new o.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new o.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new o.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new o.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new o.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new o.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new o.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new o.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new o.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new o.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new o.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new o.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new o.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new o.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new o.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new o.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new o.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new o.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new o.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new o.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new o.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new o.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new o.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new o.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new o.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new o.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new o.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new o.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new o.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new o.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new o.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new o.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new o.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new o.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new o.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new o.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new o.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new o.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new o.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new o.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new o.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new o.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new o.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new o.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new o.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new o.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new o.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new o.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new o.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new o.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new o.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new o.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new o.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new o.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new o.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new o.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new o.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new o.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new o.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new o.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new o.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new o.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new o.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new o.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new o.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new o.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new o.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new o.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new o.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new o.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new o.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new o.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new o.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=class{static get(t){return a[t]}static list(){return Object.keys(a)}static getDiv({title:t,body:e,color:s,textColor:i="#333333",borderColor:a=0,iconWidth:c=150,iconHeight:r=70}){const l="img-"+n.a.randomPassword();n.a.hsl2Rgb(s,100,60),n.a.hsl2Rgb(100-a,100,50);return new o.DivIcon({iconSize:[c,r+30],iconAnchor:[15,r+30],className:"my-div-icon",html:`<div id='${l}' style='width: ${c}px; height: ${r+30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${l} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${s};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${i}; background-color: ${s}; height: ${r}px;'>\n\t\t\t\t\t<nobr><strong>${t}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${e}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`})}static getRaceMarker({bib:t,speed:e="",bearing:s="",rank:a,flag:c="",image:r,title:l,color:h,textColor:d="#333333",borderColor:g=0,iconWidth:p=180,iconHeight:b=20,iconAnchorX:u=7,iconAnchorY:m=7,mapChecked:v}){const f="img-"+n.a.randomPassword(),O=(n.a.hsl2Rgb(h,100,60),n.a.hsl2Rgb(100-g,100,50),i.a.getRankingColor(t||a)),w=/dark/i.test(v);let j=r?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${r}"); background-size: cover; border: 1px ${O} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return j=t||a?`\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: ${O||""}'\n\t\t\t>\n\t\t\t\t${t||a}\n\t\t\t</div>\n\t\t`:j,new o.DivIcon({iconSize:[p,b],iconAnchor:[u,m],className:"my-div-icon",html:u>100?`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='${f}' style='width: ${p}px; height: ${b}px; line-height: 1.1em;'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${w?"text-white":"text-dark"} p-1 pl-3 rounded-pill-left rounded-none ${w?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t<strong>${l}</strong> ${c}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pr-2 pl-1 py-1 rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${h||""}'\n\t\t\t\t\t>\n\t\t\t\t\t\t${j}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: 14px; height: 14px; background-color: ${h};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t`:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${f}' style='width: ${p}px; height: ${b}px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: 14px; height: 14px; background-color: ${h};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${h||""}'\n\t\t\t\t\t>\n\t\t\t\t\t\t${j}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${w?"text-white":"text-dark"} p-1 pr-3 rounded-pill-right rounded-none ${w?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${c} <strong>${l}</strong>\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getDistanceMarker({title:t="",body:e="",textColor:s="#888",borderColor:i=0}){const a="img-"+n.a.randomPassword();return new o.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:`<div id='${a}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}static getMarker({bib:t,rank:e,flag:s="",image:a,title:c,color:r="#a0a0a0",textColor:l="#333333",borderColor:h=0,iconWidth:d=250,iconHeight:g=20,iconAnchorX:p=7,iconAnchorY:b=7,dotWidth:u=14,dotHeight:m=14,mapChecked:v}){const f="img-"+n.a.randomPassword(),O=(n.a.hsl2Rgb(r,100,60),n.a.hsl2Rgb(100-h,100,50),i.a.getRankingColor(t||e));/dark/i.test(v);let w=a?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${a}"); background-size: cover; border: 1px ${O} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return w=t||e?`\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center ${O?"":"bg-primary"}' style='background-color: ${O||""}'\n\t\t\t>\n\t\t\t\t${t||e}\n\t\t\t</div>\n\t\t`:w,new o.DivIcon({iconSize:[d,g],iconAnchor:[p,b],className:"my-div-icon",html:`\n\t\t\t\t<div class='d-flex flex-nowrap' id='${f}' style='width: ${d}px; height: ${g}px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${u}px; height: ${m}px; background-color: ${r};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none bg-info'\n\t\t\t\t\t>\n\t\t\t\t\t\t${w}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark p-1 pr-3 rounded-pill-right rounded-none bg-info overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>${s} <strong>${c}</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getSmallMarker({title:t="",body:e="",textColor:s="#888",borderColor:i=0}){const a="img-"+n.a.randomPassword();return new o.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:`<div id='${a}' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}}},"8n2v":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,a=s("hosL"),c=(s("Utv1"),s("/eY4")),r=s("OhSV"),l=s("ZOvn");l.a.marginTop(!1),l.a.marginBottom();const h={};let d=Object(c.a)(i=class extends a.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h)}render(){const{goto:e,gotoTitle:s,routerName:o}=this.props;return Object(a.h)("div",{class:"row h-100"},Object(a.h)("div",{class:"col-12 text-center my-auto"},Object(a.h)("div",{class:"spinner-border text-primary",style:"width: 8rem; height: 8rem;",role:"status"},Object(a.h)("span",{class:"sr-only"},Object(a.h)(r.c,{id:"home.loading"},"Loading..."))),Object(a.h)("h3",{class:"mt-4"},Object(a.h)(r.c,{id:"home.loading"},"Loading...")),e&&Object(a.h)(t,null,Object(a.h)("a",{class:"my-4 btn btn-primary btn-lg btn-block",native:!0,href:e},s," ",Object(a.h)("i",{class:"fas fa-angle-double-right ml-2"})),Object(a.h)("small",{class:"text-muted"},o))))}})||i;e.a=d}).call(this,s("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},"HQo+":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,a=s("hosL"),c=(s("Utv1"),s("/eY4")),r=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const l={showAddComment:!1};let h=Object(c.a)(i=class extends a.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.updateTimer={},this.inputRef={}}async loadTrack(t=this.props){const{showHeatmap:e,raceid:s,allTeamIds:o}=t,{adminStore:n,trackStore:i,raceStore:a,appState:c}=t.stores,{selectedClassIds:r=[]}=c;e&&await n.getPublicHeatmap(s,o);const l=a.getTrackIdsByClass(r[0]);l&&l.length>0&&(i.cleanupMemory(),await i.loadPublic({query:{idin:l}}))}componentDidMount(){this.loadTrack()}componentWillReceiveProps(t){this.props.selectedClassIds!==t.selectedClassIds&&this.loadTrack(t)}render(){const{trackStore:e,raceStore:s,appState:o,adminStore:n}=this.props.stores,{selectedClassIds:i=[]}=o,{waypoints:c,waypoints2:l,waypoints3:h,zoomToMarkers:d,fullscreenMap:g,onMarkerClick:p,showHeatmap:b,showTracks:u,showDistanceMarkers:m,groupWaypoints:v,focusOnMushers:f,geoJSONs:O}=this.props,{tracks:w}=e,{publicHeatmap:j}=n,y=w[0];s.getTrackIdsByClass();return Object(a.h)(t,null,Object(a.h)(r.a,{stores:this.props.stores,heatmap:b?j:null,track:y,geojson:u&&y&&y.gpx?y.gpx.geoJSON:null,gpxInfo:u&&y&&(y.gpx||y.gpxInfo)?y.gpxInfo||y.gpx.gpxInfo:null,minZoom:2,maxZoom:18,height:600,waypoints:c,waypoints2:l,waypoints3:h,geoJSONs:O,zoomToMarkers:d,fullscreenMap:g,onMarkerClick:p,showTrackProfile:!1,distanceMarkerSteps:"long",showDistanceMarkers:m,groupWaypoints:v,focusOnMushers:f,showFullscreenControl:!1}))}})||i;e.a=h}).call(this,s("hosL").Fragment)},HqZR:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function a(t){return.621371*t}var c,r=s("hosL"),l=s("Utv1"),h=s("/eY4"),d=s("cneo"),g=s("fh8t"),p=s.n(g),b=s("6FDT"),u=s.n(b),m=s("ABWa"),v=s.n(m),f=s("ZOvn"),O=s("5eBG"),w=s("/mwY"),j=s("8bLb"),y=s("P2xA"),x=s("FTgN"),k=s("/kKD"),S=s("+5/p"),I=s("9rGW"),z=s("zHmd"),A=s.n(z),T=s("Dq2H"),C=s.n(T),U=(s("yDvG"),s("G5DU")),D=s.n(U),M=s("68RK"),R=(s("A1fj"),s("ivZ3")),P=s.n(R);const $={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},{BaseLayer:_,Overlay:B}=O.b;delete P.a.Icon.Default.prototype._getIconUrl,P.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});const F=function(t){return P.a.divIcon({html:`<span>${t.getChildCount()}</span>`,className:v.a["marker-cluster-custom"],iconSize:P.a.point(40,40,!0)})};let L=Object(h.a)(c=class extends r.Component{constructor(t){super(t),this.mapRef=Object(r.createRef)(),this.polyRef=Object(r.createRef)(),this.handleViewportChanged=t=>{this.setState({mapCenter:t.center,mapZoom:t.zoom})},this.handleLocationFound=t=>{t.latlng&&this.setState({hasLocation:!0,latlng:t.latlng})},this.onEachFeature=(t,e)=>{const{gpxInfo:s={}}=this.props,o=`<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${l.a.format(s.totalDistance,2)} km</li>\n\t\t\t\t<li>Max speed: ${l.a.format(s.maxSpeed,1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${l.a.format(s.avgSpeed,1)} km/t</li>\n\t\t\t\t<li>Ascent: ${l.a.format(s.ascent||s.calculatedAscend,0)} m</li>\n\t\t\t\t<li>Descent: ${l.a.format(s.decent||s.calculatedDescend,0)} m</li>\n\t\t\t\t<li>Duration: ${l.a.secToHms(s.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`;e.bindPopup(o)},this.handleClick=t=>{const{appState:e}=this.props.stores;e.setLatlng(t.latlng)},this.zoomToGeoJSON=t=>{try{if(t.target){let e=t.target.getBounds();e&&e._northEast&&this.setState({bounds:e})}}catch(t){console.log(t)}},this.zoomToMarkers=(t=[],e=!1)=>{const{hasZoomedToMarkers:s}=this.state;try{if((e||!s)&&t.length&&t.length>0){const e=this.mapRef.current.leafletElement,s=P.a.latLngBounds([]);t.forEach(t=>{s.extend([t.lat,t.lng])}),e.fitBounds(s),this.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},this.zoomToAllMarkers=()=>{const{waypoints:t=[]}=this.props;this.zoomToMarkers(t,!0)},this.zoomToFavoriteMarkers=()=>{const{zoomToMarkers:t=[],waypoints:e=[]}=this.props;this.zoomToMarkers(t.length>0?t:e,!0)},this.overlayAdd=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!0,this.setState({visibleLayers:s})},this.overlayRemove=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!1,this.setState({visibleLayers:s})},this.polylineOptions=()=>{const{gpxInfo:t}=this.props,{rangeSteps:e}=this.state;let{maxHslColor:s}=this.state;const{appState:o}=this.props.stores,{mapColorMode:n,mapRangeMin:i,mapRangeMax:a}=o;let c=i,r=a;"speed"===n&&t&&t.speeds&&t.speeds.length>0&&(c=Math.floor(Math.min(...t.speeds.map(t=>3.6*t))),r=Math.ceil(Math.max(...t.speeds.map(t=>3.6*t))));const h=l.a.range(c,r,e),d=h.map(t=>{const e=function(t,e,s,o,n){return o+(t-e)*(n-o)/(s-e)}(t,c,r,0,s);let o;o=s-e;const{r:n,g:i,b:a}=l.a.hsl2Rgb(o,100,45);return{color:`rgb(${n}, ${i}, ${a})`}});return o.setMapRange(h,c,r),o.setMapColors(d),d},this.polylineOptionIdxFn=t=>{const{appState:e}=this.props.stores,{mapRange:s}=e;for(let e=0;e<s.length;++e)if(t.meta<=s[e])return e;return s.length},this.polylinetrackPointFactory=t=>{const{gpxInfo:e}=this.props,{appState:s}=this.props.stores,{mapColorMode:o,mapRangeMin:n,mapRangeMax:i}=s;let a=[];"speed"===o&&e.speeds&&e.speeds.length>0?a=e.speeds.map(t=>3.6*t):e&&e.climbs&&(a=e.climbs);return t.filter(t=>t[0]&&t[1]&&t[2]).map((t,e)=>{const s=P.a.latLng(t[1],t[0],t[2]);return a&&a.length>0?(s.meta=a[e]||0,s.meta>i&&(s.meta=i),s.meta<n&&(s.meta=n)):s.meta=0,s})},this.showSpeed=()=>{const{appState:t}=this.props.stores;t.setMapColorMode("speed")},this.handleMarkerClick=(t={})=>{const{onMarkerClick:e=(({title:t,bib:e})=>console.log({title:t,bib:e}))}=this.props;try{e(n({},t))}catch(t){console.log(t)}},this.baseLayerChange=t=>{const{name:e}=t;console.log("baseLayerChange event",t),console.log({name:e});const{appState:s}=this.props.stores;s.setMapChecked(e)},this.whenReadyHandler=t=>{const{target:e}=t;e.on("baselayerchange",this.baseLayerChange)},this.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1}}geoJSONStyle(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}}geoJSONStyleList(t){const e=f.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}}componentWillReceiveProps(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)}componentWillUnmount(){}render(){const{userStore:e,appState:s}=this.props.stores,{mapChecked:o}=s,{user:i}=e,{settings:c={}}=i,{visibleLayers:h,mapZoom:g,bounds:b=null}=this.state,{waypoints:m=[],waypoints2:z=[],waypoints3:T=[],geoJSONs:U=[],zoomToMarkers:R=[],geojson:L,gpxInfo:N,mapId:E=1,center:H=[61.0779066,9.800984],zoom:W=5,minZoom:Z=4,maxZoom:Y=18,darkmode:J,height:K=500,heatmap:V=[],skipGeojson:G=!1,zoomToWaypoints:X=!1,fullscreenMap:q=!1,showSearch:Q=!0,showZoomControl:tt=!0,showLayersControl:et=!0,showFullscreenControl:st=!0,showScaleControl:ot=!0,showRange:nt=!0,showTrackProfile:it=!0,distanceMarkerSteps:at="normal",showDistanceMarkers:ct=!0,groupWaypoints:rt=!0,layersControlPosition:lt="topright"}=this.props,{mapColorMode:ht,mapRange:dt,mapColors:gt,mapRangeMin:pt,mapRangeMax:bt}=s,ut=Object(d.i)(L),mt=l.a.asObject(ut,"features",0,"geometry","coordinates"),vt=R.length>0||m.length>0;let ft,Ot;const wt=[];if(mt&&mt[0]&&mt[0][0]&&(ft=mt[0][0]&&mt[0][0][0]?[mt[0][0][1],mt[0][0][0]]:[mt[0][1],mt[0][0]],Ot=mt[mt.length-1][0]&&mt[mt.length-1][0][0]?[mt[mt.length-1][0][1],mt[mt.length-1][0][0]]:[mt[mt.length-1][1],mt[mt.length-1][0]],N&&N.distances)){let t=0,e=0,s=10;switch(g){case 15:s="long"===at?3:1;break;case 14:s="long"===at?5:2;break;case 13:s="long"===at?7:3;break;case 12:s="long"===at?10:5;break;case 11:case 10:s="long"===at?15:10;break;case 9:s="long"===at?20:15;break;case 8:s="long"===at?30:20;break;case 7:s="long"===at?40:30;break;case 6:s="long"===at?70:50;break;case 5:s="long"===at?150:100;break;default:s="long"===at?200:150}N.distances.forEach((o,n)=>{t+=c.imperial?a(o):o,e+=c.imperial?a(o):o,e>=s&&(e=0,mt[n]&&Array.isArray(mt[n])&&wt.push({lat:mt[n][1],lng:mt[n][0],title:Math.floor(t),body:""}))})}const{isAdmin:jt}=e;return Object(r.h)(t,null,Object(r.h)("div",{class:v.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:f.a.captureAllEvents,onScroll:f.a.captureAllEvents},Object(r.h)(w.a,{bounds:b,ref:this.mapRef,onViewportChanged:this.handleViewportChanged,minZoom:Z,maxZoom:Y,center:H,onLocationfound:this.handleLocationFound,zoom:W,zoomControl:tt,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:q||!P.a.Browser.mobile,tap:!P.a.Browser.mobile,touchZoom:!!P.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:`width: 100%; min-height: ${K}px; height: 100%;`,className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},et&&Object(r.h)(O.b,{position:lt},Object(r.h)(_,{checked:"OpenStreetMap.Mapnik"===o,name:"OpenStreetMap.Mapnik"},Object(r.h)(j.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(r.h)(_,{checked:"OpenStreetMap.Dark"===o,name:"OpenStreetMap.Dark"},Object(r.h)(j.a,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(r.h)(_,{checked:"Norway Kartverket topo4"===o,name:"Norway Kartverket topo4"},Object(r.h)(j.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(r.h)(_,{checked:"Norway Kartverket topo4graatone"===o,name:"Norway Kartverket topo4graatone"},Object(r.h)(j.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(r.h)(_,{checked:"Google Satellite Text"===o,name:"Google Satellite Text"},Object(r.h)(j.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),jt&&Object(r.h)(B,{name:"Windspeed"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),jt&&Object(r.h)(B,{name:"Temperature"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),jt&&Object(r.h)(B,{name:"Precipitation"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),jt&&Object(r.h)(B,{name:"Atmospheric pressure"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),jt&&Object(r.h)(B,{name:"Snow depth"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),ot&&Object(r.h)(x.a,{metric:!0,imperial:!1}),h.Windspeed&&Object(r.h)(D.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Wind speed, m/s"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0"),Object(r.h)("div",null,"2"),Object(r.h)("div",null,"3"),Object(r.h)("div",null,"6"),Object(r.h)("div",null,"12"),Object(r.h)("div",null,"25"),Object(r.h)("div",null,"50")),Object(r.h)("div",{style:" width: 260px; height: 5px; // background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),h.Temperature&&Object(r.h)(D.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Temperature, °C"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"-40"),Object(r.h)("div",null,"-20"),Object(r.h)("div",null,"0"),Object(r.h)("div",null,"20"),Object(r.h)("div",null,"40")),Object(r.h)("div",{style:" width: 260px; height: 5px; background-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%); "})))),h.Precipitation&&Object(r.h)(D.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Precipitation, mm/h"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0"),Object(r.h)("div",null,"0.5"),Object(r.h)("div",null,"1"),Object(r.h)("div",null,"2"),Object(r.h)("div",null,"4"),Object(r.h)("div",null,"6"),Object(r.h)("div",null,"7"),Object(r.h)("div",null,"10"),Object(r.h)("div",null,"12"),Object(r.h)("div",null,"14"),Object(r.h)("div",null,"16"),Object(r.h)("div",null,"24"),Object(r.h)("div",null,"32"),Object(r.h)("div",null,"60")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%; "})))),h["Snow depth"]&&Object(r.h)(D.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Snow depth (m)"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0.05"),Object(r.h)("div",null,"0.4"),Object(r.h)("div",null,"0.8"),Object(r.h)("div",null,"1.8"),Object(r.h)("div",null,"15")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%; "})))),h["Atmospheric pressure"]&&Object(r.h)(D.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Atmospheric pressure (hPa)"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"940"),Object(r.h)("div",null,"980"),Object(r.h)("div",null,"1010"),Object(r.h)("div",null,"1040"),Object(r.h)("div",null,"1080")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),V&&V.length>0&&Object(r.h)(A.a,{fitBoundsOnLoad:!vt,fitBoundsOnUpdate:!1,points:V,longitudeExtractor:t=>t[1],latitudeExtractor:t=>t[0],intensityExtractor:t=>parseFloat(t[2])}),it&&Object(r.h)(t,null,mt&&mt.length>0&&Object(r.h)(u.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(mt),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+ht})),U&&U.length>0&&U.map((t,e)=>Object(r.h)(k.a,{data:t,style:()=>this.geoJSONStyleList(e)})),!G&&L&&ft&&Object(r.h)(k.a,{data:L,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,onAdd:R&&R.length>0?null:this.zoomToGeoJSON}),ft&&Object(r.h)(S.a,{position:ft,icon:M.a.get("marker")},Object(r.h)(I.a,null,"Start position: ",l.a.format(ft[0],4),", ",l.a.format(ft[1],4))),Ot&&Object(r.h)(S.a,{position:Ot,icon:M.a.get("flag")},Object(r.h)(I.a,null,"End position: ",l.a.format(Ot[0],4),", ",l.a.format(Ot[1],4))),ct&&wt&&wt.length>0&&Object(r.h)(t,null,wt.length>0&&wt.map(t=>Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:M.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(r.h)(I.a,{position:[t.lat,t.lng]},Object(r.h)("h5",null,t.title),Object(r.h)(p.a,{markdown:t.body,markdownOpts:$}))))),T.length>0&&T.reverse().map((t,e)=>Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:M.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:o}),zIndexOffset:100+e})),rt?Object(r.h)(t,null,Object(r.h)(C.a,{maxClusterRadius:10,iconCreateFunction:F,animate:!0,fitBoundsOnLoad:X},z.length>0&&z.reverse().map((t,e)=>Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:M.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:o}),zIndexOffset:200+e}))),Object(r.h)(C.a,{maxClusterRadius:10,iconCreateFunction:F,animate:!0,fitBoundsOnLoad:X},m.length>0&&m.reverse().map((t,e)=>Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:M.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,rank:t.rank,speed:t.speed,bearing:t.bearing,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:180,iconAnchorX:e%2==0?7:187,mapChecked:o}),onClick:e=>this.handleMarkerClick(n(n({},t),{},{e:e})),zIndexOffset:300+e})))):Object(r.h)(t,null,z.length>0&&z.reverse().map((t,e)=>Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:M.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconHeight:20,iconAnchorX:7,iconAnchorY:7,dotWidth:14,dotHeight:14,mapChecked:o}),zIndexOffset:200+e})),m.length>0&&m.reverse().map((t,e)=>Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:M.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,speed:t.speed,bearing:t.bearing,rank:t.rank,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:200,iconAnchorX:e%2==0?7:193,mapChecked:o}),onClick:e=>this.handleMarkerClick(n(n({},t),{},{e:e})),zIndexOffset:300+e}))))),nt&&dt&&dt.length>0&&Object(r.h)(t,null,Object(r.h)("div",{class:"mb-4"},Object(r.h)("div",{class:"float-right mt-1"},Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(pt,0),Object(r.h)("span",{class:"text-muted"},"speed"===ht?"km/t":"%")))),dt&&dt.length>0&&dt.map((t,e)=>Object(r.h)("div",{class:"float-left"},Object(r.h)("div",{style:`background-color: ${gt[e].color}; height: 13px; width: 10px;`}))),Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(bt,0),Object(r.h)("span",{class:"text-muted"},"speed"===ht?"km/t":"%"))))))))}})||c;e.a=L}).call(this,s("hosL").Fragment)},UbCD:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),r=(s("QRet"),s("Utv1"),s("/eY4")),l=(s("OhSV"),s("Y3FI")),h=s("zYNi");s("ZOvn");const d={};let g=Object(r.a)(a=class extends c.Component{constructor(t){super(t),this.back=()=>{Object(l.route)("/")},this.state=n(n({},d),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3)}),this.updateTimer={}}render(){const{userStore:e,raceStore:s}=this.props.stores,{user:o={},teams:n=[]}=e,{raceid:i,classid:a}=this.props,r=s.getClassById(a);return Object(c.h)(t,null,Object(c.h)("div",{class:"container-fluid h-100"},Object(c.h)("div",{class:"row h-100"},Object(c.h)("div",{class:"col-12 px-0 h-100"},Object(c.h)("div",{class:"px-4 py-2 overflow-hidden",style:" background-color: #FB4114; color: #ffffff; border-radius: 10px 10px 0 0; font-size: 1.8em; height: 60px; "},Object(c.h)("span",{class:"float-right font-weight-light"},r.title),"GPS Tracking"),Object(c.h)("div",{class:"mr-5 p-0 position-relative w-100",style:' height: calc(100% - 120px); background: rgba(0, 0, 0, 0.3); background-color: #1C1F4C; background-image: url("https://themusher.app/assets/tv-single-background.jpg"); background-size: cover !important; background-position: 0 0; '},Object(c.h)(h.a,{stores:this.props.stores,raceid:i})),Object(c.h)("div",{class:"px-4 py-2 overflow-hidden text-center",style:" background-color: #FB4114; color: #ffffff; border-radius: 0 0 10px 10px; font-size: 1.4em; height: 60px; "},Object(c.h)("nobr",{class:"mr-4"},"QPaws app"),Object(c.h)("img",{src:"https://themusher.app/assets/appstore-download.png",height:"40",class:"ml-5 mr-1"}),Object(c.h)("img",{src:"https://themusher.app/assets/playstore-download.png",height:"40",class:"mx-1"}))))))}})||a;e.default=g}.call(this,s("hosL").Fragment)},ZQlJ:function(t,e,s){"use strict";var o,n=s("hosL"),i=(s("Utv1"),s("/eY4")),a=(s("OhSV"),s("NDEG"));let c=Object(i.a)(o=class extends n.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,o=e/s,n=Math.round(o),i=Math.abs(n-o);(Number.isInteger(o)||i<.1)&&this.setState({imageIdx:n})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,o=s.find(e=>e.id===t),n=s.find(t=>t.id===e);return o&&n&&o.name>n.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:o=(()=>{})}=this.props;return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(i=>{const c=e.find(t=>t.id===i);return c?Object(n.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(n.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(n.h)(a.a,{stores:this.props.stores,dog:c,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:o}))):""})))}})||o;e.a=c},cH0S:function(t,e,s){"use strict";var o,n=s("hosL"),i=(s("Utv1"),s("/eY4")),a=(s("OhSV"),s("ZOvn"));a.a.marginTop(!1),a.a.marginBottom();let c=Object(i.a)(o=class extends n.Component{render(){const{appState:t}=this.props.stores,{darkmode:e}=t,{children:s,onCloseClick:o=(()=>{}),classNames:i="fixed-bottom",width:c="100vw"}=this.props;return Object(n.h)("div",{class:`${i} ${e?"bg-darkmode":"bg-lightmode"} border rounded rounded-lg pt-4 pb-3 px-4`,style:`\n                    bottom: 0;\n                    left: 0;\n                    width: ${c};\n                    max-height: 80vh;\n                    min-height: 10vh;\n                    overflow: auto;\n                    z-index: 999999;\n                    border-radius: 20px 20px 0 0 !important;\n                    border-top-width: 5px !important;\n                    box-shadow: 0px 0 5px rgba(0, 0, 0, 0.8);\n                `,onTouchmove:a.a.captureEvents,onScroll:a.a.captureEvents},Object(n.h)("button",{class:"btn btn-warning btn-sm float-right",onClick:o},Object(n.h)("i",{class:"fas fa-times"})),s)}})||o;e.a=c},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},fVsX:function(t,e,s){"use strict";var o,n=s("hosL"),i=(s("Utv1"),s("/eY4")),a=(s("OhSV"),s("ZOvn"));a.a.marginTop(!1),a.a.marginBottom();let c=Object(i.a)(o=class extends n.Component{render(){const{children:t,height:e="65px"}=this.props;return Object(n.h)("nav",{class:"navbar navbar-themed bg-light fixed-top py-0",style:`height: ${e};`},t)}})||o;e.a=c},wanP:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,a=s("hosL"),c=(s("Utv1"),s("/eY4")),r=s("eK6s"),l=s.n(r);const h={mouseData:{}};let d=Object(c.a)(i=class extends a.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.svgRef=null}render(){const{radius:e=50,heightAdd:s=0,color:o="success",showPercentText:n=!0,percent:i=0,prefix:c="",showCenterText:r=!1,centerText:h,centerTextSize:d,centerTextX:g,centerTextY:p,total:b="",totalY:u="90%",totalX:m="50%",totalTextAnchor:v="middle",completed:f="",completedY:O="65%",completedX:w="50%",completedTextAnchor:j="middle"}=this.props,y=.3*e,x=e-y/2,k=.3*e,S=2*x*Math.PI,I=.75*S,z=`${I} ${S}`,A=`rotate(135, ${e}, ${e})`,T=I-Math.min(Math.max(i,0),100)/100*I,C=d||e/2.5,U=e/5;return Object(a.h)(t,null,Object(a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*e,height:2*e+s,preserveAspectRatio:"none",ref:t=>this.svgRef=t},Object(a.h)("circle",{class:""+l.a.gaugeBackground,cx:e,cy:e,r:x,strokeWidth:y,strokeDasharray:z,strokeLinecap:"round",transform:A}),Object(a.h)("circle",{class:`${l.a[o]} ${l.a.gauge}`,cx:e,cy:e,r:x,stroke:"url(#grad)",strokeDasharray:z,strokeDashoffset:T,strokeLinecap:"round",strokeWidth:k,style:{transition:"stroke-dashoffset 0.3s"},transform:A}),n&&Object(a.h)("text",{class:`${l.a.gaugeText} ${l.a[o]}`,x:g||"50%",y:p||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":C},i," ",c),r&&Object(a.h)("text",{class:`${l.a.gaugeText} ${l.a[o]}`,x:g||"50%",y:p||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":C},h),f&&Object(a.h)("text",{class:`${l.a.gaugeText} ${l.a[o]}`,x:w,y:O,"dominant-baseline":"middle","text-anchor":j,"font-size":U},f),Object(a.h)("text",{class:`${l.a.gaugeText} ${l.a.secondary}`,x:m,y:u,"dominant-baseline":"middle","text-anchor":v,"font-size":U},b)))}})||i;e.a=d}).call(this,s("hosL").Fragment)},zYNi:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c,r,l,h=s("hosL"),d=(s("QRet"),s("Utv1")),g=s("/eY4"),p=s("OhSV"),b=(s("Y3FI"),s("fh8t")),u=s.n(b),m=(s("go65"),s("HQo+")),v=s("wanP"),f=s("ZQlJ"),O=s("q/oJ"),w=s("cH0S"),j=s("fVsX"),y=s("8n2v"),x=s("gWxU"),k=s("Nanz"),S=s("ZOvn");const I=S.a.marginTop(!0,!1),z=(S.a.marginTopBack(!1),S.a.marginBottom(),S.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:d.a.getJwtToken(),reloadInSec:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0});let A=Object(g.a)(a=class extends h.Component{constructor(t){super(t),this.initComponent=()=>{this.setState({reloadIsActive:!0},()=>this.tickReloadTimeer())},this.tickReloadTimeer=()=>{const{reloadLastEpoch:t}=this.props,{reloadIsActive:e}=this.state;if(e){const e=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(e-t)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1},this.state=n({},z),this.updateTimer={}}componentDidMount(){this.initComponent()}componentWillUnmount(){clearTimeout(this.updateTimer.tick)}render(){const{reloadInSec:e}=this.state,{radius:s=13,fontSize:o=11,classNames:n=""}=this.props,i=Math.floor(d.a.normalizeBetween(e,0,60,0,100));return Object(h.h)(t,null,Object(h.h)("span",{class:n},Object(h.h)(v.a,{key:"gauge-reload-page",color:"primary",radius:s,showPercentText:!1,percent:i,showCenterText:!0,centerText:e,centerTextSize:o,centerTextY:"55%"})))}})||a,T=Object(g.a)(c=class extends h.Component{constructor(t){super(t),this.chooseSubmenu=t=>{const e=t.target.closest("button").dataset.submenu;this.setState({submenu:e})},this.state={}}render(){const{raceStore:e,userStore:s}=this.props.stores,{submenu:o="details"}=this.state,{waypoints:n}=e,{raceClass:i={},race:a={},onMarkerClick:c=(()=>{})}=this.props;return Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex justify-content-center align-items-center mb-2"},Object(h.h)("span",{style:"font-size: 1.3em;"},a.title," - ",i.title)),Object(h.h)("div",{class:"w-100 overflow-auto",style:"max-height: 60vh;"},!n||0===n.length&&Object(h.h)(t,null,Object(h.h)("div",{class:"text-center text-muted"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-dog"})),Object(h.h)("div",{class:"w-100"},Object(h.h)("h3",null,Object(h.h)(p.c,{id:"races.no-teams-found"},"No teams found!")),Object(h.h)(p.c,{id:"races.loading-teams"},"Loading teams...")),Object(h.h)("div",{class:"spinner-border text-primary",style:"width: 3rem; height: 3rem;",role:"status"},Object(h.h)("span",{class:"sr-only"},"Loading...")))),Object(h.h)("table",{class:"table table-striped"},n&&n.map(e=>Object(h.h)(t,null,Object(h.h)("tr",{onClick:()=>c(e)},Object(h.h)("td",{style:"width: 15px;"},e.rank),Object(h.h)("td",null,Object(h.h)("div",{class:"d-flex justify-content-between align-items-start w-100"},Object(h.h)("div",{class:"rounded-circle imageRounded imageRoundedSmallIcon float-left",style:`background-image: url("${e.image}"); background-size: cover; border: 1px ${e.color} solid; width: 30px !important; height: 30px;`}," "),Object(h.h)("div",{class:"flex-grow-1 ml-2"},Object(h.h)("span",{class:"text-white rounded-pill-both px-2 mr-2",style:`background-color: ${e.color};`},e.bib),e.flag,"  ",e.title,Object(h.h)("div",null,e.finishTime<9999999999?Object(h.h)(t,null,e.diffToFirstFinishTime>0?Object(h.h)(t,null,d.a.secToHms(e.diffToFirstFinishTime)):Object(h.h)(t,null,d.a.formatDate(d.a.parseInputDate(e.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))):Object(h.h)(t,null,Object(h.h)("span",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-compass"}))," ",S.a.windDirection(e.bearing),Object(h.h)("span",{class:"text-muted font-weight-light ml-3"},Object(h.h)("i",{class:"fas fa-tachometer-alt"}))," ",d.a.format(e.speed||0,1)," km/h",Object(h.h)("br",null),Object(h.h)("span",{class:"text-muted font-weight-light"},Object(h.h)("i",{class:"fas fa-flag-checkered"}))," ",d.a.format(e.distanceToFinish,1)," km",e.distanceToFinish!==e.distanceToFirst&&e.distanceToFirst>0&&Object(h.h)(t,null,Object(h.h)("span",{class:"text-muted font-weight-light ml-3"},"1st:")," ",d.a.format(e.distanceToFirst,1)," km"),e.distanceToFinish!==e.distanceToForward&&e.distanceToForward>0&&Object(h.h)(t,null,Object(h.h)("span",{class:"text-muted font-weight-light ml-3"},Object(h.h)("i",{class:"fas fa-arrow-up"}))," ",d.a.format(e.distanceToForward,1)," km"),e.distanceToBehind>0&&Object(h.h)(t,null,Object(h.h)("span",{class:"text-muted font-weight-light ml-3"},Object(h.h)("i",{class:"fas fa-arrow-down"}))," ",d.a.format(e.distanceToBehind,1)," km")))),Object(h.h)("div",null,e.finishTime<9999999999?Object(h.h)(t,null,Object(h.h)("i",{class:"fas fa-flag-checkered"})):Object(h.h)(t,null,Object(h.h)("i",{class:"fas fa-running"})))))))))))}})||c,C=Object(g.a)(r=class extends h.Component{constructor(t){super(t),this.toggleAdminInfo=t=>{t.stopPropagation();const{showAdminInfo:e}=this.state;this.setState({showAdminInfo:!e})},this.toggleInfo=t=>{t.stopPropagation();const{showInfo:e}=this.state;this.setState({showInfo:!e})},this.onDogClick=(t,e,s)=>{t.preventDefault(),t.stopPropagation();const o=s.find(t=>t.uuidv4===e);return this.setState({currentDog:o,showDog:e,dogs:s}),!1},this.chooseSubmenu=t=>{const e=t.target.closest("button").dataset.submenu;this.setState({submenu:e})},this.state={}}render(){const{raceStore:e,userStore:s}=this.props.stores,{showAdminInfo:o,submenu:n="details",showDog:i,currentDog:a={}}=this.state,{totalTrackLength:c}=e,{wpData:r={},onMarkerClick:l=(()=>{})}=this.props,g=e.findWaypointByBib(r.bib),{isAdmin:b}=s,m=r.bib?e.getMusherByBibId(r.bib):e.getMusherByBibEmail(r.email),O=e.getTeamById(m.team),w=O.members?O.members.find(t=>t.email===m.email):{},j=(e.getClassByBib(r.bib),e.getTotalsByTeamId(m.team)),y=S.a.getImage({user:w,team:O,priority:"user"}),x=S.a.displayNameShort(w)||S.a.displayNameShort(m),k=r.color,I=S.a.hasBirthday(a.birth),z=a.birth?Math.ceil(S.a.daysUntilNextBirthday(a.birth)):365,A=d.a.format(g.totalDistanceOnTrack/c*100,0),{inFront:T,behind:C}=e.findNearestMushers(r.bib);return Object(h.h)(t,null,C.bib&&Object(h.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:()=>l(C),style:"line-height: 1.0em; font-size: 2.0em;"},Object(h.h)("i",{class:"fas fa-angle-right"})),T.bib&&Object(h.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:()=>l(T),style:"line-height: 1.0em; font-size: 2.0em;"},Object(h.h)("i",{class:"fas fa-angle-left"})),Object(h.h)("div",{class:"d-flex position-relative"},Object(h.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:y?`background-image: url("${y}"); background-size: cover;`:""},!y&&Object(h.h)("div",{class:"text-muted",style:"font-size: 25px; padding-top: 5px;"},x),Object(h.h)("div",{class:`rounded-pill-both px-2 text-center position-absolute ${k?"":"bg-secondary"} font-weight-bold`,style:"bottom: -20px; right: 0; "+(k?`background-color: ${k};`:"")},m.bib&&"n/a"!==m.bib&&Object(h.h)(t,null,m.bib))),Object(h.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(h.h)("h3",{class:"mb-0"},m.flag," ",m.firstname," ",m.lastname),Object(h.h)("h6",{class:"mb-0"},m.sportsClub||Object(h.h)(t,null," ")))),Object(h.h)("div",{class:"d-flex justify-content-center mb-3"},Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-pill-left rounded-none ${"details"===n?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"details"},"Details")),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-none ${"team"===n?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"team"},"Team")),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-pill-right rounded-none ${"dogs"===n?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"dogs"},"Dogs"))),Object(h.h)("div",{class:"w-100 overflow-auto position-relative",style:"max-height: 60vh;"},"details"===n&&Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex justify-content-between"},Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-list"})," Ranking")),Object(h.h)("div",{class:"text-center",style:"font-size: 2.0em;"},g.rank)),g.finishTime<9999999999?Object(h.h)(t,null,g.diffToFirstFinishTime>0?Object(h.h)(t,null,Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-clock"})," Diff to 1st")),Object(h.h)("div",{class:"text-center",style:"font-size: 2.0em;"},d.a.secToHms(g.diffToFirstFinishTime)))):Object(h.h)(t,null,Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-clock"})," Finish time")),Object(h.h)("div",{class:"text-center",style:"font-size: 1.5em;"},d.a.formatDate(d.a.parseInputDate(g.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(h.h)(t,null,Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-tachometer-alt"})," Current speed")),Object(h.h)("div",{class:"text-center",style:"font-size: 2.0em;"},d.a.format(g.speed||0,1)," ",Object(h.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km/h"))),Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-compass"})," Bearing")),Object(h.h)("div",{class:"text-center",style:"font-size: 2.0em;"},S.a.windDirection(g.bearing))))),Object(h.h)("div",{class:"d-flex justify-content-between mt-2"},Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-road"})," Total distance")),Object(h.h)("div",{class:"text-center mt-2"},Object(h.h)(v.a,{key:"gauge-reload-page",color:"primary",radius:40,showPercentText:!1,percent:A,showCenterText:!0,centerText:A+"%",centerTextSize:18,centerTextY:"55%"})),Object(h.h)("div",{class:"text-center"},Object(h.h)("small",null,d.a.format(g.totalDistanceOnTrack,1)," / ",d.a.format(c,1)," ",Object(h.h)("span",{class:"text-muted"},"km"))))),Object(h.h)("div",{class:"d-flex justify-content-between mt-2"},g.finishTime<9999999999?Object(h.h)(t,null,g.diffToFirstFinishTime>0?Object(h.h)(t,null,Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-clock"})," Finish time")),Object(h.h)("div",{class:"text-center",style:"font-size: 1.5em;"},d.a.formatDate(d.a.parseInputDate(g.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(h.h)(t,null)):Object(h.h)(t,null,Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-arrow-down"})," Behind")),Object(h.h)("div",{class:"text-center"},d.a.format(g.distanceToBehind,1)," ",Object(h.h)("span",{class:"text-muted"},"km"))),Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},"Team")),Object(h.h)("div",{class:"text-center"},Object(h.h)("i",{class:"fas fa-dog"}))),Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-arrow-up"})," In front")),Object(h.h)("div",{class:"text-center"},d.a.format(g.distanceToForward,1)," ",Object(h.h)("span",{class:"text-muted"},"km"))),Object(h.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(h.h)("div",null,Object(h.h)("small",{class:"text-muted"},Object(h.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(h.h)("div",{class:"text-center"},d.a.format(g.distanceToFinish,1)," ",Object(h.h)("span",{class:"text-muted"},"km"))))),j&&j.distanceKm&&Object(h.h)(t,null,Object(h.h)("div",{class:"table-responsive-lg"},Object(h.h)("table",{class:"table table-borderless"},Object(h.h)("tbody",null,Object(h.h)("tr",null,Object(h.h)("td",{style:"width: 5%;"},Object(h.h)("i",{class:"fas fa-dog"})),Object(h.h)("td",{style:"width: 60%"},Object(h.h)(p.c,{id:"races.dogs"},"Dogs")),Object(h.h)("td",{style:"width: 5%;"}," "),Object(h.h)("td",{class:"text-right",style:"width: 30%;"},O.dogs.length)),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-road"})),Object(h.h)("td",null,Object(h.h)(p.c,{id:"races.distance"},"Distance")),Object(h.h)("td",null," "),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,j.distanceKm?d.a.format(j.distanceKm,1)+" km":"n/a"))),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-mountain"})),Object(h.h)("td",null,Object(h.h)(p.c,{id:"races.ascend"},"Ascending")),Object(h.h)("td",null," "),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,j.elevation?d.a.format(j.elevation,0)+" m":"n/a"))),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-stopwatch"})),Object(h.h)("td",null,Object(h.h)(p.c,{id:"races.race-time"},"Racetime")),Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-clock"})),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,d.a.secToHms(j.duration)||"n/a"))),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-bed"})),Object(h.h)("td",null,Object(h.h)(p.c,{id:"races.rest-time"},"Rest")),Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-clock"})),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,d.a.secToHms(j.rest)||"n/a")))))))),"team"===n&&Object(h.h)(t,null,O.public>0?Object(h.h)(t,null,Object(h.h)("h3",null,O.name),Object(h.h)(u.a,{markdown:S.a.replaceImages(O.description,O.images),markdownOpts:S.a.getMarkdownOptions()})):Object(h.h)(t,null,Object(h.h)("div",{class:"text-center text-muted"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-dog"})),Object(h.h)("h3",null,Object(h.h)(p.c,{id:"teams.no-public-team"},"No public team!")),Object(h.h)(p.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),"dogs"===n&&Object(h.h)(t,null,O.public>0?Object(h.h)(t,null,O.dogs&&Object(h.h)("div",{class:"w-100 container-fluid"},Object(h.h)("div",{class:"row pt-2"},Object(h.h)(f.a,{stores:this.props.stores,dogs:O.dogs.map(t=>t.id),allDogs:O.dogs,onDogClick:this.onDogClick}))),i&&Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex mb-0 mt-3 position-relative"},Object(h.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedLarge text-muted pt-2",style:a.image?`background-image: url("${a.image.s3LargeLink}"); background-size: cover;`:""},!a.image&&Object(h.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},d.a.ucfirst(a.name,!0))),Object(h.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(a.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(h.h)("h5",{class:"mb-1"},a.shortname||a.name," ",a.shortname&&""!==a.shortname&&Object(h.h)(t,null," - ",Object(h.h)("span",{class:"font-weight-lighter"},a.name)),I&&Object(h.h)(t,null,Object(h.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(h.h)("div",null,z<7&&Object(h.h)(t,null,Object(h.h)("span",{class:"text-muted mr-2"},Object(h.h)("i",{class:"fas fa-birthday-cake"})," in ",z," days")),a.birth&&Object(h.h)("span",{class:"mr-2"},d.a.age(a.birth,a.deceased)),"female"===a.gender?Object(h.h)("i",{class:"fas fa-venus"}):Object(h.h)("i",{class:"fas fa-mars"})))))):Object(h.h)(t,null,Object(h.h)("div",{class:"text-center text-muted"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-dog"})),Object(h.h)("h3",null,Object(h.h)(p.c,{id:"teams.no-public-team"},"No public team!")),Object(h.h)(p.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),b&&Object(h.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(h.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),o&&Object(h.h)(t,null,Object(h.h)("small",null,Object(h.h)("xmp",null,"musher: ",JSON.stringify(m,null,4),Object(h.h)("br",null),"user: ",JSON.stringify(w,null,4),Object(h.h)("br",null),"team: ",JSON.stringify(O,null,4),Object(h.h)("br",null),"totals: ",JSON.stringify(j,null,4),Object(h.h)("br",null)))))))}})||r,U=Object(g.a)(l=class extends h.Component{constructor(t){var e;super(t),e=this,this.handleHistoryPointIndex=t=>{const e=parseInt(t.target.value,10);clearTimeout(this.updateTimer.reload),this.setState({historyPointIndex:e,timerRunning:!1},()=>{const{historyPointIndex:t}=this.state,{raceStore:e}=this.props.stores;e.updateWaypointPosition(Math.abs(t))})},this.playHistory=()=>{clearTimeout(this.updateTimer.reload);const{historyPointIndex:t,replaySpeed:e}=this.state,{raceStore:s}=this.props.stores,o=s.getRaceTrackerTimestamp(t+1),i={historyPointIndex:t+1,timerRunning:!1,playingHistory:!0};o&&(i.raceTrackerPointTimestamp=o),this.setState(n({},i),()=>{s.updateWaypointPosition(Math.abs(t+1))}),clearTimeout(this.updateTimer.history),this.updateTimer.history=setTimeout(()=>{this.playHistory()},1e3*e)},this.pauseHistory=()=>{clearTimeout(this.updateTimer.history),this.setState({playingHistory:!1})},this.loadLiveRaceResults=async function(t=e.props,{teamIds:s,focusOnMushers:o,bibs:n,classid:i}){const{raceStore:a,userStore:c}=t.stores,{race:r}=a,{historyPointIndex:l,replayHistory:h,timerRunning:d}=e.state,{showDrawerReplay:g}=e.props,p=a.getClassById(i)||{},{isAdmin:b}=c;await a.getRaceTrackerData(r.raceTrackerRace,{history:h||g,bibs:n,classid:i,startDate:p.startDate,endDate:p.endDate,isAdmin:b}),a.getRaceTrackerActiveTeams(s,o,n,l),d&&(clearTimeout(e.updateTimer.reload),e.updateTimer.reload=setTimeout(()=>{console.log("loadLiveRaceResults.reloading...");const t=Math.floor((new Date).getTime()/1e3);e.setState({reloadLastEpoch:t}),e.loadLiveRaceResults(e.props,{teamIds:s,focusOnMushers:o,bibs:n,classid:i})},6e4))},this.loadRaceResults=async function(t=e.props,s,o){const{raceStore:n}=t.stores,{raceid:i}=t,{timerRunning:a}=e.state;await n.loadWorkoutSummary(s,i),n.getWorkoutSummaryActiveTeams(s,o),a&&(clearTimeout(e.updateTimer.reload),e.updateTimer.reload=setTimeout(()=>{const t=Math.floor((new Date).getTime()/1e3);e.setState({reloadLastEpoch:t}),e.loadRaceResults(e.props,s,o)},6e4))},this.loadRace=async function(t=e.props){try{e.setState({isLoading:!0});const{raceStore:s,appState:o}=t.stores,{raceid:n,classid:i}=t;await s.load(n);const{race:a}=s,{focusOnMushers:c}=o,{selectedClassIds:r=[]}=o,l=i||r[0];i&&o.toggleSelectedClassId(i,!0);const h=a.classes.filter(t=>t.id===l).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.team>0).map(t=>t.team)).flat(),d=a.classes.filter(t=>t.id===l).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.bib>0).map(t=>t.bib)).flat();h.length>0&&await s.loadTeams(h.join(",")),a.liveRace>0?await e.loadLiveRaceResults(e.props,{teamIds:h,focusOnMushers:c,bibs:d,classid:l}):await e.loadRaceResults(e.props,h,c),s.getAllClassesSortedBy(),e.setState({isLoading:!1})}catch(t){console.log(t)}},this.setLeaderboardMode=t=>{this.setState({leaderboardMode:t.target.parentElement.dataset.mode||t.target.dataset.mode})},this.chooseRaceClass=t=>{this.setState({filterByraceClass:t.target.value})},this.toggleShowLeaderBoard=t=>{const{showLeaderBoard:e}=this.state;this.setState(!0===t?{showLeaderBoard:!1}:{showLeaderBoard:!e})},this.toggleShowNews=t=>{const{showNews:e}=this.state;this.setState(!0===t?{showNews:!1}:{showNews:!e})},this.onMarkerClick=t=>{this.setState({showResults:!1,showDrawer:!0,wpData:t})},this.toggleDrawer=()=>{const{showDrawer:t}=this.state;this.setState({showDrawer:!t})},this.toggleResults=()=>{const{showResults:t}=this.state;this.setState({showResults:!t})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.setReplaySpeed=t=>{const e=t.target.closest("button").dataset.speed;this.setState({replaySpeed:parseFloat(e)})},this.filterByClass=async function(t){try{const s=t.target.closest("button").dataset.id,{showDrawerReplay:o}=e.props,{replayHistory:n}=e.state;(n||o)&&e.toggleReplayHistory();const{appState:i,raceStore:a}=e.props.stores;a.cleanupMemoryClass(),i.toggleSelectedClassId(s,!0);const{race:c}=a,{focusOnMushers:r}=i,l=c.classes.filter(t=>t.id===s).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.team>0).map(t=>t.team)).flat(),h=c.classes.filter(t=>t.id===s).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.bib>0).map(t=>t.bib)).flat();e.setState({allTeamIds:l,bibs:h}),l.length>0&&await a.loadTeams(l.join(",")),c.liveRace>0?await e.loadLiveRaceResults(e.props,{teamIds:l,focusOnMushers:r,bibs:h,classid:s}):await e.loadRaceResults(e.props,l,r)}catch(t){console.log(t)}},this.toggleFocusOnMusher=t=>{try{const e=t.target.parentElement.dataset.musherid||t.target.dataset.musherid,{appState:s,raceStore:o}=this.props.stores;s.toggleFocusOnMusher(e);const{focusOnMushers:n=[],selectedClassIds:i=[]}=s,a=i[0],{race:c}=o,r=c.classes.filter(t=>t.id===a).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.bib>0).map(t=>t.bib)).flat();c.liveRace>0?o.getRaceTrackerActiveTeams(null,n,r):o.getWorkoutSummaryActiveTeams(null,n,r)}catch(t){console.log(t)}},this.toggleBib=()=>{try{const{bib:t}=this.state,{appState:e,raceStore:s}=this.props.stores,o=s.getMusherByBibId(t);e.toggleFocusOnMusher(o.id)}catch(t){console.log(t)}},this.checkForEnter=t=>{"Enter"===t.key&&this.toggleBib()},this.toggleReplayHistory=()=>{const{replayHistory:t}=this.state;clearTimeout(this.updateTimer.reload),this.setState({showDrawer:!1,historyPointIndex:0,replayHistory:!t,timerRunning:t},(async function(){await e.loadRace();const{historyPointIndex:t}=e.state,{raceStore:s}=e.props.stores;s.updateWaypointPosition(Math.abs(t))}))},this.toggleLines=()=>{const{showLines:t}=this.state;this.setState({showLines:!t})},this.state=n(n({},z),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3),historyPointIndex:0,timerRunning:!0,replayHistory:!1,replaySpeed:1}),this.updateTimer={}}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.history),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace();try{const{width:t}=function(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}();t<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))}catch(t){console.log(t)}}componentWillReceiveProps(t){this.props.classid===t.classid&&this.props.showDrawerReplay===t.showDrawerReplay||this.loadRace(t)}render(){const{historyPointIndex:e,timerRunning:s,playingHistory:o,replaySpeed:n,raceTrackerPointTimestamp:i,showLines:a,allTeamIds:c}=this.state,{userStore:r,raceStore:l,appState:g}=this.props.stores,{user:p={},teams:b=[],isAdmin:u}=r,{language:v="en"}=p,{raceid:f,showHeader:S=!0,drawerClassNames:z,drawerWidth:U,showDrawerReplay:D}=this.props,{focusOnMushers:M=[],infoOnMushers:R=[],selectedClassIds:P=[]}=g,{reloadLastEpoch:$,showDrawer:_,wpData:B={},showResults:F,showTeam:L,showDog:N,replayHistory:E}=this.state,{waypoints:H,geoJSONs:W,zoomToMarkers:Z,race:Y,maxPoints:J}=l,K=B.bib?l.getMusherByBibId(B.bib):l.getMusherByBibEmail(B.email),V=l.getTeamById(K.team),G=l.getClassById(P[0])||{};return Object(h.h)(t,null,L&&Object(h.h)(O.a,null,Object(h.h)(x.default,{stores:this.props.stores,teamid:L,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),N&&Object(h.h)(O.a,null,Object(h.h)(k.default,{stores:this.props.stores,dogid:N,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:V.dogs})),S&&Object(h.h)(j.a,{height:I},Object(h.h)("div",{class:"d-flex justify-content-between align-items-center w-100"},Object(h.h)("div",{class:"d-flex align-items-center"},Object(h.h)("span",{class:"",style:"font-size: 2.3em;"},Object(h.h)("a",{href:`/app-races/${Y.id}/results`},Object(h.h)("i",{class:"fas fa-angle-left"}))),Object(h.h)("span",{class:"ml-4 text-primary",style:"font-size: 1.4em;",onClick:this.toggleResults},Object(h.h)("i",{class:"fas fa-list-ol"})),Object(h.h)("span",{class:"ml-4 text-primary",style:"font-size: 1.4em;"},Object(h.h)("a",{href:`/app-races/${Y.id}/results`},Object(h.h)("i",{class:"fas fa-stopwatch"})))),Object(h.h)("div",null,Object(h.h)("a",{href:`/app-races/${Y.id}/results`},Object(h.h)("span",{class:"font-weight-normal text-white",style:"font-size: 1.2em;"},Y.title))),Y.liveRace>0?Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex align-items-center text-primary",onClick:this.toggleReplayHistory},Object(h.h)("span",{class:""},"Replay"),Object(h.h)("span",{class:"ml-2",style:"font-size: 1.4em;"},Object(h.h)("i",{class:"fas fa-play"})))):Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex align-items-center"}," "))),Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Y.classes&&Y.classes.sort((t,e)=>t.distance-e.distance).map((e,s)=>Object(h.h)(t,null,Object(h.h)("div",{class:"col px-0 pt-0"},Object(h.h)("button",{type:"button",class:`btn btn-block ${0===s&&"rounded-pill-left"} ${s===Y.classes.length-1&&"rounded-pill-right"} rounded-none ${P.indexOf(e.id)>-1?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.filterByClass,"data-id":e.id},e.title))))))),Object(h.h)("div",{class:"container-fluid position-relative p-0 w-100 h-100",style:`margin-top: ${S?I:0};`},Y.id?Object(h.h)(t,null,Object(h.h)(m.a,{marginTop:I,stores:this.props.stores,raceid:f,waypoints:H,geoJSONs:a?W:null,waypoints2:G.waypoints,zoomToMarkers:Z,fullscreenMap:!0,onMarkerClick:this.onMarkerClick,showHeatmap:Y.liveRace<1,allTeamIds:c,showTracks:Y.liveRace>=1,selectedClassIds:P,showDistanceMarkers:!1,groupWaypoints:!1,focusOnMushers:M})):Object(h.h)(t,null,Object(h.h)(y.a,{stores:this.props.stores})),s&&Object(h.h)("div",{class:"position-absolute",style:"top: 125px; left: 5px; z-index: 9999; width: 30px; height: 30px;"},Object(h.h)(A,{stores:this.props.stores,classNames:"float-right ml-2",reloadLastEpoch:$})),M&&M.length>0&&Object(h.h)(t,null,Object(h.h)("div",{class:"row mb-2",style:' background-color: #1C1F4C; background-image: url("https://themusher.app/assets/tv-single-background.jpg"); background-size: cover !important; background-position: 0 0; border-radius: 10px; '},Object(h.h)("div",{class:"col-12 text-white",style:"font-size: 1.3em;"},M&&M.map(e=>{const s=l.getMusherById(e);return Object(h.h)(t,null,Object(h.h)("div",null,Object(h.h)("nobr",null,Object(h.h)("span",{class:"mr-2",onClick:this.toggleFocusOnMusher,"data-musherid":s.id},M.indexOf(s.id)>-1?Object(h.h)("i",{class:"fas fa-times text-warning"}):Object(h.h)("i",{class:"far fa-star"})),Object(h.h)("span",{class:"text-right",style:"width: 50px; display: inline-block;"},s.bib)," ",s.flag," ",s.firstname," ",s.lastname,Object(h.h)("br",null))))})))),(D||E)&&Object(h.h)(t,null,Object(h.h)(w.a,{stores:this.props.stores,onCloseClick:this.toggleReplayHistory,classNames:z,width:U},J>0?Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex justify-content-center mx-3"},o?Object(h.h)(t,null,Object(h.h)("div",{class:"pl-1"},Object(h.h)("button",{class:"btn btn-warning",onClick:this.pauseHistory},Object(h.h)("i",{class:"fas fa-pause"})))):Object(h.h)(t,null,Object(h.h)("div",{class:"pl-1"},Object(h.h)("button",{class:"btn btn-success",onClick:this.playHistory},Object(h.h)("i",{class:"fas fa-play"})))),Object(h.h)("div",{class:"pl-2 pt-2 flex-grow-1"},Object(h.h)("input",{type:"range",class:"custom-range w-100",min:0,max:J,value:e,onInput:this.handleHistoryPointIndex}))),Object(h.h)("div",{class:"d-flex justify-content-center"},Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-pill-left rounded-none ${1===n?"btn-secondary":"btn-outline-secondary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":1},"60x")),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-none ${.5===n?"btn-secondary":"btn-outline-secondary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.5},"120x")),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-none ${.25===n?"btn-secondary":"btn-outline-secondary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.25},"240x")),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:`btn btn-block rounded-pill-right rounded-none ${.12===n?"btn-secondary":"btn-outline-secondary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.12},"480x"))),Object(h.h)("div",{class:"d-flex justify-content-center"},Object(h.h)("div",{class:"flex-grow-1 pt-0 font-weight-bolder text-white text-center",style:"font-size: 1.1em;"},i&&Object(h.h)(t,null,d.a.formatDate(d.a.parseInputDate(i),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),u&&Object(h.h)(t,null,"/ ",e)),u&&Object(h.h)(t,null,Object(h.h)("button",{class:"btn btn-danger mt-2 mr-4 rounded-pill-both rounded-none",onClick:this.toggleLines},Object(h.h)("i",{class:"fas fa-wave-square"})," Show lines")))):Object(h.h)(t,null,Object(h.h)("div",{class:"spinner-border text-primary",role:"status"},Object(h.h)("span",{class:"sr-only"},"Loading..."))))),F?Object(h.h)(t,null,Object(h.h)(w.a,{stores:this.props.stores,onCloseClick:this.toggleResults,classNames:z,width:U},Object(h.h)(T,{stores:this.props.stores,raceClass:G,race:Y,onMarkerClick:this.onMarkerClick}))):Object(h.h)(t,null,_&&Object(h.h)(t,null,Object(h.h)(w.a,{stores:this.props.stores,onCloseClick:this.toggleDrawer,classNames:z,width:U},Object(h.h)(C,{stores:this.props.stores,wpData:B,onMarkerClick:this.onMarkerClick,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))))))}})||l;e.a=U}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=65.chunk.adc50.esm.js.map