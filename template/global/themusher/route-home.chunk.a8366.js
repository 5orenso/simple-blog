(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"+1Jk":function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=s("Y3FI"),u=(s("X9Km"),s("ZOvn")),h=(s("XPU5"),s("ZWUU"),s("CE5K"),s("0SNj")),b=s("9Bb9"),m=s("pJjI"),p=s("L3gU"),f=s("AEg1"),O=s("gOLw"),g=(s("w93r"),s("qv+O")),j=u.a.marginTop(!1),v=u.a.marginBottom(),y=(u.a.subMenuMarginTop(),{isLoading:!1,submenu:"lastWorkouts"}),w=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.addNavigation=function(t){void 0===t&&(t=s.props);var e=t.viewmenu,o=s.props.stores.appState;"wall"===e&&(o.setSwipeRight(),o.setSwipeLeft((function(){o.setSwipeLeft(),Object(d.route)("/home-workout")}))),"workout"===e&&(o.setSwipeLeft(),o.setSwipeRight((function(){o.setSwipeRight(),Object(d.route)("/")})))},s.destroyLog=function(){return new Promise((function(t){return s.props.stores.workoutStore.cordovaDestroyLog(),t()}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},y),s}var r,c;c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var u=s.prototype;return u.loadAll=function(){return new Promise(function(t,e){var s,o,n,r;return o=(s=this.props.stores).appState,n=s.userStore,r=s.messageStore,this.setState({isLoading:!0}),Promise.resolve(o.getFingerprint()).then(function(){try{return Promise.resolve(n.getInfo()).then(function(){try{return Promise.resolve(n.getNotifications()).then(function(){try{return Promise.resolve(r.getUnReadMessages()).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},u.componentDidMount=function(){this.loadAll()},u.componentWillUnmount=function(){var t=this.props.stores.appState;t.setSwipeRight(),t.setSwipeLeft()},u.componentWillReceiveProps=function(){},u.render=function(){var e=this.props,s=e.viewmenu,o=e.path,n=e.teamid,r=this.props.stores,c=r.userStore,d=r.workoutStore,u=c.user,y=d.currentTeam,w=d.cordovaActiveTrackingParams,k=d.isRunning,x=d.totalDistance,S=d.currentSpeed,C=d.totalTime;return Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+v+"; margin-top: "+j+";"},k&&w&&Object(a.h)(t,null,Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(a.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(a.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(a.h)("div",{class:"row mb-3"},Object(a.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.secToHms(C)),Object(a.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(3.6*S,1)," km/t"),Object(a.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(x/1e3,2)," km")),Object(a.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(a.h)(l.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),u.id&&Object(a.h)(f.a,{stores:this.props.stores}),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"w-100 overflow-hidden"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("a",{class:"btn btn-block rounded-pill-left rounded-none "+("wall"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wall",href:"/"},Object(a.h)("i",{class:"fas fa-comments"})," ",Object(a.h)(l.c,{id:"home.wall"},"Veggen"))),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("a",{class:"btn btn-block rounded-pill-right rounded-none "+("workout"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workout",href:"/home-workout"},Object(a.h)("i",{class:"fas fa-running"}),"  ",Object(a.h)(l.c,{id:"home.feed"},"Feed"))))))),"wall"===s&&Object(a.h)(t,null,Object(a.h)(g.a,{stores:this.props.stores}),Object(a.h)(O.a,{stores:this.props.stores,path:o})),"workout"===s&&Object(a.h)(t,null,Object(a.h)(p.a,{stores:this.props.stores,teamid:n})),"totals"===s&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(a.h)(m.a,{stores:this.props.stores}),Object(a.h)(h.a,{stores:this.props.stores,currentTeam:y}),Object(a.h)(b.a,{stores:this.props.stores,currentTeam:y}))))},s}(a.Component))||r;e.default=w}.call(this,s("hosL").Fragment)},"+JSK":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=s("ZOvn"),u={},h=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleLikes=function(){s.setState({showLikesList:!s.state.showLikesList})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u),s}var r,c;return c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c,s.prototype.render=function(){var e=this.state.showLikesList,s=this.props.stores,o=s.storyStore,n=s.teamStore,r=s.workoutStore,c=s.raceStore,u=this.props,h=u.likes,b=u.comments,m=u.type,p=void 0===m?"story":m,f=u.onTeamClick,O=void 0===f?function(){}:f;return Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-between mb-2"},h&&h.length>0&&Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(a.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(a.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",h.length),h.slice(0,1).map((function(e){var s,l,u;"story"===p?(s=o.findPublicUser(e.user),l=o.findPublicTeamByMembers(e.user)):"team"===p?(s=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"workout"===p?(s=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)):"race"===p&&(s=c.findPublicUser(e.user),l=c.findPublicTeamByMembers(e.user)),i.a.isArray(l)&&(u=l.find((function(t){return 1===t.public})));d.a.getImage({user:s,team:u,priority:"user"}),d.a.displayNameShort(s);var h=d.a.displayName(s);return Object(a.h)(t,null,Object(a.h)("span",{class:"font-weight-lighter"},u?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+u.uuidv4,title:u.name,onClick:function(t){return O(t,u.uuidv4)}},h)):Object(a.h)(t,null,h)))})),h.length>1&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(a.h)(l.c,{id:"likes-comments.and",fields:{total:h.length-1}},"and ",h.length-1," others."))))),b&&b.length>0&&Object(a.h)("span",{class:"float-right text-muted"},Object(a.h)("i",{class:"fas fa-comment text-primary"})," ",b.length)),e&&Object(a.h)("div",{class:"mt-3 mb-3"},h&&h.map((function(e){var s,l,u;"story"===p?(s=o.findPublicUser(e.user),l=o.findPublicTeamByMembers(e.user)):"team"===p?(s=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"workout"===p?(s=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)):"race"===p&&(s=c.findPublicUser(e.user),l=c.findPublicTeamByMembers(e.user)),i.a.isArray(l)&&(u=l.find((function(t){return 1===t.public})));var h=d.a.getImage({user:s,team:u,priority:"user"}),b=d.a.displayNameShort(s),m=d.a.displayName(s,!0);return Object(a.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},u?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+u.uuidv4,title:u.name,onClick:function(t){return O(t,u.uuidv4)},class:"stretched-link"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(a.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},b))),Object(a.h)("div",{class:"ml-2 "},m," ",Object(a.h)("span",{class:"font-weight-lighter"},"- ",u.name))):Object(a.h)(t,null,Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(a.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},b)),Object(a.h)("div",{class:"ml-2"},m)))}))))},s}(a.Component))||r;e.a=h}).call(this,s("hosL").Fragment)},"/922":function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=s("go65"),l=s("om2D"),d=(s("ETxl"),s("ZOvn")),u=Object(a.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).beforeImagesUploaded=function(){s.setState({sendButtonEnabled:!1})},s.afterImagesUploaded=function(){s.setState({sendButtonEnabled:!0})},s.commentWorkout=function(){return new Promise((function(t,e){var o,n,r,a,i,c,l,u,h,b,m;return s.state.sendButtonEnabled?(r=void 0===(n=(o=s.props).callback)?function(){}:n,i=void 0===(a=o.inputRefObject)?{}:a,c=s.props.workout,l=s.props.stores.workoutStore,h=(u=s.state).comment,b=u.showAddImage,s.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:c.id,comment:h})).then((function(o){try{return(m=o)&&200===m.status&&(s.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(i[c.id]),b&&s.addImage()})),r({workout:c,response:m})),s.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},s.addImages=function(t){var e,o=s.state.comment;(e=o.images).push.apply(e,t.value),s.setState({comment:o})},s.addImage=function(){var t=s.state.showAddImage;s.setState({showAddImage:!(void 0!==t&&t)})},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},s.inputRef={},s}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this,s=this.props,o=s.inputRef,a=s.col,u=void 0===a?12:a,h=s.offset,b=void 0===h?0:h,m=s.showAvatar,p=void 0===m||m,f=s.extraClass,O=void 0===f?"":f,g=s.workout,j=this.state,v=j.comment,y=j.showAddImage,w=j.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+r.a.ucfirst(x.firstname,!0)+r.a.ucfirst(x.lastname,!0):""+r.a.ucfirst(x.email||"",!0),C=x.image||(x.images?x.images[0]:void 0);return Object(n.h)("div",{class:"col-"+u+" offset-"+b+" "+O},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},p&&Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(C?"background-image: url('"+C.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(i.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:v.body,ref:o})),Object(n.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor","data-id":g.id,onClick:this.addImage})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" mb-2",disabled:!w,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))),y&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},v.images&&v.images.map((function(t){return Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(n.h)("i",{class:"fas fa-trash"}),"  ",Object(n.h)(i.c,{id:"comments.remove-image"},"Remove")))})))),Object(n.h)(l.a,{object:v,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},s}(n.Component))||o;e.a=u}).call(this,s("hosL").Fragment)},"/DnB":function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=(s("Utv1"),s("/eY4")),c={},l=Object(i.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},c),s.container=null,s}var s,r;r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,s=t.vertical,o=void 0===s?"":s,n={behavior:"smooth"};e&&(n.inline=e),o&&(n.block=o),this.container.scrollIntoView(n)},i.render=function(){var t=this;return Object(a.h)("div",{ref:function(e){return t.container=e}}," ")},e}(a.Component))||r;e.a=l},"0SNj":function(t,e,s){"use strict";var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),c=s("irB3"),l=(s("UwwE"),s("8Lgr")),d=(s("QkTp"),Object(a.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).state={},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var a=e.prototype;return a.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeams(t)).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.loadTeams=function(t){return new Promise(function(e,s){var o,n,r,a,i,c;return void 0===t&&(t=this.props),o=t.stores.teamStore,n=(new Date).getMonth()+1,r=(new Date).getFullYear(),i=(a=t).month,c=a.year,Promise.resolve(o.load({query:{team:a.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===c?r:c,month:void 0===i?n:i},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.componentDidMount=function(){this.loadAll()},a.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},a.render=function(){var t=this.props.stores.teamStore,e=(new Date).getMonth()+1,s=(new Date).getFullYear(),o=this.props,a=o.month,d=o.year,u=void 0===d?s:d,h=o.currentTeam,b=o.currentSeason,m=o.prevSeason,p=parseInt((void 0===a?e:a)<8?u-1:u,10),f=m||(h?t.findWorkoutSummary(h,p-1):t.findWorkoutSummaryTotal(p-1))||{},O=b||(h?t.findWorkoutSummary(h,p):t.findWorkoutSummaryTotal(p))||{};return Object(n.h)("div",{class:"container-fluid mb-2"},Object(n.h)("div",{class:"row mt-2 border-top"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-road"})," ",p,"-",p+1),Object(n.h)("h3",null,Object(n.h)(l.a,{stores:this.props.stores,value:O.distanceKm||0,smallUnit:!0}))),Object(n.h)("div",{class:"col text-center border-left"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-road"})," ",p-1,"-",p),Object(n.h)("h3",{class:"text-muted"},Object(n.h)(l.a,{stores:this.props.stores,value:f.distanceKm||0,smallUnit:!0})))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-mountain"})," ",p,"-",p+1),Object(n.h)("h3",null,Object(n.h)(c.a,{stores:this.props.stores,value:O.elevation||0,smallUnit:!0}))),Object(n.h)("div",{class:"col text-center border-left"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-mountain"})," ",p-1,"-",p),Object(n.h)("h3",{class:"text-muted"},Object(n.h)(c.a,{stores:this.props.stores,value:f.elevation||0,smallUnit:!0})))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-clock"})," ",p,"-",p+1),Object(n.h)("h3",null,r.a.secToHms(O.duration||0))),Object(n.h)("div",{class:"col text-center border-left"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-clock"})," ",p-1,"-",p),Object(n.h)("h3",{class:"text-muted"},r.a.secToHms(f.duration||0)))),Object(n.h)("div",{class:"row mt-2 border-bottom"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",p,"-",p+1),Object(n.h)("h3",null,Object(n.h)(i.a,{stores:this.props.stores,value:O.speedAvg||0,smallUnit:!0}))),Object(n.h)("div",{class:"col text-center border-left"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",p-1,"-",p),Object(n.h)("h3",{class:"text-muted"},Object(n.h)(i.a,{stores:this.props.stores,value:f.speedAvg||0,smallUnit:!0})))))},e}(n.Component))||o);e.a=d},"1OK2":function(t,e,s){"use strict";var o,n=s("hosL"),r=(s("Utv1"),s("/eY4"));Object(r.a)(o=function(t){function e(e){var s;(s=t.call(this,e)||this).touchStart=function(t){t.stopPropagation(),s.setState({startX:t.touches[0].pageX})},s.touchEnd=function(t){t.stopPropagation(),s.setState({startX:void 0,sliding:!1})},s.touchMove=function(t){if(t.stopPropagation(),s.state.totalImages>1){var e=s.state,o=e.startX,n=t.touches[0].pageX;e.sliding||(n>o+50?(s.setState({sliding:!0}),s.prevImage()):n<o-50&&(s.setState({sliding:!0}),s.nextImage()))}};var o=e.images,n=void 0===o?[]:o;return s.state={imageContainer:1,currentImage1:n[0]||{},currentImage2:{},currentIdx:0,totalImages:n.length||0,imageDots:[].concat(Array(n.length||0).fill(1).map((function(t,e){return t+e})))},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var r=e.prototype;return r.nextImage=function(){var t,e=this.state,s=1===e.imageContainer?2:1,o=e.currentIdx+1;o>e.totalImages-1&&(o=0),this.setState(((t={})["currentImage"+s]=this.props.images[o],t.currentIdx=o,t.imageContainer=s,t))},r.prevImage=function(){var t,e=this.state,s=e.imageContainer,o=e.currentIdx-1;o<0&&(o=e.totalImages-1),this.setState(((t={})["currentImage"+(1===s?2:1)]=this.props.images[o],t.currentIdx=o,t.imageContainer=1===s?2:1,t))},r.componentWillReceiveProps=function(t){if(t.images!==this.props.images){var e=t.images,s=void 0===e?[]:e;this.setState({imageContainer:1,currentImage1:s.length>0?s[0]:{},currentImage2:{},currentIdx:0,totalImages:s.length||0,imageDots:[].concat(Array(s.length||0).fill(1).map((function(t,e){return t+e})))})}},r.render=function(){var t,e,s=this,o=this.state,r=o.currentImage1,a=o.currentImage2,i=o.imageContainer,c=o.totalImages,l=o.imageDots,d=o.currentIdx,u=this["image"+i],h=1===i?r:a;if(h.dimensions){var b=h.dimensions,m=b.width,p=b.height,f=b.orientation;f>4&&f<9?(t=m,e=p):(t=p,e=m)}var O=h.dimensions?e/t:u&&u.height?u.width/u.height:4/3;return c<=0?"":Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"border rounded position-relative w-100",style:"height: calc(85vw / "+O+"); overflow: hidden; transition: all .3s ease-in-out;",onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},c>1&&Object(n.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(n.h)("small",null,d+1,"/",c)),r&&Object(n.h)("div",{class:"position-absolute",style:(1===i?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:r.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return s.image1=t}})),a&&Object(n.h)("div",{class:"position-absolute",style:(2===i?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:a.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return s.image2=t}}))),l.length>1&&Object(n.h)("div",{class:"w-100 text-center"},l.map((function(t){return Object(n.h)("span",{style:"color: "+(t===d+1?"#ffffff":"#808080")+";"},"•")}))))},e}(n.Component))},"3wGD":function(t,e,s){"use strict";var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=s("go65"),l=(s("ETxl"),s("ZOvn")),d=Object(a.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).commentWorkout=function(){return new Promise((function(t,e){var o,n,r,a,i,c,d,u,h,b,m;return s.state.sendButtonEnabled?(r=void 0===(n=(o=s.props).callback)?function(){}:n,a=o.commentId,c=void 0===(i=o.inputRefObject)?{}:i,d=s.props.workout,u=s.props.stores.workoutStore,b=void 0===(h=s.state.comment)?"":h,s.setState({sendButtonEnabled:!1}),Promise.resolve(u.commentReplyWorkout({id:d.id,commentId:a,comment:b})).then((function(o){try{return(m=o)&&200===m.status&&(s.setState({comment:""},(function(){l.a.resizeTextarea(c[a])})),r({workout:d,response:m,commentId:a})),s.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},s.state={sendButtonEnabled:!0},s.inputRef={},s}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props.inputRef,e=this.state,s=e.comment,o=e.sendButtonEnabled,a=this.props.stores.userStore.user,d=void 0===a?{}:a,u=d.firstname?""+r.a.ucfirst(d.firstname,!0)+r.a.ucfirst(d.lastname,!0):""+r.a.ucfirst(d.email||"",!0),h=d.image||(d.images?d.images[0]:void 0);return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?"background-image: url('"+h.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!h&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},u)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(i.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:s,ref:t})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(o?"primary":"secondary")+" mb-2",disabled:!o,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))))},e}(n.Component))||o;e.a=d},"4QWe":function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=s("go65"),l=s("om2D"),d=s("ZOvn"),u=Object(a.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).beforeImagesUploaded=function(){s.setState({sendButtonEnabled:!1})},s.afterImagesUploaded=function(){s.setState({sendButtonEnabled:!0})},s.commentStory=function(){return new Promise((function(t,e){var o,n,r,a,i,c,l,u,h,b,m;return s.state.sendButtonEnabled?(r=void 0===(n=(o=s.props).callback)?function(){}:n,i=void 0===(a=o.inputRefObject)?{}:a,c=s.props.story,l=s.props.stores.storyStore,h=(u=s.state).comment,b=u.showAddImage,s.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentStory({id:c.id,comment:h})).then((function(o){try{return(m=o)&&200===m.status&&(s.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(i[c.id]),b&&s.addImage()})),r({story:c,response:m})),s.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},s.addImages=function(t){var e,o=s.state.comment;(e=o.images).push.apply(e,t.value),s.setState({comment:o})},s.addImage=function(){var t=s.state.showAddImage;s.setState({showAddImage:!(void 0!==t&&t)})},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},s.inputRef={},s}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this,s=this.props,o=s.inputRef,a=s.story,u=this.state,h=u.comment,b=u.showAddImage,m=u.sendButtonEnabled,p=this.props.stores.userStore.user,f=void 0===p?{}:p,O=d.a.displayNameShort(f),g=(d.a.displayName(f),f.image||(f.images?f.images[0]:void 0));return Object(n.h)("div",null,Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(g?"background-image: url('"+g.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!f.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(i.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:h.body,ref:o})),Object(n.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor","data-id":a.id,onClick:this.addImage})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(m?"primary":"secondary")+" mb-2",disabled:!m,onClick:this.commentStory},Object(n.h)("i",{class:"fas fa-paper-plane"})))))),b&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},r.a.isArray(h.images)&&h.images.map((function(t){return Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(n.h)("i",{class:"fas fa-trash"})," ",Object(n.h)(i.c,{id:"comments.remove-image"},"Remove")))})))),Object(n.h)(l.a,{object:h,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},s}(n.Component))||o;e.a=u}).call(this,s("hosL").Fragment)},"5uob":function(t,e,s){"use strict";var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),a=s("OhSV"),i=s("go65"),c=(s("ETxl"),s("ZOvn")),l=Object(r.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).commentStory=function(){return new Promise((function(t,e){var o,n,r,a,i,l,d,u,h,b,m;return s.state.sendButtonEnabled?(r=void 0===(n=(o=s.props).callback)?function(){}:n,a=o.commentId,l=void 0===(i=o.inputRefObject)?{}:i,d=s.props.story,u=s.props.stores.storyStore,b=void 0===(h=s.state.comment)?"":h,s.setState({sendButtonEnabled:!1}),Promise.resolve(u.commentReplyStory({id:d.id,commentId:a,comment:b})).then((function(o){try{return(m=o)&&200===m.status&&(s.setState({comment:""},(function(){c.a.resizeTextarea(l[a])})),r({story:d,response:m,commentId:a})),s.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},s.state={sendButtonEnabled:!0},s.inputRef={},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var r=e.prototype;return r.componentDidMount=function(){var t=this.props.initCall;(void 0===t?function(){}:t)()},r.render=function(){var t=this.props.inputRef,e=this.state,s=e.comment,o=e.sendButtonEnabled,r=this.props.stores.userStore.user,l=void 0===r?{}:r,d=c.a.displayNameShort(l),u=(c.a.displayName(l),l.image||(l.images?l.images[0]:void 0));return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?"background-image: url('"+u.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!u&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(a.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(a.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(a.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(i.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,style:"height: 2.3em;",value:s,ref:t})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(o?"primary":"secondary")+" mb-2",disabled:!o,onClick:this.commentStory},Object(n.h)("i",{class:"fas fa-paper-plane"})))))))},e}(n.Component))||o;e.a=l},"8Lgr":function(t,e,s){"use strict";(function(t){function o(t){return a.a.format(t,t<5?2:1)}var n,r=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(i.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,a;return a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,a=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,o(function(t){return.621371*t}(n))," ",a?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(r.h)(t,null,"mi"))):Object(r.h)(t,null,Object(r.h)("nobr",null,o(n)," ",a?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"km")))):Object(r.h)(t,null,"km")))},s}(r.Component))||n);e.a=c}).call(this,s("hosL").Fragment)},"9Bb9":function(t,e,s){"use strict";var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=s("ETxl"),l=s.n(c),d=s("ZOvn"),u=Object(a.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).loadWorkoutPlans=function(t){return new Promise((function(e,o){function n(){return e()}var r,a,i,c,l,d,u,h,b,m;return void 0===t&&(t=s.props),r=t.stores.workoutPlanStore,a=(new Date).getMonth()+1,i=(new Date).getFullYear(),d=void 0===(l=(c=t).year)?i:l,u=c.month,h=c.currentTeam,b=parseInt(d||((void 0===u?a:u)<8?d-1:d),10),h?Promise.resolve(r.load({query:{team:h,seasonYear:b,seasonMonth:6}})).then(function(){try{if((m=r.workoutPlans[0]||{}).id)return Promise.resolve(r.load(m.id)).then(function(){try{return t.call(this)}catch(t){return o(t)}}.bind(this),o);function t(){return n.call(this)}return t.call(this)}catch(t){return o(t)}}.bind(this),o):n.call(this)}))},s.state={},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var a=e.prototype;return a.loadAll=function(t){return new Promise(function(e){return void 0===t&&(t=this.props),e()}.bind(this))},a.loadTeams=function(t){return new Promise(function(e,s){var o,n,r,a,i,c;return void 0===t&&(t=this.props),o=t.stores.teamStore,n=(new Date).getMonth()+1,r=(new Date).getFullYear(),i=(a=t).month,c=a.year,Promise.resolve(o.load({query:{team:a.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===c?r:c,month:void 0===i?n:i},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.loadWorkoutSummary=function(t){return new Promise(function(e,s){var o;return void 0===t&&(t=this.props),o=t,Promise.resolve(t.stores.userStore.getWorkoutSummary({team:o.currentTeam,year:o.year,dog:o.dog})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.componentDidMount=function(){this.loadAll()},a.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},a.render=function(){var t,e=this.props,s=e.currentTeam,o=this.props.stores,a=o.userStore,c=o.workoutPlanStore,u=o.teamStore,h=c.workoutPlan,b=a.user.language,m=d.a.getMonths(void 0===b?"en":b),p=u.findTeam(s)||{},f=(new Date).getMonth()+1,O=(new Date).getFullYear(),g=this.props,j=g.year,v=void 0===j?O:j,y=g.month,w=parseInt((void 0===y?f:y)<8?v-1:v,10),k=r.a.monthRange(w+"-08-01",w+1+"-07-31");return Object(n.h)("div",{class:"container-fluid mb-2"},Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12"},Object(n.h)("h5",null,Object(n.h)("span",{style:"display: none;"},h.id),Object(n.h)(i.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(n.h)("div",{class:"row mt-2 border-bottom pb-2"},k&&k.map((function(e){if(e.year>v||e.year===v&&e.month>=e)return"";var s=c.sumWorkoutPlanMonth(e.year,e.month+1);if(!s)return"";t=s;var o=a.findWorkoutSummaryMonth(e.year,e.month+1)/s*100,i=o>100?100:r.a.format(o,0);return Object(n.h)("div",{class:"col-3 text-center"},Object(n.h)("div",{class:"px-auto w-100 clearfix"},Object(n.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(n.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+i+"%; width: 40px;","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},r.a.format(o,0),"%"))),Object(n.h)("div",{class:"w-100 mt-1"},m[e.month]," ",e.year))})),!t&&Object(n.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"far fa-sad-tear"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(i.c,{id:"workout.plan.no-workout-plan-found",fields:{name:p.name}},"Ingen treningsplaner funnet for team ",p.name,".")),Object(n.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(n.h)("i",{class:"fas fa-calendar-alt"})," ",Object(n.h)(i.c,{id:"workout.plan.new"},"New workoutplan")))))},e}(n.Component))||o;e.a=u},AEg1:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=s("go65"),u=s("om2D"),h=s("ZOvn"),b={showAddImage:!1,showTeamChange:!1,showChangeVisibility:!1,showChangeType:!1,sendButtonEnabled:!0},m=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).beforeImagesUploaded=function(){s.setState({sendButtonEnabled:!1})},s.afterImagesUploaded=function(){s.setState({sendButtonEnabled:!0})},s.addStory=function(){return new Promise((function(t,e){var o,n,r,a,i,c,l,d,u,b,m,p,f,O,g;return r=void 0===(n=(o=s.state).story)?{}:n,a=o.showAddImage,l=void 0===(c=(i=s.props).callback)?function(){}:c,u=void 0===(d=i.hashTags)?[]:d,b=i.postfix,p=void 0===(m=i.topic)?"team-"+r.team:m,f=s.props.stores.storyStore,o.sendButtonEnabled&&r.body?(s.setState({sendButtonEnabled:!1}),O=r.body,b&&(O+="\n\n"+b),u&&u.length>0&&(O+="\n\n"+u.map((function(t){return"#"+t})).join(" ")),Promise.resolve(f.insert({type:r.type,title:r.title,body:O,pinned:r.pinned,images:r.images,public:r.public?1:0,team:r.team,urlText:r.urlText,url:r.url,currency:r.currency,price:r.price,code:r.code,country:r.country,region:r.region,startDate:r.startDate,endDate:r.endDate,topic:p})).then(function(o){try{if((g=o)&&201===g.status)return Promise.resolve(f.loadPublicFeed({hashtags:u})).then(function(){try{return s.setState({story:{type:1,title:"",body:"",pinned:null,images:[],public:1,urlText:"",url:"",currency:"",price:null,code:"",country:"",region:"",startDate:null,endDate:null}},(function(){h.a.resizeTextarea(s.inputRef.newStoryBody),a&&s.addImage()})),l(g.data),n.call(this)}catch(t){return e(t)}}.bind(this),e);function n(){return s.setState({sendButtonEnabled:!0}),t()}return n.call(this)}catch(t){return e(t)}}.bind(this),e)):t(!1)}))},s.addImages=function(t){var e,o=s.state.story;(e=o.images).push.apply(e,t.value),s.setState({story:o})},s.addImage=function(){s.setState({showAddImage:!s.state.showAddImage})},s.changeVisibility=function(){s.setState({showChangeVisibility:!s.state.showChangeVisibility})},s.changePinned=function(){s.setState({showChangeVisibility:!s.state.showChangeVisibility})},s.changeType=function(){s.setState({showChangeType:!s.state.showChangeType})},s.toggleTeamChange=function(){s.setState({showTeamChange:!s.state.showTeamChange})},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.setPublicTeam=function(){var t=s.props.stores.userStore.findPublicTeams();if(i.a.isArray(t)&&t.length>0){var e=s.state.story;e.team=t[0].id,s.setState({story:e})}},s.setFocus=function(t){s.setState({hasFocus:!0}),h.a.resizeTextarea(t.target)},s.removeFocus=function(){s.setState({hasFocus:!1})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({story:{type:1,title:"",body:"",images:[],public:1,urlText:"",url:"",currency:"",price:0,code:"",country:"",region:"",startDate:"",endDate:""}},b),s.inputRef={},s}var r,c;c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var m=s.prototype;return m.componentDidMount=function(){this.setPublicTeam()},m.render=function(){var e=this,s=this.props,o=s.col,n=void 0===o?12:o,r=s.offset,c=void 0===r?0:r,b=s.hashTags,m=void 0===b?[]:b,p=this.state,f=p.story,O=void 0===f?{}:f,g=p.showAddImage,j=p.showTeamChange,v=p.showChangeVisibility,y=p.showChangeType,w=p.sendButtonEnabled,k=p.hasFocus,x=this.props.stores,S=x.userStore,C=x.appState,P=S.user,I=void 0===P?{}:P,T=S.isAdmin,D=I.firstname?""+i.a.ucfirst(I.firstname,!0)+i.a.ucfirst(I.lastname,!0):""+i.a.ucfirst(I.email||"",!0),L=I.image||(I.images?I.images[0]:void 0);if(O.team){var _=parseInt(O.team,10),R=S.findTeam(_,!0);L=R.image||(R.images?R.images[0]:void 0)}var E=C.darkmode;return Object(a.h)("div",{class:"w-100 px-0"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-"+n+" offset-"+c+" col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 rounded rounded-lg pt-3 pb-1 bg-"+(E?"black":"white")+" shadow-sm mb-1"},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(a.h)("div",{class:"position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall pointerCursor",style:(L?"background-image: url('"+L.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;",onClick:this.toggleTeamChange},!L&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},D)),Object(a.h)("div",{class:"position-absolute",style:"top: 16px; right: 0px;"},Object(a.h)("small",{class:"text-white",style:"font-size: 1.5em;"},Object(a.h)("i",{class:"fas fa-caret-down pointerCursor",onClick:this.toggleTeamChange})))),Object(a.h)("div",{class:"col pl-3 pr-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(l.c,{id:"story.body"},"Story")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(l.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(l.c,{id:"story.write-body"},"Hva tenker du på?.."),onInput:Object(d.a)(this,"story.body"),onKeyUp:h.a.resizeTextarea,onFocus:this.setFocus,style:"height: 2.3em;",value:O.body,ref:function(t){return e.inputRef.newStoryBody=t}})),k&&Object(a.h)("div",{class:"position-absolute",style:"bottom: 8px; right: 10px; font-size: 1.2em;"},Object(a.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage}),Object(a.h)("i",{class:"fas fa-"+(1===O.public?"globe-europe":"users")+" pointerCursor ml-2","data-id":O.id,onClick:this.changeVisibility}),T&&Object(a.h)("i",{class:"fas fa-cog pointerCursor ml-2","data-id":O.id,onClick:this.changeType}))),m&&m.length>0&&Object(a.h)(t,null,m.map((function(e){return Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-secondary mr-2 my-1"},Object(a.h)("a",{href:"/stories/tag/"+e,class:"text-white"},"#",e)))})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight pt-auto"},Object(a.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" ml-1",disabled:!w,onClick:this.addStory},Object(a.h)("i",{class:"fas fa-paper-plane"})))))),Object(a.h)("div",null,Object(a.h)("div",{class:"row"},j&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(d.a)(this,"story.team"),onChange:this.toggleTeamChange},Object(a.h)("option",{value:""},"-- ",Object(a.h)(l.c,{id:"story.team-choose"},"Velg team")," --"),i.a.isArray(I.teams)&&I.teams.map((function(t){var e=S.findTeam(t,!0);return e&&e.public?Object(a.h)("option",{value:e.id,selected:O.team==e.id?"selected":""},e.name):""})),!I.teams&&Object(a.h)(t,null,Object(a.h)("option",{value:""},"No public teams"))))))),v&&Object(a.h)(t,null,T&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("label",{for:"pinned"},"Pinned to top:"),Object(a.h)("input",{id:"pinned",type:"checkbox",onInput:Object(d.a)(this,"story.pinned"),value:1,checked:O.pinned?1:0}))))),Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(d.a)(this,"story.public"),value:O.public,onChange:this.changeVisibility},Object(a.h)("option",{value:0,selected:0==O.public?"selected":""},"👥 ",Object(a.h)(l.c,{id:"story.visibility-followers"},"Kun synlig for de som følger deg.")),Object(a.h)("option",{value:1,selected:1==O.public?"selected":""},"🌍 ",Object(a.h)(l.c,{id:"story.visibility-public"},"Synlig for alle som bruker appen."))))))),y&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(d.a)(this,"story.type"),value:O.type,onChange:this.changeType},Object(a.h)("option",{value:""},"-- ",Object(a.h)(l.c,{id:"story.type-choose"},"Velg type")," --"),Object(a.h)("option",{value:1,selected:1==O.type?"selected":""},"✍️ ",Object(a.h)(l.c,{id:"story.type-regular"},"Vanlig")),Object(a.h)("option",{value:2,selected:2==O.type?"selected":""},"🚀 ",Object(a.h)(l.c,{id:"story.type-ad"},"Annonse")),Object(a.h)("option",{value:3,selected:3==O.type?"selected":""},"📄 ",Object(a.h)(l.c,{id:"story.type-article"},"Artikkel"))))))),g&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},i.a.isArray(O.images)&&O.images.map((function(t){return Object(a.h)("div",{class:"col-3 p-1"},Object(a.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(a.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(a.h)(u.a,{object:O,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))),O.type>1&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.url-text"},"URL text")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"urlText",onInput:Object(d.a)(this,"story.urlText"),value:O.urlText})))),Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.url"},"URL")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"url",onInput:Object(d.a)(this,"story.url"),value:O.url}))))),2==O.type&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.code"},"Code")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"code",onInput:Object(d.a)(this,"story.code"),value:O.code})))),Object(a.h)("div",{class:"col-12"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.region"},"Region")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"region",onInput:Object(d.a)(this,"story.region"),value:O.region})))),Object(a.h)("div",{class:"col-12"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.country"},"Country")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"country",onInput:Object(d.a)(this,"story.country"),value:O.country})))),Object(a.h)("div",{class:"col-4"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.currency"},"Currency")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"currency",onInput:Object(d.a)(this,"story.currency"),value:O.currency})))),Object(a.h)("div",{class:"col-8"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.price"},"Price")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"price",onInput:Object(d.a)(this,"story.price"),value:O.price}))))))))))},s}(a.Component))||r;e.a=m}).call(this,s("hosL").Fragment)},B95u:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),d=s("cneo"),u=s("OhSV"),h=s("fh8t"),b=s.n(h),m=s("go65"),p=s("5uob"),f=(s("ETxl"),s("ZOvn")),O={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{},likeComment:{},likeReply:{},showOriginal:{}},g=Object(l.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).addLikeComment=function(t){return new Promise((function(e,o){var n,r,a,i,c,l,d;return r=void 0===(n=s.props.callback)?function(){}:n,a=t.target.closest(".commentContainer").dataset.id,i=s.props.story,c=s.props.stores.storyStore,(l=s.state.likeComment)[a]=!0,s.setState({likeComment:l}),setTimeout((function(){var t=s.state.likeComment;delete t[a],s.setState({likeComment:t})}),1200),Promise.resolve(c.likeStoryComment({id:i.id,commentId:a})).then((function(t){try{return(d=t)&&200===d.status&&r({type:"likeComment",story:i,commentId:a,response:d}),e(!0)}catch(t){return o(t)}}),o)}))},s.likeReply=function(t){return new Promise((function(e,o){var n,r,a,i,c,l,d,u;return r=void 0===(n=s.props.callback)?function(){}:n,a=t.target.closest(".replyContainer").dataset.id,i=t.target.closest(".replyContainer").dataset.comment,c=s.props.story,l=s.props.stores.storyStore,(d=s.state.likeReply)[a]=!0,s.setState({likeReply:d}),setTimeout((function(){var t=s.state.likeReply;delete t[a],s.setState({likeReply:t})}),1200),Promise.resolve(l.likeStoryCommentReply({id:c.id,replyId:a,commentId:i})).then((function(t){try{return(u=t)&&200===u.status&&r({type:"likeReply",story:c,commentId:i,replyId:a,response:u}),e()}catch(t){return o(t)}}),o)}))},s.replyComment=function(t){return new Promise((function(e){var o=t.target.parentElement.dataset.id||t.target.dataset.id,n=s.state.showAddComment;return n[o]=!n[o],s.setState({showAddComment:n},(function(){s.inputRef[o]&&s.inputRef[o].focus()})),e()}))},s.toggleComments=function(){s.setState({showAllComments:!s.state.showAllComments})},s.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,o=s.state.showAllReplies;o[e]=!o[e],s.setState({showAllReplies:o})},s.toggleMenu=function(t){var e=t.target.closest("i").dataset.id,o=s.state.showMenu,n=void 0===o?{}:o;n[e]=!n[e],s.setState({showDeleteComment:{},showEdit:{},showMenu:n})},s.toggleEdit=function(t){var e=t.target.closest("button").dataset,o=e.id,n=e.comment,r=s.state.showEdit,a=void 0===r?{}:r;a[o]=!a[o],s.setState({showDeleteComment:{},showEdit:a,showMenu:{},commentEditText:n})},s.toggleDeleteComment=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showDeleteComment,n=void 0===o?{}:o;n[e]=!n[e],s.setState({showDeleteComment:n,showEdit:{},showMenu:{}})},s.deleteComment=function(t){return new Promise((function(e,o){var n;return n=t.target.closest("button").dataset.id,Promise.resolve(s.props.stores.storyStore.deleteCommentStory({id:s.props.story.id,commentId:n})).then((function(){try{return s.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.deleteCommentReply=function(t){return new Promise((function(e,o){var n;return n=t.target.closest("button").dataset,Promise.resolve(s.props.stores.storyStore.deleteCommentReplyStory({id:s.props.story.id,commentId:n.commentid,replyId:n.id})).then((function(){try{return s.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.saveComment=function(t){return new Promise((function(e,o){var n;return n=t.target.closest("button").dataset.id,Promise.resolve(s.props.stores.storyStore.editCommentStory({id:s.props.story.id,commentId:n,comment:s.state.commentEditText})).then((function(){try{return s.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.saveCommentReply=function(t){return new Promise((function(e,o){var n;return n=t.target.closest("button").dataset,Promise.resolve(s.props.stores.storyStore.editCommentReplyStory({id:s.props.story.id,commentId:n.commentid,replyId:n.id,comment:s.state.commentEditText})).then((function(){try{return s.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.translate=function(t){return new Promise((function(e,o){function n(){return s.setState({showOriginal:m,translatedText:f}),e()}var r,a,i,c,l,d,u,h,b,m,p,f,O;return t.preventDefault(),t.stopPropagation(),r=t.target.closest("button").dataset,c=s.props.story,d=(l=s.props.stores).storyStore,u=l.userStore.user,f=void 0===(p=(h=s.state).translatedText)?{}:p,(m=void 0===(b=h.showOriginal)?{}:b)[O=(i=r.commentid)+((a=r.replyid)?"-"+a:"")]=0,a?Promise.resolve(d.translateCommentReply({commentid:i,replyid:a,story:c,user:u})).then(function(t){try{return f[O]=t,n.call(this)}catch(t){return o(t)}}.bind(this),o):Promise.resolve(d.translateComment({commentid:i,story:c,user:u})).then(function(t){try{return f[O]=t,n.call(this)}catch(t){return o(t)}}.bind(this),o)}))},s.showOriginal=function(t){var e=t.target.closest("button").dataset,o=e.replyid,n=e.commentid;t.preventDefault(),t.stopPropagation();var r=s.state.showOriginal,a=void 0===r?{}:r;a[n+(o?"-"+o:"")]=1,s.setState({showOriginal:a})},s.state=n(n({},O),{},{showAllComments:t.showAllComments}),s.inputRef={},s}var o,r;return r=e,(o=s).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,s.prototype.render=function(){var e,s=this,o=this.state,n=o.showAddComment,r=o.showAllComments,a=o.showAllReplies,l=o.viewImageIdx,h=o.showMenu,O=void 0===h?{}:h,g=o.showEdit,j=void 0===g?{}:g,v=o.showDeleteComment,y=void 0===v?{}:v,w=o.commentEditText,k=o.likeComment,x=o.showOriginal,S=void 0===x?{}:x,C=o.translatedText,P=void 0===C?{}:C,I=this.props,T=I.story,D=I.callback,L=void 0===D?function(){}:D,_=I.initCall,R=void 0===_?function(){}:_,E=I.compact,F=this.props.stores,A=F.userStore,U=F.storyStore,N=A.user,M=N.language,z=void 0===M?"en":M,V=[],B=0,W=0;return T.comments&&(B=T.comments.length,r?V=T.comments:(e=void 0!==E&&E?0:2,V=T.comments.slice(Math.max(B-e,0))),W=V.length),Object(i.h)("div",null,T&&c.a.isArray(V)&&V.reverse().map((function(o){var r=o.user,h=void 0===r?{}:r,g=U.findPublicTeamByMembers(h.id),v=f.a.displayNameShort(h),x=f.a.displayName(h),C=h.image||(h.images?h.images[0]:void 0),I=o.likes&&o.likes.findIndex((function(t){return t.user===N.id}))>-1,D=[],_=0,E=0;o.comments&&(_=o.comments.length,E=(D=a[o.id]?o.comments:o.comments.slice(0,e)).length);var F=[];if(o.images){var A=Object(d.i)(o.images);F.push.apply(F,A)}var M=l[o.id]?l[o.id]:0,V=F&&F[M]?F[M]:null,B=U.getCommentTranslations({story:T,commentid:o.id,targetLang:z})||P[o.id],W=B||o.comment;return S[o.id]&&(W=o.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(C?'background-image: url("'+C.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!h.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},v)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg position-relative"},N.id===h.id&&Object(i.h)(t,null,Object(i.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(i.h)("i",{class:"fas fa-ellipsis-h",onClick:s.toggleMenu,"data-id":o.id}))),O[o.id]&&Object(i.h)(t,null,Object(i.h)("div",{class:"position-absolute bg-white p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},Object(i.h)("button",{class:"btn btn-link btn-block text-left",onClick:s.toggleEdit,"data-id":o.id,"data-comment":o.comment},Object(i.h)("i",{class:"fas fa-edit"})," Edit"),Object(i.h)("hr",null),Object(i.h)("button",{class:"btn btn-link btn-block text-left",onClick:s.toggleDeleteComment,"data-id":o.id},Object(i.h)("i",{class:"fas fa-trash-alt"})," Delete"))),Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-2",style:"font-size: 1.0em;"},h.uuidv4&&h.uuidv4!==N.uuidv4?Object(i.h)(t,null,Object(i.h)("a",{href:"/inbox/"+h.uuidv4},x)):Object(i.h)(t,null,x),g&&g.length>0&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-lighter text-muted ml-1"},g.filter((function(t){return 1===t.public})).slice(0,1).map((function(e){return Object(i.h)(t,null,"- ",Object(i.h)("a",{href:"/teams/public/"+e.uuidv4},e.name))}))))),j[o.id]?Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(u.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(u.b,null,Object(i.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(u.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(m.a)(s,"commentEditText"),onKeyUp:f.a.resizeTextarea,onFocus:f.a.resizeTextarea,style:"height: 2.3em;",value:w})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:s.saveComment,"data-id":o.id},Object(i.h)("i",{class:"fas fa-paper-plane"}))))):Object(i.h)(t,null,Object(i.h)(b.a,{markdown:f.a.replaceImages(W,o.images,z),markdownOpts:f.a.getMarkdownOptions()})),y[o.id]&&Object(i.h)("div",{class:"clearfix mt-3 mb-3"},Object(i.h)("button",{class:"btn btn-danger float-left",onClick:s.deleteComment,"data-id":o.id},Object(i.h)("i",{class:"fas fa-trash-alt"})," Delete"),Object(i.h)("button",{class:"btn btn-secondary float-right",onClick:s.toggleDeleteComment,"data-id":o.id},Object(i.h)("i",{class:"fas fa-times-circle"})," Cancel")))),Object(i.h)("div",null,Object(i.h)("div",{class:"container-fluid px-3 mt-1"},V&&Object(i.h)("div",{class:"clearfix row position-relative"},Object(i.h)("div",{class:"commentContainer col-12 px-0 overflow-hidden",style:"max-height: 60vh;",onDblclick:s.addLikeComment,"data-id":o.id},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:V.s3LargeLink})),k[o.id]&&Object(i.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(i.h)("i",{class:"fas fa-heart likeStory"}))),F&&F.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},c.a.isArray(F)&&F.map((function(e,n){return Object(i.h)(t,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:s.viewImage,"data-id":o.id,"data-idx":n})))})))))),Object(i.h)("small",null,Object(i.h)("button",{class:"commentContainer btn btn-sm btn-link py-0 "+(I?"text-primary":""),onClick:s.addLikeComment,"data-id":o.id,disabled:I},I?Object(i.h)(u.c,{id:"comments.has-liked"},"Liked"):Object(i.h)(u.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.replyComment,"data-id":o.id},Object(i.h)(u.c,{id:"comments.comment-add"},"Kommentar")),o.language!==z&&Object(i.h)(t,null,"-",!S[o.id]&&B?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":o.id,onClick:s.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:s.translate,"data-commentid":o.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(u.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(o.createdDate,new Date,{locale:"no-NB"}),o.updatedDate&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(o.updatedDate,new Date,{locale:"no-NB"}),")"))))),o.likes&&o.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",o.likes.length)),Object(i.h)("div",{class:"col-10 offset-2 mb-2"},o&&c.a.isArray(D)&&D.map((function(e){var n=e.user,r=void 0===n?{}:n,a=U.findPublicTeamByMembers(r.id),l=f.a.displayNameShort(r),d=f.a.displayName(r),h=r.image||(r.images?r.images[0]:void 0),p=e.likes&&e.likes.findIndex((function(t){return t.user===N.id}))>-1,g=U.getCommentReplyTranslations({story:T,commentid:o.id,replyid:e.id,targetLang:z})||P[o.id+"-"+e.id],v=g||e.comment;return S[o.id+"-"+e.id]&&(v=e.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(h?'background-image: url("'+h.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!r.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg position-relative"},N.id===r.id&&Object(i.h)(t,null,Object(i.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(i.h)("i",{class:"fas fa-ellipsis-h",onClick:s.toggleMenu,"data-id":e.id}))),O[e.id]&&Object(i.h)(t,null,Object(i.h)("div",{class:"position-absolute bg-white p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},Object(i.h)("button",{class:"btn btn-link btn-block text-left",onClick:s.toggleEdit,"data-id":e.id,"data-comment":e.comment},Object(i.h)("i",{class:"fas fa-edit"})," Edit"),Object(i.h)("hr",null),Object(i.h)("button",{class:"btn btn-link btn-block text-left",onClick:s.toggleDeleteComment,"data-id":e.id},Object(i.h)("i",{class:"fas fa-trash-alt"})," Delete"))),Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-2",style:"font-size: 1.0em;"},d,a&&a.length>0&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-lighter text-muted ml-2"},a.filter((function(t){return 1===t.public})).slice(0,1).map((function(e){return Object(i.h)(t,null,"- ",Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"}," ",e.name))}))))),j[e.id]?Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(u.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(u.b,null,Object(i.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(u.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(m.a)(s,"commentEditText"),onKeyUp:f.a.resizeTextarea,onFocus:f.a.resizeTextarea,style:"height: 2.3em;",value:w})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:s.saveCommentReply,"data-commentid":o.id,"data-id":e.id},Object(i.h)("i",{class:"fas fa-paper-plane"}))))):Object(i.h)(t,null,Object(i.h)(b.a,{markdown:f.a.replaceImages(v,e.images,z),markdownOpts:f.a.getMarkdownOptions()})),y[e.id]&&Object(i.h)("div",{class:"clearfix mt-3 mb-3"},Object(i.h)("button",{class:"btn btn-danger float-left",onClick:s.deleteCommentReply,"data-id":e.id,"data-commentid":o.id},Object(i.h)("i",{class:"fas fa-trash-alt"})," Delete"),Object(i.h)("button",{class:"btn btn-secondary float-right",onClick:s.toggleDeleteComment,"data-id":e.id},Object(i.h)("i",{class:"fas fa-times-circle"})," Cancel")))),Object(i.h)("small",null,Object(i.h)("button",{class:"replyContainer btn btn-sm btn-link py-0 "+(p?"text-primary":""),onClick:s.likeReply,"data-comment":o.id,"data-id":e.id,disabled:p},p?Object(i.h)(u.c,{id:"comments.has-liked"},"Liked"):Object(i.h)(u.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.replyComment,"data-id":o.id},Object(i.h)(u.c,{id:"comments.comment-add"},"Kommentar")),e.language!==z&&Object(i.h)(t,null,"-",!S[o.id+"-"+e.id]&&g?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":o.id,"data-replyid":e.id,onClick:s.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:s.translate,"data-commentid":o.id,"data-replyid":e.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(u.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"}),e.updatedDate&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(e.updatedDate,new Date,{locale:"no-NB"}),")"))))),e.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),_-E>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.toggleReplies,"data-id":o.id},Object(i.h)(u.c,{id:"comments.show-more",fields:{more:_-E}},"Vis ",_-E," flere kommentarer...")))),n[o.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(p.a,{stores:s.props.stores,story:T,initCall:R,callback:L,commentId:o.id,inputRef:function(t){return s.inputRef[o.id]=t},inputRefObject:s.inputRef,key:"story-commentreply-"+o.id})))})),B-W>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(u.c,{id:"comments.show-more",fields:{more:B-W}},"Vis ",B-W," flere kommentarer..."))),r&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(u.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},s}(i.Component))||a;e.a=g}).call(this,s("hosL").Fragment)},CE5K:function(t,e,s){"use strict";function o(){try{if(window)return window}catch(t){return}}function n(){var t=o();return t&&(!(!t.matchMedia||!t.matchMedia("(display-mode: standalone)").matches)||t.navigator&&!0===t.navigator.standalone)||!1}function r(){u.onPrompts.forEach((function(t){return t(u.prompt)}))}function a(t){if(!u.installPromptListener){var e=o();if(!e||n())return null;u.installPromptListener=function(t){t.preventDefault();var s=t;u.prompt=function(){return new Promise((function(t){u.appInstalledListener=function(){t(!0)},e.addEventListener("appinstalled",u.appInstalledListener),s.prompt(),s.userChoice.then((function(e){"accepted"!==e.outcome&&t(!1)}))})).then((function(t){return s=null,u.appInstalledListener&&e.removeEventListener("appinstalled",u.appInstalledListener),t&&(u.prompt=null,r()),t}))},r()},e.addEventListener("beforeinstallprompt",u.installPromptListener)}return t?(u.onPrompts.push(t),u.prompt&&t(u.prompt),function(){return e=t,void(u.onPrompts=u.onPrompts.filter((function(t){return t!==e})));var e}):function(){return function(){var t=o();u.installPromptListener&&(t&&t.removeEventListener&&t.removeEventListener("beforeinstallprompt",u.installPromptListener),u.installPromptListener=null),u.appInstalledListener&&(t&&t.removeEventListener&&t.removeEventListener("appinstalled",u.appInstalledListener),u.appInstalledListener=null),u.prompt=null,u.onPrompts=[]}()}}function i(){var t=Object(d.k)(n())[0],e=Object(d.k)(null),s=e[0],o=e[1];return Object(d.d)((function(){return a((function(t,e){o({prompt:function(){return t().then((function(t){return t&&e(),t}))}})}))})),{isStandalone:t,installPrompt:s&&s.prompt}}function c(){var t=i(),e=t.installPrompt,s=t.isStandalone;return e&&Object(l.h)("div",{class:"text-center"},Object(l.h)("a",{class:"btn btn-success",href:"#",onclick:e},Object(l.h)(h.c,{id:"install.install-app"},"Install The Musher")))||s&&""}s.d(e,"a",(function(){return c}));var l=s("hosL"),d=s("QRet"),u={prompt:null,installPromptListener:null,appInstalledListener:null,onPrompts:[]},h=s("OhSV")},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},ISGx:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),d=s("cneo"),u=s("OhSV"),h=s("fh8t"),b=s.n(h),m=s("Y3FI"),p=s("s4FZ"),f=s("ZQlJ"),O=s("sqi2"),g=s("/922"),j=s("eQ6k"),v=s("+JSK"),y=s("vY+r"),w=s("nHdA"),k=s("irB3"),x=s("UwwE"),S=s("8Lgr"),C=s("QkTp"),P=s("ZOvn"),I={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:15,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},T=Object(l.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleDate=function(t){t.stopPropagation(),t.preventDefault(),s.setState({showDate:!s.state.showDate})},s.likeWorkout=function(t){return new Promise((function(e,o){var n,r,a,i;return n=parseInt(t.target.closest(".imageContainer").dataset.id,10),r=s.props.stores.workoutStore,(a=s.state.likeWorkout)[n]=!0,s.setState({likeWorkout:a}),setTimeout((function(){var t=s.state.likeWorkout;delete t[n],s.setState({likeWorkout:t})}),1200),Promise.resolve(r.likeWorkout({id:n})).then((function(t){try{return(i=t)&&200===i.status&&s.addLikeToFeed(n,i.data),e()}catch(t){return o(t)}}),o)}))},s.addCommentToFeed=function(t){var e=t.type,o=t.workout,n=t.response,r=t.commentId,a=t.replyId,i=s.props.holdingStore,c=void 0===i?"team":i;if("team"===c){var l=s.props.stores.teamStore;switch(e){case"likeComment":l.addLikeToComment({id:o.id,data:n.data,commentId:r});break;case"likeReply":l.addLikeToCommentReply({id:o.id,data:n.data,commentId:r,replyId:a});break;default:r?l.addCommentToWorkoutComment({id:o.id,data:n.data,commentId:r}):l.addCommentToWorkout({id:o.id,data:n.data})}}else if("story"===c){var d=s.props.stores.storyStore;switch(e){case"likeComment":d.workoutsAddLikeToComment({id:o.id,data:n.data,commentId:r});break;case"likeReply":d.workoutsAddLikeToCommentReply({id:o.id,data:n.data,commentId:r,replyId:a});break;default:r?d.workoutsAddCommentToWorkoutComment({id:o.id,data:n.data,commentId:r}):d.workoutsAddCommentToWorkout({id:o.id,data:n.data})}}},s.addLikeToFeed=function(t,e){var o=s.props.holdingStore,n=void 0===o?"team":o;if("team"===n)s.props.stores.teamStore.addLikeToWorkout({id:t,data:e});else if("story"===n){s.props.stores.storyStore.workoutsAddLikeToWorkout({id:t,data:e})}},s.toggleAddComment=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showAddComment;o[e]?delete o[e]:o[e]=!0,s.setState({showAddComment:o},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.shareLink=function(t){var e=t.target.closest("button").dataset;s.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},s.showWorkoutDetail=function(t){if("a"===t.target.localName)return!1;var e=t.target.closest("#workoutDetail");if(e){var s=e.dataset.id;s&&(console.log({target:e,id:s}),Object(m.route)("/workouts/public/"+s))}},s.translate=function(t){return new Promise((function(e,o){var n,r,a,i,c,l,d;return t.preventDefault(),t.stopPropagation(),r=void 0===(n=s.props.feed)?{}:n,i=(a=s.props.stores).teamStore,c=a.userStore.user,Promise.resolve(i.translate({object:r,user:c,field:"name"})).then(function(t){try{if(l=t,r.comment)return Promise.resolve(i.translate({object:r,user:c,field:"comment"})).then(function(t){try{return d=t,n.call(this)}catch(t){return o(t)}}.bind(this),o);function n(){return s.setState({showOriginal:0,translatedTextName:l,translatedTextComment:d}),e()}return n.call(this)}catch(t){return o(t)}}.bind(this),o)}))},s.showOriginal=function(t){t.preventDefault(),t.stopPropagation(),s.setState({showOriginal:1})},s.state=n({},I),s.inputRef={},s.containerRef=null,s}var o,r;return r=e,(o=s).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,s.prototype.render=function(){var e=this,s=this.props,o=s.feed,r=s.onTeamClick,a=void 0===r?function(){}:r,l=s.onUserClick,h=void 0===l?function(){}:l,m=s.onDogClick,I=void 0===m?function(){}:m,T=s.holdingStore,D=void 0===T?"team":T,L=this.state,_=L.showAddComment,R=L.showDate,E=L.likeWorkout,F=L.showOriginal,A=L.translatedTextName,U=L.translatedTextComment,N=this.props.stores,M=N.teamStore,z=N.storyStore,V=N.userStore,B=N.appState,W=V.user,q=V.isAdmin,Y=W.language,K=void 0===Y?"en":Y,Z=B.hasShareApi,H=M.publicDogs,J={},G={};"team"===D?(J=M.findPublicTeam(o.team),G=M.findPublicUser(o.user)||{}):"story"===D&&(J=z.findPublicTeam(o.team),G=z.findPublicUser(o.user)||{});V.findTeamAmbition({ambition:J.ambitions,language:K});var Q,X,$=V.findTeamType({type:J.type,language:K}),tt=!(!J||!J.members)&&J.members.some((function(t){return t===W.id})),et=P.a.getImage({user:G,team:J,object:o,priority:"user"}),st=o.likes,ot=o.comments,nt=o.likes&&o.likes.findIndex((function(t){return t.user===W.id}))>-1,rt=J&&J.followers?J.followers.length:0,at=J.members&&J.members.indexOf(W.id)>-1,it=J&&J.followers&&J.followers.indexOf(W.id)>-1,ct=J.followRequests&&J.followRequests.findIndex((function(t){return t.id===W.id}))>-1,lt=V.findEquipment({equipment:o.equipment,language:K}),dt=V.findEquipment({equipment:o.equipment,field:"icon"}),ut=o.gpxInfo,ht=void 0===ut?{}:ut;G&&(P.a.displayNameShort(G),P.a.displayName(G),Q=P.a.displayName(G),G.settings&&G.uuidv4!==W.uuidv4&&(X=G.settings.hideProfile?null:"/inbox/"+G.uuidv4));var bt=[];if(o.mapImage&&bt.push(n(n({},o.mapImage),{},{type:"map"})),o.images){var mt=Object(d.i)(o.images);bt.push.apply(bt,mt)}var pt=o.currentLocationGeocode,ft=void 0===pt?{}:pt,Ot=P.a.getViews(o.statistics),gt=P.a.getAdminData(o.statistics);if(!J||!J.name)return"";var jt=P.a.getTranslation({object:o,targetLang:K,field:"name"})||A,vt=jt||o.name,yt=P.a.getTranslation({object:o,targetLang:K,field:"comment"})||U||o.comment;return F&&(vt=o.name,yt=o.comment),Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex position-relative"},Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:et?'background-image: url("'+et+'"); background-size: cover;':""},!et&&Object(i.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(i.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(i.h)("span",{class:"badge badge-pill badge-secondary float-right"},$),Object(i.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em;"},J.public?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+J.uuidv4,onClick:function(t){return a(t,J.uuidv4)},class:"stretched-link"},J.name)):Object(i.h)(t,null,J.name)),Object(i.h)("div",{class:"mb-2"},o.date&&Object(i.h)("small",{class:"text-muted",onClick:this.toggleDate},R?c.a.formatDate(o.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):c.a.formatDistance(o.date,new Date,{locale:"no-NB"})),1===o.public?Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-globe-europe"}))):Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-users"})," (",c.a.format(rt),")")),Q&&Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},X?Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-user"})," ",Object(i.h)("a",{href:X},Q)):Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-user"})," ",Q))),Object(i.h)("small",{class:"text-muted"},o.equipment>0&&Object(i.h)(t,null,Object(i.h)("i",{class:dt+" ml-2"})," ",lt),o.dogs>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",o.dogs.length),o.track>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-map-marked text-"+(o.track>0?"success":"danger")+" ml-2"})),o.sledWeight>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(i.h)(x.a,{stores:this.props.stores,value:o.sledWeight})),0!==o.temperature&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(i.h)(C.a,{stores:this.props.stores,value:o.temperature})),o.dogs&&o.dogs.length>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",c.a.format(o.dogs.length,0)),ft&&ft.formattedCounty&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-map-marker-alt ml-2"})," ",ft.formattedCounty),o.moonIllumination&&o.moonIllumination.phaseIcon&&Object(i.h)("span",{class:"float-right ml-2"},o.moonIllumination.phaseIcon))),q&&Object(i.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(i.h)("small",{class:"text-muted mr-2"},"Adm:"),ft&&ft.formatted_address&&Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",ft.formatted_address)),G.deviceInfo&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-secondary ml-1 float-right font-weight-light"},["platform","manufacturer","model"].map((function(e){return Object(i.h)(t,null,Object(i.h)("span",{class:"ml-1 text-white"},G.deviceInfo[e]))})))),gt&&Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},"V: ",gt.count),Object(i.h)("small",{class:"ml-2 text-muted"},"R: ",gt.ranking," ",c.a.isNumber(gt.rankingTrend)&&Object(i.h)(t,null,Object(i.h)("i",{class:P.a.getClassForTrend(gt.rankingTrend)}))),Object(i.h)("small",{class:"ml-2 text-muted"},"D: ",c.a.format(gt.durationAvg/1e3,1),"s ",c.a.isNumber(gt.durationAvgTrend)&&Object(i.h)(t,null,Object(i.h)("i",{class:P.a.getClassForTrend(gt.durationAvgTrend)}))),o.statisticsCurrent&&o.statisticsCurrent.totalInteractions>0&&Object(i.h)("small",{class:"ml-2 text-muted"},"S: ",c.a.format(o.statisticsCurrent.totalInteractions,0)),o.shadowTags&&o.shadowTags.map((function(e){return Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},e))})))))),Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row"},Object(i.h)(p.a,{stores:this.props.stores,images:bt,id:o.id,dblClick:this.likeWorkout,likeRef:E}))),o.dogs&&o.dogs.length>0&&Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row pt-2"},Object(i.h)(f.a,{stores:this.props.stores,dogs:o.dogs,allDogs:H,onDogClick:I}))),Object(i.h)("div",{class:"d-flex justify-content-between bg-light rounded-lg px-2"},o.distanceKm>0&&Object(i.h)("div",{class:"mr-2 text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(u.c,{id:"workout.calendar.distance"},"Distanse"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(S.a,{stores:this.props.stores,value:o.distanceKm}))),o.elevation>0&&Object(i.h)("div",{class:"mr-2 text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(u.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(k.a,{stores:this.props.stores,value:o.elevation}))),o.duration>0&&Object(i.h)("div",{class:"mr-2 text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(u.c,{id:"workout.calendar.duration"},"Varighet"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},c.a.secToHms(o.duration,!0))),o.speedAvg>0&&Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},ht&&ht.avgGpsMovingSpeed>0?Object(i.h)(t,null,Object(i.h)(w.a,{stores:this.props.stores,value:3.6*ht.avgGpsMovingSpeed})):Object(i.h)(t,null,Object(i.h)(w.a,{stores:this.props.stores,value:o.speedAvg}))))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{id:"workoutDetail",class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;",onClick:this.showWorkoutDetail,"data-id":o.uuidv4},Object(i.h)(b.a,{markdown:P.a.replaceImages(vt,o.images,K),markdownOpts:P.a.getMarkdownOptions()})),Object(i.h)("div",{class:"clearfix col-12"},Object(i.h)(b.a,{markdown:P.a.replaceImages(yt,o.images,K),markdownOpts:P.a.getMarkdownOptions()})),o.language!==K&&Object(i.h)(t,null,!F&&jt?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.translate},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(u.c,{id:"home.translate-to"},"See translation"))))),Object(i.h)("div",{class:"mt-2"},Object(i.h)(v.a,{stores:this.props.stores,likes:st,comments:ot,type:"team",onTeamClick:a,onUserClick:h})),!at&&!it&&!ct&&Object(i.h)("div",{class:"clearfix mb-2"},Object(i.h)(j.a,{stores:this.props.stores,team:J,buttonOnly:!0})),Object(i.h)("div",null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:"imageContainer btn btn-sm btn-outline-"+(nt?"primary":"secondary")+" btn-lg btn-block "+(nt?"text-primary":"")+" text-overflow","data-id":o.id,onClick:this.likeWorkout},Object(i.h)("i",{class:(nt?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(i.h)(u.c,{id:"comments.like"},"Lik"))),Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":o.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," ",Object(i.h)(u.c,{id:"comments.comment-add"},"Kommentar"))),Z?Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+o.uuidv4,"data-title":"title: "+o.title},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(u.c,{id:"story.share"},"Del")))):Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+o.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(u.c,{id:"story.share"},"Del")))))),Ot>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"mt-2"},Object(i.h)(y.a,{stores:this.props.stores,views:Ot,object:o,type:"team",isTeamAdmin:tt,isAdmin:q,onTeamClick:a,onUserClick:h}))),Object(i.h)("div",{class:"mt-2"},_[o.id]&&Object(i.h)(g.a,{stores:this.props.stores,workout:o,inputRef:function(t){return e.inputRef[o.id]=t},inputRefObject:this.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:this.addCommentToFeed}),Object(i.h)(O.a,{stores:this.props.stores,workout:o,col:"12",offset:"0",compact:!1,callback:this.addCommentToFeed})))},s}(i.Component))||a;e.a=T}).call(this,s("hosL").Fragment)},L3gU:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=s("VKmm"),u=s("rWES"),h=s("epqT"),b=s("yHBq"),m=s("q/oJ"),p=s("gWxU"),f=s("Nanz"),O=s("ISGx"),g=s("ZOvn"),j={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:10,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},v=["id","type","user","team","title"],y=Object(c.a)(r=function(e){function s(s){var r;return(r=e.call(this,s)||this).setLoadMore=function(){r.props.stores.teamStore.setLoadMore((function(){var t=r.props.teamid,e=r.state,s=e.limit,o=e.offset;r.setState({offset:o+=s}),r.loadTeamsPublicFeed({limit:s,offset:o,teamid:t})}))},r.unsetLoadMore=function(){r.props.stores.teamStore.setLoadMore((function(){}))},r.insertTopRanked=function(){for(var t=r.props.stores.teamStore,e=t.publicTeamsFeed,s=i.a.shuffleArray(t.topRankedWorkouts),o=[].concat(e),n=0;n<3;n+=1){var a=g.a.randomInt(0,7);i.a.isObject(s[n])&&o.splice(a,0,s[n])}t.localUpdateField("publicTeamsFeed",o)},r.insertAds=function(){var t=r.state.idxAd,e=r.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"ad",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},r.insertTeamConfirm=function(){var t=r.state.idxConfirm,e=r.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"teamConfirm",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},r.insertTeamSuggestions=function(){var t=r.state.idxSuggestion,e=r.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},r.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),r.setState({showTeam:e}),!1},r.hideTeam=function(){r.setState({showTeam:null})},r.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},r.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),r.setState({showDog:e,dogs:s}),!1},r.hideDog=function(){r.setState({showDog:null})},r.setupIntersection=function(){r.setState({handleIntersection:g.a.intersectionObserverCallback});var t=r.props.stores.teamStore;r.scrollViewTimer=setInterval((function(){return t.postScrollview(g.a.getIntersectionObserverHistory())}),3e4)},r.renderContent=function(e){var s=e.obj,o=e.idx,n=r.props.stores.appState.path;return"ad"===s.type?Object(a.h)(t,null,Object(a.h)(h.a,{stores:r.props.stores,path:n})):"teamConfirm"===s.type?Object(a.h)(t,null,Object(a.h)(u.a,{stores:r.props.stores})):"teamSuggestions"===s.type?Object(a.h)(t,null,Object(a.h)(d.a,{stores:r.props.stores})):Object(a.h)(t,null,Object(a.h)(O.a,{stores:r.props.stores,feed:s,idx:o,onTeamClick:r.onTeamClick,onUserClick:r.onUserClick,onDogClick:r.onDogClick}))},r.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},j),r}var r,c;c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var y=s.prototype;return y.loadTeamsPublicFeed=function(t){return new Promise(function(e,s){var o,n;return n=void 0===(o=t.props)?this.props:o,Promise.resolve(n.stores.teamStore.loadPublicFeed({limit:t.limit,offset:t.offset,sort:"-createdDate",teamid:n.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},y.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeamsPublicFeed({props:t,limit:this.state.limit,offset:0,teamid:t.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},y.componentWillMount=function(){this.setupIntersection()},y.componentWillUnmount=function(){this.unsetLoadMore(),this.props.stores.teamStore.postScrollview(g.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer)},y.componentDidMount=function(){this.loadAll(),this.setLoadMore()},y.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},y.render=function(){var e,s,o=this.state,n=o.showTeam,r=o.showDog,i=o.handleIntersection,c=o.sessionid,d=o.dogs,h=this.props.stores,O=h.teamStore,j=h.appState,y=O.publicTeamsFeed,w=j.darkmode,k=O.findPublicTeamByUuidv4(this.props.teamid),x=g.a.getImage({team:k});return k&&k.name&&(e=g.a.displayNameShort(k),s=g.a.displayName(k)),Object(a.h)(t,null,n&&Object(a.h)(m.a,null,Object(a.h)(p.default,{stores:this.props.stores,teamid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),r&&Object(a.h)(m.a,null,Object(a.h)(f.default,{stores:this.props.stores,dogid:r,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:d})),Object(a.h)("div",{class:"w-100"},k?Object(a.h)(t,null,Object(a.h)("div",{class:"row pb-3 pt-3"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(a.h)("div",{class:"row"},Object(a.h)("h3",null,Object(a.h)("div",{class:"d-flex position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:x?'background-image: url("'+x+'"); background-size: cover;':""},!x&&Object(a.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},e)),Object(a.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(a.h)("h3",{class:"mb-1"},k.public?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+k.uuidv4,class:"stretched-link"},s)):Object(a.h)(t,null,s))))))))):Object(a.h)(t,null,Object(a.h)(u.a,{stores:this.props.stores})),(!y||0===y.length)&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-chart-area"})),Object(a.h)("h3",null,Object(a.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(a.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(a.h)("div",{class:"text-center mt-3"},Object(a.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(a.h)(b.a,{data:y,wrapperClassNames:"row pb-1",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(w?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:v,dataValues:{type:"10"},handleIntersection:i,sessionid:c})))},s}(a.Component))||r;e.a=y}).call(this,s("hosL").Fragment)},NMoA:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var a,i,c,l,d,u=s("hosL"),h=s("Utv1"),b=s("/eY4"),m=s("cneo"),p=s("OhSV"),f=s("fh8t"),O=s.n(f),g=s("go65"),j=s("Y3FI"),v=(s("X9Km"),s("1OK2"),s("B95u")),y=s("4QWe"),w=(s("NMoA"),s("s4FZ")),k=s("+JSK"),x=s("vY+r"),S=s("eQ6k"),C=s("ZOvn"),P={showAddComment:{},showTeamSetting:{},viewImageIdx:{},likeStory:{}},I=Object(b.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).saveStory=function(t){return new Promise((function(e,o){var n,r,a,i,c;return n=t.target.closest("button").dataset.id,r=s.state.storyBody,a=s.props.stores.storyStore,c=void 0===(i=s.props.callback)?function(){return!0}:i,Promise.resolve(a.saveField(parseInt(n,10),"body",r,!0)).then((function(){try{return a.publicFeedUpdate(parseInt(n,10),"body",r),s.setState({storyBody:"",storyType:0}),c(),e()}catch(t){return o(t)}}),o)}))},s.saveStoryField=function(t){return new Promise((function(e){var o=s.props.story.id,n=t.target,r=n.value,a=n.name;return clearTimeout(s.updateTimer[a]),s.updateTimer[a]=setTimeout((function(){return new Promise((function(t){return s.doUpdateField(o,a,r),t()}))}),1e3),e()}))},s.updateTimer={},s}r(s,e);var o=s.prototype;return o.doUpdateField=function(t,e,s){return new Promise(function(o,n){var r;return r=this.props.stores.storyStore,Promise.resolve(r.saveField(parseInt(t,10),e,s,!0)).then((function(){try{return r.publicFeedUpdate(parseInt(t,10),e,s),o()}catch(t){return n(t)}}),n)}.bind(this))},o.render=function(){var e=this.state,s=e.storyBody,o=e.storyType,n=this.props.stores.userStore.isAdmin,r=this.props.story;return Object(u.h)(t,null,Object(u.h)("div",{class:"d-flex bd-highlight"},Object(u.h)("div",{class:"p-0 w-100 bd-highlight"},Object(u.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(u.h)(p.c,{id:"comments.comment"},"Kommentar")),Object(u.h)("div",{class:"border rounded rounded-lg position-relative"},Object(u.h)(p.b,null,Object(u.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(u.h)(p.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(g.a)(this,"storyBody"),onFocus:C.a.resizeTextarea,style:"height: 2.3em;",value:s||r.body}))),Object(u.h)("div",{class:"position-relative mt-3"},n&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 text-center mt-2"},Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("label",null,"Pinned to top:"),Object(u.h)("input",{type:"checkbox",id:r.id,name:"pinned",onInput:this.saveStoryField,value:r.pinned?0:1,checked:r.pinned?1:0}))))),n&&Object(u.h)(t,null,Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.type"},"Type")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("select",{class:"custom-select custom-select-sm",id:r.id,name:"type",onInput:this.saveStoryField,value:o||r.type},Object(u.h)("option",{value:""},"-- ",Object(u.h)(p.c,{id:"story.type-choose"},"Velg type")," --"),Object(u.h)("option",{value:1,selected:1==r.type?"selected":""},"✍️ ",Object(u.h)(p.c,{id:"story.type-regular"},"Vanlig")),Object(u.h)("option",{value:2,selected:2==r.type?"selected":""},"🚀 ",Object(u.h)(p.c,{id:"story.type-ad"},"Annonse")),Object(u.h)("option",{value:3,selected:3==r.type?"selected":""},"📄 ",Object(u.h)(p.c,{id:"story.type-article"},"Artikkel")))))),r.type>=2&&Object(u.h)(t,null,Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.url-text"},"URL text")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"urlText",onInput:this.saveStoryField,value:r.urlText}))),Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.url"},"URL")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"url",onInput:this.saveStoryField,value:r.url})))),2===r.type&&Object(u.h)(t,null,Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.code"},"Code")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"code",onInput:this.saveStoryField,value:r.code}))),Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.country"},"Country")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"country",onInput:this.saveStoryField,value:r.country}))),Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.region"},"Region")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"region",onInput:this.saveStoryField,value:r.region}))),Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.currency"},"Currency")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"currency",onInput:this.saveStoryField,value:r.currency}))),Object(u.h)("label",null,Object(u.h)(p.c,{id:"story.price"},"Price")),Object(u.h)("div",{class:"form-group"},Object(u.h)("small",null,Object(u.h)("input",{class:"form-control",type:"text",name:"price",onInput:this.saveStoryField,value:r.price})))))),Object(u.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(u.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.saveStory,"data-id":r.id},Object(u.h)("i",{class:"fas fa-paper-plane"})))))},s}(u.Component))||a,T=Object(b.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.showStoryDetail=function(t){if("a"===t.target.localName)return!1;var e=t.target.closest("#storyDetail").dataset.id;e&&Object(j.route)("/stories/"+e)},s.translate=function(t){return new Promise((function(e,o){var n;return t.preventDefault(),t.stopPropagation(),n=s.props.stores,Promise.resolve(n.storyStore.translate({story:s.props.story,user:n.userStore.user})).then((function(t){try{return s.setState({showOriginal:0,translatedText:t}),e()}catch(t){return o(t)}}),o)}))},s.showOriginal=function(t){t.preventDefault(),t.stopPropagation(),s.setState({showOriginal:1})},s.state={viewImageIdx:{}},s}return r(s,e),s.prototype.render=function(){var e=this.state,s=e.showOriginal,o=e.translatedText,n=this.props.stores,r=this.props,a=r.story,i=r.likeStory,c=r.likeRef,l=n.userStore.user.language,d=void 0===l?"en":l,h=[];if(a.images){var b=Object(m.i)(a.images);h.push.apply(h,b)}var f=C.a.getTranslation({object:a,targetLang:d,field:"body"})||o,g=f||a.body;return s&&(g=a.body),Object(u.h)(t,null,Object(u.h)("div",{class:"container-fluid px-0 mt-1"},Object(u.h)("div",{class:"row"},Object(u.h)(w.a,{stores:this.props.stores,images:h,id:a.id,dblClick:i,likeRef:c}))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"clearfix col-12 overflow-hidden",style:a.offline?"text-decoration: line-through;":""},Object(u.h)("div",{id:"storyDetail",onClick:this.showStoryDetail,"data-id":a.id},Object(u.h)(O.a,{markdown:C.a.replaceImages(g,a.images,d),markdownOpts:C.a.getMarkdownOptions()}),a.language!==d&&Object(u.h)(t,null,!s&&f?Object(u.h)(t,null,Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.showOriginal},Object(u.h)("i",{class:"fas fa-cog"}),"  ",Object(u.h)(p.c,{id:"home.translate-show-original"},"Show original"))):Object(u.h)(t,null,Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.translate},Object(u.h)("i",{class:"fas fa-cog"})," ",Object(u.h)(p.c,{id:"home.translate-to"},"See translation"))))))))},s}(u.Component))||i,D=Object(b.a)(c=function(e){function s(t){var s;return(s=e.call(this,t)||this).viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.showStoryDetail=function(t){if("a"===t.target.localName)return!1;var e=t.target.closest("#storyDetail").dataset.id;e&&Object(j.route)("/stories/"+e)},s.translate=function(t){return new Promise((function(e,o){var n,r,a,i;return t.preventDefault(),t.stopPropagation(),n=s.props.story,a=(r=s.props.stores).storyStore,i=r.userStore.user,s.setState({showOriginal:0}),Promise.resolve(a.translate({story:n,user:i})).then((function(){try{return e()}catch(t){return o(t)}}),o)}))},s.showOriginal=function(t){t.preventDefault(),t.stopPropagation(),s.setState({showOriginal:1})},s.getTranslation=function(){var t=s.props.stores,e=t.userStore,o=e.user.language;C.a.getTranslation({object:s.props.story,targetLang:void 0===o?"en":o,field:"body"})&&s.setState({showOriginal:0})},s.state={viewImageIdx:{}},s}r(s,e);var o=s.prototype;return o.componentWillMount=function(){this.getTranslation()},o.render=function(){var e=this.state,s=e.showOriginal,o=this.props.stores,n=this.props,r=n.story,a=n.likeStory,i=n.likeRef,c=o.userStore.user.language,l=void 0===c?"en":c,d=[];if(r.images){var b=Object(m.i)(r.images);d.push.apply(d,b)}var f=C.a.getTranslation({object:r,targetLang:l,field:"body"}),g=f||r.body;return s&&(g=r.body),Object(u.h)(t,null,Object(u.h)("div",{class:"container-fluid px-0 mt-1"},Object(u.h)("div",{class:"row"},Object(u.h)(w.a,{stores:this.props.stores,images:d,id:r.id,dblClick:a,likeRef:i}))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"clearfix col-12 overflow-hidden",style:r.offline?"text-decoration: line-through;":""},Object(u.h)("div",{id:"storyDetail","data-id":r.id},Object(u.h)(O.a,{markdown:C.a.replaceImages(g,r.images,l),markdownOpts:C.a.getMarkdownOptions()}),r.language!==l&&Object(u.h)(t,null,!s&&f?Object(u.h)(t,null,Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.showOriginal},Object(u.h)("i",{class:"fas fa-cog"}),"  ",Object(u.h)(p.c,{id:"home.translate-show-original"},"Show original"))):Object(u.h)(t,null,Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate},Object(u.h)("i",{class:"fas fa-cog"})," ",Object(u.h)(p.c,{id:"home.translate-to"},"See translation")))))),!!(r.url||r.code||r.price>0)&&Object(u.h)(t,null,Object(u.h)("div",{class:"clearfix col-12  py-2",style:r.offline?"text-decoration: line-through;":""},Object(u.h)("div",{class:"row"},r.url&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 text-left",style:"font-size: 1.0em;"},Object(u.h)("a",{href:C.a.asUrl(r.url),target:"_blank",rel:"noreferrer"},Object(u.h)("i",{class:"fas fa-link mr-2"}),r.urlText?Object(u.h)(t,null,r.urlText):Object(u.h)(t,null,Object(u.h)(p.c,{id:"story.ad-url-readmore"},"Les mer..."))))),r.code&&Object(u.h)(t,null,Object(u.h)("div",{class:"col text-left",style:"font-size: 1.2em;"},Object(u.h)("nobr",null,Object(u.h)("span",{class:"font-weight-lighter"},Object(u.h)(p.c,{id:"story.ad-campaign-code"},"Kampanjekode"),":")," ",r.code))),r.price>0&&Object(u.h)(t,null,Object(u.h)("div",{class:"col text-right",style:"font-size: 1.2em;"},Object(u.h)("nobr",null,r.currencty&&Object(u.h)("span",{class:"font-weight-lighter"},r.currency)," ",h.a.format(r.price,2)))))))))},s}(u.Component))||c,L=Object(b.a)(l=function(e){function s(t){var s;return(s=e.call(this,t)||this).viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.showStoryDetail=function(t){if("a"===t.target.localName)return!1;var e=t.target.closest("#storyDetail").dataset.id;e&&Object(j.route)("/stories/"+e)},s.translate=function(t){return new Promise((function(e,o){var n,r,a,i;return t.preventDefault(),t.stopPropagation(),n=s.props.story,a=(r=s.props.stores).storyStore,i=r.userStore.user,s.setState({showOriginal:0}),Promise.resolve(a.translate({story:n,user:i})).then((function(){try{return e()}catch(t){return o(t)}}),o)}))},s.showOriginal=function(t){t.preventDefault(),t.stopPropagation(),s.setState({showOriginal:1})},s.getTranslation=function(){var t=s.props.stores,e=t.userStore,o=e.user.language;C.a.getTranslation({object:s.props.story,targetLang:void 0===o?"en":o,field:"body"})&&s.setState({showOriginal:0})},s.state={viewImageIdx:{}},s}r(s,e);var o=s.prototype;return o.componentWillMount=function(){this.getTranslation()},o.render=function(){var e=this.state,s=e.showOriginal,o=this.props.stores,n=this.props,r=n.story,a=n.likeStory,i=n.likeRef,c=o.userStore.user.language,l=void 0===c?"en":c,d=[];if(r.images){var h=Object(m.i)(r.images);d.push.apply(d,h)}var b=C.a.getTranslation({object:r,targetLang:l,field:"body"}),f=b||r.body;return s&&(f=r.body),Object(u.h)(t,null,Object(u.h)("div",{class:"container-fluid px-0 mt-1"},Object(u.h)("div",{class:"row"},Object(u.h)(w.a,{stores:this.props.stores,images:d,id:r.id,dblClick:a,likeRef:i}))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"clearfix col-12 overflow-hidden",style:r.offline?"text-decoration: line-through;":""},Object(u.h)("div",{id:"storyDetail",onClick:this.showStoryDetail,"data-id":r.id},Object(u.h)(O.a,{markdown:C.a.replaceImages(f,r.images,l),markdownOpts:C.a.getMarkdownOptions()}),r.language!==l&&Object(u.h)(t,null,!s&&b?Object(u.h)(t,null,Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.showOriginal},Object(u.h)("i",{class:"fas fa-cog"}),"  ",Object(u.h)(p.c,{id:"home.translate-show-original"},"Show original"))):Object(u.h)(t,null,Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate},Object(u.h)("i",{class:"fas fa-cog"})," ",Object(u.h)(p.c,{id:"home.translate-to"},"See translation")))))),!!(r.url||r.code||r.price)&&Object(u.h)(t,null,Object(u.h)("div",{class:"clearfix col-12  py-2",style:r.offline?"text-decoration: line-through;":""},Object(u.h)("div",{class:"row"},r.url&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 text-left",style:"font-size: 1.0em;"},Object(u.h)("a",{href:C.a.asUrl(r.url),target:"_blank",rel:"noreferrer"},Object(u.h)("i",{class:"fas fa-link mr-2"}),r.urlText?Object(u.h)(t,null,r.urlText):Object(u.h)(t,null,Object(u.h)(p.c,{id:"story.ad-url-readmore"},"Les mer..."))))))))))},s}(u.Component))||l,_=Object(b.a)(d=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleDate=function(t){t.stopPropagation(),t.preventDefault(),s.setState({showDate:!s.state.showDate})},s.likeStory=function(){return new Promise((function(t,e){var o,n,r,a;return n=s.props.stores.storyStore,(r=s.state.likeStory)[o=s.props.story.id]=!0,a=Object.keys(r),s.setState({likeStory:r,likeIds:a}),setTimeout((function(){var t=s.state.likeStory;delete t[o];var e=Object.keys(t);s.setState({likeStory:t,likeIds:e})}),1200),Promise.resolve(n.likeStory({id:o})).then((function(s){try{return s,t()}catch(t){return e(t)}}),e)}))},s.toggleAddComment=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showAddComment;o[e]?delete o[e]:o[e]=!0,s.setState({showAddComment:o},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.closeAllAddComments=function(){s.setState({showAddComment:{}})},s.toggleShowTeamSetting=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showTeamSetting;o[e]?delete o[e]:o[e]=!0,s.setState({showTeamSetting:o})},s.viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.toggleMenu=function(t){var e=t.target.closest("i").dataset.id,o=s.state.showMenu,n=void 0===o?{}:o;n[e]=!n[e],s.setState({showDeleteStory:{},showEdit:{},showMenu:n})},s.toggleEdit=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showEdit,n=void 0===o?{}:o;n[e]=!n[e],s.setState({showDeleteStory:{},showEdit:n,showMenu:{}})},s.toggleDeleteStory=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showDeleteStory,n=void 0===o?{}:o;n[e]=!n[e],s.setState({showDeleteStory:n,showEdit:{},showMenu:{}})},s.reportStory=function(t){return new Promise((function(e,o){var n;return n=t.target.closest("button").dataset.id,Promise.resolve(s.props.stores.storyStore.reportStory({id:n})).then((function(){try{return s.setState({showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.adminRemoveStory=function(t){return new Promise((function(e,o){var n;return n=t.target.closest("button").dataset.id,Promise.resolve(s.props.stores.storyStore.adminHideStory({id:n})).then((function(){try{return s.setState({showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.deleteStory=function(t){return new Promise((function(e,o){var n,r;return n=t.target.closest("button").dataset.id,r=s.props.stores.storyStore,Promise.resolve(r.saveField(parseInt(n,10),"offline",1,!0)).then((function(){try{return r.publicFeedUpdate(parseInt(n,10),"offline",1),s.setState({storyBody:"",showDeleteStory:{},showEdit:{},showMenu:{}}),e()}catch(t){return o(t)}}),o)}))},s.doneEdit=function(){s.setState({storyBody:"",showDeleteStory:{},showEdit:{},showMenu:{}})},s.showStoryDetail=function(t){if("a"===t.target.localName)return!1;var e=t.target.closest("#storyDetail").dataset.id;e&&Object(j.route)("/stories/"+e)},s.shareLink=function(t){var e=t.target.closest("button").dataset;s.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},P),s.inputRef={},s}r(s,e);var a=s.prototype;return a.loadStoriesPublicFeed=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(t.stores.storyStore.loadPublicFeed({hashtag:t.hashtag})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.render=function(){var e,s,o,n,r=this,a=this.state,i=a.showAddComment,c=a.showDate,l=a.showMenu,d=void 0===l?{}:l,b=a.showEdit,m=void 0===b?{}:b,f=a.showDeleteStory,O=void 0===f?{}:f,g=a.showTeamSetting,j=a.likeStory,w=a.likeIds,P=this.props,_=P.story,R=P.showAllComments,E=P.onTeamClick,F=void 0===E?function(){}:E,A=P.onUserClick,U=void 0===A?function(){}:A,N=this.props.stores,M=N.userStore,z=N.storyStore,V=N.appState,B=M.user,W=void 0===B?{}:B,q=M.isAdmin,Y=V.hasShareApi,K=z.findPublicTeam(_.team)||{},Z=z.findPublicUser(_.user)||{},H=C.a.getImage({user:Z,team:K,priority:"user",object:_}),J=!(!K||!K.members)&&K.members.some((function(t){return t===W.id}));K&&K.name?(e=C.a.displayNameShort(K),s=C.a.displayName(K),o=C.a.displayName(Z),Z.settings&&W.uuidv4!==Z.uuidv4&&(n=Z.settings.hideProfile?null:"/inbox/"+Z.uuidv4)):Z&&Z.id&&(e=C.a.displayNameShort(Z),s=C.a.displayName(Z));var G=_.likes,Q=_.comments,X=_.reports,$=void 0===X?[]:X,tt=_.likes&&_.likes.findIndex((function(t){return t.user===W.id}))>-1,et=K.followers?K.followers.length:0,st=K.members&&K.members.indexOf(W.id)>-1,ot=K.followers&&K.followers.indexOf(W.id)>-1,nt=K.followRequests&&K.followRequests.findIndex((function(t){return t.id===W.id}))>-1,rt=_.currentLocationGeocode,at=void 0===rt?{}:rt,it=C.a.getViews(_.statistics),ct=C.a.getAdminData(_.statistics);return Object(u.h)(t,null,q||W.id===Z.id?Object(u.h)(t,null,Object(u.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(u.h)("i",{class:"fas fa-ellipsis-h",onClick:this.toggleMenu,"data-id":_.id}))):Object(u.h)(t,null,!st&&!ot&&!nt&&K.public>0&&Object(u.h)("span",{class:"float-right"},Object(u.h)(S.a,{stores:this.props.stores,team:K,buttonOnly:!0,simple:!0,classNames:"btn btn-link text-primary"}))),d[_.id]&&Object(u.h)(t,null,Object(u.h)("div",{class:"position-absolute bg-light p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},W.id===Z.id?Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleEdit,"data-id":_.id},Object(u.h)("i",{class:"fas fa-edit"})," Edit"),Object(u.h)("hr",null),Object(u.h)("button",{class:"btn btn-link btn-block text-left text-danger",onClick:this.toggleDeleteStory,"data-id":_.id},Object(u.h)("i",{class:"fas fa-trash-alt"})," Delete")):Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.reportStory,"data-id":_.id},Object(u.h)("i",{class:"fas fa-flag"})," Report"),q&&Object(u.h)(t,null,Object(u.h)("hr",null),Object(u.h)("button",{class:"btn btn-link btn-block text-left text-danger",onClick:this.adminRemoveStory,"data-id":_.id},Object(u.h)("i",{class:"fas fa-eraser"})," Remove from feed"))))),Object(u.h)("div",{class:"d-flex position-relative"},Object(u.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:H?'background-image: url("'+H+'"); background-size: cover;':""},!H&&Object(u.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},e)),Object(u.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(u.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em; "+(_.offline?"text-decoration: line-through;":"")},K.public?Object(u.h)(t,null,Object(u.h)("a",{href:"/teams/public/"+K.uuidv4,onClick:function(t){return F(t,K.uuidv4)},class:"stretched-link"},s)):Object(u.h)(t,null,s),st&&!K.public&&Object(u.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted","data-id":_.id,onClick:this.toggleShowTeamSetting},Object(u.h)("i",{class:"fas fa-exclamation-triangle"}))),Object(u.h)("div",{class:"mb-2",style:_.offline?"text-decoration: line-through;":""},_.pinned&&Object(u.h)(t,null,Object(u.h)("small",{class:"text-muted mr-2"},Object(u.h)("i",{class:"fas fa-thumbtack"}))),2===_.type?Object(u.h)(t,null,Object(u.h)("small",{class:"text-muted"},Object(u.h)(p.c,{id:"story.sponsored"},"Sponsored")," -")):Object(u.h)(t,null,_.date&&Object(u.h)("small",{class:"text-muted",onClick:this.toggleDate},c?h.a.formatDate(_.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance(_.date,new Date,{locale:"no-NB"}))),1===_.public?Object(u.h)(t,null,Object(u.h)("small",{class:"ml-2 text-muted"},Object(u.h)("i",{class:"fas fa-globe-europe"}))):Object(u.h)(t,null,Object(u.h)("small",{class:"ml-2 text-muted"},Object(u.h)("i",{class:"fas fa-users"})," (",h.a.format(et),")")),o&&Object(u.h)(t,null,Object(u.h)("small",{class:"ml-2 text-muted"},n?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)("a",{href:n},o)):Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-user"})," ",o))),at&&at.formattedCounty&&Object(u.h)(t,null,Object(u.h)("small",{class:"ml-2 text-muted"},Object(u.h)("i",{class:"fas fa-map-marker-alt"})," ",at.formattedCounty))),q&&Object(u.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(u.h)("small",{class:"text-muted mr-2"},"Adm:"),$&&$.length>0&&Object(u.h)(t,null,Object(u.h)("small",{class:"text-danger mr-2"},Object(u.h)("i",{class:"fas fa-flag"})," ",$.length)),at&&at.formatted_address&&Object(u.h)(t,null,Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-map-marker-alt"})," ",at.formatted_address)),Z.deviceInfo&&Object(u.h)(t,null,Object(u.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},["platform","manufacturer","model"].map((function(e){return Object(u.h)(t,null,Object(u.h)("span",{class:"ml-2 text-white"},Z.deviceInfo[e]))})))),ct&&Object(u.h)(t,null,Object(u.h)("small",{class:"ml-2 text-muted"},"V: ",ct.count),Object(u.h)("small",{class:"ml-2 text-muted"},"R: ",ct.ranking," ",h.a.isNumber(ct.rankingTrend)&&Object(u.h)(t,null,Object(u.h)("i",{class:C.a.getClassForTrend(ct.rankingTrend)}))),Object(u.h)("small",{class:"ml-2 text-muted"},"D: ",h.a.format(ct.durationAvg/1e3,1),"s ",h.a.isNumber(ct.durationAvgTrend)&&Object(u.h)(t,null,Object(u.h)("i",{class:C.a.getClassForTrend(ct.durationAvgTrend)}))),_.statisticsCurrent&&_.statisticsCurrent.totalInteractions>0&&Object(u.h)("small",{class:"ml-2 text-muted"},"S: ",h.a.format(_.statisticsCurrent.totalInteractions,0)),_.shadowTags&&_.shadowTags.map((function(e){return Object(u.h)(t,null,Object(u.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},e))})))))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"clearfix col-12",style:_.offline?"text-decoration: line-through;":""},m[_.id]&&Object(u.h)(t,null,Object(u.h)(I,{stores:this.props.stores,story:_,key:"story-edit-"+_.id,callback:this.doneEdit})),O[_.id]&&Object(u.h)("div",{class:"clearfix mt-3 mb-3"},Object(u.h)("button",{class:"btn btn-danger float-left",onClick:this.deleteStory,"data-id":_.id},Object(u.h)("i",{class:"fas fa-trash-alt"})," Delete"),Object(u.h)("button",{class:"btn btn-secondary float-right",onClick:this.toggleDeleteStory,"data-id":_.id},Object(u.h)("i",{class:"fas fa-times-circle"})," Cancel")))),(!_.type||1==_.type)&&Object(u.h)(T,{stores:this.props.stores,story:_,key:"story-regular-view-"+_.id,likeStory:this.likeStory,likeRef:j,keys:w}),2==_.type&&Object(u.h)(D,{stores:this.props.stores,story:_,key:"story-ad-view-"+_.id,likeStory:this.likeStory,likeRef:j,keys:w}),3==_.type&&Object(u.h)(L,{stores:this.props.stores,story:_,key:"story-article-view-"+_.id,likeStory:this.likeStory,likeRef:j,keys:w}),Object(u.h)("div",{class:"d-flex justify-content-between mt-2"},Object(u.h)("div",{class:"mr-2"},Object(u.h)(k.a,{stores:this.props.stores,likes:G,comments:Q,type:"story",onTeamClick:F,onUserClick:U})),it>0&&Object(u.h)(t,null,Object(u.h)("div",null,Object(u.h)(x.a,{stores:this.props.stores,views:it,object:_,type:"story",isTeamAdmin:J,isAdmin:q,onTeamClick:F,onUserClick:U})))),g[_.id]&&Object(u.h)(t,null,Object(u.h)("small",null,Object(u.h)("div",{class:"alert alert-info",role:"alert"},Object(u.h)("span",{class:"display-4 float-left"},Object(u.h)("i",{class:"fas fa-exclamation-triangle mr-3 mb-3"})),Object(u.h)("p",null,Object(u.h)(p.c,{id:"story.alert-text-1"},"Your team is not visible and it's not possible to request friendship with your team.")),Object(u.h)("p",null,Object(u.h)(p.c,{id:"story.alert-text-2"},"If you want to make your team visible so other can request to follow your team, you can find the setting here:")),Object(u.h)("p",null,Object(u.h)("a",{href:"/teams/edit/"+K.id},Object(u.h)(p.c,{id:"story.alert-text-3"},"Edit team")))))),Object(u.h)("div",null,Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"storyImage btn btn-sm btn-outline-"+(tt?"primary":"secondary")+" btn-lg btn-block "+(tt?"text-primary":"")+" text-overflow","data-id":_.id,onClick:this.likeStory},Object(u.h)("i",{class:(tt?"text-primary fas":"far")+" fa-thumbs-up"})," ",tt?Object(u.h)(p.c,{id:"comments.has-liked"},"Liked"):Object(u.h)(p.c,{id:"comments.like"},"Lik"))),Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":_.id,onClick:this.toggleAddComment},Object(u.h)("i",{class:"fas fa-comment"})," ",Object(u.h)(p.c,{id:"comments.comment-add"},"Kommentar"))),Y?Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/story/"+_.uuidv4,"data-title":"title: "+_.title},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(p.c,{id:"story.share"},"Del")))):Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/story/"+_.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(p.c,{id:"story.share"},"Del")))))),Object(u.h)("div",{class:"mt-2"},Object(u.h)(v.a,{stores:this.props.stores,story:_,col:"10",offset:"2",compact:!1,showAllComments:R,initCall:this.closeAllAddComments}),i[_.id]&&Object(u.h)(y.a,{stores:this.props.stores,story:_,inputRef:function(t){return r.inputRef[_.id]=t},inputRefObject:this.inputRef,col:"10",offset:"2",key:"story-comment-"+_.id})))},s}(u.Component))||d;e.a=_}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(a.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,a=this.props.stores.userStore.user.settings;return(void 0===a?{}:a).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return 9*t/5+32}(o),0),"°F")):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(o,1),"°C"))},s}(n.Component))||o);e.a=i}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(a.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,a=this.props.stores.userStore.user.settings;return(void 0===a?{}:a).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return 2.20462*t}(o),0)," lb")):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(o,0)," kg"))},s}(n.Component))||o);e.a=i}).call(this,s("hosL").Fragment)},VKmm:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=(s("ZOvn"),s("eQ6k"),{requestSent:{}}),u=Object(c.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).requestFollowTeam=function(t){var e=s.props.stores,o=e.teamStore,n=e.userStore.user,r=t.target.closest("button").dataset.team;o.followRequest(parseInt(r,10),n);var a=s.state.requestSent;a[r]=!0,s.setState({requestSent:a})},s.getButton=function(t){var e=s.state.requestSent,o=s.props.stores.userStore.user,n=t.members&&t.members.findIndex((function(t){return t.id===o.id}))>-1,r=t.followers&&t.followers.indexOf(o.id)>-1,i=t.blockedFollowers&&t.blockedFollowers.indexOf(o.id)>-1,c=e[t.id]||t.followRequests&&t.followRequests.findIndex((function(t){return t.id===o.id}))>-1;return n?Object(a.h)("i",{class:"fas fa-home"}):r?Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:s.unFollowTeam,disabled:"true","data-team":t.id},Object(a.h)("i",{class:"fas fa-link mr-2"}),Object(a.h)(l.c,{id:"teams.connect.is-following"},"Følger")):i?Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hand-paper mr-2"}),Object(a.h)(l.c,{id:"teams.connect.is-blocked"},"Blokkert")):c?Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(a.h)(l.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:s.requestFollowTeam,"data-team":t.id},Object(a.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(a.h)(l.c,{id:"teams.connect.follow"},"Følg"))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s}var s,r;r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var c=e.prototype;return c.loadTeams=function(){return new Promise(function(t,e){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.loadPublic({query:{notfollowing:1,array:1},limit:15})).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},c.componentDidMount=function(){this.loadTeams()},c.render=function(){var t=this,e=this.props.stores,s=e.teamStore.publicTeamsToFollow,o=e.appState.darkmode;return s&&0!==s.length?Object(a.h)("div",{class:"row pb-1 bg-light"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-"+(o?"black":"white")+" shadow-sm"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)("h5",null,Object(a.h)(l.c,{id:"teams.connect.teams-to-follow"},"Team du kan følge"),":"))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},i.a.isArray(s)&&s.map((function(e){var s=e.image&&e.image.s3SmallLink?e.image:null;return Object(a.h)("div",{class:"mr-2",style:"width: 110px;"},Object(a.h)("div",{class:"text-center border rounded-lg",style:s?'background-image: url("'+s.s3SmallLink+'"); background-size: cover; width: 110px; height: 100px;':"width: 110px; height: 100px;"},!s&&Object(a.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(a.h)("small",null,Object(a.h)("div",{class:"text-overflow"},Object(a.h)("strong",null,e.name)),Object(a.h)("div",{class:"text-overflow"},e.place?e.place+", ":""," ",e.country,"  "),Object(a.h)("div",{class:"text-overflow"},Object(a.h)("small",{class:"text-muted"},e&&e.dogs&&Object(a.h)("span",{class:""},Object(a.h)("i",{class:"fas fa-dog"})," ",e.dogs.length),e&&e.followers&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-user"})," ",e.followers.length)))),Object(a.h)("div",null,t.getButton(e)))}))))))):""},e}(a.Component))||r;e.a=u},XPU5:function(t,e,s){"use strict";var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),a=s("OhSV"),i=s("go65"),c=Object(r.a)(o=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).inviteKennel=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.inviteKennel({email:e.state.friendEmail})).then((function(o){try{return e.setState({response:o,inviteSent:!0}),t()}catch(t){return s(t)}}),s)}))},e.inviteNew=function(){e.setState({inviteSent:!1})},e.hideInvite=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideInvite":1})).then((function(){try{return e.setState({hideInvite:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.state,e=this.props.forceShow,s=this.props.stores.userStore.user.settings;return!e&&(void 0===s?{}:s).hideInvite||t.hideInvite?"":t.inviteSent?Object(n.h)("div",{class:"col-12"},Object(n.h)(a.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til å bli flere 😃"),Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(n.h)(a.c,{id:"users.invite.more"},"Invitere flere"))):Object(n.h)("div",{class:"col-12 pb-4 clearfix"},Object(n.h)("h5",null,Object(n.h)(a.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(n.h)("p",null,Object(n.h)(a.c,{id:"users.invite.text"},"Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.")),Object(n.h)("div",null,Object(n.h)("div",{class:"form-row align-items-center"},Object(n.h)("div",{class:"col-auto"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(a.c,{id:"users.invite.email"},"E-post")),Object(n.h)(a.b,null,Object(n.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(n.h)(a.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(i.a)(this,"friendEmail")}))),Object(n.h)("div",{class:"col-auto"},Object(n.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(n.h)(a.c,{id:"users.invite.send"},"Send invitasjon"))))),!e&&Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(n.h)("i",{class:"fas fa-eye-slash"})," ",Object(n.h)(a.c,{id:"users.invite.hide"},"Skjul")))},e}(n.Component))||o;e.a=c},ZWUU:function(t,e,s){"use strict";var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),a=s("OhSV");s("go65"),Object(r.a)(o=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).toggleSetting=function(t){return new Promise((function(s,o){var n,r,a;return a=(r=e.props.stores.userStore).user.settings,Promise.resolve(r.updateSetting((n={},n["settings."+t]=1===(void 0===a?{}:a)[t]?0:1,n))).then((function(){try{return s()}catch(t){return o(t)}}),o)}))},e.hideSettings=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideSettings":1})).then((function(){try{return e.setState({hideSettings:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this,e=this.props.stores.userStore.user.settings,s=void 0===e?{}:e;return this.state.hideSettings||s.hideSettings||!this.props.forceShow&&s.summaryEmails&&s.infoEmails&&s.partnerEmails?"":Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(n.h)("h5",null,Object(n.h)(a.c,{id:"users.settings"},"Brukerinnstillinger")),!s.summaryEmails&&Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-4 text-muted text-right"},Object(n.h)(a.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(n.h)("div",{class:"col-8"},Object(n.h)("div",{class:"custom-control custom-switch"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:function(){return t.toggleSetting("summaryEmails")},checked:s.summaryEmails}),Object(n.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(n.h)("small",{class:"text-muted"},Object(n.h)(a.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!s.infoEmails&&Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-4 text-muted text-right"},Object(n.h)(a.c,{id:"users.settings-info-email"},"Info")),Object(n.h)("div",{class:"col-8"},Object(n.h)("div",{class:"custom-control custom-switch"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:function(){return t.toggleSetting("infoEmails")},checked:s.infoEmails}),Object(n.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(n.h)("small",{class:"text-muted"},Object(n.h)(a.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!s.partnerEmails&&Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-4 text-muted text-right"},Object(n.h)(a.c,{id:"users.settings-partner-email"},"Partners")),Object(n.h)("div",{class:"col-8"},Object(n.h)("div",{class:"custom-control custom-switch"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:function(){return t.toggleSetting("partnerEmails")},checked:s.partnerEmails}),Object(n.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(n.h)("small",{class:"text-muted"},Object(n.h)(a.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post")))),Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 text-muted"},Object(n.h)("small",null,Object(n.h)("a",{href:"/users"},Object(n.h)("i",{class:"fas fa-sliders-h"})," ",Object(n.h)(a.c,{id:"users.settings-text-info"},"Innstillingene finner du inne på profilen din."))))),Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 text-muted text-right"},Object(n.h)("small",null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(n.h)("i",{class:"fas fa-eye-slash"})," ",Object(n.h)(a.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))},e}(n.Component))},epqT:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=(s("ZOvn"),{showAddComment:!1}),u=Object(l.d)((function(){return{subject:Object(a.h)(l.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(a.h)(l.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}}))(r=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).logClick=function(){return new Promise((function(t,e){var o,n,r,a,i;return a=void 0===(r=(n=(o=s.props.stores).adStore).ads)?[]:r,i=o.userStore.user,Promise.resolve(n.logClick({id:a.length>0?a[0].id:null,user:(void 0===i?{}:i).id})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s.updateTimer={},s.inputRef={},s.apiServer=i.a.getApiServer(),s}var r,c;c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var u=s.prototype;return u.loadAd=function(t){return new Promise(function(e,s){var o,n,r,a,i,c,l,d,u,h,b;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),n=(o=this.props.stores).adStore,a=this.props.section,c=void 0===(i=o.appState.path)?"":i,u=void 0===(d=(r=o.userStore).user.language)?"en":d,h={},(l=o.workoutStore.currentTeam)&&(h=r.findTeam(l,!0))&&h.id&&(r.findTeamAmbition({ambition:h.ambitions,language:u}),r.findTeamType({type:h.type,language:u}),h.postalcode,h.place,h.country),c.replace(/\d+$/,"detail"),b=c.replace(/\/\d+/,"/detail"),Promise.resolve(n.load({query:{page:b,section:a}})).then(function(){try{return n.setTime(),this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},u.componentDidMount=function(){this.loadAd()},u.componentWillReceiveProps=function(t){t.path!==this.props.path&&this.loadAd(t)},u.render=function(){var e=this.props.stores,s=e.adStore,o=this.props,n=o.subject,r=o.body,i=o.section,c=e.appState.path,d=e.userStore.user,u=void 0===d?{}:d,h=s.ads,b=void 0===h?[]:h,m=s.time;if(!u||!u.id||!b||0===b.length)return c.match(/\/(home)/i)?Object(a.h)(t,null,Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(a.h)("div",{class:"border rounded-lg p-4 my-3"},Object(a.h)("span",{class:"float-right display-4 text-warning"},Object(a.h)("i",{class:"far fa-smile-wink"})),Object(a.h)("h5",null,Object(a.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(a.h)("div",null,Object(a.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(a.h)(l.b,null,Object(a.h)("a",{href:"mailto:post@themusher.no?subject="+n+": "+c+": "+i+"&body="+r,target:"_blank",rel:"noreferrer"},Object(a.h)("i",{class:"fas fa-paper-plane"})," ",Object(a.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(a.h)(t,null);var p=b[0];return Object(a.h)(t,null,Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(a.h)("div",null,Object(a.h)("small",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(a.h)("img",{src:this.apiServer+"/api/ads/"+p.id+"/view?user="+u.id+"&time="+m,style:"width: 1; height: 1; opacity: 0.1;"})))),p.target?Object(a.h)(t,null,Object(a.h)("a",{class:"stretched-link",href:""+p.url,target:p.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},p.images&&p.images[0]&&Object(a.h)(t,null,Object(a.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(a.h)(t,null,Object(a.h)("a",{class:"stretched-link",href:""+p.url,onClick:this.logClick},p.images&&p.images[0]&&Object(a.h)(t,null,Object(a.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))},s}(a.Component))||r)||r;e.a=u}).call(this,s("hosL").Fragment)},gOLw:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=(s("X9Km"),s("NMoA")),d=s("VKmm"),u=s("rWES"),h=s("epqT"),b=s("yHBq"),m=s("q/oJ"),p=s("gWxU"),f=s("Nanz"),O=s("ISGx"),g=s("ZOvn"),j=g.a.marginTop(!1),v={loading:!1,limit:10,offset:0,idxConfirm:0,idxSuggestion:1,idxAd:5,sessionid:(new Date).getTime()},y=["id","type","user","team","title"],w=Object(c.a)(r=function(e){function s(s){var r;return(r=e.call(this,s)||this).reloadStories=function(){return new Promise((function(t,e){var s,o,n;return s=r.props.stores.appState,n=(o=r.state).limit,o.offset,0,r.setState({offset:0}),Promise.resolve(r.loadStoriesPublicFeed({props:r.props,limit:n,offset:0})).then((function(){try{return s.appContainerScrollTop(),t()}catch(t){return e(t)}}),e)}))},r.setCheckForNewStories=function(t){void 0===t&&(t=r.props),r.checkForNewStoriesTimer=setInterval((function(){return r.checkForNewStories({props:t})}),6e4)},r.clearCheckForNewStories=function(){clearInterval(r.checkForNewStoriesTimer)},r.insertTopRanked=function(){var t=r.props.stores.storyStore,e=t.publicFeed,s=i.a.shuffleArray(t.topRankedStories),o=[].concat(e),n=0,a=new Date;o.forEach((function(t,e){var s=i.a.parseInputDate(t.date);Math.floor((a.getTime()-s.getTime())/1e3)<86400&&(n=e+1)}));var c=o.length;if(c>n+3){for(var l=0;l<3;l+=1){var d=g.a.randomInt(n,c);i.a.isObject(s[l])&&o.splice(d,0,s[l])}t.localUpdateField("publicFeed",o)}},r.insertAds=function(){var t=r.state.idxAd,e=r.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"ad",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},r.insertTeamConfirm=function(){var t=r.state.idxConfirm,e=r.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"teamConfirm",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},r.insertTeamSuggestions=function(){var t=r.state.idxSuggestion,e=r.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},r.setLoadMore=function(){r.props.stores.storyStore.setLoadMore((function(){var t=r.state,e=t.limit,s=t.offset;r.setState({offset:s+=e}),r.loadStoriesPublicFeed({limit:e,offset:s})}))},r.unsetLoadMore=function(){r.props.stores.storyStore.setLoadMore((function(){}))},r.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),r.setState({showTeam:e}),!1},r.hideTeam=function(){r.setState({showTeam:null})},r.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},r.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),r.setState({showDog:e,dogs:s}),!1},r.hideDog=function(){r.setState({showDog:null})},r.setupIntersection=function(){r.setState({handleIntersection:g.a.intersectionObserverCallback});var t=r.props.stores.storyStore;r.scrollViewTimer=setInterval((function(){return t.postScrollview(g.a.getIntersectionObserverHistory())}),3e4)},r.renderContent=function(e){var s=e.obj,o=e.idx,n=r.props.stores.appState.path,i=r.props.hashtag;return"ad"===s.type?Object(a.h)(t,null,Object(a.h)(h.a,{stores:r.props.stores,path:n})):"teamConfirm"===s.type?Object(a.h)(t,null,Object(a.h)(u.a,{stores:r.props.stores})):"teamSuggestions"===s.type?Object(a.h)(t,null,Object(a.h)(d.a,{stores:r.props.stores})):"workout"===s.type?Object(a.h)(t,null,Object(a.h)(O.a,{stores:r.props.stores,feed:s,idx:o,onTeamClick:r.onTeamClick,onUserClick:r.onUserClick,onDogClick:r.onDogClick,holdingStore:"story"})):Object(a.h)(t,null,Object(a.h)(l.a,{stores:r.props.stores,story:s,hashtag:i,key:"story-detail-"+s.id,onTeamClick:r.onTeamClick,onUserClick:r.onUserClick}))},r.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},v),r.inputRef={},r.ref={},r}var r,c;c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var w=s.prototype;return w.loadStoriesPublicFeed=function(t){return new Promise(function(e,s){var o,n,r;return r=t.offset,(n=void 0===(o=t.props)?this.props:o).path,Promise.resolve(n.stores.storyStore.loadPublicFeed({hashtag:n.hashtag,hashtags:n.hashtags,teamid:n.teamid,limit:t.limit,offset:r,sort:void 0})).then(function(){try{return r||(this.insertTopRanked(),this.insertTeamConfirm()),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},w.checkForNewStories=function(t){return new Promise(function(e,s){var o,n;return t.limit,t.offset,(n=void 0===(o=t.props)?this.props:o).path,Promise.resolve(n.stores.storyStore.checkForNewStories({hashtag:n.hashtag,hashtags:n.hashtags,teamid:n.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},w.componentWillMount=function(){this.setupIntersection()},w.componentDidMount=function(){this.loadStoriesPublicFeed({limit:this.state.limit,offset:0}),this.setLoadMore(),this.setCheckForNewStories()},w.componentWillUnmount=function(){this.unsetLoadMore(),this.props.stores.storyStore.postScrollview(g.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),this.clearCheckForNewStories()},w.componentWillReceiveProps=function(t){t.hashtag===this.props.hashtag&&t.path===this.props.path||this.loadStoriesPublicFeed({props:t,limit:this.state.limit,offset:0})},w.render=function(){var e=this.state,s=e.loading,o=e.handleIntersection,n=e.sessionid,r=e.showTeam,i=e.showDog,c=this.props.stores,l=c.storyStore,d=l.publicFeed,u=l.hasNewStories,h=c.appState.darkmode;return Object(a.h)(t,null,r&&Object(a.h)(m.a,null,Object(a.h)(p.default,{stores:this.props.stores,teamid:r,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam})),i&&Object(a.h)(m.a,null,Object(a.h)(f.default,{stores:this.props.stores,dogid:i,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:dogs})),Object(a.h)("div",{class:"w-100"},u&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 d-flex justify-content-center fixed-top",style:"margin-top: "+j+";"},Object(a.h)("button",{class:"btn btn-sm btn-primary rounded-pill",onClick:this.reloadStories},"New stories"))),Object(a.h)(b.a,{data:d,wrapperClassNames:"row pb-1",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(h?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:y,handleIntersection:o,sessionid:n}),s&&Object(a.h)("div",{class:"d-flex justify-content-center"},Object(a.h)("div",{class:"spinner-border text-primary",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")))))},s}(a.Component))||r;e.a=w}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(a.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,a=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return 3.28084*t}(o),0)," ",a?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(n.h)(t,null,"ft"))):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(o,0)," ",a?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"m")))):Object(n.h)(t,null,"m")))},s}(n.Component))||o);e.a=i}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=(s("ZOvn"),Object(a.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,a=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return.621371*t}(o),1)," ",a?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(n.h)(t,null,Object(n.h)(i.c,{id:"workouts.mph"},"mph")))):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(o,1)," ",a?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(n.h)(t,null,Object(n.h)(i.c,{id:"workouts.kmt"},"km/t"))))},s}(n.Component))||o);e.a=c}).call(this,s("hosL").Fragment)},om2D:function(t,e,s){"use strict";var o,n=s("hosL"),r=s("/eY4"),a=(s("cneo"),s("Utv1"),s("u2zT")),i=Object(r.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).handleAddImage=function(t){var e=s.props.addToImages,o=void 0===e||e,n=s.props,r=n.updateField,a=n.object,i=n.field;if(i&&r({id:a.id,field:i,value:t,skipTimer:!0}),o){var c=[];c.push(t),r({id:a.id,field:"images",value:c,skipTimer:!0})}},s.state={files:[]},s}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,s=void 0===e?function(){}:e,o=t.before,r=void 0===o?function(){}:o,i=t.after,c=void 0===i?function(){}:i,l=t.autoOpen,d=void 0===l||l;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)(a.a,{handleAddImage:this.handleAddImage,uploadStatus:s,apiUrl:"/api/fileupload",before:r,after:c,autoOpen:d},Object(n.h)("div",{style:{height:30,width:"100%"}}))))},e}(n.Component))||o;e.a=i},pJjI:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=(s("/DnB"),Object(a.a)(o=function(e){function s(){for(var t,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).toggleTeam=function(e){var s=t.props,o=s.callback,n=s.unsetTeamIfSelected,a=t.props.stores,i=a.dogStore,c=a.workoutStore;(void 0===n||n)&&e===i.currentTeam?(i.setCurrentTeam(void 0),c.setCurrentTeam(void 0)):(i.setCurrentTeam(e),c.setCurrentTeam(e)),r.a.isDefined(o)&&o()},t.showAllTeams=function(){var e=t.props.callback,s=t.props.stores,o=s.workoutStore;s.dogStore.setCurrentTeam(void 0),o.setCurrentTeam(void 0),r.a.isDefined(e)&&e()},t}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this,s=this.props.stores,o=s.userStore.teams,r=s.dogStore.currentTeam,a=this.props,c=a.highlight,l=a.showAll,d=void 0===l||l;return Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;"},o&&o.map((function(s,a){var i;return 1===o.length?i="rounded-pill-both":0===a?i="rounded-pill-left":a+1===o.length&&(i="rounded-pill-right"),Object(n.h)("div",{class:"col mb-0 px-0 clearfix",key:s.id},Object(n.h)("button",{class:"btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none "+i+"\n\t\t\t\t\t\t\t\t\t\t\t"+(r===s.id?"btn-success":"btn-outline-success")+"\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:function(){return e.toggleTeam(s.id)}},Object(n.h)("i",{class:"fas fa-users"})," ",s.name,c&&c.indexOf(s.id)>-1&&Object(n.h)(t,null,r===s.id?Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-check float-right"})):Object(n.h)(t,null,Object(n.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")),Object(n.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))}))),d&&Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(n.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(i.c,{id:"teams.show-all"},"Show all"))))))},s}(n.Component))||o);e.a=c}).call(this,s("hosL").Fragment)},"qv+O":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),d=s("OhSV"),u=s("fh8t"),h=s.n(u),b=s("ZOvn"),m={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},p={isLoading:!1},f=Object(l.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleRaces=function(){return new Promise((function(t,e){var o,n,r;return s.setState({hideRaces:r=(void 0===(n=(o=s.props.stores.userStore).user.toggleFeature)?{}:n).racesFrontpage?0:1}),Promise.resolve(o.setToggleFeature({field:"toggleFeature.racesFrontpage",value:r})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.scrollRaces=function(t){var e=t.target,o=e.scrollLeft/e.clientWidth,n=Math.round(o),r=Math.abs(n-o);(Number.isInteger(o)||r<.5)&&s.setState({raceIdx:n})},s.state=n(n({},p),{},{raceIdx:0}),s}var o,r;r=e,(o=s).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var a=s.prototype;return a.loadRace=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),this.setState({isLoading:!0}),Promise.resolve(t.stores.raceStore.load({query:{relevant:1}})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},a.componentDidMount=function(){this.loadRace()},a.render=function(){var e=this.props.stores,s=e.userStore,o=s.isAdmin,n=s.user,r=e.raceStore.races,a=void 0===r?[]:r,l=e.appState.darkmode,u=this.state,p=u.hideRaces,f=u.raceIdx,O=n.toggleFeature,g=void 0===O?{}:O,j=n.language,v=void 0===j?"en":j,y=new Date;return a&&0!==a.length?Object(i.h)("div",{class:"row"},p||g.racesFrontpage?Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 bg-"+(l?"black":"white")+" rounded-lg position-relative px-0"},Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-lg btn-block btn-link",onClick:this.toggleRaces},Object(i.h)("i",{class:"fas fa-flag-checkered"})," ",Object(i.h)(d.c,{id:"races.show-races"},"Show Races")," ",a.length>1&&Object(i.h)(t,null,"- ",a.length))))))):Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 position-relative"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollRaces},a&&a.map((function(e,s){var n="";return y>=new Date(e.startDate)&&y<=new Date(e.endDate)?n="race":y>=new Date(e.signupStartDate)&&y<=new Date(e.signupEndDate)?n="signup":y>new Date(e.endDate)&&(n="done"),Object(i.h)(t,null,Object(i.h)("div",{class:"col-"+(1===a.length?"12":"8 ml-4")+" "+(a.length===s+1?"mr-5":"")+" mb-0 bg-"+(l?"black":"white")+" rounded-lg position-relative",style:"\n                                                    scroll-snap-align: center;\n                                                    flex-wrap: wrap;\n                                                    overflow-y: hidden;\n                                                ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(i.h)("div",{class:"row d-flex align-items-center position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===n&&!e.liveRace&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(i.h)(d.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===n&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(i.h)(d.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===n&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-success border border-white ml-2"},Object(i.h)(d.c,{id:"races.race-finished"},"Løp avsluttet")))),e.images&&e.images[0]&&Object(i.h)(t,null,Object(i.h)("div",{class:"w-100",style:'background-image: url("'+e.images[0].s3LargeLink+'"); background-size: cover; height: 100px; background-repeat: no-repeat; background-position: 50% 50%;',onClick:function(){return route("/app-races/"+e.id)}}))),Object(i.h)("div",{class:"position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===n&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===n&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===n&&Object(i.h)(t,null,Object(i.h)("span",null,Object(i.h)("i",{class:"fas fa-check text-success"})))),Object(i.h)("h5",{class:"pt-2"},o&&Object(i.h)("i",{class:"fas fa-eye"+(e.active?" text-success":"-slash text-danger")+" float-right"}),Object(i.h)("a",{href:"/app-races/"+e.id},e.title))),Object(i.h)("div",{class:"w-100"},Object(i.h)(h.a,{markdown:b.a.replaceImages(e.ingress,e.images,v),markdownOpts:m})),Object(i.h)("div",{class:"w-100"},e.classes&&Object(i.h)(t,null,Object(i.h)("div",{class:"mb-3"},Object(i.h)("small",{class:"font-weight-lighter mr-2"},Object(i.h)(d.c,{id:"races.classes"},"Klasser"),": "),Object(i.h)("br",null),Object(i.h)("div",{class:"w-100 position-relative"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;"},e.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},e.title))}))))))),Object(i.h)("div",{class:"w-100 d-flex justify-content-between"},Object(i.h)("a",{href:"/app-races/"+e.id+"/tracking",class:"btn btn-primary"},Object(i.h)(d.c,{id:"races.tracking"},"Tracking"),Object(i.h)("i",{class:"fas fa-map-marked ml-2"})),Object(i.h)("a",{href:"/app-races/"+e.id,class:"btn btn-primary"},Object(i.h)(d.c,{id:"races.read-more"},"Les mer"),Object(i.h)("i",{class:"fas fa-angle-double-right ml-2"}))),Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)(d.c,{id:"races.race-days"},"Løpsdager"),": ",e.startDate&&Object(i.h)(t,null,c.a.formatDate(e.startDate,{locale:v})),e.endDate&&Object(i.h)(t,null," - ",c.a.formatDate(e.endDate,{locale:v}))))))})))),a&&a.length>1&&Object(i.h)(t,null,Object(i.h)("div",{class:"w-100 text-center"},Object(i.h)("small",null,Object(i.h)("small",null,a&&a.map((function(e,s){return Object(i.h)(t,null,Object(i.h)("i",{class:(s===f?"fas":"far")+" fa-circle mr-1"}))}))))),Object(i.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(i.h)("small",null,f+1," / ",a.length))),Object(i.h)("div",{class:"col-12 mb-1 bg-"+(l?"black":"white")+" rounded-lg position-relative"},Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-link",onClick:this.toggleRaces},Object(i.h)("i",{class:"fas fa-angle-up"})," ",Object(i.h)(d.c,{id:"races.hide"},"Hide Races")))))))):""},s}(i.Component))||a;e.a=f}).call(this,s("hosL").Fragment)},rWES:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=s("ZOvn"),u=(s("eQ6k"),{confirmed:{},deleted:{}}),h=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).confirmRequest=function(t){var e=t.target.closest("button").dataset,o=e.team,n=e.user,r=e.follow,a=s.props.stores.teamStore;a.confirmFollowRequest({team:parseInt(o,10),user:parseInt(n,10)});var i=s.state.confirmed;i[o+"-"+n]=!0,s.setState({confirmed:i}),r&&a.followRequestUser(n)},s.deleteRequest=function(t){var e=t.target.closest("button").dataset,o=e.team,n=e.user;s.props.stores.teamStore.deleteFollowRequest({team:parseInt(o,10),user:parseInt(n,10)});var r=s.state.deleted;r[o+"-"+n]=!0,s.setState({deleted:r})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u),s}var r,c;c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var h=s.prototype;return h.loadTeams=function(){return new Promise(function(t,e){return Promise.resolve(this.props.stores.teamStore.load({query:{},addData:["followRequests"]})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},h.componentDidMount=function(){this.loadTeams()},h.render=function(){var e=this,s=this.state,o=s.deleted,n=void 0===o?{}:o,r=s.confirmed,c=void 0===r?{}:r,u=this.props.stores,h=u.teamStore,b=h.teams,m=h.followRequests,p=void 0===m?[]:m,f=u.appState.darkmode;return h.hasFollowRequests?Object(a.h)("div",{class:"row pb-1"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-"+(f?"black":"white")+" shadow-sm"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)("h5",null,Object(a.h)(l.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},i.a.isArray(b)&&b.map((function(s){return Object(a.h)(t,null,s&&i.a.isArray(s.followRequests)&&s.followRequests.map((function(o){var r=o.image&&o.image.s3SmallLink?o.image:null,i=n[s.id+"-"+o.id],u=c[s.id+"-"+o.id],h=p.find((function(t){return t.user.id===o.id}));return Object(a.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:r?'background-image: url("'+r.s3SmallLink+'");':""},!r&&Object(a.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},d.a.displayNameShort(o))),Object(a.h)("small",null,Object(a.h)("div",{class:"text-overflow text-center"},Object(a.h)("strong",null,d.a.displayName(o)),Object(a.h)("br",null)),Object(a.h)("div",{class:"text-overflow text-center"},Object(a.h)(l.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(a.h)("div",{class:"text-overflow text-center"},Object(a.h)("strong",null,d.a.displayName(s)))),u||i?Object(a.h)(t,null,Object(a.h)("div",{class:"text-center"},u?Object(a.h)("div",{class:"text-success"},Object(a.h)(l.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(a.h)("i",{class:"fas fa-check"})):Object(a.h)("div",{class:"text-danger"},Object(a.h)(l.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(a.h)("i",{class:"fas fa-trash-alt"})))):Object(a.h)(t,null,Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:e.confirmRequest,"data-team":s.id,"data-user":o.id},Object(a.h)(l.c,{id:"teams.connect.confirm"},"Confirm")),h&&h.public>0&&Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:e.confirmRequest,"data-team":s.id,"data-user":o.id,"data-follow":!0},Object(a.h)(l.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(a.h)("div",{class:"mt-3"},Object(a.h)("small",null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:e.deleteRequest,"data-team":s.id,"data-user":o.id},Object(a.h)(l.c,{id:"teams.connect.delete"},"Del")))))))})))})))),Object(a.h)("details",{class:"mt-3"},Object(a.h)("summary",null,Object(a.h)("small",null,Object(a.h)(l.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(a.h)("p",null,Object(a.h)(l.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""},s}(a.Component))||r;e.a=h}).call(this,s("hosL").Fragment)},sqi2:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("cneo"),d=s("OhSV"),u=s("fh8t"),h=s.n(u),b=s("3wGD"),m=(s("ETxl"),s("ZOvn")),p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},f=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).likeComment=function(t){return new Promise((function(e,o){var n,r,a,i,c;return r=void 0===(n=s.props.callback)?function(){}:n,a=t.target.parentElement.dataset.id||t.target.dataset.id,i=s.props.workout,Promise.resolve(s.props.stores.workoutStore.likeWorkoutComment({id:i.id,commentId:a})).then((function(t){try{return(c=t)&&200===c.status&&r({type:"likeComment",workout:i,commentId:a,response:c}),e(!0)}catch(t){return o(t)}}),o)}))},s.likeReply=function(t){return new Promise((function(e,o){var n,r,a,i,c,l;return r=void 0===(n=s.props.callback)?function(){}:n,a=t.target.parentElement.dataset.id||t.target.dataset.id,i=t.target.parentElement.dataset.comment||t.target.dataset.comment,c=s.props.workout,Promise.resolve(s.props.stores.workoutStore.likeWorkoutCommentReply({id:c.id,replyId:a,commentId:i})).then((function(t){try{return(l=t)&&200===l.status&&r({type:"likeReply",workout:c,commentId:i,replyId:a,response:l}),e()}catch(t){return o(t)}}),o)}))},s.replyComment=function(t){return new Promise((function(e){var o=t.target.parentElement.dataset.id||t.target.dataset.id,n=s.state.showAddComment;return n[o]=!n[o],s.setState({showAddComment:n},(function(){s.inputRef[o]&&s.inputRef[o].focus()})),e()}))},s.toggleComments=function(){s.setState({showAllComments:!s.state.showAllComments})},s.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,o=s.state.showAllReplies;o[e]=!o[e],s.setState({showAllReplies:o})},s.viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.translate=function(t){return new Promise((function(e,o){function n(){return s.setState({showOriginal:m,translatedText:f}),e()}var r,a,i,c,l,d,u,h,b,m,p,f,O;return t.preventDefault(),t.stopPropagation(),r=t.target.closest("button").dataset,c=s.props.workout,d=(l=s.props.stores).teamStore,u=l.userStore.user,f=void 0===(p=(h=s.state).translatedText)?{}:p,(m=void 0===(b=h.showOriginal)?{}:b)[O=(i=r.commentid)+((a=r.replyid)?"-"+a:"")]=0,a?Promise.resolve(d.translateCommentReply({commentid:i,replyid:a,object:c,user:u})).then(function(t){try{return f[O]=t,n.call(this)}catch(t){return o(t)}}.bind(this),o):Promise.resolve(d.translateComment({commentid:i,object:c,user:u})).then(function(t){try{return f[O]=t,n.call(this)}catch(t){return o(t)}}.bind(this),o)}))},s.showOriginal=function(t){var e=t.target.closest("button").dataset,o=e.replyid,n=e.commentid;t.preventDefault(),t.stopPropagation();var r=s.state.showOriginal,a=void 0===r?{}:r;a[n+(o?"-"+o:"")]=1,s.setState({showOriginal:a})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},p),s.inputRef={},s}var r,c;return c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c,s.prototype.render=function(){var e,s=this,o=this.state,n=o.showAddComment,r=o.showAllComments,c=o.showAllReplies,u=o.viewImageIdx,p=o.showOriginal,f=void 0===p?{}:p,O=o.translatedText,g=void 0===O?{}:O,j=this.props,v=j.workout,y=j.callback,w=void 0===y?function(){}:y,k=j.compact,x=this.props.stores,S=x.userStore,C=x.teamStore,P=S.user,I=S.isAdmin,T=P.language,D=void 0===T?"en":T,L=[],_=0,R=0;return v.comments&&(_=v.comments.length,r?L=v.comments:(e=void 0!==k&&k?0:1,L=v.comments.slice(Math.max(_-e,0))),R=L.length),Object(a.h)("div",null,v&&L&&L.reverse().map((function(o){var r=o.user,p=void 0===r?{}:r,O=C.findPublicTeamByMembers(p.id),j=m.a.displayNameShort(p),y=m.a.displayName(p),k=p.image||(p.images?p.images[0]:void 0),x=o.likes&&o.likes.findIndex((function(t){return t.user===P.id}))>-1,S=[],T=0,L=0;o.comments&&(T=o.comments.length,L=(S=c[o.id]?o.comments:o.comments.slice(0,e)).length);var _=[];if(o.images){var R=Object(l.i)(o.images);_.push.apply(_,R)}var E=u[o.id]?u[o.id]:0,F=_&&_[E]?_[E]:null,A=o.currentLocationGeocode,U=void 0===A?{}:A,N=C.getCommentTranslations({object:v,commentid:o.id,targetLang:D})||g[o.id],M=N||o.comment;return f[o.id]&&(M=o.comment),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!p.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},j)),Object(a.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(a.h)("div",null,Object(a.h)("span",{style:"font-size: 0.95em;"},Object(a.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},y),O&&O.length>0&&Object(a.h)("div",{class:"mb-2"},Object(a.h)("small",{class:"font-weight-lighter text-muted"},O.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(a.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(a.h)(h.a,{markdown:m.a.replaceImages(M,o.images,D),markdownOpts:m.a.getMarkdownOptions()}))),Object(a.h)("div",{class:"container-fluid px-3 mt-1"},F&&Object(a.h)("div",{class:"clearfix row"},Object(a.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(a.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:F.s3LargeLink}))),_&&_.length>1&&Object(a.h)("div",{class:"clearfix d-flex flex-wrap row"},_.map((function(e,n){return Object(a.h)(t,null,Object(a.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(a.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:s.viewImage,"data-id":o.id,"data-idx":n})))}))))),Object(a.h)("small",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:s.likeComment,"data-id":o.id},Object(a.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.replyComment,"data-id":o.id},Object(a.h)(d.c,{id:"comments.comment-add"},"Kommentar")),o.language!==D&&Object(a.h)(t,null,"-",!f[o.id]&&N?Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":o.id,onClick:s.showOriginal},Object(a.h)("i",{class:"fas fa-cog"}),"  ",Object(a.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:s.translate,"data-commentid":o.id},Object(a.h)("i",{class:"fas fa-cog"})," ",Object(a.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(o.createdDate,new Date,{locale:"no-NB"}),o.updatedDate&&Object(a.h)(t,null,Object(a.h)("span",{class:"font-weight-light ml-2"},"(Edited ",i.a.formatDistance(o.updatedDate,new Date,{locale:"no-NB"}),")"))),I&&U&&U.formatted_address&&Object(a.h)(t,null,Object(a.h)("span",{class:"ml-2 text-muted"},Object(a.h)("i",{class:"fas fa-map-marker-alt"})," ",U.formatted_address)))),o.likes&&o.likes.length>0&&Object(a.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(a.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",o.likes.length)),Object(a.h)("div",{class:"col-11 offset-1 mb-2"},o&&S&&S.map((function(e){var n=e.user,r=void 0===n?{}:n,c=C.findPublicTeamByMembers(r.id),l=r.firstname?""+i.a.ucfirst(r.firstname,!0)+i.a.ucfirst(r.lastname,!0):""+i.a.ucfirst(r.email||"",!0),u=r.firstname?r.firstname+" "+r.lastname:""+r.email,b=r.image||(r.images?r.images[0]:void 0),p=e.likes&&e.likes.findIndex((function(t){return t.user===P.id}))>-1,O=C.getCommentReplyTranslations({object:v,commentid:o.id,replyid:e.id,targetLang:D})||g[o.id+"-"+e.id],j=O||e.comment;return f[o.id+"-"+e.id]&&(j=e.comment),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(b?'background-image: url("'+b.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!r.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(a.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"bg-light p-2 rounded-lg"},Object(a.h)("span",{style:"font-size: 0.95em;"},Object(a.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},u),c&&c.length>0&&Object(a.h)("div",{class:"mb-2"},Object(a.h)("small",{class:"font-weight-lighter text-muted"},c.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(a.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(a.h)(h.a,{markdown:m.a.replaceImages(j,e.images,D),markdownOpts:m.a.getMarkdownOptions()}))),Object(a.h)("small",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0 "+(p?"text-primary":""),onClick:s.likeReply,"data-comment":o.id,"data-id":e.id},Object(a.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.replyComment,"data-id":o.id},Object(a.h)(d.c,{id:"comments.comment-add"},"Kommentar")),e.language!==D&&Object(a.h)(t,null,"-",!f[o.id+"-"+e.id]&&O?Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":o.id,"data-replyid":e.id,onClick:s.showOriginal},Object(a.h)("i",{class:"fas fa-cog"}),"  ",Object(a.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:s.translate,"data-commentid":o.id,"data-replyid":e.id},Object(a.h)("i",{class:"fas fa-cog"})," ",Object(a.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(a.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(a.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),T-L>0&&Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.toggleReplies,"data-id":o.id},Object(a.h)(d.c,{id:"comments.show-more",fields:{more:T-L}},"Vis ",T-L," flere kommentarer...")))),n[o.id]&&Object(a.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(a.h)(b.a,{stores:s.props.stores,workout:v,callback:w,commentId:o.id,inputRef:function(t){return s.inputRef[o.id]=t},inputRefObject:s.inputRef})))})),_-R>0&&Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(a.h)(d.c,{id:"comments.show-more",fields:{more:_-R}},"Vis ",_-R," flere kommentarer..."))),r&&Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(a.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},s}(a.Component))||r;e.a=f}).call(this,s("hosL").Fragment)},u2zT:function(t,e,s){"use strict";var o,n=s("hosL"),r=s("/eY4"),a=s("Utv1"),i=s("OhSV"),c=Object(r.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).dropRef=Object(n.createRef)(),s.handleDrag=function(t){t.preventDefault(),t.stopPropagation()},s.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),s.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&s.setState({drag:!0})},s.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),s.dragCounter--,0===s.dragCounter&&s.setState({drag:!1})},s.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),s.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(var e=0,o=t.dataTransfer.files.length;e<o;e+=1){s.readLocalFile(t.dataTransfer.files[e])}s.dragCounter=0}},s.handleAddFiles=function(t){t.preventDefault();var e=t.target;for(var o=0,n=e.files.length;o<n;o+=1){s.readLocalFile(e.files[o])}},s.handleEvent=function(){0},s.handleUpload=function(t){var e=s.props,o=e.uploadStatus,n=e.before,r=void 0===n?function(){}:n,i=e.after,c=void 0===i?function(){}:i;(void 0===o?function(){}:o)(!1),a.a.isFunction(r)&&r();var l=new FormData;l.append("files[]",t);var d={progress:1};d.xhr=new XMLHttpRequest,d.xhr.upload.addEventListener("progress",(function(e){s.updateProgress(e,t)})),d.xhr.addEventListener("loadstart",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("load",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("loadend",(function(e){var o=t;a.a.isFunction(c)&&c(),s.handleEvent(e,o)})),d.xhr.addEventListener("progress",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("error",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("abort",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("readystatechange",(function(e){s.uploadDone(e,t)})),d.xhr.open("POST",""+a.a.getApiServer()+s.props.apiUrl),d.xhr.setRequestHeader("Authorization","Bearer "+a.a.getJwtToken()),d.xhr.send(l);var u=t.name,h=s.state.uploadedFilesData;h[u]||(h[u]={}),h[u].uploadMeta=d,h[u].imageNum=s.state.imageNum,s.setState({uploadedFilesData:h})},s.readLocalFile=function(t){return new Promise((function(e,o){var n=new FileReader;n.addEventListener("error",(function(t){o(t)})),n.addEventListener("load",(function(o){var n=t,r=n.name,a=s.state.uploadedFilesData;a[r]||(a[r]={}),a[r].event=o,s.setState({uploadedFilesData:a}),s.handleUpload(n),e(o)})),n.readAsDataURL(t)}))},s.updateProgress=function(t,e){if(t.lengthComputable){var o=e.name,n=s.state.uploadedFilesData,r=t.loaded/t.total*100;0,n[o].uploadMeta.progress=r,s.setState({uploadedFilesData:n})}},s.uploadDone=function(t,e){var o=e.name,n=s.state.uploadedFilesData,r=n[o].uploadMeta;if(r&&4===r.xhr.readyState&&201===r.xhr.status)for(var a=JSON.parse(r.xhr.responseText).data.files,i=0;i<a.length;i+=1){s.addFileToUpload(a[i]),s.fileInput.value=""}},s.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var r=e.prototype;return r.addFileToUpload=function(t){var e=this.state.uploadedFilesData,s=this.props,o=s.handleAddImage,n=s.uploadStatus,r=void 0===n?function(){}:n;delete e[t.name],this.setState({uploadedFilesData:e}),o(t),r(!0)},r.componentDidMount=function(){var t=this,e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){t.fileInput.click()}),10)},r.componentWillUnmount=function(){var t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)},r.render=function(){var t=this,e=this.state.uploadedFilesData;return Object(n.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(n.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(n.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(n.h)("div",null,Object(n.h)(i.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(n.h)("div",null,Object(n.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(e){t.fileInput=e}})),Object(n.h)("div",null,Object.keys(e).length>0?Object(n.h)("h3",null,Object(n.h)(i.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(n.h)("ul",{class:"list-group"},Object.keys(e).map((function(t){var s=e[t].uploadMeta,o=void 0===s?{}:s,r=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(n.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(n.h)("div",{class:"d-flex w-100 justify-content-between"},r&&Object(n.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(n.h)("small",null,e[t].event.uploadDone),Object(n.h)(i.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(n.h)("small",null,a.a.formatBytes(e[t].event.total,2))),Object(n.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(n.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+o.progress+"%; height: 4px;","aria-valuenow":o.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},e}(n.Component))||o;e.a=c},"vY+r":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),d=s("ZOvn"),u={},h=Object(c.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleViews=function(){var t=s.props;(t.isTeamAdmin||t.isAdmin)&&s.setState({showViewList:!s.state.showViewList})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u),s}var r,c;return c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c,s.prototype.render=function(){var e=this.state.showViewList,s=this.props.stores,o=s.storyStore,n=s.teamStore,r=s.workoutStore,c=this.props,u=c.views,h=c.type,b=void 0===h?"story":h,m=c.onTeamClick,p=void 0===m?function(){}:m,f=[];Object.entries(c.object.statistics).forEach((function(t){Object.entries(t[1]).forEach((function(t){var e=t[1];e.viewUsers&&f.push(e.viewUsers)}))}));var O=f.flat().slice(0,50);return Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-end mb-2"},Object(a.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},u," ",Object(a.h)(l.c,{id:"story.views"},"views"))),e&&Object(a.h)("div",{class:"mt-3 mb-3"},O&&O.map((function(e){var s,c,l;if("story"===b?(s=o.findPublicUser(e),c=o.findPublicTeamByMembers(e)):"team"===b?(s=n.findPublicUser(e),c=n.findPublicTeamByMembers(e)):"workout"===b&&(s=r.findPublicUser(e),c=r.findPublicTeamByMembers(e)),!s)return"";i.a.isArray(c)&&(l=c.find((function(t){return 1===t.public})));var u=d.a.getImage({user:s,team:l,priority:"user"}),h=d.a.displayNameShort(s),m=d.a.displayName(s,!0);return Object(a.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(t){return p(t,l.uuidv4)},class:"stretched-link"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:u?'background-image: url("'+u+'"); background-size: cover;':""},!u&&Object(a.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},h))),Object(a.h)("div",{class:"ml-2 "},m," ",Object(a.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(a.h)(t,null,Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?'background-image: url("'+u+'"); background-size: cover;':"")+" opacity: 0.5;"},!u&&Object(a.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},h)),Object(a.h)("div",{class:"ml-2"},m)))})),u>O.length&&Object(a.h)(t,null,Object(a.h)("small",{class:"text-muted"},Object(a.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},s}(a.Component))||r;e.a=h}).call(this,s("hosL").Fragment)},w93r:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),r=s("/eY4"),a=s("Utv1"),i=s("OhSV"),c=(s("X9Km"),s("QkTp")),l=s("ZOvn"),d=Object(r.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleyrWeather=function(){s.setState({showWeather:!s.state.showWeather})},s.state={},s.inputRef={},s}var o,r;r=e,(o=s).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var d=s.prototype;return d.loadWeather=function(){return new Promise(function(t){var e=this.props.stores.userStore;this.setState({isLoading:!0});var s=e.user;if(s.currentLocationInfo&&s.currentLocationInfo.coords){var o=s.currentLocationInfo.coords;e.getWeatherUser({lat:o.latitude,lon:o.longitude,altitude:o.altitude}),e.formatWeather()}return t()}.bind(this))},d.componentDidMount=function(){this.loadWeather()},d.render=function(){var e=this,s=this.props.stores.userStore,o=s.yrWeather,r=s.yrWeatherKeys,d=s.yrWeatherFormatted,u=s.user.currentLocationGeocode;return o&&this.props.place?this.state.showWeather?Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4"},u&&u.formatted_address&&Object(n.h)("h5",null,u.formatted_address),Object(n.h)("div",{class:"table-responsive",onTouchstart:l.a.captureEvents,onTouchend:l.a.captureEvents,onTouchmove:l.a.captureEvents,onScroll:l.a.captureEvents},Object(n.h)("table",{class:"table table-striped table-sm"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",{class:"text-center"}," "),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.night"},"Night")),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.morning"},"Morning")),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.afternoon"},"Afternoon")),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.evening"},"Evening")),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.temp"},"Temp")),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.rainfall"},"Rainfall")),Object(n.h)("th",{class:"text-center"},Object(n.h)(i.c,{id:"weather.wind"},"Wind")))),Object(n.h)("tbody",null,r&&r.map((function(s){return Object(n.h)(t,null,Object(n.h)("tr",null,Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,s)),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,a.a.getNestedValue(d[s].night,"next_6_hours.summary.symbol_code")&&Object(n.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(d[s].night,"next_6_hours.summary.symbol_code")+".svg"}))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,a.a.getNestedValue(d[s].morning,"next_6_hours.summary.symbol_code")&&Object(n.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(d[s].morning,"next_6_hours.summary.symbol_code")+".svg"}))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,a.a.getNestedValue(d[s].day,"next_6_hours.summary.symbol_code")&&Object(n.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(d[s].day,"next_6_hours.summary.symbol_code")+".svg"}))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,a.a.getNestedValue(d[s].evening,"next_6_hours.summary.symbol_code")&&Object(n.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(d[s].evening,"next_6_hours.summary.symbol_code")+".svg"}))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-temperature-low text-muted ml-1 mr-2"}),Object(n.h)("span",{class:l.a.getTemperatureColor(a.a.getNestedValue(d[s],"air_temperatures_min"))},Object(n.h)(c.a,{stores:e.props.stores,value:a.a.getNestedValue(d[s],"air_temperatures_min")})),Object(n.h)("span",{class:"text-muted font-weight-lighter mx-1"},"-"),Object(n.h)("span",{class:l.a.getTemperatureColor(a.a.getNestedValue(d[s],"air_temperatures_max"))},Object(n.h)(c.a,{stores:e.props.stores,value:a.a.getNestedValue(d[s],"air_temperatures_max")})))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,a.a.format(a.a.getNestedValue(d[s],"precipitation_amount"),1)," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"mm"))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",Object(n.h)("span",{class:l.a.getWindSpeedColor(a.a.getNestedValue(d[s],"wind_speeds_min"))},a.a.format(a.a.getNestedValue(d[s],"wind_speeds_min"),1))," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"-")," ",Object(n.h)("span",{class:l.a.getWindSpeedColor(a.a.getNestedValue(d[s],"wind_speeds_max"))},a.a.format(a.a.getNestedValue(d[s],"wind_speeds_max"),1))," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"m/s")))))}))))),Object(n.h)("button",{type:"button",class:"btn btn-block btn-primary btn-sm",onClick:this.toggleyrWeather},Object(n.h)("i",{class:"fas fa-times-circle"})," ",Object(n.h)(i.c,{id:"weather.close"},"Close"))):Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},o&&o.length>0&&Object(n.h)("div",{class:"container-fluid px-0"},Object(n.h)("div",{class:"row",onClick:this.toggleyrWeather},o&&o.length>0&&o.slice(0,1).map((function(t){return Object(n.h)("div",{class:"col-12 text-right"},Object(n.h)("nobr",null,Object(n.h)("small",{class:"font-weight-light text-muted"},a.a.isoTime(t.time)),":",Object(n.h)("img",{src:"./assets/svg/"+a.a.getNestedValue(t,"next_1_hours.summary.symbol_code")+".svg",class:"ml-2",style:"height: 20px;"}),a.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")>0&&Object(n.h)("small",{class:"ml-2"},a.a.getNestedValue(t,"next_1_hours.details.precipitation_amount"),Object(n.h)("span",{class:"text-muted font-weight-lighter"},"mm")),Object(n.h)("small",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-temperature-low text-muted"})," ",Object(n.h)(c.a,{stores:e.props.stores,value:a.a.getNestedValue(t,"instant.details.air_temperature")})),Object(n.h)("small",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-wind text-muted"})," ",a.a.getNestedValue(t,"instant.details.wind_speed"),Object(n.h)("span",{class:"text-muted font-weight-lighter"},"m/s")," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},l.a.windDirection(a.a.getNestedValue(t,"instant.details.wind_from_direction"))))),Object(n.h)("br",null))}))))):""},s}(n.Component))||o;e.a=d}).call(this,s("hosL").Fragment)},yHBq:function(t,e,s){"use strict";(function(t){function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t}).apply(this,arguments)}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r,a,i=s("hosL"),c=s("/eY4"),l=s("Utv1"),d=Object(c.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).state={},s.containerRef=null,s}n(e,t);var s=e.prototype;return s.componentWillUnmount=function(){var t=this.props.removeIntersectionObserver;t&&t(this.containerRef)},s.componentDidMount=function(){var t=this.props.addIntersectionObserver;t&&t(this.containerRef)},s.render=function(){var t=this,e=this.props,s=e.wrapperClassNames,n=void 0===s?"":s,r=e.contentClassNames,a=void 0===r?"":r,c=e.renderContent,l=e.obj,d=void 0===l?{}:l,u=e.idx,h=e.dataFields,b=e.dataValues,m=e.sessionid,p={};return m&&(p.sessionid=m),h.forEach((function(t){return p["data-"+t]=encodeURI(b[t]||d[t])})),Object(i.h)("div",o({class:""+n,ref:function(e){return t.containerRef=e},"data-idx":u},p),Object(i.h)("div",{class:""+a,style:"display: block;"},c({obj:d,idx:u})))},e}(i.Component))||r,u=Object(c.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).deleteIntersectionObserver=function(){s.intersectionObserver=null},s.handleIntersection=function(t){var e=s.props.handleIntersection;"function"==typeof e&&e(t),t.forEach((function(t){var e=t.isIntersecting,s=t.target.dataset.height,o=void 0===s?0:s,n=Math.max(t.target.childNodes[0].offsetHeight,t.target.offsetHeight,t.target.scrollHeight);e?(t.target.childNodes[0].style.display="block",t.target.style.minHeight=(n>o?n:o)+"px"):t.target.style.minHeight&&(t.target.style.minHeight=(n>o?n:o)+"px",t.target.childNodes[0].style.display="none")}))},s.setupIntersectionObserver=function(){if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;s.intersectionObserver=new IntersectionObserver(s.handleIntersection,{root:null,rootMargin:"100px",threshold:.1})},s.addIntersectionObserver=function(t){s.intersectionObserver&&t&&s.intersectionObserver.observe(t)},s.removeIntersectionObserver=function(t){s.intersectionObserver&&t&&s.intersectionObserver.unobserve(t)},s.state={},s}n(s,e);var o=s.prototype;return o.componentWillMount=function(){this.setupIntersectionObserver()},o.componentWillUnmount=function(){this.deleteIntersectionObserver()},o.render=function(){var e=this,s=this.props,o=s.data,n=void 0===o?[]:o,r=s.wrapperClassNames,a=void 0===r?"row pb-4 bg-light":r,c=s.contentClassNames,u=void 0===c?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 shadow-sm":c,h=s.renderContent,b=void 0===h?function(){return Object(i.h)(t,null,"Missing render function!")}:h,m=s.dataFields,p=void 0===m?[]:m,f=s.dataValues,O=void 0===f?{}:f;return Object(i.h)("div",{class:"w-100"},n&&n.filter((function(t){return l.a.isObject(t)})).map((function(s,o){var n=s.hasOwnProperty("wrapperClassNames")?s.wrapperClassNames:a,r=s.hasOwnProperty("contentClassNames")?s.contentClassNames:u;return Object(i.h)(t,null,Object(i.h)(d,{key:"fastline-"+o+"-"+s.id,obj:s,idx:o,addIntersectionObserver:e.addIntersectionObserver,removeIntersectionObserver:e.removeIntersectionObserver,wrapperClassNames:n,contentClassNames:r,renderContent:b,dataFields:p,dataValues:O}))})))},s}(i.Component))||a;e.a=u}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-home.chunk.a8366.js.map