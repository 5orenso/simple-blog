{"version":3,"sources":["webpack:///./routes/app-races/index.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","initialState","subMenuMarginTop","isLoading","showAdminSendMessage","newRaceArticle","newRaceUserImage","message","subject","body","AppRaceDetailSignup","observer","props","likeRace","raceStore","stores","id","race","toggleAddComment","e","raceId","target","parentElement","dataset","setState","showAddComment","state","inputRef","focus","chooseSubmenu","submenu","menu","raceid","route","resizeTextarea","el","element","style","height","scrollHeight","resizeAllTextareas","textareaList","document","getElementsByTagName","i","l","length","addNavigation","back","updateTimer","loadRace","signup","currentClass","idx","allTeamIds","this","user","userStore","load","classes","email","contestants","findIndex","class","updateKeyValue","getDogs","getAllClassesSortedBy","loadPublicInteractions","filter","map","musher","team","flat","loadTeams","join","componentDidMount","componentWillReceiveProps","nextProps","render","isAdmin","language","likes","comments","hasLikedRace","today","Date","status","startDate","endDate","signupStartDate","signupEndDate","isLiveRace","liveRace","showSignup","onClick","data-menu","images","src","s3LargeLink","href","title","util","formatDate","locale","hour12","hour","minute","horizontal","vertical","rules","veterinaryInfo","checkpoints","trailDescription","program","prices","markdown","replaceImages","ingress","markdownOpts","getMarkdownOptions","tag","split","rel","native","indexOf","type","data-id","c","inputRefObject","cols","Component"],"mappings":"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","file":"route-app-races.chunk.0dd70.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport { route } from 'preact-router';\nimport Markdown from 'preact-markdown';\nimport linkstate from 'linkstate';\n\nimport RaceComments from '../public/race/comments';\nimport RaceAddComment from '../public/race/commentAdd';\nimport RaceText from '../public/race/raceText';\nimport Images from '../../components/form/images';\nimport LikesAndComments from '../../components/feedback/likesAndComments';\n\nimport ScrollIntoView from '../../components/util/scrollIntoView';\n\nimport RaceResults from './results';\nimport RaceNews from './news';\nimport RaceSignup from './signup';\nimport RaceClasses from './classes';\nimport RaceMushers from './mushers';\nimport RaceUserImages from './userImages';\nimport RaceTracking from './tracking';\nimport RaceNotifications from './notifications';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n\tisLoading: false,\n    showAdminSendMessage: {},\n\tnewRaceArticle: {},\n\tnewRaceUserImage: {},\n\tmessage: {\n\t\tsubject: '',\n\t\tbody: '',\n\t},\n};\n\n@observer\nclass AppRaceDetailSignup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n            showAdminSendMessage: {},\n            newRaceArticle: {},\n            newRaceUserImage: {},\n            message: {\n                subject: '',\n                body: '',\n            },\n            submenu: props.submenu || 'about',\n        };\n\t\tthis.inputRef = {};\n        this.updateTimer = {};\n    }\n\n\tasync loadRace(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { raceStore, userStore } = props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tconst { raceid } = props;\n\t\tawait raceStore.load(raceid);\n\t\tthis.setState({ isLoading: false });\n\n\t\tlet signup = {};\n\t\tconst { race } = raceStore;\n\t\tif (race.classes && user && user.email) {\n\t\t\tfor (let i = 0, l = race.classes.length; i < l; i += 1) {\n\t\t\t\tconst currentClass = race.classes[i];\n\t\t\t\tif (currentClass.contestants) {\n\t\t\t\t\tconst idx = currentClass.contestants.findIndex(e => e.email === user.email);\n\t\t\t\t\tif (idx > -1) {\n\t\t\t\t\t\tsignup = { ...currentClass.contestants[idx], class: currentClass.id };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\traceStore.updateKeyValue('signup', signup);\n        if (signup.user) {\n            await userStore.getDogs({ id: signup.user });\n        }\n\n\t\tconst allTeamIds = race.classes.filter(currentClass => currentClass.contestants && currentClass.contestants.length > 0).map((currentClass) => {\n            return currentClass.contestants.filter(musher => musher.team > 0).map(musher => musher.team);\n\t\t}).flat();\n\t\tif (allTeamIds.length > 0 && raceid) {\n\t\t\tawait raceStore.loadTeams(allTeamIds.join(','));\n\t\t}\n\t\traceStore.getAllClassesSortedBy();\n\n\t\tawait raceStore.loadPublicInteractions(raceid);\n\t}\n\n    likeRace = async () => {\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst { race } = raceStore;\n\t\tconst response = await raceStore.likeRace({ id: race.id });\n\n        if (response && response.status === 200) {\n\t\t\t// this.loadRaceDetail({ race });\n\t\t}\n\t}\n\n\ttoggleAddComment = (e) => {\n\t\tconst raceId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAddComment } = this.state;\n\t\tthis.setState({\n\t\t\tshowAddComment: !showAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[raceId]) {\n\t\t\t\tthis.inputRef[raceId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n        const { raceid } = this.props;\n        route(`/app-races/${raceid}/${submenu}`);\n\t}\n\n    resizeTextarea = (el) => {\n\t\tlet element = el;\n\t\tif (element.target) {\n\t\t\telement = el.target;\n\t\t}\n\t\tconst { scrollHeight } = element;\n\t\telement.style.height = `${scrollHeight}px`;\n\t}\n\n\tresizeAllTextareas = () => {\n\t\tconst textareaList = document.getElementsByTagName('textarea');\n\t\tfor(let i = 0, l = textareaList.length; i < l; i += 1){\n\t\t\tconst textarea = textareaList[i];\n\t\t\tthis.resizeTextarea(textarea);\n\t\t}\n\t}\n\n    addNavigation = (props) => {\n        // console.log({ props });\n        this.setState({ submenu: props.submenu });\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadRace();\n        this.resizeAllTextareas();\n\t}\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.raceid !== this.props.raceid) {\n            this.loadRace(nextProps);\n        }\n        // console.log('componentWillReceiveProps', nextProps.submenu, this.props.submenu);\n        if (nextProps.submenu !== this.props.submenu) {\n            this.addNavigation(nextProps);\n        }\n\t}\n\n    back = () => {\n        route(`/`);\n    }\n\n\trender() {\n        const { submenu } = this.state;\n        const { showAdminSendMessage, message, emailResponse } = this.state;\n        const { showAddComment, newRaceArticle, newRaceUserImage } = this.state;\n\n\t\tconst { userStore, raceStore, appState } = this.props.stores;\n\t\tconst { user = {}, teams = [], isAdmin } = userStore;\n        const { language = 'en' } = user;\n\n\t\tconst { raceid, subsection } = this.props;\n\t\tconst { race, signup, zoomToMarkers } = raceStore;\n        const { darkmode, displayDetails, editUserDetails } = appState;\n\n\t\tconst { likes = [], comments = [] } = race;\n\t\tconst hasLikedRace = race.likes && race.likes.findIndex(e => e.user === user.id) > -1;\n\n        const today = new Date();\n        let status = '';\n        if (today >= new Date(race.startDate) && today <= new Date(race.endDate)) {\n            status = 'race';\n        } else if (today >= new Date(race.signupStartDate) && today <= new Date(race.signupEndDate)) {\n            status = 'signup';\n        }\n        const isLiveRace = race.liveRace === 1;\n        const showSignup = isLiveRace ? !!signup.email : true;\n\n        if (submenu === 'tracking') {\n            return (\n                <RaceTracking stores={this.props.stores} raceid={raceid} />\n            );\n        }\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n                    onClick={this.back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n\n                <div class='row m-0'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2 p-0'>\n                        <div class='row d-flex align-items-center position-relative'>\n                            <h3 class='position-absolute' style='top: 3px; right: 5px;'>\n                                {status === 'signup' && !isLiveRace && <>\n                                    <span\n                                        class='badge badge-primary badge-lg border border-white ml-2'\n                                        data-menu='signup'\n                                        onClick={this.chooseSubmenu}\n                                    >\n                                        <Text id='races.signup-open'>Påmelding åpen</Text>\n                                    </span>\n                                </>}\n                                {status === 'race' && <>\n                                    <span class='badge badge-danger border border-white ml-2'><Text id='races.race-in-progress'>Løp pågår</Text></span>\n                                </>}\n                                {status === 'done' && <>\n                                    <span class='badge badge-success border border-white ml-2'><Text id='races.race-finished'>Løp avsluttet</Text></span>\n                                </>}\n                            </h3>\n                            {(race.images && race.images[0]) ? <img src={race.images[0].s3LargeLink} class='img-fluid' /> : ''}\n                        </div>\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        {isAdmin && <>\n                            <a class='btn btn-primary float-right' href={`https://homerunrace.no/index#/race/${race.id}/edit`}>Edit</a>\n                        </>}\n                        <h3>{race.title}</h3>\n                        <div>\n                            {race.startDate && <><Text id='races.periode'>Periode</Text>: {util.formatDate(race.startDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n                            {race.endDate && <> - {util.formatDate(race.endDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n                        </div>\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='row'>\n                            <div class='w-100 overflow-hidden'>\n                                <div\n                                    class='d-flex flex-row flex-nowrap pb-2 px-1'\n                                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                                >\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-pill-left rounded-none ${submenu === 'about' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='about'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-info-circle' /> <Text id='race.about'>About</Text></button>\n                                        {submenu === 'about' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'results' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='results'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-list-ol' /> <Text id='race.results'>Results</Text></button>\n                                        {submenu === 'results' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'tracking' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='tracking'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-marker-alt' /> <Text id='race.tracking'>Tracking</Text></button>\n                                        {submenu === 'tracking' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'news' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='news'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.news'>News</Text></button>\n                                        {submenu === 'news' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'userImages' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='userImages'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-images' /> <Text id='race.user-images'>User images</Text></button>\n                                        {submenu === 'userImages' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>\n                                    {race.rules && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'rules' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='rules'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-gavel' /> <Text id='race.rules'>Rules</Text></button>\n                                        {submenu === 'rules' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    {race.veterinaryInfo && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'veterinary' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='veterinary'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-stethoscope' /> <Text id='race.veterinary'>Veterinary info</Text></button>\n                                        {submenu === 'veterinary' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    {race.checkpoints && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'checkpoints' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='checkpoints'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-marker-alt' /> <Text id='race.checkpoints'>Checkpoints</Text></button>\n                                        {submenu === 'checkpoints' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    {race.trailDescription && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'track' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='track'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-signs' /> <Text id='race.track-description'>Track description</Text></button>\n                                        {submenu === 'track' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    {race.program && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'program' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='program'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-list-alt' /> <Text id='race.program'>Program</Text></button>\n                                        {submenu === 'program' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    {race.prices && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'prices' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='prices'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-award' /> <Text id='race.prices'>Premier</Text></button>\n                                        {submenu === 'prices' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    {!isLiveRace && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'classes' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='classes'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='race.classes'>Classes</Text></button>\n                                        {submenu === 'classes' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${showSignup ? '' : 'rounded-pill-right'} ${submenu === 'mushers' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='mushers'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-users' /> <Text id='races.mushers'>Mushers</Text></button>\n                                        {submenu === 'mushers' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>\n                                    {showSignup && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-pill-right rounded-none ${submenu === 'signup' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='signup'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-user-edit' /> <Text id='race.signup'>Sign up</Text></button>\n                                        {submenu === 'signup' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n                                    </div>}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {submenu === 'about' && <>\n                    <RaceNotifications stores={this.props.stores} race={race} />\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.about'>Om løpet</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <p class='clearfix'>\n                                <strong>\n                                    <Markdown markdown={mu.replaceImages(race.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                </strong>\n                            </p>\n\n                            {status === 'signup' && <>\n                                {isLiveRace ? <>                                \n                                    <button\n                                        class='btn btn-block btn-success mb-3'\n                                        data-menu='signup'\n                                        onClick={this.chooseSubmenu}\n                                    >\n                                        <i class='fas fa-user-edit' /> <Text id='race.declaration'>Declaration</Text> & <Text id='race.chiplist'>Chiplist</Text>\n                                    </button>\n                                </> : <>                                \n                                    <button\n                                        class='btn btn-block btn-success mb-3'\n                                        data-menu='signup'\n                                        onClick={this.chooseSubmenu}\n                                    >\n                                        <i class='fas fa-user-edit' /> <Text id='race.signup'>Sign up</Text>\n                                    </button>\n                                </>}\n                            </>}\n\n                            <Markdown markdown={mu.replaceImages(race.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            {race.tag && race.tag.split(',').map(tag => <>\n                                <span class='badge badge-pill badge-primary py-1 ml-2'>\n                                    <a class='text-white' href={`https://www.facebook.com/hashtag/${tag}`} target='_blank' rel='noreferrer' native>\n                                        <i class='fab fa-facebook' /> #{tag}\n                                    </a>\n                                </span>\n                                <span class='badge badge-pill badge-primary py-1 ml-2'>\n                                    <a class='text-white' href={`https://www.instagram.com/explore/tags/${tag}`} target='_blank' rel='noreferrer' native>\n                                        <i class='fab fa-instagram' /> #{tag}\n                                    </a>\n                                </span>\n                            </>)}\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'results' && <>\n                    <RaceNotifications stores={this.props.stores} race={race} />\n                    <RaceResults stores={this.props.stores} raceid={raceid} />\n                </>}\n                {submenu === 'tracking' && <>\n                    <RaceTracking stores={this.props.stores} raceid={raceid} />\n                </>}\n                {submenu === 'news' && <>\n                    <RaceNews stores={this.props.stores} race={race} />\n                </>}\n                {submenu === 'userImages' && <>\n                    <RaceUserImages stores={this.props.stores} race={race} />\n                </>}\n                {submenu === 'rules' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.rules'>Regler</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.rules, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'veterinary' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.veterinary'>Veterinærinfo</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.veterinaryInfo, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'checkpoints' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.checkpoints'>Sjekkpunkter</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.checkpoints, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'track' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.track-description'>Løypebeskrivelse</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.trailDescription, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'program' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.program'>Program</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.program, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'prices' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.prices'>Premier</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.prices, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'mushers' && <>\n                    <RaceMushers stores={this.props.stores} race={race} />\n                </>}\n                {submenu === 'classes' && <>\n                    <RaceClasses stores={this.props.stores} race={race} />\n                </>}\n                {submenu === 'signup' && <>\n                    <RaceSignup stores={this.props.stores} race={race} />\n                </>}\n\n                {['about'].indexOf(submenu) > -1 && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <div class=''>\n                                <LikesAndComments\n                                    stores={this.props.stores}\n                                    likes={likes}\n                                    comments={comments}\n                                    type='race'\n                                    // onTeamClick={onTeamClick}\n                                    // onUserClick={onUserClick}\n                                />\n                            </div>\n                        </div>\n\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n                            <div class='row'>\n                                <div class='col-6 text-center'>\n                                    <button type='button' class={`btn btn-outline-${hasLikedRace ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedRace ? 'text-primary' : ''}`}\n                                        onClick={this.likeRace}\n                                        // disabled={hasLikedRace}\n                                    >\n                                        <i class={`${hasLikedRace ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> {hasLikedRace ? <Text id='comments.has-liked'>Liked</Text> : <Text id='comments.like'>Lik</Text>}\n                                    </button>\n                                </div>\n                                <div class='col-6 text-center'>\n                                    <button type='button' class='btn btn-outline-secondary btn-lg btn-block'\n                                        data-id={race.id}\n                                        onClick={this.toggleAddComment}\n                                    >\n                                        <i class='fas fa-comment' /> <Text id='comments.comment-add'>Comment</Text>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n                            {showAddComment && user.email && <RaceAddComment\n                                stores={this.props.stores}\n                                race={race}\n                                // callback={this.loadRaceDetail}\n                                inputRef={c => this.inputRef[race.id] = c}\n                                inputRefObject={this.inputRef}\n                            />}\n                        </div>\n                        <div class='col-12 mt-2'>\n                            <RaceComments\n                                stores={this.props.stores}\n                                race={race}\n                                cols='12'\n                                // callback={this.loadRaceDetail}\n                            />\n                        </div>\n                    </div>\n                </>}\n            </div>\n\t\t);\n\t}\n}\n\nexport default AppRaceDetailSignup;\n"],"sourceRoot":""}