(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{fQqW:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),n=s("OhSV"),l=(s("Y3FI"),s("go65"),s("X9Km"),s("ZOvn")),h=s("AEg1"),b=s("gOLw"),d=(s("AJN2"),s("epqT"),s("w93r"));const p=l.a.marginTop(!1),m=l.a.marginBottom(),u=l.a.marginTopBack(!1),g={isLoading:!1,submenu:"lastWorkouts",viewmenu:"wall"};let O=Object(i.a)(a=class extends c.Component{constructor(t){var e;super(t),e=this,this.reloadFeeds=async function(t){t.preventDefault(),e.setState({isLoading:!0}),e.setState({isLoading:!1})},this.sortby=t=>{const{storyStore:e}=this.props.stores;let s=()=>{};switch(t.target.value){case"likes":s=(t,e)=>t.likes&&e.likes&&t.likes.length<e.likes.length;break;case"-likes":s=(t,e)=>t.likes&&e.likes&&t.likes.length>e.likes.length;break;case"comments":s=(t,e)=>t.comments&&e.comments&&t.comments.length<e.comments.length;break;case"-comments":s=(t,e)=>t.comments&&e.comments&&t.comments.length>e.comments.length;break;default:s=(t,e)=>t.id<e.id}e.sortPublicFeed(s)},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},g)}async loadAll(){const{appState:t,userStore:e,messageStore:s}=this.props.stores;this.setState({isLoading:!0}),await t.getFingerprint(),await e.getInfo(),await e.getNotifications(),await s.getUnReadMessages();const{user:o}=e;if(o.currentLocationInfo&&o.currentLocationInfo.coords){const{latitude:t,longitude:s,altitude:r}=o.currentLocationInfo.coords;e.getWeatherUser({lat:t,lon:s,altitude:r})}this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{story:e,hashtag:s,teamid:o,path:r}=this.props,{userStore:a,appState:i,storyStore:g}=this.props.stores,O=g.findPublicTeamByUuidv4(o),{user:f}=a,{yrWeather:j,currentLocationGeocode:y={}}=f,{formatted_address:k}=y,v=l.a.getImage({team:O});let w,S,x;return O&&O.name?(w=l.a.displayNameShort(O),S=l.a.displayName(O),x=l.a.displayName(f)):f&&f.id&&(w=l.a.displayNameShort(f),S=l.a.displayName(f)),Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${p};`},Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${u}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),Object(c.h)("div",{class:"bg-light"},Object(c.h)(d.a,{stores:this.props.stores,data:j,place:k})),Object(c.h)(h.a,{stores:this.props.stores}),Object(c.h)("div",{class:"row bg-light pb-3 pt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-7 text-overflow"},Object(c.h)("h3",null,s&&Object(c.h)(t,null,Object(c.h)("span",{class:"badge badge-primary"},"#",s)),O&&Object(c.h)(t,null,Object(c.h)("div",{class:"d-flex position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:v?`background-image: url("${v}"); background-size: cover;`:""},!v&&Object(c.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},w)),Object(c.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(c.h)("h3",{class:"mb-1"},O.public?Object(c.h)(t,null,Object(c.h)("a",{href:"/teams/public/"+O.uuidv4,class:"stretched-link"},S)):Object(c.h)(t,null,S))))))),Object(c.h)("div",{class:"col-5"},Object(c.h)("small",{class:"float-right mt-1"},Object(c.h)("select",{class:"custom-select custom-select-sm",id:"team",onChange:this.sortby},Object(c.h)("option",{value:""},Object(c.h)(n.c,{id:"story.sort.new"},"Nyeste først")),Object(c.h)("option",{value:"likes"},Object(c.h)(n.c,{id:"story.sort.likes-desc"},"Flest likes først")),Object(c.h)("option",{value:"-likes"},Object(c.h)(n.c,{id:"story.sort.likes-asc"},"Færrest likes først")),Object(c.h)("option",{value:"comments"},Object(c.h)(n.c,{id:"story.sort.comments-desc"},"Flest kommentarer først")),Object(c.h)("option",{value:"-comments"},Object(c.h)(n.c,{id:"story.sort.comments-asc"},"Færrest kommentarer først")))))))),Object(c.h)(b.a,{stores:this.props.stores,story:e,hashtag:s,teamid:o,path:r}))}})||a;e.default=O}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-stories.chunk.785ec.esm.js.map