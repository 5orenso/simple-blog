(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=(s("Utv1"),s("/eY4")),l={},o=Object(i.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),s.container=null,s}var s,r;r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,s=t.vertical,a=void 0===s?"":s,n={behavior:"smooth"};e&&(n.inline=e),a&&(n.block=a),this.container.scrollIntoView(n)},i.render=function(){var t=this;return Object(c.h)("div",{ref:function(e){return t.container=e}}," ")},e}(c.Component))||r;e.a=o},"3kDq":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=s("QRet"),l=s("Utv1"),o=s("/eY4"),h=s("OhSV"),u={},b=Object(o.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u),s}var r,o;return o=e,(r=s).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,s.prototype.render=function(){var e=this.props.stores,s=e.appState,a=this.props.title,n=s.language,r=void 0===n?"en":n,o=e.raceStore.race,u=new Date,b="";return u>=new Date(o.startDate)&&u<=new Date(o.endDate)?b="race":u>=new Date(o.signupStartDate)&&u<=new Date(o.signupEndDate)?b="signup":u>new Date(o.endDate)&&(b="done"),Object(c.h)(t,null,Object(c.h)("div",{class:"d-flex"},Object(c.h)("div",{class:"flex-fill"},function(t,e){return void 0===e&&(e=""),Object(i.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(c.h)("h1",{class:e},t)}(a,"mb-0")),Object(c.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(c.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(c.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},o.title)),Object(c.h)("small",{class:""},o.startDate&&Object(c.h)(t,null,l.a.formatDate(o.startDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})),o.endDate&&Object(c.h)(t,null," - ",l.a.formatDate(o.endDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(c.h)("div",{class:"flex-fill"},Object(c.h)("h3",{class:"float-right"},"signup"===b&&!o.liveRace&&Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(c.h)("span",{class:"badge badge-primary ml-2"},Object(c.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===b&&Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(c.h)("span",{class:"badge badge-danger ml-2"},Object(c.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===b&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-check text-success"}),Object(c.h)("span",{class:"badge badge-success ml-2"},Object(c.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(c.h)("div",{class:"d-block d-md-none"},Object(c.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(c.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},o.title)),Object(c.h)("small",null,o.startDate&&Object(c.h)(t,null,l.a.formatDate(o.startDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})),o.endDate&&Object(c.h)(t,null," - ",l.a.formatDate(o.endDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})))))},s}(c.Component))||r;e.a=b}).call(this,s("hosL").Fragment)},"5l0g":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=(s("Utv1"),s("/eY4")),l=(s("OhSV"),s("cneo"),s("HqZR")),o=(s("ZOvn"),{showAddComment:!1}),h=Object(i.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},o),s.updateTimer={},s.inputRef={},s}var r,i;i=e,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var h=s.prototype;return h.loadHeatmap=function(){return new Promise(function(t,e){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.adminStore.getPublicHeatmap(this.props.raceid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadHeatmap()},h.render=function(){var e=this.props,s=e.waypoints,a=e.zoomToMarkers,n=e.mapid,r=e.fullscreenMap,i=this.props.stores.adminStore.publicHeatmap;return Object(c.h)(t,null,Object(c.h)(l.a,{stores:this.props.stores,mapId:i.length,heatmap:i,minZoom:2,maxZoom:18,height:600,waypoints:s,zoomToMarkers:a,fullscreenMap:r,key:"map-"+n}))},s}(c.Component))||r;e.a=h}).call(this,s("hosL").Fragment)},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return c.a.format(t,t<5?2:1)}var n,r=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=(s("OhSV"),s("ZOvn"),Object(i.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,c=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,a(function(t){return.621371*t}(n))," ",c?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(r.h)(t,null,"mi"))):Object(r.h)(t,null,Object(r.h)("nobr",null,a(n)," ",c?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"km")))):Object(r.h)(t,null,"km")))},s}(r.Component))||n);e.a=l}).call(this,s("hosL").Fragment)},"8gML":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=s("Utv1"),l=s("/eY4"),o=s("OhSV"),h=(s("go65"),s("RMlE"),s("5l0g"),s("ZOvn")),u=(h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:i.a.getJwtToken()}),b=Object(l.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u),s}var r,i;return i=e,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.raceid,a=e.path,n=this.props.stores.appState.darkmode,r="default";return a.match(/\/race\/:raceid$/)?r="default":a.match(/\/race\/:raceid\/mushers$/)?r="mushers":a.match(/\/race\/:raceid\/results$/)?r="results":a.match(/\/race\/:raceid\/media$/)?r="media":a.match(/\/race\/:raceid\/tracking$/)&&(r="tracking"),Object(c.h)(t,null,Object(c.h)("div",{class:"row fixed-top pr-3",style:"margin-top: 40px; background-color: "+(n?"#191d21":"#f8f9fa")+";"},Object(c.h)("div",{class:"col-12 my-2 mx-2"},Object(c.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s,class:"text-overflow nav-link "+("default"===r?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-info-circle"})," ",Object(c.h)(o.c,{id:"race.therace"},"Løpet")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/mushers",class:"text-overflow nav-link "+("mushers"===r?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(o.c,{id:"race.mushers"},"Deltakere")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/results",class:"text-overflow nav-link "+("results"===r?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-poll"})," ",Object(c.h)(o.c,{id:"race.results"},"Resultater")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/media",class:"text-overflow nav-link "+("media"===r?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-images"})," ",Object(c.h)(o.c,{id:"race.media"},"Bilder")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/tracking",class:"text-overflow nav-link "+("tracking"===r?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(c.h)(o.c,{id:"race.tracking"},"Tracking"))))))))},s}(c.Component))||r;e.a=b}).call(this,s("hosL").Fragment)},LMwI:function(t){t.exports={pointerCursor:"pointerCursor__1W6mM"}},LbFk:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i,l,o=s("hosL"),h=s("Utv1"),u=s("/eY4"),b=(s("OhSV"),s("fh8t"),s("go65")),d=s("cneo"),p=(s("ZOvn"),function(t){return function(e,s){return t.map((function(t){var a=1;return"-"===t[0]&&(a=-1,t=t.substring(1)),e[t]>s[t]?a:e[t]<s[t]?-a:0})).reduce((function(t,e){return t||e}),0)}}),m=Object(u.a)(i=function(e){function s(){return e.apply(this,arguments)||this}return c(s,e),s.prototype.render=function(){var e=this.props,s=e.lastResults,a=void 0===s?[]:s,n=e.currentClass,r=void 0===n?{}:n,c=e.selectedMusher,i=void 0===c?{}:c,l=e.selectResult,u=void 0===l?function(){}:l,b=this.props.stores.userStore.user,d=(void 0===b?{}:b).language,p=void 0===d?"en":d;return Object(o.h)(t,null,Object(o.h)("table",{class:"table table-striped"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{style:"width: 10%"},"Time"),Object(o.h)("th",{style:"width: 5%"},"Dir"),Object(o.h)("th",{style:"width: 75%"},"Checkpoint"),Object(o.h)("th",{style:"width: 10%"},"Dogs"))),Object(o.h)("tbody",null,a&&a.length>0&&a.map((function(e){var s=r.checkpoints?r.checkpoints.find((function(t){return t.id===e.checkpoint})):null,a="in"===e.direction&&s.requiredRestMinutes?s.timeEqualization?i.timeEqualization+s.requiredRestMinutes:s.requiredRestMinutes:null;new Date(new Date(e.timestamp).getTime()+6e4*a);return Object(o.h)(t,null,Object(o.h)("tr",{class:"resultLine","data-resultid":e.id,onClick:u},Object(o.h)("td",null,Object(o.h)("nobr",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"}))," ",h.a.formatDate(e.timestamp,{locale:p,year:"2-digit",month:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("td",null,"in"===e.direction&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-sign-in-alt mr-2 text-success"})),"out"===e.direction&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-sign-out-alt mr-2 text-info"})),"scratched"===e.direction&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-times mr-2 text-danger"}))),Object(o.h)("td",null,Object(o.h)("span",{class:"text-muted"},s.sortOrder,":")," ",s.name),Object(o.h)("td",null,Object(o.h)("nobr",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-dog ml-3"}))," ",e.dogs,Object(o.h)("br",null)))))})))))},s}(o.Component))||i,O=Object(u.a)(l=function(e){function s(t){var s;return(s=e.call(this,t)||this).addResult=function(t){return new Promise((function(e,a){function r(){return Promise.resolve(i.addResult({id:j,classId:u,showTimestamp:!1,newResult:n({direction:h,checkpoint:b},f)})).then((function(){try{return s.setState({result:{bib:"",dogs:"",timestamp:""},selectedMusher:null,lastResults:null,message:"Added "+f.bib+" with "+f.dogs+" dogs "+h+" "+("in"===h?"to":"of")+" checkpoint "+m.name+"."}),clearTimeout(s.updateTimer.message),s.updateTimer.message=setTimeout((function(){return new Promise((function(t){return s.setState({message:""}),t()}))}),3e3),e()}catch(t){return a(t)}}),a)}var c,i,l,o,h,u,b,d,p,m,O,f,j;return i=(c=s.props.stores).raceStore,l=c.appState,o=t.target.closest("button").dataset,h=o.direction,u=o.classid,b=l.checkpointId,p=i.getClassById((void 0===(d=l.selectedClassIds)?[]:d)[0]),m=p.checkpoints?p.checkpoints.find((function(t){return t.id===b})):null,j=i.race.id,(f=(O=s.state).result).timestamp=O.showTimestamp&&f.timestamp?f.timestamp:new Date,"scratched"===h?Promise.resolve(i.addResult({id:j,classId:u,showTimestamp:!1,newResult:n({direction:"in",checkpoint:b},f)})).then(function(){try{return Promise.resolve(i.editContestant({id:j,classId:u,bib:f.bib,field:"raceStatus",value:"DNF"})).then(function(){try{return r.call(this)}catch(t){return a(t)}}.bind(this),a)}catch(t){return a(t)}}.bind(this),a):r.call(this)}))},s.editResult=function(t){var e,a=s.props.stores,n=a.raceStore,r=a.appState,c=s.state.currentResult,i=n.race.id,l=t.target.id,o=t.target.value,u=t.target.dataset,b=u.classid,d=u.resultid;c[l]=o,s.setState({currentResult:c});var p=r.selectedClassIds,m=(void 0===p?[]:p)[0],O=((e={raceClassId:b,resultId:d})["raceClassResult"+h.a.ucfirst(l)]=o,e);clearTimeout(s.updateTimer[l]),s.updateTimer[l]=setTimeout((function(){return new Promise((function(t,e){var s,a,r,c;return Promise.resolve(n.editClass({id:i,data:O})).then((function(){try{return n.updateClassesResultLocal(b,d,l,o),s=n.getClassById(m),n.sortContestantsByResult({contestants:void 0===(r=s.contestants)?[]:r,results:void 0===(c=s.results)?[]:c,checkpoints:void 0===(a=s.checkpoints)?[]:a}),t()}catch(t){return e(t)}}),e)}))}),500)},s.updateField=function(t){var e=s.props.stores,a=e.raceStore,n=e.appState,r=t.target.id,c=t.target.value,i=n.selectedClassIds,l=a.getClassById((void 0===i?[]:i)[0]),o=s.state,u=o.result,b=o.selectedResult,m=o.showTimestamp;u[r]=c;var O,f,j,g,v,y,x,w,k,S=n.checkpointId,C=a.sortedContestants,D=void 0===C?[]:C,T=l.checkpoints?l.checkpoints.find((function(t){return t.id===S})):null,I=D?D.find((function(t){return t.bib===parseInt(u.bib,10)})):null;if(!I)return s.setState({result:u}),!1;l&&((O=l.results?l.results.slice().sort(p(["-timestamp","-direction"])).filter((function(t){return parseInt(t.bib,10)===parseInt(u.bib,10)})):null)&&O.length>0&&(f=O.find((function(t){return t.checkpoint===S&&"in"===t.direction})),j=O.find((function(t){return t.checkpoint===S&&"out"===t.direction})),g=O.find((function(t){return t.checkpoint===S&&"scratched"===t.direction})),(y=a.getPreviousCheckpoint({currentClass:l,checkpointId:S}))&&(x=O.find((function(t){return t.checkpoint===y.id&&"in"===t.direction})),w=O.find((function(t){return t.checkpoint===y.id&&"out"===t.direction})),k=O.find((function(t){return t.checkpoint===y.id&&"scratched"===t.direction})))),v=l.results?Object(d.i)(l.results.slice().find((function(t){return t.id===b}))):{});var P=O&&O[0]?O[0]:null;P&&(m&&(u.timestamp=h.a.isoDate(O&&O[0]?O[0].timestamp:I&&I.startTime?I.startTime:l.startDate,!1,!1,!1)),u.dogs=P.dogs);s.setState({result:u,selectedCheckpoint:T,selectedMusher:I,isCheckedIn:f,isCheckedOut:j,isScratched:g,isCheckedInPrev:x,isCheckedOutPrev:w,isScratchedPrev:k,prevCheckpoint:y,currentResult:v,lastResults:O})},s.deleteResult=function(){return new Promise((function(t,e){var a,n,r,c,i,l,o,h,u;return a=s.state.selectedResult,c=(r=(n=s.props.stores).raceStore).race.id,l=r.getClassById((void 0===(i=n.appState.selectedClassIds)?[]:i)[0]),Promise.resolve(r.editClass({id:c,data:{raceClassId:l.id,resultId:a,raceClassResultDelete:1}})).then((function(){try{return r.sortContestantsByResult({contestants:void 0===(h=l.contestants)?[]:h,results:void 0===(u=l.results)?[]:u,checkpoints:void 0===(o=l.checkpoints)?[]:o}),s.doneEditResult(),t()}catch(t){return e(t)}}),e)}))},s.selectCheckpoint=function(t){var e=s.state,a=e.result,n=t.target.closest("button").dataset.id,r=s.props.stores,c=r.appState,i=r.raceStore;c.selectCheckpoint(n);var l=c.selectedClassIds,o=i.getClassById((void 0===l?[]:l)[0]),h=o.checkpoints?o.checkpoints.find((function(t){return t.id===n})):null,u=i.sortedContestants,b=void 0===u?[]:u,d=b?b.find((function(t){return t.bib===parseInt(a.bib,10)})):null,m=o.results?o.results.slice().sort(p(["-timestamp","-direction"])).filter((function(t){return parseInt(t.bib,10)===parseInt(a.bib,10)})):null,O=m.find((function(t){return t.checkpoint===n&&"in"===t.direction})),f=m.find((function(t){return t.checkpoint===n&&"out"===t.direction})),j=m.find((function(t){return t.checkpoint===n&&"scratched"===t.direction})),g=i.getPreviousCheckpoint({currentClass:o,checkpointId:n}),v=m.find((function(t){return t.checkpoint===g.id&&"in"===t.direction})),y=m.find((function(t){return t.checkpoint===g.id&&"out"===t.direction})),x=m.find((function(t){return t.checkpoint===g.id&&"scratched"===t.direction}));s.setState({selectedCheckpoint:h,selectedMusher:d,isCheckedIn:O,isCheckedOut:f,isScratched:j,isCheckedInPrev:v,isCheckedOutPrev:y,isScratchedPrev:x,lastResults:m})},s.toggleTimestamp=function(){var t,e=s.state,a=e.showTimestamp,n=e.result,r=s.props.stores,c=r.appState.selectedClassIds,i=r.raceStore.getClassById((void 0===c?[]:c)[0]),l=i.contestants?i.contestants.find((function(t){return t.bib===parseInt(n.bib,10)})):null,o=i.results?i.results.slice().sort(p(["timestamp"])).reverse().filter((function(t){return parseInt(t.bib,10)===parseInt(n.bib,10)})):null;t=o&&o[0]?o[0].timestamp:l.startTime?l.startTime:i.startDate?i.startDate:new Date,n.timestamp=h.a.isoDate(t,!1,!1,!1),s.setState({showTimestamp:!a,result:n})},s.doneEditResult=function(){var t=s.props.stores,e=t.appState,a=e.selectedClassIds,n=t.raceStore.getClassById((void 0===a?[]:a)[0]),r=e.checkpointId,c=n.checkpoints?n.checkpoints.find((function(t){return t.id===r})):null;s.setState({selectedResult:"",selectedCheckpoint:c,currentResult:null,result:{bib:"",dogs:"",timestamp:""}})},s.selectResult=function(t){var e=t.target.closest(".resultLine").dataset.resultid,a=s.props.stores,n=a.appState.selectedClassIds,r=a.raceStore.getClassById((void 0===n?[]:n)[0]),c=r.results?Object(d.i)(r.results.slice().find((function(t){return t.id===e}))):{};s.setState({selectedResult:e,currentResult:c})},s.state={result:{},message:""},s.updateTimer={},s}c(s,e);var a=s.prototype;return a.componentWillReceiveProps=function(){},a.componentDidMount=function(){this.doneEditResult()},a.render=function(){var e=this,s=this.state,a=s.result,n=s.showTimestamp,r=s.message,c=s.selectedCheckpoint,i=s.selectedMusher,l=s.isCheckedIn,u=s.isCheckedOut,d=s.isScratched,p=s.isCheckedOutPrev,O=s.currentResult,f=s.lastResults,j=void 0===f?[]:f,g=this.props.stores,v=g.appState,y=v.checkpointId,x=v.selectedClassIds,w=g.raceStore.getClassById((void 0===x?[]:x)[0]),k=j&&j[0]?j[0]:{},S=w.checkpoints?w.checkpoints.find((function(t){return t.id===k.checkpoint})):null;S=S||{};return Object(o.h)(t,null,Object(o.h)("div",{class:"mt-2 pb-5",style:"height: 70vh;"},Object(o.h)("h3",null,"Admin timing - ",w.title),Object(o.h)("div",{class:"w-100 overflow-hidden"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},w.checkpoints&&w.checkpoints.map((function(s,a){var n={},r={};return j&&j.length>0&&(n=j.slice().find((function(t){return parseInt(t.bib,10)==i.bib&&t.checkpoint===s.id&&"in"===t.direction}))||{},r=j.slice().find((function(t){return parseInt(t.bib,10)==i.bib&&t.checkpoint===s.id&&"out"===t.direction}))||{},j.slice().find((function(t){return parseInt(t.bib,10)==i.bib&&t.checkpoint===s.id&&"scratched"===t.direction}))||{}),Object(o.h)(t,null,Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block "+(0===a&&"rounded-pill-left")+" "+(a===w.checkpoints.length-1&&"rounded-pill-right")+" rounded-none "+(y===s.id?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.selectCheckpoint,"data-id":s.id},s.sortOrder,": ",s.name,r&&r.id?Object(o.h)("i",{class:"fas fa-check text-white ml-2"}):"",n&&n.id&&!r.id?Object(o.h)("i",{class:"fas fa-map-marker-alt text-white ml-2"}):"")))})))),Object(o.h)("div",{class:"w-100 overflow-hidden"},c&&Object(o.h)(t,null,Object(o.h)("h3",null,i&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-user text-muted"})," ",i.firstname," ",i.lastname)),O?Object(o.h)(t,null,["bib","dogs"].map((function(s){return Object(o.h)(t,null,Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:s},s),Object(o.h)("input",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help","data-classid":w.id,"data-resultid":O.id,"data-field":s,value:O[s],onInput:e.editResult})))})),["timestamp"].map((function(s){return Object(o.h)(t,null,Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:s},Object(o.h)("i",{class:"fas fa-stopwatch"})," ",s),Object(o.h)("input",{type:"datetime-local",class:"form-control",id:s,"aria-describedby":s+"Help","data-classid":w.id,"data-resultid":O.id,"data-field":s,value:h.a.isoDate(O[s],!1,!1,!1),onInput:e.editResult}),Object(o.h)("button",{class:"btn btn-link",onClick:e.toggleTimestamp},"Hide timestamp")))})),Object(o.h)("button",{class:"btn btn-lg btn-danger float-left",onClick:this.deleteResult},"Delete"),Object(o.h)("button",{class:"btn btn-lg btn-info float-right",onClick:this.doneEditResult},"Done")):Object(o.h)(t,null,c.sortOrder>S.sortOrder+1&&Object(o.h)(t,null,Object(o.h)("div",{class:"p-3 mb-2 bg-danger text-white clearfix"},Object(o.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(o.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),"Previous checkpoint is not logged yet.")),!p&&c.sortOrder===S.sortOrder+1&&Object(o.h)(t,null,Object(o.h)("div",{class:"p-3 mb-2 bg-danger text-white clearfix"},Object(o.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(o.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),"Not checked out of prev.")),["bib"].map((function(s){return Object(o.h)(t,null,Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:s},s),Object(o.h)("input",{type:"text",class:"form-control form-control-lg",id:s,"aria-describedby":s+"Help",onInput:e.updateField,value:a[s]})))})),["dogs"].map((function(s){return Object(o.h)(t,null,Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:s},Object(o.h)("i",{class:"fas fa-dog"})," ",s),Object(o.h)("input",{type:"text",class:"form-control form-control-lg",id:s,"aria-describedby":s+"Help",onInput:Object(b.a)(e,"result."+s),value:a[s]})))})),n?Object(o.h)(t,null,["timestamp"].map((function(s){return Object(o.h)(t,null,Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:s},Object(o.h)("i",{class:"fas fa-stopwatch"})," ",s),Object(o.h)("input",{type:"datetime-local",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(b.a)(e,"result."+s),value:h.a.isoDate(a[s],!1,!1,!1).replace(/ /g,"T"),min:h.a.isoDate(k.timestamp,!1,!1,!1).replace(/ /g,"T")}),Object(o.h)("button",{class:"btn btn-link",onClick:e.toggleTimestamp},Object(o.h)("i",{class:"fas fa-stopwatch"})," Hide timestamp")))}))):Object(o.h)(t,null,Object(o.h)("div",{class:"form-group"},Object(o.h)("button",{class:"btn btn-link",onClick:this.toggleTimestamp},Object(o.h)("i",{class:"fas fa-stopwatch"})," Show timestamp"))),l&&u&&Object(o.h)(t,null,Object(o.h)("div",{class:"alert alert-warning my-2 clearfix",role:"alert"},Object(o.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(o.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),i&&Object(o.h)(t,null,i.firstname," ",i.lastname)," Has checked in and out of this checkpoint!")),Object(o.h)("div",{class:"d-flex justify-content-between"},Object(o.h)("div",{class:"text-center"},Object(o.h)("h3",null,Object(o.h)("i",{class:"fas fa-campground text-muted"})," ",c.name))),Object(o.h)("div",{class:"d-flex justify-content-between"},Object(o.h)("button",{class:"btn btn-lg btn-success float-left",onClick:this.addResult,"data-direction":"in","data-classid":w.id,disabled:l?"disabled":""},"CP In ",Object(o.h)("i",{class:"fas fa-sign-in-alt ml-2"})),Object(o.h)("button",{class:"btn btn-lg btn-info float-right",onClick:this.addResult,"data-direction":"out","data-classid":w.id,disabled:u?"disabled":""},Object(o.h)("i",{class:"fas fa-sign-out-alt mr-2"})," CP Out"))))),r&&Object(o.h)("div",{class:"alert alert-success mt-3 clearfix",role:"alert"},r),Object(o.h)("div",{class:"overflow-hidden mb-5 mt-3"},Object(o.h)(m,{stores:this.props.stores,lastResults:j,currentClass:w,selectedMusher:i,selectResult:this.selectResult})),Object(o.h)("div",{class:"d-flex justify-content-center mt-3 mb-5"},Object(o.h)("button",{class:"btn btn-sm btn-block btn-danger",onClick:this.addResult,"data-direction":"scratched","data-classid":w.id,disabled:d?"disabled":""},"Scratch ",Object(o.h)("i",{class:"fas fa-times ml-2"})))))},s}(o.Component))||l;e.a=O}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var a,n=s("hosL"),r=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,a=void 0===s?0:s,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return 9*t/5+32}(a),0),"°F")):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(a,1),"°C"))},s}(n.Component))||a);e.a=i}).call(this,s("hosL").Fragment)},QuNB:function(t,e,s){"use strict";(function(t){var a,n=s("hosL"),r=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("fh8t"),s("ZOvn")),l=s("gcyc"),o=Object(c.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.bib,a=e.onClickNav,c=void 0===a?function(){}:a,o=this.props.stores,h=o.appState,u=o.raceStore,b=h.checkpointId,d=u.sortedContestants,p=void 0===d?[]:d,m=h.selectedClassIds,O=u.getClassById((void 0===m?[]:m)[0])||{},f=O.checkpoints,j=void 0===f?[]:f,g=O.results,v=void 0===g?[]:g,y=(O.checkpoints&&O.checkpoints.find((function(t){return t.id===b})),p?p.find((function(t){return t.bib===parseInt(s,10)})):null);y=y||{};var x,w,k=p?p.findIndex((function(t){return t.bib===parseInt(s,10)})):null,S=(O.results&&O.results.slice().sort((x=["-timestamp","-direction"],function(t,e){return x.map((function(s){var a=1;return"-"===s[0]&&(a=-1,s=s.substring(1)),t[s]>e[s]?a:t[s]<e[s]?-a:0})).reduce((function(t,e){return t||e}),0)})).filter((function(t){return parseInt(t.bib,10)===parseInt(s,10)})),u.getTeamById(y.team)),C=S.members?S.members.find((function(t){return t.email===y.email})):{},D=(i.a.getImage({user:C,team:S,priority:"user"}),i.a.displayNameShort(C)||i.a.displayNameShort(y),0),T=0,I=0,P=0,R=O.startDate,L=0,M=k>-1&&p[k+1]?p[k+1].bib:null,E=k>-1&&p[k-1]?p[k-1].bib:null;return Object(n.h)(t,null,M&&Object(n.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return c(M)}},Object(n.h)("i",{class:"fas fa-angle-right"})),E&&Object(n.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return c(E)}},Object(n.h)("i",{class:"fas fa-angle-left"})),Object(n.h)(l.a,{stores:this.props.stores,contestant:y,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick,onClickNav:c,rank:k+1},Object(n.h)("div",{class:"table-responsive"},Object(n.h)("table",{class:"table table-striped table-sm"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",null,"Checkpoint"),Object(n.h)("th",{class:"text-center"},"In"),Object(n.h)("th",{class:"text-center"},"Out"),Object(n.h)("th",{class:"text-center"},"Moving time"),Object(n.h)("th",{class:"text-center"},"Avg speed"),Object(n.h)("th",{class:"text-center"},"Total moving time"),Object(n.h)("th",{class:"text-center"},"Rest"),Object(n.h)("th",{class:"text-center"},"Total rest"),Object(n.h)("th",{class:"text-center"},"% rest"),Object(n.h)("th",{class:"text-center"},"Distance"),Object(n.h)("th",{class:"text-center"},"Total distance"))),Object(n.h)("tbody",null,j&&j.map((function(e){var s=Math.floor((new Date).getTime()/1e3,10),a=v.slice().find((function(t){return parseInt(t.bib,10)==y.bib&&t.checkpoint===e.id&&"in"===t.direction}))||{},c=v.slice().find((function(t){return parseInt(t.bib,10)==y.bib&&t.checkpoint===e.id&&"out"===t.direction}))||{},l=v.slice().find((function(t){return parseInt(t.bib,10)==y.bib&&t.checkpoint===e.id&&"scratched"===t.direction}))||{},o=0;!e.isStartLine&&a&&c&&a.timestamp&&c.timestamp&&(o=i.a.deltaSec(a.timestamp,c.timestamp));var h=0;w&&a&&w.timestamp&&a.timestamp&&(h=i.a.deltaSec(w.timestamp,a.timestamp));var u=!1,b=0;a&&a.timestamp&&(u=!0,b=e.distanceFromPrev/(h/3600)),D+=e.distanceFromPrev?parseInt(e.distanceFromPrev,10):0,I+=h||0,P+=o||0;var d,p=(T+=(h||0)+(o||0))?P/T*100:0,m=60*O.requiredRestMinutes,f="text-muted font-weight-lighter",j="text-info";if(u){var g,x,k;c&&c.timestamp||(e.isStartLine?x=0:e.timeEqualization?(O.requiredRestMinutes&&P<m&&(x=m-P+60*y.timeEqualization,f="text-warning font-weight-bold"),!x&&e.requiredRestMinutes&&e.timeEqualization&&y.timeEqualization&&(x=60*e.requiredRestMinutes+60*y.timeEqualization)):x=e.requiredRestMinutes>0?60*e.requiredRestMinutes:10800,e.isStartLine?g=i.a.addDeltaSec(y.startTime||O.startDate,0):(g=i.a.addDeltaSec(a.timestamp,x),k=i.a.deltaSec(a.timestamp,s)),R=g,m&&(j=P+k>m+60*y.timeEqualization?"text-success":"text-danger")),d=Object(n.h)(t,null,Object(n.h)("tr",null,Object(n.h)("td",null,Object(n.h)("nobr",null,e.name)),Object(n.h)("td",{class:"text-center"},!e.isStartLine&&Object(n.h)("nobr",null,Object(n.h)("span",{class:"text-muted mr-1"},i.a.formatDate(a.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(a.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}),a.dogs>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",a.dogs))),Object(n.h)("td",{class:"text-center"},e.isFinishLine?Object(n.h)(t,null," "):Object(n.h)(t,null,c.timestamp&&Object(n.h)("nobr",null,Object(n.h)("span",{class:"text-muted mr-1"},i.a.formatDate(c.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(c.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}),c.dogs>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",c.dogs)),!l.timestamp&&g&&Object(n.h)("nobr",{class:""+f},Object(n.h)("span",{class:"text-muted mr-1"},i.a.formatDate(g,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(g,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),l.timestamp&&Object(n.h)("nobr",{class:"text-danger"},Object(n.h)("i",{class:"fas fa-times"}),Object(n.h)("span",{class:"text-muted mr-1"},i.a.formatDate(l.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(l.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(n.h)("td",{class:"text-center"},!e.isStartLine&&Object(n.h)("nobr",null,r.a.secToHms(h,!0))),Object(n.h)("td",{class:"text-center"},!e.isStartLine&&Object(n.h)("nobr",null,r.a.format(b||0,1)," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"km/t"))),Object(n.h)("td",{class:"text-center"},!e.isStartLine&&Object(n.h)("nobr",null,r.a.secToHms(I,!0))),Object(n.h)("td",{class:"text-center"},e.isFinishLine||e.isStartLine?Object(n.h)(t,null," "):Object(n.h)(t,null,l.timestamp?Object(n.h)(t,null," "):Object(n.h)(t,null,c&&c.timestamp?Object(n.h)(t,null,!e.isStartLine&&Object(n.h)(t,null,x>0?Object(n.h)(t,null,Object(n.h)("nobr",{class:"text-muted font-weight-lighter"},r.a.secToHms(x,!0))):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.secToHms(o,!0))))):Object(n.h)(t,null,Object(n.h)("nobr",{class:"text-info"},r.a.secToHms(k,!0)))))),Object(n.h)("td",{class:"text-center"},e.isFinishLine?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.secToHms(P,!0))):Object(n.h)(t,null,l.timestamp?Object(n.h)(t,null," "):Object(n.h)(t,null,!e.isStartLine&&Object(n.h)(t,null,Object(n.h)("nobr",null,k?Object(n.h)(t,null,Object(n.h)("span",{class:j},r.a.secToHms(P+k,!0))," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"/ ",r.a.secToHms(m+60*y.timeEqualization,!0))):Object(n.h)(t,null,r.a.secToHms(P,!0))))))),Object(n.h)("td",{class:"text-center"},e.isStartLine||l.timestamp?Object(n.h)(t,null," "):Object(n.h)(t,null,p>0&&Object(n.h)("nobr",null,r.a.format(p||0,0)," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"%")))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,e.distanceFromPrev||0," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"km"))),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,D," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"km"))))),c&&c.timestamp&&(R=c.timestamp,L=b)}else{var S,C,M,E,_=L?1e3*e.distanceFromPrev/(L/3.6)/60:e.estTimeToCpMinutes||0;e.isStartLine?(S=y.startTime||O.startDate,M=0):R&&(S=i.a.addDeltaSec(R,60*_),C=i.a.addDeltaSec(S,M=e.isStartLine?0:e.requiredRestMinutes&&e.timeEqualization&&y.timeEqualization?60*e.requiredRestMinutes+60*y.timeEqualization:e.requiredRestMinutes>0?60*e.requiredRestMinutes:60*(e.estRestMinutes||180)),R=C),w&&w.timestamp&&(E=i.a.deltaSec(w.timestamp,s)),b=L||e.distanceFromPrev/(60*_/3600),d=Object(n.h)("tr",null,Object(n.h)("td",null,e.name),w&&w.timestamp?Object(n.h)(t,null,Object(n.h)("td",{class:"text-center text-info font-weight-light"},!e.isStartLine&&S&&Object(n.h)("nobr",null,"est:",Object(n.h)("span",{class:"text-muted mr-1 ml-1"},i.a.formatDate(S,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(S,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(n.h)(t,null,Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&S&&Object(n.h)("nobr",null,Object(n.h)("span",{class:"text-muted mr-1"},i.a.formatDate(S,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(S,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isFinishLine&&C&&Object(n.h)("nobr",null,Object(n.h)("span",{class:"text-muted mr-1"},i.a.formatDate(C,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(C,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),w&&w.timestamp?Object(n.h)(t,null,Object(n.h)("td",{class:"text-center text-info"},Object(n.h)("nobr",null,r.a.secToHms(E,!0)))):Object(n.h)(t,null,Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&Object(n.h)("nobr",null,r.a.secToHms(60*e.estTimeToCpMinutes,!0)))),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&Object(n.h)("nobr",null,r.a.format(b||0,1)," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"km/t"))),w&&w.timestamp?Object(n.h)(t,null,Object(n.h)("td",{class:"text-center text-info"},Object(n.h)("nobr",null,r.a.secToHms(E+I,!0)))):Object(n.h)(t,null,Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"}," ")),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&!e.isFinishLine&&Object(n.h)("nobr",null,r.a.secToHms(M,!0))),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(n.h)("td",{class:"text-center"},Object(n.h)("nobr",null,e.distanceFromPrev||0," ",Object(n.h)("span",{class:"text-muted font-weight-lighter"},"km"))),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(n.h)("td",{class:"text-center text-muted font-weight-lighter"}," "))}return w=c,a,d})))))))},s}(n.Component))||a;e.a=o}).call(this,s("hosL").Fragment)},RMlE:function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=s("ox/y"),l=(s("Utv1"),s("/eY4")),o=(s("go65"),s("Y3FI")),h=s("OhSV"),u=(s("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),b=Object(l.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).toggleDropdown=function(t){var e=s.state.menu,a=t.target.dataset.name;!a&&t.target.parentNode&&(a=t.target.parentNode.dataset.name),a&&(e[a]=!e[a]),s.setState({menu:e})},s.toggleDarkmode=function(t){s.props.stores.appState.toggleDarkmode(),s.toggleDropdown(t)},s.toggleViewmode=function(t){var e=t.target.dataset.mode;!e&&t.target.parentNode&&(e=t.target.parentNode.dataset.mode),s.props.stores.appState.toggleViewmode(e),s.toggleDropdown(t)},s.reloadApp=function(){window.location.reload(!0)},s.adminLoadAll=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.userStore.getInfo(!0)).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.changeLanguage=function(t){var e=t.target.value;console.log("changeLanguage",e);var a=s.props.stores,n=a.appState,r=a.userStore,c=r.user,i=void 0===c?{}:c;i.email&&r.setLanguage({email:i.email,language:e}),n.setLanguage(e)},s.search=function(){var t=s.state.searchText;Object(o.route)("/search/"+t)},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u),s}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){var t=this.state,e=t.menu,s=this.props.stores,a=s.appState,n=s.userStore,r=a.darkmode,l=n.user,o=n.notifications,u=((void 0===o?[]:o).filter((function(t){return!t.read})),l.language),b=void 0===u?"en":u;return Object(c.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(c.h)("a",{class:"navbar-brand",href:"/race/"},Object(c.h)("img",{src:"./assets/homerun-race-logo-2-"+(r?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(c.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(c.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(c.h)("span",{class:"navbar-toggler-icon"})),Object(c.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(c.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(c.h)("li",{class:"nav-item"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-flag-checkered"})," ",Object(c.h)(h.c,{id:"header.races"},"Løpene"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"far fa-question-circle"})," ",Object(c.h)(h.c,{id:"header.support"},"Support"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-quote-right"})," ",Object(c.h)(h.c,{id:"header.news"},"Nyheter")))),Object(c.h)("ul",{class:"navbar-nav ml-auto "},Object(c.h)("li",{class:"nav-item mr-2"},Object(c.h)("div",{class:"form-row align-items-center"},Object(c.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(c.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(c.h)("option",{value:"no",selected:"no"===b},"🇳🇴 NO"),Object(c.h)("option",{value:"en",selected:"en"===b},"🇬🇧 EN"),Object(c.h)("option",{value:"es",selected:"es"===b},"🇪🇸 ES"),Object(c.h)("option",{value:"de",selected:"de"===b},"🇩🇪 DE"),Object(c.h)("option",{value:"fr",selected:"fr"===b},"🇫🇷 FR"),Object(c.h)("option",{value:"ru",selected:"ru"===b},"🇷🇺 RU"),Object(c.h)("option",{value:"se",selected:"se"===b},"🇸🇪 SE"))))),Object(c.h)("li",{class:"nav-item d-block d-lg-none"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"})," ",Object(c.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(c.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(c.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"}))))))},e}(c.Component))||r;e.a=b},UwwE:function(t,e,s){"use strict";(function(t){var a,n=s("hosL"),r=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,a=void 0===s?0:s,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return 2.20462*t}(a),0)," lb")):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(a,0)," kg"))},s}(n.Component))||a);e.a=i}).call(this,s("hosL").Fragment)},aGZh:function(t,e,s){"use strict";(function(t){function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,r=s("hosL"),c=s("/eY4"),i={};Object(c.a)(n=function(s){function n(t){var n;return(n=s.call(this,t)||this).state=function(t){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?e(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i),n}var c,l;return l=s,(c=n).prototype=Object.create(l.prototype),c.prototype.constructor=c,c.__proto__=l,n.prototype.render=function(){var e=this.props.stores.appState,s=this.props.text,a=e.language,n=void 0===a?"en":a,c=s,i=new RegExp("/<"+n+">(.*?)</"+n+">/");return s.replace(i,"$1")&&(c=s),Object(r.h)(t,null,c)},n}(r.Component))}).call(this,s("hosL").Fragment)},aMCh:function(t,e,s){"use strict";(function(t){function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n,r,c,i=s("hosL"),l=s("Utv1"),o=s("/eY4"),h=(s("OhSV"),s("fh8t"),s("ZOvn")),u=Object(o.a)(n=function(e){function s(){return e.apply(this,arguments)||this}return a(s,e),s.prototype.render=function(){var e=this.props,s=e.checkpoints,a=e.thClass,n=e.thStyle,r=e.selectedCheckpointId,c=e.width,l=e.widthCp,o=e.onClickCheckpoint,h=void 0===o?function(){}:o,u=e.dotColor;return Object(i.h)(t,null,s&&s.map((function(e,s){return Object(i.h)(t,null,s>0&&Object(i.h)("th",{class:a,style:n},Object(i.h)("div",{class:"",style:"width: "+c+"px;"}," ")),Object(i.h)("th",{class:a,style:n},Object(i.h)("div",{class:"checkpoint position-relative "+(r===e.id?"text-primary":""),style:"width: "+l+"px; font-size: 1.1em;",onClick:h,"data-id":e.id},Object(i.h)("i",{class:"fas fa-campground"}),Object(i.h)("div",{class:"rounded-pill-both px-1 text-center position-absolute "+(u?"":"bg-secondary")+" font-weight-bold",style:"bottom: 0px; right: -20px; font-size: 0.6em; "+(u?"background-color: "+u+";":"")},e.sortOrder&&"n/a"!==e.sortOrder&&Object(i.h)(t,null,e.sortOrder)))))})))},s}(i.Component))||n,b=Object(o.a)(r=function(e){function s(){return e.apply(this,arguments)||this}return a(s,e),s.prototype.render=function(){var e=this.props,s=e.currentClass,a=e.contestants,n=e.limit,r=e.onClickMusher,c=e.tdClass,o=e.tdStyle,u=e.progressStyle,b=e.progressbarStyle,d=s.checkpoints,p=void 0===d?[]:d,m=s.results,O=void 0===m?[]:m,f=a&&n?a.slice(0,n):a,j=this.props.stores.raceStore.sortedContestants,g=void 0===j?[]:j,v=60*s.requiredRestMinutes,y=Math.floor((new Date).getTime()/1e3,10);return Object(i.h)(t,null,f&&f.map((function(e,s){var a,n,d,m,f=0,j=0,x=g?g.find((function(t){return t.bib===parseInt(e.bib,10)})):null;return x=x||{},Object(i.h)(t,null,Object(i.h)("tr",{class:"musher",onClick:r,"data-bib":e.bib},Object(i.h)("td",{class:c,style:o},e.startTime?l.a.isoTime(e.startTime):""),p&&p.map((function(s,r){var l,p,g=O.slice().filter((function(t){return t.checkpoint===s.id})).sort((l=["timestamp"],function(t,e){return l.map((function(s){var a=1;return"-"===s[0]&&(a=-1,s=s.substring(1)),t[s]>e[s]?a:t[s]<e[s]?-a:0})).reduce((function(t,e){return t||e}),0)})),x=g.filter((function(t){return parseInt(t.bib,10)==e.bib})),w=x.find((function(t){return"out"===t.direction})),k=x.find((function(t){return"in"===t.direction})),S=x.find((function(t){return"scratched"===t.direction})),C=g.filter((function(t){return"in"===t.direction||"scratched"===t.direction})).findIndex((function(t){return parseInt(t.bib,10)==e.bib})),D=g.filter((function(t){return"out"===t.direction})).findIndex((function(t){return parseInt(t.bib,10)==e.bib})),T=0;if(!s.isStartLine&&k&&w&&k.timestamp&&w.timestamp&&(T=h.a.deltaSec(k.timestamp,w.timestamp)),j+=T||0,!w&&k&&!s.isStartLine&&s.timeEqualization&&v){var I=h.a.deltaSec(k.timestamp,y);p=(p=(j+I)/v*100)>100?100:p}if(m)return"";if(-1===C){if(a){var P=Math.floor((new Date).getTime()/1e3),R=Math.floor(new Date(a.timestamp).getTime()/1e3),L=Math.floor((P-R)/60),M=L/s.estTimeToCpMinutes*100;M=M>95?95:M;var E=Object(i.h)(t,null,Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:o},Object(i.h)("div",{class:"progress",style:""+u},Object(i.h)("div",{class:"progress-bar progress-bar-striped",role:"progressbar",style:"width: "+M+"%; "+b,"aria-valuenow":M,"aria-valuemin":"0","aria-valuemax":"100","data-prevtimestamp":a.timestamp,"data-timeUsedOnStage":L,"data-estTimeToCpMinutesPrev":d,"data-nowEpoch":P,"data-prevCpOutEpoch":R},n+1>0?n+1:"")),e.cpId&&x.length>0&&Object(i.h)(t,null)));return n=D,a=w,d=s.estTimeToCpMinutes,E}return""}f=r,n=D,a=w,d=s.estTimeToCpMinutes;var _=Object(i.h)(t,null,(k||S)&&r>0&&Object(i.h)(t,null,Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:o},Object(i.h)("div",{class:"progress",style:""+u},Object(i.h)("div",{class:"progress-bar",role:"progressbar",style:"width: 100%; "+b,"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})),e.cpId&&x.length>0&&Object(i.h)(t,null))),Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:o},Object(i.h)("div",{class:"progress",style:""+u},Object(i.h)("div",{class:"progress-bar "+(p>0?"progress-bar-striped":"")+" "+(S?"bg-danger":"bg-success"),role:"progressbar",style:"width: "+(p||100)+"%; "+b,"aria-valuenow":p,"aria-valuemin":"0","aria-valuemax":"100"},S?Object(i.h)("i",{class:"fas fa-times"}):Object(i.h)(t,null,C+1>0?C+1:""))),e.cpId&&x.length>0&&Object(i.h)(t,null)));return m=S,_})),Object(i.h)("td",{colspan:2*p.length-f,class:c,style:o},Object(i.h)("div",{class:"d-flex flex-nowrap"},Object(i.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+h.a.getRankingColor(s+1)+"; width: 45px;"},e.bib),Object(i.h)("div",null,Object(i.h)("nobr",null,e.flag," ",e.lastname))))))})))},s}(i.Component))||r,d=Object(o.a)(c=function(e){function s(){return e.apply(this,arguments)||this}a(s,e);var n=s.prototype;return n.componentWillReceiveProps=function(t){if(this.props.currentClass.id!==t.currentClass.id||this.props.reloadLastEpoch!==t.reloadLastEpoch){var e=this.props.currentClass,s=e.checkpoints,a=e.contestants,n=e.results;this.props.stores.raceStore.sortContestantsByResult({contestants:void 0===a?[]:a,results:void 0===n?[]:n,checkpoints:void 0===s?[]:s,sortOrderResults:e.sortOrderResults,startDate:e.startDate})}},n.componentDidMount=function(){var t=this.props.currentClass,e=t.checkpoints,s=t.contestants,a=t.results;this.props.stores.raceStore.sortContestantsByResult({contestants:void 0===s?[]:s,results:void 0===a?[]:a,checkpoints:void 0===e?[]:e,sortOrderResults:t.sortOrderResults,startDate:t.startDate})},n.render=function(){var e=this.props,s=e.currentClass,a=e.onClickMusher,n=void 0===a?function(){}:a,r=e.onClickCheckpoint,c=void 0===r?function(){}:r,l=e.selectedCheckpointId,o=e.limit,h=void 0===o?100:o,d=e.tableClass,p=void 0===d?"table-striped table-sm":d,m=e.thClass,O=e.thStyle,f=e.tdClass,j=e.tdStyle,g=e.progressStyle,v=void 0===g?"height: 20px;":g,y=e.progressbarStyle,x=s.checkpoints,w=void 0===x?[]:x,k=this.props.stores.raceStore.sortedContestants,S=void 0===k?[]:k;return Object(i.h)(t,null,Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table "+p},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:m,style:O},Object(i.h)("div",{class:"",style:"width: 40px;"},Object(i.h)("i",{class:"fas fa-flag"}))),Object(i.h)(u,{stores:this.props.stores,checkpoints:w,thClass:m,thStyle:O,selectedCheckpointId:l,width:40,widthCp:20,onClickCheckpoint:c,dotColor:"#808080"}),Object(i.h)("th",{class:m,style:O},Object(i.h)("div",{class:"",style:"width: 20px;"},Object(i.h)("i",{class:"fas fa-flag-checkered"}))))),Object(i.h)("tbody",null,Object(i.h)(b,{stores:this.props.stores,currentClass:s,contestants:S,limit:h,onClickMusher:n,tdClass:f,tdStyle:j,progressStyle:v,progressbarStyle:y})))))},s}(i.Component))||c;e.a=d}).call(this,s("hosL").Fragment)},cadc:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i,l,o=s("hosL"),h=s("Utv1"),u=s("/eY4"),b=s("OhSV"),d=s("fh8t"),p=s.n(d),m=s("RMlE"),O=s("8gML"),f=s("3kDq"),j=(s("aGZh"),s("/DnB"),s("cH0S")),g=(s("wanP"),s("ZQlJ"),s("fVsX"),s("aMCh")),v=(s("gcyc"),s("LbFk")),y=s("QuNB"),x=s("zUny"),w=s("ZOvn"),k=w.a.marginTop(!0,!0),S=w.a.marginBottom(),C={isLoading:!1,contentIsNotLoaded:!0,email:"",submenu:"ads",jwtToken:h.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1},D=Object(u.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).initComponent=function(){s.setState({reloadIsActive:!0},(function(){return s.tickReloadTimeer()}))},s.state=n({},C),s.updateTimer={},s}c(s,e);var a=s.prototype;return a.tickReloadTimeer=function(){var t=this,e=this.props.reloadLastEpoch;if(this.state.reloadIsActive){var s=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(s-e)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout((function(){return t.tickReloadTimeer()}),1e3)}return!1},a.componentDidMount=function(){this.initComponent()},a.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},a.render=function(){var e=Math.floor(h.a.normalizeBetween(this.state.reloadInSec,0,60,0,100));return Object(o.h)(t,null,Object(o.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(o.h)("div",{class:"progress-bar",role:"progressbar",style:"width: "+e+"%;","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100"})))},s}(o.Component))||i,T=Object(u.a)(l=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadLiveRaceResults=function(t,e){return new Promise((function(a,n){var r,c,i,l,o,h,u,b,d,p,m,O,f;return void 0===t&&(t=s.props),r=e.teamIds,c=e.focusOnMushers,i=e.bibs,o=e.historySteps,b=(h=t.stores).userStore,d=(u=h.raceStore).race,(p=s.state).historyPointIndex,m=p.replayHistory,p.timerRunning,O=s.props.showDrawerReplay,f=u.getClassById(l=e.classid)||{},Promise.resolve(u.getRaceTrackerData(d.raceTrackerRace,{historySteps:o,history:m||O,bibs:i,classid:l,startDate:f.startDate,endDate:f.endDate,isAdmin:b.isAdmin})).then((function(){try{return u.getRaceTrackerActiveTeams(r,c,i,!0),a()}catch(t){return n(t)}}),n)}))},s.loadRaceResults=function(t,e,a){return new Promise((function(n,r){var c,i;return void 0===t&&(t=s.props),c=t.stores.raceStore,i=s.state.timerRunning,Promise.resolve(c.loadWorkoutSummary(e,t.raceid)).then((function(){try{return c.getWorkoutSummaryActiveTeams(e,a),i&&(clearTimeout(s.updateTimer.reload),s.updateTimer.reload=setTimeout((function(){var t=Math.floor((new Date).getTime()/1e3);s.setState({reloadLastEpoch:t}),s.loadRaceResults(s.props,e,a)}),6e4)),n()}catch(t){return r(t)}}),r)}))},s.toggleDisplayDetails=function(t){var e=t.target.closest("tr").dataset.email;s.props.stores.appState.toggleDisplayDetails(e)},s.adminToggleEditUser=function(t){t.stopPropagation();var e=t.target.closest("tr").dataset.email;s.props.stores.appState.toggleEditUserDetails(e)},s.adminSignupEdit=function(t){var e,a=s.props.raceid,n=s.props.stores.raceStore,r=t.target.id,c=t.target.value,i=t.target.dataset,l=((e={raceClassId:i.classid,contestantId:i.contestantid})["raceClassContestant"+h.a.ucfirst(r)]=c,e);clearTimeout(s.updateTimer[r]),s.updateTimer[r]=setTimeout((function(){return new Promise((function(t){return n.editClass({id:a,data:l}),t()}))}),500)},s.lockAllWorkoutsInRace=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.raceStore.lockAllWorkoutsInRace({id:s.props.raceid})).then((function(a){try{return s.setState({lockMessage:a}),t()}catch(t){return e(t)}}),e)}))},s.filterByClass=function(t){var e=t.target.closest("button").dataset.id;s.props.stores.appState.toggleSelectedClassId(e,!0)},s.toggleDrawer=function(){s.setState({showDrawer:!s.state.showDrawer,showDrawerCheckpoint:!1,showDrawerMusher:!1})},s.toggleDrawerMusher=function(t){var e=t.target.closest(".musher").dataset.bib;s.selectMusher(e)},s.selectMusher=function(t){s.setState({selectedMusherBib:t,showDrawerMusher:!0,showDrawerCheckpoint:!1,showDrawer:!1})},s.closeDrawerMusher=function(){s.setState({selectedMusherBib:"",showDrawerMusher:!1})},s.toggleDrawerCheckpoint=function(t){var e=t.target.closest(".checkpoint").dataset.id;s.selectCheckpoint(e)},s.selectCheckpoint=function(t){s.setState({selectedCheckpointId:t,showDrawerCheckpoint:!0,showDrawerMusher:!1,showDrawer:!1})},s.closeDrawerCheckpoint=function(){s.setState({selectedCheckpointId:"",showDrawerCheckpoint:!1})},s.state=n({timerRunning:!0},C),s.updateTimer={},s}c(s,e);var a=s.prototype;return a.loadRace=function(t){return new Promise(function(e,s){var a,n,r,c,i,l,o,h,u,b,d,p,m,O,f,j,g,v;return a=this,void 0===t&&(t=this.props),r=void 0===(n=this.state.loadTimes)?0:n,this.setState({isLoading:!0}),i=(c=t.stores).raceStore,l=c.appState,h=(o=t).classid,u=o.filterByBibs,b=o.historySteps,Promise.resolve(i.load(o.raceid)).then(function(){try{if(i.getAllClassesSortedBy(),p=l.focusOnMushers,O=void 0===(m=l.selectedClassIds)?[]:m,-1===(f=null==(d=i.race)?void 0:d.classes.map((function(t){return t.id}))).indexOf(j=O[0])&&l.setSelectedClassId(j=f[0]),h&&l.toggleSelectedClassId(h,!0),g=d.classes.filter((function(t){return t.id===j})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),v=u||d.classes.filter((function(t){return t.id===j})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat(),g.length>0)return Promise.resolve(i.loadTeams(g.join(","),!1,!0,!0)).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s);function t(){function t(){return this.setState({isLoading:!1,contentIsNotLoaded:!1,loadTimes:r+1}),e()}return d.liveRace>0?Promise.resolve(this.loadLiveRaceResults(this.props,{teamIds:g,focusOnMushers:p,bibs:v,classid:j,historySteps:b})).then(function(){try{return clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((function(){return new Promise((function(t){var e=Math.floor((new Date).getTime()/1e3);return a.setState({reloadLastEpoch:e}),a.loadRace(),t()}))}),6e4),t.call(this)}catch(t){return s(t)}}.bind(this),s):Promise.resolve(this.loadRaceResults(this.props,g,p)).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s)}return t.call(this)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},a.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},a.componentDidMount=function(){this.loadRace()},a.componentWillReceiveProps=function(t){this.loadRace(t)},a.render=function(){var e=this,s=this.props.stores,a=s.appState,n=s.raceStore,r=s.userStore,c=r.user,i=void 0===c?{}:c,l=r.isAdmin,u=this.props,d=u.raceid,C=u.path,T=a.displayDetails,I=a.editUserDetails,P=a.language,R=void 0===P?"en":P,L=a.selectedClassIds,M=void 0===L?[]:L,E=n.race,_=n.classes,B=this.state,H=B.contentIsNotLoaded,N=B.lockMessage,z=B.showDrawer,F=B.showDrawerCheckpoint,U=B.showDrawerMusher,A=B.reloadLastEpoch,q=B.selectedCheckpointId,G=B.selectedMusherBib,V=n.activeTeams,Z=new Date(E.endDate);Z.setHours(Z.getHours()+2);var W=function(t){return!(M.length>0)||M.indexOf(t.id)>-1},Y=1===E.liveRace;return Object(o.h)(t,null,Object(o.h)(m.a,{stores:this.props.stores}),Object(o.h)("div",{class:"container-fluid ",style:"margin-bottom: "+S+"; margin-top: "+k+";"},Object(o.h)(O.a,{stores:this.props.stores,path:C,raceid:d}),Object(o.h)("div",{class:"row border-bottom "},Object(o.h)("div",{class:"col-12"},Object(o.h)(b.b,null,Object(o.h)(f.a,{stores:this.props.stores,title:Object(o.h)(b.c,{id:"races.results"},"Resultater")})),l&&Object(o.h)(t,null,Object(o.h)("a",{href:"/race/"+d+"/resultsMain"},"New results demo")),Object(o.h)(D,{stores:this.props.stores,reloadLastEpoch:A}),Y?Object(o.h)(t,null):Object(o.h)(t,null,i.email&&Object(o.h)("div",{class:"alert alert-primary",role:"alert"},"no"===R&&Object(o.h)(t,null,"Resultatene hentes direkte fra treningsøktene i QPaws appen.",Object(o.h)("br",null),Object(o.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(o.h)("ul",null,Object(o.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(o.h)("li",null,"Være markert som 'Konkurranse'."),Object(o.h)("li",null,"Være registrert på teamet som er påmeldt."))),"en"===R&&Object(o.h)(t,null,"The results are imported directly from the workouts inside QPaws app.",Object(o.h)("br",null),Object(o.h)("strong",null,"To make sure your workouts are registered check the following:"),Object(o.h)("ul",null,Object(o.h)("li",null,"Use the correct date on your workout. Has to be inside the race period."),Object(o.h)("li",null,"Mark the workout as 'Race'."),Object(o.h)("li",null,"Workout has to be on the same team as you signed up with."))))),E.resultsUrl?Object(o.h)("div",{class:"p-3 my-4 bg-light"},Object(o.h)("a",{href:E.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},E.resultsText?E.resultsText:Object(o.h)(t,null,Object(o.h)(b.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(o.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(o.h)(t,null),Y?Object(o.h)(t,null):Object(o.h)(t,null,(H||!_||0===_.length)&&Object(o.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(o.h)("div",{class:"spinner-border text-primary",role:"status"},Object(o.h)("span",{class:"sr-only"},"Loading..."))))),Y?Object(o.h)(t,null,!z&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12"},Object(o.h)("h1",null,Object(o.h)(b.c,{id:"races.classes"},"Classes")),Object(o.h)("nav",{class:"flex-column flex-sm-row"},E.classes&&E.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(o.h)(t,null,Object(o.h)("button",{type:"button",class:"btn btn-lg flex-sm-fill text-sm-center btn"+(M.indexOf(s.id)>-1?"":"-outline")+"-primary mr-2 mb-2",onClick:e.filterByClass,"data-id":s.id},s.title))})))),Object(o.h)("div",{class:"col-12"},E.classes&&E.classes.filter(W).sort((function(t,e){return t.distance-e.distance})).map((function(t){return Object(o.h)("div",{class:"mt-5 mb-5"},Object(o.h)(g.a,{stores:e.props.stores,race:E,currentClass:t,reloadLastEpoch:A,key:"raceclass-"+t.id,onClickMusher:e.toggleDrawerMusher,onClickCheckpoint:e.toggleDrawerCheckpoint,selectedCheckpointId:q}))}))))):Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 overflow-auto bg-light py-4 border rounded-lg mb-5",style:"max-height: 30vh;"},V&&V.length>0&&Object(o.h)(t,null,Object(o.h)("span",{class:"float-right"},Object(o.h)("span",{class:"text-muted"},Object(o.h)(b.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",V.length))),Object(o.h)("h5",null,Object(o.h)(b.c,{id:"races.on-trail"},"På sporet nå"),":"),Object(o.h)("div",{class:"table-responsive-md"},Object(o.h)("table",{class:"table table-sm table-striped"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,Object(o.h)(b.c,{id:"races.name"},"Navn")),Object(o.h)("th",null,Object(o.h)(b.c,{id:"races.start-date"},"Startdato")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.distance"},"Distanse")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.ascend"},"Høydemeter")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.avg-speed"},"Gj.snittsfart")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.race-time"},"Kjøretid")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.rest-time"},"Hviletid")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.load-index"},"B.index")),Object(o.h)("th",{class:"text-center"},Object(o.h)(b.c,{id:"races.current-speed"},"Fart nå")),Object(o.h)("th",null,Object(o.h)(b.c,{id:"races.elevation"},"Moh")),Object(o.h)("th",null,Object(o.h)(b.c,{id:"races.elevation-graph"},"Høydekurve")))),Object(o.h)("tbody",null,V&&V.length>0?V.map((function(e,s){var a=n.getTeamById(e.team),r=n.getMusherByTeamId(a.id),c=h.a.format(3.6*e.currentLocation.coords.speed,1),i=e.secSinceLastUpdate>1800?"danger":e.secSinceLastUpdate>600?"warning":"success",l=e.currentLocation.timestamp;return Object(o.h)("tr",null,Object(o.h)("th",null,s+1),Object(o.h)("td",null,1===e.isInProgress&&Object(o.h)("div",{class:"spinner-grow text-"+i+" float-left",role:"status"}),2===e.isInProgress&&Object(o.h)("i",{class:"fas fa-pause-circle text-warning mr-2 float-left",style:"font-size: 1.8em;"}),r.firstname," ",r.lastname,a.name&&Object(o.h)(t,null," / ",Object(o.h)("span",{class:"text-muted"},a.name)),Object(o.h)("br",null),Object(o.h)("small",null,Object(o.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",e.avgDogs,Object(o.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2"})," ",h.a.format(100*e.currentLocation.battery.level,0),"%",Object(o.h)("i",{class:"fas fa-hourglass-half text-muted ml-2"})," Updated: ",h.a.formatDistance(l,new Date)," ago")),Object(o.h)("td",null,h.a.formatDate(e.date,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(o.h)("td",{class:"text-right"},h.a.format(e.distanceKm,1)," km"),Object(o.h)("td",{class:"text-right"},h.a.format(e.elevation,0)," m"),Object(o.h)("td",{class:"text-right"},h.a.format(e.speedAvg,1)," km/t"),Object(o.h)("td",{class:"text-center"},h.a.secToHms(e.duration)),Object(o.h)("td",{class:"text-center"},h.a.secToHms(e.rest)),Object(o.h)("td",{class:"text-right"},e.loadIndex),Object(o.h)("td",{class:"text-right"},c," km/t"),Object(o.h)("td",null,e.currentLocation.coords.altitude," moh"),Object(o.h)("td",null,Object(o.h)("svg",{viewBox:"0 0 300 100",style:"width: 100%; height: 50px;"},Object(o.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"}))))})):Object(o.h)("tr",null,Object(o.h)("td",{colspan:"11",class:"text-center py-4"},Object(o.h)("h5",null,Object(o.h)(b.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå...")))))))),Object(o.h)("div",{class:"col-12"},Object(o.h)("h1",null,Object(o.h)(b.c,{id:"races.classes"},"Classes")),Object(o.h)("nav",{class:"flex-column flex-sm-row"},E.classes&&E.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(o.h)(t,null,Object(o.h)("button",{type:"button",class:"btn btn-lg flex-sm-fill text-sm-center btn"+(M.indexOf(s.id)>-1?"":"-outline")+"-primary mr-2 mb-2",onClick:e.filterByClass,"data-id":s.id},s.title))})))),Object(o.h)("div",{class:"col-12"},E.classes&&E.classes.filter(W).sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(o.h)("div",{class:"mt-5 mb-5"},E.resultDanger&&Object(o.h)("div",{class:"alert alert-danger",role:"alert"},Object(o.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(o.h)("span",{class:"sr-only"},"Loading...")),Object(o.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(o.h)(p.a,{markdown:w.a.replaceImages(E.resultDanger,E.images,R),markdownOpts:w.a.getMarkdownOptions()})),E.resultWarning&&Object(o.h)("div",{class:"alert alert-warning",role:"alert"},Object(o.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(o.h)(p.a,{markdown:w.a.replaceImages(E.resultWarning,E.images,R),markdownOpts:w.a.getMarkdownOptions()})),E.resultSuccess&&Object(o.h)("div",{class:"alert alert-success",role:"alert"},Object(o.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(o.h)(p.a,{markdown:w.a.replaceImages(E.resultSuccess,E.images,R),markdownOpts:w.a.getMarkdownOptions()})),Object(o.h)("span",{class:"float-right"},Object(o.h)("span",{class:"text-muted"},Object(o.h)(b.c,{id:"races.mushers"},"Mushers"),": ",s.totalMushers||0),Object(o.h)("span",{class:"text-muted ml-4"},Object(o.h)(b.c,{id:"races.finished-mushers"},"Finished mushers"),": ",s.totalFinished||0," ")),Object(o.h)("h3",null,s.title," ",s.startDate&&Object(o.h)(t,null,": ",Object(o.h)("span",{class:"font-weight-lighter"},h.a.formatDate(s.startDate+" "+(s.startTime||"00:00:00"),{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",h.a.formatDate(s.endDate+" "+(s.endTime||"00:00:00"),{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("div",{class:"table-responsive-md"},Object(o.h)("table",{class:"table table-sm table-striped"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{scope:"col"},"#"),Object(o.h)("th",{scope:"col",style:"min-width: 200px;"},Object(o.h)(b.c,{id:"races.name"},"Navn")),l&&Object(o.h)(t,null,Object(o.h)("th",{scope:"col"},Object(o.h)("i",{class:"fas fa-user-shield"})," Cellphone"),Object(o.h)("th",{scope:"col"},Object(o.h)("i",{class:"fas fa-user-shield"})," Email")),l&&Object(o.h)("th",{scope:"col",class:"d-none d-sm-block",style:"min-width: 400px;"},Object(o.h)(b.c,{id:"races.stages"},"Etapper")),Object(o.h)("th",{scope:"col"},Object(o.h)(b.c,{id:"races.result"},"Resultat")))),Object(o.h)("tbody",null,_[s.id]&&_[s.id].contestants&&_[s.id].contestants.map((function(a,r){var c=a.musher,i=a.currentTeam,u=a.currentStages,b=a.currentResults,d=a.completed,m=a.normalizedDuration,O=a.weightedNormalizedDuration,f=a.isDone,j=a.finishedDate,g=a.totalWorkoutTimeUsedSec,v=n.getTotalsByTeamId(i.id);return Object(o.h)(t,null,Object(o.h)("tr",{onClick:e.toggleDisplayDetails,"data-email":c.email},Object(o.h)("th",{scope:"row"},r+1,l&&b&&Object(o.h)(t,null,Object(o.h)("br",null),b.isLocked?Object(o.h)("i",{class:"fas fa-lock text-danger mr-2"}):Object(o.h)("i",{class:"fas fa-lock-open text-success mr-2"}))),Object(o.h)("td",{class:T[c.email]?"font-weight-bold":"",style:T[c.email]?"":"line-height: 0.8em;"},T[c.email]?Object(o.h)(t,null,c.firstname," ",c.lastname,Object(o.h)("br",null),Object(o.h)("span",{class:"text-muted"},i.name),Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},c.sportsClub),Object(o.h)("br",null),c.facebook&&Object(o.h)("a",{class:"mr-2",href:w.a.asFacebookLink(c.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-facebook"})),c.instagram&&Object(o.h)("a",{class:"mr-2",href:w.a.asInstagramLink(c.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-instagram"})),c.price1&&Object(o.h)("div",{class:"font-weight-lighter"},Object(o.h)("i",{class:"fas fa-trophy text-warning"})," ",c.price1,c.priceSent&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-check text-success"}))),c.price2&&Object(o.h)("div",{class:"font-weight-lighter"},Object(o.h)("i",{class:"fas fa-trophy text-warning"})," ",c.price2),c.price3&&Object(o.h)("div",{class:"font-weight-lighter"},Object(o.h)("i",{class:"fas fa-trophy text-warning"})," ",c.price3)):Object(o.h)(t,null,c.price1&&Object(o.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-trophy"}),c.priceSent&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-check text-success"}))),Object(o.h)("nobr",null,c.firstname," ",c.lastname,Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},c.sportsClub),Object(o.h)("br",null)))),l&&Object(o.h)(t,null,Object(o.h)("td",null,c.cellphone),Object(o.h)("td",null,c.email)),l&&Object(o.h)("td",{class:"d-none d-md-block"},l&&Object(o.h)(t,null,Object(o.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:e.adminToggleEditUser},Object(o.h)("i",{class:"fas fa-user-edit"}))),l&&I[c.email]&&Object(o.h)(t,null,Object(o.h)("h5",null,"Admin edit:"),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(o.h)("div",{class:"col-sm-10"},c.email)),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{class:"col-sm-2 col-form-label text-right"},"Cellphone"),Object(o.h)("div",{class:"col-sm-10"},c.cellphone)),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.raceStatus},Object(o.h)("option",{value:""},"-- Choose race status --"),Object(o.h)("option",{value:"OK"},"OK - Everything ok"),Object(o.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(o.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(o.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(o.h)("option",{value:"DQ"},"DQ - Disqualified"),Object(o.h)("option",{value:"DC"},"DC - Data changed by user")))),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.raceComment}))),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.gpxResultsApproved?h.a.isoDate(c.gpxResultsApproved,!1,!1,!0):null}))),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.price1}))),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.price2}))),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.price3}))),Object(o.h)("div",{class:"form-group row my-0"},Object(o.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.priceSent?h.a.isoDate(c.priceSent,!1,!1,!0):null})))),l&&Object(o.h)("div",{class:"d-flex flex-wrap"},u&&u.map((function(e,a){var n=e.distanceKm/s.distance*100,r=(n>100||parseInt(n,10),Math.floor(new Date(e.date).getTime()/1e3)),i=new Date(0);i.setUTCSeconds(r+parseInt(e.duration,10));e.images.flat();return T[c.email]?Object(o.h)(t,null,Object(o.h)("div",{class:"bg-light border rounded-lg  text-right position-relative mr-1 mb-1",style:"width: 350px; min-width: 320px;"},Object(o.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(o.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(o.h)("div",{class:"position-relative px-3"},Object(o.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},a+1),Object(o.h)("small",null,l&&Object(o.h)("span",{class:"position-absolute",style:"top: 0px; right: -5px;"},e.isLocked?Object(o.h)("i",{class:"fas fa-lock text-danger"}):Object(o.h)("i",{class:"fas fa-lock-open text-success"})),Object(o.h)("span",{class:"float-left"},Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt text-muted"})," ",h.a.formatDate(e.date,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt text-muted"})," ",h.a.formatDate(i,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("span",{class:"float-right"},Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(e.distanceKm,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(e.elevation,0)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"m")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",h.a.format(e.speedAvg,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km/t")),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(e.duration)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(e.rest)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",h.a.secToHms(e.duration-e.rest)||"n/a"),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",h.a.format(e.avgDogs,0)||"n/a")))))):Object(o.h)(t,null,Object(o.h)("div",{class:"bg-light border rounded-lg text-right position-relative px-3 mr-1 mb-1",style:"width: 300px; min-width: 300px;"},Object(o.h)("small",null,l&&Object(o.h)("span",{class:"position-absolute",style:"top: 2px; right: -5px;"},e.isLocked?Object(o.h)("i",{class:"fas fa-lock text-danger"}):Object(o.h)("i",{class:"fas fa-lock-open text-sucess"})),Object(o.h)("span",{class:"float-left"},a+1),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(e.distanceKm,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",h.a.format(e.speedAvg,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km/t")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(e.duration)||"n/a"))))})))),Object(o.h)("td",{class:"text-right position-relative pl-4"},function(e){switch(e.raceStatus){case"OK":return Object(o.h)(t,null,Object(o.h)("span",{class:"position-absolute rounded-lg",style:"top: 10px; left: 0px;"},Object(o.h)("i",{class:"fas fa-check text-success"})));case"DNS":case"DNF":case"DNQ":case"DQ":return Object(o.h)(t,null,Object(o.h)("span",{class:"position-absolute bg-danger text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -100px; width: 80px"},Object(o.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));case"DC":return Object(o.h)(t,null,Object(o.h)("span",{class:"position-absolute bg-warning text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -150px; width: 80px"},Object(o.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));default:return""}}(c),c.raceComment&&Object(o.h)(t,null,Object(o.h)("div",{class:"alert alert-warning text-left",role:"alert"},Object(o.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(o.h)(p.a,{markdown:w.a.replaceImages(c.raceComment,E.images,R),markdownOpts:w.a.getMarkdownOptions()}))),l&&b.lastUpdated>Z&&Object(o.h)(t,null,Object(o.h)("div",{class:"alert alert-danger text-left d-none d-md-block",role:"alert"},Object(o.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(o.h)("i",{class:"fas fa-user-shield"})," Last changed: ",h.a.formatDate(b.lastUpdated,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"}))),d>=99?Object(o.h)("span",{class:"position-absolute",style:"top: 10px; left: 0px;"},Object(o.h)("i",{class:"fas fa-flag-checkered text-success"})):"",Object(o.h)("small",null,T[c.email]?Object(o.h)(t,null,Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(b.distanceKm,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(b.elevation,0)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"m")),Object(o.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(o.h)("div",{class:"progress-bar "+(d>=99?"bg-success":""),role:"progressbar",style:"width: "+d+"%","aria-valuenow":""+d,"aria-valuemin":"0","aria-valuemax":"100"})),E.nonstop?Object(o.h)(t,null,Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(g)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(v.totalRest)||"n/a"),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",h.a.isoDate(v.firstEpoch)," - ",Object(o.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",h.a.isoDate(j)),l&&Object(o.h)(t,null,Object(o.h)("br",null),Object(o.h)("div",{class:"text-danger"},v.firstGpxStartEpoch&&Object(o.h)(t,null,Object(o.h)("nobr",null,"firstGpxStartEpoch: ",h.a.isoDate(v.firstGpxStartEpoch)),Object(o.h)("br",null)),v.lastGpxStartEpoch&&Object(o.h)(t,null,Object(o.h)("nobr",null,"lastGpxStartEpoch: ",h.a.isoDate(v.lastGpxStartEpoch)),Object(o.h)("br",null)),Object(o.h)("nobr",null,"totalWorkoutTimeUsedSec: ",h.a.secToHms(v.totalWorkoutTimeUsedSec)),Object(o.h)("br",null),Object(o.h)("nobr",null,"rest: ",h.a.secToHms(v.rest)),Object(o.h)("br",null),Object(o.h)("nobr",null,"totalRest: ",h.a.secToHms(v.totalRest)),Object(o.h)("br",null),Object(o.h)("nobr",null,"duration: ",h.a.secToHms(v.duration)),Object(o.h)("br",null)))):Object(o.h)(t,null,Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(b.duration)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(b.rest)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",h.a.secToHms(b.duration-b.rest)||"n/a"),Object(o.h)("br",null),1===f&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"font-weight-bold"},Object(o.h)("span",{class:"font-weight-lighter text-muted"},"Normalized to race distance:")," ",Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(m)||"n/a"),Object(o.h)("br",null)),1===f&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"font-weight-bold"},Object(o.h)("span",{class:"font-weight-lighter text-muted"},"Normalized:")," ",Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(O)||"n/a"),Object(o.h)("br",null)))):Object(o.h)(t,null,Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(b.distanceKm,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(b.elevation,0)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"m")),Object(o.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(o.h)("div",{class:"progress-bar "+(d>=99?"bg-success":""),role:"progressbar",style:"width: "+d+"%","aria-valuenow":""+d,"aria-valuemin":"0","aria-valuemax":"100"})),E.nonstop?Object(o.h)(t,null,Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(g)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(v.totalRest)||"n/a")):Object(o.h)(t,null,1===f?Object(o.h)(t,null,Object(o.h)("nobr",{class:"font-weight-bold"},Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(O)||"n/a"),Object(o.h)("br",null)):Object(o.h)(t,null,Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(b.duration)||"n/a"),Object(o.h)("br",null))))))))}))))),Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("small",null,"no"===R&&Object(o.h)(t,null,"OBS! Ref reglene så er det ikke lov til å endre treningsøktene som er med i konkurransen etter at løpet er ferdig.",Object(o.h)("br",null),"Forsøk på dette vil resultere i automatisk deplassering på listene."),"en"===R&&Object(o.h)(t,null,"IMPORTANT! According to the rules: It is NOT allowed to try alter the workouts related to the competition after the race has ended.",Object(o.h)("br",null),"Attempts will result in automatic deplacement on the resultlists."))))})))))),!Y&&l&&Object(o.h)(t,null,Object(o.h)("button",{class:"btn btn-danger btn-lg float-right m-4",onClick:this.lockAllWorkoutsInRace},"Lock all workouts in this race"),Object(o.h)("xmp",{class:"m-5"},JSON.stringify(N,null,4))),z&&Object(o.h)(t,null,Object(o.h)(j.a,{stores:this.props.stores,onCloseClick:this.toggleDrawer},Object(o.h)(v.a,{stores:this.props.stores}))),F&&Object(o.h)(t,null,Object(o.h)(j.a,{stores:this.props.stores,onCloseClick:this.closeDrawerCheckpoint},Object(o.h)(x.a,{stores:this.props.stores,id:q,onClickNav:this.selectCheckpoint}))),U&&Object(o.h)(t,null,Object(o.h)(j.a,{stores:this.props.stores,onCloseClick:this.closeDrawerMusher},Object(o.h)(y.a,{stores:this.props.stores,bib:G,onClickNav:this.selectMusher}))))},s}(o.Component))||l;e.default=T}.call(this,s("hosL").Fragment)},gcyc:function(t,e,s){"use strict";(function(t){var a,n=s("hosL"),r=s("Utv1"),c=s("/eY4"),i=s("OhSV"),l=s("fh8t"),o=s.n(l),h=s("ZOvn"),u=s("ZQlJ"),b=s("s4FZ"),d=s("e0EM"),p=Object(c.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleAdminInfo=function(t){t.stopPropagation(),s.setState({showAdminInfo:!s.state.showAdminInfo})},s.toggleInfo=function(t){t.stopPropagation(),s.setState({showInfo:!s.state.showInfo})},s.onDogClick=function(t,e,a){t.preventDefault(),t.stopPropagation();var n=a.find((function(t){return t.uuidv4===e}));return s.setState({currentDog:n,showDog:e,dogs:a}),!1},s.chooseSubmenu=function(t){var e=t.target.closest("button").dataset.submenu;s.setState({submenu:e})},s.state={},s}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){for(var e=this.props.stores,s=e.raceStore,a=e.userStore,c=this.state,l=c.showAdminInfo,p=c.submenu,m=void 0===p?"details":p,O=c.showDog,f=c.currentDog,j=void 0===f?{}:f,g=s.totalTrackLength,v=this.props,y=v.contestant,x=void 0===y?{}:y,w=v.onMarkerClick,k=void 0===w?function(){}:w,S=v.children,C=v.rank,D=s.findWaypointByBib(x.bib),T=a.isAdmin,I=(x.bib?s.getMusherByBibId(x.bib):s.getMusherByBibEmail(x.email))||{},P=s.getTeamById(I.team),R=P.members?P.members.find((function(t){return t.email===I.email})):{},L=(s.getClassByBib(x.bib),s.getTotalsByTeamId(I.team)),M=h.a.getImage({user:R,team:P,priority:"user",fallback:I.image1}),E=h.a.displayNameShort(R)||h.a.displayNameShort(I),_=x.color,B=h.a.hasBirthday(j.birth),H=j.birth?Math.ceil(h.a.daysUntilNextBirthday(j.birth)):365,N=(r.a.format(D.totalDistanceOnTrack/g*100,0),s.findNearestMushers(x.bib)),z=N.inFront,F=N.behind,U=P&&P.imageHeader&&P.imageHeader.s3XXLargeLink?P.imageHeader:{s3XXLargeLink:I.topImage1||"./assets/homerun-race-logo.png"},A=P&&P.images?[].concat(P.images):[],q=0;q<3;q+=1)I["image"+q]&&A.push({s3SmallLink:I["image"+q],s3LargeLink:I["image"+q]});return Object(n.h)(t,null,Object(n.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 30%; background-color: #a0a0a0; "+(U?'background-image: url("'+U.s3XXLargeLink+'");':"")}),Object(n.h)("div",{class:"d-flex position-relative",style:"margin-top: 17vh;"},Object(n.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(M?'background-image: url("'+M+'"); background-size: cover;':"background-color: #c0c0c0;")},!M&&Object(n.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},E),Object(n.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute "+(_?"":"bg-secondary")+" font-weight-bold",style:"bottom: -8px; right: 0; font-size: 1.2em; "+(_?"background-color: "+_+";":"")},C&&Object(n.h)(t,null,C))),Object(n.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-0",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-0"},Object(n.h)("div",{class:"d-flex flex-nowrap"},Object(n.h)("div",{class:"text-white font-weight-bold pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+h.a.getRankingColor(C)+"; width: 55px;"},I.bib),Object(n.h)("div",null,Object(n.h)("nobr",null,I.flag," ",I.firstname," ",I.lastname)))),Object(n.h)("span",{class:"mb-0",style:"margin-left: 93px;"},I.sportsClub||P.name||Object(n.h)(t,null," ")))),Object(n.h)("div",{class:"d-flex justify-content-center mb-3"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+("details"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"details"},"Details")),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{type:"button",class:"btn btn-block rounded-none "+("gpsdata"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"gpsdata"},"GPS Data")),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{type:"button",class:"btn btn-block rounded-none "+("team"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"team"},"Team")),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+("dogs"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"dogs"},"Dogs"))),Object(n.h)("div",{class:"w-100 overflow-auto position-relative"},"details"===m&&Object(n.h)(t,null,S),"gpsdata"===m&&Object(n.h)(t,null,Object(n.h)(d.a,{stores:this.props.stores,wp:D,musher:I})),"team"===m&&Object(n.h)(t,null,P.public>0?Object(n.h)(t,null,Object(n.h)("h3",null,P.name),Object(n.h)(o.a,{markdown:h.a.replaceImages(P.description,P.images),markdownOpts:h.a.getMarkdownOptions()}),Object(n.h)(b.a,{stores:this.props.stores,images:A})):Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h3",null,Object(n.h)(i.c,{id:"teams.no-public-team"},"No public team!")),Object(n.h)(i.c,{id:"teams.no-public-team"},"This team is not publicly visible."),A&&Object(n.h)("div",{class:"my-3"},Object(n.h)(b.a,{stores:this.props.stores,images:A}))))),"dogs"===m&&Object(n.h)(t,null,P.public>0?Object(n.h)(t,null,P.dogs&&Object(n.h)("div",{class:"w-100 container-fluid"},Object(n.h)("div",{class:"row pt-2"},Object(n.h)(u.a,{stores:this.props.stores,dogs:P.dogs.map((function(t){return t.id})),allDogs:P.dogs,onDogClick:this.onDogClick}))),O&&Object(n.h)(t,null,Object(n.h)("div",{class:"d-flex mb-0 mt-3 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedLarge text-muted pt-2",style:j.image?'background-image: url("'+j.image.s3LargeLink+'"); background-size: cover;':""},!j.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},r.a.ucfirst(j.name,!0))),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+a.findHarness(j.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-1"},j.shortname||j.name," ",j.shortname&&""!==j.shortname&&Object(n.h)(t,null," - ",Object(n.h)("span",{class:"font-weight-lighter"},j.name)),B&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(n.h)("div",null,H<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",H," days")),j.birth&&Object(n.h)("span",{class:"mr-2"},r.a.age(j.birth,j.deceased)),"female"===j.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"})))))):Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h3",null,Object(n.h)(i.c,{id:"teams.no-public-team"},"No public team!")),Object(n.h)(i.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),T&&Object(n.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(n.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),l&&Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("xmp",null,"musher: ",JSON.stringify(I,null,4),Object(n.h)("br",null),"user: ",JSON.stringify(R,null,4),Object(n.h)("br",null),"team: ",JSON.stringify(P,null,4),Object(n.h)("br",null),"totals: ",JSON.stringify(L,null,4),Object(n.h)("br",null))))),Object(n.h)("div",{class:"d-flex position-absolute",style:"right: 10px; bottom: 10px;"},z.bib&&Object(n.h)("a",{class:"text-primary mx-2",onClick:function(){return k(z)},style:"line-height: 1.0em; font-size: 2.3em;"},Object(n.h)("i",{class:"fas fa-angle-left"})),F.bib&&Object(n.h)("a",{class:"text-primary mx-2",onClick:function(){return k(F)},style:"line-height: 1.0em; font-size: 2.3em;"},Object(n.h)("i",{class:"fas fa-angle-right"})))))},s}(n.Component))||a;e.a=p}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,n=s("hosL"),r=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,a=void 0===s?0:s,c=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return 3.28084*t}(a),0)," ",c?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(n.h)(t,null,"ft"))):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(a,0)," ",c?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"m")))):Object(n.h)(t,null,"m")))},s}(n.Component))||a);e.a=i}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,n=s("hosL"),r=s("Utv1"),c=s("/eY4"),i=s("OhSV"),l=(s("ZOvn"),Object(c.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,a=void 0===s?0:s,c=e.smallUnit,l=this.props.stores.userStore.user.settings;return(void 0===l?{}:l).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(function(t){return.621371*t}(a),1)," ",c?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(n.h)(t,null,Object(n.h)(i.c,{id:"workouts.mph"},"mph")))):Object(n.h)(t,null,Object(n.h)("nobr",null,r.a.format(a,1)," ",c?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(n.h)(t,null,Object(n.h)(i.c,{id:"workouts.kmt"},"km/t"))))},s}(n.Component))||a);e.a=l}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=68.chunk.9fc71.js.map