(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{RUc2:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var c,n=s("hosL"),l=s("Gblv"),i=s("/eY4"),r=(s("cneo"),s("OhSV")),d=s("ZOvn"),b=s.n(d),h=(s("KDoM"),s("2X7c")),p=s("7g1v"),u=(s("mPUg"),s("pJjI"));const O=b.a.marginTop(!0),g=b.a.marginBottom(),f=b.a.subMenuMarginTop(),j={isLoading:!1,daysBack:parseInt(l.a.get("dogWorkoutDaysBack"),10),submenu:"all"};let m=Object(i.a)(c=class extends n.Component{constructor(t){var e;super(t),e=this,this.loadDogs=async function(t=e.props){e.setState({isLoading:!0});const{daysBack:s}=e.state,{dogStore:o,userStore:a}=e.props.stores,{currentTeam:c}=o;await Promise.all([e.loadWorkoutPlans(t),o.load({query:{team:c},addData:["workoutSummary","vaccineStatuses","historyStatuses"]}),o.getDogsWithTraining({daysBack:s}),a.getNotifications()]),e.setState({isLoading:!1})},this.loadWorkoutPlans=async function(t=e.props){e.setState({isLoading:!0});const{year:s}=t,o=(new Date).getMonth()+1,a=l.a.getYear(),c=parseInt(s||(o<6?a-1:a),10),{workoutPlanStore:n,workoutStore:i}=t.stores,{currentTeam:r}=i;if(n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),n.resetGraphPlanWeekDistanceCurrent(),r){await n.load({query:{team:r,seasonYear:c,seasonMonth:6}});const{workoutPlans:t}=n,e=t[0]||{};e.id&&(await n.load(e.id),n.prepareWeekGraphs({year:s}))}e.setState({isLoading:!1})},this.setHistoryType=t=>{this.setState({historyType:t})},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.chooseDaysBack=t=>{const e=parseInt(t.target.parentElement.dataset.periode||t.target.dataset.periode,10);l.a.set("dogWorkoutDaysBack",e),this.setState({daysBack:e});const{dogStore:s}=this.props.stores;s.getDogsWithTraining({daysBack:e})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},j)}componentDidMount(){this.loadDogs()}render(){const{isLoading:t,historyType:e,submenu:s,daysBack:o}=this.state,{dogStore:a,appState:c,userStore:l}=this.props.stores,{user:i}=l,{language:d="no"}=i,j=b.a.getHistoryMap(d),{darkmode:m}=c,{dogs:y,workoutSummaryCurrent:w}=a;let k=()=>!0;if(y)switch(s){case"all":k=()=>!0;break;case"leadOnly":k=t=>!!(t.positions&&t.positions.lead&&t.positions.lead.distanceKm>0);break;case"pointOnly":k=t=>!!(t.positions&&t.positions.point&&t.positions.point.distanceKm>0);break;case"teamOnly":k=t=>!!(t.positions&&t.positions.team&&t.positions.team.distanceKm>0);break;case"wheelOnly":k=t=>!!(t.positions&&t.positions.wheel&&t.positions.wheel.distanceKm>0)}let v=y.filter(k);return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${g}; margin-top: ${O};`},Object(n.h)("div",{class:"row mb-4 fixed-top",style:`margin-top: ${f}; background-color: ${m?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs",class:"text-primary stretched-link"},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(r.c,{id:"dogs.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(r.c,{id:"dogs.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/feed",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(r.c,{id:"dogs.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",Object(n.h)(r.c,{id:"dogs.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2 border-bottom"},Object(n.h)(u.a,{stores:this.props.stores,callback:this.loadDogs})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix"},Object(n.h)("span",{class:"float-right"},Object(n.h)("a",{class:"btn btn-sm btn-primary ml-2",href:"/dogs/edit/new"},Object(n.h)("i",{class:"fas fa-plus"})," ",Object(n.h)(r.c,{id:"dogs.add-dogs"},"Legg til hunder"))),Object(n.h)(h.a,{stores:this.props.stores,dog:{},callback:this.loadDogs})),!t&&y&&0===y.length&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(n.h)("div",{class:"text-center mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(r.c,{id:"dogs.no-dogs-registered"},"Ingen hunder er registrert ennå."))),Object(n.h)(r.c,{id:"dogs.howto-add-1"},"Slik kommer du i gang:"),Object(n.h)("ol",null,Object(n.h)("li",null,Object(n.h)(r.c,{id:"dogs.howto-add-2"},'Trykk på knappen "Legg til hunder" rett nedenfor.')))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"all"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(r.c,{id:"dogs.all"},"Alle"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"leadOnly"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"leadOnly",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-area"})," ",Object(n.h)(r.c,{id:"dogs.leadOnly"},"Leder"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"pointOnly"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pointOnly",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-area"})," ",Object(n.h)(r.c,{id:"dogs.pointOnly"},"Point"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"teamOnly"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"teamOnly",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-area"})," ",Object(n.h)(r.c,{id:"dogs.teamOnly"},"Team"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"wheelOnly"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wheelOnly",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-area"})," ",Object(n.h)(r.c,{id:"dogs.wheelOnly"},"Wheel"))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)(r.c,{id:"dogs.days-back"},"Siste"),":")),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${0===o?"btn-warning":"btn-outline-warning"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"0",onClick:this.chooseDaysBack},Object(n.h)(r.c,{id:"dogs.d1"},"Dag"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${1===o?"btn-warning":"btn-outline-warning"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"1",onClick:this.chooseDaysBack},Object(n.h)(r.c,{id:"dogs.d2"},"2 dager"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${7===o?"btn-warning":"btn-outline-warning"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"7",onClick:this.chooseDaysBack},Object(n.h)(r.c,{id:"dogs.d7"},"7 dager"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${14===o?"btn-warning":"btn-outline-warning"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"14",onClick:this.chooseDaysBack},Object(n.h)(r.c,{id:"dogs.d14"},"14 dager"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${30===o?"btn-warning":"btn-outline-warning"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"30",onClick:this.chooseDaysBack},Object(n.h)(r.c,{id:"dogs.d30"},"30 dager"))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(n.h)("h5",null,e?Object(n.h)("span",null,Object(n.h)(r.c,{id:"dogs.dogs-filtered-by"},"Filtrert på:")," ",j[e]):Object(n.h)("span",null,Object(n.h)(r.c,{id:"dogs.all-dogs",fields:{total:v.length}},"Alle hundene - ",v.length," stk"))),Object(n.h)("div",{class:"row"},v&&v.map(t=>{const e=(a.findCurrentWorkoutSummary(t.id)||{}).distanceKm;return Object(n.h)(p.a,{stores:this.props.stores,key:`dog-${t.id}-${w.length}-${e}`,dog:t,hideTeam:!0,showWorkout:!0,daysBack:o,filterBy:s})}))))))}})||c;e.default=m}}]);
//# sourceMappingURL=route-dogs.chunk.b2d48.esm.js.map