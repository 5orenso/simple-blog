(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+1Jk":function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var c,i=s("hosL"),l=s("Gblv"),h=s("/eY4"),b=s("OhSV"),u=s("ZOvn"),m=s.n(u),d=s("JWe/"),p=s("WAWY"),f=s("XPU5");s("go65");var O,g=Object(h.a)(c=class extends i.Component{constructor(...t){var e;super(...t),e=this,this.toggleSetting=async function(t){const{userStore:s}=e.props.stores,{user:o}=s,{settings:r={}}=o;await s.updateSetting({["settings."+t]:1===r[t]?0:1})},this.hideSettings=async function(){const{userStore:t}=e.props.stores;await t.updateSetting({"settings.hideSettings":1}),e.setState({hideSettings:!0})}}render(){const{hideSettings:t}=this.state,{userStore:e}=this.props.stores,{forceShow:s}=this.props,{user:o}=e,{settings:r={}}=o;return t||r.hideSettings||!s&&r.summaryEmails&&r.infoEmails&&r.partnerEmails?"":Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(i.h)("h5",null,Object(i.h)(b.c,{id:"users.settings"},"Brukerinnstillinger")),!r.summaryEmails&&Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(b.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:()=>this.toggleSetting("summaryEmails"),checked:r.summaryEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(b.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!r.infoEmails&&Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(b.c,{id:"users.settings-info-email"},"Info")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:()=>this.toggleSetting("infoEmails"),checked:r.infoEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(b.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!r.partnerEmails&&Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(b.c,{id:"users.settings-partner-email"},"Partners")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:()=>this.toggleSetting("partnerEmails"),checked:r.partnerEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(b.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 text-muted"},Object(i.h)("small",null,Object(i.h)("a",{href:"/users"},Object(i.h)("i",{class:"fas fa-sliders-h"})," ",Object(i.h)(b.c,{id:"users.settings-text-info"},"Innstillingene finner du inne på profilen din."))))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 text-muted text-right"},Object(i.h)("small",null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(i.h)("i",{class:"fas fa-eye-slash"})," ",Object(i.h)(b.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))}})||c,j=s("CE5K");s("ox/y"),s("Y3FI");const v={menu:{profile:!1,main:!1},searchText:""};var y,k=Object(h.a)(O=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},v)}render(){const{userStore:t}=this.props.stores,{notifications:e=[]}=t,s=e.filter(t=>!t.read).length||0;return s<3?"":Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 clearfix px-0"},Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)("a",{href:"/users/notifications",class:"text-dark"},Object(i.h)("i",{class:"fas fa-bell mr-2 text-dark"}),Object(i.h)("span",{class:"badge badge-pill badge-danger"},s)," ",Object(i.h)(b.c,{id:"notifications.unread"},"Uleste varslinger. Klikk her for å se alle..."))))}})||O,w=s("0SNj"),S=s("ETxl"),x=s.n(S);var P,E=Object(h.a)(y=class extends i.Component{render(){const{userStore:t,workoutPlanStore:e,teamStore:s}=this.props.stores,{user:o}=t,{language:r="no"}=o,a=m.a.getMonths(r),{team:n}=s,{year:c}=this.props,h=(new Date).getMonth()+1,u=l.a.getYear(),d=parseInt(c||(h<6?u-1:u),10),p=l.a.monthRange(d+"-06-01",d+1+"-05-31");let f;return Object(i.h)("div",{class:"container-fluid mb-2"},Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(b.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(i.h)("div",{class:"row mt-2 border-bottom pb-2"},p&&p.map(s=>{if(s.year>u||s.year===u&&s.month>=h)return"";const o=e.sumWorkoutPlanMonth(s.year,s.month+1);if(!o)return"";f=o;const r=t.findWorkoutSummaryMonth(s.year,s.month+1)/o*100,n=r>100?100:l.a.format(r,0);return Object(i.h)("div",{class:"col-3 text-center"},Object(i.h)("div",{class:"px-auto w-100 clearfix"},Object(i.h)("div",{class:"progress "+x.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(i.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:`height: ${n}%; width: 40px;`,"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"},l.a.format(r,0),"%"))),Object(i.h)("div",{class:"w-100 mt-1"},a[s.month]," ",s.year))}),!f&&Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("h3",null,Object(i.h)(b.c,{id:"workout.plan.no-workout-plan-found",fields:{name:n.name}},"Ingen treningsplaner funnet for team ",n.name,".")))))}})||y,W=s("bUJL"),T=s("4imK"),D=s("pJjI");const A=m.a.marginTop(!0),I=m.a.marginBottom(),L=m.a.subMenuMarginTop(),M={isLoading:!1,submenu:"lastWorkouts"};let $=Object(h.a)(P=class extends i.Component{constructor(t){var e;super(t),e=this,this.loadTeamInfo=async function(){await e.loadWorkoutSummary(),await e.loadWorkoutPlans()},this.loadWorkoutPlans=async function(t=e.props){e.setState({isLoading:!0});const{year:s}=t,o=(new Date).getMonth()+1,r=l.a.getYear(),a=parseInt(s||(o<6?r-1:r),10),{workoutPlanStore:n,workoutStore:c,userStore:i}=t.stores,{team:h}=i,{currentTeam:b=h.id}=c;if(n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),n.resetGraphPlanWeekDistanceCurrent(),b){await n.load({query:{team:b,seasonYear:a,seasonMonth:6}});const{workoutPlans:t}=n,e=t[0]||{};e.id&&(await n.load(e.id),n.prepareWeekGraphs({year:s}))}e.setState({isLoading:!1})},this.loadDogs=async function(){e.setState({isLoading:!0});const{dogStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s},addData:["workoutSummary"]}),e.setState({isLoading:!1})},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},M)}async loadAll(){const{appState:t,userStore:e}=this.props.stores;this.setState({isLoading:!0}),await t.getFingerprint(),await e.getInfo(),await e.getNotifications(),await this.loadWorkoutSummary(),await Promise.all([this.loadWorkoutPlans(),this.loadTeams(),this.loadStravaActivities(),this.loadGarminActivities()]),this.setState({isLoading:!1})}async loadTeams(t=this.props){const{teamStore:e,workoutStore:s}=t.stores,{currentTeam:o}=s;await e.load({query:{team:o},addData:["workoutSummary"]})}async loadFeed(){const{userStore:t}=this.props.stores;await t.getFeed({})}async loadWorkoutSummary(){const{userStore:t,workoutStore:e}=this.props.stores,{currentTeam:s}=e;await t.getWorkoutSummary({team:s})}async loadStravaActivities(){const{stravaActivityStore:t}=this.props.stores;t.load({query:{hideImported:1}})}async loadGarminActivities(){const{garminActivityDetailsStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentDidMount(){this.loadAll()}render(){const{isLoading:t,submenu:e}=this.state,{userStore:s,dogStore:o,appState:r,workoutPlanStore:a,teamStore:n,workoutStore:c,stravaActivityStore:l,garminActivityDetailsStore:h}=this.props.stores,{workoutPlan:u,workoutPlans:m}=a,{darkmode:O}=r,{workouts:v,workoutSummary:y,teams:S,tracks:x,isAdmin:P}=s,{dogs:M}=o,$=S.length,C=M.length,F=x.length,{currentTeam:q}=c,G=(q?n.findWorkoutSummary(q,2019):n.findWorkoutSummaryTotal(2019))||{},J=(q?n.findWorkoutSummary(q,2020):n.findWorkoutSummaryTotal(2020))||{},{user:Y}=s,{stravaActivities:B}=l,{garminActivityDetails:K}=h;return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${I}; margin-top: ${A};`},Object(i.h)("div",{class:"row mb-4 fixed-top",style:`margin-top: ${L}; background-color: ${O?"#191d21":"#f8f9fa"};`},P&&Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-user-shield"})," ",Object(i.h)(b.c,{id:"home.admin"},"Admin")))),Object(i.h)("div",{class:"col text-center subtopmenu border-bottom border-primary"},Object(i.h)("a",{href:"/",class:"text-primary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(b.c,{id:"home.dashboard"},"Dashboard")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(b.c,{id:"home.feed"},"Feed")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/todo",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-list"})," ",Object(i.h)(b.c,{id:"home.todo"},"Todo"))))),!t&&Object(i.h)(g,{stores:this.props.stores}),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(i.h)(D.a,{stores:this.props.stores,callback:this.loadTeamInfo,key:"teams-"+q})),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!t&&y&&0===y.length&&Object(i.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"display-4"},Object(i.h)("i",{class:"fas fa-paw"})),Object(i.h)("h5",null,Object(i.h)(b.c,{id:"home.welcome-title"},"Velkommen til The Musher.")),Object(i.h)("p",null,Object(i.h)(b.c,{id:"home.welcome-body-1"},"The Musher er en app som er kontinuerlig under utvikling. Alle ideer/innspill/kommentarer mottas med stor takk på Facebooksiden vår 😃")),Object(i.h)("p",null,Object(i.h)(b.c,{id:"home.welcome-body-2"},"Fokus til appen er enkel registrering av hunder, team, treninger og hendelser rundt hundene. Når man har mange hunder så er det ofte vanskelig å holde styr på løpetid, vaksiner, treninger, skader, vetrinærbesøk, chiplister, osv.")),Object(i.h)("p",null,Object(i.h)(b.c,{id:"home.welcome-body-3"},"Alle data lagres sentralt i skyen hos AWS (Amazon Web Services) og det vil derfor være mulig å bruke appen fra flere telefoner og datamaskiner samtidig. Dette kan være fint dersom det er flere som trener og følger opp hundene."))),Object(i.h)("h5",null,Object(i.h)(b.c,{id:"home.howto-title"},"Slik kommer du i gang:")),Object(i.h)("ol",null,$<1&&Object(i.h)("li",null,Object(i.h)("a",{class:"btn btn-info mt-3",href:"/teams/"},Object(i.h)(b.c,{id:"home.howto-step-1"},"Legg inn teamene dine."))),C<1&&Object(i.h)("li",null,Object(i.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(i.h)(b.c,{id:"home.howto-step-2"},"Legg inn hundene dine."))),F<1&&Object(i.h)("li",null,Object(i.h)("a",{class:"btn btn-info mt-3",href:"/tracks/"},Object(i.h)(b.c,{id:"home.howto-step-3"},"Legg inn rundene dine."))),Object(i.h)("li",null,Object(i.h)("a",{class:"btn btn-info mt-3",href:"/workouts/"},Object(i.h)(b.c,{id:"home.howto-step-4"},"Begynn å registrere treningene."))))),Object(i.h)(p.a,{stores:this.props.stores,isLoading:t,key:`graph-${u.id}-${m.length}`}))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col px-1 pt-2"},Object(i.h)("button",{class:`btn btn-block ${"lastWorkouts"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"lastWorkouts",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(b.c,{id:"home.workouts"},"Treninger"))),Object(i.h)("div",{class:"col px-1 pt-2"},Object(i.h)("button",{class:`btn btn-block ${"totals"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-equals"})," ",Object(i.h)(b.c,{id:"home.totals"},"Totaler"))),Object(i.h)("div",{class:"col px-1 pt-2"},Object(i.h)("button",{class:`btn btn-block ${"workoutplanStatus"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplanStatus",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(b.c,{id:"home.status"},"Status"))))),"totals"===e&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)(w.a,{stores:this.props.stores,key:"totals-"+J.distancekm,currentSeason:J,prevSeason:G})),"workoutplanStatus"===e&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)(E,{stores:this.props.stores,key:"status-"+J.distancekm,currentSeason:J,prevSeason:G}))),Object(i.h)(j.a,null),Object(i.h)(f.a,{stores:this.props.stores}),Object(i.h)(k,{stores:this.props.stores}),"lastWorkouts"===e&&Object(i.h)("div",{class:"row"},Y&&Y.strava&&B&&B.length>0&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2"},Object(i.h)("h5",null,Object(i.h)(b.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")),B&&B.map(t=>Object(i.h)(W.a,{stores:this.props.stores,activity:t,key:`strava-${q}-${t.id}`}))),Y&&Y.garmin&&K&&K.length>0&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2"},Object(i.h)("h5",null,Object(i.h)(b.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")),K&&K.map(t=>Object(i.h)(T.a,{stores:this.props.stores,activity:t,key:`garmin-${q}-${t.id}`}))),v&&v.length>0&&Object(i.h)("div",{class:"col-12 mb-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(i.h)("h5",null,Object(i.h)(b.c,{id:"home.last-workouts",fields:{total:v.length}},"Siste treningsturer - ",v.length," stk"))),v&&v.map(t=>Object(i.h)(d.a,{stores:this.props.stores,workout:t})))))}})||P;e.default=$}}]);
//# sourceMappingURL=route-home.chunk.3263e.esm.js.map