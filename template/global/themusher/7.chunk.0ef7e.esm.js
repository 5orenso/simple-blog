(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1OK2":function(t,e,s){"use strict";var a,o=s("hosL"),l=(s("Utv1"),s("/eY4"));Object(l.a)(a=class extends o.Component{constructor(t){super(t),this.touchStart=t=>{t.stopPropagation(),this.setState({startX:t.touches[0].pageX})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=t=>{t.stopPropagation();const{totalImages:e}=this.state;if(e>1){const{startX:e,sliding:s}=this.state,a=50,o=t.touches[0].pageX;s||(o>e+a?(this.setState({sliding:!0}),this.prevImage()):o<e-a&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:e=[]}=t;this.state={imageContainer:1,currentImage1:e[0]||{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]}}nextImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state,o=1===a?2:1;let l=s+1;l>e-1&&(l=0),this.setState({["currentImage"+o]:t[l],currentIdx:l,imageContainer:o})}prevImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state;let o=s-1;o<0&&(o=e-1),this.setState({["currentImage"+(1===a?2:1)]:t[o],currentIdx:o,imageContainer:1===a?2:1})}componentWillReceiveProps(t){if(t.images!==this.props.images){const{images:e=[]}=t;this.setState({imageContainer:1,currentImage1:e.length>0?e[0]:{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]})}}render(){const{currentImage1:t,currentImage2:e,imageContainer:s,totalImages:a,imageDots:l,currentIdx:c}=this.state,i=this["image"+s],n=1===s?t:e,r=i&&i.height?i.width/i.height:4/3;let h,d;if(n.dimensions){const{width:t,height:e,orientation:s}=n.dimensions;s>4&&s<9?(h=t,d=e):(h=e,d=t)}const b=n.dimensions?d/h:r;return a<=0?"":Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${b}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},a>1&&Object(o.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(o.h)("small",null,c+1,"/",a)),t&&Object(o.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image1=t})),e&&Object(o.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image2=t}))),l.length>1&&Object(o.h)("div",{class:"w-100 text-center"},l.map(t=>Object(o.h)("span",{style:`color: ${t===c+1?"#ffffff":"#808080"};`},"•"))))}})},"7g1v":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4"),i=(s("cneo"),s("OhSV")),n=s("wanP"),r=s("ZOvn");let h=Object(c.a)(a=class extends o.Component{render(){const{dog:e,showWorkout:s,showInfo:a,hideTeam:c=!1,fullWidth:h=!1,daysBack:d=7,filterBy:b=""}=this.props,{userStore:m,dogStore:u,workoutPlanStore:p}=this.props.stores;if(!e)return"";const{user:g}=m,{language:O="en"}=g,f=m.findDogstatus({status:e.status,language:O}),j=e.statuses?e.statuses.map(t=>m.findDogstatus({status:t,language:O})):[],v=m.findDogposition({position:e.position,language:O}),y=u.findCurrentWorkoutSummary(e.id)||{},w=l.a.getWeek(new Date),k=l.a.getYear(),x=(new Date).getMonth()+1,S=parseInt(x<8?k-1:k,10),{week:I=w,year:D=S}=this.props,$=p.sumWorkoutPlanDaysBack(parseInt(D,10),parseInt(I,10),d)||0,T=l.a.format(y.distanceKm||0,0),C=r.a.hasBirthday(e.birth);let F=!1,L=0;return T&&$&&(L=T/$*100,F=!0),Object(o.h)("div",{class:`${h?"":"col-4"} mb-3 ${F?"mt-2":""} position-relative`},Object(o.h)("div",{class:"text-center border border-secondary rounded-circle imageRounded mx-auto text-muted pt-2 position-relative",style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},l.a.ucfirst(e.name,!0)),F&&Object(o.h)("div",{class:"position-absolute",style:"top: -12px; left: -12px;"},Object(o.h)(n.a,{key:"gauge-"+L,radius:48,heightAdd:15,showPercentText:!1,percent:L,prefix:"%",total:$+" km",totalY:"95%",completed:T+" km",completedY:"85%"}))),Object(o.h)("div",{class:""+(F?"mt-4":""),style:"line-height: 1.0em;"},Object(o.h)("small",null,Object(o.h)("span",{class:"float-right"},e.birth&&Object(o.h)("span",{class:"mr-2"},l.a.age(e.birth,e.deceased)),"female"===e.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:"/dogs/"+e.id},Object(o.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},e.shortname||e.name,C&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),!c&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-light"},m.findTeam(e.team)),Object(o.h)("br",null))),b&&e.positions&&e.positions.lead&&Object(o.h)("div",{class:""},"leadOnly"===b&&e.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(i.c,{id:"dogs.sort-lead"},"Lead"),":")," ",l.a.format(e.positions.lead.distanceKm,0)," km"),"pointOnly"===b&&e.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(i.c,{id:"dogs.sort-point"},"Point"),":")," ",l.a.format(e.positions.point.distanceKm,0)," km"),"teamOnly"===b&&e.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(i.c,{id:"dogs.sort-team"},"Team"),":")," ",l.a.format(e.positions.team.distanceKm,0)," km"),"wheelOnly"===b&&e.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(i.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",l.a.format(e.positions.wheel.distanceKm,0)," km")),Object(o.h)("small",null,s&&Object(o.h)("small",{class:"text-muted"},y&&y.distanceKm>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-road"})," ",l.a.format(y.distanceKm,0),"km"),y&&y.elevation>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",l.a.format(y.elevation,0),"m"),y&&y.duration>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",l.a.secToHms(y.duration,!0)),y&&y.speedAvg>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",l.a.format(y.speedAvg,1),"km/t")),a&&Object(o.h)("small",{class:"text-muted"},e.weight&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",l.a.format(e.weight,1)," kg"),e.bodyScore&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",l.a.format(e.bodyScore,1))),Object(o.h)("div",{class:"clearfix pb-0 pt-1"},v&&v.class&&Object(o.h)("span",{class:`badge badge-${v.class||"primary"} mr-2`},v.icon&&Object(o.h)("i",{class:v.icon})," ",v.name),e.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning mr-2"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),f&&f.class&&Object(o.h)("span",{class:`badge badge-${f.class} mr-2 mt-1`},f.icon&&Object(o.h)("i",{class:f.icon})," ",f.name),j&&j.map(e=>Object(o.h)(t,null,e&&e.class&&Object(o.h)("span",{class:`badge badge-${e.class} mr-2 mt-1`},e.icon&&Object(o.h)("i",{class:e.icon})," ",e.name)))))))}})||a;e.a=h}).call(this,s("hosL").Fragment)},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return c.a.format(t,t<5?2:1)}var o,l=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(i.a)(o=class extends l.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:c}=o,{settings:i={}}=c;return i.imperial?Object(l.h)(t,null,Object(l.h)("nobr",null,a(function(t){return.621371*t}(e))," ",s?Object(l.h)(t,null,Object(l.h)("small",null,Object(l.h)("small",null,Object(l.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(l.h)(t,null,"mi"))):Object(l.h)(t,null,Object(l.h)("nobr",null,a(e)," ",s?Object(l.h)(t,null,Object(l.h)("small",null,Object(l.h)("small",null,Object(l.h)("small",{class:"ml-0 text-muted"},"km")))):Object(l.h)(t,null,"km")))}})||o;e.a=n}).call(this,s("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},QkTp:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let i=Object(c.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:c={}}=a;return c.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(function(t){return 9*t/5+32}(e),0),"°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(e,1),"°C"))}})||a;e.a=i}).call(this,s("hosL").Fragment)},TiXY:function(t,e,s){"use strict";var a,o=s("hosL"),l=s("/eY4"),c=(s("cneo"),s("Utv1"),s("OhSV")),i=s("u2zT");let n=Object(l.a)(a=class extends o.Component{constructor(t){super(t),this.handleAddImage=t=>{const{updateField:e,object:s,field:a}=this.props;e({id:s.id,field:a,value:t})},this.state={files:[]}}render(){const{uploadStatus:t=(()=>{}),before:e=(()=>{}),after:s=(()=>{}),autoOpen:a=!1}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(c.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(o.h)("br",null),Object(o.h)(i.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload",uploadStatus:t,before:e,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;e.a=n},UwwE:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let i=Object(c.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:c={}}=a;return c.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(e,0)," kg"))}})||a;e.a=i}).call(this,s("hosL").Fragment)},YiSQ:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=(s("Utv1"),s("/eY4")),c=s("OhSV"),i=(s("ZOvn"),s("bbv7"));let n=Object(l.a)(a=class extends o.Component{render(){const{dogStore:e}=this.props.stores,{graphFitness:s,graphFatigue:a,graphForm:l}=e,n=l.map(t=>t.date),r=Math.floor(n.length/4),h=[];for(let t=0,e=n.length;t<e;t+=r)h.push(n[t]);return h[h.length-1]=n[n.length-1],Object(o.h)(t,null,Object(o.h)("h5",null,Object(o.h)(c.c,{id:"teams.fitness"},"Form og belastning")),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(c.b,null,Object(o.h)(i.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicks:h,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:[s,a],dataFillLeft:[1],legendLeft:[Object(o.h)(c.c,{id:"teams.legend-fitness"},"Fitness"),Object(o.h)(c.c,{id:"teams.legend-fatigue"},"Fatigue")],dataRight:[l],legendRight:[Object(o.h)(c.c,{id:"teams.legend-form"},"Form")],showYTicksLeft:1,avgWindowLeft:[0,0],smoothLeft:[0,0],showYTicksRight:1,scrollToRight:!0}))))}})||a;e.a=n}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let i=Object(c.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:c}=a,{settings:i={}}=c;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(e,0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))}})||a;e.a=i}).call(this,s("hosL").Fragment)},mPUg:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4"),i=s("OhSV"),n=s("ZOvn");const r=[0,6];let h=Object(c.a)(a=class extends o.Component{constructor(...t){super(...t),this.setHistoryType=t=>{const{callback:e=(()=>{})}=this.props,{historyType:s}=this.state;let a=t.target.dataset.historytype||t.target.parentElement.dataset.historytype;a===s?(this.setState({historyType:null}),e(null)):(this.setState({historyType:a}),e(a))},this.chooseDay=t=>{const{year:e,month:s,day:a}=this.state,{setDay:o=(()=>{})}=this.props,l=parseInt(t.target.parentElement.dataset.day||t.target.dataset.day,10),c=parseInt(t.target.parentElement.dataset.month||t.target.dataset.month,10),i=parseInt(t.target.parentElement.dataset.year||t.target.dataset.year,10);i===e&&c===s&&l===a?(this.setState({year:null,month:null,day:null}),o(null,null,null)):(this.setState({year:i,month:c,day:l}),o(i,c,l))}}async loadHistorySummary(t=this.props){this.setState({isLoading:!0});const{userStore:e,workoutStore:s}=this.props.stores,{currentTeam:a}=s,o=(new Date).getMonth()+1,{month:c=o,year:i=l.a.getYear(),team:n=a,dog:r={},callback:h=(()=>{})}=t;await e.getFeed({month:c,year:i,team:n,dog:r.id});const{historyType:d}=this.state;h(d),this.setState({isLoading:!1})}componentDidMount(){this.loadHistorySummary()}componentWillReceiveProps(t){t.month===this.props.month&&t.year===this.props.year&&t.dog===this.props.dog&&t.team===this.props.team||this.loadHistorySummary(t)}render(){const{historyType:e,day:s,month:a,year:c}=this.state,h=e?t=>t.historyType===e:()=>!0,{appState:d,userStore:b}=this.props.stores,{user:m}=b,{language:u="en"}=m,p=n.a.getHistoryMap(u),g=n.a.getDays(u),O=n.a.getMonths(u),f=(new Date).getDate(),j=(new Date).getMonth()+1,v=(new Date).getFullYear(),{month:y=j,year:w=l.a.getYear(),dog:k,basehref:x}=this.props,S=parseInt(y,10),I=parseInt(w,10),{month:D,year:$}=n.a.getNextMonth(S,I),{month:T,year:C}=n.a.getPrevMonth(S,I),F=l.a.getDaysInMonth(y,w),L=l.a.getWeeksInMonth(y,w),P=l.a.getDaysInWeek(L[0].week,w);return Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(o.h)("a",{href:`${x||"/workouts/month/"}${D}/${$}/skipScroll`,class:"float-right btn btn-sm btn-link"},Object(o.h)("i",{class:"fas fa-arrow-right"})),Object(o.h)("a",{href:`${x||"/workouts/month/"}${T}/${C}/skipScroll`,class:"float-left btn btn-sm btn-link"},Object(o.h)("i",{class:"fas fa-arrow-left"})),Object(o.h)("h5",null,Object(o.h)(i.c,{id:"dog.calendar.month"},"Måned")," - ",O[y-1]," ",w),k&&Object(o.h)("div",null,k.name),Object(o.h)("small",null,l.a.isoDate(F[0],!1,!1,!0)," - ",l.a.isoDate(F[F.length-1],!1,!1,!0))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(i.c,{id:"dog.calendar.week"},"Uke"))),P.map(t=>Object(o.h)("th",null,Object(o.h)("small",null,g[t.getDay()]))))),Object(o.h)("tbody",null,L&&L.map(e=>{const i=l.a.getDaysInWeek(e.week,w,y);return Object(o.h)("tr",null,Object(o.h)("td",{class:"text-right text-muted pt-3"},Object(o.h)("small",null,e.week)),i.map(e=>{const l=e.getFullYear(),i=e.getMonth()+1,d=e.getDate(),m=b.findHistory(l,i,d),u=b.findEndHistory(l,i,d),p=c==l&&a==i&&s==d,g=v==l&&j==i&&f==d,O=r.indexOf(e.getDay())>-1;return Object(o.h)("td",{class:`text-center font-weight-light position-relative pt-3 ${p?"calendarIsChosen":""} ${g?"calendarIsToday":""} ${O?"calendarIsWeekend":""}`,style:"font-size: 0.8em;",onClick:this.chooseDay,"data-day":d,"data-month":i,"data-year":l},Object(o.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},e.getDate()),m&&m.length>0?Object(o.h)(t,null,m.filter(h).map((t,e)=>{if(!t.historyType)return Object(o.h)("div",{class:"rounded-circle position-absolute border",style:`background-color: #808080; top: 50%; left: ${5*e}px; width: 15px; height: 15px;`});const s=n.a.getHistoryTypeColor(t.historyType);return Object(o.h)("div",{class:"rounded-circle position-absolute border",style:`background-color: ${s}; top: 50%; left: ${5*e}px; width: 15px; height: 15px;`})}),m.length>1&&Object(o.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},m.length)):"-",u&&u.length>0?Object(o.h)(t,null,u.filter(h).map((t,e)=>{if(!t.historyType)return Object(o.h)("div",{class:"rounded position-absolute border border-white",style:`background-color: #808080; top: 50%; left: ${5*e}px; width: 15px; height: 15px;`});const s=n.a.getHistoryTypeColor(t.historyType);return Object(o.h)("div",{class:"rounded position-absolute border border-white",style:`background-color: ${s}; top: 50%; left: ${5*e}px; width: 15px; height: 15px;`})}),u.length>1&&Object(o.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},u.length)):"-")}))})))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(o.h)("div",{class:"clearfix"},Object(o.h)("small",null,n.a.getHistoryPri().map(t=>{const s=n.a.getHistoryTypeColor(t);return Object(o.h)("span",{class:"float-left mr-2 "+(e===t?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":t},Object(o.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",p[t])}))),Object(o.h)("div",{class:"clearfix"},Object(o.h)("small",null,n.a.getHistoryPri(2).map(t=>{const s=n.a.getHistoryTypeColor(t);return Object(o.h)("span",{class:"float-left mr-2 "+(e===t?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":t},Object(o.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",p[t])}))),Object(o.h)("div",{class:"clearfix"},Object(o.h)("small",null,n.a.getHistoryPri(3).map(t=>{const s=n.a.getHistoryTypeColor(t);return Object(o.h)("span",{class:"float-left mr-2 "+(e===t?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":t},Object(o.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",p[t])})))))}})||a;e.a=h}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4"),i=s("OhSV");s("ZOvn");let n=Object(c.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:c}=a,{settings:n={}}=c;return n.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(function(t){return.621371*t}(e),1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.format(e,1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))}})||a;e.a=n}).call(this,s("hosL").Fragment)},vMwv:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i,n=s("hosL"),r=s("Utv1"),h=s("/eY4"),d=s("Y3FI"),b=s("OhSV"),m=s("fh8t"),u=s.n(m),p=s("X9Km"),g=s("ZOvn"),O=s("WAWY"),f=s("3UPq"),j=s("xDik"),v=s("2X7c"),y=s("mPUg"),w=s("7g1v"),k=s("YiSQ"),x=(s("wM2g"),s("s4FZ")),S=s("UJvz"),I=s("0SNj"),D=s("9Bb9"),$=(s("epqT"),s("nHdA"),s("irB3")),T=(s("UwwE"),s("8Lgr")),C=(s("QkTp"),s("om2D")),F=s("TiXY"),L=s("/DnB");const P=g.a.marginTop(!1),Y=g.a.marginTopBack(!1),H=g.a.marginBottom(),M={submenu:"stats"};let N=Object(h.a)(c=class extends n.Component{constructor(...t){var e;super(...t),e=this,this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.removeImage=async function(t){const{dogStore:s}=e.props.stores,{dog:a}=e.props;s.removeImage({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})},this.removeFile=async function(t){const{dogStore:s}=e.props.stores,{dog:a}=e.props;s.removeFile({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})}}render(){const{saved:e,dog:s,type:a="text",datalist:o=[],min:l,max:c,step:i,field:h,title:d,icon:m,help:u,onInput:p,updateField:g,refName:O,showImages:f=!1,showFiles:j=!1}=this.props;let v=s[h],y=c;return"date"===a&&(v&&(v=r.a.isoDate(s[h],!1,!1,!0)),"today"===c&&(y=r.a.isoDate(void 0,!1,!1,!0))),"file"===a?Object(n.h)("div",{class:"form-group "+(e[`${h}.${s.id}`]?"is-valid":"")},Object(n.h)("label",{for:h+"Input"},m&&Object(n.h)("i",{class:m+" text-muted"})," ",d),j&&Object(n.h)(t,null,Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-file"})),Object(n.h)("h3",null,Object(n.h)(b.c,{id:"dogs.no-files-title"},"No files attached to this dog!")),Object(n.h)(b.c,{id:"dogs.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(t=>Object(n.h)("div",{class:"col-12 p-1"},Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.createdDate,!1,!1,!0)),Object(n.h)("span",{class:"mr-2"},t.name),Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.formatBytes(t.size,1)),Object(n.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":t.name},Object(n.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(n.h)(F.a,{saved:e,object:s,field:h,updateField:g}),e[`${h}.${s.id}`]?Object(n.h)("div",{class:"valid-feedback",style:"display: block;"},Object(n.h)(b.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(n.h)("small",{id:h+"Help",class:"form-text text-muted"},u)):"image"===a?Object(n.h)("div",{class:"form-group "+(e[`${h}.${s.id}`]?"is-valid":"")},Object(n.h)("label",{for:h+"Input"},m&&Object(n.h)("i",{class:m})," ",d),f&&Object(n.h)(t,null,Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},s.images&&s.images.map(t=>Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(n.h)("i",{class:"fas fa-trash"})," Remove")))))),Object(n.h)(C.a,{saved:e,object:s,field:h,updateField:g,autoOpen:!1}),e[`${h}.${s.id}`]?Object(n.h)("div",{class:"valid-feedback",style:"display: block;"},Object(n.h)(b.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(n.h)("small",{id:h+"Help",class:"form-text text-muted"},u)):"datalist"===a?Object(n.h)("div",{class:"form-group "+(e[`${h}.${s.id}`]?"is-valid":"")},Object(n.h)("label",{for:h+"Input"},m&&Object(n.h)("i",{class:m})," ",d),Object(n.h)("input",{list:"list-"+h,class:"form-control "+(e[`${h}.${s.id}`]?"is-valid":""),id:h+"Input","aria-describedby":h+"Help",value:v,"data-id":s.id,"data-field":h,onInput:p}),Object(n.h)("datalist",{id:"list-"+h},o.map(t=>Object(n.h)("option",{value:t[0]},t[1]))),e[`${h}.${s.id}`]?Object(n.h)("div",{class:"valid-feedback",style:"display: block;"},Object(n.h)(b.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(n.h)("small",{id:h+"Help",class:"form-text text-muted"},u)):"select"===a?Object(n.h)("div",{class:"form-group "+(e[`${h}.${s.id}`]?"is-valid":"")},Object(n.h)("label",{for:h+"Input"},m&&Object(n.h)("i",{class:m})," ",d),Object(n.h)("select",{type:a,class:"form-control "+(e[`${h}.${s.id}`]?"is-valid":""),id:h+"Input","aria-describedby":h+"Help",value:v,"data-id":s.id,"data-field":h,onInput:p},Object(n.h)("option",{value:""},"-- Velg kjønn --"),o.map(t=>Object(n.h)("option",{value:t[0]},t[1]))),e[`${h}.${s.id}`]?Object(n.h)("div",{class:"valid-feedback",style:"display: block;"},Object(n.h)(b.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(n.h)("small",{id:h+"Help",class:"form-text text-muted"},u)):Object(n.h)("div",{class:"form-group "+(e[`${h}.${s.id}`]?"is-valid":"")},Object(n.h)("label",{for:h+"Input"},m&&Object(n.h)("i",{class:m})," ",d)," ",O,Object(n.h)("input",{type:a,class:"form-control "+(e[`${h}.${s.id}`]?"is-valid":""),id:h+"Input","aria-describedby":h+"Help",min:l,max:y,step:i,value:v,"data-id":s.id,"data-field":h,onInput:p}),e[`${h}.${s.id}`]?Object(n.h)("div",{class:"valid-feedback",style:"display: block;"},Object(n.h)(b.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(n.h)("small",{id:h+"Help",class:"form-text text-muted"},u))}})||c,E=Object(h.a)(i=class extends n.Component{constructor(t){var e;super(t),e=this,this.loadDog=async function(t=e.props){const{dogStore:s,userStore:a}=t.stores,o=parseInt(t.dog,10);await Promise.all([s.load(o,!1,{addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),a.getWorkoutSummary({dog:o})]);const l=(new Date).getMonth()+1,c=(new Date).getFullYear(),{month:i=l,year:n=c}=e.props,r=parseInt(i<8?n-1:n,10);s.findWorkoutSummaryCurrenSeason(o,r),s.findWorkoutSummaryPreviousSeason(o,r-1);const{dog:h}=s;h&&h.team&&e.loadTeam(h.team),h&&h.motherChipId&&s.loadExternalDogs([h.motherChipId,h.fatherChipId]),s.plotFormGraph()},this.loadWorkoutPlans=async function(t=e.props){const{year:s}=t,a=(new Date).getMonth()+1,o=r.a.getYear(),l=parseInt(s||(a<8?o-1:o),10),{workoutPlanStore:c,dogStore:i}=t.stores,{dog:n}=i;if(c.updateItem("workoutPlans",[]),c.updateItem("workoutPlan",{}),c.resetGraphPlanWeekDistanceCurrent(),n.team){await c.load({query:{team:n.team,seasonYear:l,seasonMonth:6}});const{workoutPlans:t}=c,e=t[0]||{};e.id?(await c.load(e.id),c.prepareWeekGraphs({year:s})):(c.updateKeyValue("workoutPlan",{}),c.updateKeyValue("workoutPlans",[]),c.resetGraphPlanWeekDistanceCurrent())}},this.showModal=t=>{t.stopPropagation(),t.preventDefault();this.setState({displayModal:!0,currentImage:t.target.dataset.image,currentImageXXL:t.target.dataset.imagexxl,thumb:t.target.dataset.thumb,name:t.target.dataset.name,title:t.target.dataset.title,date:t.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.setHistoryType=t=>{this.setState({historyType:t})},this.deleteDog=async function(){const{dogStore:t}=e.props.stores,{dog:s}=t;await t.saveField(s.id,"offline",1),p.a.publish(p.b.STATUS_MESSAGE,{message:"Hunden er slettet",type:"success",icon:"fas fa-check"}),Object(d.route)("/dogs/list")},this.updateField=t=>{const{id:e,field:s,type:a,elementtype:o,isNew:l}=t.target.dataset,c=t.target.value;this.updateFieldValue({id:parseInt(e,10),field:s,value:c,type:a,elementtype:o,isNew:l})},this.updateFieldValue=({id:t,field:s,value:a,datatype:o,elementtype:l,isNew:c=!1,skipTimer:i=!1})=>{const{dogStore:n}=this.props.stores;let r=a,h=a;const{dog:d}=n;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"files"===s&&Array.isArray(d.files)&&(h=Array.isArray(a)?[...d.files,...a]:[...d.files,a]),"array"!==o||Array.isArray(a)||(r="number"===l?a.split(",").map(t=>parseFloat(t)||t):a.split(",")),c?n.updateObjectKeyValue("newDog",s,a):(n.updateField(t,s,h),i?this.doUpdateField(t,s,r):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){e.doUpdateField(t,s,r)}),500)))},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.toggleCalendar=async function(){const{showCalendar:t=!1}=e.state;e.setState({showCalendar:!t})},this.state=o(o({newHistory:{date:r.a.isoDate(new Date,!1,!1,!0),time:r.a.isoTime(new Date)}},M),{},{submenu:t.submenu||"stats"}),this.updateTimer={}}async loadAll(t=this.props){this.setState({isLoading:!0}),await Promise.all([this.loadDog(t),this.loadWorkoutPlans(t)]),this.setState({isLoading:!1})}async loadTeam(t){const{teamStore:e}=this.props.stores;await e.load(t),e.plotFormGraph()}async doUpdateField(t,e,s){const{dogStore:a}=this.props.stores;await a.saveField(t,e,s)}componentDidMount(){this.loadAll()}componentWillReceiveProps(t){t.dog!==this.props.dog&&this.loadAll(t)}render(){const{displayModal:e,currentImage:s,currentImageXXL:a,thumb:o,name:l,title:c,date:i,historyType:h,submenu:d,showCalendar:m=!1}=this.state,{month:p,year:C}=this.props,{dogStore:F,userStore:M,workoutPlanStore:E,workoutStore:z}=this.props.stores,{workoutPlan:V,workoutPlans:X}=E,{user:A}=M,{language:U="en"}=A,{dog:W,vaccineStatuses:K,historyStatuses:B,workoutSummaryCurrentSeason:R={},workoutSummaryPreviousSeason:_={},saved:Z}=F,G=M.findDogstatus({status:W.status,language:U}),q=W.statuses?W.statuses.map(t=>M.findDogstatus({status:t,language:U})):[],J=M.findDogposition({position:W.position,language:U}),Q=W.history&&W.history.length>0,tt=[];M.findTeam(W.team)&&tt.push(M.findTeam(W.team)),W.teams&&W.teams.forEach(t=>{M.findTeam(t)&&tt.push(M.findTeam(t))});const et=F.findVaccineLogStatuses(W.chipId),st=F.findDog(W.mother),at=F.findDog(W.father),ot=F.findChildren(W.chipId),lt=F.findSiblings(W.id,W.motherChipId,W.birth),ct=g.a.hasBirthday(W.birth),it=W.birth?Math.ceil(g.a.daysUntilNextBirthday(W.birth)):365;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${H}; margin-top: ${P};`},Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${Y}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(n.h)("div",null,Object(n.h)("h5",{class:"text-muted"}," ")),Object(n.h)("div",null,Object(n.h)("a",{class:"btn btn-sm btn-primary float-left ml-3",href:"/dogs/edit/"+W.id},Object(n.h)("i",{class:"fas fa-edit"})," ",Object(n.h)(b.c,{id:"dogs.edit"},"Endre")),Object(n.h)(v.a,{stores:this.props.stores,dog:W,callback:this.loadDog}))),e&&Object(n.h)(S.a,{close:this.closeModal,image:s,imagexxl:a,thumb:o,name:l,title:c,date:i}),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"d-flex mb-1"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:W.image?`background-image: url("${W.image.s3SmallLink}");`:""},!W.image&&Object(n.h)("i",{class:"fas fa-dog text-muted mt-3",style:"font-size: 40px;"})),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${M.findHarness(W.harness,"colorNonstop")} !important;`},Object(n.h)("span",{class:"float-right"},it<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",it," days")),W.birth&&Object(n.h)("span",{class:"mr-2"},r.a.age(W.birth,W.deceased)),"female"===W.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"})),Object(n.h)("h5",null,W.shortname||W.name," ",W.shortname&&""!==W.shortname&&Object(n.h)(t,null," - ",Object(n.h)("span",{class:"font-weight-lighter"},W.name)),ct&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(n.h)("div",null,W.birth&&Object(n.h)(t,null,Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-hand-holding-heart"})," ",r.a.isoDate(W.birth,!1,!1,!0)))),Object(n.h)("div",null,tt&&tt.length>0&&Object(n.h)("small",{class:"font-weight-lighter"},tt.map((e,s)=>Object(n.h)(t,null,s>0?", ":"",e)))),Object(n.h)("div",null,Object(n.h)("small",{class:"text-muted"},W.chipId&&W.chipId.length>5&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-microchip"})," ",W.chipId),W.weight>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",r.a.format(W.weight,1)," kg"),W.bodyScore>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",r.a.format(W.bodyScore,1)))),Object(n.h)("div",null,K&&K.filter(t=>t.dogId===W.id).map(t=>Object(n.h)("span",{class:"badge badge-success mr-2",title:r.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(n.h)("span",{class:"font-weight-lighter ml-3"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",r.a.isoDate(t.endDate,!1,!1,!0))))),Object(n.h)("div",null,B&&B.filter(t=>t.dogId===W.id).map(t=>Object(n.h)("span",{class:"badge badge-warning mr-2",title:r.a.isoDate(t.endDate,!1,!1,!0)},t.title))),Object(n.h)("div",null,W.specialNeeds&&Object(n.h)("span",{class:"badge badge-warning mr-2"},Object(n.h)("i",{class:"fas fa-exclamation-triangle"})," ",W.specialNeeds),G&&G.class&&Object(n.h)("span",{class:`badge badge-${G.class} mr-2`},G.icon&&Object(n.h)("i",{class:G.icon})," ",G.name),q&&q.map(e=>Object(n.h)(t,null,e&&e.class&&Object(n.h)("span",{class:`badge badge-${e.class} mr-2`},e.icon&&Object(n.h)("i",{class:e.icon})," ",e.name))),J&&J.class&&Object(n.h)("span",{class:`badge badge-${J.class||"primary"} mr-2`},J.icon&&Object(n.h)("i",{class:J.icon})," ",J.name))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-pen-nib"})," ",Object(n.h)(b.c,{id:"dogs.info"},"Info")),"info"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"stats"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(b.c,{id:"dogs.stats"},"Stats")),"stats"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"pictures"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-images"})," ",Object(n.h)(b.c,{id:"dogs.pictures"},"Pictures")),"pictures"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"workouts"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-running"})," ",Object(n.h)(b.c,{id:"dogs.workouts"},"Workouts")),"workouts"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"fitness"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"fitness",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(b.c,{id:"dogs.fitness"},"Fitness")),"fitness"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"relations"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"relations",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(b.c,{id:"dogs.relations"},"Relations")),"relations"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"log"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"log",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-history"})," ",Object(n.h)(b.c,{id:"dogs.log"},"Log")),"log"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"trophy"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"trophy",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-award"})," ",Object(n.h)(b.c,{id:"dogs.trophy"},"Trophy case")),"trophy"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"achievements"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-clock"})," ",Object(n.h)(b.c,{id:"dogs.achievements"},"Achievements")),"achievements"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"links"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"links",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-link"})," ",Object(n.h)(b.c,{id:"dogs.links"},"Links")),"links"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"veterinary"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"veterinary",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-syringe"})," ",Object(n.h)(b.c,{id:"dogs.veterinary"},"Veterenary")),"veterinary"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===d?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-cogs"})," ",Object(n.h)(b.c,{id:"dogs.advanced"},"Advanced")),"advanced"===d&&Object(n.h)(L.a,{horizontal:"center",vertical:"end"}))))))),"info"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(b.c,{id:"dogs.info-about"},"Informasjon om")," ",W.name),!W.description&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-pen-nib"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(b.c,{id:"dogs.add-description"},"Gå inn på endring av hunden for å legge inn en beskrivelse.")))),Object(n.h)(u.a,{markdown:g.a.replaceImages(W.description,W.images,U),markdownOpts:g.a.getMarkdownOptions()})))),"stats"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(O.a,{stores:this.props.stores,isLoading:!1,key:`graph-${V.id}-${X.length}`}),Object(n.h)(I.a,{stores:this.props.stores,currentTeam:W.team,currentSeason:R,prevSeason:_,key:`totals-${W.id}-${Object.keys(R).length}-${Object.keys(_).length}`}),Object(n.h)(D.a,{stores:this.props.stores,dog:W.id,key:`status-${W.id}-${Object.keys(R).length}-${Object.keys(_).length}`})),R.positions&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",null," "),Object(n.h)("th",null,"Lead"),Object(n.h)("th",null,"Point"),Object(n.h)("th",null,"Team"),Object(n.h)("th",null,"Wheel"))),Object(n.h)("tbody",null,Object(n.h)("tr",null,Object(n.h)("th",null,Object(n.h)(b.c,{id:"workouts.distance"},"Distance")),Object(n.h)("td",{class:"text-center"},Object(n.h)(T.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","lead","distanceKm")||0})," "),Object(n.h)("td",{class:"text-center"},Object(n.h)(T.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","point","distanceKm")||0})," "),Object(n.h)("td",{class:"text-center"},Object(n.h)(T.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","team","distanceKm")||0})," "),Object(n.h)("td",{class:"text-center"},Object(n.h)(T.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","wheel","distanceKm")||0})," ")),Object(n.h)("tr",null,Object(n.h)("th",null,Object(n.h)(b.c,{id:"workouts.duration"},"Duration")),Object(n.h)("td",{class:"text-center"},r.a.secToHms(r.a.asNumber(R,"positions","lead","duration")||0,!0)),Object(n.h)("td",{class:"text-center"},r.a.secToHms(r.a.asNumber(R,"positions","point","duration")||0,!0)),Object(n.h)("td",{class:"text-center"},r.a.secToHms(r.a.asNumber(R,"positions","team","duration")||0,!0)),Object(n.h)("td",{class:"text-center"},r.a.secToHms(r.a.asNumber(R,"positions","wheel","duration")||0,!0))),Object(n.h)("tr",null,Object(n.h)("th",null,Object(n.h)(b.c,{id:"workouts.ascend"},"Ascend")),Object(n.h)("td",{class:"text-center"},Object(n.h)($.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","lead","elevation")||0})),Object(n.h)("td",{class:"text-center"},Object(n.h)($.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","point","elevation")||0})),Object(n.h)("td",{class:"text-center"},Object(n.h)($.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","team","elevation")||0})),Object(n.h)("td",{class:"text-center"},Object(n.h)($.a,{stores:this.props.stores,value:r.a.asNumber(R,"positions","wheel","elevation")||0}))))))))),"pictures"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(b.c,{id:"dogs.pictures-of"},"Bilder av")," ",W.name),Object(n.h)("div",{class:"row"},(!W.images||0===W.images.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-images"})),Object(n.h)("h3",null,Object(n.h)(b.c,{id:"dogs.no-images-title"},"No images for this dog!")),Object(n.h)(b.c,{id:"dogs.no-images-text"},"You can add more images to this dog. Puppy pictures, workout pictures, lazy summer pictures, etc. All is a nice way to create a better profile for this dog."))),Object(n.h)(x.a,{stores:this.props.stores,images:W.images}))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5 bg-light py-4 border rounded-lg"},Object(n.h)(N,{saved:Z,dog:W,field:"imageOther",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(n.h)(b.c,{id:"dogs.photo"},"Bilde"),help:Object(n.h)(b.c,{id:"dogs.photo-help"},"Bilder av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!1})))),"workouts"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)(f.a,{stores:this.props.stores,dog:W,basehref:`/dogs/${W.id}/`,month:p,year:C,key:`calendar-${V.id}-${X.length}`}))),"relations"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"container-fluid mb-5 mt-4"},Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.birth"},"Født")),Object(n.h)("h3",null,r.a.isoDate(W.birth,!1,!1,!0))),W.deceased&&Object(n.h)("div",{class:"col text-center border-left"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.deceased"},"Død")),Object(n.h)("h3",null,r.a.isoDate(W.deceased,!1,!1,!0)))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.team"},"Team")),Object(n.h)("h3",null,W.team&&M.findTeam(W.team)))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.mother"},"Mor")),st?Object(n.h)(w.a,{stores:this.props.stores,dog:st,fullWidth:!0}):Object(n.h)(t,null,Object(n.h)("h3",null,W.motherName),Object(n.h)("div",null,W.motherChipId&&Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-microchip"})," ",W.motherChipId)))),Object(n.h)("div",{class:"col text-center border-left"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.father"},"Far")),at?Object(n.h)(w.a,{stores:this.props.stores,dog:at,fullWidth:!0}):Object(n.h)(t,null,Object(n.h)("h3",null,W.fatherName),Object(n.h)("div",null,W.fatherChipId&&Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-microchip"})," ",W.fatherChipId))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.siblings"},"Søsken")),Object(n.h)("div",{class:"row"},lt&&lt.map(t=>Object(n.h)(w.a,{stores:this.props.stores,dog:t}))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.children"},"Avkom")),Object(n.h)("div",{class:"row"},ot&&ot.map(t=>Object(n.h)(w.a,{stores:this.props.stores,dog:t}))))))))),"log"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(v.a,{stores:this.props.stores,dog:W,className:"btn-block btn-primary btn-lg"})),Object(n.h)("div",{class:"offset-0 col-12 mt-5"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("h5",{class:"mt-3"},Object(n.h)(b.c,{id:"dogs.log-for"},"Logg for")," ",W.name)),m?Object(n.h)(t,null,Object(n.h)(y.a,{stores:this.props.stores,basehref:`/dogs/${W.id}/history/`,dog:W,month:p,year:C,callback:this.setHistoryType,key:`calendar-history-${W.id}-${r.a.getNestedValue(W,"history.length")}`}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("button",{class:"btn btn-block btn-link",onClick:this.toggleCalendar},Object(n.h)("i",{class:"fas fa-angle-up"})," ",Object(n.h)(b.c,{id:"dogs.hide-calendar"},"Hide Calendar")))):Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("button",{class:"btn btn-block btn-link",onClick:this.toggleCalendar},Object(n.h)("i",{class:"fas fa-angle-down"})," ",Object(n.h)(b.c,{id:"dogs.show-calendar"},"Show Calendar")))),!Q&&Object(n.h)("div",{class:"text-muted"},Object(n.h)(b.c,{id:"dogs.log-for-is-empty",fields:{name:W.name}},"Loggen til ",W.name," er tom")),W.history&&W.history.reverse().map(t=>Object(n.h)(j.a,{stores:this.props.stores,line:t}))))))),"trophy"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!W.trophys||0===W.trophys.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-award"})),Object(n.h)("h3",null,Object(n.h)(b.c,{id:"dogs.no-trophys-title"},"No trophys for this dog!")),Object(n.h)(b.c,{id:"dogs.no-trophys-text"},"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys."))),Object(n.h)("div",{class:"row"},W.trophys&&W.trophys.reverse().map(t=>{const e=g.a.getTrophyImage(t.name);if(!e)return"";const s=t.descriptionHeader&&t.descriptionHeader[U]?t.descriptionHeader[U]:"",a=t.description&&t.description[U]?t.description[U]:"";return Object(n.h)("div",{class:"col-4 mt-3"},Object(n.h)("div",{class:"mb-2"},Object(n.h)("img",{src:e,class:"img-fluid"})),Object(n.h)("strong",null,s),Object(n.h)("small",null,Object(n.h)("details",null,Object(n.h)("summary",null,Object(n.h)(b.c,{id:"dogs.trophy-details"},"Details")),Object(n.h)(u.a,{markdown:g.a.replaceImages(a,W.images,U),markdownOpts:g.a.getMarkdownOptions()}))))}))))),"fitness"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(k.a,{stores:this.props.stores})))),"veterinary"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(b.c,{id:"dogs.vetenary-approved-vaccines"},"Vetenary approved vaccines")),(!et||0===et.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-syringe"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(b.c,{id:"dogs.add-veterinary"},"Kontakt din veterinær og be om at vaksinene godkjennes i appen.")))),Object(n.h)("div",{class:""},et&&et.map(e=>Object(n.h)("div",{class:"col-12 mt-2 p-3 border rounded-lg bg-light"},Object(n.h)("span",{class:`float-right badge badge-${e.inKarens?"warning":"success"} ml-2 mb-1`},Object(n.h)("span",{class:"font-weight-lighter ml-2"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",r.a.isoDate(e.vaccineAgens.durationEnd,!1,!1,!0),e.inKarens&&Object(n.h)(t,null,Object(n.h)("br",null),"(",Object(n.h)(b.c,{id:"dogs.vaccine-karens"},"karens"),": ",r.a.format(e.karensDaysLeft,0)," ",Object(n.h)(b.c,{id:"dogs.vaccine-karens-days-left"},"days left"),")"))),Object(n.h)("h5",null,e.vaccineAgens.name),Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(b.c,{id:"dogs.vaccine-date"},"Vaksinedato"),":")," ",r.a.isoDate(e.date,!1,!1,!0),Object(n.h)("br",null),Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(b.c,{id:"dogs.vaccine-veterinary"},"Veterinær"),":")," ",e.veterinaryFirstname," ",e.veterinaryLastname," <",e.veterinaryEmail,">",Object(n.h)("br",null))))))),"achievements"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!W.achievements||0===W.achievements.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-clock"})),Object(n.h)("h3",null,Object(n.h)(b.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(n.h)(b.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),W.achievements&&W.achievements.map(t=>Object(n.h)("div",{class:"col-12 p-1"},Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.createdDate,!1,!1,!0)),Object(n.h)("span",{class:"mr-2"},t.name),Object(n.h)("span",{class:"mr-2"},t.url)))))),"links"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!W.links||0===W.links.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-link"})),Object(n.h)("h3",null,Object(n.h)(b.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(n.h)(b.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),W.links&&W.links.map(t=>Object(n.h)("div",{class:"col-12 p-1"},Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.createdDate,!1,!1,!0)),Object(n.h)("span",{class:"mr-2"},t.name),Object(n.h)("span",{class:"mr-2"},t.url)))))),"advanced"===d&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!W.files||0===W.files.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-file"})),Object(n.h)("h3",null,Object(n.h)(b.c,{id:"dogs.no-files-title"},"No files attached to this dog!")),Object(n.h)(b.c,{id:"dogs.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),W.files&&W.files.map(t=>Object(n.h)("div",{class:"d-flex"},Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.createdDate,!1,!1,!0)),Object(n.h)("span",{class:"mr-2"},Object(n.h)("a",{href:t.s3Link,target:"_blank",rel:"noreferrer"},t.name)),Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.formatBytes(t.size,1))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5 bg-light py-4 border rounded-lg"},Object(n.h)(b.b,null,Object(n.h)(N,{saved:Z,dog:W,field:"files",type:"file",icon:"fas fa-file",stores:this.props.stores,title:Object(n.h)(b.c,{id:"dogs.files"},"Files"),help:Object(n.h)(b.c,{id:"dogs.files-help"},"Filer til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"mt-5 pt-5 mb-5"},Object(n.h)("button",{class:"btn btn-sm btn-danger mt-5 float-right",onClick:this.deleteDog},Object(n.h)("i",{class:"fas fa-trash"})," ",Object(n.h)(b.c,{id:"dogs.delete"},"Slett")," ",W.name))))))}})||i;e.default=E}.call(this,s("hosL").Fragment)},wM2g:function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var l,c=s("hosL"),i=(s("Utv1"),s("/eY4")),n=s("OhSV");s("ZOvn");const r={};Object(i.a)(l=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r)}render(){return Object(c.h)("span",{class:"badge badge-pill badge-warning float-right"},Object(c.h)("i",{class:"fas fa-award mr-2"})," ",Object(c.h)(n.c,{id:"premium.title"},"Premium"))}})},xDik:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),l=s("Utv1"),c=s("/eY4"),i=s("OhSV"),n=s("ZOvn"),r=(s("UJvz"),s("1OK2"),s("s4FZ")),h=s("ETxl"),d=s.n(h);const b=n.a.getVaccineTypes();let m=Object(c.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.showModal=t=>{t.stopPropagation(),t.preventDefault();this.setState({displayModal:!0,currentImage:t.target.dataset.image,currentImageXXL:t.target.dataset.imagexxl,thumb:t.target.dataset.thumb,name:t.target.dataset.name,title:t.target.dataset.title,date:t.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.toggleDate=()=>{const{showDate:t}=this.state;this.setState({showDate:!t})},this.touchStart=t=>{const{eventFired:e}=this.state;e||this.setState({startY:t.touches[0].pageY,startX:t.touches[0].pageX,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchEnd=()=>{const{eventFired:t}=this.state;this.setState(t?{startY:void 0,startX:void 0}:{startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchMove=t=>{const{eventFired:e}=this.state;if(e)return!1;const{startY:s,startX:a}=this.state,o=t.touches[0].pageY,l=t.touches[0].pageX;this.setState({diffY:o-s,diffX:l-a}),o>s+130||o<s-130||l>a+130||l<a-130&&this.setState({eventFired:!0})},this.reset=t=>{t&&(t.stopPropagation(),t.preventDefault()),this.setState({deleted:!1,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.deleteHistoryRequest=async function(t){t.stopPropagation(),e.setState({deleteVerify:!0})},this.deleteHistory=async function(t){t.stopPropagation();const{dogStore:s}=e.props.stores,{line:a}=e.props;await s.save({id:a.dogId,$pull:{history:{_id:a.id||a._id}}}),e.setState({deleted:!0,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.swipeLeft=t=>{const{eventFired:e}=this.state;t.stopPropagation(),e?this.reset():this.setState({eventFired:!0,diffX:-130})},this.state={showDate:!1}}componentWillReceiveProps(t){t.line.id!==this.props.line.id&&this.reset()}render(){const{userStore:e}=this.props.stores,{user:s}=e,{language:a="en"}=s,c=n.a.getHistoryMap(a),{showDate:h}=this.state,{line:m}=this.props,{diffX:u,deleted:p,deleteVerify:g}=this.state,O=m.images&&m.images.length>0,f=u<0;return Object(o.h)("div",{class:"w-100 mb-4 position-relative "+d.a.hoverElement,onTouchstart:p?()=>{}:this.touchStart,onTouchend:p?()=>{}:this.touchEnd,onTouchmove:p?()=>{}:this.touchMove,onClick:!p&&f?this.reset:()=>{},style:`opacity: ${p?.3:1};`},!f&&!p&&Object(o.h)("div",{class:"position-absolute "+d.a.hoverelementonly,style:"top: 0px; right: 0px; z-index: 1000;"},Object(o.h)("button",{class:"btn btn-sm btn-secondary",type:"button",onClick:this.swipeLeft},Object(o.h)("i",{class:"fas fa-ellipsis-h"}))),f&&!p&&Object(o.h)("div",{class:"position-absolute",style:`right: 0px; top: 10%; overflow: hidden; width: ${Math.abs(u)||0}px; line-height: 0.8em;`},!m.grouped&&Object(o.h)(t,null,g?Object(o.h)(t,null,Object(o.h)("button",{class:"btn btn-sm btn-secondary float-right ml-3 mb-3",onClick:this.reset},Object(o.h)("i",{class:"fas fa-times"})," ",Object(o.h)(i.c,{id:"dog.history.no"},"Nei")),Object(o.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.deleteHistory},Object(o.h)("i",{class:"fas fa-check"})," ",Object(o.h)(i.c,{id:"dog.history.yes"},"Ja"))):Object(o.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteHistoryRequest},Object(o.h)("i",{class:"fas fa-trash"})," ",Object(o.h)(i.c,{id:"dog.history.delete"},"Slett"))),m.grouped&&Object(o.h)("small",null,Object(o.h)(i.c,{id:"dog.history.cant-delete-groups"},"Kan ikke slette grupperinger. Gå inn på hundene og slett der."),Object(o.h)("br",null),Object(o.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.reset},Object(o.h)("i",{class:"fas fa-check"})," Ok"))),Object(o.h)("div",{class:"row position-relative",style:`left: ${f?u:0}px;`},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},m.dogImage?Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:m.dogImage?`background-image: url("${m.dogImage.s3SmallLink}"); background-size: cover;`:""}," "):Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:m.images&&m.images[0]?`background-image: url("${m.images[0].s3SmallLink}"); background-size: cover;`:""},!O&&Object(o.h)("i",{class:"fas fa-rss text-muted mt-2",style:"font-size: 20px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"line-height: 1.0em;"},!m.grouped&&m.dogId&&Object(o.h)("a",{class:"stretched-link",href:"/dogs/"+m.dogId},Object(o.h)("strong",{class:"mr-2"},m.dogShortname||m.dogName,": ")),m.title,Object(o.h)("br",null),m.grouped&&Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 clearfix mt-2"},m.grouped.map(e=>Object(o.h)(t,null,Object(o.h)("a",{href:"/dogs/"+e.dogId},e.dogImage?Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left",style:"margin-right: 2px; "+(e.dogImage?`background-image: url("${e.dogImage.s3SmallLink}");`:"")}," "):Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left text-muted pt-1",style:"margin-right: 2px; "+(e.images&&e.images[0]?`background-image: url("${e.images[0].s3SmallLink}");`:"")},!O&&Object(o.h)("span",{style:"font-size: 15px;"},l.a.ucfirst(e.dogName,!0))))))),Object(o.h)("div",{class:"w-100 clearfix mt-2"},Object(o.h)("small",null,m.grouped.map(t=>Object(o.h)("span",{class:"float-left mr-2 text-muted"},Object(o.h)("a",{href:"/dogs/"+t.dogId},t.dogShortname||t.dogName)))))),Object(o.h)("div",{class:"w-100 clearfix"},Object(o.h)("small",{class:"text-muted"},m.date&&Object(o.h)("small",{onClick:this.toggleDate},h?l.a.formatDate(m.date,{locale:"no-NB"}):l.a.formatDistance(m.date,new Date,{locale:"no-NB"}),m.endDate&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-hourglass-end"})," ",l.a.formatDate(m.endDate,{locale:"no-NB"})),m.historyType&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-folder-open"})," ",c[m.historyType]," ",m.vaccineType?" - "+b[m.vaccineType].name:""),m.weight&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-balance-scale"})," ",m.weight," kg"),m.bodyScore&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-dog"})," ",m.bodyScore),m.user&&m.user.email&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-user"})," ",m.user.email)))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("span",{class:"font-weight-normal"},m.comment),Object(o.h)("span",{class:"float-right"},m.cost?"Kr. "+l.a.format(m.cost,2):""))))),Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1"},Object(o.h)("div",{class:"row"},Object(o.h)(r.a,{stores:this.props.stores,images:m.images})))))}})||a;e.a=m}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=7.chunk.0ef7e.esm.js.map