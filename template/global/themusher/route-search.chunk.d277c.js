(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{ISGx:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),l=s("Utv1"),i=s("/eY4"),h=s("cneo"),d=s("OhSV"),u=s("fh8t"),b=s.n(u),m=s("s4FZ"),p=s("ZQlJ"),f=s("sqi2"),O=s("/922"),j=s("eQ6k"),g=s("+JSK"),v=s("vY+r"),w=s("nHdA"),k=s("irB3"),y=s("UwwE"),x=s("8Lgr"),S=s("QkTp"),T=s("ZOvn"),C={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:15,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},D=Object(i.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleDate=function(t){t.stopPropagation(),t.preventDefault(),s.setState({showDate:!s.state.showDate})},s.likeWorkout=function(t){return new Promise((function(e,o){var a,c,r,n;return a=parseInt(t.target.closest(".imageContainer").dataset.id,10),c=s.props.stores.workoutStore,(r=s.state.likeWorkout)[a]=!0,s.setState({likeWorkout:r}),setTimeout((function(){var t=s.state.likeWorkout;delete t[a],s.setState({likeWorkout:t})}),1200),Promise.resolve(c.likeWorkout({id:a})).then((function(t){try{return(n=t)&&200===n.status&&s.addLikeToFeed(a,n.data),e()}catch(t){return o(t)}}),o)}))},s.addCommentToFeed=function(t){var e=t.workout,o=t.response,a=t.commentId,c=t.replyId,r=s.props.stores.teamStore;switch(t.type){case"likeComment":r.addLikeToComment({id:e.id,data:o.data,commentId:a});break;case"likeReply":r.addLikeToCommentReply({id:e.id,data:o.data,commentId:a,replyId:c});break;default:a?r.addCommentToWorkoutComment({id:e.id,data:o.data,commentId:a}):r.addCommentToWorkout({id:e.id,data:o.data})}},s.addLikeToFeed=function(t,e){s.props.stores.teamStore.addLikeToWorkout({id:t,data:e})},s.toggleAddComment=function(t){var e=t.target.closest("button").dataset.id,o=s.state.showAddComment;o[e]?delete o[e]:o[e]=!0,s.setState({showAddComment:o},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.shareLink=function(t){var e=t.target.closest("button").dataset;s.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},s.state=a({},C),s.inputRef={},s.containerRef=null,s}var o,c;return c=e,(o=s).prototype=Object.create(c.prototype),o.prototype.constructor=o,o.__proto__=c,s.prototype.render=function(){var e,s=this,o=this.props,c=o.feed,r=o.onTeamClick,i=void 0===r?function(){}:r,u=o.onUserClick,C=void 0===u?function(){}:u,D=o.onDogClick,A=void 0===D?function(){}:D,R=this.state,P=R.showAddComment,I=R.showDate,F=R.likeWorkout,L=this.props.stores,W=L.teamStore,q=L.userStore,_=L.appState,U=q.user,N=q.isAdmin,z=U.language,M=void 0===z?"en":z,E=_.hasShareApi,B=W.publicDogs,V=W.findPublicTeam(c.team)||{},K=(q.findTeamAmbition({ambition:V.ambitions,language:M}),q.findTeamType({type:V.type,language:M})),Y=!(!V||!V.members)&&V.members.some((function(t){return t===U.id}));V.image&&V.image.s3SmallLink?e=V.image:V.images&&V.images[0]&&V.images[0].s3SmallLink&&(e=V.images[0]);var H=c.likes,J=c.comments,G=c.likes&&c.likes.findIndex((function(t){return t.user===U.id}))>-1,Q=V&&V.followers?V.followers.length:0,Z=V.members&&V.members.indexOf(U.id)>-1,X=V&&V.followers&&V.followers.indexOf(U.id)>-1,$=V.followRequests&&V.followRequests.findIndex((function(t){return t.id===U.id}))>-1,tt=q.findEquipment({equipment:c.equipment,language:M}),et=q.findEquipment({equipment:c.equipment,field:"icon"}),st=[];if(c.mapImage&&st.push(a(a({},c.mapImage),{},{type:"map"})),c.images){var ot=Object(h.i)(c.images);st.push.apply(st,ot)}var at=c.currentLocationGeocode,ct=void 0===at?{}:at,rt=T.a.getViews(c.statistics),nt=T.a.getAdminData(c.statistics);return V&&V.name?Object(n.h)(t,null,Object(n.h)("div",{class:"d-flex position-relative"},Object(n.h)("div",{class:"text-center"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:e?'background-image: url("'+e.s3SmallLink+'"); background-size: cover;':""},!e&&Object(n.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(n.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(n.h)("span",{class:"badge badge-pill badge-secondary float-right"},K),Object(n.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em;"},V.public?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+V.uuidv4,onClick:function(t){return i(t,V.uuidv4)},class:"stretched-link"},V.name)):Object(n.h)(t,null,V.name)),Object(n.h)("div",{class:"mb-2"},c.date&&Object(n.h)("small",{class:"text-muted",onClick:this.toggleDate},I?l.a.formatDate(c.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):l.a.formatDistance(c.date,new Date,{locale:"no-NB"})),1===c.public?Object(n.h)(t,null,Object(n.h)("small",{class:"ml-2 text-muted"},Object(n.h)("i",{class:"fas fa-globe-europe"}))):Object(n.h)(t,null,Object(n.h)("small",{class:"ml-2 text-muted"},Object(n.h)("i",{class:"fas fa-users"})," (",l.a.format(Q),")")),Object(n.h)("small",{class:"text-muted"},c.equipment>0&&Object(n.h)(t,null,Object(n.h)("i",{class:et+" ml-2"})," ",tt),c.dogs>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",c.dogs.length),c.track>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-map-marked text-"+(c.track>0?"success":"danger")+" ml-2"})),c.sledWeight>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(n.h)(y.a,{stores:this.props.stores,value:c.sledWeight})),0!==c.temperature&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(n.h)(S.a,{stores:this.props.stores,value:c.temperature})),c.dogs&&c.dogs.length>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",l.a.format(c.dogs.length,0)),ct&&ct.formattedCounty&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-map-marker-alt ml-2"})," ",ct.formattedCounty))),N&&Object(n.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(n.h)("small",{class:"text-muted mr-2"},"Adm:"),ct&&ct.formatted_address&&Object(n.h)(t,null,Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-map-marker-alt"})," ",ct.formatted_address)),nt&&Object(n.h)(t,null,Object(n.h)("small",{class:"ml-2 text-muted"},"V: ",nt.count),Object(n.h)("small",{class:"ml-2 text-muted"},"R: ",nt.ranking," ",l.a.isNumber(nt.rankingTrend)&&Object(n.h)(t,null,Object(n.h)("i",{class:T.a.getClassForTrend(nt.rankingTrend)}))),Object(n.h)("small",{class:"ml-2 text-muted"},"D: ",l.a.format(nt.durationAvg/1e3,1),"s ",l.a.isNumber(nt.durationAvgTrend)&&Object(n.h)(t,null,Object(n.h)("i",{class:T.a.getClassForTrend(nt.durationAvgTrend)}))),c.statisticsCurrent&&c.statisticsCurrent.totalInteractions>0&&Object(n.h)("small",{class:"ml-2 text-muted"},"S: ",l.a.format(c.statisticsCurrent.totalInteractions,0)),c.shadowTags&&c.shadowTags.map((function(e){return Object(n.h)(t,null,Object(n.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},e))})))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;"},Object(n.h)(b.a,{markdown:T.a.replaceImages(c.name,c.images,M),markdownOpts:T.a.getMarkdownOptions()})),Object(n.h)("div",{class:"clearfix col-12"},Object(n.h)(b.a,{markdown:T.a.replaceImages(c.comment,c.images,M),markdownOpts:T.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"row mt-1"},c.distanceKm>0&&Object(n.h)("div",{class:"col-3"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-road"})," ",Object(n.h)(d.c,{id:"workout.calendar.distance"},"Distanse"))),Object(n.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(n.h)(x.a,{stores:this.props.stores,value:c.distanceKm}))),c.elevation>0&&Object(n.h)("div",{class:"col-3"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(d.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(n.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(n.h)(k.a,{stores:this.props.stores,value:c.elevation}))),c.duration>0&&Object(n.h)("div",{class:"col-3"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-clock"})," ",Object(n.h)(d.c,{id:"workout.calendar.duration"},"Varighet"))),Object(n.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},l.a.secToHms(c.duration,!0))),c.speedAvg>0&&Object(n.h)("div",{class:"col-3"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(d.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(n.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(n.h)(w.a,{stores:this.props.stores,value:c.speedAvg})))),Object(n.h)("div",{class:"container-fluid px-0 mt-1"},Object(n.h)("div",{class:"row"},Object(n.h)(m.a,{stores:this.props.stores,images:st,id:c.id,dblClick:this.likeWorkout,likeRef:F}))),c.dogs&&c.dogs.length>0&&Object(n.h)("div",{class:"container-fluid px-0 mt-1"},Object(n.h)("div",{class:"row pt-2"},Object(n.h)(p.a,{stores:this.props.stores,dogs:c.dogs,allDogs:B,onDogClick:A}))),Object(n.h)("div",{class:"mt-2"},Object(n.h)(g.a,{stores:this.props.stores,likes:H,comments:J,type:"team",onTeamClick:i,onUserClick:C})),!Z&&!X&&!$&&Object(n.h)("div",{class:"clearfix mb-2"},Object(n.h)(j.a,{stores:this.props.stores,team:V,buttonOnly:!0})),Object(n.h)("div",null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("button",{type:"button",class:"imageContainer btn btn-sm btn-outline-"+(G?"primary":"secondary")+" btn-lg btn-block "+(G?"text-primary":"")+" text-overflow","data-id":c.id,onClick:this.likeWorkout},Object(n.h)("i",{class:(G?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(n.h)(d.c,{id:"comments.like"},"Lik"))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":c.id,onClick:this.toggleAddComment},Object(n.h)("i",{class:"fas fa-comment"})," ",Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar"))),E?Object(n.h)(t,null,Object(n.h)("div",{class:"col text-center"},Object(n.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+c.uuidv4,"data-title":"title: "+c.title},Object(n.h)("i",{class:"fas fa-share"})," ",Object(n.h)(d.c,{id:"story.share"},"Del")))):Object(n.h)(t,null,Object(n.h)("div",{class:"col text-center"},Object(n.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+c.uuidv4,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fas fa-share"})," ",Object(n.h)(d.c,{id:"story.share"},"Del")))))),rt>0&&Object(n.h)(t,null,Object(n.h)("div",{class:"mt-2"},Object(n.h)(v.a,{stores:this.props.stores,views:rt,object:c,type:"team",isTeamAdmin:Y,isAdmin:N,onTeamClick:i,onUserClick:C}))),Object(n.h)("div",{class:"mt-2"},P[c.id]&&Object(n.h)(O.a,{stores:this.props.stores,workout:c,inputRef:function(t){return s.inputRef[c.id]=t},inputRefObject:this.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:this.addCommentToFeed}),Object(n.h)(f.a,{stores:this.props.stores,workout:c,col:"12",offset:"0",compact:!1,callback:this.addCommentToFeed}))):""},s}(n.Component))||r;e.a=D}).call(this,s("hosL").Fragment)},ZQlJ:function(t,e,s){"use strict";var o,a=s("hosL"),c=(s("Utv1"),s("/eY4")),r=(s("OhSV"),s("NDEG")),n=Object(c.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).scrollImages=function(t){var e=t.target,o=e.scrollLeft/e.clientWidth,a=Math.round(o),c=Math.abs(a-o);(Number.isInteger(o)||c<.1)&&s.setState({imageIdx:a})},s.sortByName=function(t,e){var o=s.props.allDogs,a=void 0===o?[]:o,c=a.find((function(e){return e.id===t})),r=a.find((function(t){return t.id===e}));return c&&r&&c.name>r.name?1:-1},s.state={imageIdx:0},s}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this,e=this.props,s=e.dogs,o=e.allDogs,c=void 0===o?[]:o,n=e.size,l=void 0===n?"medium":n,i=e.onDogClick,h=void 0===i?function(){}:i;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},s&&s.sort(this.sortByName).map((function(e){var o=c.find((function(t){return t.id===e}));return o?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(a.h)(r.a,{stores:t.props.stores,dog:o,dogs:c.filter((function(t){return s.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:l,onDogClick:h}))):""}))))},e}(a.Component))||o;e.a=n},bMs3:function(t,e,s){"use strict";var o,a=s("hosL"),c=s("Utv1"),r=s("/eY4"),n=s("OhSV"),l=s("nHdA"),i=s("irB3"),h=(s("UwwE"),s("8Lgr")),d=(s("QkTp"),Object(r.a)(o=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).requestFollowTeam=function(t){t.preventDefault(),t.stopPropagation();var s=e.props.stores,o=s.teamStore,a=s.userStore.user,c=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);o.followRequest(c,a),e.setState({requestSent:!0})},e.getButton=function(t){void 0===t&&(t="");var s=e.state.requestSent,o=e.props.stores.userStore.user,c=e.props,r=c.team,l=c.skipHome,i=r.members&&r.members.indexOf(o.id)>-1,h=r.followers&&r.followers.indexOf(o.id)>-1,d=r.blockedFollowers&&r.blockedFollowers.indexOf(o.id)>-1,u=s||r.followRequests&&r.followRequests.findIndex((function(t){return t.id===o.id}))>-1;return i?l?"":Object(a.h)("i",{class:"fas fa-home"}):h?Object(a.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",onClick:e.unFollowTeam,disabled:"true","data-team":r.id},Object(a.h)("i",{class:"fas fa-link mr-2"}),Object(a.h)(n.c,{id:"teams.connect.is-following"},"Følger")," ",t):d?"":u?Object(a.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(a.h)(n.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",t):r.public?Object(a.h)("button",{type:"button",class:"btn btn-sm btn-outline-success float-right",onClick:e.requestFollowTeam,"data-team":r.id},Object(a.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(a.h)(n.c,{id:"teams.connect.follow"},"Følg")," ",t):void 0},e}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props,e=t.team,s=t.showButton,o=this.props.stores,r=o.teamStore,n=o.userStore,d=(new Date).getMonth()+1,u=(new Date).getFullYear(),b=this.props,m=b.month,p=b.year,f=void 0===p?u:p,O=parseInt((void 0===m?d:m)<8?f-1:f,10),j=r.findWorkoutSummary(e.id,O)||{},g=n.user.language,v=void 0===g?"en":g,w=n.findTeamAmbition({ambition:e.ambitions,language:v}),k=n.findTeamType({type:e.type,language:v}),y=e.image&&e.image.s3SmallLink?e.image:null,x=this.props.url,S=void 0===x?"/teams/"+e.id:x;return Object(a.h)("div",{class:"w-100 mb-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(a.h)("div",{class:"position-relative d-flex flex-grow-1"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded",style:y?'background-image: url("'+y.s3SmallLink+'"); background-size: cover;':""},!y&&Object(a.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(a.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(a.h)("a",{class:"stretched-link",href:S},Object(a.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.name)),Object(a.h)("div",null,k&&Object(a.h)("span",{class:"badge badge-pill badge-secondary"},k),w&&Object(a.h)("span",{class:"badge badge-pill badge-secondary ml-2"},w)),Object(a.h)("small",{class:"text-muted"},e&&e.dogs&&Object(a.h)("span",{class:""},Object(a.h)("i",{class:"fas fa-dog"})," ",e.dogs.length),e&&e.members&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-user"})," ",e.members.length),j&&j.distanceKm>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-road"})," ",Object(a.h)(h.a,{stores:this.props.stores,value:j.distanceKm})),j&&j.elevation>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-mountain"})," ",Object(a.h)(i.a,{stores:this.props.stores,value:j.elevation})),j&&j.duration>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-clock"})," ",c.a.secToHms(j.duration)),j&&j.speedAvg>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(a.h)(l.a,{stores:this.props.stores,value:j.speedAvg}))))),s&&Object(a.h)("div",null,this.getButton()))))},e}(a.Component))||o);e.a=d},zc1A:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,r=s("hosL"),n=(s("Utv1"),s("/eY4")),l=s("OhSV"),i=s("go65"),h=s("Y3FI"),d=s("KDoM"),u=(s("JWe/"),s("bMs3")),b=s("w8dD"),m=(s("Gx/q"),s("NMoA")),p=s("ISGx"),f={submenu:"dogs",hits:0,searchText:""},O=Object(n.a)(c=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadAll=function(t){return new Promise((function(e,o){var a,c,r,n,l,i,h,d,u,b,m;return void 0===t&&(t=s.props),c=(a=s.props.stores).appState,r=a.storyStore,n=a.teamStore,l=t.search,Promise.resolve(c.getSearch(l)).then((function(){try{return h=c.publicUsers,r.localUpdateField("publicTeams",i=c.publicTeams),r.localUpdateField("publicUsers",h),n.localUpdateField("publicTeams",i),n.localUpdateField("publicUsers",h),u=["stories","dogs","workouts","teams","tracks","users"],b=(d=[c.searchResultStories,c.searchResultDogs,c.searchResultWorkouts,c.searchResultTeams,c.searchResultTracks]).map((function(t){return t.length})).indexOf(Math.max.apply(Math,d.map((function(t){return t.length})))),m=d.map((function(t){return t.length})).reduce((function(t,e){return t+e}),0),s.setState({searchText:l,submenu:u[b],hits:m}),e()}catch(t){return o(t)}}),o)}))},s.search=function(){var t=s.state.searchText;Object(h.route)("/search/"+t,!0)},s.chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},f),s}var c,n;n=e,(c=s).prototype=Object.create(n.prototype),c.prototype.constructor=c,c.__proto__=n;var O=s.prototype;return O.componentDidMount=function(){this.loadAll()},O.componentWillReceiveProps=function(t){t.search!==this.props.search&&this.loadAll(t)},O.render=function(){var e=this,s=this.props.stores,o=s.appState,a=this.props.search,c=o.searchResultStories,n=o.searchResultDogs,h=o.searchResultWorkouts,f=o.searchResultTeams,O=o.searchResultTracks,j=this.state,g=j.submenu,v=j.hits,w=j.searchText;return Object(r.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h1",null,Object(r.h)(l.c,{id:"search.title"},"Search")),Object(r.h)("h5",{class:"my-3"},Object(r.h)(l.c,{id:"search.search-for",fields:{search:a,hits:v}},v,' in your search for "',a,'"')),Object(r.h)("div",{class:"d-flex justify-content-center py-3"},Object(r.h)(l.b,null,Object(r.h)("input",{class:"form-control form-control mr-2",type:"search",placeholder:Object(r.h)(l.c,{id:"header.search-placeholder"},"Søk etter det meste..."),value:w,onInput:Object(i.a)(this,"searchText")})),Object(r.h)("button",{class:"btn btn-outline-success",type:"button",onClick:this.search},Object(r.h)(l.c,{id:"header.search"},"Søk")))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col px-1 pt-2"},Object(r.h)("button",{class:"btn btn-block "+("dogs"===g?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-dog"})," ",Object(r.h)(l.c,{id:"search.dogs"},"Dogs")," (",n.length||0,")")),Object(r.h)("div",{class:"col px-1 pt-2"},Object(r.h)("button",{class:"btn btn-block "+("workouts"===g?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(l.c,{id:"search.workouts"},"Workouts")," (",h.length||0,")")),Object(r.h)("div",{class:"col px-1 pt-2"},Object(r.h)("button",{class:"btn btn-block "+("teams"===g?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"teams",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(l.c,{id:"search.teams"},"Teams")," (",f.length||0,")")),Object(r.h)("div",{class:"col px-1 pt-2"},Object(r.h)("button",{class:"btn btn-block "+("tracks"===g?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"tracks",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(r.h)(l.c,{id:"search.tracks"},"Tracks")," (",O.length||0,")")),Object(r.h)("div",{class:"col px-1 pt-2"},Object(r.h)("button",{class:"btn btn-block "+("stories"===g?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stories",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-comments"})," ",Object(r.h)(l.c,{id:"search.stories"},"Stories")," (",c.length||0,")")))),"dogs"===g&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12"},(!n||0===n.length)&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-dog"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"search.no-dogs-found"},"No dogs found.")))),n&&n.map((function(t){return Object(r.h)(d.a,{stores:e.props.stores,dog:t,url:"/dogs/public/"+t.uuidv4})})))),"workouts"===g&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},(!h||0===h.length)&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-running"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")))),h&&h.map((function(t,s){return Object(r.h)("div",{class:"row mb-4"},Object(r.h)("div",{class:"col-12 py-3"},Object(r.h)(p.a,{stores:e.props.stores,feed:t,idx:s})))})))),"teams"===g&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12"},(!f||0===f.length)&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-users"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"search.no-teams-found"},"No teams found.")))),f&&f.map((function(s){return Object(r.h)(t,null,Object(r.h)(u.a,{stores:e.props.stores,team:s,url:"/teams/public/"+s.uuidv4,showButton:!0}))})))),"tracks"===g&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12"},(!O||0===O.length)&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-map-marked-alt"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"search.no-tracks-found"},"No tracks found.")))),O&&O.map((function(t){return Object(r.h)(b.a,{stores:e.props.stores,track:t})})))),"stories"===g&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},(!c||0===c.length)&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-comments"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"search.no-stories-found"},"No stories found.")))),c&&c.map((function(t){return Object(r.h)("div",{class:"row mb-4"},Object(r.h)("div",{class:"col-12 py-3"},Object(r.h)(m.a,{stores:e.props.stores,story:t,key:"story-detail-"+t.id})))}))))))},s}(r.Component))||c;e.default=O}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-search.chunk.d277c.js.map