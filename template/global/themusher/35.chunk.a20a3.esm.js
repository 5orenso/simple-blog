(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),n=(s("Utv1"),s("/eY4"));const l={};let r=Object(n.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:t=>this.container=t}," ")}})||c;e.a=r},"1OK2":function(t,e,s){"use strict";var a,o=s("hosL"),c=(s("Utv1"),s("/eY4"));Object(c.a)(a=class extends o.Component{constructor(t){super(t),this.touchStart=t=>{t.stopPropagation(),this.setState({startX:t.touches[0].pageX})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=t=>{t.stopPropagation();const{totalImages:e}=this.state;if(e>1){const{startX:e,sliding:s}=this.state,a=50,o=t.touches[0].pageX;s||(o>e+a?(this.setState({sliding:!0}),this.prevImage()):o<e-a&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:e=[]}=t;this.state={imageContainer:1,currentImage1:e[0]||{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]}}nextImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state,o=1===a?2:1;let c=s+1;c>e-1&&(c=0),this.setState({["currentImage"+o]:t[c],currentIdx:c,imageContainer:o})}prevImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state;let o=s-1;o<0&&(o=e-1),this.setState({["currentImage"+(1===a?2:1)]:t[o],currentIdx:o,imageContainer:1===a?2:1})}componentWillReceiveProps(t){if(t.images!==this.props.images){const{images:e=[]}=t;this.setState({imageContainer:1,currentImage1:e.length>0?e[0]:{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]})}}render(){const{currentImage1:t,currentImage2:e,imageContainer:s,totalImages:a,imageDots:c,currentIdx:i}=this.state,n=this["image"+s],l=1===s?t:e,r=n&&n.height?n.width/n.height:4/3;let h,m;if(l.dimensions){const{width:t,height:e,orientation:s}=l.dimensions;s>4&&s<9?(h=t,m=e):(h=e,m=t)}const d=l.dimensions?m/h:r;return a<=0?"":Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${d}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},a>1&&Object(o.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(o.h)("small",null,i+1,"/",a)),t&&Object(o.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image1=t})),e&&Object(o.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image2=t}))),c.length>1&&Object(o.h)("div",{class:"w-100 text-center"},c.map(t=>Object(o.h)("span",{style:`color: ${t===i+1?"#ffffff":"#808080"};`},"•"))))}})},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return i.a.format(t,t<5?2:1)}var o,c=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(n.a)(o=class extends c.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:i}=o,{settings:n={}}=i;return n.imperial?Object(c.h)(t,null,Object(c.h)("nobr",null,a(function(t){return.621371*t}(e))," ",s?Object(c.h)(t,null,Object(c.h)("small",null,Object(c.h)("small",null,Object(c.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(c.h)(t,null,"mi"))):Object(c.h)(t,null,Object(c.h)("nobr",null,a(e)," ",s?Object(c.h)(t,null,Object(c.h)("small",null,Object(c.h)("small",null,Object(c.h)("small",{class:"ml-0 text-muted"},"km")))):Object(c.h)(t,null,"km")))}})||o;e.a=l}).call(this,s("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},K5BL:function(t,e,s){"use strict";var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),n=s("OhSV"),l=s("go65");s("ETxl"),s("ZOvn");let r=Object(i.a)(a=class extends o.Component{constructor(...t){var e;super(...t),e=this,this.commentTrack=async function(){const{callback:t=(()=>{}),commentId:s}=e.props,{track:a}=e.props,{trackStore:o}=e.props.stores,{comment:c=""}=e.state,i=await o.commentReplyTrack({id:a.id,commentId:s,comment:c});i&&200===i.status&&(e.setState({comment:""}),t({track:a,response:i}))}}render(){const{inputRef:t}=this.props,{comment:e}=this.state,{userStore:s}=this.props.stores,{user:a={}}=s,i=a.firstname?`${c.a.ucfirst(a.firstname,!0)}${c.a.ucfirst(a.lastname,!0)}`:""+c.a.ucfirst(a.email||"",!0),r=a.image||(a.images?a.images[0]:void 0);return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(r?`background-image: url('${r.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!r&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},i)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(n.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(n.b,null,Object(o.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(n.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),value:e,ref:t})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.commentTrack},Object(o.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;e.a=r},NPbb:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,n=s("hosL"),l=s("Utv1"),r=s("/eY4"),h=(s("OhSV"),s("ZOvn")),m=s("bbv7");s("nHdA"),s("irB3"),s("UwwE"),s("8Lgr"),s("QkTp");let d=Object(r.a)(i=class extends n.Component{render(){const{showTemperatur:e=!0}=this.props,{trackStore:s,userStore:a}=this.props.stores,{track:c={}}=s,{user:i}=a,{settings:r={}}=i,{gpx:d={},gpxInfo:b}=c,{gpxInfo:u={}}=d,p=o(o({},u),b),{speeds:g=[],elevations:f=[],temperatures:O=[],climbs:j=[],distances:k=[],ecor:v=[]}=p;let w=[],x=[],y=[],T=[],L=[];const S=[],R=[],I=[],C=[],D=[],P=[],$=[],_=[];if(f.length>0){const t=h.a.smoothArray(f,5).map((t,e)=>{return{x:e,y:r.imperial?(s=t,3.28084*s):t};var s});w.push(t),S.push("Elevation"),D.push("m")}if(e&&O.length>0){const t=h.a.smoothArray(O,2).map((t,e)=>{return{x:e,y:r.imperial?(s=t,9*s/5+32):t};var s});x.push(t),R.push("Temp"),P.push("°C")}if(j.length>0){const t=h.a.smoothArray(j,2).map((t,e)=>({x:e,y:t}));y.push(t),I.push("Climblevel"),$.push("%")}if(v.length>0){const t=h.a.smoothArray(v,2).map((t,e)=>({x:e,y:1e3*t}));L.push(t),C.push("ECOR (kcal/kg/km)"),_.push("kcal/kg/km")}const A=[];if(c.distanceKm>0){const t=r.imperial?.621371*c.distanceKm:c.distanceKm,e=l.a.range(0,Math.ceil(t),1),s=Math.ceil(e.length/5);Math.floor(e.length/s);for(let t=0,a=e.length;t<a;t+=s)A.push(e[t]);A.push(e[e.length-1])}return Object(n.h)(t,null,Object(n.h)("div",{class:"w-100 mt-3 mb-4"},Object(n.h)(m.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:t=>r.imperial?t+"mi":t+"km",xTicks:A,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:w,legendLeft:S,showYTicksLeft:1,yTicksLeftPostfix:r.imperial?"ft":"m",unitLeft:D,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:T,legendRight:[],showYTicksRight:T.length>0?1:0,yTicksRightPostfix:r.imperial?"mph":"km/t",unitRight:[],avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),x.length>0&&Object(n.h)("div",{class:"w-100 mt-3 mb-4"},Object(n.h)(m.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:t=>r.imperial?t+"mi":t+"km",xTicks:A,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:x,legendLeft:R,yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:"°C",unitLeft:P,avgWindowLeft:[0],smoothLeft:[1]})),y.length>0&&Object(n.h)("div",{class:"w-100 mt-3 mb-4"},Object(n.h)(m.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:t=>r.imperial?t+"mi":t+"km",xTicks:A,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:y,legendLeft:I,yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:"%",unitLeft:$,avgWindowLeft:[0],smoothLeft:[1],dataRight:L,legendRight:C,showYTicksRight:L.length>0?1:0,yTicksRightVal:t=>l.a.format(t/1e3,2),unitRight:_,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))}})||i;e.a=d}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(i.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(function(t){return 9*t/5+32}(e),0),"°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(e,1),"°C"))}})||a;e.a=n}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(i.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(e,0)," kg"))}})||a;e.a=n}).call(this,s("hosL").Fragment)},WAWY:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),n=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let r=Object(n.d)(()=>({week:Object(o.h)(n.c,{id:"workout.graph.week"}),distance:Object(o.h)(n.c,{id:"workout.graph.distance"}),duration:Object(o.h)(n.c,{id:"workout.graph.duration"},"Duration"),rest:Object(o.h)(n.c,{id:"workout.graph.rest"},"Rest"),ascend:Object(o.h)(n.c,{id:"workout.graph.ascend"}),plan:Object(o.h)(n.c,{id:"workout.graph.plan"}),speedAvg:Object(o.h)(n.c,{id:"workout.graph.speedavg"},"Speed"),loadIndex:Object(o.h)(n.c,{id:"workout.graph.loadindex"},"Loadindex"),avgDogs:Object(o.h)(n.c,{id:"workout.graph.avgdogs"},"Avg dogs"),avgImages:Object(o.h)(n.c,{id:"workout.graph.avgimages"},"Avg images"),sledWeight:Object(o.h)(n.c,{id:"workout.graph.sledweight"},"Sled weight"),rating:Object(o.h)(n.c,{id:"workout.graph.rating"},"Rating"),temperature:Object(o.h)(n.c,{id:"workout.graph.temperature"},"Temperature")}))(a=Object(i.a)(a=class extends o.Component{render(){const{userStore:e,workoutPlanStore:s}=this.props.stores,{user:a,graphWorkoutSummaryWeekDistanceCurrent:i,graphWorkoutSummaryWeekDistancePrev:r,graphWorkoutSummaryWeekElevationCurrent:h,graphWorkoutSummaryWeekElevationPrev:m,avgDayDistance:d,avgDayElevation:b,avgDayDuration:u,avgDaySpeedAvg:p,avgDayLoadIndex:g,avgDayAvgDogs:f,avgDayAvgImages:O,avgDaySledWeight:j,avgDayRest:k,avgDayRating:v,avgDayTemperature:w}=e,{settings:x={}}=a,{graphPlanWeekDistanceCurrent:y}=s,T=(new Date).getMonth()+1,L=(new Date).getFullYear(),{isLoading:S,week:R,distance:I,duration:C,rest:D,ascend:P,plan:$,speedAvg:_,loadIndex:A,avgDogs:W,avgImages:F,sledWeight:z,rating:V,temperature:E,year:Y=L,month:X=T,showExtra:M=!1}=this.props,B=parseInt(X<8?Y-1:Y,10),N=c.a.weekRange(B+"-08-01",B+1+"-07-31"),U=c.a.dayRange(B+"-08-01",B+1+"-07-31"),K=N.map(t=>t.week),Z=Math.floor(K.length/5),H=[];for(let t=0,e=K.length;t<e;t+=Z)H.push(K[t]);const G=U.map(t=>`${t.day}.${t.month}`),J=Math.floor(G.length/5),Q=[];for(let t=0,e=G.length;t<e;t+=J)Q.push(G[t]);return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 border-top pt-5"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(n.c,{id:"workout.graph.total-distance"},"Total distance")),Object(o.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>`${R} ${t}`,xTicks:H,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[i,r,y],legendLeft:[`${B} ${I}`,`${B-1} ${I}`,`${B} ${$}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:x.imperial?"mi":"km",unitLeft:x.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[h,m],legendRight:[`${B} ${P}`,`${B-1} ${P}`],showYTicksRight:1,yTicksRightPostfix:x.imperial?"ft":"m",unitRight:x.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!S&&i&&i.length<3&&Object(o.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(o.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(o.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(o.h)("i",{class:"fas fa-paw"})),Object(o.h)("small",null,Object(o.h)(n.c,{id:"workout.graph.too-little-data"},"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.")))),M&&Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(n.c,{id:"workout.graph.avg-rating"},"Average rating/day")),Object(o.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:Q,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[v],legendLeft:[`${B} ${V}`],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[w],legendRight:[`${B} ${E}`],showYTicksRight:1,yTicksRightPostfix:x.imperial?"°F":"°C",avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(n.c,{id:"workout.graph.avg-distance"},"Average distance/day")),Object(o.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:Q,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[d],legendLeft:[`${B} ${I}`],showYTicksLeft:1,yTicksLeftPostfix:x.imperial?"mi":"km",unitLeft:x.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[b],legendRight:[`${B} ${P}`],showYTicksRight:1,yTicksRightPostfix:x.imperial?"ft":"m",unitRight:x.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(n.c,{id:"workout.graph.avg-duration"},"Average duration/day")),Object(o.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:Q,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:[u],legendLeft:[`${B} ${C}`],yTicksLeftVal:t=>""+c.a.secToHms(t),showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[k],legendRight:[`${B} ${D}`],showYTicksRight:1,yTicksRightVal:t=>""+c.a.secToHms(t),avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(n.c,{id:"workout.graph.avg-speed"},"Average speed/day")),Object(o.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:Q,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[p],legendLeft:[`${B} ${_}`],showYTicksLeft:1,yTicksLeftPostfix:x.imperial?"mph":"km/t",unitLeft:x.imperial?["mph","mph","mph"]:["km/t","km/t","km/t"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[g],legendRight:[`${B} ${A}`],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(n.c,{id:"workout.graph.avg-dogs"},"Average dogs/day")),Object(o.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:Q,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[f,O],legendLeft:[`${B} ${W}`,`${B} ${F}`],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[j],legendRight:[`${B} ${z}`],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]}))))}})||a)||a;e.a=r}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},ePpR:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),n=s("OhSV"),l=s("go65"),r=s("om2D"),h=s("ZOvn");let m=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.commentTrack=async function(){const{callback:t=(()=>{}),inputRefObject:s={}}=e.props,{track:a}=e.props,{trackStore:o}=e.props.stores,{comment:c,showAddImage:i}=e.state,n=await o.commentTrack({id:a.id,comment:c});n&&200===n.status&&(e.setState({comment:{body:"",images:[]}},()=>{h.a.resizeTextarea(s[a.id]),i&&e.addImage()}),t({track:a,response:n}))},this.addImages=({value:t})=>{const{comment:e}=this.state;e.images.push(...t),this.setState({comment:e})},this.addImage=()=>{const{showAddImage:t=!1}=this.state;this.setState({showAddImage:!t})},this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1},this.inputRef={}}render(){const{inputRef:e,track:s}=this.props,{comment:a,showAddImage:i}=this.state,{userStore:h}=this.props.stores,{user:m={}}=h,d=m.firstname?`${c.a.ucfirst(m.firstname,!0)}${c.a.ucfirst(m.lastname,!0)}`:""+c.a.ucfirst(m.email||"",!0),b=m.image||(m.images?m.images[0]:void 0);return Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-3 position-relative"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(b?`background-image: url('${b.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!b&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(n.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(n.b,null,Object(o.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(n.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),value:a.body,ref:e})),Object(o.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-image pointerCursor","data-id":s.id,onClick:this.addImage})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.commentTrack},Object(o.h)("i",{class:"fas fa-paper-plane"})))))),i&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},c.a.isArray(a.images)&&a.images.map(t=>Object(o.h)("div",{class:"col-3 p-1"},Object(o.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(o.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(o.h)("i",{class:"fas fa-trash"})," Del"))))),Object(o.h)(r.a,{object:a,updateField:this.addImages,autoOpen:!0}))))}})||a;e.a=m}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(i.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:n={}}=i;return n.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(e,0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))}})||a;e.a=n}).call(this,s("hosL").Fragment)},lcEk:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),n=s("Utv1"),l=s("/eY4"),r=s("cneo"),h=s("OhSV"),m=s("fh8t"),d=s.n(m),b=s("K5BL"),u=(s("ETxl"),s("ZOvn"));const p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{},likeComment:{},likeReply:{}};let g=Object(l.a)(c=class extends i.Component{constructor(t){var e;super(t),e=this,this.likeComment=async function(t){const{callback:s=(()=>{})}=e.props,a=t.target.parentElement.dataset.id||t.target.dataset.id,{track:o}=e.props,{trackStore:c}=e.props.stores,i=await c.likeTrackComment({id:o.id,commentId:a});return i&&200===i.status&&s({track:o,commentId:a,response:i}),!0},this.likeReply=async function(t){const{callback:s=(()=>{})}=e.props,a=t.target.parentElement.dataset.id||t.target.dataset.id,o=t.target.parentElement.dataset.comment||t.target.dataset.comment,{track:c}=e.props,{trackStore:i}=e.props.stores,n=await i.likeTrackCommentReply({id:c.id,replyId:a,commentId:o});n&&200===n.status&&s({track:c,commentId:o,response:n})},this.replyComment=async function(t){const s=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:a}=e.state;a[s]=!a[s],e.setState({showAddComment:a},()=>{e.inputRef[s]&&e.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:t}=this.state;this.setState({showAllComments:!t})},this.toggleReplies=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAllReplies:s}=this.state;s[e]=!s[e],this.setState({showAllReplies:s})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},p),this.inputRef={}}render(){const{showAddComment:e,showAllComments:s,showAllReplies:a,viewImageIdx:o,likeComment:c}=this.state,{track:l,callback:m=(()=>{}),col:p=12,offset:g=0,compact:f=!1}=this.props,{userStore:O}=this.props.stores,{user:j,language:k="en"}=O;let v=[],w=0,x=0;if(l.comments){if(w=l.comments.length,s)v=l.comments;else{v=l.comments.slice(Math.max(w-(f?0:2),0))}x=v.length}return Object(i.h)("div",{class:`col-${p} offset-${g} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3`},s&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 mb-2",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))),l&&v&&v.reverse().map(s=>{const{user:p={}}=s,g=p.firstname?`${n.a.ucfirst(p.firstname,!0)}${n.a.ucfirst(p.lastname,!0)}`:""+n.a.ucfirst(p.email||"",!0),f=p.firstname?`${p.firstname} ${p.lastname}`:""+p.email,O=p.image||(p.images?p.images[0]:void 0),v=s.likes&&s.likes.findIndex(t=>t.user===j.id)>-1;let w=[],x=0,y=0;s.comments&&(x=s.comments.length,w=a[s.id]?s.comments:s.comments.slice(0,void 0),y=w.length);const T=[];if(s.images){const t=Object(r.i)(s.images);T.push(...t)}const L=o[s.id]?o[s.id]:0,S=T&&T[L]?T[L]:null,{currentLocationGeocode:R={}}=s;return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(O?`background-image: url("${O.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!p.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},g)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},f),Object(i.h)(d.a,{markdown:u.a.replaceImages(s.comment,s.images,k),markdownOpts:u.a.getMarkdownOptions()})),Object(i.h)("div",null,Object(i.h)("div",{class:"container-fluid px-3 mt-1"},S&&Object(i.h)("div",{class:"clearfix row position-relative"},Object(i.h)("div",{class:"commentContainer col-12 px-0 overflow-hidden",style:"max-height: 60vh;",onDblclick:this.addLikeComment,"data-id":s.id},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:S.s3LargeLink})),c[s.id]&&Object(i.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(i.h)("i",{class:"fas fa-heart likeStory"}))),T&&T.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},n.a.isArray(T)&&T.map((e,a)=>Object(i.h)(t,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(v?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},n.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"})))),s.likes&&s.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},s&&w&&w.map(t=>{const{user:e={}}=t,a=e.firstname?`${n.a.ucfirst(e.firstname,!0)}${n.a.ucfirst(e.lastname,!0)}`:""+n.a.ucfirst(e.email||"",!0),o=e.firstname?`${e.firstname} ${e.lastname}`:""+e.email,c=e.image||(e.images?e.images[0]:void 0),l=t.likes&&t.likes.findIndex(t=>t.user===j.id)>-1;return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(c?`background-image: url("${c.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!e.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},a)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},o),t.comment),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(l?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},n.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),x-y>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:x-y}},"Vis ",x-y," flere kommentarer...")))),e[s.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(b.a,{stores:this.props.stores,track:l,callback:m,commentId:s.id,inputRef:t=>this.inputRef[s.id]=t})))}),w-x>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:w-x}},"Vis ",w-x," flere kommentarer..."))),s&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||c;e.a=g}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),n=s("OhSV");s("ZOvn");let l=Object(i.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:l={}}=i;return l.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(function(t){return.621371*t}(e),1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(n.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(n.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,c.a.format(e,1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(n.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(n.c,{id:"workouts.kmt"},"km/t"))))}})||a;e.a=l}).call(this,s("hosL").Fragment)},qwZb:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),n=s("Utv1"),l=s("/eY4"),r=s("Y3FI"),h=s("OhSV"),m=s("X9Km"),d=s("ZOvn"),b=s("HqZR"),u=(s("1OK2"),s("s4FZ")),p=s("WAWY"),g=s("NPbb"),f=s("wanP"),O=s("lcEk"),j=s("ePpR"),k=s("nHdA"),v=s("irB3"),w=(s("UwwE"),s("8Lgr")),x=(s("QkTp"),s("/DnB"));const y=d.a.marginTop(!1),T=d.a.marginTopBack(!1),L=d.a.marginBottom(),S=d.a.getMaxLoadIndex(),R={weather:[],newTrack:{},showAdminInfo:!1,showWeatherDetails:!1,submenu:"map"};let I=Object(l.a)(c=class extends i.Component{constructor(t){var e;super(t),e=this,this.deleteTrack=async function(){const{trackStore:t}=e.props.stores,{track:s}=t;await t.saveField(s.id,"offline",1),m.a.publish(m.b.STATUS_MESSAGE,{message:"Runden er slettet",type:"success",icon:"fas fa-check"}),Object(r.route)("/tracks/")},this.toggleAdminInfo=()=>{const{userStore:t}=this.props.stores,{isAdmin:e}=t;if(e){const{showAdminInfo:t}=this.state;this.setState({showAdminInfo:!t})}},this.likeTrack=async function(){const{trackStore:t}=e.props.stores,{track:s}=t;await t.likeTrack({id:s.id})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.toggleShowWeatherDetails=()=>{const{showWeatherDetails:t}=this.state;this.setState({showWeatherDetails:!t})},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},R),this.updateTimer={},this.inputRef={}}async loadTrack(t=this.props){const{trackStore:e,userStore:s,workoutPlanStore:a}=this.props.stores;await e.load(t.track);const{track:o}=e;if(o.firstPoint){const t=await s.getWeather({lat:o.firstPoint[1],lon:o.firstPoint[0],altitude:o.firstPoint[2],force:1});this.setState({weather:t})}a.updateItem("workoutPlans",[]),a.updateItem("workoutPlan",{}),a.resetGraphPlanWeekDistanceCurrent(),await s.getWorkoutSummary({track:o.id})}componentDidMount(){this.loadTrack()}componentWillReceiveProps(t){t.track!==this.props.track&&this.loadTrack(t)}render(){const{trackStore:e,userStore:s}=this.props.stores,{submenu:a,showAdminInfo:o,showAddComment:c,weather:l,showWeatherDetails:r}=this.state,{isPublic:m}=this.props,{isAdmin:R,graphWorkoutSummaryWeekDistanceCurrentTotal:I,user:C={}}=s,{teams:D=[]}=C,{track:P={}}=e,{gpxInfo:$={}}=P,{weightedTotalKcal:_=0,loadIndex:A=0}=$,W=P.user===C.id||D.indexOf(P.team)>-1,{likes:F=[],comments:z=[]}=P,V=P.likes&&P.likes.findIndex(t=>t.user===C.id)>-1;return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${L}; margin-top: ${y};`},Object(i.h)("div",{class:"d-flex justify-content-between"},Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${T}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(i.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(i.h)("div",null,Object(i.h)("h5",{class:"text-muted"}," ")),Object(i.h)("div",null,W&&Object(i.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/tracks/edit/"+P.id},Object(i.h)("i",{class:"fas fa-edit"})," ",Object(i.h)(h.c,{id:"tracks.edit"},"Endre")))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"d-flex mb-2"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded",style:P.image?`background-image: url("${P.image.s3SmallLink}");`:""},!P.image&&Object(i.h)("i",{class:"fas fa-map-marked text-muted mt-3",style:"font-size: 40px;"})),Object(i.h)("div",{class:"flex-grow-1 pl-3"},Object(i.h)("h5",null,P.name),Object(i.h)("div",null,P.place),Object(i.h)("i",{class:"fas fa-calendar-alt mr-1"}),P.gpx&&P.gpx.s3Link&&Object(i.h)("span",{class:"float-right font-weight-lighter"},Object(i.h)("a",{href:P.gpx.s3Link,native:!0},Object(i.h)("i",{class:"fas fa-download"})," ",n.a.formatBytes(P.gpx.bytes,0))),n.a.isoDate(P.date||P.updatedDate||P.createdDate),Object(i.h)("br",null),1===P.public&&Object(i.h)("span",{class:"badge badge-success"},"Is public"),m&&P.userObject&&Object(i.h)("span",{class:"text-muted font-weight-lighter ml-3"},d.a.displayName(P.userObject)))))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 overflow-hidden"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"map"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(i.h)(h.c,{id:"tracks.map"},"Map")),"map"===a&&Object(i.h)(x.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"stats"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(h.c,{id:"tracks.stats"},"Your stats")),"stats"===a&&Object(i.h)(x.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"weather"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"weather",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-cloud-sun-rain"})," ",Object(i.h)(h.c,{id:"tracks.weather"},"Weather")),"weather"===a&&Object(i.h)(x.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"summary"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"summary",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-info-circle"})," ",Object(i.h)(h.c,{id:"tracks.summary"},"Summary")),"summary"===a&&Object(i.h)(x.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"photos"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"photos",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-camera"})," ",Object(i.h)(h.c,{id:"tracks.photos"},"Photos")),"photos"===a&&Object(i.h)(x.a,{horizontal:"center",vertical:"end"}))))))),"map"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 p-0"},P.gpx&&Object(i.h)("div",{class:"mb-4",style:"height: 500px;"},Object(i.h)(b.a,{stores:this.props.stores,mapId:P.id,geojson:P.gpx.geoJSON,gpxInfo:P.gpxInfo||P.gpx.gpxInfo,fullscreenMap:!0}))))),"stats"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",null,Object(i.h)(h.c,{id:"tracks.your-workout-summary"},"Your workout summary")),I>0?Object(i.h)(t,null,Object(i.h)(p.a,{stores:this.props.stores,isLoading:!1})):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-chart-line"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(h.c,{id:"tracks.no-workout-summary"},"You have no workout summary for this track. You can choose track inside your workouts to have the summary calculated."))))))),"weather"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",null,Object(i.h)(h.c,{id:"tracks.weather-start"},"Weather at the start position")),Object(i.h)("div",{class:"row"},l&&l.length>0?l.slice(0,4).map(t=>Object(i.h)("div",{class:"col-3 text-center"},Object(i.h)("img",{loading:"lazy",src:`./assets/svg/${n.a.getNestedValue(t,"next_1_hours.summary.symbol_code")}.svg`}),Object(i.h)("br",null),Object(i.h)("nobr",null,Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-temperature-low text-muted ml-1"}))," ",n.a.getNestedValue(t,"instant.details.air_temperature")," ",Object(i.h)("span",{class:"text-muted"},"°C")),Object(i.h)("br",null),Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-compass text-muted ml-1"})," ",d.a.windDirection(n.a.getNestedValue(t,"instant.details.wind_from_direction")),Object(i.h)("br",null),Object(i.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",n.a.getNestedValue(t,"instant.details.wind_speed")," ",Object(i.h)("span",{class:"text-muted"},"m/s"),Object(i.h)("br",null),Object(i.h)("i",{class:"fas fa-cloud-rain text-muted ml-1"})," ",n.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")," ",Object(i.h)("span",{class:"text-muted"},"mm"),Object(i.h)("br",null),Object(i.h)("i",{class:"fas fa-tint text-muted ml-1"})," ",n.a.getNestedValue(t,"instant.details.relative_humidity")," ",Object(i.h)("span",{class:"text-muted"},"%"),Object(i.h)("br",null)),Object(i.h)("span",{class:"font-weight-strong"},n.a.isoTime(t.time)),Object(i.h)("br",null))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-cloud-sun-rain"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(h.c,{id:"tracks.no-weather"},"Can't find weather for this track."))))),Object(i.h)("small",null,r?Object(i.h)(t,null,Object(i.h)("table",{class:"table table-sm table-striped mt-4"},l&&l.length>0&&l.slice(4,70).map(t=>Object(i.h)("tr",null,Object(i.h)("td",null,Object(i.h)("img",{loading:"lazy",src:`./assets/svg/${n.a.getNestedValue(t,"next_1_hours.summary.symbol_code")||n.a.getNestedValue(t,"next_6_hours.summary.symbol_code")}.svg`,style:"height: 20px;"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-temperature-low text-muted ml-1"})," ",n.a.getNestedValue(t,"instant.details.air_temperature")," ",Object(i.h)("span",{class:"text-muted"},"°C")),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-compass text-muted ml-1"})," ",d.a.windDirection(n.a.getNestedValue(t,"instant.details.wind_from_direction"))),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",n.a.getNestedValue(t,"instant.details.wind_speed")," ",Object(i.h)("span",{class:"text-muted"},"m/s")),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-cloud-rain text-muted ml-1"})," ",n.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")||n.a.getNestedValue(t,"next_6_hours.details.precipitation_amount")||0," ",Object(i.h)("span",{class:"text-muted"},"mm")),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-tint text-muted ml-1"})," ",n.a.getNestedValue(t,"instant.details.relative_humidity")," ",Object(i.h)("span",{class:"text-muted"},"%")),Object(i.h)("td",{class:"font-weight-strong text-right"},n.a.isoDate(new Date,!1,!1,!0)!==n.a.isoDate(t.time,!1,!1,!0)?n.a.formatDate(t.time,{year:void 0,weekday:"short",localeMatcher:"lookup"}):""," ",n.a.isoTime(t.time))))),Object(i.h)("button",{class:"btn btn-link",onClick:this.toggleShowWeatherDetails},Object(i.h)("i",{class:"fas fa-eye-slash"})," ",Object(i.h)(h.c,{id:"tracks.weather-hide-details"},"Hide details"))):Object(i.h)("button",{class:"btn btn-link",onClick:this.toggleShowWeatherDetails},Object(i.h)("i",{class:"fas fa-eye"})," ",Object(i.h)(h.c,{id:"tracks.weather-show-details"},"Show details")))))),"summary"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",null,Object(i.h)(h.c,{id:"tracks.summary"},"Track summary")),Object(i.h)("p",null,Object(i.h)(h.c,{id:"tracks.summary-info"},"The summary for this track is estimated based on the tracks profile and your team settings.")))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(h.c,{id:"tracks.distance"},"Distance")),Object(i.h)("h3",null,Object(i.h)(w.a,{stores:this.props.stores,value:P.distanceKm})),$.calculatedTotalDistance>0&&Object(i.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(i.h)(h.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(i.h)(w.a,{stores:this.props.stores,value:$.calculatedTotalDistance}),Object(i.h)("br",null))),Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(h.c,{id:"tracks.elevation"},"Elevation")),Object(i.h)("h3",null,Object(i.h)(v.a,{stores:this.props.stores,value:P.elevation})),$.calculatedAscend>0&&Object(i.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(i.h)(h.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(i.h)(v.a,{stores:this.props.stores,value:$.calculatedAscend}),Object(i.h)("br",null))),Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(h.c,{id:"tracks.downhill"},"Downhill")),Object(i.h)("h3",null,Object(i.h)(v.a,{stores:this.props.stores,value:P.decent})),$.calculatedDescend>0&&Object(i.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(i.h)(h.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(i.h)(v.a,{stores:this.props.stores,value:$.calculatedDescend}),Object(i.h)("br",null)))))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(h.c,{id:"tracks.duration"},"Duration")),Object(i.h)("h3",null,n.a.secToHms($.duration))),$.normalSpeedMs>0?Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(h.c,{id:"tracks.speed"},"Speed")),Object(i.h)("h3",null,Object(i.h)(k.a,{stores:this.props.stores,value:3.6*$.normalSpeedMs}))):Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(h.c,{id:"tracks.speed"},"Speed")),Object(i.h)("h3",null,Object(i.h)(k.a,{stores:this.props.stores,value:$.normalSpeed})))))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(n.a.checkNested(P,"gpxInfo","elevations")||n.a.checkNested(P,"gpx","gpxInfo","elevations"))&&Object(i.h)(g.a,{stores:this.props.stores,showTemperatur:!1,key:"track-elevation-"+P.id}))),A>0&&Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{onClick:this.toggleAdminInfo},Object(i.h)(h.c,{id:"workouts.load-index"},"Belastningsindex"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-center"},Object(i.h)(f.a,{key:"gauge-"+A,radius:100,showPercentText:!0,color:d.a.getLoadIndexColor(n.a.normalizeBetween(A,0,S,0,100)),percent:Math.floor(n.a.normalizeBetween(A,0,S,0,100)),completed:d.a.getLoadIndexText(n.a.normalizeBetween(A,0,S,0,100)),prefix:""}),Object(i.h)("div",null,Object(i.h)("span",{class:"badge badge-pill badge-secondary"},"Long distance"),Object(i.h)("span",{class:"badge badge-pill badge-secondary ml-2"},"Serious amature"),Object(i.h)("br",null)),R&&o&&Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",$.loadIndex),Object(i.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",S),Object(i.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",n.a.format($.totalKcalRelated,1)),Object(i.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeedMs: ",$.normalSpeedMs),Object(i.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",$.normalDuration),Object(i.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",n.a.format($.durationFactor,2)),Object(i.h)("div",null,Object(i.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),"photos"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",null,Object(i.h)(h.c,{id:"tracks.photos"},"Photos from this track")))),Object(i.h)("div",{class:"row"},Object(i.h)(h.b,null,Object(i.h)(u.a,{stores:this.props.stores,images:P.images,noimagestext:Object(i.h)(h.c,{id:"tracks.no-photos"},"No photos for this track.")})))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},F&&F.length>0&&Object(i.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",F.length),z&&z.length>0&&Object(i.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",z.length)),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-6 text-center"},Object(i.h)("button",{type:"button",class:`btn btn-outline-${V?"primary":"secondary"} btn-lg btn-block ${V?"text-primary":""}`,onClick:this.likeTrack},Object(i.h)("i",{class:(V?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(i.h)("div",{class:"col-6 text-center"},Object(i.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":P.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," Comment")))),c&&Object(i.h)(j.a,{stores:this.props.stores,track:P,inputRef:t=>this.inputRef[P.id]=t,inputRefObject:this.inputRef}),Object(i.h)(O.a,{stores:this.props.stores,track:P,cols:"12"}),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5"},W&&Object(i.h)("button",{class:"btn btn-sm btn-danger mt-5 float-right",onClick:this.deleteTrack},Object(i.h)("i",{class:"fas fa-trash"})," ",Object(i.h)(h.c,{id:"tracks.delete"},"Slett")," ",P.name))))}})||c;e.default=I}.call(this,s("hosL").Fragment)},wanP:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),n=(s("Utv1"),s("/eY4")),l=s("eK6s"),r=s.n(l);const h={mouseData:{}};let m=Object(n.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.svgRef=null}render(){const{radius:e=50,heightAdd:s=0,color:a="success",showPercentText:o=!0,percent:c=0,prefix:n="",showCenterText:l=!1,centerText:h,centerTextSize:m,centerTextX:d,centerTextY:b,total:u="",totalY:p="90%",totalX:g="50%",totalTextAnchor:f="middle",completed:O="",completedY:j="65%",completedX:k="50%",completedTextAnchor:v="middle"}=this.props,w=.3*e,x=e-w/2,y=.3*e,T=2*x*Math.PI,L=.75*T,S=`${L} ${T}`,R=`rotate(135, ${e}, ${e})`,I=L-Math.min(Math.max(c,0),100)/100*L,C=m||e/2.5,D=e/5;return Object(i.h)(t,null,Object(i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:r.a.svg,width:2*e,height:2*e+s,preserveAspectRatio:"none",ref:t=>this.svgRef=t},Object(i.h)("circle",{class:""+r.a.gaugeBackground,cx:e,cy:e,r:x,strokeWidth:w,strokeDasharray:S,strokeLinecap:"round",transform:R}),Object(i.h)("circle",{class:`${r.a[a]} ${r.a.gauge}`,cx:e,cy:e,r:x,stroke:"url(#grad)",strokeDasharray:S,strokeDashoffset:I,strokeLinecap:"round",strokeWidth:y,style:{transition:"stroke-dashoffset 0.3s"},transform:R}),o&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:d||"50%",y:b||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":C},c," ",n),l&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:d||"50%",y:b||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":C},h),O&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:k,y:j,"dominant-baseline":"middle","text-anchor":v,"font-size":D},O),Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a.secondary}`,x:g,y:p,"dominant-baseline":"middle","text-anchor":f,"font-size":D},u)))}})||c;e.a=m}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=35.chunk.a20a3.esm.js.map