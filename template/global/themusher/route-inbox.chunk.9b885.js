(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{uhDy:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,n=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("OhSV"),l=s("go65"),h=s("axqC"),f=s("ZOvn"),b=f.a.marginTop(!1),u=f.a.marginBottom(),O={isLoading:!1,limit:25,offset:0,search:""},m=Object(i.a)(c=function(e){function s(t){var s;return(s=e.call(this,t)||this).searchForMessages=function(){var t=s.state,e=t.search,o=t.limit;s.setState({offset:0}),s.loadMessages({search:e,limit:o})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},O),s}var c,i;i=e,(c=s).prototype=Object.create(i.prototype),c.prototype.constructor=c,c.__proto__=i;var f=s.prototype;return f.loadMessages=function(t){return new Promise(function(e,s){var o,r,c,n,i;return o=t.limit,r=t.offset,c=t.search,this.setState({isLoading:!0}),i=(n=this.props.stores).messageStore,Promise.resolve(n.userStore.getNotifications()).then(function(){try{return Promise.resolve(i.getUnReadMessages()).then(function(){try{return Promise.resolve(i.loadConversationList({limit:o,offset:r,search:c})).then(function(){try{return this.setState({isLoading:!1,searchText:c}),e()}catch(t){return s(t)}}.bind(this),s)}catch(t){return s(t)}}.bind(this),s)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},f.componentDidMount=function(){this.loadMessages({})},f.render=function(){var e=this,s=this.state,o=s.search,r=s.searchText,c=this.props.stores.messageStore.users;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: "+u+"; margin-top: "+b+";"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("a",{href:"/inbox/new",class:"float-right",style:"font-size: 1.5em; line-height: 1.0em;"},Object(n.h)("i",{class:"fas fa-edit"})),Object(n.h)("h5",null,Object(n.h)(a.c,{id:"inbox.title"},"Inbox"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap"},Object(n.h)("div",{class:"flex-grow-1"},Object(n.h)("label",{class:"sr-only",for:"inboxSearch"},Object(n.h)(a.c,{id:"inbox.search"},"Search")),Object(n.h)(a.b,null,Object(n.h)("input",{type:"text",class:"form-control mb-2",id:"inboxSearch",onInput:Object(l.a)(this,"search"),value:o}))),Object(n.h)("div",{class:"ml-1"},Object(n.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.searchForMessages},Object(n.h)(a.c,{id:"inbox.search-button"},"Search")))))),r&&Object(n.h)(t,null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("span",{class:"text-muted"},Object(n.h)(a.c,{id:"inbox.search-for"},"Searched for"),": ",r)))),Object(n.h)("div",{class:"row"},c&&c.map((function(s){return Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)(h.a,{stores:e.props.stores,user:s})))}))),Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2"},Object(n.h)("a",{href:"/inbox/new",class:"btn btn-primary btn-block",style:""},Object(n.h)("i",{class:"fas fa-edit"})," ",Object(n.h)(a.c,{id:"inbox.new"},"New message")))))},s}(n.Component))||c;e.default=m}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-inbox.chunk.9b885.js.map