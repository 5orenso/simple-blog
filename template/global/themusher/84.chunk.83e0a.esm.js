(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{LMwI:function(e){e.exports={pointerCursor:"pointerCursor__1W6mM"}},RMlE:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r,c=s("hosL"),o=s("ox/y"),i=(s("Utv1"),s("/eY4")),l=(s("go65"),s("Y3FI")),h=s("OhSV");s("LMwI");const b={menu:{profile:!1,main:!1},searchText:""};let p=Object(i.a)(r=class extends c.Component{constructor(e){var t;super(e),t=this,this.toggleDropdown=e=>{const{menu:t}=this.state;let s=e.target.dataset.name;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.name),s&&(t[s]=!t[s]),this.setState({menu:t})},this.toggleDarkmode=e=>{const{appState:t}=this.props.stores;t.toggleDarkmode(),this.toggleDropdown(e)},this.toggleViewmode=e=>{const{appState:t}=this.props.stores;let s=e.target.dataset.mode;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.mode),t.toggleViewmode(s),this.toggleDropdown(e)},this.reloadApp=()=>{window.location.reload(!0)},this.adminLoadAll=async function(){const{userStore:e}=t.props.stores;await e.getInfo(!0)},this.changeLanguage=e=>{const t=e.target.value;console.log("changeLanguage",t);const{appState:s,userStore:a}=this.props.stores,{user:n={}}=a;n.email&&a.setLanguage({email:n.email,language:t}),s.setLanguage(t)},this.search=()=>{const{searchText:e}=this.state;Object(l.route)("/search/"+e)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b)}render(){const{menu:e}=this.state,{appState:t,userStore:s}=this.props.stores,{darkmode:a}=t,{user:n,notifications:r=[]}=s,{language:i="en"}=(r.filter(e=>!e.read),n);return Object(c.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(c.h)("a",{class:"navbar-brand",href:"/race/"},Object(c.h)("img",{src:`./assets/homerun-race-logo-2-${a?"white-":""}small.png`,height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(c.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(c.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(c.h)("span",{class:"navbar-toggler-icon"})),Object(c.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(c.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(c.h)("li",{class:"nav-item"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-flag-checkered"})," ",Object(c.h)(h.c,{id:"header.races"},"LÃ¸pene"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"far fa-question-circle"})," ",Object(c.h)(h.c,{id:"header.support"},"Support"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-quote-right"})," ",Object(c.h)(h.c,{id:"header.news"},"Nyheter")))),Object(c.h)("ul",{class:"navbar-nav ml-auto "},Object(c.h)("li",{class:"nav-item mr-2"},Object(c.h)("div",{class:"form-row align-items-center"},Object(c.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(c.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(c.h)("option",{value:"no",selected:"no"===i},"ðŸ‡³ðŸ‡´ NO"),Object(c.h)("option",{value:"en",selected:"en"===i},"ðŸ‡¬ðŸ‡§ EN"),Object(c.h)("option",{value:"es",selected:"es"===i},"ðŸ‡ªðŸ‡¸ ES"),Object(c.h)("option",{value:"de",selected:"de"===i},"ðŸ‡©ðŸ‡ª DE"),Object(c.h)("option",{value:"fr",selected:"fr"===i},"ðŸ‡«ðŸ‡· FR"),Object(c.h)("option",{value:"ru",selected:"ru"===i},"ðŸ‡·ðŸ‡º RU"),Object(c.h)("option",{value:"se",selected:"se"===i},"ðŸ‡¸ðŸ‡ª SE"))))),Object(c.h)("li",{class:"nav-item d-block d-lg-none"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"})," ",Object(c.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(c.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(c.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"}))))))}})||r;t.a=p},aGZh:function(e,t,s){"use strict";(function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),c=s("/eY4");const o={};Object(c.a)(n=class extends r.Component{constructor(e){super(e),this.state=function(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?t(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o)}render(){const{appState:t}=this.props.stores,{text:s}=this.props,{language:a="en"}=t;let n=s;const c=new RegExp(`/<${a}>(.*?)</${a}>/`);return s.replace(c,"$1")&&(n=s),Object(r.h)(e,null,n)}})}).call(this,s("hosL").Fragment)},t8NN:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r,c=s("hosL"),o=s("QRet"),i=s("Utv1"),l=s("/eY4"),h=s("OhSV"),b=(s("go65"),s("fh8t")),p=s.n(b),d=s("RMlE"),g=(s("aGZh"),s("ZOvn"));const u=g.a.marginTop(!0),O=g.a.marginBottom(),m=(g.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:i.a.getJwtToken()});let j=Object(l.a)(r=class extends c.Component{constructor(e){super(e),this.toggleShowNews=()=>{const{showNews:e}=this.state;this.setState({showNews:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m)}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t}=e.stores;await t.load({query:{},sort:"-startDate"}),t.countAll(),this.setState({isLoading:!1})}async loadNews(e=this.props){this.setState({isLoading:!0});const{newsStore:t,userStore:s}=e.stores,{isAdmin:a}=s,n={tag:e.tag};a&&(n.showall=1),await t.load({query:n}),this.setState({isLoading:!1})}componentDidMount(){this.loadRace(),this.loadNews()}componentWillReceiveProps(e){this.loadRace(e),this.loadNews(e)}render(){const{isInApp:t}=this.props,{appState:s,userStore:a,raceStore:n,newsStore:r}=this.props.stores,{isAdmin:l,notifications:b=[]}=a,{races:m}=n,{newsList:j}=r,f=j&&j[0]?j[0]:null,{language:w="en"}=s,{showNews:v}=this.state;return Object(c.h)(e,null,Object(c.h)(d.a,{stores:this.props.stores,isInApp:t}),Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${O}; margin-top: ${u};`},!f&&Object(c.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(c.h)("div",{class:"spinner-border text-primary",role:"status"},Object(c.h)("span",{class:"sr-only"},"Loading..."))),f&&Object(c.h)("div",{class:"row clearfix",style:"min-height: 450px;"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"jumbotron-thumb d-flex align-items-center"},f.images&&f.images[0]?Object(c.h)("img",{src:f.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(c.h)("div",{class:"jumbotron py-2"},Object(c.h)("h1",{class:"display-4"},l&&Object(c.h)("i",{class:`fas fa-eye${f.active?" text-success":"-slash text-danger"} float-right`})," ",f.title),Object(c.h)("p",{class:"lead"},Object(c.h)(p.a,{markdown:g.a.replaceImages(f.ingress,f.images,w),markdownOpts:g.a.getMarkdownOptions()})),v?Object(c.h)(e,null,Object(c.h)(p.a,{markdown:g.a.replaceImages(f.body,f.images,w),markdownOpts:g.a.getMarkdownOptions()}),Object(c.h)("button",{class:"btn btn-secondary btn-lg",type:"button",onClick:this.toggleShowNews},Object(c.h)(h.c,{id:"races.hide-details"},"Skjul detaljer"),"  ",Object(c.h)("i",{class:"fas fa-caret-down"}))):Object(c.h)(e,null,Object(c.h)("button",{class:"btn btn-primary btn-lg",type:"button",onClick:this.toggleShowNews},Object(c.h)(h.c,{id:"races.read-more"},"Les mer")," ",Object(c.h)("i",{class:"fas fa-caret-right"})))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 bg-light"},Object(c.h)(h.b,null,function(e=""){return Object(o.d)(()=>{document.title="Homerun Race - Race where you live"},[e]),Object(c.h)("h1",null,e)}(Object(c.h)(h.c,{id:"races.races"},"LÃ¸pene"))),l&&Object(c.h)(e,null,Object(c.h)("a",{href:"/race/new/edit",class:"position-absolute btn btn-sm btn-primary",style:"top: 0px; right: 15px;"},Object(c.h)("i",{class:"fas fa-plus-circle"})," ",Object(c.h)(h.c,{id:"race.new"},"Nytt lÃ¸p"))))),Object(c.h)("div",{class:"row mt-3"},!m&&Object(c.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(c.h)("div",{class:"spinner-border text-primary",role:"status"},Object(c.h)("span",{class:"sr-only"},"Loading..."))),m&&m.map(t=>{const s=new Date;let a="";return s>=new Date(t.startDate)&&s<=new Date(t.endDate)?a="race":s>=new Date(t.signupStartDate)&&s<=new Date(t.signupEndDate)?a="signup":s>new Date(t.endDate)&&(a="done"),Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 col-sm-6 col-md-4 mb-3"},Object(c.h)("div",{class:"card position-relative"},Object(c.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===a&&Object(c.h)(e,null,Object(c.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===a&&Object(c.h)(e,null,Object(c.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===a&&Object(c.h)(e,null,Object(c.h)("span",null,Object(c.h)("i",{class:"fas fa-check text-success"})))),Object(c.h)("h5",{class:"card-header"},l&&Object(c.h)("i",{class:`fas fa-eye${t.active?" text-success":"-slash text-danger"} float-right`}),t.title),Object(c.h)("div",{class:"list-thumb d-flex align-items-center position-relative"},Object(c.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===a&&!t.liveRace&&Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(c.h)(h.c,{id:"races.signup-open"},"PÃ¥melding Ã¥pen"))),"race"===a&&Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(c.h)(h.c,{id:"races.race-in-progress"},"LÃ¸p pÃ¥gÃ¥r"))),"done"===a&&Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-success border border-white ml-2"},Object(c.h)(h.c,{id:"races.race-finished"},"LÃ¸p avsluttet")))),t.images&&t.images[0]?Object(c.h)("img",{src:t.images[0].s3MediumLink,class:"card-img-top"}):""),Object(c.h)("div",{class:"card-body"},Object(c.h)("p",{class:"card-text"},Object(c.h)(p.a,{markdown:g.a.replaceImages(t.ingress,t.images,w),markdownOpts:g.a.getMarkdownOptions()})),t.classes&&Object(c.h)(e,null,Object(c.h)("div",{class:"mb-3"},Object(c.h)("small",{class:"font-weight-lighter mr-2"},Object(c.h)(h.c,{id:"races.classes"},"Klasser"),": "),Object(c.h)("br",null),t.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},t.title))))),Object(c.h)("a",{href:"/race/"+t.id,class:"btn btn-primary stretched-link"},Object(c.h)(h.c,{id:"races.read-more"},"Les mer"))),Object(c.h)("div",{class:"card-footer"},Object(c.h)("small",{class:"text-muted"},Object(c.h)(h.c,{id:"races.race-days"},"LÃ¸psdager"),": ",t.startDate&&Object(c.h)(e,null,i.a.formatDate(t.startDate,{locale:w})),t.endDate&&Object(c.h)(e,null," - ",i.a.formatDate(t.endDate,{locale:w})))))))}))))}})||r;t.default=j}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=84.chunk.83e0a.esm.js.map