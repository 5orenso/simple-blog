(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{"+CFY":function(e,t,s){"use strict";s.r(t),function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),r=(s("Y3FI"),s("OhSV")),b=(s("fh8t"),s("X9Km"),s("ZOvn")),h=(s("NDEG"),s("eQ6k"),s("rWES")),d=s("jtG4"),u=s("5TgH"),m=s("XPU5");const f=b.a.marginTop(!0),p=(b.a.marginTopBack(!1),b.a.marginBottom()),O={requestSent:{},submenu:"notfollowing"};let j=Object(i.a)(n=class extends a.Component{constructor(e){super(e),this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},O),this.updateTimer={}}async loadAll(e=this.props){await this.loadPublicTeams(e)}async loadPublicTeams(e=this.props){const{teamStore:t}=e.stores;await t.loadPublic({})}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.dog!==this.props.dog&&this.loadAll(e)}render(){const{submenu:t}=this.state,{teamStore:s,userStore:o}=this.props.stores,{user:l}=o,{language:n="en"}=l,{publicTeamsToFollow:i}=s,b=i.filter(e=>e.followRequests&&e.followRequests.findIndex(e=>e.id===l.id)>-1),O=i.filter(e=>e.followers&&e.followers.indexOf(l.id)>-1),j=i.filter(e=>!(e.members&&e.members.findIndex(e=>e.id===l.id)>-1)&&(!(b.findIndex(t=>t.id===e.id)>-1)&&!(O.findIndex(t=>t.id===e.id)>-1)));return Object(a.h)(e,null,Object(a.h)("div",{class:"container-fluid",style:`margin-bottom: ${p}; margin-top: ${f};`},Object(a.h)(r.b,null,Object(a.h)(u.a,{stores:this.props.stores,title:Object(a.h)(r.c,{id:"home.find-teams"},"Find teams to follow"),backtext:Object(a.h)(r.c,{id:"home.back"},"Back")})),Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-12"},Object(a.h)(h.a,{stores:this.props.stores}))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col px-1 pt-2"},Object(a.h)("button",{class:`btn btn-block ${"notfollowing"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"notfollowing",onClick:this.chooseSubmenu},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(a.h)(r.c,{id:"teams.notfollowing"},"Not following"))),Object(a.h)("div",{class:"col px-1 pt-2"},Object(a.h)("button",{class:`btn btn-block ${"waiting"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"waiting",onClick:this.chooseSubmenu},Object(a.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(a.h)(r.c,{id:"teams.waiting-approval"},"Waiting for approval"))),Object(a.h)("div",{class:"col px-1 pt-2"},Object(a.h)("button",{class:`btn btn-block ${"following"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"following",onClick:this.chooseSubmenu},Object(a.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(a.h)(r.c,{id:"teams.following"},"Following")))))),Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(a.h)("div",{class:"row"},"notfollowing"===t&&Object(a.h)(e,null,(!c.a.isArray(j)||0===j.length)&&Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-search"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(r.c,{id:"teams.no-more-teams-to-follow"},"No more teams to follow."))),Object(a.h)(m.a,{stores:this.props.stores,forceShow:!0})),c.a.isArray(j)&&j.map(e=>Object(a.h)(d.a,{stores:this.props.stores,team:e}))),"waiting"===t&&Object(a.h)(e,null,(!c.a.isArray(b)||0===b.length)&&Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-check"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(r.c,{id:"teams.no-pending-follow-requests"},"No pending follow requests.")))),Object(a.h)(m.a,{stores:this.props.stores,forceShow:!0}),c.a.isArray(b)&&b.map(e=>Object(a.h)(d.a,{stores:this.props.stores,team:e}))),"following"===t&&Object(a.h)(e,null,(!c.a.isArray(O)||0===O.length)&&Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-check"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(r.c,{id:"teams.not-following-any-teams"},"You are not following any teams.")))),Object(a.h)(m.a,{stores:this.props.stores,forceShow:!0}),c.a.isArray(O)&&O.map(e=>Object(a.h)(d.a,{stores:this.props.stores,team:e})))))),Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-ellipsis-h"})),Object(a.h)("div",{style:"line-height: 0.9em;"},Object(a.h)("small",null,Object(a.h)(r.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook."))))))))}})||n;t.default=j}.call(this,s("hosL").Fragment)},"5TgH":function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,a=s("hosL"),c=(s("ox/y"),s("Utv1"),s("/eY4")),i=(s("go65"),s("Y3FI")),r=s("OhSV");const b=s("ZOvn").a.subMenuMarginTop(),h={};let d=Object(c.a)(n=class extends a.Component{constructor(e){super(e),this.back=()=>{const{appState:e}=this.props.stores,{previousPath:t="/"}=e;Object(i.route)(t)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{title:t,backtext:s}=this.props,{appState:o}=this.props.stores,{darkmode:l}=o;return Object(a.h)("div",{class:"row fixed-top border-bottom",style:`margin-top: ${b}; background-color: ${l?"#191d21":"#f8f9fa"};`},Object(a.h)("div",{class:"col text-center subtopmenu position-relative"},Object(a.h)("div",{class:"text-left subtopmenu position-absolute",style:"top: 0px; left: 20px; line-height: 1.8em;"},Object(a.h)("button",{class:"btn btn-link text-secondary p-0",onClick:this.back},Object(a.h)("nobr",null,Object(a.h)("i",{class:"fas fa-chevron-left font-weight-bold"})," ",s?Object(a.h)(e,null,s):Object(a.h)(e,null,Object(a.h)(r.c,{id:"home.home"},"Home"))))),Object(a.h)("nobr",null,Object(a.h)("strong",null,t))))}})||n;t.a=d}).call(this,s("hosL").Fragment)},NDEG:function(e,t,s){"use strict";(function(e){var o,l=s("hosL"),n=s("Utv1"),a=s("/eY4"),c=s("ZOvn");let i=Object(a.a)(o=class extends l.Component{render(){const{dog:t={},dogs:s=[],showTeam:o,showInfo:a,showName:i=!0,showPosition:r=!0,showAge:b=!1,className:h,size:d,onDogClick:u=(()=>{})}=this.props,{userStore:m}=this.props.stores,{user:f}=m,{language:p="en"}=f,O=m.findDogposition({position:t.position,language:p}),j=c.a.hasBirthday(t.birth);Math.ceil(c.a.daysUntilNextBirthday(t.birth));let g="92px",w="",v="35px";return"small"===d?(g="50px",w="imageRoundedSmall",v="20px"):"medium"===d&&(g="60px",w="imageRoundedMedium",v="25px"),Object(l.h)("div",{class:`mb-2 position-relative ${h} clearfix`,style:"width: "+g,onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},r&&O&&Object(l.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(l.h)("span",{class:`badge badge-${O.class||"primary"} mr-3`},O.icon&&Object(l.h)("i",{class:O.icon})," ",O.name)),Object(l.h)("div",{class:`text-center border rounded-circle imageRounded ${w} mx-auto text-muted pt-2`,style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(l.h)("span",{class:"font-weight-lighter",style:`font-size: ${v};`},n.a.ucfirst(t.name,!0))),Object(l.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(l.h)("small",null,Object(l.h)("a",{href:"/dogs/public/"+t.uuidv4,onClick:e=>u(e,t.uuidv4,s),class:"stretched-link"},i&&Object(l.h)(e,null,Object(l.h)("span",{class:"mb-1 font-weight-light"},Object(l.h)("nobr",null,t.shortname||t.name,j&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(l.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(l.h)("small",null,t.birth&&b&&Object(l.h)(e,null,Object(l.h)("span",{class:"float-right"},t.birth&&Object(l.h)("span",{class:"mr-2"},n.a.age(t.birth,t.deceased)),"female"===t.gender?Object(l.h)("i",{class:"fas fa-venus"}):Object(l.h)("i",{class:"fas fa-mars"}))),o&&Object(l.h)(e,null,Object(l.h)("span",{class:"font-weight-light"},m.findTeam(t.team)),Object(l.h)("br",null)),a&&Object(l.h)("small",{class:"text-muted"},t.weight&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-balance-scale ml-2"})," ",n.a.format(t.weight,1)," kg"),t.bodyScore&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(t.bodyScore,1))))))}})||o;t.a=i}).call(this,s("hosL").Fragment)},XPU5:function(e,t,s){"use strict";var o,l=s("hosL"),n=(s("Utv1"),s("/eY4")),a=s("OhSV"),c=s("go65");let i=Object(n.a)(o=class extends l.Component{constructor(...e){var t;super(...e),t=this,this.inviteKennel=async function(){const{friendEmail:e}=t.state,{userStore:s}=t.props.stores,o=await s.inviteKennel({email:e});t.setState({response:o,inviteSent:!0})},this.inviteNew=()=>{this.setState({inviteSent:!1})},this.hideInvite=async function(){const{userStore:e}=t.props.stores;await e.updateSetting({"settings.hideInvite":1}),t.setState({hideInvite:!0})}}render(){const{inviteSent:e,hideInvite:t}=this.state,{userStore:s}=this.props.stores,{forceShow:o}=this.props,{user:n}=s,{settings:i={}}=n;return!o&&i.hideInvite||t?"":e?Object(l.h)("div",{class:"col-12"},Object(l.h)(a.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til å bli flere 😃"),Object(l.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(l.h)(a.c,{id:"users.invite.more"},"Invitere flere"))):Object(l.h)("div",{class:"col-12 pb-4 clearfix"},Object(l.h)("h5",null,Object(l.h)(a.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(l.h)("p",null,Object(l.h)(a.c,{id:"users.invite.text"},"Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.")),Object(l.h)("div",null,Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto"},Object(l.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(l.h)(a.c,{id:"users.invite.email"},"E-post")),Object(l.h)(a.b,null,Object(l.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(l.h)(a.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(c.a)(this,"friendEmail")}))),Object(l.h)("div",{class:"col-auto"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(l.h)(a.c,{id:"users.invite.send"},"Send invitasjon"))))),!o&&Object(l.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(l.h)("i",{class:"fas fa-eye-slash"})," ",Object(l.h)(a.c,{id:"users.invite.hide"},"Skjul")))}})||o;t.a=i},eQ6k:function(e,t,s){"use strict";(function(e){var o,l=s("hosL"),n=(s("Utv1"),s("/eY4")),a=s("OhSV");let c=Object(n.a)(o=class extends l.Component{constructor(...t){super(...t),this.requestFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,{user:o}=s,l=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.followRequest(l,o),this.setState({requestSent:!0})},this.unFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,o=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.unollowTeam(o),this.setState({unfollowed:!0})},this.getButton=(t="")=>{const{requestSent:s}=this.state,{userStore:o}=this.props.stores,{user:n}=o,{team:c,skipHome:i,simple:r,classNames:b}=this.props,h=c.members&&c.members.indexOf(n.id)>-1,d=c.followers&&c.followers.indexOf(n.id)>-1,u=c.blockedFollowers&&c.blockedFollowers.indexOf(n.id)>-1,m=s||c.followRequests&&c.followRequests.findIndex(e=>e.id===n.id)>-1;return h?i?"":Object(l.h)("i",{class:"fas fa-home"}):d?Object(l.h)(e,null,Object(l.h)("button",{class:b||"btn btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":c.id},Object(l.h)("i",{class:"fas fa-link mr-2"}),Object(l.h)(a.c,{id:"teams.connect.is-following"},"Følger")," ",!r&&Object(l.h)(e,null,t)),Object(l.h)("button",{class:b||"btn btn-sm btn-block btn-danger float-right",onClick:this.unFollowTeam,"data-team":c.id},Object(l.h)("i",{class:"fas fa-unlink mr-2"}),Object(l.h)(a.c,{id:"teams.connect.unfollow"},"Unfollow"))):u?"":m?Object(l.h)("button",{class:b||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(l.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(l.h)(a.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",!r&&Object(l.h)(e,null,t)):c.public?Object(l.h)("button",{class:b||"btn btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":c.id},Object(l.h)("i",{class:"fas fa-plus mr-2"}),Object(l.h)(a.c,{id:"teams.connect.follow"},"Følg")," ",!r&&Object(l.h)(e,null,t)):void 0}}render(){const{unfollowed:t}=this.state,{team:s,buttonOnly:o}=this.props,{userStore:n}=this.props.stores,{user:a}=n,{language:c="en"}=a,i=n.findTeamAmbition({ambition:s.ambitions,language:c}),r=n.findTeamType({type:s.type,language:c}),b=s.image&&s.image.s3SmallLink?s.image:null;return o?Object(l.h)(e,null,this.getButton(""+s.name)):Object(l.h)("div",{class:"w-100 mb-3"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:""+(t?"text-decoration: line-through; opacity: 0.3;":"")},Object(l.h)("a",{href:"/teams/public/"+s.uuidv4},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded",style:b?`background-image: url("${b.s3SmallLink}");  background-size: cover;`:""},!b&&Object(l.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(l.h)(e,null,Object(l.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(l.h)(e,null,s.name)),Object(l.h)("div",null,s.place," ",s.country),Object(l.h)("div",null,r&&Object(l.h)("span",{class:"badge badge-pill badge-secondary"},r),i&&Object(l.h)("span",{class:"badge badge-pill badge-secondary ml-2"},i)),Object(l.h)("small",{class:"text-muted"},s&&s.dogs&&Object(l.h)("span",{class:""},Object(l.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(l.h)("div",null,this.getButton()))))}})||o;t.a=c}).call(this,s("hosL").Fragment)},jtG4:function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,a=s("hosL"),c=(s("Utv1"),s("/eY4")),i=(s("Y3FI"),s("OhSV")),r=s("ZOvn");const b={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"};let h=Object(c.a)(n=class extends a.Component{constructor(t){var s;super(t),s=this,this.requestFollowTeam=async function(e){const{teamStore:t,userStore:o}=s.props.stores,{user:l}=o,n=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.followRequest(n,l);const{requestSent:a}=s.state;a[n]=!0,s.setState({requestSent:a})},this.confirmRequest=async function(e){const{callback:t=(()=>{})}=s.props,{team:o,user:l}=e.target.closest("button").dataset,{teamStore:n}=s.props.stores,{confirmed:a,deleted:c}=s.state;a[`${o}-${l}`]=!0,delete c[`${o}-${l}`],s.setState({confirmed:a,deleted:c}),await n.confirmFollowRequest({team:parseInt(o,10),user:parseInt(l,10)}),t()},this.deleteRequest=async function(e){const{callback:t=(()=>{})}=s.props,{team:o,user:l}=e.target.closest("button").dataset,{teamStore:n}=s.props.stores,{deleted:a,confirmed:c}=s.state;a[`${o}-${l}`]=!0,delete c[`${o}-${l}`],s.setState({deleted:a,confirmed:c}),await n.deleteFollowRequest({team:parseInt(o,10),user:parseInt(l,10)}),t()},this.unFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,o=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.unollowTeam(o),this.setState({unfollowed:!0})},this.getUnblockButton=(t,s)=>{const{confirmed:o}=this.state,l=o[`${s}-${t}`];return Object(a.h)(e,null,l?Object(a.h)(e,null,Object(a.h)("small",{class:"text-success"},Object(a.h)("i",{class:"fas fa-check"})," ",Object(a.h)(i.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(a.h)(e,null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":s,"data-user":t},Object(a.h)(i.c,{id:"teams.connect.confirm"},"Confirm"))))},this.getButton=t=>{const{requestSent:s}=this.state,{userStore:o}=this.props.stores,{user:l}=o,n=t.members&&t.members.indexOf(l.id)>-1,c=t.followers&&t.followers.indexOf(l.id)>-1,r=t.blockedFollowers&&t.blockedFollowers.indexOf(l.id)>-1,b=s[t.id]||t.followRequests&&t.followRequests.findIndex(e=>e.id===l.id)>-1;return n?Object(a.h)("i",{class:"fas fa-home"}):t.public?c?Object(a.h)(e,null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":t.id},Object(a.h)("i",{class:"fas fa-link mr-2"}),Object(a.h)(i.c,{id:"teams.connect.is-following"},"Følger")),Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:this.unFollowTeam,disabled:"true","data-team":t.id},Object(a.h)(i.c,{id:"teams.connect.unfollow"},"Unfollow"))):r?Object(a.h)(e,null):b?Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(a.h)(i.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":t.id},Object(a.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(a.h)(i.c,{id:"teams.connect.follow"},"Følg")):Object(a.h)(e,null,Object(a.h)("small",{class:"text-muted"},Object(a.h)(i.c,{id:"teams.not-public"},"Ikke offentlig")))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b),this.updateTimer={}}render(){const{deleted:t={},unfollowed:s}=this.state,{team:o,isBlocked:l,myTeamId:n,showBlockButton:c}=this.props,{storyStore:b}=this.props.stores,h=b.findPublicUser(o.user)||o.user||{};let d,u,m,f;o.image&&o.image.s3SmallLink?d=o.image:o.images&&o.images[0]&&o.images[0].s3SmallLink?d=o.images[0]:h.image&&h.image.s3SmallLink?d=h.image:h.images&&h.images[0]&&h.images[0].s3SmallLink&&(d=h.images[0]),o&&o.name?(u=r.a.displayNameShort(o),m=r.a.displayName(o),f=r.a.displayName(h)):h&&h.id&&(u=r.a.displayNameShort(h),m=r.a.displayName(h));const p=t[`${n}-${h.id}`];return Object(a.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:""+(s?"text-decoration: line-through; opacity: 0.3;":"")},Object(a.h)("div",{class:"d-flex position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:d?`background-image: url("${d.s3MediumLink}"); background-size: cover;`:""},!d&&Object(a.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},u)),Object(a.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"mb-0"},o.public?Object(a.h)(e,null,Object(a.h)("a",{href:"/teams/public/"+o.uuidv4},m)):Object(a.h)(e,null,m)),Object(a.h)("div",null,o.place?o.place+", ":""," ",o.country,"  "),Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},o&&o.dogs&&Object(a.h)("span",{class:""},Object(a.h)("i",{class:"fas fa-dog"})," ",o.dogs.length),o&&o.followers&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-user"})," ",o.followers.length),f&&Object(a.h)(e,null,Object(a.h)("small",{class:"ml-2 text-muted"},f)),c&&Object(a.h)(e,null,p?Object(a.h)(e,null,Object(a.h)("small",{class:"text-danger ml-3"},Object(a.h)("i",{class:"fas fa-ban"})," ",Object(a.h)(i.c,{id:"teams.connect.deleted"},"Deleted"))):Object(a.h)(e,null,Object(a.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":n,"data-user":h.id},Object(a.h)("i",{class:"fas fa-ban"})," ",Object(a.h)(i.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(a.h)("div",null,l?Object(a.h)(e,null,this.getUnblockButton(h.id,n)):Object(a.h)(e,null,this.getButton(o)))))}})||n;t.a=h}).call(this,s("hosL").Fragment)},rWES:function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),r=s("OhSV"),b=s("ZOvn");s("eQ6k");const h={confirmed:{},deleted:{}};let d=Object(i.a)(n=class extends a.Component{constructor(e){super(e),this.confirmRequest=e=>{const{team:t,user:s,follow:o}=e.target.closest("button").dataset,{teamStore:l}=this.props.stores;l.confirmFollowRequest({team:parseInt(t,10),user:parseInt(s,10)});const{confirmed:n}=this.state;n[`${t}-${s}`]=!0,this.setState({confirmed:n}),o&&l.followRequestUser(s)},this.deleteRequest=e=>{const{team:t,user:s}=e.target.closest("button").dataset,{teamStore:o}=this.props.stores;o.deleteFollowRequest({team:parseInt(t,10),user:parseInt(s,10)});const{deleted:l}=this.state;l[`${t}-${s}`]=!0,this.setState({deleted:l})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}async loadTeams(){const{teamStore:e}=this.props.stores;await e.load({query:{},addData:["followRequests"]})}componentDidMount(){this.loadTeams()}render(){const{deleted:t={},confirmed:s={}}=this.state,{teamStore:o,appState:l}=this.props.stores,{teams:n,hasFollowRequests:i,followRequests:h=[]}=o,{darkmode:d}=l;return i?Object(a.h)("div",{class:"row pb-1"},Object(a.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${d?"black":"white"} shadow-sm`},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)("h5",null,Object(a.h)(r.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},c.a.isArray(n)&&n.map(o=>Object(a.h)(e,null,o&&c.a.isArray(o.followRequests)&&o.followRequests.map(l=>{const n=l.image&&l.image.s3SmallLink?l.image:null,c=t[`${o.id}-${l.id}`],i=s[`${o.id}-${l.id}`],d=h.find(e=>e.user.id===l.id);return Object(a.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:n?`background-image: url("${n.s3SmallLink}");`:""},!n&&Object(a.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},b.a.displayNameShort(l))),Object(a.h)("small",null,Object(a.h)("div",{class:"text-overflow text-center"},Object(a.h)("strong",null,b.a.displayName(l)),Object(a.h)("br",null)),Object(a.h)("div",{class:"text-overflow text-center"},Object(a.h)(r.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(a.h)("div",{class:"text-overflow text-center"},Object(a.h)("strong",null,b.a.displayName(o)))),i||c?Object(a.h)(e,null,Object(a.h)("div",{class:"text-center"},i?Object(a.h)("div",{class:"text-success"},Object(a.h)(r.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(a.h)("i",{class:"fas fa-check"})):Object(a.h)("div",{class:"text-danger"},Object(a.h)(r.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(a.h)("i",{class:"fas fa-trash-alt"})))):Object(a.h)(e,null,Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":o.id,"data-user":l.id},Object(a.h)(r.c,{id:"teams.connect.confirm"},"Confirm")),d&&d.public>0&&Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":o.id,"data-user":l.id,"data-follow":!0},Object(a.h)(r.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(a.h)("div",{class:"mt-3"},Object(a.h)("small",null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:this.deleteRequest,"data-team":o.id,"data-user":l.id},Object(a.h)(r.c,{id:"teams.connect.delete"},"Del")))))))}))))),Object(a.h)("details",{class:"mt-3"},Object(a.h)("summary",null,Object(a.h)("small",null,Object(a.h)(r.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(a.h)("p",null,Object(a.h)(r.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""}})||n;t.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=79.chunk.0984b.esm.js.map