{"version":3,"sources":["webpack:///./routes/app-races/index.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","initialState","subMenuMarginTop","isLoading","submenu","showAdminSendMessage","newRaceArticle","newRaceUserImage","message","subject","body","AppRaceDetailSignup","observer","props","signupToRace","user","stores","userStore","signup","raceStore","addContestant","id","raceid","classId","class","newContestant","team","firstname","lastname","sportsClub","email","cellphone","facebook","instagram","updateSignup","e","updateObjectKeyValue","target","value","editSignup","field","dataset","classid","contestantid","data","raceClassId","contestantId","util","ucfirst","clearTimeout","updateTimer","setTimeout","editClass","likeRace","race","toggleAddComment","raceId","parentElement","setState","showAddComment","state","inputRef","focus","chooseSubmenu","menu","toggleDisplayDetails","closest","appState","editUserDetails","adminToggleEditUser","stopPropagation","toggleEditUserDetails","adminSignupEdit","toggleAdminSendMessage","sendEmail","to","raceclassid","emailResponse","resetEmail","addRaceArticle","addArticle","newArticle","addRaceUserImage","addUserImage","newUserImage","updateUserImageUpload","updateArticleUpload","removeRaceArticle","removeArticle","articleId","removeRaceUserImage","removeUserImage","userImageId","editRaceArticle","raceArticleId","editArticle","resizeTextarea","editRaceUserImage","raceUserImageId","editUserImage","resizeAllTextareas","textareaList","document","getElementsByTagName","i","l","length","el","element","style","height","scrollHeight","handleImageErrored","image","onerror","src","Date","back","route","loadRace","currentClass","idx","this","load","classes","contestants","findIndex","updateKeyValue","componentDidMount","componentWillReceiveProps","nextProps","render","teams","isAdmin","language","displayDetails","likes","comments","hasLikedRace","signupClass","getRaceClassById","today","status","startDate","endDate","signupStartDate","signupEndDate","onClick","images","s3LargeLink","title","formatDate","locale","hour12","hour","minute","data-menu","veterinaryInfo","checkpoints","trailDescription","program","prices","markdown","replaceImages","ingress","markdownOpts","getMarkdownOptions","articles","reverse","map","currentArticle","date","for","type","aria-describedby","data-id","data-field","onInput","onError","linkstate","onKeyUp","saved","object","updateField","userImages","currentUserImage","rules","sort","a","b","distance","startTime","endTime","scope","musher","currentTeam","getTeamById","data-email","paidSignupfee","raceStatus","raceComment","gpxResultsApproved","name","href","asFacebookLink","native","rel","asInstagramLink","price1","priceSent","price2","price3","data-classid","data-contestantid","isoDate","startOrder","signupfee","emails","dangerouslySetInnerHTML","__html","$str","replace","rows","role","JSON","stringify","data-to","data-raceclassid","data-class","signuppayment","placeholder","disabled","checked","termsAndAgreement","c","cols","Component"],"mappings":"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","file":"route-app-races.chunk.d0861.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport { route } from 'preact-router';\nimport Markdown from 'preact-markdown';\nimport linkstate from 'linkstate';\n\nimport RaceComments from '../public/race/comments';\nimport RaceAddComment from '../public/race/commentAdd';\nimport RaceText from '../public/race/raceText';\nimport Images from '../../components/form/images';\nimport LikesAndComments from '../../components/feedback/likesAndComments';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nfunction nl2br($str) {\n\tif (typeof $str === 'string') {\n\t\treturn $str.replace(/[\\n]/g, '<br>');\n\t}\n\treturn $str;\n}\n\nconst initialState = {\n\tisLoading: false,\n    submenu: 'about',\n    showAdminSendMessage: {},\n\tnewRaceArticle: {},\n\tnewRaceUserImage: {},\n\tmessage: {\n\t\tsubject: '',\n\t\tbody: '',\n\t},\n};\n\n@observer\nclass AppRaceDetailSignup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n            showAdminSendMessage: {},\n            newRaceArticle: {},\n            newRaceUserImage: {},\n            message: {\n                subject: '',\n                body: '',\n            },\n        };\n\t\tthis.inputRef = {};\n        this.updateTimer = {};\n    }\n\n\tasync loadRace(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { raceStore, userStore } = props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tconst { raceid } = props;\n\t\tawait raceStore.load(raceid);\n\t\tthis.setState({ isLoading: false });\n\n\t\tlet signup = {};\n\t\tconst { race } = raceStore;\n\t\tif (race.classes && user && user.email) {\n\t\t\tfor (let i = 0, l = race.classes.length; i < l; i += 1) {\n\t\t\t\tconst currentClass = race.classes[i];\n\t\t\t\tif (currentClass.contestants) {\n\t\t\t\t\tconst idx = currentClass.contestants.findIndex(e => e.email === user.email);\n\t\t\t\t\tif (idx > -1) {\n\t\t\t\t\t\tsignup = { ...currentClass.contestants[idx] };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\traceStore.updateKeyValue('signup', signup);\n\t}\n\n\tsignupToRace = async () => {\n\t\tconst { raceStore, userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n        const { signup } = raceStore;\n\t\tconst { raceid } = this.props;\n\n\t\tawait raceStore.addContestant({\n\t\t\tid: raceid,\n\t\t\tclassId: signup.class,\n\t\t\tnewContestant: {\n\t\t\t\tteam: user.team,\n\t\t\t\tfirstname: user.firstname,\n\t\t\t\tlastname: user.lastname,\n\t\t\t\tsportsClub: user.sportsClub,\n\t\t\t\temail: user.email,\n\t\t\t\tcellphone: user.cellphone,\n\t\t\t\tfacebook: user.facebook,\n\t\t\t\tinstagram: user.instagram,\n\t\t\t\t ...signup\n\t\t\t}\n        });\n\t}\n\n    updateSignup = (e) => {\n        const key = e.target.id;\n        const value = e.target.value;\n        const { raceStore } = this.props.stores;\n        raceStore.updateObjectKeyValue('signup', key, value);\n    }\n\n    editSignup = (e) => {\n        const { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n        const field = e.target.id;\n        const value = e.target.value;\n        const { classid, contestantid } = e.target.dataset;\n        raceStore.updateObjectKeyValue('signup', field, value);\n\n        // console.log({ raceid, field, value, classid });\n        // const { raceStore } = this.props.stores;\n        // raceStore.updateObjectKeyValue('signup', key, value);\n\n        const data = {\n\t\t\traceClassId: classid,\n            contestantId: contestantid,\n\t\t\t[`raceClassContestant${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[field]);\n\t\tthis.updateTimer[field] = setTimeout(async () => {\n\t\t\traceStore.editClass({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 500);\n    }\n\n\t// editRaceClass = async (e) => {\n\t// \tconst { id, field } = e.target.dataset;\n\t// \tconst { value } = e.target;\n\t// \tconst { raceid } = this.props;\n\t// \tconst { raceStore } = this.props.stores;\n\t// \tconst data = {\n\t// \t\traceClassId: id,\n\t// \t\t[`raceClass${util.ucfirst(field)}`]: value,\n\t// \t};\n\t// \tclearTimeout(this.updateTimer[field]);\n\t// \tthis.updateTimer[field] = setTimeout(async () => {\n\t// \t\traceStore.editClass({\n\t// \t\t\tid: raceid,\n\t// \t\t\tdata,\n\t// \t\t});\n\t// \t}, 500);\n\t// }\n\n\t// editSignupToRaceasync = async () => {\n\t// \tconst { raceStore, userStore } = this.props.stores;\n\t// \tconst { user } = userStore;\n    //     const { signup } = raceStore;\n\t// \tconst { raceid } = this.props;\n\n\t// \tawait raceStore.editContestant({\n\t// \t\tid: raceid,\n\t// \t\tclassId: signup.class,\n\t// \t\tnewContestant: {\n\t// \t\t\tteam: user.team,\n\t// \t\t\tfirstname: user.firstname,\n\t// \t\t\tlastname: user.lastname,\n\t// \t\t\tsportsClub: user.sportsClub,\n\t// \t\t\temail: user.email,\n\t// \t\t\tcellphone: user.cellphone,\n\t// \t\t\tfacebook: user.facebook,\n\t// \t\t\tinstagram: user.instagram,\n\t// \t\t\t ...signup\n\t// \t\t} });\n\t// }\n\n    likeRace = async () => {\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst { race } = raceStore;\n\t\tconst response = await raceStore.likeRace({ id: race.id });\n\n        if (response && response.status === 200) {\n\t\t\t// this.loadRaceDetail({ race });\n\t\t}\n\t}\n\n\ttoggleAddComment = (e) => {\n\t\tconst raceId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAddComment } = this.state;\n\t\tthis.setState({\n\t\t\tshowAddComment: !showAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[raceId]) {\n\t\t\t\tthis.inputRef[raceId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n    toggleDisplayDetails = (e) => {\n\t\tconst email = e.target.closest('tr').dataset.email;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { editUserDetails } = appState;\n\t\tif (!editUserDetails[email]) {\n\t\t\tappState.toggleDisplayDetails(email)\n\t\t}\n\t}\n\n    adminToggleEditUser = (e) => {\n\t\te.stopPropagation();\n\t\tconst email = e.target.closest('tr').dataset.email;\n\t\tconst { appState } = this.props.stores;\n\t\tappState.toggleEditUserDetails(email)\n\t}\n\n    adminSignupEdit = (e) => {\n        const { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n        const field = e.target.id;\n        const value = e.target.value;\n        const { classid, contestantid } = e.target.dataset;\n\n        // console.log({ raceid, field, value, classid });\n        // const { raceStore } = this.props.stores;\n        // raceStore.updateObjectKeyValue('signup', key, value);\n\n        const data = {\n\t\t\traceClassId: classid,\n            contestantId: contestantid,\n\t\t\t[`raceClassContestant${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[field]);\n\t\tthis.updateTimer[field] = setTimeout(async () => {\n\t\t\traceStore.editClass({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 500);\n\t}\n\n\ttoggleAdminSendMessage = (e) => {\n\t\tconst classId = e.target.closest('button').dataset.class;\n\t\tconst { showAdminSendMessage } = this.state;\n\t\tshowAdminSendMessage[classId] = !showAdminSendMessage[classId];\n\t\tthis.setState({ showAdminSendMessage });\n\t}\n\n\tsendEmail = async (e) => {\n\t\tconst { raceid: raceId } = this.props;\n\t\tconst to = e.target.closest('button').dataset.to;\n\t\tconst raceClassId = e.target.closest('button').dataset.raceclassid;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { message } = this.state;\n\t\tconst { subject, body } = message;\n\t\tconst emailResponse = await appState.sendEmail({\n\t\t\tto,\n\t\t\tsubject,\n\t\t\tbody,\n\t\t\traceId,\n\t\t\traceClassId,\n\t\t});\n\t\tthis.setState({ emailResponse });\n\t}\n\n\tresetEmail = () => {\n\t\tthis.setState({\n\t\t\temailResponse: null,\n\t\t\tmessage: {\n\t\t\t\tsubject: '',\n\t\t\t\tbody: '',\n\t\t\t},\n\t\t});\n\t}\n\n    addRaceArticle = async () => {\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tconst { newRaceArticle } = this.state;\n\t\tawait raceStore.addArticle({ id: raceid, newArticle: newRaceArticle });\n\t\tthis.setState({\n\t\t\tnewRaceArticle: {},\n\t\t});\n\t}\n\n\taddRaceUserImage = async () => {\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tconst { newRaceUserImage } = this.state;\n\t\tawait raceStore.addUserImage({ id: raceid, newUserImage: newRaceUserImage });\n\t\tthis.setState({\n\t\t\tnewRaceUserImage: {},\n\t\t});\n\t}\n\n\tupdateUserImageUpload = ({ field, value }) => {\n\t\t// updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n\t\tconst { newRaceUserImage } = this.state;\n\t\tnewRaceUserImage[field] = value;\n\t\tthis.setState({ newRaceUserImage });\n\t}\n\n\tupdateArticleUpload = ({ field, value }) => {\n\t\t// updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n\t\tconst { newRaceArticle } = this.state;\n\t\tnewRaceArticle[field] = value;\n\t\tthis.setState({ newRaceArticle });\n\t}\n\n\tremoveRaceArticle = async (e) => {\n\t\tconst id = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tawait raceStore.removeArticle({\n\t\t\tid: raceid,\n\t\t\tarticleId: id,\n\t\t});\n\t}\n\n\tremoveRaceUserImage = async (e) => {\n\t\tconst id = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tawait raceStore.removeUserImage({\n\t\t\tid: raceid,\n\t\t\tuserImageId: id,\n\t\t});\n\t}\n\n\teditRaceArticle = async (e) => {\n\t\tconst { id, field } = e.target.dataset;\n\t\tconst { value } = e.target;\n\t\tconst { raceid } = this.props;\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst data = {\n\t\t\traceArticleId: id,\n\t\t\t[`raceArticle${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[`${raceid}-${id}-${field}`]);\n\t\tthis.updateTimer[`${raceid}-${id}-${field}`] = setTimeout(async () => {\n\t\t\traceStore.editArticle({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 1500);\n\n\t\tthis.resizeTextarea(e.target);\n\t}\n\n\teditRaceUserImage = async (e) => {\n\t\tconst { id, field } = e.target.dataset;\n\t\tconst { value } = e.target;\n\t\tconst { raceid } = this.props;\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst data = {\n\t\t\traceUserImageId: id,\n\t\t\t[`raceUserImage${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[`${raceid}-${id}-${field}`]);\n\t\tthis.updateTimer[`${raceid}-${id}-${field}`] = setTimeout(async () => {\n\t\t\traceStore.editUserImage({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 1500);\n\n\t\tthis.resizeTextarea(e.target);\n\t}\n\n\tresizeAllTextareas = () => {\n\t\tconst textareaList = document.getElementsByTagName('textarea');\n\t\tfor(let i = 0, l = textareaList.length; i < l; i += 1){\n\t\t\tconst textarea = textareaList[i];\n\t\t\tthis.resizeTextarea(textarea);\n\t\t}\n\t}\n\n\tresizeTextarea = (el) => {\n\t\tlet element = el;\n\t\tif (element.target) {\n\t\t\telement = el.target;\n\t\t}\n\t\tconst { scrollHeight } = element;\n\t\telement.style.height = `${scrollHeight}px`;\n\t}\n\n\thandleImageErrored = (e) => {\n        const image = e.target;\n        image.onerror = null;\n        setTimeout(() => {\n            image.src += `?${new Date()}`;\n        }, 1000);\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadRace();\n        this.resizeAllTextareas();\n\t}\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.raceid !== this.props.raceid) {\n            this.loadRace(nextProps);\n        }\n\t}\n\n    back = () => {\n        route(`/`, true);\n    }\n\n\trender() {\n        const { submenu } = this.state;\n        const { showAdminSendMessage, message, emailResponse } = this.state;\n        const { showAddComment, newRaceArticle, newRaceUserImage } = this.state;\n\n\t\tconst { userStore, raceStore, appState } = this.props.stores;\n\t\tconst { user = {}, teams = [], isAdmin } = userStore;\n\n\t\tconst { raceid, subsection } = this.props;\n\t\tconst { race, signup } = raceStore;\n        const { darkmode, language = 'en', displayDetails, editUserDetails } = appState;\n\n\t\tconst { likes = [], comments = [] } = race;\n\t\tconst hasLikedRace = race.likes && race.likes.findIndex(e => e.user === user.id) > -1;\n\n        let signupClass = {};\n        if (signup.class) {\n            signupClass = raceStore.getRaceClassById(signup.class);\n        }\n\t\tconst today = new Date();\n        let status = '';\n        if (today >= new Date(race.startDate) && today <= new Date(race.endDate)) {\n            status = 'race';\n        } else if (today >= new Date(race.signupStartDate) && today <= new Date(race.signupEndDate)) {\n            status = 'signup';\n        }\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n                    onClick={this.back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n\n                <div class='row m-0'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2 p-0'>\n                        <div class='row d-flex align-items-center position-relative'>\n                            <h5 class='position-absolute' style='top: 3px; right: 5px;'>\n                                {status === 'signup' && <>\n                                    <span class='badge badge-primary border border-white ml-2'><Text id='races.signup-open'>Påmelding åpen</Text></span>\n                                </>}\n                                {status === 'race' && <>\n                                    <span class='badge badge-danger border border-white ml-2'><Text id='races.race-in-progress'>Løp pågår</Text></span>\n                                </>}\n                                {status === 'done' && <>\n                                    <span class='badge badge-success border border-white ml-2'><Text id='races.race-finished'>Løp avsluttet</Text></span>\n                                </>}\n                            </h5>\n                            {(race.images && race.images[0]) ? <img src={race.images[0].s3LargeLink} class='img-fluid' /> : ''}\n                        </div>\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h3>{race.title}</h3>\n                        {race.startDate && <><Text id='races.periode'>Periode</Text>: {util.formatDate(race.startDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n                        {race.endDate && <> - {util.formatDate(race.endDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='row'>\n                            <div class='w-100 overflow-hidden'>\n                                <div\n                                    class='d-flex flex-row flex-nowrap pb-2 px-1'\n                                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                                >\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-pill-left rounded-none ${submenu === 'about' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='about'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-info-circle' /> <Text id='race.about'>About</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'news' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='news'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.news'>News</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'userImages' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='userImages'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.user-images'>User images</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'rules' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='rules'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-gavel' /> <Text id='race.rules'>Rules</Text></button>\n                                    </div>\n                                    {race.veterinaryInfo && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'veterinary' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='veterinary'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-stethoscope' /> <Text id='race.veterinary'>Veterinary info</Text></button>\n                                    </div>}\n                                    {race.checkpoints && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'checkpoints' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='checkpoints'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-marker-alt' /> <Text id='race.checkpoints'>Checkpoints</Text></button>\n                                    </div>}\n                                    {race.trailDescription && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'track' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='track'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-signs' /> <Text id='race.track-description'>Track description</Text></button>\n                                    </div>}\n                                    {race.program && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'program' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='program'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-list-alt' /> <Text id='race.program'>Program</Text></button>\n                                    </div>}\n                                    {race.prices && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'prices' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='prices'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-award' /> <Text id='race.prices'>Premier</Text></button>\n                                    </div>}\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'classes' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='classes'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='race.classes'>Classes</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'mushers' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='mushers'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='races.mushers'>Mushers</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-pill-right rounded-none ${submenu === 'signup' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='signup'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='race.signup'>Sign up</Text></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {submenu === 'about' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.about'>Om løpet</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <p class='clearfix'>\n                                <strong>\n                                    <Markdown markdown={mu.replaceImages(race.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                </strong>\n                            </p>\n                            <Markdown markdown={mu.replaceImages(race.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'news' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.news'>Nyheter</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <div class='row'>\n                                {race.articles && race.articles.reverse().map(currentArticle => <>\n                                    <div class='col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3'>\n                                        <h5 class='mb-0'>{mu.replaceImages(currentArticle.title, race.images, language, false)}</h5>\n                                        <small class='text-muted'> {util.formatDate(currentArticle.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</small><br />\n                                        {currentArticle.image && <img src={currentArticle.image.s3LargeLink} class='float-right w-50 rounded-lg ml-2' />}\n                                        <div class='font-weight-bold'>\n                                            <Markdown markdown={mu.replaceImages(currentArticle.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                        </div>\n                                        <div class='clearfix'>\n                                            <Markdown markdown={mu.replaceImages(currentArticle.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                        </div>\n\n                                        {isAdmin && <>\n                                            <div class='border-top border-bottom mb-5'>\n                                                <details>\n                                                    <summary>Admin edit</summary>\n                                                    <h5 class='border-bottom'>Admin News Edit</h5>\n                                                    {['title'].map(field => <>\n                                                        <div class='form-group'>\n                                                            <label for={field}>{field}</label>\n                                                            <input type='text' class='form-control font-weight-bold' id={field} aria-describedby={`${field}Help`}\n                                                                style='font-size: 1.5em;'\n                                                                data-id={currentArticle.id}\n                                                                data-field={field}\n                                                                value={currentArticle[field]}\n                                                                onInput={this.editRaceArticle}\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                    {['ingress', 'body'].map(field => <>\n                                                        <div class='form-group'>\n                                                            <label for={field}>{field}</label>\n                                                            <textarea type='textarea' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                                data-id={currentArticle.id}\n                                                                data-field={field}\n                                                                value={currentArticle[field]}\n                                                                onInput={this.editRaceArticle}\n                                                                style='height: 3em;'\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                </details>\n                                            </div>\n                                        </>}\n                                    </div>\n                                </>)}\n                            </div>\n                        </div>\n                        {isAdmin && <>\n                            <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                                <h5>Add new article</h5>\n                                {newRaceArticle && newRaceArticle.image && <img src={newRaceArticle.image.s3LargeLink} class='float-right w-50'  onError={this.handleImageErrored} />}\n\n                                {['title'].map(field => <>\n                                    <div class='form-group'>\n                                        <label for={field}>{field}</label>\n                                        <input type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                            onInput={linkstate(this, `newRaceArticle.${field}`)}\n                                            value={newRaceArticle[field]}\n                                        />\n                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                </>)}\n                                {['ingress', 'body'].map(field => <>\n                                    <div class='form-group'>\n                                        <label for={field}>{field}</label>\n                                        <textarea type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                            onInput={linkstate(this, `newRaceArticle.${field}`)}\n                                            onKeyUp={this.resizeTextarea}\n                                            style='height: 3em;'\n                                            value={newRaceArticle[field]}\n                                        />\n                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                </>)}\n                                <Images saved={{}} object={{}} field={'image'} updateField={this.updateArticleUpload} />\n                                <button class='btn btn-info' onClick={this.addRaceArticle}>Add race article</button>\n                            </div>\n                        </>}\n                    </div>\n                </>}\n                {submenu === 'userImages' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.user-images'>User images</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <div class='row'>\n                                {race.userImages && race.userImages.reverse().map(currentUserImage => <>\n                                    <div class='col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3'>\n                                        {isAdmin && <>\n                                            <button class='btn btn-danger position-absolute' style='top:5px; right: 5px;' data-id={currentUserImage.id} onClick={this.removeRaceUserImage}>\n                                                <i class='fas fa-times' />\n                                            </button>\n                                        </>}\n\n                                        <div class='clearfix'>\n                                            <img src={currentUserImage.image.s3LargeLink} class='img-fluid rounded-lg mb-2' />\n                                        </div>\n                                        <div class='clearfix'>\n                                            <h5 class='mb-0'>{currentUserImage.title}</h5>\n                                            <small class='text-muted'> {util.formatDate(currentUserImage.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</small><br />\n                                        </div>\n                                        <div class='clearfix'>\n                                            <Markdown markdown={mu.replaceImages(currentUserImage.body, currentUserImage.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                        </div>\n\n                                        {isAdmin && <>\n                                            <div class='border-top border-bottom mb-5'>\n                                                <details>\n                                                    <summary>Admin edit</summary>\n                                                    <h5 class='border-bottom'>Admin UserImage Edit</h5>\n                                                    {['title'].map(field => <>\n                                                        <div class='form-group '>\n                                                            <label for={field}>{field}</label>\n                                                            <input type='text' class='form-control font-weight-bold' id={field} aria-describedby={`${field}Help`}\n                                                                style='font-size: 1.5em;'\n                                                                data-id={currentUserImage.id}\n                                                                data-field={field}\n                                                                value={currentUserImage[field]}\n                                                                onInput={this.editRaceUserImage}\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                    {['body'].map(field => <>\n                                                        <div class='form-group'>\n                                                            <label for={field}>{field}</label>\n                                                            <textarea type='textarea' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                                data-id={currentUserImage.id}\n                                                                data-field={field}\n                                                                value={currentUserImage[field]}\n                                                                onInput={this.editRaceUserImage}\n                                                                style='height: 3em;'\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                </details>\n                                            </div>\n                                        </>}\n                                    </div>\n                                </>)}\n                                {isAdmin && <>\n                                    <div class='col-12 border rounded-lg m-2 p-3 bg-light'>\n                                        <h5>Add new user image</h5>\n                                        <div class='row'>\n                                            <div class='col'>\n                                                {newRaceUserImage && newRaceUserImage.image && <img src={newRaceUserImage.image.s3LargeLink} class='float-right w-50'  onError={this.handleImageErrored} />}\n                                                {['title'].map(field => <>\n                                                    <div class='form-group'>\n                                                        <label for={field}>{field}</label>\n                                                        <input type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                            onInput={linkstate(this, `newRaceUserImage.${field}`)}\n                                                            value={newRaceUserImage[field]}\n                                                        />\n                                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                                </>)}\n                                                {['body'].map(field => <>\n                                                    <div class='form-group'>\n                                                        <label for={field}>{field}</label>\n                                                        <textarea type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                            onInput={linkstate(this, `newRaceUserImage.${field}`)}\n                                                            onKeyUp={this.resizeTextarea}\n                                                            style='height: 3em;'\n                                                            value={newRaceUserImage[field]}\n                                                        />\n                                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                                </>)}\n                                            </div>\n                                        </div>\n                                        <Images saved={{}} object={{}} field={'image'} updateField={this.updateUserImageUpload} />\n                                        <button class='btn btn-info' onClick={this.addRaceUserImage}>Add race user image</button>\n                                    </div>\n                                </>}\n                            </div>\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'rules' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.rules'>Regler</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.rules, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'veterinary' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.veterinary'>Veterinærinfo</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.veterinaryInfo, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'checkpoints' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.checkpoints'>Sjekkpunkter</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.checkpoints, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'track' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.track-description'>Løypebeskrivelse</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.trailDescription, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'program' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.program'>Program</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.program, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'prices' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.prices'>Premier</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.prices, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'mushers' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='races.mushers'>Deltakere</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            {race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n\t\t\t\t\t\t\t\t<h5>{currentClass.title} {currentClass.startDate && <>\n\t\t\t\t\t\t\t\t\t: <span class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t{util.formatDate(`${currentClass.startDate} ${currentClass.startTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })} - {util.formatDate(`${currentClass.endDate} ${currentClass.endTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>}</h5>\n\t\t\t\t\t\t\t\t<div class='table-responsive'>\n\t\t\t\t\t\t\t\t\t<table class='table table-sm table-striped'>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col'>#</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col' style='min-width: 95%;'><Text id='races.name'>Navn</Text></th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{currentClass.contestants && currentClass.contestants.map((musher, idx) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst currentTeam = raceStore.getTeamById(musher.team);\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn (<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr onClick={this.toggleDisplayDetails} data-email={musher.email}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope='row'>{idx + 1}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`${displayDetails[musher.email] ? 'font-weight-bold' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`${displayDetails[musher.email] ? '' : 'line-height: 0.8em;'}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-primary btn-sm float-right' onClick={this.adminToggleEditUser}><i class='fas fa-user-edit' /></button>\n                                                                {musher.paidSignupfee && <>\n                                                                    <span class='float-right'>\n                                                                        <i class='fas fa-check text-success' /><br />\n                                                                    </span>\n                                                                </>}\n                                                                <small class='float-right'>\n                                                                    {musher.raceStatus && <><span class='text-muted'>raceStatus:</span><br /> {musher.raceStatus}<br /></>}\n                                                                    {musher.raceComment && <><span class='text-muted'>raceComment:</span><br /> {musher.raceComment}<br /></>}\n                                                                    {musher.gpxResultsApproved && <><span class='text-muted'>gpxResultsApproved:</span><br /> {musher.gpxResultsApproved}<br /></>}\n                                                                </small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{displayDetails[musher.email] ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.firstname} {musher.lastname}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'>{currentTeam.name}</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>{musher.sportsClub}</small><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.facebook && <a class='mr-2' href={mu.asFacebookLink(musher.facebook)} native target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.instagram && <a class='mr-2' href={mu.asInstagramLink(musher.instagram)} native target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a>}<br />\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price1 && <div class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-trophy text-warning' /> {musher.price1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.priceSent && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price2 && <div class='font-weight-lighter'><i class='fas fa-trophy text-warning' /> {musher.price2}</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price3 && <div class='font-weight-lighter'><i class='fas fa-trophy text-warning' /> {musher.price3}</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price1 && <span class='float-right text-warning' style='font-size: 1.2em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-trophy' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.priceSent && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.firstname} {musher.lastname}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>{musher.sportsClub}</small><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</nobr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(isAdmin && editUserDetails[musher.email]) && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>Admin edit:</h5>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class='col-4 col-form-label text-right'>Email</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Race status</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='raceStatus'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.raceStatus}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Choose race status --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='OK'>OK - Everything ok</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNS'>DNS - Did Not Start</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNF'>DNF - Did Not Finish</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNQ'>DNQ - Did not qualify</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DQ'>DQ - Disqualified</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='raceComment' class='col-4 col-form-label text-right'>Race comment</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='raceComment'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.raceComment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='gpxResultsApproved' class='col-4 col-form-label text-right'>GPX Results approved (date)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='gpxResultsApproved'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.gpxResultsApproved ? util.isoDate(musher.gpxResultsApproved, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='paidSignupfee' class='col-4 col-form-label text-right'>paidSignupfee (date)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='paidSignupfee'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.paidSignupfee ? util.isoDate(musher.paidSignupfee, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='startOrder' class='col-4 col-form-label text-right'>startOrder</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' class='form-control' id='startOrder'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.startOrder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='cellphone' class='col-4 col-form-label text-right'>Mobil</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='cellphone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.cellphone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='firstname' class='col-4 col-form-label text-right'>Fornavn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='firstname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.firstname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='lastname' class='col-4 col-form-label text-right'>Etternavn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='lastname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.lastname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='sportsClub' class='col-4 col-form-label text-right'>Klubb</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='sportsClub'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.sportsClub}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='facebook' class='col-4 col-form-label text-right'>Facebook</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='facebook'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.facebook}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='instagram' class='col-4 col-form-label text-right'>Instagram</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='instagram'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.instagram}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Team</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='team' aria-describedby='teamHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.team}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Velg team --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{teams.map(team =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={team.id}>{team.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Klasse</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='class' aria-describedby='classHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Choose race class --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price1' class='col-4 col-form-label text-right'>Price 1</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price2' class='col-4 col-form-label text-right'>Price 2</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price3' class='col-4 col-form-label text-right'>Price 3</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='priceSent' class='col-4 col-form-label text-right'>Price sent</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='priceSent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.priceSent ? util.isoDate(musher.priceSent, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' class='btn btn-danger float-right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='deleteUser'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete user from this class\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</>);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t\t{showAdminSendMessage[currentClass.id] ? <>\n\t\t\t\t\t\t\t\t\t\t<div class='container'>\n\t\t\t\t\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>Message to all mushers in {currentClass.title}</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='overflow-auto p-5' style='max-height: 30vh;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentClass.emails && currentClass.emails.map((email) => <div class='border rounded-lg p-3 mb-3'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDate:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{util.formatDate(email.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTo:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.to.map(e => <span class='badge badge-info px-2 py-1 mr-2'>{e}</span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubject:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBody:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: nl2br(email.body) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='subject' class='col-2 col-form-label text-right font-weight-lighter'>To</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentClass.contestants && currentClass.contestants.map((musher) => <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-info px-2 py-1 mr-2'>{musher.firstname} {musher.lastname} ({musher.email})</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='subject' class='col-2 col-form-label text-right font-weight-lighter'>Subject</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='subject'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={linkstate(this, 'message.subject')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={message.subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='body' class='col-2 col-form-label text-right font-weight-lighter'>Message</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea type='text' class='form-control' id='body'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows='10'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={linkstate(this, 'message.body')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={message.body}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-5 contain-images'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Markdown markdown={message.body} markdownOpts={mu.getMarkdownOptions()} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{emailResponse && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class={`alert alert-${emailResponse && emailResponse.status >= 300 ? 'danger' : 'success'}`} role='alert'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<xmp>{JSON.stringify(emailResponse, null, 4)}</xmp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-success float-right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-to={currentClass.contestants && currentClass.contestants.map(musher => musher.email)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-raceclassid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.sendEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-paper-plane' /> Send email to all mushers\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-danger float-right mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.resetEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-times' /> Reset email\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link' type='button' onClick={this.toggleAdminSendMessage} data-class={currentClass.id}>Hide email form</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link' type='button' onClick={this.toggleAdminSendMessage} data-class={currentClass.id}>Send message to all in this class</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t</>}\n\n\n\t\t\t\t\t\t\t</>)}\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'classes' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.classes'>Klasser</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <div class='row'>\n                                {race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n                                    <div class='col-12 col-sm-6 col-lg-4 mb-4'>\n                                        <div class='border rounded rounded-lg p-3'>\n                                            <h5>{currentClass.title}</h5>\n\n                                            <small>\n                                                {currentClass.startDate && <div>\n                                                    <span class='font-weight-lighter'><Text id='race.startdate'>Start</Text>:</span> {util.formatDate(`${currentClass.startDate} ${currentClass.startTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n                                                </div>}\n                                                {currentClass.endDate && <div>\n                                                    <span class='font-weight-lighter'><Text id='race.enddate'>End</Text>:</span> {util.formatDate(`${currentClass.endDate} ${currentClass.endTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n                                                </div>}\n                                            </small>\n\n                                            <div><span class='font-weight-lighter'><Text id='race.distance'>Distanse</Text>:</span> {currentClass.distance} km</div>\n                                            <div><span class='font-weight-lighter'><Text id='race.signup'>Påmelding</Text>:</span> {currentClass.signupfee || race.signupfee} NOK</div>\n                                            <p class='clearfix'>\n                                                <Markdown markdown={mu.replaceImages(currentClass.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </p>\n                                            <small>\n                                                <Markdown markdown={mu.replaceImages(currentClass.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </small>\n                                            {currentClass.rules && <>\n                                                <h5><Text id='race.rules'>Regler</Text></h5>\n                                                <Markdown markdown={mu.replaceImages(currentClass.rules, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </>}\n                                        </div>\n                                    </div>\n                                </>)}\n                            </div>\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'signup' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='races.signup'>Påmelding</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            {today >= new Date(race.signupStartDate) && today <= new Date(race.signupEndDate) ? <>\n                                <span class='font-weight-lighter'><Text id='races.signed-in-as'>Logget inn som</Text>:</span> {user.email}<br /><br />\n\n                                {signup.id ? <>\n                                    <div class='font-weight-bold mb-4'>\n                                        <i class='fas fa-check text-success' /> <Text id='races.signed-up'>Din bruker er påmeldt!</Text><br />\n                                        {/* {JSON.stringify(signup)} */}\n                                    </div>\n\n                                    {race.signuppayment && <>\n                                        <div class='form-group row my-0'>\n                                            <label for='cellphone' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.signup'>Påmelding</Text></label>\n                                            <div class='col-10'>\n                                                {signup.paidSignupfee ? <div class='py-2'>\n                                                    <Text id='races.paid'>Betalt</Text>: {util.formatDate(signup.paidSignupfee)}\n                                                    <i class='fas fa-check text-success ml-3' />\n                                                </div> : <>\n                                                    <div class='alert alert-danger mb-1' role='alert'>\n                                                        <h5>\n                                                            <span class='font-weight-lighter'><Text id='races.payment-info'>Betaling påmelding</Text>:</span><br />\n                                                            <Markdown markdown={mu.replaceImages(race.signuppayment, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                                            {signupClass.signupfee || race.signupfee} NOK\n                                                        </h5>\n                                                    </div>\n                                                </>}\n                                            </div>\n                                        </div>\n                                    </>}\n\n                                    <div class='clearfix mt-2'>\n                                        <span class='font-weight-lighter float-right'><Text id='races.click-to-change'>Click the fields to edit.</Text></span>\n                                    </div>\n\n                                    <div class='form-group row my-0'>\n                                        <label for='cellphone' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.cellphone'>Mobil</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='cellphone'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.cellphone}\n                                                    placeholder={<Text id='races.cellphone-help'>Hva er mobilnummer ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='firstname' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.firstname'>Fornavn</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='firstname'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.firstname}\n                                                    placeholder={<Text id='races.firstname-help'>Hva er fornavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='lastname' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.lastname'>Etternavn</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='lastname'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.lastname}\n                                                    placeholder={<Text id='races.lastname-help'>Hva er etternavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='sportsClub' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.sportsclub'>Klubb</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='sportsClub'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.sportsClub}\n                                                    placeholder={<Text id='races.sportsClub-help'>Hvilken klubb tilhører du?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='facebook' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.facebook'>Facebook</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='facebook'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.facebook}\n                                                    placeholder={<Text id='races.facebook-help'>Hva er Facebook brukernavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='instagram' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.instagram'>Instagram</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='instagram'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.instagram}\n                                                    placeholder={<Text id='races.instagram-help'>Hva er Instagram brukernavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='team' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.team'>Team</Text></label>\n                                        <div class='col-10'>\n                                            <select class='form-control' id='team' aria-describedby='teamHelp'\n                                                data-classid={signup.class}\n                                                data-contestantid={signup.id}\n                                                onInput={this.editSignup}\n                                                value={signup.team}\n                                            >\n                                                <option value=''>-- <Text id='races.choose-team'>Velg team</Text> --</option>\n                                                {teams.map(team =>\n                                                    <option value={team.id}>{team.name}</option>\n                                                )}\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='team' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.class'>Klasse</Text></label>\n                                        <div class='col-10'>\n                                            <select class='form-control' id='class' aria-describedby='classHelp'\n                                                onInput={this.editSignup}\n                                                value={signup.class}\n                                                disabled\n                                            >\n                                                <option value=''>-- <Text id='races.choose-class'>Velg klasse</Text> --</option>\n                                                {race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n                                                    <option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n                                                </>)}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                </> : <>\n\n                                    <div class='form-group'>\n                                        <label for='cellphone'><Text id='races.cellphone'>Mobil</Text></label>\n                                        <input type='text' class='form-control' id='cellphone' aria-describedby='cellphoneHelp'\n                                            placeholder={user.cellphone}\n                                            onInput={this.updateSignup}\n                                            value={signup.cellphone}\n                                        />\n                                        <small id='cellphoneHelp' class='form-text text-muted'><Text id='races.cellphone-help'>'Hva er mobilnummer ditt?'</Text></small>\n                                    </div>\n\n                                    <div class='row'>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='firstname'><Text id='races.firstname'>Fornavn</Text></label>\n                                                <input type='text' class='form-control' id='firstname' aria-describedby='firstnameHelp'\n                                                    placeholder={user.firstname}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.firstname}\n                                                />\n                                                <small id='firstnameHelp' class='form-text text-muted'><Text id='races.firstname-help'>Hva er fornavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='lastname'><Text id='races.lastname'>Etternavn</Text></label>\n                                                <input type='text' class='form-control' id='lastname' aria-describedby='lastnameHelp'\n                                                    placeholder={user.lastname}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.lastname}\n                                                />\n                                                <small id='lastnameHelp' class='form-text text-muted'><Text id='races.lastname-help'>Hva er etternavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class='form-group'>\n                                        <label for='sportsClub'><Text id='races.sportsclub'>Klubb</Text></label>\n                                        <input type='text' class='form-control' id='sportsClub' aria-describedby='sportsClubHelp'\n                                            placeholder={user.sportsClub}\n                                            onInput={this.updateSignup}\n                                            value={signup.sportsClub}\n                                        />\n                                        <small id='sportsClubHelp' class='form-text text-muted'><Text id='races.sportsClub-help'>Hvilken klubb tilhører du?</Text></small>\n                                    </div>\n\n                                    <div class='row'>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='facebook'><Text id='races.facebook'>Facebook</Text></label>\n                                                <input type='text' class='form-control' id='facebook' aria-describedby='facebookHelp'\n                                                    placeholder={user.facebook}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.facebook}\n                                                />\n                                                <small id='facebookHelp' class='form-text text-muted'><Text id='races.facebook-help'>Hva er Facebook brukernavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='instagram'><Text id='races.instagram'>Instagram</Text></label>\n                                                <input type='text' class='form-control' id='instagram' aria-describedby='instagramHelp'\n                                                    placeholder={user.instagram}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.instagram}\n                                                />\n                                                <small id='instagramHelp' class='form-text text-muted'><Text id='races.instagram-help'>Hva er Instagram brukernavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class='form-group'>\n                                        <label for='team'><Text id='races.team'>Team</Text></label>\n                                        <select class='form-control' id='team' aria-describedby='teamHelp'\n                                            onInput={this.updateSignup}\n                                            value={signup.team}\n                                        >\n                                            <option value=''>-- <Text id='races.choose-team'>Velg team</Text> --</option>\n                                            {teams.map(team =>\n                                                <option value={team.id}>{team.name}</option>\n                                            )}\n                                        </select>\n                                        <small id='teamHelp' class='form-text text-muted'><Text id='races.choose-team-help'>Velg fra dine team</Text></small>\n                                    </div>\n\n                                    <div class='form-group'>\n                                        <label for='class'><Text id='races.class'>Klasse</Text></label>\n                                        <select class='form-control' id='class' aria-describedby='classHelp'\n                                            onInput={this.updateSignup}\n                                            value={signup.class}\n                                        >\n                                            <option value=''>-- <Text id='races.choose-class'>Velg klasse</Text> --</option>\n                                            {race.classes && race.classes.map(currentClass => <>\n                                                <option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n                                            </>)}\n                                        </select>\n                                        <small id='classHelp' class='form-text text-muted'><Text id='races.choose-class-help'>Velg ønsket klasse.</Text></small>\n                                    </div>\n\n                                    <div class='form-group form-check'>\n                                        <input type='checkbox' class='form-check-input' id='termsAndAgreement'\n                                            onInput={this.updateSignup}\n                                            checked={signup.termsAndAgreement}\n                                            value={true}\n                                        />\n                                        <label class='form-check-label' for='termsAndAgreement'><Text id='races.agreement-accept'>Jeg har lest og godtar reglene for løpet.</Text></label>\n                                    </div>\n                                    <button type='button' class='btn btn-primary' onClick={this.signupToRace}><Text id='races.do-signup'>Meld meg på</Text></button>\n                                </>}\n\n                            </> : <>\n                                {today < new Date(race.signupStartDate) ? <>\n                                    <h5 class='mt-4'>\n                                        <i class='fas fa-exclamation-circle' /> <Text id='races.signup-not-open-yet'>Påmeldingen har ikke åpnet ennå!</Text>\n                                    </h5>\n                                    <p class='mt-4'>\n                                        <Text id='races.signup-opening'>Påmeldingen åpner</Text>:<br />\n                                        <span class='display-4'>{util.formatDate(race.signupStartDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</span>\n                                    </p>\n                                </> : <>\n                                    <h5 class='mt-4 mb-4'>\n                                        <i class='fas fa-exclamation-circle' /> <Text id='races.signup-closed'>Påmeldingen er stengt!</Text>\n                                    </h5>\n                                </>}\n                            </>}\n                        </div>\n                    </div>\n                </>}\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                        <div class=''>\n                            <LikesAndComments\n                                stores={this.props.stores}\n                                likes={likes}\n                                comments={comments}\n                                type='story'\n                                // onTeamClick={onTeamClick}\n                                // onUserClick={onUserClick}\n                            />\n                        </div>\n                    </div>\n\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n                        <div class='row'>\n                            <div class='col-6 text-center'>\n                                <button type='button' class={`btn btn-outline-${hasLikedRace ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedRace ? 'text-primary' : ''}`}\n                                    onClick={this.likeRace}\n                                    // disabled={hasLikedRace}\n                                >\n                                    <i class={`${hasLikedRace ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> {hasLikedRace ? <Text id='comments.has-liked'>Liked</Text> : <Text id='comments.like'>Lik</Text>}\n                                </button>\n                            </div>\n                            <div class='col-6 text-center'>\n                                <button type='button' class='btn btn-outline-secondary btn-lg btn-block'\n                                    data-id={race.id}\n                                    onClick={this.toggleAddComment}\n                                >\n                                    <i class='fas fa-comment' /> <Text id='comments.comment-add'>Comment</Text>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    {showAddComment && user.email && <RaceAddComment\n                        stores={this.props.stores}\n                        race={race}\n                        // callback={this.loadRaceDetail}\n                        inputRef={c => this.inputRef[race.id] = c}\n                    />}\n                    <RaceComments\n                        stores={this.props.stores}\n                        race={race}\n                        cols='12'\n                        // callback={this.loadRaceDetail}\n                    />\n\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default AppRaceDetailSignup;\n"],"sourceRoot":""}