(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{RUc2:function(t,e,o){"use strict";function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.r(e);var a,c=o("hosL"),r=o("Gblv"),i=o("/eY4"),l=(o("cneo"),o("OhSV")),d=o("ZOvn"),b=o.n(d),h=(o("KDoM"),o("2X7c")),u=o("7g1v"),p=(o("mPUg"),o("pJjI")),f=b.a.marginTop(!0),O=b.a.marginBottom(),g=b.a.subMenuMarginTop(),m={isLoading:!1,daysBack:parseInt(r.a.get("dogWorkoutDaysBack"),10),submenu:"all"},j=Object(i.a)(a=function(t){function e(e){var o;return(o=t.call(this,e)||this).loadDogs=function(t){return new Promise((function(e,s){var n,a,c,r,i;return void 0===t&&(t=o.props),o.setState({isLoading:!0}),n=o.state.daysBack,r=(a=o.props.stores).userStore,i=(c=a.dogStore).currentTeam,Promise.resolve(Promise.all([o.loadWorkoutPlans(t),c.load({query:{team:i},addData:["workoutSummary","vaccineStatuses","historyStatuses"]}),c.getDogsWithTraining({daysBack:n}),r.getNotifications()])).then((function(){try{return o.setState({isLoading:!1}),e()}catch(t){return s(t)}}),s)}))},o.loadWorkoutPlans=function(t){return new Promise((function(e,s){function n(){return o.setState({isLoading:!1}),e()}var a,c,i,l,d,b,h,u;return void 0===t&&(t=o.props),o.setState({isLoading:!0}),a=t.year,c=(new Date).getMonth()+1,i=r.a.getYear(),l=parseInt(a||(c<6?i-1:i),10),h=(d=t.stores).workoutStore.currentTeam,(b=d.workoutPlanStore).updateItem("workoutPlans",[]),b.updateItem("workoutPlan",{}),b.resetGraphPlanWeekDistanceCurrent(),h?Promise.resolve(b.load({query:{team:h,seasonYear:l,seasonMonth:6}})).then(function(){try{if((u=b.workoutPlans[0]||{}).id)return Promise.resolve(b.load(u.id)).then(function(){try{return b.prepareWeekGraphs({year:a}),t.call(this)}catch(t){return s(t)}}.bind(this),s);function t(){return n.call(this)}return t.call(this)}catch(t){return s(t)}}.bind(this),s):n.call(this)}))},o.setHistoryType=function(t){o.setState({historyType:t})},o.chooseSubmenu=function(t){o.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},o.chooseDaysBack=function(t){var e=parseInt(t.target.parentElement.dataset.periode||t.target.dataset.periode,10);r.a.set("dogWorkoutDaysBack",e),o.setState({daysBack:e}),o.props.stores.dogStore.getDogsWithTraining({daysBack:e})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},m),o}var o,a;a=t,(o=e).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a;var i=e.prototype;return i.componentDidMount=function(){this.loadDogs()},i.render=function(){var t=this,e=this.state,o=e.isLoading,s=e.historyType,n=e.submenu,a=e.daysBack,r=this.props.stores,i=r.dogStore,d=r.appState,m=r.userStore.user.language,j=b.a.getHistoryMap(void 0===m?"no":m),y=d.darkmode,w=i.dogs,v=i.workoutSummaryCurrent,k=function(){return!0};if(w)switch(n){case"all":k=function(){return!0};break;case"leadOnly":k=function(t){return!!(t.positions&&t.positions.lead&&t.positions.lead.distanceKm>0)};break;case"pointOnly":k=function(t){return!!(t.positions&&t.positions.point&&t.positions.point.distanceKm>0)};break;case"teamOnly":k=function(t){return!!(t.positions&&t.positions.team&&t.positions.team.distanceKm>0)};break;case"wheelOnly":k=function(t){return!!(t.positions&&t.positions.wheel&&t.positions.wheel.distanceKm>0)}}var x=w.filter(k);return Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+O+"; margin-top: "+f+";"},Object(c.h)("div",{class:"row mb-4 fixed-top",style:"margin-top: "+g+"; background-color: "+(y?"#191d21":"#f8f9fa")+";"},Object(c.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs",class:"text-primary stretched-link"},Object(c.h)("i",{class:"fas fa-chart-line"})," ",Object(c.h)(l.c,{id:"dogs.dashboard"},"Oversikt")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-list"})," ",Object(c.h)(l.c,{id:"dogs.list"},"Liste")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs/feed",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-rss"})," ",Object(c.h)(l.c,{id:"dogs.feed"},"Feed")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-calendar-check"})," ",Object(c.h)(l.c,{id:"dogs.todo"},"Todo"))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2 border-bottom"},Object(c.h)(p.a,{stores:this.props.stores,callback:this.loadDogs})),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix"},Object(c.h)("span",{class:"float-right"},Object(c.h)("a",{class:"btn btn-sm btn-primary ml-2",href:"/dogs/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(l.c,{id:"dogs.add-dogs"},"Legg til hunder"))),Object(c.h)(h.a,{stores:this.props.stores,dog:{},callback:this.loadDogs})),!o&&w&&0===w.length&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(c.h)("div",{class:"text-center mb-5"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-dog"})),Object(c.h)("h5",null,Object(c.h)(l.c,{id:"dogs.no-dogs-registered"},"Ingen hunder er registrert ennå."))),Object(c.h)(l.c,{id:"dogs.howto-add-1"},"Slik kommer du i gang:"),Object(c.h)("ol",null,Object(c.h)("li",null,Object(c.h)(l.c,{id:"dogs.howto-add-2"},'Trykk på knappen "Legg til hunder" rett nedenfor.')))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("all"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(l.c,{id:"dogs.all"},"Alle"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("leadOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"leadOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chart-area"})," ",Object(c.h)(l.c,{id:"dogs.leadOnly"},"Leder"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("pointOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pointOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chart-area"})," ",Object(c.h)(l.c,{id:"dogs.pointOnly"},"Point"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("teamOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"teamOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chart-area"})," ",Object(c.h)(l.c,{id:"dogs.teamOnly"},"Team"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("wheelOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wheelOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chart-area"})," ",Object(c.h)(l.c,{id:"dogs.wheelOnly"},"Wheel"))))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)(l.c,{id:"dogs.days-back"},"Siste"),":")),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(0===a?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"0",onClick:this.chooseDaysBack},Object(c.h)(l.c,{id:"dogs.d1"},"Dag"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(1===a?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"1",onClick:this.chooseDaysBack},Object(c.h)(l.c,{id:"dogs.d2"},"2 dager"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(7===a?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"7",onClick:this.chooseDaysBack},Object(c.h)(l.c,{id:"dogs.d7"},"7 dager"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(14===a?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"14",onClick:this.chooseDaysBack},Object(c.h)(l.c,{id:"dogs.d14"},"14 dager"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(30===a?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-periode":"30",onClick:this.chooseDaysBack},Object(c.h)(l.c,{id:"dogs.d30"},"30 dager"))))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(c.h)("h5",null,s?Object(c.h)("span",null,Object(c.h)(l.c,{id:"dogs.dogs-filtered-by"},"Filtrert på:")," ",j[s]):Object(c.h)("span",null,Object(c.h)(l.c,{id:"dogs.all-dogs",fields:{total:x.length}},"Alle hundene - ",x.length," stk"))),Object(c.h)("div",{class:"row"},x&&x.map((function(e){var o=(i.findCurrentWorkoutSummary(e.id)||{}).distanceKm;return Object(c.h)(u.a,{stores:t.props.stores,key:"dog-"+e.id+"-"+v.length+"-"+o,dog:e,hideTeam:!0,showWorkout:!0,daysBack:a,filterBy:n})})))))))},e}(c.Component))||a;e.default=j}}]);
//# sourceMappingURL=route-dogs.chunk.d5464.js.map