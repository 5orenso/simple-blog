(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+1Jk":function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=s("Utv1"),a=s("/eY4"),l=s("OhSV"),u=s("Y3FI"),h=(s("X9Km"),s("ZOvn")),p=(s("XPU5"),s("ZWUU"),s("CE5K"),s("0SNj")),d=s("9Bb9"),b=s("pJjI"),m=s("L3gU"),f=s("AEg1"),g=s("gOLw"),O=s("w93r"),j=s("qv+O"),v=h.a.marginTop(!1),w=h.a.marginBottom(),y=(h.a.subMenuMarginTop(),{isLoading:!1,submenu:"lastWorkouts"}),S=Object(a.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.addNavigation=function(t){void 0===t&&(t=s.props);var e=t.viewmenu,o=s.props.stores.appState;"wall"===e&&(o.setSwipeRight(),o.setSwipeLeft((function(){o.setSwipeLeft(),Object(u.route)("/home-workout")}))),"workout"===e&&(o.setSwipeLeft(),o.setSwipeRight((function(){o.setSwipeRight(),Object(u.route)("/")})))},s.getState=function(){return new Promise((function(t,e){var o;return o=s.props.stores.workoutStore,Promise.resolve(o.cordovaGetState()).then((function(){try{return Promise.resolve(o.cordovaProviderState()).then((function(){try{return Promise.resolve(o.cordovaIsPowerSaveMode()).then((function(){try{return Promise.resolve(o.cordovaGetLog()).then((function(){try{return t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},s.destroyLog=function(){return new Promise((function(t){return s.props.stores.workoutStore.cordovaDestroyLog(),t()}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},y),s}var n,a;a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var h=s.prototype;return h.loadAll=function(){return new Promise(function(t,e){var s,o,r,n;return o=(s=this.props.stores).appState,r=s.userStore,n=s.messageStore,this.setState({isLoading:!0}),Promise.resolve(o.getFingerprint()).then(function(){try{return Promise.resolve(r.getInfo()).then(function(){try{return Promise.resolve(r.getNotifications()).then(function(){try{return Promise.resolve(n.getUnReadMessages()).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadAll()},h.componentWillUnmount=function(){var t=this.props.stores.appState;t.setSwipeRight(),t.setSwipeLeft()},h.componentWillReceiveProps=function(){},h.render=function(){var e=this.props,s=e.viewmenu,o=e.path,r=e.teamid,n=this.props.stores,a=n.userStore,u=n.workoutStore,h=a.user,y=h.currentLocationGeocode,S=h.yrWeatherKeys,x=void 0===S?[]:S,k=(void 0===y?{}:y).formatted_address,P=u.currentTeam,T=u.cordovaActiveTrackingParams,D=u.isRunning,L=u.totalDistance,C=u.currentSpeed,F=u.totalTime;return Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+w+"; margin-top: "+v+";"},D&&T&&Object(c.h)(t,null,Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(c.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(c.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(c.h)("div",{class:"row mb-3"},Object(c.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.secToHms(F)),Object(c.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(3.6*C,1)," km/t"),Object(c.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(L/1e3,2)," km")),Object(c.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(c.h)(l.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),Object(c.h)("div",{class:""},h.id&&Object(c.h)(O.a,{stores:this.props.stores,place:k,yrWeather:x.join(",")})),h.id&&Object(c.h)(f.a,{stores:this.props.stores}),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"w-100 overflow-hidden"},Object(c.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("a",{class:"btn btn-block rounded-pill-left rounded-none "+("wall"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wall",href:"/home-wall"},Object(c.h)("i",{class:"fas fa-comments"})," ",Object(c.h)(l.c,{id:"home.wall"},"Veggen"))),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("a",{class:"btn btn-block rounded-pill-right rounded-none "+("workout"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workout",href:"/home-workout"},Object(c.h)("i",{class:"fas fa-running"}),"  ",Object(c.h)(l.c,{id:"home.feed"},"Feed"))))))),"wall"===s&&Object(c.h)(t,null,Object(c.h)(j.a,{stores:this.props.stores}),Object(c.h)(g.a,{stores:this.props.stores,path:o})),"workout"===s&&Object(c.h)(t,null,Object(c.h)(m.a,{stores:this.props.stores,teamid:r})),"totals"===s&&Object(c.h)(t,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)(b.a,{stores:this.props.stores}),Object(c.h)(p.a,{stores:this.props.stores,currentTeam:P}),Object(c.h)(d.a,{stores:this.props.stores,currentTeam:P}))))},s}(c.Component))||n;e.default=S}.call(this,s("hosL").Fragment)},L3gU:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=s("Utv1"),a=s("/eY4"),l=s("OhSV"),u=s("VKmm"),h=s("rWES"),p=s("epqT"),d=s("yHBq"),b=s("q/oJ"),m=s("gWxU"),f=s("Nanz"),g=s("ISGx"),O=s("ZOvn"),j={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:10,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},v=["id","type","user","team","title"],w=Object(a.a)(n=function(e){function s(s){var n;return(n=e.call(this,s)||this).setLoadMore=function(){n.props.stores.teamStore.setLoadMore((function(){var t=n.props.teamid,e=n.state,s=e.limit,o=e.offset;n.setState({offset:o+=s}),n.loadTeamsPublicFeed({limit:s,offset:o,teamid:t})}))},n.unsetLoadMore=function(){n.props.stores.teamStore.setLoadMore((function(){}))},n.insertTopRanked=function(){for(var t=n.props.stores.teamStore,e=t.publicTeamsFeed,s=i.a.shuffleArray(t.topRankedWorkouts),o=[].concat(e),r=0;r<3;r+=1){var c=O.a.randomInt(0,7);i.a.isObject(s[r])&&o.splice(c,0,s[r])}t.localUpdateField("publicTeamsFeed",o)},n.insertAds=function(){var t=n.state.idxAd,e=n.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"ad",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},n.insertTeamConfirm=function(){var t=n.state.idxConfirm,e=n.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"teamConfirm",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},n.insertTeamSuggestions=function(){var t=n.state.idxSuggestion,e=n.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},n.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showTeam:e}),!1},n.hideTeam=function(){n.setState({showTeam:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e,dogs:s}),!1},n.hideDog=function(){n.setState({showDog:null})},n.setupIntersection=function(){n.setState({handleIntersection:O.a.intersectionObserverCallback});var t=n.props.stores.teamStore;n.scrollViewTimer=setInterval((function(){return t.postScrollview(O.a.getIntersectionObserverHistory())}),3e4)},n.renderContent=function(e){var s=e.obj,o=e.idx,r=n.props.stores.appState.path;return"ad"===s.type?Object(c.h)(t,null,Object(c.h)(p.a,{stores:n.props.stores,path:r})):"teamConfirm"===s.type?Object(c.h)(t,null,Object(c.h)(h.a,{stores:n.props.stores})):"teamSuggestions"===s.type?Object(c.h)(t,null,Object(c.h)(u.a,{stores:n.props.stores})):Object(c.h)(t,null,Object(c.h)(g.a,{stores:n.props.stores,feed:s,idx:o,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick,onDogClick:n.onDogClick}))},n.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},j),n}var n,a;a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var w=s.prototype;return w.loadTeamsPublicFeed=function(t){return new Promise(function(e,s){var o,r;return r=void 0===(o=t.props)?this.props:o,Promise.resolve(r.stores.teamStore.loadPublicFeed({limit:t.limit,offset:t.offset,sort:"-createdDate",teamid:r.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},w.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeamsPublicFeed({props:t,limit:this.state.limit,offset:0,teamid:t.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},w.componentWillMount=function(){this.setupIntersection()},w.componentWillUnmount=function(){this.unsetLoadMore();var t=this.props.stores.teamStore;t.postScrollview(O.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),t.cleanupMemory()},w.componentDidMount=function(){this.loadAll(),this.setLoadMore()},w.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},w.render=function(){var e,s,o=this.state,r=o.showTeam,n=o.showDog,i=o.handleIntersection,a=o.sessionid,u=o.dogs,p=this.props.stores,g=p.teamStore,j=p.appState,w=g.publicTeamsFeed,y=j.darkmode,S=g.findPublicTeamByUuidv4(this.props.teamid),x=O.a.getImage({team:S});return S&&S.name&&(e=O.a.displayNameShort(S),s=O.a.displayName(S)),Object(c.h)(t,null,r&&Object(c.h)(b.a,null,Object(c.h)(m.a,{stores:this.props.stores,teamid:r,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),n&&Object(c.h)(b.a,null,Object(c.h)(f.a,{stores:this.props.stores,dogid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:u})),Object(c.h)("div",{class:"w-100"},S?Object(c.h)(t,null,Object(c.h)("div",{class:"row pb-3 pt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)("div",{class:"row"},Object(c.h)("h3",null,Object(c.h)("div",{class:"d-flex position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:x?'background-image: url("'+x+'"); background-size: cover;':""},!x&&Object(c.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},e)),Object(c.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(c.h)("h3",{class:"mb-1"},S.public?Object(c.h)(t,null,Object(c.h)("a",{href:"/teams/public/"+S.uuidv4,class:"stretched-link"},s)):Object(c.h)(t,null,s))))))))):Object(c.h)(t,null,Object(c.h)(h.a,{stores:this.props.stores})),(!w||0===w.length)&&Object(c.h)(t,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-chart-area"})),Object(c.h)("h3",null,Object(c.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(c.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(c.h)("div",{class:"text-center mt-3"},Object(c.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(c.h)(d.a,{data:w,wrapperClassNames:"row pb-4",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(y?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:v,dataValues:{type:"10"},handleIntersection:i,sessionid:a})))},s}(c.Component))||n;e.a=w}).call(this,s("hosL").Fragment)},ZWUU:function(t,e,s){"use strict";var o,r=s("hosL"),n=(s("Utv1"),s("/eY4")),c=s("OhSV");s("go65"),Object(n.a)(o=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).toggleSetting=function(t){return new Promise((function(s,o){var r,n,c;return c=(n=e.props.stores.userStore).user.settings,Promise.resolve(n.updateSetting((r={},r["settings."+t]=1===(void 0===c?{}:c)[t]?0:1,r))).then((function(){try{return s()}catch(t){return o(t)}}),o)}))},e.hideSettings=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideSettings":1})).then((function(){try{return e.setState({hideSettings:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this,e=this.props.stores.userStore.user.settings,s=void 0===e?{}:e;return this.state.hideSettings||s.hideSettings||!this.props.forceShow&&s.summaryEmails&&s.infoEmails&&s.partnerEmails?"":Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(r.h)("h5",null,Object(r.h)(c.c,{id:"users.settings"},"Brukerinnstillinger")),!s.summaryEmails&&Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-4 text-muted text-right"},Object(r.h)(c.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(r.h)("div",{class:"col-8"},Object(r.h)("div",{class:"custom-control custom-switch"},Object(r.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:function(){return t.toggleSetting("summaryEmails")},checked:s.summaryEmails}),Object(r.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(r.h)("small",{class:"text-muted"},Object(r.h)(c.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!s.infoEmails&&Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-4 text-muted text-right"},Object(r.h)(c.c,{id:"users.settings-info-email"},"Info")),Object(r.h)("div",{class:"col-8"},Object(r.h)("div",{class:"custom-control custom-switch"},Object(r.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:function(){return t.toggleSetting("infoEmails")},checked:s.infoEmails}),Object(r.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(r.h)("small",{class:"text-muted"},Object(r.h)(c.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!s.partnerEmails&&Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-4 text-muted text-right"},Object(r.h)(c.c,{id:"users.settings-partner-email"},"Partners")),Object(r.h)("div",{class:"col-8"},Object(r.h)("div",{class:"custom-control custom-switch"},Object(r.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:function(){return t.toggleSetting("partnerEmails")},checked:s.partnerEmails}),Object(r.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(r.h)("small",{class:"text-muted"},Object(r.h)(c.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post")))),Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 text-muted"},Object(r.h)("small",null,Object(r.h)("a",{href:"/users"},Object(r.h)("i",{class:"fas fa-sliders-h"})," ",Object(r.h)(c.c,{id:"users.settings-text-info"},"Innstillingene finner du inne på profilen din."))))),Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 text-muted text-right"},Object(r.h)("small",null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(r.h)("i",{class:"fas fa-eye-slash"})," ",Object(r.h)(c.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))},e}(r.Component))},"qv+O":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t,e,s){if(void 0===t&&(t=""),void 0===s&&(s="en"),l.a.isString(t)){var o=t,r=new RegExp("<"+s+">(.*?)</"+s+">","s").exec(o);if(r){var n=r[0];n&&(o=n)}return o.replace(/\{\{img\.(\d+)\s*(\d*)\}\}/g,(function(t,s,o){return l.a.isObject(e[s])?"<img src="+e[s].s3XXLargeLink+" class='img-fluid float-right' style='width: "+(o||40)+"%;' />":""}))}return t}var i,a=s("hosL"),l=s("Utv1"),u=s("/eY4"),h=s("OhSV"),p=s("fh8t"),d=s.n(p),b=(s("ZOvn"),{pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0}),m={isLoading:!1},f=Object(u.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleRaces=function(){return new Promise((function(t,e){var o,r,n;return s.setState({hideRaces:n=(void 0===(r=(o=s.props.stores.userStore).user.toggleFeature)?{}:r).racesFrontpage?0:1}),Promise.resolve(o.setToggleFeature({field:"toggleFeature.racesFrontpage",value:n})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.scrollRaces=function(t){var e=t.target,o=e.scrollLeft/e.clientWidth,r=Math.round(o),n=Math.abs(r-o);(Number.isInteger(o)||n<.5)&&s.setState({raceIdx:r})},s.state=r(r({},m),{},{raceIdx:0}),s}var o,n;n=e,(o=s).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n;var i=s.prototype;return i.loadRace=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),this.setState({isLoading:!0}),Promise.resolve(t.stores.raceStore.load({query:{active:1}})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},i.componentDidMount=function(){this.loadRace()},i.render=function(){var e=this.props.stores,s=e.appState,o=e.userStore,r=o.isAdmin,n=e.raceStore.races,i=void 0===n?[]:n,u=s.darkmode,p=s.language,m=void 0===p?"en":p,f=this.state,g=f.hideRaces,O=f.raceIdx,j=o.user.toggleFeature,v=void 0===j?{}:j,w=new Date;return Object(a.h)("div",{class:"row"},g||v.racesFrontpage?Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 bg-"+(u?"black":"white")+" rounded-lg position-relative"},Object(a.h)("div",{class:"w-100 d-flex justify-content-center"},Object(a.h)("button",{class:"btn btn-block btn-link",onClick:this.toggleRaces},Object(a.h)("i",{class:"fas fa-angle-down"})," ",Object(a.h)(h.c,{id:"races.show-races"},"Show Races")," ",i.length>1&&Object(a.h)(t,null,"/ ",i.length))))))):Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"w-100 position-relative"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollRaces},i&&i.map((function(e){var s="";return w>=new Date(e.startDate)&&w<=new Date(e.endDate)?s="race":w>=new Date(e.signupStartDate)&&w<=new Date(e.signupEndDate)&&(s="signup"),Object(a.h)(t,null,Object(a.h)("div",{class:"col-"+(1===i.length?12:10)+" mb-0 mr-4 bg-"+(u?"black":"white")+" rounded-lg position-relative",style:"\n                                                    scroll-snap-align: start;\n                                                    flex-wrap: wrap;\n                                                    overflow-y: hidden;\n                                                ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(a.h)("div",{class:"row d-flex align-items-center position-relative"},Object(a.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===s&&Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(a.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===s&&Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(a.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===s&&Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-success border border-white ml-2"},Object(a.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))),e.images&&e.images[0]&&Object(a.h)("div",{class:"w-100",style:'background-image: url("'+e.images[0].s3LargeLink+'"); background-size: cover; height: 100px; background-repeat: no-repeat; background-position: 50% 50%;'})),Object(a.h)("div",{class:"position-relative"},Object(a.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===s&&Object(a.h)(t,null,Object(a.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===s&&Object(a.h)(t,null,Object(a.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===s&&Object(a.h)(t,null,Object(a.h)("span",null,Object(a.h)("i",{class:"fas fa-check text-success"})))),Object(a.h)("h5",{class:"pt-2"},r&&Object(a.h)("i",{class:"fas fa-eye"+(e.active?" text-success":"-slash text-danger")+" float-right"}),e.title)),Object(a.h)("div",{class:"w-100"},Object(a.h)(d.a,{markdown:c(e.ingress,e.images,m),markdownOpts:b})),Object(a.h)("div",{class:"w-100"},e.classes&&Object(a.h)(t,null,Object(a.h)("div",{class:"mb-3"},Object(a.h)("small",{class:"font-weight-lighter mr-2"},Object(a.h)(h.c,{id:"races.classes"},"Klasser"),": "),Object(a.h)("br",null),Object(a.h)("div",{class:"w-100 position-relative"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;"},e.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},e.title))}))))))),Object(a.h)("div",{class:"w-100 d-flex justify-content-end"},Object(a.h)("a",{href:"/app-races/"+e.id,class:"btn btn-primary stretched-link"},Object(a.h)(h.c,{id:"races.read-more"},"Les mer"),Object(a.h)("i",{class:"fas fa-angle-double-right ml-2"}))),Object(a.h)("div",{class:"w-100 d-flex justify-content-center"},Object(a.h)("small",{class:"text-muted"},Object(a.h)(h.c,{id:"races.race-days"},"Løpsdager"),": ",e.startDate&&Object(a.h)(t,null,l.a.formatDate(e.startDate,{locale:m})),e.endDate&&Object(a.h)(t,null," - ",l.a.formatDate(e.endDate,{locale:m}))))))})))),i&&i.length>1&&Object(a.h)(t,null,Object(a.h)("div",{class:"w-100 text-center"},Object(a.h)("small",null,Object(a.h)("small",null,i&&i.map((function(e,s){return Object(a.h)(t,null,Object(a.h)("i",{class:(s===O?"fas":"far")+" fa-circle mr-1"}))}))))),Object(a.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(a.h)("small",null,O+1," / ",i.length))),Object(a.h)("div",{class:"col-12 mb-3 bg-"+(u?"black":"white")+" rounded-lg position-relative"},Object(a.h)("div",{class:"w-100 d-flex justify-content-center"},Object(a.h)("button",{class:"btn btn-link",onClick:this.toggleRaces},Object(a.h)("i",{class:"fas fa-angle-up"})," ",Object(a.h)(h.c,{id:"races.hide"},"Hide Races"))))))))},s}(a.Component))||i;e.a=f}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-home.chunk.5e83b.js.map