(window.webpackJsonp=window.webpackJsonp||[]).push([[62,5,11,80],{"/DnB":function(t,e,s){"use strict";function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),r={},l=Object(i.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r),s.container=null,s}var s,a;a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,s=t.vertical,n=void 0===s?"":s,o={behavior:"smooth"};e&&(o.inline=e),n&&(o.block=n),this.container.scrollIntoView(o)},i.render=function(){var t=this;return Object(c.h)("div",{ref:function(e){return t.container=e}}," ")},e}(c.Component))||a;e.a=l},"3kDq":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=s("QRet"),r=s("Utv1"),l=s("/eY4"),h=s("OhSV"),d={},u=Object(l.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s}var a,l;return l=e,(a=s).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l,s.prototype.render=function(){var e=this.props.stores,s=e.appState,n=this.props.title,o=s.language,a=void 0===o?"en":o,l=e.raceStore.race,d=new Date,u="";return d>=new Date(l.startDate)&&d<=new Date(l.endDate)?u="race":d>=new Date(l.signupStartDate)&&d<=new Date(l.signupEndDate)?u="signup":d>new Date(l.endDate)&&(u="done"),Object(c.h)(t,null,Object(c.h)("div",{class:"d-flex"},Object(c.h)("div",{class:"flex-fill"},function(t,e){return void 0===e&&(e=""),Object(i.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(c.h)("h1",{class:e},t)}(n,"mb-0")),Object(c.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(c.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(c.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},l.title)),Object(c.h)("small",{class:""},l.startDate&&Object(c.h)(t,null,r.a.formatDate(l.startDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),l.endDate&&Object(c.h)(t,null," - ",r.a.formatDate(l.endDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(c.h)("div",{class:"flex-fill"},Object(c.h)("h3",{class:"float-right"},"signup"===u&&!l.liveRace&&Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(c.h)("span",{class:"badge badge-primary ml-2"},Object(c.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===u&&Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(c.h)("span",{class:"badge badge-danger ml-2"},Object(c.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===u&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-check text-success"}),Object(c.h)("span",{class:"badge badge-success ml-2"},Object(c.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(c.h)("div",{class:"d-block d-md-none"},Object(c.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(c.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},l.title)),Object(c.h)("small",null,l.startDate&&Object(c.h)(t,null,r.a.formatDate(l.startDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),l.endDate&&Object(c.h)(t,null," - ",r.a.formatDate(l.endDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})))))},s}(c.Component))||a;e.a=u}).call(this,s("hosL").Fragment)},"5l0g":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),r=(s("OhSV"),s("cneo"),s("HqZR")),l=(s("ZOvn"),{showAddComment:!1}),h=Object(i.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),s.updateTimer={},s.inputRef={},s}var a,i;i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i;var h=s.prototype;return h.loadHeatmap=function(){return new Promise(function(t,e){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.adminStore.getPublicHeatmap(this.props.raceid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadHeatmap()},h.render=function(){var e=this.props,s=e.waypoints,n=e.zoomToMarkers,o=e.mapid,a=e.fullscreenMap,i=this.props.stores.adminStore.publicHeatmap;return Object(c.h)(t,null,Object(c.h)(r.a,{stores:this.props.stores,mapId:i.length,heatmap:i,minZoom:2,maxZoom:18,height:600,waypoints:s,zoomToMarkers:n,fullscreenMap:a,key:"map-"+o}))},s}(c.Component))||a;e.a=h}).call(this,s("hosL").Fragment)},"68RK":function(t,e,s){"use strict";var n=s("ivZ3"),o=s("Utv1"),a=s("ZOvn"),c={adit:new n.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new n.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new n.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new n.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new n.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new n.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new n.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new n.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new n.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new n.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new n.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new n.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new n.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new n.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new n.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new n.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new n.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new n.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new n.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new n.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new n.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new n.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new n.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new n.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new n.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new n.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new n.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new n.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new n.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new n.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new n.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new n.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new n.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new n.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new n.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new n.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new n.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new n.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new n.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new n.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new n.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new n.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new n.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new n.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new n.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new n.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new n.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new n.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new n.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new n.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new n.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new n.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new n.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new n.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new n.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new n.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new n.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new n.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new n.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new n.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new n.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new n.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new n.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new n.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new n.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new n.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new n.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new n.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new n.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new n.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new n.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new n.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new n.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new n.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new n.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new n.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new n.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new n.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new n.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new n.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new n.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new n.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new n.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new n.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new n.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new n.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new n.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new n.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new n.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new n.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new n.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new n.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new n.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new n.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new n.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new n.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new n.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new n.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new n.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new n.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new n.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new n.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new n.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new n.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new n.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new n.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new n.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new n.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new n.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new n.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new n.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new n.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new n.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new n.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new n.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new n.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new n.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new n.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new n.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new n.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new n.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new n.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new n.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new n.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new n.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new n.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new n.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new n.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new n.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new n.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new n.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new n.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new n.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new n.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new n.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new n.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new n.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new n.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new n.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new n.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new n.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new n.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new n.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new n.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new n.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new n.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new n.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new n.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new n.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new n.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new n.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new n.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new n.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new n.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new n.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new n.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new n.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new n.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new n.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new n.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new n.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new n.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new n.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new n.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new n.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new n.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new n.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new n.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new n.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new n.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new n.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new n.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=function(){function t(){}return t.get=function(t){return c[t]},t.list=function(){return Object.keys(c)},t.getDiv=function(t){var e=t.title,s=t.body,a=t.color,c=t.textColor,i=void 0===c?"#333333":c,r=t.borderColor,l=void 0===r?0:r,h=t.iconWidth,d=void 0===h?150:h,u=t.iconHeight,b=void 0===u?70:u,p="img-"+o.a.randomPassword();o.a.hsl2Rgb(a,100,60),o.a.hsl2Rgb(100-l,100,50);return new n.DivIcon({iconSize:[d,b+30],iconAnchor:[15,b+30],className:"my-div-icon",html:"<div id='"+p+"' style='width: "+d+"px; height: "+(b+30)+"px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#"+p+" .map-marker:after {\n\t\t\t\t\t\tborder-top-color: "+a+";\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: "+i+"; background-color: "+a+"; height: "+b+"px;'>\n\t\t\t\t\t<nobr><strong>"+e+"</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>"+s+"</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>"})},t.getRaceMarker=function(t){var e=t.bib,s=t.rank,c=t.flag,i=void 0===c?"":c,r=t.image,l=t.title,h=t.color,d=t.borderColor,u=void 0===d?0:d,b=t.iconWidth,p=void 0===b?180:b,m=t.iconHeight,f=void 0===m?15:m,g=t.iconAnchorX,O=void 0===g?5:g,j=t.iconAnchorY,v=void 0===j?5:j,w=t.imageCirlceRadius,y=void 0===w?10:w,x=t.lineHeight,k=void 0===x?"0.9em":x,S=t.fontSize,I=void 0===S?"0.9em":S,C=t.paddingTop,D=void 0===C?"3px":C,T=t.paddingBottom,z=void 0===T?"3px":T,P=t.largeMarkers,A=t.mapChecked,U=t.titlePrefix,M=void 0===U?"":U,_="img-"+o.a.randomPassword(),R=(o.a.hsl2Rgb(h,100,60),o.a.hsl2Rgb(100-u,100,50),a.a.getRankingColor(s)),L=/dark/i.test(A),B=r?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+r+'"); background-size: cover; border: 1px '+R+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return B=e||s?"\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: "+(R||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||s)+"\n\t\t\t</div>\n\t\t":B,new n.DivIcon({iconSize:[p,f],iconAnchor:[O,v],className:"my-div-icon",html:O>100?"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='"+_+"' style='width: "+p+"px; height: "+f+"px; line-height: "+k+"; font-size: "+I+";'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(L?"text-white":"text-dark")+" pl-3 pr-1 rounded-pill-left rounded-none "+(L?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+D+"; padding-bottom: "+z+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+M+" <strong>"+l+"</strong> "+i+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder "+(P?"pr-3 pl-2":"pr-2 pl-1")+" rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(R||"")+"; padding-top: "+D+"; padding-bottom: "+z+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+B+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+R+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t":"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+_+"' style='width: "+p+"px; height: "+f+"px; line-height: "+k+"; font-size: "+I+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+R+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder "+(P?"pl-3 pr-2":"pl-2 pr-1")+" rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(R||"")+"; padding-top: "+D+"; padding-bottom: "+z+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+B+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(L?"text-white":"text-dark")+" pr-3 pl-1 rounded-pill-right rounded-none "+(L?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+D+"; padding-bottom: "+z+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+i+" <strong>"+l+"</strong> "+M+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getDistanceMarker=function(t){var e=t.title,s=void 0===e?"":e,a=t.body,c=void 0===a?"":a,i="img-"+o.a.randomPassword();return new n.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:"<div id='"+i+"' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>"+s+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+c+"</span>\n\t\t\t</div>"})},t.getMarker=function(t){var e=t.bib,s=t.rank,c=t.flag,i=void 0===c?"":c,r=t.image,l=t.title,h=t.color,d=void 0===h?"#a0a0a0":h,u=t.borderColor,b=void 0===u?0:u,p=t.iconWidth,m=void 0===p?250:p,f=t.iconHeight,g=void 0===f?20:f,O=t.iconAnchorX,j=void 0===O?7:O,v=t.iconAnchorY,w=void 0===v?7:v,y=t.imageCirlceRadius,x=void 0===y?10:y,k=t.lineHeight,S=void 0===k?"1.0em":k,I=t.fontSize,C=void 0===I?"1.0em":I,D=t.paddingTop,T=void 0===D?"3px":D,z=t.paddingBottom,P=void 0===z?"3px":z,A=t.mapChecked,U="img-"+o.a.randomPassword(),M=(o.a.hsl2Rgb(d,100,60),o.a.hsl2Rgb(100-b,100,50),a.a.getRankingColor(e||s)||"#808080"),_=/dark/i.test(A),R=r?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+r+'"); background-size: cover; border: 1px '+M+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return R=e||s?"\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center "+(M?"":"bg-primary")+"' style='background-color: "+(M||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||s)+"\n\t\t\t</div>\n\t\t":R,new n.DivIcon({iconSize:[m,g],iconAnchor:[j,w],className:"my-div-icon",html:"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+U+"' style='width: "+m+"px; height: "+g+"px; line-height: "+S+"; font-size: "+C+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+x+"px; height: "+x+"px; background-color: "+M+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(_?"text-white":"text-dark")+" px-3 pl-1 rounded-pill-both rounded-none bg-info overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+T+"; padding-bottom: "+P+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>"+i+" <strong>"+l+"</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getSmallMarker=function(t){var e=t.title,s=void 0===e?"":e,a=t.body,c=void 0===a?"":a,i="img-"+o.a.randomPassword();return new n.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:"<div id='"+i+"' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>"+s+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+c+"</span>\n\t\t\t</div>"})},t}()},"8Lgr":function(t,e,s){"use strict";(function(t){function n(t){return c.a.format(t,t<5?2:1)}var o,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),r=(s("OhSV"),s("ZOvn"),Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,c;return c=e,(o=s).prototype=Object.create(c.prototype),o.prototype.constructor=o,o.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,c=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,n(function(t){return.621371*t}(o))," ",c?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(t,null,"mi"))):Object(a.h)(t,null,Object(a.h)("nobr",null,n(o)," ",c?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(t,null,"km")))},s}(a.Component))||o);e.a=r}).call(this,s("hosL").Fragment)},"8gML":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=s("Utv1"),r=s("/eY4"),l=s("OhSV"),h=(s("go65"),s("RMlE"),s("5l0g"),s("ZOvn")),d=(h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:i.a.getJwtToken()}),u=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s}var a,i;return i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.raceid,n=e.path,o=this.props.stores.appState.darkmode,a="default";return n.match(/\/race\/:raceid$/)?a="default":n.match(/\/race\/:raceid\/mushers$/)?a="mushers":n.match(/\/race\/:raceid\/results$/)?a="results":n.match(/\/race\/:raceid\/media$/)?a="media":n.match(/\/race\/:raceid\/tracking$/)&&(a="tracking"),Object(c.h)(t,null,Object(c.h)("div",{class:"row fixed-top pr-3",style:"margin-top: 40px; background-color: "+(o?"#191d21":"#f8f9fa")+";"},Object(c.h)("div",{class:"col-12 my-2 mx-2"},Object(c.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s,class:"text-overflow nav-link "+("default"===a?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-info-circle"})," ",Object(c.h)(l.c,{id:"race.therace"},"Løpet")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/mushers",class:"text-overflow nav-link "+("mushers"===a?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(l.c,{id:"race.mushers"},"Deltakere")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/results",class:"text-overflow nav-link "+("results"===a?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-poll"})," ",Object(c.h)(l.c,{id:"race.results"},"Resultater")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/media",class:"text-overflow nav-link "+("media"===a?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-images"})," ",Object(c.h)(l.c,{id:"race.media"},"Bilder")))),Object(c.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(c.h)("a",{href:"/race/"+s+"/tracking",class:"text-overflow nav-link "+("tracking"===a?"active":"")},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(c.h)(l.c,{id:"race.tracking"},"Tracking"))))))))},s}(c.Component))||a;e.a=u}).call(this,s("hosL").Fragment)},"8n2v":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),r=s("OhSV"),l=s("ZOvn"),h=(l.a.marginTop(!1),l.a.marginBottom(),{}),d=Object(i.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s}var a,i;return i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.goto,n=e.gotoTitle,o=e.routerName;return Object(c.h)("div",{class:"row h-100"},Object(c.h)("div",{class:"col-12 text-center my-auto"},Object(c.h)("div",{class:"spinner-border text-primary",style:"width: 8rem; height: 8rem;",role:"status"},Object(c.h)("span",{class:"sr-only"},Object(c.h)(r.c,{id:"home.loading"},"Loading..."))),Object(c.h)("h3",{class:"mt-4"},Object(c.h)(r.c,{id:"home.loading"},"Loading...")),s&&Object(c.h)(t,null,Object(c.h)("a",{class:"my-4 btn btn-primary btn-lg btn-block",native:!0,href:s},n," ",Object(c.h)("i",{class:"fas fa-angle-double-right ml-2"})),Object(c.h)("small",{class:"text-muted"},o))))},s}(c.Component))||a;e.a=d}).call(this,s("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},"HQo+":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),r=(s("OhSV"),s("cneo"),s("HqZR")),l=(s("ZOvn"),{showAddComment:!1}),h=Object(i.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),s.updateTimer={},s.inputRef={},s}var a,i;i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i;var h=s.prototype;return h.loadTrack=function(t){return new Promise(function(e,s){function n(){function t(){return e()}return(h=i.getTrackIdsByClass(l[0]))&&h.length>0?(c.cleanupMemory(),Promise.resolve(c.loadPublic({query:{idin:h}})).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s)):t.call(this)}var o,a,c,i,r,l,h;return void 0===t&&(t=this.props),c=(a=t.stores).trackStore,i=a.raceStore,l=void 0===(r=a.appState.selectedClassIds)?[]:r,(o=t).showHeatmap?Promise.resolve(a.adminStore.getPublicHeatmap(o.raceid,o.allTeamIds)).then(function(){try{return n.call(this)}catch(t){return s(t)}}.bind(this),s):n.call(this)}.bind(this))},h.componentDidMount=function(){this.loadTrack()},h.componentWillReceiveProps=function(t){this.props.selectedClassIds!==t.selectedClassIds&&this.loadTrack(t)},h.render=function(){var e=this.props.stores,s=this.props,n=s.waypoints,o=s.waypoints2,a=s.waypoints3,i=s.zoomToMarkers,l=s.fullscreenMap,h=s.onMarkerClick,d=s.onMarker2Click,u=s.onMarker3Click,b=s.showHeatmap,p=s.showTracks,m=s.showDistanceMarkers,f=s.groupWaypoints,g=s.focusOnMushers,O=s.geoJSONs,j=s.largeMarkers,v=s.isAnimatedMarkers,w=s.replaySpeed,y=e.adminStore.publicHeatmap,x=e.trackStore.tracks[0];e.raceStore.getTrackIdsByClass();return Object(c.h)(t,null,Object(c.h)(r.a,{stores:this.props.stores,heatmap:b?y:null,track:x,geojson:p&&x&&x.gpx?x.gpx.geoJSON:null,gpxInfo:p&&x&&(x.gpx||x.gpxInfo)?x.gpxInfo||x.gpx.gpxInfo:null,minZoom:2,maxZoom:18,height:600,waypoints:n,waypoints2:o,waypoints3:a,geoJSONs:O,zoomToMarkers:i,fullscreenMap:l,onMarkerClick:h,onMarker2Click:d,onMarker3Click:u,showTrackProfile:!1,distanceMarkerSteps:"long",showDistanceMarkers:m,groupWaypoints:f,focusOnMushers:g,showFullscreenControl:!1,largeMarkers:j,isAnimatedMarkers:v,replaySpeed:w}))},s}(c.Component))||a;e.a=h}).call(this,s("hosL").Fragment)},HqZR:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t){return.621371*t}var i,r=s("hosL"),l=s("Utv1"),h=s("/eY4"),d=s("cneo"),u=s("fh8t"),b=s.n(u),p=s("6FDT"),m=s.n(p),f=s("5QuX"),g=s.n(f),O=s("ABWa"),j=s.n(O),v=s("ZOvn"),w=s("g1rH"),y=s("LMBq"),x=s("ppmg"),k=s("PmTP"),S=s("svVU"),I=s("/PAx"),C=s("VsMb"),D=s("GdhX"),T=s("68RK"),z=(s("A1fj"),s("ivZ3")),P=s.n(z),A={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},U=w.a.BaseLayer,M=w.a.Overlay;delete P.a.Icon.Default.prototype._getIconUrl,P.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});var _=Object(h.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).mapRef=Object(r.createRef)(),s.polyRef=Object(r.createRef)(),s.handleViewportChanged=function(t){s.setState({mapCenter:t.center,mapZoom:t.zoom})},s.handleLocationFound=function(t){t.latlng&&s.setState({hasLocation:!0,latlng:t.latlng})},s.onEachFeature=function(t,e){var n=s.props.gpxInfo,o=void 0===n?{}:n,a="<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: "+l.a.format(o.totalDistance,2)+" km</li>\n\t\t\t\t<li>Max speed: "+l.a.format(o.maxSpeed,1)+" km/t</li>\n\t\t\t\t<li>Avg speed: "+l.a.format(o.avgSpeed,1)+" km/t</li>\n\t\t\t\t<li>Ascent: "+l.a.format(o.ascent||o.calculatedAscend,0)+" m</li>\n\t\t\t\t<li>Descent: "+l.a.format(o.decent||o.calculatedDescend,0)+" m</li>\n\t\t\t\t<li>Duration: "+l.a.secToHms(o.duration)+"</li>\n\t\t\t</ul>\n\t\t</Popup>";e.bindPopup(a)},s.handleClick=function(t){s.props.stores.appState.setLatlng(t.latlng)},s.zoomToGeoJSON=function(t){try{if(t.target){var e=s.mapRef,n=t.target.getBounds();n&&n._northEast&&(s.setState({bounds:n}),e.fitBounds(n))}}catch(t){console.log(t)}},s.zoomToMarkers=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var n=s.state.hasZoomedToMarkers;try{if((e||!n)&&t.length&&t.length>0){var o=s.mapRef,a=P.a.latLngBounds([]);t.forEach((function(t){a.extend([t.lat,t.lng])})),o.fitBounds(a),s.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},s.zoomToAllMarkers=function(){var t=s.props.waypoints;s.zoomToMarkers(void 0===t?[]:t,!0)},s.zoomToFirst10Markers=function(){var t=s.props.waypoints,e=(void 0===t?[]:t).slice(0,10);s.zoomToMarkers(e,!0)},s.zoomToFirst3Markers=function(){var t=s.props.waypoints,e=(void 0===t?[]:t).slice(0,3);s.zoomToMarkers(e,!0)},s.zoomToFavoriteMarkers=function(){var t=s.props,e=t.zoomToMarkers,n=void 0===e?[]:e,o=t.waypoints;s.zoomToMarkers(n.length>0?n:void 0===o?[]:o,!0)},s.overlayAdd=function(t){var e=s.state.visibleLayers;e[t.name]=!0,s.setState({visibleLayers:e})},s.overlayRemove=function(t){var e=s.state.visibleLayers;e[t.name]=!1,s.setState({visibleLayers:e})},s.polylineOptions=function(){var t=s.props.gpxInfo,e=s.state.rangeSteps,n=s.state.maxHslColor,o=s.props.stores.appState,a=o.mapColorMode,c=o.mapRangeMin,i=o.mapRangeMax;"speed"===a&&t&&t.speeds&&t.speeds.length>0&&(c=Math.floor(Math.min.apply(Math,t.speeds.map((function(t){return 3.6*t})))),i=Math.ceil(Math.max.apply(Math,t.speeds.map((function(t){return 3.6*t})))));var r=l.a.range(c,i,e),h=r.map((function(t){var e=function(t,e,s,n,o){return n+(t-e)*(o-n)/(s-e)}(t,c,i,0,n),s=l.a.hsl2Rgb(n-e,100,45);return{color:"rgb("+s.r+", "+s.g+", "+s.b+")"}}));return o.setMapRange(r,c,i),o.setMapColors(h),h},s.polylineOptionIdxFn=function(t){for(var e=s.props.stores.appState.mapRange,n=0;n<e.length;++n)if(t.meta<=e[n])return n;return e.length},s.polylinetrackPointFactory=function(t){var e=s.props.gpxInfo,n=s.props.stores.appState,o=n.mapRangeMin,a=n.mapRangeMax,c=[];return"speed"===n.mapColorMode&&e.speeds&&e.speeds.length>0?c=e.speeds.map((function(t){return 3.6*t})):e&&e.climbs&&(c=e.climbs),t.filter((function(t){return t[0]&&t[1]&&t[2]})).map((function(t,e){var s=P.a.latLng(t[1],t[0],t[2]);return c&&c.length>0?(s.meta=c[e]||0,s.meta>a&&(s.meta=a),s.meta<o&&(s.meta=o)):s.meta=0,s}))},s.showSpeed=function(){s.props.stores.appState.setMapColorMode("speed")},s.handleMarkerClick=function(t){void 0===t&&(t={});var e=s.props.onMarkerClick,n=void 0===e?function(t){return console.log({title:t.title,bib:t.bib})}:e;try{n(o({},t))}catch(t){console.log(t)}},s.handleMarker2Click=function(t){void 0===t&&(t={});var e=s.props.onMarker2Click,n=void 0===e?function(t){return console.log(t)}:e;try{n(o({},t))}catch(t){console.log(t)}},s.handleMarker3Click=function(t){void 0===t&&(t={});var e=s.props.onMarker3Click,n=void 0===e?function(t){return console.log(t)}:e;try{n(o({},t))}catch(t){console.log(t)}},s.baseLayerChange=function(t){var e=t.name;console.log("baseLayerChange event",t),console.log({name:e}),s.props.stores.appState.setMapChecked(e)},s.whenReadyHandler=function(t){t.target.on("baselayerchange",s.baseLayerChange)},s.setMapRef=function(t){s.mapRef=t},s.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1},s}var n,a;a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var i=s.prototype;return i.geoJSONStyle=function(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}},i.geoJSONStyleList=function(t){var e=v.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}},i.componentWillReceiveProps=function(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)},i.componentWillUnmount=function(){},i.render=function(){var e,s,n=this,a=this.props.stores,i=a.userStore,h=a.appState,u=h.mapChecked,p=i.user.settings,f=void 0===p?{}:p,O=this.state,z=O.mapZoom,_=O.bounds,R=void 0===_?null:_,L=this.props,B=L.waypoints,F=void 0===B?[]:B,E=L.waypoints2,H=void 0===E?[]:E,N=L.waypoints3,q=void 0===N?[]:N,Z=L.geoJSONs,V=void 0===Z?[]:Z,G=L.geojson,Y=L.gpxInfo,W=L.center,X=void 0===W?[61.0779066,9.800984]:W,J=L.zoom,K=void 0===J?5:J,Q=L.minZoom,$=void 0===Q?4:Q,tt=L.maxZoom,et=void 0===tt?18:tt,st=L.height,nt=void 0===st?500:st,ot=L.skipGeojson,at=void 0!==ot&&ot,ct=L.fullscreenMap,it=void 0!==ct&&ct,rt=L.showZoomControl,lt=void 0===rt||rt,ht=L.showLayersControl,dt=void 0===ht||ht,ut=L.showScaleControl,bt=void 0===ut||ut,pt=L.showRange,mt=void 0===pt||pt,ft=L.showTrackProfile,gt=void 0===ft||ft,Ot=L.distanceMarkerSteps,jt=void 0===Ot?"normal":Ot,vt=L.showDistanceMarkers,wt=void 0===vt||vt,yt=L.largeMarkers,xt=L.isAnimatedMarkers,kt=L.replaySpeed,St=void 0===kt?1e3:kt,It=L.layersControlPosition,Ct=void 0===It?"topright":It,Dt=h.mapColorMode,Tt=h.mapRange,zt=h.mapColors,Pt=h.mapRangeMin,At=h.mapRangeMax,Ut=Object(d.i)(G),Mt=l.a.asObject(Ut,"features",0,"geometry","coordinates"),_t=[];if(Mt&&Mt[0]&&Mt[0][0]&&(e=Mt[0][0]&&Mt[0][0][0]?[Mt[0][0][1],Mt[0][0][0]]:[Mt[0][1],Mt[0][0]],s=Mt[Mt.length-1][0]&&Mt[Mt.length-1][0][0]?[Mt[Mt.length-1][0][1],Mt[Mt.length-1][0][0]]:[Mt[Mt.length-1][1],Mt[Mt.length-1][0]],Y&&Y.distances)){var Rt=0,Lt=0,Bt=10;switch(z){case 15:Bt="long"===jt?3:1;break;case 14:Bt="long"===jt?5:2;break;case 13:Bt="long"===jt?7:3;break;case 12:Bt="long"===jt?10:5;break;case 11:case 10:Bt="long"===jt?15:10;break;case 9:Bt="long"===jt?20:15;break;case 8:Bt="long"===jt?30:20;break;case 7:Bt="long"===jt?40:30;break;case 6:Bt="long"===jt?70:50;break;case 5:Bt="long"===jt?150:100;break;default:Bt="long"===jt?200:150}Y.distances.forEach((function(t,e){Rt+=f.imperial?c(t):t,(Lt+=f.imperial?c(t):t)>=Bt&&(Lt=0,Mt[e]&&Array.isArray(Mt[e])&&_t.push({lat:Mt[e][1],lng:Mt[e][0],title:Math.floor(Rt),body:""}))}))}var Ft=i.isAdmin;return Object(r.h)(t,null,Object(r.h)("div",{class:j.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:v.a.captureAllEvents,onScroll:v.a.captureAllEvents},Object(r.h)(y.a,{bounds:R,whenCreated:this.setMapRef,onViewportChanged:this.handleViewportChanged,minZoom:$,maxZoom:et,center:X,onLocationfound:this.handleLocationFound,zoom:K,zoomControl:lt,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:it||!P.a.Browser.mobile,tap:!P.a.Browser.mobile,touchZoom:!!P.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:"width: 100%; min-height: "+nt+"px; height: 100%;",className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},dt&&Object(r.h)(w.a,{position:Ct},Object(r.h)(U,{checked:"OpenStreetMap.Mapnik"===u,name:"OpenStreetMap.Mapnik"},Object(r.h)(x.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(r.h)(U,{checked:"OpenStreetMap.Dark"===u,name:"OpenStreetMap.Dark"},Object(r.h)(x.a,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(r.h)(U,{checked:"Norway Kartverket topo4"===u,name:"Norway Kartverket topo4"},Object(r.h)(x.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(r.h)(U,{checked:"Norway Kartverket topo4graatone"===u,name:"Norway Kartverket topo4graatone"},Object(r.h)(x.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(r.h)(U,{checked:"Google Satellite Text"===u,name:"Google Satellite Text"},Object(r.h)(x.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(r.h)(M,{name:"Windspeed"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(M,{name:"Temperature"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(M,{name:"Snow depth"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(M,{name:"Precipitation"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Ft&&Object(r.h)(M,{name:"Atmospheric pressure"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),bt&&Object(r.h)(S.a,{metric:!0,imperial:!1}),gt&&Object(r.h)(t,null,Mt&&Mt.length>0&&Object(r.h)(m.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(Mt),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+Dt})),V&&V.length>0&&V.map((function(t,e){return Object(r.h)(I.a,{data:t,style:function(){return n.geoJSONStyleList(e)}})})),!at&&G&&e&&Object(r.h)(I.a,{data:G,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,eventHandlers:{add:function(t){return n.zoomToGeoJSON(t)}}}),e&&Object(r.h)(C.a,{position:e,icon:T.a.get("marker")},Object(r.h)(D.a,null,"Start position: ",l.a.format(e[0],4),", ",l.a.format(e[1],4))),s&&Object(r.h)(C.a,{position:s,icon:T.a.get("flag")},Object(r.h)(D.a,null,"End position: ",l.a.format(s[0],4),", ",l.a.format(s[1],4))),wt&&_t&&_t.length>0&&Object(r.h)(t,null,_t.length>0&&_t.map((function(t){return Object(r.h)(C.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(r.h)(D.a,{position:[t.lat,t.lng]},Object(r.h)("h5",null,t.title),Object(r.h)(b.a,{markdown:t.body,markdownOpts:A})))}))),q.length>0&&q.reverse().map((function(t,e){return Object(r.h)(C.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:u}),eventHandlers:{click:function(e){return n.handleMarker3Click(o(o({},t),{},{e:e}))}},zIndexOffset:100+e})})),H.length>0&&H.reverse().map((function(t,e){return Object(r.h)(C.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:yt?300:250,iconHeight:yt?30:20,iconAnchorX:yt?10:7,iconAnchorY:yt?10:7,imageCirlceRadius:yt?20:14,lineHeight:yt?"1.5em":"1.1em",fontSize:yt?"1.5em":"1.1em",paddingTop:yt?"2px":"3px",paddingBottom:yt?"2px":"3px",mapChecked:u}),eventHandlers:{click:function(e){return n.handleMarker2Click(o(o({},t),{},{e:e}))}},zIndexOffset:200+e})})),F.length>0&&F.reverse().map((function(e,s){return Object(r.h)(t,null,xt?Object(r.h)(t,null,Object(r.h)(g.a,{position:{lat:e.lat,lng:e.lng},duration:St,draggable:!1,icon:T.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:yt?300:170,iconHeight:yt?30:15,iconAnchorX:yt?s%2==0?10:290:s%2==0?7:163,iconAnchorY:yt?10:5,imageCirlceRadius:yt?20:10,lineHeight:yt?"1.5em":"0.9em",fontSize:yt?"1.5em":"0.9em",paddingTop:yt?"1px":"3px",paddingBottom:yt?"2px":"3px",titlePrefix:"rest"===e.currentState?"💤":"",mapChecked:u,largeMarkers:yt}),eventHandlers:{click:function(t){return n.handleMarkerClick(o(o({},e),{},{e:t}))}},zIndexOffset:300+s})):Object(r.h)(t,null,Object(r.h)(C.a,{position:[e.lat,e.lng],draggable:!1,icon:T.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:yt?300:170,iconHeight:yt?30:15,iconAnchorX:yt?s%2==0?10:290:s%2==0?7:163,iconAnchorY:yt?10:5,imageCirlceRadius:yt?20:10,lineHeight:yt?"1.5em":"0.9em",fontSize:yt?"1.5em":"0.9em",paddingTop:yt?"1px":"3px",paddingBottom:yt?"2px":"3px",titlePrefix:"rest"===e.currentState?"💤":"",mapChecked:u,largeMarkers:yt}),eventHandlers:{click:function(t){return n.handleMarkerClick(o(o({},e),{},{e:t}))}},zIndexOffset:300+s})))}))),F.length>0&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 65px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToAllMarkers},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-crosshairs"})))),F.length>=3&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 105px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst3Markers},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-crosshairs"})," 3"))),F.length>=10&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 145px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst10Markers},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-crosshairs"})," 10")))),mt&&Tt&&Tt.length>0&&Object(r.h)(t,null,Object(r.h)("div",{class:"mb-4"},Object(r.h)("div",{class:"float-right mt-1"},Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(Pt,0),Object(r.h)("span",{class:"text-muted"},"speed"===Dt?"km/t":"%")))),Tt&&Tt.length>0&&Tt.map((function(t,e){return Object(r.h)("div",{class:"float-left"},Object(r.h)("div",{style:"background-color: "+zt[e].color+"; height: 13px; width: 10px;"}))})),Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(At,0),Object(r.h)("span",{class:"text-muted"},"speed"===Dt?"km/t":"%"))))))))},s}(r.Component))||i;e.a=_}).call(this,s("hosL").Fragment)},LMwI:function(t){t.exports={pointerCursor:"pointerCursor__1W6mM"}},LbFk:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i,r,l=s("hosL"),h=s("Utv1"),d=s("/eY4"),u=(s("OhSV"),s("fh8t"),s("go65")),b=(s("ZOvn"),function(t){return function(e,s){return t.map((function(t){var n=1;return"-"===t[0]&&(n=-1,t=t.substring(1)),e[t]>s[t]?n:e[t]<s[t]?-n:0})).reduce((function(t,e){return t||e}),0)}}),p=Object(d.a)(i=function(e){function s(){return e.apply(this,arguments)||this}return c(s,e),s.prototype.render=function(){var e=this.props,s=e.lastResults,n=void 0===s?[]:s,o=e.currentClass,a=void 0===o?{}:o,c=e.selectedMusher,i=void 0===c?{}:c,r=e.selectResult,d=void 0===r?function(){}:r,u=this.props.stores.userStore.user,b=(void 0===u?{}:u).language,p=void 0===b?"en":b;return Object(l.h)(t,null,Object(l.h)("table",{class:"table table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",{style:"width: 10%"},"Time"),Object(l.h)("th",{style:"width: 5%"},"Dir"),Object(l.h)("th",{style:"width: 75%"},"Checkpoint"),Object(l.h)("th",{style:"width: 10%"},"Dogs"))),Object(l.h)("tbody",null,n&&n.length>0&&n.map((function(e){var s=a.checkpoints?a.checkpoints.find((function(t){return t.id===e.checkpoint})):null,n="in"===e.direction&&s.requiredRestMinutes?s.timeEqualization?i.timeEqualization+s.requiredRestMinutes:s.requiredRestMinutes:null;new Date(new Date(e.timestamp).getTime()+6e4*n);return Object(l.h)(t,null,Object(l.h)("tr",{class:"resultLine","data-resultid":e.id,onClick:d},Object(l.h)("td",null,Object(l.h)("nobr",null,Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"}))," ",h.a.formatDate(e.timestamp,{locale:p,year:"2-digit",month:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(l.h)("td",null,"in"===e.direction&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sign-in-alt mr-2 text-success"})),"out"===e.direction&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sign-out-alt mr-2 text-info"})),"scratched"===e.direction&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-times mr-2 text-danger"}))),Object(l.h)("td",null,Object(l.h)("span",{class:"text-muted"},s.sortOrder,":")," ",s.name),Object(l.h)("td",null,Object(l.h)("nobr",null,Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-dog ml-3"}))," ",e.dogs,Object(l.h)("br",null)))))})))))},s}(l.Component))||i,m=Object(d.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).addResult=function(t){return new Promise((function(e,n){function a(){return Promise.resolve(i.addResult({id:O,classId:d,showTimestamp:!1,newResult:o({direction:h,checkpoint:u},g)})).then((function(){try{return s.setState({result:{bib:"",dogs:"",timestamp:""},selectedMusher:null,lastResults:null,message:"Added "+g.bib+" with "+g.dogs+" dogs "+h+" "+("in"===h?"to":"of")+" checkpoint "+m.name+"."}),clearTimeout(s.updateTimer.message),s.updateTimer.message=setTimeout((function(){return new Promise((function(t){return s.setState({message:""}),t()}))}),3e3),e()}catch(t){return n(t)}}),n)}var c,i,r,l,h,d,u,b,p,m,f,g,O;return i=(c=s.props.stores).raceStore,r=c.appState,l=t.target.closest("button").dataset,h=l.direction,d=l.classid,u=r.checkpointId,p=i.getClassById((void 0===(b=r.selectedClassIds)?[]:b)[0]),m=p.checkpoints?p.checkpoints.find((function(t){return t.id===u})):null,O=i.race.id,(g=(f=s.state).result).timestamp=f.showTimestamp&&g.timestamp?g.timestamp:new Date,"scratched"===h?Promise.resolve(i.addResult({id:O,classId:d,showTimestamp:!1,newResult:o({direction:"in",checkpoint:u},g)})).then(function(){try{return Promise.resolve(i.editContestant({id:O,classId:d,bib:g.bib,field:"raceStatus",value:"DNF"})).then(function(){try{return a.call(this)}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n):a.call(this)}))},s.editResult=function(t){var e,n=s.props.stores,o=n.raceStore,a=o.race.id,c=t.target.id,i=t.target.value,r=t.target.dataset,l=r.classid,d=r.resultid,u=n.appState.selectedClassIds,b=o.getClassById((void 0===u?[]:u)[0]),p=((e={raceClassId:l,resultId:d})["raceClassResult"+h.a.ucfirst(c)]=i,e);clearTimeout(s.updateTimer[c]),s.updateTimer[c]=setTimeout((function(){return new Promise((function(t,e){var s,n,r;return Promise.resolve(o.editClass({id:a,data:p})).then((function(){try{return o.localUpdateSignup(c,i),o.sortContestantsByResult({contestants:void 0===(n=b.contestants)?[]:n,results:void 0===(r=b.results)?[]:r,checkpoints:void 0===(s=b.checkpoints)?[]:s}),t()}catch(t){return e(t)}}),e)}))}),500)},s.updateField=function(t){var e=s.props.stores,n=e.raceStore,o=e.appState,a=t.target.id,c=t.target.value,i=o.selectedClassIds,r=n.getClassById((void 0===i?[]:i)[0]),l=s.state,d=l.result,u=l.selectedResult,p=l.showTimestamp;d[a]=c;var m,f,g,O,j,v,w,y,x,k=o.checkpointId,S=n.sortedContestants,I=void 0===S?[]:S,C=r.checkpoints?r.checkpoints.find((function(t){return t.id===k})):null,D=I?I.find((function(t){return t.bib===parseInt(d.bib,10)})):null;if(!D)return s.setState({result:d}),!1;r&&((m=r.results?r.results.slice().sort(b(["-timestamp","-direction"])).filter((function(t){return parseInt(t.bib,10)===parseInt(d.bib,10)})):null)&&m.length>0&&(f=m.find((function(t){return t.checkpoint===k&&"in"===t.direction})),g=m.find((function(t){return t.checkpoint===k&&"out"===t.direction})),O=m.find((function(t){return t.checkpoint===k&&"scratched"===t.direction})),v=n.getPreviousCheckpoint({currentClass:r,checkpointId:k}),w=m.find((function(t){return t.checkpoint===v.id&&"in"===t.direction})),y=m.find((function(t){return t.checkpoint===v.id&&"out"===t.direction})),x=m.find((function(t){return t.checkpoint===v.id&&"scratched"===t.direction}))),j=r.results?r.results.find((function(t){return t.id===u})):{});var T=m&&m[0]?m[0]:null;T&&(p&&(d.timestamp=h.a.isoDate(m&&m[0]?m[0].timestamp:D&&D.startTime?D.startTime:r.startDate,!1,!1,!1)),d.dogs=T.dogs);s.setState({result:d,selectedCheckpoint:C,selectedMusher:D,isCheckedIn:f,isCheckedOut:g,isScratched:O,isCheckedInPrev:w,isCheckedOutPrev:y,isScratchedPrev:x,prevCheckpoint:v,currentResult:j,lastResults:m})},s.deleteResult=function(){return new Promise((function(t,e){var n,o,a,c,i,r,l,h,d;return n=s.state.selectedResult,c=(a=(o=s.props.stores).raceStore).race.id,r=a.getClassById((void 0===(i=o.appState.selectedClassIds)?[]:i)[0]),Promise.resolve(a.editClass({id:c,data:{raceClassId:r.id,resultId:n,raceClassResultDelete:1}})).then((function(){try{return a.sortContestantsByResult({contestants:void 0===(h=r.contestants)?[]:h,results:void 0===(d=r.results)?[]:d,checkpoints:void 0===(l=r.checkpoints)?[]:l}),s.doneEditResult(),t()}catch(t){return e(t)}}),e)}))},s.selectCheckpoint=function(t){var e=s.state,n=e.result,o=t.target.closest("button").dataset.id,a=s.props.stores,c=a.appState,i=a.raceStore;c.selectCheckpoint(o);var r=c.selectedClassIds,l=i.getClassById((void 0===r?[]:r)[0]),h=l.checkpoints?l.checkpoints.find((function(t){return t.id===o})):null,d=i.sortedContestants,u=void 0===d?[]:d,p=u?u.find((function(t){return t.bib===parseInt(n.bib,10)})):null,m=l.results?l.results.slice().sort(b(["-timestamp","-direction"])).filter((function(t){return parseInt(t.bib,10)===parseInt(n.bib,10)})):null,f=m.find((function(t){return t.checkpoint===o&&"in"===t.direction})),g=m.find((function(t){return t.checkpoint===o&&"out"===t.direction})),O=m.find((function(t){return t.checkpoint===o&&"scratched"===t.direction})),j=i.getPreviousCheckpoint({currentClass:l,checkpointId:o}),v=m.find((function(t){return t.checkpoint===j.id&&"in"===t.direction})),w=m.find((function(t){return t.checkpoint===j.id&&"out"===t.direction})),y=m.find((function(t){return t.checkpoint===j.id&&"scratched"===t.direction}));s.setState({selectedCheckpoint:h,selectedMusher:p,isCheckedIn:f,isCheckedOut:g,isScratched:O,isCheckedInPrev:v,isCheckedOutPrev:w,isScratchedPrev:y,lastResults:m})},s.toggleTimestamp=function(){var t,e=s.state,n=e.showTimestamp,o=e.result,a=s.props.stores,c=a.appState.selectedClassIds,i=a.raceStore.getClassById((void 0===c?[]:c)[0]),r=i.contestants?i.contestants.find((function(t){return t.bib===parseInt(o.bib,10)})):null,l=i.results?i.results.slice().sort(b(["timestamp"])).reverse().filter((function(t){return parseInt(t.bib,10)===parseInt(o.bib,10)})):null;t=l&&l[0]?l[0].timestamp:r.startTime?r.startTime:i.startDate?i.startDate:new Date,o.timestamp=h.a.isoDate(t,!1,!1,!1),s.setState({showTimestamp:!n,result:o})},s.doneEditResult=function(){var t=s.props.stores,e=t.appState,n=e.selectedClassIds,o=t.raceStore.getClassById((void 0===n?[]:n)[0]),a=e.checkpointId,c=o.checkpoints?o.checkpoints.find((function(t){return t.id===a})):null;s.setState({selectedResult:"",selectedCheckpoint:c,currentResult:null,result:{bib:"",dogs:"",timestamp:""}})},s.selectResult=function(t){var e=t.target.closest(".resultLine").dataset.resultid,n=s.props.stores,o=n.appState.selectedClassIds,a=n.raceStore.getClassById((void 0===o?[]:o)[0]),c=a.results?a.results.find((function(t){return t.id===e})):{};s.setState({selectedResult:e,currentResult:c})},s.state={result:{},message:""},s.updateTimer={},s}c(s,e);var n=s.prototype;return n.componentWillReceiveProps=function(){},n.componentDidMount=function(){this.doneEditResult()},n.render=function(){var e=this,s=this.state,n=s.result,o=s.showTimestamp,a=s.message,c=s.selectedCheckpoint,i=s.selectedMusher,r=s.isCheckedIn,d=s.isCheckedOut,b=s.isScratched,m=s.isCheckedOutPrev,f=s.currentResult,g=s.lastResults,O=void 0===g?[]:g,j=this.props.stores,v=j.appState,w=v.checkpointId,y=v.selectedClassIds,x=j.raceStore.getClassById((void 0===y?[]:y)[0]),k=O&&O[0]?O[0]:{},S=x.checkpoints?x.checkpoints.find((function(t){return t.id===k.checkpoint})):null;S=S||{};return Object(l.h)(t,null,Object(l.h)("div",{class:"mt-2 pb-5",style:"height: 70vh;"},Object(l.h)("h3",null,"Admin timing - ",x.title),Object(l.h)("div",{class:"w-100 overflow-hidden"},Object(l.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},x.checkpoints&&x.checkpoints.map((function(s,n){var o={},a={};return O&&O.length>0&&(o=O.slice().find((function(t){return parseInt(t.bib,10)==i.bib&&t.checkpoint===s.id&&"in"===t.direction}))||{},a=O.slice().find((function(t){return parseInt(t.bib,10)==i.bib&&t.checkpoint===s.id&&"out"===t.direction}))||{},O.slice().find((function(t){return parseInt(t.bib,10)==i.bib&&t.checkpoint===s.id&&"scratched"===t.direction}))||{}),Object(l.h)(t,null,Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{type:"button",class:"btn btn-block "+(0===n&&"rounded-pill-left")+" "+(n===x.checkpoints.length-1&&"rounded-pill-right")+" rounded-none "+(w===s.id?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.selectCheckpoint,"data-id":s.id},s.sortOrder,": ",s.name,a&&a.id?Object(l.h)("i",{class:"fas fa-check text-white ml-2"}):"",o&&o.id&&!a.id?Object(l.h)("i",{class:"fas fa-map-marker-alt text-white ml-2"}):"")))})))),Object(l.h)("div",{class:"w-100 overflow-hidden"},c&&Object(l.h)(t,null,Object(l.h)("h3",null,i&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-user text-muted"})," ",i.firstname," ",i.lastname)),f?Object(l.h)(t,null,["bib","dogs"].map((function(s){return Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},s),Object(l.h)("input",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help","data-classid":x.id,"data-resultid":f.id,"data-field":s,value:f[s],onInput:e.editResult})))})),["timestamp"].map((function(s){return Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},Object(l.h)("i",{class:"fas fa-stopwatch"})," ",s),Object(l.h)("input",{type:"datetime-local",class:"form-control",id:s,"aria-describedby":s+"Help","data-classid":x.id,"data-resultid":f.id,"data-field":s,value:h.a.isoDate(f[s],!1,!1,!1),onInput:e.editResult}),Object(l.h)("button",{class:"btn btn-link",onClick:e.toggleTimestamp},"Hide timestamp")))})),Object(l.h)("button",{class:"btn btn-lg btn-danger float-left",onClick:this.deleteResult},"Delete"),Object(l.h)("button",{class:"btn btn-lg btn-info float-right",onClick:this.doneEditResult},"Done")):Object(l.h)(t,null,c.sortOrder>S.sortOrder+1&&Object(l.h)(t,null,Object(l.h)("div",{class:"p-3 mb-2 bg-danger text-white clearfix"},Object(l.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),"Previous checkpoint is not logged yet.")),!m&&c.sortOrder===S.sortOrder+1&&Object(l.h)(t,null,Object(l.h)("div",{class:"p-3 mb-2 bg-danger text-white clearfix"},Object(l.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),"Not checked out of prev.")),["bib"].map((function(s){return Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},s),Object(l.h)("input",{type:"text",class:"form-control form-control-lg",id:s,"aria-describedby":s+"Help",onInput:e.updateField,value:n[s]})))})),["dogs"].map((function(s){return Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},Object(l.h)("i",{class:"fas fa-dog"})," ",s),Object(l.h)("input",{type:"text",class:"form-control form-control-lg",id:s,"aria-describedby":s+"Help",onInput:Object(u.a)(e,"result."+s),value:n[s]})))})),o?Object(l.h)(t,null,["timestamp"].map((function(s){return Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},Object(l.h)("i",{class:"fas fa-stopwatch"})," ",s),Object(l.h)("input",{type:"datetime-local",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(u.a)(e,"result."+s),value:h.a.isoDate(n[s],!1,!1,!1).replace(/ /g,"T"),min:h.a.isoDate(k.timestamp,!1,!1,!1).replace(/ /g,"T")}),Object(l.h)("button",{class:"btn btn-link",onClick:e.toggleTimestamp},Object(l.h)("i",{class:"fas fa-stopwatch"})," Hide timestamp")))}))):Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("button",{class:"btn btn-link",onClick:this.toggleTimestamp},Object(l.h)("i",{class:"fas fa-stopwatch"})," Show timestamp"))),r&&d&&Object(l.h)(t,null,Object(l.h)("div",{class:"alert alert-warning my-2 clearfix",role:"alert"},Object(l.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),i&&Object(l.h)(t,null,i.firstname," ",i.lastname)," Has checked in and out of this checkpoint!")),Object(l.h)("div",{class:"d-flex justify-content-between"},Object(l.h)("div",{class:"text-center"},Object(l.h)("h3",null,Object(l.h)("i",{class:"fas fa-campground text-muted"})," ",c.name))),Object(l.h)("div",{class:"d-flex justify-content-between"},Object(l.h)("button",{class:"btn btn-lg btn-success float-left",onClick:this.addResult,"data-direction":"in","data-classid":x.id,disabled:r?"disabled":""},"CP In ",Object(l.h)("i",{class:"fas fa-sign-in-alt ml-2"})),Object(l.h)("button",{class:"btn btn-lg btn-info float-right",onClick:this.addResult,"data-direction":"out","data-classid":x.id,disabled:d?"disabled":""},Object(l.h)("i",{class:"fas fa-sign-out-alt mr-2"})," CP Out"))))),a&&Object(l.h)("div",{class:"alert alert-success mt-3 clearfix",role:"alert"},a),Object(l.h)("div",{class:"overflow-hidden mb-5 mt-3"},Object(l.h)(p,{stores:this.props.stores,lastResults:O,currentClass:x,selectedMusher:i,selectResult:this.selectResult})),Object(l.h)("div",{class:"d-flex justify-content-center mt-3 mb-5"},Object(l.h)("button",{class:"btn btn-sm btn-block btn-danger",onClick:this.addResult,"data-direction":"scratched","data-classid":x.id,disabled:b?"disabled":""},"Scratch ",Object(l.h)("i",{class:"fas fa-times ml-2"})))))},s}(l.Component))||r;e.a=m}).call(this,s("hosL").Fragment)},NDEG:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=s("ZOvn"),r=Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.dog,n=void 0===s?{}:s,c=e.dogs,r=void 0===c?[]:c,l=e.showTeam,h=e.showInfo,d=e.showName,u=void 0===d||d,b=e.showPosition,p=void 0===b||b,m=e.showAge,f=void 0!==m&&m,g=e.className,O=e.size,j=e.onDogClick,v=void 0===j?function(){}:j,w=this.props.stores.userStore,y=w.user.language,x=w.findDogposition({position:n.position,language:void 0===y?"en":y}),k=i.a.hasBirthday(n.birth),S=(Math.ceil(i.a.daysUntilNextBirthday(n.birth)),"92px"),I="",C="35px";return"small"===O?(S="50px",I="imageRoundedSmall",C="20px"):"medium"===O&&(S="60px",I="imageRoundedMedium",C="25px"),Object(o.h)("div",{class:"mb-2 position-relative "+g+" clearfix",style:"width: "+S,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},p&&x&&Object(o.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(o.h)("span",{class:"badge badge-"+(x.class||"primary")+" mr-3"},x.icon&&Object(o.h)("i",{class:x.icon})," ",x.name)),Object(o.h)("div",{class:"text-center border rounded-circle imageRounded "+I+" mx-auto text-muted pt-2",style:(n.image?'background-image: url("'+n.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!n.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: "+C+";"},a.a.ucfirst(n.name,!0))),Object(o.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(o.h)("small",null,Object(o.h)("a",{href:"/dogs/public/"+n.uuidv4,onClick:function(t){return v(t,n.uuidv4,r)},class:"stretched-link"},u&&Object(o.h)(t,null,Object(o.h)("span",{class:"mb-1 font-weight-light"},Object(o.h)("nobr",null,n.shortname||n.name,k&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(o.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(o.h)("small",null,n.birth&&f&&Object(o.h)(t,null,Object(o.h)("span",{class:"float-right"},n.birth&&Object(o.h)("span",{class:"mr-2"},a.a.age(n.birth,n.deceased)),"female"===n.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"}))),l&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-light"},w.findTeam(n.team)),Object(o.h)("br",null)),h&&Object(o.h)("small",{class:"text-muted"},n.weight&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",a.a.format(n.weight,1)," kg"),n.bodyScore&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(n.bodyScore,1))))))},s}(o.Component))||n;e.a=r}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return 9*t/5+32}(n),0),"°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(n,1),"°C"))},s}(o.Component))||n);e.a=i}).call(this,s("hosL").Fragment)},QuNB:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("fh8t"),s("ZOvn")),r=s("gcyc"),l=Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.bib,n=e.onClickNav,c=void 0===n?function(){}:n,l=this.props.stores,h=l.appState,d=l.raceStore,u=h.checkpointId,b=d.sortedContestants,p=void 0===b?[]:b,m=h.selectedClassIds,f=d.getClassById((void 0===m?[]:m)[0])||{},g=f.checkpoints,O=void 0===g?[]:g,j=f.results,v=void 0===j?[]:j,w=(f.checkpoints&&f.checkpoints.find((function(t){return t.id===u})),p?p.find((function(t){return t.bib===parseInt(s,10)})):null);w=w||{};var y,x,k=p?p.findIndex((function(t){return t.bib===parseInt(s,10)})):null,S=(f.results&&f.results.slice().sort((y=["-timestamp","-direction"],function(t,e){return y.map((function(s){var n=1;return"-"===s[0]&&(n=-1,s=s.substring(1)),t[s]>e[s]?n:t[s]<e[s]?-n:0})).reduce((function(t,e){return t||e}),0)})).filter((function(t){return parseInt(t.bib,10)===parseInt(s,10)})),d.getTeamById(w.team)),I=S.members?S.members.find((function(t){return t.email===w.email})):{},C=(i.a.getImage({user:I,team:S,priority:"user"}),i.a.displayNameShort(I)||i.a.displayNameShort(w),0),D=0,T=0,z=f.startDate,P=0,A=k>-1&&p[k+1]?p[k+1].bib:null,U=k>-1&&p[k-1]?p[k-1].bib:null;return Object(o.h)(t,null,A&&Object(o.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return c(A)}},Object(o.h)("i",{class:"fas fa-angle-right"})),U&&Object(o.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return c(U)}},Object(o.h)("i",{class:"fas fa-angle-left"})),Object(o.h)(r.a,{stores:this.props.stores,contestant:w,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick,onClickNav:c,rank:k+1},Object(o.h)("div",{class:"table-responsive"},Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"Checkpoint"),Object(o.h)("th",{class:"text-center"},"In"),Object(o.h)("th",{class:"text-center"},"Out"),Object(o.h)("th",{class:"text-center"},"Moving time"),Object(o.h)("th",{class:"text-center"},"Avg speed"),Object(o.h)("th",{class:"text-center"},"Total moving time"),Object(o.h)("th",{class:"text-center"},"Rest"),Object(o.h)("th",{class:"text-center"},"Total rest"),Object(o.h)("th",{class:"text-center"},"% rest"),Object(o.h)("th",{class:"text-center"},"Distance"),Object(o.h)("th",{class:"text-center"},"Total distance"))),Object(o.h)("tbody",null,O&&O.map((function(e){var s=Math.floor((new Date).getTime()/1e3,10),n=v.slice().find((function(t){return parseInt(t.bib,10)==w.bib&&t.checkpoint===e.id&&"in"===t.direction}))||{},c=v.slice().find((function(t){return parseInt(t.bib,10)==w.bib&&t.checkpoint===e.id&&"out"===t.direction}))||{},r=v.slice().find((function(t){return parseInt(t.bib,10)==w.bib&&t.checkpoint===e.id&&"scratched"===t.direction}))||{},l=0;!e.isStartLine&&n&&c&&n.timestamp&&c.timestamp&&(l=i.a.deltaSec(n.timestamp,c.timestamp));var h=0;x&&n&&x.timestamp&&n.timestamp&&(h=i.a.deltaSec(x.timestamp,n.timestamp));var d=!1,u=0;n&&n.timestamp&&(d=!0,u=e.distanceFromPrev/(h/3600)),C+=e.distanceFromPrev?parseInt(e.distanceFromPrev,10):0,T+=l||0;var b,p=(D+=h||0)?T/D*100:0,m=60*f.requiredRestMinutes,g="text-muted font-weight-lighter",O="text-info";if(d){var j,y,k;c&&c.timestamp||(e.isStartLine?y=0:e.timeEqualization?(f.requiredRestMinutes&&T<m&&(y=m-T+60*w.timeEqualization,g="text-warning font-weight-bold"),!y&&e.requiredRestMinutes&&e.timeEqualization&&w.timeEqualization&&(y=60*e.requiredRestMinutes+60*w.timeEqualization)):y=e.requiredRestMinutes>0?60*e.requiredRestMinutes:10800,e.isStartLine?j=i.a.addDeltaSec(w.startTime||f.startDate,0):(j=i.a.addDeltaSec(n.timestamp,y),k=i.a.deltaSec(n.timestamp,s)),z=j,m&&(O=T+k>m?"text-success":"text-danger")),b=Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("nobr",null,e.name)),Object(o.h)("td",{class:"text-center"},!e.isStartLine&&Object(o.h)("nobr",null,Object(o.h)("span",{class:"text-muted mr-1"},i.a.formatDate(n.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(n.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}),n.dogs>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",n.dogs))),Object(o.h)("td",{class:"text-center"},c.timestamp&&Object(o.h)("nobr",null,Object(o.h)("span",{class:"text-muted mr-1"},i.a.formatDate(c.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(c.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}),c.dogs>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",c.dogs)),!r.timestamp&&j&&Object(o.h)("nobr",{class:""+g},Object(o.h)("span",{class:"text-muted mr-1"},i.a.formatDate(j,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(j,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"})),r.timestamp&&Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),Object(o.h)("span",{class:"text-muted mr-1"},i.a.formatDate(r.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(r.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("td",{class:"text-center"},!e.isStartLine&&Object(o.h)("nobr",null,a.a.secToHms(h,!0))),Object(o.h)("td",{class:"text-center"},!e.isStartLine&&Object(o.h)("nobr",null,a.a.format(u||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t"))),Object(o.h)("td",{class:"text-center"},!e.isStartLine&&Object(o.h)("nobr",null,a.a.secToHms(D,!0))),Object(o.h)("td",{class:"text-center"},c&&c.timestamp?Object(o.h)(t,null,!e.isStartLine&&Object(o.h)(t,null,y>0?Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-muted font-weight-lighter"},a.a.secToHms(y,!0))):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(l,!0))))):Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-info font-weight-light"},a.a.secToHms(k,!0)))),Object(o.h)("td",{class:"text-center"},!e.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,k?Object(o.h)(t,null,Object(o.h)("span",{class:O},a.a.secToHms(T+k,!0))," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"/ ",a.a.secToHms(m,!0))):Object(o.h)(t,null,a.a.secToHms(T,!0))))),Object(o.h)("td",{class:"text-center"},p>0&&Object(o.h)("nobr",null,a.a.format(p||0,0)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"%"))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,e.distanceFromPrev||0," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km"))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,C," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km"))))),c&&c.timestamp&&(z=c.timestamp,P=u)}else{var S,I,A,U,M=P?1e3*e.distanceFromPrev/(P/3.6)/60:e.estTimeToCpMinutes||0;e.isStartLine?(S=w.startTime||f.startDate,A=0):z&&(S=i.a.addDeltaSec(z,60*M),I=i.a.addDeltaSec(S,A=e.isStartLine?0:e.requiredRestMinutes&&e.timeEqualization&&w.timeEqualization?60*e.requiredRestMinutes+60*w.timeEqualization:e.requiredRestMinutes>0?60*e.requiredRestMinutes:60*(e.estRestMinutes||180)),z=I),x&&x.timestamp&&(U=i.a.deltaSec(x.timestamp,s)),u=P||e.distanceFromPrev/(60*M/3600),b=Object(o.h)("tr",null,Object(o.h)("td",null,e.name),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&S&&Object(o.h)("nobr",null,Object(o.h)("span",{class:"text-muted mr-1"},i.a.formatDate(S,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(S,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isFinishLine&&I&&Object(o.h)("nobr",null,Object(o.h)("span",{class:"text-muted mr-1"},i.a.formatDate(I,{locale:"en-GB",day:"numeric",month:"numeric"})),i.a.formatDate(I,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),x&&x.timestamp?Object(o.h)(t,null,Object(o.h)("td",{class:"text-center text-info font-weight-lighter"},Object(o.h)("nobr",null,a.a.secToHms(U,!0)))):Object(o.h)(t,null,Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&Object(o.h)("nobr",null,a.a.secToHms(60*e.estTimeToCpMinutes,!0)))),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&Object(o.h)("nobr",null,a.a.format(u||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t"))),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&!e.isFinishLine&&Object(o.h)("nobr",null,a.a.secToHms(A,!0))),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,e.distanceFromPrev||0," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km"))),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(o.h)("td",{class:"text-center text-muted font-weight-lighter"}," "))}return x=c,n,b})))))))},s}(o.Component))||n;e.a=l}).call(this,s("hosL").Fragment)},RMlE:function(t,e,s){"use strict";function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=s("ox/y"),r=(s("Utv1"),s("/eY4")),l=(s("go65"),s("Y3FI")),h=s("OhSV"),d=(s("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),u=Object(r.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).toggleDropdown=function(t){var e=s.state.menu,n=t.target.dataset.name;!n&&t.target.parentNode&&(n=t.target.parentNode.dataset.name),n&&(e[n]=!e[n]),s.setState({menu:e})},s.toggleDarkmode=function(t){s.props.stores.appState.toggleDarkmode(),s.toggleDropdown(t)},s.toggleViewmode=function(t){var e=t.target.dataset.mode;!e&&t.target.parentNode&&(e=t.target.parentNode.dataset.mode),s.props.stores.appState.toggleViewmode(e),s.toggleDropdown(t)},s.reloadApp=function(){window.location.reload(!0)},s.adminLoadAll=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.userStore.getInfo(!0)).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.changeLanguage=function(t){var e=t.target.value;console.log("changeLanguage",e);var n=s.props.stores,o=n.appState,a=n.userStore,c=a.user,i=void 0===c?{}:c;i.email&&a.setLanguage({email:i.email,language:e}),o.setLanguage(e)},s.search=function(){var t=s.state.searchText;Object(l.route)("/search/"+t)},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s}var s,a;return a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,e.prototype.render=function(){var t=this.state,e=t.menu,s=this.props.stores,n=s.appState,o=s.userStore,a=n.darkmode,r=o.user,l=o.notifications,d=((void 0===l?[]:l).filter((function(t){return!t.read})),r.language),u=void 0===d?"en":d;return Object(c.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(c.h)("a",{class:"navbar-brand",href:"/race/"},Object(c.h)("img",{src:"./assets/homerun-race-logo-2-"+(a?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(c.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(c.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(c.h)("span",{class:"navbar-toggler-icon"})),Object(c.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(c.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(c.h)("li",{class:"nav-item"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-flag-checkered"})," ",Object(c.h)(h.c,{id:"header.races"},"Løpene"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"far fa-question-circle"})," ",Object(c.h)(h.c,{id:"header.support"},"Support"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-quote-right"})," ",Object(c.h)(h.c,{id:"header.news"},"Nyheter")))),Object(c.h)("ul",{class:"navbar-nav ml-auto "},Object(c.h)("li",{class:"nav-item mr-2"},Object(c.h)("div",{class:"form-row align-items-center"},Object(c.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(c.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(c.h)("option",{value:"no",selected:"no"===u},"🇳🇴 NO"),Object(c.h)("option",{value:"en",selected:"en"===u},"🇬🇧 EN"),Object(c.h)("option",{value:"es",selected:"es"===u},"🇪🇸 ES"),Object(c.h)("option",{value:"de",selected:"de"===u},"🇩🇪 DE"),Object(c.h)("option",{value:"fr",selected:"fr"===u},"🇫🇷 FR"),Object(c.h)("option",{value:"ru",selected:"ru"===u},"🇷🇺 RU"),Object(c.h)("option",{value:"se",selected:"se"===u},"🇸🇪 SE"))))),Object(c.h)("li",{class:"nav-item d-block d-lg-none"},Object(c.h)(i.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"})," ",Object(c.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(c.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(c.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"}))))))},e}(c.Component))||a;e.a=u},UwwE:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return 2.20462*t}(n),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(n,0)," kg"))},s}(o.Component))||n);e.a=i}).call(this,s("hosL").Fragment)},ZQlJ:function(t,e,s){"use strict";var n,o=s("hosL"),a=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("NDEG")),i=Object(a.a)(n=function(t){function e(e){var s;return(s=t.call(this,e)||this).scrollImages=function(t){var e=t.target,n=e.scrollLeft/e.clientWidth,o=Math.round(n),a=Math.abs(o-n);(Number.isInteger(n)||a<.1)&&s.setState({imageIdx:o})},s.sortByName=function(t,e){var n=s.props.allDogs,o=void 0===n?[]:n,a=o.find((function(e){return e.id===t})),c=o.find((function(t){return t.id===e}));return a&&c&&a.name>c.name?1:-1},s.state={imageIdx:0},s}var s,n;return n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,e.prototype.render=function(){var t=this,e=this.props,s=e.dogs,n=e.allDogs,a=void 0===n?[]:n,i=e.size,r=void 0===i?"medium":i,l=e.onDogClick,h=void 0===l?function(){}:l;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},s&&s.sort(this.sortByName).map((function(e){var n=a.find((function(t){return t.id===e}));return n?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(o.h)(c.a,{stores:t.props.stores,dog:n,dogs:a.filter((function(t){return s.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:r,onDogClick:h}))):""}))))},e}(o.Component))||n;e.a=i},aGZh:function(t,e,s){"use strict";(function(t){function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o,a=s("hosL"),c=s("/eY4"),i={};Object(c.a)(o=function(s){function o(t){var o;return(o=s.call(this,t)||this).state=function(t){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},i),o}var c,r;return r=s,(c=o).prototype=Object.create(r.prototype),c.prototype.constructor=c,c.__proto__=r,o.prototype.render=function(){var e=this.props.stores.appState,s=this.props.text,n=e.language,o=void 0===n?"en":n,c=s,i=new RegExp("/<"+o+">(.*?)</"+o+">/");return s.replace(i,"$1")&&(c=s),Object(a.h)(t,null,c)},o}(a.Component))}).call(this,s("hosL").Fragment)},aMCh:function(t,e,s){"use strict";(function(t){function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o,a,c,i=s("hosL"),r=s("Utv1"),l=s("/eY4"),h=(s("OhSV"),s("fh8t"),s("ZOvn")),d=Object(l.a)(o=function(e){function s(){return e.apply(this,arguments)||this}return n(s,e),s.prototype.render=function(){var e=this.props,s=e.checkpoints,n=e.thClass,o=e.thStyle,a=e.selectedCheckpointId,c=e.width,r=e.widthCp,l=e.onClickCheckpoint,h=void 0===l?function(){}:l,d=e.dotColor;return Object(i.h)(t,null,s&&s.map((function(e,s){return Object(i.h)(t,null,s>0&&Object(i.h)("th",{class:n,style:o},Object(i.h)("div",{class:"",style:"width: "+c+"px;"}," ")),Object(i.h)("th",{class:n,style:o},Object(i.h)("div",{class:"checkpoint position-relative "+(a===e.id?"text-primary":""),style:"width: "+r+"px; font-size: 1.1em;",onClick:h,"data-id":e.id},Object(i.h)("i",{class:"fas fa-campground"}),Object(i.h)("div",{class:"rounded-pill-both px-1 text-center position-absolute "+(d?"":"bg-secondary")+" font-weight-bold",style:"bottom: 0px; right: -20px; font-size: 0.6em; "+(d?"background-color: "+d+";":"")},e.sortOrder&&"n/a"!==e.sortOrder&&Object(i.h)(t,null,e.sortOrder)))))})))},s}(i.Component))||o,u=Object(l.a)(a=function(e){function s(){return e.apply(this,arguments)||this}return n(s,e),s.prototype.render=function(){var e=this.props,s=e.currentClass,n=e.contestants,o=e.limit,a=e.onClickMusher,c=e.tdClass,l=e.tdStyle,d=e.progressStyle,u=e.progressbarStyle,b=s.checkpoints,p=void 0===b?[]:b,m=s.results,f=void 0===m?[]:m,g=n&&o?n.slice(0,o):n,O=this.props.stores.raceStore.sortedContestants,j=void 0===O?[]:O,v=60*s.requiredRestMinutes,w=Math.floor((new Date).getTime()/1e3,10);return Object(i.h)(t,null,g&&g.map((function(e,s){var n,o,b,m,g=0,O=0,y=j?j.find((function(t){return t.bib===parseInt(e.bib,10)})):null;return y=y||{},Object(i.h)(t,null,Object(i.h)("tr",{class:"musher",onClick:a,"data-bib":e.bib},Object(i.h)("td",{class:c,style:l},e.startTime?r.a.isoTime(e.startTime):""),p&&p.map((function(s,a){var r,p,j=f.slice().filter((function(t){return t.checkpoint===s.id})).sort((r=["timestamp"],function(t,e){return r.map((function(s){var n=1;return"-"===s[0]&&(n=-1,s=s.substring(1)),t[s]>e[s]?n:t[s]<e[s]?-n:0})).reduce((function(t,e){return t||e}),0)})),y=j.filter((function(t){return parseInt(t.bib,10)==e.bib})),x=y.find((function(t){return"out"===t.direction})),k=y.find((function(t){return"in"===t.direction})),S=y.find((function(t){return"scratched"===t.direction})),I=j.filter((function(t){return"in"===t.direction||"scratched"===t.direction})).findIndex((function(t){return parseInt(t.bib,10)==e.bib})),C=j.filter((function(t){return"out"===t.direction})).findIndex((function(t){return parseInt(t.bib,10)==e.bib})),D=0;if(!s.isStartLine&&k&&x&&k.timestamp&&x.timestamp&&(D=h.a.deltaSec(k.timestamp,x.timestamp)),O+=D||0,!x&&k&&!s.isStartLine&&s.timeEqualization&&v){var T=h.a.deltaSec(k.timestamp,w);console.log({reqTotalRestInSec:v,totalInCpTime:O,restInCpSoFar:T}),p=(p=(O+T)/v*100)>100?100:p,console.log({percentInCp:p})}if(m)return"";if(-1===I){if(n){var z=Math.floor((new Date).getTime()/1e3),P=Math.floor(new Date(n.timestamp).getTime()/1e3),A=Math.floor((z-P)/60),U=A/s.estTimeToCpMinutes*100;U=U>95?95:U;var M=Object(i.h)(t,null,Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:l},Object(i.h)("div",{class:"progress",style:""+d},Object(i.h)("div",{class:"progress-bar progress-bar-striped",role:"progressbar",style:"width: "+U+"%; "+u,"aria-valuenow":U,"aria-valuemin":"0","aria-valuemax":"100","data-prevtimestamp":n.timestamp,"data-timeUsedOnStage":A,"data-estTimeToCpMinutesPrev":b,"data-nowEpoch":z,"data-prevCpOutEpoch":P},o+1>0?o+1:"")),e.cpId&&y.length>0&&Object(i.h)(t,null)));return o=C,n=x,b=s.estTimeToCpMinutes,M}return""}g=a,o=C,n=x,b=s.estTimeToCpMinutes;var _=Object(i.h)(t,null,(k||S)&&a>0&&Object(i.h)(t,null,Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:l},Object(i.h)("div",{class:"progress",style:""+d},Object(i.h)("div",{class:"progress-bar",role:"progressbar",style:"width: 100%; "+u,"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})),e.cpId&&y.length>0&&Object(i.h)(t,null))),Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:l},Object(i.h)("div",{class:"progress",style:""+d},Object(i.h)("div",{class:"progress-bar "+(p>0?"progress-bar-striped":"")+" "+(S?"bg-danger":"bg-success"),role:"progressbar",style:"width: "+(p||100)+"%; "+u,"aria-valuenow":p,"aria-valuemin":"0","aria-valuemax":"100"},S?Object(i.h)("i",{class:"fas fa-times"}):Object(i.h)(t,null,I+1>0?I+1:""))),e.cpId&&y.length>0&&Object(i.h)(t,null)));return m=S,_})),Object(i.h)("td",{colspan:2*p.length-g,class:c,style:l},Object(i.h)("div",{class:"d-flex flex-nowrap"},Object(i.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+h.a.getRankingColor(s+1)+"; width: 45px;"},e.bib),Object(i.h)("div",null,Object(i.h)("nobr",null,e.flag," ",e.lastname))))))})))},s}(i.Component))||a,b=Object(l.a)(c=function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var o=s.prototype;return o.componentWillReceiveProps=function(t){if(this.props.currentClass.id!==t.currentClass.id||this.props.reloadLastEpoch!==t.reloadLastEpoch){var e=this.props.currentClass,s=e.checkpoints,n=e.contestants,o=e.results;this.props.stores.raceStore.sortContestantsByResult({contestants:void 0===n?[]:n,results:void 0===o?[]:o,checkpoints:void 0===s?[]:s,sortOrderResults:e.sortOrderResults,startDate:e.startDate})}},o.componentDidMount=function(){var t=this.props.currentClass,e=t.checkpoints,s=t.contestants,n=t.results;this.props.stores.raceStore.sortContestantsByResult({contestants:void 0===s?[]:s,results:void 0===n?[]:n,checkpoints:void 0===e?[]:e,sortOrderResults:t.sortOrderResults,startDate:t.startDate})},o.render=function(){var e=this.props,s=e.currentClass,n=e.onClickMusher,o=void 0===n?function(){}:n,a=e.onClickCheckpoint,c=void 0===a?function(){}:a,r=e.selectedCheckpointId,l=e.limit,h=void 0===l?100:l,b=e.tableClass,p=void 0===b?"table-striped table-sm":b,m=e.thClass,f=e.thStyle,g=e.tdClass,O=e.tdStyle,j=e.progressStyle,v=void 0===j?"height: 20px;":j,w=e.progressbarStyle,y=s.checkpoints,x=void 0===y?[]:y,k=this.props.stores.raceStore.sortedContestants,S=void 0===k?[]:k;return Object(i.h)(t,null,Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table "+p},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:m,style:f},Object(i.h)("div",{class:"",style:"width: 40px;"},Object(i.h)("i",{class:"fas fa-flag"}))),Object(i.h)(d,{stores:this.props.stores,checkpoints:x,thClass:m,thStyle:f,selectedCheckpointId:r,width:40,widthCp:20,onClickCheckpoint:c,dotColor:"#808080"}),Object(i.h)("th",{class:m,style:f},Object(i.h)("div",{class:"",style:"width: 20px;"},Object(i.h)("i",{class:"fas fa-flag-checkered"}))))),Object(i.h)("tbody",null,Object(i.h)(u,{stores:this.props.stores,currentClass:s,contestants:S,limit:h,onClickMusher:o,tdClass:g,tdStyle:O,progressStyle:v,progressbarStyle:w})))))},s}(i.Component))||c;e.a=b}).call(this,s("hosL").Fragment)},cH0S:function(t,e,s){"use strict";var n,o=s("hosL"),a=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("ZOvn")),i=(c.a.marginTop(!1),c.a.marginBottom(),Object(a.a)(n=function(t){function e(){return t.apply(this,arguments)||this}var s,n;return n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,e.prototype.render=function(){var t=this.props.stores.appState.darkmode,e=this.props,s=e.children,n=e.onCloseClick,a=void 0===n?function(){}:n,i=e.classNames,r=void 0===i?"fixed-bottom":i,l=e.width,h=void 0===l?"100vw":l;return Object(o.h)("div",{class:r+" "+(t?"bg-darkmode":"bg-lightmode")+" border rounded rounded-lg pt-4 pb-3 px-2",style:"\n                    bottom: 0;\n                    left: 0;\n                    width: "+h+";\n                    max-height: 80vh;\n                    min-height: 10vh;\n                    overflow: auto;\n                    z-index: 999999;\n                    border-radius: 20px 20px 0 0 !important;\n                    border-top-width: 5px !important;\n                    box-shadow: 0px 0 5px rgba(0, 0, 0, 0.8);\n                ",onTouchmove:c.a.captureEvents,onScroll:c.a.captureEvents},Object(o.h)("button",{class:"btn btn-warning btn-sm float-right",onClick:a},Object(o.h)("i",{class:"fas fa-times"})),s)},e}(o.Component))||n);e.a=i},cadc:function(t,e,s){"use strict";s.r(e),function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i,r,l=s("hosL"),h=s("Utv1"),d=s("/eY4"),u=s("OhSV"),b=s("fh8t"),p=s.n(b),m=s("RMlE"),f=s("8gML"),g=s("3kDq"),O=(s("aGZh"),s("/DnB"),s("cH0S")),j=(s("wanP"),s("ZQlJ"),s("fVsX"),s("aMCh")),v=(s("gcyc"),s("LbFk")),w=s("QuNB"),y=s("zUny"),x=s("ZOvn"),k=x.a.marginTop(!0,!0),S=x.a.marginBottom(),I={isLoading:!1,contentIsNotLoaded:!0,email:"",submenu:"ads",jwtToken:h.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1},C=Object(d.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).initComponent=function(){s.setState({reloadIsActive:!0},(function(){return s.tickReloadTimeer()}))},s.state=o({},I),s.updateTimer={},s}c(s,e);var n=s.prototype;return n.tickReloadTimeer=function(){var t=this,e=this.props.reloadLastEpoch;if(this.state.reloadIsActive){var s=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(s-e)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout((function(){return t.tickReloadTimeer()}),1e3)}return!1},n.componentDidMount=function(){this.initComponent()},n.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},n.render=function(){var e=Math.floor(h.a.normalizeBetween(this.state.reloadInSec,0,60,0,100));return Object(l.h)(t,null,Object(l.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(l.h)("div",{class:"progress-bar",role:"progressbar",style:"width: "+e+"%;","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100"})))},s}(l.Component))||i,D=Object(d.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadLiveRaceResults=function(t,e){return new Promise((function(n,o){var a,c,i,r,l,h,d,u,b,p,m,f,g,O;return void 0===t&&(t=s.props),a=e.teamIds,c=e.focusOnMushers,i=e.bibs,l=e.historySteps,u=(h=t.stores).userStore,b=(d=h.raceStore).race,(p=s.state).historyPointIndex,m=p.replayHistory,f=p.timerRunning,g=s.props.showDrawerReplay,O=d.getClassById(r=e.classid)||{},Promise.resolve(d.getRaceTrackerData(b.raceTrackerRace,{historySteps:l,history:m||g,bibs:i,classid:r,startDate:O.startDate,endDate:O.endDate,isAdmin:u.isAdmin})).then((function(){try{return d.getRaceTrackerActiveTeams(a,c,i,!0),f&&(clearTimeout(s.updateTimer.reload),s.updateTimer.reload=setTimeout((function(){console.log("loadLiveRaceResults.reloading...");var t=Math.floor((new Date).getTime()/1e3);s.setState({reloadLastEpoch:t}),s.loadLiveRaceResults(s.props,{teamIds:a,focusOnMushers:c,bibs:i,classid:r,historySteps:l})}),6e4)),n()}catch(t){return o(t)}}),o)}))},s.loadRaceResults=function(t,e,n){return new Promise((function(o,a){var c,i;return void 0===t&&(t=s.props),c=t.stores.raceStore,i=s.state.timerRunning,Promise.resolve(c.loadWorkoutSummary(e,t.raceid)).then((function(){try{return c.getWorkoutSummaryActiveTeams(e,n),i&&(clearTimeout(s.updateTimer.reload),s.updateTimer.reload=setTimeout((function(){var t=Math.floor((new Date).getTime()/1e3);s.setState({reloadLastEpoch:t}),s.loadRaceResults(s.props,e,n)}),6e4)),o()}catch(t){return a(t)}}),a)}))},s.toggleDisplayDetails=function(t){var e=t.target.closest("tr").dataset.email;s.props.stores.appState.toggleDisplayDetails(e)},s.adminToggleEditUser=function(t){t.stopPropagation();var e=t.target.closest("tr").dataset.email;s.props.stores.appState.toggleEditUserDetails(e)},s.adminSignupEdit=function(t){var e,n=s.props.raceid,o=s.props.stores.raceStore,a=t.target.id,c=t.target.value,i=t.target.dataset,r=((e={raceClassId:i.classid,contestantId:i.contestantid})["raceClassContestant"+h.a.ucfirst(a)]=c,e);clearTimeout(s.updateTimer[a]),s.updateTimer[a]=setTimeout((function(){return new Promise((function(t){return o.editClass({id:n,data:r}),t()}))}),500)},s.lockAllWorkoutsInRace=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.raceStore.lockAllWorkoutsInRace({id:s.props.raceid})).then((function(n){try{return s.setState({lockMessage:n}),t()}catch(t){return e(t)}}),e)}))},s.filterByClass=function(t){var e=t.target.closest("button").dataset.id;s.props.stores.appState.toggleSelectedClassId(e,!0)},s.toggleDrawer=function(){s.setState({showDrawer:!s.state.showDrawer,showDrawerCheckpoint:!1,showDrawerMusher:!1})},s.toggleDrawerMusher=function(t){var e=t.target.closest(".musher").dataset.bib;s.selectMusher(e)},s.selectMusher=function(t){s.setState({selectedMusherBib:t,showDrawerMusher:!0,showDrawerCheckpoint:!1,showDrawer:!1})},s.closeDrawerMusher=function(){s.setState({selectedMusherBib:"",showDrawerMusher:!1})},s.toggleDrawerCheckpoint=function(t){var e=t.target.closest(".checkpoint").dataset.id;s.selectCheckpoint(e)},s.selectCheckpoint=function(t){s.setState({selectedCheckpointId:t,showDrawerCheckpoint:!0,showDrawerMusher:!1,showDrawer:!1})},s.closeDrawerCheckpoint=function(){s.setState({selectedCheckpointId:"",showDrawerCheckpoint:!1})},s.state=o({timerRunning:!0},I),s.updateTimer={},s}c(s,e);var n=s.prototype;return n.loadRace=function(t){return new Promise(function(e,s){var n,o,a,c,i,r,l,h,d,u,b,p,m,f,g,O,j;return void 0===t&&(t=this.props),o=void 0===(n=this.state.loadTimes)?0:n,this.setState({isLoading:!0}),c=(a=t.stores).raceStore,i=a.appState,l=(r=t).classid,h=r.filterByBibs,d=r.historySteps,Promise.resolve(c.load(r.raceid)).then(function(){try{if(c.getAllClassesSortedBy(),b=i.focusOnMushers,m=void 0===(p=i.selectedClassIds)?[]:p,-1===(f=null==(u=c.race)?void 0:u.classes.map((function(t){return t.id}))).indexOf(g=m[0])&&i.setSelectedClassId(g=f[0]),l&&i.toggleSelectedClassId(l,!0),O=u.classes.filter((function(t){return t.id===g})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),j=h||u.classes.filter((function(t){return t.id===g})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat(),O.length>0)return Promise.resolve(c.loadTeams(O.join(","),!1,!0,!0)).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s);function t(){function t(){return this.setState({isLoading:!1,contentIsNotLoaded:!1,loadTimes:o+1}),e()}return u.liveRace>0?Promise.resolve(this.loadLiveRaceResults(this.props,{teamIds:O,focusOnMushers:b,bibs:j,classid:g,historySteps:d})).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s):Promise.resolve(this.loadRaceResults(this.props,O,b)).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s)}return t.call(this)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},n.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},n.componentDidMount=function(){this.loadRace()},n.componentWillReceiveProps=function(t){this.loadRace(t)},n.render=function(){var e=this,s=this.props.stores,n=s.appState,o=s.raceStore,a=s.userStore,c=a.user,i=void 0===c?{}:c,r=a.isAdmin,d=this.props,b=d.raceid,I=d.path,D=n.displayDetails,T=n.editUserDetails,z=n.language,P=void 0===z?"en":z,A=n.selectedClassIds,U=void 0===A?[]:A,M=o.race,_=o.classes,R=this.state,L=R.contentIsNotLoaded,B=R.lockMessage,F=R.showDrawer,E=R.showDrawerCheckpoint,H=R.showDrawerMusher,N=R.reloadLastEpoch,q=R.selectedCheckpointId,Z=R.selectedMusherBib,V=o.activeTeams,G=new Date(M.endDate);G.setHours(G.getHours()+2);var Y=function(t){return!(U.length>0)||U.indexOf(t.id)>-1},W=1===M.liveRace;return Object(l.h)(t,null,Object(l.h)(m.a,{stores:this.props.stores}),Object(l.h)("div",{class:"container-fluid ",style:"margin-bottom: "+S+"; margin-top: "+k+";"},Object(l.h)(f.a,{stores:this.props.stores,path:I,raceid:b}),Object(l.h)("div",{class:"row border-bottom "},Object(l.h)("div",{class:"col-12"},Object(l.h)(u.b,null,Object(l.h)(g.a,{stores:this.props.stores,title:Object(l.h)(u.c,{id:"races.results"},"Resultater")})),r&&Object(l.h)(t,null,Object(l.h)("a",{href:"/race/"+b+"/resultsMain"},"New results demo")),Object(l.h)(C,{stores:this.props.stores,reloadLastEpoch:N}),W?Object(l.h)(t,null):Object(l.h)(t,null,i.email&&Object(l.h)("div",{class:"alert alert-primary",role:"alert"},"no"===P&&Object(l.h)(t,null,"Resultatene hentes direkte fra treningsøktene i QPaws appen.",Object(l.h)("br",null),Object(l.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(l.h)("ul",null,Object(l.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(l.h)("li",null,"Være markert som 'Konkurranse'."),Object(l.h)("li",null,"Være registrert på teamet som er påmeldt."))),"en"===P&&Object(l.h)(t,null,"The results are imported directly from the workouts inside QPaws app.",Object(l.h)("br",null),Object(l.h)("strong",null,"To make sure your workouts are registered check the following:"),Object(l.h)("ul",null,Object(l.h)("li",null,"Use the correct date on your workout. Has to be inside the race period."),Object(l.h)("li",null,"Mark the workout as 'Race'."),Object(l.h)("li",null,"Workout has to be on the same team as you signed up with."))))),M.resultsUrl?Object(l.h)("div",{class:"p-3 my-4 bg-light"},Object(l.h)("a",{href:M.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},M.resultsText?M.resultsText:Object(l.h)(t,null,Object(l.h)(u.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(l.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(l.h)(t,null),W?Object(l.h)(t,null):Object(l.h)(t,null,(L||!_||0===_.length)&&Object(l.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(l.h)("div",{class:"spinner-border text-primary",role:"status"},Object(l.h)("span",{class:"sr-only"},"Loading..."))))),W?Object(l.h)(t,null,!F&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12"},Object(l.h)("h1",null,Object(l.h)(u.c,{id:"races.classes"},"Classes")),Object(l.h)("nav",{class:"flex-column flex-sm-row"},M.classes&&M.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(l.h)(t,null,Object(l.h)("button",{type:"button",class:"btn btn-lg flex-sm-fill text-sm-center btn"+(U.indexOf(s.id)>-1?"":"-outline")+"-primary mr-2 mb-2",onClick:e.filterByClass,"data-id":s.id},s.title))})))),Object(l.h)("div",{class:"col-12"},M.classes&&M.classes.filter(Y).sort((function(t,e){return t.distance-e.distance})).map((function(t){return Object(l.h)("div",{class:"mt-5 mb-5"},Object(l.h)(j.a,{stores:e.props.stores,race:M,currentClass:t,reloadLastEpoch:N,key:"raceclass-"+t.id,onClickMusher:e.toggleDrawerMusher,onClickCheckpoint:e.toggleDrawerCheckpoint,selectedCheckpointId:q}))}))))):Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 overflow-auto bg-light py-4 border rounded-lg mb-5",style:"max-height: 30vh;"},V&&V.length>0&&Object(l.h)(t,null,Object(l.h)("span",{class:"float-right"},Object(l.h)("span",{class:"text-muted"},Object(l.h)(u.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",V.length))),Object(l.h)("h5",null,Object(l.h)(u.c,{id:"races.on-trail"},"På sporet nå"),":"),Object(l.h)("div",{class:"table-responsive-md"},Object(l.h)("table",{class:"table table-sm table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"#"),Object(l.h)("th",null,Object(l.h)(u.c,{id:"races.name"},"Navn")),Object(l.h)("th",null,Object(l.h)(u.c,{id:"races.start-date"},"Startdato")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.distance"},"Distanse")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.ascend"},"Høydemeter")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.avg-speed"},"Gj.snittsfart")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.race-time"},"Kjøretid")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.rest-time"},"Hviletid")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.load-index"},"B.index")),Object(l.h)("th",{class:"text-center"},Object(l.h)(u.c,{id:"races.current-speed"},"Fart nå")),Object(l.h)("th",null,Object(l.h)(u.c,{id:"races.elevation"},"Moh")),Object(l.h)("th",null,Object(l.h)(u.c,{id:"races.elevation-graph"},"Høydekurve")))),Object(l.h)("tbody",null,V&&V.length>0?V.map((function(e,s){var n=o.getTeamById(e.team),a=o.getMusherByTeamId(n.id),c=h.a.format(3.6*e.currentLocation.coords.speed,1),i=e.secSinceLastUpdate>1800?"danger":e.secSinceLastUpdate>600?"warning":"success",r=e.currentLocation.timestamp;return Object(l.h)("tr",null,Object(l.h)("th",null,s+1),Object(l.h)("td",null,1===e.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-"+i+" float-left",role:"status"}),2===e.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning mr-2 float-left",style:"font-size: 1.8em;"}),a.firstname," ",a.lastname,n.name&&Object(l.h)(t,null," / ",Object(l.h)("span",{class:"text-muted"},n.name)),Object(l.h)("br",null),Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",e.avgDogs,Object(l.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2"})," ",h.a.format(100*e.currentLocation.battery.level,0),"%",Object(l.h)("i",{class:"fas fa-hourglass-half text-muted ml-2"})," Updated: ",h.a.formatDistance(r,new Date)," ago")),Object(l.h)("td",null,h.a.formatDate(e.date,{locale:P,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(l.h)("td",{class:"text-right"},h.a.format(e.distanceKm,1)," km"),Object(l.h)("td",{class:"text-right"},h.a.format(e.elevation,0)," m"),Object(l.h)("td",{class:"text-right"},h.a.format(e.speedAvg,1)," km/t"),Object(l.h)("td",{class:"text-center"},h.a.secToHms(e.duration)),Object(l.h)("td",{class:"text-center"},h.a.secToHms(e.rest)),Object(l.h)("td",{class:"text-right"},e.loadIndex),Object(l.h)("td",{class:"text-right"},c," km/t"),Object(l.h)("td",null,e.currentLocation.coords.altitude," moh"),Object(l.h)("td",null,Object(l.h)("svg",{viewBox:"0 0 300 100",style:"width: 100%; height: 50px;"},Object(l.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"}))))})):Object(l.h)("tr",null,Object(l.h)("td",{colspan:"11",class:"text-center py-4"},Object(l.h)("h5",null,Object(l.h)(u.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå...")))))))),Object(l.h)("div",{class:"col-12"},Object(l.h)("h1",null,Object(l.h)(u.c,{id:"races.classes"},"Classes")),Object(l.h)("nav",{class:"flex-column flex-sm-row"},M.classes&&M.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(l.h)(t,null,Object(l.h)("button",{type:"button",class:"btn btn-lg flex-sm-fill text-sm-center btn"+(U.indexOf(s.id)>-1?"":"-outline")+"-primary mr-2 mb-2",onClick:e.filterByClass,"data-id":s.id},s.title))})))),Object(l.h)("div",{class:"col-12"},M.classes&&M.classes.filter(Y).sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(l.h)("div",{class:"mt-5 mb-5"},M.resultDanger&&Object(l.h)("div",{class:"alert alert-danger",role:"alert"},Object(l.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(l.h)("span",{class:"sr-only"},"Loading...")),Object(l.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(p.a,{markdown:x.a.replaceImages(M.resultDanger,M.images,P),markdownOpts:x.a.getMarkdownOptions()})),M.resultWarning&&Object(l.h)("div",{class:"alert alert-warning",role:"alert"},Object(l.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(p.a,{markdown:x.a.replaceImages(M.resultWarning,M.images,P),markdownOpts:x.a.getMarkdownOptions()})),M.resultSuccess&&Object(l.h)("div",{class:"alert alert-success",role:"alert"},Object(l.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(p.a,{markdown:x.a.replaceImages(M.resultSuccess,M.images,P),markdownOpts:x.a.getMarkdownOptions()})),Object(l.h)("span",{class:"float-right"},Object(l.h)("span",{class:"text-muted"},Object(l.h)(u.c,{id:"races.mushers"},"Mushers"),": ",s.totalMushers||0),Object(l.h)("span",{class:"text-muted ml-4"},Object(l.h)(u.c,{id:"races.finished-mushers"},"Finished mushers"),": ",s.totalFinished||0," ")),Object(l.h)("h3",null,s.title," ",s.startDate&&Object(l.h)(t,null,": ",Object(l.h)("span",{class:"font-weight-lighter"},h.a.formatDate(s.startDate+" "+(s.startTime||"00:00:00"),{locale:P,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",h.a.formatDate(s.endDate+" "+(s.endTime||"00:00:00"),{locale:P,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("div",{class:"table-responsive-md"},Object(l.h)("table",{class:"table table-sm table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",{scope:"col"},"#"),Object(l.h)("th",{scope:"col",style:"min-width: 200px;"},Object(l.h)(u.c,{id:"races.name"},"Navn")),r&&Object(l.h)(t,null,Object(l.h)("th",{scope:"col"},Object(l.h)("i",{class:"fas fa-user-shield"})," Cellphone"),Object(l.h)("th",{scope:"col"},Object(l.h)("i",{class:"fas fa-user-shield"})," Email")),r&&Object(l.h)("th",{scope:"col",class:"d-none d-sm-block",style:"min-width: 400px;"},Object(l.h)(u.c,{id:"races.stages"},"Etapper")),Object(l.h)("th",{scope:"col"},Object(l.h)(u.c,{id:"races.result"},"Resultat")))),Object(l.h)("tbody",null,_[s.id]&&_[s.id].contestants&&_[s.id].contestants.map((function(n,a){var c=n.musher,i=n.currentTeam,d=n.currentStages,u=n.currentResults,b=n.completed,m=n.normalizedDuration,f=n.weightedNormalizedDuration,g=n.isDone,O=n.finishedDate,j=n.totalWorkoutTimeUsedSec,v=o.getTotalsByTeamId(i.id);return Object(l.h)(t,null,Object(l.h)("tr",{onClick:e.toggleDisplayDetails,"data-email":c.email},Object(l.h)("th",{scope:"row"},a+1,r&&u&&Object(l.h)(t,null,Object(l.h)("br",null),u.isLocked?Object(l.h)("i",{class:"fas fa-lock text-danger mr-2"}):Object(l.h)("i",{class:"fas fa-lock-open text-success mr-2"}))),Object(l.h)("td",{class:D[c.email]?"font-weight-bold":"",style:D[c.email]?"":"line-height: 0.8em;"},D[c.email]?Object(l.h)(t,null,c.firstname," ",c.lastname,Object(l.h)("br",null),Object(l.h)("span",{class:"text-muted"},i.name),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},c.sportsClub),Object(l.h)("br",null),c.facebook&&Object(l.h)("a",{class:"mr-2",href:x.a.asFacebookLink(c.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-facebook"})),c.instagram&&Object(l.h)("a",{class:"mr-2",href:x.a.asInstagramLink(c.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-instagram"})),c.price1&&Object(l.h)("div",{class:"font-weight-lighter"},Object(l.h)("i",{class:"fas fa-trophy text-warning"})," ",c.price1,c.priceSent&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-check text-success"}))),c.price2&&Object(l.h)("div",{class:"font-weight-lighter"},Object(l.h)("i",{class:"fas fa-trophy text-warning"})," ",c.price2),c.price3&&Object(l.h)("div",{class:"font-weight-lighter"},Object(l.h)("i",{class:"fas fa-trophy text-warning"})," ",c.price3)):Object(l.h)(t,null,c.price1&&Object(l.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(l.h)("i",{class:"fas fa-trophy"}),c.priceSent&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-check text-success"}))),Object(l.h)("nobr",null,c.firstname," ",c.lastname,Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},c.sportsClub),Object(l.h)("br",null)))),r&&Object(l.h)(t,null,Object(l.h)("td",null,c.cellphone),Object(l.h)("td",null,c.email)),r&&Object(l.h)("td",{class:"d-none d-md-block"},r&&Object(l.h)(t,null,Object(l.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:e.adminToggleEditUser},Object(l.h)("i",{class:"fas fa-user-edit"}))),r&&T[c.email]&&Object(l.h)(t,null,Object(l.h)("h5",null,"Admin edit:"),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(l.h)("div",{class:"col-sm-10"},c.email)),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{class:"col-sm-2 col-form-label text-right"},"Cellphone"),Object(l.h)("div",{class:"col-sm-10"},c.cellphone)),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.raceStatus},Object(l.h)("option",{value:""},"-- Choose race status --"),Object(l.h)("option",{value:"OK"},"OK - Everything ok"),Object(l.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(l.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(l.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(l.h)("option",{value:"DQ"},"DQ - Disqualified"),Object(l.h)("option",{value:"DC"},"DC - Data changed by user")))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.raceComment}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.gpxResultsApproved?h.a.isoDate(c.gpxResultsApproved,!1,!1,!0):null}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.price1}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.price2}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.price3}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":c.class,"data-contestantid":c.id,onInput:e.adminSignupEdit,value:c.priceSent?h.a.isoDate(c.priceSent,!1,!1,!0):null})))),r&&Object(l.h)("div",{class:"d-flex flex-wrap"},d&&d.map((function(e,n){var o=e.distanceKm/s.distance*100,a=(o>100||parseInt(o,10),Math.floor(new Date(e.date).getTime()/1e3)),i=new Date(0);i.setUTCSeconds(a+parseInt(e.duration,10));e.images.flat();return D[c.email]?Object(l.h)(t,null,Object(l.h)("div",{class:"bg-light border rounded-lg  text-right position-relative mr-1 mb-1",style:"width: 350px; min-width: 320px;"},Object(l.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(l.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(l.h)("div",{class:"position-relative px-3"},Object(l.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},n+1),Object(l.h)("small",null,r&&Object(l.h)("span",{class:"position-absolute",style:"top: 0px; right: -5px;"},e.isLocked?Object(l.h)("i",{class:"fas fa-lock text-danger"}):Object(l.h)("i",{class:"fas fa-lock-open text-success"})),Object(l.h)("span",{class:"float-left"},Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt text-muted"})," ",h.a.formatDate(e.date,{locale:P,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt text-muted"})," ",h.a.formatDate(i,{locale:P,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(l.h)("span",{class:"float-right"},Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(e.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(e.elevation,0)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"m")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",h.a.format(e.speedAvg,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km/t")),Object(l.h)("br",null),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(e.duration)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(e.rest)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",h.a.secToHms(e.duration-e.rest)||"n/a"),Object(l.h)("br",null),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",h.a.format(e.avgDogs,0)||"n/a")))))):Object(l.h)(t,null,Object(l.h)("div",{class:"bg-light border rounded-lg text-right position-relative px-3 mr-1 mb-1",style:"width: 300px; min-width: 300px;"},Object(l.h)("small",null,r&&Object(l.h)("span",{class:"position-absolute",style:"top: 2px; right: -5px;"},e.isLocked?Object(l.h)("i",{class:"fas fa-lock text-danger"}):Object(l.h)("i",{class:"fas fa-lock-open text-sucess"})),Object(l.h)("span",{class:"float-left"},n+1),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(e.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",h.a.format(e.speedAvg,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km/t")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(e.duration)||"n/a"))))})))),Object(l.h)("td",{class:"text-right position-relative pl-4"},function(e){switch(e.raceStatus){case"OK":return Object(l.h)(t,null,Object(l.h)("span",{class:"position-absolute rounded-lg",style:"top: 10px; left: 0px;"},Object(l.h)("i",{class:"fas fa-check text-success"})));case"DNS":case"DNF":case"DNQ":case"DQ":return Object(l.h)(t,null,Object(l.h)("span",{class:"position-absolute bg-danger text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -100px; width: 80px"},Object(l.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));case"DC":return Object(l.h)(t,null,Object(l.h)("span",{class:"position-absolute bg-warning text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -150px; width: 80px"},Object(l.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));default:return""}}(c),c.raceComment&&Object(l.h)(t,null,Object(l.h)("div",{class:"alert alert-warning text-left",role:"alert"},Object(l.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(p.a,{markdown:x.a.replaceImages(c.raceComment,M.images,P),markdownOpts:x.a.getMarkdownOptions()}))),r&&u.lastUpdated>G&&Object(l.h)(t,null,Object(l.h)("div",{class:"alert alert-danger text-left d-none d-md-block",role:"alert"},Object(l.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)("i",{class:"fas fa-user-shield"})," Last changed: ",h.a.formatDate(u.lastUpdated,{locale:P,hour12:!1,hour:"2-digit",minute:"2-digit"}))),b>=99?Object(l.h)("span",{class:"position-absolute",style:"top: 10px; left: 0px;"},Object(l.h)("i",{class:"fas fa-flag-checkered text-success"})):"",Object(l.h)("small",null,D[c.email]?Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(u.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(u.elevation,0)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"m")),Object(l.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(l.h)("div",{class:"progress-bar "+(b>=99?"bg-success":""),role:"progressbar",style:"width: "+b+"%","aria-valuenow":""+b,"aria-valuemin":"0","aria-valuemax":"100"})),M.nonstop?Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(j)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(v.totalRest)||"n/a"),Object(l.h)("br",null),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",h.a.isoDate(v.firstEpoch)," - ",Object(l.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",h.a.isoDate(O)),r&&Object(l.h)(t,null,Object(l.h)("br",null),Object(l.h)("div",{class:"text-danger"},v.firstGpxStartEpoch&&Object(l.h)(t,null,Object(l.h)("nobr",null,"firstGpxStartEpoch: ",h.a.isoDate(v.firstGpxStartEpoch)),Object(l.h)("br",null)),v.lastGpxStartEpoch&&Object(l.h)(t,null,Object(l.h)("nobr",null,"lastGpxStartEpoch: ",h.a.isoDate(v.lastGpxStartEpoch)),Object(l.h)("br",null)),Object(l.h)("nobr",null,"totalWorkoutTimeUsedSec: ",h.a.secToHms(v.totalWorkoutTimeUsedSec)),Object(l.h)("br",null),Object(l.h)("nobr",null,"rest: ",h.a.secToHms(v.rest)),Object(l.h)("br",null),Object(l.h)("nobr",null,"totalRest: ",h.a.secToHms(v.totalRest)),Object(l.h)("br",null),Object(l.h)("nobr",null,"duration: ",h.a.secToHms(v.duration)),Object(l.h)("br",null)))):Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(u.duration)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(u.rest)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",h.a.secToHms(u.duration-u.rest)||"n/a"),Object(l.h)("br",null),1===g&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"font-weight-bold"},Object(l.h)("span",{class:"font-weight-lighter text-muted"},"Normalized to race distance:")," ",Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(m)||"n/a"),Object(l.h)("br",null)),1===g&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"font-weight-bold"},Object(l.h)("span",{class:"font-weight-lighter text-muted"},"Normalized:")," ",Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(f)||"n/a"),Object(l.h)("br",null)))):Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(u.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(u.elevation,0)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"m")),Object(l.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(l.h)("div",{class:"progress-bar "+(b>=99?"bg-success":""),role:"progressbar",style:"width: "+b+"%","aria-valuenow":""+b,"aria-valuemin":"0","aria-valuemax":"100"})),M.nonstop?Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(j)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(v.totalRest)||"n/a")):Object(l.h)(t,null,1===g?Object(l.h)(t,null,Object(l.h)("nobr",{class:"font-weight-bold"},Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(f)||"n/a"),Object(l.h)("br",null)):Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(u.duration)||"n/a"),Object(l.h)("br",null))))))))}))))),Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("small",null,"no"===P&&Object(l.h)(t,null,"OBS! Ref reglene så er det ikke lov til å endre treningsøktene som er med i konkurransen etter at løpet er ferdig.",Object(l.h)("br",null),"Forsøk på dette vil resultere i automatisk deplassering på listene."),"en"===P&&Object(l.h)(t,null,"IMPORTANT! According to the rules: It is NOT allowed to try alter the workouts related to the competition after the race has ended.",Object(l.h)("br",null),"Attempts will result in automatic deplacement on the resultlists."))))})))))),!W&&r&&Object(l.h)(t,null,Object(l.h)("button",{class:"btn btn-danger btn-lg float-right m-4",onClick:this.lockAllWorkoutsInRace},"Lock all workouts in this race"),Object(l.h)("xmp",{class:"m-5"},JSON.stringify(B,null,4))),F&&Object(l.h)(t,null,Object(l.h)(O.a,{stores:this.props.stores,onCloseClick:this.toggleDrawer},Object(l.h)(v.a,{stores:this.props.stores}))),E&&Object(l.h)(t,null,Object(l.h)(O.a,{stores:this.props.stores,onCloseClick:this.closeDrawerCheckpoint},Object(l.h)(y.a,{stores:this.props.stores,id:q,onClickNav:this.selectCheckpoint}))),H&&Object(l.h)(t,null,Object(l.h)(O.a,{stores:this.props.stores,onCloseClick:this.closeDrawerMusher},Object(l.h)(w.a,{stores:this.props.stores,bib:Z,onClickNav:this.selectMusher}))))},s}(l.Component))||r;e.default=D}.call(this,s("hosL").Fragment)},e0EM:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=(s("QRet"),s("Utv1")),c=s("/eY4"),i=s("OhSV"),r=(s("Y3FI"),s("fh8t"),s("go65"),s("HQo+"),s("wanP")),l=(s("ZQlJ"),s("s4FZ"),s("q/oJ"),s("cH0S"),s("fVsX"),s("8n2v"),s("gWxU"),s("Nanz"),s("zUny"),s("bbv7")),h=s("ukv5"),d=(s("eQ6k"),s("ZOvn")),u=Object(c.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).state={},s}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.wp,n=e.musher,c=this.props.stores,u=c.raceStore,b=c.userStore,p=u.totalTrackLength,m=u.getClassByBib(s.bib),f=u.getTeamById(n.team),g=f.members?f.members.find((function(t){return t.email===n.email})):{},O=b.user,j=void 0===O?{}:O,v=u.getTotalsByTeamId(n.team),w=(d.a.getImage({user:g,team:f,priority:"user",fallback:n.image1}),d.a.displayNameShort(g)||d.a.displayNameShort(n),a.a.format(s.totalDistanceOnTrack/p*100,0)),y=a.a.format(s.restTime/s.raceTime*100,0),x=[],k=[],S=[],I=[];if(s&&s.speeds&&s.speeds.length>0){for(var C=a.a.range(s.speeds[0].timestamp,s.speeds[s.speeds.length-1].timestamp,600),D=Math.ceil(C.length/5),T=(Math.floor(C.length/D),0),z=C.length;T<z;T+=D)x.push(d.a.formatDate(a.a.parseInputDate(C[T]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));x.push(d.a.formatDate(a.a.parseInputDate(C[C.length-1]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));var P=s.speeds.map((function(t){return{x:t.timestamp,y:3.6*t.speed}}));k.push(P),S.push("Avg speed"),I.push("km/t")}f.members&&f.members.indexOf(j.id),f.followers&&f.followers.indexOf(j.id),f.followRequests&&f.followRequests.findIndex((function(t){return t.id===j.id}));var A=Math.floor((new Date).getTime()/1e3);return Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-between"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list"})," Ranking")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},s.rank)),s.finishTime<9999999999?Object(o.h)(t,null,s.diffToFirstFinishTime>0?Object(o.h)(t,null,Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Diff to 1st")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(s.diffToFirstFinishTime)))):Object(o.h)(t,null,Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Start time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(n.startTime||m.startDate||s.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Finish time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(s.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(o.h)(t,null,Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Current speed")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.format(s.speed||0,1)," ",Object(o.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km/h"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-stopwatch"})," Last update")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(A-s.timestamp))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Total distance")),Object(o.h)("div",{class:"text-center mt-2"},Object(o.h)(r.a,{key:"gauge-reload-page",color:"primary",radius:40,showPercentText:!1,percent:w,showCenterText:!0,centerText:w+"%",centerTextSize:18,centerTextY:"55%"})),Object(o.h)("div",{class:"text-center"},Object(o.h)("small",null,a.a.format(s.totalDistanceOnTrack,1)," / ",a.a.format(p,1)," ",Object(o.h)("span",{class:"text-muted"},"km"),Object(o.h)("br",null),Object(o.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",a.a.secToHms(s.raceTime)))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-bed"})," Rest")),Object(o.h)("div",{class:"text-center mt-2"},Object(o.h)(r.a,{key:"gauge-reload-page",color:y<40?y<30?"danger":"warning":"success",radius:40,showPercentText:!1,percent:y,showCenterText:!0,centerText:y+"%",centerTextSize:18,centerTextY:"55%"})),Object(o.h)("div",{class:"text-center"},Object(o.h)("small",null,y," ",Object(o.h)("span",{class:"text-muted"},"%"),Object(o.h)("br",null),Object(o.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",a.a.secToHms(s.restTime))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(o.h)(h.a,{stores:this.props.stores,states:s.states,duration:s.raceTime,key:"state-"+s.bib}))),s.finishTime<9999999999?Object(o.h)(t,null,s.diffToFirstFinishTime>0?Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Start time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(n.startTime||m.startDate||s.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Finish time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(s.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(o.h)(t,null)):Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-down"})," Behind")),Object(o.h)("div",{class:"text-center"},a.a.format(s.distanceToBehind,1)," ",Object(o.h)("span",{class:"text-muted"},"km"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},"Team")),Object(o.h)("div",{class:"text-center"},Object(o.h)("i",{class:"fas fa-dog"}))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-up"})," In front")),Object(o.h)("div",{class:"text-center"},a.a.format(s.distanceToForward,1)," ",Object(o.h)("span",{class:"text-muted"},"km"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-up"})," To first")),Object(o.h)("div",{class:"text-center"},a.a.format(s.distanceToFirst,1)," ",Object(o.h)("span",{class:"text-muted"},"km")))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.format(s.distanceToFinish,1)," ",Object(o.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km"))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Racetime")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(s.raceTime))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-bed"})," Resttime")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(s.restTime)))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Speed plot")),Object(o.h)("div",{class:"w-100 mt-2 overflow-auto"},Object(o.h)(l.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicks:x,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:k,legendLeft:S,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" km/t",unitLeft:I,avgWindowLeft:[0,0],smoothLeft:[0,0]})))),v&&v.distanceKm&&Object(o.h)(t,null,Object(o.h)("div",{class:"table-responsive-lg"},Object(o.h)("table",{class:"table table-borderless"},Object(o.h)("tbody",null,Object(o.h)("tr",null,Object(o.h)("td",{style:"width: 5%;"},Object(o.h)("i",{class:"fas fa-dog"})),Object(o.h)("td",{style:"width: 60%"},Object(o.h)(i.c,{id:"races.dogs"},"Dogs")),Object(o.h)("td",{style:"width: 5%;"}," "),Object(o.h)("td",{class:"text-right",style:"width: 30%;"},f.dogs.length)),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-road"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.distance"},"Distance")),Object(o.h)("td",null," "),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,v.distanceKm?a.a.format(v.distanceKm,1)+" km":"n/a"))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-mountain"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.ascend"},"Ascending")),Object(o.h)("td",null," "),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,v.elevation?a.a.format(v.elevation,0)+" m":"n/a"))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-stopwatch"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.race-time"},"Racetime")),Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-clock"})),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,a.a.secToHms(v.duration)||"n/a"))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-bed"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.rest-time"},"Rest")),Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-clock"})),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,a.a.secToHms(v.rest)||"n/a"))))))))},s}(o.Component))||n;e.a=u}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},eQ6k:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=(s("Utv1"),s("/eY4")),c=s("OhSV"),i=Object(a.a)(n=function(e){function s(){for(var s,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(s=e.call.apply(e,[this].concat(a))||this).requestFollowTeam=function(t){var e=s.props.stores,n=e.teamStore,o=e.userStore.user,a=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.followRequest(a,o),s.setState({requestSent:!0})},s.unFollowTeam=function(t){var e=s.props.stores,n=e.teamStore,o=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.unollowTeam(o),s.setState({unfollowed:!0})},s.getButton=function(e){void 0===e&&(e="");var n=s.state.requestSent,a=s.props.stores.userStore.user,i=s.props,r=i.team,l=i.skipHome,h=i.simple,d=i.classNames,u=r.members&&r.members.indexOf(a.id)>-1,b=r.followers&&r.followers.indexOf(a.id)>-1,p=r.blockedFollowers&&r.blockedFollowers.indexOf(a.id)>-1,m=n||r.followRequests&&r.followRequests.findIndex((function(t){return t.id===a.id}))>-1;return u?l?"":Object(o.h)("i",{class:"fas fa-home"}):b?Object(o.h)(t,null,Object(o.h)("button",{class:d||"btn btn-block btn-outline-secondary float-right",onClick:s.unFollowTeam,disabled:"true","data-team":r.id},Object(o.h)("i",{class:"fas fa-link mr-2"}),Object(o.h)(c.c,{id:"teams.connect.is-following"},"Følger")," ",!h&&Object(o.h)(t,null,e)),Object(o.h)("button",{class:d||"btn btn-sm btn-block btn-danger float-right",onClick:s.unFollowTeam,"data-team":r.id},Object(o.h)("i",{class:"fas fa-unlink mr-2"}),Object(o.h)(c.c,{id:"teams.connect.unfollow"},"Unfollow"))):p?"":m?Object(o.h)("button",{class:d||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(o.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(o.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",!h&&Object(o.h)(t,null,e)):r.public?Object(o.h)("button",{class:d||"btn btn-block btn-outline-success float-right",onClick:s.requestFollowTeam,"data-team":r.id},Object(o.h)("i",{class:"fas fa-plus mr-2"}),Object(o.h)(c.c,{id:"teams.connect.follow"},"Følg")," ",!h&&Object(o.h)(t,null,e)):void 0},s}var n,a;return a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,s.prototype.render=function(){var e=this.state.unfollowed,s=this.props,n=s.team,a=s.buttonOnly,c=this.props.stores.userStore,i=c.user.language,r=void 0===i?"en":i,l=c.findTeamAmbition({ambition:n.ambitions,language:r}),h=c.findTeamType({type:n.type,language:r}),d=n.image&&n.image.s3SmallLink?n.image:null;return a?Object(o.h)(t,null,this.getButton(""+n.name)):Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:e?"text-decoration: line-through; opacity: 0.3;":""},Object(o.h)("a",{href:"/teams/public/"+n.uuidv4},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:d?'background-image: url("'+d.s3SmallLink+'");  background-size: cover;':""},!d&&Object(o.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(o.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},n.public?Object(o.h)(t,null,Object(o.h)("a",{href:"/teams/public/"+n.uuidv4},n.name)):Object(o.h)(t,null,n.name)),Object(o.h)("div",null,n.place," ",n.country),Object(o.h)("div",null,h&&Object(o.h)("span",{class:"badge badge-pill badge-secondary"},h),l&&Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(o.h)("small",{class:"text-muted"},n&&n.dogs&&Object(o.h)("span",{class:""},Object(o.h)("i",{class:"fas fa-dog"})," ",n.dogs.length),n&&n.followers&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-user"})," ",n.followers.length))),Object(o.h)("div",null,this.getButton()))))},s}(o.Component))||n;e.a=i}).call(this,s("hosL").Fragment)},fVsX:function(t,e,s){"use strict";var n,o=s("hosL"),a=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("ZOvn")),i=(c.a.marginTop(!1),c.a.marginBottom(),Object(a.a)(n=function(t){function e(){return t.apply(this,arguments)||this}var s,n;return n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,e.prototype.render=function(){var t=this.props,e=t.children,s=t.height,n=void 0===s?"65px":s;return Object(o.h)("nav",{class:"navbar navbar-themed bg-light fixed-top py-0",style:"height: "+n+";"},e)},e}(o.Component))||n);e.a=i},gWxU:function(t,e,s){"use strict";s.r(e),function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=s("Utv1"),r=s("/eY4"),l=(s("Y3FI"),s("OhSV")),h=s("fh8t"),d=s.n(h),u=(s("X9Km"),s("ZOvn")),b=s("NDEG"),p=s("s4FZ"),m=(s("jtG4"),s("eQ6k")),f=s("q/oJ"),g=s("Nanz"),O=s("1/9N"),j=u.a.marginTop(!1),v=u.a.marginTopBack(!1),w=u.a.marginBottom(),y={newTeam:{}},x=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).onDogClick=function(t,e){return t.preventDefault(),t.stopPropagation(),s.setState({showDog:e}),!1},s.hideDog=function(){s.setState({showDog:null})},s.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},s.subscribeNotificationTopic=function(t){return new Promise((function(e,n){var o,a;return void 0===(a=(o=s.props.stores.userStore).user.notificationTopics)?{}:a,1,Promise.resolve(o.setNotificationTopic({field:"notificationTopics."+t,value:1})).then((function(){try{return e()}catch(t){return n(t)}}),n)}))},s.back=function(){s.props.stores.history.goBack()},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},y),s.updateTimer={},s.time=(new Date).getTime(),s.apiServer=i.a.getApiServer(),s}var a,r;r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var h=s.prototype;return h.loadPublicView=function(t){return new Promise(function(e,s){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(t.teamid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},h.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadPublicTeam(t)).then(function(){try{return Promise.resolve(this.loadPublicView(t)).then((function(){try{return e()}catch(t){return s(t)}}),s)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},h.loadPublicTeam=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(t.stores.teamStore.loadPublicDetail({id:t.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},h.componentDidMount=function(){var t=this.props.back,e=void 0===t?this.back:t,s=this.props.stores.appState;s.setSwipeRight((function(){s.setSwipeRight(),e()})),this.loadAll()},h.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},h.render=function(){var e=this,s=this.state.showDog,n=this.props.stores,o=n.teamStore,a=n.userStore,r=a.user,h=a.isAdmin,y=r.language,x=void 0===y?"en":y,k=o.publicTeam,S=o.publicViewsGraphData,I=!(!k||!k.members)&&k.members.some((function(t){return t.id===r.id})),C=this.props,D=C.marginTop,T=C.marginBottom,z=C.back,P=void 0===z?this.back:z,A=C.hideTeam,U=void 0===A?function(){}:A,M=k.dogs,_=void 0===M?[]:M,R=k.image,L=k.imageHeader,B=k.publicTrophys,F=k.publicMemories,E=k.publicDogs,H=L&&L.s3XXLargeLink?L:{s3XXLargeLink:"./assets/homerun-race-logo.png"},N=R&&R.s3LargeLink?R:null,q=a.findTeamAmbition({ambition:k.ambitions,language:x}),Z=a.findTeamType({type:k.type,language:x}),V=k.members&&k.members.findIndex((function(t){return t.id===r.id}))>-1,G=k&&k.followers&&k.followers.indexOf(r.id)>-1,Y=k.followRequests&&k.followRequests.findIndex((function(t){return t.id===r.id}))>-1,W=r.notificationTopics,X=void 0===W?{}:W,J="team-"+k.id;return Object(c.h)(t,null,s&&Object(c.h)(f.a,null,Object(c.h)(g.default,{stores:this.props.stores,dogid:s,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:_})),Object(c.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(T||w)+"; margin-top: "+(D||j)+";"},Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+v+"; left: 5px; font-size: 35px; width: 45px;",onClick:P},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),Object(c.h)("div",{class:"row mb-0"},Object(c.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(H?'background-image: url("'+H.s3XXLargeLink+'");':"")},V&&Object(c.h)(t,null,Object(c.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+k.id},Object(c.h)("i",{class:"fas fa-edit"})," ",Object(c.h)(l.c,{id:"teams.edit"},"Endre")))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(c.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(N?'background-image: url("'+N.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!N&&Object(c.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(c.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(c.h)("h5",{class:"my-0"},k.name),Object(c.h)("small",{class:"text-muted"},k.place?k.place+", ":"",k.country),Object(c.h)("br",null),Z&&Object(c.h)("span",{class:"badge badge-pill badge-secondary mt-2"},Z),q&&Object(c.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},q),Object(c.h)("h6",{class:"mt-2"},Object(c.h)("span",{class:"mr-3"},Object(c.h)("span",{class:"font-weight-bolder"},k.followers?k.followers.length:0)," ",Object(c.h)(l.c,{id:"teams.followers"},"followers")),Object(c.h)("span",{class:"mr-3"},Object(c.h)("span",{class:"font-weight-bolder"},k.dogs?k.dogs.length:0)," ",Object(c.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!X||!X[J])&&Object(c.h)(t,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return e.subscribeNotificationTopic(J)}},Object(c.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!V&&!G&&!Y&&k.public>0&&Object(c.h)("div",{class:"clearfix mb-2"},Object(c.h)(m.a,{stores:this.props.stores,team:k,buttonOnly:!0,skipHome:!0})))),Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("div",{class:"d-flex justify-content-center"},V&&!k.facebook&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fab fa-facebook"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),k.url&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asUrl(k.url),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fas fa-link"})))),k.facebook&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asFacebookLink(k.facebook),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-facebook"})))),k.instagram&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asInstagramLink(k.instagram),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-instagram"})))),k.snapchat&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asSnapchatLink(k.snapchat),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-snapchat"}))))),Object(c.h)("div",{class:"d-flex justify-content-center mt-3"},Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+k.uuidv4},Object(c.h)("i",{class:"fas fa-rss"})," ",Object(c.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+k.uuidv4,onClick:U},Object(c.h)("i",{class:"fas fa-running"})," ",Object(c.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),k.imagesSponsor&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:k.imagesSponsor.length}},"Sponsorer - ",k.imagesSponsor.length," stk"))),Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(c.h)(p.a,{stores:this.props.stores,images:k.imagesSponsor}))),k.sponsors&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!k.sponsors&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-pen-nib"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"teams.add-sponsors"},"Gå inn på endring av teamet for å legge inn sponsorer.")))),Object(c.h)(d.a,{markdown:u.a.replaceImages(k.sponsors,k.imagesSponsor,x),markdownOpts:u.a.getMarkdownOptions()}))),Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!k.description&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-pen-nib"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(c.h)(d.a,{markdown:u.a.replaceImages(k.description,k.images,x),markdownOpts:u.a.getMarkdownOptions()}))),k.descriptionWorkoutplan&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!k.descriptionWorkoutplan&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-pen-nib"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"teams.add-description-workoutplan"},"Gå inn på endring av teamet for å legge inn en treningsplan.")))),Object(c.h)(d.a,{markdown:u.a.replaceImages(k.descriptionWorkoutplan,k.images,x),markdownOpts:u.a.getMarkdownOptions()}))),E&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.dogs",fields:{total:_.length}},"Hundene - ",_.length," stk"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("div",{class:"row"},_&&_.map((function(t){return Object(c.h)(b.a,{stores:e.props.stores,dog:t,showAge:!0,className:"col",onDogClick:e.onDogClick})}))))),k.images&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.public-photos",fields:{total:k.images.length}},"Teambilder - ",k.images.length," stk"))),Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(c.h)(p.a,{stores:this.props.stores,images:k.images}))),F&&k.achievements&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(c.h)("div",{class:"row"},k.achievements&&k.achievements.map((function(t){return Object(c.h)("div",{class:"col-12"},t.date&&Object(c.h)("span",{class:"font-weight-lighter mr-2"},i.a.isoDate(t.date,!1,!1,!0)),Object(c.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(c.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(c.h)("span",{class:"mr-2"},Object(c.h)("a",{href:u.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(c.h)("i",{class:"fas fa-link"}))))}))))),B&&k.trophys&&Object(c.h)("div",{class:"row mt-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(c.h)("div",{class:"row"},k.trophys&&k.trophys.reverse().map((function(t){var e=u.a.getTrophyImage(t.name);if(!e)return"";var s=t.descriptionHeader&&t.descriptionHeader[x]?t.descriptionHeader[x]:"",n=t.description&&t.description[x]?t.description[x]:"";return Object(c.h)("div",{class:"col-4 mt-3"},Object(c.h)("div",{class:"mb-2"},Object(c.h)("img",{src:e,class:"img-fluid"})),Object(c.h)("strong",null,s),Object(c.h)("small",null,Object(c.h)("details",null,Object(c.h)("summary",null,Object(c.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(c.h)(d.a,{markdown:u.a.replaceImages(n,k.images,x),markdownOpts:u.a.getMarkdownOptions()}))))}))))),Object(c.h)("div",{class:"row mt-5 mb-5"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-ellipsis-h"})),Object(c.h)("div",{style:"line-height: 0.9em;"},Object(c.h)("small",null,Object(c.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(h||I)&&Object(c.h)(t,null,Object(c.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(c.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(c.h)(O.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+k.uuidv4})),k.uuidv4&&Object(c.h)("img",{src:this.apiServer+"/api/teams/"+k.uuidv4+"/view?user="+r.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},s}(c.Component))||a;e.default=x}.call(this,s("hosL").Fragment)},gcyc:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=s("OhSV"),r=s("fh8t"),l=s.n(r),h=s("ZOvn"),d=s("ZQlJ"),u=s("s4FZ"),b=s("e0EM"),p=Object(c.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleAdminInfo=function(t){t.stopPropagation(),s.setState({showAdminInfo:!s.state.showAdminInfo})},s.toggleInfo=function(t){t.stopPropagation(),s.setState({showInfo:!s.state.showInfo})},s.onDogClick=function(t,e,n){t.preventDefault(),t.stopPropagation();var o=n.find((function(t){return t.uuidv4===e}));return s.setState({currentDog:o,showDog:e,dogs:n}),!1},s.chooseSubmenu=function(t){var e=t.target.closest("button").dataset.submenu;s.setState({submenu:e})},s.state={},s}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){for(var e=this.props.stores,s=e.raceStore,n=e.userStore,c=this.state,r=c.showAdminInfo,p=c.submenu,m=void 0===p?"details":p,f=c.showDog,g=c.currentDog,O=void 0===g?{}:g,j=s.totalTrackLength,v=this.props,w=v.contestant,y=void 0===w?{}:w,x=v.onMarkerClick,k=void 0===x?function(){}:x,S=v.children,I=v.rank,C=s.findWaypointByBib(y.bib),D=n.isAdmin,T=(y.bib?s.getMusherByBibId(y.bib):s.getMusherByBibEmail(y.email))||{},z=s.getTeamById(T.team),P=z.members?z.members.find((function(t){return t.email===T.email})):{},A=(s.getClassByBib(y.bib),s.getTotalsByTeamId(T.team)),U=h.a.getImage({user:P,team:z,priority:"user",fallback:T.image1}),M=h.a.displayNameShort(P)||h.a.displayNameShort(T),_=y.color,R=h.a.hasBirthday(O.birth),L=O.birth?Math.ceil(h.a.daysUntilNextBirthday(O.birth)):365,B=(a.a.format(C.totalDistanceOnTrack/j*100,0),s.findNearestMushers(y.bib)),F=B.inFront,E=B.behind,H=z&&z.imageHeader&&z.imageHeader.s3XXLargeLink?z.imageHeader:{s3XXLargeLink:T.topImage1||"./assets/homerun-race-logo.png"},N=z&&z.images?[].concat(z.images):[],q=0;q<3;q+=1)T["image"+q]&&N.push({s3SmallLink:T["image"+q],s3LargeLink:T["image"+q]});return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 30%; background-color: #a0a0a0; "+(H?'background-image: url("'+H.s3XXLargeLink+'");':"")}),Object(o.h)("div",{class:"d-flex position-relative",style:"margin-top: 17vh;"},Object(o.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(U?'background-image: url("'+U+'"); background-size: cover;':"background-color: #c0c0c0;")},!U&&Object(o.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},M),Object(o.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute "+(_?"":"bg-secondary")+" font-weight-bold",style:"bottom: -8px; right: 0; font-size: 1.2em; "+(_?"background-color: "+_+";":"")},I&&Object(o.h)(t,null,I))),Object(o.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-0",style:"line-height: 1.2em;"},Object(o.h)("h5",{class:"mb-0"},Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bold pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+h.a.getRankingColor(I)+"; width: 55px;"},T.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,T.flag," ",T.firstname," ",T.lastname)))),Object(o.h)("span",{class:"mb-0",style:"margin-left: 93px;"},T.sportsClub||z.name||Object(o.h)(t,null," ")))),Object(o.h)("div",{class:"d-flex justify-content-center mb-3"},Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+("details"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"details"},"Details")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-none "+("gpsdata"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"gpsdata"},"GPS Data")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-none "+("team"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"team"},"Team")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+("dogs"===m?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"dogs"},"Dogs"))),Object(o.h)("div",{class:"w-100 overflow-auto position-relative"},"details"===m&&Object(o.h)(t,null,S),"gpsdata"===m&&Object(o.h)(t,null,Object(o.h)(b.a,{stores:this.props.stores,wp:C,musher:T})),"team"===m&&Object(o.h)(t,null,z.public>0?Object(o.h)(t,null,Object(o.h)("h3",null,z.name),Object(o.h)(l.a,{markdown:h.a.replaceImages(z.description,z.images),markdownOpts:h.a.getMarkdownOptions()}),Object(o.h)(u.a,{stores:this.props.stores,images:N})):Object(o.h)(t,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-dog"})),Object(o.h)("h3",null,Object(o.h)(i.c,{id:"teams.no-public-team"},"No public team!")),Object(o.h)(i.c,{id:"teams.no-public-team"},"This team is not publicly visible."),N&&Object(o.h)("div",{class:"my-3"},Object(o.h)(u.a,{stores:this.props.stores,images:N}))))),"dogs"===m&&Object(o.h)(t,null,z.public>0?Object(o.h)(t,null,z.dogs&&Object(o.h)("div",{class:"w-100 container-fluid"},Object(o.h)("div",{class:"row pt-2"},Object(o.h)(d.a,{stores:this.props.stores,dogs:z.dogs.map((function(t){return t.id})),allDogs:z.dogs,onDogClick:this.onDogClick}))),f&&Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex mb-0 mt-3 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedLarge text-muted pt-2",style:O.image?'background-image: url("'+O.image.s3LargeLink+'"); background-size: cover;':""},!O.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a.a.ucfirst(O.name,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+n.findHarness(O.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(o.h)("h5",{class:"mb-1"},O.shortname||O.name," ",O.shortname&&""!==O.shortname&&Object(o.h)(t,null," - ",Object(o.h)("span",{class:"font-weight-lighter"},O.name)),R&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(o.h)("div",null,L<7&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",L," days")),O.birth&&Object(o.h)("span",{class:"mr-2"},a.a.age(O.birth,O.deceased)),"female"===O.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})))))):Object(o.h)(t,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-dog"})),Object(o.h)("h3",null,Object(o.h)(i.c,{id:"teams.no-public-team"},"No public team!")),Object(o.h)(i.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),D&&Object(o.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(o.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),r&&Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("xmp",null,"musher: ",JSON.stringify(T,null,4),Object(o.h)("br",null),"user: ",JSON.stringify(P,null,4),Object(o.h)("br",null),"team: ",JSON.stringify(z,null,4),Object(o.h)("br",null),"totals: ",JSON.stringify(A,null,4),Object(o.h)("br",null))))),Object(o.h)("div",{class:"d-flex position-absolute",style:"right: 10px; bottom: 10px;"},F.bib&&Object(o.h)("a",{class:"text-primary mx-2",onClick:function(){return k(F)},style:"line-height: 1.0em; font-size: 2.3em;"},Object(o.h)("i",{class:"fas fa-angle-left"})),E.bib&&Object(o.h)("a",{class:"text-primary mx-2",onClick:function(){return k(E)},style:"line-height: 1.0em; font-size: 2.3em;"},Object(o.h)("i",{class:"fas fa-angle-right"})))))},s}(o.Component))||n;e.a=p}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,c=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return 3.28084*t}(n),0)," ",c?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(n,0)," ",c?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))},s}(o.Component))||n);e.a=i}).call(this,s("hosL").Fragment)},jtG4:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),r=(s("Y3FI"),s("OhSV")),l=s("ZOvn"),h={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},d=Object(i.a)(a=function(e){function s(s){var a;return(a=e.call(this,s)||this).requestFollowTeam=function(t){return new Promise((function(e){var s=a.props.stores,n=s.teamStore,o=s.userStore.user,c=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.followRequest(c,o);var i=a.state.requestSent;return i[c]=!0,a.setState({requestSent:i}),e()}))},a.confirmRequest=function(t){return new Promise((function(e,s){var n,o,c,i,r,l,h,d,u;return o=void 0===(n=a.props.callback)?function(){}:n,c=t.target.closest("button").dataset,l=a.props.stores.teamStore,u=(h=a.state).deleted,(d=h.confirmed)[(i=c.team)+"-"+(r=c.user)]=!0,delete u[i+"-"+r],a.setState({confirmed:d,deleted:u}),Promise.resolve(l.confirmFollowRequest({team:parseInt(i,10),user:parseInt(r,10)})).then((function(){try{return o(),e()}catch(t){return s(t)}}),s)}))},a.deleteRequest=function(t){return new Promise((function(e,s){var n,o,c,i,r,l,h,d,u;return o=void 0===(n=a.props.callback)?function(){}:n,c=t.target.closest("button").dataset,l=a.props.stores.teamStore,u=(h=a.state).confirmed,(d=h.deleted)[(i=c.team)+"-"+(r=c.user)]=!0,delete u[i+"-"+r],a.setState({deleted:d,confirmed:u}),Promise.resolve(l.deleteFollowRequest({team:parseInt(i,10),user:parseInt(r,10)})).then((function(){try{return o(),e()}catch(t){return s(t)}}),s)}))},a.unFollowTeam=function(t){var e=a.props.stores,s=e.teamStore,n=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.unollowTeam(n),a.setState({unfollowed:!0})},a.getUnblockButton=function(e,s){var n=a.state.confirmed[s+"-"+e];return Object(c.h)(t,null,n?Object(c.h)(t,null,Object(c.h)("small",{class:"text-success"},Object(c.h)("i",{class:"fas fa-check"})," ",Object(c.h)(r.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(c.h)(t,null,Object(c.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:a.confirmRequest,"data-team":s,"data-user":e},Object(c.h)(r.c,{id:"teams.connect.confirm"},"Confirm"))))},a.getButton=function(e){var s=a.state.requestSent,n=a.props.stores.userStore.user,o=e.members&&e.members.indexOf(n.id)>-1,i=e.followers&&e.followers.indexOf(n.id)>-1,l=e.blockedFollowers&&e.blockedFollowers.indexOf(n.id)>-1,h=s[e.id]||e.followRequests&&e.followRequests.findIndex((function(t){return t.id===n.id}))>-1;return o?Object(c.h)("i",{class:"fas fa-home"}):e.public?i?Object(c.h)(t,null,Object(c.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(c.h)("i",{class:"fas fa-link mr-2"}),Object(c.h)(r.c,{id:"teams.connect.is-following"},"Følger")),Object(c.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(c.h)(r.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(c.h)(t,null):h?Object(c.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(c.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(c.h)(r.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(c.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:a.requestFollowTeam,"data-team":e.id},Object(c.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(c.h)(r.c,{id:"teams.connect.follow"},"Følg")):Object(c.h)(t,null,Object(c.h)("small",{class:"text-muted"},Object(c.h)(r.c,{id:"teams.not-public"},"Ikke offentlig")))},a.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),a.updateTimer={},a}var a,i;return i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,s.prototype.render=function(){var e,s,n,o,a=this.state,i=a.deleted,h=void 0===i?{}:i,d=a.unfollowed,u=this.props,b=u.team,p=u.isBlocked,m=u.myTeamId,f=u.showBlockButton,g=this.props.stores.storyStore.findPublicUser(b.user)||b.user||{};b.image&&b.image.s3SmallLink?e=b.image:b.images&&b.images[0]&&b.images[0].s3SmallLink?e=b.images[0]:g.image&&g.image.s3SmallLink?e=g.image:g.images&&g.images[0]&&g.images[0].s3SmallLink&&(e=g.images[0]),b&&b.name?(s=l.a.displayNameShort(b),n=l.a.displayName(b),o=l.a.displayName(g)):g&&g.id&&(s=l.a.displayNameShort(g),n=l.a.displayName(g));var O=h[m+"-"+g.id];return Object(c.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:d?"text-decoration: line-through; opacity: 0.3;":""},Object(c.h)("div",{class:"d-flex position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:e?'background-image: url("'+e.s3MediumLink+'"); background-size: cover;':""},!e&&Object(c.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},s)),Object(c.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(c.h)("h5",{class:"mb-0"},b.public?Object(c.h)(t,null,Object(c.h)("a",{href:"/teams/public/"+b.uuidv4},n)):Object(c.h)(t,null,n)),Object(c.h)("div",null,b.place?b.place+", ":""," ",b.country,"  "),Object(c.h)("div",null,Object(c.h)("small",{class:"text-muted"},b&&b.dogs&&Object(c.h)("span",{class:""},Object(c.h)("i",{class:"fas fa-dog"})," ",b.dogs.length),b&&b.followers&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-user"})," ",b.followers.length),o&&Object(c.h)(t,null,Object(c.h)("small",{class:"ml-2 text-muted"},o)),f&&Object(c.h)(t,null,O?Object(c.h)(t,null,Object(c.h)("small",{class:"text-danger ml-3"},Object(c.h)("i",{class:"fas fa-ban"})," ",Object(c.h)(r.c,{id:"teams.connect.deleted"},"Deleted"))):Object(c.h)(t,null,Object(c.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":m,"data-user":g.id},Object(c.h)("i",{class:"fas fa-ban"})," ",Object(c.h)(r.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(c.h)("div",null,p?Object(c.h)(t,null,this.getUnblockButton(g.id,m)):Object(c.h)(t,null,this.getButton(b)))))},s}(c.Component))||a;e.a=d}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=s("OhSV"),r=(s("ZOvn"),Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,c=e.smallUnit,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return.621371*t}(n),1)," ",c?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(n,1)," ",c?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))},s}(o.Component))||n);e.a=r}).call(this,s("hosL").Fragment)},"q/oJ":function(t,e,s){"use strict";var n,o=s("hosL"),a=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("ZOvn")),i=c.a.marginTop(!1),r=c.a.marginBottom(),l=Object(a.a)(n=function(t){function e(){return t.apply(this,arguments)||this}var s,n;return n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,e.prototype.render=function(){var t=this.props.children;return Object(o.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+r+";\n                    margin-top: "+i+";\n                    height: calc(100vh - "+i+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},t)},e}(o.Component))||n;e.a=l},ukv5:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function i(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var r,l=s("hosL"),h=s("Utv1"),d=s("/eY4"),u=(s("Y3FI"),s("OhSV")),b=(s("cneo"),s("fh8t"),s("ZOvn")),p=s("nHdA"),m=(s("irB3"),s("UwwE"),s("8Lgr")),f=(s("QkTp"),Object(d.a)(r=function(e){function s(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).hideDetail=function(e){e.preventDefault(),e.stopPropagation(),t.setState({stateDetail:{state:"",idx:0}})},t.showStateDetail=function(e){e.preventDefault(),e.stopPropagation();var s=e.target.closest("div").dataset;t.setState({stateDetail:o({},s)})},t.nextStateDetail=function(e){e.preventDefault(),e.stopPropagation();var s=t.props,n=s.states,o=s.duration,a=t.state.stateDetail,c=parseInt((void 0===a?{}:a).idx,10)+1,i=n[c];i&&t.setState({stateDetail:{idx:c,state:i.state,duration:i.duration,distance:i.distance,avgspeed:i.avgSpeed,statespeeds:i.stateSpeeds,point:i.point,start:i.start,end:i.end,percent:h.a.normalizeBetween(i.duration,0,o,0,100)}})},t.prevStateDetail=function(e){e.preventDefault(),e.stopPropagation();var s=t.props,n=s.states,o=s.duration,a=t.state.stateDetail,c=parseInt((void 0===a?{}:a).idx,10)-1,i=n[c];i&&t.setState({stateDetail:{idx:c,state:i.state,duration:i.duration,distance:i.distance,avgspeed:i.avgSpeed,statespeeds:i.stateSpeeds,point:i.point,start:i.start,end:i.end,percent:h.a.normalizeBetween(i.duration,0,o,0,100)}})},t}var n,a;return a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,s.prototype.render=function(){var e=this,s=this.props,n=s.states,o=s.duration,a=s.height,r=void 0===a?"20px":a,d=s.showText,f=void 0===d||d,g=this.state.stateDetail,O=void 0===g?{}:g;return Object(l.h)(t,null,Object(l.h)("div",{class:"row"},n&&Object(l.h)("div",{class:"col-12 px-0"},Object(l.h)("div",{class:"progress",style:"height: "+(O&&O.idx?"20px":r)+";"},n.map((function(s,n){var a=Math.ceil(h.a.normalizeBetween(s.duration,0,o,0,100)),i=a;return O&&O.idx==n&&(i=a<10?10:a),Object(l.h)(t,null,Object(l.h)("div",{class:"progress-bar bg-"+c(s.state),role:"progressbar",style:"width: "+i+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100","data-idx":n,"data-state":s.state,"data-duration":s.duration,"data-distance":s.distance,"data-avgspeed":s.avgSpeed,"data-statespeeds":s.stateSpeeds,"data-point":s.point,"data-start":s.start,"data-end":s.end,"data-percent":h.a.normalizeBetween(s.duration,0,o,0,100),onClick:e.showStateDetail},f?Object(l.h)(t,null,Object(l.h)("nobr",null,a>10&&Object(l.h)(t,null,"rest"===s.state?Object(l.h)(t,null,h.a.secToHms(s.duration,!0)):Object(l.h)(t,null,h.a.format(s.distance/1e3,0),"km")),O&&O.idx==n?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===s.state?"dark":"warning")+" mx-2"}):"")):Object(l.h)(t,null,O&&O.idx==n?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===s.state?"dark":"warning")+" mx-2"}):"")))}))),O&&O.state&&Object(l.h)(t,null,Object(l.h)("div",{class:"card position-relative"},Object(l.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:i(O.state)})," ",h.a.format(O.percent,1),"%")),Object(l.h)("div",{class:"card-body"},"rest"===O.state?Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,h.a.secToHms(O.duration,!0))),O.point&&Object(l.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fa-map-marked ml-2"})," ",Object(l.h)(u.c,{id:"workouts.position"},"Position")),Object(l.h)("h6",null,O.point))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-road ml-2"})," ",Object(l.h)(u.c,{id:"workouts.distance"},"Distanse")),Object(l.h)("h6",null,Object(l.h)(m.a,{stores:this.props.stores,value:O.distance/1e3}))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,h.a.secToHms(O.duration,!0))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(l.h)(u.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(l.h)("h6",null,Object(l.h)(p.a,{stores:this.props.stores,value:O.distance/O.duration*3.6})))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(l.h)("div",{class:"float-right"},Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-times"})),O.idx<n.length-1&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-right"})),O.idx>0&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-left"}))))))))},s}(l.Component))||r);e.a=f}).call(this,s("hosL").Fragment)},wanP:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=(s("Utv1"),s("/eY4")),r=s("eK6s"),l=s.n(r),h={mouseData:{}},d=Object(i.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s.svgRef=null,s}var a,i;return i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,s.prototype.render=function(){var e=this,s=this.props,n=s.radius,o=void 0===n?50:n,a=s.heightAdd,i=void 0===a?0:a,r=s.color,h=void 0===r?"success":r,d=s.showPercentText,u=void 0===d||d,b=s.percent,p=void 0===b?0:b,m=s.prefix,f=void 0===m?"":m,g=s.showCenterText,O=void 0!==g&&g,j=s.centerText,v=s.centerTextSize,w=s.centerTextX,y=s.centerTextY,x=s.total,k=void 0===x?"":x,S=s.totalY,I=void 0===S?"90%":S,C=s.totalX,D=void 0===C?"50%":C,T=s.totalTextAnchor,z=void 0===T?"middle":T,P=s.completed,A=void 0===P?"":P,U=s.completedY,M=void 0===U?"65%":U,_=s.completedX,R=void 0===_?"50%":_,L=s.completedTextAnchor,B=void 0===L?"middle":L,F=.3*o,E=o-F/2,H=.3*o,N=2*E*Math.PI,q=.75*N,Z=q+" "+N,V="rotate(135, "+o+", "+o+")",G=q-Math.min(Math.max(p,0),100)/100*q,Y=v||o/2.5,W=o/5;return Object(c.h)(t,null,Object(c.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*o,height:2*o+i,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(c.h)("circle",{class:""+l.a.gaugeBackground,cx:o,cy:o,r:E,strokeWidth:F,strokeDasharray:Z,strokeLinecap:"round",transform:V}),Object(c.h)("circle",{class:l.a[h]+" "+l.a.gauge,cx:o,cy:o,r:E,stroke:"url(#grad)",strokeDasharray:Z,strokeDashoffset:G,strokeLinecap:"round",strokeWidth:H,style:{transition:"stroke-dashoffset 0.3s"},transform:V}),u&&Object(c.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":Y},p," ",f),O&&Object(c.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":Y},j),A&&Object(c.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:R,y:M,"dominant-baseline":"middle","text-anchor":B,"font-size":W},A),Object(c.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:D,y:I,"dominant-baseline":"middle","text-anchor":z,"font-size":W},k)))},s}(c.Component))||a;e.a=d}).call(this,s("hosL").Fragment)},zUny:function(t,e,s){"use strict";(function(t){var n,o=s("hosL"),a=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("fh8t")),r=s.n(i),l=s("ZOvn"),h=function(t){return function(e,s){return t.map((function(t){var n=1;return"-"===t[0]&&(n=-1,t=t.substring(1)),e[t]>s[t]?n:e[t]<s[t]?-n:0})).reduce((function(t,e){return t||e}),0)}},d=Object(c.a)(n=function(e){function s(){for(var t,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).chooseSubmenu=function(e){var s=e.target.closest("button").dataset.submenu;t.setState({submenu:s})},t.toggleInfo=function(){t.setState({showInfo:!t.state.showInfo})},t}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.id,n=e.onClickNav,c=void 0===n?function(){}:n,i=this.state,d=i.submenu,u=void 0===d?"detailsIn":d,b=i.showInfo,p=this.props.stores,m=p.raceStore,f=p.userStore,g=f.user,O=(void 0===g?{}:g).language,j=void 0===O?"en":O,v=p.appState.selectedClassIds,w=m.getClassById((void 0===v?[]:v)[0]),y=w.checkpoints?w.checkpoints.find((function(t){return t.id===s})):null;y=y||{};var x=w.results?w.results.slice().sort(h(["timestamp","-direction"])).filter((function(t){return t.checkpoint===s})):null,k=x?x.filter((function(t){return"in"===t.direction})):null,S=x?x.filter((function(t){return"out"===t.direction})):null,I=x?x.slice().sort(h(["legTime","timestamp"])).filter((function(t){return"in"===t.direction})):null,C=x?x.filter((function(t){return"scratched"===t.direction})):null,D=w.checkpoints?w.checkpoints.find((function(t){return t.sortOrder===y.sortOrder-1})):null,T=w.checkpoints?w.checkpoints.find((function(t){return t.sortOrder===y.sortOrder+1})):null,z=w.results&&D?w.results.slice().filter((function(t){return t.checkpoint===D.id&&"out"===t.direction})):null,P=w.results&&T?w.results.slice().filter((function(t){return t.checkpoint===T.id&&"in"===t.direction})):null,A=y.image,U=y.topImage,M=l.a.displayNameShort(y),_=U||"./assets/checkpoint.png";return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(_?'background-image: url("'+_+'");':"")}),T&&Object(o.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return c(T.id)}},Object(o.h)("i",{class:"fas fa-angle-right"})),D&&Object(o.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return c(D.id)}},Object(o.h)("i",{class:"fas fa-angle-left"})),Object(o.h)("div",{class:"d-flex position-relative",style:"margin-top: 16vh;"},Object(o.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(A?'background-image: url("'+A+'"); background-size: cover;':"background-color: #c0c0c0;")},!A&&Object(o.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},M),Object(o.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute bg-secondary font-weight-bold",style:"bottom: -8px; right: 0; "},y.sortOrder&&"n/a"!==y.sortOrder&&Object(o.h)(t,null,y.sortOrder))),Object(o.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(o.h)("h3",{class:"mb-2"},y.name),Object(o.h)("div",null,y.cellphone&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-phone"}))," ",Object(o.h)("a",{href:"tel:"+y.cellphone},y.cellphone)),y.email&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3",href:"mailto:"+y.email},Object(o.h)("i",{class:"fas fa-envelope"}))),y.facebook&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3",href:""+l.a.asFacebookLink(y.facebook)},Object(o.h)("i",{class:"fab fa-facebook"}))),y.instagram&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3",href:""+l.a.asInstagramLink(y.instagram)},Object(o.h)("i",{class:"fab fa-instagram"}))),y.description&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3 text-primary",onCLick:this.toggleInfo},Object(o.h)("i",{class:"fas fa-info-circle"})))))),b&&y.description&&Object(o.h)("div",null,Object(o.h)(r.a,{markdown:l.a.replaceImages(y.description,y.images),markdownOpts:l.a.getMarkdownOptions()})),Object(o.h)("div",{class:""},Object(o.h)("div",{class:""},Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-flag"})," Start")),Object(o.h)("div",{class:"text-center"},a.a.format(y.totalDistance||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km"))),!y.isStartLine&&Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-down"})," Prev")),Object(o.h)("div",{class:"text-center"},Object(o.h)("nobr",null,a.a.format(y.distanceFromPrev||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km")))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-up"})," Next")),Object(o.h)("div",{class:"text-center"},a.a.format(y.distanceToNext||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(o.h)("div",{class:"text-center"},Object(o.h)("nobr",null,a.a.format(y.distanceToFinish||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km"))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},y.requiredRestMinutes&&Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-bed"})," Mandatory rest")),Object(o.h)("div",{class:"text-center"},Object(o.h)("nobr",null,a.a.secToHms(60*y.requiredRestMinutes,!0)),y.timeEqualization&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted ml-2"},"+")," ",Object(o.h)("i",{class:"fas fa-user-clock"})," Time Equalization")))))),y.hideResults?Object(o.h)(t,null):Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-center mb-3"},Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+("detailsIn"===u?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsIn"},"Details in")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-none "+("detailsOut"===u?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsOut"},"Detail out")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+("legTimes"===u?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"legTimes"},"Leg times"))),Object(o.h)("div",{class:"w-100 overflow-auto position-relative",style:"max-height: 60vh;"},Object(o.h)("div",{class:"table-responsive-lg"},Object(o.h)("table",{class:"table table-striped table-sm"},"detailsIn"===u&&Object(o.h)(t,null,Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,"Musher"),Object(o.h)("th",null,"Time in"),Object(o.h)("th",null,"Time out"),Object(o.h)("th",null,"Time used"),Object(o.h)("th",null,"Avg speed"),Object(o.h)("th",null,"Dogs in"))),Object(o.h)("tbody",null,k&&k.map((function(e,s){var n=parseInt(e.bib,10),c=n?m.getMusherByBibId(n):null;c=c||{};var i,r=S.find((function(t){return t.bib===parseInt(e.bib,10)})),h=k.find((function(t){return t.bib===parseInt(e.bib,10)})),d=C.find((function(t){return t.bib===parseInt(e.bib,10)})),u=z&&z.find((function(t){return t.bib===parseInt(e.bib,10)})),b=0;return u&&e&&(i=l.a.deltaSec(u.timestamp,e.timestamp),b=y.distanceFromPrev/(i/3600)),h&&r&&h.timestamp&&r.timestamp&&l.a.deltaSec(h.timestamp,r.timestamp),Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},s+1),Object(o.h)("td",null,Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+l.a.getRankingColor(s+1)+"; width: 45px;"},e.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,c.flag," ",c.lastname)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(h.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},r&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(r.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),d&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),l.a.formatDate(d.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(i,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(b||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(o.h)("td",{class:"text-center"},e.dogs)))})))),"detailsOut"===u&&Object(o.h)(t,null,Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,"Musher"),Object(o.h)("th",null,"Time in"),Object(o.h)("th",null,"Time out"),Object(o.h)("th",null,"Time used"),Object(o.h)("th",null,"Rest in cp"),Object(o.h)("th",null,"Avg speed"),Object(o.h)("th",null,"Dogs out"),Object(o.h)("th",null,"Next CP"))),Object(o.h)("tbody",null,S&&S.map((function(e,s){var n=parseInt(e.bib,10),c=n?m.getMusherByBibId(n):null;c=c||{};var i,r,h,d=k.find((function(t){return t.bib===parseInt(e.bib,10)})),u=S.find((function(t){return t.bib===parseInt(e.bib,10)})),b=C.find((function(t){return t.bib===parseInt(e.bib,10)})),p=z&&z.find((function(t){return t.bib===parseInt(e.bib,10)})),f=P&&P.find((function(t){return t.bib===parseInt(e.bib,10)})),g=0;p&&e&&(i=l.a.deltaSec(p.timestamp,e.timestamp),g=y.distanceFromPrev/(i/3600)),d&&u&&d.timestamp&&u.timestamp&&(r=l.a.deltaSec(d.timestamp,u.timestamp));var O=y.estTimeToCpMinutes||0;return O&&c.cpSortOrder===y.sortOrder&&(h=l.a.addDeltaSec(u.timestamp,60*O)),Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},s+1),Object(o.h)("td",null,Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+l.a.getRankingColor(s+1)+"; width: 45px;"},e.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,c.flag," ",c.lastname)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(d.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},u&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(u.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),b&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),l.a.formatDate(b.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(i,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&r&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(r,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(g||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(o.h)("td",{class:"text-center"},u.dogs),Object(o.h)("td",{class:"text-center"},!y.isFinishLine&&f?Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(f.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))):Object(o.h)(t,null,h&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-muted"},l.a.formatDate(h,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))))))})))),"legTimes"===u&&Object(o.h)(t,null,Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,"Musher"),Object(o.h)("th",null,"Time in"),Object(o.h)("th",null,"Time out"),Object(o.h)("th",null,"Time used"),Object(o.h)("th",null,"Avg speed"),Object(o.h)("th",null,"Dogs in"))),Object(o.h)("tbody",null,I&&I.map((function(e,s){var n=parseInt(e.bib,10),c=n?m.getMusherByBibId(n):null;c=c||{};var i,r=k.find((function(t){return t.bib===parseInt(e.bib,10)})),h=S.find((function(t){return t.bib===parseInt(e.bib,10)})),d=C.find((function(t){return t.bib===parseInt(e.bib,10)})),u=z&&z.find((function(t){return t.bib===parseInt(e.bib,10)})),b=0;return u&&e&&(i=l.a.deltaSec(u.timestamp,e.timestamp),b=y.distanceFromPrev/(i/3600)),Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},s+1),Object(o.h)("td",null,Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+l.a.getRankingColor(s+1)+"; width: 45px;"},e.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,c.flag," ",c.lastname)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(r.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},h&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(h.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),d&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),l.a.formatDate(d.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(i,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(b||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(o.h)("td",{class:"text-center"},e.dogs)))})))))))))},s}(o.Component))||n;e.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=62.chunk.0366a.js.map