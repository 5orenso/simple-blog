(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{jsqw:function(e,t,s){"use strict";s.r(t),function(e){function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var c,n=s("hosL"),l=s("ox/y"),a=(s("Utv1"),s("/eY4")),r=s("OhSV"),h=(s("go65"),s("Y3FI"),s("ZOvn")),f={searchText:"",showInfo:{}},p=h.a.marginTopBack(!1),u=Object(r.d)({hideProfile:Object(n.h)(r.c,{id:"users.settings-hide-profile"}),hideProfileHelp:Object(n.h)(r.c,{id:"users.settings-hide-profile-help"}),veterinaryAllowed:Object(n.h)(r.c,{id:"users.settings-allow-racevet"},"Tillat veterinær"),veterinaryAllowedHelp:Object(n.h)(r.c,{id:"users.settings-veterinary-help"},"Dersom du ønsker at godkjente veterinærer skal kunne søke deg opp og legge inn vaksiner må du skru på her."),hideInvite:Object(n.h)(r.c,{id:"users.settings-hide-invite"},"Skjul invitasjonsboks"),hideInviteHelp:Object(n.h)(r.c,{id:"users.settings-hide-invite-help"},"Skjul invitasjonsboksen på forsiden."),hideSettings:Object(n.h)(r.c,{id:"users.settings-hide-settings"},"Skjul innstillinger"),hideSettingsHelp:Object(n.h)(r.c,{id:"users.settings-hide-settings-help"},"Skjul innstillinger på forsiden."),imperial:Object(n.h)(r.c,{id:"users.settings-imperial"},"Imperial units"),imperialHelp:Object(n.h)(r.c,{id:"users.settings-imperial-email"},"Use imperial units like mils, mph, Fahrenheit."),summaryEmails:Object(n.h)(r.c,{id:"users.settings-summary-email"},"Oppsummeringer"),summaryEmailsHelp:Object(n.h)(r.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post"),notificationEmails:Object(n.h)(r.c,{id:"users.settings-notification-email"},"Notifications"),notificationEmailsHelp:Object(n.h)(r.c,{id:"users.settings-receive-notification-email"},"Receive notifications via email"),infoEmails:Object(n.h)(r.c,{id:"users.settings-info-email"},"Info"),infoEmailsHelp:Object(n.h)(r.c,{id:"users.settings-receive-info-email"},"Motta info via e-post"),partnerEmails:Object(n.h)(r.c,{id:"users.settings-partner-email"},"Partners"),partnerEmailsHelp:Object(n.h)(r.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post"),inboxEmails:Object(n.h)(r.c,{id:"users.settings-inbox-email"},"Inbox emails"),inboxEmailsHelp:Object(n.h)(r.c,{id:"users.settings-inbox-email-help"},"Receive inbox notifications via email."),storyLike:Object(n.h)(r.c,{id:"notifications.story-like"},"Story likes"),storyLikeHelp:Object(n.h)(r.c,{id:"notifications.story-like-help"},"Receive notification when your stories are liked."),storyComment:Object(n.h)(r.c,{id:"notifications.story-comment"},"Story comments"),storyCommentHelp:Object(n.h)(r.c,{id:"notifications.story-comment-help"},"Receive notification when your stories are commented."),workoutLike:Object(n.h)(r.c,{id:"notifications.workout-like"},"Workout likes"),workoutLikeHelp:Object(n.h)(r.c,{id:"notifications.workout-like-help"},"Receive notification when your workouts are liked."),workoutComment:Object(n.h)(r.c,{id:"notifications.workout-comment"},"Workout comments"),workoutCommentHelp:Object(n.h)(r.c,{id:"notifications.workout-comment-help"},"Receive notification when your workouts are commented."),message:Object(n.h)(r.c,{id:"notifications.message"},"Inbox messages"),messageHelp:Object(n.h)(r.c,{id:"notifications.message-help"},"Receive notification when your receive an inbox message."),messageLike:Object(n.h)(r.c,{id:"notifications.message-like"},"Inbox message likes"),messageLikeHelp:Object(n.h)(r.c,{id:"notifications.message-like-help"},"Receive notification when your inbox messages are liked."),pushNotifications:Object(n.h)(r.c,{id:"notifications.push-notifications"},"Push notifications"),pushNotificationsHelp:Object(n.h)(r.c,{id:"notifications.message-like-help"},"Enable push notifications on your phone."),workoutChanged:Object(n.h)(r.c,{id:"notifications.workout-changed"},"Workout changed"),workoutChangedHelp:Object(n.h)(r.c,{id:"notifications.workout-changed-help"},"Receive notification when a workout is changed."),trackChanged:Object(n.h)(r.c,{id:"notifications.track-changed"},"Track changed"),trackChangedHelp:Object(n.h)(r.c,{id:"notifications.track-changed-help"},"Receive notification when a track is changed."),dogChanged:Object(n.h)(r.c,{id:"notifications.dog-changed"},"Dog changed"),dogChangedHelp:Object(n.h)(r.c,{id:"notifications.dog-changed-help"},"Receive notification when a dog is changed."),allStories:Object(n.h)(r.c,{id:"notifications.stories-new"},"New stories"),allStoriesHelp:Object(n.h)(r.c,{id:"notifications.stories-new-help"},"Receive notification when a new story is posted.")})(c=Object(a.a)(c=function(t){function s(e){var s;return(s=t.call(this,e)||this).toggleDarkmode=function(e){s.props.stores.appState.toggleDarkmode(),s.toggleDropdown(e)},s.toggleViewmode=function(e){var t=s.props.stores.appState,i=e.target.closest("a").dataset.mode;t.toggleViewmode(i)},s.changeLanguage=function(e){var t=e.target.closest("a").dataset.lang,i=s.props.stores.userStore;i.setLanguage({email:i.user.email,language:t})},s.toggleSetting=function(e){return new Promise((function(t,i){var o,c,n,l,a;return a=void 0===(l=(n=s.props.stores.userStore).user.settings)?{}:l,Promise.resolve(n.updateSetting((o={},o["settings."+e]=1===a[e]?0:1,o),(c={},c[e]=1===a[e]?0:1,c))).then((function(){try{return t()}catch(e){return i(e)}}),i)}))},s.toggleInfo=function(e){var t=e.target.closest("i").dataset.name,i=s.state.showInfo;i[t]=!i[t],s.setState({showInfo:i})},s.toggleNotification=function(e){return new Promise((function(t,i){var o,c;return c=(o=s.props.stores.userStore).user.notifications,Promise.resolve(o.setNotification({field:"notifications."+e,value:(void 0===c?{}:c)[e]?0:1})).then((function(){try{return t()}catch(e){return i(e)}}),i)}))},s.toggleNotificationTopic=function(e){return new Promise((function(t,i){var o,c;return c=(o=s.props.stores.userStore).user.notificationTopics,Promise.resolve(o.setNotificationTopic({field:"notificationTopics."+e,value:(void 0===c?{}:c)[e]?0:1})).then((function(){try{return t()}catch(e){return i(e)}}),i)}))},s.togglePushNotifications=function(){return new Promise((function(e,t){return Promise.resolve(s.props.stores.userStore.checkNotificationPermission()).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},s.displayNotificationTopic=function(e){var t=s.props.stores.userStore,i=e.split("-"),o=parseInt(i[1],10);switch(!0){case/^race-\d+/.test(e):return t.findSubscribedRace(o).title;case/^team-\d+/.test(e):return t.findSubscribedTeam(o).name;default:return e}},s.back=function(){s.props.stores.history.goBack()},s.runInit=function(){var e=s.props.stores.userStore.hasFirebasePlugin();s.setState({hasFirebasePlugin:e})},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),s}var c,a;a=t,(c=s).prototype=Object.create(a.prototype),c.prototype.constructor=c,c.__proto__=a;var h=s.prototype;return h.componentDidMount=function(){this.runInit()},h.render=function(){var t=this,s=this.props.stores,i=s.userStore,o=this.state,c=o.showInfo,a=void 0===c?{}:c,h=o.hasFirebasePlugin,f=i.user,u=f.settings,m=void 0===u?{}:u,b=f.notifications,d=void 0===b?{}:b,g=f.notificationTopics,O=void 0===g?{}:g,j=f.firebase,v=void 0===j?{}:j;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+p+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h1",null,Object(n.h)(r.c,{id:"settings.user"},"User")))),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(r.c,{id:"settings.profile"},"Profile"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-success py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-user"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)("a",{href:"/users/",class:"stretched-link"},Object(n.h)(r.c,{id:"users.title"},"Din profil"))),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"})))),Object(n.h)("div",{class:"row border-top"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-warning py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-user-edit"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)("a",{href:"/users/edit",class:"stretched-link"},Object(n.h)(r.c,{id:"users.edit-profile"},"Edit profil"))),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"})))),Object(n.h)("div",{class:"row border-top"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-danger py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-key"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)("a",{href:"/users/edit-password",class:"stretched-link"},Object(n.h)(r.c,{id:"users.change-password"},"Change password"))),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"}))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(r.c,{id:"settings.user-email"},"Email"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["summaryEmails","notificationEmails","infoEmails","partnerEmails","inboxEmails"].map((function(s,i){return Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(i>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},t.props[s],t.props[s+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:t.toggleInfo,"data-name":s}),t.props[s+"Help"]&&a[s]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},t.props[s+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+s,onInput:function(){return t.toggleSetting(s)},checked:m[s]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+s})))))}))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(r.c,{id:"settings.notifications"},"Notifications"))),!h&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},Object(n.h)("div",{class:"alert alert-danger",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation-triangle",style:"font-size: 1.5em;"})," ",Object(n.h)(r.c,{id:"notifications.push-notifications-not-supported"},"Push notifications is not supported on your device."))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em; opacity: "+(h?1:.2)+";"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props.pushNotifications,this.props.pushNotificationsHelp&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":"pushNotifications"}),this.props.pushNotificationsHelp&&a.pushNotifications&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},this.props.pushNotificationsHelp))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingspushNotifications",onInput:function(){return t.togglePushNotifications()},checked:v.hasPermission}),Object(n.h)("label",{class:"custom-control-label",for:"settingspushNotifications"}))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em; opacity: "+(v.hasPermission?1:.2)+";"},["storyLike","storyComment","workoutLike","workoutComment","message","messageLike","workoutChanged","trackChanged","dogChanged"].map((function(s,i){return Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(i>=0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},t.props[s],t.props[s+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:t.toggleInfo,"data-name":s}),t.props[s+"Help"]&&a[s]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},t.props[s+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+s,onInput:function(){return t.toggleNotification(s)},checked:d[s]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+s})))))}))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(r.c,{id:"settings.notification-topics"},"Notification topics"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em; opacity: "+(v.hasPermission?1:.2)+";"},0===Object.keys(O).length&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-rss"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(r.c,{id:"users.settings-no-topics"},"No notification topics found for your user.")))),Object.keys(O).map((function(s,i){return Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(i>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},t.displayNotificationTopic(t.props[s]||s),(O[s+"Help"]||t.props[s+"Help"])&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:t.toggleInfo,"data-name":s}),(O[s+"Help"]||t.props[s+"Help"])&&a[s]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},O[s+"Help"]||t.props[s+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+s,onInput:function(){return t.toggleNotificationTopic(s)},checked:O[s]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+s})))))}))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 bg-light rounded-lg",style:"font-size: 1.2em;"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-secondary py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-sign-out-alt"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(l.Link,{className:"stretched-link",activeClassName:"active",href:"/logout"},Object(n.h)(r.c,{id:"settings.logout"},"Logout"))))))))},s}(n.Component))||c)||c;t.default=u}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=106.chunk.652f8.js.map