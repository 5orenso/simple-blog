(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"+Sdk":function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{constructor(...t){var e;super(...t),e=this,this.loadResults=async function(){const{adminStore:t}=e.props.stores;await t.getUserInviteResults()}}async loadAll(){this.setState({isLoading:!0}),await this.loadResults(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{adminStore:e}=this.props.stores,{inviteResults:s}=e;return Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,"Competition results"),Object(l.h)("div",null,Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"Invite Date"),Object(l.h)("th",null,"Invitee"),Object(l.h)("th",null,"Invited"),Object(l.h)("th",null,"activities"),Object(l.h)("th",null,"last activity"),Object(l.h)("th",null,"teams"))),Object(l.h)("tbody",null,s&&s.map(e=>Object(l.h)(t,null,Object(l.h)("tr",null,Object(l.h)("td",null,i.a.isoDate(e.date)),Object(l.h)("td",null,e.user.email," (",e.user.activities,")"),Object(l.h)("td",null,e.invitedUser.email,Object(l.h)("br",null),Object(l.h)("span",{class:"ml-2 font-weight-lighter"},e.invitedUser.username),Object(l.h)("span",{class:"ml-2 font-weight-lighter"},e.invitedUser.firstname," ",e.invitedUser.lastname)),Object(l.h)("td",null,e.invitedUser.activities),Object(l.h)("td",null,e.invitedUser.lastActivityEpoch?i.a.isoDate(e.invitedUser.lastActivityEpoch):""),Object(l.h)("td",null,e.teams&&e.teams.map(e=>Object(l.h)(t,null,Object(l.h)("span",{class:"ml-3"},e.name,Object(l.h)("i",{class:"fas fa-users text-muted ml-3"})," ",e.members.length,Object(l.h)("i",{class:"fas fa-dog text-muted ml-3"})," ",e.dogs.length,Object(l.h)("i",{class:"fas fa-running text-muted ml-3"})," ",e.workouts.length),Object(l.h)("br",null)))))))))))}})||a;e.a=o}).call(this,s("hosL").Fragment)},"+TRv":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,n=s("hosL"),o=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const r={showAddComment:!1};let h=Object(o.a)(i=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r),this.updateTimer={},this.inputRef={}}async loadHeatmap(){this.setState({isLoading:!0});const{adminStore:t}=this.props.stores;await t.getHeatmap(),this.setState({isLoading:!1})}componentDidMount(){this.loadHeatmap()}render(){const{adminStore:e}=this.props.stores,{heatmap:s}=e;return Object(n.h)(t,null,Object(n.h)(c.a,{stores:this.props.stores,mapId:s.length,heatmap:s,minZoom:2,height:800}))}})||i;e.a=h}).call(this,s("hosL").Fragment)},"/pNR":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,n=s("hosL"),o=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("cneo"),s("xNCi"));s("ZOvn");const r={showAddComment:!1};let h=Object(o.a)(i=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r),this.updateTimer={},this.inputRef={}}async loadPageView(){this.setState({isLoading:!0});const{adminStore:t}=this.props.stores;await t.getPageViews(),this.setState({isLoading:!1})}componentDidMount(){this.loadPageView()}render(){const{adminStore:e}=this.props.stores,{pageViewsKeys:s}=e;let a=[],l=[],i=[],o=[],r=[],h=[],d=[],u=[],b=[],p=[],m=[],O=[],j=[],g=[],f=[],v=[],y=[],k=[],w=[],T=[];const L=s.map(t=>t.name),S="pageViews-"+L.length;return L.forEach(t=>{t.match(/^(frontpage|feed|news|dashboard)/)&&(a.push("pageViews."+t),l.push(""+t)),t.match(/^(app-races)/)&&(i.push("pageViews."+t),o.push(""+t)),t.match(/^(search)/)&&(r.push("pageViews."+t),h.push(""+t)),t.match(/^(inbox)/)&&(d.push("pageViews."+t),u.push(""+t)),t.match(/^(settings)/)&&(b.push("pageViews."+t),p.push(""+t)),t.match(/^(user|todo|admin)/)&&(m.push("pageViews."+t),O.push(""+t)),t.match(/^dog/)&&(j.push("pageViews."+t),g.push(""+t)),t.match(/^workout/)&&(f.push("pageViews."+t),v.push(""+t)),t.match(/^team/)&&(y.push("pageViews."+t),k.push(""+t)),t.match(/^track/)&&(w.push("pageViews."+t),T.push(""+t))}),Object(n.h)(t,null,Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("h5",null,"frontpage|feed|news|dashboard"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:a,legendLeft:l,key:"frontpage-"+S}),Object(n.h)("h5",null,"app-races"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:i,legendLeft:o,key:"race-"+S}),Object(n.h)("h5",null,"search"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:r,legendLeft:h,key:"search-"+S}),Object(n.h)("h5",null,"inbox"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:d,legendLeft:u,key:"inbox-"+S}),Object(n.h)("h5",null,"settings"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:b,legendLeft:p,key:"settings-"+S}),Object(n.h)("h5",null,"user|todo|admin"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:m,legendLeft:O,key:"users-"+S}),Object(n.h)("h5",null,"dog"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:j,legendLeft:g,key:"dogs-"+S}),Object(n.h)("h5",null,"workout"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:f,legendLeft:v,key:"workouts-"+S}),Object(n.h)("h5",null,"team"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:y,legendLeft:k,key:"teams-"+S}),Object(n.h)("h5",null,"track"),Object(n.h)(c.a,{stores:this.props.stores,fieldsLeft:w,legendLeft:T,key:"tracks-"+S})))}})||i;e.a=h}).call(this,s("hosL").Fragment)},"3BzR":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,o,c,r=s("hosL"),h=s("Utv1"),d=s("/eY4"),u=s("OhSV"),b=s("om2D");s("fyMK"),s("ZOvn");const p={showAddComment:!1};let m=Object(d.a)(n=class extends r.Component{constructor(...t){var e;super(...t),e=this,this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.removeImage=async function(t){const{applicationStore:s}=e.props.stores,{application:a}=e.props;s.removeImage({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})},this.removeMainImage=()=>{const{application:t,field:e,updateField:s}=this.props;s({id:t.id,field:e,value:{}})}}render(){const{saved:t,application:e,type:s="text",rows:a,field:l,title:i,icon:n,help:o,onInput:c,updateField:d}=this.props,p=e[l];return"image"===s?Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},e.images&&e.images.map(t=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(r.h)("i",{class:"fas fa-trash"})," Del"))))),Object(r.h)(b.a,{saved:t,object:e,field:l,updateField:d,autoOpen:!1}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o)):"textarea"===s?Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("textarea",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:p,rows:a,"data-id":e.id,"data-field":l,onInput:c}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o)):"date"===s?Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("input",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:h.a.isoDate(p,!1,!1,!0),"data-id":e.id,"data-field":l,onInput:c}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o)):Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("input",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:p,"data-id":e.id,"data-field":l,onInput:c}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o))}})||n,O=Object(d.a)(o=class extends r.Component{constructor(...t){super(...t),this.onInput=t=>{const{field:e}=this.props,s=t.target.value,{applicationStore:a}=this.props.stores;a.updateObjectKeyValue("newApplication",e,s)}}render(){const{field:t,icon:e,title:s,help:a}=this.props,{applicationStore:l}=this.props.stores,{newApplication:i}=l;return Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:t+"Input"},e&&Object(r.h)("i",{class:e+" text-muted"})," ",s),Object(r.h)("input",{type:"text",class:"form-control",id:t+"Input","aria-describedby":t+"Help",onInput:this.onInput,value:i[t]}),Object(r.h)("small",{id:t+"Help",class:"form-text text-muted"},a))}})||o,j=Object(d.a)(c=class extends r.Component{constructor(t){var e;super(t),e=this,this.insertApplication=async function(){const{applicationStore:t}=e.props.stores,{newApplication:s}=t;await t.insert(l({},s)),await t.load({query:{showall:1}}),e.resetApplicaton()},this.selectApplication=async function(t){const s=t.target.parentElement.dataset.id||t.target.dataset.id,{applicationStore:a}=e.props.stores;await a.load(s)},this.resetApplication=async function(){const{applicationStore:t}=e.props.stores;t.updateKeyValue("application",{})},this.updateField=t=>{const{id:e,field:s,type:a,elementtype:l,isNew:i}=t.target.dataset,n=t.target.value;this.updateFieldValue({id:parseInt(e,10),field:s,value:n,type:a,elementtype:l,isNew:i})},this.updateFieldValue=({id:t,field:s,value:a,datatype:l,elementtype:i,isNew:n=!1,skipTimer:o=!1})=>{const{applicationStore:c}=this.props.stores;let r=a,h=a;const{application:d}=c;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"array"!==l||Array.isArray(a)||(r="number"===i?a.split(",").map(t=>parseFloat(t)||t):a.split(",")),n?c.updateObjectKeyValue("newApplication",s,a):(c.updateField(t,s,h),o?this.doUpdateField(t,s,r):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){e.doUpdateField(t,s,r)}),500)))},this.state=l({},p),this.updateTimer={},this.inputRef={}}async loadApplication(){this.setState({isLoading:!0});const{applicationStore:t}=this.props.stores;await t.load({query:{showall:1},addData:[]}),this.setState({isLoading:!1})}resetApplication(){const{applicationStore:t}=this.props.stores;t.updateKeyValue("newApplication",{})}async doUpdateField(t,e,s){const{applicationStore:a}=this.props.stores;await a.saveField(t,e,s)}componentDidMount(){this.loadApplication()}render(){const{applicationStore:e,appState:s}=this.props.stores,{application:a={},applications:l=[],saved:i}=e,{apiServer:n}=s;return Object(r.h)(t,null,Object(r.h)("div",{class:"w-100 mb-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 mb-0 position-relative"},l&&l.length>0&&Object(r.h)(t,null,Object(r.h)("table",{class:"table table-sm table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",null,"id"),Object(r.h)("th",null,"title"),Object(r.h)("th",null,"returnUrl"),Object(r.h)("th",null,"email"))),Object(r.h)("tbody",null,l.map(t=>Object(r.h)("tr",{"data-id":t.id,onClick:this.selectApplication},Object(r.h)("td",null,t.id),Object(r.h)("td",null,t.title),Object(r.h)("td",null,t.returnUrl),Object(r.h)("td",null,t.email),Object(r.h)("td",null,n,"/#/grant-access?returnUrl=",t.returnUrl,"&id=",t.id)))))))),Object(r.h)("div",{class:"row"},(!a||!a.id)&&Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(r.h)("button",{class:"btn btn-danger float-right",onClick:this.resetApplication},Object(r.h)("i",{class:"fas fa-times"})),Object(r.h)("h5",null,"New application"),Object(r.h)(O,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"application.title"},"Tittel"),help:Object(r.h)(u.c,{id:"application.title-help"},"Tittel på denne annonsen.")}),Object(r.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertApplication},Object(r.h)(u.c,{id:"application.save"},"Save new application")))),a&&a.id&&Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(r.h)("button",{class:"btn btn-danger float-right",onClick:this.resetApplication},Object(r.h)("i",{class:"fas fa-times"})),Object(r.h)("h3",null,"How to"),Object(r.h)("ol",null,Object(r.h)("li",null,"Have your application point to this url: ",n,"/#/grant-access?returnUrl=",a.returnUrl,"&id=",a.id)),Object(r.h)("h5",null,'Endre annonse: "',a.title,'"'),Object(r.h)(m,{saved:i,application:a,field:"title",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"application.title"},"Title"),help:Object(r.h)(u.c,{id:"application.title-help"},"Title of this application story"),onInput:this.updateField}),Object(r.h)(m,{saved:i,application:a,field:"returnUrl",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"application.returnUrl"},"Return URL"),help:Object(r.h)(u.c,{id:"application.returnUrl-help"},"Application returnUrl"),onInput:this.updateField}),Object(r.h)(m,{saved:i,application:a,field:"email",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"application.email"},"Email"),help:Object(r.h)(u.c,{id:"application.email-help"},"Application email"),onInput:this.updateField}),Object(r.h)(m,{saved:i,application:a,field:"body",icon:"fas fa-quote-right",type:"textarea",rows:5,title:Object(r.h)(u.c,{id:"application.body"},"Body"),help:Object(r.h)(u.c,{id:"application.body-help"},"Body of this application story"),onInput:this.updateField}),Object(r.h)(m,{saved:i,application:a,field:"offline",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"application.offline"},"Offline"),help:Object(r.h)(u.c,{id:"application.offline-help"},"Application offline"),onInput:this.updateField}),Object(r.h)(m,{saved:i,application:a,field:"image",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(r.h)(u.c,{id:"application.photo"},"Bilder"),help:Object(r.h)(u.c,{id:"application.photo-help"},"Images for this application story."),onInput:this.updateField,updateField:this.updateFieldValue})))))}})||c;e.a=j}).call(this,s("hosL").Fragment)},"4uYi":function(t,e,s){"use strict";(function(t){function a(t){switch(t){case"dogHistory":return"fas fa-rss";case"dogStatus":case"dogSpecialNeeds":return"fas fa-dog";case"dogImage":return"fas fa-image";case"dog":case"dogChanged":return"fas fa-dog";case"track":case"trackChanged":return"fas fa-map-marked-alt";case"workoutPlan":return"fas fa-calendar-alt";case"workout":case"newGarminWorkout":return"fas fa-running";case"newStravaWorkout":return"fab fa-strava";case"workoutChanged":return"fas fa-running";case"teamMember":return"fas fa-user";case"team":return"fas fa-users";case"newsLiked":return"fas fa-thumbs-up";case"newsCommentLiked":case"newsCommentedLiked":return"fas fa-thumbs-up";case"newsCommentReplyLiked":case"newsCommentedReplyLiked":return"fas fa-thumbs-up";case"newsComment":case"newsCommented":return"fas fa-comment";case"newsCommentReply":case"newsCommentedReply":return"fas fa-comments";case"trackLiked":return"fas fa-thumbs-up";case"trackCommentLiked":case"trackCommentedLiked":return"fas fa-thumbs-up";case"trackCommentReplyLiked":case"trackCommentedReplyLiked":return"fas fa-thumbs-up";case"trackComment":case"trackCommented":return"fas fa-comment";case"trackCommentReply":case"trackCommentedReply":return"fas fa-comments";case"workoutComment":case"workoutCommented":return"fas fa-comment";case"workoutCommentReply":case"workoutCommentedReply":return"fas fa-comments";case"workoutLiked":return"fas fa-thumbs-up";case"workoutCommentLiked":case"workoutCommentedLiked":return"fas fa-thumbs-up";case"workoutCommentReplyLiked":case"workoutCommentedReplyLiked":return"fas fa-thumbs-up";case"story":return"fas fa-rss";case"storyComment":case"storyCommented":return"fas fa-comment";case"storyCommentReply":case"storyCommentedReply":return"fas fa-comments";case"storyLiked":return"fas fa-thumbs-up";case"storyCommentLiked":case"storyCommentedLiked":return"fas fa-thumbs-up";case"storyCommentReplyLiked":case"storyCommentedReplyLiked":return"fas fa-thumbs-up";case"teamFollowRequest":return"fas fa-project-diagram";case"happyBirthday":return"fas fa-birthday-cake";case"trophy":return"fas fa-trophy";default:return"fas fa-rss"}}var l,i=s("hosL"),n=s("Utv1"),o=s("/eY4"),c=s("OhSV");s("ZOvn");let r=Object(o.a)(l=class extends i.Component{constructor(...t){super(...t),this.confirmRequest=()=>{const{notification:t}=this.props,{teamStore:e}=this.props.stores;e.confirmFollowRequest({team:t.team,user:t.addedBy.id})},this.deleteRequest=()=>{const{notification:t}=this.props,{teamStore:e}=this.props.stores;e.deleteFollowRequest({team:t.team,user:t.addedBy.id})}}render(){const{notification:e,showDate:s}=this.props,{addedBy:l={}}=e,o=l.firstname?`${n.a.ucfirst(l.firstname,!0)}${n.a.ucfirst(l.lastname,!0)}`:""+n.a.ucfirst(l.email||"",!0),r=l.firstname?`${l.firstname} ${l.lastname}`:""+l.email,h=l.image||(l.images?l.images[0]:void 0),d=[],u=[];e.grouped&&e.grouped.forEach(t=>{t.dog&&t.dog.id&&-1===d.indexOf(t.dog.id)&&(u.push(t.dog),d.push(t.dog.id))});const b=e.read&&"teamFollowRequest"!==e.type,p=!(u.length>0)&&"teamFollowRequest"!==e.type;return Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-2 position-relative",style:`opacity: ${b?.6:1};`},Object(i.h)("div",{class:"text-center border rounded-circle imageRoundedSmall imageRounded",style:"padding-top: 7px; "+(h?`background-image: url("${h.s3ThumbLink}"); background-size: cover;`:"")},!l.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},o)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(i.h)("span",{class:"float-right ml-2"},e.type&&Object(i.h)("span",{class:"mr-2",style:"font-size: 2.0em;"},Object(i.h)("i",{class:a(e.type)}))),Object(i.h)("div",{style:"font-size: 0.8em;"},p?Object(i.h)("a",{href:e.url},e.message,e.title?": "+e.title:""):Object(i.h)(t,null,e.message),"teamFollowRequest"===e.type&&Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteRequest},Object(i.h)(c.c,{id:"notifications.delete"},"Del")),Object(i.h)("button",{class:"btn btn-sm btn-success float-right mr-2",onClick:this.confirmRequest},Object(i.h)(c.c,{id:"notifications.confirm"},"Confirm")))),Object(i.h)("small",{class:"text-muted"},e.date&&Object(i.h)("span",{onClick:this.toggleDate,class:"mr-2"},s?n.a.formatDate(e.date,{locale:"no-NB"}):n.a.formatDistance(e.date,new Date,{locale:"no-NB"})),Object(i.h)("i",{class:"far fa-user"})," ",r,Object(i.h)("br",null),u&&u.map(t=>Object(i.h)("span",{class:"mr-2"},Object(i.h)("a",{href:"/dogs/"+t.id},Object(i.h)("i",{class:"fas fa-dog"})," ",t.name))),Object(i.h)("br",null))))}})||l;e.a=r}).call(this,s("hosL").Fragment)},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return n.a.format(t,t<5?2:1)}var l,i=s("hosL"),n=s("Utv1"),o=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(o.a)(l=class extends i.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:l}=this.props.stores,{user:n}=l,{settings:o={}}=n;return o.imperial?Object(i.h)(t,null,Object(i.h)("nobr",null,a(function(t){return.621371*t}(e))," ",s?Object(i.h)(t,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(i.h)(t,null,"mi"))):Object(i.h)(t,null,Object(i.h)("nobr",null,a(e)," ",s?Object(i.h)(t,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-0 text-muted"},"km")))):Object(i.h)(t,null,"km")))}})||l;e.a=c}).call(this,s("hosL").Fragment)},AnAW:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{constructor(...t){var e;super(...t),e=this,this.loadResults=async function(){const{workoutStore:t}=e.props.stores;await t.workoutResults()}}async loadAll(){this.setState({isLoading:!0}),await this.loadResults(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{workoutStore:e,userStore:s}=this.props.stores,{competitionResults:a,competitionAllResults:n,competitionTeams:o}=e,{user:c}=s,{language:r="en"}=c;return Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,"Competition results"),Object(l.h)("div",null,Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("tbody",null,a.map(e=>Object(l.h)(t,null,Object(l.h)("tr",null,Object(l.h)("th",null,"Date"),Object(l.h)("th",null,"Type"),Object(l.h)("th",null,"Ambitions"),Object(l.h)("th",null,"Count"),Object(l.h)("th",null,"Avg dogs"),Object(l.h)("th",null,"total km"),Object(l.h)("th",null,"km"),Object(l.h)("th",null,"elevation"),Object(l.h)("th",null,"duration"),Object(l.h)("th",null,"speedAvg")),Object(l.h)("tr",null,Object(l.h)("td",{class:"font-weight-bold"},e.year,"-",e.month),Object(l.h)("td",{class:"font-weight-bold"},s.findTeamType({type:e.type,language:r})," (",e.type,")"),Object(l.h)("td",{class:"font-weight-bold"},s.findTeamAmbition({ambition:e.ambitions,language:r})," (",e.ambitions,")"),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.format(e.count,1)),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.format(e.avgDogs,0)),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.format(e.totalDistanceKm,1)," km"),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.format(e.distanceKm,1)," km"),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.format(e.elevation,0)," m"),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.secToHms(e.duration)),Object(l.h)("td",{class:"text-right font-weight-bold"},i.a.format(e.speedAvg,1)," km/t")),Object(l.h)("tr",null,Object(l.h)("td",{colspan:"10",class:"mb-5 pb-5 pt-2"},Object(l.h)("small",null,Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"Team"),Object(l.h)("th",null,"Email"),Object(l.h)("th",null,"Place"),Object(l.h)("th",null,"Country"),Object(l.h)("th",null,"Count"),Object(l.h)("th",null,"Avg dogs"),Object(l.h)("th",null,"total km"),Object(l.h)("th",null,"km"),Object(l.h)("th",null,"elevation"),Object(l.h)("th",null,"duration"),Object(l.h)("th",null,"speedAvg"))),Object(l.h)("tbody",null,n.filter(t=>t.type===e.type&&t.ambitions===e.ambitions).map(t=>{const s=o.find(e=>e.id===t.team);return Object(l.h)("tr",null,Object(l.h)("td",null,t.team,": ",s.name),Object(l.h)("td",null,s.email),Object(l.h)("td",null,s.postalcode," ",s.place),Object(l.h)("td",null,s.country),Object(l.h)("td",{class:"text-right"},i.a.format(t.count,0)),Object(l.h)("td",{class:"text-right"},i.a.format(t.avgDogs,1)),Object(l.h)("td",{class:"text-right"},i.a.format(t.totalDistanceKm,1)," km",Object(l.h)("span",{class:"ml-2 text-"+(e.totalDistanceKm>t.totalDistanceKm?"danger":"success")},e.totalDistanceKm>t.totalDistanceKm?"-":"+",i.a.format(t.diffTotalDistanceKm,1))),Object(l.h)("td",{class:"text-right"},i.a.format(t.distanceKm,1)," km"),Object(l.h)("td",{class:"text-right"},i.a.format(t.elevation,0)," m"),Object(l.h)("td",{class:"text-right"},i.a.secToHms(t.duration)),Object(l.h)("td",{class:"text-right"},i.a.format(t.speedAvg,1)," km/t"))}))))))))))))}})||a;e.a=o}).call(this,s("hosL").Fragment)},CLMH:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=s("OhSV"),c=(s("ZOvn"),s("bbv7"));let r=Object(o.d)(()=>({week:Object(l.h)(o.c,{id:"workout.graph.week"}),distance:Object(l.h)(o.c,{id:"workout.graph.distance"}),ascend:Object(l.h)(o.c,{id:"workout.graph.ascend"}),plan:Object(l.h)(o.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends l.Component{render(){const{fieldsLeft:e=[],legendLeft:s=[],fieldsRight:a=[],legendRight:n=[],showDebug:o,xTicksVal:r=(t=>i.a.isoDate(t)),xTicksCnt:h=5,yTicksLeftVal:d=(t=>t),yTicksRightVal:u=(t=>t)}=this.props,{adminStore:b}=this.props.stores,p=e.map(t=>i.a.getNestedValue(b,t)||[]),m=a.map(t=>i.a.getNestedValue(b,t)||[]),O=p&&p[0]?p[0]:[],j=[];if(O.length){const t=Math.ceil(O.length/(h-1)),e=Math.floor(O.length/t);o&&console.log({firstData:O,parts:e,partSize:t});for(let e=0,s=O.length;e<s;e+=t)j.push(O[e].epoch);j.push(O[O.length-1].epoch)}return Object(l.h)(t,null,Object(l.h)("div",{class:"w-100 mt-3 mb-4"},Object(l.h)(c.a,{stores:this.props.stores,width:2e3,height:300,showXTicks:1,xTicksVal:r,xTicks:j,paddingTop:30,paddingLeft:70,yTicksLeftWidth:"70px",lineFromXzero:!1,lineFromXmax:!1,dataLeft:p,legendLeft:s,showYTicksLeft:1,yTicksLeftVal:d,avgWindowLeft:[0,0,0,0,0,0,0],smoothLeft:[1,1,1,1,1,1,1],dataRight:m,legendRight:n,showYTicksRight:m.length>0?1:0,yTicksRightVal:u,avgWindowRight:[0,0,0,0,0,0,0],smoothRight:[1,1,1,1,1,1,1],legendFontSize:"18px",legendLineHeight:18,ticksFontSize:"15px",scrollToRight:!0})))}})||a)||a;e.a=r}).call(this,s("hosL").Fragment)},CMu3:function(t,e,s){"use strict";var a,l=s("hosL"),i=(s("Utv1"),s("/eY4"));s("OhSV"),s("ZOvn");let n=Object(i.a)(a=class extends l.Component{constructor(...t){super(...t),this.setApiServer=t=>{const{apiserver:e}=t.target.closest("button").dataset,{appState:s}=this.props.stores;s.setApiServer(e)}}render(){const{showError:t={}}=this.state,{appState:e}=this.props.stores,{apiServer:s}=e;return Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,"API Server: ",s),Object(l.h)("button",{class:`btn btn-block btn-${"https://themusher.app"===s?"":"outline-"}success`,onClick:this.setApiServer,"data-apiserver":"https://themusher.app"},"Prod"),Object(l.h)("button",{class:`btn btn-block btn-${"https://dev.themusher.app"===s?"":"outline-"}success`,onClick:this.setApiServer,"data-apiserver":"https://dev.themusher.app"},"Dev"),Object(l.h)("button",{class:`btn btn-block btn-${"http://localhost:8888"===s?"":"outline-"}success`,onClick:this.setApiServer,"data-apiserver":"http://localhost:8888"},"localhost:8888"))}})||a;e.a=n},"Gx/q":function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=(s("OhSV"),s("nHdA")),c=s("irB3"),r=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));let d=Object(n.a)(a=class extends l.Component{constructor(t){var e;super(t),e=this,this.removeUser=async function(t){let s=t.target.dataset.id,a=t.target.dataset.email,l=t.target.dataset.team;!s&&t.target.parentNode&&(s=t.target.parentNode.dataset.id,a=t.target.parentNode.dataset.email,l=t.target.parentNode.dataset.team),console.log("id, email, team",s,a,l);const{teamStore:i}=e.props.stores;await i.removeMember(l,{id:s,email:a})},this.adminUpdateUser=t=>{const{email:e}=t.target.closest("input").dataset,{name:s}=t.target,a=`${e}-${s}`;clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout(()=>{this.doAdminUpdateUser(t)},500)},this.doAdminUpdateUser=async function(t){const{email:s}=t.target.closest("input").dataset,{name:a,value:l}=t.target,{userStore:i}=e.props.stores;await i.adminUpdateUser(s,{[a]:l})},this.simulateUser=t=>{const{email:e}=t.target.closest("button").dataset,{userStore:s}=this.props.stores;s.getSimulateUser(e)},this.state={},this.updateTimer={}}render(){const{user:e,team:s={}}=this.props,{userStore:a,teamStore:n}=this.props.stores,{user:d,isAdmin:u}=a,b=a.findTeams(e.teams),p=n.findMusherSummary(e.id,s.id)||{},m=s.user===d.id,O=h.a.getImage({user:e,team:s}),j=h.a.displayName(e);return Object(l.h)("div",{class:"w-100 mb-3"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded",style:O?`background-image: url('${O}'); background-size: cover;`:""},!O&&Object(l.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(l.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(l.h)("h5",null,j),Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("div",{class:"d-flex justify-content-left"},e.cellphone&&Object(l.h)("div",{class:"mr-2"},Object(l.h)("i",{class:"fas fa-mobile-alt"})," ",e.cellphone),e.email&&Object(l.h)("div",{class:"mr-2"},Object(l.h)("i",{class:"fas fa-envelope ml-3"})," ",e.email),e.url&&Object(l.h)("div",{class:"mr-2"},Object(l.h)("a",{href:h.a.asUrl(e.url),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fas fa-link"}))),e.facebook&&Object(l.h)("div",{class:"mr-2"},Object(l.h)("a",{href:h.a.asFacebookLink(e.facebook),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-facebook"}))),e.instagram&&Object(l.h)("div",{class:"mr-2"},Object(l.h)("a",{href:h.a.asInstagramLink(e.instagram),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-instagram"}))),e.snapchat&&Object(l.h)("div",{class:"mr-2"},Object(l.h)("a",{href:h.a.asSnapchatLink(e.snapchat),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-snapchat"})))))),u&&Object(l.h)(t,null,Object(l.h)("button",{class:"btn btn-block btn-success",onClick:this.simulateUser,"data-email":e.email},"Simulate user"),Object(l.h)("small",null,Object(l.h)("details",null,Object(l.h)("summary",null,"settings"),Object(l.h)("xmp",null,JSON.stringify(e.settings,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"subscription"),Object(l.h)("xmp",null,JSON.stringify(e.subscription,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"deviceInfo"),Object(l.h)("xmp",null,JSON.stringify(e.deviceInfo,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"subscription"),Object(l.h)("xmp",null,JSON.stringify(e.subscription,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"notifications"),Object(l.h)("xmp",null,JSON.stringify(e.notifications,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"notificationTopics"),Object(l.h)("xmp",null,JSON.stringify(e.notificationTopics,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"applications"),Object(l.h)("xmp",null,JSON.stringify(e.applications,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"shadowTags"),Object(l.h)("xmp",null,JSON.stringify(e.shadowTags,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"garmin"),Object(l.h)("xmp",null,JSON.stringify(e.garmin,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"strava"),Object(l.h)("xmp",null,JSON.stringify(e.strava,null,4))),Object(l.h)("details",null,Object(l.h)("summary",null,"currentLocationGeocode"),Object(l.h)("xmp",null,JSON.stringify(e.currentLocationGeocode,null,4))),"lastActivityEpoch: ",i.a.isoDate(e.lastActivityEpoch),Object(l.h)("br",null),"activities: ",i.a.format(e.activities),Object(l.h)("br",null),Object(l.h)("div",{class:"form-check"},Object(l.h)("input",{class:"form-check-input",type:"checkbox",value:e.settings.veterinaryAllowed?0:1,id:"settings.veterinaryAllowed-"+e.id,name:"settings.veterinaryAllowed",checked:e.settings.veterinaryAllowed?"checked":"","data-email":e.email,onInput:this.adminUpdateUser}),Object(l.h)("label",{class:"form-check-label",for:"settings.veterinaryAllowed-"+e.id},"settings.veterinaryAllowed")),Object(l.h)("div",{class:"form-check"},Object(l.h)("input",{class:"form-check-input",type:"checkbox",value:e.twoFactorLogin?0:1,id:"twoFactorLogin-"+e.id,name:"twoFactorLogin",checked:e.twoFactorLogin?"checked":"","data-email":e.email,onInput:this.adminUpdateUser}),Object(l.h)("label",{class:"form-check-label",for:"twoFactorLogin-"+e.id},"twoFactorLogin")),Object(l.h)("div",{class:"form-check"},Object(l.h)("input",{class:"form-check-input",type:"checkbox",value:e.isVeterinary?0:1,id:"isVeterinary-"+e.id,name:"isVeterinary",checked:e.isVeterinary?"checked":"","data-email":e.email,onInput:this.adminUpdateUser}),Object(l.h)("label",{class:"form-check-label",for:"isVeterinary-"+e.id},"isVeterinary")),Object(l.h)("div",{class:"form-group row"},Object(l.h)("label",{class:"col-sm-2 col-form-label",for:"cellphone-"+e.id},"cellphone"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",id:"cellphone-"+e.id,name:"cellphone",class:"form-control",value:e.cellphone,"data-email":e.email,onInput:this.adminUpdateUser}))),Object(l.h)("div",{class:"form-group row"},Object(l.h)("label",{class:"col-sm-2 col-form-label",for:"firstname-"+e.id},"firstname"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",id:"firstname-"+e.id,name:"firstname",class:"form-control",value:e.firstname,"data-email":e.email,onInput:this.adminUpdateUser}))),Object(l.h)("div",{class:"form-group row"},Object(l.h)("label",{class:"col-sm-2 col-form-label",for:"lastname-"+e.id},"lastname"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",id:"lastname-"+e.id,name:"lastname",class:"form-control",value:e.lastname,"data-email":e.email,onInput:this.adminUpdateUser}))))),e.teams&&Object(l.h)(t,null,b.map(t=>Object(l.h)("span",{class:"badge badge-pill badge-info mr-2"},t.name)),Object(l.h)("br",null)),s.id&&p&&Object(l.h)(t,null,Object(l.h)("small",{class:"text-muted"},"Total:",p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(r.a,{stores:this.props.stores,value:p.distanceKm})),p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(c.a,{stores:this.props.stores,value:p.elevation})),p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(p.duration||0))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},"Avg:",p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(r.a,{stores:this.props.stores,value:p.avgDistance})),p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(c.a,{stores:this.props.stores,value:p.avgElevation})),p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(p.avgDuration||0)),p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(o.a,{stores:this.props.stores,value:p.speedAvg})),p&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-dog"})," ",i.a.format(p.avgDogs,1))))),Object(l.h)("div",null,m&&e.id!==d.id&&Object(l.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":e.email,"data-id":e.id,"data-team":s.id},Object(l.h)("i",{class:"fas fa-ban"})),!m&&e.id===d.id&&Object(l.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":e.email,"data-id":e.id,"data-team":s.id},Object(l.h)("i",{class:"fas fa-sign-out-alt"}),s.id)))))}})||a;e.a=d}).call(this,s("hosL").Fragment)},HEJd:function(t,e,s){"use strict";var a,l=s("hosL"),i=(s("Utv1"),s("/eY4"));s("OhSV"),s("ZOvn");let n=Object(i.a)(a=class extends l.Component{constructor(...t){super(...t),this.setApiServer=t=>{const{apiserver:e}=t.target.closest("button").dataset,{appState:s}=this.props.stores;s.setApiServer(e)},this.copyToClipboard=t=>{this.textArea.select(),document.execCommand("copy"),t.target.focus(),this.setState({copySuccess:"Copied!"})}}render(){const{showError:t={},copySuccess:e}=this.state,{appState:s}=this.props.stores,{jwtToken:a,userEmail:i}=s;return Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,"JWT Token: ",i),Object(l.h)("textarea",{class:"form-control",value:a,rows:5,onClick:this.copyToClipboard,ref:t=>this.textArea=t}),Object(l.h)("small",{id:"passwordHelpBlock",class:"form-text text-success"},e))}})||a;e.a=n},JiIx:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=(s("ZOvn"),s("CLMH"));let c=Object(n.a)(a=class extends l.Component{render(){const{adminStore:e}=this.props.stores,{submenu:s}=this.props,{totalKey:a,totalUsersWeekNumber:n,totalUsersMonthNumber:c}=e;let r=0,h=0;if("weeklyTotal"===s)return Object(l.h)(t,null,Object(l.h)("h4",null,"Weekly: Accumulated Total Users & Dogs"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-acc-total-users-dogs-"+a,fieldsLeft:["totalUsersWeekAcc"],legendLeft:["totalUsersWeekAcc"],fieldsRight:["totalDogsWeekAcc"],legendRight:["totalDogsWeekAcc"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("table",{class:"table table-sm table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"Year"),Object(l.h)("th",null,"Month"),Object(l.h)("th",null,"This month"),Object(l.h)("th",null,"Total"))),Object(l.h)("tbody",null,c&&c.map(t=>(h+=t.count,Object(l.h)("tr",null,Object(l.h)("td",null,t.year),Object(l.h)("td",null,t.month),Object(l.h)("td",null,t.count),Object(l.h)("td",null,h)))))),Object(l.h)("table",{class:"table table-sm table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"Month"),Object(l.h)("th",null,"Year Week"),Object(l.h)("th",null,"This week"),Object(l.h)("th",null,"Total"))),Object(l.h)("tbody",null,n&&n.map(t=>(r+=t.count,Object(l.h)("tr",null,Object(l.h)("td",null,t.month),Object(l.h)("td",null,t.year," - ",t.week),Object(l.h)("td",null,t.count),Object(l.h)("td",null,r)))))),Object(l.h)("h4",null,"Weekly: Total Users & Dogs"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-total-users-dogs-"+a,fieldsLeft:["totalUsersWeek"],legendLeft:["totalUsersWeek"],fieldsRight:["totalDogsWeek"],legendRight:["totalDogsWeek"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Total Workouts & avg Teamsize"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-total-workouts-teamsize-"+a,fieldsLeft:["totalWorkoutsWeek"],legendLeft:["totalWorkoutsWeek"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Total Distance & Ascend"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-total-distance-ascend-"+a,fieldsLeft:["totalDistanceWeek"],legendLeft:["totalDistanceWeek"],fieldsRight:["totalAscendWeek"],legendRight:["totalAscendWeek"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Total Duration & Dogs running"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-total-duration-dogs-running-"+a,fieldsLeft:["totalDurationWeek"],legendLeft:["totalDurationWeek"],yTicksLeftVal:t=>i.a.secToHms(t,!0),fieldsRight:["totalDogsrunningWeek"],legendRight:["totalDogsrunningWeek"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}))}})||a;e.a=c}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:n={}}=a;return n.imperial?Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(function(t){return 9*t/5+32}(e),0),"°F")):Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(e,1),"°C"))}})||a;e.a=o}).call(this,s("hosL").Fragment)},Uh5K:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=(s("ZOvn"),s("CLMH"));let c=Object(n.a)(a=class extends l.Component{render(){const{adminStore:e}=this.props.stores,{submenu:s}=this.props,{avgKey:a}=e;if("weeklyAvg"===s)return Object(l.h)(t,null,Object(l.h)("h4",null,"Weekly: Avg Distance, Speed, Ascend"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-speed-ascend-"+a,fieldsLeft:["avgDistanceWeek","avgSpeedWeek"],legendLeft:["avgDistanceWeek","avgSpeedWeek"],fieldsRight:["avgAscendWeek"],legendRight:["avgAscendWeek"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Teamsize"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-total-workouts-teamsize-"+a,fieldsLeft:["avgTeamsizeWeek"],legendLeft:["avgTeamsizeWeek"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg LoadIndex for types"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-loadindex-teamtype-"+a,fieldsLeft:["avgLoadIndexWeek.1","avgLoadIndexWeek.2","avgLoadIndexWeek.3","avgLoadIndexWeek.4","avgLoadIndexWeek.5","avgLoadIndexWeek.n/a"],legendLeft:["Tur","Turistkjøring","Sprint","Mellomdistanse","Langdistanse","Ikke valgt"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Duration & RealDuration"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-duration-realduration-"+a,fieldsLeft:["avgRealDurationWeek","avgDurationWeek"],legendLeft:["avgRealDurationWeek","avgDurationWeek"],yTicksLeftVal:t=>i.a.secToHms(t,!0),xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for types"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-"+a,fieldsLeft:["avgDistanceTeamTypeWeek.1","avgDistanceTeamTypeWeek.2","avgDistanceTeamTypeWeek.3","avgDistanceTeamTypeWeek.4","avgDistanceTeamTypeWeek.5","avgDistanceTeamTypeWeek.n/a"],legendLeft:["Tur","Turistkjøring","Sprint","Mellomdistanse","Langdistanse","Ikke valgt"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for ambitions"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-ambnitions-"+a,fieldsLeft:["avgDistanceTeamAmbitionsWeek.1","avgDistanceTeamAmbitionsWeek.2","avgDistanceTeamAmbitionsWeek.3","avgDistanceTeamAmbitionsWeek.4","avgDistanceTeamAmbitionsWeek.5","avgDistanceTeamAmbitionsWeek.n/a"],legendLeft:["Ingen","Glad amatør","Amatør","Seriøs amatør","Proff","Ikke valgt"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for type-ambitions: Tur"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-1-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.1-1","avgDistanceTeamTypeAmbitionWeek.1-2","avgDistanceTeamTypeAmbitionWeek.1-3","avgDistanceTeamTypeAmbitionWeek.1-4","avgDistanceTeamTypeAmbitionWeek.1-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for type-ambitions: Turist"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-2-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.2-1","avgDistanceTeamTypeAmbitionWeek.2-2","avgDistanceTeamTypeAmbitionWeek.2-3","avgDistanceTeamTypeAmbitionWeek.2-4","avgDistanceTeamTypeAmbitionWeek.2-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for type-ambitions: Sprint"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-3-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.3-1","avgDistanceTeamTypeAmbitionWeek.3-2","avgDistanceTeamTypeAmbitionWeek.3-3","avgDistanceTeamTypeAmbitionWeek.3-4","avgDistanceTeamTypeAmbitionWeek.3-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for type-ambitions: MD"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-4-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.4-1","avgDistanceTeamTypeAmbitionWeek.4-2","avgDistanceTeamTypeAmbitionWeek.4-3","avgDistanceTeamTypeAmbitionWeek.4-4","avgDistanceTeamTypeAmbitionWeek.4-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}),Object(l.h)("h4",null,"Weekly: Avg Distance for type-ambitions: LD"),Object(l.h)(o.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-5-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.5-1","avgDistanceTeamTypeAmbitionWeek.5-2","avgDistanceTeamTypeAmbitionWeek.5-3","avgDistanceTeamTypeAmbitionWeek.5-4","avgDistanceTeamTypeAmbitionWeek.5-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:t=>i.a.getWeek(t),xTicksCnt:8}))}})||a;e.a=c}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:n={}}=a;return n.imperial?Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(e,0)," kg"))}})||a;e.a=o}).call(this,s("hosL").Fragment)},fyMK:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=s("OhSV"),c=(s("ZOvn"),s("bbv7"));let r=Object(o.d)(()=>({week:Object(l.h)(o.c,{id:"workout.graph.week"}),distance:Object(l.h)(o.c,{id:"workout.graph.distance"}),ascend:Object(l.h)(o.c,{id:"workout.graph.ascend"}),plan:Object(l.h)(o.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends l.Component{render(){const{fieldsLeft:e=[],legendLeft:s=[],fieldsRight:a=[],legendRight:n=[],showDebug:o,xTicksVal:r=(t=>i.a.isoDate(t,!1,!1,!0)),xTicksCnt:h=5,yTicksLeftVal:d=(t=>t),yTicksRightVal:u=(t=>t)}=this.props,{adStore:b}=this.props.stores,p=e.map(t=>i.a.getNestedValue(b,t)||[]),m=a.map(t=>i.a.getNestedValue(b,t)||[]),O=p&&p[0]?p[0]:[],j=[];if(O.length){const t=Math.ceil(O.length/(h-1)),e=Math.floor(O.length/t);o&&console.log({firstData:O,parts:e,partSize:t});for(let e=0,s=O.length;e<s;e+=t)j.push(O[e].epoch);j.push(O[O.length-1].epoch)}return Object(l.h)(t,null,Object(l.h)("div",{class:"w-100 mt-3 mb-4"},Object(l.h)(c.a,{stores:this.props.stores,width:1500,height:400,showXTicks:1,xTicksVal:r,xTicks:j,paddingTop:50,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!1,lineFromXmax:!1,dataLeft:p,legendLeft:s,showYTicksLeft:1,yTicksLeftVal:d,avgWindowLeft:[2,2,2,2,2,2,2,2,2,2,2,2],smoothLeft:[1,1,1,1,1,1,1,1,1,1],dataRight:m,legendRight:n,showYTicksRight:m.length>0?1:0,yTicksRightVal:u,avgWindowRight:[2,2,2,2,2,2,2,2,2,2,2,2],smoothRight:[1,1,1,1,1,1,1,1,1,1],legendFontSize:"18px",legendLineHeight:18,ticksFontSize:"15px",scrollToRight:!0})))}})||a)||a;e.a=r}).call(this,s("hosL").Fragment)},gLRN:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,o=s("hosL"),c=s("Utv1"),r=s("/eY4"),h=s("OhSV"),d=s("go65"),u=s("4uYi"),b=s("JiIx"),p=s("Uh5K"),m=s("gu6k"),O=s("m4Et"),j=s("3BzR"),g=s("+Sdk"),f=s("+TRv"),v=s("/pNR"),y=s("AnAW"),k=s("zVFP"),w=s("CMu3"),T=s("HEJd"),L=s("qrn0"),S=s("w+AZ"),D=s("Gx/q"),x=s("ZOvn");const A=x.a.marginTop(!1),C=x.a.marginBottom(),I=(x.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"simulate",jwtToken:c.a.getJwtToken()});let U=Object(r.a)(n=class extends o.Component{constructor(t){var e;super(t),e=this,this.loadStats=async function(){const{submenu:t}=e.state;if(["ads","applications","notifications","simulate","heatmap","userInvites","graphql","errors","dev","jwtToken","demographics"].indexOf(t)>-1)return!1;e.setState({isLoading:!0});const{adminStore:s}=e.props.stores;switch(t){case"weeklyAvg":await s.getStatsAvg();break;case"weeklyTotal":await s.getStatsTotal();break;case"pageviews":case"veterinary":case"competition":break;case"main":await s.getStats({limit:1});break;default:await s.getStats({})}e.setState({isLoading:!1})},this.loadAdminHistory=async function(){const{adminStore:t}=e.props.stores,{submenu:s}=e.state;["simulate"].indexOf(s)>-1&&await t.getAdminHistory()},this.simulateUser=()=>{const{email:t}=this.state,{userStore:e}=this.props.stores;e.getSimulateUser(t)},this.simulateUserByClick=t=>{const e=t.target.closest("div").dataset.email,{userStore:s}=this.props.stores;s.getSimulateUser(e)},this.setQuery=t=>{const{notification:e={}}=this.state;e.query=t.target.innerText,e.url=t.target.dataset.url,this.setState({notification:e})},this.setWorkoutQuery=t=>{const{notification:e={}}=this.state;e.workoutQuery=t.target.innerText,e.url=t.target.dataset.url,this.setState({notification:e})},this.sendNotification=()=>{const{adminStore:t}=this.props.stores,{notification:e}=this.state;t.sendNotification(l({},e))},this.fixGpxInfo=()=>{console.log("fixGpxInfo");const{adminStore:t}=this.props.stores;t.getFixWorkoutGpxInfo()},this.search=async function(){const{userStore:t}=e.props.stores,{searchText:s}=e.state;await t.searchUsers({search:s,showAll:1})},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu},()=>{this.loadAll()})},this.checkForEnter=t=>{"Enter"===t.key&&this.search()},this.state=l({},I)}async loadAll(){this.setState({isLoading:!0}),await this.loadStats(),await this.loadAdminHistory(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}componentWillUnmount(){const{adminStore:t}=this.props.stores;t.cleanupMemory()}render(){const{appState:e,adminStore:s,userStore:a}=this.props.stores,{notification:i={},submenu:n,jwtToken:r}=this.state,{isAdmin:x,user:I,searchUsersResult:U}=a,{stats:E,adminHistory:F}=s,W=E[0]||{};return Object(o.h)("div",{class:"container-fluid",style:`margin-bottom: ${C}; margin-top: ${A};`},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(o.h)("div",{class:"row"},["main","demographics","weeklyAvg","weeklyTotal","accTotals","accAverages","notification","simulate","ads","applications","competition","pageviews","veterinary","heatmap","userInvites","graphql","errors","dev","jwtToken"].map(t=>Object(o.h)("div",{class:"col px-1 pt-2"},Object(o.h)("button",{class:`btn btn-block ${n===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":t,onClick:this.chooseSubmenu},Object(o.h)("i",{class:"fas fa-running"})," ",t)))))),Object(o.h)("div",{class:"row border-bottom"},"ads"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(O.a,{stores:this.props.stores})),"demographics"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(S.a,{stores:this.props.stores})),"applications"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(j.a,{stores:this.props.stores})),"userInvites"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(g.a,{stores:this.props.stores})),"heatmap"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(f.a,{stores:this.props.stores})),"pageviews"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(v.a,{stores:this.props.stores})),"veterinary"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(L.a,{stores:this.props.stores})),"competition"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(y.a,{stores:this.props.stores})),"errors"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(k.a,{stores:this.props.stores})),"dev"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(w.a,{stores:this.props.stores})),"jwtToken"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(T.a,{stores:this.props.stores})),"graphql"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)("a",{href:"http://localhost:8888/api/graphql?token="+r,native:!0,target:"_blank",rel:"noreferrer"},"GraphQL")),"notification"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)("h5",null,"Send notification"),Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-12"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputLanguage"}," Language"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"Lang")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputLanguage",placeholder:"Notification language: en, no",onInput:Object(d.a)(this,"notification.language"),value:i.language}))),Object(o.h)("div",{class:"col-12 mt-2 mb-4"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputLanguage"},"User Query"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"User Query")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputLanguage",placeholder:'Mongodb user query: { "id": 2 }',onInput:Object(d.a)(this,"notification.query"),value:i.query})),Object(o.h)("div",{class:"text-muted"},Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "garmin.access.oauth_token": { "$exists": true } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "strava.access_token": { "$exists": true } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users/edit"},'{ "username": { "$eq": "" } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users/edit"},'{ "firstname": { "$eq": "" } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "images": { "$exists": false } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "termsAndCondition": { "$eq": "" } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "settings.summaryEmails": { "$exists": false } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "settings.infoEmails": { "$exists": false } }')),Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "settings.partnerEmails": { "$exists": false } }')))),Object(o.h)("div",{class:"col-12 mt-2 mb-4"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputLanguage"},"Workout Query"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"Workout Query")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputLanguage",placeholder:'Mongodb query: { "id": 2 }',onInput:Object(d.a)(this,"notification.workoutQuery"),value:i.workoutQuery})),Object(o.h)("div",{class:"text-muted"},Object(o.h)("div",null,Object(o.h)("code",{onClick:this.setWorkoutQuery},'{ "username": { "$eq": "" } }')))),Object(o.h)("div",{class:"col-12"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputMessage"}," Message"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"M")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputMessage",placeholder:"Notification message",onInput:Object(d.a)(this,"notification.message"),value:i.message}))),Object(o.h)("div",{class:"col-12"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputTitle"}," Title"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"T")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputTitle",placeholder:"Notification title",onInput:Object(d.a)(this,"notification.title"),value:i.title}))),Object(o.h)("div",{class:"col-12"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputUrl"}," URL"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"URL")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputUrl",placeholder:"/news/123",onInput:Object(d.a)(this,"notification.url"),value:i.url}))),Object(o.h)("div",{class:"col-12"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputUrlList"}," URL List"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"URL List")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputUrlList",placeholder:"/news/",onInput:Object(d.a)(this,"notification.urlList"),value:i.urlList}))),Object(o.h)("div",{class:"col-12"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputUrlList"}," Do send"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"Do send")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputUrlList",placeholder:"",onInput:Object(d.a)(this,"notification.doSend"),value:i.doSend}))),Object(o.h)("div",{class:"col-12"},Object(o.h)("button",{type:"button",class:"btn btn-primary mb-2",onclick:this.sendNotification},"Send notification"))),Object(o.h)("h5",null,"Preview"),Object(o.h)(u.a,{notification:l(l({},i),{},{addedBy:l({},I)})})),"weeklyTotal"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(b.a,{stores:this.props.stores,submenu:n})),"weeklyAvg"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(p.a,{stores:this.props.stores,submenu:n})),Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)(m.a,{stores:this.props.stores,submenu:n})),"main"===n&&Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)("table",{class:"table table-striped"},Object(o.h)("tbody",null,Object(o.h)("tr",null,Object(o.h)("th",null,"createdDate"),Object(o.h)("td",null,c.a.isoDate(W.createdDate))),Object(o.h)("tr",null,Object(o.h)("th",null,"dogs"),Object(o.h)("td",null,W.dogs)),Object(o.h)("tr",null,Object(o.h)("th",null,"notifications"),Object(o.h)("td",null,W.notifications)),Object(o.h)("tr",null,Object(o.h)("th",null,"messages"),Object(o.h)("td",null,W.messages)),Object(o.h)("tr",null,Object(o.h)("th",null,"teams"),Object(o.h)("td",null,W.teams)),W.teamTypesCounts&&Object.keys(W.teamTypesCounts).map(t=>Object(o.h)("tr",null,Object(o.h)("th",{class:"pl-5"},"teams by type: ",t),Object(o.h)("td",null,W.teamTypesCounts[t]))),W.teamAmbitionsCounts&&Object.keys(W.teamAmbitionsCounts).map(t=>Object(o.h)("tr",null,Object(o.h)("th",{class:"pl-5"},"teamsby ambition: ",t),Object(o.h)("td",null,W.teamAmbitionsCounts[t]))),Object(o.h)("tr",null,Object(o.h)("th",null,"workoutPlans"),Object(o.h)("td",null,W.workoutPlans)),Object(o.h)("tr",null,Object(o.h)("th",null,"totalDistance"),Object(o.h)("td",null,c.a.format(W.totalDistance)," km",Object(o.h)("br",null),c.a.format(W.totalDistance/40075,2)," ",Object(o.h)("span",{class:"text-muted"},"times around the world"),Object(o.h)("br",null),c.a.format(W.totalDistance/4509,2)," ",Object(o.h)("span",{class:"text-muted"},"times accross USA"),Object(o.h)("br",null),c.a.format(W.totalDistance/4700,2)," ",Object(o.h)("span",{class:"text-muted"},"times accross Europe"),Object(o.h)("br",null),c.a.format(W.totalDistance/1729,1)," ",Object(o.h)("span",{class:"text-muted"},"times from Oslo to Alta"),Object(o.h)("br",null),c.a.format(W.totalDistance/384400,3)," ",Object(o.h)("span",{class:"text-muted"},"times to the moon"),Object(o.h)("br",null),c.a.format(W.totalDistance/400,1)," ",Object(o.h)("span",{class:"text-muted"},"recharges (400 km range)"),Object(o.h)("br",null))),Object(o.h)("tr",null,Object(o.h)("th",null,"totalElevation"),Object(o.h)("td",null,c.a.format(W.totalElevation)," m",Object(o.h)("br",null),c.a.format(W.totalElevation/8848,1)," ",Object(o.h)("span",{class:"text-muted"},"times to the top of Mount Everest"),Object(o.h)("br",null))),Object(o.h)("tr",null,Object(o.h)("th",null,"totalDuration"),Object(o.h)("td",null,c.a.secToHms(W.totalDuration),Object(o.h)("br",null),Math.floor(W.totalDuration/86400)," days,  ",Math.floor(W.totalDuration%86400/3600)," hours")),Object(o.h)("tr",null,Object(o.h)("th",null,"tracks"),Object(o.h)("td",null,W.tracks)),Object(o.h)("tr",null,Object(o.h)("th",null,"users"),Object(o.h)("td",null,W.users)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersGarmin"),Object(o.h)("td",null,W.usersGarmin)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersStrava"),Object(o.h)("td",null,W.usersStrava)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersProminentDisclosure"),Object(o.h)("td",null,W.usersProminentDisclosure)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersVeterinaryAllowed"),Object(o.h)("td",null,W.usersVeterinaryAllowed)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersInboxEmails"),Object(o.h)("td",null,W.usersInboxEmails)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersImperial"),Object(o.h)("td",null,W.usersImperial)),Object(o.h)("tr",null,Object(o.h)("th",null,"usersDarkmode"),Object(o.h)("td",null,W.usersDarkmode)),Object(o.h)("tr",null,Object(o.h)("th",null,"workouts"),Object(o.h)("td",null,W.workouts)),Object(o.h)("tr",null,Object(o.h)("th",null,"avgDistance"),Object(o.h)("td",null,c.a.format(W.avgDistance,1)," km")),Object(o.h)("tr",null,Object(o.h)("th",null,"avgDogs"),Object(o.h)("td",null,c.a.format(W.avgDogs,1))),Object(o.h)("tr",null,Object(o.h)("th",null,"avgDuration"),Object(o.h)("td",null,c.a.secToHms(W.avgDuration))),Object(o.h)("tr",null,Object(o.h)("th",null,"avgSpeed"),Object(o.h)("td",null,c.a.format(W.avgSpeed,1)," km/t")),Object(o.h)("tr",null,Object(o.h)("th",null,"avgElevation"),Object(o.h)("td",null,c.a.format(W.avgElevation,1)," m")),Object(o.h)("tr",null,Object(o.h)("th",null,"avgTemperature"),Object(o.h)("td",null,c.a.format(W.avgTemperature,1)," C")),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryAnimalchiropractor"),Object(o.h)("td",null,W.dogsHistoryAnimalchiropractor)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryBodyScore"),Object(o.h)("td",null,W.dogsHistoryBodyScore)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryClawClip"),Object(o.h)("td",null,W.dogsHistoryClawClip)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryDeworming"),Object(o.h)("td",null,W.dogsHistoryDeworming)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryDiarrhea"),Object(o.h)("td",null,W.dogsHistoryDiarrhea)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryFight"),Object(o.h)("td",null,W.dogsHistoryFight)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryFoodLeftover"),Object(o.h)("td",null,W.dogsHistoryFoodLeftover)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryInjury"),Object(o.h)("td",null,W.dogsHistoryInjury)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryMassage"),Object(o.h)("td",null,W.dogsHistoryMassage)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryMating"),Object(o.h)("td",null,W.dogsHistoryMating)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryMaturity"),Object(o.h)("td",null,W.dogsHistoryMaturity)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryNewStraw"),Object(o.h)("td",null,W.dogsHistoryNewStraw)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryOther"),Object(o.h)("td",null,W.dogsHistoryOther)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistorySick"),Object(o.h)("td",null,W.dogsHistorySick)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryStoolProblem"),Object(o.h)("td",null,W.dogsHistoryStoolProblem)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryUnwantedMating"),Object(o.h)("td",null,W.dogsHistoryUnwantedMating)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryUpdate"),Object(o.h)("td",null,W.dogsHistoryUpdate)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryVaccine"),Object(o.h)("td",null,W.dogsHistoryVaccine)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryVeterinarianVisit"),Object(o.h)("td",null,W.dogsHistoryVeterinarianVisit)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryWeek"),Object(o.h)("td",null,W.dogsHistoryWeek)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryWeight"),Object(o.h)("td",null,W.dogsHistoryWeight)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsHistoryYear"),Object(o.h)("td",null,W.dogsHistoryYear)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsInjured"),Object(o.h)("td",null,W.dogsInjured)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsMaturity"),Object(o.h)("td",null,W.dogsMaturity)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsMedication"),Object(o.h)("td",null,W.dogsMedication)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsNoBreeding"),Object(o.h)("td",null,W.dogsNoBreeding)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsPregnant"),Object(o.h)("td",null,W.dogsPregnant)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsPuppy"),Object(o.h)("td",null,W.dogsPuppy)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsRelocation"),Object(o.h)("td",null,W.dogsRelocation)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsRetired"),Object(o.h)("td",null,W.dogsRetired)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsSick"),Object(o.h)("td",null,W.dogsSick)),Object(o.h)("tr",null,Object(o.h)("th",null,"dogsSterilized"),Object(o.h)("td",null,W.dogsSterilized)))))),Object(o.h)("div",{class:"row"},"simulate"===n&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 mb-4"},Object(o.h)("h5",null,Object(o.h)(h.c,{id:"users.connect.title"},"Finn dine venner")),Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto w-75"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(h.c,{id:"users.connect.search"},"Søk")),Object(o.h)(h.b,null,Object(o.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(o.h)(h.c,{id:"users.connect.search-placeholder"},"Søk etter venner og bekjente"),onInput:Object(d.a)(this,"searchText"),onKeyDown:this.checkForEnter}))),Object(o.h)("div",{class:"col-auto"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.search},Object(o.h)(h.c,{id:"users.connect.doSearch"},"Søk"))))),Object(o.h)("div",{class:"col-12 mt-3"},U&&U.map(t=>Object(o.h)(D.a,{stores:this.props.stores,user:t}))),Object(o.h)("div",{class:"col-12 mt-3"},Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInputGroup"},"Email"),Object(o.h)("div",{class:"input-group mb-2"},Object(o.h)("div",{class:"input-group-prepend"},Object(o.h)("div",{class:"input-group-text"},"@")),Object(o.h)("input",{type:"text",class:"form-control",id:"inlineFormInputGroup",placeholder:"Email",onInput:Object(d.a)(this,"email")}))),Object(o.h)("div",{class:"col-auto"},Object(o.h)("button",{type:"button",class:"btn btn-primary mb-2",onclick:this.simulateUser},"Simulate user"))),F&&F.map(t=>Object(o.h)("div",{class:"pointerCursor","data-email":t.email,onClick:this.simulateUserByClick},Object(o.h)("span",{class:"font-weight-lighter"},c.a.isoDate(t.date))," - ",t.title,": ",t.email," ",Object(o.h)("span",{class:"text-muted"},"(",t.url," by user: ",t.user,")"))),Object(o.h)("br",null),"isAdmin: ",JSON.stringify(x),Object(o.h)("br",null),Object(o.h)("xmp",null,"user: ",JSON.stringify(I,null,4))))))}})||n;e.default=U}.call(this,s("hosL").Fragment)},gu6k:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=(s("Utv1"),s("/eY4")),n=(s("ZOvn"),s("CLMH"));let o=Object(i.a)(a=class extends l.Component{render(){const{appState:e,adminStore:s,userStore:a}=this.props.stores,{submenu:i}=this.props,{notification:o={}}=this.state,{stats:c,userDeviceInfoPlatformCounts:r={},userDeviceInfoManufacturerCounts:h={}}=s,d=Object.keys(r).sort(),u=Object.keys(h).sort();return"accTotals"===i?Object(l.h)(t,null,Object(l.h)("h5",null,"Platforms && Manufacturers"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-platforms-"+c.length,fieldsLeft:d.map(t=>"userDeviceInfoPlatformCounts."+t),legendLeft:d,fieldsRight:u.map(t=>"userDeviceInfoManufacturerCounts."+t),legendRight:u}),Object(l.h)("h5",null,"Dogs"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-dogs-"+c.length,fieldsLeft:["totalDogs"],legendLeft:["dogs"]}),Object(l.h)("h5",null,"Users & workoutPlans"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-users-"+c.length,fieldsLeft:["totalUsers","totalWorkoutPlans"],legendLeft:["users","totalWorkoutPlans"],fieldsRight:["totalUsersGarmin","totalUsersStrava"],legendRight:["Garmin","Strava"]}),Object(l.h)("h5",null,"Users & settings"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-users-settings-"+c.length,fieldsLeft:["totalUsersProminentDisclosure","totalUsersVeterinaryAllowed","totalUsersInboxEmails","totalUsersImperial","totalUsersDarkmode"],legendLeft:["prominentDisclosure","VeterinaryAllow","InboxEmails","Imperial","Darkmode"]}),Object(l.h)("h5",null,"Users & notifications"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-users-notifications-"+c.length,fieldsLeft:["totalUsersFirebase"],legendLeft:["firebase"]}),Object(l.h)("h5",null,"User profiles"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-users-profile-"+c.length,fieldsLeft:["totalUsersCellphone","totalUsersUsername","totalUsersFirstname","totalUsersFacebook","totalUsersInstagram","totalUsersSnapchat","totalUsersUrl","totalUsersImages"],legendLeft:["totalUsersCellphone","totalUsersUsername","totalUsersFirstname","totalUsersFacebook","totalUsersInstagram","totalUsersSnapchat","totalUsersUrl","totalUsersImages"]}),Object(l.h)("h5",null,"User emails"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-users-summary-"+c.length,fieldsLeft:["totalUsersSummaryEmail","totalUsersInfoEmail","totalUsersPartnerEmail"],legendLeft:["totalUsersSummaryEmail","totalUsersInfoEmail","totalUsersPartnerEmail"],fieldsRight:["totalUsersHideProfile","totalUsersHideInvite"],legendRight:["totalUsersHideProfile","totalUsersHideInvite"]}),Object(l.h)("h5",null,"Teams & tracks"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-teams-"+c.length,fieldsLeft:["totalTeams","totalTracks"],legendLeft:["teams","tracks"]}),Object(l.h)("h5",null,"Teams & type"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-teams-types-"+c.length,fieldsLeft:["totalTeamsTypes.Tur","totalTeamsTypes.Turist","totalTeamsTypes.Sprint","totalTeamsTypes.Mellomdistanse","totalTeamsTypes.Langdistanse"],legendLeft:["Tur","Turist","Sprint","Mellomdistanse","Langdistanse"]}),Object(l.h)("h5",null,"Teams & ambitions"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-teams-ambitions-"+c.length,fieldsLeft:["totalTeamsAmbitions.Ingen ambisjoner","totalTeamsAmbitions.Glad amatør","totalTeamsAmbitions.Amatør","totalTeamsAmbitions.Seriøs amatør","totalTeamsAmbitions.Proff"],legendLeft:["Ingen ambisjoner","Glad amatør","Amatør","Seriøs amatør","Proff"]}),Object(l.h)("h5",null,"Workouts & distance"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-totalWorkouts-"+c.length,fieldsLeft:["totalWorkouts"],legendLeft:["totalWorkouts"],fieldsRight:["totalDistance"],legendRight:["totalDistance"]}),Object(l.h)("h5",null,"Distance and equipment"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-totaldistance-equipment-"+c.length,fieldsLeft:["totalDistanceEquipment.1","totalDistanceEquipment.2","totalDistanceEquipment.3","totalDistanceEquipment.4","totalDistanceEquipment.5","totalDistanceEquipment.6","totalDistanceEquipment.7","totalDistanceEquipment.8","totalDistanceEquipment.9","totalDistanceEquipment.10"],legendLeft:["slede","atv","trollvogn","ski","annen vogn","sykkel","kickbike","jogging","bil","utv"]}),Object(l.h)("h5",null,"Distance and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-totaldistance-teamsize-"+c.length,fieldsLeft:["totalDistanceTeamSize.1-2","totalDistanceTeamSize.3-6","totalDistanceTeamSize.7-10","totalDistanceTeamSize.11-14","totalDistanceTeamSize.15-18","totalDistanceTeamSize.19-22","totalDistanceTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(l.h)("h5",null,"Ascending"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-totalElevation-"+c.length,fieldsLeft:["totalElevation"],legendLeft:["totalElevation"],fieldsRight:["avgElevation"],legendRight:["avgElevation"]}),Object(l.h)("h5",null,"Ascending and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-totalelevation-teamsize-"+c.length,fieldsLeft:["totalElevationTeamSize.1-2","totalElevationTeamSize.3-6","totalElevationTeamSize.7-10","totalElevationTeamSize.11-14","totalElevationTeamSize.15-18","totalElevationTeamSize.19-22","totalElevationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(l.h)("h5",null,"Temperature"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgTemperature-"+c.length,fieldsLeft:["avgTemperature"],legendLeft:["avgTemperature"]}),Object(l.h)("h5",null,"Duration and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-totalduration-teamsize-"+c.length,fieldsLeft:["totalDurationTeamSize.1-2","totalDurationTeamSize.3-6","totalDurationTeamSize.7-10","totalDurationTeamSize.11-14","totalDurationTeamSize.15-18","totalDurationTeamSize.19-22","totalDurationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]})):"accAverages"===i?Object(l.h)(t,null,Object(l.h)("h5",null,"Avg distance and equipment"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgdistance-equipment-"+c.length,fieldsLeft:["avgDistanceEquipment.1","avgDistanceEquipment.2","avgDistanceEquipment.3","avgDistanceEquipment.4","avgDistanceEquipment.5","avgDistanceEquipment.6","avgDistanceEquipment.7","avgDistanceEquipment.8","avgDistanceEquipment.9","avgDistanceEquipment.10"],legendLeft:["slede","atv","trollvogn","ski","annen vogn","sykkel","kickbike","jogging","bil","utv"]}),Object(l.h)("h5",null,"Avg distance and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgdistance-teamsize-"+c.length,fieldsLeft:["avgDistanceTeamSize.1-2","avgDistanceTeamSize.3-6","avgDistanceTeamSize.7-10","avgDistanceTeamSize.11-14","avgDistanceTeamSize.15-18","avgDistanceTeamSize.19-22","avgDistanceTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(l.h)("h5",null,"Avg Ascending and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgelevation-teamsize-"+c.length,fieldsLeft:["avgElevationTeamSize.1-2","avgElevationTeamSize.3-6","avgElevationTeamSize.7-10","avgElevationTeamSize.11-14","avgElevationTeamSize.15-18","avgElevationTeamSize.19-22","avgElevationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(l.h)("h5",null,"Avg distance, dogs, speed & duration"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgDistance-"+c.length,fieldsLeft:["avgDistance","avgDogs","avgSpeed"],legendLeft:["avgDistance","avgDogs","avgSpeed"],fieldsRight:["avgDuration"],legendRight:["avgDuration"]}),Object(l.h)("h5",null,"Avg speed and equipment"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgspeed-equipment-"+c.length,fieldsLeft:["avgSpeedEquipment.1","avgSpeedEquipment.2","avgSpeedEquipment.3","avgSpeedEquipment.4","avgSpeedEquipment.5","avgSpeedEquipment.6","avgSpeedEquipment.7","avgSpeedEquipment.8","avgSpeedEquipment.9","avgSpeedEquipment.10"],legendLeft:["slede","atv","trollvogn","ski","annen vogn","sykkel","kickbike","jogging","bil","utv"]}),Object(l.h)("h5",null,"Avg speed and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgspeed-teamsize-"+c.length,fieldsLeft:["avgSpeedTeamSize.1-2","avgSpeedTeamSize.3-6","avgSpeedTeamSize.7-10","avgSpeedTeamSize.11-14","avgSpeedTeamSize.15-18","avgSpeedTeamSize.19-22","avgSpeedTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(l.h)("h5",null,"Avg Duration and teamsize"),Object(l.h)(n.a,{stores:this.props.stores,key:"admin-avgduration-teamsize-"+c.length,fieldsLeft:["avgDurationTeamSize.1-2","avgDurationTeamSize.3-6","avgDurationTeamSize.7-10","avgDurationTeamSize.11-14","avgDurationTeamSize.15-18","avgDurationTeamSize.19-22","avgDurationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]})):void 0}})||a;e.a=o}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:o={}}=n;return o.imperial?Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(l.h)(t,null,Object(l.h)("small",null,Object(l.h)("small",null,Object(l.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(l.h)(t,null,"ft"))):Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(e,0)," ",s?Object(l.h)(t,null,Object(l.h)("small",null,Object(l.h)("small",null,Object(l.h)("small",{class:"ml-0 text-muted"},"m")))):Object(l.h)(t,null,"m")))}})||a;e.a=o}).call(this,s("hosL").Fragment)},m4Et:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,o,c,r=s("hosL"),h=s("Utv1"),d=s("/eY4"),u=s("OhSV"),b=s("om2D"),p=s("fyMK");s("ZOvn");const m={showAddComment:!1};let O=Object(d.a)(n=class extends r.Component{constructor(...t){var e;super(...t),e=this,this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.removeImage=async function(t){const{adStore:s}=e.props.stores,{ad:a}=e.props;s.removeImage({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})},this.removeMainImage=()=>{const{ad:t,field:e,updateField:s}=this.props;s({id:t.id,field:e,value:{}})}}render(){const{saved:t,ad:e,type:s="text",rows:a,field:l,title:i,icon:n,help:o,onInput:c,updateField:d}=this.props,p=e[l];return"image"===s?Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},e.images&&e.images.map(t=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(r.h)("i",{class:"fas fa-trash"})," Del"))))),Object(r.h)(b.a,{saved:t,object:e,field:l,updateField:d,autoOpen:!1}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o)):"textarea"===s?Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("textarea",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:p,rows:a,"data-id":e.id,"data-field":l,onInput:c}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o)):"date"===s?Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("input",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:h.a.isoDate(p,!1,!1,!0),"data-id":e.id,"data-field":l,onInput:c}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o)):Object(r.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(r.h)("label",{for:l+"Input"},n&&Object(r.h)("i",{class:n+" text-muted"})," ",i),Object(r.h)("input",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:p,"data-id":e.id,"data-field":l,onInput:c}),t[`${l}.${e.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:l+"Help",class:"form-text text-muted"},o))}})||n,j=Object(d.a)(o=class extends r.Component{constructor(...t){super(...t),this.onInput=t=>{const{field:e}=this.props,s=t.target.value,{adStore:a}=this.props.stores;a.updateObjectKeyValue("newAd",e,s)}}render(){const{field:t,icon:e,title:s,help:a}=this.props,{adStore:l}=this.props.stores,{newAd:i}=l;return Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:t+"Input"},e&&Object(r.h)("i",{class:e+" text-muted"})," ",s),Object(r.h)("input",{type:"text",class:"form-control",id:t+"Input","aria-describedby":t+"Help",onInput:this.onInput,value:i[t]}),Object(r.h)("small",{id:t+"Help",class:"form-text text-muted"},a))}})||o,g=Object(d.a)(c=class extends r.Component{constructor(t){var e;super(t),e=this,this.insertAd=async function(){const{adStore:t}=e.props.stores,{newAd:s}=t;await t.insert(l({},s)),await t.loadAd({query:{showall:1}}),e.resetAd()},this.selectAd=async function(t){const s=t.target.parentElement.dataset.id||t.target.dataset.id,{adStore:a}=e.props.stores,l=await a.loadById({id:s,showall:1});a.updateKeyValue("ad",l)},this.resetAd=async function(){const{adStore:t}=e.props.stores;t.updateKeyValue("ad",{})},this.updateField=t=>{const{id:e,field:s,type:a,elementtype:l,isNew:i}=t.target.dataset,n=t.target.value;this.updateFieldValue({id:parseInt(e,10),field:s,value:n,type:a,elementtype:l,isNew:i})},this.updateFieldValue=({id:t,field:s,value:a,datatype:l,elementtype:i,isNew:n=!1,skipTimer:o=!1})=>{const{adStore:c}=this.props.stores;let r=a,h=a;const{ad:d}=c;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"array"!==l||Array.isArray(a)||(r="number"===i?a.split(",").map(t=>parseFloat(t)||t):a.split(",")),n?c.updateObjectKeyValue("newAd",s,a):(c.updateField(t,s,h),o?this.doUpdateField(t,s,r):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){e.doUpdateField(t,s,r)}),500)))},this.state=l({},m),this.updateTimer={},this.inputRef={}}async loadAd(){this.setState({isLoading:!0});const{adStore:t}=this.props.stores;await t.load({query:{showall:1},addData:["adViews","adClicks","viewCounts","clickCounts"]}),this.setState({isLoading:!1})}resetAd(){const{adStore:t}=this.props.stores;t.updateKeyValue("newAd",{})}async doUpdateField(t,e,s){const{adStore:a}=this.props.stores;await a.saveField(t,e,s)}componentDidMount(){this.loadAd()}render(){const{adStore:e}=this.props.stores,{ad:s={},ads:a=[],saved:l,viewCounts:i,clickCounts:n}=e;let o,c=[],d=[],b=[],m=[];return s&&s.id?(o=s.id,c.push("adViews."+s.id),d.push(`${s.id}: ${s.title} (${s.page})`),b.push("adClicks."+s.id),m.push(`${s.id}: ${s.title} (${s.page})`)):a&&a.length>0&&(o=a.length,a.forEach(t=>{c.push("adViews."+t.id),d.push(`${t.id}: ${t.title} (${t.page})`),b.push("adClicks."+t.id),m.push(`${t.id}: ${t.title} (${t.page})`)})),Object(r.h)(t,null,Object(r.h)("div",{class:"w-100 mb-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 mb-0 position-relative"},a&&a.length>0&&Object(r.h)(t,null,Object(r.h)("table",{class:"table table-sm table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",null,"id"),Object(r.h)("th",null,"active"),Object(r.h)("th",null,"title"),Object(r.h)("th",null,"page"),Object(r.h)("th",null,"section"),Object(r.h)("th",null,"url"),Object(r.h)("th",null,"email"),Object(r.h)("th",{class:"text-right"},"views"),Object(r.h)("th",{class:"text-right"},"clicks"),Object(r.h)("th",{class:"text-right"},"CTR"))),Object(r.h)("tbody",null,a.map(t=>Object(r.h)("tr",{"data-id":t.id,onClick:this.selectAd},Object(r.h)("td",null,t.id),Object(r.h)("td",null,t.active),Object(r.h)("td",null,t.title),Object(r.h)("td",null,t.page),Object(r.h)("td",null,t.section),Object(r.h)("td",null,t.url),Object(r.h)("td",null,t.email),Object(r.h)("td",{class:"text-right"},i[t.id]),Object(r.h)("td",{class:"text-right"},n[t.id]),Object(r.h)("td",{class:"text-right"},h.a.format(n[t.id]/i[t.id]*100,1)," %")))))))),Object(r.h)(p.a,{stores:this.props.stores,fieldsLeft:c,legendLeft:d,fieldsRight:b,legendRight:m,key:o}),Object(r.h)("div",{class:"row"},(!s||!s.id)&&Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(r.h)("button",{class:"btn btn-danger float-right",onClick:this.resetAd},Object(r.h)("i",{class:"fas fa-times"})),Object(r.h)("h5",null,"Ny annonse"),Object(r.h)(j,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.title"},"Tittel"),help:Object(r.h)(u.c,{id:"ad.title-help"},"Tittel på denne annonsen.")}),Object(r.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertAd},Object(r.h)(u.c,{id:"ad.save"},"Registrer ny annonse")))),s&&s.id&&Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(r.h)("button",{class:"btn btn-danger float-right",onClick:this.resetAd},Object(r.h)("i",{class:"fas fa-times"})),Object(r.h)("h5",null,'Endre annonse: "',s.title,'"'),Object(r.h)(O,{saved:l,ad:s,field:"title",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.title"},"Title"),help:Object(r.h)(u.c,{id:"ad.title-help"},"Title of this ad story"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"page",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.page"},"Page ('/', '/workouts/', '/workouts/detail', '/dogs', '/dogs/detail')"),help:Object(r.h)(u.c,{id:"ad.page-help"},"Page to show this ad"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"section",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.section"},"Section"),help:Object(r.h)(u.c,{id:"ad.section-help"},"Section on page to show this ad"),onInput:this.updateField}),Object(r.h)("small",null,"frontpage (/, /home-workout, /home-totals)",Object(r.h)("br",null),"/workout: (totals, seasontotals, analysis, table, workoutplan, calendar)",Object(r.h)("br",null),"/workout/detail: (current, totals, analysis, images, dogs, handlers, gpx)",Object(r.h)("br",null),"/dogs",Object(r.h)("br",null),"/dogs/detail",Object(r.h)("br",null)),Object(r.h)(O,{saved:l,ad:s,field:"url",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.url"},"URL"),help:Object(r.h)(u.c,{id:"ad.url-help"},"Ad url"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"target",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.target"},"Target"),help:Object(r.h)(u.c,{id:"ad.target-help"},"Ad url target"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"email",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.email"},"Email"),help:Object(r.h)(u.c,{id:"ad.email-help"},"Ad email"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"offline",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.offline"},"Offline"),help:Object(r.h)(u.c,{id:"ad.offline-help"},"Ad offline"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"active",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.active"},"Active"),help:Object(r.h)(u.c,{id:"ad.active-help"},"Ad active"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"startDate",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.startDate"},"Start Date"),type:"date",help:Object(r.h)(u.c,{id:"ad.startDate-help"},"Ad startDate"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"endDate",icon:"fas fa-heading",title:Object(r.h)(u.c,{id:"ad.endDate"},"End Date"),type:"date",help:Object(r.h)(u.c,{id:"ad.endDate-help"},"Ad endDate"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"body",icon:"fas fa-quote-right",type:"textarea",rows:5,title:Object(r.h)(u.c,{id:"ad.body"},"Body"),help:Object(r.h)(u.c,{id:"ad.body-help"},"Body of this ad story"),onInput:this.updateField}),Object(r.h)(O,{saved:l,ad:s,field:"image",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(r.h)(u.c,{id:"ad.photo"},"Bilder"),help:Object(r.h)(u.c,{id:"ad.photo-help"},"Images for this ad story."),onInput:this.updateField,updateField:this.updateFieldValue})))))}})||c;e.a=g}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=s("OhSV");s("ZOvn");let c=Object(n.a)(a=class extends l.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:c={}}=n;return c.imperial?Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(function(t){return.621371*t}(e),1)," ",s?Object(l.h)(t,null,Object(l.h)("small",null,Object(l.h)("small",null,Object(l.h)("small",{class:"ml-0 text-muted"},Object(l.h)(o.c,{id:"workouts.mph"},"mph"))))):Object(l.h)(t,null,Object(l.h)(o.c,{id:"workouts.mph"},"mph")))):Object(l.h)(t,null,Object(l.h)("nobr",null,i.a.format(e,1)," ",s?Object(l.h)(t,null,Object(l.h)("small",null,Object(l.h)("small",null,Object(l.h)("small",{class:"ml-0 text-muted"},Object(l.h)(o.c,{id:"workouts.kmt"},"km/t"))))):Object(l.h)(t,null,Object(l.h)(o.c,{id:"workouts.kmt"},"km/t"))))}})||a;e.a=c}).call(this,s("hosL").Fragment)},om2D:function(t,e,s){"use strict";var a,l=s("hosL"),i=s("/eY4"),n=(s("cneo"),s("Utv1"),s("u2zT"));let o=Object(i.a)(a=class extends l.Component{constructor(t){super(t),this.handleAddImage=t=>{const{addToImages:e=!0}=this.props,{updateField:s,object:a,field:l}=this.props;if(l&&s({id:a.id,field:l,value:t,skipTimer:!0}),e){const e=[];e.push(t),s({id:a.id,field:"images",value:e,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:t=(()=>{}),before:e=(()=>{}),after:s=(()=>{}),autoOpen:a=!0}=this.props;return Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)(n.a,{handleAddImage:this.handleAddImage,uploadStatus:t,apiUrl:"/api/fileupload",before:e,after:s,autoOpen:a},Object(l.h)("div",{style:{height:30,width:"100%"}}))))}})||a;e.a=o},qrn0:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{constructor(...t){var e;super(...t),e=this,this.getVeterinaryHistory=async function(){const{adminStore:t}=e.props.stores;await t.getVeterinaryHistory()},this.toggleLine=t=>{const{idx:e}=t.target.closest("tr").dataset,{showError:s={}}=this.state;s[e]=!s[e],this.setState({showError:s})}}async loadAll(){this.setState({isLoading:!0}),await this.getVeterinaryHistory(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{showError:e={}}=this.state,{adminStore:s}=this.props.stores,{veterinaryHistory:a}=s;return Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,"Veterinary searches"),Object(l.h)("div",null,Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"Date"),Object(l.h)("th",null,"Vet"),Object(l.h)("th",null,"Search"),Object(l.h)("th",null,"User"),Object(l.h)("th",null,"IP"),Object(l.h)("th",null,"UA"))),Object(l.h)("tbody",null,a.map(e=>Object(l.h)(t,null,Object(l.h)("tr",null,Object(l.h)("td",{class:"text-overflow"},e.date&&Object(l.h)(t,null,i.a.isoDate(e.date))),Object(l.h)("td",{class:"text-overflow"},e.veterinary),Object(l.h)("td",{class:"text-overflow"},e.searchText," (",e.searchResults,")"),Object(l.h)("td",{class:"text-overflow"},e.user),Object(l.h)("td",{class:"text-overflow"},e.ip),Object(l.h)("td",{class:"text-overflow"},e.ua&&Object(l.h)(t,null,e.ua.platform,", ",e.ua.os,", ",e.ua.browser," (",e.ua.version,")")))))))))}})||a;e.a=o}).call(this,s("hosL").Fragment)},u2zT:function(t,e,s){"use strict";var a,l=s("hosL"),i=s("/eY4"),n=s("Utv1"),o=s("OhSV");let c=Object(i.a)(a=class extends l.Component{constructor(t){super(t),this.dropRef=Object(l.createRef)(),this.handleDrag=t=>{t.preventDefault(),t.stopPropagation()},this.handleDragIn=t=>{t.preventDefault(),t.stopPropagation(),this.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=t=>{t.preventDefault(),t.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=t=>{if(t.preventDefault(),t.stopPropagation(),this.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(let e=0,s=t.dataTransfer.files.length;e<s;e+=1){this.readLocalFile(t.dataTransfer.files[e])}this.dragCounter=0}},this.handleAddFiles=t=>{t.preventDefault();const e=t.target;for(let t=0,s=e.files.length;t<s;t+=1){this.readLocalFile(e.files[t])}},this.handleEvent=()=>{0},this.handleUpload=t=>{const{uploadStatus:e=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;e(!1),n.a.isFunction(s)&&s();const l=new FormData;l.append("files[]",t);const i={progress:1};i.xhr=new XMLHttpRequest,i.xhr.upload.addEventListener("progress",e=>{this.updateProgress(e,t)}),i.xhr.addEventListener("loadstart",e=>{this.handleEvent(e,t)}),i.xhr.addEventListener("load",e=>{this.handleEvent(e,t)}),i.xhr.addEventListener("loadend",e=>{const s=t;n.a.isFunction(a)&&a(),this.handleEvent(e,s)}),i.xhr.addEventListener("progress",e=>{this.handleEvent(e,t)}),i.xhr.addEventListener("error",e=>{this.handleEvent(e,t)}),i.xhr.addEventListener("abort",e=>{this.handleEvent(e,t)}),i.xhr.addEventListener("readystatechange",e=>{this.uploadDone(e,t)}),i.xhr.open("POST",`${n.a.getApiServer()}${this.props.apiUrl}`),i.xhr.setRequestHeader("Authorization","Bearer "+n.a.getJwtToken()),i.xhr.send(l);const o=t.name,c=this.state.uploadedFilesData;c[o]||(c[o]={}),c[o].uploadMeta=i,c[o].imageNum=this.state.imageNum,this.setState({uploadedFilesData:c})},this.readLocalFile=t=>new Promise((e,s)=>{const a=new FileReader;a.addEventListener("error",t=>{s(t)}),a.addEventListener("load",s=>{const a=t,l=a.name,i=this.state.uploadedFilesData;i[l]||(i[l]={}),i[l].event=s,this.setState({uploadedFilesData:i}),this.handleUpload(a),e(s)}),a.readAsDataURL(t)}),this.updateProgress=(t,e)=>{if(t.lengthComputable){const s=e.name,a=this.state.uploadedFilesData,l=t.loaded/t.total*100;0,a[s].uploadMeta.progress=l,this.setState({uploadedFilesData:a})}},this.uploadDone=(t,e)=>{const s=e.name,a=this.state.uploadedFilesData,l=a[s].uploadMeta;if(l&&4===l.xhr.readyState&&201===l.xhr.status){const t=JSON.parse(l.xhr.responseText).data.files;for(let e=0;e<t.length;e+=1){this.addFileToUpload(t[e]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(t){const{uploadedFilesData:e}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete e[t.name],this.setState({uploadedFilesData:e}),s(t),a(!0)}componentDidMount(){const t=this.dropRef.current;t.addEventListener("dragenter",this.handleDragIn),t.addEventListener("dragleave",this.handleDragOut),t.addEventListener("dragover",this.handleDrag),t.addEventListener("drop",this.handleDrop);const{autoOpen:e}=this.props;e&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:t}=this.state;return Object(l.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(l.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(l.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(l.h)("div",null,Object(l.h)(o.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(l.h)("div",null,Object(l.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:t=>{this.fileInput=t}})),Object(l.h)("div",null,Object.keys(t).length>0?Object(l.h)("h3",null,Object(l.h)(o.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(l.h)("ul",{class:"list-group"},Object.keys(t).map(e=>{const{uploadMeta:s={}}=t[e],a=e.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(l.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(l.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(l.h)("img",{class:"img-fluid mr-3",src:t[e].event.target.result,style:"max-height: 50px;"}),Object(l.h)("small",null,t[e].event.uploadDone),Object(l.h)(o.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(l.h)("small",null,n.a.formatBytes(t[e].event.total,2))),Object(l.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(l.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;e.a=c},"w+AZ":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t,e){return t.count<e.count?1:t.count>e.count?-1:0}function n(t,e){return t._id<e._id?-1:t._id>e._id?1:0}var o,c=s("hosL"),r=s("Utv1"),h=s("/eY4");s("ZOvn"),s("CLMH");const d={3600:"Last hour",86400:"Last day",604800:"Last week",2592e3:"Last month",5184e3:"Last 2 months",7776e3:"Last quarter",15552e3:"Last 6 months",31104e3:"Last year"},u={};let b=Object(h.a)(o=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},u)}async loadAll(){this.setState({isLoading:!0});const{adminStore:t}=this.props.stores;await t.getDemographics(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{adminStore:e}=this.props.stores,{demographicsLanguage:s,demographicsDarkmode:a,demographicsImperial:l,demographicsVeterinary:o,demographicsFirebase:h,demographicsLocation:u,demographicsActivities:b,demographicsActivitiesPeriodes:p,demographicsTeamWorkouts:m,demographicsTeamFollowers:O,demographicsTeamDogs:j,storyViews:g,storyLikes:f,storyComments:v,storyDurationAvg:y,searchCount:k}=e;return Object(c.h)(t,null,Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-6"},Object(c.h)("h5",null,"Language"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"language"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,s&&s.sort(i).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,e.language||"Other"),Object(c.h)("td",null,e.count))))))),Object(c.h)("h5",null,"Darkmode"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"darkmode"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,a&&a.sort(i).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,e.darkmode||"Other"),Object(c.h)("td",null,e.count))))))),Object(c.h)("h5",null,"Imperial"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"imperial"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,l&&l.sort(i).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,e.imperial||"Other"),Object(c.h)("td",null,e.count))))))),Object(c.h)("h5",null,"Firebase"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"usersFirebase"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,h&&h.sort(i).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,e.firebase||"Other"),Object(c.h)("td",null,e.count))))))),Object(c.h)("h5",null,"veterinaryAllowed"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"veterinaryAllowed"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,o&&o.sort(i).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,e.veterinaryAllowed||"Other"),Object(c.h)("td",null,e.count))))))),Object(c.h)("h5",null,"Location"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"location"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,u&&u.sort(i).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,e.country||"Other"),Object(c.h)("td",null,e.count))))))),Object(c.h)("h5",null,"Activities"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"activities"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,b&&b.sort(n).map((e,s)=>{const a=r.a.isNumber(e._id)?b[s+1]:void 0;return Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?`${e._id} - ${a?""+a._id:""}`:"Other"),Object(c.h)("td",null,e.count)))})))),Object(c.h)("h5",null,"ActivitiesPeriodes"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"activity periode"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,p&&p.sort(n).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?d[""+e._id]:"Other"),Object(c.h)("td",null,e.count)))))))),Object(c.h)("div",{class:"col-6"},Object(c.h)("h5",null,"storyViews"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"created periode"),Object(c.h)("th",null,"views"))),Object(c.h)("tbody",null,g&&g.sort(n).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?d[""+e._id]:"Other"),Object(c.h)("td",null,e.views))))))),Object(c.h)("h5",null,"storyLikes"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"created periode"),Object(c.h)("th",null,"likes"))),Object(c.h)("tbody",null,f&&f.sort(n).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?d[""+e._id]:"Other"),Object(c.h)("td",null,e.likes))))))),Object(c.h)("h5",null,"storyComments"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"created periode"),Object(c.h)("th",null,"comments"))),Object(c.h)("tbody",null,v&&v.sort(n).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?d[""+e._id]:"Other"),Object(c.h)("td",null,e.comments))))))),Object(c.h)("h5",null,"storyDurationAvg"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"created periode"),Object(c.h)("th",null,"durationAvg"))),Object(c.h)("tbody",null,y&&y.sort(n).map(e=>Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?d[""+e._id]:"Other"),Object(c.h)("td",null,Math.floor(e.durationAvg/1e3)," s")))))))),Object(c.h)("div",{class:"col-6"},Object(c.h)("h5",null,"TeamWorkouts"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"workouts"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,m&&m.sort(n).map((e,s)=>{const a=r.a.isNumber(e._id)?m[s+1]:void 0;return Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?`${e._id} - ${a?""+a._id:""}`:"Other"),Object(c.h)("td",null,e.count)))})))),Object(c.h)("h5",null,"TeamFollowers"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"followers"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,O&&O.sort(n).map((e,s)=>{const a=r.a.isNumber(e._id)?O[s+1]:void 0;return Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?`${e._id} - ${a?""+a._id:""}`:"Other"),Object(c.h)("td",null,e.count)))})))),Object(c.h)("h5",null,"TeamDogs"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"dogs"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,j&&j.sort(n).map((e,s)=>{const a=r.a.isNumber(e._id)?j[s+1]:void 0;return Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,r.a.isDefined(e._id)?`${e._id} - ${a?""+a._id:""}`:"Other"),Object(c.h)("td",null,e.count)))}))))),Object(c.h)("div",{class:"col-6"},Object(c.h)("h5",null,"Search"),Object(c.h)("div",{class:"table-responsive mb-5"},Object(c.h)("table",{class:"table table-striped table-sm"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"searchText"),Object(c.h)("th",null,"count"))),Object(c.h)("tbody",null,k&&k.sort(i).map(e=>{const s=e.searchText.replace(/^search\./,"");return Object(c.h)(t,null,Object(c.h)("tr",null,Object(c.h)("td",null,s||"Other"),Object(c.h)("td",null,e.count)))})))))))}})||o;e.a=b}).call(this,s("hosL").Fragment)},xNCi:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4"),o=s("OhSV"),c=(s("ZOvn"),s("bbv7"));let r=Object(o.d)(()=>({week:Object(l.h)(o.c,{id:"workout.graph.week"}),distance:Object(l.h)(o.c,{id:"workout.graph.distance"}),ascend:Object(l.h)(o.c,{id:"workout.graph.ascend"}),plan:Object(l.h)(o.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends l.Component{render(){const{fieldsLeft:e=[],legendLeft:s=[],fieldsRight:a=[],legendRight:n=[],showDebug:o,xTicksVal:r=(t=>i.a.isoDate(t,!1,!1,!0)),xTicksCnt:h=5,yTicksLeftVal:d=(t=>t),yTicksRightVal:u=(t=>t)}=this.props,{adminStore:b}=this.props.stores,p=e.map(t=>i.a.getNestedValue(b,t)||[]),m=a.map(t=>i.a.getNestedValue(b,t)||[]),O=p&&p[0]?p[0]:[],j=[];if(O.length){const t=Math.ceil(O.length/(h-1)),e=Math.floor(O.length/t);o&&console.log({firstData:O,parts:e,partSize:t});for(let e=0,s=O.length;e<s;e+=t)j.push(O[e].epoch);j.push(O[O.length-1].epoch)}return Object(l.h)(t,null,Object(l.h)("div",{class:"w-100 mt-3 mb-4"},Object(l.h)(c.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicksVal:r,xTicks:j,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!1,lineFromXmax:!1,dataLeft:p,legendLeft:s,showYTicksLeft:1,yTicksLeftVal:d,avgWindowLeft:[2,2,2,2,2,2,2,2,2,2,2,2],smoothLeft:[1,1,1,1,1,1,1,1,1,1],dataRight:m,legendRight:n,showYTicksRight:m.length>0?1:0,yTicksRightVal:u,avgWindowRight:[0,0,0,0,0,0,0,0,0,0],smoothRight:[1,1,1,1,1,1,1,1,1,1],scrollToRight:!0})))}})||a)||a;e.a=r}).call(this,s("hosL").Fragment)},zVFP:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(n.a)(a=class extends l.Component{constructor(...t){var e;super(...t),e=this,this.loadErrors=async function(){const{adminStore:t}=e.props.stores;await t.getErrors()},this.toggleLine=t=>{const{idx:e}=t.target.closest("tr").dataset,{showError:s={}}=this.state;s[e]=!s[e],this.setState({showError:s})}}async loadAll(){this.setState({isLoading:!0}),await this.loadErrors(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{showError:e={}}=this.state,{adminStore:s}=this.props.stores,{errors:a}=s;return Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,"Klient errors"),Object(l.h)("div",null,Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"#"),Object(l.h)("th",null,"Date"),Object(l.h)("th",null,"User"),Object(l.h)("th",null,"Location"),Object(l.h)("th",null,"Error"))),Object(l.h)("tbody",null,a.map((s,a)=>Object(l.h)(t,null,Object(l.h)("tr",{class:"pointerCursor",onClick:this.toggleLine,"data-idx":a},Object(l.h)("td",null,a+1),Object(l.h)("td",{class:"text-overflow"},i.a.isoDate(s.timestamp)),Object(l.h)("td",{class:"text-overflow"},s.user.email),Object(l.h)("td",{class:"text-overflow"},s.location.href),Object(l.h)("td",null,Object(l.h)("strong",null,s.error.name,":")," ",s.error.message,Object(l.h)("br",null),e[a]&&Object(l.h)("xmp",null,s.error.stack.replace(/\\n/g,"\n"))))))))))}})||a;e.a=o}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=63.chunk.805af.esm.js.map