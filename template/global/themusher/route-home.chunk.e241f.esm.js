(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+1Jk":function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o,i=s("hosL"),l=s("Utv1"),r=s("/eY4"),n=s("OhSV"),h=(s("X9Km"),s("ZOvn")),d=(s("XPU5"),s("ZWUU"),s("CE5K"),s("qv+O"),s("0SNj")),b=s("9Bb9"),m=s("pJjI"),u=s("L3gU"),p=s("AEg1"),O=s("gOLw"),j=s("w93r");const f=h.a.marginTop(!0),g=h.a.marginBottom(),w=h.a.subMenuMarginTop(),v={isLoading:!1,submenu:"lastWorkouts"};let k=Object(r.a)(o=class extends i.Component{constructor(t){super(t),this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},v)}async loadAll(){const{appState:t,userStore:e}=this.props.stores;this.setState({isLoading:!0}),await t.getFingerprint(),await e.getInfo(),await e.getNotifications(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{viewmenu:e}=this.props,{userStore:s,appState:a,workoutStore:c}=this.props.stores,{darkmode:o}=a,{isAdmin:r,user:h}=s,{yrWeather:v,currentLocationGeocode:k={}}=h,{formatted_address:x}=k,{currentTeam:y,cordovaActiveTrackingParams:S,isRunning:D,totalDistance:L,currentSpeed:P,totalTime:I}=c;return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${g}; margin-top: ${f};`},Object(i.h)("div",{class:"row fixed-top",style:`margin-top: ${w}; background-color: ${o?"#191d21":"#f8f9fa"};`},r&&Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-user-shield"})," ",Object(i.h)(n.c,{id:"home.admin"},"Admin")))),Object(i.h)("div",{class:"col text-center subtopmenu border-bottom border-primary"},Object(i.h)("a",{href:"/",class:"text-primary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(n.c,{id:"home.dashboard"},"Dashboard")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(n.c,{id:"home.feed"},"Feed")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/todo",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-list"})," ",Object(i.h)(n.c,{id:"home.todo"},"Todo"))))),D&&S&&Object(i.h)(t,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(i.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(i.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(i.h)("div",{class:"row mb-3"},Object(i.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},l.a.secToHms(I)),Object(i.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},l.a.format(3.6*P,1)," km/t"),Object(i.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},l.a.format(L/1e3,2)," km")),Object(i.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(i.h)(n.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),Object(i.h)("div",{class:"bg-light"},Object(i.h)(j.a,{stores:this.props.stores,data:v,place:x})),h.id&&Object(i.h)(p.a,{stores:this.props.stores}),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col px-1 pt-2"},Object(i.h)("a",{class:`btn btn-block ${"wall"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wall",href:"/home-wall"},Object(i.h)("i",{class:"fas fa-comments"})," ",Object(i.h)(n.c,{id:"home.wall"},"Veggen"))),Object(i.h)("div",{class:"col px-1 pt-2"},Object(i.h)("a",{class:`btn btn-block ${"workout"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workout",href:"/home-workout"},Object(i.h)("i",{class:"fas fa-running"}),"  ",Object(i.h)(n.c,{id:"home.workouts"},"Treninger"))),Object(i.h)("div",{class:"col px-1 pt-2"},Object(i.h)("a",{class:`btn btn-block ${"totals"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",href:"/home-totals"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(n.c,{id:"home.totals"},"Totaler"))))),"wall"===e&&Object(i.h)(t,null,Object(i.h)(O.a,{stores:this.props.stores})),"workout"===e&&Object(i.h)(t,null,Object(i.h)(u.a,{stores:this.props.stores})),"totals"===e&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(i.h)(m.a,{stores:this.props.stores}),Object(i.h)(d.a,{stores:this.props.stores,currentTeam:y}),Object(i.h)(b.a,{stores:this.props.stores,currentTeam:y}))))}})||o;e.default=k}.call(this,s("hosL").Fragment)},L3gU:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,l=s("hosL"),r=s("Utv1"),n=s("/eY4"),h=s("cneo"),d=s("OhSV"),b=s("fh8t"),m=s.n(b),u=(s("X9Km"),s("1OK2"),s("sqi2")),p=s("/922"),O=s("eQ6k"),j=s("VKmm"),f=s("rWES"),g=s("epqT"),w=s("ZOvn");const v={showAddComment:{},viewImageIdx:{},likeWorkout:{},idxSuggestion:0,idxAd:4};let k=Object(n.a)(i=class extends l.Component{constructor(t){var e;super(t),e=this,this.subscriptions=()=>{},this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.likeWorkout=async function(t){const s=parseInt(t.target.closest(".workoutImage").dataset.id,10),{workoutStore:a}=e.props.stores,{likeWorkout:c}=e.state;c[s]=!0,e.setState({likeWorkout:c}),setTimeout(()=>{const{likeWorkout:t}=e.state;delete t[s],e.setState({likeWorkout:t})},1200);const o=await a.likeWorkout({id:s});o&&200===o.status&&e.addLikeToFeed(s,o.data)},this.addCommentToFeed=({type:t,workout:e,response:s,commentId:a,replyId:c})=>{const{teamStore:o}=this.props.stores;switch(t){case"likeComment":o.addLikeToComment({id:e.id,data:s.data,commentId:a});break;case"likeReply":o.addLikeToCommentReply({id:e.id,data:s.data,commentId:a,replyId:c});break;default:a?o.addCommentToWorkoutComment({id:e.id,data:s.data,commentId:a}):o.addCommentToWorkout({id:e.id,data:s.data})}},this.addLikeToFeed=(t,e)=>{const{teamStore:s}=this.props.stores;s.addLikeToWorkout({id:t,data:e})},this.toggleAddComment=t=>{const e=t.target.closest("button").dataset.id,{showAddComment:s}=this.state;s[e]?delete s[e]:s[e]=!0,this.setState({showAddComment:s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[e]=s,this.setState({viewImageIdx:a})},this.shareLink=t=>{const{url:e,title:s,text:a}=t.target.closest("button").dataset,{appState:c}=this.props.stores;c.shareUrl({url:e,title:s,text:a})},this.state=c({},v),this.inputRef={},this.subscriptions()}async loadTeamsPublicFeed(t=this.props){const{teamStore:e}=t.stores;await e.loadPublicFeed()}async loadAll(){await this.loadTeamsPublicFeed()}componentDidMount(){this.loadAll()}render(){const{showAddComment:e,showDate:s,viewImageIdx:a={},likeWorkout:o,idxSuggestion:i,idxAd:n}=this.state,{teamStore:b,userStore:v,appState:k}=this.props.stores,{user:x,isAdmin:y}=v,{language:S="no"}=x,{publicTeamsFeed:D}=b,{darkmode:L,hasShareApi:P,path:I}=k;let E=!1,T=!1;return Object(l.h)("div",{class:"w-100"},Object(l.h)(f.a,{stores:this.props.stores}),D&&D.map((f,k)=>{const D=b.findPublicTeam(f.team)||{};let C;D.image&&D.image.s3SmallLink?C=D.image:D.images&&D.images[0]&&D.images[0].s3SmallLink&&(C=D.images[0]);const{likes:A,comments:W}=f,R=f.likes&&f.likes.findIndex(t=>t.user===x.id)>-1,$=D&&D.followers?D.followers.length:0,F=D.members&&D.members.indexOf(x.id)>-1,z=D&&D.followers&&D.followers.indexOf(x.id)>-1,U=D.followRequests&&D.followRequests.findIndex(t=>t.id===x.id)>-1,q=[];if(f.mapImage&&q.push(c(c({},f.mapImage),{},{type:"map"})),f.images){const t=Object(h.i)(f.images);q.push(...t)}const M=a[f.id]?a[f.id]:0,K=q&&q[M]?q[M]:null,{currentLocationGeocode:V={},yrWeather:X=[]}=f;return D&&D.name?(k===i&&(E=!0),k===n&&(T=!0),Object(l.h)(t,null,k===i&&Object(l.h)(t,null,Object(l.h)(j.a,{stores:this.props.stores})),k===n&&Object(l.h)(t,null,Object(l.h)(g.a,{stores:this.props.stores,path:I})),Object(l.h)("div",{class:"row pb-4 bg-light"},Object(l.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${L?"black":"white"} shadow-sm`},Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:C?`background-image: url("${C.s3SmallLink}"); background-size: cover;`:""},!C&&Object(l.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},D.public?Object(l.h)(t,null,Object(l.h)("a",{href:"/teams/public/"+D.uuidv4},D.name)):Object(l.h)(t,null,D.name)),Object(l.h)("div",null,f.date&&Object(l.h)("small",{class:"text-muted",onClick:this.toggleDate},s?r.a.formatDate(f.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):r.a.formatDistance(f.date,new Date,{locale:"no-NB"})),1===f.public?Object(l.h)(t,null,Object(l.h)("small",{class:"ml-2 text-muted"},Object(l.h)("i",{class:"fas fa-globe-europe"}))):Object(l.h)(t,null,Object(l.h)("small",{class:"ml-2 text-muted"},Object(l.h)("i",{class:"fas fa-users"})," (",r.a.format($),")")),Object(l.h)("small",{class:"text-muted"},f.equipment>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-tools ml-2"})," ",v.findEquipment(f.equipment)||f.equipment),f.dogs>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",f.dogs.length),f.track>0&&Object(l.h)(t,null,Object(l.h)("i",{class:`fas fa-map-marked text-${f.track>0?"success":"danger"} ml-2`})),f.sledWeight>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",r.a.format(f.sledWeight,0)," kg"),0!==f.temperature&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-temperature-low ml-2"})," ",f.temperature,"°C")),y&&V&&V.formatted_address&&Object(l.h)(t,null,Object(l.h)("small",{class:"ml-2 text-muted"},Object(l.h)("i",{class:"fas fa-map-marker-alt"})," ",V.formatted_address))))),Object(l.h)("div",{class:"row mt-2"},Object(l.h)("div",{class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;"},Object(l.h)(m.a,{markdown:w.a.replaceImages(f.name,f.images,S),markdownOpts:w.a.getMarkdownOptions()})),Object(l.h)("div",{class:"clearfix col-12"},Object(l.h)(m.a,{markdown:w.a.replaceImages(f.comment,f.images,S),markdownOpts:w.a.getMarkdownOptions()}))),Object(l.h)("div",{class:"row mt-1"},f.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(d.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},r.a.format(B=f.distanceKm,B<5?2:1),"km")),f.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(d.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},r.a.format(f.elevation,0),"m")),f.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(d.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},r.a.secToHms(f.duration,!0))),f.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(d.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},r.a.format(f.speedAvg,1),"km/t"))),Object(l.h)("div",{class:"container-fluid px-0 mt-1"},K&&Object(l.h)("div",{class:"clearfix row position-relative"},Object(l.h)("div",{class:"workoutImage col-12 px-0 overflow-hidden",style:"max-height: 50vh;",onDblclick:this.likeWorkout,"data-id":f.id},Object(l.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:K.s3XLargeLink})),o[f.id]&&Object(l.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(l.h)("i",{class:"fas fa-heart likeStory"}))),q&&q.length>1&&Object(l.h)("div",{class:"clearfix d-flex flex-wrap row"},q.map((e,s)=>Object(l.h)(t,null,Object(l.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px;"},Object(l.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:this.viewImage,"data-id":f.id,"data-idx":s})))))),Object(l.h)("div",{class:"mt-2"},A&&A.length>0&&Object(l.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(l.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",A.length),W&&W.length>0&&Object(l.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(l.h)("i",{class:"fas fa-comment text-primary"})," ",W.length)),!F&&!z&&!U&&Object(l.h)("div",{class:"clearfix mb-2"},Object(l.h)(O.a,{stores:this.props.stores,team:D,buttonOnly:!0})),Object(l.h)("div",null,Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:`workoutImage btn btn-sm btn-outline-${R?"primary":"secondary"} btn-lg btn-block ${R?"text-primary":""} text-overflow`,"data-id":f.id,onClick:this.likeWorkout},Object(l.h)("i",{class:(R?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(d.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":f.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(d.c,{id:"comments.comment-add"},"Kommentar"))),P?Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+f.uuidv4,"data-title":"title: "+f.title},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(d.c,{id:"story.share"},"Del")))):Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+f.uuidv4,target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(d.c,{id:"story.share"},"Del")))))),Object(l.h)("div",{class:"mt-2"},e[f.id]&&Object(l.h)(p.a,{stores:this.props.stores,workout:f,inputRef:t=>this.inputRef[f.id]=t,inputRefObject:this.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:this.addCommentToFeed}),Object(l.h)(u.a,{stores:this.props.stores,workout:f,col:"12",offset:"0",compact:!1,callback:this.addCommentToFeed})))))):"";var B}),!E&&Object(l.h)(t,null,Object(l.h)(j.a,{stores:this.props.stores})),!T&&Object(l.h)(t,null,Object(l.h)(g.a,{stores:this.props.stores,path:I})))}})||i;e.a=k}).call(this,s("hosL").Fragment)},ZWUU:function(t,e,s){"use strict";var a,c=s("hosL"),o=(s("Utv1"),s("/eY4")),i=s("OhSV");s("go65");Object(o.a)(a=class extends c.Component{constructor(...t){var e;super(...t),e=this,this.toggleSetting=async function(t){const{userStore:s}=e.props.stores,{user:a}=s,{settings:c={}}=a;await s.updateSetting({["settings."+t]:1===c[t]?0:1})},this.hideSettings=async function(){const{userStore:t}=e.props.stores;await t.updateSetting({"settings.hideSettings":1}),e.setState({hideSettings:!0})}}render(){const{hideSettings:t}=this.state,{userStore:e}=this.props.stores,{forceShow:s}=this.props,{user:a}=e,{settings:o={}}=a;return t||o.hideSettings||!s&&o.summaryEmails&&o.infoEmails&&o.partnerEmails?"":Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(c.h)("h5",null,Object(c.h)(i.c,{id:"users.settings"},"Brukerinnstillinger")),!o.summaryEmails&&Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-4 text-muted text-right"},Object(c.h)(i.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(c.h)("div",{class:"col-8"},Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:()=>this.toggleSetting("summaryEmails"),checked:o.summaryEmails}),Object(c.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(c.h)("small",{class:"text-muted"},Object(c.h)(i.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!o.infoEmails&&Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-4 text-muted text-right"},Object(c.h)(i.c,{id:"users.settings-info-email"},"Info")),Object(c.h)("div",{class:"col-8"},Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:()=>this.toggleSetting("infoEmails"),checked:o.infoEmails}),Object(c.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(c.h)("small",{class:"text-muted"},Object(c.h)(i.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!o.partnerEmails&&Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-4 text-muted text-right"},Object(c.h)(i.c,{id:"users.settings-partner-email"},"Partners")),Object(c.h)("div",{class:"col-8"},Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:()=>this.toggleSetting("partnerEmails"),checked:o.partnerEmails}),Object(c.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(c.h)("small",{class:"text-muted"},Object(c.h)(i.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post")))),Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-12 text-muted"},Object(c.h)("small",null,Object(c.h)("a",{href:"/users"},Object(c.h)("i",{class:"fas fa-sliders-h"})," ",Object(c.h)(i.c,{id:"users.settings-text-info"},"Innstillingene finner du inne på profilen din."))))),Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-12 text-muted text-right"},Object(c.h)("small",null,Object(c.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(c.h)("i",{class:"fas fa-eye-slash"})," ",Object(c.h)(i.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))}})},"qv+O":function(t,e,s){"use strict";(function(t){function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t="",e,s="no"){if(l.a.isString(t)){let a=t;const c=new RegExp(`<${s}>(.*?)</${s}>`,"s").exec(a);if(c){const t=c[0];t&&(a=t)}return a.replace(/\{\{img\.(\d+)\s*(\d*)\}\}/g,(function(t,s,a){return l.a.isObject(e[s])?`<img src=${e[s].s3XXLargeLink} class='img-fluid float-right' style='width: ${a||40}%;' />`:""}))}return t}var o,i=s("hosL"),l=s("Utv1"),r=s("/eY4"),n=s("OhSV"),h=s("fh8t"),d=s.n(h);s("ZOvn");const b={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},m={isLoading:!1};Object(r.a)(o=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?e(Object(c),!0).forEach((function(e){a(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}({},m)}async loadRace(t=this.props){this.setState({isLoading:!0});const{raceStore:e}=t.stores;await e.load({query:{}}),this.setState({isLoading:!1})}componentDidMount(){this.loadRace()}componentWillReceiveProps(t){this.loadRace(t)}render(){const{appState:e,userStore:s,raceStore:a,newsStore:o}=this.props.stores,{isAdmin:r,notifications:h=[]}=s,{races:m}=a,{newsList:u}=o,{language:p="no"}=e;return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(n.c,{id:"races.homerun"},"Homerun races"))),(m||0===m.length)&&Object(i.h)("div",{class:"col-12 text-center py-5"},Object(i.h)("h5",null,"No upcoming races!"),"Take a look at the previous races:",Object(i.h)("br",null),Object(i.h)("a",{href:"https://homerunrace.no/",target:"_blank",rel:"noreferrer"},"homerunrace.no")),m&&m.sort((t,e)=>t.startDate-e.startDate).reverse().map(e=>{const s=new Date;let a="";if(s>=new Date(e.startDate)&&s<=new Date(e.endDate))a="race";else if(s>=new Date(e.signupStartDate)&&s<=new Date(e.signupEndDate))a="signup";else if(s>new Date(e.endDate))return Object(i.h)(t,null);return Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-6 mb-3"},Object(i.h)("div",{class:"card position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===a&&Object(i.h)(t,null,Object(i.h)("span",null,Object(i.h)("i",{class:"fas fa-check text-success"})))),Object(i.h)("h5",{class:"card-header"},r&&Object(i.h)("i",{class:`fas fa-eye${e.active?" text-success":"-slash text-danger"} float-right`}),e.title),Object(i.h)("div",{class:"list-thumb d-flex align-items-center position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===a&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(i.h)(n.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===a&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(i.h)(n.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===a&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-success border border-white ml-2"},Object(i.h)(n.c,{id:"races.race-finished"},"Løp avsluttet")))),e.images&&e.images[0]?Object(i.h)("img",{src:e.images[0].s3MediumLink,class:"card-img-top"}):""),Object(i.h)("div",{class:"card-body"},Object(i.h)("p",{class:"card-text"},Object(i.h)(d.a,{markdown:c(e.ingress,e.images,p),markdownOpts:b})),e.classes&&Object(i.h)(t,null,Object(i.h)("div",{class:"mb-3"},Object(i.h)("small",{class:"font-weight-lighter mr-2"},Object(i.h)(n.c,{id:"races.classes"},"Klasser"),": "),Object(i.h)("br",null),e.classes.sort((t,e)=>t.distance-e.distance).map(e=>Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},e.title))))),Object(i.h)("a",{href:"/app-races/"+e.id,class:"btn btn-primary stretched-link"},Object(i.h)(n.c,{id:"races.read-more"},"Les mer"))),Object(i.h)("div",{class:"card-footer"},Object(i.h)("small",{class:"text-muted"},Object(i.h)(n.c,{id:"races.race-days"},"Løpsdager"),": ",e.startDate&&Object(i.h)(t,null,l.a.formatDate(e.startDate,{locale:p})),e.endDate&&Object(i.h)(t,null," - ",l.a.formatDate(e.endDate,{locale:p})))))))}))}})}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-home.chunk.e241f.esm.js.map