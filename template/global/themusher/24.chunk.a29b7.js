(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{VKmm:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s,i=r("hosL"),c=r("Utv1"),a=r("/eY4"),l=r("OhSV"),d=(r("ZOvn"),r("eQ6k"),{requestSent:{}}),u=Object(a.a)(s=function(e){function t(t){var r;return(r=e.call(this,t)||this).requestFollowTeam=function(e){var t=r.props.stores,n=t.teamStore,o=t.userStore.user,s=e.target.closest("button").dataset.team;n.followRequest(parseInt(s,10),o);var i=r.state.requestSent;i[s]=!0,r.setState({requestSent:i})},r.getButton=function(e){var t=r.state.requestSent,n=r.props.stores.userStore.user,o=e.members&&e.members.findIndex((function(e){return e.id===n.id}))>-1,s=e.followers&&e.followers.indexOf(n.id)>-1,c=e.blockedFollowers&&e.blockedFollowers.indexOf(n.id)>-1,a=t[e.id]||e.followRequests&&e.followRequests.findIndex((function(e){return e.id===n.id}))>-1;return o?Object(i.h)("i",{class:"fas fa-home"}):s?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:r.unFollowTeam,disabled:"true","data-team":e.id},Object(i.h)("i",{class:"fas fa-link mr-2"}),Object(i.h)(l.c,{id:"teams.connect.is-following"},"Følger")):c?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hand-paper mr-2"}),Object(i.h)(l.c,{id:"teams.connect.is-blocked"},"Blokkert")):a?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(i.h)(l.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:r.requestFollowTeam,"data-team":e.id},Object(i.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(i.h)(l.c,{id:"teams.connect.follow"},"Følg"))},r.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},d),r}var r,s;s=e,(r=t).prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s;var a=t.prototype;return a.loadTeams=function(){return new Promise(function(e,t){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.loadPublic({query:{notfollowing:1,array:1},limit:15})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},a.componentDidMount=function(){this.loadTeams()},a.render=function(){var e=this,t=this.props.stores,r=t.teamStore.publicTeamsToFollow,n=t.appState.darkmode;return r&&0!==r.length?Object(i.h)("div",{class:"row pb-1 bg-light"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-"+(n?"black":"white")+" shadow-sm"},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(l.c,{id:"teams.connect.teams-to-follow"},"Team du kan følge"),":"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},c.a.isArray(r)&&r.map((function(t){var r=t.image&&t.image.s3SmallLink?t.image:null;return Object(i.h)("div",{class:"mr-2",style:"width: 110px;"},Object(i.h)("div",{class:"text-center border rounded-lg",style:r?'background-image: url("'+r.s3SmallLink+'"); background-size: cover; width: 110px; height: 100px;':"width: 110px; height: 100px;"},!r&&Object(i.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(i.h)("small",null,Object(i.h)("div",{class:"text-overflow"},Object(i.h)("strong",null,t.name)),Object(i.h)("div",{class:"text-overflow"},t.place?t.place+", ":""," ",t.country,"  "),Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",{class:"text-muted"},t&&t.dogs&&Object(i.h)("span",{class:""},Object(i.h)("i",{class:"fas fa-dog"})," ",t.dogs.length),t&&t.followers&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-user"})," ",t.followers.length)))),Object(i.h)("div",null,e.getButton(t)))}))))))):""},t}(i.Component))||s;t.a=u},epqT:function(e,t,r){"use strict";(function(e){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s,i=r("hosL"),c=r("Utv1"),a=r("/eY4"),l=r("OhSV"),d=(r("ZOvn"),{showAddComment:!1}),u=Object(l.d)((function(){return{subject:Object(i.h)(l.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(i.h)(l.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}}))(s=Object(a.a)(s=function(t){function r(e){var r;return(r=t.call(this,e)||this).logClick=function(){return new Promise((function(e,t){var n,o,s,i,c;return i=void 0===(s=(o=(n=r.props.stores).adStore).ads)?[]:s,c=n.userStore.user,Promise.resolve(o.logClick({id:i.length>0?i[0].id:null,user:(void 0===c?{}:c).id})).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},r.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},d),r.updateTimer={},r.inputRef={},r.apiServer=c.a.getApiServer(),r}var s,a;a=t,(s=r).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var u=r.prototype;return u.loadAd=function(e){return new Promise(function(t,r){var n,o,s,i,c,a,l,d,u,b,h;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),o=(n=this.props.stores).adStore,i=this.props.section,a=void 0===(c=n.appState.path)?"":c,u=void 0===(d=(s=n.userStore).user.language)?"en":d,b={},(l=n.workoutStore.currentTeam)&&(b=s.findTeam(l,!0))&&b.id&&(s.findTeamAmbition({ambition:b.ambitions,language:u}),s.findTeamType({type:b.type,language:u}),b.postalcode,b.place,b.country),a.replace(/\d+$/,"detail"),h=a.replace(/\/\d+/,"/detail"),Promise.resolve(o.load({query:{page:h,section:i}})).then(function(){try{return o.setTime(),this.setState({isLoading:!1}),t()}catch(e){return r(e)}}.bind(this),r)}.bind(this))},u.componentDidMount=function(){this.loadAd()},u.componentWillReceiveProps=function(e){e.path!==this.props.path&&this.loadAd(e)},u.render=function(){var t=this.props.stores,r=t.adStore,n=this.props,o=n.subject,s=n.body,c=n.section,a=t.appState.path,d=t.userStore.user,u=void 0===d?{}:d,b=r.ads,h=void 0===b?[]:b,f=r.time;if(!u||!u.id||!h||0===h.length)return a.match(/\/(home)/i)?Object(i.h)(e,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(l.b,null,Object(i.h)("a",{href:"mailto:post@themusher.no?subject="+o+": "+a+": "+c+"&body="+s,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(e,null);var p=h[0];return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:this.apiServer+"/api/ads/"+p.id+"/view?user="+u.id+"&time="+f,style:"width: 1; height: 1; opacity: 0.1;"})))),p.target?Object(i.h)(e,null,Object(i.h)("a",{class:"stretched-link",href:""+p.url,target:p.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},p.images&&p.images[0]&&Object(i.h)(e,null,Object(i.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(e,null,Object(i.h)("a",{class:"stretched-link",href:""+p.url,onClick:this.logClick},p.images&&p.images[0]&&Object(i.h)(e,null,Object(i.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))},r}(i.Component))||s)||s;t.a=u}).call(this,r("hosL").Fragment)},rWES:function(e,t,r){"use strict";(function(e){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s,i=r("hosL"),c=r("Utv1"),a=r("/eY4"),l=r("OhSV"),d=r("ZOvn"),u=(r("eQ6k"),{confirmed:{},deleted:{}}),b=Object(a.a)(s=function(t){function r(e){var r;return(r=t.call(this,e)||this).confirmRequest=function(e){var t=e.target.closest("button").dataset,n=t.team,o=t.user,s=t.follow,i=r.props.stores.teamStore;i.confirmFollowRequest({team:parseInt(n,10),user:parseInt(o,10)});var c=r.state.confirmed;c[n+"-"+o]=!0,r.setState({confirmed:c}),s&&i.followRequestUser(o)},r.deleteRequest=function(e){var t=e.target.closest("button").dataset,n=t.team,o=t.user;r.props.stores.teamStore.deleteFollowRequest({team:parseInt(n,10),user:parseInt(o,10)});var s=r.state.deleted;s[n+"-"+o]=!0,r.setState({deleted:s})},r.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u),r}var s,a;a=t,(s=r).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var b=r.prototype;return b.loadTeams=function(){return new Promise(function(e,t){return Promise.resolve(this.props.stores.teamStore.load({query:{},addData:["followRequests"]})).then((function(){try{return e()}catch(e){return t(e)}}),t)}.bind(this))},b.componentDidMount=function(){this.loadTeams()},b.render=function(){var t=this,r=this.state,n=r.deleted,o=void 0===n?{}:n,s=r.confirmed,a=void 0===s?{}:s,u=this.props.stores,b=u.teamStore,h=b.teams,f=b.followRequests,p=void 0===f?[]:f,m=u.appState.darkmode;return b.hasFollowRequests?Object(i.h)("div",{class:"row pb-1"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-"+(m?"black":"white")+" shadow-sm"},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(l.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},c.a.isArray(h)&&h.map((function(r){return Object(i.h)(e,null,r&&c.a.isArray(r.followRequests)&&r.followRequests.map((function(n){var s=n.image&&n.image.s3SmallLink?n.image:null,c=o[r.id+"-"+n.id],u=a[r.id+"-"+n.id],b=p.find((function(e){return e.user.id===n.id}));return Object(i.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:s?'background-image: url("'+s.s3SmallLink+'");':""},!s&&Object(i.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},d.a.displayNameShort(n))),Object(i.h)("small",null,Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,d.a.displayName(n)),Object(i.h)("br",null)),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)(l.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,d.a.displayName(r)))),u||c?Object(i.h)(e,null,Object(i.h)("div",{class:"text-center"},u?Object(i.h)("div",{class:"text-success"},Object(i.h)(l.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(i.h)("i",{class:"fas fa-check"})):Object(i.h)("div",{class:"text-danger"},Object(i.h)(l.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(i.h)("i",{class:"fas fa-trash-alt"})))):Object(i.h)(e,null,Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:t.confirmRequest,"data-team":r.id,"data-user":n.id},Object(i.h)(l.c,{id:"teams.connect.confirm"},"Confirm")),b&&b.public>0&&Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:t.confirmRequest,"data-team":r.id,"data-user":n.id,"data-follow":!0},Object(i.h)(l.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(i.h)("div",{class:"mt-3"},Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:t.deleteRequest,"data-team":r.id,"data-user":n.id},Object(i.h)(l.c,{id:"teams.connect.delete"},"Del")))))))})))})))),Object(i.h)("details",{class:"mt-3"},Object(i.h)("summary",null,Object(i.h)("small",null,Object(i.h)(l.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(i.h)("p",null,Object(i.h)(l.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""},r}(i.Component))||s;t.a=b}).call(this,r("hosL").Fragment)},yHBq:function(e,t,r){"use strict";(function(e){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s,i,c=r("hosL"),a=r("/eY4"),l=r("Utv1"),d=Object(a.a)(s=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={},r.containerRef=null,r}o(t,e);var r=t.prototype;return r.componentWillUnmount=function(){var e=this.props.removeIntersectionObserver;e&&e(this.containerRef)},r.componentDidMount=function(){var e=this.props.addIntersectionObserver;e&&e(this.containerRef)},r.render=function(){var e=this,t=this.props,r=t.wrapperClassNames,o=void 0===r?"":r,s=t.contentClassNames,i=void 0===s?"":s,a=t.renderContent,l=t.obj,d=void 0===l?{}:l,u=t.idx,b=t.dataFields,h=t.dataValues,f=t.sessionid,p={};return f&&(p.sessionid=f),b.forEach((function(e){return p["data-"+e]=encodeURI(h[e]||d[e])})),Object(c.h)("div",n({class:""+o,ref:function(t){return e.containerRef=t},"data-idx":u},p),Object(c.h)("div",{class:""+i,style:"display: block;"},a({obj:d,idx:u})))},t}(c.Component))||s,u=Object(a.a)(i=function(t){function r(e){var r;return(r=t.call(this,e)||this).deleteIntersectionObserver=function(){r.intersectionObserver=null},r.handleIntersection=function(e){var t=r.props.handleIntersection;"function"==typeof t&&t(e),e.forEach((function(e){var t=e.isIntersecting,r=e.target.dataset.height,n=void 0===r?0:r,o=Math.max(e.target.childNodes[0].offsetHeight,e.target.offsetHeight,e.target.scrollHeight);t?(e.target.childNodes[0].style.display="block",e.target.style.minHeight=(o>n?o:n)+"px"):e.target.style.minHeight&&(e.target.style.minHeight=(o>n?o:n)+"px",e.target.childNodes[0].style.display="none")}))},r.setupIntersectionObserver=function(){if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;r.intersectionObserver=new IntersectionObserver(r.handleIntersection,{root:null,rootMargin:"100px",threshold:.1})},r.addIntersectionObserver=function(e){r.intersectionObserver&&e&&r.intersectionObserver.observe(e)},r.removeIntersectionObserver=function(e){r.intersectionObserver&&e&&r.intersectionObserver.unobserve(e)},r.state={},r}o(r,t);var n=r.prototype;return n.componentWillMount=function(){this.setupIntersectionObserver()},n.componentWillUnmount=function(){this.deleteIntersectionObserver()},n.render=function(){var t=this,r=this.props,n=r.data,o=void 0===n?[]:n,s=r.wrapperClassNames,i=void 0===s?"row pb-4 bg-light":s,a=r.contentClassNames,u=void 0===a?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 shadow-sm":a,b=r.renderContent,h=void 0===b?function(){return Object(c.h)(e,null,"Missing render function!")}:b,f=r.dataFields,p=void 0===f?[]:f,m=r.dataValues,O=void 0===m?{}:m;return Object(c.h)("div",{class:"w-100"},o&&o.filter((function(e){return l.a.isObject(e)})).map((function(r,n){var o=r.hasOwnProperty("wrapperClassNames")?r.wrapperClassNames:i,s=r.hasOwnProperty("contentClassNames")?r.contentClassNames:u;return Object(c.h)(e,null,Object(c.h)(d,{key:"fastline-"+n+"-"+r.id,obj:r,idx:n,addIntersectionObserver:t.addIntersectionObserver,removeIntersectionObserver:t.removeIntersectionObserver,wrapperClassNames:o,contentClassNames:s,renderContent:h,dataFields:p,dataValues:O}))})))},r}(c.Component))||i;t.a=u}).call(this,r("hosL").Fragment)}}]);
//# sourceMappingURL=24.chunk.a29b7.js.map