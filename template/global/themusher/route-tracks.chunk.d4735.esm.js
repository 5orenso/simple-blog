(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"4imK":function(t,e,s){"use strict";(function(t){var a,r=s("hosL"),o=s("Utv1"),c=s("/eY4"),n=s("OhSV"),i=s("nHdA"),l=s("irB3"),h=(s("UwwE"),s("8Lgr"));s("QkTp");let b=Object(c.a)(a=class extends r.Component{constructor(...t){var e;super(...t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.ignoreGarminWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{garminActivityDetailsStore:a}=e.props.stores;await a.ignoreWorkout(s),e.loadGarminActivities()},this.importGarminWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{asTrack:a}=e.props,{garminActivityDetailsStore:r,workoutStore:o}=e.props.stores,{currentTeam:c}=o;a?await r.importTrack(s,c):await r.importWorkout(s,c),e.loadGarminActivities(),e.loadWorkouts()},this.loadWorkouts=async function(){const{workoutStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s}})},this.toggleDetail=()=>{const{showDetail:t=!1}=this.state;this.setState({showDetail:!t})}}async loadGarminActivities(){const{garminActivityDetailsStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentDidMount(){this.loadGarminActivities()}render(){const{showDate:e,showDetail:s=!1}=this.state,{activities:a=[],showDate:c,asTrack:b=!1}=this.props,{userStore:u,workoutStore:m}=this.props.stores,{currentTeam:d}=m,{team:p}=u,O=u.findTeam(d||p.id);return s?Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 mb-3"},Object(r.h)("div",{class:"row"},a&&a.length>0&&Object(r.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(r.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(r.h)("i",{class:"fas fa-caret-up"})," ",Object(r.h)(n.c,{id:"garmin.hide-list"},"Hide list")),Object(r.h)("h5",null,Object(r.h)(n.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",a.length),a&&a.map(s=>{const{summary:a={}}=s,u=o.a.parseInputDate(a.startTimeInSeconds);return Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/garmin-connect.png"); border-width: 3px !important;'}," "),Object(r.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},a.deviceName),a.activityType,Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},u&&Object(r.h)("small",{onClick:this.toggleDate},c||e?o.a.formatDate(u,{locale:"no-NB"}):o.a.formatDistance(u,new Date,{locale:"no-NB"})),Object(r.h)("span",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-road ml-2"})," ",Object(r.h)(h.a,{stores:this.props.stores,value:a.distanceInMeters/1e3}),Object(r.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(r.h)(l.a,{stores:this.props.stores,value:a.totalElevationGainInMeters}),Object(r.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(r.h)(i.a,{stores:this.props.stores,value:3.6*a.averageSpeedInMetersPerSecond}),Object(r.h)("i",{class:"fas fa-stopwatch ml-2"})," ",o.a.secToHms(a.durationInSeconds))),Object(r.h)("br",null),Object(r.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:this.importGarminWorkout,"data-id":s.id},Object(r.h)("i",{class:"fas fa-file-import"})," ",b?Object(r.h)(n.c,{id:"garmin.import-track"},"Import as track"):Object(r.h)(t,null,Object(r.h)(n.c,{id:"garmin.import"},"Import workout")," ",Object(r.h)("i",{class:"fas fa-arrow-right"})," ",O)),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.ignoreGarminWorkout,"data-id":s.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," ",Object(r.h)(n.c,{id:"garmin.ignore"},"Ignore workout")))))}),Object(r.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(r.h)("i",{class:"fas fa-caret-up"})," ",Object(r.h)(n.c,{id:"garmin.hide-list"},"Hide list")))))):a&&a.length>0?Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 mb-3"},Object(r.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(r.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),Object(r.h)(n.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",a.length))):Object(r.h)(t,null)}})||a;e.a=b}).call(this,s("hosL").Fragment)},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return c.a.format(t,t<5?2:1)}var r,o=s("hosL"),c=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let i=Object(n.a)(r=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:r}=this.props.stores,{user:c}=r,{settings:n={}}=c;return n.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a(function(t){return.621371*t}(e))," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(o.h)(t,null,"mi"))):Object(o.h)(t,null,Object(o.h)("nobr",null,a(e)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"km")))):Object(o.h)(t,null,"km")))}})||r;e.a=i}).call(this,s("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},QkTp:function(t,e,s){"use strict";(function(t){var a,r=s("hosL"),o=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(c.a)(a=class extends r.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:c={}}=a;return c.imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(function(t){return 9*t/5+32}(e),0),"°F")):Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(e,1),"°C"))}})||a;e.a=n}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var a,r=s("hosL"),o=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(c.a)(a=class extends r.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:c={}}=a;return c.imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(e,0)," kg"))}})||a;e.a=n}).call(this,s("hosL").Fragment)},bUJL:function(t,e,s){"use strict";(function(t){var a,r=s("hosL"),o=s("Utv1"),c=s("/eY4"),n=s("OhSV"),i=s("nHdA"),l=s("irB3"),h=(s("UwwE"),s("8Lgr"));s("QkTp");let b=Object(c.a)(a=class extends r.Component{constructor(...t){var e;super(...t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.ignoreStravaWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{stravaActivityStore:a}=e.props.stores;await a.ignoreWorkout(s),e.loadStravaActivities()},this.importStravaWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{stravaActivityStore:a,workoutStore:r}=e.props.stores,{currentTeam:o}=r;await a.importWorkout(s,o),e.loadStravaActivities(),e.loadWorkouts()},this.loadWorkouts=async function(){const{workoutStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s}})},this.toggleDetail=()=>{const{showDetail:t=!1}=this.state;this.setState({showDetail:!t})}}async loadStravaActivities(){const{stravaActivityStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentDidMount(){this.loadStravaActivities()}render(){const{showDate:e,showDetail:s=!1}=this.state,{activities:a,showDate:c}=this.props,{userStore:b,workoutStore:u}=this.props.stores,{currentTeam:m}=u,{team:d}=b,p=b.findTeam(m||d.id);return s?Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 mb-3"},Object(r.h)("div",{class:"row"},a&&a.length>0&&Object(r.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(r.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(r.h)("i",{class:"fas fa-caret-up"})," ",Object(r.h)(n.c,{id:"strava.hide-list"},"Hide list")),Object(r.h)("h5",null,Object(r.h)(n.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",a.length),a&&a.map(s=>{const{summary:a={}}=s;o.a.parseInputDate(a.startTimeInSeconds);return Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/strava-icon.png"); border-width: 3px !important;'}," "),Object(r.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},s.name),s.type,Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},s.start_date&&Object(r.h)("small",{onClick:this.toggleDate},c||e?o.a.formatDate(s.start_date,{locale:"no-NB"}):o.a.formatDistance(s.start_date,new Date,{locale:"no-NB"})),Object(r.h)("span",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-road ml-2"})," ",Object(r.h)(h.a,{stores:this.props.stores,value:s.distance/1e3}),Object(r.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(r.h)(l.a,{stores:this.props.stores,value:s.total_elevation_gain}),Object(r.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(r.h)(i.a,{stores:this.props.stores,value:3.6*s.average_speed}),Object(r.h)("i",{class:"fas fa-stopwatch ml-2"})," ",o.a.secToHms(s.elapsed_time))),Object(r.h)("br",null),Object(r.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:this.importStravaWorkout,"data-id":s.id},Object(r.h)("i",{class:"fas fa-file-import"})," ",Object(r.h)(n.c,{id:"strava.import"},"Import workout")," ",Object(r.h)("i",{class:"fas fa-arrow-right"})," ",p),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.ignoreStravaWorkout,"data-id":s.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," ",Object(r.h)(n.c,{id:"strava.ignore"},"Ignore workout")))))}),Object(r.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(r.h)("i",{class:"fas fa-caret-up"})," ",Object(r.h)(n.c,{id:"strava.hide-list"},"Hide list")))))):a&&a.length>0?Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 mb-3"},Object(r.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(r.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),Object(r.h)(n.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",a.length))):Object(r.h)(t,null)}})||a;e.a=b}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,r=s("hosL"),o=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let n=Object(c.a)(a=class extends r.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:c}=a,{settings:n={}}=c;return n.imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(r.h)(t,null,"ft"))):Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(e,0)," ",s?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"m")))):Object(r.h)(t,null,"m")))}})||a;e.a=n}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,r=s("hosL"),o=s("Utv1"),c=s("/eY4"),n=s("OhSV");s("ZOvn");let i=Object(c.a)(a=class extends r.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:c}=a,{settings:i={}}=c;return i.imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(function(t){return.621371*t}(e),1)," ",s?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},Object(r.h)(n.c,{id:"workouts.mph"},"mph"))))):Object(r.h)(t,null,Object(r.h)(n.c,{id:"workouts.mph"},"mph")))):Object(r.h)(t,null,Object(r.h)("nobr",null,o.a.format(e,1)," ",s?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},Object(r.h)(n.c,{id:"workouts.kmt"},"km/t"))))):Object(r.h)(t,null,Object(r.h)(n.c,{id:"workouts.kmt"},"km/t"))))}})||a;e.a=i}).call(this,s("hosL").Fragment)},nKYJ:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o,c=s("hosL"),n=(s("Utv1"),s("/eY4")),i=s("OhSV"),l=s("go65"),h=s("w8dD"),b=(s("bUJL"),s("4imK")),u=s("ZOvn");const m=u.a.marginTop(!0),d=u.a.marginBottom(),p=u.a.subMenuMarginTop(),O={isLoading:!1};let j=Object(n.a)(o=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},O)}async loadTracks(){this.setState({isLoading:!0});const{trackStore:t,userStore:e,messageStore:s}=this.props.stores;await t.load(),await e.getNotifications(),await s.getUnReadMessages(),this.setState({isLoading:!1})}async loadStravaActivities(){const{stravaActivityStore:t}=this.props.stores;t.load({query:{hideImported:1}})}async loadGarminActivities(){const{garminActivityDetailsStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentDidMount(){this.loadTracks(),this.loadGarminActivities()}render(){const{scrolledDown:e}=this.props,{isLoading:s,searchText:a}=this.state,{trackStore:r,userStore:o,appState:n,workoutStore:u,stravaActivityStore:O,garminActivityDetailsStore:j}=this.props.stores,{tracks:g}=r,{user:f}=o,{darkmode:v}=n,{currentTeam:k}=u,{stravaActivities:w=[]}=O,{garminActivityDetails:y=[]}=j;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${d}; margin-top: ${m};`},Object(c.h)("div",{class:"row fixed-top pt-2",style:`margin-top: ${e>0?0:p}; background-color: ${v?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(c.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(c.h)("a",{href:"/tracks/",class:"text-primary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-map-marked"})," ",Object(c.h)(i.c,{id:"tracks.your-tracks"},"Dine runder")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("a",{href:"/tracks/public",class:"text-secondary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-map-marked"})," ",Object(c.h)(i.c,{id:"tracks.public-tracks"},"Offentlige runder"))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,Object(c.h)(i.c,{id:"tracks.all-tracks",fields:{total:g.length}},"Treningsrundene dine - ",g.length," stk"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-2"},Object(c.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/tracks/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(i.c,{id:"tracks.add-new"},"Legg til runde"))),!s&&g&&0===g.length&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(c.h)("div",{class:"text-center mb-5"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-map-marked"})),Object(c.h)("h5",null,Object(c.h)(i.c,{id:"tracks.no-tracks-yet"},"Ingen runder er registrert ennå."))),Object(c.h)("p",{class:"text-center"},Object(c.h)("p",null,Object(c.h)(i.c,{id:"tracks.no-tracks-info-1"},"Du har mulighet til å laste opp GPX-filer fra rundene dine.")),Object(c.h)("p",null,Object(c.h)(i.c,{id:"tracks.no-tracks-info-2"},"Det finnes mange apper som lar deg lage GPX-filer, men vi anbefaler"),":"),"ViewRanger for ",Object(c.h)("a",{href:"https://apps.apple.com/gb/app/viewranger-hike-ride-or-walk/id404581674"},"iOS")," and  ",Object(c.h)("a",{href:"https://play.google.com/store/apps/details?id=com.augmentra.viewranger.android&hl=en"},"Android"),"."),Object(c.h)(i.c,{id:"tracks.howto-title"},"Slik kommer du i gang"),":",Object(c.h)("ol",null,Object(c.h)("li",null,Object(c.h)(i.c,{id:"tracks.howto-1"},'Trykk på knappen "Legg til runde" rett nedenfor.')))))),f&&f.garmin&&Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(c.h)("div",{class:"row mt-3"},f&&f.garmin&&Object(c.h)(t,null,Object(c.h)(b.a,{stores:this.props.stores,activities:y,asTrack:!0,key:`garmin-${k}-${y.length}`}))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(c.h)("div",{class:"d-flex justify-content-center py-3"},Object(c.h)(i.b,null,Object(c.h)("input",{class:"form-control form-control mr-2",type:"search",placeholder:Object(c.h)(i.c,{id:"header.search-placeholder"},"Søk etter det meste..."),value:a,onInput:Object(l.a)(this,"searchText")}))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},g&&g.filter(t=>!a||new RegExp(a,"i").test(t.name)).map(t=>Object(c.h)(h.a,{stores:this.props.stores,track:t})))))}})||o;e.default=j}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-tracks.chunk.d4735.esm.js.map