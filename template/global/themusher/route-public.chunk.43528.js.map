{"version":3,"sources":["webpack:///./components/public/heatmap.js","webpack:///./routes/public/index.js"],"names":["initialState","showAddComment","Heatmap","observer","props","state","updateTimer","inputRef","loadHeatmap","this","setState","isLoading","stores","adminStore","getPublicHeatmap","componentDidMount","render","heatmap","publicHeatmap","length","mapId","minZoom","height","Component","MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","subMenuMarginTop","email","submenu","jwtToken","util","getJwtToken","Admin","class","style"],"mappings":"4gBAUMA,G,UAAe,CACpBC,gBAAgB,IAIXC,EADLC,Y,cAEG,WAAYC,GAAO,aACf,cAAMA,IAAN,MACKC,M,+VAAL,IACOL,GAEP,EAAKM,YAAc,GACzB,EAAKC,SAAW,GANK,E,0HAShBC,YAAN,4CAGO,OAFNC,KAAKC,SAAS,CAAEC,WAAW,IAErB,gBADiBF,KAAKL,MAAMQ,OAA1BC,WACeC,oBAAjB,KAAmC,sBACzCL,KAAKC,SAAS,CAAEC,WAAW,IADc,0CAH1C,a,EAOAI,kBAAA,WACCN,KAAKD,e,EAGHQ,OAAA,WAAS,IAEkBC,EADAR,KAAKL,MAAMQ,OAA1BC,WACAK,cAKR,OACI,mBAEKD,EAAQE,OAAS,GAAK,YAAC,IAAD,CACnBP,OAAQH,KAAKL,MAAMQ,OACnBQ,MAAOH,EAAQE,OACfF,QAASA,EACTI,QAAS,EACTC,OAAQ,Q,GApCNC,e,EA2CPrB,Q,sfCjDTsB,EAAaC,IAAGC,WAAU,GAC1BC,EAAgBF,IAAGG,eAGnB5B,GAFsByB,IAAGI,mBAEV,CACpBlB,WAAW,EACXmB,MAAO,GACPC,QAAS,MACTC,SAAUC,IAAKC,gBAIVC,EADLhC,Y,cAEG,WAAYC,GAAO,aACf,cAAMA,IAAN,MACKC,M,+VAAL,IACOL,GAHQ,E,kHAOtBgB,OAAA,WACC,OACC,mBAAKoB,MAAM,kBAAkBC,MAAK,kBAAoBV,EAApB,iBAAkDH,EAAlD,KACjC,mBAAKY,MAAM,qBACP,mBAAKA,MAAM,UACK,YAAC,IAAD,CAASxB,OAAQH,KAAKL,MAAMQ,a,GAbhCW,e,EAqBLY","file":"route-public.chunk.43528.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport { toJS } from 'mobx'\n\nimport Map from '../../components/map';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n\tshowAddComment: false,\n};\n\n@observer\nclass Heatmap extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n    }\n\n\tasync loadHeatmap() {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { adminStore } = this.props.stores;\n        await adminStore.getPublicHeatmap();\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadHeatmap();\n\t}\n\n    render() {\n        const { adminStore } = this.props.stores;\n        const { publicHeatmap: heatmap } = adminStore;\n        // const heatmap = publicHeatmap.slice(0, 10);\n        // const heatmap = [[60.4433,8.8996,14],[61.384,9.1152,14],[60.42,8.9422,15]];\n\n\n        return (\n            <>\n                {/* {JSON.stringify(heatmap)} */}\n                {heatmap.length > 0 && <Map\n                    stores={this.props.stores}\n                    mapId={heatmap.length}\n                    heatmap={heatmap}\n                    minZoom={2}\n                    height={800}\n                />}\n            </>\n        );\n    }\n}\n\nexport default Heatmap;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkstate from 'linkstate';\n\nimport Heatmap from '../../components/public/heatmap';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n\tisLoading: false,\n\temail: '',\n\tsubmenu: 'ads',\n\tjwtToken: util.getJwtToken(),\n};\n\n@observer\nclass Admin extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row border-bottom'>\n    \t\t\t\t<div class='col-12'>\n                        <Heatmap stores={this.props.stores} />\n                    </div>\n                </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Admin;\n"],"sourceRoot":""}