(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),c=(s("Utv1"),s("/eY4")),i={},l=Object(c.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},i),s.container=null,s}var s,r;r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var c=e.prototype;return c.componentDidMount=function(){var t=this.props,e=t.horizontal,s=t.vertical,a=void 0===s?"":s,o={behavior:"smooth"};e&&(o.inline=e),a&&(o.block=a),this.container.scrollIntoView(o)},c.render=function(){var t=this;return Object(n.h)("div",{ref:function(e){return t.container=e}}," ")},e}(n.Component))||r;e.a=l},"/F9p":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=(s("Utv1"),s("/eY4")),n=s("OhSV"),c=(s("ZOvn"),s("bbv7")),i=Object(r.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,r;return r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,s.prototype.render=function(){var e=this.props.stores.teamStore,s=e.graphFitness,a=e.graphFatigue,r=e.graphForm;if(!s||0===s.length)return"";for(var i=r.map((function(t){return t.date})),l=Math.floor(i.length/4),h=[],d=0,u=i.length;d<u;d+=l)h.push(i[d]);return h[h.length-1]=i[i.length-1],Object(o.h)(t,null,Object(o.h)("h5",null,Object(o.h)(n.c,{id:"teams.fitness"},"Form og belastning")),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(n.b,null,Object(o.h)(c.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicks:h,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:[s,a],dataFillLeft:[1],legendLeft:[Object(o.h)(n.c,{id:"teams.legend-fitness"},"Fitness"),Object(o.h)(n.c,{id:"teams.legend-fatigue"},"Fatigue")],dataRight:[r],legendRight:[Object(o.h)(n.c,{id:"teams.legend-form"},"Form")],showYTicksLeft:1,avgWindowLeft:[0,0],smoothLeft:[0,0],showYTicksRight:1,scrollToRight:!0}))))},s}(o.Component))||a;e.a=i}).call(this,s("hosL").Fragment)},"0SNj":function(t,e,s){"use strict";var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),i=s("irB3"),l=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),Object(n.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).state={},s}var s,a;a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var n=e.prototype;return n.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeams(t)).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},n.loadTeams=function(t){return new Promise(function(e,s){var a,o,r,n,c,i;return void 0===t&&(t=this.props),a=t.stores.teamStore,o=(new Date).getMonth()+1,r=(new Date).getFullYear(),c=(n=t).month,i=n.year,Promise.resolve(a.load({query:{team:n.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===i?r:i,month:void 0===c?o:c},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},n.componentDidMount=function(){this.loadAll()},n.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},n.render=function(){var t=this.props.stores.teamStore,e=(new Date).getMonth()+1,s=(new Date).getFullYear(),a=this.props,n=a.month,h=a.year,d=void 0===h?s:h,u=a.currentTeam,b=a.currentSeason,m=a.prevSeason,p=parseInt((void 0===n?e:n)<8?d-1:d,10),f=m||(u?t.findWorkoutSummary(u,p-1):t.findWorkoutSummaryTotal(p-1))||{},O=b||(u?t.findWorkoutSummary(u,p):t.findWorkoutSummaryTotal(p))||{};return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2 border-top"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",p,"-",p+1),Object(o.h)("h3",null,Object(o.h)(l.a,{stores:this.props.stores,value:O.distanceKm||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",p-1,"-",p),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(l.a,{stores:this.props.stores,value:f.distanceKm||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",p,"-",p+1),Object(o.h)("h3",null,Object(o.h)(i.a,{stores:this.props.stores,value:O.elevation||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",p-1,"-",p),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(i.a,{stores:this.props.stores,value:f.elevation||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",p,"-",p+1),Object(o.h)("h3",null,r.a.secToHms(O.duration||0))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",p-1,"-",p),Object(o.h)("h3",{class:"text-muted"},r.a.secToHms(f.duration||0)))),Object(o.h)("div",{class:"row mt-2 border-bottom"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",p,"-",p+1),Object(o.h)("h3",null,Object(o.h)(c.a,{stores:this.props.stores,value:O.speedAvg||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",p-1,"-",p),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(c.a,{stores:this.props.stores,value:f.speedAvg||0,smallUnit:!0})))))},e}(o.Component))||a);e.a=h},"6GRK":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=s("/eY4"),l=(s("cneo"),s("Utv1")),h=s("OhSV"),d=s("go65"),u=Object(i.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).handleAdd=function(){var t=s.props;(0,t.updateField)({id:t.object.id,field:t.field,value:o({},s.state.data)}),s.setState({data:{name:"",url:""}})},s.removeLink=function(t){return new Promise((function(e){var a=s.props.stores.dogStore,o=s.props.object,r=t.target.closest("button").dataset;return a.removeLink({id:o.id,name:r.name,linkId:r.id}),e()}))},s.state={data:{}},s}var a,r;return r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,s.prototype.render=function(){var e=this,s=this.props,a=s.showFiles,o=void 0===a||a,r=s.object,n=void 0===r?{}:r;return Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 mt-3"},o&&Object(c.h)(t,null,Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},(!n.links||0===n.links.length)&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-link"})),Object(c.h)("h3",null,Object(c.h)(h.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(c.h)(h.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),n.links&&n.links.map((function(t){return Object(c.h)("div",{class:"col-12 p-1"},Object(c.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(t.createdDate,!1,!1,!0)),Object(c.h)("span",{class:"mr-2"},t.name),Object(c.h)("span",{class:"mr-2"},t.url),Object(c.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:e.removeLink,"data-name":t.name,"data-id":t.id},Object(c.h)("i",{class:"fas fa-trash-alt"})," Del"))})))))),Object(c.h)("div",{class:"col-12 mt-3"},Object(c.h)("details",null,Object(c.h)("summary",null,Object(c.h)(h.c,{id:"dogs.link-add"},"Add new link")),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"name"},Object(c.h)(h.c,{id:"dogs.link-name"},"Name")),Object(c.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"data.name")}),Object(c.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.link-name-help"},"Name of link"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"url"},Object(c.h)(h.c,{id:"dogs.link-url"},"Url")),Object(c.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(d.a)(this,"data.url")}),Object(c.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.link-url-help"},"URL of link"))),Object(c.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(c.h)(h.c,{id:"dogs.link-add"},"Add link")))))},s}(c.Component))||n;e.a=u}).call(this,s("hosL").Fragment)},"9Bb9":function(t,e,s){"use strict";var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=s("ETxl"),l=s.n(i),h=s("ZOvn"),d=Object(n.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).loadWorkoutPlans=function(t){return new Promise((function(e,a){function o(){return e()}var r,n,c,i,l,h,d,u,b,m;return void 0===t&&(t=s.props),r=t.stores.workoutPlanStore,n=(new Date).getMonth()+1,c=(new Date).getFullYear(),h=void 0===(l=(i=t).year)?c:l,d=i.month,u=i.currentTeam,b=parseInt(h||((void 0===d?n:d)<8?h-1:h),10),u?Promise.resolve(r.load({query:{team:u,seasonYear:b,seasonMonth:6}})).then(function(){try{if((m=r.workoutPlans[0]||{}).id)return Promise.resolve(r.load(m.id)).then(function(){try{return t.call(this)}catch(t){return a(t)}}.bind(this),a);function t(){return o.call(this)}return t.call(this)}catch(t){return a(t)}}.bind(this),a):o.call(this)}))},s.state={},s}var s,a;a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var n=e.prototype;return n.loadAll=function(t){return new Promise(function(e){return void 0===t&&(t=this.props),e()}.bind(this))},n.loadTeams=function(t){return new Promise(function(e,s){var a,o,r,n,c,i;return void 0===t&&(t=this.props),a=t.stores.teamStore,o=(new Date).getMonth()+1,r=(new Date).getFullYear(),c=(n=t).month,i=n.year,Promise.resolve(a.load({query:{team:n.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===i?r:i,month:void 0===c?o:c},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},n.loadWorkoutSummary=function(t){return new Promise(function(e,s){var a;return void 0===t&&(t=this.props),a=t,Promise.resolve(t.stores.userStore.getWorkoutSummary({team:a.currentTeam,year:a.year,dog:a.dog})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},n.componentDidMount=function(){this.loadAll()},n.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},n.render=function(){var t,e=this.props,s=e.currentTeam,a=this.props.stores,n=a.userStore,i=a.workoutPlanStore,d=a.teamStore,u=i.workoutPlan,b=n.user.language,m=h.a.getMonths(void 0===b?"en":b),p=d.findTeam(s)||{},f=(new Date).getMonth()+1,O=(new Date).getFullYear(),j=this.props,g=j.year,v=void 0===g?O:g,y=j.month,w=parseInt((void 0===y?f:y)<8?v-1:v,10),k=r.a.monthRange(w+"-08-01",w+1+"-07-31");return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("h5",null,Object(o.h)("span",{style:"display: none;"},u.id),Object(o.h)(c.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(o.h)("div",{class:"row mt-2 border-bottom pb-2"},k&&k.map((function(e){if(e.year>v||e.year===v&&e.month>=e)return"";var s=i.sumWorkoutPlanMonth(e.year,e.month+1);if(!s)return"";t=s;var a=n.findWorkoutSummaryMonth(e.year,e.month+1)/s*100,c=a>100?100:r.a.format(a,0);return Object(o.h)("div",{class:"col-3 text-center"},Object(o.h)("div",{class:"px-auto w-100 clearfix"},Object(o.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(o.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+c+"%; width: 40px;","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},r.a.format(a,0),"%"))),Object(o.h)("div",{class:"w-100 mt-1"},m[e.month]," ",e.year))})),!t&&Object(o.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"far fa-sad-tear"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"workout.plan.no-workout-plan-found",fields:{name:p.name}},"Ingen treningsplaner funnet for team ",p.name,".")),Object(o.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(o.h)("i",{class:"fas fa-calendar-alt"})," ",Object(o.h)(c.c,{id:"workout.plan.new"},"New workoutplan")))))},e}(o.Component))||a;e.a=d},"Gx/q":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=(s("OhSV"),s("nHdA")),i=s("irB3"),l=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn")),d=Object(n.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).removeUser=function(t){return new Promise((function(e,a){var o,r,n;return r=t.target.dataset.email,n=t.target.dataset.team,!(o=t.target.dataset.id)&&t.target.parentNode&&(o=t.target.parentNode.dataset.id,r=t.target.parentNode.dataset.email,n=t.target.parentNode.dataset.team),console.log("id, email, team",o,r,n),Promise.resolve(s.props.stores.teamStore.removeMember(n,{id:o,email:r})).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.adminUpdateUser=function(t){var e=t.target.closest("input").dataset.email+"-"+t.target.name;clearTimeout(s.updateTimer[e]),s.updateTimer[e]=setTimeout((function(){s.doAdminUpdateUser(t)}),500)},s.doAdminUpdateUser=function(t){return new Promise((function(e,a){var o,r,n;return r=t.target.closest("input").dataset.email,n=t.target,Promise.resolve(s.props.stores.userStore.adminUpdateUser(r,(o={},o[n.name]=n.value,o))).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.simulateUser=function(t){var e=t.target.closest("button").dataset.email;s.props.stores.userStore.getSimulateUser(e)},s.state={},s.updateTimer={},s}var a,n;return n=e,(a=s).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n,s.prototype.render=function(){var e=this.props,s=e.user,a=e.team,n=void 0===a?{}:a,d=this.props.stores,u=d.userStore,b=d.teamStore,m=u.user,p=u.isAdmin,f=u.findTeams(s.teams),O=b.findMusherSummary(s.id,n.id)||{},j=n.user===m.id,g=h.a.getImage({user:s,team:n}),v=h.a.displayName(s);return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:g?"background-image: url('"+g+"'); background-size: cover;":""},!g&&Object(o.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(o.h)("h5",null,v),Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("div",{class:"d-flex justify-content-left"},s.cellphone&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-mobile-alt"})," ",s.cellphone),s.email&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-envelope ml-3"})," ",s.email),s.url&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asUrl(s.url),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fas fa-link"}))),s.facebook&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asFacebookLink(s.facebook),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-facebook"}))),s.instagram&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asInstagramLink(s.instagram),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-instagram"}))),s.snapchat&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asSnapchatLink(s.snapchat),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-snapchat"})))))),p&&Object(o.h)(t,null,Object(o.h)("button",{class:"btn btn-block btn-success",onClick:this.simulateUser,"data-email":s.email},"Simulate user"),Object(o.h)("small",null,Object(o.h)("details",null,Object(o.h)("summary",null,"settings"),Object(o.h)("xmp",null,JSON.stringify(s.settings,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"subscription"),Object(o.h)("xmp",null,JSON.stringify(s.subscription,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"deviceInfo"),Object(o.h)("xmp",null,JSON.stringify(s.deviceInfo,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"subscription"),Object(o.h)("xmp",null,JSON.stringify(s.subscription,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"notifications"),Object(o.h)("xmp",null,JSON.stringify(s.notifications,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"notificationTopics"),Object(o.h)("xmp",null,JSON.stringify(s.notificationTopics,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"applications"),Object(o.h)("xmp",null,JSON.stringify(s.applications,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"shadowTags"),Object(o.h)("xmp",null,JSON.stringify(s.shadowTags,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"garmin"),Object(o.h)("xmp",null,JSON.stringify(s.garmin,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"strava"),Object(o.h)("xmp",null,JSON.stringify(s.strava,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"currentLocationGeocode"),Object(o.h)("xmp",null,JSON.stringify(s.currentLocationGeocode,null,4))),"lastActivityEpoch: ",r.a.isoDate(s.lastActivityEpoch),Object(o.h)("br",null),"activities: ",r.a.format(s.activities),Object(o.h)("br",null),s.settings&&Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:s.settings.veterinaryAllowed?0:1,id:"settings.veterinaryAllowed-"+s.id,name:"settings.veterinaryAllowed",checked:s.settings.veterinaryAllowed?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"settings.veterinaryAllowed-"+s.id},"settings.veterinaryAllowed")),Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:s.twoFactorLogin?0:1,id:"twoFactorLogin-"+s.id,name:"twoFactorLogin",checked:s.twoFactorLogin?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"twoFactorLogin-"+s.id},"twoFactorLogin")),Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:s.isVeterinary?0:1,id:"isVeterinary-"+s.id,name:"isVeterinary",checked:s.isVeterinary?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"isVeterinary-"+s.id},"isVeterinary")),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"cellphone-"+s.id},"cellphone"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"cellphone-"+s.id,name:"cellphone",class:"form-control",value:s.cellphone,"data-email":s.email,onInput:this.adminUpdateUser}))),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"firstname-"+s.id},"firstname"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"firstname-"+s.id,name:"firstname",class:"form-control",value:s.firstname,"data-email":s.email,onInput:this.adminUpdateUser}))),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"lastname-"+s.id},"lastname"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"lastname-"+s.id,name:"lastname",class:"form-control",value:s.lastname,"data-email":s.email,onInput:this.adminUpdateUser}))))),s.teams&&Object(o.h)(t,null,f.map((function(t){return Object(o.h)("span",{class:"badge badge-pill badge-info mr-2"},t.name)})),Object(o.h)("br",null)),n.id&&O&&Object(o.h)(t,null,Object(o.h)("small",{class:"text-muted"},"Total:",O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:O.distanceKm})),O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(i.a,{stores:this.props.stores,value:O.elevation})),O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",r.a.secToHms(O.duration||0))),Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},"Avg:",O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:O.avgDistance})),O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(i.a,{stores:this.props.stores,value:O.avgElevation})),O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",r.a.secToHms(O.avgDuration||0)),O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(c.a,{stores:this.props.stores,value:O.speedAvg})),O&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-dog"})," ",r.a.format(O.avgDogs,1))))),Object(o.h)("div",null,j&&s.id!==m.id&&Object(o.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":s.email,"data-id":s.id,"data-team":n.id},Object(o.h)("i",{class:"fas fa-ban"})),!j&&s.id===m.id&&Object(o.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":s.email,"data-id":s.id,"data-team":n.id},Object(o.h)("i",{class:"fas fa-sign-out-alt"}),n.id)))))},s}(o.Component))||a;e.a=d}).call(this,s("hosL").Fragment)},K9Qx:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("go65"),i=s("OhSV"),l=(s("nHdA"),s("irB3"),s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn")),d=[0,6],u=Object(n.a)(a=function(e){function s(){for(var t,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).setFocus=function(){t.inputRef&&t.inputRef.focus()},t.editMonth=function(e){t.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:null,inputWeek:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},(function(){return t.setFocus()}))},t.editWeek=function(e){t.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,inputMonth:null,inputDay:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},(function(){return t.setFocus()}))},t.editDay=function(e){t.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:e.target.parentElement.dataset.day||e.target.dataset.day,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},(function(){return t.setFocus()}))},t.saveDistance=function(){return new Promise((function(e,s){function a(){return y=n.workoutPlan.id,b&&(w=f?"days":"weeks"),Promise.resolve(n.saveField(y,w,{year:b,month:m,day:f,week:p,distance:O})).then((function(){try{return Promise.resolve(n.load(y)).then((function(){try{return t.resetInput(!0),e()}catch(t){return s(t)}}),s)}catch(t){return s(t)}}),s)}var o,n,c,i,l,h,d,u,b,m,p,f,O,j,g,v,y,w;return n=(o=t.props.stores).workoutPlanStore,i=o.userStore.findTeam(c=o.workoutStore.currentTeam)||"",h=(l=t.props).year,d=n.workoutPlans[0]||{},b=(u=t.state).inputYear,m=u.inputMonth,p=u.inputWeek,f=u.inputDay,O=u.newDistance,j=l.month||(new Date).getMonth()+1,g=h||r.a.getYear(),v=parseInt(j<8?g-1:g,10),d.id?Promise.resolve(n.load(d.id)).then(function(){try{return a.call(this)}catch(t){return s(t)}}.bind(this),s):Promise.resolve(n.insert({title:"Workout plan for "+v+" - "+(v+1)+": "+i,team:c,seasonYear:v,seasonMonth:6})).then(function(t){try{return Promise.resolve(n.load(t.data.id)).then(function(){try{return a.call(this)}catch(t){return s(t)}}.bind(this),s)}catch(t){return s(t)}}.bind(this),s)}))},t.resetInput=function(e){if(e){var s=t.state,a=r.a.addDays(new Date(s.inputYear,s.inputMonth-1,s.inputDay,0,0,0,0),1);t.setState({showInput:!0,inputYear:a.getFullYear(),inputMonth:a.getMonth()+1,inputDay:a.getDate(),inputWeek:r.a.getWeek(a),newDistance:null}),t.setFocus()}else t.setState({showInput:!1,inputYear:null,inputMonth:null,inputDay:null,inputWeek:null,newDistance:null})},t.checkKeydown=function(e){switch(e.key){case"Enter":t.saveDistance();break;case"Escape":t.resetInput()}},t.updateWorkoutPlanTips=function(){var e=t.props.stores.userStore.user,s=(void 0===e?{}:e).settings;t.setState({hideWorkoutPlanTips:(void 0===s?{}:s).hideWorkoutPlanTips})},t.toggleTips=function(){return new Promise((function(e,s){var a,o;return a=t.props.stores.userStore,t.setState({hideWorkoutPlanTips:o=1===t.state.hideWorkoutPlanTips?0:1}),Promise.resolve(a.updateSetting({"settings.hideWorkoutPlanTips":o},{hideWorkoutPlanTips:o})).then((function(){try{return e()}catch(t){return s(t)}}),s)}))},t}var a,n;n=e,(a=s).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n;var u=s.prototype;return u.componentDidMount=function(){this.updateWorkoutPlanTips()},u.render=function(){var e=this,s=this.state.hideWorkoutPlanTips,a=this.props.stores,n=a.workoutPlanStore,u=a.userStore,b=a.teamStore,m=u.user.language,p=void 0===m?"en":m,f=a.appState.darkmode,O=h.a.getDays(p),j=h.a.getMonths(p),g=this.state,v=g.showInput,y=g.inputYear,w=g.inputMonth,k=g.inputWeek,x=g.inputDay,S=g.newDistance,T=(new Date).getDate(),D=(new Date).getMonth()+1,P=(new Date).getFullYear(),L=(new Date).getTime(),A=this.props,I=A.month,W=void 0===I?D:I,F=A.year,R=void 0===F?P:F,C=A.dog,_=A.basehref,Y=A.showNavigation,M=void 0===Y||Y,E=A.showHeader,U=void 0===E||E,H=A.currentTeam,z=parseInt(W<8?R-1:R,10),N=parseInt(W,10),X=parseInt(R,10),V=h.a.getNextMonth(N,X),K=V.month,q=V.year,B=h.a.getPrevMonth(N,X),G=B.month,J=B.year,Z=r.a.getDaysInMonth(W,R),Q=r.a.getWeeksInMonth(W,R),$=r.a.getDaysInWeek(Q[0].week,R,W),tt=0,et=0,st=0,at=Z[Z.length-1].getTime()>L,ot=n.findWorkoutPlanSummaryMonth(R,N)||{},rt=n.workoutPlan,nt=n.tips,ct=nt[R+"-"+r.a.padDate(W)],it=ct&&(ct.comments.length>0||ct.distance),lt=b.findTeam(H)||{};return Object(o.h)(t,null,U&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},M&&Object(o.h)("a",{href:""+(_||"/workouts/month/")+K+"/"+q+"/skipScroll",class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(o.h)("i",{class:"fas fa-arrow-right"})),M&&Object(o.h)("a",{href:""+(_||"/workouts/month/")+G+"/"+J+"/skipScroll",class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(o.h)("i",{class:"fas fa-arrow-left"})),Object(o.h)("h3",null,Object(o.h)(i.c,{id:"workout.plan.month"},"Måned")," - ",j[W-1]," ",R," ",ot.distance?"- "+r.a.format(ot.distance,0)+" km":""),Object(o.h)("h5",{class:"text-muted font-weight-light"},Object(o.h)(i.c,{id:"workout.plan.season"},"Sesongen")," ",z," - ",z+1),Object(o.h)("div",null,rt.id?Object(o.h)(t,null,Object(o.h)("small",null,rt.title)):Object(o.h)(t,null,Object(o.h)("div",{class:"display-4"},Object(o.h)("i",{class:"far fa-sad-tear text-muted"})),Object(o.h)("h5",{class:"font-weight-lighter text-muted"},Object(o.h)(i.c,{id:"workout.plan.no-workout-plan-found",fields:{name:lt}},"Ingen plan")),Object(o.h)("div",{class:"text-muted"},Object(o.h)(i.c,{id:"workout.plan.click-to-start"},"Click on a date to get started.")))),C&&Object(o.h)("div",null,C.name))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!(!(v&&y&&k)||x)&&Object(o.h)(t,null,Object(o.h)("div",{class:"form-inline w-100"},Object(o.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(o.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:"Enter distance for "+y+" w"+k,ref:function(t){return e.inputRef=t},onInput:Object(c.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:S||""})),Object(o.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(o.h)(i.c,{id:"workout.plan.save"},"Lagre")))),!!(v&&y&&w)&&Object(o.h)(t,null,Object(o.h)("div",{class:"form-inline w-100"},Object(o.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(o.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:"Enter distance for "+y+"-"+r.a.padDate(w)+" "+(x?"-"+r.a.padDate(x):""),ref:function(t){return e.inputRef=t},onInput:Object(c.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:S||""})),Object(o.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(o.h)(i.c,{id:"workout.plan.save"},"Lagre"))))),"no"===p&&Object(o.h)(t,null,s?Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(o.h)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:this.toggleTips},Object(o.h)("i",{class:"fas fa-eye"})," ",Object(o.h)(i.c,{id:"workout.plan.show-tips"},"Show tips")))):Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(o.h)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:this.toggleTips},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(i.c,{id:"workout.plan.hide-tips"},"Hide tips"))))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(o.h)("div",{class:"table-responsive"},Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(i.c,{id:"workout.plan.week"},"Uke"))),$.map((function(t){return Object(o.h)("th",null,Object(o.h)("small",null,O[t.getDay()]))})),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(i.c,{id:"workout.plan.sum"},"Sum"))),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(i.c,{id:"workout.plan.planned"},"Plan"))))),Object(o.h)("tbody",null,Q&&Q.map((function(a){var c=r.a.getDaysInWeek(a.week,R,W),i=n.findWorkoutPlanSummaryWeek(r.a.asNumber(R),a.week)||{},b=c[6].getTime()>L,m=0,O=0;i.distance>0&&(et+=i.distance);var j=nt[R+"-"+r.a.padDate(W)+"-w"+r.a.padDate(a.week)],g=j&&(j.comments.length>0||j.distance);return Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-right text-muted pt-3 border-right "+(x||y!=R||k!=a.week?"":"border rounded border-primary")},Object(o.h)("small",{onClick:e.editWeek,"data-week":a.week,"data-year":R,"data-distance":i.distance},a.week)),c.map((function(t){var s=t.getFullYear(),r=t.getMonth()+1,c=t.getDate(),i=t.getTime()>L,b=u.findWorkoutSummaryWeekDay(i?s-1:s,r,c,N)||{},p=n.findWorkoutPlanSummaryDay(s,r,c,N)||{};p&&p.distance&&(m+=p.distance,tt+=p.distance),b.distanceKm&&(O+=b.distanceKm,st+=b.distanceKm);var j=y==s&&w==r&&x==c,g=P==s&&D==r&&T==c,v=d.indexOf(t.getDay())>-1;return Object(o.h)("td",{class:"text-center overflow-hidden font-weight-light position-relative pt-3 pb-3 border-right "+(j?"calendarIsChosen":"")+" "+(g?"calendarIsToday":"")+" "+(v?"calendarIsWeekend":""),style:"font-size: 0.8em; min-width: 3rem;",onClick:e.editDay,"data-day":t.getDate(),"data-month":t.getMonth()+1,"data-year":R,"data-week":a.week,"data-distance":p.distance},Object(o.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),p&&p.distance?Object(o.h)("div",{class:"rounded-pill w-100 px-1",style:"background-color: "+h.a.getPlanColor(p,f)+";"},Object(o.h)(l.a,{stores:e.props.stores,value:p.distance}),p.count>1&&Object(o.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},p.count)):"-",b.distanceKm>0&&Object(o.h)("span",{class:"position-absolute font-weight-bold",style:"bottom: 0; left: 0px; font-size: 0.85em; color: "+(i?"#393DB1":"#2BAAA9")+";"},Object(o.h)(l.a,{stores:e.props.stores,value:b.distanceKm})))})),Object(o.h)("td",{class:"text-right pt-3 pb-3 position-relative border-right",style:"font-size: 0.8em;"},Object(o.h)(l.a,{stores:e.props.stores,value:m}),O>0&&Object(o.h)("span",{class:"position-absolute",style:"bottom: 0; left: 0px; font-size: 0.85em; color: "+(b?"#393DB1":"#2BAAA9")+";"},Object(o.h)(l.a,{stores:e.props.stores,value:O}))),Object(o.h)("td",{class:"text-right pt-3 pb-3 text-muted border-right",style:"font-size: 0.8em;",onClick:e.editWeek,"data-week":a.week,"data-year":R,"data-distance":i.distance},i.distance>0&&Object(o.h)(t,null,Object(o.h)("div",{class:"rounded-pill w-100 px-1 text-white text-center",style:"background-color: "+h.a.getPlanColor(i,f)+";"},Object(o.h)(l.a,{stores:e.props.stores,value:i.distance}))))),!s&&"no"===p&&j&&g&&Object(o.h)("tr",null,Object(o.h)("td",{colspan:"10",class:"pb-3"},Object(o.h)("h5",null,Object(o.h)("span",{class:"font-weight-lighter"},"Uke ",a.week," ",R,":"),"Tips fra Femundløpet"),j.totalDistance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse"),": ",j.totalDistance," km"),j.distance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",j.distance),j.time&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",j.time),j.totalWorkouts>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",j.totalWorkouts),j.avgSpeed&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",j.avgSpeed),j.comments&&Object(o.h)("div",null,j.comments.map((function(t){return Object(o.h)("p",null,t)}))))))}))),Object(o.h)("tfoot",null,Object(o.h)("tr",null,Object(o.h)("td",{colspan:"8",class:"text-right pb-3"},Object(o.h)(i.c,{id:"workout.plan.totalkm"},"Totalt km")),Object(o.h)("td",{class:"text-right position-relative pb-3"},Object(o.h)(l.a,{stores:this.props.stores,value:tt}),st>0&&Object(o.h)("span",{class:"position-absolute",style:"bottom: 0; left: 0px; font-size: 0.65em; color: "+(at?"#393DB1":"#2BAAA9")+";"},Object(o.h)(l.a,{stores:this.props.stores,value:st}))),Object(o.h)("td",{class:"text-right text-muted"},Object(o.h)(l.a,{stores:this.props.stores,value:et}))),!s&&"no"===p&&ct&&it&&Object(o.h)("tr",null,Object(o.h)("td",{colspan:"10",class:"pb-3"},Object(o.h)("h5",null,Object(o.h)("span",{class:"font-weight-lighter"},j[W-1]," ",R,":")," Tips fra Femundløpet"),ct.totalDistance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse"),": ",ct.totalDistance," km"),ct.distance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",ct.distance),ct.time&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",ct.time),ct.totalWorkouts>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",ct.totalWorkouts),ct.avgSpeed&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",ct.avgSpeed),ct.comments&&Object(o.h)("div",null,ct.comments.map((function(t){return Object(o.h)("p",null,t)}))))))))))},s}(o.Component))||a;e.a=u}).call(this,s("hosL").Fragment)},KDoM:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=s("nHdA"),l=s("irB3"),h=s("UwwE"),d=s("8Lgr"),u=(s("QkTp"),s("ZOvn")),b=Object(n.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,n;return n=e,(a=s).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n,s.prototype.render=function(){var e=this.props.dog,s=this.props.stores,a=s.userStore,n=s.dogStore,b=a.user.language,m=void 0===b?"en":b,p=s.appState.viewmode,f=(new Date).getMonth()+1,O=(new Date).getFullYear(),j=this.props,g=j.month,v=j.year,y=void 0===v?O:v,w=parseInt((void 0===g?f:g)<8?y-1:y,10),k=n.findWorkoutSummary(e.id,w)||{},x=e.statuses?e.statuses.map((function(t){return a.findDogstatus({status:t,language:m})})):[],S=n.findVaccineStatuses(e.id),T=n.findVaccineLogStatuses(e.chipId),D=n.findHistoryStatuses(e.id),P=a.findDogstatus({status:e.status,language:m}),L=a.findDogposition({position:e.position,language:m}),A=[];a.findTeam(e.team)&&A.push(a.findTeam(e.team)),e.teams&&e.teams.forEach((function(t){a.findTeam(t)&&A.push(a.findTeam(t))}));var I=u.a.hasBirthday(e.birth),W=e.birth?Math.ceil(u.a.daysUntilNextBirthday(e.birth)):365,F=this.props.url,R=void 0===F?"/dogs/"+e.id:F;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?'background-image: url("'+e.image.s3SmallLink+'"); background-size: cover;':""},!e.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},r.a.ucfirst(e.name,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+a.findHarness(e.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(o.h)("span",{class:"float-right"},L&&Object(o.h)("span",{class:"badge badge-"+(L.class||"primary")+" mr-3"},L.icon&&Object(o.h)("i",{class:L.icon})," ",L.name),W<7&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",W," days")),e.birth&&Object(o.h)("span",{class:"mr-2"},r.a.age(e.birth,e.deceased)),"female"===e.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:R},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(o.h)(t,null," - ",Object(o.h)("span",{class:"font-weight-lighter"},e.name)),I&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(o.h)("div",null,A&&A.length>0&&Object(o.h)("small",{class:"font-weight-lighter"},A.map((function(e,s){return Object(o.h)(t,null,s>0?", ":"",e)}))),Object(o.h)("br",null)),Object(o.h)("small",{class:"text-muted"},e.history>0&&Object(o.h)("span",{class:"ml-0"},Object(o.h)("i",{class:"fas fa-file-signature"})," ",e.history.length),e.images>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-image"})," ",e.images.length),k&&k.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(d.a,{stores:this.props.stores,value:k.distanceKm})),k&&k.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:k.elevation})),k&&k.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",r.a.secToHms(k.duration,!0)),k&&k.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(i.a,{stores:this.props.stores,value:k.speedAvg})),e.weight>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(o.h)(h.a,{stores:this.props.stores,value:e.weight})),e.bodyScore>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",r.a.format(e.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(o.h)(t,null,Object(o.h)("div",null,S&&S.map((function(t){return Object(o.h)("span",{class:"badge badge-success mr-2",title:r.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(o.h)("span",{class:"font-weight-light ml-3"},Object(o.h)("i",{class:"fas fa-calendar-check"})," ",r.a.isoDate(t.endDate,!1,!1,!0)))})),D&&D.map((function(t){return Object(o.h)("span",{class:"badge badge-warning mr-2",title:r.a.isoDate(t.endDate,!1,!1,!0)},t.title)})))),["beta","advanced"].indexOf(p)>-1&&Object(o.h)(t,null,e.positions&&e.positions.lead&&Object(o.h)("div",{class:""},e.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.lead.distanceKm})),e.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.point.distanceKm})),e.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.team.distanceKm})),e.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.wheel.distanceKm})))),Object(o.h)("div",{class:"clearfix pb-0"},e.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),P&&Object(o.h)("span",{class:"badge badge-"+P.class+" ml-2 mt-1 float-right"},P.icon&&Object(o.h)("i",{class:P.icon})," ",P.name),x&&x.map((function(e){return Object(o.h)(t,null,Object(o.h)("span",{class:"badge badge-"+e.class+" ml-2 mt-1 float-right"},e.icon&&Object(o.h)("i",{class:e.icon})," ",e.lang&&e.lang[m]?e.lang[m]:e.name))}))),T&&T.length>0&&Object(o.h)(t,null,Object(o.h)("div",{class:"mt-2"},T&&T.filter((function(t){return t.chipId===e.chipId})).map((function(t){return Object(o.h)("span",{class:"badge badge-"+(t.inKarens?"warning":"success")+" mr-2 mb-1"},Object(o.h)("i",{class:"fas fa-user-md"})," ",t.vaccineAgens.name)}))))))))},s}(o.Component))||a;e.a=b}).call(this,s("hosL").Fragment)},KOz6:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=s("/eY4"),l=(s("cneo"),s("Utv1")),h=s("OhSV"),d=s("go65"),u=Object(i.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).handleAdd=function(){var t=s.props;(0,t.updateField)({id:t.object.id,field:t.field,value:o({},s.state.data)}),s.setState({data:{name:"",description:"",url:""}})},s.removeAchievement=function(t){return new Promise((function(e){var a=s.props.stores.dogStore,o=s.props.object,r=t.target.closest("button").dataset;return a.removeAchievement({id:o.id,name:r.name,achievementId:r.id}),e()}))},s.state={data:{}},s}var a,r;return r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,s.prototype.render=function(){var e=this,s=this.state.data,a=this.props,o=a.showFiles,r=void 0===o||o,n=a.object,i=void 0===n?{}:n;return Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 mt-3"},r&&Object(c.h)(t,null,Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},(!i.achievements||0===i.achievements.length)&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-trophy"})),Object(c.h)("h3",null,Object(c.h)(h.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(c.h)(h.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),i.achievements&&i.achievements.map((function(t){return Object(c.h)("div",{class:"col-12 p-1"},Object(c.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(t.date,!1,!1,!0)),Object(c.h)("span",{class:"mr-2"},t.name),Object(c.h)("span",{class:"mr-2"},t.url),Object(c.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:e.removeAchievement,"data-name":t.name,"data-id":t.id},Object(c.h)("i",{class:"fas fa-trash-alt"})," Del"))})))))),Object(c.h)("div",{class:"col-12 mt-3"},Object(c.h)("details",null,Object(c.h)("summary",null,Object(c.h)(h.c,{id:"dogs.achievement-add"},"Add new achievement")),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"name"},Object(c.h)(h.c,{id:"dogs.achievement-name"},"Name")),Object(c.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"data.name"),value:s.name}),Object(c.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-name-help"},"Name of achievement"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"date"},Object(c.h)(h.c,{id:"dogs.achievement-date"},"Date")),Object(c.h)("input",{type:"date",class:"form-control",id:"date","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"data.date"),value:s.date}),Object(c.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-date-help"},"Date of achievement"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"description"},Object(c.h)(h.c,{id:"dogs.achievement-description"},"Description")),Object(c.h)("input",{type:"text",class:"form-control",id:"description","aria-describedby":"descriptionHelp",onInput:Object(d.a)(this,"data.description"),value:s.description}),Object(c.h)("small",{id:"descriptionHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-description-help"},"Description of achievement"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"url"},Object(c.h)(h.c,{id:"dogs.achievement-url"},"Url")),Object(c.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(d.a)(this,"data.url"),value:s.url}),Object(c.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-url-help"},"URL of achievement"))),Object(c.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(c.h)(h.c,{id:"dogs.achievement-add"},"Add achievement")))))},s}(c.Component))||n;e.a=u}).call(this,s("hosL").Fragment)},"R/Lk":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=(s("ZOvn"),s("bbv7")),l=Object(c.d)((function(){return{week:Object(o.h)(c.c,{id:"workout.graph.week"}),distanceAvgAll:Object(o.h)(c.c,{id:"workout.graph.distance-avg-all"}),distanceAvg:Object(o.h)(c.c,{id:"workout.graph.distance-avg"}),ascendAvgAll:Object(o.h)(c.c,{id:"workout.graph.ascend-avg-all"}),ascendAvg:Object(o.h)(c.c,{id:"workout.graph.ascend-avg"}),speedAvgAll:Object(o.h)(c.c,{id:"workout.graph.speed-avg-all"}),speedAvg:Object(o.h)(c.c,{id:"workout.graph.speed-avg"}),durationAvgAll:Object(o.h)(c.c,{id:"workout.graph.duration-avg-all"}),durationAvg:Object(o.h)(c.c,{id:"workout.graph.duration-avg"}),realDurationAvgAll:Object(o.h)(c.c,{id:"workout.graph.real-duration-avg-all"}),realDurationAvg:Object(o.h)(c.c,{id:"workout.graph.real-duration-avg"}),loadIndex:Object(o.h)(c.c,{id:"workout.graph.load-index"}),loadIndexAll:Object(o.h)(c.c,{id:"workout.graph.load-index-all"}),plan:Object(o.h)(c.c,{id:"workout.graph.plan"})}}))(a=Object(n.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,n;return n=e,(a=s).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n,s.prototype.render=function(){for(var e=this.props.stores.userStore,s=this.props,a=s.week,n=s.distanceAvgAll,l=s.distanceAvg,h=s.ascendAvgAll,d=s.ascendAvg,u=s.speedAvgAll,b=s.speedAvg,m=s.durationAvg,p=s.durationAvgAll,f=s.loadIndex,O=s.loadIndexAll,j=s.year,g=s.teamAmbition,v=s.teamType,y=s.teamId,w=e.graphAvgWorkoutStatsDistance,k=e.graphAvgWorkoutStatsElevation,x=e.graphAvgWorkoutStatsSpeed,S=e.graphAvgWorkoutStatsDuration,T=e.graphAvgWorkoutStatsLoadIndex,D=e.graphWorkoutAvgWeekDistanceCurrent,P=e.graphWorkoutAvgWeekElevationCurrent,L=e.graphWorkoutAvgWeekSpeedCurrent,A=e.graphWorkoutAvgWeekDurationCurrent,I=e.graphWorkoutAvgWeekLoadIndexCurrent,W=e.graphAvgWorkoutStatsCount,F=e.user.settings,R=void 0===F?{}:F,C=(new Date).getMonth()+1,_=j||r.a.getYear(),Y=parseInt(C<8?_-1:_,10),M=r.a.weekRange(Y+"-08-01",Y+1+"-07-31").map((function(t){return t.week})),E=Math.floor(M.length/(M.length%6)),U=[],H=0,z=M.length;H<z;H+=E)U.push(M[H]);return Object(o.h)(t,null,v&&Object(o.h)("a",{href:"/settings/team/"+y},Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},v)),g&&Object(o.h)("a",{href:"/settings/team/"+y},Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},g)),Object(o.h)("h5",null,Object(o.h)(c.c,{id:"workout.graph.title-avg"},"Gjennomsnitt")," ",Y," - ",Y+1),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:function(t){return a+" "+t},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[I,T],legendLeft:[Y+" "+f,Y+" "+O],dataFillLeft:[1],showYTicksLeft:1,avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[W],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:function(t){return a+" "+t},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[D,w],legendLeft:[Y+" "+l,Y+" "+n],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:R.imperial?"mi":"km",unitLeft:R.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[W],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:function(t){return a+" "+t},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[P,k],legendLeft:[Y+" "+d,Y+" "+h],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:R.imperial?"ft":"m",unitLeft:R.imperial?["ft","ft","ft"]:["m","m","m"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[W],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:function(t){return a+" "+t},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[L,x],legendLeft:[Y+" "+b,Y+" "+u],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:R.imperial?"mph":"km/t",avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[W],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:function(t){return a+" "+t},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[A,S],legendLeft:[Y+" "+m,Y+" "+p],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftVal:function(t){return r.a.secToHms(t,!0)},avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[W],showYTicksRight:1,smoothRight:[1]})))},s}(o.Component))||a)||a;e.a=l}).call(this,s("hosL").Fragment)},TiXY:function(t,e,s){"use strict";var a,o=s("hosL"),r=s("/eY4"),n=(s("cneo"),s("Utv1"),s("OhSV")),c=s("u2zT"),i=Object(r.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).handleAddImage=function(t){var e=s.props;(0,e.updateField)({id:e.object.id,field:e.field,value:t})},s.state={files:[]},s}var s,a;return a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,s=void 0===e?function(){}:e,a=t.before,r=void 0===a?function(){}:a,i=t.after,l=void 0===i?function(){}:i,h=t.autoOpen,d=void 0!==h&&h;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(n.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(o.h)("br",null),Object(o.h)(c.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload",uploadStatus:s,before:r,after:l,autoOpen:d},Object(o.h)("div",{style:{height:30,width:"100%"}}))))},e}(o.Component))||a;e.a=i},WAWY:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=(s("ZOvn"),s("bbv7")),l=Object(c.d)((function(){return{week:Object(o.h)(c.c,{id:"workout.graph.week"}),distance:Object(o.h)(c.c,{id:"workout.graph.distance"}),duration:Object(o.h)(c.c,{id:"workout.graph.duration"},"Duration"),rest:Object(o.h)(c.c,{id:"workout.graph.rest"},"Rest"),ascend:Object(o.h)(c.c,{id:"workout.graph.ascend"}),plan:Object(o.h)(c.c,{id:"workout.graph.plan"}),speedAvg:Object(o.h)(c.c,{id:"workout.graph.speedavg"},"Speed"),loadIndex:Object(o.h)(c.c,{id:"workout.graph.loadindex"},"Loadindex"),avgDogs:Object(o.h)(c.c,{id:"workout.graph.avgdogs"},"Avg dogs"),avgImages:Object(o.h)(c.c,{id:"workout.graph.avgimages"},"Avg images"),sledWeight:Object(o.h)(c.c,{id:"workout.graph.sledweight"},"Sled weight"),rating:Object(o.h)(c.c,{id:"workout.graph.rating"},"Rating"),temperature:Object(o.h)(c.c,{id:"workout.graph.temperature"},"Temperature")}}))(a=Object(n.a)(a=function(e){function s(){return e.apply(this,arguments)||this}var a,n;return n=e,(a=s).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n,s.prototype.render=function(){for(var e=this.props.stores,s=e.userStore,a=s.graphWorkoutSummaryWeekDistanceCurrent,n=s.graphWorkoutSummaryWeekDistancePrev,l=s.graphWorkoutSummaryWeekElevationCurrent,h=s.graphWorkoutSummaryWeekElevationPrev,d=s.avgDayDistance,u=s.avgDayElevation,b=s.avgDayDuration,m=s.avgDaySpeedAvg,p=s.avgDayLoadIndex,f=s.avgDayAvgDogs,O=s.avgDayAvgImages,j=s.avgDaySledWeight,g=s.avgDayRest,v=s.avgDayRating,y=s.avgDayTemperature,w=s.user.settings,k=void 0===w?{}:w,x=e.workoutPlanStore.graphPlanWeekDistanceCurrent,S=(new Date).getMonth()+1,T=(new Date).getFullYear(),D=this.props,P=D.isLoading,L=D.week,A=D.distance,I=D.duration,W=D.rest,F=D.ascend,R=D.plan,C=D.speedAvg,_=D.loadIndex,Y=D.avgDogs,M=D.avgImages,E=D.sledWeight,U=D.rating,H=D.temperature,z=D.year,N=void 0===z?T:z,X=D.month,V=D.showExtra,K=void 0!==V&&V,q=parseInt((void 0===X?S:X)<8?N-1:N,10),B=r.a.weekRange(q+"-08-01",q+1+"-07-31"),G=r.a.dayRange(q+"-08-01",q+1+"-07-31"),J=B.map((function(t){return t.week})),Z=Math.floor(J.length/5),Q=[],$=0,tt=J.length;$<tt;$+=Z)Q.push(J[$]);for(var et=G.map((function(t){return t.day+"."+t.month})),st=Math.floor(et.length/5),at=[],ot=0,rt=et.length;ot<rt;ot+=st)at.push(et[ot]);return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 border-top pt-5"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.total-distance"},"Total distance")),Object(o.h)(i.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return L+" "+t},xTicks:Q,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[a,n,x],legendLeft:[q+" "+A,q-1+" "+A,q+" "+R],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:k.imperial?"mi":"km",unitLeft:k.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[l,h],legendRight:[q+" "+F,q-1+" "+F],showYTicksRight:1,yTicksRightPostfix:k.imperial?"ft":"m",unitRight:k.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!P&&a&&a.length<3&&Object(o.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(o.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(o.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(o.h)("i",{class:"fas fa-paw"})),Object(o.h)("small",null,Object(o.h)(c.c,{id:"workout.graph.too-little-data"},"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.")))),K&&Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-rating"},"Average rating/day")),Object(o.h)(i.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:at,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[v],legendLeft:[q+" "+U],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[y],legendRight:[q+" "+H],showYTicksRight:1,yTicksRightPostfix:k.imperial?"°F":"°C",avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-distance"},"Average distance/day")),Object(o.h)(i.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:at,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[d],legendLeft:[q+" "+A],showYTicksLeft:1,yTicksLeftPostfix:k.imperial?"mi":"km",unitLeft:k.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[u],legendRight:[q+" "+F],showYTicksRight:1,yTicksRightPostfix:k.imperial?"ft":"m",unitRight:k.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-duration"},"Average duration/day")),Object(o.h)(i.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:at,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:[b],legendLeft:[q+" "+I],yTicksLeftVal:function(t){return""+r.a.secToHms(t)},showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[g],legendRight:[q+" "+W],showYTicksRight:1,yTicksRightVal:function(t){return""+r.a.secToHms(t)},avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-speed"},"Average speed/day")),Object(o.h)(i.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:at,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[m],legendLeft:[q+" "+C],showYTicksLeft:1,yTicksLeftPostfix:k.imperial?"mph":"km/t",unitLeft:k.imperial?["mph","mph","mph"]:["km/t","km/t","km/t"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[p],legendRight:[q+" "+_],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-dogs"},"Average dogs/day")),Object(o.h)(i.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:at,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[f,O],legendLeft:[q+" "+Y,q+" "+M],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[j],legendRight:[q+" "+E],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]}))))},s}(o.Component))||a)||a;e.a=l}).call(this,s("hosL").Fragment)},XPU5:function(t,e,s){"use strict";var a,o=s("hosL"),r=(s("Utv1"),s("/eY4")),n=s("OhSV"),c=s("go65"),i=Object(r.a)(a=function(t){function e(){for(var e,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).inviteKennel=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.inviteKennel({email:e.state.friendEmail})).then((function(a){try{return e.setState({response:a,inviteSent:!0}),t()}catch(t){return s(t)}}),s)}))},e.inviteNew=function(){e.setState({inviteSent:!1})},e.hideInvite=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideInvite":1})).then((function(){try{return e.setState({hideInvite:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,a;return a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,e.prototype.render=function(){var t=this.state,e=this.props.forceShow,s=this.props.stores.userStore.user.settings;return!e&&(void 0===s?{}:s).hideInvite||t.hideInvite?"":t.inviteSent?Object(o.h)("div",{class:"col-12"},Object(o.h)(n.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til å bli flere 😃"),Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(o.h)(n.c,{id:"users.invite.more"},"Invitere flere"))):Object(o.h)("div",{class:"col-12 pb-4 clearfix"},Object(o.h)("h5",null,Object(o.h)(n.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(o.h)("p",null,Object(o.h)(n.c,{id:"users.invite.text"},"Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.")),Object(o.h)("div",null,Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(n.c,{id:"users.invite.email"},"E-post")),Object(o.h)(n.b,null,Object(o.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(o.h)(n.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(c.a)(this,"friendEmail")}))),Object(o.h)("div",{class:"col-auto"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(o.h)(n.c,{id:"users.invite.send"},"Send invitasjon"))))),!e&&Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(n.c,{id:"users.invite.hide"},"Skjul")))},e}(o.Component))||a;e.a=i},aKPM:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n,c,i=s("hosL"),l=s("Utv1"),h=s("/eY4"),d=s("Y3FI"),u=s("OhSV"),b=s("fh8t"),m=s.n(b),p=s("X9Km"),f=s("ZOvn"),O=s("KDoM"),j=s("Gx/q"),g=s("/F9p"),v=s("jtG4"),y=s("WAWY"),w=s("R/Lk"),k=s("0SNj"),x=s("9Bb9"),S=s("JWe/"),T=s("HqZR"),D=(s("wM2g"),s("XPU5"),s("rWES")),P=s("om2D"),L=s("TiXY"),A=s("KOz6"),I=s("6GRK"),W=s("s4FZ"),F=s("K9Qx"),R=s("epqT"),C=s("/DnB"),_=f.a.marginTop(!1),Y=f.a.marginTopBack(!1),M=f.a.marginBottom(),E={newTeam:{},submenu:"stats"},U=Object(h.a)(n=function(e){function s(){for(var t,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},t.removeImage=function(e){return new Promise((function(s){return t.props.stores.teamStore.removeImage({id:t.props.team.id,name:e.target.parentElement.dataset.name||e.target.dataset.name}),s()}))},t.removeMainImage=function(){var e=t.props;(0,e.updateField)({id:e.team.id,field:e.field,value:{}})},t}return r(s,e),s.prototype.render=function(){var e=this,s=this.props,a=s.saved,o=s.team,r=s.field,n=s.icon,c=s.title,h=s.type,d=s.help,b=s.onInput,m=s.updateField,p=s.datalist,f=void 0===p?[]:p,O=s.showImages,j=void 0===O||O,g=s.showFiles,v=void 0===g||g,y=s.addToImages,w=void 0===y||y,k=o[r];return"datalist"===h?Object(i.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)("input",{list:"list-"+r,class:"form-control "+(a[r+"."+o.id]?"is-valid":""),id:r+"Input","aria-describedby":r+"Help",value:k,"data-id":o.id,"data-field":r,onInput:b}),Object(i.h)("datalist",{id:"list-"+r},f.map((function(t){return Object(i.h)("option",{value:t[0]},t[1])}))),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"select"===h?Object(i.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)("select",{list:"list-"+r,class:"form-control "+(a[r+"."+o.id]?"is-valid":""),id:r+"Input","aria-describedby":r+"Help",value:k,"data-id":o.id,"data-field":r,onInput:b,autocomplete:"off"},Object(i.h)("option",{value:""},"-- ",Object(i.h)(u.c,{id:"teams.choose-country"},"Velg land")," --"),f.map((function(t){return Object(i.h)("option",{value:t[0]},t[1])}))),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"image"===h?Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},o[r]&&o[r].s3SmallLink&&Object(i.h)("div",{class:"col-3 p-1"},Object(i.h)("img",{src:o[r].s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":o[r].name},Object(i.h)("i",{class:"fas fa-trash"})," Del"),Object(i.h)("span",{class:"badge badge-success"},"Main")),j&&Object(i.h)(t,null,o.images&&o.images.map((function(t){return Object(i.h)("div",{class:"col-3 p-1"},Object(i.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(i.h)("i",{class:"fas fa-trash"})," Del"))}))))),Object(i.h)(P.a,{saved:a,object:o,field:r,updateField:m,addToImages:w,autoOpen:!1}),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"toggle"===h?Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:r+"Input",value:1===k?0:1,"data-id":o.id,"data-field":r,onInput:b,checked:1==k?"checked":""}),Object(i.h)("label",{class:"custom-control-label",for:r+"Input"})),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"textarea"===h?Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)("textarea",{type:"text",class:"form-control "+(a[r+"."+o.id]?"is-valid":""),id:r+"Input","aria-describedby":r+"Help",value:k,"data-id":o.id,"data-field":r,onInput:b,rows:10}),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"file"===h?Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),v&&Object(i.h)(t,null,Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},(!o.files||0===o.files.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-file"})),Object(i.h)("h3",null,Object(i.h)(u.c,{id:"teams.no-files-title"},"No files attached to this dog!")),Object(i.h)(u.c,{id:"teams.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),o.files&&o.files.map((function(t){return Object(i.h)("div",{class:"col-12 p-1"},Object(i.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(t.createdDate,!1,!1,!0)),Object(i.h)("span",{class:"mr-2"},t.name),Object(i.h)("span",{class:"font-weight-lighter mr-2"},l.a.formatBytes(t.size,1)),Object(i.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:e.removeFile,"data-name":t.name},Object(i.h)("i",{class:"fas fa-trash-alt"})," Del"))}))))),Object(i.h)(L.a,{saved:a,object:o,field:r,updateField:m}),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"links"===r?Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)(I.a,{saved:a,stores:this.props.stores,object:o,field:r,updateField:m}),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):"achievements"===r?Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)(A.a,{saved:a,stores:this.props.stores,object:o,field:r,updateField:m}),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d)):Object(i.h)("div",{class:"form-group "+(a[r+"."+o.id]?"is-valid":"")},Object(i.h)("label",{for:r+"Input"},n&&Object(i.h)("i",{class:n+" text-muted"})," ",c),Object(i.h)("input",{type:"text",class:"form-control "+(a[r+"."+o.id]?"is-valid":""),id:r+"Input","aria-describedby":r+"Help",value:k,"data-id":o.id,"data-field":r,onInput:b}),a[r+"."+o.id]?Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(u.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(i.h)("small",{id:r+"Help",class:"form-text text-muted"},d))},s}(i.Component))||n,H=Object(h.a)(c=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadTeam=function(t){return new Promise((function(e,a){var o,r,n;return void 0===t&&(t=s.props),r=(o=t.stores).teamStore,n=o.userStore,o.workoutStore,Promise.resolve(r.load(t.team,!1,{addData:["dogs","users","followers","blockedFollowers"]})).then((function(){try{return Promise.resolve(n.getWorkoutSummary({team:r.team.id})).then((function(){try{return r.plotFormGraph(),e()}catch(t){return a(t)}}),a)}catch(t){return a(t)}}),a)}))},s.loadHeatmap=function(t){return new Promise((function(e,a){return void 0===t&&(t=s.props),Promise.resolve(t.stores.workoutStore.getHeatmap(t.team)).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.loadMore=function(){s.setState({offset:s.state.offset+10},(function(){s.loadWorkouts(!0)}))},s.loadWorkouts=function(t){return new Promise((function(e,a){return void 0===t&&(t=!1),s.setState({isLoading:!0}),Promise.resolve(s.props.stores.workoutStore.load({query:{team:s.props.team},limit:10,offset:s.state.offset},t)).then((function(){try{return s.setState({isLoading:!1}),e()}catch(t){return a(t)}}),a)}))},s.loadWorkoutSummary=function(t){return new Promise((function(e,a){var o,r,n,c,i,l,h,d,u;return void 0===t&&(t=s.props),r=(o=t.stores).userStore,n=o.workoutStore,c=(new Date).getMonth()+1,i=(new Date).getFullYear(),h=(l=t).month,d=l.year,u=t.team||n.currentTeam,Promise.resolve(r.getWorkoutSummary({team:u,year:void 0===d?i:d,month:void 0===h?c:h})).then((function(){try{return Promise.resolve(r.getWorkoutSummaryDay({daysBack:500,team:u})).then((function(){try{return e()}catch(t){return a(t)}}),a)}catch(t){return a(t)}}),a)}))},s.loadWorkoutPlans=function(t){return new Promise((function(e,a){function o(){return e()}var r,n,c,i,h,d,u,b;return void 0===t&&(t=s.props),r=t.year,n=(new Date).getMonth()+1,c=l.a.getYear(),i=parseInt(r||(n<8?c-1:c),10),u=(h=t.stores).teamStore.team,(d=h.workoutPlanStore).updateItem("workoutPlans",[]),d.updateItem("workoutPlan",{}),d.resetGraphPlanWeekDistanceCurrent(),u.id?Promise.resolve(d.load({query:{team:u.id,seasonYear:i},addData:["tips"]})).then(function(){try{return(b=d.workoutPlans[0]||{}).id?Promise.resolve(d.load(b.id)).then(function(){try{return d.prepareWeekGraphs({year:r}),t.call(this)}catch(t){return a(t)}}.bind(this),a):(d.updateKeyValue("workoutPlan",{}),d.updateKeyValue("workoutPlans",[]),d.resetGraphPlanWeekDistanceCurrent(),t.call(this));function t(){return o.call(this)}}catch(t){return a(t)}}.bind(this),a):o.call(this)}))},s.deleteTeam=function(){return new Promise((function(t,e){var a;return a=s.props.stores.teamStore,Promise.resolve(a.saveField(a.team.id,"offline",1)).then((function(){try{return p.a.publish(p.b.STATUS_MESSAGE,{message:"Teamet er slettet",type:"success",icon:"fas fa-check"}),Object(d.route)("/teams/list"),t()}catch(t){return e(t)}}),e)}))},s.updateField=function(t){var e=t.target.dataset,a=e.field,o=e.type,r=e.elementtype,n=e.isNew,c=t.target.value;s.updateFieldValue({id:parseInt(e.id,10),field:a,value:c,type:o,elementtype:r,isNew:n})},s.updateFieldValue=function(t){var e=t.id,a=t.field,o=t.value,r=t.datatype,n=t.elementtype,c=t.isNew,i=void 0!==c&&c,l=t.skipTimer,h=void 0!==l&&l,d=s.props.stores.teamStore,u=o,b=o,m=d.team;"images"===a&&Array.isArray(m.images)&&Array.isArray(o)&&(b=[].concat(m.images,o)),"achievements"===a&&Array.isArray(m.achievements)&&(b=Array.isArray(o)?[].concat(m.achievements,o):[].concat(m.achievements,[o])),"links"===a&&Array.isArray(m.links)&&(b=Array.isArray(o)?[].concat(m.links,o):[].concat(m.links,[o])),"files"===a&&Array.isArray(m.files)&&(b=Array.isArray(o)?[].concat(m.files,o):[].concat(m.files,[o])),"array"!==r||Array.isArray(o)||(u="number"===n?o.split(",").map((function(t){return parseFloat(t)||t})):o.split(",")),i?d.updateObjectKeyValue("newTeam",a,o):(d.updateField(e,a,b),h?s.doUpdateField(e,a,u):(clearTimeout(s.updateTimer[a]),s.updateTimer[a]=setTimeout((function(){return new Promise((function(t){return s.doUpdateField(e,a,u),t()}))}),500)))},s.reCalculateFitness=function(){return new Promise((function(t,e){var a,o;return s.state.recalculated?t(!0):(o=(a=s.props.stores.teamStore).team,s.setState({recalculated:!0}),Promise.resolve(a.reCalcFitness(o.id)).then((function(){try{return t()}catch(t){return e(t)}}),e))}))},s.chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.back=function(){s.props.stores.history.goBack()},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},E),s.updateTimer={},s}r(s,e);var n=s.prototype;return n.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),this.setState({isLoading:!0}),Promise.resolve(this.loadTeam(t)).then(function(){try{return Promise.resolve(this.loadSummaryData(t)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},n.loadSummaryData=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(Promise.all([this.loadWorkoutPlans(t),this.loadWorkoutSummary(t),this.loadHeatmap(t),this.loadWorkouts()])).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},n.doUpdateField=function(t,e,s){return new Promise(function(a,o){return Promise.resolve(this.props.stores.teamStore.saveField(t,e,s)).then((function(){try{return a()}catch(t){return o(t)}}),o)}.bind(this))},n.componentDidMount=function(){this.loadAll()},n.componentWillReceiveProps=function(t){t.team!==this.props.team&&this.loadAll(t),t.month===this.props.month&&t.year===this.props.year||this.loadSummaryData(t)},n.render=function(){var e=this,s=this.state,a=s.submenu,o=s.recalculated,r=this.props.stores,n=r.teamStore,c=r.userStore,h=r.workoutPlanStore,d=r.workoutStore,b=h.workoutPlan,p=h.workoutPlans,P=d.heatmap,L=d.workouts,A=d.currentTeam,I=(new Date).getMonth()+1,E=(new Date).getFullYear(),H=this.props,z=H.month,N=void 0===z?I:z,X=H.year,V=void 0===X?E:X,K=parseInt(N<8?V-1:V,10),q=n.team,B=n.dogs,G=n.users,J=n.followers,Z=void 0===J?[]:J,Q=n.blockedFollowers,$=void 0===Q?[]:Q,tt=n.saved,et=n.graphFitness,st=q.image,at=q.imageHeader,ot=c.user.language,rt=void 0===ot?"en":ot,nt=q.user===c.user.id,ct=c.findTeamAmbition({ambition:q.ambitions,language:rt}),it=c.findTeamType({type:q.type,language:rt}),lt=at&&at.s3XXLargeLink?at:{s3XXLargeLink:"./assets/homerun-race-logo.png"},ht=st&&st.s3LargeLink?st:null;return Object(i.h)("div",{class:"container-fluid",style:"margin-bottom: "+M+"; margin-top: "+_+";"},Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+Y+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(i.h)("i",{class:"fas fa-arrow-circle-left"})),Object(i.h)("div",{class:"row mb-1"},Object(i.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(lt?'background-image: url("'+lt.s3XXLargeLink+'");':"")},Object(i.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+q.id},Object(i.h)("i",{class:"fas fa-edit"})," ",Object(i.h)(u.c,{id:"teams.edit"},"Endre"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(i.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(ht?'background-image: url("'+ht.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!ht&&Object(i.h)("i",{class:"fas fa-users text-muted mt-4",style:"font-size: 60px;"}))," "),Object(i.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"my-0"},q.name),Object(i.h)("small",{class:"text-muted"},q.place?q.place+", ":"",q.country),Object(i.h)("br",null),it&&Object(i.h)("a",{href:"/settings/team/"+q.id},Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2"},it)),ct&&Object(i.h)("a",{href:"/settings/team/"+q.id},Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},ct)),nt&&Object(i.h)("span",{class:"badge badge-pill badge-primary mt-2 ml-2"},Object(i.h)(u.c,{id:"teams.admin"},"Admin")))))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},q.public>0&&Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+q.uuidv4,class:"btn btn-success btn-block"},Object(i.h)("i",{class:"fas fa-users"})," ",Object(i.h)(u.c,{id:"teams.public-profile"},"Public profile"))))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 overflow-hidden"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("stats"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"teams.stats"},"Stats")),"stats"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("presentation"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"presentation",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(i.h)(u.c,{id:"teams.presentation"},"Presentation")),"presentation"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("pictures"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-images"})," ",Object(i.h)(u.c,{id:"teams.pictures"},"Pictures")),"pictures"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("dogs"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-dog"})," ",Object(i.h)(u.c,{id:"teams.dogs-menu"},"Dogs")),"dogs"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("mushers"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-user"})," ",Object(i.h)(u.c,{id:"teams.mushers"},"Mushers")),"mushers"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("workouts"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(u.c,{id:"teams.workouts"},"Workouts")),"workouts"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("workoutplan"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplan",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(u.c,{id:"workouts.workoutplan"},"Treningsplan")),"workoutplan"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("fitness"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"fitness",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(u.c,{id:"teams.fitness-menu"},"Fitness")),"fitness"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("compare"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"compare",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-exchange-alt"})," ",Object(i.h)(u.c,{id:"teams.compare"},"Compare")),"compare"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("trophy"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"trophy",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-award"})," ",Object(i.h)(u.c,{id:"teams.trophy"},"Trophy case")),"trophy"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("achievements"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(u.c,{id:"teams.achievements"},"Achievements")),"achievements"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("followers"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"followers",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-users"})," ",Object(i.h)(u.c,{id:"teams.followers"},"Followers")),"followers"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("advanced"===a?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-cogs"})," ",Object(i.h)(u.c,{id:"teams.log"},"Advanced")),"advanced"===a&&Object(i.h)(C.a,{horizontal:"center",vertical:"end"}))))))),"stats"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)(y.a,{stores:this.props.stores,isLoading:!1,key:"graph-"+b.id+"-"+p.length}),Object(i.h)(k.a,{stores:this.props.stores,currentTeam:q.id}),Object(i.h)(x.a,{stores:this.props.stores,currentTeam:q.id})))),"presentation"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("div",{class:"d-flex justify-content-center"},!q.facebook&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fab fa-facebook"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(u.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),q.url&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:f.a.asUrl(q.url),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-link"})))),q.facebook&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:f.a.asFacebookLink(q.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"})))),q.instagram&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:f.a.asInstagramLink(q.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"})))),q.snapchat&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:f.a.asSnapchatLink(q.snapchat),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-snapchat"})))))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},!q.description&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(u.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(i.h)(m.a,{markdown:f.a.replaceImages(q.description,q.images,rt),markdownOpts:f.a.getMarkdownOptions()})))),"pictures"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)(u.b,null,Object(i.h)(W.a,{stores:this.props.stores,images:q.images,noimagestext:Object(i.h)(u.c,{id:"teams.no-photos"},"No photos for this team.")}))))),"dogs"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},(!B||0===B.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-dog"})),Object(i.h)("h3",null,Object(i.h)(u.c,{id:"teams.no-dogs-title"},"No dogs for this team!")),Object(i.h)(u.c,{id:"teams.no-dogs-text"},"You can add more dogs to this team.")))),B&&B.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.dogs",fields:{total:B.length}},"Hundene - ",B.length," stk"))),B&&B.map((function(t){return Object(i.h)(O.a,{stores:e.props.stores,dog:t})})))))),"mushers"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"offset-0 col-12 mt-2"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("a",{class:"btn btn-secondary float-right",href:"/teams/addmember/"+q.id},Object(i.h)("i",{class:"fas fa-plus"})," ",Object(i.h)(u.c,{id:"teams.add-new-member"},"Legg til medlem")))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.members",fields:{total:G.length}},"Medlemmer - ",G.length," stk")),G&&G.map((function(t){return Object(i.h)(j.a,{stores:e.props.stores,user:t,team:q})}))))),"workouts"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},(!L||0===L.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-running"})),Object(i.h)("h3",null,Object(i.h)(u.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(i.h)(u.c,{id:"teams.no-workouts-text"},"You can add more workouts to this team.")),Object(i.h)("div",{class:"text-center mt-3"},Object(i.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(u.c,{id:"header.add-workouts"},"Add Workouts"))))),L&&L.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.workouts"},"Workouts"))),Object(i.h)("div",{class:"offset-0 col-12 mt-3"},L&&L.map((function(t){return Object(i.h)(S.a,{stores:e.props.stores,workout:t,showDate:!0})})))))),"workoutplan"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)(F.a,{stores:this.props.stores,basehref:"/teams/"+q.id+"/",month:N,year:V,key:(b.id||K)+"-"+A+"-"+N+"-"+V,showNavigation:!0,showHeader:!0,currentTeam:A}),Object(i.h)("div",{class:"col-12"},Object(i.h)(R.a,{stores:this.props.stores,url:this.props.url,section:a})))),"fitness"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},(!et||0===et.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-chart-area"})),Object(i.h)("h3",null,Object(i.h)(u.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(i.h)(u.c,{id:"teams.no-workouts-fitness-text"},"When you add workouts your fitness graph will be calculated every night.")),Object(i.h)("div",{class:"text-center mt-3"},Object(i.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(u.c,{id:"header.add-workouts"},"Add Workouts"))))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)(g.a,{stores:this.props.stores})))),"compare"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.compare"},"Compare")),Object(i.h)(w.a,{stores:this.props.stores,isLoading:!1,key:"graph-avg-"+b.id+"-"+p.length,teamId:q.id,teamAmbition:ct,teamType:it})))),"trophy"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!q.trophys||0===q.trophys.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-award"})),Object(i.h)("h3",null,Object(i.h)(u.c,{id:"teams.no-trophys-title"},"No trophys for this team!")),Object(i.h)(u.c,{id:"teams.no-trophys-text"},"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys."))),Object(i.h)("div",{class:"row"},q.trophys&&q.trophys.reverse().map((function(t){var e=f.a.getTrophyImage(t.name);if(!e)return"";var s=t.descriptionHeader&&t.descriptionHeader[rt]?t.descriptionHeader[rt]:"",a=t.description&&t.description[rt]?t.description[rt]:"";return Object(i.h)("div",{class:"col-4 mt-3"},Object(i.h)("div",{class:"mb-2"},Object(i.h)("img",{src:e,class:"img-fluid"})),Object(i.h)("strong",null,s),Object(i.h)("small",null,Object(i.h)("details",null,Object(i.h)("summary",null,Object(i.h)(u.c,{id:"teams.trophy-details"},"Details")),Object(i.h)(m.a,{markdown:f.a.replaceImages(a,q.images,rt),markdownOpts:f.a.getMarkdownOptions()}))))})))))),"achievements"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!q.achievements||0===q.achievements.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-clock"})),Object(i.h)("h3",null,Object(i.h)(u.c,{id:"teams.no-achievements-title"},"No achievements for this team!")),Object(i.h)(u.c,{id:"teams.no-achievements-text"},"You can add achievements to this team. Ie. Memories, trips, tests, prices, races, etc."))),q.achievements&&q.achievements.map((function(t){return Object(i.h)("div",{class:"col-12 p-1"},t.date&&Object(i.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(t.date,!1,!1,!0)),Object(i.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(i.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("a",{href:f.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fas fa-link"}))))}))))),"followers"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.followers"},"Followers"))),Object(i.h)("div",{class:"col-12"},Object(i.h)(D.a,{stores:this.props.stores})),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},(!l.a.isArray(Z)||0===Z.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"far fa-sad-tear"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(u.c,{id:"teams.no-followers"},"Currently you have no followers, but fear not. It's easy get new followers. Be active in the feed and make you team profile beautiful."))),Object(i.h)("div",{class:"col-12 mb-5",style:"font-size: 1.5em;"},Object(i.h)(u.b,null,Object(i.h)(U,{stores:this.props.stores,saved:tt,team:q,field:"public",icon:"fas fa-eye",type:"toggle",title:Object(i.h)(u.c,{id:"teams.public"},"Synlig offentlig"),help:Object(i.h)(u.c,{id:"teams.public-help"},"Skal teamet være mulig å følge? Alle som vil følge må godkjennes av dere først."),onInput:this.updateField})))),l.a.isArray(Z)&&Z.map((function(t){return Object(i.h)(v.a,{stores:e.props.stores,team:t,myTeamId:q.id,showBlockButton:!0,callback:e.loadTeam})})),l.a.isArray($)&&$.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 mt-5"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.blocked-followers"},"Blokkerte team"),":")),l.a.isArray($)&&$.map((function(t){return Object(i.h)(v.a,{stores:e.props.stores,team:t,myTeamId:q.id,isBlocked:!0,callback:e.loadTeam})}))))))),"advanced"===a&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"teams.heatmap"},"Heatmap")),Object(i.h)(u.c,{id:"teams.heatmap-info"},"Heatmapen viser hvor du har vært denne sesongen.")),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},P&&P.length>0&&Object(i.h)(T.a,{stores:this.props.stores,mapId:P.length,heatmap:P,minZoom:2,height:600})),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(i.h)("h5",{class:"mt-5"},Object(i.h)(u.c,{id:"teams.recalculate-title"},"Recalculate fitness, form and fatigue")),Object(i.h)(u.c,{id:"teams.recalculate-help"},"Click the button below if you want to recalculate the fitness, form and fatigue data for your team and all dogs in this team.",Object(i.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either.",Object(i.h)("br",null),Object(i.h)("br",null),"Calculations can take up to 1 hour, so please be patitient."),Object(i.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(o?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateFitness},Object(i.h)("i",{class:"fas fa-sync"})," ",Object(i.h)(u.c,{id:"teams.recalculate"},"Recalculate fitness, form and fatigue")),Object(i.h)("br",null)),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(i.h)("h5",{class:"mt-5"},Object(i.h)(u.c,{id:"teams.delete-title"},"Delete team")),Object(i.h)(u.c,{id:"teams.delete-help"},"Click the button below to delete this team. All data related to this team will be lost. All team statistics will also be affected.",Object(i.h)("br",null),Object(i.h)("br",null),"It's important to remember that you need to have at lease one team in the app, even if you only have one dog."),Object(i.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteTeam},Object(i.h)("i",{class:"fas fa-trash"})," ",Object(i.h)(u.c,{id:"teams.delete"},"Delete")," ",q.name)))))},s}(i.Component))||c;e.default=H}.call(this,s("hosL").Fragment)},epqT:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),h=(s("ZOvn"),{showAddComment:!1}),d=Object(l.d)((function(){return{subject:Object(n.h)(l.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(n.h)(l.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}}))(r=Object(i.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).logClick=function(){return new Promise((function(t,e){var a,o,r,n,c;return n=void 0===(r=(o=(a=s.props.stores).adStore).ads)?[]:r,c=a.userStore.user,Promise.resolve(o.logClick({id:n.length>0?n[0].id:null,user:(void 0===c?{}:c).id})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s.updateTimer={},s.inputRef={},s.apiServer=c.a.getApiServer(),s}var r,i;i=e,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var d=s.prototype;return d.loadAd=function(t){return new Promise(function(e,s){var a,o,r,n,c,i,l,h,d,u,b;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),o=(a=this.props.stores).adStore,n=this.props.section,i=void 0===(c=a.appState.path)?"":c,d=void 0===(h=(r=a.userStore).user.language)?"en":h,u={},(l=a.workoutStore.currentTeam)&&(u=r.findTeam(l,!0))&&u.id&&(r.findTeamAmbition({ambition:u.ambitions,language:d}),r.findTeamType({type:u.type,language:d}),u.postalcode,u.place,u.country),i.replace(/\d+$/,"detail"),b=i.replace(/\/\d+/,"/detail"),Promise.resolve(o.load({query:{page:b,section:n}})).then(function(){try{return o.setTime(),this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},d.componentDidMount=function(){this.loadAd()},d.componentWillReceiveProps=function(t){t.path!==this.props.path&&this.loadAd(t)},d.render=function(){var e=this.props.stores,s=e.adStore,a=this.props,o=a.subject,r=a.body,c=a.section,i=e.appState.path,h=e.userStore.user,d=void 0===h?{}:h,u=s.ads,b=void 0===u?[]:u,m=s.time;if(!d||!d.id||!b||0===b.length)return i.match(/\/(home)/i)?Object(n.h)(t,null,Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"border rounded-lg p-4 my-3"},Object(n.h)("span",{class:"float-right display-4 text-warning"},Object(n.h)("i",{class:"far fa-smile-wink"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(n.h)("div",null,Object(n.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(n.h)(l.b,null,Object(n.h)("a",{href:"mailto:post@themusher.no?subject="+o+": "+i+": "+c+"&body="+r,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fas fa-paper-plane"})," ",Object(n.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(n.h)(t,null);var p=b[0];return Object(n.h)(t,null,Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",null,Object(n.h)("small",null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(n.h)("img",{src:this.apiServer+"/api/ads/"+p.id+"/view?user="+d.id+"&time="+m,style:"width: 1; height: 1; opacity: 0.1;"})))),p.target?Object(n.h)(t,null,Object(n.h)("a",{class:"stretched-link",href:""+p.url,target:p.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},p.images&&p.images[0]&&Object(n.h)(t,null,Object(n.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(n.h)(t,null,Object(n.h)("a",{class:"stretched-link",href:""+p.url,onClick:this.logClick},p.images&&p.images[0]&&Object(n.h)(t,null,Object(n.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))},s}(n.Component))||r)||r;e.a=d}).call(this,s("hosL").Fragment)},rWES:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),h=s("ZOvn"),d=(s("eQ6k"),{confirmed:{},deleted:{}}),u=Object(i.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).confirmRequest=function(t){var e=t.target.closest("button").dataset,a=e.team,o=e.user,r=e.follow,n=s.props.stores.teamStore;n.confirmFollowRequest({team:parseInt(a,10),user:parseInt(o,10)});var c=s.state.confirmed;c[a+"-"+o]=!0,s.setState({confirmed:c}),r&&n.followRequestUser(o)},s.deleteRequest=function(t){var e=t.target.closest("button").dataset,a=e.team,o=e.user;s.props.stores.teamStore.deleteFollowRequest({team:parseInt(a,10),user:parseInt(o,10)});var r=s.state.deleted;r[a+"-"+o]=!0,s.setState({deleted:r})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s}var r,i;i=e,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var u=s.prototype;return u.loadTeams=function(){return new Promise(function(t,e){return Promise.resolve(this.props.stores.teamStore.load({query:{},addData:["followRequests"]})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},u.componentDidMount=function(){this.loadTeams()},u.render=function(){var e=this,s=this.state,a=s.deleted,o=void 0===a?{}:a,r=s.confirmed,i=void 0===r?{}:r,d=this.props.stores,u=d.teamStore,b=u.teams,m=u.followRequests,p=void 0===m?[]:m,f=d.appState.darkmode;return u.hasFollowRequests?Object(n.h)("div",{class:"row pb-1"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-"+(f?"black":"white")+" shadow-sm"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},c.a.isArray(b)&&b.map((function(s){return Object(n.h)(t,null,s&&c.a.isArray(s.followRequests)&&s.followRequests.map((function(a){var r=a.image&&a.image.s3SmallLink?a.image:null,c=o[s.id+"-"+a.id],d=i[s.id+"-"+a.id],u=p.find((function(t){return t.user.id===a.id}));return Object(n.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:r?'background-image: url("'+r.s3SmallLink+'");':""},!r&&Object(n.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},h.a.displayNameShort(a))),Object(n.h)("small",null,Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)("strong",null,h.a.displayName(a)),Object(n.h)("br",null)),Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)(l.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)("strong",null,h.a.displayName(s)))),d||c?Object(n.h)(t,null,Object(n.h)("div",{class:"text-center"},d?Object(n.h)("div",{class:"text-success"},Object(n.h)(l.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(n.h)("i",{class:"fas fa-check"})):Object(n.h)("div",{class:"text-danger"},Object(n.h)(l.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(n.h)("i",{class:"fas fa-trash-alt"})))):Object(n.h)(t,null,Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:e.confirmRequest,"data-team":s.id,"data-user":a.id},Object(n.h)(l.c,{id:"teams.connect.confirm"},"Confirm")),u&&u.public>0&&Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:e.confirmRequest,"data-team":s.id,"data-user":a.id,"data-follow":!0},Object(n.h)(l.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(n.h)("div",{class:"mt-3"},Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:e.deleteRequest,"data-team":s.id,"data-user":a.id},Object(n.h)(l.c,{id:"teams.connect.delete"},"Del")))))))})))})))),Object(n.h)("details",{class:"mt-3"},Object(n.h)("summary",null,Object(n.h)("small",null,Object(n.h)(l.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(n.h)("p",null,Object(n.h)(l.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""},s}(n.Component))||r;e.a=u}).call(this,s("hosL").Fragment)},wM2g:function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("OhSV"),l=(s("ZOvn"),{});Object(c.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),s}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){return Object(n.h)("span",{class:"badge badge-pill badge-warning float-right"},Object(n.h)("i",{class:"fas fa-award mr-2"})," ",Object(n.h)(i.c,{id:"premium.title"},"Premium"))},e}(n.Component))}}]);
//# sourceMappingURL=21.chunk.e7b55.js.map