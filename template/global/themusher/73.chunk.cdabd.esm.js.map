{"version":3,"sources":["webpack:///./routes/public/race/raceheader.js","webpack:///./components/public/heatmap.js","webpack:///./routes/public/race/submenu.js","webpack:///./routes/public/race/style.css","webpack:///./routes/public/race/mushers.js","webpack:///./routes/public/race/header.js","webpack:///./routes/public/race/raceText.js"],"names":["initialState","RaceHeader","observer","Component","constructor","props","super","this","state","render","raceStore","appState","stores","title","language","race","today","Date","status","startDate","endDate","signupStartDate","signupEndDate","class","classes","useEffect","document","PageTitle","style","util","formatDate","locale","hour12","hour","minute","liveRace","role","id","showAddComment","Heatmap","updateTimer","inputRef","setState","isLoading","adminStore","raceid","getPublicHeatmap","componentDidMount","loadHeatmap","waypoints","zoomToMarkers","mapid","fullscreenMap","publicHeatmap","heatmap","mapId","length","minZoom","maxZoom","height","key","mu","marginTop","marginBottom","subMenuMarginTop","email","submenu","jwtToken","getJwtToken","PublicRaceDetail","path","darkmode","currentMenu","match","href","module","exports","MARGIN_TOP","MARGIN_BOTTOM","reloadInSec","reloadLastEpoch","reloadIsActive","showAdminSendMessage","message","subject","body","toggleDisplayDetails","e","target","closest","dataset","editUserDetails","adminToggleEditUser","stopPropagation","toggleEditUserDetails","adminSignupEdit","field","value","classid","contestantid","data","raceClassId","contestantId","ucfirst","clearTimeout","setTimeout","async","editClass","toggleAdminSendMessage","classId","sendEmail","raceId","to","raceclassid","emailResponse","resetEmail","signupToRace","signup","addContestant","newContestant","parseInput","parseInputTimer","doParseInput","lines","String","split","headers","jsonData","firstLine","i","l","line","values","jsonObject","forEach","v","idx","val","toLowerCase","push","addMultipleContestants","contestants","load","allTeamIds","map","currentClass","musher","team","loadTeams","join","componentWillUnmount","reload","tick","loadRace","componentWillReceiveProps","nextProps","userStore","displayDetails","isAdmin","reloadPercent","Math","floor","normalizeBetween","aria-valuenow","aria-valuemin","aria-valuemax","contestantsUrl","rel","native","contestantsText","sort","a","b","distance","filter","user","startTime","endTime","scope","currentTeam","getTeamById","onClick","data-email","firstname","lastname","name","sportsClub","facebook","asFacebookLink","instagram","asInstagramLink","price1","priceSent","price2","price3","dogs","dog","image","s3SmallLink","birth","gender","age","deceased","for","type","data-classid","data-contestantid","onInput","bib","isoDate","raceStatus","raceComment","gpxResultsApproved","paidSignupfee","startOrder","cellphone","address","postalcode","postalplace","flag","countryCode","birthdate","aria-describedby","signupfee","emails","date","dangerouslySetInnerHTML","__html","$str","replace","linkstate","rows","markdown","markdownOpts","getMarkdownOptions","JSON","stringify","data-to","data-raceclassid","data-class","oninput","menu","profile","main","searchText","Navigation","toggleDropdown","menuName","parentNode","toggleDarkmode","toggleViewmode","mode","reloadApp","window","location","adminLoadAll","getInfo","changeLanguage","lang","console","log","setLanguage","search","route","notifications","read","src","data-name","className","activeClassName","selected","text","finalText","regex","RegExp"],"mappings":"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","file":"73.chunk.cdabd.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport { useEffect } from \"preact/hooks\";\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nfunction PageTitle(title, classes = '') {\n\tuseEffect(() => {\n\t\tdocument.title = `Homerun Race: ${title}`;\n\t}, [title]);\n\treturn <h1 class={classes}>{title}</h1>;\n}\n\nconst initialState = {\n};\n\n@observer\nclass RaceHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    render() {\n\t\tconst { raceStore, appState } = this.props.stores;\n\t\tconst { title } = this.props;\n\t\tconst { darkmode, language = 'en' } = appState;\n\t\tconst { race } = raceStore;\n\n\t\tconst today = new Date();\n\t\tlet status = '';\n\t\tif (today >= new Date(race.startDate) && today <= new Date(race.endDate)) {\n\t\t\tstatus = 'race';\n\t\t} else if (today >= new Date(race.signupStartDate) && today <= new Date(race.signupEndDate)) {\n\t\t\tstatus = 'signup';\n\t\t} else if (today > new Date(race.endDate)) {\n\t\t\tstatus = 'done';\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class='d-flex'>\n\t\t\t\t\t<div class='flex-fill'>\n\t\t\t\t\t\t{PageTitle(title, 'mb-0')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='flex-fill text-center d-none d-md-block'>\n\t\t\t\t\t\t<h1 class='mb-0' style='line-height: 0.8em;'><span class='font-weight-lighter' style='letter-spacing: -1px;'>{race.title}</span></h1>\n\t\t\t\t\t\t<small class=''>\n\t\t\t\t\t\t\t{race.startDate && <>{util.formatDate(race.startDate, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n\t\t\t\t\t\t\t{race.endDate && <> - {util.formatDate(race.endDate, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='flex-fill'>\n\t\t\t\t\t\t<h3 class='float-right'>\n\t\t\t\t\t\t\t{status === 'signup' && !race.liveRace && <>\n\t\t\t\t\t\t\t\t<div class='spinner-grow text-primary' role='status' />\n\t\t\t\t\t\t\t\t<span class='badge badge-primary ml-2'><Text id='races.signup-open'>Påmelding åpen</Text></span>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{status === 'race' && <>\n\t\t\t\t\t\t\t\t<div class='spinner-grow text-danger' role='status' />\n\t\t\t\t\t\t\t\t<span class='badge badge-danger ml-2'><Text id='races.race-in-progress'>Løp pågår</Text></span>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{status === 'done' && <>\n\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t<span class='badge badge-success ml-2'><Text id='races.race-finished'>Løp avsluttet</Text></span>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class='d-block d-md-none'>\n\t\t\t\t\t<h4 class='mb-0' style='line-height: 0.8em;'><span class='font-weight-light' style='letter-spacing: -1px;'>{race.title}</span></h4>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{race.startDate && <>{util.formatDate(race.startDate, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n\t\t\t\t\t\t{race.endDate && <> - {util.formatDate(race.endDate, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n\t\t\t\t\t</small>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default RaceHeader;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport { toJS } from 'mobx'\n\nimport Map from '../../components/map';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n\tshowAddComment: false,\n};\n\n@observer\nclass Heatmap extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n    }\n\n\tasync loadHeatmap() {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { adminStore } = this.props.stores;\n        const { raceid } = this.props;\n        await adminStore.getPublicHeatmap(raceid);\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadHeatmap();\n\t}\n\n    // componentWillReceiveProps() {\n\t// \tthis.loadHeatmap();\n\t// }\n\n    render() {\n        const { adminStore } = this.props.stores;\n        const { waypoints, zoomToMarkers, mapid, fullscreenMap } = this.props;\n        const { publicHeatmap: heatmap } = adminStore;\n        // const heatmap = publicHeatmap.slice(0, 10);\n        // const heatmap = [[60.4433,8.8996,14],[61.384,9.1152,14],[60.42,8.9422,15]];\n\n        return (\n            <>\n                {/* heatmap: {`map-${mapid}`}<br /> */}\n                {/* {JSON.stringify(heatmap)} */}\n                <Map\n                    stores={this.props.stores}\n                    mapId={heatmap.length}\n                    heatmap={heatmap}\n                    minZoom={2}\n                    maxZoom={18}\n                    height={600}\n                    waypoints={waypoints}\n                    zoomToMarkers={zoomToMarkers}\n                    fullscreenMap={fullscreenMap}\n                    key={`map-${mapid}`}\n                />\n            </>\n        );\n    }\n}\n\nexport default Heatmap;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkstate from 'linkstate';\n\nimport Header from './header';\nimport Heatmap from '../../../components/public/heatmap';\n\nimport mu from '../../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n\tisLoading: false,\n\temail: '',\n\tsubmenu: 'ads',\n\tjwtToken: util.getJwtToken(),\n};\n\n@observer\nclass PublicRaceDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\trender() {\n\t\tconst { appState } = this.props.stores;\n\t\tconst { raceid, path } = this.props;\n\t\tconst { darkmode } = appState;\n\n        let currentMenu = 'default';\n        if (path.match(/\\/race\\/:raceid$/)) {\n            currentMenu = 'default';\n        } else if (path.match(/\\/race\\/:raceid\\/mushers$/)) {\n            currentMenu = 'mushers';\n        } else if (path.match(/\\/race\\/:raceid\\/results$/)) {\n            currentMenu = 'results';\n        } else if (path.match(/\\/race\\/:raceid\\/media$/)) {\n            currentMenu = 'media';\n        } else if (path.match(/\\/race\\/:raceid\\/tracking$/)) {\n            currentMenu = 'tracking';\n        }\n\n\t\treturn (\n\t\t\t<>\t\t\t\t\n                <div class='row fixed-top pr-3' style={`margin-top: 40px; background-color: ${darkmode ? '#191d21' : '#f8f9fa'};`}>\n\n                    <div class='col-12 my-2 mx-2'>\n                        <ul class='nav nav-pills nav-fill flex-nowrap'>\n                            <li class='nav-item' style='max-width: 20%;'>\n                                <a href={`/race/${raceid}`} class={`text-overflow nav-link ${currentMenu === 'default' ? 'active' : ''}`}>\n                                    <nobr><i class='fas fa-info-circle' /> <Text id='race.therace'>Løpet</Text></nobr>\n                                </a>\n                            </li>\n                            <li class='nav-item' style='max-width: 20%;'>\n                                <a href={`/race/${raceid}/mushers`} class={`text-overflow nav-link ${currentMenu === 'mushers' ? 'active' : ''}`}>\n                                    <nobr><i class='fas fa-users' /> <Text id='race.mushers'>Deltakere</Text></nobr>\n                                </a>\n                            </li>\n                            <li class='nav-item' style='max-width: 20%;'>\n                                <a href={`/race/${raceid}/results`} class={`text-overflow nav-link ${currentMenu === 'results' ? 'active' : ''}`}>\n                                    <nobr><i class='fas fa-poll' /> <Text id='race.results'>Resultater</Text></nobr>\n                                </a>\n                            </li>\n                            <li class='nav-item' style='max-width: 20%;'>\n                                <a href={`/race/${raceid}/media`} class={`text-overflow nav-link ${currentMenu === 'media' ? 'active' : ''}`}>\n                                    <nobr><i class='fas fa-images' /> <Text id='race.media'>Bilder</Text></nobr>\n                                </a>\n                            </li>\n                            <li class='nav-item' style='max-width: 20%;'>\n                                <a href={`/race/${raceid}/tracking`} class={`text-overflow nav-link ${currentMenu === 'tracking' ? 'active' : ''}`}>\n                                    <nobr><i class='fas fa-map-marked-alt' /> <Text id='race.tracking'>Tracking</Text></nobr>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n\n\n                    {/* <div class={`col text-center subtopmenu ${path.match(/\\/race\\/:raceid$/) ? 'border-bottom border-primary' : ''}`}>\n                        <a href={`/race/${raceid}`} class={`text-${path.match(/\\/race\\/:raceid$/) ? 'primary' : 'secondary'} stretched-link`}>\n                            <nobr><i class='fas fa-chart-line' /> <Text id='race.therace'>Løpet</Text></nobr>\n                        </a>\n                    </div>\n                    <div class={`col text-center subtopmenu ${path.match(/\\/race\\/:raceid\\/mushers$/) ? 'border-bottom border-primary' : ''}`}>\n                        <a href={`/race/${raceid}/mushers`} class={`text-${path.match(/\\/race\\/:raceid\\/mushers$/) ? 'primary' : 'secondary'} stretched-link`}>\n                            <nobr><i class='fas fa-chart-line' /> <Text id='race.mushers'>Deltakere</Text></nobr>\n                        </a>\n                    </div>\n                    <div class={`col text-center subtopmenu ${path.match(/\\/race\\/:raceid\\/results$/) ? 'border-bottom border-primary' : ''}`}>\n                        <a href={`/race/${raceid}/results`} class={`text-${path.match(/\\/race\\/:raceid\\/results$/) ? 'primary' : 'secondary'} stretched-link`}>\n                            <nobr><i class='fas fa-chart-line' /> <Text id='race.results'>Resultater</Text></nobr>\n                        </a>\n                    </div>\n                    <div class={`col text-center subtopmenu ${path.match(/\\/race\\/:raceid\\/tracking$/) ? 'border-bottom border-primary' : ''}`}>\n                        <a href={`/race/${raceid}/tracking`} class={`text-${path.match(/\\/race\\/:raceid\\/tracking$/) ? 'primary' : 'secondary'} stretched-link`}>\n                            <nobr><i class='fas fa-chart-line' /> <Text id='race.tracking'>Tracking</Text></nobr>\n                        </a>\n                    </div> */}\n                </div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default PublicRaceDetail;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pointerCursor\":\"pointerCursor__1W6mM\"};","import { h, Component } from 'preact';\nimport { useEffect } from \"preact/hooks\";\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkstate from 'linkstate';\nimport Markdown from 'preact-markdown';\n\nimport Header from './header';\nimport Submenu from './submenu';\nimport RaceHeader from './raceheader';\nimport RaceText from './raceText';\n\nimport mu from '../../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true, true);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nfunction nl2br($str) {\n\tif (typeof $str === 'string') {\n\t\treturn $str.replace(/[\\n]/g, '<br>');\n\t}\n\treturn $str;\n}\n\nconst initialState = {\n\tisLoading: false,\n\temail: '',\n\tsubmenu: 'ads',\n\tjwtToken: util.getJwtToken(),\n\n\treloadInSec: null,\n\treloadLastEpoch: null,\n\treloadIsActive: false,\n\n\tshowAdminSendMessage: {},\n\n\tmessage: {\n\t\tsubject: '',\n\t\tbody: '',\n\t},\n};\n\nconst RELOAD_INTERVAL_IN_SEC = 60;\n\n@observer\nclass PublicRaceDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n\t\tthis.updateTimer = {};\n    }\n\n\tasync loadRace(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { raceStore } = props.stores;\n\t\tconst { raceid } = props;\n\t\tawait raceStore.load(raceid);\n\t\tconst { race } = raceStore;\n\t\tconst allTeamIds = race.classes.map((currentClass) => {\n\t\t\tif (currentClass.contestants) {\n\t\t\t\treturn currentClass.contestants.map(musher => musher.team)\n\t\t\t}\n\t\t});\n\t\tif (allTeamIds.length > 0) {\n\t\t\tawait raceStore.loadTeams(allTeamIds.join(','));\n\t\t}\n\n\t\t// const reloadLastEpoch = Math.floor(new Date().getTime() / 1000);\n\t\t// this.setState({\n\t\t// \treloadIsActive: true,\n\t\t// \treloadLastEpoch,\n\t\t// }, () => this.tickReloadTimeer());\n\t\t// // Set reload timer\n\t\t// clearTimeout(this.updateTimer.reload);\n\t\t// this.updateTimer.reload = setTimeout(async () => {\n\t\t// \tconst reloadLastEpoch = Math.floor(new Date().getTime() / 1000);\n\t\t// \tthis.setState({ reloadLastEpoch });\n\t\t// \tthis.loadRace();\n\t\t// }, RELOAD_INTERVAL_IN_SEC * 1000);\n\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\t// tickReloadTimeer() {\n\t// \tconst { reloadIsActive, reloadLastEpoch } = this.state;\n    //     if (reloadIsActive) {\n\t// \t\tconst now = Math.floor(new Date().getTime() / 1000);\n\t// \t\tconst reloadInSec = RELOAD_INTERVAL_IN_SEC - (now - reloadLastEpoch);\n\t// \t\tthis.setState({ reloadInSec });\n\t// \t\tclearTimeout(this.updateTimer.tick);\n\t// \t\tthis.updateTimer.tick = setTimeout(() => this.tickReloadTimeer(), 1000);\n    //     }\n\t// \treturn false;\n    // }\n\n\ttoggleDisplayDetails = (e) => {\n\t\tconst email = e.target.closest('tr').dataset.email;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { editUserDetails } = appState;\n\t\tif (!editUserDetails[email]) {\n\t\t\tappState.toggleDisplayDetails(email)\n\t\t}\n\t}\n\n\tadminToggleEditUser = (e) => {\n\t\te.stopPropagation();\n\t\tconst email = e.target.closest('tr').dataset.email;\n\t\tconst { appState } = this.props.stores;\n\t\tappState.toggleEditUserDetails(email)\n\t}\n\n\tadminSignupEdit = (e) => {\n        const { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n        const field = e.target.id;\n        const value = e.target.value;\n        const { classid, contestantid } = e.target.dataset;\n\n        // console.log({ raceid, field, value, classid });\n        // const { raceStore } = this.props.stores;\n        // raceStore.updateObjectKeyValue('signup', key, value);\n\n        const data = {\n\t\t\traceClassId: classid,\n            contestantId: contestantid,\n\t\t\t[`raceClassContestant${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[field]);\n\t\tthis.updateTimer[field] = setTimeout(async () => {\n\t\t\traceStore.editClass({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 500);\n\t}\n\n\ttoggleAdminSendMessage = (e) => {\n\t\tconst classId = e.target.closest('button').dataset.class;\n\t\tconst { showAdminSendMessage } = this.state;\n\t\tshowAdminSendMessage[classId] = !showAdminSendMessage[classId];\n\t\tthis.setState({ showAdminSendMessage });\n\t}\n\n\tsendEmail = async (e) => {\n\t\tconst { raceid: raceId } = this.props;\n\t\tconst to = e.target.closest('button').dataset.to;\n\t\tconst raceClassId = e.target.closest('button').dataset.raceclassid;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { message } = this.state;\n\t\tconst { subject, body } = message;\n\t\tconst emailResponse = await appState.sendEmail({\n\t\t\tto,\n\t\t\tsubject,\n\t\t\tbody,\n\t\t\traceId,\n\t\t\traceClassId,\n\t\t});\n\t\tthis.setState({ emailResponse });\n\t}\n\n\tresetEmail = () => {\n\t\tthis.setState({\n\t\t\temailResponse: null,\n\t\t\tmessage: {\n\t\t\t\tsubject: '',\n\t\t\t\tbody: '',\n\t\t\t},\n\t\t});\n\t}\n\n\tsignupToRace = async ({ signup }) => {\n\t\tconst { raceStore } = this.props.stores;\n        const { race = {} } = this.props;\n        const raceid = race.id;\n\n\t\tawait raceStore.addContestant({\n\t\t\tid: raceid,\n\t\t\tclassId: signup.class,\n\t\t\tnewContestant: {\n\t\t\t\t// team: user.team,\n\t\t\t\t// firstname: user.firstname,\n\t\t\t\t// lastname: user.lastname,\n\t\t\t\t// sportsClub: user.sportsClub,\n\t\t\t\t// email: user.email,\n\t\t\t\t// cellphone: user.cellphone,\n\t\t\t\t// facebook: user.facebook,\n\t\t\t\t// instagram: user.instagram,\n\t\t\t\t ...signup\n\t\t\t}\n        });\n\t}\n\n    parseInput = async (data, classId) => {\n        clearTimeout(this.parseInputTimer);\n        this.parseInputTimer = setTimeout(() => this.doParseInput(data, classId), 500);\n    }\n\n    doParseInput = async (data, classId) => {\n        const lines = String(data).split('\\n');\n        let headers = [];\n        const jsonData = [];\n\n        // Get headers\n        const firstLine = lines[0];\n        if (firstLine.match(/\\t/)) {\n            headers = firstLine.split('\\t');\n        } else if (firstLine.match(/;/)) {\n            headers = firstLine.split(';');\n        } else {\n            headers = firstLine.split(',');\n        }\n\n        // Map data to headernames\n        for (let i = 1, l = lines.length; i < l; i += 1) {\n            const line = lines[i];\n            let values;\n            if (line.match(/\\t/)) {\n                values = line.split('\\t');\n            } else if (line.match(/;/)) {\n                values = line.split(';');\n            } else {\n                values = line.split(',');\n            }\n            const jsonObject = {};\n            values.forEach((v, idx) => {\n                let val = v;\n                if (headers[idx] === 'email') {\n                    val = v.toLowerCase();\n                }\n                jsonObject[headers[idx]] = val;\n            });\n            jsonData.push(jsonObject);\n        }\n\n        const { raceStore } = this.props.stores;\n\t\tconst { raceid } = this.props;\n        raceStore.addMultipleContestants({ id: raceid, classId, contestants: jsonData });\n        return true;\n    }\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.updateTimer.reload);\n\t\tclearTimeout(this.updateTimer.tick);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadRace();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.loadRace(nextProps);\n\t}\n\n\trender() {\n\t\tconst { appState, raceStore, userStore } = this.props.stores;\n\t\tconst { raceid, path } = this.props;\n\t\tconst { showAdminSendMessage, message, emailResponse } = this.state;\n\t\tconst { darkmode, displayDetails, editUserDetails, language = 'en' } = appState;\n\t\tconst { race, teamList } = raceStore;\n\t\tconst { isAdmin } = userStore;\n\n\t\tconst { reloadInSec } = this.state;\n\t\tconst reloadPercent = Math.floor(util.normalizeBetween(reloadInSec, 0, RELOAD_INTERVAL_IN_SEC, 0, 100))\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Header stores={this.props.stores} />\n\n\t\t\t\t<div class='container-fluid ' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t\t<Submenu stores={this.props.stores} path={path} raceid={raceid} />\n\n\t\t\t\t\t<div class='row border-bottom '>\n\t\t\t\t\t\t<div class='col-12'>\n\n\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t<RaceHeader stores={this.props.stores} title={<Text id='races.mushers'>Deltakere</Text>} />\n\t\t\t\t\t\t\t</Localizer>\n\n\t\t\t\t\t\t\t{reloadInSec >= 0 && <>\n\t\t\t\t\t\t\t\t<div class='progress fixed-top' style='height: 2px;'>\n\t\t\t\t\t\t\t\t\t<div class='progress-bar' role='progressbar' style={`width: ${reloadPercent}%;`} aria-valuenow={reloadPercent} aria-valuemin='0' aria-valuemax='100' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t{race.contestantsUrl ? <div class='p-3 my-4 bg-light'>\n\t\t\t\t\t\t\t\t<a href={race.contestantsUrl} target='_blank' rel=\"noreferrer\" native>\n\t\t\t\t\t\t\t\t\t{race.contestantsText ? race.contestantsText : <><Text id='races.musher-here'>Se deltakere her</Text></>} <i class='fas fa-chevron-circle-right' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div> : <></>}\n\n\t\t\t\t\t\t\t{!race.classes && <div class='d-flex justify-content-center my-5 py-5'>\n\t\t\t\t\t\t\t\t<div class='spinner-border text-primary' role='status'>\n\t\t\t\t\t\t\t\t\t<span class='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>}\n\n\t\t\t\t\t\t\t{race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n\t\t\t\t\t\t\t\t{isAdmin && <span class='float-right'>\n\t\t\t\t\t\t\t\t\tTotal app users: {currentClass.contestants && currentClass.contestants.filter(musher => musher.user).length}\n\t\t\t\t\t\t\t\t</span>}\n\t\t\t\t\t\t\t\t<h5>{currentClass.title} {currentClass.startDate && <>\n\t\t\t\t\t\t\t\t\t: <span class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t{util.formatDate(`${currentClass.startDate} ${currentClass.startTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })} - {util.formatDate(`${currentClass.endDate} ${currentClass.endTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>}</h5>\n\t\t\t\t\t\t\t\t<div class='table-responsive-md'>\n\t\t\t\t\t\t\t\t\t<table class='table table-sm table-striped'>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col'>#</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col' style='min-width: 200px;'><Text id='races.name'>Navn</Text></th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col' style='min-width: 400px;'><Text id='races.dogs'>Hundene</Text></th>\n\t\t\t\t\t\t\t\t\t\t\t\t{isAdmin && <th class='text-center'><Text id='races.admin'>Admin</Text></th>}\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{currentClass.contestants && currentClass.contestants.map((musher, idx) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst currentTeam = raceStore.getTeamById(musher.team);\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn (<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr onClick={this.toggleDisplayDetails} data-email={musher.email}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope='row'>{idx + 1}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`${displayDetails[musher.email] ? 'font-weight-bold' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`${displayDetails[musher.email] ? '' : 'line-height: 0.8em;'}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{displayDetails[musher.email] ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.firstname} {musher.lastname}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'>{currentTeam.name}</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>{musher.sportsClub}</small><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.facebook && <a class='mr-2' href={mu.asFacebookLink(musher.facebook)} native target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.instagram && <a class='mr-2' href={mu.asInstagramLink(musher.instagram)} native target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a>}<br />\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price1 && <div class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-trophy text-warning' /> {musher.price1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.priceSent && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price2 && <div class='font-weight-lighter'><i class='fas fa-trophy text-warning' /> {musher.price2}</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price3 && <div class='font-weight-lighter'><i class='fas fa-trophy text-warning' /> {musher.price3}</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price1 && <span class='float-right text-warning' style='font-size: 1.2em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-trophy' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.priceSent && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.firstname} {musher.lastname}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>{musher.sportsClub}</small><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</nobr>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-primary btn-sm float-right' onClick={this.adminToggleEditUser}><i class='fas fa-user-edit' /></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isAdmin && race.liveRace && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='float-right text-warning mr-2' style='font-size: 1.2em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.user}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(displayDetails[musher.email] || editUserDetails[musher.email]) ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class={`d-flex ${displayDetails[musher.email] ? 'flex-nowrap' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle='min-width: 400px;'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentTeam && currentTeam.dogs && currentTeam.dogs.map(dog => <div class='mx-0 mr-1 px-0 position-relative pt-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-center border rounded-circle imageRounded text-muted pt-2`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='float-left text-overflow' style={`width: 70px;`}>{dog.name}</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(dog.birth || dog.gender) && <small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='font-weight-normal float-right position-absolute text-white bg-info p-1 rounded' style='top: 0px; right: 0px; line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dog.birth && <span class='mr-1 text-white'>{util.age(dog.birth, dog.deceased)}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dog.gender && <>{dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentTeam && currentTeam.dogs && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentTeam.dogs.length} <i style='width: 20px;' class='fas fa-dog' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(isAdmin && editUserDetails[musher.email]) && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>Admin edit:</h5>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class='col-sm-2 col-form-label text-right'>Email</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-sm-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='bib' class='col-4 col-form-label text-right'>bib</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' class='form-control' id='bib'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.bib}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='startTime' class='col-4 col-form-label text-right'>startTime</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='startTime'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.startTime ? util.isoDate(musher.startTime, false, false, false) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>team</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' class='form-control' id='team'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.team}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='user' class='col-4 col-form-label text-right'>user</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' class='form-control' id='user'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.user}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Race status</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='raceStatus'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.raceStatus}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Choose race status --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='OK'>OK - Everything ok</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNS'>DNS - Did Not Start</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNF'>DNF - Did Not Finish</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNQ'>DNQ - Did not qualify</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DQ'>DQ - Disqualified</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='raceComment' class='col-4 col-form-label text-right'>Race comment</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='raceComment'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.raceComment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='gpxResultsApproved' class='col-4 col-form-label text-right'>GPX Results approved (date)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='gpxResultsApproved'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.gpxResultsApproved ? util.isoDate(musher.gpxResultsApproved, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='paidSignupfee' class='col-4 col-form-label text-right'>paidSignupfee (date)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='paidSignupfee'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.paidSignupfee ? util.isoDate(musher.paidSignupfee, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='startOrder' class='col-4 col-form-label text-right'>startOrder</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' class='form-control' id='startOrder'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.startOrder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='cellphone' class='col-4 col-form-label text-right'>Mobil</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='cellphone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.cellphone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='name' class='col-4 col-form-label text-right'>Navn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='firstname' class='col-4 col-form-label text-right'>Fornavn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='firstname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.firstname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='lastname' class='col-4 col-form-label text-right'>Etternavn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='lastname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.lastname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='address' class='col-4 col-form-label text-right'>Adresse</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='address'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.address}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='postalcode' class='col-4 col-form-label text-right'>Postalcode</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='postalcode'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.postalcode}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='postalplace' class='col-4 col-form-label text-right'>Postalplace</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='postalplace'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.postalplace}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='flag' class='col-4 col-form-label text-right'>flag (emoji)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='flag'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.flag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='countryCode' class='col-4 col-form-label text-right'>countryCode (iso)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='countryCode'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.countryCode}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='birthdate' class='col-4 col-form-label text-right'>birthdate</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='birthdate'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.birthdate ? util.isoDate(musher.birthdate, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='sportsClub' class='col-4 col-form-label text-right'>Klubb</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='sportsClub'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.sportsClub}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='facebook' class='col-4 col-form-label text-right'>Facebook</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='facebook'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.facebook}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='instagram' class='col-4 col-form-label text-right'>Instagram</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='instagram'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.instagram}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Team</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='team' aria-describedby='teamHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.team}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Velg team --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{teams.map(team =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={team.id}>{team.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Klasse</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='class' aria-describedby='classHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Choose race class --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price1' class='col-4 col-form-label text-right'>Price 1</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price2' class='col-4 col-form-label text-right'>Price 2</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price3' class='col-4 col-form-label text-right'>Price 3</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='priceSent' class='col-4 col-form-label text-right'>Price sent</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='priceSent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.priceSent ? util.isoDate(musher.priceSent, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-sm-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' class='btn btn-danger float-right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='deleteUser'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete user from this class\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isAdmin && <td class='text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.paidSignupfee && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' /><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.raceStatus && <><span class='text-muted'>raceStatus:</span><br /> {musher.raceStatus}<br /></>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.raceComment && <><span class='text-muted'>raceComment:</span><br /> {musher.raceComment}<br /></>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.gpxResultsApproved && <><span class='text-muted'>gpxResultsApproved:</span><br /> {musher.gpxResultsApproved}<br /></>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</>);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t\t{showAdminSendMessage[currentClass.id] ? <>\n\t\t\t\t\t\t\t\t\t\t<div class='container'>\n\t\t\t\t\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>Message to all mushers in {currentClass.title}</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='overflow-auto p-5' style='max-height: 30vh;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentClass.emails && currentClass.emails.map((email) => <div class='border rounded-lg p-3 mb-3'>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDate:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{util.formatDate(email.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTo:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.to.map(e => <span class='badge badge-info px-2 py-1 mr-2'>{e}</span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubject:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBody:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: nl2br(email.body) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='subject' class='col-2 col-form-label text-right font-weight-lighter'>To</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentClass.contestants && currentClass.contestants.map((musher) => <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-info px-2 py-1 mr-2'>{musher.firstname} {musher.lastname} ({musher.email})</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='subject' class='col-2 col-form-label text-right font-weight-lighter'>Subject</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='subject'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={linkstate(this, 'message.subject')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={message.subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='body' class='col-2 col-form-label text-right font-weight-lighter'>Message</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea type='text' class='form-control' id='body'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows='10'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={linkstate(this, 'message.body')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={message.body}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-5 contain-images'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Markdown markdown={message.body} markdownOpts={mu.getMarkdownOptions()} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{emailResponse && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class={`alert alert-${emailResponse && emailResponse.status >= 300 ? 'danger' : 'success'}`} role='alert'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<xmp>{JSON.stringify(emailResponse, null, 4)}</xmp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-success float-right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-to={currentClass.contestants && currentClass.contestants.map(musher => musher.email)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-raceclassid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.sendEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-paper-plane' /> Send email to all mushers\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-danger float-right mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.resetEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-times' /> Reset email\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link' type='button' onClick={this.toggleAdminSendMessage} data-class={currentClass.id}>Hide email form</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link' type='button' onClick={this.toggleAdminSendMessage} data-class={currentClass.id}>Send message to all in this class</button>\n\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t\t{isAdmin && race.liveRace === 1 && <>\n\t\t\t\t\t\t\t\t\t\t<div class='form-group'>\n\t\t                                    <label for='importUsers'><Text id='races.paste-users'>Paste your user data here to import users</Text>:</label>\n\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\tclass='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\tid='importUsers'\n\t\t\t\t\t\t\t\t\t\t\t\trows='20'\n\t\t\t\t\t\t\t\t\t\t\t\toninput={e => this.parseInput(e.target.value, currentClass.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t</>}\n\n\n\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default PublicRaceDetail;\n","import { h, Component } from 'preact';\nimport { Link } from 'preact-router/match';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport style from './style.css';\n\n\nconst initialState = {\n    menu: {\n\t\tprofile: false,\n\t\tmain: false,\n\t},\n\tsearchText: '',\n};\n\n@observer\nclass Navigation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\ttoggleDropdown = (e) => {\n\t\tconst { menu } = this.state;\n\t\tlet menuName = e.target.dataset.name;\n\t\tif (!menuName && e.target.parentNode) {\n\t\t\tmenuName = e.target.parentNode.dataset.name;\n\t\t}\n\t\tif (menuName) {\n\t\t\tmenu[menuName] = !menu[menuName];\n\t\t}\n\t\tthis.setState({ menu });\n\t}\n\n\ttoggleDarkmode = (e) => {\n        const { appState } = this.props.stores;\n\t\tappState.toggleDarkmode();\n\t\tthis.toggleDropdown(e);\n\t}\n\n\ttoggleViewmode = (e) => {\n        const { appState } = this.props.stores;\n\t\tlet mode = e.target.dataset.mode;\n\t\tif (!mode && e.target.parentNode) {\n\t\t\tmode = e.target.parentNode.dataset.mode;\n\t\t}\n\t\tappState.toggleViewmode(mode);\n\t\tthis.toggleDropdown(e);\n\t}\n\n\treloadApp = () => {\n\t\twindow.location.reload(true);\n\t}\n\n\tadminLoadAll = async (e) => {\n        const { userStore } = this.props.stores;\n        await userStore.getInfo(true);\n\t}\n\n\tchangeLanguage = (e) => {\n\t\tconst lang = e.target.value;\n\t\tconsole.log('changeLanguage', lang);\n\t\tconst { appState, userStore } = this.props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tif (user.email) {\n\t\t\tuserStore.setLanguage({ email: user.email, language: lang });\n\t\t}\n\t\tappState.setLanguage(lang);\n\t}\n\n\tsearch = () => {\n\t\tconst { searchText } = this.state;\n\t\troute(`/search/${searchText}`);\n\t}\n\n    render() {\n\t\tconst { menu, searchText } = this.state;\n        const { appState, userStore } = this.props.stores;\n        const { darkmode, viewmode, isCordova } = appState;\n\t\tconst { allUsers, isAdmin, user, notifications = [] } = userStore;\n\t\tconst unreadNotificatins = notifications.filter(e => !e.read);\n\t\tconst unread = unreadNotificatins.length || 0;\n\t\tconst { language = 'en' } = user;\n\n\t\treturn (\n\t\t\t<nav class='navbar navbar-expand-lg navbar-themed fixed-top py-1' style='z-index: 99999;'>\n\t\t\t\t<a class='navbar-brand' href='/race/'>\n\t\t\t\t\t{/* <img src={`./assets/logo-jul-2020-v2-${darkmode ? 'black' : 'white'}.png`} height='30' class='position-absolute' style='top: 8px; left: 6px' /> */}\n\t\t\t\t\t<img src={`./assets/homerun-race-logo-2-${darkmode ? 'white-' : ''}small.png`} height='37' class='position-absolute' style='top: 5px; left: 6px' />\n\t\t\t\t\t<span class='font-weight-normal' style='margin-left: 30px; font-size: 20px;'>Homerun Race</span>\n\t\t\t\t</a>\n\n\t\t\t\t<button class='navbar-toggler' type='button'\n\t\t\t\t\tdata-name='main'\n\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t>\n\t\t\t\t\t<span class='navbar-toggler-icon' />\n\t\t\t\t</button>\n\n\t\t\t\t<div class={`collapse navbar-collapse ${menu.main ? 'show' : ''}`} id='navbarSupportedContent'>\n\t\t\t\t\t<ul class='navbar-nav mr-auto ml-5'>\n\t\t\t\t\t\t<li class='nav-item'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'} href='/race'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tstyle='font-size: 1.0em !important;'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t><i class='fas fa-flag-checkered' /> <Text id='header.races'>Løpene</Text></Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class='nav-item'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'} href='/race/support'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tstyle='font-size: 1.0em !important;'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t><i class='far fa-question-circle' /> <Text id='header.support'>Support</Text></Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class='nav-item'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'} href='/race/news'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tstyle='font-size: 1.0em !important;'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t><i class='fas fa-quote-right' /> <Text id='header.news'>Nyheter</Text></Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{/* <li class='nav-item'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'} href='/'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t><i class='fas fa-dog' /> <Text id='header.backtoapp'>The Musher</Text></Link>\n\t\t\t\t\t\t</li> */}\n\t\t\t\t\t\t{/* <li class='nav-item'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'} href='/news'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t><i class='fas fa-quote-right' /> <Text id='header.news'>Nyheter</Text></Link>\n\t\t\t\t\t\t</li> */}\n\t\t\t\t\t\t{/* <li class='nav-item d-block d-lg-none'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'} href='/howto'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t><i class='fas fa-quote-right' /> <Text id='header.howto'>Hvordan gjør man det?</Text></Link>\n\t\t\t\t\t\t</li> */}\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<ul class='navbar-nav ml-auto '>\n\t\t\t\t\t\t{/* <li class='nav-item mr-2'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'}\n\t\t\t\t\t\t\t\thref='/users/notifications'\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tonClick={this.toggleDropdown}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-bell mr-1' />\n\t\t\t\t\t\t\t\t{unread > 0 && <>\n\t\t\t\t\t\t\t\t\t<span class='badge badge-pill badge-danger'>{unread > 9 ? '9+' : unread}</span>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li> */}\n\t\t\t\t\t\t<li class='nav-item mr-2'>\n\t\t\t\t\t\t\t<div class='form-row align-items-center'>\n\t\t\t\t\t\t\t\t<div class='col-auto my-1' style='width: 80px;'>\n\t\t\t\t\t\t\t\t\t<select class='custom-select'\n\t\t\t\t\t\t\t\t\t\tstyle='background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;'\n\t\t\t\t\t\t\t\t\t\tonInput={this.changeLanguage}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value='no' selected={language === 'no'}>🇳🇴 NO</option>\n\t\t\t\t\t\t\t\t\t\t<option value='en' selected={language === 'en'}>🇬🇧 EN</option>\n\t\t\t\t\t\t\t\t\t\t<option value='es' selected={language === 'es'}>🇪🇸 ES</option>\n\t\t\t\t\t\t\t\t\t\t<option value='de' selected={language === 'de'}>🇩🇪 DE</option>\n\t                                    <option value='fr' selected={language === 'fr'}>🇫🇷 FR</option>\n\t                                    <option value='ru' selected={language === 'ru'}>🇷🇺 RU</option>\n\t                                    <option value='se' selected={language === 'se'}>🇸🇪 SE</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class='nav-item d-block d-lg-none'>\n\t\t\t\t\t\t\t<Link className='nav-link' activeClassName={'active'}\n\t\t\t\t\t\t\t\tdata-name='main'\n\t\t\t\t\t\t\t\tonClick={this.toggleDarkmode}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class={`${darkmode ? 'fas text-warning' : 'far'} fa-moon`} /> <Text id='header.darkmode'>Nattmodus</Text>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class='nav-item mr-2 d-none d-lg-block'>\n\t\t\t\t\t\t\t<button class='btn btn-link'\n\t\t\t\t\t\t\t\tdata-name='profile'\n\t\t\t\t\t\t\t\tonClick={this.toggleDarkmode}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class={`${darkmode ? 'fas text-warning' : 'far'} fa-moon`} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{/* <li class='nav-item ml-auto d-none d-lg-block'>\n\t\t\t\t\t\t\t<form class='form-inline my-2 my-lg-0'>\n\t\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t\t<input class='form-control form-control-sm mr-sm-2' type='search' placeholder={<Text id='header.search-placeholder'>Søk etter det meste...</Text>}\n\t\t\t\t\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'searchText')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Localizer>\n\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-outline-success my-2 my-sm-0' type='button'\t\n\t\t\t\t\t\t\t\t\tonClick={this.search}\n\t\t\t\t\t\t\t\t><Text id='header.search'>Søk</Text></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</li> */}\n\t\t\t\t\t</ul>\n\n\t\t\t\t    \n\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n}\n\nexport default Navigation;\n","import { h, Component } from 'preact';\nimport { observer } from 'mobx-preact';\n\nconst initialState = {\n};\n\n@observer\nclass RaceText extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    render() {\n\t\tconst { appState } = this.props.stores;\n\t\tconst { text } = this.props;\n\t\tconst { darkmode, language = 'en' } = appState;\n\n        let finalText = text;\n\n        const regex = new RegExp(`/<${language}>(.*?)<\\/${language}>/`);\n        const parsedText = text.replace(regex, '$1');\n        if (parsedText) {\n            finalText = text;\n        }\n\n\t\treturn (\n\t\t\t<>\n                {finalText}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default RaceText;\n"],"sourceRoot":""}