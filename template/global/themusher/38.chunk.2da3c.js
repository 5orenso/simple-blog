(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"9f9b":function(t,e,n){"use strict";n.r(e),function(t){var o,r=n("hosL"),s=(n("Utv1"),n("/eY4")),a=(n("Y3FI"),n("go65"),n("OhSV"),n("fh8t")),i=n.n(a),l=(n("tJLP"),n("Cjoz"),n("CE5K"),n("ZOvn")),c=Object(s.a)(o=function(e){function n(t){var n;return(n=e.call(this,t)||this).scrollImages=function(t){var e=t.target,o=e.scrollLeft/e.clientWidth,r=Math.round(o),s=Math.abs(r-o);(Number.isInteger(o)||s<.1)&&n.setState({imageIdx:r})},n.state={imageIdx:0},n}var o,s;s=e,(o=n).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var a=n.prototype;return a.loadNews=function(t){return new Promise(function(e,n){var o,r,s;return void 0===t&&(t=this.props),r=(o=t.stores).newsStore,s={tag:"welcome"},o.userStore.isAdmin&&(s.showall=1),Promise.resolve(r.load({query:s})).then((function(){try{return e()}catch(t){return n(t)}}),n)}.bind(this))},a.componentDidMount=function(){this.loadNews()},a.render=function(){var e=this.state.imageIdx,n=this.props.stores.appState.language,o=void 0===n?"en":n,s=this.props.stores.newsStore.newsList;return Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},Object(r.h)("div",{class:"d-flex justify-content-center mb-3 mt-3"},Object(r.h)(t,null,Object(r.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"})))),Object(r.h)("div",{class:"fixed-bottom",style:"height: 80vh;"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar h-100",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},s.map((function(e){return Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 clearfix p-0 position-relative"},Object(r.h)("div",{class:"w-100 h-100 text-center",style:"\n                                            flex-wrap: wrap;\n                                            overflow-y: hidden;\n                                            scroll-snap-align: start;\n                                        ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 overflow-hidden",style:"height: 55%;"},e.images&&e.images[0]&&Object(r.h)("img",{src:e.images[0].s3LargeLink,class:"img-fluid "})),Object(r.h)("div",{class:"bg-white text-dark",style:"height: 45%;"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},Object(r.h)("h3",null,e.title),Object(r.h)(i.a,{markdown:l.a.replaceImages(e.ingress,e.images,o,!1),markdownOpts:l.a.getMarkdownOptions()}),Object(r.h)("small",null,Object(r.h)(i.a,{markdown:l.a.replaceImages(e.body,e.images,o,!1),markdownOpts:l.a.getMarkdownOptions()})))))))}))),Object(r.h)("div",{class:"w-100 text-center position-absolute bg-white text-dark",style:"bottom: 20px; right: 0px;"},Object(r.h)("small",null,Object(r.h)("small",null,s.map((function(n,o){return Object(r.h)(t,null,Object(r.h)("i",{class:(o===e?"fas":"far")+" fa-circle mr-1"}))}))))),Object(r.h)("div",{class:"position-absolute",style:"bottom: 20px; right: 20px;"},Object(r.h)("a",{href:"/login",class:"text-dark"},"Skip ",Object(r.h)("i",{class:"fas fa-forward"}))))))},n}(r.Component))||o;e.default=c}.call(this,n("hosL").Fragment)},CE5K:function(t,e,n){"use strict";function o(){try{if(window)return window}catch(t){return}}function r(){var t=o();return t&&(!(!t.matchMedia||!t.matchMedia("(display-mode: standalone)").matches)||t.navigator&&!0===t.navigator.standalone)||!1}function s(){u.onPrompts.forEach((function(t){return t(u.prompt)}))}function a(t){if(!u.installPromptListener){var e=o();if(!e||r())return null;u.installPromptListener=function(t){t.preventDefault();var n=t;u.prompt=function(){return new Promise((function(t){u.appInstalledListener=function(){t(!0)},e.addEventListener("appinstalled",u.appInstalledListener),n.prompt(),n.userChoice.then((function(e){"accepted"!==e.outcome&&t(!1)}))})).then((function(t){return n=null,u.appInstalledListener&&e.removeEventListener("appinstalled",u.appInstalledListener),t&&(u.prompt=null,s()),t}))},s()},e.addEventListener("beforeinstallprompt",u.installPromptListener)}return t?(u.onPrompts.push(t),u.prompt&&t(u.prompt),function(){return e=t,void(u.onPrompts=u.onPrompts.filter((function(t){return t!==e})));var e}):function(){return function(){var t=o();u.installPromptListener&&(t&&t.removeEventListener&&t.removeEventListener("beforeinstallprompt",u.installPromptListener),u.installPromptListener=null),u.appInstalledListener&&(t&&t.removeEventListener&&t.removeEventListener("appinstalled",u.appInstalledListener),u.appInstalledListener=null),u.prompt=null,u.onPrompts=[]}()}}function i(){var t=Object(p.k)(r())[0],e=Object(p.k)(null),n=e[0],o=e[1];return Object(p.d)((function(){return a((function(t,e){o({prompt:function(){return t().then((function(t){return t&&e(),t}))}})}))})),{isStandalone:t,installPrompt:n&&n.prompt}}function l(){var t=i(),e=t.installPrompt,n=t.isStandalone;return e&&Object(c.h)("div",{class:"text-center"},Object(c.h)("a",{class:"btn btn-success",href:"#",onclick:e},Object(c.h)(f.c,{id:"install.install-app"},"Install The Musher")))||n&&""}n.d(e,"a",(function(){return l}));var c=n("hosL"),p=n("QRet"),u={prompt:null,installPromptListener:null,appInstalledListener:null,onPrompts:[]},f=n("OhSV")},tJLP:function(t,e,n){"use strict";var o,r=n("hosL"),s=n("/eY4"),a=Object(s.a)(o=function(t){function e(){return t.apply(this,arguments)||this}var n,o;o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=e.prototype;return s.componentDidUpdate=function(){var t=this.props.remove,e=void 0===t?function(){}:t;clearTimeout(this.removeTimer),this.removeTimer=setTimeout((function(){return e()}),1e4)},s.componentWillUnmount=function(){clearTimeout(this.removeTimer)},s.render=function(){var t=this.props,e=t.message,n=t.icon,o=t.remove,s=void 0===o?function(){}:o;return e?Object(r.h)("div",{class:"container"},Object(r.h)("div",{class:"alert alert-danger row"},Object(r.h)("div",{class:"col-12"},Object(r.h)("a",{href:"#",onclick:s,class:"float-right"},Object(r.h)("i",{className:"fas fa-times"})),n&&Object(r.h)("h1",{class:"float-left mr-3"},Object(r.h)("i",{class:n})),e&&Object(r.h)("span",null,e)))):""},e}(r.Component))||o;e.a=a}}]);
//# sourceMappingURL=38.chunk.2da3c.js.map