{"version":3,"sources":["webpack:///./components/team/publicFeedLine.js","webpack:///./components/dog/scroller.js","webpack:///./components/team/index.js","webpack:///./routes/search/index.js"],"names":["initialState","showAddComment","likeWorkout","idxSuggestion","idxAd","limit","offset","hasFollowSugguestions","hasAd","sessionid","Date","getTime","TeamPublicFeedLine","observer","Component","constructor","props","super","toggleDate","e","stopPropagation","preventDefault","showDate","this","state","setState","async","workoutId","parseInt","target","closest","dataset","id","workoutStore","stores","setTimeout","response","status","addLikeToFeed","data","addCommentToFeed","type","workout","commentId","replyId","teamStore","addLikeToComment","addLikeToCommentReply","addCommentToWorkoutComment","addCommentToWorkout","addLikeToWorkout","toggleAddComment","inputRef","focus","shareLink","url","title","text","appState","shareUrl","containerRef","render","feed","onTeamClick","onUserClick","onDogClick","userStore","user","isAdmin","language","hasShareApi","publicDogs","team","findPublicTeam","teamType","findTeamAmbition","ambition","ambitions","findTeamType","isTeamAdmin","members","some","m","image","s3SmallLink","images","likes","comments","hasLikedWorkout","findIndex","totalFollowers","followers","length","isYourTeam","indexOf","isFollowing","hasRequestedFollow","followRequests","workoutEquipment","findEquipment","equipment","workoutEquipmentIcon","field","mapImage","push","imgs","toJS","currentLocationGeocode","yrWeather","views","mu","getViews","statistics","adminData","getAdminData","name","class","style","public","href","uuidv4","onClick","date","util","formatDate","locale","hour12","hour","minute","formatDistance","format","dogs","track","sledWeight","value","temperature","formattedCounty","formatted_address","count","ranking","isNumber","rankingTrend","getClassForTrend","durationAvg","durationAvgTrend","statisticsCurrent","totalInteractions","shadowTags","map","tag","markdown","replaceImages","markdownOpts","getMarkdownOptions","comment","distanceKm","elevation","duration","secToHms","speedAvg","dblClick","likeRef","allDogs","buttonOnly","data-id","data-url","data-title","rel","object","c","inputRefObject","col","showAvatar","extraClass","callback","compact","DogScroller","scrollImages","scrollLeft","clientWidth","imageIdx","nearestInt","Math","round","diff","abs","Number","isInteger","sortByName","a","b","dogA","find","dogB","size","onScroll","sort","dogId","dog","onTouchstart","onTouchend","onTouchmove","filter","d","className","showName","showPosition","Team","requestFollowTeam","teamId","parentElement","followRequest","requestSent","getButton","skipHome","isBlocked","blockedFollowers","unFollowTeam","disabled","data-team","showButton","currentMonth","getMonth","currentYear","getFullYear","month","year","seasonStart","workoutSummary","findWorkoutSummary","teamAmbition","submenu","hits","searchText","Search","loadAll","storyStore","search","getSearch","publicTeams","publicUsers","localUpdateField","searchResultStories","searchResultDogs","searchResultWorkouts","searchResultTeams","searchResultTracks","allData","idx","max","reduce","partialSum","route","chooseSubmenu","menu","componentDidMount","componentWillReceiveProps","nextProps","fields","placeholder","onInput","linkState","data-menu","story","key"],"mappings":"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","file":"route-search.chunk.b014e.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport ImageScroller from '../imageScroller';\nimport DogScroller from '../dog/scroller';\nimport WorkoutComments from '../workout/comments';\nimport WorkoutAddComment from '../workout/commentAdd';\n\nimport PublicTeam from '../team/public';\n\nimport LikesAndComments from '../feedback/likesAndComments';\nimport Views from '../feedback/views';\n\nimport Speed from '../data/speed';\nimport Elevation from '../data/elevation';\nimport Weight from '../data/weight';\nimport Distance from '../data/distance';\nimport Temperature from '../data/temperature';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distanceKm) {\n\tif (distanceKm < 5) {\n\t\treturn util.format(distanceKm, 2);\n\t}\n\tif (distanceKm < 10) {\n\t\treturn util.format(distanceKm, 1);\n\t}\n\treturn util.format(distanceKm, 1);\n}\n\nconst initialState = {\n\tshowAddComment: {},\n    // viewImageIdx: {},\n    likeWorkout: {},\n    idxSuggestion: 0,\n    idxAd: 4,\n    limit: 15,\n    offset: 0,\n    hasFollowSugguestions: false, \n    hasAd: false,\n    sessionid: new Date().getTime(),\n};\n\n@observer\nclass TeamPublicFeedLine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.inputRef = {};\n        this.containerRef = null;\n    }\n\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n\tlikeWorkout = async (e) => {\n        const workoutId = parseInt(e.target.closest('.imageContainer').dataset.id, 10);\n\t\tconst { workoutStore } = this.props.stores;\n\n        const { likeWorkout } = this.state;\n        likeWorkout[workoutId] = true;\n        this.setState({ likeWorkout });\n        setTimeout(() => {\n            const { likeWorkout } = this.state;\n            delete likeWorkout[workoutId];\n            this.setState({ likeWorkout });\n        }, 1200);\n\n\t\tconst response = await workoutStore.likeWorkout({ id: workoutId });\n        if (response && response.status === 200) {\n            this.addLikeToFeed(workoutId, response.data);\n\t\t}\n\t}\n\n    addCommentToFeed = ({ type, workout, response, commentId, replyId }) => {\n        // console.log('addCommentToFeed', { workout, response, commentId });\n        const { teamStore } = this.props.stores;\n        switch (type) {\n            case 'likeComment':\n                teamStore.addLikeToComment({ id: workout.id, data: response.data, commentId });\n                break;\n            case 'likeReply':\n                teamStore.addLikeToCommentReply({ id: workout.id, data: response.data, commentId, replyId });\n                break;\n        \n            default:\n                if (commentId) {\n                    teamStore.addCommentToWorkoutComment({ id: workout.id, data: response.data, commentId });\n                } else {\n                    teamStore.addCommentToWorkout({ id: workout.id, data: response.data });\n                }\n                break;\n        }\n    }\n\n    addLikeToFeed = (id, data) => {\n        const { teamStore } = this.props.stores;\n        teamStore.addLikeToWorkout({ id, data });\n    }\n\n\ttoggleAddComment = (e) => {\n\t\tconst workoutId = e.target.closest('button').dataset.id;\n\t\tconst { showAddComment } = this.state;\n        if (showAddComment[workoutId]) {\n            delete showAddComment[workoutId];\n        } else {\n            showAddComment[workoutId] = true;\n        }\n\t\tthis.setState({\n\t\t\tshowAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[workoutId]) {\n\t\t\t\tthis.inputRef[workoutId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n    shareLink = (e) => {\n        const { url, title, text } = e.target.closest('button').dataset;\n        const { appState } = this.props.stores;\n        appState.shareUrl({ url, title, text });\n    }\n\n    render() {\n        const { feed, idx, onTeamClick = () => {}, onUserClick = () => {}, onDogClick = () => {} } = this.props;\n        const { showAddComment, showDate, likeWorkout } = this.state;\n        const { teamStore, userStore, appState } = this.props.stores;\n        const { user, isAdmin } = userStore;\n        const { language = 'en' } = user;\n        const { darkmode, hasShareApi } = appState;\n\n        const { publicDogs } = teamStore;\n        const team = teamStore.findPublicTeam(feed.team) || {};\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n\n        const isTeamAdmin = (team && team.members) ? team.members.some(m => m === user.id) : false;\n\n        let image;\n        if (team.image && team.image.s3SmallLink) {\n            image = team.image;\n        } else if (team.images && team.images[0] && team.images[0].s3SmallLink) {\n            image = team.images[0];\n        }\n        const { likes, comments } = feed;\n        const hasLikedWorkout = feed.likes && feed.likes.findIndex(e => e.user === user.id) > -1;\n        const totalFollowers = team && team.followers ? team.followers.length : 0;\n\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team && team.followers && team.followers.indexOf(user.id) > -1;\n        const hasRequestedFollow = team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n        const workoutEquipment = userStore.findEquipment({ equipment: feed.equipment, language });\n        const workoutEquipmentIcon = userStore.findEquipment({ equipment: feed.equipment, field: 'icon' });\n\n        const images = [];\n        if (feed.mapImage) {\n            images.push({\n                ...feed.mapImage,\n                type: 'map',\n            });\n        }\n        if (feed.images) {\n            const imgs = toJS(feed.images);\n            images.push(...imgs);\n        }\n\n        const { currentLocationGeocode = {}, yrWeather = [] } = feed;\n        const views = mu.getViews(feed.statistics);\n        const adminData = mu.getAdminData(feed.statistics);\n\n        if (!team || !team.name) {\n            return '';\n        }\n\n        return (<>\n            <div class='d-flex position-relative'>\n                <div class='text-center'>\n                    <div\n                        class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                        style={image ? `background-image: url(\"${image.s3SmallLink}\"); background-size: cover;` : ''}>\n                        {!image && <i class='fas fa-users text-muted mt-2' style='font-size: 20px;' />}\n                    </div>\n                </div>\n                <div class='flex-grow-1 pl-3 text-overflow' style='line-height: 1.2em;'>\n                    <span class='badge badge-pill badge-secondary float-right'>{teamType}</span>\n                    <h5 class='mb-1 position-relative' style='line-height: 1.0em;'>\n                        {team.public ? <>\n                            <a href={`/teams/public/${team.uuidv4}`} onClick={(e) => onTeamClick(e, team.uuidv4)} class='stretched-link'>{team.name}</a>\n                        </> : <>\n                            {team.name}\n                        </>}\n                    </h5>\n                    <div class='mb-2'>\n                        {feed.date && <small class='text-muted' onClick={this.toggleDate}>\n                            {showDate ? util.formatDate(feed.date, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' }) : util.formatDistance(feed.date, new Date(), { locale: 'no-NB' })}\n                        </small>}\n                        {feed.public === 1 ? <>\n                            <small class='ml-2 text-muted'>\n                                <i class='fas fa-globe-europe' />\n                            </small>\n                        </> : <>\n                            <small class='ml-2 text-muted'>\n                                <i class='fas fa-users' /> ({util.format(totalFollowers)})\n                            </small>\n                        </>}\n                        <small class='text-muted'>\n                            {feed.equipment > 0 && <><i class={`${workoutEquipmentIcon} ml-2`} /> {workoutEquipment}</>}\n                            {/* {feed.distanceKm > 0 && <><i class='fas fa-road ml-2' /> {displayDistance(feed.distanceKm)}km</>}\n                            {feed.elevation > 0 && <><i class='fas fa-mountain ml-2' /> {util.format(feed.elevation, 0)}m</>}\n                            {feed.speedAvg > 0 && <><i class='fas fa-tachometer-alt ml-2' /> {util.format(feed.speedAvg, 1)}km/t</>} */}\n                            {feed.dogs > 0 && <><i class='fas fa-dog ml-2' /> {feed.dogs.length}</>}\n                            {feed.track > 0 && <><i class={`fas fa-map-marked text-${feed.track > 0 ? 'success' : 'danger'} ml-2`} /></>}\n                            {/* {feed.dogsLeft > 0 && <><i class={`fas fa-crosshairs text-${feed.dogsLeft && feed.dogsRight ? 'success' : 'danger'} ml-2`} /></>} */}\n                            {feed.sledWeight > 0 && <>\n                                <i class='fas fa-sleigh ml-2' /> <Weight stores={this.props.stores} value={feed.sledWeight} />\n                            </>}\n                            {feed.temperature !== 0 && <>\n                                <i class='fas fa-temperature-low ml-2' /> <Temperature stores={this.props.stores} value={feed.temperature} />\n                            </>}\n                            {feed.dogs && feed.dogs.length > 0 && <>\n                                <i class='fas fa-dog ml-2' /> {util.format(feed.dogs.length, 0)}\n                            </>}\n                            {/* {feed.kcalBurnedTotal && <><i class='fas fa-balance-scale' /> {util.format(feed.kcalBurnedTotal)} kcal</>}\n                            {feed.kcalMeatGramsTotal && <><i class='fas fa-drumstick-bite ml-2' /> {util.format(feed.kcalMeatGramsTotal / 1000, 1)} kg</>}\n                            {feed.kcalSalmonGramsTotal && <><i class='fas fa-fish ml-2' /> {util.format(feed.kcalSalmonGramsTotal / 1000, 1)} kg</>}\n                            {feed.kcalFatGramsTotal && <><i class='fas fa-piggy-bank ml-2' /> {util.format(feed.kcalFatGramsTotal / 1000, 1)} kg</>} */}\n                            {currentLocationGeocode && currentLocationGeocode.formattedCounty && <>\n                                <i class='fas fa-map-marker-alt ml-2' /> {currentLocationGeocode.formattedCounty}\n                            </>}\n                        </small>\n                    </div>\n\n                    {isAdmin && <div\n                        class='d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2'\n                        style='overflow: auto;'\n                    >\n                        <small class='text-muted mr-2'>Adm:</small>\n                        {currentLocationGeocode && currentLocationGeocode.formatted_address && <>\n                            <small class='text-muted'>\n                                <i class='fas fa-map-marker-alt' /> {currentLocationGeocode.formatted_address}\n                            </small>\n                        </>}\n                        {adminData && <>\n                            {/* {JSON.stringify(adminData)}<br /> */}\n                            <small class='ml-2 text-muted'>\n                                V: {adminData.count}\n                            </small>\n                            <small class='ml-2 text-muted'>\n                                R: {adminData.ranking} {util.isNumber(adminData.rankingTrend) && <><i class={mu.getClassForTrend(adminData.rankingTrend)} /></>}\n                            </small>\n                            <small class='ml-2 text-muted'>\n                                D: {util.format(adminData.durationAvg / 1000, 1)}s {util.isNumber(adminData.durationAvgTrend) && <><i class={mu.getClassForTrend(adminData.durationAvgTrend)} /></>}\n                            </small>\n                            {feed.statisticsCurrent && feed.statisticsCurrent.totalInteractions > 0 && <small class='ml-2 text-muted'>\n                                S: {util.format(feed.statisticsCurrent.totalInteractions, 0)}\n                            </small>}\n                            {feed.shadowTags && feed.shadowTags.map(tag => <>\n                                <span class='badge badge-secondary ml-2 float-right font-weight-light'>{tag}</span>\n                            </>)}\n                        </>}\n                    </div>}\n                </div>\n            </div>\n\n            <div class='row mt-2'>\n                <div class='clearfix col-12 font-weight-bold' style='font-size: 1.2em;'>\n                    <Markdown markdown={mu.replaceImages(feed.name, feed.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                </div>\n                <div class='clearfix col-12'>\n                    <Markdown markdown={mu.replaceImages(feed.comment, feed.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                </div>\n            </div>\n\n            <div class='row mt-1'>\n                {feed.distanceKm > 0 && <div class='col-3'>\n                    <div class='text-overflow'>\n                        <small><i class='fas fa-road' /> <Text id='workout.calendar.distance'>Distanse</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Distance stores={this.props.stores} value={feed.distanceKm} />\n                    </div>\n                </div>}\n                {feed.elevation > 0 && <div class='col-3'>\n                    <div class='text-overflow'>\n                        <small><i class='fas fa-mountain' /> <Text id='workout.calendar.ascend'>Høydemeter</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Elevation stores={this.props.stores} value={feed.elevation} />\n                    </div>\n                </div>}\n                {feed.duration > 0 && <div class='col-3'>\n                    <div class='text-overflow'>\n                        <small><i class='fas fa-clock' /> <Text id='workout.calendar.duration'>Varighet</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        {util.secToHms(feed.duration, true)}\n                    </div>\n                </div>}\n                {feed.speedAvg > 0 && <div class='col-3'>\n                    <div class='text-overflow'>\n                        <small><i class='fas fa-tachometer-alt' /> <Text id='workout.calendar.avg-speed'>Snittfart</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Speed stores={this.props.stores} value={feed.speedAvg} />\n                    </div>\n                </div>}\n            </div>\n\n            {/* <div class='row'>\n                <div class='row mb-3'>\n                    {feed.gpxInfo && feed.gpxInfo.svgMap && <>\n                        <div class='col-6 mt-auto text-center overflow-hidden'>\n                            <svg viewBox='0 0 300 300' style='width: 150px; height: 150px;'>\n                                <path d={`${feed.gpxInfo.svgMap}`} style='fill: none; stroke: #0275d8; stroke-width: 5; opacity: 0.5;' />\n                            </svg>\n                            <small class='text-muted'>Track</small>\n                        </div>\n                    </>}\n                    {feed.gpxInfo && feed.gpxInfo.svgElevation && <>\n                        <div class='col-6 mt-auto text-center overflow-hidden'>\n                            <svg viewBox='0 0 300 200' style='width: 150px; height: 100px;'>\n                                <path d={`${feed.gpxInfo.svgElevation}`} style='fill: none; stroke: #5cb85c; stroke-width: 5; opacity: 0.5;' />\n                            </svg>\n                            <small class='text-muted'>Elevation</small>\n                        </div>\n                    </>}\n                </div>\n            </div> */}\n\n            <div class='container-fluid px-0 mt-1'>\n                <div class='row'>\n                    <ImageScroller stores={this.props.stores} images={images} id={feed.id} dblClick={this.likeWorkout} likeRef={likeWorkout} />\n                </div>\n            </div>\n\n            {feed.dogs && feed.dogs.length > 0 && <div class='container-fluid px-0 mt-1'>\n                <div class='row pt-2'>\n                    <DogScroller stores={this.props.stores} dogs={feed.dogs} allDogs={publicDogs} onDogClick={onDogClick} />\n                </div>\n            </div>}\n\n            <div class='mt-2'>\n                <LikesAndComments \n                    stores={this.props.stores} \n                    likes={likes} \n                    comments={comments} \n                    type='team'\n                    onTeamClick={onTeamClick}\n                    onUserClick={onUserClick}\n                />\n            </div>\n\n            {!isYourTeam && !isFollowing && !hasRequestedFollow && <div class='clearfix mb-2'>\n                <PublicTeam stores={this.props.stores} team={team} buttonOnly={true} />\n            </div>}\n\n            <div>\n                <div class='row'>\n                    <div class='col text-center'>\n                        <button type='button' class={`imageContainer btn btn-sm btn-outline-${hasLikedWorkout ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedWorkout ? 'text-primary' : ''} text-overflow`}\n                            data-id={feed.id}\n                            onClick={this.likeWorkout}\n                            // disabled={hasLikedWorkout}\n                        >\n                            <i class={`${hasLikedWorkout ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> <Text id='comments.like'>Lik</Text>\n                        </button>\n                    </div>\n                    <div class='col text-center'>\n                        <button type='button' class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                            data-id={feed.id}\n                            onClick={this.toggleAddComment}\n                        >\n                            <i class='fas fa-comment' /> <Text id='comments.comment-add'>Kommentar</Text>\n                        </button>\n                    </div>\n                    {hasShareApi ? <>\n                        <div class='col text-center'>\n                            <button class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                                onClick={this.shareLink}\n                                data-url={`https://themusher.app/share/workout/${feed.uuidv4}`}\n                                data-title={`title: ${feed.title}`}\n                            >\n                                <i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n                            </button>\n                        </div>\n                    </> : <>\n                        <div class='col text-center'>\n                            <a class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                                href={`https://themusher.app/share/workout/${feed.uuidv4}`}\n                                target='_blank'\n                                rel='noreferrer'\n                            >\n                                <i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n                            </a>\n                        </div>\n                    </>}\n                </div>\n            </div>\n\n             {views > 0 && <>\n                <div class='mt-2'>\n                    <Views\n                        stores={this.props.stores}\n                        views={views}\n                        object={feed}\n                        type='team'\n                        isTeamAdmin={isTeamAdmin}\n                        isAdmin={isAdmin}\n                        onTeamClick={onTeamClick}\n                        onUserClick={onUserClick}\n                    />\n                </div>\n            </>}\n\n            <div class='mt-2'>\n                {showAddComment[feed.id] && <WorkoutAddComment\n                    stores={this.props.stores}\n                    workout={feed}\n                    inputRef={c => this.inputRef[feed.id] = c}\n                    inputRefObject={this.inputRef}\n                    col='12'\n                    offset='0'\n                    showAvatar={true}\n                    extraClass='px-0'\n                    callback={this.addCommentToFeed}\n                />}\n                <WorkoutComments\n                    stores={this.props.stores}\n                    workout={feed}\n                    col='12'\n                    offset='0'\n                    compact={false}\n                    callback={this.addCommentToFeed}\n                />\n            </div>\n        </>);\n    }\n}\n\nexport default TeamPublicFeedLine;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport DogSimplePublic from './simplePublic';\n\n@observer\nclass DogScroller extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageIdx: 0,\n        };\n    }\n\n    scrollImages = (e) => {\n        const { dogs } = this.props;\n\n        const { scrollLeft, scrollWidth, clientWidth } = e.target;\n        const imageStep = clientWidth;\n        const imageIdx = scrollLeft / imageStep;\n        // console.log({ e, imageStep, imageIdx, scrollLeft, scrollWidth, clientWidth });\n\n        const nearestInt = Math.round(imageIdx);\n        const diff = Math.abs(nearestInt - imageIdx);\n        // console.log({ nearestInt, diff });\n        if (Number.isInteger(imageIdx) || diff < 0.1) {\n            this.setState({\n                imageIdx: nearestInt,\n            });\n        }\n    }\n\n    sortByName = (a, b) => {\n        const { allDogs = [] } = this.props;\n        const dogA = allDogs.find(e => e.id === a);\n        const dogB = allDogs.find(e => e.id === b);\n        if (dogA && dogB) {\n            if (dogA.name > dogB.name) {\n                return 1;\n            }\n        }\n        return -1;\n    }\n\n    render() {\n        const { imageIdx } = this.state;\n        const { dogs, allDogs = [], size = 'medium', onDogClick = () => {} } = this.props;\n\n        return (\n            <div class='w-100'>\n                <div\n                    class='d-flex flex-row flex-nowrap'\n                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                    onScroll={this.scrollImages}\n                >\n                    {dogs && dogs.sort(this.sortByName).map((dogId, idx) => {\n                        const dog = allDogs.find(e => e.id === dogId);\n                        if (!dog) {\n                            return '';\n                        }\n                        return (\n                            <div class='col clearfix position-relative p-0 mx-2'>\n                                <div\n                                    class={`w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center`}\n                                    style={`\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    `}\n                                    onTouchstart={(e) => { e.stopPropagation(); }}\n                                    onTouchend={(e) => { e.stopPropagation(); }}\n                                    onTouchmove={(e) => { e.stopPropagation(); }}\n                                >\n                                    <DogSimplePublic\n                                        stores={this.props.stores}\n                                        dog={dog}\n                                        dogs={allDogs.filter(d => dogs.indexOf(d.id) > -1).sort((a, b) => a.name > b.name ? 1 : -1)}\n                                        className='mx-auto'\n                                        showName={true}\n                                        showPosition={false}\n                                        size={size}\n                                        onDogClick={onDogClick} \n                                    />\n                                    {/* <xmp>{JSON.stringify(img, null, 4)}</xmp> */}\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DogScroller;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\n@observer\nclass Team extends Component {\n    requestFollowTeam = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        this.setState({ requestSent: true });\n    }\n\n    getButton = (text = '') => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { team, skipHome } = this.props;\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            if (skipHome) {\n                return '';\n            }\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (isFollowing) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Følger</Text> {text}\n                </button>\n            );\n        }\n        if (isBlocked) {\n            return '';\n            // return (\n            //     <button\n            //         class={`btn btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text> {text}\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter på godkjenning</Text> {text}\n                </button>\n            );\n        }\n        if (team.public) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-success float-right`}\n                    onClick={this.requestFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='far fa-hand-point-right mr-2' />\n                    <Text id='teams.connect.follow'>Følg</Text> {text}\n                </button>\n            );\n        }\n    }\n\n    render() {\n        const { team, showButton } = this.props;\n        const { teamStore, userStore } = this.props.stores;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = teamStore.findWorkoutSummary(team.id, seasonStart) || {};\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n        const image = team.image && team.image.s3SmallLink ? team.image : null;\n\n        const { url = `/teams/${team.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        <div class='position-relative d-flex flex-grow-1'>\n                            {/* {JSON.stringify(team, null, 4)} */}\n                            <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image.s3SmallLink}\"); background-size: cover;` : ''}>\n                                {!image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                            </div>\n                            <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                                <a class='stretched-link' href={url}>\n                                    <h5 class='mb-1' style='line-height: 1.0em;'>{team.name}</h5>\n                                </a>\n                                <div>\n                                    {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                    {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                                </div>\n                                <small class='text-muted'>\n                                    {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                    {team && team.members && <span class='ml-2'><i class='fas fa-user' /> {team.members.length}</span>}\n\n                                    {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                    {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                    {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration)}</span>}\n                                    {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n                                </small>\n                            </div>\n                        </div>\n                        {showButton && <div>\n                            {this.getButton()}\n                        </div>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport { route } from 'preact-router';\n\nimport Dog from '../../components/dog';\nimport Workout from '../../components/workout';\nimport Team from '../../components/team';\nimport Track from '../../components/track';\nimport User from '../../components/user';\nimport Story from '../../components/story/publicStory';\n\nimport TeamPublicFeedLine from '../../components/team/publicFeedLine';\n\nconst initialState = {\n\tsubmenu: 'dogs',\n\thits: 0,\n\tsearchText: '',\n};\n\n@observer\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tloadAll = async (props = this.props) => {\n\t\tconst { appState, storyStore, teamStore } = this.props.stores;\n\t\tconst { search } = props;\n\t    await appState.getSearch(search);\n\t\tconst { publicTeams, publicUsers } = appState;\n\t\tstoryStore.localUpdateField('publicTeams', publicTeams);\n\t\tstoryStore.localUpdateField('publicUsers', publicUsers);\n\t\tteamStore.localUpdateField('publicTeams', publicTeams);\n\t\tteamStore.localUpdateField('publicUsers', publicUsers);\n\n\t\tconst { searchResultStories, searchResultDogs, searchResultWorkouts, searchResultTeams, searchResultTracks } = appState;\n\t\tconst allData = [searchResultStories, searchResultDogs, searchResultWorkouts, searchResultTeams, searchResultTracks];\n\t\tconst names = ['stories', 'dogs', 'workouts', 'teams', 'tracks', 'users'];\n\t\tconst idx = allData\n\t\t\t.map(a => a.length)\n\t\t\t.indexOf(Math.max(...allData.map(a => a.length)));\n\t\tconst hits = allData.map(a => a.length).reduce((partialSum, a) => partialSum + a, 0);\n\t\tthis.setState({\n\t\t\tsearchText: search,\n\t\t\tsubmenu: names[idx],\n\t\t\thits,\n\t\t});\n\t}\n\n\tsearch = () => {\n\t\tconst { searchText } = this.state;\n\t\troute(`/search/${searchText}`, true);\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadAll();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.search !== this.props.search) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n\t\tconst { appState, userStore } = this.props.stores;\n\t\tconst { search } = this.props;\n\n\t\tconst { isAdmin } = userStore;\n\t\tconst { searchResultStories, searchResultDogs, searchResultWorkouts, searchResultTeams, searchResultTracks } = appState;\n\t\tconst { submenu, hits, searchText } = this.state;\n\t\treturn (\n\t\t\t<div class='container-fluid' style='margin-bottom: 200px; margin-top: 60px;'>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t<h1><Text id='search.title'>Search</Text></h1>\n\t\t\t\t\t\t<h5 class='my-3'><Text id='search.search-for' fields={{ search, hits }}>{hits} in your search for \"{search}\"</Text></h5>\n\n\t\t\t\t\t\t<div class='d-flex justify-content-center py-3'>\n\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t<input class='form-control form-control mr-2' type='search' placeholder={<Text id='header.search-placeholder'>Søk etter det meste...</Text>}\n\t\t\t\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'searchText')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Localizer>\n\t\t\t\t\t\t\t<button class='btn btn-outline-success' type='button'\n\t\t\t\t\t\t\t\tonClick={this.search}\n\t\t\t\t\t\t\t><Text id='header.search'>Søk</Text></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass={`btn btn-block ${submenu === 'dogs' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\tdata-menu='dogs'\n\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t><i class='fas fa-dog' /> <Text id='search.dogs'>Dogs</Text> ({searchResultDogs.length || 0})</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass={`btn btn-block ${submenu === 'workouts' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\tdata-menu='workouts'\n\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t><i class='fas fa-running' /> <Text id='search.workouts'>Workouts</Text> ({searchResultWorkouts.length || 0})</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass={`btn btn-block ${submenu === 'teams' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\tdata-menu='teams'\n\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t><i class='fas fa-users' /> <Text id='search.teams'>Teams</Text> ({searchResultTeams.length || 0})</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass={`btn btn-block ${submenu === 'tracks' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\tdata-menu='tracks'\n\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t><i class='fas fa-map-marked-alt' /> <Text id='search.tracks'>Tracks</Text> ({searchResultTracks.length || 0})</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass={`btn btn-block ${submenu === 'stories' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\tdata-menu='stories'\n\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t><i class='fas fa-comments' /> <Text id='search.stories'>Stories</Text> ({searchResultStories.length || 0})</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{submenu === 'dogs' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultDogs || searchResultDogs.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-dog' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-dogs-found'>No dogs found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultDogs && searchResultDogs.map(dog => (\n\t\t\t\t\t\t\t\t<Dog stores={this.props.stores} dog={dog} url={`/dogs/public/${dog.uuidv4}`} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'workouts' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t\t{(!searchResultWorkouts || searchResultWorkouts.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-running' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-workouts-found'>No workouts found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultWorkouts && searchResultWorkouts.map((workout, idx) => (\n\t\t\t\t\t\t\t\t<div class='row mb-4'>\n\t\t\t\t\t\t\t\t\t<div class='col-12 py-3'>\n\t\t\t\t\t\t\t\t\t\t<TeamPublicFeedLine\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tfeed={workout}\n\t\t\t\t\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'teams' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultTeams || searchResultTeams.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-users' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-teams-found'>No teams found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultTeams && searchResultTeams.map(team => <>\n\t\t\t\t\t\t\t\t<Team stores={this.props.stores} team={team} url={`/teams/public/${team.uuidv4}`} showButton={true} />\n\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'tracks' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultTracks || searchResultTracks.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-map-marked-alt' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-tracks-found'>No tracks found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultTracks && searchResultTracks.map(track => (\n\t\t\t\t\t\t\t\t<Track stores={this.props.stores} track={track} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'stories' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t\t{(!searchResultStories || searchResultStories.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-comments' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-stories-found'>No stories found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultStories && searchResultStories.map(story => (\n\t\t\t\t\t\t\t\t<div class='row mb-4'>\n\t\t\t\t\t\t\t\t\t<div class='col-12 py-3'>\n\t\t\t\t\t\t\t\t\t\t<Story\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tstory={story}\n\t\t\t\t\t\t\t\t\t\t\tkey={`story-detail-${story.id}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Search;\n"],"sourceRoot":""}