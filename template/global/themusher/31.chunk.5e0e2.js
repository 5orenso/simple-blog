(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{CE5K:function(t,e,n){"use strict";function o(){try{if(window)return window}catch(t){return}}function s(){var t=o();return t&&(!(!t.matchMedia||!t.matchMedia("(display-mode: standalone)").matches)||t.navigator&&!0===t.navigator.standalone)||!1}function r(){u.onPrompts.forEach((function(t){return t(u.prompt)}))}function i(t){if(!u.installPromptListener){var e=o();if(!e||s())return null;u.installPromptListener=function(t){t.preventDefault();var n=t;u.prompt=function(){return new Promise((function(t){u.appInstalledListener=function(){t(!0)},e.addEventListener("appinstalled",u.appInstalledListener),n.prompt(),n.userChoice.then((function(e){"accepted"!==e.outcome&&t(!1)}))})).then((function(t){return n=null,u.appInstalledListener&&e.removeEventListener("appinstalled",u.appInstalledListener),t&&(u.prompt=null,r()),t}))},r()},e.addEventListener("beforeinstallprompt",u.installPromptListener)}return t?(u.onPrompts.push(t),u.prompt&&t(u.prompt),function(){return e=t,void(u.onPrompts=u.onPrompts.filter((function(t){return t!==e})));var e}):function(){return function(){var t=o();u.installPromptListener&&(t&&t.removeEventListener&&t.removeEventListener("beforeinstallprompt",u.installPromptListener),u.installPromptListener=null),u.appInstalledListener&&(t&&t.removeEventListener&&t.removeEventListener("appinstalled",u.appInstalledListener),u.appInstalledListener=null),u.prompt=null,u.onPrompts=[]}()}}function a(){var t=Object(p.k)(s())[0],e=Object(p.k)(null),n=e[0],o=e[1];return Object(p.d)((function(){return i((function(t,e){o({prompt:function(){return t().then((function(t){return t&&e(),t}))}})}))})),{isStandalone:t,installPrompt:n&&n.prompt}}function c(){var t=a(),e=t.installPrompt,n=t.isStandalone;return e&&Object(l.h)("div",{class:"text-center"},Object(l.h)("a",{class:"btn btn-success",href:"#",onclick:e},Object(l.h)(h.c,{id:"install.install-app"},"Install The Musher")))||n&&""}n.d(e,"a",(function(){return c}));var l=n("hosL"),p=n("QRet"),u={prompt:null,installPromptListener:null,appInstalledListener:null,onPrompts:[]},h=n("OhSV")},"c5+e":function(t,e,n){"use strict";n.r(e),function(t){var o,s=n("hosL"),r=n("Utv1"),i=n("/eY4"),a=n("Y3FI"),c=n("go65"),l=n("OhSV"),p=n("tJLP"),u=n("Cjoz"),h=n("CE5K"),d=Object(i.a)(o=function(e){function n(t){var n;return(n=e.call(this,t)||this).handleEmailInput=function(t){return new Promise((function(e){var o=n.props.stores.userStore,s=t.target.value;return n.setState({email:s}),clearTimeout(n.checkEmailTimer),n.checkEmailTimer=setTimeout((function(){return o.checkEmail(s)}),1e3),e()}))},n.togglePassword=function(){var t=n.state.passwordType;n.setState({passwordType:t="password"===t?"text":"password"})},n.updateCapsLockStatus=function(t){n.setState({isCapsLock:t})},n.login=function(){var t=n.state;n.props.stores.userStore.checkLogin({email:t.email,password:t.password,token:t.token})},n.resetLoginMessages=function(){n.props.stores.userStore.resetLoginMessages()},n.newUser=function(){var t=n.state.email,e=void 0===t?"":t;Object(a.route)("/register/"+e)},n.forgotten=function(){var t=n.state.email,e=void 0===t?"":t;Object(a.route)("/forgotten/"+e)},n.changeLanguage=function(t){n.props.stores.appState.setLanguage(t.target.value)},n.validateLoginToken=function(){return new Promise((function(t,e){var o;return Promise.resolve(n.props.stores.userStore.validateLoginToken(n.props.loginToken)).then((function(n){try{return(o=n)&&200===o.status&&Object(a.route)("/"),t()}catch(t){return e(t)}}),e)}))},n.state={showToken:!1,isCapsLock:!1,passwordType:"password",email:n.props.email},n}var o,i;i=e,(o=n).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i;var d=n.prototype;return d.componentDidMount=function(){var t=this,e=this.props.stores.userStore;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout((function(){return e.checkEmail(t.props.email)}),1e3)),r.a.isString(this.props.loginToken)&&this.validateLoginToken()},d.render=function(){var e=this,n=this.state,o=n.isCapsLock,i=n.email,a=n.password,d=n.token,m=n.passwordType,b=this.props.stores,f=b.userStore,g=b.appState.language,v=void 0===g?"en":g,O=f.emailIsAvailable,j=f.login,k=f.twoFactorLogin,L=j.message,w=j.messageIcon,y=j.error,E=j.errorIcon,P=r.a.validateEmail(i),T=P&&a;return Object(s.h)("div",{class:"container-fluid"},Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},!1,Object(s.h)(h.a,null),Object(s.h)("div",{class:"d-flex justify-content-center mb-5 mt-5"},Object(s.h)(t,null,Object(s.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"}))),Object(s.h)(p.a,{message:y,icon:E,remove:this.resetLoginMessages}),Object(s.h)(u.a,{message:L,icon:w,remove:this.resetLoginMessages}),Object(s.h)("div",{class:"form-group"},Object(s.h)(l.b,null,Object(s.h)("input",{type:"email",class:"form-control form-control-lg "+(i?P&&!O?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:i,onKeypress:function(t){r.a.isCapsLock(t,e.updateCapsLockStatus)},placeholder:Object(s.h)(l.c,{id:"login.email"},"Email")})),i&&P&&O&&Object(s.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(s.h)(l.c,{id:"login.email-not-found"},"E-posten finnes ikke, men du kan registrere deg ðŸ˜ƒ")),i&&!P&&Object(s.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(s.h)(l.c,{id:"login.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut. Kan det vÃ¦re en skrivefeil?")),i&&P&&!O&&Object(s.h)("div",{class:"valid-feedback",style:"display: block;"},Object(s.h)(l.c,{id:"login.email-looks-good"},"E-post ser bra ut."))),Object(s.h)("div",{class:"form-group"},Object(s.h)("div",{class:"input-group"},Object(s.h)(l.b,null,Object(s.h)("input",{type:m,class:"form-control form-control-lg",id:"passwordInput",onInput:Object(c.a)(this,"password"),value:a,onKeypress:function(t){r.a.isCapsLock(t,e.updateCapsLockStatus)},placeholder:Object(s.h)(l.c,{id:"login.password"},"Password")})),Object(s.h)("div",{class:"input-group-append"},Object(s.h)("button",{class:"btn btn-lg btn-primary",type:"button",onClick:this.togglePassword},Object(s.h)("i",{class:"fas fa-eye"+("text"===m?"-slash":"")}))))),o&&Object(s.h)("div",{class:"alert alert-danger",role:"alert"},Object(s.h)(l.c,{id:"login.caps-lock-on"},"CAPS LOCK er pÃ¥!")),k&&Object(s.h)(t,null,Object(s.h)("div",{class:"form-group"},Object(s.h)(l.b,null,Object(s.h)("input",{type:"number",class:"form-control form-control-lg",id:"tokenInput",onInput:Object(c.a)(this,"token"),value:d,placeholder:Object(s.h)(l.c,{id:"login.2fa-token"},"2FA Token")})))),Object(s.h)("div",{class:"form-group"},Object(s.h)("div",{class:"input-group mb-2"},Object(s.h)("div",{class:"input-group-prepend"},Object(s.h)("div",{class:"input-group-text"},Object(s.h)(l.c,{id:"login.select-language"},"Select language"))),Object(s.h)("select",{class:"custom-select custom-select-lg border-0 text-white bg-primary",onInput:this.changeLanguage},Object(s.h)("option",{value:"no",selected:"no"===v},"ðŸ‡³ðŸ‡´ NO"),Object(s.h)("option",{value:"en",selected:"en"===v},"ðŸ‡¬ðŸ‡§ EN"),Object(s.h)("option",{value:"es",selected:"es"===v},"ðŸ‡ªðŸ‡¸ ES"),Object(s.h)("option",{value:"de",selected:"de"===v},"ðŸ‡©ðŸ‡ª DE"),Object(s.h)("option",{value:"fr",selected:"fr"===v},"ðŸ‡«ðŸ‡· FR"),Object(s.h)("option",{value:"ru",selected:"ru"===v},"ðŸ‡·ðŸ‡º RU"),Object(s.h)("option",{value:"se",selected:"se"===v},"ðŸ‡¸ðŸ‡ª SE")))),Object(s.h)("button",{class:"btn btn-lg btn-block btn-primary",type:"button",onClick:this.login,disabled:!T},Object(s.h)("i",{class:"fas fa-sign-in-alt mr-2"}),Object(s.h)(l.c,{id:"login.login"},"Logg inn")),Object(s.h)("small",{class:"form-text text-muted mt-1 text-right"},Object(s.h)("button",{class:"btn btn-small btn-link text-primary",onClick:this.forgotten},Object(s.h)(l.c,{id:"login.forgot-password"},"Glemt passordet?"))))),Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-4"},Object(s.h)("div",{class:"form-row align-items-center"},Object(s.h)("button",{class:"btn btn-link btn-block text-white",type:"button",onClick:this.newUser},Object(s.h)("strong",null,Object(s.h)(l.c,{id:"login.no-account"},"No account?")),Object(s.h)("br",null),Object(s.h)("i",{class:"fas fa-plus mr-2"}),Object(s.h)(l.c,{id:"login.signup-free-account"},"Please sign up for a free account here")))))},n}(s.Component))||o;e.default=d}.call(this,n("hosL").Fragment)},tJLP:function(t,e,n){"use strict";var o,s=n("hosL"),r=n("/eY4"),i=Object(r.a)(o=function(t){function e(){return t.apply(this,arguments)||this}var n,o;o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var r=e.prototype;return r.componentDidUpdate=function(){var t=this.props.remove,e=void 0===t?function(){}:t;clearTimeout(this.removeTimer),this.removeTimer=setTimeout((function(){return e()}),1e4)},r.componentWillUnmount=function(){clearTimeout(this.removeTimer)},r.render=function(){var t=this.props,e=t.message,n=t.icon,o=t.remove,r=void 0===o?function(){}:o;return e?Object(s.h)("div",{class:"container"},Object(s.h)("div",{class:"alert alert-danger row"},Object(s.h)("div",{class:"col-12"},Object(s.h)("a",{href:"#",onclick:r,class:"float-right"},Object(s.h)("i",{className:"fas fa-times"})),n&&Object(s.h)("h1",{class:"float-left mr-3"},Object(s.h)("i",{class:n})),e&&Object(s.h)("span",null,e)))):""},e}(s.Component))||o;e.a=i}}]);
//# sourceMappingURL=31.chunk.5e0e2.js.map