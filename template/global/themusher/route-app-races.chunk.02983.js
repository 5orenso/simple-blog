(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{HGwV:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r,n,i,h=s("hosL"),d=(s("QRet"),s("Utv1")),b=s("/eY4"),u=s("OhSV"),p=(s("Y3FI"),s("fh8t")),m=s.n(p),f=(s("go65"),s("HQo+")),O=s("wanP"),j=s("ZQlJ"),g=s("q/oJ"),v=s("gWxU"),w=s("Nanz"),y=s("ZOvn"),x=y.a.marginTop(!1),k=y.a.marginTopBack(!1),S=(y.a.marginBottom(),y.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:d.a.getJwtToken(),reloadInSec:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0}),I=Object(b.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).initComponent=function(){s.setState({reloadIsActive:!0},(function(){return s.tickReloadTimeer()}))},s.tickReloadTimeer=function(){var t=s.props.reloadLastEpoch;if(s.state.reloadIsActive){var e=Math.floor((new Date).getTime()/1e3);s.setState({reloadInSec:60-(e-t)}),clearTimeout(s.updateTimer.tick),s.updateTimer.tick=setTimeout((function(){return s.tickReloadTimeer()}),1e3)}return!1},s.state=c({},S),s.updateTimer={},s}o(s,e);var a=s.prototype;return a.componentDidMount=function(){this.initComponent()},a.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},a.render=function(){var e=this.state.reloadInSec,s=this.props,a=s.radius,c=void 0===a?13:a,l=s.fontSize,o=void 0===l?11:l,r=s.classNames,n=void 0===r?"":r,i=Math.floor(d.a.normalizeBetween(e,0,60,0,100));return Object(h.h)(t,null,Object(h.h)("span",{class:n},Object(h.h)(O.a,{key:"gauge-reload-page",color:"primary",radius:c,showPercentText:!1,percent:i,showCenterText:!0,centerText:e,centerTextSize:o,centerTextY:"55%"})))},s}(h.Component))||r,T=Object(b.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleAdminInfo=function(t){t.stopPropagation(),s.setState({showAdminInfo:!s.state.showAdminInfo})},s.toggleInfo=function(t){t.stopPropagation(),s.setState({showInfo:!s.state.showInfo})},s.state={},s}return o(s,e),s.prototype.render=function(){var e=this.state,s=e.showAdminInfo,a=e.showInfo,c=this.props,l=c.bib,o=c.email,r=c.onTeamClick,n=c.onDogClick,i=this.props.stores,b=i.raceStore,p=i.userStore.isAdmin,f=l?b.getMusherByBibId(l):b.getMusherByBibEmail(o),O=b.getTeamById(f.team),g=O.members?O.members.find((function(t){return t.email===f.email})):{},v=b.getClassByTeamId(f.team),w=b.getTotalsByTeamId(f.team),x=y.a.getImage({user:g,team:O,priority:"user"}),k=y.a.displayNameShort(g)||y.a.displayNameShort(f),S=y.a.getRankingColor(f.bib);return Object(h.h)(t,null,Object(h.h)("div",{class:"d-flex position-relative"},Object(h.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:x?'background-image: url("'+x+'"); background-size: cover;':""},!x&&Object(h.h)("div",{class:"text-muted",style:"font-size: 25px; padding-top: 5px;"},k),Object(h.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute "+(S?"":"bg-secondary")+" font-weight-bold",style:"bottom: -20px; right: 0; "+(S?"background-color: "+S+";":"")},f.bib&&"n/a"!==f.bib&&Object(h.h)(t,null,f.bib))),Object(h.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(h.h)("h6",{class:"font-weight-light mb-0"},v.title),Object(h.h)("h3",{class:"mb-0"},f.flag," ",f.firstname," ",f.lastname),Object(h.h)("h6",{class:"mb-0"},f.sportsClub))),O.public>0&&Object(h.h)(t,null,a?Object(h.h)(t,null,Object(h.h)("button",{class:"btn btn-link float-right",onClick:this.toggleInfo},Object(h.h)("i",{class:"fas fa-angle-up"})," ",Object(h.h)(u.c,{id:"races.hide-info"},"Hide info"))):Object(h.h)(t,null,Object(h.h)("button",{class:"btn btn-link float-right",onClick:this.toggleInfo},Object(h.h)("i",{class:"fas fa-angle-down"})," ",Object(h.h)(u.c,{id:"races.show-info"},"Show info"))),Object(h.h)("h3",null,O.public?Object(h.h)(t,null,Object(h.h)("a",{href:"/teams/public/"+O.uuidv4,onClick:function(t){return r(t,O.uuidv4)}},O.name)):Object(h.h)(t,null,O.name)),a&&Object(h.h)(t,null,Object(h.h)(m.a,{markdown:y.a.replaceImages(O.description,O.images),markdownOpts:y.a.getMarkdownOptions()})),O.dogs&&Object(h.h)("div",{class:"w-100 container-fluid"},Object(h.h)("div",{class:"row pt-2"},Object(h.h)(j.a,{stores:this.props.stores,dogs:O.dogs.map((function(t){return t.id})),allDogs:O.dogs,onDogClick:n})))),w&&w.distanceKm&&Object(h.h)(t,null,Object(h.h)("div",{class:"table-responsive-lg"},Object(h.h)("table",{class:"table table-borderless"},Object(h.h)("tbody",null,Object(h.h)("tr",null,Object(h.h)("td",{style:"width: 5%;"},Object(h.h)("i",{class:"fas fa-dog"})),Object(h.h)("td",{style:"width: 60%"},Object(h.h)(u.c,{id:"races.dogs"},"Dogs")),Object(h.h)("td",{style:"width: 5%;"}," "),Object(h.h)("td",{class:"text-right",style:"width: 30%;"},O.dogs.length)),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-road"})),Object(h.h)("td",null,Object(h.h)(u.c,{id:"races.distance"},"Distance")),Object(h.h)("td",null," "),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,w.distanceKm?d.a.format(w.distanceKm,1)+" km":"n/a"))),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-mountain"})),Object(h.h)("td",null,Object(h.h)(u.c,{id:"races.ascend"},"Ascending")),Object(h.h)("td",null," "),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,w.elevation?d.a.format(w.elevation,0)+" m":"n/a"))),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-stopwatch"})),Object(h.h)("td",null,Object(h.h)(u.c,{id:"races.race-time"},"Racetime")),Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-clock"})),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,d.a.secToHms(w.duration)||"n/a"))),Object(h.h)("tr",null,Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-bed"})),Object(h.h)("td",null,Object(h.h)(u.c,{id:"races.rest-time"},"Rest")),Object(h.h)("td",null,Object(h.h)("i",{class:"fas fa-clock"})),Object(h.h)("td",{class:"text-right"},Object(h.h)("nobr",null,d.a.secToHms(w.rest)||"n/a"))))))),p&&Object(h.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(h.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),s&&Object(h.h)(t,null,Object(h.h)("small",null,Object(h.h)("xmp",null,JSON.stringify(f,null,4),JSON.stringify(g,null,4),JSON.stringify(O,null,4),JSON.stringify(w,null,4))))))},s}(h.Component))||n,C=Object(b.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadLiveRaceResults=function(t,e,a){return new Promise((function(c,l){var o;return void 0===t&&(t=s.props),o=t.stores.raceStore,Promise.resolve(o.getRaceTrackerData(o.race.raceTrackerRace)).then((function(){try{return o.getRaceTrackerActiveTeams(e,a),c()}catch(t){return l(t)}}),l)}))},s.loadRaceResults=function(t,e,a){return new Promise((function(c,l){var o;return void 0===t&&(t=s.props),o=t.stores.raceStore,Promise.resolve(o.loadWorkoutSummary(e,t.raceid)).then((function(){try{return o.getWorkoutSummaryActiveTeams(e,a),c()}catch(t){return l(t)}}),l)}))},s.loadRace=function(t){return new Promise((function(e,a){var c,l,o,r,n,i,h,d,b,u,p;return void 0===t&&(t=s.props),s.setState({isLoading:!0}),l=(c=t.stores).raceStore,o=c.appState,n=(r=t).classid,Promise.resolve(l.load(r.raceid)).then(function(){try{if(i=l.race,h=o.focusOnMushers,b=void 0===(d=o.selectedClassIds)?[]:d,u=n||b[0],n&&o.toggleSelectedClassId(n,!0),(p=i.classes.filter((function(t){return t.id===u})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat()).length>0)return Promise.resolve(l.loadTeams(p.join(","))).then(function(){try{return c.call(this)}catch(t){return a(t)}}.bind(this),a);function c(){function c(){return l.getAllClassesSortedBy(),clearTimeout(s.updateTimer.reload),s.updateTimer.reload=setTimeout((function(){return new Promise((function(e){var a=Math.floor((new Date).getTime()/1e3);return s.setState({reloadLastEpoch:a}),s.loadRace(t),e()}))}),6e4),s.setState({isLoading:!1}),e()}return i.liveRace>0?Promise.resolve(s.loadLiveRaceResults(s.props,p,h)).then(function(){try{return c.call(this)}catch(t){return a(t)}}.bind(this),a):Promise.resolve(s.loadRaceResults(s.props,p,h)).then(function(){try{return c.call(this)}catch(t){return a(t)}}.bind(this),a)}return c.call(this)}catch(t){return a(t)}}.bind(this),a)}))},s.setLeaderboardMode=function(t){s.setState({leaderboardMode:t.target.parentElement.dataset.mode||t.target.dataset.mode})},s.chooseRaceClass=function(t){s.setState({filterByraceClass:t.target.value})},s.toggleShowLeaderBoard=function(t){s.setState(!0===t?{showLeaderBoard:!1}:{showLeaderBoard:!s.state.showLeaderBoard})},s.toggleShowNews=function(t){s.setState(!0===t?{showNews:!1}:{showNews:!s.state.showNews})},s.onMarkerClick=function(t){s.setState({showModal:!s.state.showModal,modalTitle:t.title,modalBib:t.bib,modalEmail:t.email})},s.toggleModal=function(){s.setState({showModal:!s.state.showModal})},s.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),s.setState({showTeam:e}),!1},s.hideTeam=function(){s.setState({showTeam:null})},s.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},s.onDogClick=function(t,e,a){return t.preventDefault(),t.stopPropagation(),s.setState({showDog:e,dogs:a}),!1},s.hideDog=function(){s.setState({showDog:null})},s.filterByClass=function(t){return new Promise((function(e,a){function c(){function t(){return e()}return i.liveRace>0?Promise.resolve(s.loadLiveRaceResults(s.props,d,h)).then(function(){try{return t.call(this)}catch(t){return a(t)}}.bind(this),a):Promise.resolve(s.loadRaceResults(s.props,d,h)).then(function(){try{return t.call(this)}catch(t){return a(t)}}.bind(this),a)}var l,o,r,n,i,h,d;return l=t.target.closest("button").dataset.id,n=(o=s.props.stores).raceStore,(r=o.appState).toggleSelectedClassId(l,!0),h=r.focusOnMushers,(d=(i=n.race).classes.filter((function(t){return t.id===l})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat()).length>0?Promise.resolve(n.loadTeams(d.join(","))).then(function(){try{return c.call(this)}catch(t){return a(t)}}.bind(this),a):c.call(this)}))},s.back=function(){s.props.stores.history.goBack()},s.state=c(c({},S),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3)}),s.updateTimer={},s}o(s,e);var a=s.prototype;return a.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},a.componentDidMount=function(){this.loadRace();var t,e={width:(t=window).innerWidth,height:t.innerHeight};e.width<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))},a.componentWillReceiveProps=function(t){this.loadRace(t)},a.render=function(){var e=this,s=this.props.stores,a=s.raceStore,c=s.appState,l=this.props,o=l.raceid,r=c.selectedClassIds,n=void 0===r?[]:r,i=this.state,d=i.reloadLastEpoch,b=i.showModal,u=i.modalBib,p=i.modalEmail,m=i.showTeam,O=i.showDog,j=a.waypoints,y=a.zoomToMarkers,S=a.race,C=u?a.getMusherByBibId(u):a.getMusherByBibEmail(p),D=a.getTeamById(C.team);return Object(h.h)(t,null,m&&Object(h.h)(g.a,null,Object(h.h)(v.a,{stores:this.props.stores,teamid:m,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),O&&Object(h.h)(g.a,null,Object(h.h)(w.a,{stores:this.props.stores,dogid:O,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:D.dogs})),Object(h.h)("div",{class:"container-fluid position-relative p-0",style:"margin-top: "+x+"; height: calc(100vh - 130px);"},Object(h.h)(f.a,{stores:this.props.stores,raceid:o,waypoints:j,zoomToMarkers:y,fullscreenMap:!0,onMarkerClick:this.onMarkerClick,showHeatmap:S.liveRace<1,showTracks:S.liveRace>=1,key:"trackmap-"+n.join("-")}),Object(h.h)("div",{class:"position-absolute",style:"top: 15px; left: 50px; z-index: 9999;"},Object(h.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+k+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(h.h)("i",{class:"fas fa-arrow-circle-left"})),Object(h.h)("div",{class:"logo ml-3 clearfix text-white"},Object(h.h)("img",{src:"./assets/homerun-race-logo-2-small.png",height:"37",class:"float-left"}),Object(h.h)("a",{href:"/app-races/"+S.id+"/results"},Object(h.h)("span",{class:"font-weight-bold text-dark",style:"font-size: 1.4em;"},S.title)))),Object(h.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 9999; width: 30px; height: 30px;"},Object(h.h)(I,{stores:this.props.stores,classNames:"float-right ml-2",reloadLastEpoch:d})),Object(h.h)("div",{class:"position-absolute",style:" bottom: 55px; left: 0;  right: 0;  margin-left: auto;  margin-right: auto;  z-index: 9999; width: 80vw; height: 50px;"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},S.classes&&S.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s,a){return Object(h.h)(t,null,Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{type:"button",class:"btn btn-block "+(0===a&&"rounded-pill-left")+" "+(a===S.classes.length-1&&"rounded-pill-right")+" rounded-none "+(n.indexOf(s.id)>-1?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.filterByClass,"data-id":s.id},s.title)))}))))),b&&Object(h.h)(t,null,Object(h.h)("div",{class:"position-absolute",style:"top: 0px; left: 0px; z-index: 9999; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.3);",onClick:this.toggleModal},Object(h.h)("div",{class:"position-absolute bg-light border rounded rounded-lg pt-3 pb-3 px-2",style:"top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80vw; max-width: 800px; max-height: 600px; overflow: auto;"},Object(h.h)("button",{class:"btn btn-warning btn-sm float-right position-absolute",style:"top: 5px; right: 5px;"},Object(h.h)("i",{class:"fas fa-times"})),Object(h.h)(T,{stores:this.props.stores,bib:u,email:p,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))))))},s}(h.Component))||i;e.a=C}).call(this,s("hosL").Fragment)},J9nn:function(t,e,s){"use strict";(function(t){var a,c=s("hosL"),l=(s("Utv1"),s("/eY4")),o=s("OhSV"),r=(s("Y3FI"),s("fh8t"),s("go65"),s("ZOvn"),Object(l.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).subscribeNotificationTopic=function(t){return new Promise((function(e,a){var c,l;return void 0===(l=(c=s.props.stores.userStore).user.notificationTopics)?{}:l,1,Promise.resolve(c.setNotificationTopic({field:"notificationTopics."+t,value:1})).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.state={},s.inputRef={},s.updateTimer={},s}var a,l;return l=e,(a=s).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l,s.prototype.render=function(){var e=this,s=this.props.stores,a=s.userStore,l=a.user,r=void 0===l?{}:l,n=r.notificationTopics,i=void 0===n?{}:n,h=this.props.race,d="race-"+(void 0===h?{}:h).id;return i&&i[d]?"":Object(c.h)(t,null,Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(c.h)("button",{class:"btn btn-block btn-info btn-lg",onClick:function(){return e.subscribeNotificationTopic(d)}},Object(c.h)("i",{class:"fas fa-bell"})," ",Object(c.h)(o.c,{id:"race.notifications"},"Subscribe to race notifications")))))},s}(c.Component))||a);e.a=r}).call(this,s("hosL").Fragment)},Pbyq:function(t,e,s){"use strict";(function(t){var a,c=s("hosL"),l=s("Utv1"),o=s("/eY4"),r=(s("OhSV"),s("Y3FI"),s("fh8t"),s("go65"),s("om2D"),s("AEg1")),n=s("gOLw"),i=(s("ZOvn"),Object(o.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).addRaceUserImage=function(){return new Promise((function(t,e){var a;return a=s.props.race,Promise.resolve(s.props.stores.raceStore.addUserImage({id:(void 0===a?{}:a).id,newUserImage:s.state.newRaceUserImage})).then((function(){try{return s.setState({newRaceUserImage:{}}),t()}catch(t){return e(t)}}),e)}))},s.updateUserImageUpload=function(t){var e=s.state.newRaceUserImage;e[t.field]=t.value,s.setState({newRaceUserImage:e})},s.removeRaceUserImage=function(t){return new Promise((function(e,a){var c;return c=s.props.race,Promise.resolve(s.props.stores.raceStore.removeUserImage({id:(void 0===c?{}:c).id,userImageId:t.target.parentElement.dataset.id||t.target.dataset.id})).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.editRaceUserImage=function(t){return new Promise((function(e){var a,c=t.target.dataset,o=c.id,r=c.field,n=t.target.value,i=s.props.race,h=(void 0===i?{}:i).id,d=s.props.stores.raceStore,b=((a={raceUserImageId:o})["raceUserImage"+l.a.ucfirst(r)]=n,a);return clearTimeout(s.updateTimer[h+"-"+o+"-"+r]),s.updateTimer[h+"-"+o+"-"+r]=setTimeout((function(){return new Promise((function(t){return d.editUserImage({id:h,data:b}),t()}))}),1500),s.resizeTextarea(t.target),e()}))},s.resizeTextarea=function(t){var e=t;e.target&&(e=t.target),e.style.height=e.scrollHeight+"px"},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.state={newRaceUserImage:{}},s.inputRef={},s.updateTimer={},s}var a,o;return o=e,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s.prototype.render=function(){var e=this.props.stores,s=e.userStore,a=s.user,l=void 0===a?{}:a,o=this.props.race,i=void 0===o?{}:o,h=["photos"];return i.tag&&i.tag.split(",").forEach((function(t){h.push(t.trim())})),Object(c.h)(t,null,l.id&&Object(c.h)(r.a,{stores:this.props.stores,hashTags:h,postfix:"[🔗 "+i.title+": Images](/app-races/"+i.id+"/userImages)",topic:"race-"+i.id}),Object(c.h)(n.a,{stores:this.props.stores,hashtags:h}))},s}(c.Component))||a);e.a=i}).call(this,s("hosL").Fragment)},ULR1:function(t,e,s){"use strict";(function(t){var a,c=s("hosL"),l=s("Utv1"),o=s("/eY4"),r=(s("OhSV"),s("Y3FI"),s("fh8t"),s("go65"),s("om2D"),s("AEg1")),n=s("gOLw"),i=(s("ZOvn"),Object(o.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).addRaceArticle=function(){return new Promise((function(t,e){var a;return a=s.props.race,Promise.resolve(s.props.stores.raceStore.addArticle({id:(void 0===a?{}:a).id,newArticle:s.state.newRaceArticle})).then((function(){try{return s.setState({newRaceArticle:{}}),t()}catch(t){return e(t)}}),e)}))},s.editRaceArticle=function(t){return new Promise((function(e){var a,c=t.target.dataset,o=c.id,r=c.field,n=t.target.value,i=s.props.race,h=(void 0===i?{}:i).id,d=s.props.stores.raceStore,b=((a={raceArticleId:o})["raceArticle"+l.a.ucfirst(r)]=n,a);return clearTimeout(s.updateTimer[h+"-"+o+"-"+r]),s.updateTimer[h+"-"+o+"-"+r]=setTimeout((function(){return new Promise((function(t){return d.editArticle({id:h,data:b}),t()}))}),1500),s.resizeTextarea(t.target),e()}))},s.removeRaceArticle=function(t){return new Promise((function(e,a){var c;return c=s.props.race,Promise.resolve(s.props.stores.raceStore.removeArticle({id:(void 0===c?{}:c).id,articleId:t.target.parentElement.dataset.id||t.target.dataset.id})).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.updateArticleUpload=function(t){var e=s.state.newRaceArticle;e[t.field]=t.value,s.setState({newRaceArticle:e})},s.resizeTextarea=function(t){var e=t;e.target&&(e=t.target),e.style.height=e.scrollHeight+"px"},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.state={newRaceArticle:{}},s.inputRef={},s.updateTimer={},s}var a,o;return o=e,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s.prototype.render=function(){var e=this.props.stores,s=e.userStore,a=s.user,l=void 0===a?{}:a,o=this.props.race,i=void 0===o?{}:o,h=["news"];return i.tag&&i.tag.split(",").forEach((function(t){h.push(t.trim())})),Object(c.h)(t,null,l.id&&Object(c.h)(r.a,{stores:this.props.stores,hashTags:h,postfix:"[🔗 "+i.title+": News](/app-races/"+i.id+"/news)",topic:"race-"+i.id}),Object(c.h)(n.a,{stores:this.props.stores,hashtags:h}))},s}(c.Component))||a);e.a=i}).call(this,s("hosL").Fragment)},hwiY:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o,r=s("hosL"),n=s("Utv1"),i=s("/eY4"),h=s("OhSV"),d=(s("Y3FI"),s("fh8t")),b=s.n(d),u=(s("go65"),s("ZOvn")),p=Object(i.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).signupToRace=function(){return new Promise((function(t,e){var a,l,o,r,n;return o=(a=s.props.stores).userStore.user,r=(l=a.raceStore).signup,n=s.props.race,Promise.resolve(l.addContestant({id:(void 0===n?{}:n).id,classId:r.class,newContestant:c({team:o.team,firstname:o.firstname,lastname:o.lastname,sportsClub:o.sportsClub,email:o.email,cellphone:o.cellphone,facebook:o.facebook,instagram:o.instagram},r)})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.updateSignup=function(t){s.props.stores.raceStore.updateObjectKeyValue("signup",t.target.id,t.target.value)},s.editSignup=function(t){var e,a=s.props.race,c=(void 0===a?{}:a).id,l=s.props.stores.raceStore,o=t.target.id,r=t.target.value,i=t.target.dataset,h=i.classid,d=i.contestantid;l.updateObjectKeyValue("signup",o,r);var b=((e={raceClassId:h,contestantId:d})["raceClassContestant"+n.a.ucfirst(o)]=r,e);clearTimeout(s.updateTimer[o]),s.updateTimer[o]=setTimeout((function(){return new Promise((function(t,e){function s(){return t()}return l.editClass({id:c,data:b}),l.localUpdateSignup(o,r),"team"===o?Promise.resolve(l.loadTeams(r,!0)).then(function(){try{return s.call(this)}catch(t){return e(t)}}.bind(this),e):s.call(this)}))}),500)},s.state={},s.inputRef={},s.updateTimer={},s}var a,l;return l=e,(a=s).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l,s.prototype.render=function(){var e=this.props.stores,s=e.userStore,a=e.raceStore,c=s.user,l=void 0===c?{}:c,o=s.teams,i=void 0===o?[]:o,d=l.language,p=void 0===d?"en":d,m=this.props.race,f=void 0===m?{}:m,O=a.signup,j={},g=[];O.class&&(j=a.getRaceClassById(O.class)),O.team&&(g=s.findDogsByTeam(parseInt(O.team,10)));var v=s.vaccineLogStatuses,w=new Date;return Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"races.signup"},"Påmelding"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},w>=new Date(f.signupStartDate)&&w<=new Date(f.signupEndDate)?Object(r.h)(t,null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"races.signed-in-as"},"Logget inn som"),":")," ",l.email,Object(r.h)("br",null),Object(r.h)("br",null),O.id?Object(r.h)(t,null,Object(r.h)("div",{class:"font-weight-bold mb-4"},Object(r.h)("i",{class:"fas fa-check text-success"})," ",Object(r.h)(h.c,{id:"races.signed-up"},"Din bruker er påmeldt!"),Object(r.h)("br",null)),!f.liveRace&&f.signuppayment&&Object(r.h)(t,null,Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.signup"},"Påmelding")),Object(r.h)("div",{class:"col-10"},O.paidSignupfee?Object(r.h)("div",{class:"py-2"},Object(r.h)(h.c,{id:"races.paid"},"Betalt"),": ",n.a.formatDate(O.paidSignupfee),Object(r.h)("i",{class:"fas fa-check text-success ml-3"})):Object(r.h)(t,null,Object(r.h)("div",{class:"alert alert-danger mb-1",role:"alert"},Object(r.h)("h5",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"races.payment-info"},"Betaling påmelding"),":"),Object(r.h)("br",null),Object(r.h)(b.a,{markdown:u.a.replaceImages(f.signuppayment,f.images,p),markdownOpts:u.a.getMarkdownOptions()}),j.signupfee||f.signupfee," NOK")))))),Object(r.h)("div",{class:"form-group row my-5"},Object(r.h)("label",{for:"team",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.team"},"Team")),Object(r.h)("div",{class:"col-9"},Object(r.h)("select",{class:"form-control form-control-lg",id:"team","aria-describedby":"teamHelp","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.team},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"races.choose-team"},"Velg team")," --"),i.map((function(t){return Object(r.h)("option",{value:t.id},t.name)}))),O.team?Object(r.h)(t,null):Object(r.h)(t,null,Object(r.h)("div",{class:"alert alert-danger clearfix",role:"alert"},Object(r.h)("span",{class:"display-4 float-left mr-3"},Object(r.h)("i",{class:"fas fa-exclamation-triangle"})),Object(r.h)(h.c,{id:"races.choose-race-team",fields:{title:f.title}},"Please choose race team for ",f.title))))),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"cellphone",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.cellphone"},"Mobil")),Object(r.h)("div",{class:"col-9"},Object(r.h)(h.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"cellphone","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.cellphone,placeholder:Object(r.h)(h.c,{id:"races.cellphone-help"},"Hva er mobilnummer ditt?")})))),O.name&&Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"name",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.name"},"Navn")),Object(r.h)("div",{class:"col-9"},O.name)),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"firstname",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.firstname"},"Fornavn")),Object(r.h)("div",{class:"col-9"},Object(r.h)(h.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"firstname","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.firstname,placeholder:Object(r.h)(h.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"lastname",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.lastname"},"Etternavn")),Object(r.h)("div",{class:"col-9"},Object(r.h)(h.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"lastname","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.lastname,placeholder:Object(r.h)(h.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"sportsClub",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.sportsclub"},"Klubb")),Object(r.h)("div",{class:"col-9"},Object(r.h)(h.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"sportsClub","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.sportsClub,placeholder:Object(r.h)(h.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?")})))),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"facebook",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.facebook"},"Facebook")),Object(r.h)("div",{class:"col-9"},Object(r.h)(h.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"facebook","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.facebook,placeholder:Object(r.h)(h.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"instagram",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.instagram"},"Instagram")),Object(r.h)("div",{class:"col-9"},Object(r.h)(h.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"instagram","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.instagram,placeholder:Object(r.h)(h.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"team",class:"col-3 col-form-label text-right font-weight-lighter"},Object(r.h)(h.c,{id:"races.class"},"Klasse")),Object(r.h)("div",{class:"col-9"},Object(r.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,value:O.class,disabled:!0},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"races.choose-class"},"Velg klasse")," --"),f.classes&&f.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(r.h)(t,null,Object(r.h)("option",{value:e.id},e.title,!f.liveRace&&Object(r.h)(t,null,"- ",e.distance," km - Påmelding: ",e.signupfee||f.signupfee," NOK")))}))))),f.rules&&Object(r.h)("div",{class:"form-group row my-2"},Object(r.h)("label",{for:"team",class:"col-3 col-form-label text-right font-weight-lighter"}," "),Object(r.h)("div",{class:"col-9 pl-5"},Object(r.h)("input",{type:"checkbox",class:"form-check-input",id:"termsAndAgreement","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,checked:O.termsAndAgreement,value:1}),Object(r.h)("label",{class:"form-check-label",for:"termsAndAgreement"},Object(r.h)(h.c,{id:"races.agreement-accept"},"Jeg har lest og godtar reglene for løpet.")))),f.declaration&&Object(r.h)("div",{class:"form-group row my-4"},Object(r.h)("div",{class:"col-12 text-center border-top"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"races.declaration"},"Declaration"))),Object(r.h)("details",{class:"col-12"},O.declaration?Object(r.h)(t,null,Object(r.h)("summary",null,Object(r.h)(h.c,{id:"races.see-declaration"},"See declaration")," (",Object(r.h)("span",{class:"text-muted font-weight-light"},Object(r.h)(h.c,{id:"races.declaration-signed"},"Declaration signed"),": ",n.a.isoDate(O.declarationDate)),")")):Object(r.h)(t,null,Object(r.h)("summary",null,Object(r.h)("h5",{class:"btn btn-primary"},Object(r.h)(h.c,{id:"races.see-declaration"},"See declaration")))),Object(r.h)(b.a,{markdown:u.a.replaceImages(f.declaration,f.images,p),markdownOpts:u.a.getMarkdownOptions()}),O.declaration?Object(r.h)(t,null,Object(r.h)("i",null,Object(r.h)(h.c,{id:"races.declaration-signed"},"Declaration signed"),": ",n.a.isoDate(O.declarationDate))):Object(r.h)(t,null,Object(r.h)("div",{class:"pl-5"},Object(r.h)("input",{type:"checkbox",class:"form-check-input",id:"declaration","data-classid":O.class,"data-contestantid":O.id,onInput:this.editSignup,checked:O.declaration,value:1}),Object(r.h)("label",{class:"form-check-label",for:"declaration"},Object(r.h)(h.c,{id:"races.declaration-accept"},"I hereby sign the declaration for the race!")))))),Object(r.h)("div",{class:"form-group row my-4"},Object(r.h)("div",{class:"col-12 text-center border-top"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"races.chiplist"},"Chiplist"))),Object(r.h)("details",{class:"col-12"},Object(r.h)("summary",null,Object(r.h)(h.c,{id:"races.see-dogs"},"See dogs & chiplist")),Object(r.h)("div",{class:"pt-3"},g&&g.length>0?Object(r.h)(t,null,g.map((function(e){return Object(r.h)(t,null,Object(r.h)("div",{class:"d-flex mb-0 position-relative mb-3"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2",style:e.image?'background-image: url("'+e.image.s3SmallLink+'"); background-size: cover;':""},!e.image&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(e.name,!0))),Object(r.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(r.h)("span",{class:"float-right"},e.birth&&Object(r.h)("span",{class:"mr-2"},n.a.age(e.birth,e.deceased)),"female"===e.gender?Object(r.h)("i",{class:"fas fa-venus"}):Object(r.h)("i",{class:"fas fa-mars"})),Object(r.h)("a",{href:"/dogs/edit/"+e.id},Object(r.h)("h6",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(r.h)(t,null," - ",Object(r.h)("span",{class:"font-weight-lighter"},e.name)))),e.chipId?Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-microchip text-muted"})," ",e.chipId):Object(r.h)(t,null,Object(r.h)("div",{class:"alert alert-danger",role:"alert"},Object(r.h)(h.c,{id:"races.missing-chipid"},"Missing chid id"))),Object(r.h)("div",null,v&&v.filter((function(t){return t.chipId===e.chipId})).map((function(e){return Object(r.h)("span",{class:"badge badge-"+(e.inKarens?"warning":"success")+" mr-2 mb-1"},e.vaccineAgens.name,Object(r.h)("span",{class:"font-weight-lighter ml-2"},Object(r.h)("i",{class:"fas fa-calendar-check"})," ",n.a.isoDate(e.vaccineAgens.durationEnd,!1,!1,!0),e.inKarens&&Object(r.h)(t,null,Object(r.h)("br",null),"(karens: ",n.a.format(e.karensDaysLeft,0)," days left)")))}))))))}))):Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-dog"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"race.add-dogs"},"Add a team to your race signup to see the dogs.")))))))):Object(r.h)(t,null,f.liveRace?Object(r.h)(t,null,"Signup is done at the race normal web pages."):Object(r.h)(t,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"cellphone"},Object(r.h)(h.c,{id:"races.cellphone"},"Mobil")),Object(r.h)("input",{type:"text",class:"form-control",id:"cellphone","aria-describedby":"cellphoneHelp",placeholder:l.cellphone,onInput:this.updateSignup,value:O.cellphone}),Object(r.h)("small",{id:"cellphoneHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.cellphone-help"},"'Hva er mobilnummer ditt?'"))),O.name&&Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"name"},Object(r.h)(h.c,{id:"races.name"},"Name")),Object(r.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",placeholder:l.name,onInput:this.updateSignup,value:O.name}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.name-help"},"Hva er navnet ditt?"))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"firstname"},Object(r.h)(h.c,{id:"races.firstname"},"Fornavn")),Object(r.h)("input",{type:"text",class:"form-control",id:"firstname","aria-describedby":"firstnameHelp",placeholder:l.firstname,onInput:this.updateSignup,value:O.firstname}),Object(r.h)("small",{id:"firstnameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")))),Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"lastname"},Object(r.h)(h.c,{id:"races.lastname"},"Etternavn")),Object(r.h)("input",{type:"text",class:"form-control",id:"lastname","aria-describedby":"lastnameHelp",placeholder:l.lastname,onInput:this.updateSignup,value:O.lastname}),Object(r.h)("small",{id:"lastnameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?"))))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"sportsClub"},Object(r.h)(h.c,{id:"races.sportsclub"},"Klubb")),Object(r.h)("input",{type:"text",class:"form-control",id:"sportsClub","aria-describedby":"sportsClubHelp",placeholder:l.sportsClub,onInput:this.updateSignup,value:O.sportsClub}),Object(r.h)("small",{id:"sportsClubHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?"))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"facebook"},Object(r.h)(h.c,{id:"races.facebook"},"Facebook")),Object(r.h)("input",{type:"text",class:"form-control",id:"facebook","aria-describedby":"facebookHelp",placeholder:l.facebook,onInput:this.updateSignup,value:O.facebook}),Object(r.h)("small",{id:"facebookHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")))),Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"instagram"},Object(r.h)(h.c,{id:"races.instagram"},"Instagram")),Object(r.h)("input",{type:"text",class:"form-control",id:"instagram","aria-describedby":"instagramHelp",placeholder:l.instagram,onInput:this.updateSignup,value:O.instagram}),Object(r.h)("small",{id:"instagramHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?"))))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"team"},Object(r.h)(h.c,{id:"races.team"},"Team")),Object(r.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp",onInput:this.updateSignup,value:O.team},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"races.choose-team"},"Velg team")," --"),i.map((function(t){return Object(r.h)("option",{value:t.id},t.name)}))),Object(r.h)("small",{id:"teamHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.choose-team-help"},"Velg fra dine team"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"class"},Object(r.h)(h.c,{id:"races.class"},"Klasse")),Object(r.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.updateSignup,value:O.class},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"races.choose-class"},"Velg klasse")," --"),f.classes&&f.classes.map((function(e){return Object(r.h)(t,null,Object(r.h)("option",{value:e.id},e.title," - ",e.distance," km - Påmelding: ",e.signupfee||f.signupfee," NOK"))}))),Object(r.h)("small",{id:"classHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"races.choose-class-help"},"Velg ønsket klasse."))),Object(r.h)("div",{class:"form-group form-check"},Object(r.h)("input",{type:"checkbox",class:"form-check-input",id:"termsAndAgreement",onInput:this.updateSignup,checked:O.termsAndAgreement,value:!0}),Object(r.h)("label",{class:"form-check-label",for:"termsAndAgreement"},Object(r.h)(h.c,{id:"races.agreement-accept"},"Jeg har lest og godtar reglene for løpet."))),Object(r.h)("button",{type:"button",class:"btn btn-primary",onClick:this.signupToRace},Object(r.h)(h.c,{id:"races.do-signup"},"Meld meg på"))))):Object(r.h)(t,null,w<new Date(f.signupStartDate)?Object(r.h)(t,null,Object(r.h)("h5",{class:"mt-4"},Object(r.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(r.h)(h.c,{id:"races.signup-not-open-yet"},"Påmeldingen har ikke åpnet ennå!")),Object(r.h)("p",{class:"mt-4"},Object(r.h)(h.c,{id:"races.signup-opening"},"Påmeldingen åpner"),":",Object(r.h)("br",null),Object(r.h)("span",{class:"display-4"},n.a.formatDate(f.signupStartDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(r.h)(t,null,Object(r.h)("h5",{class:"mt-4 mb-4"},Object(r.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(r.h)(h.c,{id:"races.signup-closed"},"Påmeldingen er stengt!")))))))},s}(r.Component))||o;e.a=p}).call(this,s("hosL").Fragment)},n7ns:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function o(t,e){var s=void 0!==t.bib;return(void 0!==e.bib)-s||!0===s&&t.bib-e.bib||0}var r,n=s("hosL"),i=s("Utv1"),h=s("/eY4"),d=s("OhSV"),b=(s("Y3FI"),s("fh8t")),u=s.n(b),p=s("go65"),m=s("ZOvn"),f=s("/DnB"),O=(s("s4FZ"),Object(h.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleDisplayDetails=function(t){var e=t.target.closest("tr").dataset.id,a=s.props.stores.appState;a.editUserDetails[e]||a.toggleDisplayDetails(e)},s.adminToggleEditUser=function(t){t.stopPropagation();var e=t.target.closest("tr").dataset.id;s.props.stores.appState.toggleEditUserDetails(e)},s.veterinaryToggleEditUser=function(t){t.stopPropagation();var e=t.target.closest("tr").dataset.id;s.props.stores.appState.toggleVeterinaryUserDetails(e,!0)},s.toggleAdminSendMessage=function(t){var e=t.target.closest("button").dataset.class,a=s.state.showAdminSendMessage;a[e]=!a[e],s.setState({showAdminSendMessage:a})},s.toggleAdminSendInboxMessage=function(t){var e=t.target.closest("button").dataset.class,a=s.state.showAdminSendInboxMessage,c=void 0===a?{}:a;c[e]=!c[e],s.setState({showAdminSendInboxMessage:c})},s.toggleAdminImport=function(t){var e=t.target.closest("button").dataset.class,a=s.state.showAdminImport;a[e]=!a[e],s.setState({showAdminImport:a})},s.adminSignupEdit=function(t){var e,a=s.props.race,c=(void 0===a?{}:a).id,l=s.props.stores.raceStore,o=t.target.id,r=t.target.value,n=t.target.dataset,h=((e={raceClassId:n.classid,contestantId:n.contestantid})["raceClassContestant"+i.a.ucfirst(o)]=r,e);clearTimeout(s.updateTimer[o]),s.updateTimer[o]=setTimeout((function(){return new Promise((function(t){return l.editClass({id:c,data:h}),t()}))}),500)},s.sendEmail=function(t){return new Promise((function(e,a){var c,l,o,r,n;return l=(void 0===(c=s.props.race)?{}:c).id,o=t.target.closest("button").dataset.to,r=t.target.closest("button").dataset.raceclassid,n=s.state.message,Promise.resolve(s.props.stores.appState.sendEmail({to:o,subject:n.subject,body:n.body,raceId:l,raceClassId:r})).then((function(t){try{return s.setState({emailResponse:t}),e()}catch(t){return a(t)}}),a)}))},s.resetEmail=function(){s.setState({emailResponse:null,message:{subject:"",body:""}})},s.sendInboxMessage=function(t){return new Promise((function(e,a){var c,l,o,r;return c=s.props.stores.raceStore,o=(void 0===(l=s.props.race)?{}:l).id,r=t.target.closest("button").dataset.raceclassid,Promise.resolve(c.sendInboxMessage({body:s.state.inboxMessage.body,raceId:o,raceClassId:r})).then((function(t){try{return s.setState({inboxMessageResponse:t}),e()}catch(t){return a(t)}}),a)}))},s.resetInboxMessage=function(){s.setState({inboxMessage:{body:""}})},s.signupToRace=function(t){return new Promise((function(e,a){var l,o;return l=t.signup,o=s.props.race,Promise.resolve(s.props.stores.raceStore.addContestant({id:(void 0===o?{}:o).id,classId:l.class,newContestant:c({},l)})).then((function(){try{return e()}catch(t){return a(t)}}),a)}))},s.parseInput=function(t,e){return new Promise((function(a){return clearTimeout(s.parseInputTimer),s.parseInputTimer=setTimeout((function(){return s.doParseInput(t,e)}),500),a()}))},s.doParseInput=function(t,e){return new Promise((function(a){var c=String(t).split("\n"),l=[],o=[],r=c[0];l=r.match(/\t/)?r.split("\t"):r.match(/;/)?r.split(";"):r.split(",");for(var n=function(t){var e=c[t],s=void 0;s=e.match(/\t/)?e.split("\t"):e.match(/;/)?e.split(";"):e.split(",");var a={};s.forEach((function(t,e){var s=t;"email"===l[e]&&(s=t.toLowerCase()),a[l[e]]=s})),o.push(a)},i=1,h=c.length;i<h;i+=1)n(i);var d=s.props.race;return s.props.stores.raceStore.addMultipleContestants({id:(void 0===d?{}:d).id,classId:e,contestants:o}),a(!0)}))},s.chooseSubmenu=function(t){t.stopPropagation(),s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.filterByClass=function(t){var e=t.target.closest("button").dataset.id;s.props.stores.appState.toggleSelectedClassId(e,!0)},s.clearSearchForBib=function(){s.setState({searchForBib:""})},s.savePreCheck=function(t){return new Promise((function(e,a){var l,o,r,n,h,d,b,u,p,m,f,O,j,g;return l=t.target.closest("button").dataset,d=(n=s.state).dogJournals,u=(b=s.props.stores).dogJournalStore,f={id:(m=void 0===(p=b.userStore.user)?{}:p).id,firstname:m.firstname,lastname:m.lastname,email:m.email,image:m.image},O={id:o=l.id,chipId:r=l.chipid,name:l.name,shortname:l.shortname,team:l.team},j=c({checkType:"preCheck"},i.a.getNestedValue(h=n.preCheck,o)||{}),g=[{dog:c({},O),journal:c({},j),veterinary:c({},f)}],d[r]||(d[r]=[]),d[r].push(c(c(c({date:new Date},O),j),f)),Promise.resolve(u.insert({data:g})).then((function(){try{return delete h[o],s.setState({preCheck:h}),e()}catch(t){return a(t)}}),a)}))},s.state={displayDetails:{},editUserDetails:{},showAdminSendMessage:{},showAdminImport:{},message:{},inboxMessage:{},submenu:"chiplists",preCheck:{},raceCheck:{},dogJournals:{}},s.inputRef={},s.updateTimer={},s.parseInputTimer=null,s}var a,l;return l=e,(a=s).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l,s.prototype.render=function(){var e=this,s=this.state,a=s.showAdminSendMessage,c=void 0===a?{}:a,l=s.showAdminSendInboxMessage,r=void 0===l?{}:l,h=s.showAdminImport,b=void 0===h?{}:h,O=s.message,j=void 0===O?{}:O,g=s.inboxMessage,v=void 0===g?{}:g,w=s.inboxMessageResponse,y=s.emailResponse,x=s.submenu,k=s.searchForBib,S=s.preCheck,I=void 0===S?{}:S,T=s.dogJournals,C=void 0===T?{}:T,D=this.props.stores,P=D.userStore,R=D.raceStore,A=D.appState,E=P.user,M=P.isAdmin,L=P.isVeterinary,N=(void 0===E?{}:E).language,H=void 0===N?"en":N,B=A.displayDetails,U=A.editUserDetails,z=A.veterinaryUserDetails,F=A.selectedClassIds,_=void 0===F?[]:F,V=this.props.race,K=void 0===V?{}:V,Y=function(t){if(k){var e=new RegExp(""+k.replace(/[^a-zA-Z 0-9æøåÆØÅ]/,""),"i");return e.test(t.bib)||e.test(t.firstname)||e.test(t.lastname)}return!0};return Object(n.h)(t,null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h2",{class:"mb-0"},Object(n.h)(d.c,{id:"races.mushers"},"Deltakere"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},K.classes&&K.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s,a){return Object(n.h)(t,null,Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{type:"button",class:"btn btn-block "+(0===a&&"rounded-pill-left")+" "+(a===K.classes.length-1&&"rounded-pill-right")+" rounded-none "+(_.indexOf(s.id)>-1?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.filterByClass,"data-id":s.id},s.title)))})))),Object(n.h)("div",{class:"row mb-3"},Object(n.h)("div",{class:"col-6 offset-3"},Object(n.h)("div",{class:"input-group"},Object(n.h)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Search for bib",value:k,onInput:Object(p.a)(this,"searchForBib")}),k&&Object(n.h)("div",{class:"input-group-append"},Object(n.h)("div",{class:"input-group-text",onClick:this.clearSearchForBib},"x"))))),K.classes&&K.classes.filter((function(t){return!(_.length>0)||_.indexOf(t.id)>-1})).sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(n.h)(t,null,M&&Object(n.h)("span",{class:"float-right"},"Total app users: ",s.contestants&&s.contestants.filter((function(t){return t.user||t.team})).length),Object(n.h)("h5",null,s.title," ",s.startDate&&Object(n.h)(t,null,": ",Object(n.h)("span",{class:"font-weight-lighter"},i.a.formatDate(s.startDate+" "+(s.startTime||"00:00:00"),{locale:H,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",i.a.formatDate(s.endDate+" "+(s.endTime||"00:00:00"),{locale:H,hour12:!1,hour:"2-digit",minute:"2-digit"})))),M&&Object(n.h)(t,null,Object(n.h)("a",{class:"mx-2",href:"/tv/top10/"+K.id+"/"+s.id},"TV Top 10")," -",Object(n.h)("a",{class:"mx-2",href:"/tv/top5/"+K.id+"/"+s.id},"TV Top 5")," -",Object(n.h)("a",{class:"mx-2",href:"/tv/top3/"+K.id+"/"+s.id},"TV Top 3")," -",Object(n.h)("a",{class:"mx-2",href:"/tv/team/"+K.id+"/1"},"TV One team")," -",Object(n.h)("a",{class:"mx-2",href:"/tv/tracking/"+K.id+"/"+s.id},"TV tracking")," -",Object(n.h)("a",{class:"mx-2",href:"/embed/top10/"+K.id+"/"+s.id},"Embed top10")," -",Object(n.h)("a",{class:"mx-2",href:"/embed/tracking/"+K.id+"/"+s.id},"Embed tracking")," -"),Object(n.h)("div",{class:"table-responsive"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",{scope:"col"},"#"),Object(n.h)("th",{scope:"col",style:"min-width: 90%;"},Object(n.h)(d.c,{id:"races.name"},"Navn")))),Object(n.h)("tbody",null,s.contestants&&s.contestants.filter(Y).sort(o).map((function(a,c){var l=R.getTeamById(a.team),o=R.hasVaccines(l),r=a.mandatoryCheck;return Object(n.h)(t,null,Object(n.h)("tr",{onClick:e.toggleDisplayDetails,"data-id":a.id},Object(n.h)("th",{scope:"row"},a.bib?Object(n.h)(t,null,a.bib):Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-lighter text-muted"},c+1))),Object(n.h)("td",{class:B[a.id]?"font-weight-bold":"",style:B[a.id]||z[a.id]?"":"line-height: 0.8em;"},L&&Object(n.h)(t,null,a.team?Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-primary btn-sm float-right ml-4",onClick:e.veterinaryToggleEditUser},Object(n.h)("i",{class:"fas fa-user-md"}))):Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-outline-secondary btn-sm float-right ml-4 disabled",onClick:function(t){return t.stopPropagation()}},Object(n.h)("i",{class:"fas fa-user-md"}))),o?Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-success btn-sm float-right ml-1",onClick:function(t){return t.stopPropagation()}},Object(n.h)("i",{class:"fas fa-syringe"}))):Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-outline-secondary btn-sm float-right ml-1",onClick:function(t){return t.stopPropagation()}},Object(n.h)("i",{class:"fas fa-syringe"}))),r?Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-success btn-sm float-right ml-1",onClick:function(t){return t.stopPropagation()}},Object(n.h)("i",{class:"fas fa-stethoscope"}))):Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-outline-secondary btn-sm float-right ml-1",onClick:function(t){return t.stopPropagation()}},Object(n.h)("i",{class:"fas fa-stethoscope"})))),M&&Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-outline-warning btn-sm float-right ml-1",onClick:e.adminToggleEditUser},Object(n.h)("i",{class:"fas fa-user-edit"})),a.paidSignupfee&&Object(n.h)(t,null,Object(n.h)("span",{class:"float-right"},Object(n.h)("i",{class:"fas fa-check text-success"}),Object(n.h)("br",null))),Object(n.h)("small",{class:"float-right"},a.raceStatus&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted"},"raceStatus:"),Object(n.h)("br",null)," ",a.raceStatus,Object(n.h)("br",null)),a.raceComment&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted"},"raceComment:"),Object(n.h)("br",null)," ",a.raceComment,Object(n.h)("br",null)),a.gpxResultsApproved&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted"},"gpxResultsApproved:"),Object(n.h)("br",null)," ",a.gpxResultsApproved,Object(n.h)("br",null)))),M&&K.liveRace>0&&Object(n.h)(t,null,Object(n.h)("span",{class:"float-right text-success mr-2",style:"font-size: 1.2em;"},(a.user||a.team)&&Object(n.h)("i",{class:"fas fa-mobile-alt ml-2"}),a.declaration&&Object(n.h)("i",{class:"fas fa-handshake ml-2",alt:i.a.isoDate(a.declarationDate)}))),B[a.id]?Object(n.h)(t,null,a.flag&&Object(n.h)("span",{class:"mr-2"},a.flag),a.firstname?Object(n.h)(t,null,a.firstname," ",a.lastname,Object(n.h)("br",null)):Object(n.h)(t,null,a.name),Object(n.h)("span",{class:"text-muted"},l.name),Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},a.sportsClub),Object(n.h)("br",null),a.facebook&&Object(n.h)("a",{class:"mr-2",href:m.a.asFacebookLink(a.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-facebook"})),a.instagram&&Object(n.h)("a",{class:"mr-2",href:m.a.asInstagramLink(a.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-instagram"})),Object(n.h)("br",null),M&&Object(n.h)(t,null,a.bib&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-tshirt ml-2"})," ",a.bib),a.startTime&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-clock ml-2"})," ",i.a.isoDate(a.startTime))),a.price1&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",a.price1,a.priceSent&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-check text-success"}))),a.price2&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",a.price2),a.price3&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",a.price3)):Object(n.h)(t,null,a.price1&&Object(n.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-trophy"}),a.priceSent&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-check text-success"}))),Object(n.h)("nobr",null,a.flag&&Object(n.h)("span",{class:"mr-2"},a.flag),a.firstname?Object(n.h)(t,null,a.firstname," ",a.lastname,Object(n.h)("br",null)):Object(n.h)(t,null,a.name),Object(n.h)("small",{class:"text-muted"},a.sportsClub),Object(n.h)("br",null))),L&&z[a.id]&&Object(n.h)(t,null,Object(n.h)(f.a,{horizontal:"end",vertical:"center"}),Object(n.h)("div",{class:"w-100 overflow-hidden",style:"max-width: 100%;"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-sm btn-block rounded-pill-left rounded-none "+("chiplists"===x?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"chiplists",onClick:e.chooseSubmenu},Object(n.h)("i",{class:"fas fa-user-md"})," ",Object(n.h)(d.c,{id:"racevet.chiplists"},"Vaccines"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-sm btn-block rounded-none "+("precheck"===x?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"precheck",onClick:e.chooseSubmenu},Object(n.h)("i",{class:"fas fa-stethoscope"})," ",Object(n.h)(d.c,{id:"racevet.precheck"},"PreCheck"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-sm btn-block rounded-pill-right rounded-none "+("racecheck"===x?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"racecheck",onClick:e.chooseSubmenu},Object(n.h)("i",{class:"fas fa-flag-checkered"})," ",Object(n.h)(d.c,{id:"racevet.racecheck"},"RaceCheck"))))),"chiplists"===x&&Object(n.h)(t,null,Object(n.h)("h5",{class:"mt-4 border-bottom"},"Chiplist & Vaccines"),Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},l&&l.dogs?l.dogs.map((function(e){var s;return l&&l.vaccines&&(s=l.vaccines.filter((function(t){return t.chipId===e.chipId}))),Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 d-flex my-3"},Object(n.h)("div",{class:"mx-0 mr-1 px-0 position-relative pt-1"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2",style:(e.image?'background-image: url("'+e.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(e.name,!0))),Object(n.h)("small",null,Object(n.h)("span",{class:"float-left text-overflow",style:"width: 70px;"},e.name),Object(n.h)("br",null)),(e.birth||e.gender)&&Object(n.h)("small",null,Object(n.h)("small",{class:"font-weight-normal float-right position-absolute text-white bg-info p-1 rounded",style:"top: 0px; right: 0px; line-height: 0.8em;"},e.birth&&Object(n.h)("span",{class:"mr-1 text-white"},i.a.age(e.birth,e.deceased)),e.gender&&Object(n.h)(t,null,"female"===e.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))))),Object(n.h)("div",{class:"flex-grow-1 row"},Object(n.h)("div",{class:"col-12 font-weight-bold"},Object(n.h)("i",{class:"fas fa-microchip text-muted"})," ",e.chipId),s&&s.map((function(e){return Object(n.h)("div",{class:"col-4 px-1 overflow-hidden"},Object(n.h)("span",{class:"badge badge-"+(e.inKarens?"warning":"success")},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",i.a.isoDate(e.vaccineAgens.durationEnd,!1,!1,!0),e.inKarens&&Object(n.h)(t,null,Object(n.h)("br",null),"(",Object(n.h)(d.c,{id:"dogs.vaccine-karens"},"karens"),": ",i.a.format(e.karensDaysLeft,0)," ",Object(n.h)(d.c,{id:"dogs.vaccine-karens-days-left"},"days left"),")"))),Object(n.h)("div",{class:"text-overflow"},Object(n.h)("small",{class:"font-weight-light"},e.vaccineAgens.name,Object(n.h)("br",null),Object(n.h)("nobr",null,e.vaccineName),Object(n.h)("br",null))))})))))})):Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h3",null,Object(n.h)(d.c,{id:"teams.no-dogs-title"},"No dogs for this team!")))))))),"precheck"===x&&Object(n.h)(t,null,Object(n.h)("h5",{class:"mt-4 border-bottom"},"Precheck"),Object(n.h)("div",{class:"row"},l&&l.dogs?l.dogs.map((function(s){var a;return l&&l.journal&&(a=l.journal.filter((function(t){return t.chipId===s.chipId}))),Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 d-flex my-3"},Object(n.h)("div",{class:"mx-0 mr-1 px-0 position-relative pt-1"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(s.name,!0))),Object(n.h)("small",null,Object(n.h)("span",{class:"float-left text-overflow",style:"width: 70px;"},s.name),Object(n.h)("br",null)),(s.birth||s.gender)&&Object(n.h)("small",null,Object(n.h)("small",{class:"font-weight-normal float-right position-absolute text-white bg-info p-1 rounded",style:"top: 0px; right: 0px; line-height: 0.8em;"},s.birth&&Object(n.h)("span",{class:"mr-1 text-white"},i.a.age(s.birth,s.deceased)),s.gender&&Object(n.h)(t,null,"female"===s.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))))),Object(n.h)("div",{class:"flex-grow-1 row"},Object(n.h)("div",{class:"col-12 font-weight-bold"},Object(n.h)("i",{class:"fas fa-microchip text-muted"})," ",s.chipId.slice(-5)),Object(n.h)("div",{class:"col-12"},a&&a.length>0&&a.map((function(e){return Object(n.h)(t,null,Object(n.h)("div",{class:"row border-bottom"},Object(n.h)("div",{class:"col-12 text-muted"},Object(n.h)("small",null,Object(n.h)("span",{class:"float-right"},e.checkType&&Object(n.h)(t,null,e.checkType)),i.a.isoDate(e.date)," by ",e.veterinaryFirstname," ",e.veterinaryLastname)),Object(n.h)("div",{class:"col-12 d-flex justify-content-between"},e.diagnoseId>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("span",{class:"text-muted"},"ID:")," ",e.diagnoseId),e.heartRate>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("span",{class:"text-muted"},"HR:")," ",e.heartRate),e.weight>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("i",{class:"fas fa-balance-scale text-muted"})," ",e.weight," ",Object(n.h)("span",{class:"text-muted"},"kg")),e.bodyConditionScore>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("span",{class:"text-muted"},"BCS:")," ",e.bodyConditionScore)),Object(n.h)("div",{class:"col-12"},e.generalFindings&&Object(n.h)("span",{class:"mr-1"},Object(n.h)("span",{class:"text-muted"},"Other:")," ",e.generalFindings))))})),C[s.chipId]&&C[s.chipId].length>0&&C[s.chipId].map((function(e){return Object(n.h)(t,null,Object(n.h)("div",{class:"row border-bottom"},Object(n.h)("div",{class:"col-12 text-muted"},Object(n.h)("small",null,Object(n.h)("span",{class:"float-right"},e.checkType&&Object(n.h)(t,null,e.checkType)),i.a.isoDate(e.date)," by ",e.veterinaryFirstname," ",e.veterinaryLastname)),Object(n.h)("div",{class:"col-12 d-flex justify-content-between"},e.diagnoseId>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("span",{class:"text-muted"},"ID:")," ",e.diagnoseId),e.heartRate>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("span",{class:"text-muted"},"HR:")," ",e.heartRate),e.weight>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("i",{class:"fas fa-balance-scale text-muted"})," ",e.weight," ",Object(n.h)("span",{class:"text-muted"},"kg")),e.bodyConditionScore>0&&Object(n.h)("span",{class:"mx-1"},Object(n.h)("span",{class:"text-muted"},"BCS:")," ",e.bodyConditionScore)),Object(n.h)("div",{class:"col-12"},e.generalFindings&&Object(n.h)("span",{class:"mr-1"},Object(n.h)("span",{class:"text-muted"},"Other:")," ",e.generalFindings))))}))),Object(n.h)("div",{class:"col-12 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100 mb-0",for:"diagnoseId"},"Diagnostic"),Object(n.h)("select",{class:"form-control",id:"diagnoseId",onInput:Object(p.a)(e,"preCheck."+s.id+".diagnoseId"),value:i.a.getNestedValue(I,s.id+".diagnoseId")},Object(n.h)("option",{value:""},"-- Please choose --"),Object(n.h)("option",{value:"100"},"No findings")))),Object(n.h)("div",{class:"col-4 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100 mb-0",for:"weight"},"Weight"),Object(n.h)("input",{type:"number",class:"form-control",id:"weight",onInput:Object(p.a)(e,"preCheck."+s.id+".weight"),value:i.a.getNestedValue(I,s.id+".weight")}))),Object(n.h)("div",{class:"col-4 form-group overflow-hidden"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100 mb-0",for:"heartRate"},"Heart Rate"),Object(n.h)("input",{type:"text",class:"form-control",id:"heartRate",onInput:Object(p.a)(e,"preCheck."+s.id+".heartRate"),value:i.a.getNestedValue(I,s.id+".heartRate")}))),Object(n.h)("div",{class:"col-4 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100 mb-0",for:"bodyConditionScore"},"BCS"),Object(n.h)("input",{type:"number",class:"form-control",id:"bodyConditionScore",onInput:Object(p.a)(e,"preCheck."+s.id+".bodyConditionScore"),value:i.a.getNestedValue(I,s.id+".bodyConditionScore")}))),Object(n.h)("div",{class:"col-12 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100 mb-0",for:"generalFindings"},"General findings"),Object(n.h)("input",{type:"text",class:"form-control",id:"generalFindings",onInput:Object(p.a)(e,"preCheck."+s.id+".generalFindings"),value:i.a.getNestedValue(I,s.id+".generalFindings")})),Object(n.h)("small",{id:"generalFindingsHelp",class:"form-text text-muted"},"Teeth, mucus membranes, general condition, other findings.")),Object(n.h)("div",{class:"col-12 form-group"},Object(n.h)("button",{class:"btn btn-outline-success",onClick:e.savePreCheck,"data-id":s.id,"data-chipid":s.chipId,"data-team":l.id,"data-name":s.name,"data-shortname":s.shortName}," Save Pre Check")))))})):Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h3",null,Object(n.h)(d.c,{id:"teams.no-dogs-title"},"No dogs for this team!"))))))),"racecheck"===x&&Object(n.h)(t,null,Object(n.h)("h5",{class:"mt-4 border-bottom"},"Racecheck"),Object(n.h)("div",{class:"row"},l&&l.dogs?l.dogs.map((function(e){return Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 d-flex my-3"},Object(n.h)("div",{class:"mx-0 mr-1 px-0 position-relative pt-1"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2",style:(e.image?'background-image: url("'+e.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(e.name,!0))),Object(n.h)("small",null,Object(n.h)("span",{class:"float-left text-overflow",style:"width: 70px;"},e.name),Object(n.h)("br",null)),(e.birth||e.gender)&&Object(n.h)("small",null,Object(n.h)("small",{class:"font-weight-normal float-right position-absolute text-white bg-info p-1 rounded",style:"top: 0px; right: 0px; line-height: 0.8em;"},e.birth&&Object(n.h)("span",{class:"mr-1 text-white"},i.a.age(e.birth,e.deceased)),e.gender&&Object(n.h)(t,null,"female"===e.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))))),Object(n.h)("div",{class:"flex-grow-1 row"},Object(n.h)("div",{class:"col-12 font-weight-bold"},Object(n.h)("i",{class:"fas fa-microchip text-muted"})," ",e.chipId.slice(-5)),Object(n.h)("div",{class:"col-4 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100",for:"weight"},"Weight"),Object(n.h)("input",{type:"number",class:"form-control",id:"weight"}))),Object(n.h)("div",{class:"col-4 form-group overflow-hidden"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100",for:"hrHeartLungs"},"HR/Heart/Lungs"),Object(n.h)("input",{type:"text",class:"form-control",id:"hrHeartLungs"}))),Object(n.h)("div",{class:"col-4 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100",for:"bcs"},"BCS"),Object(n.h)("input",{type:"number",class:"form-control",id:"bcs"}))),Object(n.h)("div",{class:"col-12 form-group"},Object(n.h)("small",null,Object(n.h)("label",{class:"text-overflow w-100",for:"general"},"General findings"),Object(n.h)("input",{type:"text",class:"form-control",id:"general"})),Object(n.h)("small",{id:"generalHelp",class:"form-text text-muted"},"Teeth, mucus membranes, general condition, other findings.")))))})):Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h3",null,Object(n.h)(d.c,{id:"teams.no-dogs-title"},"No dogs for this team!")))))))),M&&U[a.id]&&Object(n.h)(t,null,Object(n.h)("h5",null,"Admin edit:"),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{class:"col-4 col-form-label text-right"},"Email"),Object(n.h)("div",{class:"col-8"},a.email)),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"bib",class:"col-4 col-form-label text-right"},"bib"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"number",class:"form-control",id:"bib","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.bib}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"startTime",class:"col-4 col-form-label text-right"},"startTime"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"date",class:"form-control",id:"startTime","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.startTime?i.a.isoDate(a.startTime,!1,!1,!1):null}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"team"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"number",class:"form-control",id:"team","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.team}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"user",class:"col-4 col-form-label text-right"},"user"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"number",class:"form-control",id:"user","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.user}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"Race status"),Object(n.h)("div",{class:"col-8"},Object(n.h)("select",{class:"form-control",id:"raceStatus","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.raceStatus},Object(n.h)("option",{value:""},"-- Choose race status --"),Object(n.h)("option",{value:"OK"},"OK - Everything ok"),Object(n.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(n.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(n.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(n.h)("option",{value:"DQ"},"DQ - Disqualified")))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"raceComment",class:"col-4 col-form-label text-right"},"Race comment"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"raceComment","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.raceComment}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"gpxResultsApproved",class:"col-4 col-form-label text-right"},"GPX Results approved (date)"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"date",class:"form-control",id:"gpxResultsApproved","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.gpxResultsApproved?i.a.isoDate(a.gpxResultsApproved,!1,!1,!0):null}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"paidSignupfee",class:"col-4 col-form-label text-right"},"paidSignupfee (date)"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"date",class:"form-control",id:"paidSignupfee","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.paidSignupfee?i.a.isoDate(a.paidSignupfee,!1,!1,!0):null}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"startOrder",class:"col-4 col-form-label text-right"},"startOrder"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"number",class:"form-control",id:"startOrder","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.startOrder}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"cellphone",class:"col-4 col-form-label text-right"},"Mobil"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"cellphone","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.cellphone}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"name",class:"col-4 col-form-label text-right"},"Navn"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"name","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.name}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"firstname",class:"col-4 col-form-label text-right"},"Fornavn"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"firstname","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.firstname}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"lastname",class:"col-4 col-form-label text-right"},"Etternavn"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"lastname","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.lastname}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"address",class:"col-4 col-form-label text-right"},"Adresse"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"address","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.address}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"postalcode",class:"col-4 col-form-label text-right"},"Postalcode"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"postalcode","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.postalcode}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"postalplace",class:"col-4 col-form-label text-right"},"Postalplace"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"postalplace","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.postalplace}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"flag",class:"col-4 col-form-label text-right"},"flag (emoji)"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"flag","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.flag}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"countryCode",class:"col-4 col-form-label text-right"},"countryCode (iso)"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"countryCode","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.countryCode}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"birthdate",class:"col-4 col-form-label text-right"},"birthdate"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"date",class:"form-control",id:"birthdate","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.birthdate?i.a.isoDate(a.birthdate,!1,!1,!0):null}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"sportsClub",class:"col-4 col-form-label text-right"},"Klubb"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"sportsClub","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.sportsClub}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"facebook",class:"col-4 col-form-label text-right"},"Facebook"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"facebook","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.facebook}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"instagram",class:"col-4 col-form-label text-right"},"Instagram"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"instagram","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.instagram}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"Klasse"),Object(n.h)("div",{class:"col-8"},Object(n.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.class},Object(n.h)("option",{value:""},"-- Choose race class --"),K.classes&&K.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(n.h)(t,null,Object(n.h)("option",{value:e.id},e.title," - ",e.distance," km - Påmelding: ",e.signupfee||K.signupfee," NOK"))}))))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price1",class:"col-4 col-form-label text-right"},"Price 1"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"price1","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.price1}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price2",class:"col-4 col-form-label text-right"},"Price 2"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"price2","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.price2}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price3",class:"col-4 col-form-label text-right"},"Price 3"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"text",class:"form-control",id:"price3","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.price3}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"priceSent",class:"col-4 col-form-label text-right"},"Price sent"),Object(n.h)("div",{class:"col-8"},Object(n.h)("input",{type:"date",class:"form-control",id:"priceSent","data-classid":s.id,"data-contestantid":a.id,onInput:e.adminSignupEdit,value:a.priceSent?i.a.isoDate(a.priceSent,!1,!1,!0):null}))),Object(n.h)("div",{class:"form-group row my-5"},Object(n.h)("div",{class:"col-8"},Object(n.h)("button",{type:"button",class:"btn btn-danger float-right",id:"deleteUser",value:"1",onClick:e.adminSignupEdit,"data-classid":s.id,"data-contestantid":a.id},"Delete user from this class")))))))}))))),M&&Object(n.h)(t,null,c[s.id]?Object(n.h)(t,null,Object(n.h)("div",{class:"container"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("h5",null,"Email to all mushers in ",s.title),Object(n.h)("div",{class:"overflow-auto p-5",style:"max-height: 30vh;"},Object(n.h)("small",null,s.emails&&s.emails.map((function(t){return Object(n.h)("div",{class:"border rounded-lg p-3 mb-3"},Object(n.h)("div",{class:"row bg-light"},Object(n.h)("div",{class:"col-3 text-right"},"Date:"),Object(n.h)("div",{class:"col-9"},i.a.formatDate(t.date,{locale:H,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(n.h)("div",{class:"row bg-light"},Object(n.h)("div",{class:"col-3 text-right"},"To:"),Object(n.h)("div",{class:"col-9"},t.to.map((function(t){return Object(n.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},t)})))),Object(n.h)("div",{class:"row bg-light"},Object(n.h)("div",{class:"col-3 text-right"},"Subject:"),Object(n.h)("div",{class:"col-9"},t.subject)),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-3 text-right"},"Body:"),Object(n.h)("div",{class:"col-9",dangerouslySetInnerHTML:{__html:(e=t.body,"string"==typeof e?e.replace(/[\n]/g,"<br>"):e)}})));var e})))),Object(n.h)("div",{class:"form-group row"},Object(n.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"To"),Object(n.h)("div",{class:"col-10"},s.contestants&&s.contestants.map((function(e){return Object(n.h)(t,null,Object(n.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},e.firstname," ",e.lastname," (",e.email,")"))})))),Object(n.h)("div",{class:"form-group row"},Object(n.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"Subject"),Object(n.h)("div",{class:"col-10"},Object(n.h)("input",{type:"text",class:"form-control",id:"subject",onInput:Object(p.a)(e,"message.subject"),value:j.subject}))),Object(n.h)("div",{class:"form-group row"},Object(n.h)("label",{for:"body",class:"col-2 col-form-label text-right font-weight-lighter"},"Message"),Object(n.h)("div",{class:"col-10"},Object(n.h)("textarea",{type:"text",class:"form-control",id:"body",rows:"10",onInput:Object(p.a)(e,"message.body"),value:j.body})),Object(n.h)("div",{class:"col-5 contain-images"},j.body&&Object(n.h)(u.a,{markdown:j.body,markdownOpts:m.a.getMarkdownOptions()}))),y&&Object(n.h)(t,null,Object(n.h)("div",{class:"alert alert-"+(y&&y.status>=300?"danger":"success"),role:"alert"},Object(n.h)("small",null,Object(n.h)("xmp",null,JSON.stringify(y,null,4))))),Object(n.h)("button",{class:"btn btn-success float-right",type:"button","data-to":s.contestants&&s.contestants.map((function(t){return t.email})),"data-raceclassid":s.id,onClick:e.sendEmail},Object(n.h)("i",{class:"fas fa-paper-plane"})," Send email to all mushers"),Object(n.h)("button",{class:"btn btn-danger float-right mr-2",type:"button",onClick:e.resetEmail},Object(n.h)("i",{class:"fas fa-times"})," Reset email")),Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:e.toggleAdminSendMessage,"data-class":s.id},"Hide email form"))))):Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:e.toggleAdminSendMessage,"data-class":s.id},"Send email to all in this class")),Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:e.toggleAdminSendInboxMessage,"data-class":s.id},"Send inbox message to all in this class")),Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:e.toggleAdminImport,"data-class":s.id},"Toggle import form"))),r[s.id]?Object(n.h)(t,null,Object(n.h)("div",{class:"container"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("h5",null,"Inbox Message to all mushers in ",s.title),Object(n.h)("div",{class:"form-group row"},Object(n.h)("label",{for:"body",class:"col-2 col-form-label text-right font-weight-lighter"},"Inbox message"),Object(n.h)("div",{class:"col-10"},Object(n.h)("textarea",{type:"text",class:"form-control",id:"body",rows:"10",onInput:Object(p.a)(e,"inboxMessage.body"),value:v.body})),Object(n.h)("div",{class:"col-5 contain-images"},v.body&&Object(n.h)(u.a,{markdown:v.body,markdownOpts:m.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"clearfix"},Object(n.h)("button",{class:"btn btn-success float-right",type:"button","data-raceclassid":s.id,onClick:e.sendInboxMessage},Object(n.h)("i",{class:"fas fa-paper-plane"})," Send inbox message to all mushers"),Object(n.h)("button",{class:"btn btn-danger float-right mr-2",type:"button",onClick:e.resetInboxMessage},Object(n.h)("i",{class:"fas fa-times"})," Reset inbox message")),w&&Object(n.h)(t,null,Object(n.h)("div",{class:"alert alert-"+(w&&w.status>=300?"danger":"success"),role:"alert",style:"max-height: 20vh;"},Object(n.h)("small",null,Object(n.h)("xmp",null,JSON.stringify(w,null,4)))))),Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:e.toggleAdminSendInboxMessage,"data-class":s.id},"Hide inboxmessage form"))))):Object(n.h)(t,null),M&&b[s.id]&&Object(n.h)(t,null,Object(n.h)("div",{class:"form-group"},Object(n.h)("label",{for:"importUsers"},Object(n.h)(d.c,{id:"races.paste-users"},"Paste your user data here to import users"),":"),Object(n.h)("textarea",{class:"form-control",id:"importUsers",rows:"20",oninput:function(t){return e.parseInput(t.target.value,s.id)}})))))})))))},s}(n.Component))||r);e.a=O}).call(this,s("hosL").Fragment)},t1gC:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o,r=s("hosL"),n=s("Utv1"),i=s("/eY4"),h=s("OhSV"),d=s("Y3FI"),b=s("fh8t"),u=s.n(b),p=(s("go65"),s("Ysxg")),m=s("9lZG"),f=(s("aGZh"),s("om2D"),s("+JSK")),O=s("/DnB"),j=s("w5T0"),g=s("ULR1"),v=s("hwiY"),w=s("uAGO"),y=s("n7ns"),x=s("Pbyq"),k=s("HGwV"),S=s("J9nn"),I=s("ZOvn"),T=I.a.marginTop(!1),C=I.a.marginTopBack(!1),D=I.a.marginBottom(),P=(I.a.subMenuMarginTop(),{isLoading:!1,showAdminSendMessage:{},newRaceArticle:{},newRaceUserImage:{},message:{subject:"",body:""}}),R=Object(i.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).likeRace=function(){return new Promise((function(t,e){var a;return a=s.props.stores.raceStore,Promise.resolve(a.likeRace({id:a.race.id})).then((function(s){try{return s,t()}catch(t){return e(t)}}),e)}))},s.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;s.setState({showAddComment:!s.state.showAddComment},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.chooseSubmenu=function(t){var e=t.target.parentElement.dataset.menu||t.target.dataset.menu;s.setState({submenu:e});var a=s.props.raceid;Object(d.route)("/app-races/"+a+"/"+e)},s.resizeTextarea=function(t){var e=t;e.target&&(e=t.target),e.style.height=e.scrollHeight+"px"},s.resizeAllTextareas=function(){for(var t=document.getElementsByTagName("textarea"),e=0,a=t.length;e<a;e+=1){s.resizeTextarea(t[e])}},s.addNavigation=function(t){s.setState({submenu:t.submenu})},s.back=function(){Object(d.route)("/")},s.state=c(c({},P),{},{showAdminSendMessage:{},newRaceArticle:{},newRaceUserImage:{},message:{subject:"",body:""},submenu:t.submenu||"about"}),s.inputRef={},s.updateTimer={},s}var a,l;l=e,(a=s).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l;var o=s.prototype;return o.loadRace=function(t){return new Promise(function(e,s){var a,l,o,r,n,i,h,d,b,u,p,m,f;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),l=(a=t.stores).raceStore,n=void 0===(r=(o=a.userStore).user)?{}:r,i=t.raceid,Promise.resolve(l.load(i)).then(function(){try{if(this.setState({isLoading:!1}),h={},(d=l.race).classes&&n&&n.email)for(b=0,u=d.classes.length;b<u;b+=1)(p=d.classes[b]).contestants&&(m=p.contestants.findIndex((function(t){return t.email===n.email})))>-1&&(h=c(c({},p.contestants[m]),{},{class:p.id}));if(l.updateKeyValue("signup",h),h.user)return Promise.resolve(o.getDogs({id:h.user})).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s);function t(){function t(){return l.getAllClassesSortedBy(),Promise.resolve(l.loadPublicInteractions(i)).then((function(){try{return e()}catch(t){return s(t)}}),s)}return(f=d.classes.filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat()).length>0&&i?Promise.resolve(l.loadTeams(f.join(","))).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s):t.call(this)}return t.call(this)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},o.componentDidMount=function(){this.loadRace(),this.resizeAllTextareas()},o.componentWillReceiveProps=function(t){t.raceid!==this.props.raceid&&this.loadRace(t),t.submenu!==this.props.submenu&&this.addNavigation(t)},o.render=function(){var e=this,s=this.state.submenu,a=this.state,c=a.showAddComment,l=this.props.stores,o=l.userStore,i=l.raceStore,d=o.user,b=void 0===d?{}:d,P=o.isAdmin,R=b.language,A=void 0===R?"en":R,E=this.props,M=E.raceid,L=i.race,N=i.signup,H=L.likes,B=void 0===H?[]:H,U=L.comments,z=void 0===U?[]:U,F=L.likes&&L.likes.findIndex((function(t){return t.user===b.id}))>-1,_=new Date,V="";_>=new Date(L.startDate)&&_<=new Date(L.endDate)?V="race":_>=new Date(L.signupStartDate)&&_<=new Date(L.signupEndDate)&&(V="signup");var K=1===L.liveRace,Y=!K||!!N.email;return"tracking"===s?Object(r.h)(k.a,{stores:this.props.stores,raceid:M}):Object(r.h)("div",{class:"container-fluid",style:"margin-bottom: "+D+"; margin-top: "+T+";"},Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+C+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"})),Object(r.h)("div",{class:"row m-0"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2 p-0"},Object(r.h)("div",{class:"row d-flex align-items-center position-relative"},Object(r.h)("h3",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===V&&!K&&Object(r.h)(t,null,Object(r.h)("span",{class:"badge badge-primary badge-lg border border-white ml-2","data-menu":"signup",onClick:this.chooseSubmenu},Object(r.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===V&&Object(r.h)(t,null,Object(r.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(r.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===V&&Object(r.h)(t,null,Object(r.h)("span",{class:"badge badge-success border border-white ml-2"},Object(r.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))),L.images&&L.images[0]?Object(r.h)("img",{src:L.images[0].s3LargeLink,class:"img-fluid"}):""))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},P&&Object(r.h)(t,null,Object(r.h)("a",{class:"btn btn-primary float-right",href:"https://homerunrace.no/index#/race/"+L.id+"/edit"},"Edit")),Object(r.h)("h3",null,L.title),Object(r.h)("div",null,L.startDate&&Object(r.h)(t,null,Object(r.h)(h.c,{id:"races.periode"},"Periode"),": ",n.a.formatDate(L.startDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),L.endDate&&Object(r.h)(t,null," - ",n.a.formatDate(L.endDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"w-100 overflow-hidden"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("about"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"about",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-info-circle"})," ",Object(r.h)(h.c,{id:"race.about"},"About")),"about"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("results"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"results",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-list-ol"})," ",Object(r.h)(h.c,{id:"race.results"},"Results")),"results"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("tracking"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"tracking",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(r.h)(h.c,{id:"race.tracking"},"Tracking")),"tracking"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("news"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"news",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(h.c,{id:"race.news"},"News")),"news"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("userImages"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"userImages",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-images"})," ",Object(r.h)(h.c,{id:"race.user-images"},"User images")),"userImages"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),L.rules&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("rules"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"rules",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-gavel"})," ",Object(r.h)(h.c,{id:"race.rules"},"Rules")),"rules"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),L.veterinaryInfo&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("veterinary"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"veterinary",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-stethoscope"})," ",Object(r.h)(h.c,{id:"race.veterinary"},"Veterinary info")),"veterinary"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),L.checkpoints&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("checkpoints"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"checkpoints",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(r.h)(h.c,{id:"race.checkpoints"},"Checkpoints")),"checkpoints"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),L.trailDescription&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("track"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"track",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-map-signs"})," ",Object(r.h)(h.c,{id:"race.track-description"},"Track description")),"track"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),L.program&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("program"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"program",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-list-alt"})," ",Object(r.h)(h.c,{id:"race.program"},"Program")),"program"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),L.prices&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("prices"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"prices",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-award"})," ",Object(r.h)(h.c,{id:"race.prices"},"Premier")),"prices"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),!K&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("classes"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"classes",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"race.classes"},"Classes")),"classes"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+(Y?"":"rounded-pill-right")+" "+("mushers"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(h.c,{id:"races.mushers"},"Mushers")),"mushers"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"})),Y&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("signup"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"signup",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-user-edit"})," ",Object(r.h)(h.c,{id:"race.signup"},"Sign up")),"signup"===s&&Object(r.h)(O.a,{horizontal:"center",vertical:"end"}))))))),"about"===s&&Object(r.h)(t,null,Object(r.h)(S.a,{stores:this.props.stores,race:L}),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.about"},"Om løpet"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("p",{class:"clearfix"},Object(r.h)("strong",null,Object(r.h)(u.a,{markdown:I.a.replaceImages(L.ingress,L.images,A),markdownOpts:I.a.getMarkdownOptions()}))),"signup"===V&&Object(r.h)(t,null,K?Object(r.h)(t,null,Object(r.h)("button",{class:"btn btn-block btn-success mb-3","data-menu":"signup",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-user-edit"})," ",Object(r.h)(h.c,{id:"race.declaration"},"Declaration")," & ",Object(r.h)(h.c,{id:"race.chiplist"},"Chiplist"))):Object(r.h)(t,null,Object(r.h)("button",{class:"btn btn-block btn-success mb-3","data-menu":"signup",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-user-edit"})," ",Object(r.h)(h.c,{id:"race.signup"},"Sign up")))),Object(r.h)(u.a,{markdown:I.a.replaceImages(L.body,L.images,A),markdownOpts:I.a.getMarkdownOptions()})),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},L.tag&&L.tag.split(",").map((function(e){return Object(r.h)(t,null,Object(r.h)("span",{class:"badge badge-pill badge-primary py-1 ml-2"},Object(r.h)("a",{class:"text-white",href:"https://www.facebook.com/hashtag/"+e,target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fab fa-facebook"})," #",e)),Object(r.h)("span",{class:"badge badge-pill badge-primary py-1 ml-2"},Object(r.h)("a",{class:"text-white",href:"https://www.instagram.com/explore/tags/"+e,target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fab fa-instagram"})," #",e)))}))))),"results"===s&&Object(r.h)(t,null,Object(r.h)(S.a,{stores:this.props.stores,race:L}),Object(r.h)(j.a,{stores:this.props.stores,raceid:M})),"tracking"===s&&Object(r.h)(t,null,Object(r.h)(k.a,{stores:this.props.stores,raceid:M})),"news"===s&&Object(r.h)(t,null,Object(r.h)(g.a,{stores:this.props.stores,race:L})),"userImages"===s&&Object(r.h)(t,null,Object(r.h)(x.a,{stores:this.props.stores,race:L})),"rules"===s&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.rules"},"Regler"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(u.a,{markdown:I.a.replaceImages(L.rules,L.images,A),markdownOpts:I.a.getMarkdownOptions()})))),"veterinary"===s&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.veterinary"},"Veterinærinfo"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(u.a,{markdown:I.a.replaceImages(L.veterinaryInfo,L.images,A),markdownOpts:I.a.getMarkdownOptions()})))),"checkpoints"===s&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.checkpoints"},"Sjekkpunkter"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(u.a,{markdown:I.a.replaceImages(L.checkpoints,L.images,A),markdownOpts:I.a.getMarkdownOptions()})))),"track"===s&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.track-description"},"Løypebeskrivelse"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(u.a,{markdown:I.a.replaceImages(L.trailDescription,L.images,A),markdownOpts:I.a.getMarkdownOptions()})))),"program"===s&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.program"},"Program"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(u.a,{markdown:I.a.replaceImages(L.program,L.images,A),markdownOpts:I.a.getMarkdownOptions()})))),"prices"===s&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(h.c,{id:"race.prices"},"Premier"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(u.a,{markdown:I.a.replaceImages(L.prices,L.images,A),markdownOpts:I.a.getMarkdownOptions()})))),"mushers"===s&&Object(r.h)(t,null,Object(r.h)(y.a,{stores:this.props.stores,race:L})),"classes"===s&&Object(r.h)(t,null,Object(r.h)(w.a,{stores:this.props.stores,race:L})),"signup"===s&&Object(r.h)(t,null,Object(r.h)(v.a,{stores:this.props.stores,race:L})),["about"].indexOf(s)>-1&&Object(r.h)(t,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("div",{class:""},Object(r.h)(f.a,{stores:this.props.stores,likes:B,comments:z,type:"race"}))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-6 text-center"},Object(r.h)("button",{type:"button",class:"btn btn-outline-"+(F?"primary":"secondary")+" btn-lg btn-block "+(F?"text-primary":""),onClick:this.likeRace},Object(r.h)("i",{class:(F?"text-primary fas":"far")+" fa-thumbs-up"})," ",F?Object(r.h)(h.c,{id:"comments.has-liked"},"Liked"):Object(r.h)(h.c,{id:"comments.like"},"Lik"))),Object(r.h)("div",{class:"col-6 text-center"},Object(r.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":L.id,onClick:this.toggleAddComment},Object(r.h)("i",{class:"fas fa-comment"})," ",Object(r.h)(h.c,{id:"comments.comment-add"},"Comment"))))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},c&&b.email&&Object(r.h)(m.a,{stores:this.props.stores,race:L,inputRef:function(t){return e.inputRef[L.id]=t},inputRefObject:this.inputRef})),Object(r.h)("div",{class:"col-12 mt-2"},Object(r.h)(p.a,{stores:this.props.stores,race:L,cols:"12"})))))},s}(r.Component))||o;e.default=R}.call(this,s("hosL").Fragment)},uAGO:function(t,e,s){"use strict";(function(t){var a,c=s("hosL"),l=s("Utv1"),o=s("/eY4"),r=s("OhSV"),n=(s("Y3FI"),s("fh8t")),i=s.n(n),h=(s("go65"),s("ZOvn")),d=Object(o.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state={},s.inputRef={},s.updateTimer={},s}var a,o;return o=e,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s.prototype.render=function(){var e=this.props.stores,s=e.userStore,a=s.user,o=s.isAdmin,n=(void 0===a?{}:a).language,d=void 0===n?"en":n,b=this.props.race,u=void 0===b?{}:b;return Object(c.h)(t,null,Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(c.h)("h2",{class:"mb-0"},Object(c.h)(r.c,{id:"race.classes"},"Klasser"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(c.h)("div",{class:"row"},u.classes&&u.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(c.h)(t,null,Object(c.h)("div",{class:"col-12 col-sm-6 col-lg-4 mb-4"},Object(c.h)("div",{class:"border rounded rounded-lg p-3"},Object(c.h)("h5",null,e.title),o&&Object(c.h)(t,null,Object(c.h)("a",{href:"/tv/top10/"+u.id+"/"+e.id},"TV Top 10"),Object(c.h)("br",null),Object(c.h)("a",{href:"/tv/team/"+u.id+"/1"},"TV One team"),Object(c.h)("br",null)),Object(c.h)("small",null,e.startDate&&Object(c.h)("div",null,Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(r.c,{id:"race.startdate"},"Start"),":")," ",l.a.formatDate(e.startDate+" "+(e.startTime||"00:00:00"),{locale:d,hour12:!1,hour:"2-digit",minute:"2-digit"})),e.endDate&&Object(c.h)("div",null,Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(r.c,{id:"race.enddate"},"End"),":")," ",l.a.formatDate(e.endDate+" "+(e.endTime||"00:00:00"),{locale:d,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(c.h)("div",null,Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(r.c,{id:"race.distance"},"Distanse"),":")," ",e.distance," km"),Object(c.h)("div",null,Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(r.c,{id:"race.signup"},"Påmelding"),":")," ",e.signupfee||u.signupfee," NOK"),Object(c.h)("p",{class:"clearfix"},Object(c.h)(i.a,{markdown:h.a.replaceImages(e.ingress,u.images,d),markdownOpts:h.a.getMarkdownOptions()})),Object(c.h)("small",null,Object(c.h)(i.a,{markdown:h.a.replaceImages(e.body,u.images,d),markdownOpts:h.a.getMarkdownOptions()})),e.rules&&Object(c.h)(t,null,Object(c.h)("h5",null,Object(c.h)(r.c,{id:"race.rules"},"Regler")),Object(c.h)(i.a,{markdown:h.a.replaceImages(e.rules,u.images,d),markdownOpts:h.a.getMarkdownOptions()})))))}))))))},s}(c.Component))||a;e.a=d}).call(this,s("hosL").Fragment)},w5T0:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o,r,n=s("hosL"),i=s("Utv1"),h=s("/eY4"),d=s("OhSV"),b=(s("Y3FI"),s("fh8t")),u=s.n(b),p=(s("go65"),s("/DnB"),s("ZOvn")),m={isLoading:!1,contentIsNotLoaded:!0,reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1},f=Object(h.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).initComponent=function(){var t=Math.floor((new Date).getTime()/1e3);s.setState({reloadIsActive:!0,reloadLastEpoch:t},(function(){return s.tickReloadTimeer()}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},m),s.updateTimer={},s}l(s,e);var o=s.prototype;return o.tickReloadTimeer=function(){var t=this,e=this.state,s=e.reloadLastEpoch;if(e.reloadIsActive){var a=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(a-s)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout((function(){return t.tickReloadTimeer()}),1e3)}return!1},o.componentDidMount=function(){this.initComponent()},o.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},o.render=function(){var e=Math.floor(i.a.normalizeBetween(this.state.reloadInSec,0,60,0,100));return Object(n.h)(t,null,Object(n.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(n.h)("div",{class:"progress-bar",role:"progressbar",style:"width: "+e+"%;","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100"})))},s}(n.Component))||o,O=Object(h.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleDisplayDetails=function(t){var e=t.target.closest("tr").dataset.email;s.props.stores.appState.toggleDisplayDetails(e)},s.adminToggleEditUser=function(t){t.stopPropagation();var e=t.target.closest("tr").dataset.email;s.props.stores.appState.toggleEditUserDetails(e)},s.adminSignupEdit=function(t){var e,a=s.props.raceid,c=s.props.stores.raceStore,l=t.target.id,o=t.target.value,r=t.target.dataset,n=((e={raceClassId:r.classid,contestantId:r.contestantid})["raceClassContestant"+i.a.ucfirst(l)]=o,e);clearTimeout(s.updateTimer[l]),s.updateTimer[l]=setTimeout((function(){return new Promise((function(t){return c.editClass({id:a,data:n}),t()}))}),500)},s.lockAllWorkoutsInRace=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.raceStore.lockAllWorkoutsInRace({id:s.props.raceid})).then((function(a){try{return s.setState({lockMessage:a}),t()}catch(t){return e(t)}}),e)}))},s.filterByClass=function(t){var e=t.target.closest("button").dataset.id;s.props.stores.appState.toggleSelectedClassId(e,!0)},s.state={},s.inputRef={},s.updateTimer={},s}l(s,e);var a=s.prototype;return a.loadRace=function(t){return new Promise(function(e,s){var a,c,l,o;return a=this,void 0===t&&(t=this.props),this.setState({isLoading:!0}),c=t.stores.raceStore,l=t.raceid,Promise.resolve(c.load(l)).then(function(){try{if((o=c.race.classes.filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat()).length>0&&l)return Promise.resolve(c.loadTeams(o.join(","))).then(function(){try{return Promise.resolve(c.loadWorkoutSummary(o.join(","),l)).then(function(){try{return c.getWorkoutSummaryActiveTeams(),t.call(this)}catch(t){return s(t)}}.bind(this),s)}catch(t){return s(t)}}.bind(this),s);function t(){return c.getAllClassesSortedBy(),clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((function(){return new Promise((function(t){var e=Math.floor((new Date).getTime()/1e3);return a.setState({reloadLastEpoch:e}),a.loadRace(),t()}))}),6e4),this.setState({isLoading:!1,contentIsNotLoaded:!1}),e()}return t.call(this)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},a.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},a.componentDidMount=function(){this.loadRace()},a.render=function(){var e=this,s=this.state,a=s.contentIsNotLoaded,c=s.lockMessage,l=this.props.stores,o=l.userStore,r=l.raceStore,h=l.appState,b=o.user,m=void 0===b?{}:b,O=o.isAdmin,j=m.language,g=void 0===j?"en":j,v=h.displayDetails,w=h.editUserDetails,y=h.selectedClassIds,x=void 0===y?[]:y,k=r.race,S=void 0===k?{}:k,I=r.classes,T=void 0===I?[]:I,C=new Date(S.endDate);C.setHours(C.getHours()+2);var D=1===S.liveRace;return Object(n.h)(t,null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h2",{class:"mb-0"},Object(n.h)(d.c,{id:"race.results"},"Results"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)(f,{stores:this.props.stores}),D?Object(n.h)(t,null):Object(n.h)(t,null,m.email&&Object(n.h)("div",{class:"alert alert-primary",role:"alert"},"no"===g&&Object(n.h)(t,null,"Resultatene hentes direkte fra treningsøktene i QPaws appen.",Object(n.h)("br",null),Object(n.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(n.h)("ul",null,Object(n.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(n.h)("li",null,"Være markert som 'Konkurranse'."),Object(n.h)("li",null,"Være registrert på teamet som er påmeldt."))),"en"===g&&Object(n.h)(t,null,"The results are imported directly from the workouts inside QPaws app.",Object(n.h)("br",null),Object(n.h)("strong",null,"To make sure your workouts are registered check the following:"),Object(n.h)("ul",null,Object(n.h)("li",null,"Use the correct date on your workout. Has to be inside the race period."),Object(n.h)("li",null,"Mark the workout as 'Race'."),Object(n.h)("li",null,"Workout has to be on the same team as you signed up with."))))),S.resultsUrl?Object(n.h)("div",{class:"p-3 my-4 bg-light"},Object(n.h)("a",{href:S.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},S.resultsText?S.resultsText:Object(n.h)(t,null,Object(n.h)(d.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(n.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(n.h)(t,null),(a||!T||0===T.length)&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")))),Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},S.classes&&S.classes.sort((function(t,e){return t.distance-e.distance})).map((function(s,a){return Object(n.h)(t,null,Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{type:"button",class:"btn btn-block "+(0===a&&"rounded-pill-left")+" "+(a===S.classes.length-1&&"rounded-pill-right")+" rounded-none "+(x.indexOf(s.id)>-1?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.filterByClass,"data-id":s.id},s.title)))})))))),Object(n.h)("div",{class:"col-12"},S.classes&&S.classes.filter((function(t){return!(x.length>0)||x.indexOf(t.id)>-1})).sort((function(t,e){return t.distance-e.distance})).map((function(s){return Object(n.h)("div",{class:"mt-5 mb-5"},S.resultDanger&&Object(n.h)("div",{class:"alert alert-danger",role:"alert"},Object(n.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")),Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(u.a,{markdown:p.a.replaceImages(S.resultDanger,S.images,g),markdownOpts:p.a.getMarkdownOptions()})),S.resultWarning&&Object(n.h)("div",{class:"alert alert-warning",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(u.a,{markdown:p.a.replaceImages(S.resultWarning,S.images,g),markdownOpts:p.a.getMarkdownOptions()})),S.resultSuccess&&Object(n.h)("div",{class:"alert alert-success",role:"alert"},Object(n.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(u.a,{markdown:p.a.replaceImages(S.resultSuccess,S.images,g),markdownOpts:p.a.getMarkdownOptions()})),Object(n.h)("h3",null,s.title," ",s.startDate&&Object(n.h)(t,null,": ",Object(n.h)("span",{class:"font-weight-lighter"},i.a.formatDate(s.startDate+" "+(s.startTime||"00:00:00"),{locale:g,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",i.a.formatDate(s.endDate+" "+(s.endTime||"00:00:00"),{locale:g,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(n.h)("span",{class:"float-right"},Object(n.h)("span",{class:"text-muted"},Object(n.h)(d.c,{id:"races.mushers"},"Mushers"),": ",s.totalMushers||0),Object(n.h)("span",{class:"text-muted ml-4"},Object(n.h)(d.c,{id:"races.finished-mushers"},"Finished mushers"),": ",s.totalFinished||0," ")),Object(n.h)("div",{class:"table-responsive-md"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",{scope:"col"},"#"),Object(n.h)("th",{scope:"col",style:"min-width: 200px;"},Object(n.h)(d.c,{id:"races.name"},"Navn")),O&&Object(n.h)(t,null,Object(n.h)("th",{class:"d-none d-lg-table-cell",scope:"col"},Object(n.h)("i",{class:"fas fa-user-shield"})," Cellphone"),Object(n.h)("th",{class:"d-none d-lg-table-cell",scope:"col"},Object(n.h)("i",{class:"fas fa-user-shield"})," Email")),O&&Object(n.h)("th",{scope:"col",class:"d-none d-lg-table-cell",style:"min-width: 400px;"},Object(n.h)(d.c,{id:"races.stages"},"Etapper")),Object(n.h)("th",{scope:"col"},Object(n.h)(d.c,{id:"races.result"},"Resultat")))),Object(n.h)("tbody",null,T[s.id]&&T[s.id].contestants&&T[s.id].contestants.map((function(a,c){var l=a.musher,o=a.currentTeam,h=a.currentStages,d=a.currentResults,b=a.completed,m=a.normalizedDuration,f=a.weightedNormalizedDuration,j=a.isDone,y=a.finishedDate,x=a.totalWorkoutTimeUsedSec,k=r.getTotalsByTeamId(o.id);return Object(n.h)(t,null,Object(n.h)("tr",{onClick:e.toggleDisplayDetails,"data-email":l.email},Object(n.h)("th",{scope:"row"},c+1,O&&d&&Object(n.h)(t,null,Object(n.h)("br",null),d.isLocked?Object(n.h)("i",{class:"fas fa-lock text-danger mr-2"}):Object(n.h)("i",{class:"fas fa-lock-open text-success mr-2"}))),Object(n.h)("td",{class:v[l.email]?"font-weight-bold":"",style:v[l.email]?"":"line-height: 0.8em;"},v[l.email]?Object(n.h)(t,null,l.firstname," ",l.lastname,Object(n.h)("br",null),Object(n.h)("span",{class:"text-muted"},o.name),Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},l.sportsClub),Object(n.h)("br",null),l.facebook&&Object(n.h)("a",{class:"mr-2",href:p.a.asFacebookLink(l.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-facebook"})),l.instagram&&Object(n.h)("a",{class:"mr-2",href:p.a.asInstagramLink(l.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-instagram"})),l.price1&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",l.price1,l.priceSent&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-check text-success"}))),l.price2&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",l.price2),l.price3&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",l.price3)):Object(n.h)(t,null,l.price1&&Object(n.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-trophy"}),l.priceSent&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-check text-success"}))),Object(n.h)("nobr",null,l.firstname," ",l.lastname,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},l.sportsClub),Object(n.h)("br",null)))),O&&Object(n.h)(t,null,Object(n.h)("td",{class:"d-none d-lg-table-cell"},l.cellphone),Object(n.h)("td",{class:"d-none d-lg-table-cell"},l.email)),O&&Object(n.h)("td",{class:"d-none d-lg-table-cell"},O&&Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:e.adminToggleEditUser},Object(n.h)("i",{class:"fas fa-user-edit"}))),O&&w[l.email]&&Object(n.h)(t,null,Object(n.h)("h5",null,"Admin edit:"),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(n.h)("div",{class:"col-sm-10"},l.email)),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{class:"col-sm-2 col-form-label text-right"},"Cellphone"),Object(n.h)("div",{class:"col-sm-10"},l.cellphone)),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.raceStatus},Object(n.h)("option",{value:""},"-- Choose race status --"),Object(n.h)("option",{value:"OK"},"OK - Everything ok"),Object(n.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(n.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(n.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(n.h)("option",{value:"DQ"},"DQ - Disqualified"),Object(n.h)("option",{value:"DC"},"DC - Data changed by user")))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.raceComment}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.gpxResultsApproved?i.a.isoDate(l.gpxResultsApproved,!1,!1,!0):null}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.price1}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.price2}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.price3}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.priceSent?i.a.isoDate(l.priceSent,!1,!1,!0):null})))),O&&Object(n.h)("div",{class:"d-flex flex-wrap"},h&&h.map((function(e,a){var c=e.distanceKm/s.distance*100,o=(c>100||parseInt(c,10),Math.floor(new Date(e.date).getTime()/1e3)),r=new Date(0);r.setUTCSeconds(o+parseInt(e.duration,10));e.images.flat();return v[l.email]?Object(n.h)(t,null,Object(n.h)("div",{class:"bg-light border rounded-lg  text-right position-relative mr-1 mb-1",style:"width: 350px; min-width: 320px;"},Object(n.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(n.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(n.h)("div",{class:"position-relative px-3"},Object(n.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},a+1),Object(n.h)("small",null,O&&Object(n.h)("span",{class:"position-absolute",style:"top: 0px; right: -5px;"},e.isLocked?Object(n.h)("i",{class:"fas fa-lock text-danger"}):Object(n.h)("i",{class:"fas fa-lock-open text-success"})),Object(n.h)("span",{class:"float-left"},Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt text-muted"})," ",i.a.formatDate(e.date,{locale:g,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt text-muted"})," ",i.a.formatDate(r,{locale:g,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(n.h)("span",{class:"float-right"},Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",i.a.format(e.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",i.a.format(e.elevation,0)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"m")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",i.a.format(e.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(e.duration)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",i.a.secToHms(e.rest)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",i.a.secToHms(e.duration-e.rest)||"n/a"),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",i.a.format(e.avgDogs,0)||"n/a")))))):Object(n.h)(t,null,Object(n.h)("div",{class:"bg-light border rounded-lg text-right position-relative px-3 mr-1 mb-1",style:"width: 300px; min-width: 300px;"},Object(n.h)("small",null,O&&Object(n.h)("span",{class:"position-absolute",style:"top: 2px; right: -5px;"},e.isLocked?Object(n.h)("i",{class:"fas fa-lock text-danger"}):Object(n.h)("i",{class:"fas fa-lock-open text-sucess"})),Object(n.h)("span",{class:"float-left"},a+1),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",i.a.format(e.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",i.a.format(e.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(e.duration)||"n/a"))))})))),Object(n.h)("td",{class:"text-right position-relative pl-4"},function(e){switch(e.raceStatus){case"OK":return Object(n.h)(t,null,Object(n.h)("span",{class:"position-absolute rounded-lg",style:"top: 10px; left: 0px;"},Object(n.h)("i",{class:"fas fa-check text-success"})));case"DNS":case"DNF":case"DNQ":case"DQ":return Object(n.h)(t,null,Object(n.h)("span",{class:"position-absolute bg-danger text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -100px; width: 80px"},Object(n.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));case"DC":return Object(n.h)(t,null,Object(n.h)("span",{class:"position-absolute bg-warning text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -150px; width: 80px"},Object(n.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));default:return""}}(l),l.raceComment&&Object(n.h)(t,null,Object(n.h)("div",{class:"alert alert-warning text-left",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(u.a,{markdown:p.a.replaceImages(l.raceComment,S.images,g),markdownOpts:p.a.getMarkdownOptions()}))),O&&d.lastUpdated>C&&Object(n.h)(t,null,Object(n.h)("div",{class:"alert alert-danger text-left d-none d-md-block",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)("i",{class:"fas fa-user-shield"})," Last changed: ",i.a.formatDate(d.lastUpdated,{locale:g,hour12:!1,hour:"2-digit",minute:"2-digit"}))),b>=99?Object(n.h)("span",{class:"position-absolute",style:"top: 10px; left: 0px;"},Object(n.h)("i",{class:"fas fa-flag-checkered text-success"})):"",Object(n.h)("small",null,v[l.email]?Object(n.h)(t,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",i.a.format(d.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",i.a.format(d.elevation,0)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"m")),Object(n.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(n.h)("div",{class:"progress-bar "+(b>=99?"bg-success":""),role:"progressbar",style:"width: "+b+"%","aria-valuenow":""+b,"aria-valuemin":"0","aria-valuemax":"100"})),S.nonstop?Object(n.h)(t,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(x)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",i.a.secToHms(k.totalRest)||"n/a"),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",i.a.isoDate(k.firstEpoch)," - ",Object(n.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",i.a.isoDate(y)),O&&Object(n.h)(t,null,Object(n.h)("br",null),Object(n.h)("div",{class:"text-danger"},k.firstGpxStartEpoch&&Object(n.h)(t,null,Object(n.h)("nobr",null,"firstGpxStartEpoch: ",i.a.isoDate(k.firstGpxStartEpoch)),Object(n.h)("br",null)),k.lastGpxStartEpoch&&Object(n.h)(t,null,Object(n.h)("nobr",null,"lastGpxStartEpoch: ",i.a.isoDate(k.lastGpxStartEpoch)),Object(n.h)("br",null))))):Object(n.h)(t,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(d.duration)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",i.a.secToHms(d.rest)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",i.a.secToHms(d.duration-d.rest)||"n/a"),Object(n.h)("br",null),1===j&&Object(n.h)(t,null,Object(n.h)("nobr",{class:"font-weight-bold"},Object(n.h)("span",{class:"font-weight-lighter text-muted"},"Normalized to race distance:")," ",Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(m)||"n/a"),Object(n.h)("br",null)),1===j&&Object(n.h)(t,null,Object(n.h)("nobr",{class:"font-weight-bold"},Object(n.h)("span",{class:"font-weight-lighter text-muted"},"Normalized:")," ",Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(f)||"n/a"),Object(n.h)("br",null)))):Object(n.h)(t,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",i.a.format(d.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",i.a.format(d.elevation,0)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"m")),Object(n.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(n.h)("div",{class:"progress-bar "+(b>=99?"bg-success":""),role:"progressbar",style:"width: "+b+"%","aria-valuenow":""+b,"aria-valuemin":"0","aria-valuemax":"100"})),S.nonstop?Object(n.h)(t,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(x)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",i.a.secToHms(k.totalRest)||"n/a")):Object(n.h)(t,null,1===j?Object(n.h)(t,null,Object(n.h)("nobr",{class:"font-weight-bold"},Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(f)||"n/a"),Object(n.h)("br",null)):Object(n.h)(t,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",i.a.secToHms(d.duration)||"n/a"),Object(n.h)("br",null))))))))}))))),Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("small",null,"no"===g&&Object(n.h)(t,null,"OBS! Ref reglene så er det ikke lov til å endre treningsøktene som er med i konkurransen etter at løpet er ferdig.",Object(n.h)("br",null),"Forsøk på dette vil resultere i automatisk deplassering på listene."),"en"===g&&Object(n.h)(t,null,"IMPORTANT! According to the rules: It is NOT allowed to try alter the workouts related to the competition after the race has ended.",Object(n.h)("br",null),"Attempts will result in automatic deplacement on the resultlists."))))}))),O&&Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-danger btn-lg float-right m-4",onClick:this.lockAllWorkoutsInRace},"Lock all workouts in this race"),Object(n.h)("xmp",{class:"m-5"},JSON.stringify(c,null,4))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("a",{class:"btn btn-lg btn-block btn-primary",href:"https://homerunrace.no/index#/race/"+S.id+"/results"},"All results"))))},s}(n.Component))||r;e.a=O}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-app-races.chunk.02983.js.map