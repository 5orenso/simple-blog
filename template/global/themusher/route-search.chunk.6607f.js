(window.webpackJsonp=window.webpackJsonp||[]).push([[58,39],{"Gx/q":function(e,t,s){"use strict";(function(e){var a,c=s("hosL"),n=s("Utv1"),o=s("/eY4"),l=(s("OhSV"),s("nHdA")),i=s("irB3"),r=(s("UwwE"),s("8Lgr")),d=(s("QkTp"),s("ZOvn")),h=Object(o.a)(a=function(t){function s(e){var s;return(s=t.call(this,e)||this).removeUser=function(e){return new Promise((function(t,a){var c,n,o;return n=e.target.dataset.email,o=e.target.dataset.team,!(c=e.target.dataset.id)&&e.target.parentNode&&(c=e.target.parentNode.dataset.id,n=e.target.parentNode.dataset.email,o=e.target.parentNode.dataset.team),console.log("id, email, team",c,n,o),Promise.resolve(s.props.stores.teamStore.removeMember(o,{id:c,email:n})).then((function(){try{return t()}catch(e){return a(e)}}),a)}))},s.adminUpdateUser=function(e){var t=e.target.closest("input").dataset.email+"-"+e.target.name;clearTimeout(s.updateTimer[t]),s.updateTimer[t]=setTimeout((function(){s.doAdminUpdateUser(e)}),500)},s.doAdminUpdateUser=function(e){return new Promise((function(t,a){var c,n,o;return n=e.target.closest("input").dataset.email,o=e.target,Promise.resolve(s.props.stores.userStore.adminUpdateUser(n,(c={},c[o.name]=o.value,c))).then((function(){try{return t()}catch(e){return a(e)}}),a)}))},s.simulateUser=function(e){var t=e.target.closest("button").dataset.email;s.props.stores.userStore.getSimulateUser(t)},s.state={},s.updateTimer={},s}var a,o;return o=t,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s.prototype.render=function(){var t=this.props,s=t.user,a=t.team,o=void 0===a?{}:a,h=this.props.stores,m=h.userStore,b=h.teamStore,u=m.user,p=m.isAdmin,f=m.findTeams(s.teams),O=b.findMusherSummary(s.id,o.id)||{},g=o.user===u.id,j=d.a.getImage({user:s,team:o}),v=d.a.displayName(s);return Object(c.h)("div",{class:"w-100 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded",style:j?"background-image: url('"+j+"'); background-size: cover;":""},!j&&Object(c.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(c.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(c.h)("h5",null,v),Object(c.h)("div",null,Object(c.h)("small",{class:"text-muted"},Object(c.h)("div",{class:"d-flex justify-content-left"},s.cellphone&&Object(c.h)("div",{class:"mr-2"},Object(c.h)("i",{class:"fas fa-mobile-alt"})," ",s.cellphone),s.email&&Object(c.h)("div",{class:"mr-2"},Object(c.h)("i",{class:"fas fa-envelope ml-3"})," ",s.email),s.url&&Object(c.h)("div",{class:"mr-2"},Object(c.h)("a",{href:d.a.asUrl(s.url),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fas fa-link"}))),s.facebook&&Object(c.h)("div",{class:"mr-2"},Object(c.h)("a",{href:d.a.asFacebookLink(s.facebook),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-facebook"}))),s.instagram&&Object(c.h)("div",{class:"mr-2"},Object(c.h)("a",{href:d.a.asInstagramLink(s.instagram),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-instagram"}))),s.snapchat&&Object(c.h)("div",{class:"mr-2"},Object(c.h)("a",{href:d.a.asSnapchatLink(s.snapchat),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-snapchat"})))))),p&&Object(c.h)(e,null,Object(c.h)("button",{class:"btn btn-block btn-success",onClick:this.simulateUser,"data-email":s.email},"Simulate user"),Object(c.h)("small",null,Object(c.h)("details",null,Object(c.h)("summary",null,"settings"),Object(c.h)("xmp",null,JSON.stringify(s.settings,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"subscription"),Object(c.h)("xmp",null,JSON.stringify(s.subscription,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"deviceInfo"),Object(c.h)("xmp",null,JSON.stringify(s.deviceInfo,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"subscription"),Object(c.h)("xmp",null,JSON.stringify(s.subscription,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"notifications"),Object(c.h)("xmp",null,JSON.stringify(s.notifications,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"notificationTopics"),Object(c.h)("xmp",null,JSON.stringify(s.notificationTopics,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"applications"),Object(c.h)("xmp",null,JSON.stringify(s.applications,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"shadowTags"),Object(c.h)("xmp",null,JSON.stringify(s.shadowTags,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"garmin"),Object(c.h)("xmp",null,JSON.stringify(s.garmin,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"strava"),Object(c.h)("xmp",null,JSON.stringify(s.strava,null,4))),Object(c.h)("details",null,Object(c.h)("summary",null,"currentLocationGeocode"),Object(c.h)("xmp",null,JSON.stringify(s.currentLocationGeocode,null,4))),"lastActivityEpoch: ",n.a.isoDate(s.lastActivityEpoch),Object(c.h)("br",null),"activities: ",n.a.format(s.activities),Object(c.h)("br",null),s.settings&&Object(c.h)("div",{class:"form-check"},Object(c.h)("input",{class:"form-check-input",type:"checkbox",value:s.settings.veterinaryAllowed?0:1,id:"settings.veterinaryAllowed-"+s.id,name:"settings.veterinaryAllowed",checked:s.settings.veterinaryAllowed?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(c.h)("label",{class:"form-check-label",for:"settings.veterinaryAllowed-"+s.id},"settings.veterinaryAllowed")),Object(c.h)("div",{class:"form-check"},Object(c.h)("input",{class:"form-check-input",type:"checkbox",value:s.twoFactorLogin?0:1,id:"twoFactorLogin-"+s.id,name:"twoFactorLogin",checked:s.twoFactorLogin?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(c.h)("label",{class:"form-check-label",for:"twoFactorLogin-"+s.id},"twoFactorLogin")),Object(c.h)("div",{class:"form-check"},Object(c.h)("input",{class:"form-check-input",type:"checkbox",value:s.isVeterinary?0:1,id:"isVeterinary-"+s.id,name:"isVeterinary",checked:s.isVeterinary?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(c.h)("label",{class:"form-check-label",for:"isVeterinary-"+s.id},"isVeterinary")),Object(c.h)("div",{class:"form-group row"},Object(c.h)("label",{class:"col-sm-2 col-form-label",for:"cellphone-"+s.id},"cellphone"),Object(c.h)("div",{class:"col-sm-10"},Object(c.h)("input",{type:"text",id:"cellphone-"+s.id,name:"cellphone",class:"form-control",value:s.cellphone,"data-email":s.email,onInput:this.adminUpdateUser}))),Object(c.h)("div",{class:"form-group row"},Object(c.h)("label",{class:"col-sm-2 col-form-label",for:"firstname-"+s.id},"firstname"),Object(c.h)("div",{class:"col-sm-10"},Object(c.h)("input",{type:"text",id:"firstname-"+s.id,name:"firstname",class:"form-control",value:s.firstname,"data-email":s.email,onInput:this.adminUpdateUser}))),Object(c.h)("div",{class:"form-group row"},Object(c.h)("label",{class:"col-sm-2 col-form-label",for:"lastname-"+s.id},"lastname"),Object(c.h)("div",{class:"col-sm-10"},Object(c.h)("input",{type:"text",id:"lastname-"+s.id,name:"lastname",class:"form-control",value:s.lastname,"data-email":s.email,onInput:this.adminUpdateUser}))))),s.teams&&Object(c.h)(e,null,f.map((function(e){return Object(c.h)("span",{class:"badge badge-pill badge-info mr-2"},e.name)})),Object(c.h)("br",null)),o.id&&O&&Object(c.h)(e,null,Object(c.h)("small",{class:"text-muted"},"Total:",O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(r.a,{stores:this.props.stores,value:O.distanceKm})),O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(i.a,{stores:this.props.stores,value:O.elevation})),O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(O.duration||0))),Object(c.h)("br",null),Object(c.h)("small",{class:"text-muted"},"Avg:",O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(r.a,{stores:this.props.stores,value:O.avgDistance})),O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(i.a,{stores:this.props.stores,value:O.avgElevation})),O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(O.avgDuration||0)),O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(l.a,{stores:this.props.stores,value:O.speedAvg})),O&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-dog"})," ",n.a.format(O.avgDogs,1))))),Object(c.h)("div",null,g&&s.id!==u.id&&Object(c.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":s.email,"data-id":s.id,"data-team":o.id},Object(c.h)("i",{class:"fas fa-ban"})),!g&&s.id===u.id&&Object(c.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":s.email,"data-id":s.id,"data-team":o.id},Object(c.h)("i",{class:"fas fa-sign-out-alt"}),o.id)))))},s}(c.Component))||a;t.a=h}).call(this,s("hosL").Fragment)},K5BL:function(e,t,s){"use strict";var a,c=s("hosL"),n=s("Utv1"),o=s("/eY4"),l=s("OhSV"),i=s("go65"),r=(s("ETxl"),s("ZOvn"),Object(o.a)(a=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))||this).commentTrack=function(){return new Promise((function(e,s){var a,c,n,o,l,i;return n=void 0===(c=(a=t.props).callback)?function(){}:c,o=t.props.track,l=t.state.comment,Promise.resolve(t.props.stores.trackStore.commentReplyTrack({id:o.id,commentId:a.commentId,comment:void 0===l?"":l})).then((function(a){try{return(i=a)&&200===i.status&&(t.setState({comment:""}),n({track:o,response:i})),e()}catch(e){return s(e)}}),s)}))},t}var s,a;return a=e,(s=t).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,t.prototype.render=function(){var e=this.props.inputRef,t=this.state.comment,s=this.props.stores.userStore.user,a=void 0===s?{}:s,o=a.firstname?""+n.a.ucfirst(a.firstname,!0)+n.a.ucfirst(a.lastname,!0):""+n.a.ucfirst(a.email||"",!0),r=a.image||(a.images?a.images[0]:void 0);return Object(c.h)("div",{class:"w-100"},Object(c.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(r?"background-image: url('"+r.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!r&&Object(c.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},o)),Object(c.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(c.h)("div",{class:"d-flex bd-highlight"},Object(c.h)("div",{class:"p-0 w-100 bd-highlight"},Object(c.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(c.h)(l.c,{id:"comments.comment"},"Kommentar")),Object(c.h)("div",{class:"border rounded rounded-lg position-relative"},Object(c.h)(l.b,null,Object(c.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(c.h)(l.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(i.a)(this,"comment"),value:t,ref:e})))),Object(c.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.commentTrack},Object(c.h)("i",{class:"fas fa-paper-plane"})))))))},t}(c.Component))||a);t.a=r},KDoM:function(e,t,s){"use strict";(function(e){var a,c=s("hosL"),n=s("Utv1"),o=s("/eY4"),l=s("OhSV"),i=s("nHdA"),r=s("irB3"),d=s("UwwE"),h=s("8Lgr"),m=(s("QkTp"),s("ZOvn")),b=Object(o.a)(a=function(t){function s(){return t.apply(this,arguments)||this}var a,o;return o=t,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s.prototype.render=function(){var t=this.props.dog,s=this.props.stores,a=s.userStore,o=s.dogStore,b=a.user.language,u=void 0===b?"en":b,p=s.appState.viewmode,f=(new Date).getMonth()+1,O=(new Date).getFullYear(),g=this.props,j=g.month,v=g.year,y=void 0===v?O:v,k=parseInt((void 0===j?f:j)<8?y-1:y,10),w=o.findWorkoutSummary(t.id,k)||{},x=t.statuses?t.statuses.map((function(e){return a.findDogstatus({status:e,language:u})})):[],S=o.findVaccineStatuses(t.id),I=o.findVaccineLogStatuses(t.chipId),C=o.findHistoryStatuses(t.id),T=a.findDogstatus({status:t.status,language:u}),L=a.findDogposition({position:t.position,language:u}),R=[];a.findTeam(t.team)&&R.push(a.findTeam(t.team)),t.teams&&t.teams.forEach((function(e){a.findTeam(e)&&R.push(a.findTeam(e))}));var D=m.a.hasBirthday(t.birth),A=t.birth?Math.ceil(m.a.daysUntilNextBirthday(t.birth)):365,U=this.props.url,P=void 0===U?"/dogs/"+t.id:U;return Object(c.h)("div",{class:"w-100 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?'background-image: url("'+t.image.s3SmallLink+'"); background-size: cover;':""},!t.image&&Object(c.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(t.name,!0))),Object(c.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+a.findHarness(t.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(c.h)("span",{class:"float-right"},L&&Object(c.h)("span",{class:"badge badge-"+(L.class||"primary")+" mr-3"},L.icon&&Object(c.h)("i",{class:L.icon})," ",L.name),A<7&&Object(c.h)(e,null,Object(c.h)("span",{class:"text-muted mr-2"},Object(c.h)("i",{class:"fas fa-birthday-cake"})," in ",A," days")),t.birth&&Object(c.h)("span",{class:"mr-2"},n.a.age(t.birth,t.deceased)),"female"===t.gender?Object(c.h)("i",{class:"fas fa-venus"}):Object(c.h)("i",{class:"fas fa-mars"})),Object(c.h)("a",{class:"stretched-link",href:P},Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.shortname||t.name," ",t.shortname&&""!==t.shortname&&Object(c.h)(e,null," - ",Object(c.h)("span",{class:"font-weight-lighter"},t.name)),D&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(c.h)("div",null,R&&R.length>0&&Object(c.h)("small",{class:"font-weight-lighter"},R.map((function(t,s){return Object(c.h)(e,null,s>0?", ":"",t)}))),Object(c.h)("br",null)),Object(c.h)("small",{class:"text-muted"},t.history>0&&Object(c.h)("span",{class:"ml-0"},Object(c.h)("i",{class:"fas fa-file-signature"})," ",t.history.length),t.images>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-image"})," ",t.images.length),w&&w.distanceKm>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(h.a,{stores:this.props.stores,value:w.distanceKm})),w&&w.elevation>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(r.a,{stores:this.props.stores,value:w.elevation})),w&&w.duration>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(i.a,{stores:this.props.stores,value:w.speedAvg})),t.weight>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(c.h)(d.a,{stores:this.props.stores,value:t.weight})),t.bodyScore>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(t.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(c.h)(e,null,Object(c.h)("div",null,S&&S.map((function(e){return Object(c.h)("span",{class:"badge badge-success mr-2",title:n.a.isoDate(e.endDate,!1,!1,!0)},e.vaccineType,Object(c.h)("span",{class:"font-weight-light ml-3"},Object(c.h)("i",{class:"fas fa-calendar-check"})," ",n.a.isoDate(e.endDate,!1,!1,!0)))})),C&&C.map((function(e){return Object(c.h)("span",{class:"badge badge-warning mr-2",title:n.a.isoDate(e.endDate,!1,!1,!0)},e.title)})))),["beta","advanced"].indexOf(p)>-1&&Object(c.h)(e,null,t.positions&&t.positions.lead&&Object(c.h)("div",{class:""},t.positions.lead.distanceKm>0&&Object(c.h)("span",{class:"badge badge-secondary mr-2"},Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(c.h)(h.a,{stores:this.props.stores,value:t.positions.lead.distanceKm})),t.positions.point.distanceKm>0&&Object(c.h)("span",{class:"badge badge-secondary mr-2"},Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(c.h)(h.a,{stores:this.props.stores,value:t.positions.point.distanceKm})),t.positions.team.distanceKm>0&&Object(c.h)("span",{class:"badge badge-secondary mr-2"},Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(c.h)(h.a,{stores:this.props.stores,value:t.positions.team.distanceKm})),t.positions.wheel.distanceKm>0&&Object(c.h)("span",{class:"badge badge-secondary mr-2"},Object(c.h)("span",{class:"font-weight-lighter"},Object(c.h)(l.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(c.h)(h.a,{stores:this.props.stores,value:t.positions.wheel.distanceKm})))),Object(c.h)("div",{class:"clearfix pb-0"},t.specialNeeds&&Object(c.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(c.h)("i",{class:"fas fa-exclamation-triangle"})," ",t.specialNeeds),T&&Object(c.h)("span",{class:"badge badge-"+T.class+" ml-2 mt-1 float-right"},T.icon&&Object(c.h)("i",{class:T.icon})," ",T.name),x&&x.map((function(t){return Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-"+t.class+" ml-2 mt-1 float-right"},t.icon&&Object(c.h)("i",{class:t.icon})," ",t.lang&&t.lang[u]?t.lang[u]:t.name))}))),I&&I.length>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"mt-2"},I&&I.filter((function(e){return e.chipId===t.chipId})).map((function(e){return Object(c.h)("span",{class:"badge badge-"+(e.inKarens?"warning":"success")+" mr-2 mb-1"},Object(c.h)("i",{class:"fas fa-user-md"})," ",e.vaccineAgens.name)}))))))))},s}(c.Component))||a;t.a=b}).call(this,s("hosL").Fragment)},bMs3:function(e,t,s){"use strict";var a,c=s("hosL"),n=s("Utv1"),o=s("/eY4"),l=s("OhSV"),i=s("nHdA"),r=s("irB3"),d=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn")),m=Object(o.a)(a=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).requestFollowTeam=function(e){e.preventDefault(),e.stopPropagation();var s=t.props.stores,a=s.teamStore,c=s.userStore.user,n=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);a.followRequest(n,c),t.setState({requestSent:!0})},t.getButton=function(e){void 0===e&&(e="");var s=t.state.requestSent,a=t.props.stores.userStore.user,n=t.props,o=n.team,i=n.skipHome,r=o.members&&o.members.indexOf(a.id)>-1,d=o.followers&&o.followers.indexOf(a.id)>-1,h=o.blockedFollowers&&o.blockedFollowers.indexOf(a.id)>-1,m=s||o.followRequests&&o.followRequests.findIndex((function(e){return e.id===a.id}))>-1;return r?i?"":Object(c.h)("i",{class:"fas fa-home"}):d?Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",onClick:t.unFollowTeam,disabled:"true","data-team":o.id},Object(c.h)("i",{class:"fas fa-link mr-2"}),Object(c.h)(l.c,{id:"teams.connect.is-following"},"Følger")," ",e):h?"":m?Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",disabled:"true"},Object(c.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(c.h)(l.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",e):o.public?Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-success float-right",onClick:t.requestFollowTeam,"data-team":o.id},Object(c.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(c.h)(l.c,{id:"teams.connect.follow"},"Følg")," ",e):void 0},t}var s,a;return a=e,(s=t).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,t.prototype.render=function(){var e=this.props,t=e.team,s=e.showButton,a=e.publicUsers,o=void 0===a?[]:a,l=e.showLocation,m=e.showMembers,b=this.props.stores,u=b.teamStore,p=b.userStore,f=(new Date).getMonth()+1,O=(new Date).getFullYear(),g=this.props,j=g.month,v=g.year,y=void 0===v?O:v,k=parseInt((void 0===j?f:j)<8?y-1:y,10),w=u.findWorkoutSummary(t.id,k)||{},x=p.user.language,S=void 0===x?"en":x,I=p.findTeamAmbition({ambition:t.ambitions,language:S}),C=p.findTeamType({type:t.type,language:S}),T=o.find((function(e){return e.id===t.user})),L=h.a.displayName(T),R=h.a.getImage({user:T,team:t,priority:"user"}),D=this.props.url,A=void 0===D?"/teams/"+t.id:D;return Object(c.h)("div",{class:"w-100 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"position-relative d-flex flex-grow-1"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded",style:R?'background-image: url("'+R+'"); background-size: cover;':""},!R&&Object(c.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("a",{class:"stretched-link",href:A},Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.name)),l&&Object(c.h)("div",null,(t.place||t.country)&&Object(c.h)("span",{class:"mr-3"},Object(c.h)("i",{class:"fas fa-map-marker-alt"}),"  ",t.place," ",t.place?", "+t.country:t.country)),m&&Object(c.h)("div",null,T&&Object(c.h)("span",{class:"mr-2"},Object(c.h)("i",{class:"fas fa-user"})," ",L)),Object(c.h)("div",null,C&&Object(c.h)("span",{class:"badge badge-pill badge-secondary"},C),I&&Object(c.h)("span",{class:"badge badge-pill badge-secondary ml-2"},I)),Object(c.h)("small",{class:"text-muted"},t&&t.dogs&&Object(c.h)("span",{class:""},Object(c.h)("i",{class:"fas fa-dog"})," ",t.dogs.length),t&&t.members&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-user"})," ",t.members.length),w&&w.distanceKm>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(d.a,{stores:this.props.stores,value:w.distanceKm})),w&&w.elevation>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(r.a,{stores:this.props.stores,value:w.elevation})),w&&w.duration>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(w.duration)),w&&w.speedAvg>0&&Object(c.h)("span",{class:"ml-2"},Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(i.a,{stores:this.props.stores,value:w.speedAvg}))))),s&&Object(c.h)("div",null,this.getButton()))))},t}(c.Component))||a;t.a=m},ePpR:function(e,t,s){"use strict";(function(e){var a,c=s("hosL"),n=s("Utv1"),o=s("/eY4"),l=s("OhSV"),i=s("go65"),r=s("om2D"),d=s("ZOvn"),h=Object(o.a)(a=function(t){function s(e){var s;return(s=t.call(this,e)||this).commentTrack=function(){return new Promise((function(e,t){var a,c,n,o,l,i,r,h,m;return n=void 0===(c=(a=s.props).callback)?function(){}:c,l=void 0===(o=a.inputRefObject)?{}:o,i=s.props.track,h=(r=s.state).showAddImage,Promise.resolve(s.props.stores.trackStore.commentTrack({id:i.id,comment:r.comment})).then((function(a){try{return(m=a)&&200===m.status&&(s.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(l[i.id]),h&&s.addImage()})),n({track:i,response:m})),e()}catch(e){return t(e)}}),t)}))},s.addImages=function(e){var t,a=s.state.comment;(t=a.images).push.apply(t,e.value),s.setState({comment:a})},s.addImage=function(){var e=s.state.showAddImage;s.setState({showAddImage:!(void 0!==e&&e)})},s.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},s.state={comment:{body:"",images:[]},showAddImage:!1},s.inputRef={},s}var a,o;return o=t,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s.prototype.render=function(){var t=this,s=this.props,a=s.inputRef,o=s.track,d=this.state,h=d.comment,m=d.showAddImage,b=this.props.stores.userStore.user,u=void 0===b?{}:b,p=u.firstname?""+n.a.ucfirst(u.firstname,!0)+n.a.ucfirst(u.lastname,!0):""+n.a.ucfirst(u.email||"",!0),f=u.image||(u.images?u.images[0]:void 0);return Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-3 position-relative"},Object(c.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(f?"background-image: url('"+f.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!f&&Object(c.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},p)),Object(c.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(c.h)("div",{class:"d-flex bd-highlight"},Object(c.h)("div",{class:"p-0 w-100 bd-highlight"},Object(c.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(c.h)(l.c,{id:"comments.comment"},"Kommentar")),Object(c.h)("div",{class:"border rounded rounded-lg position-relative"},Object(c.h)(l.b,null,Object(c.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(c.h)(l.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(i.a)(this,"comment.body"),value:h.body,ref:a})),Object(c.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(c.h)("i",{class:"fas fa-image pointerCursor","data-id":o.id,onClick:this.addImage})))),Object(c.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(c.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.commentTrack},Object(c.h)("i",{class:"fas fa-paper-plane"})))))),m&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 text-center"},Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},n.a.isArray(h.images)&&h.images.map((function(e){return Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:t.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:t.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(c.h)(r.a,{object:h,updateField:this.addImages,autoOpen:!0}))))},s}(c.Component))||a;t.a=h}).call(this,s("hosL").Fragment)},lcEk:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,o=s("hosL"),l=s("Utv1"),i=s("/eY4"),r=s("cneo"),d=s("OhSV"),h=s("fh8t"),m=s.n(h),b=s("K5BL"),u=(s("ETxl"),s("ZOvn")),p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{},likeComment:{},likeReply:{}},f=Object(i.a)(n=function(t){function s(e){var s;return(s=t.call(this,e)||this).likeComment=function(e){return new Promise((function(t,a){var c,n,o,l,i;return n=void 0===(c=s.props.callback)?function(){}:c,o=e.target.parentElement.dataset.id||e.target.dataset.id,l=s.props.track,Promise.resolve(s.props.stores.trackStore.likeTrackComment({id:l.id,commentId:o})).then((function(e){try{return(i=e)&&200===i.status&&n({track:l,commentId:o,response:i}),t(!0)}catch(e){return a(e)}}),a)}))},s.likeReply=function(e){return new Promise((function(t,a){var c,n,o,l,i;return n=void 0===(c=s.props.callback)?function(){}:c,o=e.target.parentElement.dataset.comment||e.target.dataset.comment,l=s.props.track,Promise.resolve(s.props.stores.trackStore.likeTrackCommentReply({id:l.id,replyId:e.target.parentElement.dataset.id||e.target.dataset.id,commentId:o})).then((function(e){try{return(i=e)&&200===i.status&&n({track:l,commentId:o,response:i}),t()}catch(e){return a(e)}}),a)}))},s.replyComment=function(e){return new Promise((function(t){var a=e.target.parentElement.dataset.id||e.target.dataset.id,c=s.state.showAddComment;return c[a]=!c[a],s.setState({showAddComment:c},(function(){s.inputRef[a]&&s.inputRef[a].focus()})),t()}))},s.toggleComments=function(){s.setState({showAllComments:!s.state.showAllComments})},s.toggleReplies=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id,a=s.state.showAllReplies;a[t]=!a[t],s.setState({showAllReplies:a})},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},p),s.inputRef={},s}var n,i;return i=t,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,s.prototype.render=function(){var t=this,s=this.state,a=s.showAddComment,c=s.showAllComments,n=s.showAllReplies,i=s.viewImageIdx,h=s.likeComment,p=this.props,f=p.track,O=p.callback,g=void 0===O?function(){}:O,j=p.col,v=void 0===j?12:j,y=p.offset,k=void 0===y?0:y,w=p.compact,x=this.props.stores.userStore,S=x.user,I=x.language,C=void 0===I?"en":I,T=[],L=0,R=0;if(f.comments){if(L=f.comments.length,c)T=f.comments;else T=f.comments.slice(Math.max(L-(void 0!==w&&w?0:2),0));R=T.length}return Object(o.h)("div",{class:"col-"+v+" offset-"+k+" col-sm-8 col-lg-6 offset-sm-2 offset-lg-3"},c&&Object(o.h)("div",null,Object(o.h)("button",{class:"btn btn-sm btn-link py-0 mb-2",onClick:this.toggleComments},Object(o.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))),f&&T&&T.reverse().map((function(s){var c=s.user,p=void 0===c?{}:c,O=p.firstname?""+l.a.ucfirst(p.firstname,!0)+l.a.ucfirst(p.lastname,!0):""+l.a.ucfirst(p.email||"",!0),j=p.firstname?p.firstname+" "+p.lastname:""+p.email,v=p.image||(p.images?p.images[0]:void 0),y=s.likes&&s.likes.findIndex((function(e){return e.user===S.id}))>-1,k=[],w=0,x=0;s.comments&&(w=s.comments.length,x=(k=n[s.id]?s.comments:s.comments.slice(0,void 0)).length);var I=[];if(s.images){var T=Object(r.i)(s.images);I.push.apply(I,T)}var L=i[s.id]?i[s.id]:0,R=I&&I[L]?I[L]:null;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(v?'background-image: url("'+v.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!p.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(o.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"bg-light p-2 rounded-lg"},Object(o.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},j),Object(o.h)(m.a,{markdown:u.a.replaceImages(s.comment,s.images,C),markdownOpts:u.a.getMarkdownOptions()})),Object(o.h)("div",null,Object(o.h)("div",{class:"container-fluid px-3 mt-1"},R&&Object(o.h)("div",{class:"clearfix row position-relative"},Object(o.h)("div",{class:"commentContainer col-12 px-0 overflow-hidden",style:"max-height: 60vh;",onDblclick:t.addLikeComment,"data-id":s.id},Object(o.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:R.s3LargeLink})),h[s.id]&&Object(o.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(o.h)("i",{class:"fas fa-heart likeStory"}))),I&&I.length>1&&Object(o.h)("div",{class:"clearfix d-flex flex-wrap row"},l.a.isArray(I)&&I.map((function(a,c){return Object(o.h)(e,null,Object(o.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(o.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:a.s3SmallLink,onClick:t.viewImage,"data-id":s.id,"data-idx":c})))}))))),Object(o.h)("small",null,Object(o.h)("button",{class:"btn btn-sm btn-link py-0 "+(y?"text-primary":""),onClick:t.likeComment,"data-id":s.id},Object(o.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(o.h)("button",{class:"btn btn-sm btn-link py-0",onClick:t.replyComment,"data-id":s.id},Object(o.h)(d.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(o.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},l.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"})))),s.likes&&s.likes.length>0&&Object(o.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(o.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(o.h)("div",{class:"col-11 offset-1 mb-2"},s&&k&&k.map((function(e){var a=e.user,c=void 0===a?{}:a,n=c.firstname?""+l.a.ucfirst(c.firstname,!0)+l.a.ucfirst(c.lastname,!0):""+l.a.ucfirst(c.email||"",!0),i=c.firstname?c.firstname+" "+c.lastname:""+c.email,r=c.image||(c.images?c.images[0]:void 0),h=e.likes&&e.likes.findIndex((function(e){return e.user===S.id}))>-1;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(r?'background-image: url("'+r.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!c.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},n)),Object(o.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"bg-light p-2 rounded-lg"},Object(o.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},i),e.comment),Object(o.h)("small",null,Object(o.h)("button",{class:"btn btn-sm btn-link py-0 "+(h?"text-primary":""),onClick:t.likeReply,"data-comment":s.id,"data-id":e.id},Object(o.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(o.h)("button",{class:"btn btn-sm btn-link py-0",onClick:t.replyComment,"data-id":s.id},Object(o.h)(d.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(o.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},l.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(o.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(o.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),w-x>0&&Object(o.h)("div",null,Object(o.h)("button",{class:"btn btn-sm btn-link py-0",onClick:t.toggleReplies,"data-id":s.id},Object(o.h)(d.c,{id:"comments.show-more",fields:{more:w-x}},"Vis ",w-x," flere kommentarer...")))),a[s.id]&&Object(o.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(o.h)(b.a,{stores:t.props.stores,track:f,callback:g,commentId:s.id,inputRef:function(e){return t.inputRef[s.id]=e}})))})),L-R>0&&Object(o.h)("div",null,Object(o.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(o.h)(d.c,{id:"comments.show-more",fields:{more:L-R}},"Vis ",L-R," flere kommentarer..."))),c&&Object(o.h)("div",null,Object(o.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(o.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},s}(o.Component))||n;t.a=f}).call(this,s("hosL").Fragment)},w8dD:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,o=s("hosL"),l=s("Utv1"),i=s("/eY4"),r=s("UJvz"),d=s("lcEk"),h=s("ePpR"),m=(s("nHdA"),s("irB3")),b=(s("UwwE"),s("8Lgr")),u=(s("QkTp"),s("ZOvn")),p=u.a.getMaxLoadIndex(),f={showAddComment:!1},O=Object(i.a)(n=function(e){function t(t){var s;return(s=e.call(this,t)||this).likeTrack=function(){return new Promise((function(e,t){return Promise.resolve(s.props.stores.trackStore.likeTrack({id:s.props.track.id})).then((function(s){try{return s,e()}catch(e){return t(e)}}),t)}))},s.toggleAddComment=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id;s.setState({showAddComment:!s.state.showAddComment},(function(){s.inputRef[t]&&s.inputRef[t].focus()}))},s.showModal=function(e){e.stopPropagation(),e.preventDefault(),s.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},s.closeModal=function(){s.setState({displayModal:!1})},s.toggleDate=function(){s.setState({showDate:!s.state.showDate})},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),s.updateTimer={},s.inputRef={},s}var s,n;return n=e,(s=t).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,t.prototype.render=function(){var e=this,t=this.state,s=t.displayModal,a=t.currentImage,c=t.currentImageXXL,n=t.showDate,i=t.thumb,f=t.name,O=t.title,g=t.date,j=t.showAddComment,v=this.props,y=v.track,k=v.showUser,w=void 0!==k&&k,x=v.isPublic,S=void 0!==x&&x,I=y.image&&y.image.s3SmallLink?y.image:null,C=y.gpxInfo,T=(void 0===C?{}:C).loadIndex,L=void 0===T?0:T,R=this.props.stores.userStore.user,D=y.likes,A=void 0===D?[]:D,U=y.comments,P=void 0===U?[]:U,_=y.likes&&y.likes.findIndex((function(e){return e.user===R.id}))>-1;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},s&&Object(o.h)(r.a,{close:this.closeModal,image:a,imagexxl:c,thumb:i,name:f,title:O,date:g}),Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:I?'background-image: url("'+I.s3SmallLink+'");':""},!I&&Object(o.h)("i",{class:"fas fa-map-marked text-muted mt-3",style:"font-size: 40px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(o.h)("a",{class:"stretched-link",href:"/tracks/"+y.id+(S?"/public":"")},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},y.name),Object(o.h)("div",{class:"text-muted font-weight-lighter"},Object(o.h)("small",null,y.place))),Object(o.h)("div",null,Object(o.h)("small",null,L>0&&Object(o.h)("span",{class:"ml-2 text-"+u.a.getLoadIndexColor(l.a.normalizeBetween(L,0,p,0,100))},Object(o.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(l.a.normalizeBetween(L,0,p,0,100))," - ",u.a.getLoadIndexText(l.a.normalizeBetween(L,0,p,0,100))))),Object(o.h)("div",null,1===y.public&&Object(o.h)("span",{class:"badge badge-success"},"Is public"),w&&Object(o.h)("span",{class:"text-muted font-weight-lighter ml-3"},u.a.displayName(y.users))),Object(o.h)("small",{class:"text-muted"},y.date&&Object(o.h)("small",{onClick:this.toggleDate},n?l.a.formatDate(y.date,{locale:"no-NB"}):l.a.formatDistance(y.date,new Date,{locale:"no-NB"}),Object(o.h)("br",null))),Object(o.h)("small",{class:"text-muted"},y.garminId>0&&Object(o.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),y.stravaId>0&&Object(o.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(b.a,{stores:this.props.stores,value:y.distanceKm}),Object(o.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(o.h)(m.a,{stores:this.props.stores,value:y.elevation}),y.gpx&&Object(o.h)("i",{class:"fas fa-map-marked-alt ml-2"})))),Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1",style:"padding-left: 122px;"},Object(o.h)("div",{class:"row"},y.images&&y.images.map((function(t){return Object(o.h)("div",{class:"text-center border rounded imageRounded imageRoundedSmall",style:t?'background-image: url("'+t.s3SmallLink+'");':"",onClick:e.showModal,"data-image":t.s3LargeLink,"data-imagexxl":t.s3XXLargeLink,"data-thumb":y.image&&y.image.s3SmallLink,"data-title":y.name,"data-date":y.date}," ")})))),Object(o.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},A&&A.length>0&&Object(o.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(o.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",A.length),P&&P.length>0&&Object(o.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(o.h)("i",{class:"fas fa-comment text-primary"})," ",P.length)),Object(o.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-6 text-center"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(_?"primary":"secondary")+" btn-lg btn-block "+(_?"text-primary":""),onClick:this.likeTrack},Object(o.h)("i",{class:(_?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(o.h)("div",{class:"col-6 text-center"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":y.id,onClick:this.toggleAddComment},Object(o.h)("i",{class:"fas fa-comment"})," Comment")))),j&&Object(o.h)(h.a,{stores:this.props.stores,track:y,inputRef:function(t){return e.inputRef[y.id]=t}}),Object(o.h)(d.a,{stores:this.props.stores,track:y,col:10,offset:2,compact:!0})))},t}(o.Component))||n;t.a=O},zc1A:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,o=s("hosL"),l=(s("Utv1"),s("/eY4")),i=s("OhSV"),r=s("go65"),d=s("Y3FI"),h=s("KDoM"),m=(s("JWe/"),s("bMs3")),b=s("w8dD"),u=(s("Gx/q"),s("NMoA")),p=s("ISGx"),f={submenu:"dogs",hits:0,searchText:""},O=Object(l.a)(n=function(t){function s(e){var s;return(s=t.call(this,e)||this).loadAll=function(e){return new Promise((function(t,a){var c,n,o,l,i,r,d,h,m,b,u,p;return void 0===e&&(e=s.props),n=(c=s.props.stores).appState,o=c.storyStore,l=c.teamStore,i=e.search,Promise.resolve(n.getSearch(i)).then((function(){try{return d=n.publicUsers,o.localUpdateField("publicTeams",r=n.publicTeams),o.localUpdateField("publicUsers",d),l.localUpdateField("publicTeams",r),l.localUpdateField("publicUsers",d),b=["stories","dogs","workouts","teams","tracks","users"],u=(m=[n.searchResultStories,n.searchResultDogs,void 0===(h=n.searchResultWorkouts)?[]:h,n.searchResultTeams,n.searchResultTracks]).map((function(e){return e.length})).indexOf(Math.max.apply(Math,m.map((function(e){return e.length})))),p=m.map((function(e){return e.length})).reduce((function(e,t){return e+t}),0),s.setState({searchText:i,submenu:b[u],hits:p}),t()}catch(e){return a(e)}}),a)}))},s.search=function(){var e=s.state.searchText;Object(d.route)("/search/"+e)},s.chooseSubmenu=function(e){s.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),s}var n,l;l=t,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var O=s.prototype;return O.componentDidMount=function(){this.loadAll()},O.componentWillReceiveProps=function(e){e.search!==this.props.search&&this.loadAll(e)},O.render=function(){var t=this,s=this.props.stores,a=s.appState,c=this.props.search,n=a.searchResultStories,l=a.searchResultDogs,d=a.searchResultWorkouts,f=void 0===d?[]:d,O=a.searchResultTeams,g=a.searchResultTracks,j=a.publicUsers,v=this.state,y=v.submenu,k=v.hits,w=v.searchText;return Object(o.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(o.h)("h1",null,Object(o.h)(i.c,{id:"search.title"},"Search")),Object(o.h)("h5",{class:"my-3"},Object(o.h)(i.c,{id:"search.search-for",fields:{search:c,hits:k}},k,' in your search for "',c,'"')),Object(o.h)("div",{class:"d-flex justify-content-center py-3"},Object(o.h)(i.b,null,Object(o.h)("input",{class:"form-control form-control mr-2",type:"search",placeholder:Object(o.h)(i.c,{id:"header.search-placeholder"},"Søk etter det meste..."),value:w,onInput:Object(r.a)(this,"searchText")})),Object(o.h)("button",{class:"btn btn-outline-success",type:"button",onClick:this.search},Object(o.h)(i.c,{id:"header.search"},"Søk")))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"w-100 overflow-hidden"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("dogs"===y?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(o.h)("i",{class:"fas fa-dog"})," ",Object(o.h)(i.c,{id:"search.dogs"},"Dogs")," (",l.length||0,")")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{class:"btn btn-block rounded-none "+("teams"===y?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"teams",onClick:this.chooseSubmenu},Object(o.h)("i",{class:"fas fa-users"})," ",Object(o.h)(i.c,{id:"search.teams"},"Teams")," (",O.length||0,")")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{class:"btn btn-block rounded-none "+("tracks"===y?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"tracks",onClick:this.chooseSubmenu},Object(o.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(o.h)(i.c,{id:"search.tracks"},"Tracks")," (",g.length||0,")")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("stories"===y?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stories",onClick:this.chooseSubmenu},Object(o.h)("i",{class:"fas fa-comments"})," ",Object(o.h)(i.c,{id:"search.stories"},"Stories")," (",n.length||0,")")))))),"dogs"===y&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12"},(!l||0===l.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-dog"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(i.c,{id:"search.no-dogs-found"},"No dogs found.")))),l&&l.map((function(e){return Object(o.h)(h.a,{stores:t.props.stores,dog:e,url:"/dogs/public/"+e.uuidv4})})))),"workouts"===y&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},(!f||0===f.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-running"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(i.c,{id:"search.no-workouts-found"},"No workouts found.")))),f&&f.map((function(e,s){return Object(o.h)("div",{class:"row mb-4"},Object(o.h)("div",{class:"col-12 py-3"},Object(o.h)(p.a,{stores:t.props.stores,feed:e,idx:s})))})))),"teams"===y&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12"},(!O||0===O.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-users"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(i.c,{id:"search.no-teams-found"},"No teams found.")))),O&&O.map((function(s){return Object(o.h)(e,null,Object(o.h)(m.a,{stores:t.props.stores,team:s,url:"/teams/public/"+s.uuidv4,showButton:!0,publicUsers:j,showMembers:1,showLocation:1}))})))),"tracks"===y&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12"},(!g||0===g.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-map-marked-alt"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(i.c,{id:"search.no-tracks-found"},"No tracks found.")))),g&&g.map((function(e){return Object(o.h)(b.a,{stores:t.props.stores,track:e})})))),"stories"===y&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},(!n||0===n.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-comments"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(i.c,{id:"search.no-stories-found"},"No stories found.")))),n&&n.map((function(e){return Object(o.h)("div",{class:"row mb-4"},Object(o.h)("div",{class:"col-12 py-3"},Object(o.h)(u.a,{stores:t.props.stores,story:e,key:"story-detail-"+e.id})))}))))))},s}(o.Component))||n;t.default=O}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-search.chunk.6607f.js.map