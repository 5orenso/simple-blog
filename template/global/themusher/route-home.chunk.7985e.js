(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"+1Jk":function(t,e,s){"use strict";s.r(e),function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),u=s("Y3FI"),h=(s("X9Km"),s("ZOvn")),p=(s("XPU5"),s("ZWUU"),s("CE5K"),s("0SNj")),d=s("9Bb9"),b=s("pJjI"),m=s("L3gU"),f=s("AEg1"),O=s("gOLw"),g=(s("w93r"),s("qv+O")),j=h.a.marginTop(!1),v=h.a.marginBottom(),y=(h.a.subMenuMarginTop(),{isLoading:!1,submenu:"lastWorkouts"}),w=Object(c.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.addNavigation=function(t){void 0===t&&(t=s.props);var e=t.viewmenu,r=s.props.stores.appState;"wall"===e&&(r.setSwipeRight(),r.setSwipeLeft((function(){r.setSwipeLeft(),Object(u.route)("/home-workout")}))),"workout"===e&&(r.setSwipeLeft(),r.setSwipeRight((function(){r.setSwipeRight(),Object(u.route)("/")})))},s.destroyLog=function(){return new Promise((function(t){return s.props.stores.workoutStore.cordovaDestroyLog(),t()}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},y),s}var n,c;c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var h=s.prototype;return h.loadAll=function(){return new Promise(function(t,e){var s,r,o,n;return r=(s=this.props.stores).appState,o=s.userStore,n=s.messageStore,this.setState({isLoading:!0}),Promise.resolve(r.getFingerprint()).then(function(){try{return Promise.resolve(o.getInfo()).then(function(){try{return Promise.resolve(o.getNotifications()).then(function(){try{return Promise.resolve(n.getUnReadMessages()).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadAll()},h.componentWillUnmount=function(){var t=this.props.stores.appState;t.setSwipeRight(),t.setSwipeLeft()},h.componentWillReceiveProps=function(){},h.render=function(){var e=this.props,s=e.viewmenu,r=e.path,o=e.teamid,n=this.props.stores,c=n.userStore,u=n.workoutStore,h=c.user,y=u.currentTeam,w=u.cordovaActiveTrackingParams,x=u.isRunning,S=u.totalDistance,k=u.currentSpeed,P=u.totalTime;return Object(a.h)(t,null,Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+v+"; margin-top: "+j+";"},x&&w&&Object(a.h)(t,null,Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(a.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(a.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(a.h)("div",{class:"row mb-3"},Object(a.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.secToHms(P)),Object(a.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(3.6*k,1)," km/t"),Object(a.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(S/1e3,2)," km")),Object(a.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(a.h)(l.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),h.id&&Object(a.h)(f.a,{stores:this.props.stores}),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"w-100 overflow-hidden"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("a",{class:"btn btn-block rounded-pill-left rounded-none "+("wall"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wall",href:"/"},Object(a.h)("i",{class:"fas fa-comments"})," ",Object(a.h)(l.c,{id:"home.wall"},"Veggen"))),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("a",{class:"btn btn-block rounded-pill-right rounded-none "+("workout"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workout",href:"/home-workout"},Object(a.h)("i",{class:"fas fa-running"}),"  ",Object(a.h)(l.c,{id:"home.feed"},"Feed"))))))),"wall"===s&&Object(a.h)(t,null,Object(a.h)(g.a,{stores:this.props.stores}),Object(a.h)(O.a,{stores:this.props.stores,path:r})),"workout"===s&&Object(a.h)(t,null,Object(a.h)(m.a,{stores:this.props.stores,teamid:o})),"totals"===s&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(a.h)(b.a,{stores:this.props.stores}),Object(a.h)(p.a,{stores:this.props.stores,currentTeam:y}),Object(a.h)(d.a,{stores:this.props.stores,currentTeam:y})))))},s}(a.Component))||n;e.default=w}.call(this,s("hosL").Fragment)},"/DnB":function(t,e,s){"use strict";function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),i=(s("Utv1"),s("/eY4")),c={},l=Object(i.a)(n=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},c),s.container=null,s}var s,n;n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,s=t.vertical,r=void 0===s?"":s,o={behavior:"smooth"};e&&(o.inline=e),r&&(o.block=r),this.container.scrollIntoView(o)},i.render=function(){var t=this;return Object(a.h)("div",{ref:function(e){return t.container=e}},"Â ")},e}(a.Component))||n;e.a=l},"0SNj":function(t,e,s){"use strict";var r,o=s("hosL"),n=s("Utv1"),a=s("/eY4"),i=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),c=s("irB3"),l=(s("UwwE"),s("8Lgr")),u=(s("QkTp"),Object(a.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).state={},s}var s,r;r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var a=e.prototype;return a.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeams(t)).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.loadTeams=function(t){return new Promise(function(e,s){var r,o,n,a,i,c;return void 0===t&&(t=this.props),r=t.stores.teamStore,o=(new Date).getMonth()+1,n=(new Date).getFullYear(),i=(a=t).month,c=a.year,Promise.resolve(r.load({query:{team:a.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===c?n:c,month:void 0===i?o:i},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.componentDidMount=function(){this.loadAll()},a.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},a.render=function(){var t=this.props.stores.teamStore,e=(new Date).getMonth()+1,s=(new Date).getFullYear(),r=this.props,a=r.month,u=r.year,h=void 0===u?s:u,p=r.currentTeam,d=r.currentSeason,b=r.prevSeason,m=parseInt((void 0===a?e:a)<8?h-1:h,10),f=b||(p?t.findWorkoutSummary(p,m-1):t.findWorkoutSummaryTotal(m-1))||{},O=d||(p?t.findWorkoutSummary(p,m):t.findWorkoutSummaryTotal(m))||{};return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2 border-top"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(l.a,{stores:this.props.stores,value:O.distanceKm||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(l.a,{stores:this.props.stores,value:f.distanceKm||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(c.a,{stores:this.props.stores,value:O.elevation||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(c.a,{stores:this.props.stores,value:f.elevation||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",m,"-",m+1),Object(o.h)("h3",null,n.a.secToHms(O.duration||0))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},n.a.secToHms(f.duration||0)))),Object(o.h)("div",{class:"row mt-2 border-bottom"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(i.a,{stores:this.props.stores,value:O.speedAvg||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(i.a,{stores:this.props.stores,value:f.speedAvg||0,smallUnit:!0})))))},e}(o.Component))||r);e.a=u},"9Bb9":function(t,e,s){"use strict";var r,o=s("hosL"),n=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=s("ETxl"),l=s.n(c),u=s("ZOvn"),h=Object(a.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).loadWorkoutPlans=function(t){return new Promise((function(e,r){function o(){return e()}var n,a,i,c,l,u,h,p,d,b;return void 0===t&&(t=s.props),n=t.stores.workoutPlanStore,a=(new Date).getMonth()+1,i=(new Date).getFullYear(),u=void 0===(l=(c=t).year)?i:l,h=c.month,p=c.currentTeam,d=parseInt(u||((void 0===h?a:h)<8?u-1:u),10),p?Promise.resolve(n.load({query:{team:p,seasonYear:d,seasonMonth:6}})).then(function(){try{if((b=n.workoutPlans[0]||{}).id)return Promise.resolve(n.load(b.id)).then(function(){try{return t.call(this)}catch(t){return r(t)}}.bind(this),r);function t(){return o.call(this)}return t.call(this)}catch(t){return r(t)}}.bind(this),r):o.call(this)}))},s.state={},s}var s,r;r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var a=e.prototype;return a.loadAll=function(t){return new Promise(function(e){return void 0===t&&(t=this.props),e()}.bind(this))},a.loadTeams=function(t){return new Promise(function(e,s){var r,o,n,a,i,c;return void 0===t&&(t=this.props),r=t.stores.teamStore,o=(new Date).getMonth()+1,n=(new Date).getFullYear(),i=(a=t).month,c=a.year,Promise.resolve(r.load({query:{team:a.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===c?n:c,month:void 0===i?o:i},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.loadWorkoutSummary=function(t){return new Promise(function(e,s){var r;return void 0===t&&(t=this.props),r=t,Promise.resolve(t.stores.userStore.getWorkoutSummary({team:r.currentTeam,year:r.year,dog:r.dog})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},a.componentDidMount=function(){this.loadAll()},a.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},a.render=function(){var t,e=this.props,s=e.currentTeam,r=this.props.stores,a=r.userStore,c=r.workoutPlanStore,h=r.teamStore,p=c.workoutPlan,d=a.user.language,b=u.a.getMonths(void 0===d?"en":d),m=h.findTeam(s)||{},f=(new Date).getMonth()+1,O=(new Date).getFullYear(),g=this.props,j=g.year,v=void 0===j?O:j,y=g.month,w=parseInt((void 0===y?f:y)<8?v-1:v,10),x=n.a.monthRange(w+"-08-01",w+1+"-07-31");return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("h5",null,Object(o.h)("span",{style:"display: none;"},p.id),Object(o.h)(i.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(o.h)("div",{class:"row mt-2 border-bottom pb-2"},x&&x.map((function(e){if(e.year>v||e.year===v&&e.month>=e)return"";var s=c.sumWorkoutPlanMonth(e.year,e.month+1);if(!s)return"";t=s;var r=a.findWorkoutSummaryMonth(e.year,e.month+1)/s*100,i=r>100?100:n.a.format(r,0);return Object(o.h)("div",{class:"col-3 text-center"},Object(o.h)("div",{class:"px-auto w-100 clearfix"},Object(o.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(o.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+i+"%; width: 40px;","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},n.a.format(r,0),"%"))),Object(o.h)("div",{class:"w-100 mt-1"},b[e.month]," ",e.year))})),!t&&Object(o.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"far fa-sad-tear"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(i.c,{id:"workout.plan.no-workout-plan-found",fields:{name:m.name}},"Ingen treningsplaner funnet for team ",m.name,".")),Object(o.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(o.h)("i",{class:"fas fa-calendar-alt"})," ",Object(o.h)(i.c,{id:"workout.plan.new"},"New workoutplan")))))},e}(o.Component))||r;e.a=h},AEg1:function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),u=s("go65"),h=s("om2D"),p=s("ZOvn"),d={showAddImage:!1,showTeamChange:!1,showChangeVisibility:!1,showChangeType:!1,sendButtonEnabled:!0},b=Object(c.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).beforeImagesUploaded=function(){s.setState({sendButtonEnabled:!1})},s.afterImagesUploaded=function(){s.setState({sendButtonEnabled:!0})},s.addStory=function(){return new Promise((function(t,e){var r,o,n,a,i,c,l,u,h,d,b,m,f,O,g;return n=void 0===(o=(r=s.state).story)?{}:o,a=r.showAddImage,l=void 0===(c=(i=s.props).callback)?function(){}:c,h=void 0===(u=i.hashTags)?[]:u,d=i.postfix,m=void 0===(b=i.topic)?"team-"+n.team:b,f=s.props.stores.storyStore,r.sendButtonEnabled&&n.body?(s.setState({sendButtonEnabled:!1}),O=n.body,d&&(O+="\n\n"+d),h&&h.length>0&&(O+="\n\n"+h.map((function(t){return"#"+t})).join(" ")),Promise.resolve(f.insert({type:n.type,title:n.title,body:O,pinned:n.pinned,images:n.images,public:n.public?1:0,team:n.team,urlText:n.urlText,url:n.url,currency:n.currency,price:n.price,code:n.code,country:n.country,region:n.region,startDate:n.startDate,endDate:n.endDate,topic:m})).then(function(r){try{if((g=r)&&201===g.status)return Promise.resolve(f.loadPublicFeed({hashtags:h})).then(function(){try{return s.setState({story:{type:1,title:"",body:"",pinned:null,images:[],public:1,urlText:"",url:"",currency:"",price:null,code:"",country:"",region:"",startDate:null,endDate:null}},(function(){p.a.resizeTextarea(s.inputRef.newStoryBody),a&&s.addImage()})),l(g.data),o.call(this)}catch(t){return e(t)}}.bind(this),e);function o(){return s.setState({sendButtonEnabled:!0}),t()}return o.call(this)}catch(t){return e(t)}}.bind(this),e)):t(!1)}))},s.addImages=function(t){var e,r=s.state.story;(e=r.images).push.apply(e,t.value),s.setState({story:r})},s.removeImage=function(t){return new Promise((function(e){var r=s.state.story,o=t.target.parentElement.dataset.name||t.target.dataset.name;if(i.a.isArray(r.images)){var n=r.images.findIndex((function(t){return t.name===o}));n>-1&&r.images.splice(n,1)}return s.setState({story:r}),e()}))},s.addImage=function(){s.setState({showAddImage:!s.state.showAddImage})},s.changeVisibility=function(){s.setState({showChangeVisibility:!s.state.showChangeVisibility})},s.changePinned=function(){s.setState({showChangeVisibility:!s.state.showChangeVisibility})},s.changeType=function(){s.setState({showChangeType:!s.state.showChangeType})},s.toggleTeamChange=function(){s.setState({showTeamChange:!s.state.showTeamChange})},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.setPublicTeam=function(){var t=s.props.stores.userStore.findPublicTeams();if(i.a.isArray(t)&&t.length>0){var e=s.state.story;e.team=t[0].id,s.setState({story:e})}},s.setFocus=function(t){s.setState({hasFocus:!0}),p.a.resizeTextarea(t.target)},s.removeFocus=function(){s.setState({hasFocus:!1})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({story:{type:1,title:"",body:"",images:[],public:1,urlText:"",url:"",currency:"",price:0,code:"",country:"",region:"",startDate:"",endDate:""}},d),s.inputRef={},s}var n,c;c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var b=s.prototype;return b.componentDidMount=function(){this.setPublicTeam()},b.render=function(){var e=this,s=this.props,r=s.col,o=void 0===r?12:r,n=s.offset,c=void 0===n?0:n,d=s.hashTags,b=void 0===d?[]:d,m=this.state,f=m.story,O=void 0===f?{}:f,g=m.showAddImage,j=m.showTeamChange,v=m.showChangeVisibility,y=m.showChangeType,w=m.sendButtonEnabled,x=m.hasFocus,S=this.props.stores,k=S.userStore,P=S.appState,T=k.user,C=void 0===T?{}:T,D=k.isAdmin,I=C.firstname?""+i.a.ucfirst(C.firstname,!0)+i.a.ucfirst(C.lastname,!0):""+i.a.ucfirst(C.email||"",!0),_=C.image||(C.images?C.images[0]:void 0);if(O.team){var L=parseInt(O.team,10),F=k.findTeam(L,!0);_=F.image||(F.images?F.images[0]:void 0)}var N=P.darkmode;return Object(a.h)("div",{class:"w-100 px-0"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-"+o+" offset-"+c+" col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 rounded rounded-lg pt-3 pb-1 bg-"+(N?"black":"white")+" shadow-sm mb-1"},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(a.h)("div",{class:"position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall pointerCursor",style:(_?"background-image: url('"+_.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;",onClick:this.toggleTeamChange},!_&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},I)),Object(a.h)("div",{class:"position-absolute",style:"top: 16px; right: 0px;"},Object(a.h)("small",{class:"text-white",style:"font-size: 1.5em;"},Object(a.h)("i",{class:"fas fa-caret-down pointerCursor",onClick:this.toggleTeamChange})))),Object(a.h)("div",{class:"col pl-3 pr-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(l.c,{id:"story.body"},"Story")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(l.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(l.c,{id:"story.write-body"},"Hva tenker du pÃ¥?.."),onInput:Object(u.a)(this,"story.body"),onKeyUp:p.a.resizeTextarea,onFocus:this.setFocus,style:"height: 2.3em;",value:O.body,ref:function(t){return e.inputRef.newStoryBody=t}})),x&&Object(a.h)("div",{class:"position-absolute",style:"bottom: 8px; right: 10px; font-size: 1.2em;"},Object(a.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage}),Object(a.h)("i",{class:"fas fa-"+(1===O.public?"globe-europe":"users")+" pointerCursor ml-2","data-id":O.id,onClick:this.changeVisibility}),D&&Object(a.h)("i",{class:"fas fa-cog pointerCursor ml-2","data-id":O.id,onClick:this.changeType}))),b&&b.length>0&&Object(a.h)(t,null,b.map((function(e){return Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-secondary mr-2 my-1"},Object(a.h)("a",{href:"/stories/tag/"+e,class:"text-white"},"#",e)))})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight pt-auto"},Object(a.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" ml-1",disabled:!w,onClick:this.addStory},Object(a.h)("i",{class:"fas fa-paper-plane"})))))),Object(a.h)("div",null,Object(a.h)("div",{class:"row"},j&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(u.a)(this,"story.team"),onChange:this.toggleTeamChange},Object(a.h)("option",{value:""},"-- ",Object(a.h)(l.c,{id:"story.team-choose"},"Velg team")," --"),i.a.isArray(C.teams)&&C.teams.map((function(t){var e=k.findTeam(t,!0);return e&&e.public?Object(a.h)("option",{value:e.id,selected:O.team==e.id?"selected":""},e.name):""})),!C.teams&&Object(a.h)(t,null,Object(a.h)("option",{value:""},"No public teams"))))))),v&&Object(a.h)(t,null,D&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("label",{for:"pinned"},"Pinned to top:"),Object(a.h)("input",{id:"pinned",type:"checkbox",onInput:Object(u.a)(this,"story.pinned"),value:1,checked:O.pinned?1:0}))))),Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(u.a)(this,"story.public"),value:O.public,onChange:this.changeVisibility},Object(a.h)("option",{value:0,selected:0==O.public?"selected":""},"ð¥ ",Object(a.h)(l.c,{id:"story.visibility-followers"},"Kun synlig for de som fÃ¸lger deg.")),Object(a.h)("option",{value:1,selected:1==O.public?"selected":""},"ð ",Object(a.h)(l.c,{id:"story.visibility-public"},"Synlig for alle som bruker appen."))))))),y&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(u.a)(this,"story.type"),value:O.type,onChange:this.changeType},Object(a.h)("option",{value:""},"-- ",Object(a.h)(l.c,{id:"story.type-choose"},"Velg type")," --"),Object(a.h)("option",{value:1,selected:1==O.type?"selected":""},"âï¸ ",Object(a.h)(l.c,{id:"story.type-regular"},"Vanlig")),Object(a.h)("option",{value:2,selected:2==O.type?"selected":""},"ð ",Object(a.h)(l.c,{id:"story.type-ad"},"Annonse")),Object(a.h)("option",{value:3,selected:3==O.type?"selected":""},"ð ",Object(a.h)(l.c,{id:"story.type-article"},"Artikkel"))))))),g&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},i.a.isArray(O.images)&&O.images.map((function(t){return Object(a.h)("div",{class:"col-3 p-1"},Object(a.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(a.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(a.h)(h.a,{object:O,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))),O.type>1&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.url-text"},"URL text")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"urlText",onInput:Object(u.a)(this,"story.urlText"),value:O.urlText})))),Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.url"},"URL")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"url",onInput:Object(u.a)(this,"story.url"),value:O.url}))))),2==O.type&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.code"},"Code")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"code",onInput:Object(u.a)(this,"story.code"),value:O.code})))),Object(a.h)("div",{class:"col-12"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.region"},"Region")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"region",onInput:Object(u.a)(this,"story.region"),value:O.region})))),Object(a.h)("div",{class:"col-12"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.country"},"Country")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"country",onInput:Object(u.a)(this,"story.country"),value:O.country})))),Object(a.h)("div",{class:"col-4"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.currency"},"Currency")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"currency",onInput:Object(u.a)(this,"story.currency"),value:O.currency})))),Object(a.h)("div",{class:"col-8"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.price"},"Price")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"price",onInput:Object(u.a)(this,"story.price"),value:O.price}))))))))))},s}(a.Component))||n;e.a=b}).call(this,s("hosL").Fragment)},CE5K:function(t,e,s){"use strict";function r(){try{if(window)return window}catch(t){return}}function o(){var t=r();return t&&(!(!t.matchMedia||!t.matchMedia("(display-mode: standalone)").matches)||t.navigator&&!0===t.navigator.standalone)||!1}function n(){h.onPrompts.forEach((function(t){return t(h.prompt)}))}function a(t){if(!h.installPromptListener){var e=r();if(!e||o())return null;h.installPromptListener=function(t){t.preventDefault();var s=t;h.prompt=function(){return new Promise((function(t){h.appInstalledListener=function(){t(!0)},e.addEventListener("appinstalled",h.appInstalledListener),s.prompt(),s.userChoice.then((function(e){"accepted"!==e.outcome&&t(!1)}))})).then((function(t){return s=null,h.appInstalledListener&&e.removeEventListener("appinstalled",h.appInstalledListener),t&&(h.prompt=null,n()),t}))},n()},e.addEventListener("beforeinstallprompt",h.installPromptListener)}return t?(h.onPrompts.push(t),h.prompt&&t(h.prompt),function(){return e=t,void(h.onPrompts=h.onPrompts.filter((function(t){return t!==e})));var e}):function(){return function(){var t=r();h.installPromptListener&&(t&&t.removeEventListener&&t.removeEventListener("beforeinstallprompt",h.installPromptListener),h.installPromptListener=null),h.appInstalledListener&&(t&&t.removeEventListener&&t.removeEventListener("appinstalled",h.appInstalledListener),h.appInstalledListener=null),h.prompt=null,h.onPrompts=[]}()}}function i(){var t=Object(u.k)(o())[0],e=Object(u.k)(null),s=e[0],r=e[1];return Object(u.d)((function(){return a((function(t,e){r({prompt:function(){return t().then((function(t){return t&&e(),t}))}})}))})),{isStandalone:t,installPrompt:s&&s.prompt}}function c(){var t=i(),e=t.installPrompt,s=t.isStandalone;return e&&Object(l.h)("div",{class:"text-center"},Object(l.h)("a",{class:"btn btn-success",href:"#",onclick:e},Object(l.h)(p.c,{id:"install.install-app"},"Install The Musher")))||s&&""}s.d(e,"a",(function(){return c}));var l=s("hosL"),u=s("QRet"),h={prompt:null,installPromptListener:null,appInstalledListener:null,onPrompts:[]},p=s("OhSV")},L3gU:function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),u=s("VKmm"),h=s("rWES"),p=s("epqT"),d=s("yHBq"),b=s("q/oJ"),m=s("gWxU"),f=s("Nanz"),O=s("ISGx"),g=s("ZOvn"),j={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:10,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},v=["id","type","user","team","title"],y=Object(c.a)(n=function(e){function s(s){var n;return(n=e.call(this,s)||this).setLoadMore=function(){n.props.stores.teamStore.setLoadMore((function(){var t=n.props.teamid,e=n.state,s=e.limit,r=e.offset;n.setState({offset:r+=s}),n.loadTeamsPublicFeed({limit:s,offset:r,teamid:t})}))},n.unsetLoadMore=function(){n.props.stores.teamStore.setLoadMore((function(){}))},n.insertTopRanked=function(){for(var t=n.props.stores.teamStore,e=t.publicTeamsFeed,s=i.a.shuffleArray(t.topRankedWorkouts),r=[].concat(e),o=0;o<3;o+=1){var a=g.a.randomInt(0,7);i.a.isObject(s[o])&&r.splice(a,0,s[o])}t.localUpdateField("publicTeamsFeed",r)},n.insertAds=function(){var t=n.state.idxAd,e=n.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"ad",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},n.insertTeamConfirm=function(){var t=n.state.idxConfirm,e=n.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"teamConfirm",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},n.insertTeamSuggestions=function(){var t=n.state.idxSuggestion,e=n.props.stores.teamStore,s=[].concat(e.publicTeamsFeed);s.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",s)},n.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showTeam:e}),!1},n.hideTeam=function(){n.setState({showTeam:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e,dogs:s}),!1},n.hideDog=function(){n.setState({showDog:null})},n.setupIntersection=function(){n.setState({handleIntersection:g.a.intersectionObserverCallback});var t=n.props.stores.teamStore;n.scrollViewTimer=setInterval((function(){return t.postScrollview(g.a.getIntersectionObserverHistory())}),3e4)},n.renderContent=function(e){var s=e.obj,r=e.idx,o=n.props.stores.appState.path;return"ad"===s.type?Object(a.h)(t,null,Object(a.h)(p.a,{stores:n.props.stores,path:o})):"teamConfirm"===s.type?Object(a.h)(t,null,Object(a.h)(h.a,{stores:n.props.stores})):"teamSuggestions"===s.type?Object(a.h)(t,null,Object(a.h)(u.a,{stores:n.props.stores})):Object(a.h)(t,null,Object(a.h)(O.a,{stores:n.props.stores,feed:s,idx:r,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick,onDogClick:n.onDogClick}))},n.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},j),n}var n,c;c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var y=s.prototype;return y.loadTeamsPublicFeed=function(t){return new Promise(function(e,s){var r,o;return o=void 0===(r=t.props)?this.props:r,Promise.resolve(o.stores.teamStore.loadPublicFeed({limit:t.limit,offset:t.offset,sort:"-createdDate",teamid:o.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},y.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeamsPublicFeed({props:t,limit:this.state.limit,offset:0,teamid:t.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},y.componentWillMount=function(){this.setupIntersection()},y.componentWillUnmount=function(){this.unsetLoadMore(),this.props.stores.teamStore.postScrollview(g.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer)},y.componentDidMount=function(){this.loadAll(),this.setLoadMore()},y.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},y.render=function(){var e,s,r=this.state,o=r.showTeam,n=r.showDog,i=r.handleIntersection,c=r.sessionid,u=r.dogs,p=this.props.stores,O=p.teamStore,j=p.appState,y=O.publicTeamsFeed,w=j.darkmode,x=O.findPublicTeamByUuidv4(this.props.teamid),S=g.a.getImage({team:x});return x&&x.name&&(e=g.a.displayNameShort(x),s=g.a.displayName(x)),Object(a.h)(t,null,o&&Object(a.h)(b.a,null,Object(a.h)(m.default,{stores:this.props.stores,teamid:o,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),n&&Object(a.h)(b.a,null,Object(a.h)(f.default,{stores:this.props.stores,dogid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:u})),Object(a.h)("div",{class:"w-100"},x?Object(a.h)(t,null,Object(a.h)("div",{class:"row pb-3 pt-3"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(a.h)("div",{class:"row"},Object(a.h)("h3",null,Object(a.h)("div",{class:"d-flex position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:S?'background-image: url("'+S+'"); background-size: cover;':""},!S&&Object(a.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},e)),Object(a.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(a.h)("h3",{class:"mb-1"},x.public?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+x.uuidv4,class:"stretched-link"},s)):Object(a.h)(t,null,s))))))))):Object(a.h)(t,null,Object(a.h)(h.a,{stores:this.props.stores})),(!y||0===y.length)&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-chart-area"})),Object(a.h)("h3",null,Object(a.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(a.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(a.h)("div",{class:"text-center mt-3"},Object(a.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(a.h)(d.a,{data:y,wrapperClassNames:"row pb-1",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(w?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:v,dataValues:{type:"10"},handleIntersection:i,sessionid:c})))},s}(a.Component))||n;e.a=y}).call(this,s("hosL").Fragment)},XPU5:function(t,e,s){"use strict";var r,o=s("hosL"),n=(s("Utv1"),s("/eY4")),a=s("OhSV"),i=s("go65"),c=Object(n.a)(r=function(t){function e(){for(var e,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).inviteKennel=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.inviteKennel({email:e.state.friendEmail})).then((function(r){try{return e.setState({response:r,inviteSent:!0}),t()}catch(t){return s(t)}}),s)}))},e.inviteNew=function(){e.setState({inviteSent:!1})},e.hideInvite=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideInvite":1})).then((function(){try{return e.setState({hideInvite:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){var t=this.state,e=this.props.forceShow,s=this.props.stores.userStore.user.settings;return!e&&(void 0===s?{}:s).hideInvite||t.hideInvite?"":t.inviteSent?Object(o.h)("div",{class:"col-12"},Object(o.h)(a.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til Ã¥ bli flere ð"),Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(o.h)(a.c,{id:"users.invite.more"},"Invitere flere"))):Object(o.h)("div",{class:"col-12 pb-4 clearfix"},Object(o.h)("h5",null,Object(o.h)(a.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(o.h)("p",null,Object(o.h)(a.c,{id:"users.invite.text"},"Jeg hÃ¥per du vil hjelpe oss til Ã¥ bli flere. Appen vil bli lansert veldig snart og det er pÃ¥tide Ã¥ invitere inn flere brukere.")),Object(o.h)("div",null,Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(a.c,{id:"users.invite.email"},"E-post")),Object(o.h)(a.b,null,Object(o.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(o.h)(a.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(i.a)(this,"friendEmail")}))),Object(o.h)("div",{class:"col-auto"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(o.h)(a.c,{id:"users.invite.send"},"Send invitasjon"))))),!e&&Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(a.c,{id:"users.invite.hide"},"Skjul")))},e}(o.Component))||r;e.a=c},ZQlJ:function(t,e,s){"use strict";var r,o=s("hosL"),n=(s("Utv1"),s("/eY4")),a=(s("OhSV"),s("NDEG")),i=Object(n.a)(r=function(t){function e(e){var s;return(s=t.call(this,e)||this).scrollImages=function(t){var e=t.target,r=e.scrollLeft/e.clientWidth,o=Math.round(r),n=Math.abs(o-r);(Number.isInteger(r)||n<.1)&&s.setState({imageIdx:o})},s.sortByName=function(t,e){var r=s.props.allDogs,o=void 0===r?[]:r,n=o.find((function(e){return e.id===t})),a=o.find((function(t){return t.id===e}));return n&&a&&n.name>a.name?1:-1},s.state={imageIdx:0},s}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){var t=this,e=this.props,s=e.dogs,r=e.allDogs,n=void 0===r?[]:r,i=e.size,c=void 0===i?"medium":i,l=e.onDogClick,u=void 0===l?function(){}:l;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},s&&s.sort(this.sortByName).map((function(e){var r=n.find((function(t){return t.id===e}));return r?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(o.h)(a.a,{stores:t.props.stores,dog:r,dogs:n.filter((function(t){return s.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:c,onDogClick:u}))):""}))))},e}(o.Component))||r;e.a=i},ZWUU:function(t,e,s){"use strict";var r,o=s("hosL"),n=(s("Utv1"),s("/eY4")),a=s("OhSV");s("go65"),Object(n.a)(r=function(t){function e(){for(var e,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).toggleSetting=function(t){return new Promise((function(s,r){var o,n,a;return a=(n=e.props.stores.userStore).user.settings,Promise.resolve(n.updateSetting((o={},o["settings."+t]=1===(void 0===a?{}:a)[t]?0:1,o))).then((function(){try{return s()}catch(t){return r(t)}}),r)}))},e.hideSettings=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideSettings":1})).then((function(){try{return e.setState({hideSettings:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){var t=this,e=this.props.stores.userStore.user.settings,s=void 0===e?{}:e;return this.state.hideSettings||s.hideSettings||!this.props.forceShow&&s.summaryEmails&&s.infoEmails&&s.partnerEmails?"":Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(o.h)("h5",null,Object(o.h)(a.c,{id:"users.settings"},"Brukerinnstillinger")),!s.summaryEmails&&Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-4 text-muted text-right"},Object(o.h)(a.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"custom-control custom-switch"},Object(o.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:function(){return t.toggleSetting("summaryEmails")},checked:s.summaryEmails}),Object(o.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(o.h)("small",{class:"text-muted"},Object(o.h)(a.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!s.infoEmails&&Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-4 text-muted text-right"},Object(o.h)(a.c,{id:"users.settings-info-email"},"Info")),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"custom-control custom-switch"},Object(o.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:function(){return t.toggleSetting("infoEmails")},checked:s.infoEmails}),Object(o.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(o.h)("small",{class:"text-muted"},Object(o.h)(a.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!s.partnerEmails&&Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-4 text-muted text-right"},Object(o.h)(a.c,{id:"users.settings-partner-email"},"Partners")),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"custom-control custom-switch"},Object(o.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:function(){return t.toggleSetting("partnerEmails")},checked:s.partnerEmails}),Object(o.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(o.h)("small",{class:"text-muted"},Object(o.h)(a.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra vÃ¥re partnere via e-post")))),Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-12 text-muted"},Object(o.h)("small",null,Object(o.h)("a",{href:"/users"},Object(o.h)("i",{class:"fas fa-sliders-h"})," ",Object(o.h)(a.c,{id:"users.settings-text-info"},"Innstillingene finner du inne pÃ¥ profilen din."))))),Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-12 text-muted text-right"},Object(o.h)("small",null,Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(a.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))},e}(o.Component))},gOLw:function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=(s("X9Km"),s("NMoA")),u=s("VKmm"),h=s("rWES"),p=s("epqT"),d=s("yHBq"),b=s("q/oJ"),m=s("gWxU"),f=s("Nanz"),O=s("ISGx"),g=s("ZOvn"),j=g.a.marginTop(!1),v={loading:!1,limit:10,offset:0,idxConfirm:0,idxSuggestion:1,idxAd:5,sessionid:(new Date).getTime()},y=["id","type","user","team","title"],w=Object(c.a)(n=function(e){function s(s){var n;return(n=e.call(this,s)||this).reloadStories=function(){return new Promise((function(t,e){var s,r,o;return s=n.props.stores.appState,o=(r=n.state).limit,r.offset,0,n.setState({offset:0}),Promise.resolve(n.loadStoriesPublicFeed({props:n.props,limit:o,offset:0})).then((function(){try{return s.appContainerScrollTop(),t()}catch(t){return e(t)}}),e)}))},n.setCheckForNewStories=function(t){void 0===t&&(t=n.props),n.checkForNewStoriesTimer=setInterval((function(){return n.checkForNewStories({props:t})}),6e4)},n.clearCheckForNewStories=function(){clearInterval(n.checkForNewStoriesTimer)},n.insertTopRanked=function(){var t=n.props.stores.storyStore,e=t.publicFeed,s=i.a.shuffleArray(t.topRankedStories),r=[].concat(e),o=0,a=new Date;r.forEach((function(t,e){var s=i.a.parseInputDate(t.date);Math.floor((a.getTime()-s.getTime())/1e3)<86400&&(o=e+1)}));var c=r.length;if(c>o+3){for(var l=0;l<3;l+=1){var u=g.a.randomInt(o,c);i.a.isObject(s[l])&&r.splice(u,0,s[l])}t.localUpdateField("publicFeed",r)}},n.insertAds=function(){var t=n.state.idxAd,e=n.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"ad",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},n.insertTeamConfirm=function(){var t=n.state.idxConfirm,e=n.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"teamConfirm",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},n.insertTeamSuggestions=function(){var t=n.state.idxSuggestion,e=n.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},n.setLoadMore=function(){n.props.stores.storyStore.setLoadMore((function(){var t=n.state,e=t.limit,s=t.offset;n.setState({offset:s+=e}),n.loadStoriesPublicFeed({limit:e,offset:s})}))},n.unsetLoadMore=function(){n.props.stores.storyStore.setLoadMore((function(){}))},n.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showTeam:e}),!1},n.hideTeam=function(){n.setState({showTeam:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e,dogs:s}),!1},n.hideDog=function(){n.setState({showDog:null})},n.setupIntersection=function(){n.setState({handleIntersection:g.a.intersectionObserverCallback});var t=n.props.stores.storyStore;n.scrollViewTimer=setInterval((function(){return t.postScrollview(g.a.getIntersectionObserverHistory())}),3e4)},n.renderContent=function(e){var s=e.obj,r=e.idx,o=n.props.stores.appState.path,i=n.props.hashtag;return"ad"===s.type?Object(a.h)(t,null,Object(a.h)(p.a,{stores:n.props.stores,path:o})):"teamConfirm"===s.type?Object(a.h)(t,null,Object(a.h)(h.a,{stores:n.props.stores})):"teamSuggestions"===s.type?Object(a.h)(t,null,Object(a.h)(u.a,{stores:n.props.stores})):"workout"===s.type?Object(a.h)(t,null,Object(a.h)(O.a,{stores:n.props.stores,feed:s,idx:r,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick,onDogClick:n.onDogClick,holdingStore:"story"})):Object(a.h)(t,null,Object(a.h)(l.a,{stores:n.props.stores,story:s,hashtag:i,key:"story-detail-"+s.id,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick}))},n.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},v),n.inputRef={},n.ref={},n}var n,c;c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var w=s.prototype;return w.loadStoriesPublicFeed=function(t){return new Promise(function(e,s){var r,o,n;return n=t.offset,(o=void 0===(r=t.props)?this.props:r).path,Promise.resolve(o.stores.storyStore.loadPublicFeed({hashtag:o.hashtag,hashtags:o.hashtags,teamid:o.teamid,limit:t.limit,offset:n,sort:void 0})).then(function(){try{return n||(this.insertTopRanked(),this.insertTeamConfirm()),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},w.checkForNewStories=function(t){return new Promise(function(e,s){var r,o;return t.limit,t.offset,(o=void 0===(r=t.props)?this.props:r).path,Promise.resolve(o.stores.storyStore.checkForNewStories({hashtag:o.hashtag,hashtags:o.hashtags,teamid:o.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},w.componentWillMount=function(){this.setupIntersection()},w.componentDidMount=function(){this.loadStoriesPublicFeed({limit:this.state.limit,offset:0}),this.setLoadMore(),this.setCheckForNewStories()},w.componentWillUnmount=function(){this.unsetLoadMore(),this.props.stores.storyStore.postScrollview(g.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),this.clearCheckForNewStories()},w.componentWillReceiveProps=function(t){t.hashtag===this.props.hashtag&&t.path===this.props.path||this.loadStoriesPublicFeed({props:t,limit:this.state.limit,offset:0})},w.render=function(){var e=this.state,s=e.loading,r=e.handleIntersection,o=e.sessionid,n=e.showTeam,i=e.showDog,c=this.props.stores,l=c.storyStore,u=l.publicFeed,h=l.hasNewStories,p=l.publicDogs,O=c.appState.darkmode;return Object(a.h)(t,null,n&&Object(a.h)(b.a,null,Object(a.h)(m.default,{stores:this.props.stores,teamid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam})),i&&Object(a.h)(b.a,null,Object(a.h)(f.default,{stores:this.props.stores,dogid:i,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:p})),Object(a.h)("div",{class:"w-100"},h&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 d-flex justify-content-center fixed-top",style:"margin-top: "+j+";"},Object(a.h)("button",{class:"btn btn-sm btn-primary rounded-pill",onClick:this.reloadStories},"New stories"))),Object(a.h)(d.a,{data:u,wrapperClassNames:"row pb-1",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(O?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:y,handleIntersection:r,sessionid:o}),s&&Object(a.h)("div",{class:"d-flex justify-content-center"},Object(a.h)("div",{class:"spinner-border text-primary",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")))))},s}(a.Component))||n;e.a=w}).call(this,s("hosL").Fragment)},pJjI:function(t,e,s){"use strict";(function(t){var r,o=s("hosL"),n=s("Utv1"),a=s("/eY4"),i=s("OhSV"),c=(s("/DnB"),Object(a.a)(r=function(e){function s(){for(var t,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).toggleTeam=function(e){var s=t.props,r=s.callback,o=s.unsetTeamIfSelected,a=t.props.stores,i=a.dogStore,c=a.workoutStore;(void 0===o||o)&&e===i.currentTeam?(i.setCurrentTeam(void 0),c.setCurrentTeam(void 0)):(i.setCurrentTeam(e),c.setCurrentTeam(e)),n.a.isDefined(r)&&r()},t.showAllTeams=function(){var e=t.props.callback,s=t.props.stores,r=s.workoutStore;s.dogStore.setCurrentTeam(void 0),r.setCurrentTeam(void 0),n.a.isDefined(e)&&e()},t}var r,a;return a=e,(r=s).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,s.prototype.render=function(){var e=this,s=this.props.stores,r=s.userStore.teams,n=s.dogStore.currentTeam,a=this.props,c=a.highlight,l=a.showAll,u=void 0===l||l;return Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"w-100 overflow-hidden"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;"},r&&r.map((function(s,a){var i;return 1===r.length?i="rounded-pill-both":0===a?i="rounded-pill-left":a+1===r.length&&(i="rounded-pill-right"),Object(o.h)("div",{class:"col mb-0 px-0 clearfix",key:s.id},Object(o.h)("button",{class:"btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none "+i+"\n\t\t\t\t\t\t\t\t\t\t\t"+(n===s.id?"btn-success":"btn-outline-success")+"\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:function(){return e.toggleTeam(s.id)}},Object(o.h)("i",{class:"fas fa-users"})," ",s.name,c&&c.indexOf(s.id)>-1&&Object(o.h)(t,null,n===s.id?Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-check float-right"})):Object(o.h)(t,null,Object(o.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(o.h)("span",{class:"sr-only"},"Loading...")),Object(o.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))}))),u&&Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(o.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(o.h)("i",{class:"fas fa-users"})," ",Object(o.h)(i.c,{id:"teams.show-all"},"Show all"))))))},s}(o.Component))||r);e.a=c}).call(this,s("hosL").Fragment)},"qv+O":function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),u=s("OhSV"),h=s("fh8t"),p=s.n(h),d=s("ZOvn"),b={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},m={isLoading:!1},f=Object(l.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleRaces=function(){return new Promise((function(t,e){var r,o,n;return s.setState({hideRaces:n=(void 0===(o=(r=s.props.stores.userStore).user.toggleFeature)?{}:o).racesFrontpage?0:1}),Promise.resolve(r.setToggleFeature({field:"toggleFeature.racesFrontpage",value:n})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.scrollRaces=function(t){var e=t.target,r=e.scrollLeft/e.clientWidth,o=Math.round(r),n=Math.abs(o-r);(Number.isInteger(r)||n<.5)&&s.setState({raceIdx:o})},s.state=o(o({},m),{},{raceIdx:0}),s}var r,n;n=e,(r=s).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var a=s.prototype;return a.loadRace=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),this.setState({isLoading:!0}),Promise.resolve(t.stores.raceStore.load({query:{relevant:1}})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},a.componentDidMount=function(){this.loadRace()},a.render=function(){var e=this.props.stores,s=e.userStore,r=s.isAdmin,o=s.user,n=e.raceStore.races,a=void 0===n?[]:n,l=e.appState.darkmode,h=this.state,m=h.hideRaces,f=h.raceIdx,O=o.toggleFeature,g=void 0===O?{}:O,j=o.language,v=void 0===j?"en":j,y=new Date;return a&&0!==a.length?Object(i.h)("div",{class:"row"},m||g.racesFrontpage?Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 bg-"+(l?"black":"white")+" rounded-lg position-relative px-0"},Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-lg btn-block btn-link",onClick:this.toggleRaces},Object(i.h)("i",{class:"fas fa-flag-checkered"})," ",Object(i.h)(u.c,{id:"races.show-races"},"Show Races")," ",a.length>1&&Object(i.h)(t,null,"- ",a.length))))))):Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 position-relative"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollRaces},a&&a.map((function(e,s){var o="";return y>=new Date(e.startDate)&&y<=new Date(e.endDate)?o="race":y>=new Date(e.signupStartDate)&&y<=new Date(e.signupEndDate)?o="signup":y>new Date(e.endDate)&&(o="done"),Object(i.h)(t,null,Object(i.h)("div",{class:"col-"+(1===a.length?"12":"8 ml-4")+" "+(a.length===s+1?"mr-5":"")+" mb-0 bg-"+(l?"black":"white")+" rounded-lg position-relative",style:"\n                                                    scroll-snap-align: center;\n                                                    flex-wrap: wrap;\n                                                    overflow-y: hidden;\n                                                ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(i.h)("div",{class:"row d-flex align-items-center position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===o&&!e.liveRace&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(i.h)(u.c,{id:"races.signup-open"},"PÃ¥melding Ã¥pen"))),"race"===o&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(i.h)(u.c,{id:"races.race-in-progress"},"LÃ¸p pÃ¥gÃ¥r"))),"done"===o&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-success border border-white ml-2"},Object(i.h)(u.c,{id:"races.race-finished"},"LÃ¸p avsluttet")))),e.images&&e.images[0]&&Object(i.h)(t,null,Object(i.h)("div",{class:"w-100",style:'background-image: url("'+e.images[0].s3LargeLink+'"); background-size: cover; height: 100px; background-repeat: no-repeat; background-position: 50% 50%;',onClick:function(){return route("/app-races/"+e.id)}}))),Object(i.h)("div",{class:"position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===o&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===o&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===o&&Object(i.h)(t,null,Object(i.h)("span",null,Object(i.h)("i",{class:"fas fa-check text-success"})))),Object(i.h)("h5",{class:"pt-2"},r&&Object(i.h)("i",{class:"fas fa-eye"+(e.active?" text-success":"-slash text-danger")+" float-right"}),Object(i.h)("a",{href:"/app-races/"+e.id},e.title))),Object(i.h)("div",{class:"w-100"},Object(i.h)(p.a,{markdown:d.a.replaceImages(e.ingress,e.images,v),markdownOpts:b})),Object(i.h)("div",{class:"w-100"},e.classes&&Object(i.h)(t,null,Object(i.h)("div",{class:"mb-3"},Object(i.h)("small",{class:"font-weight-lighter mr-2"},Object(i.h)(u.c,{id:"races.classes"},"Klasser"),": "),Object(i.h)("br",null),Object(i.h)("div",{class:"w-100 position-relative"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;"},e.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},e.title))}))))))),Object(i.h)("div",{class:"w-100 d-flex justify-content-between"},Object(i.h)("a",{href:"/app-races/"+e.id+"/tracking",class:"btn btn-primary"},Object(i.h)(u.c,{id:"races.tracking"},"Tracking"),Object(i.h)("i",{class:"fas fa-map-marked ml-2"})),Object(i.h)("a",{href:"/app-races/"+e.id,class:"btn btn-primary"},Object(i.h)(u.c,{id:"races.read-more"},"Les mer"),Object(i.h)("i",{class:"fas fa-angle-double-right ml-2"}))),Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)(u.c,{id:"races.race-days"},"LÃ¸psdager"),": ",e.startDate&&Object(i.h)(t,null,c.a.formatDate(e.startDate,{locale:v})),e.endDate&&Object(i.h)(t,null," - ",c.a.formatDate(e.endDate,{locale:v}))))))})))),a&&a.length>1&&Object(i.h)(t,null,Object(i.h)("div",{class:"w-100 text-center"},Object(i.h)("small",null,Object(i.h)("small",null,a&&a.map((function(e,s){return Object(i.h)(t,null,Object(i.h)("i",{class:(s===f?"fas":"far")+" fa-circle mr-1"}))}))))),Object(i.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(i.h)("small",null,f+1," / ",a.length))),Object(i.h)("div",{class:"col-12 mb-1 bg-"+(l?"black":"white")+" rounded-lg position-relative"},Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-link",onClick:this.toggleRaces},Object(i.h)("i",{class:"fas fa-angle-up"})," ",Object(i.h)(u.c,{id:"races.hide"},"Hide Races")))))))):""},s}(i.Component))||a;e.a=f}).call(this,s("hosL").Fragment)},w93r:function(t,e,s){"use strict";(function(t){var r,o=s("hosL"),n=s("/eY4"),a=s("Utv1"),i=s("OhSV"),c=(s("X9Km"),s("QkTp")),l=s("ZOvn"),u=Object(n.a)(r=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleyrWeather=function(){s.setState({showWeather:!s.state.showWeather})},s.state={},s.inputRef={},s}var r,n;n=e,(r=s).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var u=s.prototype;return u.loadWeather=function(){return new Promise(function(t){var e=this.props.stores.userStore;this.setState({isLoading:!0});var s=e.user;if(s.currentLocationInfo&&s.currentLocationInfo.coords){var r=s.currentLocationInfo.coords;e.getWeatherUser({lat:r.latitude,lon:r.longitude,altitude:r.altitude}),e.formatWeather()}return t()}.bind(this))},u.componentDidMount=function(){this.loadWeather()},u.render=function(){var e=this,s=this.props.stores.userStore,r=s.yrWeather,n=s.yrWeatherKeys,u=s.yrWeatherFormatted,h=s.user.currentLocationGeocode;return r&&this.props.place?this.state.showWeather?Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4"},h&&h.formatted_address&&Object(o.h)("h5",null,h.formatted_address),Object(o.h)("div",{class:"table-responsive",onTouchstart:l.a.captureEvents,onTouchend:l.a.captureEvents,onTouchmove:l.a.captureEvents,onScroll:l.a.captureEvents},Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{class:"text-center"},"Â "),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.night"},"Night")),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.morning"},"Morning")),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.afternoon"},"Afternoon")),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.evening"},"Evening")),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.temp"},"Temp")),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.rainfall"},"Rainfall")),Object(o.h)("th",{class:"text-center"},Object(o.h)(i.c,{id:"weather.wind"},"Wind")))),Object(o.h)("tbody",null,n&&n.map((function(s){return Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,s)),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,a.a.getNestedValue(u[s].night,"next_6_hours.summary.symbol_code")&&Object(o.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].night,"next_6_hours.summary.symbol_code")+".svg"}))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,a.a.getNestedValue(u[s].morning,"next_6_hours.summary.symbol_code")&&Object(o.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].morning,"next_6_hours.summary.symbol_code")+".svg"}))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,a.a.getNestedValue(u[s].day,"next_6_hours.summary.symbol_code")&&Object(o.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].day,"next_6_hours.summary.symbol_code")+".svg"}))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,a.a.getNestedValue(u[s].evening,"next_6_hours.summary.symbol_code")&&Object(o.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].evening,"next_6_hours.summary.symbol_code")+".svg"}))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-temperature-low text-muted ml-1 mr-2"}),Object(o.h)("span",{class:l.a.getTemperatureColor(a.a.getNestedValue(u[s],"air_temperatures_min"))},Object(o.h)(c.a,{stores:e.props.stores,value:a.a.getNestedValue(u[s],"air_temperatures_min")})),Object(o.h)("span",{class:"text-muted font-weight-lighter mx-1"},"-"),Object(o.h)("span",{class:l.a.getTemperatureColor(a.a.getNestedValue(u[s],"air_temperatures_max"))},Object(o.h)(c.a,{stores:e.props.stores,value:a.a.getNestedValue(u[s],"air_temperatures_max")})))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,a.a.format(a.a.getNestedValue(u[s],"precipitation_amount"),1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"mm"))),Object(o.h)("td",{class:"text-center"},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",Object(o.h)("span",{class:l.a.getWindSpeedColor(a.a.getNestedValue(u[s],"wind_speeds_min"))},a.a.format(a.a.getNestedValue(u[s],"wind_speeds_min"),1))," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"-")," ",Object(o.h)("span",{class:l.a.getWindSpeedColor(a.a.getNestedValue(u[s],"wind_speeds_max"))},a.a.format(a.a.getNestedValue(u[s],"wind_speeds_max"),1))," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"m/s")))))}))))),Object(o.h)("button",{type:"button",class:"btn btn-block btn-primary btn-sm",onClick:this.toggleyrWeather},Object(o.h)("i",{class:"fas fa-times-circle"})," ",Object(o.h)(i.c,{id:"weather.close"},"Close"))):Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},r&&r.length>0&&Object(o.h)("div",{class:"container-fluid px-0"},Object(o.h)("div",{class:"row",onClick:this.toggleyrWeather},r&&r.length>0&&r.slice(0,1).map((function(t){return Object(o.h)("div",{class:"col-12 text-right"},Object(o.h)("nobr",null,Object(o.h)("small",{class:"font-weight-light text-muted"},a.a.isoTime(t.time)),":",Object(o.h)("img",{src:"./assets/svg/"+a.a.getNestedValue(t,"next_1_hours.summary.symbol_code")+".svg",class:"ml-2",style:"height: 20px;"}),a.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")>0&&Object(o.h)("small",{class:"ml-2"},a.a.getNestedValue(t,"next_1_hours.details.precipitation_amount"),Object(o.h)("span",{class:"text-muted font-weight-lighter"},"mm")),Object(o.h)("small",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-temperature-low text-muted"})," ",Object(o.h)(c.a,{stores:e.props.stores,value:a.a.getNestedValue(t,"instant.details.air_temperature")})),Object(o.h)("small",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-wind text-muted"})," ",a.a.getNestedValue(t,"instant.details.wind_speed"),Object(o.h)("span",{class:"text-muted font-weight-lighter"},"m/s")," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},l.a.windDirection(a.a.getNestedValue(t,"instant.details.wind_from_direction"))))),Object(o.h)("br",null))}))))):""},s}(o.Component))||r;e.a=u}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-home.chunk.7985e.js.map