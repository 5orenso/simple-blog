!function(e){function t(t){for(var s,a,o=t[0],n=t[1],r=0,c=[];r<o.length;r++)a=o[r],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&c.push(i[a][0]),i[a]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);for(l&&l(t);c.length;)c.shift()()}function s(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}var a={},i={0:0};s.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,s){a=i[e]=[t,s]}));t.push(a[2]=o);var n,r=document.createElement("script");r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.src=function(e){return s.p+""+({2:"route-app-races",3:"route-dogs",4:"route-grant-access",5:"route-home",6:"route-inbox",7:"route-logout",8:"route-news",9:"route-public",10:"route-search",11:"route-settings",12:"route-stories",13:"route-teams",14:"route-tracks",15:"route-users",16:"route-veterinary",17:"route-workouts"}[e]||e)+".chunk."+{2:"d745e",3:"5a3dd",4:"2d187",5:"0f517",6:"fc5a6",7:"4ebee",8:"d7709",9:"05a56",10:"f8f18",11:"3f59f",12:"ce92c",13:"9cafa",14:"85400",15:"60e91",16:"23b3c",17:"ee419"}[e]+".esm.js"}(e);var l=new Error;n=function(t){r.onerror=r.onload=null,clearTimeout(c);var s=i[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,s[1](l)}i[e]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:r})}),12e4);r.onerror=r.onload=n,document.head.appendChild(r)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/global/themusher/",s.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],n=o.push.bind(o);o.push=t,o=o.slice();for(var r=0;r<o.length;r++)t(o[r]);var l=n;s(s.s="mdyV")}({"+5/p":function(e,t,s){"use strict";var a=s("Fcif"),i=s("7L9N"),o=s("ivZ3"),n=s("l8WD"),r=s("GdJW"),l=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=new o.Marker(e.position,this.getOptions(e));return this.contextValue=Object(a.a)(Object(a.a)({},e.leaflet),{},{popupContainer:t}),t},s.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},s.render=function(){var e=this.props.children;return null==e||null==this.contextValue?null:n.default.createElement(r.b,{value:this.contextValue},e)},t}(s("6rtB").a);t.a=Object(r.d)(l)},"+CFY":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("Y3FI"),s("OhSV")),d=(s("fh8t"),s("X9Km"),s("ZOvn")),h=(s("NDEG"),s("eQ6k"),s("rWES")),u=s("jtG4"),p=s("5TgH"),m=s("XPU5");const b=d.a.marginTop(!0),f=(d.a.marginTopBack(!1),d.a.marginBottom()),g={requestSent:{},submenu:"notfollowing"};let O=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g),this.updateTimer={}}async loadAll(e=this.props){await this.loadPublicTeams(e)}async loadPublicTeams(e=this.props){const{teamStore:t}=e.stores;await t.loadPublic({})}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.dog!==this.props.dog&&this.loadAll(e)}render(){const{submenu:t}=this.state,{teamStore:s,userStore:a}=this.props.stores,{user:i}=a,{language:o="en"}=i,{publicTeamsToFollow:l}=s,d=l.filter(e=>e.followRequests&&e.followRequests.findIndex(e=>e.id===i.id)>-1),g=l.filter(e=>e.followers&&e.followers.indexOf(i.id)>-1),O=l.filter(e=>!(e.members&&e.members.findIndex(e=>e.id===i.id)>-1)&&(!(d.findIndex(t=>t.id===e.id)>-1)&&!(g.findIndex(t=>t.id===e.id)>-1)));return Object(n.h)(e,null,Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${f}; margin-top: ${b};`},Object(n.h)(c.b,null,Object(n.h)(p.a,{stores:this.props.stores,title:Object(n.h)(c.c,{id:"home.find-teams"},"Find teams to follow"),backtext:Object(n.h)(c.c,{id:"home.back"},"Back")})),Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12"},Object(n.h)(h.a,{stores:this.props.stores}))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"notfollowing"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"notfollowing",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(c.c,{id:"teams.notfollowing"},"Not following"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"waiting"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"waiting",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(n.h)(c.c,{id:"teams.waiting-approval"},"Waiting for approval"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:`btn btn-block ${"following"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"following",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(n.h)(c.c,{id:"teams.following"},"Following")))))),Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},"notfollowing"===t&&Object(n.h)(e,null,(!r.a.isArray(O)||0===O.length)&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-search"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.no-more-teams-to-follow"},"No more teams to follow."))),Object(n.h)(m.a,{stores:this.props.stores,forceShow:!0})),r.a.isArray(O)&&O.map(e=>Object(n.h)(u.a,{stores:this.props.stores,team:e}))),"waiting"===t&&Object(n.h)(e,null,(!r.a.isArray(d)||0===d.length)&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-check"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.no-pending-follow-requests"},"No pending follow requests.")))),Object(n.h)(m.a,{stores:this.props.stores,forceShow:!0}),r.a.isArray(d)&&d.map(e=>Object(n.h)(u.a,{stores:this.props.stores,team:e}))),"following"===t&&Object(n.h)(e,null,(!r.a.isArray(g)||0===g.length)&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-check"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.not-following-any-teams"},"You are not following any teams.")))),Object(n.h)(m.a,{stores:this.props.stores,forceShow:!0}),r.a.isArray(g)&&g.map(e=>Object(n.h)(u.a,{stores:this.props.stores,team:e})))))),Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-ellipsis-h"})),Object(n.h)("div",{style:"line-height: 0.9em;"},Object(n.h)("small",null,Object(n.h)(c.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook."))))))))}})||o;t.a=O}).call(this,s("hosL").Fragment)},"+D+d":function(e,t){"use strict";t.a=function(e){if(!e)throw new Error("Invariant failed")}},"+I+c":function(e,t,s){"use strict";function a(e,t){if(null==e)return{};var s,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t.indexOf(s=o[a])>=0||(i[s]=e[s]);return i}s.d(t,"a",(function(){return a}))},"+JSK":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.toggleLikes=()=>{const{showLikesList:e}=this.state;this.setState({showLikesList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{showLikesList:t}=this.state,{storyStore:s,teamStore:a,workoutStore:i}=this.props.stores,{likes:o,comments:l,type:h="story",onTeamClick:u=(()=>{}),onUserClick:p=(()=>{})}=this.props;return Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},o&&o.length>0&&Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(n.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",o.length),o.slice(0,3).map(t=>{let o,l,c;"story"===h?(o=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===h?(o=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"workout"===h&&(o=i.findPublicUser(t.user),l=i.findPublicTeamByMembers(t.user)),r.a.isArray(l)&&(c=l.find(e=>1===e.public));const p=d.a.getImage({user:o,team:c,priority:"user"}),m=d.a.displayNameShort(o);return Object(n.h)(e,null,c?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+c.uuidv4,title:c.name,onClick:e=>u(e,c.uuidv4)},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(p?`background-image: url("${p}"); background-size: cover;`:"")},!p&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m)))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p}"); background-size: cover;`:"")+" opacity: 0.5;"},!p&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m))))}),o.length>3&&Object(n.h)(e,null,Object(n.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(n.h)(c.c,{id:"likes-comments.and",fields:{total:o.length-3}},"and ",o.length-3," others."))))),l&&l.length>0&&Object(n.h)("span",{class:"float-right text-muted"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",l.length)),t&&Object(n.h)("div",{class:"mt-3 mb-3"},o&&o.map(t=>{let o,l,c;"story"===h?(o=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===h?(o=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"workout"===h&&(o=i.findPublicUser(t.user),l=i.findPublicTeamByMembers(t.user)),r.a.isArray(l)&&(c=l.find(e=>1===e.public));const p=d.a.getImage({user:o,team:c,priority:"user"}),m=d.a.displayNameShort(o),b=d.a.displayName(o,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},c?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+c.uuidv4,title:c.name,onClick:e=>u(e,c.uuidv4),class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(p?`background-image: url("${p}"); background-size: cover;`:"")},!p&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m))),Object(n.h)("div",{class:"ml-2 "},b," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",c.name))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p}"); background-size: cover;`:"")+" opacity: 0.5;"},!p&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m)),Object(n.h)("div",{class:"ml-2"},b)))})))}})||o;t.a=u}).call(this,s("hosL").Fragment)},"+Sdk":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.loadResults=async function(){const{adminStore:e}=t.props.stores;await e.getUserInviteResults()}}async loadAll(){this.setState({isLoading:!0}),await this.loadResults(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{adminStore:t}=this.props.stores,{inviteResults:s}=t;return Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"Competition results"),Object(i.h)("div",null,Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Invite Date"),Object(i.h)("th",null,"Invitee"),Object(i.h)("th",null,"Invited"),Object(i.h)("th",null,"activities"),Object(i.h)("th",null,"last activity"),Object(i.h)("th",null,"teams"))),Object(i.h)("tbody",null,s&&s.map(t=>Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("td",null,o.a.isoDate(t.date)),Object(i.h)("td",null,t.user.email," (",t.user.activities,")"),Object(i.h)("td",null,t.invitedUser.email,Object(i.h)("br",null),Object(i.h)("span",{class:"ml-2 font-weight-lighter"},t.invitedUser.username),Object(i.h)("span",{class:"ml-2 font-weight-lighter"},t.invitedUser.firstname," ",t.invitedUser.lastname)),Object(i.h)("td",null,t.invitedUser.activities),Object(i.h)("td",null,t.invitedUser.lastActivityEpoch?o.a.isoDate(t.invitedUser.lastActivityEpoch):""),Object(i.h)("td",null,t.teams&&t.teams.map(t=>Object(i.h)(e,null,Object(i.h)("span",{class:"ml-3"},t.name,Object(i.h)("i",{class:"fas fa-users text-muted ml-3"})," ",t.members.length,Object(i.h)("i",{class:"fas fa-dog text-muted ml-3"})," ",t.dogs.length,Object(i.h)("i",{class:"fas fa-running text-muted ml-3"})," ",t.workouts.length),Object(i.h)("br",null)))))))))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},"+TRv":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const c={showAddComment:!1};let d=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c),this.updateTimer={},this.inputRef={}}async loadHeatmap(){this.setState({isLoading:!0});const{adminStore:e}=this.props.stores;await e.getHeatmap(),this.setState({isLoading:!1})}componentDidMount(){this.loadHeatmap()}render(){const{adminStore:t}=this.props.stores,{heatmap:s}=t;return Object(n.h)(e,null,Object(n.h)(l.a,{stores:this.props.stores,mapId:s.length,heatmap:s,minZoom:2,height:800}))}})||o;t.a=d}).call(this,s("hosL").Fragment)},"+Vuz":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(s("2JTI")),l=a(s("p3hn")),c=a(s("MlNc")),d=a(s("IpmI")),h=a(s("ntdL"));t.default=function e(t){if((0,r.default)(t))return Number(t);if((0,l.default)(t))return(0,c.default)(t);if((0,d.default)(t)){var s=(0,h.default)(t);return Array.isArray(t)?t.map((function(t,s){return[0,1].includes(s)?e(t):t})):o(o(o({},t),s.latitude&&n({},s.latitude,e(t[s.latitude]))),s.longitude&&n({},s.longitude,e(t[s.longitude])))}return Array.isArray(t)?t.map((function(t){return(0,d.default)(t)?e(t):t})):t}},"/4LU":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("u28A"),o=a(s("f3B/")),n=a(s("+Vuz"));t.default=function(e,t){var s=(0,o.default)(e,i.longitudeKeys);if(null!=s){var a=e[s];return!0===t?a:(0,n.default)(a)}}},"/922":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("om2D"),d=(s("ETxl"),s("ZOvn"));let h=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),inputRefObject:a={}}=t.props,{workout:i}=t.props,{workoutStore:o}=t.props.stores,{comment:n,showAddImage:r}=t.state;t.setState({sendButtonEnabled:!1});const l=await o.commentWorkout({id:i.id,comment:n});l&&200===l.status&&(t.setState({comment:{body:"",images:[]}},()=>{d.a.resizeTextarea(a[i.id]),r&&t.addImage()}),s({workout:i,response:l})),t.setState({sendButtonEnabled:!0})},this.addImages=({value:e})=>{const{comment:t}=this.state;t.images.push(...e),this.setState({comment:t})},this.addImage=()=>{const{showAddImage:e=!1}=this.state;this.setState({showAddImage:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t,col:s=12,offset:a=0,showAvatar:n=!0,extraClass:h="",workout:u}=this.props,{comment:p,showAddImage:m,sendButtonEnabled:b}=this.state,{userStore:f}=this.props.stores,{user:g={}}=f,O=g.firstname?`${o.a.ucfirst(g.firstname,!0)}${o.a.ucfirst(g.lastname,!0)}`:""+o.a.ucfirst(g.email||"",!0),v=g.image||(g.images?g.images[0]:void 0);return Object(i.h)("div",{class:`col-${s} offset-${a} ${h}`},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},n&&Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(v?`background-image: url('${v.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!g.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:p.body,ref:t})),Object(i.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(i.h)("i",{class:"fas fa-image pointerCursor","data-id":u.id,onClick:this.addImage})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:`btn btn-${b?"primary":"secondary"} mb-2`,disabled:!b,onClick:this.commentWorkout},Object(i.h)("i",{class:"fas fa-paper-plane"})))))),m&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},p.images&&p.images.map(e=>Object(i.h)("div",{class:"col-3 p-1"},Object(i.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(i.h)("i",{class:"fas fa-trash"}),"  ",Object(i.h)(r.c,{id:"comments.remove-image"},"Remove")))))),Object(i.h)(c.a,{object:p,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded}))))}})||a;t.a=h}).call(this,s("hosL").Fragment)},"/F9p":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=s("OhSV"),r=(s("ZOvn"),s("bbv7"));let l=Object(o.a)(a=class extends i.Component{render(){const{teamStore:t}=this.props.stores,{graphFitness:s,graphFatigue:a,graphForm:o}=t;if(!s||0===s.length)return"";const l=o.map(e=>e.date),c=Math.floor(l.length/4),d=[];for(let e=0,t=l.length;e<t;e+=c)d.push(l[e]);return d[d.length-1]=l[l.length-1],Object(i.h)(e,null,Object(i.h)("h5",null,Object(i.h)(n.c,{id:"teams.fitness"},"Form og belastning")),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(n.b,null,Object(i.h)(r.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicks:d,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:[s,a],dataFillLeft:[1],legendLeft:[Object(i.h)(n.c,{id:"teams.legend-fitness"},"Fitness"),Object(i.h)(n.c,{id:"teams.legend-fatigue"},"Fatigue")],dataRight:[o],legendRight:[Object(i.h)(n.c,{id:"teams.legend-form"},"Form")],showYTicksLeft:1,avgWindowLeft:[0,0],smoothLeft:[0,0],showYTicksRight:1,scrollToRight:!0}))))}})||a;t.a=l}).call(this,s("hosL").Fragment)},"/IQw":function(e,t,s){const a=s("ffMB"),{defaults:i}=s("bixo"),{inline:o}=s("Jzis"),{findClosingBracket:n,escape:r}=s("AkNA");e.exports=class e{constructor(e,t){if(this.options=t||i,this.links=e,this.rules=o.normal,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.rules=this.options.breaks?o.breaks:o.gfm)}static get rules(){return o}static output(t,s,a){return new e(s,a).output(t)}output(t){let s,a,i,o,l,c,d="";for(;t;)if(l=this.rules.escape.exec(t))t=t.substring(l[0].length),d+=r(l[1]);else if(l=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(l[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(l[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.inRawBlock=!1),t=t.substring(l[0].length),d+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):r(l[0]):l[0]);else if(l=this.rules.link.exec(t)){const a=n(l[2],"()");if(a>-1){const e=(0===l[0].indexOf("!")?5:4)+l[1].length+a;l[2]=l[2].substring(0,a),l[0]=l[0].substring(0,e).trim(),l[3]=""}t=t.substring(l[0].length),this.inLink=!0,i=l[2],this.options.pedantic?(s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i),s?(i=s[1],o=s[3]):o=""):o=l[3]?l[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),d+=this.outputLink(l,{href:e.escapes(i),title:e.escapes(o)}),this.inLink=!1}else if((l=this.rules.reflink.exec(t))||(l=this.rules.nolink.exec(t))){if(t=t.substring(l[0].length),s=(l[2]||l[1]).replace(/\s+/g," "),s=this.links[s.toLowerCase()],!s||!s.href){d+=l[0].charAt(0),t=l[0].substring(1)+t;continue}this.inLink=!0,d+=this.outputLink(l,s),this.inLink=!1}else if(l=this.rules.strong.exec(t))t=t.substring(l[0].length),d+=this.renderer.strong(this.output(l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.em.exec(t))t=t.substring(l[0].length),d+=this.renderer.em(this.output(l[6]||l[5]||l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.code.exec(t))t=t.substring(l[0].length),d+=this.renderer.codespan(r(l[2].trim(),!0));else if(l=this.rules.br.exec(t))t=t.substring(l[0].length),d+=this.renderer.br();else if(l=this.rules.del.exec(t))t=t.substring(l[0].length),d+=this.renderer.del(this.output(l[1]));else if(l=this.rules.autolink.exec(t))t=t.substring(l[0].length),"@"===l[2]?(a=r(this.mangle(l[1])),i="mailto:"+a):(a=r(l[1]),i=a),d+=this.renderer.link(i,null,a);else if(this.inLink||!(l=this.rules.url.exec(t))){if(l=this.rules.text.exec(t))t=t.substring(l[0].length),d+=this.renderer.text(this.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):r(l[0]):l[0]:r(this.smartypants(l[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===l[2])a=r(l[0]),i="mailto:"+a;else{do{c=l[0],l[0]=this.rules._backpedal.exec(l[0])[0]}while(c!==l[0]);a=r(l[0]),i="www."===l[1]?"http://"+a:a}t=t.substring(l[0].length),d+=this.renderer.link(i,null,a)}return d}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const s=t.href,a=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(s,a,this.output(e[1])):this.renderer.image(s,a,r(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let s,a="",i=0;for(;i<t;i++)s=e.charCodeAt(i),Math.random()>.5&&(s="x"+s.toString(16)),a+="&#"+s+";";return a}}},"/V/i":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("QRet"),s("Utv1")),l=s("/eY4");s("OhSV");const c={};let d=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.toggleFocusOnMusher=e=>{const t=e.target.parentElement.dataset.musherid||e.target.dataset.musherid,{appState:s,raceStore:a}=this.props.stores;s.toggleFocusOnMusher(parseInt(t,10));const{focusOnMushers:i}=s;a.getWorkoutSummaryActiveTeams(i)},this.toggleInfoOnMusher=e=>{const t=e.target.parentElement.dataset.musherid||e.target.dataset.musherid,{appState:s}=this.props.stores;s.toggleInfoOnMusher(parseInt(t,10))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c)}render(){const{raceStore:t,appState:s}=this.props.stores,{team:a={},idx:i}=this.props,{language:o="en",focusOnMushers:l=[],infoOnMushers:c=[]}=s,d=t.getActiveTeamById(a.id),h=t.getWorkoutSummaryByTeam(a.id),u=t.getClassByTeamId(a.id),p=t.getWorkoutResultsByTeam(h,u.distance),m=t.getMusherByTeamId(a.id),b=a.images&&a.images.length>0?a.images[0]:{},f=t.getClassByTeamId(a.id),g=p.distanceKm/u.distance*100,O=g>0?1:0;let v,y,j;d&&d.currentLocation&&d.currentLocation.coords&&(v=3.6*d.currentLocation.coords.speed,y=d.currentLocation.timestamp,j=!0);let w=f.distance-p.distanceKm;return w<0&&(w=0),Object(n.h)(e,null,Object(n.h)("div",{class:"row border-top mt-2",style:"font-size: 0.7em;"},Object(n.h)("div",{class:"col-2 p-0 text-center"},Object(n.h)("h2",null,i+1)),Object(n.h)("div",{class:"col-2 p-0 text-center"},Object(n.h)("div",{class:"text-center text-muted pt-2 h-100",style:`background-image: url("${b.s3SmallLink}"); background-size: cover;`,onClick:this.toggleInfoOnMusher,"data-musherid":a.id},!b.s3SmallLink&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},r.a.ucfirst(String(m.firstname),!0),r.a.ucfirst(String(m.lastname),!0))))),Object(n.h)("div",{class:"col-8"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-6 px-1"},Object(n.h)("span",{class:"font-weight-bold"},m.firstname," ",m.lastname),Object(n.h)("br",null),Object(n.h)("span",{class:"font-weight-lighter"},a.name),Object(n.h)("br",null),f&&f.title&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter"},f.title))),Object(n.h)("div",{class:"col-3 p-0 text-center"},Object(n.h)("span",{class:"font-weight-lighter"},"km"),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 2.0em;"},r.a.format(p.distanceKm,0))),Object(n.h)("div",{class:"col-3 p-0 text-center"},Object(n.h)("span",{class:"font-weight-lighter"},"to finish"),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 2.0em;"},0===w?Object(n.h)("i",{class:"fas fa-flag-checkered text-success"}):Object(n.h)(e,null,r.a.format(w,0))))),Object(n.h)("div",{class:"row border-top"},Object(n.h)("div",{class:"col-3 p-0 text-center"},Object(n.h)("span",{class:"font-weight-lighter"},"Rest"),Object(n.h)("br",null),r.a.secToHms(p.rest)),Object(n.h)("div",{class:"col-3 p-0 text-center"},Object(n.h)("span",{class:"font-weight-lighter"},"Speed"),Object(n.h)("br",null),v?Object(n.h)(e,null,r.a.format(v,1)," km/t"):"-"),Object(n.h)("div",{class:"col-3 p-0 text-center"},Object(n.h)("span",{class:"font-weight-lighter"},"Status"),Object(n.h)("br",null),1===d.isInProgress?Object(n.h)("span",{class:"text-primary"},"running"):"",2===d.isInProgress?Object(n.h)("span",{class:"text-danger"},"resting"):"",0===w?Object(n.h)(e,null,d.isInProgress?"":Object(n.h)("span",{class:"text-success"},"FINISH")):Object(n.h)(e,null,d.isInProgress?"":Object(n.h)(e,null,O?Object(n.h)("span",{class:"text-danger"},"resting"):Object(n.h)("span",{class:"text-muted"},"NYS")))),Object(n.h)("div",{class:"col-3 p-0 text-center align-bottom"},Object(n.h)("h5",null,a.dogs&&a.dogs?r.a.format(a.dogs.length,0):"-"," ",Object(n.h)("i",{class:"fas fa-dog text-muted ml-2"})))))),Object(n.h)("div",{class:"row bg-secondary text-white",style:"font-size: 0.8em;"},Object(n.h)("div",{class:"col-6 text-left",style:"font-size: 0.8em;"},j&&Object(n.h)(e,null,"Updated: ",r.a.formatDistance(y,new Date)," ago")),Object(n.h)("div",{class:"col-6 text-right"},Object(n.h)("span",{class:"float-right",onClick:this.toggleFocusOnMusher,"data-musherid":a.id},l.indexOf(a.id)>-1?Object(n.h)("i",{class:"fas fa-star text-warning"}):Object(n.h)("i",{class:"far fa-star"})),Object(n.h)("span",{class:"float-right mr-2",onClick:this.toggleInfoOnMusher,"data-musherid":a.id},c.indexOf(a.id)>-1?Object(n.h)("i",{class:"fas fa-info-circle text-warning"}):Object(n.h)("i",{class:"fas fa-info-circle"})),j&&d.currentLocation.battery.level>0&&Object(n.h)(e,null,Object(n.h)("span",{class:"float-right mr-2"},Object(n.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2 mr-1"}),r.a.format(100*d.currentLocation.battery.level,0),"%")))))}})||o;t.a=d}).call(this,s("hosL").Fragment)},"/eY4":function(e,t,s){"use strict";(function(e){function a(e){return!(e.prototype&&e.prototype.render||d.Component.isPrototypeOf(e))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.prefix,a=void 0===s?"":s,i=t.suffix,o=void 0===i?"":i,n=e.displayName||e.name||e.constructor&&e.constructor.name||"<component>";return a+n+o}function o(e,t,s,a,i){var o=function(e){var t=Object(h.b)().allowStateChanges;return Object(h.b)().allowStateChanges=e,t}(e),n=void 0;try{n=t(s,a,i)}finally{!function(e){Object(h.b)().allowStateChanges=e}(o)}return n}function n(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e[t],i=O[t],o=a?!0===s?function(){i.apply(this,arguments),a.apply(this,arguments)}:function(){a.apply(this,arguments),i.apply(this,arguments)}:i;e[t]=o}function r(e,t){if(null==e||null==t||"object"!==(void 0===e?"undefined":u(e))||"object"!==(void 0===t?"undefined":u(t)))return e!==t;var s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(var a=void 0,i=s.length-1;a=s[i];i--)if(t[a]!==e[a])return!0;return!1}function l(e){var t,s;if(arguments.length>1&&g.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),!0===e.isMobxInjector&&g.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),a(e))return l((s=t=function(t){function s(){return b(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return m(s,t),p(s,[{key:"render",value:function(){return e.call(this,this.props,this.context)}}]),s}(d.Component),t.displayName=i(e),s));if(!e)throw new Error("Please pass a valid component to 'observer'");var o=e.prototype||e;return c(o),e.isMobXReactObserver=!0,e}function c(e){n(e,"componentWillMount",!0),n(e,"componentDidMount"),e.shouldComponentUpdate||(e.shouldComponentUpdate=O.shouldComponentUpdate)}s.d(t,"a",(function(){return l}));var d=s("hosL"),h=s("cneo"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),m=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},f=!1,g=console,O={componentWillMount:function(){function e(e){var t=this[e],s=Object(h.g)("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return s.reportObserved(),t},set:function(e){!n&&r(t,e)?(t=e,a=!0,s.reportChanged(),a=!1):t=e}})}var t=this;if(!0!==f){var s=i(this),a=!1,n=!1;e.call(this,"props"),e.call(this,"state");var l=this.render.bind(this),c=null,u=!1,p=function(e,t,s){u=!1;var a=void 0,i=void 0;if(c.track((function(){try{i=o(!1,l,e,t,s)}catch(e){a=e}})),a)throw a;return i};this.render=function(){return(c=new h.a(s+".render()",(function(){if(!u&&(u=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t.__$mobxIsUnmounted)){var e=!0;try{n=!0,a||d.Component.prototype.forceUpdate.call(t),e=!1}finally{n=!1,e&&c.dispose()}}}))).reactComponent=t,p.$mobx=c,t.render=p,p(t.props,t.state,t.context)}}},componentWillUnmount:function(){!0!==f&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0)},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(e,t){return f&&g.warn("[mobx-preact] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||r(this.props,e)}};l((function(e){return e.children[0]()})).displayName="Observer";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self,function(e,t){e(t={exports:{}},t.exports)}((function(e){var t,s,a,i,o,n,r,l;e.exports=(t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,i=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,n=Object.getOwnPropertyDescriptor,l=(r=Object.getPrototypeOf)&&r(Object),function e(c,d,h){if("string"!=typeof d){if(l){var u=r(d);u&&u!==l&&e(c,u,h)}var p=i(d);o&&(p=p.concat(o(d)));for(var m=0;m<p.length;++m){var b=p[m];if(!(t[b]||s[b]||h&&h[b])){var f=n(d,b);try{a(c,b,f)}catch(e){}}}return c}return c})}));var v={children:!0,key:!0,ref:!0},y=console;!function(e){function t(){return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,e),p(t,[{key:"render",value:function(e){var t=e.children;return t.length>1?Object(d.h)("div",null," ",t," "):t[0]}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var s in t)e[s]=t[s];for(var a in this.props)v[a]||"suppressChangedStoreWarning"===a||(e[a]=this.props[a]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&y.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var t in e)v[t]||this.props[t]===e[t]||y.warn("MobX Provider: Provided store '"+t+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}])}(d.Component);if(!d.Component)throw new Error("mobx-preact requires Preact to be available")}).call(this,s("pCvA"))},"/kKD":function(e,t,s){"use strict";var a=s("7L9N"),i=s("ivZ3"),o=s("GdJW"),n=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new i.GeoJSON(e.data,this.getOptions(e))},s.updateLeafletElement=function(e,t){"function"==typeof t.style?this.leafletElement.setStyle(t.style):this.setStyleIfChanged(e,t)},t}(s("Kttx").a);t.a=Object(o.d)(n)},"/mwY":function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var a=s("Fcif"),i=s("+I+c"),o=s("0942"),n=s("7L9N"),r=s("mK0O"),l=s("ivZ3"),c=s("l8WD"),d=s("GdJW"),h=s("f6wN"),u=s("EcmK"),p=s("8bJD"),m=["children","className","id","style","useFlyTo","whenReady"],b=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},f=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(r.a)(Object(o.a)(s),"className",void 0),Object(r.a)(Object(o.a)(s),"contextValue",void 0),Object(r.a)(Object(o.a)(s),"container",void 0),Object(r.a)(Object(o.a)(s),"viewport",{center:void 0,zoom:void 0}),Object(r.a)(Object(o.a)(s),"_ready",!1),Object(r.a)(Object(o.a)(s),"_updating",!1),Object(r.a)(Object(o.a)(s),"onViewportChange",(function(){var e=s.leafletElement.getCenter();s.viewport={center:e?[e.lat,e.lng]:void 0,zoom:s.leafletElement.getZoom()},s.props.onViewportChange&&!s._updating&&s.props.onViewportChange(s.viewport)})),Object(r.a)(Object(o.a)(s),"onViewportChanged",(function(){s.props.onViewportChanged&&!s._updating&&s.props.onViewportChanged(s.viewport)})),Object(r.a)(Object(o.a)(s),"bindContainer",(function(e){s.container=e})),s.className=t.className,s}Object(n.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=e.viewport,s=Object(i.a)(e,["viewport"]);return t&&(t.center&&(s.center=t.center),"number"==typeof t.zoom&&(s.zoom=t.zoom)),new l.Map(this.container,s)},s.updateLeafletElement=function(e,t){this._updating=!0;var s=t.bounds,a=t.boundsOptions,i=t.boxZoom,o=t.center,n=t.className,r=t.doubleClickZoom,l=t.dragging,c=t.keyboard,d=t.maxBounds,h=t.scrollWheelZoom,p=t.tap,m=t.touchZoom,b=t.useFlyTo,f=t.viewport,g=t.zoom;if(Object(u.b)(this.container,e.className,n),f&&f!==e.viewport){var O=f.center?f.center:o,v=null==f.zoom?g:f.zoom;!0===b?this.leafletElement.flyTo(O,v,this.getZoomPanOptions(t)):this.leafletElement.setView(O,v,this.getZoomPanOptions(t))}else o&&this.shouldUpdateCenter(o,e.center)?!0===b?this.leafletElement.flyTo(o,g,this.getZoomPanOptions(t)):this.leafletElement.setView(o,g,this.getZoomPanOptions(t)):"number"==typeof g&&g!==e.zoom&&(null==e.zoom?this.leafletElement.setView(o,g,this.getZoomPanOptions(t)):this.leafletElement.setZoom(g,this.getZoomPanOptions(t)));d&&this.shouldUpdateBounds(d,e.maxBounds)&&this.leafletElement.setMaxBounds(d),s&&(this.shouldUpdateBounds(s,e.bounds)||a!==e.boundsOptions)&&(!0===b?this.leafletElement.flyToBounds(s,this.getFitBoundsOptions(t)):this.leafletElement.fitBounds(s,this.getFitBoundsOptions(t))),i!==e.boxZoom&&(!0===i?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),r!==e.doubleClickZoom&&(!0===r||"string"==typeof r?(this.leafletElement.options.doubleClickZoom=r,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),l!==e.dragging&&(!0===l?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),c!==e.keyboard&&(!0===c?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),h!==e.scrollWheelZoom&&(!0===h||"string"==typeof h?(this.leafletElement.options.scrollWheelZoom=h,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),p!==e.tap&&(!0===p?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),m!==e.touchZoom&&(!0===m||"string"==typeof m?(this.leafletElement.options.touchZoom=m,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},s.getZoomPanOptions=function(e){return{animate:e.animate,duration:e.duration,easeLinearity:e.easeLinearity,noMoveStart:e.noMoveStart}},s.getFitBoundsOptions=function(e){var t=this.getZoomPanOptions(e);return Object(a.a)(Object(a.a)({},t),e.boundsOptions)},s.componentDidMount=function(){var t=p.a.apply(void 0,[this.props].concat(m));this.leafletElement=this.createLeafletElement(t),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=t.bounds&&this.leafletElement.fitBounds(t.bounds,this.getFitBoundsOptions(t)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},e.prototype.componentDidMount.call(this),this.forceUpdate()},s.componentDidUpdate=function(t){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),e.prototype.componentDidUpdate.call(this,t),this.updateLeafletElement(t,this.props)},s.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},s.shouldUpdateCenter=function(e,t){return!t||(e=b(e),t=b(t),e[0]!==t[0]||e[1]!==t[1])},s.shouldUpdateBounds=function(e,t){return!t||!Object(l.latLngBounds)(e).equals(Object(l.latLngBounds)(t))},s.render=function(){return c.default.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?c.default.createElement(d.b,{value:this.contextValue},this.props.children):null)},t}(h.b)},"/pNR":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=(s("OhSV"),s("cneo"),s("xNCi"));s("ZOvn");const c={showAddComment:!1};let d=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c),this.updateTimer={},this.inputRef={}}async loadPageView(){this.setState({isLoading:!0});const{adminStore:e}=this.props.stores;await e.getPageViews(),this.setState({isLoading:!1})}componentDidMount(){this.loadPageView()}render(){const{adminStore:t}=this.props.stores,{pageViewsKeys:s}=t;let a=[],i=[],o=[],r=[],c=[],d=[],h=[],u=[],p=[],m=[],b=[],f=[],g=[],O=[],v=[],y=[],j=[],w=[],k=[],x=[];const S=s.map(e=>e.name),_="pageViews-"+S.length;return S.forEach(e=>{e.match(/^(frontpage|feed|news|dashboard)/)&&(a.push("pageViews."+e),i.push(""+e)),e.match(/^(app-races)/)&&(o.push("pageViews."+e),r.push(""+e)),e.match(/^(search)/)&&(c.push("pageViews."+e),d.push(""+e)),e.match(/^(inbox)/)&&(h.push("pageViews."+e),u.push(""+e)),e.match(/^(settings)/)&&(p.push("pageViews."+e),m.push(""+e)),e.match(/^(user|todo|admin)/)&&(b.push("pageViews."+e),f.push(""+e)),e.match(/^dog/)&&(g.push("pageViews."+e),O.push(""+e)),e.match(/^workout/)&&(v.push("pageViews."+e),y.push(""+e)),e.match(/^team/)&&(j.push("pageViews."+e),w.push(""+e)),e.match(/^track/)&&(k.push("pageViews."+e),x.push(""+e))}),Object(n.h)(e,null,Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("h5",null,"frontpage|feed|news|dashboard"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:a,legendLeft:i,key:"frontpage-"+_}),Object(n.h)("h5",null,"app-races"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:o,legendLeft:r,key:"race-"+_}),Object(n.h)("h5",null,"search"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:c,legendLeft:d,key:"search-"+_}),Object(n.h)("h5",null,"inbox"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:h,legendLeft:u,key:"inbox-"+_}),Object(n.h)("h5",null,"settings"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:p,legendLeft:m,key:"settings-"+_}),Object(n.h)("h5",null,"user|todo|admin"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:b,legendLeft:f,key:"users-"+_}),Object(n.h)("h5",null,"dog"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:g,legendLeft:O,key:"dogs-"+_}),Object(n.h)("h5",null,"workout"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:v,legendLeft:y,key:"workouts-"+_}),Object(n.h)("h5",null,"team"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:j,legendLeft:w,key:"teams-"+_}),Object(n.h)("h5",null,"track"),Object(n.h)(l.a,{stores:this.props.stores,fieldsLeft:k,legendLeft:x,key:"tracks-"+_})))}})||o;t.a=d}).call(this,s("hosL").Fragment)},"0942":function(e,t,s){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}s.d(t,"a",(function(){return a}))},"0E5n":function(e,t){!function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,s=this._zoom;if(e.__parent)for(;t.__parent._zoom>=s;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var s,a=this._featureGroup,i=this._nonPointGroup,o=this.options.chunkedLoading,n=this.options.chunkInterval,r=this.options.chunkProgress,l=e.length,c=0,d=!0;if(this._map){var h=(new Date).getTime(),u=L.bind((function(){for(var p=(new Date).getTime();c<l&&!(o&&c%200==0&&(new Date).getTime()-p>n);c++)if((s=e[c])instanceof L.LayerGroup)d&&(e=e.slice(),d=!1),this._extractNonGroupLayers(s,e),l=e.length;else if(s.getLatLng){if(!this.hasLayer(s)&&(this._addLayer(s,this._maxZoom),t||this.fire("layeradd",{layer:s}),s.__parent&&2===s.__parent.getChildCount())){var m=s.__parent.getAllChildMarkers();a.removeLayer(m[0]===s?m[1]:m[0])}}else i.addLayer(s),t||this.fire("layeradd",{layer:s});r&&r(c,l,(new Date).getTime()-h),c===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(u,this.options.chunkDelay)}),this);u()}else for(var p=this._needsClustering;c<l;c++)(s=e[c])instanceof L.LayerGroup?(d&&(e=e.slice(),d=!1),this._extractNonGroupLayers(s,e),l=e.length):s.getLatLng?this.hasLayer(s)||p.push(s):i.addLayer(s);return this},removeLayers:function(e){var t,s,a=e.length,i=this._featureGroup,o=this._nonPointGroup,n=!0;if(!this._map){for(t=0;t<a;t++)(s=e[t])instanceof L.LayerGroup?(n&&(e=e.slice(),n=!1),this._extractNonGroupLayers(s,e),a=e.length):(this._arraySplice(this._needsClustering,s),o.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}));return this}if(this._unspiderfy){this._unspiderfy();var r=e.slice(),l=a;for(t=0;t<l;t++)(s=r[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(s,r),l=r.length):this._unspiderfyLayer(s)}for(t=0;t<a;t++)(s=e[t])instanceof L.LayerGroup?(n&&(e=e.slice(),n=!1),this._extractNonGroupLayers(s,e),a=e.length):s.__parent?(this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),i.hasLayer(s)&&(i.removeLayer(s),s.clusterShow&&s.clusterShow())):(o.removeLayer(s),this.fire("layerremove",{layer:s}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var s,a,i,o=this._needsClustering.slice(),n=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),a=o.length-1;a>=0;a--){for(s=!0,i=n.length-1;i>=0;i--)if(n[i].layer===o[a]){s=!1;break}s&&e.call(t,o[a])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(s){L.stamp(s)===e&&(t=s)})),t},hasLayer:function(e){if(!e)return!1;var t,s=this._needsClustering;for(t=s.length-1;t>=0;t--)if(s[t]===e)return!0;for(t=(s=this._needsRemoving).length-1;t>=0;t--)if(s[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var s=function s(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",s,this),this.off("animationend",s,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",s,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",s,this),this.on("animationend",s,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,s,a;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,s=this._needsRemoving.length;t<s;t++)(a=this._needsRemoving[t]).newlatlng=a.layer._latlng,a.layer._latlng=a.latlng;for(t=0,s=this._needsRemoving.length;t<s;t++)this._removeLayer((a=this._needsRemoving[t]).layer,!0),a.layer._latlng=a.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var s=e.length-1;s>=0;s--)if(e[s]===t)return e.splice(s,1),!0},_removeFromGridUnclustered:function(e,t){for(var s=this._map,a=this._gridUnclustered,i=Math.floor(this._map.getMinZoom());t>=i&&a[t].removeObject(e,s.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,s){e._latlng=t,this.removeLayer(e),e._latlng=s,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,s){var a=this._gridClusters,i=this._gridUnclustered,o=this._featureGroup,n=this._map,r=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,c=e.__parent;for(this._arraySplice(c._markers,e);c&&(c._childCount--,c._boundsNeedUpdate=!0,!(c._zoom<r));)t&&c._childCount<=1?(l=c._markers[0]===e?c._markers[1]:c._markers[0],a[c._zoom].removeObject(c,n.project(c._cLatLng,c._zoom)),i[c._zoom].addObject(l,n.project(l.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(l),l.__parent=c.__parent,c._icon&&(o.removeLayer(c),s||o.addLayer(l))):c._iconNeedsUpdate=!0,c=c.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,s){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,s)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),s=" marker-cluster-";return s+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.on("clusterclick",this._zoomOrSpiderfy,this),t&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,s=t;1===s._childClusters.length;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.showCoverageOnHover,t=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),t.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,a=s;"function"!=typeof s&&(a=function(){return s}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var i=e;i>=t;i--)this._gridClusters[i]=new L.DistanceGrid(a(i)),this._gridUnclustered[i]=new L.DistanceGrid(a(i));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var s,a,i=this._gridClusters,o=this._gridUnclustered,n=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=n;t--){s=this._map.project(e.getLatLng(),t);var r=i[t].getNearObject(s);if(r)return r._addChild(e),void(e.__parent=r);if(r=o[t].getNearObject(s)){var l=r.__parent;l&&this._removeLayer(r,!1);var c=new this._markerCluster(this,t,r,e);i[t].addObject(c,this._map.project(c._cLatLng,t)),r.__parent=c,e.__parent=c;var d=c;for(a=t-1;a>l._zoom;a--)d=new this._markerCluster(this,a,d),i[a].addObject(d,this._map.project(r.getLatLng(),a));return l._addChild(d),void this._removeFromGridUnclustered(r,t)}o[t].addObject(e,s)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var s=t.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var s,a=e.getLayers(),i=0;for(t=t||[];i<a.length;i++)(s=a[i])instanceof L.LayerGroup?this._extractNonGroupLayers(s,t):t.push(s);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var s,a=this._getExpandedVisibleBounds(),i=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(a,e,o,(function(o){var n,r=o._latlng,l=o._markers;for(a.contains(r)||(r=null),o._isSingleParent()&&e+1===t?(i.removeLayer(o),o._recursivelyAddChildrenToMap(null,t,a)):(o.clusterHide(),o._recursivelyAddChildrenToMap(r,t,a)),s=l.length-1;s>=0;s--)a.contains((n=l[s])._latlng)||i.removeLayer(n)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(a,t),i.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(a,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(a,e,o,(function(e){i.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var s=this,a=this._featureGroup;a.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){a.removeLayer(e),e.clusterShow(),s._animationEnd()}))):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,s){var a=this._getExpandedVisibleBounds(),i=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(a,i,t+1,s);var o=this;this._forceLayout(),e._recursivelyBecomeVisible(a,s),this._enqueue((function(){if(1===e._childCount){var n=e._markers[0];this._ignoreMove=!0,n.setLatLng(n.getLatLng()),this._ignoreMove=!1,n.clusterShow&&n.clusterShow()}else e._recursively(a,s,i,(function(e){e._recursivelyRemoveChildrenFromMap(a,i,t+1)}));o._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,s,a){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),a&&this._addChild(a)},getAllChildMarkers:function(e,t){e=e||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(e);for(var a=this._markers.length-1;a>=0;a--)t&&this._markers[a].__dragStart||e.push(this._markers[a]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,s=this._childClusters.slice(),a=this._group._map,i=a.getBoundsZoom(this._bounds),o=this._zoom+1,n=a.getZoom();s.length>0&&i>o;){o++;var r=[];for(t=0;t<s.length;t++)r=r.concat(s[t]._childClusters);s=r}i>o?this._group._map.setView(this._latlng,o):i<=n?this._group._map.setView(this._latlng,n+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,s,a,i=this._markers,o=this._childClusters,n=0,r=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<i.length;e++)this._bounds.extend(s=i[e]._latlng),n+=s.lat,r+=s.lng;for(e=0;e<o.length;e++)(t=o[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n+=(s=t._wLatLng).lat*(a=t._childCount),r+=s.lng*a;this._latlng=this._wLatLng=new L.LatLng(n/l,r/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,s){this._recursively(e,this._group._map.getMinZoom(),s-1,(function(e){var s,a,i=e._markers;for(s=i.length-1;s>=0;s--)(a=i[s])._icon&&(a._setPos(t),a.clusterHide())}),(function(e){var s,a,i=e._childClusters;for(s=i.length-1;s>=0;s--)(a=i[s])._icon&&(a._setPos(t),a.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,s,a){this._recursively(e,a,t,(function(i){i._recursivelyAnimateChildrenIn(e,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),s),i._isSingleParent()&&s-1===a?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(e,t,s)):i.clusterHide(),i._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,s){this._recursively(s,this._group._map.getMinZoom()-1,t,(function(a){if(t!==a._zoom)for(var i=a._markers.length-1;i>=0;i--){var o=a._markers[i];s.contains(o._latlng)&&(e&&(o._backupLatlng=o.getLatLng(),o.setLatLng(e),o.clusterHide&&o.clusterHide()),a._group._featureGroup.addLayer(o))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var s=this._markers[t];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(e-1===this._zoom)for(var a=this._childClusters.length-1;a>=0;a--)this._childClusters[a]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,s,a){var i,o;this._recursively(e,t-1,s-1,(function(e){for(o=e._markers.length-1;o>=0;o--)i=e._markers[o],a&&a.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}),(function(e){for(o=e._childClusters.length-1;o>=0;o--)i=e._childClusters[o],a&&a.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}))},_recursively:function(e,t,s,a,i){var o,n,r=this._childClusters,l=this._zoom;if(t<=l&&(a&&a(this),i&&l===s&&i(this)),l<t||l<s)for(o=r.length-1;o>=0;o--)(n=r[o])._boundsNeedUpdate&&n._recalculateBounds(),e.intersects(n._bounds)&&n._recursively(e,t,s,a,i)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var s=this._getCoord(t.x),a=this._getCoord(t.y),i=this._grid,o=i[a]=i[a]||{},n=o[s]=o[s]||[],r=L.Util.stamp(e);this._objectPoint[r]=t,n.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var s,a,i=this._getCoord(t.x),o=this._getCoord(t.y),n=this._grid,r=n[o]=n[o]||{},l=r[i]=r[i]||[];for(delete this._objectPoint[L.Util.stamp(e)],s=0,a=l.length;s<a;s++)if(l[s]===e)return l.splice(s,1),1===a&&delete r[i],!0},eachObject:function(e,t){var s,a,i,o,n,r,l=this._grid;for(s in l)for(a in n=l[s])for(i=0,o=(r=n[a]).length;i<o;i++)e.call(t,r[i])&&(i--,o--)},getNearObject:function(e){var t,s,a,i,o,n,r,l,c=this._getCoord(e.x),d=this._getCoord(e.y),h=this._objectPoint,u=this._sqCellSize,p=null;for(t=d-1;t<=d+1;t++)if(i=this._grid[t])for(s=c-1;s<=c+1;s++)if(o=i[s])for(a=0,n=o.length;a<n;a++)r=o[a],((l=this._sqDist(h[L.Util.stamp(r)],e))<u||l<=u&&null===p)&&(u=l,p=r);return p},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var s=t.x-e.x,a=t.y-e.y;return s*s+a*a}},L.QuickHull={getDistant:function(e,t){return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+(t[1].lat-t[0].lat)*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var s,a,i,o=0,n=null,r=[];for(s=t.length-1;s>=0;s--)(i=this.getDistant(a=t[s],e))>0&&(r.push(a),i>o&&(o=i,n=a));return{maxPoint:n,newPoints:r}},buildConvexHull:function(e,t){var s=[],a=this.findMostDistantPointFromBaseLine(e,t);return a.maxPoint?s=(s=s.concat(this.buildConvexHull([e[0],a.maxPoint],a.newPoints))).concat(this.buildConvexHull([a.maxPoint,e[1]],a.newPoints)):[e[0]]},getConvexHull:function(e){var t,s=!1,a=!1,i=!1,o=!1,n=null,r=null,l=null,c=null,d=null,h=null;for(t=e.length-1;t>=0;t--){var u=e[t];(!1===s||u.lat>s)&&(n=u,s=u.lat),(!1===a||u.lat<a)&&(r=u,a=u.lat),(!1===i||u.lng>i)&&(l=u,i=u.lng),(!1===o||u.lng<o)&&(c=u,o=u.lng)}return a!==s?(h=r,d=n):(h=c,d=l),[].concat(this.buildConvexHull([h,d],e),this.buildConvexHull([d,h],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,s=this.getAllChildMarkers(),a=[];for(t=s.length-1;t>=0;t--)e=s[t].getLatLng(),a.push(e);return L.QuickHull.getConvexHull(a)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),s=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,s):(s.y+=10,e=this._generatePointsCircle(t.length,s)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var s,a,i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,o=this._2PI/e,n=[];for(i=Math.max(i,35),n.length=e,s=0;s<e;s++)a=this._circleStartAngle+s*o,n[s]=new L.Point(t.x+i*Math.cos(a),t.y+i*Math.sin(a))._round();return n},_generatePointsSpiral:function(e,t){var s,a=this._group.options.spiderfyDistanceMultiplier,i=a*this._spiralLengthStart,o=a*this._spiralFootSeparation,n=a*this._spiralLengthFactor*this._2PI,r=0,l=[];for(l.length=e,s=e;s>=0;s--)s<e&&(l[s]=new L.Point(t.x+i*Math.cos(r),t.y+i*Math.sin(r))._round()),i+=n/(r+=o/i+5e-4*s);return l},_noanimationUnspiderfy:function(){var e,t,s=this._group,a=s._map,i=s._featureGroup,o=this.getAllChildMarkers(null,!0);for(s._ignoreMove=!0,this.setOpacity(1),t=o.length-1;t>=0;t--)i.removeLayer(e=o[t]),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(a.removeLayer(e._spiderLeg),delete e._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:o}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var s,a,i,o,n=this._group,r=n._map,l=n._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(n._ignoreMove=!0,s=0;s<e.length;s++)o=r.layerPointToLatLng(t[s]),a=e[s],i=new L.Polyline([this._latlng,o],c),r.addLayer(i),a._spiderLeg=i,a._preSpiderfyLatlng=a._latlng,a.setLatLng(o),a.setZIndexOffset&&a.setZIndexOffset(1e6),l.addLayer(a);this.setOpacity(.3),n._ignoreMove=!1,n.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var s,a,i,o,n,r,l=this,c=this._group,d=c._map,h=c._featureGroup,u=this._latlng,p=d.latLngToLayerPoint(u),m=L.Path.SVG,b=L.extend({},this._group.options.spiderLegPolylineOptions),f=b.opacity;for(void 0===f&&(f=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(b.opacity=0,b.className=(b.className||"")+" leaflet-cluster-spider-leg"):b.opacity=f,c._ignoreMove=!0,s=0;s<e.length;s++)a=e[s],r=d.layerPointToLatLng(t[s]),i=new L.Polyline([u,r],b),d.addLayer(i),a._spiderLeg=i,m&&(n=(o=i._path).getTotalLength()+.1,o.style.strokeDasharray=n,o.style.strokeDashoffset=n),a.setZIndexOffset&&a.setZIndexOffset(1e6),a.clusterHide&&a.clusterHide(),h.addLayer(a),a._setPos&&a._setPos(p);for(c._forceLayout(),c._animationStart(),s=e.length-1;s>=0;s--)r=d.layerPointToLatLng(t[s]),(a=e[s])._preSpiderfyLatlng=a._latlng,a.setLatLng(r),a.clusterShow&&a.clusterShow(),m&&((o=(i=a._spiderLeg)._path).style.strokeDashoffset=0,i.setStyle({opacity:f}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout((function(){c._animationEnd(),c.fire("spiderfied",{cluster:l,markers:e})}),200)},_animationUnspiderfy:function(e){var t,s,a,i,o,n,r=this,l=this._group,c=l._map,d=l._featureGroup,h=e?c._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):c.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(null,!0),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),s=u.length-1;s>=0;s--)(t=u[s])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,n=!0,t._setPos&&(t._setPos(h),n=!1),t.clusterHide&&(t.clusterHide(),n=!1),n&&d.removeLayer(t),p&&(o=(i=(a=t._spiderLeg)._path).getTotalLength()+.1,i.style.strokeDashoffset=o,a.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var e=0;for(s=u.length-1;s>=0;s--)(t=u[s])._spiderLeg&&e++;for(s=u.length-1;s>=0;s--)(t=u[s])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&d.removeLayer(t),c.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:r,markers:u})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,s;for(t in e)for(s=e[t].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,s;for(t in e)this.hasLayer(s=e[t])&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(e,t){var s=this.options.icon;return L.setOptions(s,e),this.setIcon(s),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=s}(t)},"0G4o":function(e){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},"0N6V":function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=s("OhSV"),r=(s("go65"),s("Y3FI"),s("ZOvn")),l=(s("tJLP"),s("Cjoz"),s("XPU5"),s("Gx/q"),s("4uYi")),c=s("5TgH");const d=r.a.marginTop(!0),h=r.a.marginBottom();r.a.marginTopBack(!1);let u=Object(o.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.search=async function(){const{userStore:e}=t.props.stores,{searchText:s}=t.state;await e.searchUsers({search:s})},this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state={time:Date.now(),count:10}}async loadAll(){await this.loadNotifications(),await this.markNotificationsAsRead()}async loadNotifications(){const{userStore:e,messageStore:t}=this.props.stores;await e.getNotifications(),await t.getUnReadMessages()}async markNotificationsAsRead(){const{userStore:e}=this.props.stores,{notifications:t}=e,s=t.map(e=>e.id);await e.markNotificationsAsRead({ids:s})}componentDidMount(){this.loadAll()}render(){const{showDate:e}=this.state,{userStore:t,appState:s}=this.props.stores,{notifications:a}=t;return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${h}; margin-top: ${d};`},Object(i.h)(n.b,null,Object(i.h)(c.a,{stores:this.props.stores,title:Object(i.h)(n.c,{id:"home.notifications"},"Notifications")})),Object(i.h)("div",{class:"row"},a&&a.map(t=>Object(i.h)(l.a,{stores:this.props.stores,notification:t,showDate:e}))))}})||a;t.a=u},"0SNj":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),l=s("irB3"),c=(s("UwwE"),s("8Lgr"));s("QkTp");let d=Object(n.a)(a=class extends i.Component{constructor(e){super(e),this.state={}}async loadAll(e=this.props){await this.loadTeams(e)}async loadTeams(e=this.props){const{teamStore:t}=e.stores,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),{month:i=s,year:o=a,currentTeam:n}=e;await t.load({query:{team:n,skipMusherWorkoutSummary:!0,year:o,month:i},addData:["workoutSummary"]})}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.year===this.props.year&&e.currentTeam===this.props.currentTeam||this.loadAll(e)}render(){const{teamStore:e}=this.props.stores,t=(new Date).getMonth()+1,s=(new Date).getFullYear(),{month:a=t,year:n=s,currentTeam:d,currentSeason:h,prevSeason:u}=this.props,p=parseInt(a<8?n-1:n,10),m=u||(d?e.findWorkoutSummary(d,p-1):e.findWorkoutSummaryTotal(p-1))||{},b=h||(d?e.findWorkoutSummary(d,p):e.findWorkoutSummaryTotal(p))||{};return Object(i.h)("div",{class:"container-fluid mb-2"},Object(i.h)("div",{class:"row mt-2 border-top"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," ",p,"-",p+1),Object(i.h)("h3",null,Object(i.h)(c.a,{stores:this.props.stores,value:b.distanceKm||0}))),Object(i.h)("div",{class:"col text-center border-left"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," ",p-1,"-",p),Object(i.h)("h3",null,Object(i.h)(c.a,{stores:this.props.stores,value:m.distanceKm||0})))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-mountain"})," ",p,"-",p+1),Object(i.h)("h3",null,Object(i.h)(l.a,{stores:this.props.stores,value:b.elevation||0}))),Object(i.h)("div",{class:"col text-center border-left"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-mountain"})," ",p-1,"-",p),Object(i.h)("h3",null,Object(i.h)(l.a,{stores:this.props.stores,value:m.elevation||0})))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-clock"})," ",p,"-",p+1),Object(i.h)("h3",null,o.a.secToHms(b.duration||0))),Object(i.h)("div",{class:"col text-center border-left"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-clock"})," ",p-1,"-",p),Object(i.h)("h3",null,o.a.secToHms(m.duration||0)))),Object(i.h)("div",{class:"row mt-2 border-bottom"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",p,"-",p+1),Object(i.h)("h3",null,Object(i.h)(r.a,{stores:this.props.stores,value:b.speedAvg||0}))),Object(i.h)("div",{class:"col text-center border-left"},Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",p-1,"-",p),Object(i.h)("h3",null,Object(i.h)(r.a,{stores:this.props.stores,value:m.speedAvg||0})))))}})||a;t.a=d},"0UaJ":function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(7).then(function(){var t=s("wWW4");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},"0frO":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function r(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function l(){0}var c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S,_=s("cneo"),T=s("Utv1");Object(_.f)({enforceActions:"always"});let D=(d=r((c=class{constructor(e,t){n(this,"queryFilter",d,this),n(this,"sort",h,this),n(this,"extendedView",u,this),n(this,"limit",p,this),n(this,"offset",m,this),n(this,"searchResults",b,this),n(this,"totalSearch",f,this),n(this,"searchSelectId",g,this),n(this,"searchSelectIdx",O,this),n(this,"total",v,this),n(this,"totalAppend",y,this),n(this,"saved",j,this),n(this,"view",w,this),n(this,"insertStatus",k,this),n(this,"saveStatus",x,this),n(this,"toggleQueryfilter",S,this),this.name=e,this.namePlural=t.namePlural,this.api=t.api,this.opts=t}update(e,t){if(t)this[this.namePlural]=this[this.namePlural].concat(e);else{JSON.stringify(e)!==JSON.stringify(this[this.namePlural])?(l(),this[this.namePlural]=e):l()}}add(e,t="id"){-1===this[this.namePlural].findIndex(s=>s[t]===e)&&this[this.namePlural].push(e)}get(e,t="id"){const s=this[this.namePlural].findIndex(s=>s[t]===e);return s>=0?this[this.namePlural][s]:null}deleteElement(e,t="id"){this[this.namePlural].findIndex(s=>s[t]===e)>=0&&(this[this.namePlural]=this[this.namePlural].filter(s=>s[t]!==e))}updateKeyValue(e,t){this[e]=t}updateObjectKeyValue(e,t,s){this[e][t]=s}updateSaveStatus(e,t){this.saveStatus[e]=t}updateItem(e){JSON.stringify(e)!==JSON.stringify(this[this.name])?(l(),this[this.name]=e):l()}updateField(e,t,s,a="id"){const i=this[this.namePlural].findIndex(t=>t[a]===e);if(i>=0){T.a.setNestedValue(this[this.namePlural][i],t,s)}this[this.name]&&T.a.setNestedValue(this[this.name],t,s)}updateQueryFilter(e){this.queryFilter=e,T.a.setObject(this.name+"QueryFilter",this.queryFilter)}updateSort(e){this.sort=e}updateOffset(e){this.offset=e}updateTotal(e){this.total=e}updateTotalAppend(e){this.totalAppend=e}updateSaved(e,t){t?this.saved[e]=t:delete this.saved[e]}toggleView(e,t){this.view[e]=t||!this.view[e]}resetQueryFilter(){this.updateQueryFilter({})}updateSearchSelectId(e){this.searchSelectId=e}updateSearchResults(e){this.searchResults=e}updateSearchTotal(e){this.totalSearch=e}incSearchSelectIdx(){this.searchSelectIdx+=1,this.searchSelectIdx>=this.totalSearch&&(this.searchSelectIdx=this.totalSearch-1);const e=i({},this.searchResults[this.searchSelectIdx]);this.updateSearchSelectId(e.id)}decSearchSelectIdx(){this.searchSelectIdx-=1,this.searchSelectIdx<0&&(this.searchSelectIdx=0);const e=i({},this.searchResults[this.searchSelectIdx]);this.updateSearchSelectId(e.id)}resetSearch(){this.updateSearchResults([]),this.updateSearchTotal(0),this.updateSearchSelectId(0),this.searchSelectIdx=0}addElement(e,t,s){let a={};a="object"==typeof e?i({},e):this.getElement(e),void 0===this[t][s]&&(this[t][s]=[]);this[t][s].findIndex(e=>parseInt(e.id,10)===a.id)<0&&(this[t][s].push(a),this.save({[s]:this[t][s]}))}getElement(e){const t=e||this.searchSelectIdx;return{id:this.searchResults[t].id,title:this.searchResults[t].title}}removeElement(e,t,s){const a=parseInt(e,10);this[t][s].findIndex(e=>parseInt(e.id,10)===a)>=0&&(this[t][s]=this[t][s].filter(e=>parseInt(e.id,10)!=a),this.save({[s]:this[t][s]}))}async search(e=""){if(""===e)return this.updateSearchSelectId(0),this.updateSearchResults([]),this.updateSearchTotal(0),!1;const t=T.a.getNestedValue(this,"api.search.url"),s=T.a.getNestedValue(this,"api.search.params"),a=await T.a.fetchApi(t,{publish:!0},i(i({sort:this.sort,limit:this.limit},s),{},{search:e}));a.data&&(this.updateSearchSelectId(0),this.updateSearchResults(a.data),this.updateSearchTotal(a.data.length))}handleApiLoadResponse(e,t="",s,a={}){if(e.status<400){if(Array.isArray(a.addData)&&a.addData.forEach(t=>{e[t]?this.updateKeyValue(t,e[t]):e.included&&e.included[t]&&this.updateKeyValue(t,e.included[t])}),a.skipUpdate)return e.data;t?Array.isArray(e.data)?this.updateItem(e.data[0]):this.updateItem(e.data):(this.update(e.data,s),s?this.updateTotalAppend(e.data.length):(this.updateTotal(e.total),window.scrollTo(0,0))),"function"==typeof this.afterLoad&&this.afterLoad(e),"function"==typeof this.parseElements&&this.parseElements()}}async load(e="",t,s={}){let a,o;T.a.isObject(e)?(a=e,o=""):(o=e,a=s);const n=T.a.getNestedValue(this,"api.load.url"),r=o?{}:i({},a.skipFilter?{}:a.query||this.queryFilter);let l;Array.isArray(a.addData)&&a.addData.length>0&&(l=a.addData.join(","));const c=await T.a.fetchApi(`${n}${o}`,{publish:!0},T.a.cleanObject(i({addData:l,extendedView:this.extendedView,offset:a.offset||this.offset,limit:a.limit||this.limit,sort:a.sort||this.sort},r)));return this.handleApiLoadResponse(c,o,t,a)}async list(e,t={}){return this.load(void 0,e,t)}async saveField(e,t,s,a){const i=T.a.getNestedValue(this,"api.save.url");a&&this.updateField(e,t,s),this.updateSaved(`${t}.${e}`,!0);(await T.a.fetchApi(`${i}${e}`,{publish:!0,method:"PATCH"},{[t]:s})).status<300&&setTimeout(()=>{this.updateSaved(`${t}.${e}`)},2e3)}async insert(e){var t=this;const s=T.a.getNestedValue(this,"api.save.url"),a=await T.a.fetchApi(""+s,{publish:!0,method:"POST"},i({},e));return a.status<400&&(this.updateKeyValue("insertStatus",!0),clearTimeout(this.insertTimer),this.insertTimer=setTimeout((async function(){t.updateKeyValue("insertStatus",!1)}),2e3)),a}async save(e,t){var s=this;const a=t||e.id||this[this.name].id,o=T.a.getNestedValue(this,"api.save.url");await T.a.fetchApi(`${o}${a}`,{publish:!0,method:"PATCH"},i({},e)),this.updateSaveStatus(a,!0),clearTimeout(this.insertTimer),this.insertTimer=setTimeout((async function(){s.updateSaveStatus(a,!1)}),2e3)}async delete(e,t="id",s={}){this.deleteElement(e,t);const a=T.a.getNestedValue(this,"api.delete.url");await T.a.fetchApi(`${a}${e}`,{publish:!0,method:"DELETE"},i({},s))}}).prototype,"queryFilter",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.getObject(this.name+"QueryFilter")||this.opts.queryFilter||{}}}),h=r(c.prototype,"sort",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.opts.sort}}),u=r(c.prototype,"extendedView",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.opts.extendedView}}),p=r(c.prototype,"limit",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.opts.limit}}),m=r(c.prototype,"offset",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=r(c.prototype,"searchResults",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=r(c.prototype,"totalSearch",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=r(c.prototype,"searchSelectId",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=r(c.prototype,"searchSelectIdx",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=r(c.prototype,"total",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=r(c.prototype,"totalAppend",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=r(c.prototype,"saved",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),w=r(c.prototype,"view",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k=r(c.prototype,"insertStatus",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=r(c.prototype,"saveStatus",[_.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r(c.prototype,"update",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"update"),c.prototype),r(c.prototype,"add",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"add"),c.prototype),r(c.prototype,"get",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"get"),c.prototype),r(c.prototype,"deleteElement",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"deleteElement"),c.prototype),r(c.prototype,"updateKeyValue",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateKeyValue"),c.prototype),r(c.prototype,"updateObjectKeyValue",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateObjectKeyValue"),c.prototype),r(c.prototype,"updateSaveStatus",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateSaveStatus"),c.prototype),r(c.prototype,"updateItem",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateItem"),c.prototype),r(c.prototype,"updateField",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateField"),c.prototype),r(c.prototype,"updateQueryFilter",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateQueryFilter"),c.prototype),r(c.prototype,"updateSort",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateSort"),c.prototype),r(c.prototype,"updateOffset",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateOffset"),c.prototype),r(c.prototype,"updateTotal",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateTotal"),c.prototype),r(c.prototype,"updateTotalAppend",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateTotalAppend"),c.prototype),r(c.prototype,"updateSaved",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateSaved"),c.prototype),r(c.prototype,"toggleView",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"toggleView"),c.prototype),r(c.prototype,"resetQueryFilter",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"resetQueryFilter"),c.prototype),S=r(c.prototype,"toggleQueryfilter",[_.c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t=1,s={})=>{const a=i({},this.queryFilter);a[e]=s.setValue?t:a[e]?null:t,a[e]||0===a[e]||delete a[e],this.updateQueryFilter(a),s.skipUpdate||(this.list(),"function"==typeof this.tree&&this.tree()),s.viewElement&&s.toggleView(s.viewElement),s.setTimer&&(clearTimeout(this.searchTimer),this.searchTimer=setTimeout(async()=>{this.list(),"function"==typeof this.tree&&this.tree()},750)),"function"==typeof s.toggle&&s.toggle(t)}}}),r(c.prototype,"updateSearchSelectId",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateSearchSelectId"),c.prototype),r(c.prototype,"updateSearchResults",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateSearchResults"),c.prototype),r(c.prototype,"updateSearchTotal",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"updateSearchTotal"),c.prototype),r(c.prototype,"incSearchSelectIdx",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"incSearchSelectIdx"),c.prototype),r(c.prototype,"decSearchSelectIdx",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"decSearchSelectIdx"),c.prototype),r(c.prototype,"resetSearch",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"resetSearch"),c.prototype),r(c.prototype,"addElement",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"addElement"),c.prototype),r(c.prototype,"removeElement",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"removeElement"),c.prototype),r(c.prototype,"handleApiLoadResponse",[_.c],Object.getOwnPropertyDescriptor(c.prototype,"handleApiLoadResponse"),c.prototype),c);t.a=D},"1/9N":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=(s("OhSV"),s("ZOvn"),s("bbv7"));let l=Object(n.a)(a=class extends i.Component{render(){const{legendLeft:t=[],legendRight:s=[],dataLeft:a=[],dataRight:n=[],showDebug:l,xTicksVal:c=(e=>o.a.isoDate(e,!1,!1,!0)),xTicksCnt:d=5,yTicksLeftVal:h=(e=>e),yTicksRightVal:u=(e=>e)}=this.props,p=a&&a[0]?a[0]:[],m=[];if(p.length){const e=Math.ceil(p.length/(d-1)),t=Math.floor(p.length/e);l&&console.log({firstData:p,parts:t,partSize:e});for(let t=0,s=p.length;t<s;t+=e)m.push(p[t].epoch);m.push(p[p.length-1].epoch)}return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(r.a,{stores:this.props.stores,width:1e3,height:300,showXTicks:1,xTicksVal:c,xTicks:m,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:a,legendLeft:t,showYTicksLeft:1,yTicksLeftVal:h,avgWindowLeft:[0,0,0,0,0,0,0],smoothLeft:[0,0,0,0,0,0,0],dataRight:n,legendRight:s,showYTicksRight:n.length>0?1:0,yTicksRightVal:u,avgWindowRight:[0,0,0,0,0,0,0],smoothRight:[0,0,0,0,0,0,0],scrollToRight:!0})))}})||a;t.a=l}).call(this,s("hosL").Fragment)},"1/Zs":function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l,c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S,_,T,D,I,P,L,C,A,E,F,M,R,z,U,N,$,W,B,H,V,G,q,K,Z,Y,X,J,Q,ee,te,se,ae,ie,oe,ne,re=s("cneo"),le=s("Utv1"),ce=s("Y3FI"),de=s("X9Km");s("ZOvn");Object(re.f)({enforceActions:"always"});const he=new(n=i((o=class{constructor(){a(this,"mousePos",n,this),a(this,"view",r,this),a(this,"latlng",l,this),a(this,"mapColorMode",c,this),a(this,"mapRange",d,this),a(this,"mapRangeMin",h,this),a(this,"mapRangeMax",u,this),a(this,"mapColors",p,this),a(this,"focusOnMushers",m,this),a(this,"infoOnMushers",b,this),a(this,"darkmode",f,this),a(this,"viewmode",g,this),a(this,"counter",O,this),a(this,"language",v,this),a(this,"userEmail",y,this),a(this,"jwtToken",j,this),a(this,"apiServer",w,this),a(this,"apiServerChanged",k,this),a(this,"fingerprint",x,this),a(this,"jwtToken",S,this),a(this,"path",_,this),a(this,"previousPath",T,this),a(this,"prevScroll",D,this),a(this,"publicTrackFilter",I,this),a(this,"hasShareApi",P,this),a(this,"isCordova",L,this),a(this,"cordovaIsReady",C,this),a(this,"displayDetails",A,this),a(this,"editUserDetails",E,this),a(this,"selectedClassIds",F,this),a(this,"searchResultStories",M,this),a(this,"searchResultDogs",R,this),a(this,"searchResultWorkouts",z,this),a(this,"searchResultTeams",U,this),a(this,"searchResultTracks",N,this),a(this,"searchResultUsers",$,this),a(this,"publicTeams",W,this),a(this,"publicUsers",B,this),a(this,"swipeLeft",H,this),a(this,"swipeRight",V,this),a(this,"swipeUp",G,this),a(this,"swipeDown",q,this),a(this,"swipeRights",K,this),a(this,"swipeLefts",Z,this),a(this,"swipeUps",Y,this),a(this,"swipeDowns",X,this),a(this,"swipeRightIndicate",J,this),a(this,"swipeLeftIndicate",Q,this),a(this,"swipeUpIndicate",ee,this),a(this,"swipeDownIndicate",te,this),a(this,"swipeRightIndicates",se,this),a(this,"swipeLeftIndicates",ae,this),a(this,"swipeUpIndicates",ie,this),a(this,"swipeDownIndicates",oe,this),a(this,"showDashoard",ne,this),this.setView(le.a.getObject("view"))}toggleDashboard(){this.showDashoard=!this.showDashoard}setSwipeLeft(e){"function"==typeof e?(this.swipeLefts.push(this.swipeLeft),this.swipeLeft=e):this.swipeLeft=this.swipeLefts.pop()}setSwipeRight(e){"function"==typeof e?(this.swipeRights.push(this.swipeRight),this.swipeRight=e):this.swipeRight=this.swipeRights.pop()}setSwipeUp(e){"function"==typeof e?(this.swipeUps.push(this.swipeUp),this.swipeUp=e):this.swipeUp=this.swipeUps.pop()}setSwipeDown(e){"function"==typeof e?(this.swipeDowns.push(this.swipeDown),this.swipeDown=e):this.swipeDown=this.swipeDowns.pop()}setSwipeRightIndicate(e){"function"==typeof e?(this.swipeRightIndicates.push(this.swipeRightIndicate),this.swipeRightIndicate=e):this.swipeRightIndicate=this.swipeRightIndicates.pop()}setSwipeLeftIndicate(e){"function"==typeof e?(this.swipeLeftIndicates.push(this.swipeLeftIndicate),this.swipeLeftIndicate=e):this.swipeLeftIndicate=this.swipeLeftIndicates.pop()}setSwipeUpIndicate(e){"function"==typeof e?(this.swipeUpIndicates.push(this.swipeUpIndicate),this.swipeUpIndicate=e):this.swipeUpIndicate=this.swipeUpIndicates.pop()}setSwipeDownIndicate(e){"function"==typeof e?(this.swipeDownIndicates.push(this.swipeDownIndicate),this.swipeDownIndicate=e):this.swipeDownIndicate=this.swipeDownIndicates.pop()}setApiServer(e){le.a.setApiServer(e),this.apiServer=e,this.apiServerChanged=!0}localUpdateField(e,t){this[e]=t}addSelectedClassId(e){if(e){-1===this.selectedClassIds.indexOf(e)&&this.selectedClassIds.push(e),le.a.set("selectedClassIds",this.selectedClassIds)}}removeSelectedClassId(e){if(e){const t=this.selectedClassIds.indexOf(e);t>-1&&this.selectedClassIds.splice(t,1),this.selectedClassIds=this.selectedClassIds.filter(e=>null!==e),le.a.set("selectedClassIds",this.selectedClassIds)}}hasSelectedClassId(e){return this.selectedClassIds.indexOf(e)>-1}toggleSelectedClassId(e){this.hasSelectedClassId(e)?this.removeSelectedClassId(e):this.addSelectedClassId(e)}addFocusOnMusher(e){if(e>0){-1===this.focusOnMushers.indexOf(e)&&this.focusOnMushers.push(e),le.a.set("focusOnMushers",this.focusOnMushers)}}removeFocusOnMusher(e){if(e>0){const t=this.focusOnMushers.indexOf(e);t>-1&&this.focusOnMushers.splice(t,1),this.focusOnMushers=this.focusOnMushers.filter(e=>null!==e),le.a.set("focusOnMushers",this.focusOnMushers)}}hasFocusOnMusher(e){return this.focusOnMushers.indexOf(e)>-1}toggleFocusOnMusher(e){this.hasFocusOnMusher(e)?this.removeFocusOnMusher(e):this.addFocusOnMusher(e)}addInfoOnMusher(e){if(e>0){-1===this.infoOnMushers.indexOf(e)&&this.infoOnMushers.push(e),le.a.set("infoOnMushers",this.infoOnMushers)}}removeInfoOnMusher(e){if(e>0){const t=this.infoOnMushers.indexOf(e);t>-1&&this.infoOnMushers.splice(t,1),this.infoOnMushers=this.infoOnMushers.filter(e=>null!==e),le.a.set("infoOnMushers",this.infoOnMushers)}}hasInfoOnMusher(e){return this.infoOnMushers.indexOf(e)>-1}toggleInfoOnMusher(e){this.hasInfoOnMusher(e)?this.removeInfoOnMusher(e):this.addInfoOnMusher(e)}toggleDisplayDetails(e){this.displayDetails[e]=!this.displayDetails[e],le.a.set("displayDetails",this.displayDetails)}toggleEditUserDetails(e){this.editUserDetails[e]=!this.editUserDetails[e]}setLanguage(e){this.language=e,le.a.set("language",e)}setPath(e){this.path=e}setPrevPath(e){this.previousPath=e}setPrevScroll(e){this.prevScroll=e}setMousePosition(e=[]){this.mousePos=e}setView(e){this.view=e,le.a.setObject("view",e)}setViewKey(e,t){this.view[e]=t}setKey(e,t){this[e]=t}checkShareApi(){navigator.share&&(this.hasShareApi=!0)}async shareUrl({url:e,title:t,text:s}){try{return await navigator.share({url:e,title:t,text:s}),!0}catch(e){return console.error("Could not share!",e),!1}}checkCordova(){this.isCordova=!!window.cordova}cordovaSetToReady(){this.cordovaIsReady=!0}incCounter(){this.counter+=1,le.a.set("counter",this.counter)}decCounter(){this.counter-=1,le.a.set("counter",this.counter)}get counterTimes2(){return 2*this.counter}toggleDarkmode(){this.darkmode=!this.darkmode,le.a.set("darkmode",this.darkmode),le.a.toggleDarkModeClasses(this.darkmode)}toggleViewmode(e){this.viewmode=e||!this.viewmode,le.a.set("viewmode",this.viewmode)}toggleField(e,t){this[e]=t||!this.val}setLatlng(e=[]){this.latlng=e}setMapColorMode(e){this.mapColorMode=e}setMapRange(e,t,s){this.mapRange=e,this.mapRangeMin=t,this.mapRangeMax=s}setMapColors(e){this.mapColors=e}updateField(e,t){this[e]=t}async getFingerprint(){const e=await le.a.fetchApi("/api/public/fingerprint/",{publish:!1});200===e.status&&(this.updateField("fingerprint",e.fingerprint),this.updateField("jwtToken",e.jwtToken))}async sendEmail({to:e=[],subject:t="",body:s="",raceId:a,raceClassId:i}){const o=await le.a.fetchApi("/api/email/",{publish:!0,method:"POST"},{to:e,subject:t,body:s,raceId:a,raceClassId:i});switch(o.status){case 200:return o;case 401:de.a.publish(de.b.LOG_OUT),Object(ce.route)("/",!0);break;default:return o}}async sendEmailPlain({to:e=[],subject:t="",body:s="",from:a}){const i=await le.a.fetchApi("/api/email/plain",{publish:!0,method:"POST"},{from:a,to:e,subject:t,body:s});switch(i.status){case 200:return i;case 401:de.a.publish(de.b.LOG_OUT),Object(ce.route)("/",!0);break;default:return i}}async getSearch(e){const t=await le.a.fetchApi("/api/search/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.localUpdateField("searchResultStories",t.data.stories),this.localUpdateField("searchResultDogs",t.data.dogs),this.localUpdateField("searchResultWorkouts",t.data.workouts),this.localUpdateField("searchResultTeams",t.data.teams),this.localUpdateField("searchResultTracks",t.data.tracks),this.localUpdateField("searchResultUsers",t.data.users),this.localUpdateField("publicTeams",t.included.teams),this.localUpdateField("publicUsers",t.included.users),t;case 401:de.a.publish(de.b.LOG_OUT),Object(ce.route)("/",!0)}}}).prototype,"mousePos",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=i(o.prototype,"view",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=i(o.prototype,"latlng",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=i(o.prototype,"mapColorMode",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"incline"}}),d=i(o.prototype,"mapRange",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=i(o.prototype,"mapRangeMin",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-13}}),u=i(o.prototype,"mapRangeMax",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 13}}),p=i(o.prototype,"mapColors",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(o.prototype,"focusOnMushers",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("focusOnMushers")||[]}}),b=i(o.prototype,"infoOnMushers",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=i(o.prototype,"darkmode",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("darkmode")}}),g=i(o.prototype,"viewmode",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("viewmode")||"normal"}}),O=i(o.prototype,"counter",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("counter")}}),v=i(o.prototype,"language",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("language")||"en"}}),y=i(o.prototype,"userEmail",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.getUserEmail()}}),j=i(o.prototype,"jwtToken",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.getJwtToken()}}),w=i(o.prototype,"apiServer",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.getApiServer()}}),k=i(o.prototype,"apiServerChanged",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=i(o.prototype,"fingerprint",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=i(o.prototype,"jwtToken",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=i(o.prototype,"path",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=i(o.prototype,"previousPath",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=i(o.prototype,"prevScroll",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=i(o.prototype,"publicTrackFilter",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=i(o.prototype,"hasShareApi",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=i(o.prototype,"isCordova",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=i(o.prototype,"cordovaIsReady",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=i(o.prototype,"displayDetails",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("displayDetails")||{}}}),E=i(o.prototype,"editUserDetails",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),F=i(o.prototype,"selectedClassIds",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.a.get("selectedClassIds")||[]}}),M=i(o.prototype,"searchResultStories",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(o.prototype,"searchResultDogs",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(o.prototype,"searchResultWorkouts",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(o.prototype,"searchResultTeams",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(o.prototype,"searchResultTracks",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=i(o.prototype,"searchResultUsers",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(o.prototype,"publicTeams",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(o.prototype,"publicUsers",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(o.prototype,"swipeLeft",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),V=i(o.prototype,"swipeRight",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),G=i(o.prototype,"swipeUp",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),q=i(o.prototype,"swipeDown",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),K=i(o.prototype,"swipeRights",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(o.prototype,"swipeLefts",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(o.prototype,"swipeUps",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(o.prototype,"swipeDowns",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(o.prototype,"swipeRightIndicate",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Q=i(o.prototype,"swipeLeftIndicate",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),ee=i(o.prototype,"swipeUpIndicate",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),te=i(o.prototype,"swipeDownIndicate",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),se=i(o.prototype,"swipeRightIndicates",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=i(o.prototype,"swipeLeftIndicates",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=i(o.prototype,"swipeUpIndicates",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=i(o.prototype,"swipeDownIndicates",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=i(o.prototype,"showDashoard",[re.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i(o.prototype,"toggleDashboard",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleDashboard"),o.prototype),i(o.prototype,"setSwipeLeft",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeLeft"),o.prototype),i(o.prototype,"setSwipeRight",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeRight"),o.prototype),i(o.prototype,"setSwipeUp",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeUp"),o.prototype),i(o.prototype,"setSwipeDown",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeDown"),o.prototype),i(o.prototype,"setSwipeRightIndicate",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeRightIndicate"),o.prototype),i(o.prototype,"setSwipeLeftIndicate",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeLeftIndicate"),o.prototype),i(o.prototype,"setSwipeUpIndicate",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeUpIndicate"),o.prototype),i(o.prototype,"setSwipeDownIndicate",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setSwipeDownIndicate"),o.prototype),i(o.prototype,"setApiServer",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setApiServer"),o.prototype),i(o.prototype,"localUpdateField",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"localUpdateField"),o.prototype),i(o.prototype,"addSelectedClassId",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"addSelectedClassId"),o.prototype),i(o.prototype,"removeSelectedClassId",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"removeSelectedClassId"),o.prototype),i(o.prototype,"hasSelectedClassId",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"hasSelectedClassId"),o.prototype),i(o.prototype,"toggleSelectedClassId",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleSelectedClassId"),o.prototype),i(o.prototype,"addFocusOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"addFocusOnMusher"),o.prototype),i(o.prototype,"removeFocusOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"removeFocusOnMusher"),o.prototype),i(o.prototype,"hasFocusOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"hasFocusOnMusher"),o.prototype),i(o.prototype,"toggleFocusOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleFocusOnMusher"),o.prototype),i(o.prototype,"addInfoOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"addInfoOnMusher"),o.prototype),i(o.prototype,"removeInfoOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"removeInfoOnMusher"),o.prototype),i(o.prototype,"hasInfoOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"hasInfoOnMusher"),o.prototype),i(o.prototype,"toggleInfoOnMusher",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleInfoOnMusher"),o.prototype),i(o.prototype,"toggleDisplayDetails",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleDisplayDetails"),o.prototype),i(o.prototype,"toggleEditUserDetails",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleEditUserDetails"),o.prototype),i(o.prototype,"setLanguage",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setLanguage"),o.prototype),i(o.prototype,"setPath",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setPath"),o.prototype),i(o.prototype,"setPrevPath",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setPrevPath"),o.prototype),i(o.prototype,"setPrevScroll",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setPrevScroll"),o.prototype),i(o.prototype,"setMousePosition",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setMousePosition"),o.prototype),i(o.prototype,"setView",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setView"),o.prototype),i(o.prototype,"setViewKey",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setViewKey"),o.prototype),i(o.prototype,"setKey",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setKey"),o.prototype),i(o.prototype,"checkShareApi",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"checkShareApi"),o.prototype),i(o.prototype,"checkCordova",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"checkCordova"),o.prototype),i(o.prototype,"cordovaSetToReady",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"cordovaSetToReady"),o.prototype),i(o.prototype,"incCounter",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"incCounter"),o.prototype),i(o.prototype,"decCounter",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"decCounter"),o.prototype),i(o.prototype,"counterTimes2",[re.e],Object.getOwnPropertyDescriptor(o.prototype,"counterTimes2"),o.prototype),i(o.prototype,"toggleDarkmode",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleDarkmode"),o.prototype),i(o.prototype,"toggleViewmode",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleViewmode"),o.prototype),i(o.prototype,"toggleField",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"toggleField"),o.prototype),i(o.prototype,"setLatlng",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setLatlng"),o.prototype),i(o.prototype,"setMapColorMode",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setMapColorMode"),o.prototype),i(o.prototype,"setMapRange",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setMapRange"),o.prototype),i(o.prototype,"setMapColors",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"setMapColors"),o.prototype),i(o.prototype,"updateField",[re.c],Object.getOwnPropertyDescriptor(o.prototype,"updateField"),o.prototype),o);Object(re.d)(()=>{}),t.a=he},"11yz":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(t,"computeDestinationPoint",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"convertArea",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"convertSpeed",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"decimalToSexagesimal",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"findNearest",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getAreaOfPolygon",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"getBounds",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getBoundsOfDistance",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"getCenter",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"getCenterOfBounds",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"getCompassDirection",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"getCoordinateKey",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"getCoordinateKeys",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"getDistance",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"getDistanceFromLine",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"getGreatCircleBearing",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"getLatitude",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"getLongitude",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"getPathLength",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"getPreciseDistance",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"getRhumbLineBearing",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"getRoughCompassDirection",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"getSpeed",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"isDecimal",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"isPointInLine",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"isPointInPolygon",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"isPointNearLine",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"isPointWithinRadius",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"isSexagesimal",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"isValidCoordinate",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"isValidLatitude",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"isValidLongitude",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"orderByDistance",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"sexagesimalToDecimal",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(t,"toDecimal",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"toRad",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"toDeg",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(t,"wktToPolygon",{enumerable:!0,get:function(){return B.default}});var o=a(s("inp8")),n=a(s("lski")),r=a(s("671E")),l=a(s("fs+r")),c=a(s("Vol8")),d=a(s("5JJN")),h=a(s("ZUG7")),u=a(s("Cqs7")),p=a(s("P/mP")),m=a(s("sP2e")),b=a(s("JHM6")),f=a(s("tuIh")),g=a(s("f3B/")),O=a(s("ntdL")),v=a(s("Wyvv")),y=a(s("uRxk")),j=a(s("Q5bj")),w=a(s("ruAM")),k=a(s("/4LU")),x=a(s("yP/S")),S=a(s("q+QX")),_=a(s("WFAr")),T=a(s("m0XR")),D=a(s("Ko7F")),I=a(s("2JTI")),P=a(s("S8lE")),L=a(s("kk6I")),C=a(s("7n0W")),A=a(s("goiT")),E=a(s("p3hn")),F=a(s("IpmI")),M=a(s("hiSt")),R=a(s("HoYC")),z=a(s("I9l5")),U=a(s("MlNc")),N=a(s("+Vuz")),$=a(s("ekkQ")),W=a(s("KqdA")),B=a(s("KYs2")),H=s("u28A");Object.keys(H).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return H[e]}}))}))},"1OK2":function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4"));let n=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.touchStart=e=>{e.stopPropagation(),this.setState({startX:e.touches[0].pageX})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=e=>{e.stopPropagation();const{totalImages:t}=this.state;if(t>1){const{startX:t,sliding:s}=this.state,a=50,i=e.touches[0].pageX;s||(i>t+a?(this.setState({sliding:!0}),this.prevImage()):i<t-a&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:t=[]}=e;this.state={imageContainer:1,currentImage1:t[0]||{},currentImage2:{},currentIdx:0,totalImages:t.length||0,imageDots:[...Array(t.length||0).fill(1).map((e,t)=>e+t)]}}nextImage(){const{images:e}=this.props,{totalImages:t,currentIdx:s,imageContainer:a}=this.state,i=1===a?2:1;let o=s+1;o>t-1&&(o=0),this.setState({["currentImage"+i]:e[o],currentIdx:o,imageContainer:i})}prevImage(){const{images:e}=this.props,{totalImages:t,currentIdx:s,imageContainer:a}=this.state;let i=s-1;i<0&&(i=t-1),this.setState({["currentImage"+(1===a?2:1)]:e[i],currentIdx:i,imageContainer:1===a?2:1})}componentWillReceiveProps(e){if(e.images!==this.props.images){const{images:t=[]}=e;this.setState({imageContainer:1,currentImage1:t.length>0?t[0]:{},currentImage2:{},currentIdx:0,totalImages:t.length||0,imageDots:[...Array(t.length||0).fill(1).map((e,t)=>e+t)]})}}render(){const{currentImage1:e,currentImage2:t,imageContainer:s,totalImages:a,imageDots:o,currentIdx:n}=this.state,r=this["image"+s],l=1===s?e:t,c=r&&r.height?r.width/r.height:4/3;let d,h;if(l.dimensions){const{width:e,height:t,orientation:s}=l.dimensions;s>4&&s<9?(d=e,h=t):(d=t,h=e)}const u=l.dimensions?h/d:c;return a<=0?"":Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${u}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},a>1&&Object(i.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(i.h)("small",null,n+1,"/",a)),e&&Object(i.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(i.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:e=>this.image1=e})),t&&Object(i.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(i.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:e=>this.image2=e}))),o.length>1&&Object(i.h)("div",{class:"w-100 text-center"},o.map(e=>Object(i.h)("span",{style:`color: ${e===n+1?"#ffffff":"#808080"};`},"•"))))}})||a;t.a=n},"1oA7":function(e){e.exports=JSON.parse('{"ad":{"heading":"Souhaite-tu publier ton annonce ici?","teaser":"C\'est très simple ;-)","subject":"Requête d\'annonce","body":"Bonjour, j\'aimerais en savoir plus sur les annonces sur l\'app The Musher","linktext":"Contact The Musher app","ad":"Annonce"},"home":{"dashboard":"Tableau de bord","feed":"Contenu","todo":"A faire","welcome-title":"Bienvenue sur The Musher","welcome-body-1":"L\'application The Musher est en constant développement. Si vous avez des suggestions, commentaires,  ou report de bugs, c\'est avec plaisir que vous pouvez nous contacter via notre page Facebook","welcome-body-2":"L\'objectif principal de cette application est la facilité d\'utilisation lors de l\'enregistrement des chiens, des entraînements et de toutes les autres choses liées aux chiens. Lorsque vous avez beaucoup de chiens, il peut être difficile de les suivre les périodes de chaleur, la validité des vaccins, etc.","welcome-body-3":"Toutes les données sont stockées dans le cloud chez AWS (Amazon Web Services). Il est possible d\'accéder à cette application depuis tous types d\'appareils et par plusieurs personnes en même temps. Cela peut-être un grand avantage si vous êtes plusieurs à s\'occuper des chiens","howto-title":"Comment commencer:","howto-step-1":"Ajouter des équipes","howto-step-2":"Ajouter des chiens","howto-step-3":"Ajouter des parcous","howto-step-4":"Commence à enregistrer tes entrainements","dogs-follow-up":"Les chiens qui ont besoin d\'un suivi","dogs-special-needs":"Les chiens qui ont besoin d\'un traitement spécial","last-workouts":"Les derniers entrainements - {{total}}","races":"Courses","workouts":"Entraînements","totals":"Totaux","status":"Statuts","wall":"Mur","home":"Accueil","notifications":"Notifications","back":"Retour","find-teams":"Recherche des équipes","report-bug":"Rapporter une erreur","report-bug-placeholder":"De quelle erreur s\'agit-il ?","abort":"Annuler","send":"Envoyer"},"notifications":{"unread":"Notifications non lues. Cliques ici pour les voir","delete":"Annuler","confirm":"Confirmer"},"feed":{"dashboard":"Vue d\'ensemble","feed":"Contenu","todo":"A faire","title":"Dernières mises à jour des chiens","no-log":"Aucune entrée de journal pour vos chiens.","tip-1":"C\'est bien d\'ajouter des événements comme des chaleurs, des blessures, des vaccinations, des visites chez le vétérinaire et des photos de vos chiens.","tip-2":"De cette façon, toute votre équipe verra ce qui se passe dans votre chenil. C\'est un suivi constant pour votre équipe.","add-log":"Ajouter un événement/incident","show-all-days":"Tout afficher"},"workout":{"totals":{"title":"Statut du plan d\'entraînement"},"graph":{"title":"Résumé de l\'entraînement","month":"Mois","season":"Saison","week":"Semaine","distance":"Distance","distance-avg":"Distance moyenne","distance-avg-all":"Total des distances moyennes","ascend":"Dénivelé","ascend-avg":"Dénivelé moyen","ascend-avg-all":"Total dénivelé moyen","speed-avg":"Vitesse moyenne","speed-avg-all":"Total vitesse moyenne","duration-avg":"Durée moyenne","duration-avg-all":"Total durée moyenne","real-duration-avg":"Moyenne sur toute la durée","real-duration-avg-all":"Total de la moyenne sur toute la durée","load-index":"Indice de charge","load-index-all":"Total indice de charge","plan":"Plan d\'entrainement","too-little-data":"Actuellement, il y a peu de données pour pouvoir montrer de beaux graphiques. Au fur et à mesure que vous entrez plus d\'entraînements, ce sera un joli tableau et un graphique qui montrera votre progression.","title-avg":"Moyenne"},"calendar":{"month":"Mois","week":"Semaine","sum":"Total","totalKm":"Total km","summary":"Résumé","totalWorkouts":"Nombre d\'entrainement","distance":"Distance","ascend":"Dénivelé","duration":"Durée","avg-speed":"Vitesse moyenne","kmt":"km/h"},"plan":{"dashboard":"Vue d\'ensemble","list":"Liste","plan":"Plan d\'entrainement","month":"Mois","week":"Semaine","save":"Enregistrer","sum":"Total","planned":"plan","totalkm":"Total des km","season":"Saison","no-workout-plan-found":"Pas de plan d\'entraiement pour l\'équipe choisi","no-plan":"Pas de plan d\'entraiement","duplicate":"Dupliquer le plan d\'entraînement","title":"Titre","title-help":"Titre pour le plan d\'entraînement","team":"Equipe","team-help":"L\'équipe qui souhaite utiliser ce plan d\'entraînement","choose-team":"Choisir une équipe","save-new":"Enregistrer le  nouveau plan d\'entraînement"},"index":{"dashboard":"Vue d\'ensemble","list":"Liste","plan":"Plan d\'entrainement","add-workout":"Ajouter un entraînement","last-workouts":"Entraînements  {{month}} {{year}} - {{total}}","workout-overview":"Vue d\'ensemble des entraînements","strava-workouts":"Entrainements Strava / pas importés","garmin-workouts":"Entraînements Garmin / pas importés","filtered-by":"Filtre par équipe"},"kg":"kg","battery-used":"utilisé","kcal":"kcal","km":"km","m":"m","kmt":"km/h","share":"Partager"},"strava":{"kmt":"km/h","ignore":"Ignorer l\'entraînement","import":"Importer l\'entraînement"},"garmin":{"kmt":"km/h","ignore":"Ignorer l\'entraînement","import":"Importer l\'entraînement","import-track":"Importer l\'itinéraire"},"todo":{"dashboard":"Vue d\'ensemble","feed":"Contenu","todo":"à faire","dogs-follow-up":"Les chiens qui ont besoin d\'un suivi particulier","no-dogs-follow-up":"Aucun chien nécessite n\'a besoin d\'attention particulière","dogs-special-needs":"Chiens avec besoins spécifiques","no-dogs-special-needs":"Pas de chiens avec des besoins spécifiques","dogs-with-maturity":"Chiennes en chaleur","no-dogs-with-maturity":"Pas de chiennes en chaleur"},"header":{"dogs":"Chiens","workouts":"Entrainements","tracks":"Itinéraires","teams":"Equipes","profile":"Ton profil","logout":"Se déconecter","darkmode":"Mode nuit","viewmode":"Mode d\'affichage","viewmode-simple":"Simple","viewmode-normal":"Normal","viewmode-advanced":"Avancé","viewmode-beta":"Avancé + Beta","viewmode-try-beta":"Essaie la nouvelle version de la page d\'acceuil","viewmode-back-to-normal":"Retour à la version précédente","reload-app":"Recherche de mises à jour","news":"Nouveautés et infos","howto":"Comment faire cela ?","search":"Chercher","search-placeholder":"Recherche d\'après...","races":"Courses","support":"Support","connect-team":"Suivre des autres équipes","admin-search":"Recherche d\'administrateur","add-dogs":"Ajouter un chien","add-workouts":"Ajouter un entraînement"},"footer":{"dogs":"Chiens","workouts":"Entraînements","workouts-start":"Départ","tracks":"Itinéraires","teams":"Equipes","veterenary":"Vétérinaire","workouts-continue":"Continuer"},"register":{"new-user":"Nouvel utilisateur","email":"E-mail","email-not-valid":"hum, e-mail non valide","password":"Mot de passe","password-too-weak":"Votre mot de passe est trop faible. Essaie un autre mot de passe ou ajoute des majuscules","password-weak":"Votre mot de passe est trop faible, mais nous allons faire de notre mieux pour vous protéger ;-)","password-ok":"Ton mot de passe est sécurisé 😎","caps-lock-on":"MAJ est activé","register":"S\'enregistrer","i-have-an-account":"🤔 On dirait que j\'ai un compte. Va sur la page login"},"login":{"tip-1":"Cette application peut s\'installer sur ton téléphone portable","tip-2":"Utilise la fonction \\" ajouter sur la page d\'acceuil\\"","tip-3":"Il est important de le faire avant de t\'enregistrer ou te connecter","login":"Connection","email":"E-mail","email-not-found":"E-mail non trouvé, mais tu peux t\'enregistrer ;-)","email-not-valid":"hmmm, e-mail non valide, as-tu fais une erreur ?","email-looks-good":"E-mail correct","password":"Mot de passe","caps-lock-on":"MAJ est activé","2fa-token":"2FA Token","new-user":"Nouvel utilisateur","forgot-password":"Mot de passe oublié ?"},"forgotten":{"forgotten":"Mot de passe oublié ?","one-time-code":"Code à usage unique pour","otp-not-valid":"Mot de passe incorrect. As-tu fais une erreur ?","otp-valid":"Mot de passe est correct","login-with-otp":"Connexion avec le code","goto-login":"Je me rapelle de mon mot de passe. Aller à la page de connexion","send-new-otp":"J\'ai besoin d\'un nouveau code","email":"E-mail","email-not-found":"E-mail non trouvé","register":"Enregistrer un nouvel utilisateur","email-not-valid":"hmmm, e-mail non valide, as-tu fais une erreur ?","email-looks-good":"E-mail correct","caps-lock-is-on":"La touche MAJ est activée","send-reset-link":"Envoyez-moi un lien de réinitialisation"},"refresh":{"pull-to-update":"Tirez pour mettre à jour la page..."},"modal":{"download":"Télécharger l\'image"},"imageupload":{"drag-files-here":"Déposez vos fichiers ici","upload-images":"Fichiers téléchargés","uploading-image":"Téléchargement"},"dog":{"history":{"no":"Non","yes":"Oui","delete":"Effacer","cant-delete-groups":"Impossible de supprimer des groupes. Allez dans chaque fiche de chien et supprimez-le."},"dogs":{"choose-filter":"Choisir un fichier","search-for-dogs":"Chercher un chien","show-only-team-dogs":"Afficher uniquement les chiens de l\'équipe","show-all-dogs":"Afficher tous les chiens","show-all":"Afficher tout","show-only-selected":"Afficher uniquement les choisis","show-lead-dogs-only":"Afficher uniquement les chiens de tête","show-point-dogs-only":"Afficher uniquement les chiens en swing","show-team-dogs-only":"Afficher uniquement les chiens en team","show-wheel-dogs-only":"Afficher uniquement les chien en wheel","remove-all-dogs":"Supprimer tous les chiens","saved-changes":"Changements enregistrés","addplaceholder":"Ajouter un espace vide","saveDogPositions":"Enregistrer les positions","resetDogPositions":"Réinitialiser les positions","clearDogPositions":"Supprimer toutes les positions","dogs-positions":"Positions à l\'attelage","add-all-in-team":"Ajouter tous les {{total}} chiens de l\'équipe"},"calendar":{"month":"Mois","week":"Semaine"},"addlog":{"addlog":"Ajouter un événement au journal","dogs":"Chiens","dogs-help":"Quels chiens sont concernés?","date":"Date","date-help":"Date de l\'événement","time":"Heure","time-help":"Heure d\'entrée dans le journal","type":"Type d\'événement","choose-type":"Choisir le type","other":"Autre","stoolProblem":"Problème de selles","bodyScore":"Bodyscore","diarrhea":"Diarrhée","foodLeftover":"N\'a pas fini de manger","clawClip":"Coupe de griffes","maturity":"Chaleurs","massage":"Massages","animalchiropractor":"Osthépathe","newStraw":"Nouvelle paille","update":"Nouveautés","deworming":"Vermifuges","mating":"Accouplement","injury":"Blessure","fight":"Bagarre","sick":"Malade","unwantedMating":"Accouplement non voulu","vaccine":"Vaccination","weight":"Poids","veterinarianVisit":"Visite vétérinaire","type-help":"Type d\'événement. Visite vétérinaire, vaccination, maladie, chaleurs, etc","vaccine-type":"Type de vaccins","choose-vaccine":"Choisir un type de vaccin","rabies":"Rage","BbPi":"BbPi","DHP":"DHP","DHPPi":"DHPPi","vaccine-help":"Quel est le type de vaccin?","title":"Titre","title-help":"Titre pour l\'entrée dans le journal. Visite vétérinaire, vaccination, maladie, etc","duration":"Durée","duration-help":"Date d\'expiration du vaccin","weight-of-dog":"Poids","weight-of-dog-help":"Poids du chien","bodyscore":"Bodyscore","bodyscore-help":"Bodyscore du chien","cost":"Frais","cost-help":"Frais de cette consultation","commet":"Commentaire","comment-help":"Commentaire de l\'entrée. Ecris plus d\'informations","images":"Photos","please-wait":"Veuillez patienter","cancel":"Annuler","hidelog":"Masquer ajouter une entrée de journal","newlog":"Nouvelle entrée"},"veterinary":{"choosen-dogs":"Choisir des chiens","chosen-vaccines":"Choisir des vaccinations","choose-team":"Choisir une équipe","select-all-dogs":"Choisir tous les chiens","remove-all-dogs":"Supprimer tous les chiens","name":"Nom","image":"Photo","are-you-sure":"Êtes-vous sûr de vouloir ajouter le vaccin au chien {{dogs}} ?","yes-iam-sure":"Oui je suis sûr","cancel":"Annuler","add-vaccine-to-dogs":"Ajouter un vaccin à {{dogs}} chiens","recepipt":"Quittance","dog":"Chien","vaccine":"Vaccin","no-access":"Pas d\'accès !","attempts-logged":"Toutes les tentatives d\'accès sont enregistrées et signalées.","goto-frontpage":"Aller à la page d\'acceuil","title":"Trouver un vétérinaire","search":"Chercher","searching":"Recherche...","cellphone":"Téléphone mobile","email":"E-mail","search-placeholder":"Recherche de musher. E-mail, numéro de téléphone ou nom","choose-vaccines":"Choisir une liste de vaccination ci-dessus"}},"dogs":{"dashboard":"Vue d\'ensemble","list":"Liste","feed":"Contenu","todo":"A faire","stats":"Statistiques","pictures":"Images","workouts":"Entrainements","relations":"Relations","achievements":"Souvenirs","links":"Liens","achievement-name":"Titre","achievement-name-help":"Titre du souvenir","achievement-description":"Description","achievement-description-help":"Description du souvenir","achievement-url":"Lien","achievement-url-help":"Lien du souvenir","achievement-add":"Lien du nouveau souvenir","link-name":"Titre","link-name-help":"Titre du lien","link-url":"URL","link-url-help":"URL du lien","link-add":"Ajouter un nouveau lien","advanced":"Avancé","trophy":"Trophé","info":"Information","fitness":"Fitness","veterinary":"Vétérinaire","add-dogs":"Ajouter un chien","no-dogs-registered":"Aucun chien n\'est enregistré","howto-add-1":"Comment commencer","howto-add-2":"Clique sur le bouton \\"ajouter un chien\\" ci-dessus","dog-with-follow-up":"Chiens qui ont besoin d\'une attention particulière","no-dogs-with-follow-up":"Aucun chien n\'a besoin d\'une attention particulière","dog-with-special-needs":"Chiens avec besoins spécifiques","no-dogs-with-special-needs":"Aucun chien avec besoins spécifiques","dog-with-workouts-last-day":"Chiens entrainés ces dernières 24 heures","dogs-filtered-by":"Filtrer par:","all-dogs":"Tous les chiens - {{total}}","dog-with-maturity":"Chiennes en chaleur","no-dogs-with-maturity":"Aucune chienne en chaleur","no-files-title":"Aucun document attaché pour ce chien","no-files-text":"Tu peux ajouter tout type de document. Par ex: certificats, test, etc","no-achievements-title":"Aucun souvenir pour ce chien !","no-achievements-text":"Tu peux ajouter un souvenir pour ce chien. Par ex: un tour, un test, un prix, une course","no-links-title":"Aucun lien pour ce chien","no-links-text":"Tu peux ajouter un lien pour ce chien. Par ex: une page facebook, compte instagram, blogg, etc","no-trophys-title":"Aucun trophé pour ce chien !","no-trophys-text":"Tu peux ajouter plusieurs entrainements, photos, informations, etc pour mériter un trophé","no-images-title":"Aucune photo pour ce chien","no-images-text":"Tu peux ajouter autant de photos que tu veux. Photos de chiots, chiens à l\'entraînement, au repos, en été etc. Tout est bon pour créer un meilleur profile pour ton chien.","edit":"Changer","kmt":"Km/h","birth":"Naissance","deceased":"Mort","team":"Attelage","mother":"Mère","father":"Père","siblings":"Frère et soeurs","children":"Enfants","pictures-of":"Photo de","log-for":"Entrée","delete":"Supprimer","changes-saved":"Changements enregistrés","add-new":"Ajouter un nouveau chien","name":"Nom","name-of-dog":"Nom complet du chien","save-new":"Ajouter un nouveau chien","status":"Statut","status-help":"Statut du chien","special-needs":"Besoins spécifiques","special-needs-help":"Est-ce que le chien à des besoins spécifiques ? Besoin de nourriture spéciale, de matériel spécifique? Par exemple: \\"besoin de plus de graisse\\", \\" se rappeller de protéger l\'ergot\\", etc","position":"Position à l\'attelage","position-help":"Position préférée à l\'attelage","profile-photo":"Photo de profil","profile-photo-help":"Photo de profil du chien","photo":"Photos","photo-help":"Photo du chien","full-name":"Nom complet","full-name-help":"Nom complet du chien","short-name":"Surnom","short-name-help":"Surnom du chien. Comment l\'appelles-tu pour le rappel","gender":"Sexe","gender-help":"Sexe du chien","chip-id":"Numéro d\'identification","chip-id-help":"Numéro d\'identification. Il est généralement inscrit dans le carnet vétérinaire ou passeport","birth-help":"Date de naissance du chien","deceased-help":"Date de décès du chien","team-help":"L\'équipe dont le chien fait parti","harness-size":"Taille de harnais","harness-size-help":"Taille du harnais du chien","choose-mother":"Choisis parmis tes chiens","mother-name":"Nom de la mère","mother-name-help":"Nom de la mère de ce chien","mother-chipid":"Numéro d\'identification de la maman","mother-chipid-help":"Numéro d\'identification de la maman. Si elle est déja enregistrée dans ton application, ils seront alors reliés automatiquement","mother-comment":"Commentaire de la mère","mother-comment-help":"Commentaire de la mère de ce chien","choose-father":"Selectionne le père","father-name":"Nom du père","father-name-help":"Nom du père du chien","father-chipid":"Numéro d\'identification du père","father-chipid-help":"Numéro d\'identification du père. Si\'il est déja enregistré dans ton application, ils seront alors reliés automatiquement","father-comment":"Commentaire sur le père","father-comment-help":"Commentaire sur le père du chien","files":"Documents","files-help":"Documents pour ce chien","dog-saved":"Chien enregistré","choose-sort":"Sélectionner le tri","sort-distance":"Distance","sort-duration":"Durée","sort-name":"Nom","sort-shortname":"Surnom","sort-workouts":"Entraînement","sort-lead":"Chien de tête","sort-point":"Swing","sort-team":"Swing","sort-wheel":"Wheel","all":"Tous","leadOnly":"Chien de tête","pointOnly":"Swing","teamOnly":"Swing","wheelOnly":"Wheel","days-back":"Dernier","d1":"jour","d2":"2 jours","d7":"7 jours","d14":"14 jours","d30":"30 jours","gender-male":"Mâle","gender-female":"Femelle","log":"Registre","vetenary-approved-vaccines":"Vaccins vétérinaires approuvés","vaccine-karens":"Jours restants","vaccine-name":"Nom du vaccin","vaccine-date":"Date du vaccin","vaccine-veterinary":"Vétérinaire","hide-deceased":"Afficher l\'équipe uniquement","absolutely-all":"Tout afficher","log-for-is-empty":"Registre de {{name}} est vide","temp-calculation":""},"workouts":{"edit":"Changer","duplicate":"Dupliquer","make-track":"Créer un itinéraire basé sur l\'entraînement","duration":"Durée","rest":"Repos","avgspeed":"Vitesse moyenne","currentspeed":"Vitesse actuelle","kmt":"km/h","type":"Type de tour","equipment":"Matériel","dogs":"Chiens","distance":"Distance en km","ascend":"Dénivelé","weather":"Météo","fetch-weather":"Chercher depuis YR.no","temperature":"Température","info":"Info","user":"Musher","gps":"GPS","advanced":"Avancé","energy-consumption-help":"Calcul de la consommation d\'énergie: 1.25 kcal / kg corporel / km","energy-consumption-total":"Total de la consommation d\'énergie","energy-consumption":"Consommation d\'énergie par chien","energy-consumption-fat-total":"Graisse (total)","energy-consumption-fat":"Graisse par chien","energy-consumption-meat-total":"Viande (total)","energy-consumption-meat":"Viande par chien","energy-consumption-salmon-total":"Saumon (total)","energy-consumption-salmon":"Saumon par chien","load-index":"Indice de charge","kcal-calculated":"Calcul :","all-dogs":"Chiens - {{total}} nbr","all-mushers":"Handler - {{total}} nbr","delete":"Supprimer","changes-saved":"Changements enregistrés","show-last-used-tracks":"Afficher uniquement le dernier tour","show-all-tracks":"Afficher tous les tours","add-new":"Ajouter un nouvel entraînement","add-save-new":"Enregistrer l\'entraînement","other":"Autre","team":"Équipe","date":"Date","time":"Heure","track":"Tour","title":"Titre","avg-speed":"Vitesse moyenne","comment":"Commentaire","mushers":"Musher","rating":"Notation du tour","sledWeight":"Poids du traineau","intensity":"Intensité","edit-workout":"Editer l\'entraînement","photos":"Photos","workout-saved":"Entraînement enregistré","start-stop-1":"Le suivi marche-arrêt n\'est pas encore prêt. Apple iOS empêche PWA d\'exécuter la géolocalisation en arrière-plan de l\'applications Web. Je vais acheter un téléphone Android pour tester les capacités d\'Android.","start-stop-2":"La plupart du développement est motivé par vos commentaires, alors envoyez-moi beaucoup de messages sur Facebook.","tracking-stop":"Arrêter le suivi","tracking-start":"Démarrer le suivi","other-help":"Quel type de tour/activité etais-ce?","team-help":"Equipe qui est en entraînement","date-help":"Date du tour. Format de date est: \\"Années - mois - jour\\"","time-help":"Heure du tour. Format \\"HH:MI\\"","type-help":"Type de tour. \\"Entraînement\\", \\"course\\", \\"balade\\"","track-help":"Quel itiniéraire était-ce?","title-help":"Titre pour ce tour. \\"Super entraînement d\'automne...\\"","duration-help":"Quel était la durée de l\'entraînement? (HH:MI)","rest-help":"Quel était le temps de pause? (HH:MI)","avg-speed-help":"Vitesse de déplacement moyenne. Si vous ne le savez pas, veuillez ajouter la distance, la durée et le repos. Ensuite, cela sera calculé.","distance-help":"Combien de km?","ascend-help":"Quel dénivelé?","equipment-help":"Equipement utilisé: Cart, quad, traineau?","comment-help":"Commentaire: comment était-ce?","weather-help":"Quelle météo?","temperature-help":"Quelle température?","dogs-help":"Quel chien était à l\'entraînement?","mushers-help":"Quel musher à participé à l\'entraînement?","rating-help":"Ta note de 1-6","sledWeight-help":"Poids du traineau","intensity-help":"Quelle intensité pendant cet entraînement ?","photos-help":"Ajouter des photos de l\'entraînement","all-workouts":"Entraînements - {{total}}","month-workouts":"Entraînements- {{month}} {{year}}","week-workouts":"Entraînements - Semaine - {{week}} {{year}}","save-to-add-images":"Vous devez enregistrer votre entraînement avant de pouvoir ajouter des photos.","save-to-add-gpx":"Vous devez enregistrer l\'entraînement, puis vous pouvez télécharger des fichiers GPX si vous le souhaitez.","private":"Masquer l\'entraînement","private-help":"Cet entraînement doit-il être caché à ceux qui suivent votre équipe ?","no-dogs":"Aucun chien enregistré","no-dogs-tip":"Il est conseillé d\'ajouter des chiens avant d\'enregistrer des entraînements","add-dog":"Ajouter un chien","no-tracks":"Aucun chien enregistré","no-tracks-tip-1":"Il est conseillé d\'ajouter des chiens avant d\'enregistrer des entraînements. Ainsi le nombre de kilomètres et le denivelé sera automatiquement totalisé","no-tracks-tip-2":"Si vous n\'avez pas le fichier GPX de ce tour, vous pouvez toujours enregistrer l\'entraînement","add-track":"Ajouter un entraînement","no-workouts":"Aucun entraînement est enregistré {{month}} {{year}}","no-workouts-1":"Le suivi dans l\'application n\'est pas encore tout à fait clair en raison de certaines limitations techniques d\'Apple iOS.","no-workouts-2":"Lorsque j\'aurai un téléphone Android, je configurerai cette fonctionnalité pour qu\'elle puisse y être utilisée.","no-workouts-3":"Les cartes de l\'itinéraire que vous avez parcouru sont saisies en GPX pendant les tours.","no-workouts-howto":"C\'est ainsi que vous commencez","no-workouts-howto-1":"Clique sur le bouton \\"ajouter un entraînement\\" en haut à droite","dogs-positions":"Position dans l\'attelage","search-for":"Chercher un entraînement","gpx":"Gpx","gpx-help":"Gpx de cet entraînement","current":"Actuel","totals":"Total","seasontotals":"Total de la saison","analysis":"Analyse","images":"Photos","handlers":"Musher","workoutplan":"Plan d\'entraînement","table":"Tableau","calendar":"Calendrier","go-to-tracking":"Aller au GPS","admin-edit":"Editer comme admin","reimport-strava":"Reimporter Strava data","reimport-garmin":"Reimporter Garmin data","like":"J\'aime"},"search":{"title":"Chercher","text-1":"La fonction de recherche n\'est pas encore disponible","text-2":"Que voudriez-vous rechercher ici ? Envoyez-moi un message sur Facebook :)"},"teams":{"connect":{"teams-to-follow":"Equipe que tu peux suivre","teams-follow-requests":"Demande de suivi","wants-to-follow":"Souhaite suivre:","confirm":"Confirmer","confirm-and-follow":"Confirmer et suivre","delete":"Supprimer la demande","block":"Bloquer l\'équipe","confirmed":"Confirmer","deleted":"Supprimer","all-teams":"Toutes les équipes publiques - {{total}}","follow":"Suivre","is-following":"Suivant","is-blocked":"Bloqué","has-requested":"En attente de confirmation","how-summary":"Comment cela fonctionne?","how-text":"Que peuvent voir ceux qui suivent mon équipe ? La réponse est : un peu. Ils peuvent voir un résumé des séances d\'entraînement que vous partagez et les noms des chiens. Rien de plus que ça. Essayez de suivre vous-même une ou plusieurs équipes, et vous verrez ce que vous pouvez voir."},"addmember":{"title":"Equipes - Ajouter un membre","add-new":"Ajoute un nouveau membre dans","email":"E-mail","email-help":"E-mail du nouveau membre","info-1":"Les membres ajoutés auront un accès complet aux chiens, à l\'entraînement et aux sentiers de cette équipe.","info-2":"Nous vous recommandons d\'ajouter uniquement des personnes de confiance :)","save-new":"Enregistrer un nouveau membre"},"edit":"Changer","admin":"Admin","kmt":"km/h","dogs":"Chiens - {{total}} nbr","members":"Membres  - {{total}}","add-new-member":"Ajouter un membre","delete":"Supprimer","name":"Nom de l\'équipe","name-help":"Nom de l\'équipe A-Team, Equipe B, les pensionnaires","public":"Ouvert au publique","public-help":"L\'équipe doit-elle pouvoir suivre ? Tous ceux qui veulent suivre doivent d\'abord être approuvés par vous. Ceux qui suivent l\'équipe ne pourront voir que les informations que vous partagez. Les détails de la formation et d\'autres éléments ne sont visibles que par vous-même.","address":"Adresse","address-help":"Adresse de l\'équipe","postalcode":"Numéro postal","place":"Lieu","place-help":"Lieu de l\'équipe","country":"Pays","country-help":"Pays de l\'équipe","ambitions":"Ambitions","ambitions-help":"Ambitions de l\'équipe. (Est utilisé pour le ratio d\'indice de charge)","type":"Genre","type-help":"Type de l\'équipe ( Est utilisé pour le ratio d\'indice de charge)","save-new":"Enregistrer une nouvelle équipe","edit-team":"Changer l\'équipe","photos":"Photos","photos-help":"Photos de l\'équipe","profile-photos":"Photo de profile","profile-photos-help":"Photo de profile de l\'équipe","description":"Description","description-help":"Description de l\'équipe","url":"Lien du site internet","url-help":"Lien du site internet de l\'équipe","facebook":"Facebook","facebook-help":"Lien facebook","instagram":"Instagram","instagram-help":"Lien instagram","choose-country":"Choisir un pays","saved":"Equipe enregistré","all-teams":"Ton équipe - {{total}}","add-new":"Ajouter une équipe","changes-saved":"Changer l\'équipe","fitness":"Fitness, fatigue et forme","legend-fitness":"Fitness","legend-fatigue":"Fatigue","legend-form":"Form","public-profile":"Page officielle","socialmedia":"Média sociaux","add-sosialmedia":"Changer l\'équipe et ajouter sur les média sociaux","add-description":"Accédez à modifier le profil de l\'équipe pour ajouter une description.","public-photos":"Photos de l\'équipe - {{total}}","something-missing":"Manque-t\'il quelque chose sur la page ? Envoie-nous un message sur facebook","stats":"Statistiques","presentation":"Présentations","pictures":"Photos","dogs-menu":"Chiens","mushers":"Musher","workouts":"Entraînements","fitness-menu":"Forme","compare":"Comparer","trophy":"Trofés","achievements":"Souvenis","links":"Liens","files":"Documents","followers":"Followers","veterinary":"Vétérinaire","log":"Avancé","images":"Photos","trophy-details":"Détails","dogs-help":"Quel chien est dans quelle équipe","info":"Informations","status":"Status","internet":"Média sociaux","postalcode-help":"Numéro postal de l\'équipe","snapchat":"Snapchat","snapchat-help":"Utilisateur snapchat","header-photo":"Photo de couverture","header-photo-help":"Photo de couverture de l\'équipe","photo":"Photo","photo-help":"Photo de l\'équipe","profile-photo":"Photo de profile","profile-photo-help":"Photo de l\'équipe","achievements-help":"Souvenir de cette équipe","links-help":"Liens vers cette équipe","files-help":"Documents de cette équipe","no-images-title":"Aucune photo pour cet équipe","no-images-text":"Vous pouvez ajouter autant de photos que vous le souhaitez. Photos de chiots, photos d\'entraînement, photos d\'été paresseux, etc. Tout contribue à créer un meilleur profil pour cette équipe.","no-achievements-title":"Aucun souvenir pour cette équipe","no-achievements-text":"Tu peux ajouter des souvenirs pour cette équipe. Par. ex: première course, trekking, prix, entraînements","no-trophys-title":"Aucun trophé pour cette équipe","no-trophys-text":"Tu peux ajourer plus d\'entraînements, de photos, textes etc pour gagner plus de trophés","no-files-title":"Aucun document n\'est enregistré pour cette équipe","no-files-text":"Tu peux télécharger tout type de documents","no-workouts-title":"Aucun entraînement pour cette équipe","no-workouts-text":"Tu peux ajouter plusieurs entraînements","no-dogs-title":"Aucun chien dans cette équipe","no-dogs-text":"Tu peux ajouter plusieurs chiens dans cette équipe","notfollowing":"Equipe que tu ne suis pas","waiting-approval":"En attente de confirmation","following":"Suis","no-more-teams-to-follow":"Aucune équipe à suivre","no-pending-follow-requests":"Pas de demandes en attente","not-following-any-teams":"Tu ne suis aucune équipe","no-followers":"Pour le moment aucune équipe ne te suis. Mais c\'est facile de changer cela. Tu peux publier des photos et commenter les photos des autres sur le mur principal. Actualise régulièrement ton profile avec des nouvelles photos et informations","heatmap":"Carte d\'ensemble","heatmap-info":"Cette carte te montre où tu as entrainé cette saison","blocked-followers":"Team bloqués","not-public":"Pas publique","no-photos":"Pas de photos pour cette équipe"},"tracks":{"your-tracks":"Tes parcours","public-tracks":"Parcours publiques","edit":"Changer","date":"Date","date-help":"Date du tour","time":"Heure","time-help":"Heure du tour","distance":"Distance en km","elevation":"Montée","downhill":"Descente","duration":"Durée normale","speed":"Vitesse normale","delete":"Supprimer","all-tracks":"Tes tours d\'entrainements -  nbr {{total}}","all-public-tracks":"Les tours publiques - nbr  {{total}}","add-new":"Ajouter un itinéraire","no-tracks-yet":"Pas de tours enregistrés pour le moment","no-tracks-info-1":"Tu as la possibilité de télécharger un fichier GPX","no-tracks-info-2":"Il y a beaucoup d\'applications pour enregistrer les données GPX, mais nous conseillons celles-ci","howto-title":"Comment démarrer","howto-1":"Clique sur le bouton \\"ajouter un entraînement\\" en haut à droite","changes-saved":"Changements enregistrés","save":"Enregistrer un nouvel itinéraire","gpx-info":"Pour ajouter un fichier GPX il faut en premier enregistrer et revenir sur cet entraînement","saved":"Itinéraire enregistré","title":"Titre","title-help":"Titre du tour. Par ex. \\"Tour du lac bleu\\"","distance-help":"Combien de km sur ce tour","elevation-help":"Dénivelés positifs sur cet itinéraire","photos":"Photos","photos-help":"Photos de cet itinéraire","gpx":"GPX","gpx-help":"Fichier GPX pour cet itinéraire","filter-all":"Tout afficher","filter-only-map":"Afficher seulement ceux avec une carte","weather-start":"Météo au point de départ","weather-hide-details":"Masquer les détails","weather-show-details":"Montrer les détails","map":"Carte","stats":"Tes statistiques","weather":"Météo","summary":"Infos sur l\'itinéraire","your-workout-summary":"Tes entrainements sur cet itinéraire","no-workout-summary":"Pas d\'entrainements enregistrés sur cet itinéraire. Tu peux sélectionner cette option lors de l\'enregistrement des entraînements.","no-weather":"Pas de prévision météorologique pour cet itinéraire","summary-info":"Les estimations pour ce parcours sont faites en fonction des paramétrages enregistrés pour votre équipe.","no-photos":"Pas de photos pour cet itinéraire"},"form":{"files":{"upload-file":"Télécharger un fichier"}},"users":{"title":"Ton profil","email":"E-mail","password":"Mot de passe","password-confirm":"Confirmer le mot de passe","change-password":"Changer le mot de passe","passwords-matches":"Les mots de passe sont égaux","edit-password-changed":"Mot de passe changé","back-to-profile":"Retour au profil","main-team":"Equipe principale","all-teams":"Toutes les équipes","username":"Nom d\'utilisateur","firstname":"Prénom","lastname":"Nom","cellphone":"Nr de téléphone","homepage":"Site internet","facebook":"Facebook","instagram":"Instagram","snapchat":"Snapchat","strava-get-activities":"Afficher la dernière activité","strava-reconnect":"Reconnecter à Strava","strava-reconnect-help":"Si tu rencontres des problèmes de connexion, tu peux te connecter à nouveau","strava-connect":"Connexion à Strava","strava-connected":"Tu es connecté à Strava","strava-id":"Nr d\'identification","strava-username":"Nom d\'utilisateur","strava-profile":"Photo de profile","garmin-reconnect":"Reconnecter à Garmin","garmin-reconnect-help":"Si tu rencontres des problèmes de connexion, tu peux te connecter à nouveau","garmin-connect":"Connexion à Garmin Connect","garmin-connected":"Tu es connecté à Garmin","invite":{"title":"Inviter un nouveau utilisateur à employer The Musher","text":"J\'espère que vous nous aiderez à devenir plus. Il est toujours agréable d\'avoir plus d\'utilisateurs et vous pouvez gagner des points qui peuvent être utilisés pour la version premium.","email":"E-mail","email-placeholder":"E-mail du nouveau membre","send":"Envoyer une invitation","thanks":"Merci !","more":"Inviter plus d\'utilisateurs","hide":"Masquer la zone d\'invitation"},"edit":"Changer","username-help":"Ton nom d\'utilisateur pour The Musher","firstname-help":"Ton prénom","lastname-help":"Ton nom de famille","cellphone-help":"Ton numéro de téléphone portable","url":"Site internet","url-help":"Ton site internet","facebook-help":"Ton profile facebook","instagram-help":"Ton profile Instagram","snapchat-help":"Ton profile snapchat","photos":"Photos","photos-help":"Tes photos","saved":"Profile enregistré","settings-text-info":"Toutes les paramétrages se trouvent dans ton profile","hide-settings":"Masquer les paramétrages de la page d\'accueil","settings-hide-settings":"Masquer les paramétrages","settings-hide-settings-help":"Masquer les paramétrages de la page d\'accueil","settings":"Paramétrages","settings-hide-profile":"Masquer le profile","settings-hide-profile-help":"Si tu ne veux pas que les autres puissent te trouver et demander à te suivre, tu peux masquer ton profil ici.","settings-hide-invite":"Masquer la zone d\'invitation","settings-hide-invite-help":"Masquer la zone d\'invitation de la page d\'accueil","settings-allow-racevet":"Vétérinaire autorisés","settings-veterinary-help":"Si tu souhaite que les vétérinaires agréés puissent faire une demande pour toi et saisir les vaccins, tu dois l\'activer ici.","settings-summary-email":"Résumé","settings-receive-summary-email":"Recevoir le résumé par e-mail","settings-notification-email":"Notifications","settings-receive-notification-email":"Recevez des alertes par e-mail lorsqu\'elles ne sont pas lues depuis longtemps.","settings-info-email":"Infos","settings-receive-info-email":"Recevoir les infos par e-mail","settings-partner-email":"Partenaires","settings-receive-partner-email":"Aide à développer davantage l\'application The Musher en recevant des offres spéciales de partenaires par e-mail. Par exemple : Nourriture, équipement et autres choses liées au traîneau à chiens. Aucun spam ne sera autorisé et les adresses e-mail ne seront pas révélées.","subscriptions":"Abonnement","integrations":"Intégraton","connect":{"title":"Trouver un ami","search":"Chercher","search-placeholder":"Chercher un ami ou une connaissance","doSearch":"Chercher"}},"install":{"install-app":"Installer The Musher App"},"news":{"edit":"Changer","add-new":"Créer du nouveau contenu","back":"Arrière","heading":"Nouvelles et informations","heading-howo":"Comment tu fais ça?","create":"Nouveau"},"comments":{"like":"J\'aime","has-liked":"J\'ai aimé","comment-add":"Commenter","show-more":"Afficher {{more}} plus de commentaires","hide-all-comments":"Masquer tous les commentaires","comment":"Commenter","add-comment":"Envoyer","write-comment":"Écrire un commentaire"},"race":{"therace":"Carrière","news":"informations","more-news":"Plus de nouvelles","mushers":"Mushers","results":"Résultats","tracking":"Suivi GPS","media":"Photos","edit":"Modifier la course","new":"Nouvelle course","signup-payment":"Paiement de l\'inscription","location":"Endroit","about":"A propos de la course","rules":"Règles","veterinary":"Informations vétérinaires","checkpoints":"Points de contrôle","track-description":"Description de la piste","program":"Programme","prices":"Des prix","classes":"Classes de course","signup":"Inscrivez-vous","distance":"Distance","startdate":"Début","enddate":"Finir","to-top":"Jusqu\'au sommet"},"races":{"homerun":"Courses à domicile","signup-open":"Inscription ouverte","race-finished":"Course terminée","race-in-progress":"Course en cours","classes":"Classes de course","race-days":"Jours de course","signup":"Inscrivez-vous","periode":"Période","signed-in-as":"connecté en tant que","signed-up":"Vous vous êtes inscrit avec succès !","paid":"Payé","payment-info":"Paiement de l\'inscription","click-to-change":"Cliquez pour modifier les informations.","cellphone":"Téléphone portable","firstname":"Prénom","lastname":"Nom de famille","sportsclub":"Club de sport","facebook":"Facebook","instagram":"Instagram","team":"Équipe","class":"Classe de course","cellphone-help":"Quel est ton numéro de portable?","firstname-help":"Quel est votre prénom?","lastname-help":"Quel est ton nom de famille?","sportsClub-help":"De quel club de sport es-tu membre ?","facebook-help":"Quel est votre nom d\'utilisateur Facebook ?","instagram-help":"Quel est votre nom d\'utilisateur Instagram ?","choose-team":"Choisir l\'équipe","choose-class":"Choisissez la classe de course","choose-team-help":"Choisissez parmi vos équipes","choose-class-help":"Choisissez la classe de course","agreement-accept":"J\'ai lu et j\'accepte les règles.","do-signup":"S\'inscrire","signup-not-open-yet":"L\'inscription n\'est pas encore ouverte !","signup-closed":"Inscriptions closes!","signup-opening":"Ouverture des inscriptions bientôt","races":"Les courses:","results":"Résultats","mushers":"Mushers","mushers-on-trail":"Mushers en piste","finished-mushers":"Mushers finis","tracking":"Suivi","photos":"Photos","hide-details":"Cacher les détails","read-more":"Lire la suite","results-here":"Voir les résultats","on-trail":"Sur la piste","favorites":"Favoris","name":"Nom","start-date":"Date de début","distance":"Distance","ascend":"Ascendant","avg-speed":"vitesse moyenne","race-time":"Temps de course","rest-time":"Temps de repos","load-index":"Indice de charge","current-speed":"Vitesse actuelle","elevation":"Élévation","elevation-graph":"El. graphique","stages":"Étapes","result":"Résultat","musher-here":"Voir les concurrents","dogs":"Chiens","admin":"Administrateur","no-team-on-trail":"Aucune équipe ne suit en direct dans l\'application The Musher pour le moment...","no-teams-signed-up":"Aucune équipe n\'est encore inscrite...","hide-signup":"Abandonner l\'inscription","signup-another-team":"Inscrivez-vous à plus de cours","starting-teams":"{{totalContestants}} inscrits à {{totalClasses}} classes de course","choose-correct-team-and-type":"Choisissez l\'équipe et le type corrects pour la course."},"story":{"body":"L\'histoire","write-body":"A quoi es-ce que tu penses..?","add-story":"Publier","public":"c\'est public","show-all":"Afficher tout","back-to-wall":"Retour à tous","alert-text-1":"Votre équipe n\'est pas visible et il n\'est pas possible de demander l\'amitié avec votre équipe.","alert-text-2":"Si vous souhaitez rendre votre équipe visible afin que d\'autres puissent demander à suivre votre équipe, vous pouvez trouver le paramètre ici :","alert-text-3":"Modifier l\'équipe","sort":{"new":"Dernier en premier","likes-desc":"La plupart des likes en premier","likes-asc":"Le moins de likes en premier","comments-desc":"La plupart des commentaires en premier","comments-asc":"Le moins de commentaires en premier"},"share":"Partager","type":"les types","type-choose":"Choisissez le type","type-regular":"Ordinaire","type-ad":"Un d","type-article":"Article","team-choose":"Choisir l\'équipe","url-text":"Texte de l\'URL","url":"URL","country":"Pays","region":"Région","currency":"Monnaie","price":"Prix","ad-url-readmore":"Lire la suite...","ad-campaign-code":"Code de campagne","sponsored":"Sponsorisé"},"premium":{"title":"Prime"},"types":{"trening":"entraînement","konkurranse":"competition","tur":"Randonnée","aktivitet":"activité","vanntrening":"Natation","gåtur":"marche à pied","Løsslipp":"Course libre","annet":"autre"},"intensities":{"Easy":"Facile","Normal":"Normal","Hard":"Dificile"},"teamAmbitions":{"Ingen ambisjoner":"Sans ambitions","Glad amatør":"Amateur heureux","Amatør":"Amateur","Seriøs amatør":"amateur sérieux","Proff":"Pro"},"teamTypes":{"Tur":"Randonnées","Turistkjøring":"Visites guidées","Sprint":"Sprint","Mellomdistanse":"Moyenne distance","Langdistanse":"Longue distance"},"dogPositions":{"Leader":"Leader","Team":"Équipe","Wheel":"Roue"},"dogstatuses":{"Avls-sperre":"Pas d\'élevage","Drektig":"Enceinte","Kastrert/sterilisert":"Castré/stérilisé","Løpetid":"En chaleur","Medisinering":"Médication","Normal":"Normal","Omplassering":"Placé aileurs","Pensjonist":"Retraité","Skadet":"Blessée","Syk":"Malade","Valp/unghund":"Chiot/jeune chien","Overoppheting":"Surchauffe","Korthåret/trenger dekken":"Poil court/besoin de veste"},"equipments":{"Slede":"Traîneau","Atv":"VTT","Utv":"UTV","Bil":"Voiture","Trollvogn":"Chariot de troll","Ski":"Ski","Annen vogn":"Autre chariot","Sykkel":"Bicyclette","Kickbike":"Kickbike","Kickspark":"Trottinette","Jogging":"Jogging","Hundehjul":"Roue d\'entrainement","Ingen utstyr":"Pas d\'équipement"},"harnesses":{"small":"petit","medium":"moyen","large":"grand","xlarge":"xlarge","xxlarge":"xxlarge"}}')},"1pd0":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("Y3FI"),s("OhSV")),d=s("go65"),h=s("ZOvn");const u=h.a.marginTop(!1),p=h.a.marginTopBack(!1),m=h.a.marginBottom(),b={isCapsLock:!1,passwordType:"password",password:"",passwordConfirm:""};let f=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.togglePassword=()=>{let{passwordType:e}=this.state;e="password"===e?"text":"password",this.setState({passwordType:e})},this.updateCapsLockStatus=e=>{this.setState({isCapsLock:e})},this.changePassword=async function(){const{password:e,passwordConfirm:s}=t.state,{userStore:a}=t.props.stores,i=await a.changePassword({password:e,passwordConfirm:s});t.setState(200===i.status?{password:"",passwordConfirm:"",passwordChanged:!0,passwordChangeFailed:!1}:{passwordChanged:!1,passwordChangeFailed:!0})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b),this.updateTimer={}}async loadUser(){const{userStore:e}=this.props.stores;e.getInfo()}componentDidMount(){this.loadUser()}render(){const{password:e,passwordConfirm:t,passwordType:s,isCapsLock:a,passwordChanged:i}=this.state,{userStore:o}=this.props.stores,{user:l}=o,{email:h}=l,b=r.a.scorePassword(e),f=r.a.normalizeBetween(b,0,80,0,100,100),g=r.a.checkPassStrength(e,["bg-danger","bg-warning","bg-success","bg-success"]),O=e===t,v=O&&f>30;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${u};`},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${p}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"offset-0 col-12 offset-sm-2 col-sm-8 offset-lg-4 col-lg-4",style:"padding-left: 35px;"},i?Object(n.h)("div",null,Object(n.h)("h5",null,Object(n.h)(c.c,{id:"users.edit-password-changed"},"Passord er endret"),": ",h),Object(n.h)("a",{href:"/users/"},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}),Object(n.h)(c.c,{id:"users.back-to-profile"},"Tilbake til profilen"))):Object(n.h)("div",null,Object(n.h)("h5",null,Object(n.h)(c.c,{id:"users.edit-password"},"Endre passord"),": ",h),Object(n.h)("div",{class:"form-group"},Object(n.h)("label",{for:"passwordInput"},Object(n.h)("i",{class:"fas fa-key"})," ",Object(n.h)(c.c,{id:"login.password"},"Passord")),Object(n.h)("div",{class:"input-group"},Object(n.h)("input",{type:s,class:"form-control",id:"passwordInput",autoComplete:"new-password",onInput:Object(d.a)(this,"password"),value:e,onKeypress:e=>{r.a.isCapsLock(e,this.updateCapsLockStatus)}}),Object(n.h)("div",{class:"input-group-append"},Object(n.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(n.h)("i",{class:"fas fa-eye"+("text"===s?"-slash":"")})))),Object(n.h)("div",{class:"progress",style:"height: 2px;"},Object(n.h)("div",{class:"progress-bar "+g,role:"progressbar",style:`width: ${f}%;`})),Object(n.h)("div",{class:"invalid-feedback",style:""+(f>0&&f<30?"display: block":"")},Object(n.h)(c.c,{id:"register.password-too-weak"},"Passordet ditt er for svakt. Forsøk et annet passord eller legg til flere bokstaver.")),Object(n.h)("div",{class:"valid-feedback text-warning",style:""+(f>=30&&f<70?"display: block":"")},Object(n.h)(c.c,{id:"register.password-weak"},"Passordet ditt er svakt, men vis skal gjøre vårt beste for å passe på deg.")),Object(n.h)("div",{class:"valid-feedback",style:""+(f>=70?"display: block":"")},Object(n.h)(c.c,{id:"register.password-ok"},"Passordet ditt ser bra ut."))),a&&Object(n.h)("div",{class:"alert alert-danger",role:"alert"},Object(n.h)(c.c,{id:"login.caps-lock-on"},"CAPS LOCK er på!")),Object(n.h)("div",{class:"form-group"},Object(n.h)("label",{for:"passwordInput"},Object(n.h)("i",{class:"fas fa-key"})," ",Object(n.h)(c.c,{id:"login.password-confirm"},"Confirm passord")),Object(n.h)("div",{class:"input-group"},Object(n.h)("input",{type:s,class:"form-control",id:"passwordInput",autoComplete:"new-password",onInput:Object(d.a)(this,"passwordConfirm"),value:t,onKeypress:e=>{r.a.isCapsLock(e,this.updateCapsLockStatus)}}),Object(n.h)("div",{class:"input-group-append"},Object(n.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(n.h)("i",{class:"fas fa-eye"+("text"===s?"-slash":"")})))),Object(n.h)("div",{class:"valid-feedback",style:""+(e&&O?"display: block":"")},Object(n.h)(c.c,{id:"users.passwords-matches"},"Passordene er like."))),Object(n.h)("button",{class:`btn btn-${v?"":"outline-"}success`,disabled:!v,onClick:this.changePassword},Object(n.h)(c.c,{id:"users.edit-password"},"Endre passord"))))))}})||o;t.a=f},"2JTI":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=e.toString().trim();return!isNaN(parseFloat(t))&&parseFloat(t)===Number(t)}},"2X7c":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=(s("cneo"),s("go65")),h=s("OhSV"),u=s("ZOvn"),p=s("X9Km"),m=s("om2D"),b=s("3on9");const f=u.a.getVaccineTypes(),g={showLog:!1,okToAddLog:!0};let O=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.toggleLog=()=>{const{showLog:e}=this.state;this.setState({showLog:!e})},this.resetLog=()=>{this.setState({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date),dogs:[]},showLog:!1})},this.addImages=e=>{if(Array.isArray(e.value)){const{newHistory:t}=this.state;t.images=Array.isArray(t.images)?[...t.images,...e.value]:e.value,this.setState({newHistory:t})}},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.imageUploadStatus=e=>{this.setState({okToAddLog:e})},this.insertLog=async function(){const{newHistory:e}=t.state,{dogStore:s,userStore:a}=t.props.stores,{callback:o}=t.props,{dog:n}=s,{user:r}=a;return e.title||e.comment?e.id||0!==e.dogs.length?(e.date=`${e.date} ${e.time}`,await s.save({id:n.id||e.dogs[0],history:i({user:{id:r.id,email:r.email,firstname:r.firstname,lastname:r.lastname}},e)}),t.resetLog(),await t.loadDog(),await t.loadFeed(),void(l.a.isDefined(o)&&o())):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler hunder til logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),!1):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler tittel på logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),!1)},this.updateField=({field:e,value:t})=>{const{newHistory:s}=this.state;s[e]=t,this.setState({newHistory:s})},this.setHistoryType=e=>{const{userStore:t}=this.props.stores,{user:s}=t,{language:a="en"}=s,i=u.a.getHistoryMap(a),{newHistory:o}=this.state,n=e.target.value;o.historyType=n,o.title||(o.title=i[n]),"maturity"===o.historyType&&(o.endDate=l.a.isoDate(l.a.addDays(o.date,21),!1,!1,!0)),"mating"!==o.historyType&&"unwantedMating"!==o.historyType||(o.endDate=l.a.isoDate(l.a.addDays(o.date,63),!1,!1,!0)),this.setState({newHistory:o})},this.setVaccineType=e=>{const{newHistory:t}=this.state,s=e.target.value;t.vaccineType=s,t.title+=" - "+f[s].name,t.endDate=l.a.isoDate(l.a.addDays(t.date,f[s].duration),!1,!1,!0),this.setState({newHistory:t})},this.state=i({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date),dogs:[]}},g)}async loadDog(e=this.props){const{dog:t}=e;if(t&&t.id){const{newHistory:e}=this.state;e.dogs=[t.id],this.setState({newHistory:e})}}async loadFeed(){const{userStore:e}=this.props.stores;await e.getFeed({})}componentWillMount(){this.resetLog(),this.loadDog()}componentWillReceiveProps(e){e.dog.id!==this.props.dog.id&&(this.resetLog(),this.loadDog(e))}render(){const{newHistory:e,showLog:t,okToAddLog:s}=this.state,{dog:a}=this.props,{workoutStore:i,userStore:o}=this.props.stores,{currentTeam:n}=i,l=o.findTeam(n,!0);return t?Object(r.h)("div",{class:"col-12 px-0 border rounded "},Object(r.h)("button",{class:"btn btn-sm btn-secondary float-left",onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",t?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg")),Object(r.h)("br",null),t&&Object(r.h)("div",{class:"mb-2 py-4 px-2"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg")),Object(r.h)(h.b,null,Object(r.h)(b.a,{stores:this.props.stores,object:e,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(r.h)(h.c,{id:"dog.addlog.dogs"},"Hunder"),help:Object(r.h)(h.c,{id:"dog.addlog.dogs-help"},"Hvilke hunder gjelder dette?"),updateField:this.updateField,filter:t=>a.id===t.id||e.dogs.indexOf(t.id)>-1,currentTeam:l})),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"dateInput"},Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.date"},"Dato")),Object(r.h)("input",{type:"date",class:"form-control",id:"dateInput","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"newHistory.date"),value:e.date,autocomplete:"off"}),Object(r.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.date-help"},"Dato for logglinje."))),Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"timeInput"},Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"dog.addlog.time"},"Klokka")),Object(r.h)("input",{type:"time",class:"form-control",id:"timeInput","aria-describedby":"timeHelp",onInput:Object(d.a)(this,"newHistory.time"),value:e.time,autocomplete:"off"}),Object(r.h)("small",{id:"timeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.time-help"},"Tid for logglinje.")))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"typeInput"},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"dog.addlog.type"},"Type hendelse")),Object(r.h)("select",{class:"form-control",id:"typeInput","aria-describedby":"typeHelp",onInput:this.setHistoryType,value:e.historyType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-type"},"Velg type")," --"),Object(r.h)("option",{value:"other"},Object(r.h)(h.c,{id:"dog.addlog.other"},"Annet")),Object(r.h)("option",{value:"stoolProblem"},Object(r.h)(h.c,{id:"dog.addlog.stoolProblem"},"Avføringsproblem")),Object(r.h)("option",{value:"bodyScore"},Object(r.h)(h.c,{id:"dog.addlog.bodyScore"},"Bodyscore")),Object(r.h)("option",{value:"diarrhea"},Object(r.h)(h.c,{id:"dog.addlog.diarrhea"},"Diarè")),Object(r.h)("option",{value:"foodLeftover"},Object(r.h)(h.c,{id:"dog.addlog.foodLeftover"},"Ikke spist opp maten")),Object(r.h)("option",{value:"animalchiropractor"},Object(r.h)(h.c,{id:"dog.addlog.animalchiropractor"},"Dyrekiropraktor")),Object(r.h)("option",{value:"clawClip"},Object(r.h)(h.c,{id:"dog.addlog.clawClip"},"Kloklipp")),Object(r.h)("option",{value:"maturity"},Object(r.h)(h.c,{id:"dog.addlog.maturity"},"Løpetid")),Object(r.h)("option",{value:"massage"},Object(r.h)(h.c,{id:"dog.addlog.massage"},"Massasje")),Object(r.h)("option",{value:"newStraw"},Object(r.h)(h.c,{id:"dog.addlog.newStraw"},"Ny halm/treull")),Object(r.h)("option",{value:"update"},Object(r.h)(h.c,{id:"dog.addlog.update"},"Oppdatering")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"mating"},Object(r.h)(h.c,{id:"dog.addlog.mating"},"Parring")),Object(r.h)("option",{value:"injury"},Object(r.h)(h.c,{id:"dog.addlog.injury"},"Skade")),Object(r.h)("option",{value:"fight"},Object(r.h)(h.c,{id:"dog.addlog.fight"},"Slåsskamp")),Object(r.h)("option",{value:"sick"},Object(r.h)(h.c,{id:"dog.addlog.sick"},"Syk")),Object(r.h)("option",{value:"unwantedMating"},Object(r.h)(h.c,{id:"dog.addlog.unwantedMating"},"Tjuvparring")),Object(r.h)("option",{value:"vaccine"},Object(r.h)(h.c,{id:"dog.addlog.vaccine"},"Vaksine")),Object(r.h)("option",{value:"weight"},Object(r.h)(h.c,{id:"dog.addlog.weight"},"Veiing")),Object(r.h)("option",{value:"veterinarianVisit"},Object(r.h)(h.c,{id:"dog.addlog.veterinarianVisit"},"Vetrinær besøk")," ")),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.type-help"},"Type hendelse. Vetrinær besøk, vaksinering, syk, løpetid, etc."))),["vaccine"].indexOf(e.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"vaccineTypeInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(r.h)("select",{class:"form-control",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:this.setVaccineType,value:e.vaccineType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(r.h)("option",{value:"rabies"},Object(r.h)(h.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"BbPi"},Object(r.h)(h.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(r.h)("option",{value:"DHP"},Object(r.h)(h.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(r.h)("option",{value:"DHPPi"},Object(r.h)(h.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)"))),Object(r.h)("small",{id:"vaccineTypeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.vaccine-help"},"Hvilken vaksinetype er dette?"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"nameInput"},Object(r.h)(h.c,{id:"dog.addlog.title"},"Tittel")),Object(r.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"newHistory.title"),value:e.title,autocomplete:"off",required:!0}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.title-help"},"Tittel på logglinje. Vetrinær besøk, Vaksinering, Syk, Profilbilde, etc."))),["vaccine","maturity","unwantedMating","mating"].indexOf(e.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"endDateInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.duration"},"Varighet")),Object(r.h)("input",{type:"date",class:"form-control",id:"endDateInput","aria-describedby":"endDateHelp",onInput:Object(d.a)(this,"newHistory.endDate"),value:e.endDate,autocomplete:"off"}),Object(r.h)("small",{id:"endDateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.duration-help"},"Når går denne vaksinen ut?"))),("weight"===e.historyType||"bodyScore"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"weightInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog"},"Vekt")),Object(r.h)("input",{type:"text",class:"form-control",id:"weightInput","aria-describedby":"weightHelp",onInput:Object(d.a)(this,"newHistory.weight"),value:e.weight,autocomplete:"off"}),Object(r.h)("small",{id:"weightHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog-help"},"Vekten til hunden."))),("weight"===e.historyType||"bodyScore"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"bodyScoreInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.bodyscore"},"Bodyscore")),Object(r.h)("input",{type:"text",class:"form-control",id:"bodyScoreInput","aria-describedby":"bodyScoreHelp",onInput:Object(d.a)(this,"newHistory.bodyScore"),value:e.bodyScore,autocomplete:"off"}),Object(r.h)("small",{id:"bodyScoreHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.bodyscore-help"},"Bodyscore til hunden."))),("veterinarianVisit"===e.historyType||"vaccine"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"costInput"},Object(r.h)("i",{class:"fas fa-money-bill-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.cost"},"Kostnad")),Object(r.h)("input",{type:"text",class:"form-control",id:"costInput","aria-describedby":"costHelp",onInput:Object(d.a)(this,"newHistory.cost"),value:e.cost,autocomplete:"off",pattern:"[0-9]{3}",title:"Kun tall. Ikke noen andre tegn eller symboler."}),Object(r.h)("small",{id:"costHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.cost-help"},"Kostnad for denne hendelsen."))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"commentInput"},Object(r.h)("i",{class:"fas fa-quote-right"})," ",Object(r.h)(h.c,{id:"dog.addlog.commet"},"Kommentar")),Object(r.h)("input",{type:"text",class:"form-control",id:"commentInput","aria-describedby":"commentHelp",onInput:Object(d.a)(this,"newHistory.comment"),value:e.comment,autocomplete:"off"}),Object(r.h)("small",{id:"commentHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.comment-help"},"Kommentar til loggen. Skriv mer om hva som hendte."))),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"row-12"},Object(r.h)("label",{for:"imageInput"},Object(r.h)("i",{class:"fas fa-camera"})," ",Object(r.h)(h.c,{id:"dog.addlog.images"},"Bilder")))),Object(r.h)("div",{class:"row"},e.images&&e.images.map(e=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}))))),Object(r.h)(m.a,{object:e,field:"images",updateField:this.addImages,uploadStatus:this.imageUploadStatus}),Object(r.h)("button",{type:"button",class:"btn btn-success",onClick:this.insertLog,disabled:!s},s?Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg"):Object(r.h)(h.c,{id:"dog.addlog.please-wait"},"vent litt...")),Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.resetLog},Object(r.h)(h.c,{id:"dog.addlog.cancel"},"Glem det")))):Object(r.h)("button",{class:"btn btn-sm btn-secondary float-left",onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",t?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg"))}})||n;t.a=O},"2kBs":function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l,c,d,h,u,p,m=s("cneo"),b=s("0frO"),f=s("Utv1"),g=s("Y3FI"),O=s("X9Km");Object(m.f)({enforceActions:"always"});const v=new(n=i((o=class extends b.a{constructor(){super("ad",{namePlural:"ads",sort:"createdDate",limit:100,api:{search:{url:"/api/ads/",params:{limit:15,sort:"createdDate"}},load:{url:"/api/ads/",params:{}},save:{url:"/api/ads/",params:{}}}}),a(this,"newAd",n,this),a(this,"ad",r,this),a(this,"ads",l,this),a(this,"adViews",c,this),a(this,"adClicks",d,this),a(this,"viewCounts",h,this),a(this,"clickCounts",u,this),a(this,"time",p,this)}setTime(){this.time=(new Date).getTime()}removeImageLocal({id:e,name:t}){if(f.a.isArray(this.ad.images)){const e=this.ad.images.findIndex(e=>e.name===t);e>-1&&this.ad.images.splice(e,1)}const s=this.ads.findIndex(t=>t.id===e);if(s>-1){const e=this.ads[s].images.findIndex(e=>e.name===t);e>-1&&this.ads[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await f.a.fetchApi("/api/ads/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}async logView({id:e,user:t}){const s=await f.a.fetchApi(`/api/ads/${e}/view`,{publish:!0,method:"PATCH"},{user:t});switch(s.status){case 202:return s}}async logClick({id:e,user:t}){const s=await f.a.fetchApi(`/api/ads/${e}/click`,{publish:!0,method:"PATCH"},{user:t});switch(s.status){case 202:return s}}async loadById({id:e,showall:t}){const s=await f.a.fetchApi("/api/ads/"+e,{publish:!0,method:"GET"},{showall:t});switch(s.status){case 200:return s.data}}}).prototype,"newAd",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"ad",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=i(o.prototype,"ads",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=i(o.prototype,"adViews",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=i(o.prototype,"adClicks",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=i(o.prototype,"viewCounts",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=i(o.prototype,"clickCounts",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=i(o.prototype,"time",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),i(o.prototype,"setTime",[m.c],Object.getOwnPropertyDescriptor(o.prototype,"setTime"),o.prototype),i(o.prototype,"removeImageLocal",[m.c],Object.getOwnPropertyDescriptor(o.prototype,"removeImageLocal"),o.prototype),o);t.a=v},"3/Ns":function(){},"3BzR":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=s("OhSV"),p=s("om2D");s("fyMK"),s("ZOvn");const m={showAddComment:!1};let b=Object(h.a)(n=class extends c.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{applicationStore:s}=t.props.stores,{application:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{application:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:e,application:t,type:s="text",rows:a,field:i,title:o,icon:n,help:r,onInput:l,updateField:h}=this.props,m=t[i];return"image"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},t.images&&t.images.map(e=>Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"))))),Object(c.h)(p.a,{saved:e,object:t,field:i,updateField:h}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):"textarea"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("textarea",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:m,rows:a,"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):"date"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("input",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:d.a.isoDate(m,!1,!1,!0),"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("input",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:m,"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"application.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r))}})||n,f=Object(h.a)(r=class extends c.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{applicationStore:a}=this.props.stores;a.updateObjectKeyValue("newApplication",t,s)}}render(){const{field:e,icon:t,title:s,help:a}=this.props,{applicationStore:i}=this.props.stores,{newApplication:o}=i;return Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:e+"Input"},t&&Object(c.h)("i",{class:t+" text-muted"})," ",s),Object(c.h)("input",{type:"text",class:"form-control",id:e+"Input","aria-describedby":e+"Help",onInput:this.onInput,value:o[e]}),Object(c.h)("small",{id:e+"Help",class:"form-text text-muted"},a))}})||r,g=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.insertApplication=async function(){const{applicationStore:e}=t.props.stores,{newApplication:s}=e;await e.insert(i({},s)),await e.load({query:{showall:1}}),t.resetApplicaton()},this.selectApplication=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{applicationStore:a}=t.props.stores;await a.load(s)},this.resetApplication=async function(){const{applicationStore:e}=t.props.stores;e.updateKeyValue("application",{})},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1})=>{const{applicationStore:l}=this.props.stores;let c=a,d=a;const{application:h}=l;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newApplication",s,a):(l.updateField(e,s,d),r?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.state=i({},m),this.updateTimer={},this.inputRef={}}async loadApplication(){this.setState({isLoading:!0});const{applicationStore:e}=this.props.stores;await e.load({query:{showall:1},addData:[]}),this.setState({isLoading:!1})}resetApplication(){const{applicationStore:e}=this.props.stores;e.updateKeyValue("newApplication",{})}async doUpdateField(e,t,s){const{applicationStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadApplication()}render(){const{applicationStore:t,appState:s}=this.props.stores,{application:a={},applications:i=[],saved:o}=t,{apiServer:n}=s;return Object(c.h)(e,null,Object(c.h)("div",{class:"w-100 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 mb-0 position-relative"},i&&i.length>0&&Object(c.h)(e,null,Object(c.h)("table",{class:"table table-sm table-striped"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"id"),Object(c.h)("th",null,"title"),Object(c.h)("th",null,"returnUrl"),Object(c.h)("th",null,"email"))),Object(c.h)("tbody",null,i.map(e=>Object(c.h)("tr",{"data-id":e.id,onClick:this.selectApplication},Object(c.h)("td",null,e.id),Object(c.h)("td",null,e.title),Object(c.h)("td",null,e.returnUrl),Object(c.h)("td",null,e.email),Object(c.h)("td",null,n,"/#/grant-access?returnUrl=",e.returnUrl,"&id=",e.id)))))))),Object(c.h)("div",{class:"row"},(!a||!a.id)&&Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(c.h)("button",{class:"btn btn-danger float-right",onClick:this.resetAd},Object(c.h)("i",{class:"fas fa-times"})),Object(c.h)("h5",null,"New application"),Object(c.h)(f,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"application.title"},"Tittel"),help:Object(c.h)(u.c,{id:"application.title-help"},"Tittel på denne annonsen.")}),Object(c.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertApplication},Object(c.h)(u.c,{id:"application.save"},"Save new application")))),a&&a.id&&Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(c.h)("button",{class:"btn btn-danger float-right",onClick:this.resetAd},Object(c.h)("i",{class:"fas fa-times"})),Object(c.h)("h5",null,'Endre annonse: "',a.title,'"'),Object(c.h)(b,{saved:o,application:a,field:"title",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"application.title"},"Title"),help:Object(c.h)(u.c,{id:"application.title-help"},"Title of this application story"),onInput:this.updateField}),Object(c.h)(b,{saved:o,application:a,field:"returnUrl",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"application.returnUrl"},"Return URL"),help:Object(c.h)(u.c,{id:"application.returnUrl-help"},"Application returnUrl"),onInput:this.updateField}),Object(c.h)(b,{saved:o,application:a,field:"email",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"application.email"},"Email"),help:Object(c.h)(u.c,{id:"application.email-help"},"Application email"),onInput:this.updateField}),Object(c.h)(b,{saved:o,application:a,field:"body",icon:"fas fa-quote-right",type:"textarea",rows:5,title:Object(c.h)(u.c,{id:"application.body"},"Body"),help:Object(c.h)(u.c,{id:"application.body-help"},"Body of this application story"),onInput:this.updateField}),Object(c.h)(b,{saved:o,application:a,field:"offline",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"application.offline"},"Offline"),help:Object(c.h)(u.c,{id:"application.offline-help"},"Application offline"),onInput:this.updateField}),Object(c.h)(b,{saved:o,application:a,field:"image",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(c.h)(u.c,{id:"application.photo"},"Bilder"),help:Object(c.h)(u.c,{id:"application.photo-help"},"Images for this application story."),onInput:this.updateField,updateField:this.updateFieldValue})))))}})||l;t.a=g}).call(this,s("hosL").Fragment)},"3UPq":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("nHdA"),c=s("irB3"),d=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));const u=[0,6];let p=Object(n.a)(a=class extends i.Component{constructor(...e){super(...e),this.chooseDay=e=>{const{year:t,month:s,day:a}=this.state,{chooseDayFunction:i=(()=>{})}=this.props,o=e.target.parentElement.dataset.day||e.target.dataset.day,n=e.target.parentElement.dataset.month||e.target.dataset.month,r=e.target.parentElement.dataset.year||e.target.dataset.year;this.setState(r===t&&n===s&&o===a?{year:null,month:null,day:null}:{year:r,month:n,day:o}),i({day:o,month:n,year:r})}}async loadWorkoutSummary(e=this.props){if(this.setState({isLoading:!0}),e.skipLoadSummary)return!1;const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,i=(new Date).getMonth()+1,{month:n=i,year:r=o.a.getYear(),team:l=a,dog:c={}}=e;c&&c.id?(await t.getWorkoutSummary({dog:c.id,year:r}),await t.getWorkoutSummaryDay({month:n,year:r,dog:c.id})):(await t.getWorkoutSummary({team:l,dog:c.id,year:r}),await t.getWorkoutSummaryDay({month:n,year:r,team:l,dog:c.id})),this.setState({isLoading:!1})}componentDidMount(){this.loadWorkoutSummary()}componentWillReceiveProps(e){e.month===this.props.month&&e.year===this.props.year&&e.dog===this.props.dog&&e.team===this.props.team||this.loadWorkoutSummary(e)}render(){const{appState:t,userStore:s,workoutPlanStore:a}=this.props.stores,{user:n}=s,{language:p="en"}=n,m=h.a.getDays(p),b=h.a.getMonths(p),{day:f,month:g,year:O}=this.state,{darkmode:v}=t,y=(new Date).getDate(),j=(new Date).getMonth()+1,w=(new Date).getFullYear(),{month:k=j,year:x=w,dog:S,basehref:_,hideSummary:T,hideTable:D}=this.props,I=parseInt(k<8?x-1:x,10),P=parseInt(k,10),L=parseInt(x,10),{month:C,year:A}=h.a.getNextMonth(P,L),{month:E,year:F}=h.a.getPrevMonth(P,L),M=(o.a.getDaysInMonth(k,x),o.a.getWeeksInMonth(k,x)),R=o.a.getDaysInWeek(M[0].week,x,k);let z=0,U=0,N=0,$=0,W=[],B=0;return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},Object(i.h)("a",{href:`${_||"/workouts/month/"}${C}/${A}/skipScroll`,class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(i.h)("i",{class:"fas fa-arrow-right"})),Object(i.h)("a",{href:`${_||"/workouts/month/"}${E}/${F}/skipScroll`,class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(i.h)("i",{class:"fas fa-arrow-left"})),Object(i.h)("h3",null,Object(i.h)(r.c,{id:"workout.calendar.month"},"Måned")," - ",b[k-1]," ",x),Object(i.h)("h5",{class:"text-muted font-weight-light"},Object(i.h)(r.c,{id:"workout.plan.season"},"Sesongen")," ",I," - ",I+1),S&&Object(i.h)("div",null,S.name)),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},!D&&Object(i.h)(e,null,Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(r.c,{id:"workout.calendar.week"},"Uke"))),R.map(e=>Object(i.h)("th",null,Object(i.h)("small",null,m[e.getDay()]))),Object(i.h)("th",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(r.c,{id:"workout.calendar.sum"},"Sum"))))),Object(i.h)("tbody",null,M&&M.map(e=>{const t=o.a.getDaysInWeek(e.week,x,k),n=a.findWorkoutPlanSummaryWeek(parseInt(x,10),e.week)||{};let r=0;return Object(i.h)("tr",null,Object(i.h)("td",{class:"text-right text-muted pt-3"},Object(i.h)("small",null,Object(i.h)("a",{href:`/workouts/week/${e.week}/${x}`,class:"text-muted"},e.week))),t.map(e=>{const t=s.findWorkoutSummaryWeekDay(e.getFullYear(),e.getMonth()+1,e.getDate(),P)||{},o=a.findWorkoutPlanSummaryDay(e.getFullYear(),e.getMonth()+1,e.getDate(),P)||{};t&&t.distanceKm&&(r+=t.distanceKm,z+=t.distanceKm,U+=t.count,N+=t.elevation,$+=t.duration,W.push(t.speedAvg)),o&&o.distance&&(B+=o.distance);const n=f==e.getDate()&&g==e.getMonth()+1&&O===e.getFullYear(),l=y==e.getDate()&&j==e.getMonth()+1&&w==e.getFullYear(),c=u.indexOf(e.getDay())>-1;return Object(i.h)("td",{class:`text-center font-weight-light position-relative pt-3 pb-3 ${n?"calendarIsChosen":""} ${l?"calendarIsToday":""} ${c?"calendarIsWeekend":""}`,style:"font-size: 0.8em;",onClick:this.chooseDay,"data-day":e.getDate(),"data-month":e.getMonth()+1,"data-year":x},Object(i.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},e.getDate()),t&&t.distanceKm?Object(i.h)("div",{class:"rounded-pill w-100 px-1",style:`background-color: ${h.a.getTrainingColor(t,v)};`},Object(i.h)(d.a,{stores:this.props.stores,value:t.distanceKm}),t.count>1&&Object(i.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},t.count)):"-",o.distance>0&&Object(i.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.9em;"},Object(i.h)(d.a,{stores:this.props.stores,value:o.distance})))}),Object(i.h)("td",{class:"text-right pt-3 pb-3 position-relative",style:"font-size: 0.8em;"},Object(i.h)(d.a,{stores:this.props.stores,value:r}),n.distance>0&&Object(i.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.9em;"},Object(i.h)(d.a,{stores:this.props.stores,value:n.distance}))))})),Object(i.h)("tfoot",null,Object(i.h)("tr",null,Object(i.h)("td",{colspan:"8",class:"text-right"},Object(i.h)(r.c,{id:"workout.calendar.totalKm"},"Totalt km")),Object(i.h)("td",{class:"text-right text-muted pb-3 position-relative"},Object(i.h)(d.a,{stores:this.props.stores,value:z}),B>0&&Object(i.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.8em;"},Object(i.h)(d.a,{stores:this.props.stores,value:B}))))))),!T&&Object(i.h)(e,null,Object(i.h)("h5",{class:"mt-4"},Object(i.h)(r.c,{id:"workout.calendar.summary"},"Oppsummering")," - ",b[k-1]," ",x),S&&Object(i.h)("div",null,S.name),Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("tbody",null,Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.totalWorkouts"},"Antall økter")),Object(i.h)("td",{class:"text-right"},U)),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.distance"},"Distanse")),Object(i.h)("td",{class:"text-right"},Object(i.h)(d.a,{stores:this.props.stores,value:z}))),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.ascend"},"Høydemeter")),Object(i.h)("td",{class:"text-right"},Object(i.h)(c.a,{stores:this.props.stores,value:N}))),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.duration"},"Varighet")),Object(i.h)("td",{class:"text-right"},o.a.secToHms($))),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.avg-speed"},"Gjennomsnittsfart")),Object(i.h)("td",{class:"text-right"},Object(i.h)(l.a,{stores:this.props.stores,value:h.a.avgArr(W)}))))))))}})||a;t.a=p}).call(this,s("hosL").Fragment)},"3br2":function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(5).then(function(){var t=s("+1Jk");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},"3kDq":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("QRet"),l=s("Utv1"),c=s("/eY4"),d=s("OhSV");const h={};let u=Object(c.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{raceStore:t,appState:s}=this.props.stores,{title:a}=this.props,{language:i="en"}=s,{race:o}=t,c=new Date;let h="";return c>=new Date(o.startDate)&&c<=new Date(o.endDate)?h="race":c>=new Date(o.signupStartDate)&&c<=new Date(o.signupEndDate)?h="signup":c>new Date(o.endDate)&&(h="done"),Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex"},Object(n.h)("div",{class:"flex-fill"},function(e,t=""){return Object(r.d)(()=>{document.title="Homerun Race: "+e},[e]),Object(n.h)("h1",{class:t},e)}(a,"mb-0")),Object(n.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(n.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(n.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},o.title)),Object(n.h)("small",{class:""},o.startDate&&Object(n.h)(e,null,l.a.formatDate(o.startDate,{locale:i,hour12:!1,hour:"2-digit",minute:"2-digit"})),o.endDate&&Object(n.h)(e,null," - ",l.a.formatDate(o.endDate,{locale:i,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(n.h)("div",{class:"flex-fill"},Object(n.h)("h3",{class:"float-right"},"signup"===h&&Object(n.h)(e,null,Object(n.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(n.h)("span",{class:"badge badge-primary ml-2"},Object(n.h)(d.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===h&&Object(n.h)(e,null,Object(n.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(n.h)("span",{class:"badge badge-danger ml-2"},Object(n.h)(d.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===h&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-check text-success"}),Object(n.h)("span",{class:"badge badge-success ml-2"},Object(n.h)(d.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(n.h)("div",{class:"d-block d-md-none"},Object(n.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(n.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},o.title)),Object(n.h)("small",null,o.startDate&&Object(n.h)(e,null,l.a.formatDate(o.startDate,{locale:i,hour12:!1,hour:"2-digit",minute:"2-digit"})),o.endDate&&Object(n.h)(e,null," - ",l.a.formatDate(o.endDate,{locale:i,hour12:!1,hour:"2-digit",minute:"2-digit"})))))}})||o;t.a=u}).call(this,s("hosL").Fragment)},"3on9":function(e,t,s){"use strict";(function(e){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r,l=s("hosL"),c=s("Utv1"),d=s("/eY4"),h=s("cneo"),u=s("go65"),p=(s("Y3FI"),s("OhSV")),m=s("dVCl");const b={id:0,name:"empty"},f=()=>{const e=o({},b);return e.unique=`${(new Date).getTime()}-${c.a.randomPassword()}`,e};class g extends l.Component{render(){const{provided:e,snapshot:t,innerRef:s,children:i,className:o}=this.props;return Object(l.h)("div",a({class:"h-100 border "+o},e.droppableProps,{ref:s,style:(n=t.isDraggingOver,{borderStyle:n?"dashed":"",width:110})}),i);var n}}class O extends l.Component{constructor(...e){super(...e),this.removeThisPlaceholder=()=>{const{removePlaceholder:e=(()=>{}),idx:t,list:s}=this.props;e({idx:t,list:s})}}render(){const{provided:t,snapshot:s,innerRef:i,dog:n}=this.props;return Object(l.h)("div",a({},t.draggableProps,t.dragHandleProps,{ref:i,class:"mx-2 my-2 p-2",style:(r=s.isDragging,d=t.draggableProps.style,o({userSelect:"none",background:r?"#808080":"",maxWidth:92,height:100},d))}),0===n.id?Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2"},Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"}," ")),Object(l.h)("div",{class:"text-center"},Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeThisPlaceholder},Object(l.h)("i",{class:"fas fa-trash-alt"}))," "))):Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:""+(n.image?`background-image: url("${n.image.s3ThumbLink}");`:"")},!n.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},c.a.ucfirst(n.name,!0))),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,n.shortname||n.name,Object(l.h)("br",null))))));var r,d}}const v={filterby:c.a.get("dogs-filter")};let y=Object(d.a)(r=class extends l.Component{constructor(e){var t;super(e),t=this,this.toggleDog=async function(e){const{id:s}=e.target.closest("#dogContainer").dataset,a=parseInt(s,10),{object:i,type:o,elementtype:n,field:r,updateField:l,isNew:c,showPositions:d}=t.props,u=Object(h.i)(i[r])||[],p=u.indexOf(a);let m;p>-1?(u.splice(p,1),m="remove"):(u.push(a),m="add"),await l({id:i.id,field:r,value:u,type:o,elementtype:n,isNew:c,skipTimer:!0,singleValue:a}),t.setState({filterText:""}),d&&t.dndDogs({dogId:a,action:m})},this.findAllDogsInTeams=()=>{const{dogStore:e}=this.props.stores,{dogs:t=[]}=e,{object:s,currentTeam:a={}}=this.props,i=Object(h.i)(s.teams||[]),o=a.id;return t.filter(e=>!!(e.team===o||e.teams&&e.teams.indexOf(o)>-1)||(i.indexOf(e.team)>-1||!!e.teams&&e.teams.some(e=>i.indexOf(e)>=0))).map(e=>e.id)},this.addAllDogsInTeam=async function(){const{object:e,type:s,elementtype:a,field:i,updateField:o,isNew:n}=t.props,r=t.findAllDogsInTeams();await o({id:e.id,field:i,value:r,type:s,elementtype:a,isNew:n,skipTimer:!0})},this.dndDogs=({dogId:e,action:t})=>{const{dogStore:s}=this.props.stores,{dogs:a=[]}=s,{object:i}=this.props,o=i.dogs?e=>i.dogs.indexOf(e.id)>-1:()=>!1,n=Object(h.i)(a),r=e=>0===e||n.find(t=>t.id===e)&&-1===i.dogsRight.indexOf(e),l=e=>0===e||n.find(t=>t.id===e)&&-1===i.dogsLeft.indexOf(e),c=n.filter(o),d=Math.ceil(c.length/2),u=c.splice(0,d);let p=[];i.dogsLeft&&i.dogsLeft.length>0&&(p=i.dogsLeft.filter(r).map(e=>n.find(t=>t.id===e)||f()));let m=[];if(i.dogsRight&&i.dogsRight.length>0&&(m=i.dogsRight.filter(l).map(e=>n.find(t=>t.id===e)||f())),"add"===t){const t=a.find(t=>t.id===e);t&&(p.length>m.length?m.push(t):p.push(t))}if("remove"===t){const t=p.findIndex(t=>t.id===e);t>-1&&p.splice(t,1);const s=m.findIndex(t=>t.id===e);s>-1&&m.splice(s,1)}0===p.length&&0===m.length&&(p=u,m=c),t?this.setState({dogsLeft:p,dogsRight:m,dogPositionUpdated:!0},()=>this.updateDogPositions()):this.setState({dogsLeft:p,dogsRight:m})},this.addPlaceholderLeft=()=>{const{dogsLeft:e=[]}=this.state;e.push(f()),this.setState({dogsLeft:e,dogPositionUpdated:!0})},this.addPlaceholderRight=()=>{const{dogsRight:e=[]}=this.state;e.push(f()),this.setState({dogsRight:e,dogPositionUpdated:!0})},this.removePlaceholder=({idx:e,list:t})=>{if("dogsLeft"===t){const{dogsLeft:t=[]}=this.state;t.splice(e,1),this.setState({dogsLeft:t,dogPositionUpdated:!0})}if("dogsRight"===t){const{dogsRight:t=[]}=this.state;t.splice(e,1),this.setState({dogsRight:t,dogPositionUpdated:!0})}},this.clearAllDogs=async function(){const{object:e,type:s,elementtype:a,field:i,updateField:o,isNew:n}=t.props;await o({id:e.id,field:i,value:[],type:s,elementtype:a,isNew:n,skipTimer:!0}),t.resetDogPositions()},this.toggleSearchField=()=>{const{showSearchField:e}=this.state;this.setState({showSearchField:e?null:1})},this.getList=e=>this.state[e],this.onDragEnd=e=>{const{source:t,destination:s}=e;if(s)if(t.droppableId===s.droppableId){const e=((e,t,s)=>{const a=Array.from(e),[i]=a.splice(t,1);return a.splice(s,0,i),a})(this.getList(t.droppableId),t.index,s.index);this.setState({[t.droppableId]:e,dogPositionUpdated:!0})}else{const e=((e,t,s,a)=>{const i=Array.from(e),o=Array.from(t),[n]=i.splice(s.index,1);o.splice(a.index,0,n);const r={};return r[s.droppableId]=i,r[a.droppableId]=o,r})(this.getList(t.droppableId),this.getList(s.droppableId),t,s);this.setState({dogsLeft:e.dogsLeft,dogsRight:e.dogsRight,dogPositionUpdated:!0})}},this.updateDogPositions=async function(){const{dogsLeft:e=[],dogsRight:s=[]}=t.state,{object:a,updateField:i,isNew:o}=t.props;await i({id:a.id,field:"dogsLeft",value:e.map(e=>e.id),isNew:o,datatype:"array"}),await i({id:a.id,field:"dogsRight",value:s.map(e=>e.id),isNew:o,datatype:"array"}),t.setState({dogPositionUpdated:!1})},this.resetDogPositions=async function(){const{dogStore:e}=t.props.stores,{dogs:s=[]}=e,{object:a,updateField:i,isNew:o}=t.props,n=Object(h.i)(s).filter(e=>a.dogs.indexOf(e.id)>-1),r=Math.ceil(n.length/2),l=n.splice(0,r);await i({id:a.id,field:"dogsLeft",value:l.map(e=>e.id),isNew:o,datatype:"array"}),await i({id:a.id,field:"dogsRight",value:n.map(e=>e.id),isNew:o,datatype:"array"}),t.setState({dogsLeft:l,dogsRight:n,dogPositionUpdated:!1})},this.clearDogPositions=async function(){const{object:e,updateField:s,isNew:a}=t.props,i=[],o=[];await s({id:e.id,field:"dogsLeft",value:o,isNew:a,datatype:"array"}),await s({id:e.id,field:"dogsRight",value:i,isNew:a,datatype:"array"}),t.setState({dogsLeft:o,dogsRight:i,dogPositionUpdated:!1})},this.changeFilter=e=>{const t=e.target.value;this.setState({filterby:t}),c.a.set("dogs-filter",t),this.loadDog()},this.getFilteredDogs=(e=this.props)=>{const{filterby:t,filterText:s}=this.state,{object:a,filter:i=(()=>!0)}=e,{dogStore:o}=this.props.stores,{dogs:n=[]}=o;let r=i;if(a.dogs)switch(t){case"all":r=s?e=>e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1:()=>!0;break;case"onlySelected":r=s?e=>e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1:e=>a.dogs.indexOf(e.id)>-1;break;case"onlyTeam":r=s?e=>e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1:e=>a.team===e.team||a.dogs.indexOf(e.id)>-1;break;case"leadOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.lead.distanceKm")>0;break;case"pointOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.point.distanceKm")>0;break;case"teamOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.team.distanceKm")>0;break;case"wheelOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.wheel.distanceKm")>0}let l=n.filter(r);this.setState({filteredDogs:l})},this.state=o({dogsLeft:[],dogsRight:[]},v)}async loadDog(e=this.props){const{showPositions:t}=this.props,{dogStore:s}=e.stores;await s.load({query:{deceased:0},addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),t&&this.dndDogs({}),this.getFilteredDogs()}componentWillReceiveProps(e){e.filter!==this.props.filter&&this.getFilteredDogs(e)}componentDidMount(){this.loadDog()}render(){const{filterby:t,filterText:s,showSearchField:a,dogsLeft:i=[],dogsRight:o=[],dogPositionUpdated:n,filteredDogs:r=[]}=this.state,{userStore:d,dogStore:b}=this.props.stores,{dogs:f=[]}=b,{user:v}=d,{language:y="en"}=v,{saved:j={},object:w,field:k,title:x,icon:S,help:_,showPositions:T=!1,currentTeam:D={}}=this.props,I=Object(h.i)(w[k])||[],P=this.findAllDogsInTeams(),L=w.teams?w.teams.map(e=>d.findTeam(e)):[];return Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(j[`${k}.${w.id}`]?"is-valid":"")},Object(l.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(l.h)("i",{class:"fas fa-search"})),Object(l.h)("button",{class:"btn btn-sm btn-link float-right mr-5",onClick:this.clearAllDogs},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.remove-all-dogs"},"Fjern alle hundene")),Object(l.h)("label",{for:k+"Input"},S&&Object(l.h)("i",{class:S+" text-muted"})," ",x),Object(l.h)("div",{class:"container-fluid px-0"},a&&Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)(p.b,null,Object(l.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:Object(l.h)(p.c,{id:"dog.dogs.search-for-dogs"},"Søk etter hund"),value:s,onInput:Object(u.a)(this,"filterText")})))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto my-2 mx-auto"},Object(l.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding-top: 0; padding-bottom: 0; height: 1.4em; font-size: 0.8em;",onInput:this.changeFilter},Object(l.h)("option",{value:"",selected:!t},"-- ",Object(l.h)(p.c,{id:"dog.dogs.choose-filter"},"Choose filter")," ---"),Object(l.h)("option",{value:"all",selected:"all"===t},Object(l.h)(p.c,{id:"dog.dogs.show-all"},"Vis alle")),Object(l.h)("option",{value:"onlySelected",selected:"onlySelected"===t},Object(l.h)(p.c,{id:"dog.dogs.show-only-selected"},"Vis kun valgte")),Object(l.h)("option",{value:"onlyTeam",selected:"onlyTeam"===t},Object(l.h)(p.c,{id:"dog.dogs.show-only-team-dogs"},"Vis kun hundene i teamet")),Object(l.h)("option",{value:"leadOnly",selected:"leadOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-lead-dogs-only"},"Vis kun lederhunder")),Object(l.h)("option",{value:"pointOnly",selected:"pointOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-point-dogs-only"},"Vis kun pointhunder")),Object(l.h)("option",{value:"teamOnly",selected:"teamOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-team-dogs-only"},"Vis kun teamhunder")),Object(l.h)("option",{value:"wheelOnly",selected:"wheelOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-wheel-dogs-only"},"Vis kun wheelhunder"))))))),Object(l.h)("div",{class:"row"},P.length>0&&Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-primary btn-block",onClick:this.addAllDogsInTeam},Object(l.h)("i",{class:"fas fa-plus mr-2"})," ",Object(l.h)(p.c,{id:"dog.dogs.add-all-in-team",fields:{total:P.length}},"Add all dogs in team"),D.name?": "+D.name:"",L&&L.length>0&&Object(l.h)("span",{class:"font-weight-lighter"},", ",L.map((t,s)=>Object(l.h)(e,null,s>0?", ":"",t))))),c.a.isArray(f)&&r.map(e=>{const s=d.findDogstatus({status:e.status,language:y}),a=d.findDogposition({position:e.position,language:y}),i=b.findHistoryStatuses(e.id);return Object(l.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-1"},Object(l.h)("div",{class:`border rounded px-3 pt-2 pb-1 ${I.indexOf(e.id)>-1?"bg-success":""} position-relative`,onClick:this.toggleDog,id:"dogContainer","data-id":e.id,style:"padding: .3rem !important; line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},a&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:`badge badge-${a.class||"primary"} mr-3`},a.icon&&Object(l.h)("i",{class:a.icon})," ",a.name)),"leadOnly"===t&&c.a.getNestedValue(e,"positions.lead.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-lead"},"Lead"),": ",c.a.format(c.a.getNestedValue(e,"positions.lead.distanceKm"),0),"km")),"pointOnly"===t&&c.a.getNestedValue(e,"positions.point.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-point"},"Point"),": ",c.a.format(c.a.getNestedValue(e,"positions.point.distanceKm"),0),"km")),"teamOnly"===t&&c.a.getNestedValue(e,"positions.team.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-team"},"Team"),": ",c.a.format(c.a.getNestedValue(e,"positions.team.distanceKm"),0),"km")),"wheelOnly"===t&&c.a.getNestedValue(e,"positions.wheel.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-wheel"},"Wheel"),": ",c.a.format(c.a.getNestedValue(e,"positions.wheel.distanceKm"),0),"km")),Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2",style:""+(e.image?`background-image: url("${e.image.s3ThumbLink}");`:"")},!e.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},c.a.ucfirst(e.name,!0))),Object(l.h)("div",{class:"flex-grow-1 pl-2 pr-1",style:`border-right: 4px solid ${d.findHarness(e.harness,"colorNonstop")} !important; line-height: 0.9em;`},Object(l.h)("small",null,Object(l.h)("small",{class:"float-right"},e.birth&&Object(l.h)("span",{class:"mr-1"},c.a.age(e.birth,e.deceased)),"female"===e.gender?Object(l.h)("i",{class:"fas fa-venus"}):Object(l.h)("i",{class:"fas fa-mars"})),e.shortname||e.name,Object(l.h)("br",null),Object(l.h)("div",{style:"line-height: 0.8em;"},Object(l.h)("small",null,d.findTeam(e.team)))),Object(l.h)("small",{class:"float-right"},s&&s.id&&Object(l.h)("span",{class:`badge badge-${s.class} mr-2 font-weight-light`},s.icon&&Object(l.h)("i",{class:s.icon})," ",s.name),e.specialNeeds&&Object(l.h)("span",{class:"badge badge-warning mr-2 font-weight-light"},Object(l.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),i&&i.map(e=>Object(l.h)("span",{class:"badge badge-warning mr-2",title:c.a.isoDate(e.endDate,!1,!1,!0)},e.title)))))))}))),j[`${k}.${w.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(p.c,{id:"dog.dogs.saved-changes"},"Endringene er lagret")):Object(l.h)("small",{id:k+"Help",class:"form-text text-muted"},_),T&&Object(l.h)(e,null,Object(l.h)("div",{class:"container-fluid px-0 clearfix"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,Object(l.h)(p.c,{id:"dog.dogs.dogs-positions"},"Posisjoner i spannet")))),Object(l.h)(m.a,{onDragEnd:this.onDragEnd},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6 pr-0",style:"min-height: 100px;"},Object(l.h)(m.c,{droppableId:"dogsLeft"},(e,t)=>Object(l.h)(g,{provided:e,snapshot:t,innerRef:e.innerRef,className:"ml-auto"},i&&i.map((e,s)=>Object(l.h)(m.b,{key:`${e.id}-${e.unique}`,draggableId:`dragId-${e.id}-${e.unique}`,index:s},a=>Object(l.h)(O,{provided:a,snapshot:t,innerRef:a.innerRef,dog:e,removePlaceholder:this.removePlaceholder,idx:s,list:"dogsLeft"}))),e.placeholder))),Object(l.h)("div",{class:"col-6 pl-0",style:"min-height: 100px;"},Object(l.h)(m.c,{droppableId:"dogsRight"},(e,t)=>Object(l.h)(g,{provided:e,snapshot:t,innerRef:e.innerRef,className:"mr-auto"},o&&o.map((e,s)=>Object(l.h)(m.b,{key:`${e.id}-${e.unique}`,draggableId:`dragId-${e.id}-${e.unique}`,index:s},a=>Object(l.h)(O,{provided:a,snapshot:t,innerRef:a.innerRef,dog:e,removePlaceholder:this.removePlaceholder,idx:s,list:"dogsRight"}))),e.placeholder))))),Object(l.h)("div",{class:"row mb-3 mt-2"},Object(l.h)("div",{class:"col-6 pr-0"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderLeft},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))),Object(l.h)("div",{class:"col-6 pl-0"},Object(l.h)("button",{class:"float-right btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderRight},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))))),Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"btn btn-sm btn-"+(n?"primary":"secondary"),onClick:this.updateDogPositions},Object(l.h)("i",{class:"fas fa-save"})," ",Object(l.h)(p.c,{id:"dog.dogs.saveDogPositions"},"Save dog positions"))),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-warning",onClick:this.resetDogPositions},Object(l.h)("i",{class:"fas fa-sync"})," ",Object(l.h)(p.c,{id:"dog.dogs.resetDogPositions"},"Reset dog positions")))),Object(l.h)("div",{class:"row mt-2"},Object(l.h)("div",{class:"col-6"}," "),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-link",onClick:this.clearDogPositions},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.clearDogPositions"},"Clear dog positions")))))))}})||r;t.a=y}).call(this,s("hosL").Fragment)},"3pQw":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV");Object(n.a)(a=class extends i.Component{render(){const{summary:e={}}=this.props;return Object(i.h)("div",{class:"w-100 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded"},Object(i.h)("div",{class:"text-muted mt-2",style:"font-size: 40px; line-height: 1;"},e.week),Object(i.h)("div",{class:"text-muted",style:"font-size: 10px; line-height: 0.8em;"},e.year)),Object(i.h)("div",{class:"flex-grow-1 pl-3"},Object(i.h)("h5",{class:"my-0"},e.week," - ",e.year),Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-wave-square"})," ",e.count,Object(i.h)("i",{class:"fas fa-road ml-2"})," ",o.a.format(e.distanceKm,0),"km",Object(i.h)("i",{class:"fas fa-mountain ml-2"})," ",o.a.format(e.elevation,0),"m",Object(i.h)("i",{class:"fas fa-stopwatch ml-2"})," ",o.a.secToHms(e.duration),Object(i.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",o.a.format(e.speedAvg,1),"km/t")))))}})},"3sR/":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=(s("cneo"),s("OhSV")),c=s("ZOvn"),d=(s("KDoM"),s("2X7c")),h=s("7g1v"),u=s("pJjI");const p=c.a.marginTop(!0),m=c.a.marginBottom(),b=c.a.subMenuMarginTop(),f={isLoading:!1};let g=Object(r.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadDogs=async function(){t.setState({isLoading:!0});const{dogStore:e}=t.props.stores,{currentTeam:s}=e,a={team:s};await e.load({query:a,addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),t.setState({isLoading:!1})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f)}componentDidMount(){this.loadDogs()}render(){const{scrolledDown:e}=this.props,{dogStore:t,appState:s}=this.props.stores,{darkmode:a}=s,i=t.findDogsByStatus(10),o=t.findDogsByStatus([2,4,8,9]),r=t.findDogsWithNeeds();return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${p};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:b}; background-color: ${a?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"dogs.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(l.c,{id:"dogs.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/feed",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"dogs.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/todo",class:"text-primary stretched-link"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",Object(n.h)(l.c,{id:"dogs.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2 border-bottom"},Object(n.h)(u.a,{stores:this.props.stores,callback:this.loadDogs})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix"},Object(n.h)("span",{class:"float-right"},Object(n.h)(d.a,{stores:this.props.stores,dog:{},callback:this.loadDogs}))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"dogs.dog-with-follow-up"},"Hunder som trenger oppfølging")),Object(n.h)("div",{class:"row"},o&&o.map(e=>Object(n.h)(h.a,{stores:this.props.stores,dog:e})),!o||0===o.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"dogs.no-dogs-with-follow-up"},"Ingen hunder som trenger ekstra oppfølging.")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"dogs.dog-with-special-needs"},"Hunder med spesielle behov")),Object(n.h)("div",{class:"row"},r&&r.map(e=>Object(n.h)(h.a,{stores:this.props.stores,dog:e})),!r||0===r.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"dogs.no-dogs-with-special-needs"},"Ingen hunder med spesielle behov.")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"dogs.dog-with-maturity"},"Hunder med løpetid")),Object(n.h)("div",{class:"row"},i&&i.map(e=>Object(n.h)(h.a,{stores:this.props.stores,dog:e})),!i||0===i.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"dogs.no-dogs-with-maturity"},"Ingen hunder med løpetid."))))))}})||o;t.a=g},"3wGD":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=(s("ETxl"),s("ZOvn"));let d=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),commentId:a,inputRefObject:i={}}=t.props,{workout:o}=t.props,{workoutStore:n}=t.props.stores,{comment:r=""}=t.state;t.setState({sendButtonEnabled:!1});const l=await n.commentReplyWorkout({id:o.id,commentId:a,comment:r});l&&200===l.status&&(t.setState({comment:""},()=>{c.a.resizeTextarea(i[a])}),s({workout:o,response:l,commentId:a})),t.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:e}=this.props,{comment:t,sendButtonEnabled:s}=this.state,{userStore:a}=this.props.stores,{user:n={}}=a,d=n.firstname?`${o.a.ucfirst(n.firstname,!0)}${o.a.ucfirst(n.lastname,!0)}`:""+o.a.ucfirst(n.email||"",!0),h=n.image||(n.images?n.images[0]:void 0);return Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?`background-image: url('${h.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!h&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentWorkout},Object(i.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=d},"4QWe":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("om2D"),d=s("ZOvn");let h=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentStory=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),inputRefObject:a={}}=t.props,{story:i}=t.props,{storyStore:o}=t.props.stores,{comment:n,showAddImage:r}=t.state;t.setState({sendButtonEnabled:!1});const l=await o.commentStory({id:i.id,comment:n});l&&200===l.status&&(t.setState({comment:{body:"",images:[]}},()=>{d.a.resizeTextarea(a[i.id]),r&&t.addImage()}),s({story:i,response:l})),t.setState({sendButtonEnabled:!0})},this.addImages=({value:e})=>{const{comment:t}=this.state;t.images.push(...e),this.setState({comment:t})},this.addImage=()=>{const{showAddImage:e=!1}=this.state;this.setState({showAddImage:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t,story:s}=this.props,{comment:a,showAddImage:n,sendButtonEnabled:h}=this.state,{userStore:u}=this.props.stores,{user:p={}}=u,m=p.firstname?`${o.a.ucfirst(p.firstname,!0)}${o.a.ucfirst(p.lastname,!0)}`:""+o.a.ucfirst(p.email||"",!0),b=p.image||(p.images?p.images[0]:void 0);return Object(i.h)("div",null,Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(b?`background-image: url('${b.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!p.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},m)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:a.body,ref:t})),Object(i.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(i.h)("i",{class:"fas fa-image pointerCursor","data-id":s.id,onClick:this.addImage})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:`btn btn-${h?"primary":"secondary"} mb-2`,disabled:!h,onClick:this.commentStory},Object(i.h)("i",{class:"fas fa-paper-plane"})))))),n&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},o.a.isArray(a.images)&&a.images.map(e=>Object(i.h)("div",{class:"col-3 p-1"},Object(i.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(i.h)("i",{class:"fas fa-trash"})," ",Object(i.h)(r.c,{id:"comments.remove-image"},"Remove")))))),Object(i.h)(c.a,{object:a,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded}))))}})||a;t.a=h}).call(this,s("hosL").Fragment)},"4Wk2":function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(2).then(function(){var t=s("t1gC");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},"4Xgg":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("fh8t"),h=s.n(d),u=s("RMlE"),p=s("8gML"),m=s("3kDq"),b=(s("aGZh"),s("ZOvn"));const f=b.a.marginTop(!0,!0),g=b.a.marginBottom(),O={isLoading:!1,contentIsNotLoaded:!0,email:"",submenu:"ads",jwtToken:r.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};let v=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.toggleDisplayDetails=e=>{const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleDisplayDetails(t)},this.adminToggleEditUser=e=>{e.stopPropagation();const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleEditUserDetails(t)},this.adminSignupEdit=e=>{const{raceid:t}=this.props,{raceStore:s}=this.props.stores,a=e.target.id,i=e.target.value,{classid:o,contestantid:n}=e.target.dataset,l={raceClassId:o,contestantId:n,["raceClassContestant"+r.a.ucfirst(a)]:i};clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout((async function(){s.editClass({id:t,data:l})}),500)},this.lockAllWorkoutsInRace=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,a=await s.lockAllWorkoutsInRace({id:e});t.setState({lockMessage:a})},this.filterByClass=e=>{const t=e.target.closest("button").dataset.id,{appState:s}=this.props.stores;s.toggleSelectedClassId(t)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},O),this.updateTimer={}}async loadRace(e=this.props){var t=this;this.setState({isLoading:!0});const{raceStore:s}=e.stores,{raceid:a}=e;await s.load(a);const{race:i}=s,o=i.classes.map(e=>{if(e.contestants)return e.contestants.map(e=>e.team)});o.length>0&&(await s.loadTeams(o.join(",")),await s.loadWorkoutSummary(o.join(","),a),s.getWorkoutSummaryActiveTeams()),s.getAllClassesSortedBy();const n=Math.floor((new Date).getTime()/1e3);this.setState({reloadIsActive:!0,reloadLastEpoch:n},()=>this.tickReloadTimeer()),clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((async function(){const e=Math.floor((new Date).getTime()/1e3);t.setState({reloadLastEpoch:e}),t.loadRace()}),6e4),this.setState({isLoading:!1,contentIsNotLoaded:!1})}tickReloadTimeer(){const{reloadIsActive:e,reloadLastEpoch:t}=this.state;if(e){const e=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(e-t)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace()}componentWillReceiveProps(e){this.loadRace(e)}render(){const{appState:t,raceStore:s,userStore:a}=this.props.stores,{user:i={}}=a,{raceid:o,path:l}=this.props,{displayDetails:d,language:O="en",selectedClassIds:v=[]}=t,{race:y,classes:j}=s,{reloadInSec:w,contentIsNotLoaded:k}=this.state,x=Math.floor(r.a.normalizeBetween(w,0,60,0,100)),S=[{type:"start",name:"Alta"},{type:"stage",name:"Alta-Kautokeino",distance:132},{type:"checkpoint",name:"Kautokeino"},{type:"stage",name:"Kautokeino-Jergul",distance:101},{type:"checkpoint",name:"Jergul"},{type:"stage",name:"Jergul-Levajok",distance:122},{type:"checkpoint",name:"Levajok"},{type:"stage",name:"Levajok-Tana",distance:97},{type:"checkpoint",name:"Tana"},{type:"stage",name:"Tana-Neiden",distance:101},{type:"checkpoint",name:"Neiden"},{type:"stage",name:"Neiden-Kirkenes",distance:71},{type:"checkpoint",name:"Kirkenes"},{type:"stage",name:"Kirkenes-Øvre Pasvik",distance:85},{type:"checkpoint",name:"Øvre Pasvik"},{type:"stage",name:"Øvre Pasvik-Neiden",distance:78},{type:"checkpoint",name:"Neiden"},{type:"stage",name:"Neiden-Varangerbotn",distance:82},{type:"checkpoint",name:"Varangerbotn"},{type:"stage",name:"Varangerbotn-Levajok",distance:117},{type:"checkpoint",name:"Levajok"},{type:"stage",name:"Levajok-Karasjok",distance:83},{type:"checkpoint",name:"Karasjok"},{type:"stage",name:"Karasjok-Jotka",distance:83},{type:"checkpoint",name:"Jotka"},{type:"stage",name:"Jotka-Alta",distance:49},{type:"finish",name:"Alta"}],_=new Date(y.endDate);_.setHours(_.getHours()+2);let T=0,D=0,I=0;return Object(n.h)(e,null,Object(n.h)(u.a,{stores:this.props.stores}),Object(n.h)("div",{class:"container-fluid ",style:`margin-bottom: ${g}; margin-top: ${f};`},Object(n.h)(p.a,{stores:this.props.stores,path:l,raceid:o}),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)(c.b,null,Object(n.h)(m.a,{stores:this.props.stores,title:Object(n.h)(c.c,{id:"races.results"},"Resultater")})),w>=0&&Object(n.h)(e,null,Object(n.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(n.h)("div",{class:"progress-bar",role:"progressbar",style:`width: ${x}%;`,"aria-valuenow":x,"aria-valuemin":"0","aria-valuemax":"100"}))),y.resultsUrl?Object(n.h)("div",{class:"p-3 my-4 bg-light"},Object(n.h)("a",{href:y.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},y.resultsText?y.resultsText:Object(n.h)(e,null,Object(n.h)(c.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(n.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(n.h)(e,null),(k||!j||0===j.length)&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")))),Object(n.h)("div",{class:"col-12"},Object(n.h)("nav",{class:"flex-column flex-sm-row"},y.classes&&y.classes.slice().sort((e,t)=>e.distance-t.distance).map(t=>Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:`btn btn-lg flex-sm-fill text-sm-center btn${v.indexOf(t.id)>-1?"":"-outline"}-primary mr-2 mb-2`,onClick:this.filterByClass,"data-id":t.id},t.title))))),Object(n.h)("div",{class:"col-12"},y.classes&&y.classes.filter(e=>!(v.length>0)||v.indexOf(e.id)>-1).slice().sort((e,t)=>e.distance-t.distance).map(t=>Object(n.h)("div",{class:"mt-5 mb-5"},y.resultDanger&&Object(n.h)("div",{class:"alert alert-danger",role:"alert"},Object(n.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")),Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(y.resultDanger,y.images,O),markdownOpts:b.a.getMarkdownOptions()})),y.resultWarning&&Object(n.h)("div",{class:"alert alert-warning",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(y.resultWarning,y.images,O),markdownOpts:b.a.getMarkdownOptions()})),y.resultSuccess&&Object(n.h)("div",{class:"alert alert-success",role:"alert"},Object(n.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(y.resultSuccess,y.images,O),markdownOpts:b.a.getMarkdownOptions()})),Object(n.h)("span",{class:"float-right"},Object(n.h)("span",{class:"text-muted"},Object(n.h)(c.c,{id:"races.mushers"},"Mushers"),": ",t.totalMushers||0)),Object(n.h)("h3",null,t.title," ",t.startDate&&Object(n.h)(e,null,": ",Object(n.h)("span",{class:"font-weight-lighter"},r.a.formatDate(`${t.startDate} ${t.startTime||"00:00:00"}`,{locale:O,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",r.a.formatDate(`${t.endDate} ${t.endTime||"00:00:00"}`,{locale:O,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(n.h)("div",{class:"table-responsive-xl"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",{scope:"col",style:"width: 2%;"},"#"),Object(n.h)("th",{scope:"col",style:"width: 13%;"},Object(n.h)(c.c,{id:"races.name"},"Navn")),Object(n.h)("th",{scope:"col",style:"width: 85%;"},Object(n.h)("div",{class:"d-flex",style:"height: 70px;"},S&&S.map(t=>{const s=t.distance/1200*100,a=s>100?100:parseInt(s,10);return"stage"===t.type?Object(n.h)(e,null,Object(n.h)("div",{class:"position-relative mr-1",style:`width: ${a}%;`}," ")):(T=32===T?0:32,Object(n.h)(e,null,Object(n.h)("div",{class:"position-relative",style:"width: 20px;"},Object(n.h)("div",{class:"position-absolute text-center font-weight-light",style:`width: 120px; top: ${T}px; left: -58px; font-size: 1.1em;`},Object(n.h)("div",{class:"bubble"+(0===T?"":"2")},t.name)))))}))))),Object(n.h)("tbody",null,j[t.id]&&j[t.id].contestants&&j[t.id].contestants.map((t,s)=>{const{musher:a,currentTeam:i,rests:o=[],restsSplit:r=[]}=t;return Object(n.h)(e,null,Object(n.h)("tr",{onClick:this.toggleDisplayDetails,"data-email":a.email},Object(n.h)("td",{class:"text-right",style:""+(d[a.email]?"":"line-height: 0.8em;")},s+1),Object(n.h)("td",{class:""+(d[a.email]?"font-weight-bold":""),style:""+(d[a.email]?"":"line-height: 0.8em;")},d[a.email]?Object(n.h)(e,null,a.firstname," ",a.lastname,Object(n.h)("br",null),Object(n.h)("span",{class:"text-muted"},i.name),Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},a.sportsClub),Object(n.h)("br",null),a.facebook&&Object(n.h)("a",{class:"mr-2",href:b.a.asFacebookLink(a.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-facebook"})),a.instagram&&Object(n.h)("a",{class:"mr-2",href:b.a.asInstagramLink(a.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-instagram"}))):Object(n.h)(e,null,Object(n.h)("nobr",null,a.firstname," ",a.lastname,Object(n.h)("br",null)))),Object(n.h)("td",{style:" min-width: 1280px;"},Object(n.h)("div",{class:"d-flex"},S&&S.map((t,i)=>{const l=t.distance/1200*100,c=l>100?100:parseInt(l,10);let h=100,u=0,p=0,m=0;o&&o.length>i&&(u=o[i],p=r[i]),i>7?(h=0,u=0,9===i&&(m=100-3*s)):i>6&&(h=100-3*s),u>h&&(u=h/2),p>h&&(p=h/2),u+p>h&&(u=0,p=0);let b=h,f=0;return u&&p&&(b=h-p-u,f=h-b-u),I=h,"checkpoint"===t.type||"start"===t.type||"finish"===t.type?Object(n.h)(e,null,Object(n.h)("div",{class:"position-relative mr-1",style:"width: 20px; line-height: 0.8em;"},"start"===t.type&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-map-marker-alt text-muted"})),"finish"===t.type&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-flag-checkered text-muted"})),"checkpoint"===t.type&&Object(n.h)(e,null,Object(n.h)("div",{class:"progress"},Object(n.h)("div",{class:"progress-bar "+(100===h?"bg-success":"bg-primary progress-bar-striped progress-bar-animated"),role:"progressbar",style:`width: ${h}%;`,"aria-valuenow":h,"aria-valuemin":"0","aria-valuemax":"100"}))))):Object(n.h)(e,null,Object(n.h)("div",{class:"position-relative mr-1",style:`width: ${c}%;`},Object(n.h)("div",{class:"progress"},b>0&&Object(n.h)("div",{class:"progress-bar "+(100===h?"bg-success":"bg-primary progress-bar-striped progress-bar-animated"),role:"progressbar",style:`width: ${b}%;`,"aria-valuenow":b,"aria-valuemin":"0","aria-valuemax":"100"}),u>0&&Object(n.h)("div",{class:"progress-bar bg-warning",role:"progressbar",style:`width: ${u}%;`,"aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100"}),f>0&&Object(n.h)("div",{class:"progress-bar "+(100===h?"bg-success":"bg-primary progress-bar-striped progress-bar-animated"),role:"progressbar",style:`width: ${f}%;`,"aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100"})),d[a.email]&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-road text-muted"})," ",t.distance," km",Object(n.h)("br",null),i<=7&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-tachometer-alt text-muted"})," 13,1 km/t",Object(n.h)("br",null)))))))})))))})))),Object(n.h)("div",{class:"mt-5 pt-5",style:"margin-top: 130px !important; "}," "),Object(n.h)("div",{class:"position-relative border bg-warning",style:"height: 2px; margin-bottom: 200px !important;"}," ",j[t.id]&&j[t.id].contestants&&j[t.id].contestants.slice().reverse().map((t,s)=>{const{musher:a,rests:i=[],restsSplit:o=[],totalCompleted:r}=t;D=D<=0?77:-108;const l=3*s+r;return Object(n.h)(e,null,Object(n.h)("div",{class:"position-absolute text-center font-weight-light",style:`width: 120px; top: ${D}px; left: ${l}%; font-size: 1.1em;`},Object(n.h)("div",{class:"bubble"+(D<=0?"4":"3")},Object(n.h)("small",{class:"font-weight-light"},a.firstname," ",a.lastname))))}))))))))}})||o;t.a=v}).call(this,s("hosL").Fragment)},"4dUO":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("go65");s("ETxl"),s("ZOvn");var h,u=Object(l.a)(o=class extends n.Component{constructor(...e){var t;super(...e),t=this,this.commentNews=async function(){const{callback:e=(()=>{}),commentId:s}=t.props,{news:a}=t.props,{newsStore:i}=t.props.stores,{comment:o=""}=t.state,n=await i.commentReplyNews({id:a.id,commentId:s,comment:o});n&&200===n.status&&(t.setState({comment:""}),e({news:a,response:n}))}}render(){const{inputRef:e}=this.props,{comment:t}=this.state,{userStore:s}=this.props.stores,{user:a={}}=s,i=a.firstname?`${r.a.ucfirst(a.firstname,!0)}${r.a.ucfirst(a.lastname,!0)}`:""+r.a.ucfirst(a.email||"",!0),o=a.image||(a.images?a.images[0]:void 0);return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(o?`background-image: url('${o.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!o&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},i)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(d.a)(this,"comment"),value:t,ref:e})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.commentNews},Object(n.h)("i",{class:"fas fa-paper-plane"})))))))}})||o;const p={showAddComment:{},showAllComments:!1,showAllReplies:{}};let m=Object(l.a)(h=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,{news:i}=t.props,{newsStore:o}=t.props.stores,n=await o.likeNewsComment({id:i.id,commentId:a});return n&&200===n.status&&s({news:i,commentId:a,response:n}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,i=e.target.parentElement.dataset.comment||e.target.dataset.comment,{news:o}=t.props,{newsStore:n}=t.props.stores,r=await n.likeNewsCommentReply({id:o.id,replyId:a,commentId:i});r&&200===r.status&&s({news:o,commentId:i,response:r})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},p),this.inputRef={}}render(){const{showAddComment:e,showAllComments:t,showAllReplies:s}=this.state,{news:a,callback:i=(()=>{}),col:o=12,offset:l=0,compact:d=!1}=this.props,{userStore:h}=this.props.stores,{user:p}=h;let m=[],b=0,f=0;if(a.comments){if(b=a.comments.length,t)m=a.comments;else{m=a.comments.slice(Math.max(b-(d?0:2),0))}f=m.length}return Object(n.h)("div",{class:`col-${o} offset-${l} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3`},t&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 mb-2",onClick:this.toggleComments},Object(n.h)(c.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))),a&&m&&m.reverse().map(t=>{const{user:o={}}=t,l=o.firstname?`${r.a.ucfirst(o.firstname,!0)}${r.a.ucfirst(o.lastname,!0)}`:""+r.a.ucfirst(o.email||"",!0),d=o.firstname?`${o.firstname} ${o.lastname}`:""+o.email,h=o.image||(o.images?o.images[0]:void 0),m=t.likes&&t.likes.findIndex(e=>e.user===p.id)>-1;let b=[],f=0,g=0;return t.comments&&(f=t.comments.length,b=s[t.id]?t.comments:t.comments.slice(0,void 0),g=b.length),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(h?`background-image: url("${h.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!o.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},d),t.comment),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(m?"text-primary":""),onClick:this.likeComment,"data-id":t.id},Object(n.h)(c.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":t.id},Object(n.h)(c.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&t.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},t&&b&&b.map(e=>{const{user:s={}}=e,a=s.firstname?`${r.a.ucfirst(s.firstname,!0)}${r.a.ucfirst(s.lastname,!0)}`:""+r.a.ucfirst(s.email||"",!0),i=s.firstname?`${s.firstname} ${s.lastname}`:""+s.email,o=s.image||(s.images?s.images[0]:void 0),l=e.likes&&e.likes.findIndex(e=>e.user===p.id)>-1;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(o?`background-image: url("${o.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!s.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},a)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},i),e.comment),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(l?"text-primary":""),onClick:this.likeReply,"data-comment":t.id,"data-id":e.id},Object(n.h)(c.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":t.id},Object(n.h)(c.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))}),f-g>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":t.id},Object(n.h)(c.c,{id:"comments.show-more",fields:{more:f-g}},"Vis ",f-g," flere kommentarer...")))),e[t.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(u,{stores:this.props.stores,news:a,callback:i,commentId:t.id,inputRef:e=>this.inputRef[t.id]=e})))}),b-f>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(c.c,{id:"comments.show-more",fields:{more:b-f}},"Vis ",b-f," flere kommentarer..."))),t&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(c.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||h;t.a=m},"4imK":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("nHdA"),c=s("irB3"),d=(s("UwwE"),s("8Lgr"));s("QkTp");let h=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.ignoreGarminWorkout=async function(e){e.stopPropagation();const s=e.target.parentElement.dataset.id||e.target.dataset.id,{garminActivityDetailsStore:a}=t.props.stores;await a.ignoreWorkout(s),t.loadGarminActivities()},this.importGarminWorkout=async function(e){e.stopPropagation();const s=e.target.parentElement.dataset.id||e.target.dataset.id,{asTrack:a}=t.props,{garminActivityDetailsStore:i,workoutStore:o}=t.props.stores,{currentTeam:n}=o;a?await i.importTrack(s,n):await i.importWorkout(s,n),t.loadGarminActivities(),t.loadWorkouts()},this.loadWorkouts=async function(){const{workoutStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s}})},this.toggleDetail=()=>{const{showDetail:e=!1}=this.state;this.setState({showDetail:!e})}}async loadGarminActivities(){const{garminActivityDetailsStore:e}=this.props.stores;e.load({query:{hideImported:1}})}componentDidMount(){this.loadGarminActivities()}render(){const{showDate:t,showDetail:s=!1}=this.state,{activities:a=[],showDate:n,asTrack:h=!1}=this.props,{userStore:u,workoutStore:p}=this.props.stores,{currentTeam:m}=p,{team:b}=u,f=u.findTeam(m||b.id);return s?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mb-3"},Object(i.h)("div",{class:"row"},a&&a.length>0&&Object(i.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(i.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(i.h)("i",{class:"fas fa-caret-up"})," ",Object(i.h)(r.c,{id:"garmin.hide-list"},"Hide list")),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",a.length),a&&a.map(s=>{const{summary:a={}}=s,u=o.a.parseInputDate(a.startTimeInSeconds);return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/garmin-connect.png"); border-width: 3px !important;'}," "),Object(i.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},a.deviceName),a.activityType,Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},u&&Object(i.h)("small",{onClick:this.toggleDate},n||t?o.a.formatDate(u,{locale:"no-NB"}):o.a.formatDistance(u,new Date,{locale:"no-NB"})),Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road ml-2"})," ",Object(i.h)(d.a,{stores:this.props.stores,value:a.distanceInMeters/1e3}),Object(i.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(i.h)(c.a,{stores:this.props.stores,value:a.totalElevationGainInMeters}),Object(i.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(i.h)(l.a,{stores:this.props.stores,value:3.6*a.averageSpeedInMetersPerSecond}),Object(i.h)("i",{class:"fas fa-stopwatch ml-2"})," ",o.a.secToHms(a.durationInSeconds))),Object(i.h)("br",null),Object(i.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:this.importGarminWorkout,"data-id":s.id},Object(i.h)("i",{class:"fas fa-file-import"})," ",h?Object(i.h)(r.c,{id:"garmin.import-track"},"Import as track"):Object(i.h)(e,null,Object(i.h)(r.c,{id:"garmin.import"},"Import workout")," ",Object(i.h)("i",{class:"fas fa-arrow-right"})," ",f)),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:this.ignoreGarminWorkout,"data-id":s.id},Object(i.h)("i",{class:"fas fa-trash-alt"})," ",Object(i.h)(r.c,{id:"garmin.ignore"},"Ignore workout")))))}),Object(i.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(i.h)("i",{class:"fas fa-caret-up"})," ",Object(i.h)(r.c,{id:"garmin.hide-list"},"Hide list")))))):a&&a.length>0?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mb-3"},Object(i.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(i.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),Object(i.h)(r.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",a.length))):Object(i.h)(e,null)}})||a;t.a=h}).call(this,s("hosL").Fragment)},"4uYi":function(e,t,s){"use strict";(function(e){function a(e){switch(e){case"dogHistory":return"fas fa-rss";case"dogStatus":case"dogSpecialNeeds":return"fas fa-dog";case"dogImage":return"fas fa-image";case"dog":case"dogChanged":return"fas fa-dog";case"track":case"trackChanged":return"fas fa-map-marked-alt";case"workoutPlan":return"fas fa-calendar-alt";case"workout":case"newGarminWorkout":return"fas fa-running";case"newStravaWorkout":return"fab fa-strava";case"workoutChanged":return"fas fa-running";case"teamMember":return"fas fa-user";case"team":return"fas fa-users";case"newsLiked":return"fas fa-thumbs-up";case"newsCommentLiked":case"newsCommentedLiked":return"fas fa-thumbs-up";case"newsCommentReplyLiked":case"newsCommentedReplyLiked":return"fas fa-thumbs-up";case"newsComment":case"newsCommented":return"fas fa-comment";case"newsCommentReply":case"newsCommentedReply":return"fas fa-comments";case"trackLiked":return"fas fa-thumbs-up";case"trackCommentLiked":case"trackCommentedLiked":return"fas fa-thumbs-up";case"trackCommentReplyLiked":case"trackCommentedReplyLiked":return"fas fa-thumbs-up";case"trackComment":case"trackCommented":return"fas fa-comment";case"trackCommentReply":case"trackCommentedReply":return"fas fa-comments";case"workoutComment":case"workoutCommented":return"fas fa-comment";case"workoutCommentReply":case"workoutCommentedReply":return"fas fa-comments";case"workoutLiked":return"fas fa-thumbs-up";case"workoutCommentLiked":case"workoutCommentedLiked":return"fas fa-thumbs-up";case"workoutCommentReplyLiked":case"workoutCommentedReplyLiked":return"fas fa-thumbs-up";case"story":return"fas fa-rss";case"storyComment":case"storyCommented":return"fas fa-comment";case"storyCommentReply":case"storyCommentedReply":return"fas fa-comments";case"storyLiked":return"fas fa-thumbs-up";case"storyCommentLiked":case"storyCommentedLiked":return"fas fa-thumbs-up";case"storyCommentReplyLiked":case"storyCommentedReplyLiked":return"fas fa-thumbs-up";case"teamFollowRequest":return"fas fa-project-diagram";case"happyBirthday":return"fas fa-birthday-cake";case"trophy":return"fas fa-trophy";default:return"fas fa-rss"}}var i,o=s("hosL"),n=s("Utv1"),r=s("/eY4"),l=s("OhSV");s("ZOvn");let c=Object(r.a)(i=class extends o.Component{constructor(...e){super(...e),this.confirmRequest=()=>{const{notification:e}=this.props,{teamStore:t}=this.props.stores;t.confirmFollowRequest({team:e.team,user:e.addedBy.id})},this.deleteRequest=()=>{const{notification:e}=this.props,{teamStore:t}=this.props.stores;t.deleteFollowRequest({team:e.team,user:e.addedBy.id})}}render(){const{notification:t,showDate:s}=this.props,{addedBy:i={}}=t,r=i.firstname?`${n.a.ucfirst(i.firstname,!0)}${n.a.ucfirst(i.lastname,!0)}`:""+n.a.ucfirst(i.email||"",!0),c=i.firstname?`${i.firstname} ${i.lastname}`:""+i.email,d=i.image||(i.images?i.images[0]:void 0),h=[],u=[];t.grouped&&t.grouped.forEach(e=>{e.dog&&e.dog.id&&-1===h.indexOf(e.dog.id)&&(u.push(e.dog),h.push(e.dog.id))});const p=t.read&&"teamFollowRequest"!==t.type,m=!(u.length>0)&&"teamFollowRequest"!==t.type;return Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-2 position-relative",style:`opacity: ${p?.6:1};`},Object(o.h)("div",{class:"text-center border rounded-circle imageRoundedSmall imageRounded",style:"padding-top: 7px; "+(d?`background-image: url("${d.s3ThumbLink}"); background-size: cover;`:"")},!i.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},r)),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(o.h)("span",{class:"float-right ml-2"},t.type&&Object(o.h)("span",{class:"mr-2",style:"font-size: 2.0em;"},Object(o.h)("i",{class:a(t.type)}))),Object(o.h)("div",{style:"font-size: 0.8em;"},m?Object(o.h)("a",{href:t.url},t.message,t.title?": "+t.title:""):Object(o.h)(e,null,t.message),"teamFollowRequest"===t.type&&Object(o.h)(e,null,Object(o.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteRequest},Object(o.h)(l.c,{id:"notifications.delete"},"Del")),Object(o.h)("button",{class:"btn btn-sm btn-success float-right mr-2",onClick:this.confirmRequest},Object(o.h)(l.c,{id:"notifications.confirm"},"Confirm")))),Object(o.h)("small",{class:"text-muted"},t.date&&Object(o.h)("span",{onClick:this.toggleDate,class:"mr-2"},s?n.a.formatDate(t.date,{locale:"no-NB"}):n.a.formatDistance(t.date,new Date,{locale:"no-NB"})),Object(o.h)("i",{class:"far fa-user"})," ",c,Object(o.h)("br",null),u&&u.map(e=>Object(o.h)("span",{class:"mr-2"},Object(o.h)("a",{href:"/dogs/"+e.id},Object(o.h)("i",{class:"fas fa-dog"})," ",e.name))),Object(o.h)("br",null))))}})||i;t.a=c}).call(this,s("hosL").Fragment)},"5JJN":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("I9l5"))&&a.__esModule?a:{default:a};t.default=function(e,t){return(0,i.default)(e,t)[0]}},"5TgH":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("ox/y"),s("Utv1"),s("/eY4")),l=(s("go65"),s("Y3FI")),c=s("OhSV");const d=s("ZOvn").a.subMenuMarginTop(),h={};let u=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.back=()=>{const{appState:e}=this.props.stores,{previousPath:t="/"}=e;Object(l.route)(t,!0)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{title:t,backtext:s}=this.props,{appState:a}=this.props.stores,{darkmode:i}=a;return Object(n.h)("div",{class:"row fixed-top border-bottom",style:`margin-top: ${d}; background-color: ${i?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col text-center subtopmenu position-relative"},Object(n.h)("div",{class:"text-left subtopmenu position-absolute",style:"top: 0px; left: 20px; line-height: 1.8em;"},Object(n.h)("button",{class:"btn btn-link text-secondary p-0",onClick:this.back},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chevron-left font-weight-bold"})," ",s?Object(n.h)(e,null,s):Object(n.h)(e,null,Object(n.h)(c.c,{id:"home.home"},"Home"))))),Object(n.h)("nobr",null,Object(n.h)("strong",null,t))))}})||o;t.a=u}).call(this,s("hosL").Fragment)},"5W+F":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("ox/y"),l=(s("Utv1"),s("/eY4")),c=s("OhSV"),d=(s("go65"),s("Y3FI"),s("ZOvn"));const h={searchText:"",showInfo:{}},u=d.a.marginTopBack(!1);let p=Object(c.d)({public:Object(n.h)(c.c,{id:"teams.public"},"Public visible"),publicHelp:Object(n.h)(c.c,{id:"teams.public-help"},"Should it be possible to follow your team? All follow-requests has to be approved by you."),publicWorkouts:Object(n.h)(c.c,{id:"teams.public-workouts"},"Public workouts"),publicWorkoutsHelp:Object(n.h)(c.c,{id:"teams.public-workouts-help"},"Should your workouts be visible to your followers?"),publicWorkoutDetails:Object(n.h)(c.c,{id:"teams.public-workouts-details"},"Public workouts details"),publicWorkoutDetailsHelp:Object(n.h)(c.c,{id:"teams.public-workouts-details-help"},"Should your workouts details be visible to your followers?"),publicWorkoutSummary:Object(n.h)(c.c,{id:"teams.public-workouts-summary"},"Public workouts summary"),publicWorkoutSummaryHelp:Object(n.h)(c.c,{id:"teams.public-workouts-summary-help"},"Should your workout summary be visible to your followers?"),publicTrophys:Object(n.h)(c.c,{id:"teams.public-trophys"},"Public trophys"),publicTrophysHelp:Object(n.h)(c.c,{id:"teams.public-trophys-help"},"Should your trophys be visible to your followers?"),publicMemories:Object(n.h)(c.c,{id:"teams.public-memories"},"Public memories"),publicMemoriesHelp:Object(n.h)(c.c,{id:"teams.public-memories-help"},"Should your memories be visible to your followers?"),publicDogs:Object(n.h)(c.c,{id:"teams.public-dogs"},"Public dogs"),publicDogsHelp:Object(n.h)(c.c,{id:"teams.public-dogs-help"},"Should your dogs be visible to your followers?")})(o=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadTeam=async function(e=t.props){const{teamStore:s}=e.stores;await s.load(e.teamid,!1,{})},this.toggleInfo=e=>{const{name:t}=e.target.closest("i").dataset,{showInfo:s}=this.state;s[t]=!s[t],this.setState({showInfo:s})},this.toggleSetting=async function(e){const{teamStore:s}=t.props.stores,{team:a}=s,{id:i}=a,o=a[e]?0:1;s.updateField(i,e,o),await s.saveField(i,e,o)},this.updateSetting=async function(e,s){const{teamStore:a}=t.props.stores,{team:i}=a,{id:o}=i;a.updateField(o,e,s),await a.saveField(o,e,s)},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}componentDidMount(){this.loadTeam()}render(){const{teamStore:t,userStore:s}=this.props.stores,{teamTypes:a,teamAmbitions:i,user:o}=s,{language:l="en"}=o,{team:d}=t,{showInfo:h={},settings:p={}}=this.state;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${u}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h1",null,Object(n.h)(c.c,{id:"settings.team"},"Team")))),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},d.name)),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["public"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props[t]||t,this.props[t+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":t}),this.props[t+"Help"]&&h[t]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},this.props[t+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+t,onInput:()=>this.toggleSetting(t),checked:d[t]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+t}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2",style:`opacity: ${d.public?1:.2};`},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"teams.public-settings"},"Public settings"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:`font-size: 1.2em; opacity: ${d.public?1:.2};`},["publicWorkouts","publicWorkoutSummary","publicWorkoutDetails","publicTrophys","publicMemories","publicDogs"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props[t]||t,this.props[t+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":t}),this.props[t+"Help"]&&h[t]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},this.props[t+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+t,onInput:()=>this.toggleSetting(t),checked:d[t]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+t}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"teams.type"},"Type"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-0 bg-light rounded-lg",style:"font-size: 1.2em;"},a&&a.map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(r.Link,{className:"stretched-link",activeClassName:"active","data-value":t.id,onClick:()=>this.updateSetting("type",t.id)},"no"===l?t.name:t.lang[l]||t.name)),d.type===t.id&&Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-check text-primary"}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(c.c,{id:"teams.type-help"},"Type team"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"teams.ambitions"},"Ambisjoner"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-0 bg-light rounded-lg",style:"font-size: 1.2em;"},i&&i.map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(r.Link,{className:"stretched-link",activeClassName:"active","data-value":t.id,onClick:()=>this.updateSetting("ambitions",t.id)},"no"===l?t.name:t.lang[l]||t.name)),d.ambitions===t.id&&Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-check text-primary"}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(c.c,{id:"teams.ambitions-help"},"Ambisjonsnivå til teamet.")))))}})||o)||o;t.a=p}).call(this,s("hosL").Fragment)},"5eBG":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s("+I+c"),i=s("Fcif"),o=s("0942"),n=s("7L9N"),r=s("mK0O"),l=s("ivZ3"),c=s("l8WD"),d=s("GdJW"),h=s("fZV/"),u=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,Object(r.a)(Object(o.a)(t),"contextValue",void 0),Object(r.a)(Object(o.a)(t),"layer",void 0),t}Object(n.a)(t,e);var s=t.prototype;return s.componentDidUpdate=function(e){var t=e.checked;null!=this.props.leaflet.map&&(!0!==this.props.checked||null!=t&&!1!==t?!0!==t||null!=this.props.checked&&!1!==this.props.checked||this.props.leaflet.map.removeLayer(this.layer):this.props.leaflet.map.addLayer(this.layer))},s.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},s.addLayer=function(){throw new Error("Must be implemented in extending class")},s.removeLayer=function(e){this.props.removeLayer(e)},s.render=function(){var e=this.props.children;return e?c.default.createElement(d.b,{value:this.contextValue},e):null},t}(c.Component),p=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(r.a)(Object(o.a)(s),"addLayer",(function(e){s.layer=e;var t=s.props;(0,t.addBaseLayer)(e,t.name,t.checked)})),s.contextValue=Object(i.a)(Object(i.a)({},t.leaflet),{},{layerContainer:{addLayer:s.addLayer.bind(Object(o.a)(s)),removeLayer:s.removeLayer.bind(Object(o.a)(s))}}),s}return Object(n.a)(t,e),t}(u),m=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(r.a)(Object(o.a)(s),"addLayer",(function(e){s.layer=e;var t=s.props;(0,t.addOverlay)(e,t.name,t.checked)})),s.contextValue=Object(i.a)(Object(i.a)({},t.leaflet),{},{layerContainer:{addLayer:s.addLayer.bind(Object(o.a)(s)),removeLayer:s.removeLayer.bind(Object(o.a)(s))}}),s}return Object(n.a)(t,e),t}(u),b=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(r.a)(Object(o.a)(s),"controlProps",void 0),s.controlProps={addBaseLayer:s.addBaseLayer.bind(Object(o.a)(s)),addOverlay:s.addOverlay.bind(Object(o.a)(s)),leaflet:t.leaflet,removeLayer:s.removeLayer.bind(Object(o.a)(s)),removeLayerControl:s.removeLayerControl.bind(Object(o.a)(s))},s}Object(n.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=Object(a.a)(e,["children"]);return new l.Control.Layers(void 0,void 0,t)},s.updateLeafletElement=function(t,s){e.prototype.updateLeafletElement.call(this,t,s),s.collapsed!==t.collapsed&&(!0===s.collapsed?this.leafletElement.collapse():this.leafletElement.expand())},s.componentWillUnmount=function(){var t=this;setTimeout((function(){e.prototype.componentWillUnmount.call(t)}),0)},s.addBaseLayer=function(e,t,s){void 0===s&&(s=!1),s&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addBaseLayer(e,t)},s.addOverlay=function(e,t,s){void 0===s&&(s=!1),s&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addOverlay(e,t)},s.removeLayer=function(e){null!=this.props.leaflet.map&&this.props.leaflet.map.removeLayer(e)},s.removeLayerControl=function(e){this.leafletElement.removeLayer(e)},s.render=function(){var e=this,t=c.Children.map(this.props.children,(function(t){return t?Object(c.cloneElement)(t,e.controlProps):null}));return c.default.createElement(c.Fragment,null,t)},t}(h.a),f=Object(d.d)(b);f.BaseLayer=p,f.Overlay=m,t.b=f},"5l0g":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const c={showAddComment:!1};let d=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c),this.updateTimer={},this.inputRef={}}async loadHeatmap(){this.setState({isLoading:!0});const{adminStore:e}=this.props.stores,{raceid:t}=this.props;await e.getPublicHeatmap(t),this.setState({isLoading:!1})}componentDidMount(){this.loadHeatmap()}render(){const{adminStore:t}=this.props.stores,{waypoints:s,zoomToMarkers:a,mapid:i,fullscreenMap:o}=this.props,{publicHeatmap:r}=t;return Object(n.h)(e,null,Object(n.h)(l.a,{stores:this.props.stores,mapId:r.length,heatmap:r,minZoom:2,maxZoom:13,height:600,waypoints:s,zoomToMarkers:a,fullscreenMap:o,key:"map-"+i}))}})||o;t.a=d}).call(this,s("hosL").Fragment)},"5uob":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=(s("ETxl"),s("ZOvn"));let d=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.commentStory=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),commentId:a,inputRefObject:i={}}=t.props,{story:o}=t.props,{storyStore:n}=t.props.stores,{comment:r=""}=t.state;t.setState({sendButtonEnabled:!1});const l=await n.commentReplyStory({id:o.id,commentId:a,comment:r});l&&200===l.status&&(t.setState({comment:""},()=>{c.a.resizeTextarea(i[a])}),s({story:o,response:l,commentId:a})),t.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}componentDidMount(){const{initCall:e=(()=>{})}=this.props;e()}render(){const{inputRef:e}=this.props,{comment:t,sendButtonEnabled:s}=this.state,{userStore:a}=this.props.stores,{user:n={}}=a,d=n.firstname?`${o.a.ucfirst(n.firstname,!0)}${o.a.ucfirst(n.lastname,!0)}`:""+o.a.ucfirst(n.email||"",!0),h=n.image||(n.images?n.images[0]:void 0);return Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?`background-image: url('${h.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!h&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentStory},Object(i.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=d},"5y6D":function(e,t,s){const{defaults:a}=s("bixo"),{block:i}=s("Jzis"),{rtrim:o,splitCells:n,escape:r}=s("AkNA");e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||a,this.rules=i.normal,this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.rules=i.gfm)}static get rules(){return i}static lex(t,s){return new e(s).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let s,a,l,c,d,h,u,p,m,b,f,g,O,v,y,j;for(e=e.replace(/^ +$/gm,"");e;)if((l=this.rules.newline.exec(e))&&(e=e.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(l[0].length),t&&"paragraph"===t.type?t.text+="\n"+l[0].trimRight():(l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?l:o(l,"\n")}))}else if(l=this.rules.fences.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});else if(l=this.rules.heading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});else if((l=this.rules.nptable.exec(e))&&(h={type:"table",header:n(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]},h.header.length===h.align.length)){for(e=e.substring(l[0].length),f=0;f<h.align.length;f++)h.align[f]=/^ *-+: *$/.test(h.align[f])?"right":/^ *:-+: *$/.test(h.align[f])?"center":/^ *:-+ *$/.test(h.align[f])?"left":null;for(f=0;f<h.cells.length;f++)h.cells[f]=n(h.cells[f],h.header.length);this.tokens.push(h)}else if(l=this.rules.hr.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"hr"});else if(l=this.rules.blockquote.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,t),this.tokens.push({type:"blockquote_end"});else if(l=this.rules.list.exec(e)){for(e=e.substring(l[0].length),c=l[2],v=c.length>1,u={type:"list_start",ordered:v,start:v?+c:"",loose:!1},this.tokens.push(u),l=l[0].match(this.rules.item),p=[],s=!1,O=l.length,f=0;f<O;f++)h=l[f],b=h.length,h=h.replace(/^ *([*+-]|\d+\.) */,""),~h.indexOf("\n ")&&(b-=h.length,h=h.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+b+"}","gm"),"")),f!==O-1&&(d=i.bullet.exec(l[f+1])[0],(c.length>1?1===d.length:d.length>1||this.options.smartLists&&d!==c)&&(e=l.slice(f+1).join("\n")+e,f=O-1)),a=s||/\n\n(?!\s*$)/.test(h),f!==O-1&&(s="\n"===h.charAt(h.length-1),a||(a=s)),a&&(u.loose=!0),y=/^\[[ xX]\] /.test(h),j=void 0,y&&(j=" "!==h[1],h=h.replace(/^\[[ xX]\] +/,"")),m={type:"list_item_start",task:y,checked:j,loose:a},p.push(m),this.tokens.push(m),this.token(h,!1),this.tokens.push({type:"list_item_end"});if(u.loose)for(O=p.length,f=0;f<O;f++)p[f].loose=!0;this.tokens.push({type:"list_end"})}else if(l=this.rules.html.exec(e))e=e.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):r(l[0]):l[0]});else if(t&&(l=this.rules.def.exec(e)))e=e.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),g=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:l[2],title:l[3]});else if((l=this.rules.table.exec(e))&&(h={type:"table",header:n(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]},h.header.length===h.align.length)){for(e=e.substring(l[0].length),f=0;f<h.align.length;f++)h.align[f]=/^ *-+: *$/.test(h.align[f])?"right":/^ *:-+: *$/.test(h.align[f])?"center":/^ *:-+ *$/.test(h.align[f])?"left":null;for(f=0;f<h.cells.length;f++)h.cells[f]=n(h.cells[f].replace(/^ *\| *| *\| *$/g,""),h.header.length);this.tokens.push(h)}else if(l=this.rules.lheading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:"="===l[2].charAt(0)?1:2,text:l[1]});else if(t&&(l=this.rules.paragraph.exec(e)))e=e.substring(l[0].length),this.tokens.push({type:"paragraph",text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1]});else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},"671E":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("u28A");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",s=a.distanceConversion[t];if(s)return e*s;throw new Error("Invalid unit used for distance conversion.")}},"67HY":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("Y3FI"),l=s("go65"),c=s("OhSV"),d=s("tJLP"),h=s("Cjoz");s("CE5K");let u=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.handleEmailInput=async function(e){const{userStore:s}=t.props.stores,a=e.target.value;t.setState({email:a}),clearTimeout(t.checkEmailTimer),t.checkEmailTimer=setTimeout(()=>s.checkEmail(a),1e3)},this.togglePassword=()=>{let{passwordType:e}=this.state;e="password"===e?"text":"password",this.setState({passwordType:e})},this.updateCapsLockStatus=e=>{this.setState({isCapsLock:e})},this.login=async function(){const{routeLoginOk:e="/"}=t.props,{email:s,password:a,token:i}=t.state,{userStore:o,appState:n}=t.props.stores,{language:l="en"}=n;await o.checkLogin({email:s,password:a,token:i,sendPubSubMessage:!1,language:l})&&(await o.getInfo(),Object(r.route)(e,!0))},this.resetLoginMessages=()=>{const{userStore:e}=this.props.stores;e.resetLoginMessages()},this.newUser=()=>{const{email:e=""}=this.state,{routeLoginNew:t="/register/"+e}=this.props;Object(r.route)(t,!0)},this.forgotten=()=>{const{email:e=""}=this.state,{routeLoginForgot:t="/forgotten/"+e}=this.props;Object(r.route)(t,!0)},this.changeLanguage=e=>{const t=e.target.value,{appState:s}=this.props.stores;s.setLanguage(t)},this.validateLoginToken=async function(){const{userStore:e}=t.props.stores,{loginToken:s,routeLoginOk:a="/"}=t.props,i=await e.validateLoginToken(s);i&&200===i.status&&(await e.getInfo(),Object(r.route)(a,!0))},this.state={showToken:!1,isCapsLock:!1,passwordType:"password",email:this.props.email}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout(()=>e.checkEmail(this.props.email),1e3));const{loginToken:t}=this.props;o.a.isString(t)&&this.validateLoginToken()}render(){const{isCapsLock:t,email:s,password:a,token:n,passwordType:r}=this.state,{appState:u,userStore:p}=this.props.stores,{language:m="en"}=u,{showLogo:b=!0}=this.props,{emailIsAvailable:f,login:g,twoFactorLogin:O}=p,{message:v,messageIcon:y,error:j,errorIcon:w}=g,k=o.a.validateEmail(s),x=k&&a;return Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},b&&Object(i.h)(e,null,Object(i.h)("h1",{class:"mt-5"},Object(i.h)("i",{class:"fas fa-paw"})," The Musher")),Object(i.h)("h5",{class:"mt-1 mb-5"},Object(i.h)(c.c,{id:"login.login"},"Logg inn")),Object(i.h)(d.a,{message:j,icon:w,remove:this.resetLoginMessages}),Object(i.h)(h.a,{message:v,icon:y,remove:this.resetLoginMessages}),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"emailInput"},Object(i.h)("i",{class:"far fa-envelope"})," ",Object(i.h)(c.c,{id:"login.email"},"E-post")),Object(i.h)("input",{type:"email",class:"form-control "+(s?k&&!f?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:s,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),s&&k&&f&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"login.email-not-found"},"E-posten finnes ikke, men du kan registrere deg 😃")),s&&!k&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"login.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut. Kan det være en skrivefeil?")),s&&k&&!f&&Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"login.email-looks-good"},"E-post ser bra ut."))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"passwordInput"},Object(i.h)("i",{class:"fas fa-key"})," ",Object(i.h)(c.c,{id:"login.password"},"Passord")),Object(i.h)("div",{class:"input-group"},Object(i.h)("input",{type:r,class:"form-control",id:"passwordInput",onInput:Object(l.a)(this,"password"),value:a,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),Object(i.h)("div",{class:"input-group-append"},Object(i.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(i.h)("i",{class:"fas fa-eye"+("text"===r?"-slash":"")}))))),t&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(c.c,{id:"login.caps-lock-on"},"CAPS LOCK er på!")),O&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"tokenInput"},Object(i.h)("i",{class:"fas fa-unlock"})," ",Object(i.h)(c.c,{id:"login.2fa-token"},"2FA Token")),Object(i.h)("input",{type:"number",class:"form-control",id:"tokenInput",onInput:Object(l.a)(this,"token"),value:n})),Object(i.h)("button",{class:"btn "+(x?"btn-primary":"btn-outline-primary"),type:"button",onClick:this.login,disabled:!x},Object(i.h)("i",{class:"fas fa-sign-in-alt mr-2"}),Object(i.h)(c.c,{id:"login.login"},"Logg inn")),Object(i.h)("button",{class:"btn btn-outline-secondary float-right",type:"button",onClick:this.newUser},Object(i.h)("i",{class:"fas fa-plus mr-2"}),Object(i.h)(c.c,{id:"login.new-user"},"Ny bruker")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link",onClick:this.forgotten},Object(i.h)(c.c,{id:"login.forgot-password"},"Glemt passordet?"))))))}})||a;t.a=u}).call(this,s("hosL").Fragment)},"68RK":function(e,t,s){"use strict";var a=s("ivZ3"),i=s("Utv1");const o={adit:new a.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new a.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new a.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new a.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new a.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new a.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new a.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new a.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new a.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new a.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new a.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new a.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new a.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new a.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new a.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new a.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new a.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new a.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new a.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new a.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new a.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new a.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new a.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new a.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new a.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new a.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new a.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new a.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new a.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new a.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new a.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new a.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new a.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new a.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new a.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new a.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new a.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new a.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new a.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new a.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new a.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new a.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new a.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new a.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new a.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new a.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new a.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new a.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new a.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new a.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new a.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new a.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new a.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new a.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new a.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new a.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new a.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new a.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new a.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new a.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new a.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new a.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new a.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new a.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new a.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new a.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new a.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new a.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new a.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new a.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new a.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new a.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new a.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new a.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new a.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new a.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new a.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new a.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new a.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new a.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new a.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new a.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new a.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new a.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new a.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new a.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new a.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new a.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new a.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new a.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new a.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new a.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new a.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new a.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new a.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new a.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new a.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new a.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new a.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new a.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new a.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new a.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new a.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new a.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new a.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new a.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new a.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new a.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new a.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new a.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new a.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new a.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new a.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new a.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new a.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new a.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new a.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new a.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new a.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new a.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new a.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new a.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new a.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new a.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new a.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new a.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new a.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new a.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new a.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new a.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new a.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new a.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new a.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new a.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new a.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new a.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new a.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new a.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new a.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new a.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new a.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new a.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new a.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new a.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new a.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new a.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new a.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new a.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new a.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new a.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new a.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new a.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new a.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new a.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new a.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new a.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new a.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new a.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new a.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new a.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new a.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new a.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new a.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new a.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new a.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new a.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new a.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new a.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new a.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new a.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new a.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new a.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};t.a=class{static get(e){return o[e]}static list(){return Object.keys(o)}static getDiv({title:e,body:t,color:s,textColor:o="#333333",borderColor:n=0,iconWidth:r=150,iconHeight:l=70}){const c="img-"+i.a.randomPassword();i.a.hsl2Rgb(s,100,60),i.a.hsl2Rgb(100-n,100,50);return new a.DivIcon({iconSize:[r,l+30],iconAnchor:[15,l+30],className:"my-div-icon",html:`<div id='${c}' style='width: ${r}px; height: ${l+30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${c} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${s};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${o}; background-color: ${s}; height: ${l}px;'>\n\t\t\t\t\t<nobr><strong>${e}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${t}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`})}static getMarker({title:e,body:t,textColor:s="#888",borderColor:o=0}){const n="img-"+i.a.randomPassword();return new a.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:`<div id='${n}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${e}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${t}</span>\n\t\t\t</div>`})}}},"6FDT":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function n(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=a(s("l8WD")),u=a(s("W0B4")),p=s("ACWa"),m=a(s("ivZ3")),b=s("11yz"),f=function(e){function t(e){var s;return(s=r(this,l(t).call(this,e))).mapPositions=s.mapPositions.bind(c(s)),s.state={lines:s.mapPositions()},s.getBounds=s.getBounds.bind(c(s)),s}var s,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),s=t,(a=[{key:"mapPositions",value:function(){for(var e,t=this.props,s=t.positions,a=t.optionIdxFn,i=t.options,o=new Array(i.length),n=new Array(i.length),r=0;r<i.length;++r)n[r]=[],o[r]=[];for(var l=0,c=0,d=1;d<s.length;++d){var h=s[d],u=s[d-1],p=new m.default.LatLng(h.lat,h.lng);n[c=a(h,u,d,s)].push(p),1===d?(e=u,n[l=a(u,u,d-1,s)].push(e),l!==c&&(n[l].push(p),o[l].push(n[l]),n[l]=[])):l!==c&&(n[l].push(p),o[l].push(n[l]),n[l]=[]),l=c,e=h}return o[c].push(n[c]),o}},{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"componentDidUpdate",value:function(){this.setState({lines:this.mapPositions()})}},{key:"getBounds",value:function(){var e=(0,b.getBounds)(this.props.positions);return new m.default.LatLngBounds(new m.default.LatLng(e.maxLat,e.minLng),new m.default.LatLng(e.minLat,e.maxLng))}},{key:"render",value:function(){var e=this;return h.default.createElement(p.FeatureGroup,null,this.state.lines.map((function(t,s){return t.map((function(t,a){return h.default.createElement(p.Polyline,o({key:a},e.props,{positions:t},e.props.options[s]))}))})))}}])&&n(s.prototype,a),i&&n(s,i),t}(h.default.Component);t.default=f,f.propTypes={positions:u.default.arrayOf(u.default.instanceOf(m.default.LatLng)).isRequired,optionIdxFn:u.default.func.isRequired,options:u.default.arrayOf(u.default.object.isRequired)}},"6GRK":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("/eY4"),c=(s("cneo"),s("Utv1")),d=s("OhSV"),h=s("go65");let u=Object(l.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.handleAdd=()=>{const{data:e}=this.state,{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:i({},e)}),this.setState({data:{name:"",url:""}})},this.removeLink=async function(e){const{dogStore:s}=t.props.stores,{object:a}=t.props,{name:i,id:o}=e.target.closest("button").dataset;s.removeLink({id:a.id,name:i,linkId:o})},this.state={data:{}}}render(){const{showFiles:t=!0,object:s={}}=this.props;return Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 mt-3"},t&&Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},(!s.links||0===s.links.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-link"})),Object(r.h)("h3",null,Object(r.h)(d.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(r.h)(d.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),s.links&&s.links.map(e=>Object(r.h)("div",{class:"col-12 p-1"},Object(r.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(e.createdDate,!1,!1,!0)),Object(r.h)("span",{class:"mr-2"},e.name),Object(r.h)("span",{class:"mr-2"},e.url),Object(r.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeLink,"data-name":e.name,"data-id":e.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(r.h)("div",{class:"col-12 mt-3"},Object(r.h)("details",null,Object(r.h)("summary",null,Object(r.h)(d.c,{id:"dogs.link-add"},"Add new link")),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"name"},Object(r.h)(d.c,{id:"dogs.link-name"},"Name")),Object(r.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(h.a)(this,"data.name")}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"dogs.link-name-help"},"Name of link"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"url"},Object(r.h)(d.c,{id:"dogs.link-url"},"Url")),Object(r.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(h.a)(this,"data.url")}),Object(r.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"dogs.link-url-help"},"URL of link"))),Object(r.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(r.h)(d.c,{id:"dogs.link-add"},"Add link")))))}})||n;t.a=u}).call(this,s("hosL").Fragment)},"6POc":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn"),h=s("JWe/"),u=s("3UPq"),p=s("pJjI");const m=d.a.marginTop(!0),b=d.a.marginBottom(),f=d.a.subMenuMarginTop(),g=["","Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],O={isLoading:!1};Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadWorkouts=async function(){t.setState({isLoading:!0});const{workoutStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s}}),await t.loadWorkoutSummary(),t.setState({isLoading:!1})},this.loadDogs=async function(){const{dogStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s},addData:["workoutSummary"]})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},O)}async loadTracks(){const{trackStore:e}=this.props.stores;await e.load()}async loadWorkoutSummary(e=this.props){const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,{month:i,year:o}=e;await t.getWorkoutSummary({team:a}),await t.getWorkoutSummaryDay({month:i,year:o,team:a})}componentDidMount(){this.loadWorkouts()}componentWillReceiveProps(e){e.month!==this.props.month&&this.loadWorkoutSummary(e)}render(){const{userStore:e,workoutStore:t,appState:s}=this.props.stores,{darkmode:a}=s,{currentTeam:i}=t,{month:o,year:l=r.a.getYear()}=this.props,{workoutsDay:d}=e;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${m};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${f}; background-color: ${a?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(c.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(c.c,{id:"workout.index.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-calendar-alt"})," ",Object(n.h)(c.c,{id:"workout.index.plan"},"Plan"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(p.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+i})),Object(n.h)(u.a,{stores:this.props.stores,month:o,year:l,team:i}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(n.h)("h5",null,Object(n.h)(c.c,{id:"workouts.month-workouts",fields:{month:g[o],year:l}},"Treningsturene - ",g[o]," ",l))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},d&&d.map(e=>Object(n.h)(h.a,{stores:this.props.stores,workout:e,showDate:!0})))))}})},"6rtB":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("yBJb"),i=s("0942"),o=s("7L9N"),n=s("mK0O"),r=s("l8WD"),l=s("GdJW"),c=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(n.a)(Object(i.a)(s),"contextValue",void 0),Object(n.a)(Object(i.a)(s),"leafletElement",void 0),s.leafletElement=s.createLeafletElement(t),s}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(){throw new Error("createLeafletElement() must be implemented")},s.updateLeafletElement=function(){},s.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},s.componentDidUpdate=function(t){if(e.prototype.componentDidUpdate.call(this,t),this.props.attribution!==t.attribution){var s=this.props.leaflet.map;null!=s&&null!=s.attributionControl&&(s.attributionControl.removeAttribution(t.attribution),s.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(t,this.props)},s.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},s.render=function(){var e=this.props.children;return null==e?null:null==this.contextValue?r.default.createElement(r.Fragment,null,e):r.default.createElement(l.b,{value:this.contextValue},e)},Object(a.a)(t,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),t}(s("d+ec").a)},"7CVp":function(){!function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(e){var t,s="leaflet-control-zoom-fullscreen",a="";return t=e.zoomControl&&!this.options.forceSeparateButton?e.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?a=this.options.content:s+=" fullscreen-icon",this._createButton(this.options.title,s,a,t,this.toggleFullScreen,this),this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),t},_createButton:function(t,s,a,i,o,n){return this.link=L.DomUtil.create("a",s,i),this.link.href="#",this.link.title=t,this.link.innerHTML=a,L.DomEvent.addListener(this.link,"click",L.DomEvent.stopPropagation).addListener(this.link,"click",L.DomEvent.preventDefault).addListener(this.link,"click",o,n),L.DomEvent.addListener(i,e.fullScreenEventName,L.DomEvent.stopPropagation).addListener(i,e.fullScreenEventName,L.DomEvent.preventDefault).addListener(i,e.fullScreenEventName,this._handleFullscreenChange,n),L.DomEvent.addListener(document,e.fullScreenEventName,L.DomEvent.stopPropagation).addListener(document,e.fullScreenEventName,L.DomEvent.preventDefault).addListener(document,e.fullScreenEventName,this._handleFullscreenChange,n),this.link},toggleFullScreen:function(){var t=this._map;t._exitFired=!1,t._isFullscreen?(e.supportsFullScreen&&!this.options.forcePseudoFullscreen?e.cancelFullScreen():L.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:t._container,"leaflet-pseudo-fullscreen"),t.fire("exitFullscreen"),t._exitFired=!0,t._isFullscreen=!1):(e.supportsFullScreen&&!this.options.forcePseudoFullscreen?e.requestFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:t._container):L.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:t._container,"leaflet-pseudo-fullscreen"),t.fire("enterFullscreen"),t._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var t=this._map;t.invalidateSize(),e.isFullScreen()||t._exitFired||(t.fire("exitFullscreen"),t._exitFired=!0,t._isFullscreen=!1)}}),L.Map.addInitHook((function(){this.options.fullscreenControl&&(this.fullscreenControl=L.control.fullscreen(this.options.fullscreenControlOptions),this.addControl(this.fullscreenControl))})),L.control.fullscreen=function(e){return new L.Control.FullScreen(e)};var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)e.supportsFullScreen=!0;else{for(var s=0,a=t.length;s<a;s++)if(e.prefix=t[s],void 0!==document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(e.prefix="ms",e.supportsFullScreen=!0)}e.supportsFullScreen&&(e.fullScreenEventName="ms"===e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(){switch(this.prefix){case"":return document.fullscreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},e.requestFullScreen=function(e){switch(this.prefix){case"":return e.requestFullscreen();case"ms":return e.msRequestFullscreen();default:return e[this.prefix+"RequestFullScreen"]()}},e.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each((function(){var t=jQuery(this);e.supportsFullScreen&&e.requestFullScreen(t)}))}),window.fullScreenApi=e}()},"7L9N":function(e,t,s){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}s.d(t,"a",(function(){return i}))},"7aB5":function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(4).then(function(){var t=s("qZTL");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},"7g1v":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=(s("cneo"),s("OhSV")),l=s("wanP"),c=s("ZOvn");let d=Object(n.a)(a=class extends i.Component{render(){const{dog:t,showWorkout:s,showInfo:a,hideTeam:n=!1,fullWidth:d=!1,daysBack:h=7,filterBy:u=""}=this.props,{userStore:p,dogStore:m,workoutPlanStore:b}=this.props.stores;if(!t)return"";const{user:f}=p,{language:g="en"}=f,O=p.findDogstatus({status:t.status,language:g}),v=t.statuses?t.statuses.map(e=>p.findDogstatus({status:e,language:g})):[],y=p.findDogposition({position:t.position,language:g}),j=m.findCurrentWorkoutSummary(t.id)||{},w=o.a.getWeek(new Date),k=o.a.getYear(),x=(new Date).getMonth()+1,S=parseInt(x<8?k-1:k,10),{week:_=w,year:T=S}=this.props,D=b.sumWorkoutPlanDaysBack(parseInt(T,10),parseInt(_,10),h)||0,I=o.a.format(j.distanceKm||0,0),P=c.a.hasBirthday(t.birth);let L=!1,C=0;return I&&D&&(C=I/D*100,L=!0),Object(i.h)("div",{class:`${d?"":"col-4"} mb-3 ${L?"mt-2":""} position-relative`},Object(i.h)("div",{class:"text-center border border-secondary rounded-circle imageRounded mx-auto text-muted pt-2 position-relative",style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},o.a.ucfirst(t.name,!0)),L&&Object(i.h)("div",{class:"position-absolute",style:"top: -12px; left: -12px;"},Object(i.h)(l.a,{key:"gauge-"+C,radius:48,heightAdd:15,showPercentText:!1,percent:C,prefix:"%",total:D+" km",totalY:"95%",completed:I+" km",completedY:"85%"}))),Object(i.h)("div",{class:""+(L?"mt-4":""),style:"line-height: 1.0em;"},Object(i.h)("small",null,Object(i.h)("span",{class:"float-right"},t.birth&&Object(i.h)("span",{class:"mr-2"},o.a.age(t.birth,t.deceased)),"female"===t.gender?Object(i.h)("i",{class:"fas fa-venus"}):Object(i.h)("i",{class:"fas fa-mars"})),Object(i.h)("a",{class:"stretched-link",href:"/dogs/"+t.id},Object(i.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},t.shortname||t.name,P&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-birthday-cake ml-3"})))),!n&&Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-light"},p.findTeam(t.team)),Object(i.h)("br",null))),u&&t.positions&&t.positions.lead&&Object(i.h)("div",{class:""},"leadOnly"===u&&t.positions.lead.distanceKm>0&&Object(i.h)("span",{class:"badge badge-success mr-2"},Object(i.h)("span",null,Object(i.h)(r.c,{id:"dogs.sort-lead"},"Lead"),":")," ",o.a.format(t.positions.lead.distanceKm,0)," km"),"pointOnly"===u&&t.positions.point.distanceKm>0&&Object(i.h)("span",{class:"badge badge-success mr-2"},Object(i.h)("span",null,Object(i.h)(r.c,{id:"dogs.sort-point"},"Point"),":")," ",o.a.format(t.positions.point.distanceKm,0)," km"),"teamOnly"===u&&t.positions.team.distanceKm>0&&Object(i.h)("span",{class:"badge badge-success mr-2"},Object(i.h)("span",null,Object(i.h)(r.c,{id:"dogs.sort-team"},"Team"),":")," ",o.a.format(t.positions.team.distanceKm,0)," km"),"wheelOnly"===u&&t.positions.wheel.distanceKm>0&&Object(i.h)("span",{class:"badge badge-success mr-2"},Object(i.h)("span",null,Object(i.h)(r.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",o.a.format(t.positions.wheel.distanceKm,0)," km")),Object(i.h)("small",null,s&&Object(i.h)("small",{class:"text-muted"},j&&j.distanceKm>0&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("i",{class:"fas fa-road"})," ",o.a.format(j.distanceKm,0),"km"),j&&j.elevation>0&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("i",{class:"fas fa-mountain"})," ",o.a.format(j.elevation,0),"m"),j&&j.duration>0&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("i",{class:"fas fa-clock"})," ",o.a.secToHms(j.duration,!0)),j&&j.speedAvg>0&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",o.a.format(j.speedAvg,1),"km/t")),a&&Object(i.h)("small",{class:"text-muted"},t.weight&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-balance-scale ml-2"})," ",o.a.format(t.weight,1)," kg"),t.bodyScore&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",o.a.format(t.bodyScore,1))),Object(i.h)("div",{class:"clearfix pb-0 pt-1"},y&&y.class&&Object(i.h)("span",{class:`badge badge-${y.class||"primary"} mr-2`},y.icon&&Object(i.h)("i",{class:y.icon})," ",y.name),t.specialNeeds&&Object(i.h)("span",{class:"badge badge-warning mr-2"},Object(i.h)("i",{class:"fas fa-exclamation-triangle"})," ",t.specialNeeds),O&&O.class&&Object(i.h)("span",{class:`badge badge-${O.class} mr-2 mt-1`},O.icon&&Object(i.h)("i",{class:O.icon})," ",O.name),v&&v.map(t=>Object(i.h)(e,null,t&&t.class&&Object(i.h)("span",{class:`badge badge-${t.class} mr-2 mt-1`},t.icon&&Object(i.h)("i",{class:t.icon})," ",t.name)))))))}})||a;t.a=d}).call(this,s("hosL").Fragment)},"7n0W":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("uRxk"))&&a.__esModule?a:{default:a};t.default=function(e,t,s,a){return(0,i.default)(e,t,s)<a}},"88ZV":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("Y3FI"),d=s("Fg+7"),h=s("4dUO"),u=s("PWmE"),p=s("ZOvn");const m=p.a.marginTop(!1),b=p.a.marginTopBack(!1),f=p.a.marginBottom(),g={isLoading:!1,showAddComment:!1};let O=Object(r.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeNews=async function(){const{newsStore:e}=t.props.stores,{news:s}=e;await e.likeNews({id:s.id})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.back=()=>{Object(c.route)("/news",!0)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g),this.inputRef={}}async loadNews(e=this.props){this.setState({isLoading:!0});const{newsStore:t}=this.props.stores;await t.load(e.id),this.setState({isLoading:!1})}componentDidMount(){this.loadNews()}render(){const{showAddComment:e}=this.state,{newsStore:t,userStore:s}=this.props.stores,{isAdmin:a}=s,{news:i}=t,{user:o}=s,{likes:r=[],comments:c=[]}=i,p=i.likes&&i.likes.findIndex(e=>e.user===o.id)>-1;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${f}; margin-top: ${m};`},Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${b}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(n.h)("div",null,Object(n.h)("h5",{class:"text-muted"},Object(n.h)(l.c,{id:"news.heading"},"Siste nytt"))),Object(n.h)("div",null,a&&Object(n.h)("a",{class:"btn btn-sm btn-primary float-right ml-2",href:"/news/edit/"+i.id},Object(n.h)("i",{class:"fas fa-edit"})," ",Object(n.h)(l.c,{id:"news.edit"},"Endre")),a&&Object(n.h)("a",{class:"btn btn-sm btn-success float-right ml-2",href:"/news/edit/new"},Object(n.h)("i",{class:"fas fa-plus"})," ",Object(n.h)(l.c,{id:"news.create"},"Ny")))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)(d.a,{stores:this.props.stores,news:i})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},r&&r.length>0&&Object(n.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",r.length),c&&c.length>0&&Object(n.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",c.length)),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:`btn btn-outline-${p?"primary":"secondary"} btn-lg btn-block ${p?"text-primary":""}`,onClick:this.likeNews},Object(n.h)("i",{class:(p?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":i.id,onClick:this.toggleAddComment},Object(n.h)("i",{class:"fas fa-comment"})," Comment")))),e&&Object(n.h)(u.a,{stores:this.props.stores,news:i,inputRef:e=>this.inputRef[i.id]=e}),Object(n.h)(h.a,{stores:this.props.stores,news:i,cols:"12"})),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("a",{href:"/news",class:"btn btn-secondary"},Object(n.h)("i",{class:"fas fa-arrow-left mr-2"}),Object(n.h)(l.c,{id:"news.back"},"Tilbake")))))}})||o;t.a=O},"8Lgr":function(e,t,s){"use strict";(function(e){function a(e){return n.a.format(e,e<5?2:1)}var i,o=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(r.a)(i=class extends o.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:i}=this.props.stores,{user:n}=i,{settings:r={}}=n;return r.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,a(function(e){return.621371*e}(t))," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-2 text-muted"},"mi")))):Object(o.h)(e,null,"mi"))):Object(o.h)(e,null,Object(o.h)("nobr",null,a(t)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-2 text-muted"},"km")))):Object(o.h)(e,null,"km")))}})||i;t.a=l}).call(this,s("hosL").Fragment)},"8bJD":function(e,t,s){"use strict";function a(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return Object.keys(e).reduce((function(t,a){return-1===s.indexOf(a)&&(t[a]=e[a]),t}),{})}s.d(t,"a",(function(){return a}))},"8bLb":function(e,t,s){"use strict";var a=s("7L9N"),i=s("ivZ3"),o=s("GdJW"),n=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new i.TileLayer(e.url,this.getOptions(e))},s.updateLeafletElement=function(t,s){e.prototype.updateLeafletElement.call(this,t,s),s.url!==t.url&&this.leafletElement.setUrl(s.url)},t}(s("eTqt").a);t.a=Object(o.d)(n)},"8gML":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=(s("go65"),s("RMlE"),s("5l0g"),s("ZOvn"));d.a.marginTop(!0),d.a.marginBottom();const h=d.a.subMenuMarginTop(),u={isLoading:!1,email:"",submenu:"ads",jwtToken:r.a.getJwtToken()};let p=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u)}render(){const{appState:t}=this.props.stores,{raceid:s,path:a}=this.props,{darkmode:i}=t;let o="default";return a.match(/\/race\/:raceid$/)?o="default":a.match(/\/race\/:raceid\/mushers$/)?o="mushers":a.match(/\/race\/:raceid\/results$/)?o="results":a.match(/\/race\/:raceid\/media$/)?o="media":a.match(/\/race\/:raceid\/tracking$/)&&(o="tracking"),Object(n.h)(e,null,Object(n.h)("div",{class:"row fixed-top pr-3",style:`margin-top: ${h}; background-color: ${i?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col-12 my-2 mx-2"},Object(n.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:"/race/"+s,class:"text-overflow nav-link "+("default"===o?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-info-circle"})," ",Object(n.h)(c.c,{id:"race.therace"},"Løpet")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:`/race/${s}/mushers`,class:"text-overflow nav-link "+("mushers"===o?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(c.c,{id:"race.mushers"},"Deltakere")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:`/race/${s}/results`,class:"text-overflow nav-link "+("results"===o?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-poll"})," ",Object(n.h)(c.c,{id:"race.results"},"Resultater")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:`/race/${s}/media`,class:"text-overflow nav-link "+("media"===o?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-images"})," ",Object(n.h)(c.c,{id:"race.media"},"Bilder")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:`/race/${s}/tracking`,class:"text-overflow nav-link "+("tracking"===o?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(n.h)(c.c,{id:"race.tracking"},"Tracking"))))))))}})||o;t.a=p}).call(this,s("hosL").Fragment)},"8ofI":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function r(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function l(e,t,s){return e.filter(e=>!t.find(t=>e[s]===t[s])).concat(t)}var c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S,_,T,D,I,P,L,C,A,E=s("cneo"),F=s("0frO"),M=s("Y3FI"),R=s("Utv1"),z=s("ZOvn"),U=s("X9Km");Object(E.f)({enforceActions:"always"});const N=new(d=r((c=class extends F.a{constructor(){super("team",{namePlural:"teams",sort:"title",limit:100,api:{search:{url:"/api/teams/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/teams/",params:{}},save:{url:"/api/teams/",params:{}}}}),n(this,"team",d,this),n(this,"teams",h,this),n(this,"publicTeams",u,this),n(this,"publicUsers",p,this),n(this,"publicTeam",m,this),n(this,"publicTeamFollowers",b,this),n(this,"publicTeamsToFollow",f,this),n(this,"publicTeamsFeed",g,this),n(this,"topRankedWorkouts",O,this),n(this,"dogs",v,this),n(this,"users",y,this),n(this,"followers",j,this),n(this,"blockedFollowers",w,this),n(this,"followRequests",k,this),n(this,"workoutSummary",x,this),n(this,"musherSummary",S,this),n(this,"graphFitness",_,this),n(this,"graphFatigue",T,this),n(this,"graphForm",D,this),n(this,"publicViews",I,this),n(this,"publicViewsGraphData",P,this),n(this,"publicViewsGraphLegend",L,this),n(this,"hasFollowRequests",C,this),n(this,"loadMore",A,this)}cleanupMemory(){this.localUpdateField("publicTeams",[]),this.localUpdateField("publicUsers",[]),this.localUpdateField("publicTeamFollowers",[]),this.localUpdateField("publicTeamsToFollow",[]),this.localUpdateField("publicTeamsFeed",[]),this.localUpdateField("topRankedWorkouts",[]),this.localUpdateField("followers",[]),this.localUpdateField("blockedFollowers",[]),this.localUpdateField("followRequests",[]),this.localUpdateField("workoutSummary",[]),this.localUpdateField("musherSummary",[]),this.localUpdateField("graphFitness",[]),this.localUpdateField("graphFatigue",[]),this.localUpdateField("graphForm",[]),this.localUpdateField("publicViews",{}),this.localUpdateField("publicViewsGraphData",[]),this.localUpdateField("publicViewsGraphLegend",[]),this.localUpdateField("topRankedStories",[])}addTeamLocal({dog:e}){-1===this.dogs.findIndex(t=>t.id===e.id)&&this.dogs.push(e)}removeTeamLocal({dog:e}){if(R.a.isArray(this.dogs)){const t=this.dogs.findIndex(t=>t.id===e.id);t>-1&&this.dogs.splice(t,1)}}afterLoad(e){this.hasFollowRequests=!1;for(let e=0,t=this.teams.length;e<t;e+=1){const t=this.teams[e];t.followRequests&&t.followRequests.length>0&&(this.hasFollowRequests=!0)}}setLoadMore(e){R.a.isFunction(e)&&(this.loadMore=e)}findTeam(e,t=!1){const s=this.teams.findIndex(t=>t.id===e);if(s>-1)return t?Object(E.i)(this.teams[s]):Object(E.i)(this.teams[s]).name}localUpdateField(e,t){this[e]=t}removeImageLocal({id:e,name:t}){if(R.a.isArray(this.team.images)){const e=this.team.images.findIndex(e=>e.name===t);e>-1&&this.team.images.splice(e,1)}const s=this.teams.findIndex(t=>t.id===e);if(s>-1&&this.teams[s].images){const e=this.teams[s].images.findIndex(e=>e.name===t);e>-1&&this.teams[s].images.splice(e,1)}}removeSponsorImageLocal({id:e,name:t}){if(R.a.isArray(this.team.imagesSponsor)){const e=this.team.imagesSponsor.findIndex(e=>e.name===t);e>-1&&this.team.imagesSponsor.splice(e,1)}const s=this.teams.findIndex(t=>t.id===e);if(s>-1&&this.teams[s].imagesSponsor){const e=this.teams[s].imagesSponsor.findIndex(e=>e.name===t);e>-1&&this.teams[s].imagesSponsor.splice(e,1)}}removeFileLocal({id:e,name:t}){if(R.a.isArray(this.team.files)){const e=this.team.files.findIndex(e=>e.name===t);e>-1&&this.team.files.splice(e,1)}const s=this.teams.findIndex(t=>t.id===e);if(s>-1){const e=this.teams[s].files.findIndex(e=>e.name===t);e>-1&&this.teams[s].files.splice(e,1)}}removeLinkLocal({id:e,name:t,linkId:s}){if(R.a.isArray(this.team.links)){let e;e=this.team.links.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.team.links.splice(e,1)}const a=this.teams.findIndex(t=>t.id===e);if(a>-1){let e;e=this.teams[a].links.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.teams[a].links.splice(e,1)}}removeAchievementLocal({id:e,name:t,achievementId:s}){if(R.a.isArray(this.team.achievements)){let e;e=this.team.achievements.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.team.achievements.splice(e,1)}const a=this.teams.findIndex(t=>t.id===e);if(a>-1){let e;e=this.teams[a].achievements.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.teams[a].achievements.splice(e,1)}}async removeImage({id:e,name:t}){const s=await R.a.fetchApi("/api/teams/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async removeSponsorImage({id:e,name:t}){const s=await R.a.fetchApi("/api/teams/"+e,{publish:!0,method:"PATCH"},{removeSponsorImageByName:t});switch(s.status){case 202:return this.removeSponsorImageLocal({id:e,name:t}),s;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async removeFile({id:e,name:t}){const s=await R.a.fetchApi("/api/teams/"+e,{publish:!0,method:"PATCH"},{removeFileByName:t});switch(s.status){case 202:return this.removeFileLocal({id:e,name:t}),s;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async removeLink({id:e,name:t,linkId:s}){const a=await R.a.fetchApi("/api/teams/"+e,{publish:!0,method:"PATCH"},{removeLinkByName:t,removeLinkById:s});switch(a.status){case 202:return this.removeLinkLocal({id:e,name:t,linkId:s}),a;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async removeAchievement({id:e,name:t,achievementId:s}){const a=await R.a.fetchApi("/api/teams/"+e,{publish:!0,method:"PATCH"},{removeAchievementByName:t,removeAchievementById:s});switch(a.status){case 202:return this.removeAchievementLocal({id:e,name:t,achievementId:s}),a;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}findWorkoutSummary(e,t){const s=this.workoutSummary.findIndex(s=>s.team===e&&s.year===t);if(s>-1)return Object(E.i)(this.workoutSummary[s])}findMusherSummary(e,t){const s=this.musherSummary.findIndex(s=>s.musher===e&&s.team===t);if(s>-1)return Object(E.i)(this.musherSummary[s])}findPublicTeam(e){const t=this.publicTeams.findIndex(t=>t.id===e);if(t>-1)return Object(E.i)(this.publicTeams[t])}findPublicTeamByUuidv4(e){const t=this.publicTeams.findIndex(t=>t.uuidv4===e);if(t>-1)return Object(E.i)(this.publicTeams[t])}findPublicUser(e){const t=this.publicUsers.findIndex(t=>t.id===e);if(t>-1)return this.publicUsers[t]}findPublicTeamByMembers(e){if(!e)return[];return this.publicTeams.filter(t=>t.members.indexOf(e)>-1)}findWorkoutSummaryTotal(e){if(this.workoutSummary.length>0){const t=this.workoutSummary.filter(t=>t.year===e),s={cnt:0,totalSpeedAvg:0,distanceKm:0,elevation:0,duration:0,speedAvg:0};for(let e=0,a=t.length;e<a;e+=1){const a=t[e];s.cnt+=1,s.totalSpeedAvg+=a.speedAvg,s.count+=a.count,s.distanceKm+=a.distanceKm,s.elevation+=a.elevation,s.duration+=a.duration}return s.speedAvg=s.totalSpeedAvg/s.cnt,s}return{}}plotFormGraph(){this.team&&this.team.fitness&&(this.graphFitness=this.team.fitness.map((e,t)=>({x:t,y:e.value||0,year:e.year,month:e.month,day:e.day,date:e.date}))),this.team&&this.team.fatigue&&(this.graphFatigue=this.team.fatigue.map((e,t)=>({x:t,y:e.value||0,year:e.year,month:e.month,day:e.day,date:e.date}))),this.team&&this.team.form&&(this.graphForm=this.team.form.map((e,t)=>({x:t,y:e.value||0,year:e.year,month:e.month,day:e.day,date:e.date})))}async addMember(e,t){switch((await R.a.fetchApi("/api/teams/addmember/"+e,{publish:!0,method:"PATCH"},i({},t))).status){case 202:U.a.publish(U.b.STATUS_MESSAGE,{message:"Nytt medlem ble lagt til.",type:"success",icon:"fas fa-check"}),Object(M.route)("/teams/"+e,!0);break;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0);break;case 404:U.a.publish(U.b.STATUS_MESSAGE,{message:`Fant ikke bruker med e-post: ${t.email}.\nBrukere må registrere seg før de kan bli lagt til i et team.\nFor å gjøre det enkelt for deg, så har vi sendt en e-post med alle instruksjoner.`,type:"danger",icon:"fas fa-exclamation-triangle"});break;case 422:U.a.publish(U.b.STATUS_MESSAGE,{message:"Mangler e-postadresse.",type:"danger",icon:"fas fa-exclamation-triangle"})}}async removeMember(e,t){switch((await R.a.fetchApi("/api/teams/removemember/"+e,{publish:!0,method:"PATCH"},i({},t))).status){case 202:U.a.publish(U.b.STATUS_MESSAGE,{message:"Nytt medlem ble slettet fra teamet.",type:"success",icon:"fas fa-check"}),Object(M.route)("/teams/"+e,!0);break;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0);break;default:U.a.publish(U.b.STATUS_MESSAGE,{message:"Sletting av bruker fra teamet feilet.",type:"danger",icon:"fas fa-exclamation-triangle"})}}async loadPublicFeed({limit:e,offset:t,sort:s,teamid:a,workoutid:o,opts:n={}}){const r=await R.a.fetchApi("/api/teams/public/feed/",{publish:!0,method:"GET"},i({limit:e,offset:t,sort:s,teamid:a,workoutid:o},n));switch(r.status){case 200:if(t>0){let e=Object(E.i)(this.publicTeamsFeed);e.push(...r.data),this.localUpdateField("publicTeamsFeed",e);const t=l(Object(E.i)(this.publicTeams),r.included.teams,"id");this.localUpdateField("publicTeams",t);const s=l(Object(E.i)(this.publicUsers),r.included.users,"id");this.localUpdateField("publicUsers",s);const a=l(Object(E.i)(this.publicDogs),r.included.dogs,"id");this.localUpdateField("publicDogs",a)}else this.localUpdateField("publicTeamsFeed",r.data),this.localUpdateField("publicTeams",r.included.teams),this.localUpdateField("publicUsers",r.included.users),this.localUpdateField("publicDogs",r.included.dogs),this.localUpdateField("topRankedWorkouts",r.included.topRankedWorkouts);return r;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async loadPublic({query:e,limit:t,offset:s,search:a,opts:o={}}){const n=await R.a.fetchApi("/api/teams/public/",{publish:!0,method:"GET"},i(i({},e),{},{search:a,limit:t,offset:s,array:1},o));switch(n.status){case 200:if(s>0){let e=Object(E.i)(this.publicTeamsToFollow);e.push(...n.data),this.localUpdateField("publicTeamsToFollow",e)}else this.localUpdateField("publicTeamsToFollow",n.data);return n;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async loadPublicDetail(e){this.localUpdateField("publicTeam",{}),this.localUpdateField("publicTeamFollowers",[]);const t=await R.a.fetchApi("/api/teams/public/",{publish:!0,method:"GET"},i({},e));switch(t.status){case 200:return this.localUpdateField("publicTeam",t.data),t.included&&this.localUpdateField("publicTeamFollowers",t.included.followers),t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async followRequest(e){const t=await R.a.fetchApi("/api/teams/follow-request/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 202:return t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async unollowTeam(e){const t=await R.a.fetchApi("/api/teams/unfollow/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 202:return t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async followRequestUser(e){const t=await R.a.fetchApi("/api/teams/follow-request/user/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 202:return t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async confirmFollowRequest({team:e,user:t}){const s=await R.a.fetchApi("/api/teams/confirm-follow-request/"+e,{publish:!0,method:"GET"},{user:t});switch(s.status){case 202:return s;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async deleteFollowRequest({team:e,user:t}){const s=await R.a.fetchApi("/api/teams/delete-follow-request/"+e,{publish:!0,method:"GET"},{user:t});switch(s.status){case 202:return s;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}addLikeToWorkout({id:e,data:t}){const s=this.publicTeamsFeed.findIndex(t=>t.id===e);s>-1&&(R.a.isUndefined(this.publicTeamsFeed[s].likes)&&(this.publicTeamsFeed[s].likes=[]),this.publicTeamsFeed[s].likes.push(t))}addLikeToComment({id:e,commentId:t,data:s}){const a=this.publicTeamsFeed.findIndex(t=>t.id===e);if(a>-1&&R.a.isDefined(this.publicTeamsFeed[a].comments)){const e=this.publicTeamsFeed[a].comments.findIndex(e=>e.id===t),i=this.publicTeamsFeed[a].comments[e];R.a.isUndefined(i.likes)&&(i.likes=[]),i.likes.push(s)}}addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a}){const i=this.publicTeamsFeed.findIndex(t=>t.id===e);if(i>-1&&R.a.isDefined(this.publicTeamsFeed[i].comments)){const e=this.publicTeamsFeed[i].comments.findIndex(e=>e.id===t),o=this.publicTeamsFeed[i].comments[e];if(R.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s),t=o.comments[e];R.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}}addCommentToWorkout({id:e,data:t}){const s=this.publicTeamsFeed.findIndex(t=>t.id===e);s>-1&&(R.a.isUndefined(this.publicTeamsFeed[s].comments)&&(this.publicTeamsFeed[s].comments=[]),this.publicTeamsFeed[s].comments.push(t))}addCommentToWorkoutComment({id:e,commentId:t,data:s}){const a=this.publicTeamsFeed.findIndex(t=>t.id===e);if(a>-1&&R.a.isDefined(this.publicTeamsFeed[a].comments)){const e=this.publicTeamsFeed[a].comments.findIndex(e=>e.id===t),i=this.publicTeamsFeed[a].comments[e];R.a.isUndefined(i.comments)&&(i.comments=[]),i.comments.push(s)}}async postScrollview(e=[]){if(!e||0===e.length)return!1;const t=await R.a.fetchApi("/api/scrollview/",{publish:!1,method:"POST"},{data:e});switch(t.status){case 200:return t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async getPublicViews(e){const t=await R.a.fetchApi("/api/teams/summary/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:this.localUpdateField("publicViews",t.data);const{legends:e,data:s}=z.a.getGraphData(t.data);return this.localUpdateField("publicViewsGraphData",s),this.localUpdateField("publicViewsGraphLegend",e),t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}async reCalcFitness(e){const t=await R.a.fetchApi(`/api/teams/${e}/recalculate`,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.localUpdateField("team",t.data),this.plotFormGraph(),t;case 401:U.a.publish(U.b.LOG_OUT),Object(M.route)("/",!0)}}}).prototype,"team",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=r(c.prototype,"teams",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=r(c.prototype,"publicTeams",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=r(c.prototype,"publicUsers",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=r(c.prototype,"publicTeam",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=r(c.prototype,"publicTeamFollowers",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=r(c.prototype,"publicTeamsToFollow",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=r(c.prototype,"publicTeamsFeed",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=r(c.prototype,"topRankedWorkouts",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=r(c.prototype,"dogs",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=r(c.prototype,"users",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=r(c.prototype,"followers",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=r(c.prototype,"blockedFollowers",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=r(c.prototype,"followRequests",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=r(c.prototype,"workoutSummary",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=r(c.prototype,"musherSummary",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=r(c.prototype,"graphFitness",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=r(c.prototype,"graphFatigue",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=r(c.prototype,"graphForm",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=r(c.prototype,"publicViews",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),P=r(c.prototype,"publicViewsGraphData",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=r(c.prototype,"publicViewsGraphLegend",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=r(c.prototype,"hasFollowRequests",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=r(c.prototype,"loadMore",[E.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),r(c.prototype,"cleanupMemory",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"cleanupMemory"),c.prototype),r(c.prototype,"addTeamLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"addTeamLocal"),c.prototype),r(c.prototype,"removeTeamLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"removeTeamLocal"),c.prototype),r(c.prototype,"afterLoad",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"afterLoad"),c.prototype),r(c.prototype,"setLoadMore",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"setLoadMore"),c.prototype),r(c.prototype,"findTeam",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findTeam"),c.prototype),r(c.prototype,"localUpdateField",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"localUpdateField"),c.prototype),r(c.prototype,"removeImageLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"removeImageLocal"),c.prototype),r(c.prototype,"removeSponsorImageLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"removeSponsorImageLocal"),c.prototype),r(c.prototype,"removeFileLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"removeFileLocal"),c.prototype),r(c.prototype,"removeLinkLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"removeLinkLocal"),c.prototype),r(c.prototype,"removeAchievementLocal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"removeAchievementLocal"),c.prototype),r(c.prototype,"findWorkoutSummary",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findWorkoutSummary"),c.prototype),r(c.prototype,"findMusherSummary",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findMusherSummary"),c.prototype),r(c.prototype,"findPublicTeam",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findPublicTeam"),c.prototype),r(c.prototype,"findPublicTeamByUuidv4",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findPublicTeamByUuidv4"),c.prototype),r(c.prototype,"findPublicUser",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findPublicUser"),c.prototype),r(c.prototype,"findPublicTeamByMembers",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findPublicTeamByMembers"),c.prototype),r(c.prototype,"findWorkoutSummaryTotal",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"findWorkoutSummaryTotal"),c.prototype),r(c.prototype,"plotFormGraph",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"plotFormGraph"),c.prototype),r(c.prototype,"addLikeToWorkout",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"addLikeToWorkout"),c.prototype),r(c.prototype,"addLikeToComment",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"addLikeToComment"),c.prototype),r(c.prototype,"addLikeToCommentReply",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"addLikeToCommentReply"),c.prototype),r(c.prototype,"addCommentToWorkout",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"addCommentToWorkout"),c.prototype),r(c.prototype,"addCommentToWorkoutComment",[E.c],Object.getOwnPropertyDescriptor(c.prototype,"addCommentToWorkoutComment"),c.prototype),c);t.a=N},"9Bb9":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ETxl"),c=s.n(l),d=s("ZOvn");let h=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.loadWorkoutPlans=async function(e=t.props){const{workoutPlanStore:s}=e.stores,a=(new Date).getMonth()+1,i=(new Date).getFullYear(),{year:o=i,month:n=a,currentTeam:r}=e,l=parseInt(o||(n<8?o-1:o),10);if(r){await s.load({query:{team:r,seasonYear:l,seasonMonth:6}});const{workoutPlans:e}=s,t=e[0]||{};t.id&&await s.load(t.id)}},this.state={}}async loadAll(e=this.props){}async loadTeams(e=this.props){const{teamStore:t}=e.stores,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),{month:i=s,year:o=a,currentTeam:n}=e;await t.load({query:{team:n,skipMusherWorkoutSummary:!0,year:o,month:i},addData:["workoutSummary"]})}async loadWorkoutSummary(e=this.props){const{year:t,currentTeam:s,dog:a}=e,{userStore:i}=e.stores;await i.getWorkoutSummary({team:s,year:t,dog:a})}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.year===this.props.year&&e.currentTeam===this.props.currentTeam||this.loadAll(e)}render(){const{currentTeam:e}=this.props,{userStore:t,workoutPlanStore:s,teamStore:a}=this.props.stores,{workoutPlan:n}=s,{user:l}=t,{language:h="en"}=l,u=d.a.getMonths(h),p=a.findTeam(e)||{},m=(new Date).getMonth()+1,b=(new Date).getFullYear(),{year:f=b,month:g=m}=this.props,O=parseInt(g<8?f-1:f,10),v=o.a.monthRange(O+"-08-01",O+1+"-07-31");let y;return Object(i.h)("div",{class:"container-fluid mb-2"},Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)("span",{style:"display: none;"},n.id),Object(i.h)(r.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(i.h)("div",{class:"row mt-2 border-bottom pb-2"},v&&v.map(e=>{if(e.year>f||e.year===f&&e.month>=e)return"";const a=s.sumWorkoutPlanMonth(e.year,e.month+1);if(!a)return"";y=a;const n=t.findWorkoutSummaryMonth(e.year,e.month+1)/a*100,r=n>100?100:o.a.format(n,0);return Object(i.h)("div",{class:"col-3 text-center"},Object(i.h)("div",{class:"px-auto w-100 clearfix"},Object(i.h)("div",{class:"progress "+c.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(i.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:`height: ${r}%; width: 40px;`,"aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"},o.a.format(n,0),"%"))),Object(i.h)("div",{class:"w-100 mt-1"},u[e.month]," ",e.year))}),!y&&Object(i.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"far fa-sad-tear"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(r.c,{id:"workout.plan.no-workout-plan-found",fields:{name:p.name}},"Ingen treningsplaner funnet for team ",p.name,".")),Object(i.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(r.c,{id:"workout.plan.new"},"New workoutplan")))))}})||a;t.a=h},"9K2m":function(e,t){"use strict";function s(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case p:case r:case c:case l:case b:return e;default:switch(e=e&&e.$$typeof){case h:case m:case O:case g:case d:return e;default:return t}}case n:return t}}}function a(e){return s(e)===p}var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,m=i?Symbol.for("react.forward_ref"):60112,b=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,O=i?Symbol.for("react.lazy"):60116,v=i?Symbol.for("react.block"):60121,y=i?Symbol.for("react.fundamental"):60117,j=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=h,t.ContextProvider=d,t.Element=o,t.ForwardRef=m,t.Fragment=r,t.Lazy=O,t.Memo=g,t.Portal=n,t.Profiler=c,t.StrictMode=l,t.Suspense=b,t.isAsyncMode=function(e){return a(e)||s(e)===u},t.isConcurrentMode=a,t.isContextConsumer=function(e){return s(e)===h},t.isContextProvider=function(e){return s(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return s(e)===m},t.isFragment=function(e){return s(e)===r},t.isLazy=function(e){return s(e)===O},t.isMemo=function(e){return s(e)===g},t.isPortal=function(e){return s(e)===n},t.isProfiler=function(e){return s(e)===c},t.isStrictMode=function(e){return s(e)===l},t.isSuspense=function(e){return s(e)===b},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===p||e===c||e===l||e===b||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===O||e.$$typeof===g||e.$$typeof===d||e.$$typeof===h||e.$$typeof===m||e.$$typeof===y||e.$$typeof===j||e.$$typeof===w||e.$$typeof===v)},t.typeOf=s},"9Kaa":function(e,t,s){(function(e,s){function a(e,t){for(var s=-1,a=e?e.length:0,i=Array(a);++s<a;)i[s]=t(e[s],s,e);return i}function i(e,t){for(var s=-1,a=e?e.length:0;++s<a;)if(t(e[s],s,e))return!0;return!1}function o(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function n(e){var t=-1,s=Array(e.size);return e.forEach((function(e,a){s[++t]=[a,e]})),s}function r(e){var t=-1,s=Array(e.size);return e.forEach((function(e){s[++t]=e})),s}function l(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function c(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function d(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function h(e){var t=-1,s=e?e.length:0;for(this.__data__=new d;++t<s;)this.add(e[t])}function u(e){this.__data__=new c(e)}function p(e,t){var s=qe(e)||E(e)?function(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}(e.length,String):[],a=s.length,i=!!a;for(var o in e)!t&&!ve.call(e,o)||i&&("length"==o||_(o,a))||s.push(o);return s}function m(e,t){for(var s=e.length;s--;)if(A(e[s][0],t))return s;return-1}function b(e,t){for(var s=0,a=(t=T(t,e)?[t]:w(t)).length;null!=e&&s<a;)e=e[P(t[s++])];return s&&s==a?e:void 0}function f(e,t){return null!=e&&t in Object(e)}function g(e,t,s,a,i){return e===t||(null==e||null==t||!z(e)&&!U(t)?e!=e&&t!=t:function(e,t,s,a,i,l){var c=qe(e),d=qe(t),h="[object Array]",p="[object Array]";c||(h=(h=Ve(e))==H?G:h);d||(p=(p=Ve(t))==H?G:p);var m=h==G&&!o(e),b=p==G&&!o(t),f=h==p;if(f&&!m)return l||(l=new u),c||Ke(e)?k(e,t,s,a,i,l):function(e,t,s,a,i,o,l){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new ke(e),new ke(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return A(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case V:var c=n;case q:var d=2&o;if(c||(c=r),e.size!=t.size&&!d)return!1;var h=l.get(e);if(h)return h==t;o|=1,l.set(e,t);var u=k(c(e),c(t),a,i,o,l);return l.delete(e),u;case"[object Symbol]":if(Ue)return Ue.call(e)==Ue.call(t)}return!1}(e,t,h,s,a,i,l);if(!(2&i)){var g=m&&ve.call(e,"__wrapped__"),O=b&&ve.call(t,"__wrapped__");if(g||O){var v=g?e.value():e,y=O?t.value():t;return l||(l=new u),s(v,y,a,i,l)}}if(!f)return!1;return l||(l=new u),function(e,t,s,a,i,o){var n=2&i,r=W(e),l=r.length,c=W(t);if(l!=c.length&&!n)return!1;var d=l;for(;d--;){var h=r[d];if(!(n?h in t:ve.call(t,h)))return!1}var u=o.get(e);if(u&&o.get(t))return u==t;var p=!0;o.set(e,t),o.set(t,e);var m=n;for(;++d<l;){var b=e[h=r[d]],f=t[h];if(a)var g=n?a(f,b,h,t,e,o):a(b,f,h,e,t,o);if(!(void 0===g?b===f||s(b,f,a,i,o):g)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var O=e.constructor,v=t.constructor;O==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,s,a,i,l)}(e,t,g,s,a,i))}function O(e){return!(!z(e)||(t=e,ge&&ge in t))&&(M(e)||o(e)?je:Q).test(L(e));var t}function v(e){return"function"==typeof e?e:null==e?B:"object"==typeof e?qe(e)?function(e,t){if(T(e)&&D(t))return I(P(e),t);return function(s){var a=function(e,t,s){var a=null==e?void 0:b(e,t);return void 0===a?s:a}(s,e);return void 0===a&&a===t?function(e,t){return null!=e&&function(e,t,s){t=T(t,e)?[t]:w(t);var a,i=-1,o=t.length;for(;++i<o;){var n=P(t[i]);if(!(a=null!=e&&s(e,n)))break;e=e[n]}if(a)return a;return!!(o=e?e.length:0)&&R(o)&&_(n,o)&&(qe(e)||E(e))}(e,t,f)}(s,e):g(t,a,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=W(e),s=t.length;for(;s--;){var a=t[s],i=e[a];t[s]=[a,i,D(i)]}return t}(e);if(1==t.length&&t[0][2])return I(t[0][0],t[0][1]);return function(s){return s===e||function(e,t,s,a){var i=s.length,o=i,n=!a;if(null==e)return!o;for(e=Object(e);i--;){var r=s[i];if(n&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++i<o;){var l=(r=s[i])[0],c=e[l],d=r[1];if(n&&r[2]){if(void 0===c&&!(l in e))return!1}else{var h=new u;if(a)var p=a(c,d,l,e,t,h);if(!(void 0===p?g(d,c,a,3,h):p))return!1}}return!0}(s,e,t)}}(e):T(t=e)?(s=P(t),function(e){return null==e?void 0:e[s]}):function(e){return function(t){return b(t,e)}}(t);var t,s}function y(e){if((t=e)!==("function"==typeof(s=t&&t.constructor)&&s.prototype||be))return _e(e);var t,s,a=[];for(var i in Object(e))ve.call(e,i)&&"constructor"!=i&&a.push(i);return a}function j(e,t){var s=-1,a=F(e)?Array(e.length):[];return Be(e,(function(e,i,o){a[++s]=t(e,i,o)})),a}function w(e){return qe(e)?e:Ge(e)}function k(e,t,s,a,o,n){var r=2&o,l=e.length,c=t.length;if(l!=c&&!(r&&c>l))return!1;var d=n.get(e);if(d&&n.get(t))return d==t;var u=-1,p=!0,m=1&o?new h:void 0;for(n.set(e,t),n.set(t,e);++u<l;){var b=e[u],f=t[u];if(a)var g=r?a(f,b,u,t,e,n):a(b,f,u,e,t,n);if(void 0!==g){if(g)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!m.has(t)&&(b===e||s(b,e,a,o,n)))return m.add(t)}))){p=!1;break}}else if(b!==f&&!s(b,f,a,o,n)){p=!1;break}}return n.delete(e),n.delete(t),p}function x(e,t){var s,a,i=e.__data__;return("string"==(a=typeof(s=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==s:null===s)?i["string"==typeof t?"string":"hash"]:i.map}function S(e,t){var s=function(e,t){return null==e?void 0:e[t]}(e,t);return O(s)?s:void 0}function _(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||ee.test(e))&&e>-1&&e%1==0&&e<t}function T(e,t){if(qe(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!N(e))||(Z.test(e)||!K.test(e)||null!=t&&e in Object(t))}function D(e){return e==e&&!z(e)}function I(e,t){return function(s){return null!=s&&(s[e]===t&&(void 0!==t||e in Object(s)))}}function P(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function L(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var s=function s(){var a=arguments,i=t?t.apply(this,a):a[0],o=s.cache;if(o.has(i))return o.get(i);var n=e.apply(this,a);return s.cache=o.set(i,n),n};return s.cache=new(C.Cache||d),s}function A(e,t){return e===t||e!=e&&t!=t}function E(e){return function(e){return U(e)&&F(e)}(e)&&ve.call(e,"callee")&&(!xe.call(e,"callee")||ye.call(e)==H)}function F(e){return null!=e&&R(e.length)&&!M(e)}function M(e){var t=z(e)?ye.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function R(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||U(e)&&"[object Symbol]"==ye.call(e)}function $(e){return null==e?"":function(e){if("string"==typeof e)return e;if(N(e))return Ne?Ne.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}function W(e){return F(e)?p(e):y(e)}function B(e){return e}var H="[object Arguments]",V="[object Map]",G="[object Object]",q="[object Set]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,Y=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/\\(\\)?/g,Q=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te[H]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te[V]=te["[object Number]"]=te[G]=te["[object RegExp]"]=te[q]=te["[object String]"]=te["[object WeakMap]"]=!1;var se,ae,ie,oe="object"==typeof e&&e&&e.Object===Object&&e,ne="object"==typeof self&&self&&self.Object===Object&&self,re=oe||ne||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&"object"==typeof s&&s&&!s.nodeType&&s,de=ce&&ce.exports===le&&oe.process,he=function(){try{return de&&de.binding("util")}catch(e){}}(),ue=he&&he.isTypedArray,pe=Array.prototype,me=Function.prototype,be=Object.prototype,fe=re["__core-js_shared__"],ge=(se=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",Oe=me.toString,ve=be.hasOwnProperty,ye=be.toString,je=RegExp("^"+Oe.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=re.Symbol,ke=re.Uint8Array,xe=be.propertyIsEnumerable,Se=pe.splice,_e=(ae=Object.keys,ie=Object,function(e){return ae(ie(e))}),Te=S(re,"DataView"),De=S(re,"Map"),Ie=S(re,"Promise"),Pe=S(re,"Set"),Le=S(re,"WeakMap"),Ce=S(Object,"create"),Ae=L(Te),Ee=L(De),Fe=L(Ie),Me=L(Pe),Re=L(Le),ze=we?we.prototype:void 0,Ue=ze?ze.valueOf:void 0,Ne=ze?ze.toString:void 0;l.prototype.clear=function(){this.__data__=Ce?Ce(null):{}},l.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},l.prototype.get=function(e){var t=this.__data__;if(Ce){var s=t[e];return"__lodash_hash_undefined__"===s?void 0:s}return ve.call(t,e)?t[e]:void 0},l.prototype.has=function(e){var t=this.__data__;return Ce?void 0!==t[e]:ve.call(t,e)},l.prototype.set=function(e,t){return this.__data__[e]=Ce&&void 0===t?"__lodash_hash_undefined__":t,this},c.prototype.clear=function(){this.__data__=[]},c.prototype.delete=function(e){var t=this.__data__,s=m(t,e);return!(s<0)&&(s==t.length-1?t.pop():Se.call(t,s,1),!0)},c.prototype.get=function(e){var t=this.__data__,s=m(t,e);return s<0?void 0:t[s][1]},c.prototype.has=function(e){return m(this.__data__,e)>-1},c.prototype.set=function(e,t){var s=this.__data__,a=m(s,e);return a<0?s.push([e,t]):s[a][1]=t,this},d.prototype.clear=function(){this.__data__={hash:new l,map:new(De||c),string:new l}},d.prototype.delete=function(e){return x(this,e).delete(e)},d.prototype.get=function(e){return x(this,e).get(e)},d.prototype.has=function(e){return x(this,e).has(e)},d.prototype.set=function(e,t){return x(this,e).set(e,t),this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},h.prototype.has=function(e){return this.__data__.has(e)},u.prototype.clear=function(){this.__data__=new c},u.prototype.delete=function(e){return this.__data__.delete(e)},u.prototype.get=function(e){return this.__data__.get(e)},u.prototype.has=function(e){return this.__data__.has(e)},u.prototype.set=function(e,t){var s=this.__data__;if(s instanceof c){var a=s.__data__;if(!De||a.length<199)return a.push([e,t]),this;s=this.__data__=new d(a)}return s.set(e,t),this};var $e,We,Be=($e=function(e,t){return e&&He(e,t,W)},function(e,t){if(null==e)return e;if(!F(e))return $e(e,t);for(var s=e.length,a=We?s:-1,i=Object(e);(We?a--:++a<s)&&!1!==t(i[a],a,i););return e}),He=function(e){return function(t,s,a){for(var i=-1,o=Object(t),n=a(t),r=n.length;r--;){var l=n[e?r:++i];if(!1===s(o[l],l,o))break}return t}}(),Ve=function(e){return ye.call(e)};(Te&&"[object DataView]"!=Ve(new Te(new ArrayBuffer(1)))||De&&Ve(new De)!=V||Ie&&"[object Promise]"!=Ve(Ie.resolve())||Pe&&Ve(new Pe)!=q||Le&&"[object WeakMap]"!=Ve(new Le))&&(Ve=function(e){var t=ye.call(e),s=t==G?e.constructor:void 0,a=s?L(s):void 0;if(a)switch(a){case Ae:return"[object DataView]";case Ee:return V;case Fe:return"[object Promise]";case Me:return q;case Re:return"[object WeakMap]"}return t});var Ge=C((function(e){e=$(e);var t=[];return Y.test(e)&&t.push(""),e.replace(X,(function(e,s,a,i){t.push(a?i.replace(J,"$1"):s||e)})),t}));C.Cache=d;var qe=Array.isArray,Ke=ue?function(e){return function(t){return e(t)}}(ue):function(e){return U(e)&&R(e.length)&&!!te[ye.call(e)]};s.exports=function(e,t){return(qe(e)?a:j)(e,v(t))}}).call(this,s("pCvA"),s("RoC8")(e))},"9jOP":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=(s("go65"),s("Y3FI")),h=s("OhSV"),u=s("X9Km"),p=s("pJjI"),m=s("K9Qx"),b=s("ZOvn");const f=b.a.marginTop(!0),g=b.a.marginBottom(),O=b.a.subMenuMarginTop();let v=Object(c.a)(o=class extends r.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{workoutPlanStore:a}=this.props.stores;a.updateObjectKeyValue("newPlan",t,s)}}render(){const{field:e,icon:t,title:s,help:a,type:i,datalist:o=[]}=this.props,{workoutPlanStore:n}=this.props.stores,{newPlan:l}=n;return"select"===i?Object(r.h)("div",{class:"form-group  mb-5 pb-1 border-bottom"},Object(r.h)("label",{for:e+"Input"},t&&Object(r.h)("i",{class:t+" text-muted"})," ",s),Object(r.h)("select",{list:"list-"+e,class:"form-control",id:e+"Input","aria-describedby":e+"Help",value:l[e],"data-field":e,onInput:this.onInput,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"workout.plan.choose-team"},"Velg team")," --"),o.map(e=>Object(r.h)("option",{value:e[0]},e[1]))),Object(r.h)("small",{id:e+"Help",class:"form-text text-muted"},a)):Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:e+"Input"},t&&Object(r.h)("i",{class:t+" text-muted"})," ",s),Object(r.h)("input",{type:"text",class:"form-control",id:e+"Input","aria-describedby":e+"Help",onInput:this.onInput,value:l[e]}),Object(r.h)("small",{id:e+"Help",class:"form-text text-muted"},a))}})||o;const y={isLoading:!1,showDuplicate:!1};let j=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.loadAll=(e=this.props)=>{this.loadWorkoutPlans(e),this.loadWorkoutSummary(e)},this.loadWorkoutPlans=async function(e=t.props){t.setState({isLoading:!0});const{year:s}=e,a=(new Date).getMonth()+1,i=(new Date).getFullYear(),o=parseInt(s||(a<8?i-1:i),10),{workoutPlanStore:n,workoutStore:r}=e.stores,{currentTeam:l}=r;n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),await n.load({query:{team:l,seasonYear:o,seasonMonth:6},addData:["tips"]});const{workoutPlans:c}=n,d=c[0]||{};d.id?(await n.load(d.id),n.prepareWeekGraphs({year:s})):(n.updateKeyValue("workoutPlan",{}),n.updateKeyValue("workoutPlans",[]),n.resetGraphPlanWeekDistanceCurrent()),t.setState({isLoading:!1})},this.toggleDuplicate=()=>{const{showDuplicate:e}=this.state;this.setState({showDuplicate:!e})},this.duplicateWorkoutPlan=async function(){const{workoutPlanStore:e}=t.props.stores,{newPlan:s,workoutPlan:a}=e,i=l.a.asNumber(s.team),o=await e.createWorkoutPlan({newPlan:{title:s.title,seasonMonth:a.seasonMonth,seasonYear:a.seasonYear,team:i,user:a.user,images:a.images,days:a.days,weeks:a.weeks,months:a.months}});o&&o.id&&(u.a.publish(u.b.STATUS_MESSAGE,{message:"Workoutplan was duplicated successfully",type:"success",icon:"fas fa-check"}),Object(d.route)("/workouts/plan",!0))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},y)}async loadWorkoutSummary(e=this.props){this.setState({isLoading:!0});const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,i=(new Date).getMonth()+1,{month:o=i,year:n=l.a.getYear(),team:r=a,dog:c={}}=e;await t.getWorkoutSummary({team:r,dog:c.id,daysBack:500}),await t.getWorkoutSummaryDay({daysBack:500,team:r,dog:c.id}),this.setState({isLoading:!1})}componentDidMount(){this.loadWorkoutPlans(),this.loadWorkoutSummary()}componentWillReceiveProps(e){e.month===this.props.month&&e.year===this.props.year&&e.team===this.props.team||(this.loadWorkoutPlans(e),this.loadWorkoutSummary(e))}render(){const{scrolledDown:t}=this.props,{showDuplicate:s}=this.state,{userStore:a,appState:i,workoutPlanStore:o,workoutStore:n}=this.props.stores,{workoutPlan:c}=o,{currentTeam:d}=n,u=a.findTeam(d,!0)||{},{teams:b}=a,{workoutSummaryWeekDay:y=[]}=a,{darkmode:j}=i,{message:w,year:k}=this.props,x=(new Date).getMonth()+1,S=(new Date).getFullYear(),_=parseInt(k||(x<8?S-1:S),10),T=_+1,D=_-1,I=l.a.monthRange(_+"-08-01",_+1+"-07-31");return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${g}; margin-top: ${f};`},Object(r.h)("div",{class:"row fixed-top",style:`margin-top: ${t>0?0:O}; background-color: ${j?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(r.h)("div",{class:"col text-center subtopmenu"},Object(r.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-chart-line"})," ",Object(r.h)(h.c,{id:"workout.plan.dashboard"},"Oversikt")))),Object(r.h)("div",{class:"col text-center subtopmenu"},Object(r.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-list"})," ",Object(r.h)(h.c,{id:"workout.plan.list"},"Liste")))),Object(r.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(r.h)("a",{href:"/workouts/plan",class:"text-primary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(h.c,{id:"workout.plan.plan"},"Plan"))))),w&&Object(r.h)("div",{class:"alert alert-success mb-3",role:"alert"},Object(r.h)("i",{class:"fas fa-check"})," ",w),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom mb-5"},Object(r.h)(p.a,{stores:this.props.stores,callback:this.loadAll,key:"teams-"+d}))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 text-center"},Object(r.h)("a",{href:`/workouts/plan/${T}/skipScroll`,class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(r.h)("i",{class:"fas fa-arrow-right"})),Object(r.h)("a",{href:`/workouts/plan/${D}/skipScroll`,class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(r.h)("i",{class:"fas fa-arrow-left"})),Object(r.h)("h5",null,Object(r.h)(h.c,{id:"workout.plan.season"},"Sesongen")," ",_," - ",_+1),Object(r.h)("small",null,c.id?Object(r.h)(e,null,c.title):Object(r.h)(h.c,{id:"workout.plan.no-plan"},"Ingen plan")),Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-users"})," ",u.name))),I.map(e=>Object(r.h)("div",null,Object(r.h)(m.a,{stores:this.props.stores,basehref:"/workouts/plan/",month:e.month,year:e.year,key:`${c.id||_}-${d}-${y.length}`,showNavigation:!1,currentTeam:d}))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5"},s?Object(r.h)(e,null,Object(r.h)("h5",null,Object(r.h)(h.c,{id:"workout.plan.duplicate"},"Legg til ny treningsrunde")),Object(r.h)(v,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(r.h)(h.c,{id:"workout.plan.title"},"Tittel"),help:Object(r.h)(h.c,{id:"workout.plan.title-help"},"Tittel på denne treningplanen.")}),Object(r.h)(v,{stores:this.props.stores,field:"team",icon:"fas fa-users",type:"select",datalist:b.filter(e=>e.id!==c.team).map(e=>[e.id,e.name]),title:Object(r.h)(h.c,{id:"workout.plan.team"},"Team"),help:Object(r.h)(h.c,{id:"workout.plan.team-help"},"Teamet som ønsker denne treningsplanen.")}),Object(r.h)("button",{class:"btn btn-secondary",onClick:this.duplicateWorkoutPlan},Object(r.h)(h.c,{id:"workout.plan.save-new"},"Lagre ny treningsplan"))):Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-secondary",onClick:this.toggleDuplicate},Object(r.h)(h.c,{id:"workout.plan.duplicate"},"Duplisere treningsplan"))))))}})||n;t.a=j}).call(this,s("hosL").Fragment)},"9lZG":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("ZOvn");let d=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.commentRace=async function(){const{callback:e=(()=>{})}=t.props,{race:s}=t.props,{raceStore:a}=t.props.stores,{comment:i=""}=t.state,o=await a.commentRace({id:s.id,comment:i});o&&200===o.status&&(t.setState({comment:""}),e({race:s,response:o}))}}render(){const{inputRef:e}=this.props,{comment:t}=this.state,{userStore:s}=this.props.stores,{user:a={}}=s,n=a.firstname?`${o.a.ucfirst(a.firstname,!0)}${o.a.ucfirst(a.lastname,!0)}`:""+o.a.ucfirst(a.email||"",!0),d=a.image||(a.images?a.images[0]:void 0);return Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-3 position-relative"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(d?`background-image: url('${d.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!d&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},n)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)(r.b,null,Object(i.h)("textarea",{class:"form-control rounded-lg",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,onFocus:c.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e}))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.commentRace},Object(i.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=d},"9rGW":function(e,t,s){"use strict";var a=s("Fcif"),i=s("0942"),o=s("7L9N"),n=s("mK0O"),r=s("ivZ3"),l=s("GdJW"),c=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,Object(n.a)(Object(i.a)(t),"onPopupOpen",(function(e){e.popup===t.leafletElement&&t.onOpen()})),Object(n.a)(Object(i.a)(t),"onPopupClose",(function(e){e.popup===t.leafletElement&&t.onClose()})),Object(n.a)(Object(i.a)(t),"onRender",(function(){!1!==t.props.autoPan&&t.leafletElement.isOpen()&&(t.leafletElement._map&&t.leafletElement._map._panAnim&&(t.leafletElement._map._panAnim=void 0),t.leafletElement._adjustPan())})),t}Object(o.a)(t,e);var s=t.prototype;return s.getOptions=function(t){return Object(a.a)(Object(a.a)({},e.prototype.getOptions.call(this,t)),{},{autoPan:!1})},s.createLeafletElement=function(e){var t=this.getOptions(e);return t.autoPan=!1!==e.autoPan,new r.Popup(t,e.leaflet.popupContainer)},s.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position)},s.componentDidMount=function(){var e=this.props.position,t=this.props.leaflet,s=t.map,a=t.popupContainer,i=this.leafletElement;null!=s&&s.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),a?a.bindPopup(i):(e&&i.setLatLng(e),i.openOn(s))},s.componentWillUnmount=function(){var t=this.props.leaflet.map;null!=t&&(t.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),t.removeLayer(this.leafletElement)),e.prototype.componentWillUnmount.call(this)},t}(s("xrjw").a);Object(n.a)(c,"defaultProps",{pane:"popupPane"}),t.a=Object(l.d)(c)},"9vyp":function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l,c,d=s("cneo"),h=s("0frO"),u=s("Utv1"),p=s("Y3FI"),m=s("X9Km");Object(d.f)({enforceActions:"always"});const b=new(n=i((o=class extends h.a{constructor(){super("track",{namePlural:"tracks",sort:"title",limit:100,api:{search:{url:"/api/tracks/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/tracks/",params:{}},save:{url:"/api/tracks/",params:{}}}}),a(this,"track",n,this),a(this,"newTrack",r,this),a(this,"tracks",l,this),a(this,"publicTracks",c,this)}cleanupMemory(){this.localUpdateField("track",{}),this.localUpdateField("tracks",[]),this.localUpdateField("publicTracks",[])}localUpdateField(e,t){this[e]=t}removeImageLocal({id:e,name:t}){if(u.a.isArray(this.track.images)){const e=this.track.images.findIndex(e=>e.name===t);e>-1&&this.track.images.splice(e,1)}const s=this.tracks.findIndex(t=>t.id===e);if(s>-1){const e=this.tracks[s].images.findIndex(e=>e.name===t);e>-1&&this.tracks[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await u.a.fetchApi("/api/tracks/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:m.a.publish(m.b.LOG_OUT),Object(p.route)("/",!0)}}addLikeToTrack({id:e,data:t}){u.a.isArray(this.track.likes)&&this.track.likes.push(t);const s=this.tracks.findIndex(t=>t.id===e);s>-1&&(u.a.isUndefined(this.tracks[s].likes)&&(this.tracks[s].likes=[]),this.tracks[s].likes.push(t))}addLikeToComment({id:e,commentId:t,data:s}){if(u.a.isDefined(this.track.comments)){const e=this.track.comments.findIndex(e=>e.id===t),a=this.track.comments[e];u.a.isUndefined(a.likes)&&(a.likes=[]),a.likes.push(s)}const a=this.tracks.findIndex(t=>t.id===e);if(a>-1&&u.a.isDefined(this.tracks[a].comments)){const e=this.tracks[a].comments.findIndex(e=>e.id===t),i=this.tracks[a].comments[e];u.a.isUndefined(i.likes)&&(i.likes=[]),i.likes.push(s)}}addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a}){if(u.a.isDefined(this.track.comments)){const e=this.track.comments.findIndex(e=>e.id===t),i=this.track.comments[e];if(u.a.isDefined(i.comments[e])){const e=i.comments.findIndex(e=>e.id===s),t=i.comments[e];u.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}const i=this.tracks.findIndex(t=>t.id===e);if(i>-1&&u.a.isDefined(this.tracks[i].comments)){const e=this.tracks[i].comments.findIndex(e=>e.id===t),o=this.tracks[i].comments[e];if(u.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s),t=o.comments[e];u.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}}addCommentToTrack({id:e,data:t}){u.a.isArray(this.track.comments)&&this.track.comments.push(t);const s=this.tracks.findIndex(t=>t.id===e);s>-1&&(u.a.isUndefined(this.tracks[s].comments)&&(this.tracks[s].comments=[]),this.tracks[s].comments.push(t))}addCommentToTrackComment({id:e,commentId:t,data:s}){if(u.a.isDefined(this.track.comments)){const e=this.track.comments.findIndex(e=>e.id===t),a=this.track.comments[e];u.a.isUndefined(a.comments)&&(a.comments=[]),a.comments.push(s)}const a=this.tracks.findIndex(t=>t.id===e);if(a>-1&&u.a.isDefined(this.tracks[a].comments)){const e=this.tracks[a].comments.findIndex(e=>e.id===t),i=this.tracks[a].comments[e];u.a.isUndefined(i.comments)&&(i.comments=[]),i.comments.push(s)}}async likeTrack({id:e}){const t=await u.a.fetchApi("/api/tracks/like/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.addLikeToTrack({id:e,data:t.data}),t;case 401:m.a.publish(m.b.LOG_OUT),Object(p.route)("/",!0)}}async likeTrackComment({id:e,commentId:t}){const s=await u.a.fetchApi(`/api/tracks/like/${e}/${t}`,{publish:!0,method:"GET"},{});switch(s.status){case 200:return this.addLikeToComment({id:e,commentId:t,data:s.data}),s;case 401:m.a.publish(m.b.LOG_OUT),Object(p.route)("/",!0)}}async likeTrackCommentReply({id:e,commentId:t,replyId:s}){const a=await u.a.fetchApi(`/api/tracks/like/${e}/${t}/${s}`,{publish:!0,method:"GET"},{});switch(a.status){case 200:return this.addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a.data}),a;case 401:m.a.publish(m.b.LOG_OUT),Object(p.route)("/",!0)}}async commentTrack({id:e,comment:t}){const s=await u.a.fetchApi("/api/tracks/comment/"+e,{publish:!0,method:"POST"},{comment:t});switch(s.status){case 200:return this.addCommentToTrack({id:e,data:s.data}),s;case 401:m.a.publish(m.b.LOG_OUT),Object(p.route)("/",!0)}}async commentReplyTrack({id:e,commentId:t,comment:s}){const a=await u.a.fetchApi(`/api/tracks/comment/${e}/${t}`,{publish:!0,method:"POST"},{comment:s});switch(a.status){case 200:return this.addCommentToTrackComment({id:e,commentId:t,data:a.data}),a;case 401:m.a.publish(m.b.LOG_OUT),Object(p.route)("/",!0)}}}).prototype,"track",[d.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{gpx:{}}}}),r=i(o.prototype,"newTrack",[d.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=i(o.prototype,"tracks",[d.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=i(o.prototype,"publicTracks",[d.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(o.prototype,"cleanupMemory",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"cleanupMemory"),o.prototype),i(o.prototype,"localUpdateField",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"localUpdateField"),o.prototype),i(o.prototype,"removeImageLocal",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"removeImageLocal"),o.prototype),i(o.prototype,"addLikeToTrack",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"addLikeToTrack"),o.prototype),i(o.prototype,"addLikeToComment",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"addLikeToComment"),o.prototype),i(o.prototype,"addLikeToCommentReply",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"addLikeToCommentReply"),o.prototype),i(o.prototype,"addCommentToTrack",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"addCommentToTrack"),o.prototype),i(o.prototype,"addCommentToTrackComment",[d.c],Object.getOwnPropertyDescriptor(o.prototype,"addCommentToTrackComment"),o.prototype),o);t.a=b},A1fj:function(){},ABWa:function(e){e.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},ACWa:function(e,t,s){"use strict";function a(e,t,s){null!=s?e.setAttribute(t,s):e.removeAttribute(t)}s.r(t),s.d(t,"LeafletConsumer",(function(){return i.a})),s.d(t,"LeafletProvider",(function(){return i.b})),s.d(t,"withLeaflet",(function(){return i.d})),s.d(t,"useLeaflet",(function(){return i.c})),s.d(t,"AttributionControl",(function(){return c})),s.d(t,"Circle",(function(){return p})),s.d(t,"CircleMarker",(function(){return f})),s.d(t,"DivOverlay",(function(){return g.a})),s.d(t,"FeatureGroup",(function(){return v})),s.d(t,"GeoJSON",(function(){return y.a})),s.d(t,"GridLayer",(function(){return j.a})),s.d(t,"ImageOverlay",(function(){return x})),s.d(t,"LayerGroup",(function(){return _})),s.d(t,"LayersControl",(function(){return T.b})),s.d(t,"ControlledLayer",(function(){return T.a})),s.d(t,"Map",(function(){return D.a})),s.d(t,"MapComponent",(function(){return I.a})),s.d(t,"MapControl",(function(){return r.a})),s.d(t,"MapEvented",(function(){return P.b})),s.d(t,"MapLayer",(function(){return w.a})),s.d(t,"Marker",(function(){return L.a})),s.d(t,"Pane",(function(){return W})),s.d(t,"Path",(function(){return h.a})),s.d(t,"Polygon",(function(){return H})),s.d(t,"Polyline",(function(){return G})),s.d(t,"Popup",(function(){return q.a})),s.d(t,"Rectangle",(function(){return Z})),s.d(t,"ScaleControl",(function(){return Y.a})),s.d(t,"SVGOverlay",(function(){return Q})),s.d(t,"TileLayer",(function(){return ee.a})),s.d(t,"Tooltip",(function(){return se})),s.d(t,"VideoOverlay",(function(){return ie})),s.d(t,"WMSTileLayer",(function(){return oe.a})),s.d(t,"ZoomControl",(function(){return re}));var i=s("GdJW"),o=s("7L9N"),n=s("ivZ3"),r=s("fZV/"),l=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.createLeafletElement=function(e){return new n.Control.Attribution(e)},t}(r.a),c=Object(i.d)(l),d=s("+I+c"),h=s("Kttx"),u=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=e.center,s=e.radius,a=Object(d.a)(e,["center","radius"]);return new n.Circle(t,s,this.getOptions(a))},s.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(h.a),p=Object(i.d)(u),m=s("Fcif"),b=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=new n.CircleMarker(e.center,this.getOptions(e));return this.contextValue=Object(m.a)(Object(m.a)({},e.leaflet),{},{popupContainer:t}),t},s.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(h.a),f=Object(i.d)(b),g=s("xrjw"),O=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=new n.FeatureGroup(this.getOptions(e));return this.contextValue=Object(m.a)(Object(m.a)({},e.leaflet),{},{layerContainer:t,popupContainer:t}),t},s.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.setStyle(this.props)},t}(h.a),v=Object(i.d)(O),y=s("/kKD"),j=s("eTqt"),w=s("6rtB"),k=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=new n.ImageOverlay(e.url,e.bounds,this.getOptions(e));return this.contextValue=Object(m.a)(Object(m.a)({},e.leaflet),{},{popupContainer:t}),t},s.updateLeafletElement=function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(Object(n.latLngBounds)(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex)},t}(w.a),x=Object(i.d)(k),S=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.createLeafletElement=function(e){var t=new n.LayerGroup([],this.getOptions(e));return this.contextValue=Object(m.a)(Object(m.a)({},e.leaflet),{},{layerContainer:t}),t},t}(w.a),_=Object(i.d)(S),T=s("5eBG"),D=s("/mwY"),I=s("d+ec"),P=s("f6wN"),L=s("+5/p"),C=s("0942"),A=s("mK0O"),E=s("l8WD"),F=(s("FIWN"),s("EcmK")),M=s("8bJD"),R=0,z=["tile","shadow","overlay","map","marker","tooltip","popup"],U=/-*pane/gi,N={position:"absolute",top:0,right:0,bottom:0,left:0},$=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,Object(A.a)(Object(C.a)(t),"state",{name:void 0,context:void 0}),Object(A.a)(Object(C.a)(t),"setStyle",(function(e){var s=void 0===e?t.props:e,a=s.style,i=s.className,o=t.getPane(t.state.name);o&&(i&&Object(F.a)(o,i),a&&Object.keys(a).forEach((function(e){o.style[e]=a[e]})))})),t}Object(o.a)(t,e);var s=t.prototype;return s.componentDidMount=function(){this.createPane(this.props)},s.componentDidUpdate=function(e){if(this.state.name)if(this.props.name!==e.name)this.removePane(),this.createPane(this.props);else{if(e.className&&this.props.className!==e.className){var t=this.getPane(this.state.name);null!=t&&null!=e.className&&Object(F.c)(t,e.className)}this.setStyle(this.props)}},s.componentWillUnmount=function(){this.removePane()},s.createPane=function(e){var t=e.leaflet.map,s=e.name||"pane-"+ ++R;if(null!=t&&null!=t.createPane){var a=function(e){return-1!==z.indexOf(e.replace(U,""))}(s);if(null==(a||this.getPane(s)))t.createPane(s,this.getParentPane());else;this.setState({name:s,context:Object(m.a)(Object(m.a)({},e.leaflet),{},{pane:s})},this.setStyle)}},s.removePane=function(){var e=this.state.name;if(null!=e){var t=this.getPane(e);null!=t&&t.remove&&t.remove();var s=this.props.leaflet.map;null!=s&&null!=s._panes&&(s._panes=Object(M.a)(s._panes,e),s._paneRenderers=Object(M.a)(s._paneRenderers,e))}},s.getParentPane=function(){return this.getPane(this.props.pane||this.props.leaflet.pane)},s.getPane=function(e){if(null!=e&&null!=this.props.leaflet.map)return this.props.leaflet.map.getPane(e)},s.render=function(){var e=this.state.context;return e?E.default.createElement(i.b,{value:e},E.default.createElement("div",{style:N},this.props.children)):null},t}(E.Component),W=Object(i.d)($),B=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new n.Polygon(e.positions,this.getOptions(e))},s.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(h.a),H=Object(i.d)(B),V=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new n.Polyline(e.positions,this.getOptions(e))},s.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(h.a),G=Object(i.d)(V),q=s("9rGW"),K=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new n.Rectangle(e.bounds,this.getOptions(e))},s.updateLeafletElement=function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),this.setStyleIfChanged(e,t)},t}(h.a),Z=Object(i.d)(K),Y=s("FTgN"),X=s("yBJb"),J=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(A.a)(Object(C.a)(s),"leafletElement",void 0),Object(A.a)(Object(C.a)(s),"container",void 0),s.leafletElement=s.createLeafletElement(t),s}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"preserveAspectRatio",e.preserveAspectRatio),a(t,"viewBox",e.viewBox),this.container=t,new n.SVGOverlay(t,e.bounds,this.getOptions(e))},s.updateLeafletElement=function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),this.container&&t.preserveAspectRatio!==e.preserveAspectRatio&&a(this.container,"preserveAspectRatio",t.preserveAspectRatio),this.container&&t.viewBox!==e.viewBox&&a(this.container,"viewBox",t.viewBox),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex)},s.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},s.componentDidUpdate=function(t){if(e.prototype.componentDidUpdate.call(this,t),this.props.attribution!==t.attribution){var s=this.props.leaflet.map;null!=s&&null!=s.attributionControl&&(s.attributionControl.removeAttribution(t.attribution),s.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(t,this.props)},s.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement),this.container=null},s.render=function(){var e=this.props.children;return null==e||null==this.container?null:Object(E.createPortal)(e,this.container)},Object(X.a)(t,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),t}(I.a),Q=Object(i.d)(J),ee=s("8bLb"),te=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,Object(A.a)(Object(C.a)(t),"onTooltipOpen",(function(e){e.tooltip===t.leafletElement&&t.onOpen()})),Object(A.a)(Object(C.a)(t),"onTooltipClose",(function(e){e.tooltip===t.leafletElement&&t.onClose()})),t}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new n.Tooltip(this.getOptions(e),e.leaflet.popupContainer)},s.componentDidMount=function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),e.bindTooltip(this.leafletElement))},s.componentWillUnmount=function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=e._map&&e.unbindTooltip(this.leafletElement))},t}(g.a);Object(A.a)(te,"defaultProps",{pane:"tooltipPane"});var se=Object(i.d)(te),ae=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new n.VideoOverlay(e.url,e.bounds,this.getOptions(e))},s.componentDidMount=function(){e.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},s.updateLeafletElement=function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(Object(n.latLngBounds)(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex),!0!==t.play||e.play?t.play||!0!==e.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},t}(w.a),ie=Object(i.d)(ae),oe=s("P2xA"),ne=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.createLeafletElement=function(e){return new n.Control.Zoom(e)},t}(r.a),re=Object(i.d)(ne)},AEg1:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("go65"),h=s("om2D"),u=s("ZOvn");const p={showAddImage:!1,showTeamChange:!1,showChangeVisibility:!1,showChangeType:!1,sendButtonEnabled:!0};let m=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.addStory=async function(){const{callback:e=(()=>{})}=t.props,{story:s={},showAddImage:a,sendButtonEnabled:i}=t.state,{storyStore:o}=t.props.stores;if(!i)return!1;if(!s.body)return!1;t.setState({sendButtonEnabled:!1});const n=await o.insert({type:s.type,title:s.title,body:s.body,images:s.images,public:s.public?1:0,team:s.team,urlText:s.urlText,url:s.url,currency:s.currency,price:s.price,code:s.code,country:s.country,region:s.region,startDate:s.startDate,endDate:s.endDate});n&&201===n.status&&(await o.loadPublicFeed({}),t.setState({story:{type:1,title:"",body:"",images:[],public:1,urlText:"",url:"",currency:"",price:null,code:"",country:"",region:"",startDate:null,endDate:null}},()=>{u.a.resizeTextarea(t.inputRef.newStoryBody),a&&t.addImage()}),e(n.data)),t.setState({sendButtonEnabled:!0})},this.addImages=({value:e})=>{const{story:t}=this.state;t.images.push(...e),this.setState({story:t})},this.addImage=()=>{const{showAddImage:e}=this.state;this.setState({showAddImage:!e})},this.changeVisibility=()=>{const{showChangeVisibility:e}=this.state;this.setState({showChangeVisibility:!e})},this.changeType=()=>{const{showChangeType:e}=this.state;this.setState({showChangeType:!e})},this.toggleTeamChange=()=>{const{showTeamChange:e}=this.state;this.setState({showTeamChange:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.setPublicTeam=()=>{const{userStore:e}=this.props.stores,t=e.findPublicTeams();if(r.a.isArray(t)&&t.length>0){const{story:e}=this.state;e.team=t[0].id,this.setState({story:e})}},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({story:{type:1,title:"",body:"",images:[],public:1,urlText:"",url:"",currency:"",price:0,code:"",country:"",region:"",startDate:"",endDate:""}},p),this.inputRef={}}componentDidMount(){this.setPublicTeam()}render(){const{col:t=12,offset:s=0}=this.props,{story:a={},showAddImage:i,showTeamChange:o,showChangeVisibility:l,showChangeType:p,sendButtonEnabled:m}=this.state,{userStore:b,appState:f}=this.props.stores,{user:g={}}=b,O=g.firstname?`${r.a.ucfirst(g.firstname,!0)}${r.a.ucfirst(g.lastname,!0)}`:""+r.a.ucfirst(g.email||"",!0);let v=g.image||(g.images?g.images[0]:void 0);if(a.team){const e=parseInt(a.team,10),t=b.findTeam(e,!0);v=t.image||(t.images?t.images[0]:void 0)}const{darkmode:y}=f;return Object(n.h)("div",{class:"w-100 px-0"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:`col-${t} offset-${s} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 rounded rounded-lg pt-3 pb-1 bg-${y?"black":"white"} shadow-sm mb-1`},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall pointerCursor",style:(v?`background-image: url('${v.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;",onClick:this.toggleTeamChange},!v&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(n.h)("div",{class:"position-absolute",style:"top: 16px; right: 0px;"},Object(n.h)("small",{class:"text-white",style:"font-size: 1.5em;"},Object(n.h)("i",{class:"fas fa-caret-down pointerCursor",onClick:this.toggleTeamChange})))),Object(n.h)("div",{class:"col pl-3 pr-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(c.c,{id:"story.body"},"Story")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(c.c,{id:"story.write-body"},"Hva tenker du på?.."),onInput:Object(d.a)(this,"story.body"),onKeyUp:u.a.resizeTextarea,onFocus:u.a.resizeTextarea,style:"height: 2.3em;",value:a.body,ref:e=>this.inputRef.newStoryBody=e})),Object(n.h)("div",{class:"position-absolute",style:"bottom: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor","data-id":a.id,onClick:this.addImage}),Object(n.h)("i",{class:`fas fa-${1===a.public?"globe-europe":"users"} pointerCursor ml-2`,"data-id":a.id,onClick:this.changeVisibility}),Object(n.h)("i",{class:"fas fa-cog pointerCursor ml-2","data-id":a.id,onClick:this.changeType})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight pt-auto"},Object(n.h)("button",{type:"button",class:`btn btn-${m?"primary":"secondary"} ml-1`,disabled:!m,onClick:this.addStory},Object(n.h)("i",{class:"fas fa-paper-plane"})))))),Object(n.h)("div",null,Object(n.h)("div",{class:"row"},o&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center mt-2"},Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(d.a)(this,"story.team"),onChange:this.toggleTeamChange},Object(n.h)("option",{value:""},"-- ",Object(n.h)(c.c,{id:"story.team-choose"},"Velg team")," --"),r.a.isArray(g.teams)&&g.teams.map(e=>{const t=b.findTeam(e,!0);return t&&t.public?Object(n.h)("option",{value:t.id,selected:a.team==t.id?"selected":""},t.name):""}),!g.teams&&Object(n.h)(e,null,Object(n.h)("option",{value:""},"No public teams"))))))),l&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center mt-2"},Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(d.a)(this,"story.public"),value:a.public,onChange:this.changeVisibility},Object(n.h)("option",{value:0,selected:0==a.public?"selected":""},"👥 ",Object(n.h)(c.c,{id:"story.visibility-followers"},"Kun synlig for de som følger deg.")),Object(n.h)("option",{value:1,selected:1==a.public?"selected":""},"🌍 ",Object(n.h)(c.c,{id:"story.visibility-public"},"Synlig for alle som bruker appen."))))))),p&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center mt-2"},Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(d.a)(this,"story.type"),value:a.type,onChange:this.changeType},Object(n.h)("option",{value:""},"-- ",Object(n.h)(c.c,{id:"story.type-choose"},"Velg type")," --"),Object(n.h)("option",{value:1,selected:1==a.type?"selected":""},"✍️ ",Object(n.h)(c.c,{id:"story.type-regular"},"Vanlig")),Object(n.h)("option",{value:2,selected:2==a.type?"selected":""},"🚀 ",Object(n.h)(c.c,{id:"story.type-ad"},"Annonse")),Object(n.h)("option",{value:3,selected:3==a.type?"selected":""},"📄 ",Object(n.h)(c.c,{id:"story.type-article"},"Artikkel"))))))),i&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center mt-2"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},r.a.isArray(a.images)&&a.images.map(e=>Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(n.h)("i",{class:"fas fa-trash"})," Del"))))),Object(n.h)(h.a,{object:a,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded}))),a.type>1&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 mt-3"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.url-text"},"URL text")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"urlText",onInput:Object(d.a)(this,"story.urlText"),value:a.urlText})))),Object(n.h)("div",{class:"col-12 mt-3"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.url"},"URL")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"url",onInput:Object(d.a)(this,"story.url"),value:a.url}))))),2==a.type&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 mt-3"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.code"},"Code")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"code",onInput:Object(d.a)(this,"story.code"),value:a.code})))),Object(n.h)("div",{class:"col-12"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.region"},"Region")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"region",onInput:Object(d.a)(this,"story.region"),value:a.region})))),Object(n.h)("div",{class:"col-12"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.country"},"Country")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"country",onInput:Object(d.a)(this,"story.country"),value:a.country})))),Object(n.h)("div",{class:"col-4"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.currency"},"Currency")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"currency",onInput:Object(d.a)(this,"story.currency"),value:a.currency})))),Object(n.h)("div",{class:"col-8"},Object(n.h)("label",null,Object(n.h)(c.c,{id:"story.price"},"Price")),Object(n.h)("div",{class:"form-group"},Object(n.h)("small",null,Object(n.h)("input",{class:"form-control",type:"text",name:"price",onInput:Object(d.a)(this,"story.price"),value:a.price}))))))))))}})||o;t.a=m}).call(this,s("hosL").Fragment)},AJN2:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("NMoA");s("ZOvn");const c={};let d=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c),this.inputRef={}}async loadStoriesPublicFeed(e=this.props){const{storyStore:t}=e.stores,{story:s}=e;await t.loadPublicFeed({story:s})}componentDidMount(){this.loadStoriesPublicFeed()}componentWillReceiveProps(e){e.story!==this.props.story&&this.loadStoriesPublicFeed(e)}render(){const{storyStore:t,appState:s}=this.props.stores,{publicFeed:a}=t,{darkmode:i}=s;return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row pb-4 bg-light"},Object(n.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${i?"black":"white"} shadow-sm`},!a||0===a.length&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted mt-5"},Object(n.h)("div",{class:"display-1 text-center mb-5"},Object(n.h)("i",{class:"fas fa-comment"})),Object(n.h)("h3",null,"No story found!"))),a&&a.map(t=>Object(n.h)(e,null,Object(n.h)(l.a,{stores:this.props.stores,story:t,showAllComments:!0}))))))}})||o;t.a=d}).call(this,s("hosL").Fragment)},AkNA:function(e){function t(e){return e.replace(d,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}function s(e,t){m[" "+e]||(m[" "+e]=b.test(e)?e+"/":a(e,"/",!0));const s=-1===(e=m[" "+e]).indexOf(":");return"//"===t.substring(0,2)?s?t:e.replace(f,"$1")+t:"/"===t.charAt(0)?s?t:e.replace(g,"$1")+t:e+t}function a(e,t,s){const a=e.length;if(0===a)return"";let i=0;for(;i<a;){const o=e.charAt(a-i-1);if(o!==t||s){if(o===t||!s)break;i++}else i++}return e.substr(0,a-i)}const i=/[&<>"']/,o=/[&<>"']/g,n=/[<>"']|&(?!#?\w+;)/,r=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=e=>l[e],d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,h=/(^|[^\[])\^/g,u=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},b=/^[^:]+:\/*[^/]*$/,f=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;e.exports={escape:function(e,t){if(t){if(i.test(e))return e.replace(o,c)}else if(n.test(e))return e.replace(r,c);return e},unescape:t,edit:function(e,t){e=e.source||e,t=t||"";const s={replace:(t,a)=>(a=(a=a.source||a).replace(h,"$1"),e=e.replace(t,a),s),getRegex:()=>new RegExp(e,t)};return s},cleanUrl:function(e,a,i){if(e){let e;try{e=decodeURIComponent(t(i)).replace(u,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}a&&!p.test(i)&&(i=s(a,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i},resolveUrl:s,noopTest:{exec:function(){}},merge:function(e){let t,s,a=1;for(;a<arguments.length;a++)for(s in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},splitCells:function(e,t){const s=e.replace(/\|/g,(e,t,s)=>{let a=!1,i=t;for(;--i>=0&&"\\"===s[i];)a=!a;return a?"|":" |"}).split(/ \|/);let a=0;if(s.length>t)s.splice(t);else for(;s.length<t;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(/\\\|/g,"|");return s},rtrim:a,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const s=e.length;let a=0,i=0;for(;i<s;i++)if("\\"===e[i])i++;else if(e[i]===t[0])a++;else if(e[i]===t[1]&&(a--,a<0))return i;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},AnAW:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.loadResults=async function(){const{workoutStore:e}=t.props.stores;await e.workoutResults()}}async loadAll(){this.setState({isLoading:!0}),await this.loadResults(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{workoutStore:t,userStore:s}=this.props.stores,{competitionResults:a,competitionAllResults:n,competitionTeams:r}=t,{user:l}=s,{language:c="en"}=l;return Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"Competition results"),Object(i.h)("div",null,Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("tbody",null,a.map(t=>Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("th",null,"Date"),Object(i.h)("th",null,"Type"),Object(i.h)("th",null,"Ambitions"),Object(i.h)("th",null,"Count"),Object(i.h)("th",null,"Avg dogs"),Object(i.h)("th",null,"total km"),Object(i.h)("th",null,"km"),Object(i.h)("th",null,"elevation"),Object(i.h)("th",null,"duration"),Object(i.h)("th",null,"speedAvg")),Object(i.h)("tr",null,Object(i.h)("td",{class:"font-weight-bold"},t.year,"-",t.month),Object(i.h)("td",{class:"font-weight-bold"},s.findTeamType({type:t.type,language:c})," (",t.type,")"),Object(i.h)("td",{class:"font-weight-bold"},s.findTeamAmbition({ambition:t.ambitions,language:c})," (",t.ambitions,")"),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.format(t.count,1)),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.format(t.avgDogs,0)),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.format(t.totalDistanceKm,1)," km"),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.format(t.distanceKm,1)," km"),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.format(t.elevation,0)," m"),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.secToHms(t.duration)),Object(i.h)("td",{class:"text-right font-weight-bold"},o.a.format(t.speedAvg,1)," km/t")),Object(i.h)("tr",null,Object(i.h)("td",{colspan:"10",class:"mb-5 pb-5 pt-2"},Object(i.h)("small",null,Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Team"),Object(i.h)("th",null,"Email"),Object(i.h)("th",null,"Place"),Object(i.h)("th",null,"Country"),Object(i.h)("th",null,"Count"),Object(i.h)("th",null,"Avg dogs"),Object(i.h)("th",null,"total km"),Object(i.h)("th",null,"km"),Object(i.h)("th",null,"elevation"),Object(i.h)("th",null,"duration"),Object(i.h)("th",null,"speedAvg"))),Object(i.h)("tbody",null,n.filter(e=>e.type===t.type&&e.ambitions===t.ambitions).map(e=>{const s=r.find(t=>t.id===e.team);return Object(i.h)("tr",null,Object(i.h)("td",null,e.team,": ",s.name),Object(i.h)("td",null,s.email),Object(i.h)("td",null,s.postalcode," ",s.place),Object(i.h)("td",null,s.country),Object(i.h)("td",{class:"text-right"},o.a.format(e.count,0)),Object(i.h)("td",{class:"text-right"},o.a.format(e.avgDogs,1)),Object(i.h)("td",{class:"text-right"},o.a.format(e.totalDistanceKm,1)," km",Object(i.h)("span",{class:"ml-2 text-"+(t.totalDistanceKm>e.totalDistanceKm?"danger":"success")},t.totalDistanceKm>e.totalDistanceKm?"-":"+",o.a.format(e.diffTotalDistanceKm,1))),Object(i.h)("td",{class:"text-right"},o.a.format(e.distanceKm,1)," km"),Object(i.h)("td",{class:"text-right"},o.a.format(e.elevation,0)," m"),Object(i.h)("td",{class:"text-right"},o.a.secToHms(e.duration)),Object(i.h)("td",{class:"text-right"},o.a.format(e.speedAvg,1)," km/t"))}))))))))))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},"B+py":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("Y3FI"),l=s("go65"),c=s("OhSV"),d=s("tJLP"),h=s("Cjoz");let u=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.handleEmailInput=async function(e){const{userStore:s}=t.props.stores,a=e.target.value;t.setState({email:a}),clearTimeout(t.checkEmailTimer),t.checkEmailTimer=setTimeout(()=>s.checkEmail(a),1e3)},this.updateCapsLockStatus=e=>{this.setState({isCapsLock:e})},this.sendLoginLink=()=>{const{email:e=""}=this.state,{userStore:t}=this.props.stores;t.sendLoginLink(e)},this.validateCode=()=>{const{email:e,code:t}=this.state,{userStore:s}=this.props.stores;s.validateLoginCode(e,t)},this.resetLoginLinkMessages=()=>{const{userStore:e}=this.props.stores;e.resetLoginLinkMessages()},this.resetLoginMessages=()=>{const{userStore:e}=this.props.stores;e.resetLoginMessages()},this.resetEmailSent=()=>{const{userStore:e}=this.props.stores;e.updateObjectField("loginLink","emailSent",!1)},this.newUser=()=>{const{email:e=""}=this.state,{routeLoginNew:t="/register/"+e}=this.props;Object(r.route)(t,!0)},this.login=()=>{const{email:e=""}=this.state,{routeLogin:t="/"+e}=this.props;Object(r.route)(t,!0)},this.changeLanguage=e=>{const t=e.target.value,{appState:s}=this.props.stores;s.setLanguage(t)},this.state={showToken:!1,isCapsLock:!1,email:this.props.email,code:""}}componentDidMount(){const{userStore:e,appState:t}=this.props.stores,{language:s="en"}=t;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout(()=>e.checkEmail(this.props.email,s),1e3))}render(){const{isCapsLock:t,email:s,code:a}=this.state,{appState:n,userStore:r}=this.props.stores,{showLogo:u=!0}=this.props,{language:p="en"}=n,{emailIsAvailable:m,loginLink:b,login:f}=r,{emailSent:g,message:O,messageIcon:v,error:y,errorIcon:j}=b,{message:w,messageIcon:k,error:x,errorIcon:S}=f,_=o.a.validateEmail(s),T=_&&!m,D=o.a.validateCode(a,1e5,999999);return g?Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},u&&Object(i.h)(e,null,Object(i.h)("h1",{class:"mt-5"},Object(i.h)("i",{class:"fas fa-paw"})," The Musher")),Object(i.h)("h5",{class:"mt-1 mb-5"},Object(i.h)(c.c,{id:"forgotten.forgotten"},"Glemt passord")),Object(i.h)(d.a,{message:y,icon:j,remove:this.resetLoginLinkMessages}),Object(i.h)(d.a,{message:x,icon:S,remove:this.resetLoginMessages}),Object(i.h)(h.a,{message:O,icon:v,remove:this.resetLoginLinkMessages}),Object(i.h)(h.a,{message:w,icon:k,remove:this.resetLoginMessages}),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"codeInput"},Object(i.h)("i",{class:"fas fa-unlock-alt"})," ",Object(i.h)(c.c,{id:"forgotten.one-time-code"},"Engangskode for")," ",s),Object(i.h)("input",{type:"text",class:"form-control "+(a?D?"is-valid":"is-invalid":""),style:"font-size: 40px; letter-spacing: 5px",id:"codeInput",onInput:Object(l.a)(this,"code"),value:a}),a&&!D&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(c.c,{id:"forgotten.otp-not-valid"},"Hmm, koden ser ikke helt riktig ut. Kan det være en skrivefeil?")),a&&D&&!m&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(c.c,{id:"forgotten.otp-valid"},"Koden ser bra ut."))),Object(i.h)("button",{class:"btn "+(D?"btn-success":"btn-outline-success"),type:"button",onClick:this.validateCode,disabled:!D},Object(i.h)("i",{class:"far fa-paper-plane mr-2"}),Object(i.h)(c.c,{id:"forgotten.login-with-otp"},"Logg meg inn med koden")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link",onClick:this.login},Object(i.h)(c.c,{id:"forgotten.goto-login"},"Jeg husker passordet. Gå til logg inn."))),Object(i.h)("small",{class:"form-text text-muted mt-2 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link",onClick:this.resetEmailSent},Object(i.h)(c.c,{id:"forgotten.send-new-otp"},"Jeg trenger en ny kode.")))))):Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},u&&Object(i.h)(e,null,Object(i.h)("h1",{class:"mt-5"},Object(i.h)("i",{class:"fas fa-paw"})," The Musher")),Object(i.h)("h5",{class:"mt-1 mb-5"},Object(i.h)(c.c,{id:"forgotten.forgotten"},"Glemt passord")),Object(i.h)(d.a,{message:y,icon:j,remove:this.resetLoginLinkMessages}),Object(i.h)(h.a,{message:O,icon:v,remove:this.resetLoginLinkMessages}),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"emailInput"},Object(i.h)("i",{class:"far fa-envelope"})," ",Object(i.h)(c.c,{id:"forgotten.email"},"E-post")),Object(i.h)("input",{type:"email",class:"form-control "+(s?_&&!m?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:s,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),s&&_&&m&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(c.c,{id:"forgotten.email-not-found"},"E-posten finnes ikke.")," ",Object(i.h)("a",{href:"/register/"+s},Object(i.h)(c.c,{id:"forgotten.register"},"registrere deg"))," 😃"),s&&!_&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(c.c,{id:"forgotten.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut. Kan det være en skrivefeil?")),s&&_&&!m&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(c.c,{id:"forgotten.email-looks-good"},"E-post ser bra ut."))),t&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(c.c,{id:"forgotten.caps-lock-is-on"},"CAPS LOCK er på!")),Object(i.h)("button",{class:"btn "+(T?"btn-success":"btn-outline-success"),type:"button",onClick:this.sendLoginLink,disabled:!T},Object(i.h)("i",{class:"far fa-paper-plane mr-2"}),Object(i.h)(c.c,{id:"forgotten.send-reset-link"},"Send meg en reset link")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link",onClick:this.login},Object(i.h)(c.c,{id:"forgotten.goto-login"},"Jeg husker passordet. Gå til logg inn."))))))}})||a;t.a=u}).call(this,s("hosL").Fragment)},B813:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("ZOvn"),d=s("AEg1"),h=(s("gOLw"),s("AJN2")),u=s("epqT"),p=s("w93r");const m=c.a.marginTop(!1),b=c.a.marginBottom(),f=c.a.marginTopBack(!1),g={isLoading:!1,submenu:"lastWorkouts",viewmenu:"wall"};let O=Object(r.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.reloadFeeds=async function(e){e.preventDefault(),t.setState({isLoading:!0}),await t.loadStoriesPublicFeed(),t.setState({isLoading:!1})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g)}async loadAll(){const{appState:e,userStore:t,messageStore:s}=this.props.stores;this.setState({isLoading:!0}),await e.getFingerprint(),await t.getInfo(),await t.getNotifications(),await s.getUnReadMessages();const{user:a}=t;if(a.currentLocationInfo&&a.currentLocationInfo.coords){const{latitude:e,longitude:s,altitude:i}=a.currentLocationInfo.coords;t.getWeatherUser({lat:e,lon:s,altitude:i})}this.setState({isLoading:!1})}async loadStoriesPublicFeed(e=this.props){const{storyStore:t}=e.stores,{story:s}=e;await t.loadPublicFeed({story:s})}componentDidMount(){this.loadAll()}render(){const{isLoading:t}=this.state,{story:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{yrWeather:o,currentLocationGeocode:r={}}=i,{formatted_address:c}=r;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${m};`},Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${f}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(n.h)(u.a,{stores:this.props.stores,url:this.props.url}),Object(n.h)("div",{class:"bg-light"},Object(n.h)(p.a,{stores:this.props.stores,data:o,place:c})),Object(n.h)(d.a,{stores:this.props.stores}),Object(n.h)("div",{class:"row bg-light"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("div",{class:"float-right"},t?Object(n.h)(e,null,Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading..."))):Object(n.h)(e,null,Object(n.h)("a",{href:"#",style:"font-size: 1.8em;",onClick:this.reloadFeeds},Object(n.h)("i",{class:"fas fa-sync-alt"}))))),Object(n.h)("span",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"home.wall"},"Veggen"))))),Object(n.h)(h.a,{stores:this.props.stores,story:s}))}})||o;t.a=O}).call(this,s("hosL").Fragment)},B95u:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("cneo"),h=s("OhSV"),u=s("fh8t"),p=s.n(u),m=s("go65"),b=s("5uob"),f=(s("ETxl"),s("ZOvn"));const g={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{},likeComment:{},likeReply:{},showOriginal:{}};let O=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.addLikeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.closest(".commentContainer").dataset.id,{story:i}=t.props,{storyStore:o}=t.props.stores,{likeComment:n}=t.state;n[a]=!0,t.setState({likeComment:n}),setTimeout(()=>{const{likeComment:e}=t.state;delete e[a],t.setState({likeComment:e})},1200);const r=await o.likeStoryComment({id:i.id,commentId:a});return r&&200===r.status&&s({type:"likeComment",story:i,commentId:a,response:r}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.closest(".replyContainer").dataset.id,i=e.target.closest(".replyContainer").dataset.comment,{story:o}=t.props,{storyStore:n}=t.props.stores,{likeReply:r}=t.state;r[a]=!0,t.setState({likeReply:r}),setTimeout(()=>{const{likeReply:e}=t.state;delete e[a],t.setState({likeReply:e})},1200);const l=await n.likeStoryCommentReply({id:o.id,replyId:a,commentId:i});l&&200===l.status&&s({type:"likeReply",story:o,commentId:i,replyId:a,response:l})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.toggleMenu=e=>{const{id:t}=e.target.closest("i").dataset,{showMenu:s={}}=this.state;s[t]=!s[t],this.setState({showDeleteComment:{},showEdit:{},showMenu:s})},this.toggleEdit=e=>{const{id:t,comment:s}=e.target.closest("button").dataset,{showEdit:a={}}=this.state;a[t]=!a[t],this.setState({showDeleteComment:{},showEdit:a,showMenu:{},commentEditText:s})},this.toggleDeleteComment=e=>{const{id:t}=e.target.closest("button").dataset,{showDeleteComment:s={}}=this.state;s[t]=!s[t],this.setState({showDeleteComment:s,showEdit:{},showMenu:{}})},this.deleteComment=async function(e){const{id:s}=e.target.closest("button").dataset,{story:a}=t.props,{storyStore:i}=t.props.stores;await i.deleteCommentStory({id:a.id,commentId:s}),t.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}})},this.deleteCommentReply=async function(e){const{id:s,commentid:a}=e.target.closest("button").dataset,{story:i}=t.props,{storyStore:o}=t.props.stores;await o.deleteCommentReplyStory({id:i.id,commentId:a,replyId:s}),t.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}})},this.saveComment=async function(e){const{id:s}=e.target.closest("button").dataset,{commentEditText:a}=t.state,{story:i}=t.props,{storyStore:o}=t.props.stores;await o.editCommentStory({id:i.id,commentId:s,comment:a}),t.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}})},this.saveCommentReply=async function(e){const{id:s,commentid:a}=e.target.closest("button").dataset,{commentEditText:i}=t.state,{story:o}=t.props,{storyStore:n}=t.props.stores;await n.editCommentReplyStory({id:o.id,commentId:a,replyId:s,comment:i}),t.setState({commentEditText:"",showDeleteComment:{},showEdit:{},showMenu:{}})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{replyid:s,commentid:a}=e.target.closest("button").dataset,{story:i}=t.props,{userStore:o,storyStore:n}=t.props.stores,{user:r}=o,{showOriginal:l={},translatedText:c={}}=t.state,d=`${a}${s?"-"+s:""}`;l[d]=0,c[d]=s?await n.translateCommentReply({commentid:a,replyid:s,story:i,user:r}):await n.translateComment({commentid:a,story:i,user:r}),t.setState({showOriginal:l,translatedText:c})},this.showOriginal=e=>{const{replyid:t,commentid:s}=e.target.closest("button").dataset;e.preventDefault(),e.stopPropagation();const{showOriginal:a={}}=this.state;a[`${s}${t?"-"+t:""}`]=1,this.setState({showOriginal:a})},this.state=i(i({},g),{},{showAllComments:e.showAllComments}),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:a,viewImageIdx:i,showMenu:o={},showEdit:n={},showDeleteComment:c={},commentEditText:u,likeComment:g,showOriginal:O={},translatedText:v={}}=this.state,{story:y,callback:j=(()=>{}),initCall:w=(()=>{}),compact:k=!1}=this.props,{userStore:x,storyStore:S}=this.props.stores,{user:_,language:T="en"}=x;let D,I=[],P=0,L=0;return y.comments&&(P=y.comments.length,s?I=y.comments:(D=k?0:1,I=y.comments.slice(Math.max(P-D,0))),L=I.length),Object(r.h)("div",null,y&&l.a.isArray(I)&&I.reverse().map(s=>{const{user:k={}}=s,x=S.findPublicTeamByMembers(k.id),I=f.a.displayNameShort(k),P=f.a.displayName(k),L=k.image||(k.images?k.images[0]:void 0),C=s.likes&&s.likes.findIndex(e=>e.user===_.id)>-1;let A=[],E=0,F=0;s.comments&&(E=s.comments.length,A=a[s.id]?s.comments:s.comments.slice(0,D),F=A.length);const M=[];if(s.images){const e=Object(d.i)(s.images);M.push(...e)}const R=i[s.id]?i[s.id]:0,z=M&&M[R]?M[R]:null,{currentLocationGeocode:U={}}=s,N=S.getCommentTranslations({story:y,commentid:s.id,targetLang:T})||v[s.id];let $=N||s.comment;return O[s.id]&&($=s.comment),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(L?`background-image: url("${L.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!k.image&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},I)),Object(r.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(r.h)("div",{class:"bg-light p-2 rounded rounded-lg position-relative"},_.id===k.id&&Object(r.h)(e,null,Object(r.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(r.h)("i",{class:"fas fa-ellipsis-h",onClick:this.toggleMenu,"data-id":s.id}))),o[s.id]&&Object(r.h)(e,null,Object(r.h)("div",{class:"position-absolute bg-white p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},Object(r.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleEdit,"data-id":s.id,"data-comment":s.comment},Object(r.h)("i",{class:"fas fa-edit"})," Edit"),Object(r.h)("hr",null),Object(r.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleDeleteComment,"data-id":s.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," Delete"))),Object(r.h)("div",null,Object(r.h)("span",{style:"font-size: 0.95em;"},Object(r.h)("h5",{class:"font-weight-bold mb-2",style:"font-size: 1.0em;"},P,x&&x.length>0&&Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-lighter text-muted ml-1"},x.filter(e=>1===e.public).slice(0,1).map(t=>Object(r.h)(e,null,"- ",Object(r.h)("a",{href:"/teams/public/"+t.uuidv4},t.name)))))),n[s.id]?Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex bd-highlight"},Object(r.h)("div",{class:"p-0 w-100 bd-highlight"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(r.h)(h.c,{id:"comments.comment"},"Kommentar")),Object(r.h)("div",{class:"border rounded rounded-lg position-relative"},Object(r.h)(h.b,null,Object(r.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(r.h)(h.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(m.a)(this,"commentEditText"),onKeyUp:f.a.resizeTextarea,onFocus:f.a.resizeTextarea,style:"height: 2.3em;",value:u})))),Object(r.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(r.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.saveComment,"data-id":s.id},Object(r.h)("i",{class:"fas fa-paper-plane"}))))):Object(r.h)(e,null,Object(r.h)(p.a,{markdown:f.a.replaceImages($,s.images,T),markdownOpts:f.a.getMarkdownOptions()})),c[s.id]&&Object(r.h)("div",{class:"clearfix mt-3 mb-3"},Object(r.h)("button",{class:"btn btn-danger float-left",onClick:this.deleteComment,"data-id":s.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," Delete"),Object(r.h)("button",{class:"btn btn-secondary float-right",onClick:this.toggleDeleteComment,"data-id":s.id},Object(r.h)("i",{class:"fas fa-times-circle"})," Cancel")))),Object(r.h)("div",null,Object(r.h)("div",{class:"container-fluid px-3 mt-1"},z&&Object(r.h)("div",{class:"clearfix row position-relative"},Object(r.h)("div",{class:"commentContainer col-12 px-0 overflow-hidden",style:"max-height: 60vh;",onDblclick:this.addLikeComment,"data-id":s.id},Object(r.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:z.s3LargeLink})),g[s.id]&&Object(r.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(r.h)("i",{class:"fas fa-heart likeStory"}))),M&&M.length>1&&Object(r.h)("div",{class:"clearfix d-flex flex-wrap row"},l.a.isArray(M)&&M.map((t,a)=>Object(r.h)(e,null,Object(r.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(r.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a})))))))),Object(r.h)("small",null,Object(r.h)("button",{class:"commentContainer btn btn-sm btn-link py-0 "+(C?"text-primary":""),onClick:this.addLikeComment,"data-id":s.id,disabled:C},C?Object(r.h)(h.c,{id:"comments.has-liked"},"Liked"):Object(r.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(r.h)(h.c,{id:"comments.comment-add"},"Kommentar")),y.language!==T&&Object(r.h)(e,null,"-",!O[s.id]&&N?Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:this.showOriginal},Object(r.h)("i",{class:"fas fa-cog"}),"  ",Object(r.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id},Object(r.h)("i",{class:"fas fa-cog"})," ",Object(r.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},l.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-light ml-2"},"(Edited ",l.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))))),s.likes&&s.likes.length>0&&Object(r.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(r.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(r.h)("div",{class:"col-10 offset-2 mb-2"},s&&l.a.isArray(A)&&A.map(t=>{const{user:a={}}=t,i=S.findPublicTeamByMembers(a.id),d=f.a.displayNameShort(a),b=f.a.displayName(a),g=a.image||(a.images?a.images[0]:void 0),j=t.likes&&t.likes.findIndex(e=>e.user===_.id)>-1,{currentLocationGeocode:w={}}=t,k=S.getCommentReplyTranslations({story:y,commentid:s.id,replyid:t.id,targetLang:T})||v[`${s.id}-${t.id}`];let x=k||t.comment;return O[`${s.id}-${t.id}`]&&(x=t.comment),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(g?`background-image: url("${g.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(r.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(r.h)("div",{class:"bg-light p-2 rounded-lg position-relative"},_.id===a.id&&Object(r.h)(e,null,Object(r.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(r.h)("i",{class:"fas fa-ellipsis-h",onClick:this.toggleMenu,"data-id":t.id}))),o[t.id]&&Object(r.h)(e,null,Object(r.h)("div",{class:"position-absolute bg-white p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},Object(r.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleEdit,"data-id":t.id,"data-comment":t.comment},Object(r.h)("i",{class:"fas fa-edit"})," Edit"),Object(r.h)("hr",null),Object(r.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleDeleteComment,"data-id":t.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," Delete"))),Object(r.h)("span",{style:"font-size: 0.95em;"},Object(r.h)("h5",{class:"font-weight-bold mb-2",style:"font-size: 1.0em;"},b,i&&i.length>0&&Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-lighter text-muted ml-2"},i.filter(e=>1===e.public).slice(0,1).map(t=>Object(r.h)(e,null,"- ",Object(r.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"}," ",t.name)))))),n[t.id]?Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex bd-highlight"},Object(r.h)("div",{class:"p-0 w-100 bd-highlight"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(r.h)(h.c,{id:"comments.comment"},"Kommentar")),Object(r.h)("div",{class:"border rounded rounded-lg position-relative"},Object(r.h)(h.b,null,Object(r.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(r.h)(h.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(m.a)(this,"commentEditText"),onKeyUp:f.a.resizeTextarea,onFocus:f.a.resizeTextarea,style:"height: 2.3em;",value:u})))),Object(r.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(r.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.saveCommentReply,"data-commentid":s.id,"data-id":t.id},Object(r.h)("i",{class:"fas fa-paper-plane"}))))):Object(r.h)(e,null,Object(r.h)(p.a,{markdown:f.a.replaceImages(x,t.images,T),markdownOpts:f.a.getMarkdownOptions()})),c[t.id]&&Object(r.h)("div",{class:"clearfix mt-3 mb-3"},Object(r.h)("button",{class:"btn btn-danger float-left",onClick:this.deleteCommentReply,"data-id":t.id,"data-commentid":s.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," Delete"),Object(r.h)("button",{class:"btn btn-secondary float-right",onClick:this.toggleDeleteComment,"data-id":t.id},Object(r.h)("i",{class:"fas fa-times-circle"})," Cancel")))),Object(r.h)("small",null,Object(r.h)("button",{class:"replyContainer btn btn-sm btn-link py-0 "+(j?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id,disabled:j},j?Object(r.h)(h.c,{id:"comments.has-liked"},"Liked"):Object(r.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(r.h)(h.c,{id:"comments.comment-add"},"Kommentar")),y.language!==T&&Object(r.h)(e,null,"-",!O[`${s.id}-${t.id}`]&&k?Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":t.id,onClick:this.showOriginal},Object(r.h)("i",{class:"fas fa-cog"}),"  ",Object(r.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id,"data-replyid":t.id},Object(r.h)("i",{class:"fas fa-cog"})," ",Object(r.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},l.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"}),t.updatedDate&&Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-light ml-2"},"(Edited ",l.a.formatDistance(t.updatedDate,new Date,{locale:"no-NB"}),")"))))),t.likes&&Object(r.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(r.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),E-F>0&&Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(r.h)(h.c,{id:"comments.show-more",fields:{more:E-F}},"Vis ",E-F," flere kommentarer...")))),t[s.id]&&Object(r.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(r.h)(b.a,{stores:this.props.stores,story:y,initCall:w,callback:j,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e,inputRefObject:this.inputRef,key:"story-commentreply-"+s.id})))}),P-L>0&&Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(r.h)(h.c,{id:"comments.show-more",fields:{more:P-L}},"Vis ",P-L," flere kommentarer..."))),s&&Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(r.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||n;t.a=O}).call(this,s("hosL").Fragment)},Bdl4:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l,c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S,_,T,D,I,P,L,C,A,E,F,M,R,z,U,N,$,W,B,H,V,G,q,K,Z,Y,X,J,Q,ee,te=s("cneo"),se=s("0frO"),ae=s("Utv1"),ie=s("Y3FI"),oe=s("X9Km");Object(te.f)({enforceActions:"always"});const ne=new(n=i((o=class extends se.a{constructor(){super("admin",{namePlural:"admins",sort:"-createdDate",limit:500,api:{search:{url:"/api/admins/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/admins/",params:{}},save:{url:"/api/admins/",params:{}}}}),a(this,"admin",n,this),a(this,"admins",r,this),a(this,"stats",l,this),a(this,"totalDogs",c,this),a(this,"totalWorkoutPlans",d,this),a(this,"totalUsers",h,this),a(this,"totalUsersGarmin",u,this),a(this,"totalUsersStrava",p,this),a(this,"totalUsersProminentDisclosure",m,this),a(this,"totalUsersVeterinaryAllowed",b,this),a(this,"totalUsersInboxEmails",f,this),a(this,"totalUsersImperial",g,this),a(this,"totalUsersDarkmode",O,this),a(this,"totalTeams",v,this),a(this,"totalTracks",y,this),a(this,"totalWorkouts",j,this),a(this,"totalDistance",w,this),a(this,"totalDuration",k,this),a(this,"avgDistance",x,this),a(this,"avgDogs",S,this),a(this,"avgDuration",_,this),a(this,"avgSpeed",T,this),a(this,"avgKey",D,this),a(this,"totalKey",I,this),a(this,"accAvgKey",P,this),a(this,"accTotalKey",L,this),a(this,"adminHistory",C,this),a(this,"veterinaryHistory",A,this),a(this,"pageViews",E,this),a(this,"pageViewsKeys",F,this),a(this,"heatmap",M,this),a(this,"demographicsLanguage",R,this),a(this,"demographicsDarkmode",z,this),a(this,"demographicsImperial",U,this),a(this,"demographicsVeterinary",N,this),a(this,"demographicsLocation",$,this),a(this,"demographicsActivities",W,this),a(this,"demographicsActivitiesPeriodes",B,this),a(this,"demographicsTeamWorkouts",H,this),a(this,"demographicsTeamFollowers",V,this),a(this,"demographicsTeamDogs",G,this),a(this,"storyViews",q,this),a(this,"storyLikes",K,this),a(this,"storyComments",Z,this),a(this,"storyDurationAvg",Y,this),a(this,"searchCount",X,this),a(this,"publicHeatmap",J,this),a(this,"inviteResults",Q,this),a(this,"errors",ee,this)}cleanupMemory(){this.localUpdateField("stats",[]),this.localUpdateField("totalDogs",[]),this.localUpdateField("totalWorkoutPlans",[]),this.localUpdateField("totalUsers",[]),this.localUpdateField("totalUsersGarmin",[]),this.localUpdateField("totalUsersStrava",[]),this.localUpdateField("totalUsersProminentDisclosure",[]),this.localUpdateField("totalUsersVeterinaryAllowed",[]),this.localUpdateField("totalUsersInboxEmails",[]),this.localUpdateField("totalUsersImperial",[]),this.localUpdateField("totalUsersDarkmode",[]),this.localUpdateField("totalTeams",[]),this.localUpdateField("totalTracks",[]),this.localUpdateField("totalWorkouts",[]),this.localUpdateField("totalDistance",[]),this.localUpdateField("totalDuration",[]),this.localUpdateField("avgDistance",[]),this.localUpdateField("avgDogs",[]),this.localUpdateField("avgDuration",[]),this.localUpdateField("avgSpeed",[]),this.localUpdateField("adminHistory",[]),this.localUpdateField("pageViews",{}),this.localUpdateField("heatmap",[]),this.localUpdateField("demographicsLanguage",[]),this.localUpdateField("demographicsDarkmode",[]),this.localUpdateField("demographicsImperial",[]),this.localUpdateField("demographicsVeterinary",[]),this.localUpdateField("demographicsLocation",[]),this.localUpdateField("demographicsActivities",[]),this.localUpdateField("demographicsActivitiesPeriodes",[]),this.localUpdateField("demographicsTeamWorkouts",[]),this.localUpdateField("demographicsTeamFollowers",[]),this.localUpdateField("storyViews",[]),this.localUpdateField("storyLikes",[]),this.localUpdateField("storyComments",[]),this.localUpdateField("storyDurationAvg",[]),this.localUpdateField("searchCount",[]),this.localUpdateField("publicHeatmap",[]),this.localUpdateField("inviteResults",[])}localUpdateField(e,t){this[e]=t}async getStats({limit:e}){const t=await ae.a.fetchApi("/api/admin/stats",{publish:!0,method:"GET"},{limit:e});switch(t.status){case 200:this.localUpdateField("stats",t.data);const e=t.data;e.reverse();const s=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.dogs||0,epoch:s.getTime()}}),a=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.workoutPlans||0,epoch:s.getTime()}}),i=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.users||0,epoch:s.getTime()}}),o=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersGarmin||0,epoch:s.getTime()}}),n=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersStrava||0,epoch:s.getTime()}}),r=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersProminentDisclosure||0,epoch:s.getTime()}}),l=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersVeterinaryAllowed||0,epoch:s.getTime()}}),c=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersInboxEmails||0,epoch:s.getTime()}}),d=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersImperial||0,epoch:s.getTime()}}),h=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersDarkmode||0,epoch:s.getTime()}}),u=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersCellphone||0,epoch:s.getTime()}}),p=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersUsername||0,epoch:s.getTime()}}),m=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersFirstname||0,epoch:s.getTime()}}),b=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersLastname||0,epoch:s.getTime()}}),f=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersFacebook||0,epoch:s.getTime()}}),g=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersInstagram||0,epoch:s.getTime()}}),O=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersSnapchat||0,epoch:s.getTime()}}),v=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersUrltrava||0,epoch:s.getTime()}}),y=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersImagesva||0,epoch:s.getTime()}}),j=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersHideProfile||0,epoch:s.getTime()}}),w=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersHideInvite||0,epoch:s.getTime()}}),k=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersSummaryEmail||0,epoch:s.getTime()}}),x=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersInfoEmail||0,epoch:s.getTime()}}),S=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.usersPartnerEmail||0,epoch:s.getTime()}}),_=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.teams||0,epoch:s.getTime()}}),T={};e.forEach((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);if(ae.a.isObject(e.teamAmbitionsCounts)){Object.keys(e.teamAmbitionsCounts).forEach(a=>{T[a]||(T[a]=[]),T[a].push({x:t,y:e.teamAmbitionsCounts[a]||0,epoch:s.getTime()})})}});const D={};e.forEach((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);if(ae.a.isObject(e.teamTypesCounts)){Object.keys(e.teamTypesCounts).forEach(a=>{D[a]||(D[a]=[]),D[a].push({x:t,y:e.teamTypesCounts[a]||0,epoch:s.getTime()})})}});const I=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.tracks||0,epoch:s.getTime()}}),P=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.workouts||0,epoch:s.getTime()}}),L=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.totalDistance||0,epoch:s.getTime()}}),C={},A={},E={},F={},M={},R={},z={},U={},N={},$={},W={};for(let t=0,s=e.length;t<s;t+=1){const s=e[t],a=ae.a.parseInputDate(s.createdDate);if(s.totalDistanceEquipment)for(let e=0,i=s.totalDistanceEquipment.length;e<i;e+=1){const i=s.totalDistanceEquipment[e];E[i.equipment]||(E[i.equipment]=[]),E[i.equipment].push({x:t,y:i.totalDistance||0,epoch:a.getTime()})}if(s.avgDistanceEquipment)for(let e=0,i=s.avgDistanceEquipment.length;e<i;e+=1){const i=s.avgDistanceEquipment[e];F[i.equipment]||(F[i.equipment]=[]),F[i.equipment].push({x:t,y:i.avgDistance||0,epoch:a.getTime()})}if(s.avgDurationEquipment)for(let e=0,i=s.avgDurationEquipment.length;e<i;e+=1){const i=s.avgDurationEquipment[e];M[i.equipment]||(M[i.equipment]=[]),M[i.equipment].push({x:t,y:i.avgDuration||0,epoch:a.getTime()})}if(s.avgSpeedEquipment)for(let e=0,i=s.avgSpeedEquipment.length;e<i;e+=1){const i=s.avgSpeedEquipment[e];A[i.equipment]||(A[i.equipment]=[]),A[i.equipment].push({x:t,y:i.avgSpeed||0,epoch:a.getTime()})}if(s.avgSpeedTeamSize)for(let e=0,i=s.avgSpeedTeamSize.length;e<i;e+=1){const i=s.avgSpeedTeamSize[e];C[i.teamSize]||(C[i.teamSize]=[]),C[i.teamSize].push({x:t,y:i.avgSpeed||0,epoch:a.getTime()})}if(s.avgDurationTeamSize)for(let e=0,i=s.avgDurationTeamSize.length;e<i;e+=1){const i=s.avgDurationTeamSize[e];R[i.teamSize]||(R[i.teamSize]=[]),R[i.teamSize].push({x:t,y:i.avgDuration||0,epoch:a.getTime()})}if(s.avgDistanceTeamSize)for(let e=0,i=s.avgDistanceTeamSize.length;e<i;e+=1){const i=s.avgDistanceTeamSize[e];z[i.teamSize]||(z[i.teamSize]=[]),z[i.teamSize].push({x:t,y:i.avgDistance||0,epoch:a.getTime()})}if(s.avgElevationTeamSize)for(let e=0,i=s.avgElevationTeamSize.length;e<i;e+=1){const i=s.avgElevationTeamSize[e];U[i.teamSize]||(U[i.teamSize]=[]),U[i.teamSize].push({x:t,y:i.avgElevation||0,epoch:a.getTime()})}if(s.totalDurationTeamSize)for(let e=0,i=s.totalDurationTeamSize.length;e<i;e+=1){const i=s.totalDurationTeamSize[e];N[i.teamSize]||(N[i.teamSize]=[]),N[i.teamSize].push({x:t,y:i.totalDuration||0,epoch:a.getTime()})}if(s.totalDistanceTeamSize)for(let e=0,i=s.totalDistanceTeamSize.length;e<i;e+=1){const i=s.totalDistanceTeamSize[e];$[i.teamSize]||($[i.teamSize]=[]),$[i.teamSize].push({x:t,y:i.totalDistance||0,epoch:a.getTime()})}if(s.totalElevationTeamSize)for(let e=0,i=s.totalElevationTeamSize.length;e<i;e+=1){const i=s.totalElevationTeamSize[e];W[i.teamSize]||(W[i.teamSize]=[]),W[i.teamSize].push({x:t,y:i.totalElevation||0,epoch:a.getTime()})}}const B=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.totalDuration||0,epoch:s.getTime()}}),H=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.totalElevation||0,epoch:s.getTime()}}),V=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.avgDistance||0,epoch:s.getTime()}}),G=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.avgDogs||0,epoch:s.getTime()}}),q=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.avgDuration||0,epoch:s.getTime()}}),K=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.avgSpeed||0,epoch:s.getTime()}}),Z=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.avgElevation||0,epoch:s.getTime()}}),Y=e.map((e,t)=>{const s=ae.a.parseInputDate(e.createdDate);return{x:t,y:e.avgTemperature||0,epoch:s.getTime()}});return this.localUpdateField("totalDogs",s),this.localUpdateField("totalUsers",i),this.localUpdateField("totalUsersGarmin",o),this.localUpdateField("totalUsersStrava",n),this.localUpdateField("totalUsersProminentDisclosure",r),this.localUpdateField("totalUsersVeterinaryAllowed",l),this.localUpdateField("totalUsersInboxEmails",c),this.localUpdateField("totalUsersImperial",d),this.localUpdateField("totalUsersDarkmode",h),this.localUpdateField("totalUsersCellphone",u),this.localUpdateField("totalUsersUsername",p),this.localUpdateField("totalUsersFirstname",m),this.localUpdateField("totalUsersLastname",b),this.localUpdateField("totalUsersFacebook",f),this.localUpdateField("totalUsersInstagram",g),this.localUpdateField("totalUsersSnapchat",O),this.localUpdateField("totalUsersUrl",v),this.localUpdateField("totalUsersImages",y),this.localUpdateField("totalUsersHideProfile",j),this.localUpdateField("totalUsersHideInvite",w),this.localUpdateField("totalUsersSummaryEmail",k),this.localUpdateField("totalUsersInfoEmail",x),this.localUpdateField("totalUsersPartnerEmail",S),this.localUpdateField("totalTeams",_),this.localUpdateField("totalTeamsAmbitions",T),this.localUpdateField("totalTeamsTypes",D),this.localUpdateField("totalTracks",I),this.localUpdateField("totalWorkoutPlans",a),this.localUpdateField("totalWorkouts",P),this.localUpdateField("totalDistance",L),this.localUpdateField("totalDistanceEquipment",E),this.localUpdateField("totalDuration",B),this.localUpdateField("totalElevation",H),this.localUpdateField("totalDurationTeamSize",N),this.localUpdateField("totalDistanceTeamSize",$),this.localUpdateField("totalElevationTeamSize",W),this.localUpdateField("avgDistance",V),this.localUpdateField("avgDistanceEquipment",F),this.localUpdateField("avgDogs",G),this.localUpdateField("avgDuration",q),this.localUpdateField("avgSpeed",K),this.localUpdateField("avgElevation",Z),this.localUpdateField("avgTemperature",Y),this.localUpdateField("avgSpeedTeamSize",C),this.localUpdateField("avgSpeedEquipment",A),this.localUpdateField("avgDistanceTeamSize",z),this.localUpdateField("avgElevationTeamSize",U),this.localUpdateField("avgDurationTeamSize",R),this.localUpdateField("avgDurationEquipment",M),t;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getStatsAvg(){const e=await ae.a.fetchApi("/api/admin/stats-avg",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("avgKey",(new Date).getTime()),this.localUpdateField("avgSpeedWeek",e.data.avgSpeedWeek),this.localUpdateField("avgDistanceWeek",e.data.avgDistanceWeek),this.localUpdateField("avgLoadIndexWeek",e.data.avgLoadIndexWeek),this.localUpdateField("avgDistanceTeamTypeWeek",e.data.avgDistanceTeamTypeWeek),this.localUpdateField("avgDistanceTeamAmbitionsWeek",e.data.avgDistanceTeamAmbitionsWeek),this.localUpdateField("avgDistanceTeamTypeAmbitionWeek",e.data.avgDistanceTeamTypeAmbitionWeek),this.localUpdateField("avgAscendWeek",e.data.avgAscendWeek),this.localUpdateField("avgDurationWeek",e.data.avgDurationWeek),this.localUpdateField("avgRealDurationWeek",e.data.avgRealDurationWeek),this.localUpdateField("avgTeamsizeWeek",e.data.avgTeamsizeWeek),this.localUpdateField("totalWorkoutsWeek",e.data.totalWorkoutsWeek),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getStatsTotal(){const e=await ae.a.fetchApi("/api/admin/stats-total",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("totalKey",(new Date).getTime()),this.localUpdateField("totalWorkoutsWeek",e.data.totalWorkoutsWeek),this.localUpdateField("totalDistanceWeek",e.data.totalDistanceWeek),this.localUpdateField("totalAscendWeek",e.data.totalAscendWeek),this.localUpdateField("totalDurationWeek",e.data.totalDurationWeek),this.localUpdateField("totalDogsrunningWeek",e.data.totalDogsrunningWeek),this.localUpdateField("totalDogsWeek",e.data.totalDogsWeek),this.localUpdateField("totalDogsWeekAcc",e.data.totalDogsWeekAcc),this.localUpdateField("totalUsersWeek",e.data.totalUsersWeek),this.localUpdateField("totalUsersWeekNumber",e.data.totalUsersWeekNumber),this.localUpdateField("totalUsersMonthNumber",e.data.totalUsersMonthNumber),this.localUpdateField("totalUsersWeekAcc",e.data.totalUsersWeekAcc),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getAdminHistory(){const e=await ae.a.fetchApi("/api/admin/admin-history",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("adminHistory",e.data),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getVeterinaryHistory(){const e=await ae.a.fetchApi("/api/admin/veterinary-history",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("veterinaryHistory",e.data),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async sendNotification({title:e,message:t,url:s,urlList:a,language:i,query:o,workoutQuery:n,doSend:r}){const l=await ae.a.fetchApi("/api/admin/notifications",{publish:!0,method:"POST"},{title:e,message:t,url:s,urlList:a,language:i,query:o,workoutQuery:n,doSend:r});switch(l.status){case 201:oe.a.publish(oe.b.STATUS_MESSAGE,{message:"Notification sent to all users. "+l.message,type:"success",icon:"fas fa-exclamation-triangle"});break;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getPageViews(){const e=await ae.a.fetchApi("/api/pageview/summary",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("pageViews",e.data),this.localUpdateField("pageViewsKeys",e.included.arrayViews),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getFixWorkoutGpxInfo(){const e=await ae.a.fetchApi("/api/admin/fix-all-gpxinfo-workouts",{publish:!0,method:"GET"},{});switch(e.status){case 200:return e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getHeatmap(){const e=await ae.a.fetchApi("/api/admin/heatmap",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("heatmap",e.data),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getDemographics(){const e=await ae.a.fetchApi("/api/admin/demographics",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("demographicsLanguage",e.data.language),this.localUpdateField("demographicsDarkmode",e.data.darkmode),this.localUpdateField("demographicsImperial",e.data.imperial),this.localUpdateField("demographicsVeterinary",e.data.veterinary),this.localUpdateField("demographicsLocation",e.data.location),this.localUpdateField("demographicsActivities",e.data.activities),this.localUpdateField("demographicsActivitiesPeriodes",e.data.activitiesPeriodes),this.localUpdateField("demographicsTeamWorkouts",e.data.teamWorkouts),this.localUpdateField("demographicsTeamFollowers",e.data.teamFollowers),this.localUpdateField("demographicsTeamDogs",e.data.teamDogs),this.localUpdateField("storyViews",e.data.storyViews),this.localUpdateField("storyLikes",e.data.storyLikes),this.localUpdateField("storyComments",e.data.storyComments),this.localUpdateField("storyDurationAvg",e.data.storyDurationAvg),this.localUpdateField("searchCount",e.data.searchCount),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getPublicHeatmap(e){const t=await ae.a.fetchApi("/api/workouts/heatmap-homerun-race/",{publish:!0,method:"GET"},{raceId:e});switch(t.status){case 200:return this.localUpdateField("publicHeatmap",t.data),t;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getUserInviteResults(){const e=await ae.a.fetchApi("/api/admin/invite-results",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("inviteResults",e.data),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}async getErrors(){const e=await ae.a.fetchApi("/api/errors/",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("errors",e.data),e;case 401:oe.a.publish(oe.b.LOG_OUT),Object(ie.route)("/",!0)}}}).prototype,"admin",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"admins",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=i(o.prototype,"stats",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=i(o.prototype,"totalDogs",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=i(o.prototype,"totalWorkoutPlans",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=i(o.prototype,"totalUsers",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=i(o.prototype,"totalUsersGarmin",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=i(o.prototype,"totalUsersStrava",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(o.prototype,"totalUsersProminentDisclosure",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=i(o.prototype,"totalUsersVeterinaryAllowed",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=i(o.prototype,"totalUsersInboxEmails",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=i(o.prototype,"totalUsersImperial",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(o.prototype,"totalUsersDarkmode",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(o.prototype,"totalTeams",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=i(o.prototype,"totalTracks",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(o.prototype,"totalWorkouts",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=i(o.prototype,"totalDistance",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(o.prototype,"totalDuration",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(o.prototype,"avgDistance",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(o.prototype,"avgDogs",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(o.prototype,"avgDuration",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(o.prototype,"avgSpeed",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(o.prototype,"avgKey",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),I=i(o.prototype,"totalKey",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),P=i(o.prototype,"accAvgKey",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),L=i(o.prototype,"accTotalKey",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),C=i(o.prototype,"adminHistory",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(o.prototype,"veterinaryHistory",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=i(o.prototype,"pageViews",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),F=i(o.prototype,"pageViewsKeys",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(o.prototype,"heatmap",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(o.prototype,"demographicsLanguage",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(o.prototype,"demographicsDarkmode",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(o.prototype,"demographicsImperial",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(o.prototype,"demographicsVeterinary",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=i(o.prototype,"demographicsLocation",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(o.prototype,"demographicsActivities",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(o.prototype,"demographicsActivitiesPeriodes",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(o.prototype,"demographicsTeamWorkouts",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(o.prototype,"demographicsTeamFollowers",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(o.prototype,"demographicsTeamDogs",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(o.prototype,"storyViews",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(o.prototype,"storyLikes",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(o.prototype,"storyComments",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(o.prototype,"storyDurationAvg",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(o.prototype,"searchCount",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(o.prototype,"publicHeatmap",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(o.prototype,"inviteResults",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=i(o.prototype,"errors",[te.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(o.prototype,"cleanupMemory",[te.c],Object.getOwnPropertyDescriptor(o.prototype,"cleanupMemory"),o.prototype),i(o.prototype,"localUpdateField",[te.c],Object.getOwnPropertyDescriptor(o.prototype,"localUpdateField"),o.prototype),o);t.a=ne},BmBE:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=(s("cneo"),s("OhSV")),c=s("ZOvn"),d=s("KDoM"),h=s("2X7c"),u=s("pJjI");const p=c.a.marginTop(!0),m=c.a.marginBottom(),b=c.a.subMenuMarginTop(),f={isLoading:!1};let g=Object(r.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadDogs=async function(){const{showAllDogs:e}=t.state;t.setState({isLoading:!0});const{dogStore:s}=t.props.stores,{currentTeam:a}=s,i={team:a};e&&(i.deceased=1),await s.load({query:i,addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),t.setState({isLoading:!1})},this.changeSort=e=>{this.setState({sortby:e.target.value})},this.sortByFn=(e,t)=>{let s,{sortby:a}=this.state;if(a.match(/^-/)&&(s=!0,a=a.replace(/^-/,"")),s){if(e[a]>t[a])return-1;if(e[a]<t[a])return 1}else{if(e[a]<t[a])return-1;if(e[a]>t[a])return 1}return 0},this.toggleShowAllDogs=()=>{const{showAllDogs:e}=this.state;this.setState({showAllDogs:!e},()=>this.loadDogs())},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f)}componentDidMount(){this.loadDogs()}render(){const{scrolledDown:t}=this.props,{isLoading:s,sortby:a,showAllDogs:i}=this.state,{dogStore:o,appState:r}=this.props.stores,{darkmode:c}=r,{dogs:f}=o,g=a?f.sort(this.sortByFn):f;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${p};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${t>0?0:b}; background-color: ${c?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"dogs.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/list",class:"text-primary stretched-link"},Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(l.c,{id:"dogs.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/feed",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"dogs.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",Object(n.h)(l.c,{id:"dogs.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2 border-bottom"},Object(n.h)(u.a,{stores:this.props.stores,callback:this.loadDogs})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-2 pb-0 clearfix"},Object(n.h)("span",{class:"float-right"},Object(n.h)("div",{class:"form-row align-items-center"},Object(n.h)("div",{class:"col-auto my-1"},Object(n.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding-top: 0; padding-bottom: 0; height: 1.4em; font-size: 0.8em;",onInput:this.changeSort},Object(n.h)("option",{value:"",selected:!a},"-- ",Object(n.h)(l.c,{id:"dogs.choose-sort"},"Choose sort")," ---"),Object(n.h)("option",{value:"-distanceKm",selected:"-distanceKm"===a},Object(n.h)(l.c,{id:"dogs.sort-distance"},"Distance")," v"),Object(n.h)("option",{value:"distanceKm",selected:"distanceKm"===a},Object(n.h)(l.c,{id:"dogs.sort-distance"},"Distance")," ^"),Object(n.h)("option",{value:"-duration",selected:"-duration"===a},Object(n.h)(l.c,{id:"dogs.sort-duration"},"Duration")," v"),Object(n.h)("option",{value:"duration",selected:"duration"===a},Object(n.h)(l.c,{id:"dogs.sort-duration"},"Duration")," ^"),Object(n.h)("option",{value:"name",selected:"name"===a},Object(n.h)(l.c,{id:"dogs.sort-name"},"Name")," v"),Object(n.h)("option",{value:"-name",selected:"-name"===a},Object(n.h)(l.c,{id:"dogs.sort-name"},"Name")," ^"),Object(n.h)("option",{value:"shortname",selected:"shortname"===a},Object(n.h)(l.c,{id:"dogs.sort-shortname"},"Shortname")," v"),Object(n.h)("option",{value:"-shortname",selected:"-shortname"===a},Object(n.h)(l.c,{id:"dogs.sort-shortname"},"Shortname")," ^"),Object(n.h)("option",{value:"-count",selected:"-count"===a},Object(n.h)(l.c,{id:"dogs.sort-workouts"},"Workouts")," v"),Object(n.h)("option",{value:"count",selected:"count"===a},Object(n.h)(l.c,{id:"dogs.sort-workouts"},"Workouts")," ^"),Object(n.h)("option",{value:"-posLead",selected:"-posLead"===a},Object(n.h)(l.c,{id:"dogs.sort-lead"},"Lead")," v"),Object(n.h)("option",{value:"posLead",selected:"posLead"===a},Object(n.h)(l.c,{id:"dogs.sort-lead"},"Lead")," ^"),Object(n.h)("option",{value:"-posPoint",selected:"-posPoint"===a},Object(n.h)(l.c,{id:"dogs.sort-point"},"Point")," v"),Object(n.h)("option",{value:"posPoint",selected:"posPoint"===a},Object(n.h)(l.c,{id:"dogs.sort-point"},"Point")," ^"),Object(n.h)("option",{value:"-posTeam",selected:"-posTeam"===a},Object(n.h)(l.c,{id:"dogs.sort-team"},"Team")," v"),Object(n.h)("option",{value:"posTeam",selected:"posTeam"===a},Object(n.h)(l.c,{id:"dogs.sort-team"},"Team")," ^"),Object(n.h)("option",{value:"-posWheel",selected:"-posWheel"===a},Object(n.h)(l.c,{id:"dogs.sort-wheel"},"Wheel")," v"),Object(n.h)("option",{value:"posWheel",selected:"posWheel"===a},Object(n.h)(l.c,{id:"dogs.sort-wheel"},"Wheel")," ^"))))),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"dogs.all-dogs",fields:{total:f.length}},"Alle hundene - ",f.length," stk"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix"},Object(n.h)("span",{class:"float-right"},Object(n.h)("a",{class:"btn btn-sm btn-primary ml-2",href:"/dogs/edit/new"},Object(n.h)("i",{class:"fas fa-plus"})," ",Object(n.h)(l.c,{id:"dogs.add-dogs"},"Legg til hunder"))),Object(n.h)(h.a,{stores:this.props.stores,dog:{},callback:this.loadDogs})),!s&&f&&0===f.length&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(n.h)("div",{class:"text-center mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"dogs.no-dogs-registered"},"Ingen hunder er registrert ennå."))),Object(n.h)(l.c,{id:"dogs.howto-add-1"},"Slik kommer du i gang:"),Object(n.h)("ol",null,Object(n.h)("li",null,Object(n.h)(l.c,{id:"dogs.howto-add-2"},'Trykk på knappen "Legg til hunder" rett nedenfor.')))),g&&g.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e}))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-2"},Object(n.h)("span",{class:"pointerCursor ml-2 font-weight-lighter float-right",onClick:this.toggleShowAllDogs},i?Object(n.h)(e,null,Object(n.h)(l.c,{id:"dogs.hide-deceased"},"Vis kun nåværende team")):Object(n.h)(e,null,Object(n.h)(l.c,{id:"dogs.absolutely-all"},"Vis absolutt alle"))))))}})||o;t.a=g}).call(this,s("hosL").Fragment)},C62u:function(e){e.exports=JSON.parse('{"ad":{"heading":"Would you like advertise here?","teaser":"It\'s very easy :)","subject":"Ad request","body":"Hi, I would like to know more about ads in The Muhser App.","linktext":"Contact The Musher","ad":"Ad"},"home":{"dashboard":"Dashboard","feed":"Feed","todo":"To do","welcome-title":"Welcome to The Musher.","welcome-body-1":"The Musher is an App that\'s constantly beeing developed. If you have any suggestions, comments or bugreports, please let us know on our Facebook page 😃","welcome-body-2":"The main focus of this App is ease of use when logging dogs, workouts and all other dog related stuff. When you have a lot of dogs it can be hard to keep track of them. When is the next on heat period, how long is the vaccines valid for, etc.","welcome-body-3":"All data is stored in the cloud at AWS (Amazon Web Services). It is possible to access this application from all types of devices and by different people.","howto-title":"How to get started:","howto-step-1":"Add your teams.","howto-step-2":"Add your dogs.","howto-step-3":"Add your tracks.","howto-step-4":"Start logging your workouts..","dogs-follow-up":"Dogs that need attention","dogs-special-needs":"Dogs with special needs","last-workouts":"Last workouts - {{total}}","races":"Races","workouts":"Workouts","totals":"Totals","status":"Status","wall":"Wall","home":"Home","notifications":"Notifications","back":"Back","find-teams":"Find teams to follow","report-bug":"Report bug","report-bug-placeholder":"Please provide some information about the bug...","abort":"Cancel","send":"Report bug","translate-to":"See translation"},"notifications":{"unread":"Unread notifications. Click here to see all.","delete":"Del","confirm":"Confirm"},"feed":{"dashboard":"Dashboard","feed":"Feed","todo":"Todo","title":"Last updates from the dogs","no-log":"No log entries for your dogs.","tip-1":"It\'s nice to add events like on heat, injuries, vaccinations, vet visits and pictures of your dogs.","tip-2":"This way all of your team will see what\'s happening in your kennel. It\'s just like a DogBook for your team.","add-log":"Add log entry","show-all-days":"Show all"},"workout":{"totals":{"title":"Workoutplan status"},"graph":{"title":"Workout Summary","month":"Month","season":"Season","week":"Week","distance":"distance","distance-avg":"distance avg","distance-avg-all":"distance avg all","ascend":"ascend","ascend-avg":"ascend avg","ascend-avg-all":"ascend avg all","speed-avg":"speed avg","speed-avg-all":"speed avg all","duration-avg":"duration avg","duration-avg-all":"duration avg all","real-duration-avg":"full duration avg","real-duration-avg-all":"full duration avg all","load-index":"load index","load-index-all":"load index all","plan":"Workout plan","too-little-data":"You have to little data to be able to get a nice graph. Please add more data and we promise you will get a nice graph and table.","title-avg":"Averages"},"calendar":{"month":"Month","week":"Week","sum":"Total","totalKm":"Total km","summary":"Summary","totalWorkouts":"Total workouts","distance":"Distance","ascend":"Ascend","duration":"Duration","avg-speed":"Avg speed","kmt":"km/h"},"plan":{"dashboard":"Dashboard","list":"List","plan":"Workoutplan","month":"Month","week":"Week","save":"Save","sum":"Sum","planned":"plan","totalkm":"Total km","season":"Season","no-workout-plan-found":"No workout plans found for chosen team: {{name}}","no-plan":"No workout plan","click-to-start":"Click on a date to get started.","duplicate":"Duplicate workout plan","title":"Title","title-help":"Title of this workout plan.","team":"Team","team-help":"The Team that wants to use this workout plan.","choose-team":"Choose team","save-new":"Save new workout plan","new":"New workoutplan","show-tips":"Show tips","hide-tips":"Hide tips"},"index":{"dashboard":"Dashboard","list":"List","plan":"Workoutplan","add-workout":"Add workout","last-workouts":"Workouts {{month}} {{year}} - {{total}}","workout-overview":"Workout overview","strava-workouts":"Strava workouts / not imported","garmin-workouts":"Garmin workouts / not imported","filtered-by":"Filtred by team"},"kg":"kg","battery-used":"used","kcal":"kcal","km":"km","m":"m","kmt":"km/h","share":"Share"},"strava":{"kmt":"km/h","ignore":"Ignore workout","import":"Import workout","hide-list":"Hide all"},"garmin":{"kmt":"km/h","ignore":"Ignore workout","import":"Import workout","import-track":"Import as track","hide-list":"Hide all"},"todo":{"dashboard":"Dashboard","feed":"Feed","todo":"Todo","dogs-follow-up":"Dogs that needs attention","no-dogs-follow-up":"No dogs that needs attention.","dogs-special-needs":"Dogs with special needs","no-dogs-special-needs":"No dogs with special needs.","dogs-with-maturity":"Dogs on heat","no-dogs-with-maturity":"No dogs on heat."},"header":{"dogs":"Dogs","workouts":"Workouts","tracks":"Tracks","teams":"Teams","profile":"Your profile","logout":"Logout","darkmode":"Darkmode","viewmode":"Viewmode","viewmode-simple":"Simple","viewmode-normal":"Normal","viewmode-advanced":"Advanced","viewmode-beta":"Advanced + beta","viewmode-try-beta":"Try the new version of the frontpage 😃","viewmode-back-to-normal":"Back to the old version","reload-app":"Check for update","news":"News & info","howto":"How do they do it?","search":"Search","search-placeholder":"Search for stuff...","races":"Races","support":"Support","connect-team":"Follow teams","admin-search":"Admin search","add-dogs":"Add Dogs","add-workouts":"Add Workouts"},"footer":{"dogs":"Dogs","workouts":"Workouts","workouts-start":"Record","tracks":"Tracks","teams":"Teams","veterenary":"Vet","workouts-continue":"Continue","dashboard":"Dashboard","admin":"Admin","home":"Home","menu":"Menu"},"register":{"new-user":"New user","email":"Email","email-not-valid":"Email is not valid.","password":"Password","password-too-weak":"Your password is too weak. Please try another or add more letters to this password 😔","password-weak":"Your password is weak, but we will try to keep you safe anyway 😉","password-ok":"Your password is ok 😎","caps-lock-on":"CAPS LOCK is on!","register":"Register","i-have-an-account":"🤔 Seems like I have an account. Go to the login page."},"login":{"tip-1":"This app can be installed on your phone.","tip-2":"Use the \\"Add to home screen\\" function.","tip-3":"It\'s smart to this before you start to register or login.","login":"Login","email":"Email","email-not-found":"Email address not found. You are welcome to register 😃","email-not-valid":"Email address not valid. Please check for typos.","email-looks-good":"Email looks good.","password":"Password","caps-lock-on":"CAPS LOCK is on!","2fa-token":"2FA Token","new-user":"New user","forgot-password":"Forgotten password"},"forgotten":{"forgotten":"Forgotten password","one-time-code":"One time code for","otp-not-valid":"One time code not valid. Please check for typos.","otp-valid":"One time code looks good.","login-with-otp":"Login with code","goto-login":"I remember my password. Go to login page.","send-new-otp":"Send me a new one time code.","email":"Email","email-not-found":"Email not found.","register":"Register as a new user.","email-not-valid":"Email not valid. Please check for typos.","email-looks-good":"Email looks good.","caps-lock-is-on":"CAPS LOCK is on!","send-reset-link":"Send me a reset link"},"refresh":{"pull-to-update":"Pull to update page..."},"modal":{"download":"Download image..."},"imageupload":{"drag-files-here":"Drop your files here :)","upload-images":"Uploaded files","uploading-image":"Uploading..."},"dog":{"history":{"no":"No","yes":"Yes","delete":"Delete","cant-delete-groups":"Can\'t delete groups. Please go into each dog and delete there."},"dogs":{"choose-filter":"Choose filter","search-for-dogs":"Search for dogs","show-only-team-dogs":"Show only team dogs","show-all-dogs":"Show all dogs","show-all":"Show all","show-only-selected":"Show only selected","show-lead-dogs-only":"Show only lead dogs","show-point-dogs-only":"Show only point dogs","show-team-dogs-only":"Show only team dogs","show-wheel-dogs-only":"Show only wheel dogs","remove-all-dogs":"Remove all dogs","saved-changes":"Changes saved","addplaceholder":"Add dog placeholder","saveDogPositions":"Save dog positions","resetDogPositions":"Reset dog positions","clearDogPositions":"Clear dog positions","dogs-positions":"Team positions","add-all-in-team":"Add all {{total}} dogs in Team"},"calendar":{"month":"Month","week":"Week"},"addlog":{"addlog":"Add log entry","dogs":"Dogs","dogs-help":"Which dog does this apply to?","date":"Date","date-help":"Date for log entry.","time":"Time","time-help":"Time for log entry.","type":"Event type","choose-type":"Choose type","other":"Other","stoolProblem":"Stool problem","bodyScore":"Bodyscore","diarrhea":"Diarrhea","foodLeftover":"Food left over","clawClip":"Claw clip","maturity":"On heat","massage":"Massage","animalchiropractor":"Animal Chiropractor","newStraw":"New straw","update":"Update","deworming":"Deworming","mating":"Mating","injury":"Injury","fight":"Fight","sick":"Sick","unwantedMating":"Unwanted mating","vaccine":"Vaccine","weight":"Weighing","veterinarianVisit":"Veterinary visit","type-help":"Type of log entry. Vet visit, vaccine, sick, on heat, etc.","vaccine-type":"Vaccine type","choose-vaccine":"Choose vaccine type","rabies":"Rabies (3 years)","BbPi":"BbPi (1 years)","DHP":"DHP (3 years)","DHPPi":"DHPPi (3 years)","vaccine-help":"Which vaccine is this?","title":"Title","title-help":"Title for the log line.","duration":"Vaccine duration","duration-help":"When is this vaccine expiring?","weight-of-dog":"Weight","weight-of-dog-help":"Weight of dog.","bodyscore":"Bodyscore","bodyscore-help":"Bodyscore of dog.","cost":"Cost","cost-help":"Cost for this event.","commet":"Comment","comment-help":"Comment to this event. Write more about what happend.","images":"Images","please-wait":"please wait...","cancel":"Cancel","hidelog":"Hide add log entry","newlog":"New log entry"},"veterinary":{"choosen-dogs":"Chosen dogs","chosen-vaccines":"Chosen vaccines","choose-team":"Choose team","select-all-dogs":"Select all dogs","remove-all-dogs":"Remove all dogs","name":"Name","image":"Image","are-you-sure":"Are you sure you want to add vaccine to {{dogs}} dog?","yes-iam-sure":"Yes, I\'m sure!","cancel":"Cancel","add-vaccine-to-dogs":"Add vaccine to {{dogs}} dogs","recepipt":"Receipt","dog":"Dog","vaccine":"Vaccine","no-access":"No access!","attempts-logged":"All attempts are logged and reported.","goto-frontpage":"Go to the frontpage","title":"Veterinary search","search":"Search","searching":"Searching...","cellphone":"Cellphone","email":"Email","search-placeholder":"Search for musher by email, cellphone or name...","choose-vaccines":"Choose vaccines in the list above"}},"dogs":{"dashboard":"Dashboard","list":"List","feed":"Feed","todo":"Todo","stats":"Stats","pictures":"Pictures","workouts":"Workouts","relations":"Relations","achievements":"Memories","links":"Links","achievement-name":"Title","achievement-name-help":"Title of memory","achievement-description":"Description","achievement-description-help":"Description of memory","achievement-url":"Url","achievement-url-help":"URL of memory","achievement-add":"Add new memory","link-name":"Title","link-name-help":"Title of link","link-url":"Url","link-url-help":"URL of link","link-add":"Add new link","advanced":"Advanced","trophy":"Trophy case","info":"Info","fitness":"Fitness","veterinary":"Vet","add-dogs":"Add new dog","no-dogs-registered":"No dogs registered yet.","howto-add-1":"How to get started","howto-add-2":"Click \\"Add new dog\\" on the top of the page.","dog-with-follow-up":"Dogs that needs attention","no-dogs-with-follow-up":"No dogs that needs attention.","dog-with-special-needs":"Dogs with special needs","no-dogs-with-special-needs":"No dogs with special needs.","dog-with-workouts-last-day":"Dogs with workouts last 24 hours.","dogs-filtered-by":"Filtered by:","all-dogs":"All dogs - {{total}}","dog-with-maturity":"Dogs on heat","no-dogs-with-maturity":"No dogs on heat.","no-files-title":"No files attached to this dog!","no-files-text":"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc.","no-achievements-title":"No memories for this dog!","no-achievements-text":"You can add memories to this dog. Ie. Hikes, tests, prices, races, etc.","no-links-title":"No links for this dog!","no-links-text":"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc.","no-trophys-title":"No trophys for this dog!","no-trophys-text":"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys.","no-images-title":"No images for this dog!","no-images-text":"You can add more images to this dog. Puppy pictures, workout pictures, lazy summer pictures, etc. All is a nice way to create a better profile for this dog.","edit":"Edit","kmt":"km/h","birth":"Born","deceased":"Deceased","team":"Team","mother":"Mother","father":"Father","siblings":"Siblings","children":"Children","pictures-of":"Photos of","log-for":"Log for","delete":"Delete","changes-saved":"Changes saved","add-new":"Add new dog","name":"Name","name-of-dog":"Full name of the dog.","save-new":"Save new dog","status":"Status","status-help":"Status for this dog.","special-needs":"Special needs","special-needs-help":"Do this dog have any special needs? \\"Extra fat\\", \\"Equipment\\", etc.","position":"Location in the team","position-help":"Preferred position in the team","profile-photo":"Profile picture","profile-photo-help":"Profile picture of the dog.","photo":"Photos","photo-help":"Photos of the dog.","full-name":"Full name","full-name-help":"Full name of the dog.","short-name":"Short name","short-name-help":"Callout name of the dog.","gender":"Gender","gender-help":"Gender of the dog.","chip-id":"Chip ID","chip-id-help":"Chip ID of this dog. Look in the passport or vet certificate.","birth-help":"Birtdate of the dog.","deceased-help":"Deceased date of the dog.","team-help":"Team which the dog is member of.","harness-size":"Harness size","harness-size-help":"Size of the harness for this dog.","choose-mother":"Choose mother","mother-name":"Mother name","mother-name-help":"Name of mother of this dog.","mother-chipid":"Mother Chip ID","mother-chipid-help":"Chip ID of mother. If mother is amoung you dogs, it will be connected.","mother-comment":"Mother comment","mother-comment-help":"Comment for the mother of this dog.","choose-father":"Choose father","father-name":"Father name","father-name-help":"Name of father of this dog.","father-chipid":"Father Chip ID","father-chipid-help":"Chip ID of father. If mother is amoung you dogs, it will be connected.","father-comment":"Father comment","father-comment-help":"Comment for the father of this dog.","files":"Files","files-help":"Files for this dog.","dog-saved":"Dog is saved","choose-sort":"Choose sort","sort-distance":"Distance","sort-duration":"Duration","sort-name":"Name","sort-shortname":"Shortname","sort-workouts":"Workouts","sort-lead":"Lead","sort-point":"Point","sort-team":"Team","sort-wheel":"Wheel","all":"All","leadOnly":"Lead","pointOnly":"Point","teamOnly":"Team","wheelOnly":"Wheel","days-back":"Last","d1":"day","d2":"2 days","d7":"7 days","d14":"14 days","d30":"30 days","gender-male":"Male","gender-female":"Female","log":"Advanced","vetenary-approved-vaccines":"Veterinary approved vaccines","vaccine-karens":"days left","vaccine-name":"Vaccine name","vaccine-date":"Vaccine date","vaccine-veterinary":"Veterinary","hide-deceased":"Show team only","absolutely-all":"Show absolutely all","log-for-is-empty":"Log for {{name}} is empty","temp-calculation":"At the moment this is calculated from the main team of this dog. This will be changed soon.","info-about":"Information about","add-description":"Edit dog to add a description.","add-veterinary":"Contact your veterinary and ask them to add the vaccines inside the app.","description":"Description","description-help":"Description of the dog.","links-help":"Links for this dog.","achievements-help":"Achievements for this dog.","public-photos":"Dog photos - {{total}} stk","trophy-details":"Details","something-missing":"Is there anything you are missing on this page? Send us a message on Facebook.","visits":"Dog page visits"},"workouts":{"edit":"Edit","duplicate":"Duplicate","make-track":"Make track based on workout","duration":"Duration","rest":"Rest","avgspeed":"Avg speed","currentspeed":"Current speed","kmt":"km/h","type":"Type","equipment":"Equipment","dogs":"Dogs","distance":"Distance","ascend":"Ascend","weather":"Weather","fetch-weather":"Fetch from yr.no","temperature":"Temperatur","info":"Info","user":"Musher","gps":"GPS","advanced":"Advanced","energy-consumption-help":"Energy consumption is calculated this way: 1,25 kcal / kg bodyweight / km.","energy-consumption-total":"Energy consumption total","energy-consumption":"Energy consumption each dog","energy-consumption-fat-total":"Fat total","energy-consumption-fat":"Fat each dog","energy-consumption-meat-total":"Meat total","energy-consumption-meat":"Meat each dog","energy-consumption-salmon-total":"Salmon total","energy-consumption-salmon":"Salmon each dog","load-index":"Workload index","kcal-calculated":"Calculated:","all-dogs":"Dogs - {{total}}","all-mushers":"Mushers - {{total}}","delete":"Delete","changes-saved":"Changes are saved","show-last-used-tracks":"Show only last used tracks","show-all-tracks":"Show all tracks","add-new":"Add new workout","add-save-new":"Save new workout","other":"Other","team":"Team","date":"Date","time":"Time","track":"Track","title":"Title","avg-speed":"Avg speed","comment":"Comment","mushers":"Mushers","rating":"Rating of workout","sledWeight":"Sled weight","intensity":"Intensity","edit-workout":"Edit workout","photos":"Photos","workout-saved":"Workout is saved.","start-stop-1":"Start-stopp tracking is not ready yet. Apple iOS is preventing PWA to run geolocation in the background. web-apper. I\'m going to buy an Android phone to test the capabilities of Android.","start-stop-2":"Most of the development is driven by your feedback so please send me lots of messages on Facebook.","tracking-stop":"Stop tracking","tracking-start":"Start tracking","other-help":"What kind of workout was this?","team-help":"The team doing this workout.","date-help":"Workout date. Format is: \\"YYYY-MM-DD\\".","time-help":"workout time. Format is: \\"HH:MI\\".","type-help":"Type of workout: \\"trening\\", \\"konkurranse\\", \\"tur\\".","track-help":"Which track where you running?","title-help":"Title of this workout. Ie: \\"Nice run in beautiful fall colors...\\"","duration-help":"What was the duration of this workout? (HH:MI)","rest-help":"How long where you resting during the workout? (HH:MI)","avg-speed-help":"Average moving speed. If you don\'t know this, please add distance, duration and rest. Then this will be calculated.","distance-help":"How long did you run in km.","ascend-help":"How much did you ascend?","equipment-help":"Equipment used for this workout.","comment-help":"Comments for this workout. How did it go?","weather-help":"How was the weather?","temperature-help":"Which temperature did you have?","dogs-help":"Which dogs was running in the team?","mushers-help":"Which mushers was participated in this workout?","rating-help":"Your rating of this workout. 1-6","sledWeight-help":"Weight of sled on this workout in kg.","intensity-help":"How hard was the intensity of this workout?","photos-help":"Add photos from this workout.","all-workouts":"Workouts - {{total}}","month-workouts":"Workouts - {{month}} {{year}}","week-workouts":"Workouts - Week - {{week}} {{year}}","save-to-add-images":"Please save workout and then go into edit mode to add images.","save-to-add-gpx":"Please save workout and then you will be able to upload a GPX-file if you like.","private":"Hide workout","private-help":"Hide this workout from your followers.","no-dogs":"No dogs registered.","no-dogs-tip":"It\'s recommended to add dogs before you add a workout.","add-dog":"Add dog","no-tracks":"No tracks registered.","no-tracks-tip-1":"It\'s practical to register a track before you add a workout. When you do, distance and ascend will be automatically filled in.","no-tracks-tip-2":"If you don\'t have the GPX for this track, you can still register workout.","add-track":"Add track","no-workouts":"No workouts registered: {{month}} {{year}}","no-workouts-1":"Tracking inside the app is not quite ready because of some limitations in Apple iOS when using PWA.","no-workouts-2":"I\'m going to buy an Android phone to test the capabilities. Anyway, tracking is coming soon :)","no-workouts-3":"A map of your track is added as GPX inside each track.","no-workouts-howto":"This is how you do it","no-workouts-howto-1":"Click the button \\"Add workout\\" in the upper right corner.","dogs-positions":"Team positions","search-for":"Search for workouts","gpx":"Gpx","gpx-help":"Gpx for this workout.","current":"Current","totals":"Totals","seasontotals":"Season totals","analysis":"Analysis","images":"Photos","handlers":"Handlers","workoutplan":"Workout plan","table":"Table","calendar":"Calendar","go-to-tracking":"Go to tracking","admin-edit":"Admin edit","reimport-strava":"Reimport Strava data","reimport-garmin":"Reimport Garmin data","like":"Like","is-private":"Workout is private"},"search":{"title":"Search","text-1":"The search function is not done yet.","text-2":"What would you like to search for? Send us a message on Facebook :)","search-for":"{{hits}} in your search for \\"{{search}}\\"","dogs":"Dogs","workouts":"Workouts","teams":"Teams","tracks":"Tracks","users":"Users","stories":"Stories","no-dogs-found":"No dogs found.","no-workouts-found":"No workouts found.","no-teams-found":"No teams found.","no-tracks-found":"No tracks found.","no-users-found":"No users found.","no-stories-found":"No stories found."},"teams":{"connect":{"teams-to-follow":"Teams to follow","teams-follow-requests":"Teams follow requests","wants-to-follow":"wants to follow:","confirm":"Confirm","confirm-and-follow":"Confirm & follow back","delete":"Delete request","block":"Block team","confirmed":"Confirmed","deleted":"Deleted","all-teams":"All public teams","follow":"Follow","is-following":"Following","is-blocked":"Blocked","has-requested":"Waiting approval","how-summary":"How does this work?","how-text":"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That\'s all. Try to follow a team and check out the workout tab."},"addmember":{"title":"Team - Add new member","add-new":"Add new member to:","email":"Email","email-help":"Email address of new member.","info-1":"Members in this team will have full access to all the dogs, workouts and tracks related to this team.","info-2":"Please only add people you trust :)","save-new":"Invite new member"},"edit":"Edit","admin":"Admin","kmt":"km/h","dogs":"Dogs - {{total}}","members":"Members - {{total}}","add-new-member":"Add new member","delete":"Delete","name":"Team name","name-help":"Name of this team. Nice name like: A-team, B-team, My dogs, etc.","public":"Public visible","public-help":"Should it be possible to follow your team? All follow-requests has to be approved by you. Followers will only see information you have shared. No workout details or other things are visible.","public-settings":"Public settings","public-workouts":"Public workouts","public-workouts-help":"Should your workouts be visible to your followers?","public-workouts-details":"Public workouts details","public-workouts-details-help":"Should your workouts details be visible to your followers?","public-workouts-summary":"Public workouts summary","public-workouts-summary-help":"Should your workout summary be visible to your followers?","public-trophys":"Public trophys","public-trophys-help":"Should your trophys be visible to your followers?","public-memories":"Public memories","public-memories-help":"Should your memories be visible to your followers?","public-dogs":"Public dogs","public-dogs-help":"Should your dogs be visible to your followers?","address":"Address","address-help":"Address for your team.","postalcode":"Zip","place":"Postal place","place-help":"Postal place for the team.","country":"Country","country-help":"Country for the team.","ambitions":"Ambitions","ambitions-help":"Your teams ambition level. (Used for calculating the Load index.)","type":"Type","type-help":"Team type.  (Used for calculating the Load index.)","save-new":"Save new team","edit-team":"Edit team","photos":"Photos","photos-help":"Photos of this team.","profile-photos":"Profil photo","profile-photos-help":"Profile photo of the team.","description":"Description","description-help":"Description of this team.","url":"URL","url-help":"URL to the teams web page.","facebook":"Facebook","facebook-help":"Link to Facebook page.","instagram":"Instagram","instagram-help":"Link to Instagram page.","choose-country":"Choose country","saved":"Teamet has been saved.","all-teams":"Your teams - {{total}}","add-new":"Add new team","changes-saved":"Changes has been saved","fitness":"Fitness, fatigue and form","legend-fitness":"Fitness","legend-fatigue":"Fatigue","legend-form":"Form","public-profile":"Public profile","socialmedia":"Social media","add-sosialmedia":"Go to edit team profile to add social media site.","add-description":"Go to edit team profile to add a description.","public-photos":"Team photos - {{total}}","something-missing":"Is there anything you are missing on this page? Send us a message on Facebook.","stats":"Stats","presentation":"Presentation","pictures":"Pictures","dogs-menu":"Dogs","mushers":"Mushers","workouts":"Workouts","fitness-menu":"Fitness","compare":"Compare","trophy":"Trophy case","achievements":"Achievements","links":"Links","files":"Files","followers":"Followers","veterinary":"Vet","log":"Advanced","images":"Images","trophy-details":"Details","dogs-help":"Which dogs are in this team?","info":"Info","status":"Status","internet":"Social media","postalcode-help":"Zip to this team.","snapchat":"Snapchat","snapchat-help":"Snapchat username.","header-photo":"Header photo","header-photo-help":"Header photo for this team..","photo":"Photo","photo-help":"Photo of this team.","profile-photo":"Profil photo","profile-photo-help":"Profile photo of this team.","achievements-help":"Memories for this team.","links-help":"Links for this team.","files-help":"Files for this team.","no-images-title":"No images for this team!","no-images-text":"You can add more images to this team. Puppy pictures, workout pictures, lazy summer pictures, etc. All is a nice way to create a better profile for this team.","no-achievements-title":"No memories for this team!","no-achievements-text":"You can add memories to this team. Ie. Hikes, tests, prices, races, etc.","no-trophys-title":"No trophys for this team!","no-trophys-text":"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys.","no-files-title":"No files attached to this team!","no-files-text":"You can upload files to this team inside edit. These files can be of any type. Ie: Certificates, test, etc.","no-workouts-title":"No workouts for this team.","no-workouts-text":"You can add more trainings.","no-dogs-title":"No dogs for this team.","no-dogs-text":"You can add more dogs to this team.","notfollowing":"Not following","waiting-approval":"Waiting for approval","following":"Following","no-more-teams-to-follow":"No more teams to follow.","no-pending-follow-requests":"No pending follow requests","not-following-any-teams":"You are not following any teams.","no-followers":"Currently you have no followers, but don\'t fear. It\'s easy get new followers. Make sure your team is public. Be active in the feed and make you team profile beautiful.","heatmap":"Heatmap","heatmap-info":"The heatmap show where you have been working out this season.","blocked-followers":"Blocked teams","not-public":"Not public","no-photos":"No photos for this team.","show-all":"Show all","your-teams":"Your teams","public-teams":"Public teams","description-workoutplan":"Workoutplan","add-description-workoutplan":"Go to edit team profile to add a workoutplan text.","sponsors":"Sponsors","add-sponsors":"Go to edit team profile to add sponsor info.","public-sponsor-images":"Sponsors - {{total}}","descriptionWorkoutplan":"Workoutplan description","descriptionWorkoutplan-help":"Description of your workoutplan and philosophy.","sponsors-help":"List your sponsors.","sponsor-photo":"Sponsor logos","sponsor-photo-help":"Logos from sponsors.","visits":"Team page visits"},"tracks":{"your-tracks":"Your tracks","public-tracks":"Public tracks","edit":"Edit","date":"Date","date-help":"Date for this track","time":"Time","time-help":"Time for this track","distance":"Distance in km","elevation":"Ascend","downhill":"Descend","duration":"Normal duration","speed":"Normal speed","delete":"Delete","all-tracks":"Your tracks - {{total}}","all-public-tracks":"Public tracks - {{total}}","add-new":"Add new track","no-tracks-yet":"No tracks registered yet.","no-tracks-info-1":"GPX files can be uploaded after you have created this track.","no-tracks-info-2":"Recommended apps to create GPX files are","howto-title":"How to get started","howto-1":"Click the button \\"Add new track\\" on the top of the page.","changes-saved":"Changes has been saved","save":"Save new track","gpx-info":"To be able to upload GPX files. Please save and return to edit.","saved":"Track has been saved.","title":"Title","title-help":"Title of this track. Ie: \\"The hills of north\\"","distance-help":"How far is this track in km.","elevation-help":"How much do you climb on this run.","photos":"Photos","photos-help":"Photos from this track.","gpx":"GPX","gpx-help":"GPX for this track.","filter-all":"Show all","filter-only-map":"Show only those with a map","weather-start":"Weather at the start position","weather-hide-details":"Hide details","weather-show-details":"Show details","map":"Map","stats":"Your stats","weather":"Weather","summary":"Track summary","your-workout-summary":"Your workout summary","no-workout-summary":"You have no workout summary for this track. You can choose track inside your workouts to have the summary calculated.","no-weather":"Can\'t find weather for this track.","summary-info":"The summary for this track is estimated based on the tracks profile and your team settings.","no-photos":"No photos for this track."},"form":{"files":{"upload-file":"Upload file"}},"users":{"title":"Your profile","email":"Email","password":"Password","password-confirm":"Confirm password","change-password":"Change password","passwords-matches":"Passwords are equal","edit-password-changed":"Password changed","back-to-profile":"Back to profile","main-team":"Main team","all-teams":"All teams","username":"Username","firstname":"Firstname","lastname":"Lastname","cellphone":"Cellphone","homepage":"Homepage","facebook":"Facebook","instagram":"Instagram","snapchat":"Snapchat","strava-get-activities":"Get activity streams","strava-reconnect":"Reconnect to Strava","strava-reconnect-help":"If you are experiencing problems with the integration, you can try to reconnect","strava-connect":"Connect to Strava","strava-connected":"You are now connected to Strava!","strava-id":"id","strava-username":"username","strava-profile":"profile image","garmin-reconnect":"Reconnect to Garmin Connect","garmin-reconnect-help":"If you are experiencing problems with the integration, you can try to reconnect","garmin-connect":"Connect to Garmin Connect","garmin-connected":"You are now connected to Garmin Connect!","invite":{"title":"Invite new kennel to The Musher","text":"Please help us to recruit new kennels. It\'s always nice with more people, and you can earn points which can be used for the Premium version later this summer.","email":"Email","email-placeholder":"Email for new kennel","send":"Send invitation","thanks":"Thank you so much for helping out 😃","more":"Invite more","hide":"Hide invitation box."},"edit":"Edit","username-help":"Your username on The Musher","firstname-help":"Your firstname","lastname-help":"Your lastname","cellphone-help":"Your cellphone","url":"Homepage","url-help":"Your homepage","facebook-help":"Your Facebook profile","instagram-help":"Your Instagram profile","snapchat-help":"Your Snapchat profile","photos":"Photos","photos-help":"Photos of you.","saved":"Profile is saved.","settings-text-info":"All settings can be found on your profile.","hide-settings":"Hide settings from frontpage","settings-hide-settings":"Hide settings","settings-hide-settings-help":"Hide settings on the frontpage.","settings":"Settings","settings-hide-profile":"Hide profile","settings-hide-profile-help":"If you don\'t want people to find and send follow requests to you. You can hide your profile here.","settings-hide-invite":"Hide invite box","settings-hide-invite-help":"Hide invite new kennel box on the frontpage.","settings-allow-racevet":"Allow veterinary","settings-veterinary-help":"If you want veterinarians to find your kennel and add vaccines, you have to enable this setting.","settings-summary-email":"Summary","settings-receive-summary-email":"Receive summaries via email","settings-notification-email":"Notifications","settings-receive-notification-email":"Receive notifications via email when they are unread for a while","settings-info-email":"Info","settings-receive-info-email":"Receive info via email","settings-partner-email":"Partners","settings-receive-partner-email":"Help development of The Musher app by receiving good offers from our partners via email. Ie: Food, equipment and other mushing related. No spam will be allowed and all emails will remain secret!","subscriptions":"Subscription","integrations":"Integrations","connect":{"title":"Find your friends","search":"Search","search-placeholder":"Search for friends, other mushers.","doSearch":"Search"},"edit-profile":"Edit profil"},"install":{"install-app":"Install The Musher app"},"news":{"edit":"Edit","add-new":"Create new content","back":"Back","heading":"News & Info","heading-howo":"How do they do it?","create":"New"},"comments":{"like":"Like","has-liked":"Liked","comment-add":"Comment","show-more":"Show {{more}} more comments...","hide-all-comments":"Hide all comments.","comment":"Comment","add-comment":"Send","write-comment":"Write a comment...","remove-image":"Remove"},"race":{"therace":"The Race","news":"News","more-news":"More news","mushers":"Mushers","results":"Results","tracking":"Tracking","media":"Photos","edit":"Edit race","new":"New race","signup-payment":"Signup payment","location":"Place","about":"About the race","rules":"Rules","veterinary":"Veterinary info","checkpoints":"Checkpoints","track-description":"Track description","program":"Program","prices":"Prices","classes":"Race classes","signup":"Signup","distance":"Distance","startdate":"Start","enddate":"End","to-top":"To the top"},"races":{"homerun":"Homerun races","signup-open":"Signup open","race-finished":"Race finished","race-in-progress":"Race in progress","classes":"Race classes","race-days":"Race days","signup":"Signup","periode":"Periode","signed-in-as":"Logged in as","signed-up":"You have sucessfully signed up!","paid":"Paid","payment-info":"Signup payment","click-to-change":"Click to edit info.","cellphone":"Cellphone","firstname":"Firstname","lastname":"Lastname","sportsclub":"Sportsclub","facebook":"Facebook","instagram":"Instagram","team":"Team","class":"Race class","cellphone-help":"What is your cellphone number?","firstname-help":"What is your firstname?","lastname-help":"What is your lastname?","sportsClub-help":"Which sportsclub are you member of?","facebook-help":"What is your Facebook username?","instagram-help":"What is your Instagram username?","choose-team":"Choose team","choose-class":"Choose race class","choose-team-help":"Choose from your teams","choose-class-help":"Choose race class","agreement-accept":"I have read and agreed to the rules.","do-signup":"Sign up","signup-not-open-yet":"Signup is not open yet!","signup-closed":"Signup closed!","signup-opening":"Signup opening soon","races":"Races:","results":"Results","mushers":"Mushers","mushers-on-trail":"Mushers on trail","finished-mushers":"Finished mushers","tracking":"Tracking","photos":"Photos","hide-details":"Hide details","read-more":"Read more","results-here":"See results","on-trail":"On the trail","favorites":"Favorites","name":"Name","start-date":"Start date","distance":"Distance","ascend":"Ascending","avg-speed":"Avg speed","race-time":"Racetime","rest-time":"Resttime","load-index":"Loadindex","current-speed":"Current speed","elevation":"Elevation","elevation-graph":"El. graph","stages":"Stages","result":"Result","musher-here":"See competitors","dogs":"Dogs","admin":"Admin","no-team-on-trail":"No teams tracking live in The Musher app right now...","no-teams-signed-up":"No teams signed up yet...","hide-signup":"Abort signup","signup-another-team":"Signup in more classes","starting-teams":"{{totalContestants}} signed up in {{totalClasses}} race classes","choose-correct-team-and-type":"Choose correct team and type for the race."},"story":{"body":"Story","write-body":"What is on your mind..?","add-story":"Publish","public":"It is public","show-all":"Show all","back-to-wall":"Back to all","alert-text-1":"Your team is not visible and it\'s not possible to request friendship with your team.","alert-text-2":"If you want to make your team visible so other can request to follow your team, you can find the setting here:","alert-text-3":"Edit team","sort":{"new":"Latest first","likes-desc":"Most likes first","likes-asc":"Fewest likes first","comments-desc":"Most comments first","comments-asc":"Fewest comments first"},"share":"Share","type":"Type","type-choose":"Choose type","type-regular":"Regular","type-ad":"Ad","type-article":"Article","team-choose":"Choose team","url-text":"URL text","url":"URL","country":"Country","region":"Region","currency":"Currency","price":"Price","ad-url-readmore":"Read more...","ad-campaign-code":"Campaign code","sponsored":"Sponsored","all-stories":"All Stories","code":"Code"},"premium":{"title":"Premium"},"types":{"trening":"workout","konkurranse":"competition","tur":"tour","aktivitet":"activity","vanntrening":"watertraining","gåtur":"walking","Løsslipp":"Free running","annet":"other"},"intensities":{"Easy":"Easy","Normal":"Normal","Hard":"Hard"},"teamAmbitions":{"Ingen ambisjoner":"No ambitions","Glad amatør":"Happy amateur","Amatør":"Amateur","Seriøs amatør":"Serious amature","Proff":"Pro"},"teamTypes":{"Tur":"Hikes","Turistkjøring":"Guided tours","Sprint":"Sprint","Mellomdistanse":"Mid distance","Langdistanse":"Long distance"},"dogPositions":{"Leader":"Leader","Team":"Team","Wheel":"Wheel"},"dogstatuses":{"Avls-sperre":"No breeding","Drektig":"Pregnant","Kastrert/sterilisert":"Castrated/sterilized","Løpetid":"On Heat","Medisinering":"Medication","Normal":"Normal","Omplassering":"Relocation","Pensjonist":"Retired","Skadet":"Injured","Syk":"Sick","Valp/unghund":"Puppy/young dog","Overoppheting":"Overheating","Korthåret/trenger dekken":"Short haired/needs jacket"},"equipments":{"Slede":"Sled","Atv":"ATV","Utv":"UTV","Bil":"Car","Trollvogn":"Troll wagon","Ski":"Ski","Annen vogn":"Other wagon","Sykkel":"Bicycle","Kickbike":"Kickbike","Kickspark":"Kicksled","Jogging":"Running","Hundehjul":"Dog wheel","Ingen utstyr":"No equipment"},"harnesses":{"small":"small","medium":"medium","large":"large","xlarge":"xlarge","xxlarge":"xxlarge"},"grant-access":{"title":"Grant access","data-shared":"Data beeing shared","fields-shared-person":"Image, Name, email, cellphone, address","fields-shared-dog":"Image, Name, chipId, gender, birth, vaccines","fields-shared-team":"Name, description, images","grant":"Grant access","deny":"Deny access","choose-team":"Choose team","access-granted":"Access granted. Now please click the button below to go back to","back-to-application":"Back to"},"likes-comments":{"and":"and {{total}} other."},"settings":{"title":"Settings","search-placeholder":"Search for settings...","darkmode":"Dark or light layout","viewmode":"View mode","language":"Language","logout":"Logout","general":"General","general-info":"Language, viewmode, logout","user":"User","team":"Team","strava":"Strava","garmin-connect":"Garmin Connect","profile":"Profile","user-email":"Email"}}')},CE5K:function(e,t,s){"use strict";function a(){try{if(window)return window}catch(e){return}}function i(){let e=a();return e&&(!(!e.matchMedia||!e.matchMedia("(display-mode: standalone)").matches)||e.navigator&&!0===e.navigator.standalone)||!1}function o(){h.onPrompts.forEach(e=>e(h.prompt))}function n(e){if(!h.installPromptListener){let e=a();if(!e||i())return null;h.installPromptListener=t=>{t.preventDefault();let s=t;h.prompt=()=>new Promise(t=>{h.appInstalledListener=()=>{t(!0)},e.addEventListener("appinstalled",h.appInstalledListener),s.prompt(),s.userChoice.then(e=>{"accepted"!==e.outcome&&t(!1)})}).then(t=>(s=null,h.appInstalledListener&&e.removeEventListener("appinstalled",h.appInstalledListener),t&&(h.prompt=null,o()),t)),o()},e.addEventListener("beforeinstallprompt",h.installPromptListener)}return e?(h.onPrompts.push(e),h.prompt&&e(h.prompt),()=>{return t=e,void(h.onPrompts=h.onPrompts.filter(e=>e!==t));var t}):()=>function(){let e=a();h.installPromptListener&&(e&&e.removeEventListener&&e.removeEventListener("beforeinstallprompt",h.installPromptListener),h.installPromptListener=null),h.appInstalledListener&&(e&&e.removeEventListener&&e.removeEventListener("appinstalled",h.appInstalledListener),h.appInstalledListener=null),h.prompt=null,h.onPrompts=[]}()}function r(){const[e]=Object(d.k)(i()),[t,s]=Object(d.k)(null);return Object(d.d)(()=>n((e,t)=>{s({prompt:()=>e().then(e=>(e&&t(),e))})})),{isStandalone:e,installPrompt:t&&t.prompt}}function l(){const{installPrompt:e,isStandalone:t}=r();return e&&Object(c.h)("div",{class:"text-center"},Object(c.h)("a",{class:"btn btn-success",href:"#",onclick:e},Object(c.h)(u.c,{id:"install.install-app"},"Install The Musher")))||t&&""}s.d(t,"a",(function(){return l}));var c=s("hosL"),d=s("QRet");const h={prompt:null,installPromptListener:null,appInstalledListener:null,onPrompts:[]};var u=s("OhSV")},CLMH:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let c=Object(r.d)(()=>({week:Object(i.h)(r.c,{id:"workout.graph.week"}),distance:Object(i.h)(r.c,{id:"workout.graph.distance"}),ascend:Object(i.h)(r.c,{id:"workout.graph.ascend"}),plan:Object(i.h)(r.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends i.Component{render(){const{fieldsLeft:t=[],legendLeft:s=[],fieldsRight:a=[],legendRight:n=[],showDebug:r,xTicksVal:c=(e=>o.a.isoDate(e)),xTicksCnt:d=5,yTicksLeftVal:h=(e=>e),yTicksRightVal:u=(e=>e)}=this.props,{adminStore:p}=this.props.stores,m=t.map(e=>o.a.getNestedValue(p,e)||[]),b=a.map(e=>o.a.getNestedValue(p,e)||[]),f=m&&m[0]?m[0]:[],g=[];if(f.length){const e=Math.ceil(f.length/(d-1)),t=Math.floor(f.length/e);r&&console.log({firstData:f,parts:t,partSize:e});for(let t=0,s=f.length;t<s;t+=e)g.push(f[t].epoch);g.push(f[f.length-1].epoch)}return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:2e3,height:300,showXTicks:1,xTicksVal:c,xTicks:g,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:m,legendLeft:s,showYTicksLeft:1,yTicksLeftVal:h,avgWindowLeft:[0,0,0,0,0,0,0],smoothLeft:[1,1,1,1,1,1,1],dataRight:b,legendRight:n,showYTicksRight:b.length>0?1:0,yTicksRightVal:u,avgWindowRight:[0,0,0,0,0,0,0],smoothRight:[1,1,1,1,1,1,1],legendFontSize:"18px",legendLineHeight:18,ticksFontSize:"15px",scrollToRight:!0})))}})||a)||a;t.a=c}).call(this,s("hosL").Fragment)},CMu3:function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4"));s("OhSV"),s("ZOvn");let n=Object(o.a)(a=class extends i.Component{constructor(...e){super(...e),this.setApiServer=e=>{const{apiserver:t}=e.target.closest("button").dataset,{appState:s}=this.props.stores;s.setApiServer(t)}}render(){const{showError:e={}}=this.state,{appState:t}=this.props.stores,{apiServer:s}=t;return Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"API Server: ",s),Object(i.h)("button",{class:`btn btn-block btn-${"https://themusher.app"===s?"":"outline-"}success`,onClick:this.setApiServer,"data-apiserver":"https://themusher.app"},"Prod"),Object(i.h)("button",{class:`btn btn-block btn-${"https://dev.themusher.app"===s?"":"outline-"}success`,onClick:this.setApiServer,"data-apiserver":"https://dev.themusher.app"},"Dev"),Object(i.h)("button",{class:`btn btn-block btn-${"http://localhost:8888"===s?"":"outline-"}success`,onClick:this.setApiServer,"data-apiserver":"http://localhost:8888"},"localhost:8888"))}})||a;t.a=n},Cjoz:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("/eY4"),c=s("X9Km");const d={message:"",type:"",icon:""};let h=Object(l.a)(n=class extends r.Component{constructor(e){super(e),this.remove=()=>{this.setState(i({},d))},this.state=i({},d)}subscriptions(){c.a.subscribe(c.b.STATUS_MESSAGE,({message:e,type:t,icon:s,status:a})=>{this.setState({message:e,type:t,icon:s,status:a})})}componentDidMount(){this.subscriptions()}componentDidUpdate(){clearTimeout(this.removeTimer),this.removeTimer=setTimeout(()=>this.remove(),7e3)}componentWillUnmount(){clearTimeout(this.removeTimer)}render(){const{message:e,icon:t,type:s="success"}=this.state;return e?Object(r.h)("div",{class:"container fixed-top",style:"margin-top: 82px;"},Object(r.h)("div",{class:`alert alert-${s} row`},Object(r.h)("div",{class:"col-12"},Object(r.h)("button",{onclick:this.remove,class:"btn btn-sm btn-link float-right"},Object(r.h)("i",{className:"fas fa-times"})),t&&Object(r.h)("h1",{class:"float-left mr-3"},Object(r.h)("i",{class:t})),e&&e.split("\n").map(e=>Object(r.h)("div",{class:"mb-2"},e))))):""}})||n;t.a=h},Cqs7:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU"));t.default=function(e){if(!1===Array.isArray(e)||0===e.length)throw new Error("No points were given.");return e.reduce((function(e,t){var s=(0,i.default)(t),a=(0,o.default)(t);return{maxLat:Math.max(s,e.maxLat),minLat:Math.min(s,e.minLat),maxLng:Math.max(a,e.maxLng),minLng:Math.min(a,e.minLng)}}),{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})}},DTs7:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}function l(e){switch(e){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function c(e){switch(e){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var d,h,u=s("hosL"),p=s("Utv1"),m=s("/eY4"),b=s("Y3FI"),f=s("OhSV"),g=s("cneo"),O=s("fh8t"),v=s.n(O),y=s("X9Km"),j=s("ZOvn"),w=s("HqZR"),k=(s("1OK2"),s("s4FZ")),x=s("KDoM"),S=s("wLBv"),_=s("YdX6"),T=s("GcMA"),D=s("sqi2"),I=s("/922"),P=s("wanP"),L=s("epqT"),C=s("om2D"),A=s("q/oJ"),E=s("gWxU"),F=s("Nanz"),M=s("+JSK"),R=s("vY+r"),z=s("nHdA"),U=s("irB3"),N=s("UwwE"),$=s("8Lgr"),W=s("QkTp");const B=j.a.marginTop(!1),H=j.a.marginTopBack(!1),V=j.a.marginBottom(),G=j.a.getMaxLoadIndex(),q={newDog:{},submenu:"totals",showAddComment:!1,mapHeight:300,mapMaxHeight:600,reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};Object(m.a)(d=class extends u.Component{constructor(...e){var t;super(...e),t=this,this.onInputDuration=e=>{const{field:t,updateField:s,workout:a}=this.props,i=parseInt(e.target.value,10),o=e.target.name;let n=Math.floor(a[t]/3600)||0,r=Math.floor(a[t]/3600)||0;o.match(/-hours/)&&(n=i),o.match(/-minutes/)&&(r=i);s({id:a.id,field:t,value:3600*n+60*r})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{workoutStore:s}=t.props.stores,{workout:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{workout:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})},this.setDateToNow=()=>{const{field:e,updateField:t,workout:s}=this.props,a=p.a.isoDate(void 0,!1,!1,!0);t({id:s.id,field:e,value:a})},this.setTimeToNow=()=>{const{field:e,updateField:t,workout:s}=this.props,a=p.a.isoTime();t({id:s.id,field:e,value:a})},this.setValue=e=>{const t=e.target.parentElement.dataset.value||e.target.dataset.value;if(t){const{field:e,updateField:s,workout:a}=this.props;s({id:a.id,field:e,value:t})}},this.setRightValue=()=>{const{field:e,updateField:t,workout:s,rightValueReal:a}=this.props;t({id:s.id,field:e,value:a})}}render(){const{saved:e,workout:t,type:s,datalist:a=[],min:i,max:o,step:n,elementtype:r,field:l,title:c,icon:d,help:h,onInput:m,updateField:b,rightValue:O}=this.props;let v,y,w=Object(g.i)(t[l]),k=o;if("date"===s&&(w&&(w=p.a.isoDate(t[l],!1,!1,!0)),"today"===o&&(k=p.a.isoDate(void 0,!1,!1,!0))),"duration"!==l&&"rest"!==l||(v=p.a.secToHms(w,!0)),"weather"===l&&p.a.checkNested(t,"yr","0","instant","details")){const e=Object(g.i)(t.yr[0].instant.details);p.a.isoDate(t.yr[0].date,!1,!1,!0)===p.a.isoDate(t.date,!1,!1,!0)&&(v=`Yr.no: 🌡️ ${e.air_temperature}°C, 💨 ${e.wind_speed}m/s 🧭 ${j.a.windDirection(e.wind_from_direction)}, ☁️ ${e.cloud_area_fraction}%, ${e.air_pressure_at_sea_level}mb, 💦 ${e.relative_humidity}%`,y=v)}if("temperature"===l&&p.a.checkNested(t,"yr","0","instant","details")){const e=Object(g.i)(t.yr[0].instant.details);p.a.isoDate(t.yr[0].date,!1,!1,!0)===p.a.isoDate(t.date,!1,!1,!0)&&(v=`Yr.no: 🌡️ ${e.air_temperature}°C`,y=p.a.asNumber(e.air_temperature))}if("file"===s)return Object(u.h)("div",{class:"form-group "+(e[`${l}.${t.id}`]?"is-valid":"")},Object(u.h)("label",{for:l+"Input"},d&&Object(u.h)("i",{class:d+" text-muted"})," ",c),Object(u.h)(Files,{saved:e,object:t,field:l,updateField:b}),e[`${l}.${t.id}`]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:l+"Help",class:"form-text text-muted"},h));if("image"===s)return Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(e[`${l}.${t.id}`]?"is-valid":"")},Object(u.h)("label",{for:l+"Input"},d&&Object(u.h)("i",{class:d+" text-muted"})," ",c),Object(u.h)("div",{class:"container-fluid"},Object(u.h)("div",{class:"row"},t.image&&t.image.s3SmallLink&&Object(u.h)("div",{class:"col-3 p-1"},Object(u.h)("img",{loading:"lazy",src:t.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(u.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":t.image.name},Object(u.h)("i",{class:"fas fa-trash"})," Del"),Object(u.h)("span",{class:"badge badge-success"},"Main")),t.images&&t.images.map(e=>Object(u.h)("div",{class:"col-3 p-1"},Object(u.h)("img",{loading:"lazy",src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(u.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(u.h)("i",{class:"fas fa-trash"})," Del"))))),Object(u.h)(C.a,{saved:e,object:t,field:l,updateField:b}),e[`${l}.${t.id}`]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(u.h)("small",{id:l+"Help",class:"form-text text-muted"},h));if("datalist"===s)return Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(e[`${l}.${t.id}`]?"is-valid":"")},Object(u.h)("label",{for:l+"Input"},d&&Object(u.h)("i",{class:d+" text-muted"})," ",c),Object(u.h)("input",{list:"list-"+l,class:"form-control "+(e[`${l}.${t.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:w,"data-id":t.id,"data-field":l,onInput:m}),Object(u.h)("datalist",{id:"list-"+l},a.map(e=>Object(u.h)("option",{value:e[0]},e[1]))),e[`${l}.${t.id}`]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:l+"Help",class:"form-text text-muted"},h));if("duration"===s){const e=Math.floor(t[l]/3600),s=Math.floor(t[l]%3600/60);return Object(u.h)("div",{class:"form-group mb-5 pb-1 border-bottom"},Object(u.h)("span",{class:"float-right"},Object(u.h)("strong",{onClick:this.setValue,"data-value":y},v)),Object(u.h)("label",{for:l+"Input"},d&&Object(u.h)("i",{class:d+" text-muted"})," ",c),Object(u.h)("div",{class:"form-row"},Object(u.h)("div",{class:"form-group col-3 offset-3"},Object(u.h)("input",{class:"form-control text-right",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-hours",value:e,type:"number",min:"0",max:"24"})),Object(u.h)("div",{class:"form-group col-3"},Object(u.h)("input",{class:"form-control",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-minutes",value:s,type:"number",min:"0",max:"59"}))),Object(u.h)("small",{id:l+"Help",class:"form-text text-muted"},h))}return"toggle"===s?Object(u.h)("div",{class:"form-group "+(e[`${l}.${t.id}`]?"is-valid":"")},Object(u.h)("label",{for:l+"Input"},d&&Object(u.h)("i",{class:d+" text-muted"})," ",c),Object(u.h)("div",{class:"custom-control custom-switch"},Object(u.h)("input",{type:"checkbox",class:"custom-control-input",id:l+"Input",value:1===w?0:1,"data-id":t.id,"data-field":l,onInput:m,checked:1==w?"checked":""}),Object(u.h)("label",{class:"custom-control-label",for:l+"Input"})),e[`${l}.${t.id}`]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:l+"Help",class:"form-text text-muted"},h)):Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(e[`${l}.${t.id}`]?"is-valid":"")},"date"===s&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(u.h)("i",{class:"far fa-check-circle"})),"time"===s&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"Nå ",Object(u.h)("i",{class:"far fa-check-circle"})),O&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},O),Object(u.h)("label",{for:l+"Input"},d&&Object(u.h)("i",{class:d+" text-muted"})," ",c),v&&Object(u.h)("span",{class:"float-right"},Object(u.h)("strong",{onClick:this.setValue,"data-value":y},v)),Object(u.h)("input",{type:s,class:"form-control "+(e[`${l}.${t.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",min:i,max:k,step:n,value:w,"data-id":t.id,"data-field":l,"data-type":s,"data-elementtype":r,onInput:m}),e[`${l}.${t.id}`]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:l+"Help",class:"form-text text-muted"},h))}});let K=Object(m.a)(h=class extends u.Component{constructor(e){var t;super(e),t=this,this.loadWorkout=async function(e=t.props){const{workoutStore:s}=t.props.stores;await s.load(e.workout,!1,{addData:["publicTeams","publicUsers"]});const{workout:a}=s;if(a.isInProgress>0){const e=Math.floor((new Date).getTime()/1e3);t.setState({reloadIsActive:!0,reloadLastEpoch:e},()=>t.tickReloadTimeer()),t.updateTimer.reload=setTimeout((async function(){const e=Math.floor((new Date).getTime()/1e3);t.setState({reloadLastEpoch:e}),t.loadWorkout()}),6e4)}},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=async function({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1}){const{workoutStore:l}=t.props.stores;let c=a,d=a;const{workout:h}=l;if("images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newWorkout",s,a):(l.updateField(e,s,d),r?await t.doUpdateField(e,s,c):(clearTimeout(t.updateTimer[s]),t.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500))),"gpx"===s&&h&&p.a.checkNested(h,"gpx","gpxInfo")){const{totalDistance:t,maxSpeed:s,avgSpeed:a,ascent:i,decent:o,duration:n,rest:r,startLatlng:c,endLatlng:d}=h.gpx.gpxInfo,u={};n&&(l.updateField(e,"duration",n),u.duration=n),r&&(l.updateField(e,"rest",r),u.rest=r),t&&(l.updateField(e,"distanceKm",p.a.roundTo(t,10)),u.distanceKm=p.a.roundTo(t,10)),s&&(l.updateField(e,"speedmax",p.a.roundTo(s,10)),u.speedmax=p.a.roundTo(s,10)),a&&(l.updateField(e,"speedAvg",p.a.roundTo(a,10)),u.speedAvg=p.a.roundTo(a,10)),i&&(l.updateField(e,"elevation",i),u.elevation=i),o&&(l.updateField(e,"decent",o),u.decent=o),c&&(l.updateField(e,"startLatlng",c),u.startLatlng=c),d&&(l.updateField(e,"endLatlng",d),u.endLatlng=d),await l.save(u,h.id)}},this.showModal=e=>{e.stopPropagation(),e.preventDefault();this.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.deleteWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e;await e.saveField(s.id,"offline",1),y.a.publish(y.b.STATUS_MESSAGE,{message:"Workout was deleted",type:"success",icon:"fas fa-check"}),Object(b.route)("/workouts/list",!0)},this.duplicateWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e,a=await e.duplicateWorkout({id:s.id});a&&a.id&&(y.a.publish(y.b.STATUS_MESSAGE,{message:"Workout was duplicated successfully",type:"success",icon:"fas fa-check"}),Object(b.route)("/workouts/"+a.id,!0))},this.makeTrack=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e,a=await e.makeTrackFromWorkout({id:s.id});a&&a.id&&(y.a.publish(y.b.STATUS_MESSAGE,{message:"Track was created successfully",type:"success",icon:"fas fa-check"}),Object(b.route)("/tracks/edit/"+a.id,!0))},this.likeWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e;await e.likeWorkout({id:s.id})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.toggleAdminInfo=()=>{const{userStore:e}=this.props.stores,{isAdmin:t}=e;if(t){const{showAdminInfo:e}=this.state;this.setState({showAdminInfo:!e})}},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.showStateDetail=e=>{const t=e.target.closest("div").dataset;this.setState({stateDetail:i({},t)})},this.reimportStravaWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e;await e.reimportStravaWorkout(s.stravaId,s.id),t.loadWorkout()},this.reimportGarminWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e;await e.reimportGarminWorkout(s.garminId,s.id),t.loadWorkout()},this.reCalculateGpxData=async function(){const{recalculated:e}=t.state;if(e)return!0;const{workoutStore:s}=t.props.stores,{workout:a}=s;t.setState({recalculated:!0}),await s.reLoad(a.id)},this.toggleMapSize=()=>{const{mapHeight:e}=this.state;this.setState(e===q.mapHeight?{mapHeight:q.mapMaxHeight}:{mapHeight:q.mapHeight})},this.finishWorkout=async function(){const{workoutStore:e}=t.props.stores;await e.cordovaSaveTracking();const{workout:s}=e;await e.save({isInProgress:0},s.id),t.loadWorkout()},this.sendGpxFile=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=e;await e.sendGpxFile(s.id),t.setState({gpxFileSent:!0})},this.shareLink=e=>{const{url:t,title:s,text:a}=e.target.closest("button").dataset,{appState:i}=this.props.stores;i.shareUrl({url:t,title:s,text:a})},this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.onDogClick=(e,t,s)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=i({},q),this.updateTimer={},this.inputRef={}}tickReloadTimeer(){const{reloadIsActive:e,reloadLastEpoch:t}=this.state;if(e){const e=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(e-t)}),setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}async doUpdateField(e,t,s){const{workoutStore:a}=this.props.stores;e&&t&&await a.saveField(e,t,s)}componentDidMount(){this.loadWorkout()}componentWillReceiveProps(e){e.workout!==this.props.workout&&this.loadWorkout(e)}render(){const{workoutStore:t,userStore:s,appState:a}=this.props.stores,{mapColorMode:o,mapRangeMin:d,mapRangeMax:h,isCordova:m,hasShareApi:b,viewmode:O}=a,{user:y,isAdmin:C}=s,{submenu:q,showAddComment:K,showAdminInfo:Z,mapHeight:Y,reloadInSec:X,reloadLastEpoch:J,stateDetail:Q,gpxFileSent:ee,showTeam:te,showDog:se,recalculated:ae}=this.state,ie=Math.floor(p.a.normalizeBetween(X,0,60,0,100)),{workout:oe}=t,{likes:ne=[],comments:re=[]}=oe,{language:le="en"}=y,ce=s.findTeam(oe.team,!0)||{},de=s.findTeamAmbition({ambition:ce.ambitions,language:le}),he=s.findTeamType({type:ce.type,language:le}),ue=s.findWorkoutType({type:oe.type,language:le}),pe=s.findWorkoutType({type:oe.type,field:"icon"}),me=s.findTrack(oe.track),be=s.findEquipment({equipment:oe.equipment,language:le}),fe=s.findEquipment({equipment:oe.equipment,field:"icon"}),ge=s.findDogs(oe.dogs),Oe=s.findMushers(oe.mushers),ve=s.findIntensity({code:oe.intensity,language:le})||{},ye=t.getWorkoutNavigation(oe.id)||{},je=oe.likes&&oe.likes.findIndex(e=>e.user===y.id)>-1,{gpxInfo:we={},gpx:ke={gpxInfo:{}}}=oe,{weightedTotalKcal:xe=0,loadIndex:Se=0}=we,_e=we.totalKcalRelated/100,Te=oe.teams?oe.teams.map(e=>s.findTeam(e)):[];let De;oe&&oe.gpxInfo&&oe.gpxInfo.battegryLevelStart&&(De=100*(oe.gpxInfo.battegryLevelStart-oe.gpxInfo.battegryLevelEnd));const Ie=[];if(oe.mapImage&&Ie.push(i(i({},oe.mapImage),{},{type:"map"})),oe.images){const e=Object(g.i)(oe.images);Ie.push(...e)}let Pe=!1;const Le=j.a.getViews(oe.statistics);return Object(u.h)(e,null,te&&Object(u.h)(A.a,null,Object(u.h)(E.a,{stores:this.props.stores,teamid:te,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),se&&Object(u.h)(A.a,null,Object(u.h)(F.a,{stores:this.props.stores,dogid:se,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:ge})),Object(u.h)("div",{class:"container-fluid",style:`margin-bottom: ${V}; margin-top: ${B};`},Object(u.h)("div",{class:"d-flex justify-content-between mb-2"},Object(u.h)("div",null,Object(u.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${H}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(u.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(u.h)("div",null,Object(u.h)("h5",{class:"text-muted"}," ")),Object(u.h)("div",null,1===oe.isLocked?Object(u.h)(e,null,Object(u.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"}),C&&Object(u.h)(e,null,Object(u.h)("a",{class:"btn btn-primary float-right",href:"/workouts/edit/"+oe.id},Object(u.h)("i",{class:"fas fa-edit"})," ",Object(u.h)(f.c,{id:"workouts.admin-edit"},"Admin edit")))):Object(u.h)(e,null,Object(u.h)("a",{class:"btn btn btn-primary float-right mt-1",href:"/workouts/edit/"+oe.id},Object(u.h)("i",{class:"fas fa-edit"})," ",Object(u.h)(f.c,{id:"workouts.edit"},"Endre"))))),Object(u.h)("div",{class:"d-flex justify-content-between mb-2"},Object(u.h)("div",{class:"text-muted"},ye&&ye.previous&&Object(u.h)("a",{href:"/workouts/"+ye.previous.id,class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(u.h)("div",{class:"text-muted"},ye.total>0&&Object(u.h)(e,null,ye.idx+1," / ",ye.total)),Object(u.h)("div",{class:"text-muted"},ye&&ye.next&&Object(u.h)("a",{href:"/workouts/"+ye.next.id,class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-circle-right"})))),Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"d-flex mb-2"},Object(u.h)("div",{class:"text-center border rounded-circle imageRounded "+n(oe),style:oe.image?`background-image: url('${oe.image.s3SmallLink}');`:""},!oe.image&&Object(u.h)("i",{class:r(oe)+" text-muted mt-3",style:"font-size: 40px;"})),Object(u.h)("div",{class:"flex-grow-1 pl-3"},Object(u.h)("h5",{class:"my-0"},oe.name,oe.isInProgress>0&&Object(u.h)(e,null,Object(u.h)("span",{class:"position-relative ml-3"},1===oe.isInProgress&&Object(u.h)("div",{class:"spinner-grow text-success position-absolute",style:"top: -5px; left: -6px;",role:"status"}),2===oe.isInProgress&&Object(u.h)("i",{class:"fas fa-pause-circle text-warning position-absolute",style:"top: 0px; left: 0px;"}),X>0&&Object(u.h)("div",{class:"position-absolute",style:"top: -5px; left: -5px;"},Object(u.h)(P.a,{key:"gauge-reload-page",color:"primary",radius:15,showPercentText:!1,percent:ie}))),Object(u.h)("i",{class:"fas fa-pause-circle float-right text-warning",style:"font-size: 1.5em; cursor: pointer; pointer-events: inherit;",onClick:this.finishWorkout})),m&&C&&Object(u.h)(e,null,Object(u.h)("a",{href:"/workouts/tracking/"+oe.id,class:"ml-4"},Object(u.h)("i",{class:"far fa-dot-circle"}),Object(u.h)(f.c,{id:"footer.workouts-continue"},"Continue")))),oe.garminId&&Object(u.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),oe.stravaId&&Object(u.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),oe.team&&s.findTeam(oe.team),Te&&Te.length>0&&Object(u.h)("small",{class:"font-weight-lighter"},", ",Te.map((t,s)=>Object(u.h)(e,null,s>0?", ":"",t))),Object(u.h)("br",null),Object(u.h)("small",{class:"text-muted"},p.a.isoDate(oe.date,!1,!1,!1)),ve.class&&Object(u.h)("span",{class:`badge badge-${ve.class} ml-2`},ve.name),oe.sledWeight>0&&Object(u.h)("small",{class:"ml-3 text-muted"},Object(u.h)("i",{class:"fas fa-sleigh"})," ",Object(u.h)(f.c,{id:"workouts.sledWeight"},"Sledevekt"),": ",Object(u.h)(N.a,{stores:this.props.stores,value:oe.sledWeight})),De>0&&Object(u.h)("small",{class:"text-muted ml-3"},Object(u.h)("i",{class:"fas fa-battery-three-quarters"})," ",p.a.format(De,1),"% used")))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},oe.comment&&Object(u.h)("div",{class:"mb-3"},Object(u.h)(v.a,{markdown:j.a.replaceImages(oe.comment,oe.images,le),markdownOpts:j.a.getMarkdownOptions()}))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"w-100 overflow-hidden"},Object(u.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},oe.isInProgress>0&&Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"current"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"current",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(f.c,{id:"workouts.current"},"Akkurat nå"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block ${oe.isInProgress>0?"":"rounded-pill-left"} rounded-none ${"totals"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(f.c,{id:"workouts.totals"},"Totaler"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-none ${"map"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(f.c,{id:"workouts.map"},"Map"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-none ${"analysis"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"analysis",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-chart-area"})," ",Object(u.h)(f.c,{id:"workouts.analysis"},"Analyser"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-none ${"images"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-images"})," ",Object(u.h)(f.c,{id:"workouts.images"},"Bilder"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-none ${"dogs"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-dog"})," ",Object(u.h)(f.c,{id:"workouts.dogs"},"Hunder"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-none ${"handlers"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"handlers",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)(f.c,{id:"workouts.handlers"},"Handlere"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-none ${"gpx"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gpx",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)(f.c,{id:"workouts.gpx"},"GPX"))),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===q?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-cogs"})," ",Object(u.h)(f.c,{id:"workouts.advanced"},"advanced"))))))),"map"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},oe&&oe.gpx&&Object(u.h)(e,null,Object(u.h)("button",{class:"btn btn-sm btn-link float-right",onClick:this.toggleMapSize},"Toggle map size"),Object(u.h)("div",{class:"clearfix"},Object(u.h)("div",{class:"",style:`height: ${Y+40}px;`},Object(u.h)(w.a,{stores:this.props.stores,mapId:`${oe.id}-${Y}`,geojson:oe.gpx.geoJSON,skipGeojson:!1,gpxInfo:oe.gpxInfo,height:Y,mapColorMode:o,mapRangeMin:d,mapRangeMax:h,key:"workout-map-"+J})))),me&&me.gpx&&!(oe&&oe.gpx)&&Object(u.h)(e,null,Object(u.h)("div",{class:"clearfix",style:`height: ${Y}px;`},Object(u.h)(w.a,{stores:this.props.stores,mapId:`${me.id}-${Y}`,geojson:me.gpx.geoJSON,skipGeojson:!1,gpxInfo:me.gpx.gpxInfo,height:Y,mapColorMode:o,mapRangeMin:d,mapRangeMax:h,key:"workout-map-"+J}))),Object(u.h)("div",{class:"text-center"},Object(u.h)("small",{class:"text-muted"},oe.weather,!oe.weather&&Object(u.h)(e,null,p.a.format(oe.temperature,1),"°C"))))),"current"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(f.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h3",null,p.a.secToHms(oe.duration))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(f.c,{id:"workouts.rest"},"Hvile")),Object(u.h)("h3",{class:"text-muted"},p.a.secToHms(oe.rest)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(f.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h3",null,Object(u.h)(z.a,{stores:this.props.stores,value:oe.speedAvg}))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(f.c,{id:"workouts.currentspeed"},"Fart")),Object(u.h)("h3",null,Object(u.h)(z.a,{stores:this.props.stores,value:oe.currentSpeed})))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(f.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h3",null,Object(u.h)($.a,{stores:this.props.stores,value:oe.distanceKm})),we.calculatedTotalDistance>0&&Math.abs(oe.distanceKm-we.calculatedTotalDistance)>1&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(we.calculatedTotalDistance,1)," km ",Object(u.h)("br",null)),C&&we.calculatedTotalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",p.a.format(we.calculatedTotalDistance,2)," km ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.totalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",p.a.format(ke.gpxInfo.totalDistance,2)," km ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(u.h)(f.c,{id:"workouts.ascend"},"Stigning")),Object(u.h)("h3",null,Object(u.h)(U.a,{stores:this.props.stores,value:oe.elevation})),we.calculatedAscend>0&&Math.abs(oe.elevation-we.calculatedAscend)>50&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(we.calculatedAscend,0)," m ",Object(u.h)("br",null)),C&&we.calculatedAscend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",p.a.format(we.calculatedAscend,0)," m ",Object(u.h)("br",null)),C&&we.calculatedDescend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",p.a.format(we.calculatedDescend,0)," m ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.ascent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",p.a.format(ke.gpxInfo.ascent,0)," m ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.descent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",p.a.format(ke.gpxInfo.descent,0)," m ",Object(u.h)("br",null))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"totals"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(f.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h3",null,p.a.secToHms(oe.duration)),C&&we.minEpoch>0&&we.maxEpoch>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",p.a.secToHms(we.maxEpoch-we.minEpoch)," ",Object(u.h)("br",null)),C&&we.duration>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",p.a.secToHms(we.duration)," ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.endTime>0&&ke.gpxInfo.startTime>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",p.a.secToHms((ke.gpxInfo.endTime-ke.gpxInfo.startTime)/1e3)," ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.duration>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",p.a.secToHms(ke.gpxInfo.duration)," ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(f.c,{id:"workouts.rest"},"Hvile")),Object(u.h)("h3",{class:"text-muted"},p.a.secToHms(oe.rest)),C&&we.minEpoch>0&&we.maxEpoch>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",p.a.secToHms(we.rest)," ",Object(u.h)("br",null)),C&&we.rest>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",p.a.secToHms(we.rest)," ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.rest>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",p.a.secToHms(ke.gpxInfo.rest)," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(f.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h3",null,we&&we.avgGpsMovingSpeed>0?Object(u.h)(e,null,Object(u.h)(z.a,{stores:this.props.stores,value:3.6*we.avgGpsMovingSpeed})):Object(u.h)(e,null,Object(u.h)(z.a,{stores:this.props.stores,value:oe.speedAvg}))),C&&we.avgMovingSpeeds>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",p.a.format(3.6*we.avgMovingSpeeds,2)," km/t ",Object(u.h)("br",null)),C&&we.avgGpsSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",p.a.format(3.6*we.avgGpsSpeed,2)," km/t ",Object(u.h)("br",null)),C&&we.avgGpsMovingSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",p.a.format(3.6*we.avgGpsMovingSpeed,2)," km/t ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.avgSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",p.a.format(3.6*ke.gpxInfo.avgSpeed,2)," km/t ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:""+pe})," ",Object(u.h)(f.c,{id:"workouts.type"},"Type")),Object(u.h)("h3",null,ue))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:""+fe})," ",Object(u.h)(f.c,{id:"workouts.equipment"},"Utstyr")),Object(u.h)("h3",null,be)),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dog ml-2"})," ",Object(u.h)(f.c,{id:"workouts.dogs"},"Hunder")),Object(u.h)("h3",null,oe.dogs&&Object(u.h)("span",null,oe.dogs.length)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(f.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h3",null,Object(u.h)($.a,{stores:this.props.stores,value:oe.distanceKm})),we.calculatedTotalDistance>0&&Math.abs(oe.distanceKm-we.calculatedTotalDistance)>1&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(we.calculatedTotalDistance,1)," km ",Object(u.h)("br",null)),C&&we.calculatedTotalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",p.a.format(we.calculatedTotalDistance,2)," km ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.totalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",p.a.format(ke.gpxInfo.totalDistance,2)," km ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(u.h)(f.c,{id:"workouts.ascend"},"Stigning")),Object(u.h)("h3",null,Object(u.h)(U.a,{stores:this.props.stores,value:oe.elevation})),we.calculatedAscend>0&&Math.abs(oe.elevation-we.calculatedAscend)>50&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(we.calculatedAscend,0)," m ",Object(u.h)("br",null)),C&&we.calculatedAscend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",p.a.format(we.calculatedAscend,0)," m ",Object(u.h)("br",null)),C&&we.calculatedDescend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",p.a.format(we.calculatedDescend,0)," m ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.ascent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",p.a.format(ke.gpxInfo.ascent,0)," m ",Object(u.h)("br",null)),C&&ke.gpxInfo&&ke.gpxInfo.descent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",p.a.format(ke.gpxInfo.descent,0)," m ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},1===oe.isLocked?Object(u.h)(e,null,Object(u.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"})):Object(u.h)(e,null,oe.stravaId&&!we.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Pe=!0,Object(u.h)("i",{class:"fas fa-sync"})," Reimport Strava data"),oe.garminId&&!we.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Pe=!0,Object(u.h)("i",{class:"fas fa-sync"})," Reimport Garmin data"),!Pe&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(u.h)("i",{class:"fas fa-sync"})," Recalculate GPX data")))),Object(u.h)("div",{class:"row mt-2"},we&&we.states&&Object(u.h)("div",{class:"col-12 mb-4"},Object(u.h)("div",{class:"progress",style:"height: 20px;"},we.states.map((t,s)=>{const a=Math.ceil(p.a.normalizeBetween(t.duration,0,oe.duration,0,100));let i=a;return Q&&Q.idx==s&&(i=a<10?10:a),Object(u.h)(e,null,Object(u.h)("div",{class:"progress-bar bg-"+l(t.state),role:"progressbar",style:`width: ${i}%`,"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100","data-idx":s,"data-state":t.state,"data-duration":t.duration,"data-distance":t.distance,"data-avgspeed":t.avgSpeed,"data-percent":p.a.normalizeBetween(t.duration,0,oe.duration,0,100),onClick:this.showStateDetail},Object(u.h)("nobr",null,a>10?p.a.format(t.distance/1e3,1)+"km":"",Q&&Q.idx==s?Object(u.h)("i",{class:`fas fa-hand-point-down text-${"rest"===t.state?"dark":"warning"} mx-2`}):"")))})),Q&&Object(u.h)(e,null,Object(u.h)("div",{class:"card position-relative"},Object(u.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:c(Q.state)})," ",p.a.format(Q.percent,1),"%")),Object(u.h)("div",{class:"card-body"},Object(u.h)("div",{class:"card-text row"},Object(u.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(f.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h6",null,Object(u.h)($.a,{stores:this.props.stores,value:Q.distance/1e3}))),Object(u.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(f.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h6",null,p.a.secToHms(Q.duration))),Object(u.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(f.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h6",null,Object(u.h)(z.a,{stores:this.props.stores,value:3.6*Q.avgspeed})))))))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"analysis"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},p.a.checkNested(oe,"gpxInfo","elevations")||p.a.checkNested(oe,"gpx","gpxInfo","elevations")?Object(u.h)(e,null,Object(u.h)(T.a,{stores:this.props.stores,key:"workout-elevation-"+oe.id})):Object(u.h)(e,null,Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-chart-area"})),Object(u.h)("h3",{class:"font-weight-lighter"},Object(u.h)(f.c,{id:"workout.no-elevation-data"},"No elevation data. If you use a GPS to track your workouts you will get a nice graph here and more correct analysis of the energy usage."))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Se>0&&Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("h5",{onClick:this.toggleAdminInfo},Object(u.h)(f.c,{id:"workouts.load-index"},"Belastningsindex")),Object(u.h)(P.a,{key:"gauge-"+Se,radius:100,showPercentText:!0,color:j.a.getLoadIndexColor(p.a.normalizeBetween(Se,0,G,0,100)),percent:Math.floor(p.a.normalizeBetween(Se,0,G,0,100)),completed:j.a.getLoadIndexText(p.a.normalizeBetween(Se,0,G,0,100)),prefix:""}),Object(u.h)("div",null,he&&Object(u.h)("a",{href:"/settings/team/"+oe.team},Object(u.h)("span",{class:"badge badge-pill badge-secondary"},he)),de&&Object(u.h)("a",{href:"/settings/team/"+oe.team},Object(u.h)("span",{class:"badge badge-pill badge-secondary ml-2"},de)),Object(u.h)("br",null)),oe.stravaId&&!we.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(f.c,{id:"workouts.reimport-strava"},"Reimport Strava data")),oe.garminId&&!we.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(f.c,{id:"workouts.reimport-garmin"},"Reimport Garmin data")),C&&Z&&Object(u.h)("div",null,Object(u.h)("small",null,Object(u.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",we.loadIndex),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",G),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",p.a.format(we.totalKcalRelated,1)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"typeFactor: ",we.typeFactor),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"ambitionFactor: ",we.ambitionFactor),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeed: ",we.normalSpeed),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"speedFactor: ",p.a.format(we.speedFactor,2)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",we.normalDuration),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",p.a.format(we.durationFactor,2)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"intensityFactor: ",p.a.format(we.intensityFactor,2)),Object(u.h)("div",null,Object(u.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)(f.c,{id:"workouts.energy-consumption-help"},"Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-total"},"Energiforbruk totalt")),Object(u.h)("h3",null,p.a.format(oe.kcalBurnedTotal,0)," ",Object(u.h)(f.c,{id:"workout.kcal"},"kcal")),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalBurnedTotal*_e,0)," ",Object(u.h)(f.c,{id:"workout.kcal"},"kcal")," ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption"},"Energiforbruk pr hund")),Object(u.h)("h3",null,p.a.format(oe.kcalBurned,0)," kcal"),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(xe,0)," ",Object(u.h)(f.c,{id:"workout.kcal"},"kcal")," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-fat-total"},"Fett totalt")),Object(u.h)("h3",null,p.a.format(oe.kcalFatGramsTotal/1e3,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalFatGramsTotal/1e3*_e,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-fat"},"Fett pr hund")),Object(u.h)("h3",null,p.a.format(oe.kcalFatGrams/1e3,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalFatGrams/1e3*_e,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-meat-total"},"Kjøtt totalt")),Object(u.h)("h3",null,p.a.format(oe.kcalMeatGramsTotal/1e3,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalMeatGramsTotal/1e3*_e,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-meat"},"Kjøtt pr hund")),Object(u.h)("h3",null,p.a.format(oe.kcalMeatGrams/1e3,1)," kg"),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalMeatGrams/1e3*_e,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-fish ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-salmon-total"},"Kjøtt totalt")),Object(u.h)("h3",null,p.a.format(oe.kcalSalmonGramsTotal/1e3,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalSalmonGramsTotal/1e3*_e,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-fish ml-2"})," ",Object(u.h)(f.c,{id:"workouts.energy-consumption-salmon"},"Kjøtt pr hund")),Object(u.h)("h3",null,p.a.format(oe.kcalSalmonGrams/1e3,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg")),_e>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",p.a.format(oe.kcalSalmonGrams/1e3*_e,1)," ",Object(u.h)(f.c,{id:"workout.kg"},"kg"))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"images"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row"},Object(u.h)(k.a,{stores:this.props.stores,images:Ie}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"dogs"===q&&Object(u.h)(e,null,oe.dogsLeft&&Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(f.c,{id:"workouts.dogs-positions"},"Posisjoner i spannet"))),Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col-6 p-0"},oe.dogsLeft&&oe.dogsLeft.map(e=>{const t=s.findDog(e);return Object(u.h)(_.a,{stores:this.props.stores,dog:t,className:"ml-auto"})})),Object(u.h)("div",{class:"col-6 p-0"},oe.dogsRight&&oe.dogsRight.map(e=>{const t=s.findDog(e);return Object(u.h)(_.a,{stores:this.props.stores,dog:t,className:"mr-auto"})}))))),"dogs"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(f.c,{id:"workouts.all-dogs",fields:{total:ge.length}},"Hundene - ",ge.length," stk"))),ge&&ge.map(e=>Object(u.h)(x.a,{stores:this.props.stores,dog:e}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"handlers"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(f.c,{id:"workouts.all-mushers",fields:{total:Oe.length}},"Handlere - ",Oe.length," stk"))),Oe&&Oe.map(e=>Object(u.h)(S.a,{stores:this.props.stores,musher:e}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"gpx"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(u.h)("h5",null,Object(u.h)(f.c,{id:"workouts.gpx-title"},"GPX")),Object(u.h)(f.c,{id:"workouts.gpx-description"},"Send GPX-file to your email address.")),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},ee?Object(u.h)(e,null,Object(u.h)("i",{class:"fas fa-check text-success"})," ",Object(u.h)(f.c,{id:"workouts.gpx-file-sent"},"GPX file sent via email.")):Object(u.h)(e,null,Object(u.h)("button",{class:"btn btn-success",onClick:this.sendGpxFile},Object(u.h)(f.c,{id:"workouts.gpx-send"},"Send GPX-file"))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"advanced"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(u.h)("h5",null,Object(u.h)(f.c,{id:"workouts.advanced"},"Advanced"))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-cloud-sun-rain ml-2"})," ",Object(u.h)(f.c,{id:"workouts.weather"},"The weather during this workout")),Object(u.h)("h3",{class:"font-weight-lighter"},oe.weather))),Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(u.h)(f.c,{id:"workouts.temperature"},"Temperature")),Object(u.h)("h3",null,Object(u.h)(W.a,{stores:this.props.stores,value:oe.temperature}))),oe.sunPosition&&Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-sun ml-2"})," ",Object(u.h)(f.c,{id:"workouts.periode-of-day"},"Periode of day")),Object(u.h)("h3",null,oe.sunPosition.start," - ",oe.sunPosition.end))),Object(u.h)("div",{class:"row mt-4"},oe.moonPosition&&oe.moonPosition.start&&oe.moonPosition.start.altitudeDeg>0&&Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},oe.moonIllumination&&oe.moonIllumination.phaseIcon&&Object(u.h)(e,null,oe.moonIllumination.phaseIcon)," ",Object(u.h)(f.c,{id:"workouts.moon-position"},"Moon position")),Object(u.h)("h3",null,p.a.format(oe.moonPosition.start.altitudeDeg,0),"° ",oe.moonPosition.end&&oe.moonPosition.end.altitudeDeg>0&&Object(u.h)(e,null," - ",p.a.format(oe.moonPosition.end.altitudeDeg,0),"°")),oe.moonIllumination&&oe.moonIllumination.fraction&&Object(u.h)(e,null,Object(u.h)("div",{class:"progress"},Object(u.h)("div",{class:"progress-bar bg-warning",role:"progressbar",style:`width: ${100*oe.moonIllumination.fraction}%`,"aria-valuenow":100*oe.moonIllumination.fraction,"aria-valuemin":"0","aria-valuemax":"100"},p.a.format(100*oe.moonIllumination.fraction,0),"%"))))),["beta","advanced","normal"].indexOf(O)>-1&&Object(u.h)(e,null,Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dice ml-2"})," ",Object(u.h)(f.c,{id:"workouts.rating"},"Workout rating")),Object(u.h)("h3",null,p.a.format(oe.rating,0))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dumbbell ml-2"})," ",Object(u.h)(f.c,{id:"workouts.intensity"},"Workout intensity")),Object(u.h)("h3",null,ve.class&&Object(u.h)("span",{class:`badge badge-${ve.class} ml-2`},ve.name))))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(L.a,{stores:this.props.stores,url:this.props.url,section:q}))),"advanced"!==q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(u.h)(M.a,{stores:this.props.stores,likes:ne,comments:re,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:`btn btn-outline-${je?"primary":"secondary"} btn-sm btn-block ${je?"text-primary":""}`,onClick:this.likeWorkout},Object(u.h)("i",{class:(je?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(u.h)(f.c,{id:"workouts.like"},"Like"))),Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"btn btn-outline-secondary btn-sm btn-block","data-id":oe.id,onClick:this.toggleAddComment},Object(u.h)("i",{class:"fas fa-comment"})," ",Object(u.h)(f.c,{id:"workouts.comment"},"Comment"))),oe.private?Object(u.h)(e,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)(f.c,{id:"workouts.is-private"},"Workout is private"))):Object(u.h)(e,null,b?Object(u.h)(e,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+oe.uuidv4,"data-title":"title: "+oe.title},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(f.c,{id:"story.share"},"Del")))):Object(u.h)(e,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("a",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",href:"https://themusher.app/share/workout/"+oe.uuidv4,target:"_blank",rel:"noreferrer"},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(f.c,{id:"story.share"},"Del"))))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},K&&Object(u.h)(I.a,{stores:this.props.stores,workout:oe,inputRef:e=>this.inputRef[oe.id]=e,inputRefObject:this.inputRef}),Object(u.h)(D.a,{stores:this.props.stores,workout:oe}),Le>0&&Object(u.h)(e,null,Object(u.h)("div",{class:"mt-2"},Object(u.h)(R.a,{stores:this.props.stores,views:Le,object:oe,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))))),1===oe.isLocked?Object(u.h)(e,null):Object(u.h)(e,null,"advanced"===q&&Object(u.h)(e,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(f.c,{id:"workouts.recalculate-title"},"Recalculate data")),Object(u.h)(f.c,{id:"workouts.recalculate-help"},"Click the button below if you want to recalculate this workout.",Object(u.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either."),Object(u.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(ae?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(f.c,{id:"workouts.recalculate"},"Recalculate data")),Object(u.h)("br",null)),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(f.c,{id:"workouts.duplicate-title"},"Duplicate workout")),Object(u.h)(f.c,{id:"workouts.duplicate-help"},"Click the button below if you want to duplicate this workout. After you have duplicated this workout you can edit it as a regular workout."),Object(u.h)("button",{class:"btn btn-block btn-secondary mt-2 float-left",onClick:this.duplicateWorkout},Object(u.h)("i",{class:"fas fa-copy"})," ",Object(u.h)(f.c,{id:"workouts.duplicate"},"Duplicate workout")),Object(u.h)("br",null)),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(f.c,{id:"workouts.make-track-title"},"Make track")),Object(u.h)(f.c,{id:"workouts.make-track-help"},"Use this workout to make a track. This track can shared and downloaded as a regular track."),Object(u.h)("button",{class:"btn btn-block btn-info mt-2 float-left",onClick:this.makeTrack},Object(u.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(u.h)(f.c,{id:"workouts.make-track"},"Make track"))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(f.c,{id:"workouts.delete-title"},"Delete workout")),Object(u.h)(f.c,{id:"workouts.delete-help"},"Click the button below to delete this workout. All data related to this workout will be lost. All team and dog statistics will also be affected."),Object(u.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteWorkout},Object(u.h)("i",{class:"fas fa-trash"})," ",Object(u.h)(f.c,{id:"workouts.delete"},"Delete")," ",oe.name)))))))}})||h;t.a=K}).call(this,s("hosL").Fragment)},DVAb:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function r(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function l(e,t){return Math.abs(t-e)/864e5}function c(e){return.621371*e}function d(e){return.621371*e}function h(e){return 3.28084*e}var u,p,m,b,f,g,O,v,y,j,w,k,x,S,_,T,D,I,P,L,C,A,E,F,M,R,z,U,N,$,W,B,H,V,G,q,K,Z,Y,X,J,Q,ee,te,se,ae,ie,oe,ne,re,le,ce,de,he,ue,pe,me,be,fe,ge,Oe,ve,ye,je,we,ke,xe,Se,_e,Te,De,Ie,Pe,Le,Ce,Ae,Ee,Fe,Me=s("cneo"),Re=s("0frO"),ze=s("Utv1"),Ue=s("Y3FI"),Ne=s("X9Km"),$e=s("ZOvn");Object(Me.f)({enforceActions:"always"});const We=new(p=r((u=class extends Re.a{constructor(){super("user",{namePlural:"users",sort:"title",limit:100,api:{search:{url:"/api/users/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/users/",params:{}},save:{url:"/api/users/",params:{}}}}),n(this,"getInfoEpoch",p,this),n(this,"isLoading",m,this),n(this,"user",b,this),n(this,"currentEmail",f,this),n(this,"simulatedEmail",g,this),n(this,"isAdmin",O,this),n(this,"users",v,this),n(this,"team",y,this),n(this,"teams",j,this),n(this,"dogs",w,this),n(this,"mushers",k,this),n(this,"workouts",x,this),n(this,"tracks",S,this),n(this,"types",_,this),n(this,"intensities",T,this),n(this,"dogPositions",D,this),n(this,"dogstatuses",I,this),n(this,"equipments",P,this),n(this,"harnesses",L,this),n(this,"teamAmbitions",C,this),n(this,"teamTypes",A,this),n(this,"countries",E,this),n(this,"searchUsersResult",F,this),n(this,"searchUserTeams",M,this),n(this,"vaccineStatuses",R,this),n(this,"vaccineLogStatuses",z,this),n(this,"allUsers",U,this),n(this,"workoutSummaryTeam",N,this),n(this,"workoutSummary",$,this),n(this,"workoutSummaryWeek",W,this),n(this,"workoutSummaryWeekDay",B,this),n(this,"workoutsDay",H,this),n(this,"workoutSummaryMonth",V,this),n(this,"workoutSummaryAvg",G,this),n(this,"avgWorkoutStats",q,this),n(this,"graphWorkoutSummaryWeekDistanceCurrent",K,this),n(this,"graphWorkoutSummaryWeekDistanceCurrentTotal",Z,this),n(this,"graphWorkoutSummaryWeekDistancePrev",Y,this),n(this,"graphWorkoutSummaryMonthDistanceCurrent",X,this),n(this,"graphWorkoutSummaryMonthDistancePrev",J,this),n(this,"graphWorkoutSummaryWeekElevationCurrent",Q,this),n(this,"graphWorkoutSummaryWeekElevationPrev",ee,this),n(this,"graphWorkoutSummaryMonthElevationCurrent",te,this),n(this,"graphWorkoutSummaryMonthElevationPrev",se,this),n(this,"graphWorkoutAvgWeekDistanceCurrent",ae,this),n(this,"graphWorkoutAvgWeekElevationCurrent",ie,this),n(this,"graphWorkoutAvgWeekSpeedCurrent",oe,this),n(this,"graphWorkoutAvgWeekDurationCurrent",ne,this),n(this,"graphWorkoutAvgWeekRealDurationCurrent",re,this),n(this,"graphWorkoutAvgWeekLoadIndexCurrent",le,this),n(this,"graphAvgWorkoutStatsDistance",ce,this),n(this,"graphAvgWorkoutStatsElevation",de,this),n(this,"graphAvgWorkoutStatsSpeed",he,this),n(this,"graphAvgWorkoutStatsDuration",ue,this),n(this,"graphAvgWorkoutStatsRealDuration",pe,this),n(this,"graphAvgWorkoutStatsLoadIndex",me,this),n(this,"graphAvgWorkoutStatsCount",be,this),n(this,"historyFeed",fe,this),n(this,"notifications",ge,this),n(this,"emailIsAvailable",Oe,this),n(this,"twoFactorLogin",ve,this),n(this,"emailMessage",ye,this),n(this,"emailMessageIcon",je,this),n(this,"emailError",we,this),n(this,"emailErrorIcon",ke,this),n(this,"subscriptionPaypal",xe,this),n(this,"yrWeather",Se,this),n(this,"yrWeatherFormatted",_e,this),n(this,"yrWeatherKeys",Te,this),this.bgGeo=null,n(this,"cordovaAuthorizationStatus",De,this),n(this,"powerSaveStatus",Ie,this),n(this,"providerState",Pe,this),n(this,"register",Le,this),n(this,"login",Ce,this),n(this,"loginLink",Ae,this),n(this,"currentLocation",Ee,this),n(this,"loadMore",Fe,this)}cleanupMemory(){this.localUpdateField("searchUsersResult",[]),this.localUpdateField("searchUserTeams",[]),this.localUpdateField("vaccineStatuses",[]),this.localUpdateField("vaccineLogStatuses",[]),this.localUpdateField("workoutSummaryWeekDay",[]),this.localUpdateField("workoutsDay",[]),this.localUpdateField("workoutSummaryMonth",[]),this.localUpdateField("workoutSummaryAvg",[]),this.localUpdateField("avgWorkoutStats",[]),this.localUpdateField("graphWorkoutSummaryWeekDistanceCurrent",[]),this.localUpdateField("graphWorkoutSummaryWeekDistanceCurrentTotal",[]),this.localUpdateField("graphWorkoutSummaryWeekDistancePrev",[]),this.localUpdateField("graphWorkoutSummaryMonthDistanceCurrent",[]),this.localUpdateField("graphWorkoutSummaryMonthDistancePrev",[]),this.localUpdateField("graphWorkoutSummaryWeekElevationCurrent",[]),this.localUpdateField("graphWorkoutSummaryWeekElevationPrev",[]),this.localUpdateField("graphWorkoutAvgWeekDistanceCurrent",[]),this.localUpdateField("graphWorkoutAvgWeekElevationCurrent",[]),this.localUpdateField("graphWorkoutAvgWeekSpeedCurrent",[]),this.localUpdateField("graphWorkoutAvgWeekDurationCurrent",[]),this.localUpdateField("graphWorkoutAvgWeekRealDurationCurrent",[]),this.localUpdateField("graphWorkoutAvgWeekRealDurationCurrent",[]),this.localUpdateField("graphWorkoutAvgWeekLoadIndexCurrent",[]),this.localUpdateField("graphAvgWorkoutStatsDistance",[]),this.localUpdateField("graphAvgWorkoutStatsElevation",[]),this.localUpdateField("graphAvgWorkoutStatsSpeed",[]),this.localUpdateField("graphAvgWorkoutStatsDuration",[]),this.localUpdateField("graphAvgWorkoutStatsRealDuration",[]),this.localUpdateField("graphAvgWorkoutStatsLoadIndex",[]),this.localUpdateField("graphAvgWorkoutStatsCount",[]),this.localUpdateField("historyFeed",[]),this.localUpdateField("notifications",[])}setPowerSaveStatus(e=!1){this.powerSaveStatus=e}setProviderState(e=!1){this.providerState=e}setGetInfoEpoch(e=(new Date).getTime()){this.getInfoEpoch=e}setLoadMore(e){ze.a.isFunction(e)&&(this.loadMore=e)}updateCurrentLocation(e){this.currentLocation=e}setSubscriptionPaypal(e){this.subscriptionPaypal=e}setLoading(e,t=!1){this.isLoading[e]=t,this.isLoading[e]||delete this.isLoading[e]}findTeam(e,t=!1){const s=this.teams.findIndex(t=>t.id===e);if(s>-1)return t?Object(Me.i)(this.teams[s]):this.teams[s].name}findTeams(e=[]){return this.teams.filter(t=>e.indexOf(t.id)>-1).map(e=>Object(Me.i)(e))}findPublicTeams(e=[]){return this.teams.filter(e=>1===e.public).map(e=>Object(Me.i)(e))}findTrack(e){if(!e)return;const t=this.tracks.findIndex(t=>t.id===e);return t>-1?Object(Me.i)(this.tracks[t]):void 0}findTrackName(e){if(!e)return;const t=this.tracks.findIndex(t=>t.id===e);return t>-1?this.tracks[t].name:void 0}findHarness(e,t="name"){const s=this.harnesses.findIndex(t=>t.id===e);if(s>-1)return this.harnesses[s][t]}findEquipment({equipment:e,field:t="name",language:s}){const a=this.equipments.findIndex(t=>t.id===e);if(a>-1)return"name"===t&&s&&this.equipments[a].lang[s]?this.equipments[a].lang[s]:this.equipments[a][t]}findDogstatus({status:e,language:t}){const s=this.dogstatuses.findIndex(t=>t.id===e);if(s>-1){const e=this.dogstatuses[s];return 1===e.id?{}:(t&&e.lang[t]&&(e.name=e.lang[t]),e)}}findDogposition({position:e,language:t}){const s=this.dogPositions.findIndex(t=>t.id===e);if(s>-1){const e=this.dogPositions[s];return t&&e.lang[t]&&(e.name=e.lang[t]),e}}findIntensity({code:e,language:t}){const s=this.intensities.findIndex(t=>t.id===e);if(s>-1){const e=this.intensities[s];return t&&e.lang[t]&&(e.name=e.lang[t]),e}return{}}findTeamAmbition({ambition:e,field:t="name",language:s}){const a=this.teamAmbitions.findIndex(t=>t.id===e);if(a>-1)return"name"===t&&s&&this.teamTypes[a].lang[s]?this.teamAmbitions[a].lang[s]:this.teamAmbitions[a][t]}findTeamType({type:e,field:t="name",language:s}){const a=this.teamTypes.findIndex(t=>t.id===e);if(a>-1)return"name"===t&&s&&this.teamTypes[a].lang[s]?this.teamTypes[a].lang[s]:this.teamTypes[a][t]}findWorkoutType({type:e,field:t="name",language:s}){const a=this.types.findIndex(t=>t.id===e);if(a>-1)return"name"===t&&s&&this.types[a].lang[s]?this.types[a].lang[s]:this.types[a][t]}findWorkoutSummaryWeek(e,t,s="distanceKm"){const a=this.workoutSummaryWeek.findIndex(s=>s.year===e&&s.week===t);if(a>-1)return ze.a.format(this.workoutSummaryWeek[a][s],0)}get totalWorkoutKm(){return this.workoutSummaryWeek.reduce((e,t)=>e+t.distanceKm,0)}get totalWorkoutKmDay(){return this.workoutSummaryWeekDay.reduce((e,t)=>e+t.distanceKm,0)}findWorkoutSummaryWeekDay(e,t,s,a){const i=this.workoutSummaryWeekDay.findIndex(i=>i.year===e&&i.month===t&&i.day===s&&(!a||i.month===a));if(i>-1)return Object(Me.i)(this.workoutSummaryWeekDay[i])}findHistory(e,t,s){return this.historyFeed.filter(a=>a.year===e&&a.month===t&&a.day===s).map(e=>Object(Me.i)(e))}findEndHistory(e,t,s){return this.historyFeed.filter(a=>a.endYear===e&&a.endMonth===t&&a.endDay===s).map(e=>Object(Me.i)(e))}findDogsFromHistory(e){const t=[],s=this.historyFeed.filter(t=>t.historyType===e).map(e=>Object(Me.i)(e));for(let e=0,a=s.length;e<a;e+=1){const a=s[e];if(t.push(a.dogId),a.grouped){const e=a.grouped.map(e=>e.dogId);t.push(...e)}}return t}findWorkoutSummaryMonth(e,t,s="distanceKm",a){if(this.workoutSummaryMonth){const i=this.workoutSummaryMonth.findIndex(s=>s.year===e&&s.month===t);if(i>-1)return a?this.workoutSummaryMonth[i][s]:ze.a.format(this.workoutSummaryMonth[i][s],0,"."," ",!0)}}findDogs(e=[]){return this.dogs.filter(t=>e.indexOf(t.id)>-1).map(e=>Object(Me.i)(e))}findDog(e){if(Array.isArray(this.dogs)){const t=this.dogs.findIndex(t=>t.id===e);return Object(Me.i)(this.dogs[t])}return null}findMushers(e=[]){return this.mushers.filter(t=>e.indexOf(t.id)>-1).map(e=>Object(Me.i)(e))}localUpdateField(e,t){this[e]=t}updateUserField(e,t){this.user[e]=t}updateUserSubValue(e,t){const s=e.split(".");console.log({key:e,value:t,keyParts:s}),this.user[s[0]]||(this.user[s[0]]={}),this.user[s[0]][s[1]]=t}updateObjectField(e,t,s){this[e][t]=s}resetRegisterMessages(){this.register={messageIcon:"",message:"",errorIcon:"",error:""}}resetLoginMessages(){this.login={showToken:!1,messageIcon:"",message:"",errorIcon:"",error:""}}resetLoginLinkMessages(){this.loginLink={emailSent:this.loginLink.emailSent,messageIcon:"",message:"",errorIcon:"",error:""}}async registerUser({email:e,password:t,fingerprint:s,jwtToken:a,skipPubSub:i=!1,language:o="en"}){if(ze.a.validateEmail(e)){const n=await ze.a.fetchApi("/api/users/register",{publish:!0,method:"POST"},{email:e,password:t,fingerprint:s,jwtToken:a,language:o});switch(n.status){case 201:this.localUpdateField("user",n.data.user),this.localUpdateField("emailIsAvailable",!0),this.localUpdateField("emailMessage","no"===o?"Du er nå registrert 😃":"You are now registered 😃"),this.updateObjectField("loginLink","emailSent",!1),ze.a.setJwtToken(n.data.apiToken),ze.a.setUserEmail(n.data.user.email),i||Ne.a.publish(Ne.b.JWT_TOKEN_CHANGED,n.data.apiToken);break;case 401:default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error","no"===o?`Registreringen feilet! ${n.status}: ${n.message}`:`Registration failed! ${n.status}: ${n.message}`)}}}async verifyEmail({token:e,language:t="en"}){const s=await ze.a.fetchApi("/api/users/verify/email/",{publish:!0,method:"POST"},{token:e,language:t});switch(s.status){case 200:this.localUpdateField("emailMessageIcon","fas fa-user-check"),this.localUpdateField("emailMessage","no"===t?"E-postadressen er nå verifisert 😃":"Email address is verified 😃");break;default:this.localUpdateField("emailErrorIcon","fas fa-bomb"),this.localUpdateField("emailError","no"===t?`Verifiseringen feilet! ${s.status}: ${s.message}`:`Verification failed! ${s.status}: ${s.message}`)}}async checkEmail(e,t="en"){if(ze.a.validateEmail(e)){const s=await ze.a.fetchApi("/api/users/check",{publish:!0},{email:e});switch(s.status){case 200:this.localUpdateField("emailIsAvailable",!0),this.localUpdateField("emailMessage","no"===t?"E-posten er tilgjengelig 😃":"Email is available 😃");break;case 403:this.localUpdateField("emailIsAvailable",!1),this.localUpdateField("twoFactorLogin",s.twoFactorLogin),this.localUpdateField("emailMessage","no"===t?'E-posten er allerede registert. Forsøk "Glemt passord" på loginsiden.':'Email is already registered. Please try "Forgotten password".');break;default:this.localUpdateField("emailIsAvailable",!1),this.localUpdateField("emailMessage","")}}}async checkLogin({email:e,password:t,token:s,sendPubSubMessage:a=!0,language:i="en"}){const o=await ze.a.fetchApi("/api/users/login",{method:"POST",publish:!0},{email:e,password:t,token:s,language:i});switch(o.status){case 200:return this.localUpdateField("user",o.data.user),ze.a.setJwtToken(o.data.apiToken),ze.a.setUserEmail(o.data.user.email),a&&Ne.a.publish(Ne.b.JWT_TOKEN_CHANGED,o.data.apiToken),!0;case 202:return o.needsTwoFactor&&(this.updateObjectField("login","message","no"===i?"2FA token er påkrevd for å logge inn.":"2FA token is required to login."),this.updateObjectField("login","showToken",!0)),!1;case 403:return"Wrong password!"===o.message?(this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===i?'Feil passord! Dersom du har glemt passordet så kan du trykke på "Glemt passord?" helt nederst.':'Wrong password. If you have forgotten your password, please use "Forgotten password".')):(this.updateObjectField("login","errorIcon","fas fa-search"),this.updateObjectField("login","error","no"===i?'Finner ikke denne brukeren, men du er velkommen til å registrere deg 😃 \nTrykk på "Ny bruker" under for å komme igang.':"Can't find the user. You are welcome to register as a new user 😃")),!1;case 422:return this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===i?"Innloggingen feilet! Mangler info i noen av feltene under.":"Login failed! Missing information."),!1;default:return this.updateObjectField("login","errorIcon","fas fa-bomb"),this.updateObjectField("login","error","no"===i?`Innloggingen feilet! ${o.status}: ${o.message}`:`Login failed! ${o.status}: ${o.message}`),!1}}async getInfo(e=!1,t=!0,s=!1,a="en",i){const o=(new Date).getTime(),{getInfoEpoch:n}=this;if(o-n<3e5)return!1;this.setGetInfoEpoch(o);let r=s;this.countries&&this.countries.length>0&&(r=!0),this.cordovaGetCurrentPosition();const l=await ze.a.fetchApi("/api/users/info",{publish:!0,method:"GET"},{loadAllUsers:e,skipSummary:t,skipStaticData:r,darkmode:i});switch(l.status){case 200:if(this.localUpdateField("user",l.data.user),this.localUpdateField("team",l.data.team),this.localUpdateField("teams",l.data.teams),this.localUpdateField("dogs",l.data.dogs),this.localUpdateField("mushers",l.data.members),this.localUpdateField("workouts",l.data.workouts),this.localUpdateField("tracks",l.data.tracks),t||this.localUpdateField("workoutSummary",l.data.workoutSummary),r||(this.localUpdateField("types",l.data.types),this.localUpdateField("intensities",l.data.intensities),this.localUpdateField("dogPositions",l.data.dogPositions),this.localUpdateField("dogstatuses",l.data.dogstatuses),this.localUpdateField("equipments",l.data.equipments),this.localUpdateField("harnesses",l.data.harnesses),this.localUpdateField("teamAmbitions",l.data.teamAmbitions),this.localUpdateField("teamTypes",l.data.teamTypes),this.localUpdateField("countries",l.data.countries)),this.localUpdateField("isAdmin",l.data.isAdmin),this.localUpdateField("isEditor",l.data.isEditor),this.localUpdateField("isTester",l.data.isTester),this.localUpdateField("isVeterinary",l.data.isVeterinary),this.localUpdateField("isPremium",l.data.isPremium),this.localUpdateField("currentEmail",l.data.currentEmail),this.localUpdateField("simulatedEmail",l.data.simulatedEmail),i){const{settings:e={}}=this.user;if(e.darkmode!==i){const t="darkmode";await this.updateSetting({["settings."+t]:1===e[t]?0:1},{[t]:1===e[t]?0:1})}}break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error","no"===a?`Henting av brukerinfo feilet! ${l.status}: ${l.message}`:`Fetching user info failed! ${l.status}: ${l.message}`)}}async cordovaGetProviderState(){await this.bgGeo.getProviderState();switch(event.status){case this.bgGeo.AUTHORIZATION_STATUS_DENIED:console.log("- Location authorization denied");break;case this.bgGeo.AUTHORIZATION_STATUS_ALWAYS:console.log("- Location always granted");break;case this.bgGeo.AUTHORIZATION_STATUS_WHEN_IN_USE:console.log("- Location WhenInUse granted")}}async cordovaProviderState(){if(this.bgGeo=window.BackgroundGeolocation,this.bgGeo){const e=await this.bgGeo.getProviderState();switch(this.setProviderState(e),e.status){case this.bgGeo.AUTHORIZATION_STATUS_NOT_DETERMINED:this.localUpdateField("cordovaAuthorizationStatus","NOT DETERMINED");break;case this.bgGeo.AUTHORIZATION_STATUS_RESTRICTED:this.localUpdateField("cordovaAuthorizationStatus","RESTRICTED");break;case this.bgGeo.AUTHORIZATION_STATUS_DENIED:this.localUpdateField("cordovaAuthorizationStatus","DENIED");break;case this.bgGeo.AUTHORIZATION_STATUS_ALWAYS:this.localUpdateField("cordovaAuthorizationStatus","ALWAYS");break;case this.bgGeo.AUTHORIZATION_STATUS_WHEN_IN_USE:this.localUpdateField("cordovaAuthorizationStatus","WHEN_IN_USE")}}}async cordovaGetCurrentPosition(e){if(this.bgGeo=window.BackgroundGeolocation,this.bgGeo&&(await this.cordovaProviderState(),e||"WHEN_IN_USE"===this.cordovaAuthorizationStatus||"ALWAYS"===this.cordovaAuthorizationStatus)){const e=await this.bgGeo.getCurrentPosition({timeout:30,persist:!1,maximumAge:5e3,desiredAccuracy:50,samples:3});return this.updateCurrentLocation(e),await ze.a.fetchApi("/api/users/location",{publish:!0,method:"POST"},{location:e}),e}return null}async getWeatherUser({lat:e,lon:t,altitude:s}){if(e&&t){const a=await ze.a.fetchApi("/api/yr/user",{publish:!0,method:"GET"},{lat:e,lon:t,altitude:s});return this.updateUserField("yrWeather",a.data),a}return null}formatWeather(e=this.user.yrWeather){this.localUpdateField("yrWeather",e);const t={};if(e){for(let s=0,a=e.length;s<a;s+=1){const{time:a,instant:i,next_6_hours:o}=e[s],n=new RegExp("T00:00"),r=new RegExp("T06:00"),l=new RegExp("T12:00"),c=new RegExp("T18:00"),d=ze.a.isoDate(a,!1,!1,!0);t[d]||(t[d]={air_temperatures:[],wind_speeds:[],precipitation_amount:0}),n.test(a)&&(t[d].air_temperatures.push(ze.a.getNestedValue(i,"details.air_temperature")),t[d].wind_speeds.push(ze.a.getNestedValue(i,"details.wind_speed")),t[d].precipitation_amount+=ze.a.getNestedValue(o,"details.precipitation_amount"),t[d].night={time:a,instant:i,next_6_hours:o}),r.test(a)&&(t[d].air_temperatures.push(ze.a.getNestedValue(i,"details.air_temperature")),t[d].wind_speeds.push(ze.a.getNestedValue(i,"details.wind_speed")),t[d].precipitation_amount+=ze.a.getNestedValue(o,"details.precipitation_amount"),t[d].morning={time:a,instant:i,next_6_hours:o}),l.test(a)&&(t[d].air_temperatures.push(ze.a.getNestedValue(i,"details.air_temperature")),t[d].wind_speeds.push(ze.a.getNestedValue(i,"details.wind_speed")),t[d].precipitation_amount+=ze.a.getNestedValue(o,"details.precipitation_amount"),t[d].day={time:a,instant:i,next_6_hours:o}),c.test(a)&&(t[d].air_temperatures.push(ze.a.getNestedValue(i,"details.air_temperature")),t[d].wind_speeds.push(ze.a.getNestedValue(i,"details.wind_speed")),t[d].precipitation_amount+=ze.a.getNestedValue(o,"details.precipitation_amount"),t[d].evening={time:a,instant:i,next_6_hours:o})}const s=Object.keys(t);this.localUpdateField("yrWeatherKeys",s);for(let e=0,a=s.length;e<a;e+=1){const a=s[e],i=t[a].air_temperatures,o=t[a].wind_speeds;t[a].air_temperatures_min=Math.min(...i),t[a].air_temperatures_max=Math.max(...i),t[a].wind_speeds_min=Math.min(...o),t[a].wind_speeds_max=Math.max(...o)}return this.localUpdateField("yrWeatherFormatted",t),e}return null}async getFeed({year:e,week:t,month:s,team:a,dog:i,daysBack:o,language:n="en"}){const r=await ze.a.fetchApi("/api/users/feed",{publish:!0,method:"GET"},{year:e,week:t,month:s,team:a,dog:i,daysBack:o});switch(r.status){case 200:this.localUpdateField("historyFeed",r.data.historyFeed);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error","no"===n?`Henting av feed feilet! ${r.status}: ${r.message}`:`Fetching the feed failed! ${r.status}: ${r.message}`)}}async getWorkoutSummary({team:e,dog:t,track:s,daysBack:a,year:i,month:o}){const n=parseInt(o||(new Date).getMonth()+1,10),r=parseInt(i||ze.a.getYear(),10),l=parseInt(n<8?r-1:r,10),u=l-1,p=ze.a.weekRange(l+"-08-01",l+1+"-07-31"),m=ze.a.weekRange(u+"-08-01",u+1+"-07-31");let b=0;const{settings:f={}}=this.user,{imperial:g}=f,O=await ze.a.fetchApi("/api/workouts/summary",{publish:!0,method:"GET"},{team:e,dog:t,track:s,daysBack:a,year:i,seasonStart:l});switch(O.status){case 200:this.localUpdateField("workoutSummaryTeam",e),this.localUpdateField("workoutSummaryWeek",O.data),this.localUpdateField("workoutSummaryMonth",O.included.workoutSummaryMonth),this.localUpdateField("workoutAvgWeek",O.included.workoutAvgWeek),this.localUpdateField("avgWorkoutStats",O.included.avgWorkoutStats);const t=p.map((e,t)=>{const s=(O.data||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return s.distanceKm>0&&(b+=s.distanceKm),{x:t,y:g?d(s.distanceKm||0):s.distanceKm||0,week:e.week,year:e.year}}),s=p.map((e,t)=>{const s=(O.data||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?h(s.elevation||0):s.elevation||0,week:e.week,year:e.year}}),a=m.map((e,t)=>{const s=(O.data||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?d(s.distanceKm||0):s.distanceKm||0,week:e.week,year:e.year}}),i=m.map((e,t)=>{const s=(O.data||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?h(s.elevation||0):s.elevation||0,week:e.week,year:e.year}});this.localUpdateField("graphWorkoutSummaryWeekDistanceCurrent",t),this.localUpdateField("graphWorkoutSummaryWeekDistanceCurrentTotal",b),this.localUpdateField("graphWorkoutSummaryWeekDistancePrev",a),this.localUpdateField("graphWorkoutSummaryWeekElevationCurrent",s),this.localUpdateField("graphWorkoutSummaryWeekElevationPrev",i);const o=p.map((e,t)=>{const s=(O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?d(s.distanceKm||0):s.distanceKm||0,week:e.week,year:e.year}}),n=p.map((e,t)=>{const s=(O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?h(s.elevation||0):s.elevation||0,week:e.week,year:e.year}}),r=p.map((e,t)=>{const s=(O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?c(s.speedAvg||0):s.speedAvg||0,week:e.week,year:e.year}}),f=p.map((e,t)=>({x:t,y:((O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).duration||0,week:e.week,year:e.year})),v=p.map((e,t)=>({x:t,y:((O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).realDuration||0,week:e.week,year:e.year})),y=p.map((e,t)=>({x:t,y:((O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).loadIndex||0,week:e.week,year:e.year})),j=p.map((e,t)=>({x:t,y:((O.included.avgWorkoutStats||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).count||0,week:e.week,year:e.year}));this.localUpdateField("graphAvgWorkoutStatsDistance",o),this.localUpdateField("graphAvgWorkoutStatsElevation",n),this.localUpdateField("graphAvgWorkoutStatsSpeed",r),this.localUpdateField("graphAvgWorkoutStatsDuration",f),this.localUpdateField("graphAvgWorkoutStatsRealDuration",v),this.localUpdateField("graphAvgWorkoutStatsLoadIndex",y),this.localUpdateField("graphAvgWorkoutStatsCount",j);const w=p.map((e,t)=>{const s=(O.included.workoutAvgWeek||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?d(s.distanceKm||0):s.distanceKm||0,week:e.week,year:e.year}}),k=p.map((e,t)=>{const s=(O.included.workoutAvgWeek||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?h(s.elevation||0):s.elevation||0,week:e.week,year:e.year}}),x=p.map((e,t)=>{const s=(O.included.workoutAvgWeek||[]).find(t=>t.week===e.week&&t.year===e.year)||{};return{x:t,y:g?c(s.speedAvg||0):s.speedAvg||0,week:e.week,year:e.year}}),S=p.map((e,t)=>({x:t,y:((O.included.workoutAvgWeek||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).duration||0,week:e.week,year:e.year})),_=p.map((e,t)=>({x:t,y:((O.included.workoutAvgWeek||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).realDuration||0,week:e.week,year:e.year})),T=p.map((e,t)=>({x:t,y:((O.included.workoutAvgWeek||[]).find(t=>t.week===e.week&&t.year===e.year)||{}).loadIndex||0,week:e.week,year:e.year}));this.localUpdateField("graphWorkoutAvgWeekDistanceCurrent",w),this.localUpdateField("graphWorkoutAvgWeekElevationCurrent",k),this.localUpdateField("graphWorkoutAvgWeekSpeedCurrent",x),this.localUpdateField("graphWorkoutAvgWeekDurationCurrent",S),this.localUpdateField("graphWorkoutAvgWeekRealDurationCurrent",_),this.localUpdateField("graphWorkoutAvgWeekLoadIndexCurrent",T),this.localUpdateField("graphWorkoutSummaryMonthDistanceCurrent",this.workoutSummaryMonth.filter(e=>e.year===l).map(e=>({x:e.month,y:g?d(e.distanceKm):e.distanceKm}))),this.localUpdateField("graphWorkoutSummaryMonthDistancePrev",this.workoutSummaryMonth.filter(e=>e.year===u).map(e=>({x:e.month,y:g?d(e.distanceKm):e.distanceKm}))),this.localUpdateField("graphWorkoutSummaryMonthElevationCurrent",this.workoutSummaryMonth.filter(e=>e.year===l).map(e=>({x:e.month,y:g?h(e.elevation):e.elevation}))),this.localUpdateField("graphWorkoutSummaryMonthElevationPrev",this.workoutSummaryMonth.filter(e=>e.year===u).map(e=>({x:e.month,y:g?h(e.elevation):e.elevation})));break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error",`Fetching the feed failed! ${O.status}: ${O.message}`)}}async getWorkoutSummaryDay({year:e,week:t,month:s,team:a,dog:i,track:o,daysBack:n}){const r=await ze.a.fetchApi("/api/workouts/summary/day",{publish:!0,method:"GET"},{year:e,week:t,month:s,team:a,dog:i,track:o,daysBack:n});switch(r.status){case 200:Array.isArray(r.data)&&this.localUpdateField("workoutSummaryWeekDay",r.data),r.included&&this.localUpdateField("workoutsDay",r.included.workouts);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error",`Fetching the feed failed! ${r.status}: ${r.message}`)}}async sendLoginLink(e,t="en"){if(ze.a.validateEmail(e)){const s=await ze.a.fetchApi("/api/users/login/link",{publish:!0},{email:e});switch(s.status){case 200:this.updateObjectField("loginLink","emailSent",!0),this.updateObjectField("loginLink","messageIcon","fas fa-shipping-fast"),this.updateObjectField("loginLink","message","no"===t?"E-post er sendt.":"Email sent.");break;default:this.updateObjectField("loginLink","errorIcon","fas fa-bomb"),this.updateObjectField("loginLink","error","no"===t?`E-postsending feilet! ${s.status}: ${s.message}`:`Email send failed! ${s.status}: ${s.message}`)}}}async validateLoginCode(e,t,s="en"){if(ze.a.validateCode(t,1e5,999999)){const a=await ze.a.fetchApi("/api/users/login/code",{publish:!0,method:"POST"},{email:e,code:t});switch(a.status){case 200:this.localUpdateField("user",a.data.user),this.updateObjectField("loginLink","emailSent",!1),ze.a.setJwtToken(a.data.apiToken),ze.a.setUserEmail(a.data.user.email),Ne.a.publish(Ne.b.JWT_TOKEN_CHANGED,a.data.apiToken);break;case 403:"Wrong code!"===a.message?(this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===s?"Feil code! Husk at du må bruke den nyeste e-posten med koder.":"Wrong code! Remember to use the latest email.")):"Login code has expired!"===a.message?(this.updateObjectField("loginLink","emailSent",!1),this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===s?"Koden har gått ut på dato. Be om en ny og forsøk igjen.":"Code expired. Try to get a new code and try again.")):(this.updateObjectField("login","errorIcon","fas fa-bomb"),this.updateObjectField("login","error","no"===s?"Det er noe feil med koden din. Du kan forsøke å be om en ny og prøve igjen.":"Something wrong with your code! Try to get a new code and try again."));break;case 422:this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===s?"Innloggingen feilet! Mangler info i noen av feltene under.":"Login failed! Missing information.");break;default:this.updateObjectField("login","errorIcon","fas fa-bomb"),this.updateObjectField("login","error","no"===s?`Innloggingen feilet! ${a.status}: ${a.message}`:`Login failed! ${a.status}: ${a.message}`)}}}async validateLoginToken(e,t="en"){if(ze.a.isString(e)){const s=await ze.a.fetchApi("/api/users/login/token",{publish:!0,method:"POST"},{loginToken:e});switch(s.status){case 200:return this.localUpdateField("user",s.data.user),this.updateObjectField("loginLink","emailSent",!1),ze.a.setJwtToken(s.data.apiToken),ze.a.setUserEmail(s.data.user.email),Ne.a.publish(Ne.b.JWT_TOKEN_CHANGED,s.data.apiToken),s;case 403:"Wrong login token!"===s.message?(this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===t?"Feil token! Husk at du må bruke den nyeste e-posten med koder.":"Wrong token! Remember to use the latest email.")):"Login token has expired!"===s.message?(this.updateObjectField("loginLink","emailSent",!1),this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===t?"Token har gått ut på dato. Be om en ny og forsøk igjen.":"Token expired. Try to get a new code and try again.")):(this.updateObjectField("login","errorIcon","fas fa-bomb"),this.updateObjectField("login","error","no"===t?"Det er noe feil med koden din. Du kan forsøke å be om en ny og prøve igjen.":"Something wrong with your token! Try to get a new code and try again."));break;case 422:this.updateObjectField("login","errorIcon","fas fa-exclamation-triangle"),this.updateObjectField("login","error","no"===t?"Innloggingen feilet! Mangler info i noen av feltene under.":"Login failed! Missing information.");break;default:this.updateObjectField("login","errorIcon","fas fa-bomb"),this.updateObjectField("login","error","no"===t?`Innloggingen feilet! ${s.status}: ${s.message}`:`Login failed! ${s.status}: ${s.message}`)}}}removeImageLocal({id:e,name:t}){if(ze.a.isArray(this.user.images)){const e=this.user.images.findIndex(e=>e.name===t);e>-1&&this.user.images.splice(e,1)}const s=this.users.findIndex(t=>t.id===e);if(s>-1){const e=this.users[s].images.findIndex(e=>e.name===t);e>-1&&this.users[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await ze.a.fetchApi("/api/users/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 200:return this.removeImageLocal({id:e,name:t}),s;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}findApplicationById(e){if(ze.a.isArray(this.user.applications)){const t=this.user.applications.findIndex(t=>t.appId===e);if(t>-1)return this.user.applications[t]}return null}removeApplicationLocal({id:e,name:t}){if(ze.a.isArray(this.user.applications)){const e=this.user.applications.findIndex(e=>e.name===t);e>-1&&this.user.applications.splice(e,1)}const s=this.users.findIndex(t=>t.id===e);if(s>-1){const e=this.users[s].applications.findIndex(e=>e.name===t);e>-1&&this.users[s].applications.splice(e,1)}}async removeApplication({id:e,name:t}){const s=await ze.a.fetchApi("/api/users/"+e,{publish:!0,method:"PATCH"},{removeApplicationById:t});switch(s.status){case 200:return this.removeImageLocal({id:e,name:t}),s;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async getSimulateUser(e){const t=await ze.a.fetchApi("/api/users/simulate/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:this.localUpdateField("user",t.data.user),ze.a.setJwtToken(t.data.apiToken),ze.a.setUserEmail(t.data.user.email),await this.getInfo(),Ne.a.publish(Ne.b.JWT_TOKEN_CHANGED,t.data.apiToken),Object(Ue.route)("/",!0);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async setLanguage({email:e,language:t}){switch((await ze.a.fetchApi("/api/users/"+e,{publish:!0,method:"PATCH"},{language:t})).status){case 200:this.updateObjectField("user","language",t),await this.getInfo();break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async setFirebase({field:e,value:t}){const{email:s}=this.user;switch((await ze.a.fetchApi("/api/users/"+s,{publish:!0,method:"PATCH"},{[e]:t})).status){case 200:this.updateUserSubValue(e,t);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async setLastUpdated({field:e,value:t}){const{email:s}=this.user;switch((await ze.a.fetchApi("/api/users/"+s,{publish:!0,method:"PATCH"},{[e]:t})).status){case 200:this.updateUserSubValue(e,t);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async setToggleFeature({field:e,value:t}){const{email:s}=this.user;switch((await ze.a.fetchApi("/api/users/"+s,{publish:!0,method:"PATCH"},{[e]:t})).status){case 200:this.updateUserSubValue(e,t);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async setNotification({field:e,value:t}){const{email:s}=this.user;switch((await ze.a.fetchApi("/api/users/"+s,{publish:!0,method:"PATCH"},{[e]:t})).status){case 200:this.updateUserSubValue(e,t);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async setNotificationTopic({field:e,value:t}){const{email:s}=this.user;switch((await ze.a.fetchApi("/api/users/"+s,{publish:!0,method:"PATCH"},{[e]:t})).status){case 200:this.updateUserSubValue(e,t);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async stravaGetActivityStream(){const e=await ze.a.fetchApi("/api/strava/v3-activities-streams",{publish:!0,method:"GET"},{});switch(e.status){case 200:console.log(e);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async garminTest(){const e=await ze.a.fetchApi("/api/garmin/test/",{publish:!0,method:"GET"},{});switch(e.status){case 200:console.log(e);break;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async inviteKennel({email:e}){const t=await ze.a.fetchApi("/api/users/invite",{publish:!0,method:"GET"},{email:e});switch(t.status){case 200:return t;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}updateSettingLocal(e){const t=i(i({},this.user.settings),e);this.user.settings=t}async updateSetting(e,t){const s=await ze.a.fetchApi("/api/users/"+this.user.email,{publish:!0,method:"PATCH"},i({},e));switch(s.status){case 200:return this.updateSettingLocal(t),s;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async changePassword({password:e,passwordConfirm:t}){const s=await ze.a.fetchApi("/api/users/"+this.user.email,{publish:!0,method:"PATCH"},{password:e,passwordConfirm:t});switch(s.status){case 200:return s;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async searchUsers({search:e,showAll:t}){const s=await ze.a.fetchApi("/api/users/search",{publish:!0,method:"GET"},{search:e,showAll:t});switch(s.status){case 200:return this.localUpdateField("searchUsersResult",s.data),s;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}addVaccineLogStatuses(e){if(e&&e.length>0)for(let t=0,s=e.length;t<s;t+=1){const s=e[t],a=s.vaccine.date||new Date;for(let e=0,t=s.vaccine.agens.length;e<t;e+=1){const t=s.vaccine.agens[e],{durationMonths:i,karensDays:o}=t,n=30*i;t.durationStart=a,t.durationEnd=ze.a.addDays(a,n),t.karensStart=a,t.karensEnd=ze.a.addDays(a,o);const r={chipId:s.dog.chipId,name:s.dog.name,shortname:s.dog.shortname,team:s.dog.team,user:s.dog.user,vaccine:s.vaccine.id,vaccineAgens:t,vaccineName:s.vaccine.name,veterinary:s.veterinary.id,veterinaryEmail:s.veterinary.email,veterinaryFirstname:s.veterinary.firstname,veterinaryLastname:s.veterinary.lastname,inKarens:t.karensStart<=new Date&&t.karensEnd>=new Date,karensDaysLeft:l(new Date,t.karensEnd),durationDaysLeft:l(new Date,t.durationEnd)};this.vaccineLogStatuses.push(r)}}}async getDogs({id:e}){this.setLoading("getDogs",!0);const t=await ze.a.fetchApi("/api/users/dogs/"+e,{publish:!0,method:"GET"},{});switch(this.setLoading("getDogs",!1),t.status){case 200:return this.localUpdateField("searchUserTeams",t.data),this.localUpdateField("vaccineStatuses",t.included.vaccineStatuses),this.localUpdateField("vaccineLogStatuses",t.included.vaccineLogStatuses),t.data;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async getNotifications(){const e=await ze.a.fetchApi("/api/users/notifications",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("notifications",e.data),$e.a.tapticNotification("success"),e;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async markNotificationsAsRead({id:e,ids:t}){const s=await ze.a.fetchApi("/api/users/notifications",{publish:!0,method:"PATCH"},{id:e,ids:t});switch(s.status){case 200:return s;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}async getWeather({lat:e,lon:t,altitude:s,force:a}){if(!e||!t)return[];const i=await ze.a.fetchApi("/api/yr/",{publish:!0,method:"GET"},{lat:e,lon:t,altitude:s,force:a});switch(i.status){case 200:return i.data;case 401:Ne.a.publish(Ne.b.LOG_OUT),Object(Ue.route)("/",!0)}}}).prototype,"getInfoEpoch",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=r(u.prototype,"isLoading",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=r(u.prototype,"user",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=r(u.prototype,"currentEmail",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=r(u.prototype,"simulatedEmail",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=r(u.prototype,"isAdmin",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=r(u.prototype,"users",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=r(u.prototype,"team",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),j=r(u.prototype,"teams",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=r(u.prototype,"dogs",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=r(u.prototype,"mushers",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=r(u.prototype,"workouts",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=r(u.prototype,"tracks",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=r(u.prototype,"types",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=r(u.prototype,"intensities",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=r(u.prototype,"dogPositions",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=r(u.prototype,"dogstatuses",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=r(u.prototype,"equipments",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=r(u.prototype,"harnesses",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=r(u.prototype,"teamAmbitions",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=r(u.prototype,"teamTypes",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=r(u.prototype,"countries",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=r(u.prototype,"searchUsersResult",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=r(u.prototype,"searchUserTeams",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=r(u.prototype,"vaccineStatuses",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=r(u.prototype,"vaccineLogStatuses",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=r(u.prototype,"allUsers",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=r(u.prototype,"workoutSummaryTeam",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=r(u.prototype,"workoutSummary",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=r(u.prototype,"workoutSummaryWeek",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=r(u.prototype,"workoutSummaryWeekDay",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=r(u.prototype,"workoutsDay",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=r(u.prototype,"workoutSummaryMonth",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=r(u.prototype,"workoutSummaryAvg",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=r(u.prototype,"avgWorkoutStats",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=r(u.prototype,"graphWorkoutSummaryWeekDistanceCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=r(u.prototype,"graphWorkoutSummaryWeekDistanceCurrentTotal",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=r(u.prototype,"graphWorkoutSummaryWeekDistancePrev",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=r(u.prototype,"graphWorkoutSummaryMonthDistanceCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=r(u.prototype,"graphWorkoutSummaryMonthDistancePrev",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=r(u.prototype,"graphWorkoutSummaryWeekElevationCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=r(u.prototype,"graphWorkoutSummaryWeekElevationPrev",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=r(u.prototype,"graphWorkoutSummaryMonthElevationCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=r(u.prototype,"graphWorkoutSummaryMonthElevationPrev",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=r(u.prototype,"graphWorkoutAvgWeekDistanceCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=r(u.prototype,"graphWorkoutAvgWeekElevationCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=r(u.prototype,"graphWorkoutAvgWeekSpeedCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=r(u.prototype,"graphWorkoutAvgWeekDurationCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=r(u.prototype,"graphWorkoutAvgWeekRealDurationCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=r(u.prototype,"graphWorkoutAvgWeekLoadIndexCurrent",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=r(u.prototype,"graphAvgWorkoutStatsDistance",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=r(u.prototype,"graphAvgWorkoutStatsElevation",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=r(u.prototype,"graphAvgWorkoutStatsSpeed",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=r(u.prototype,"graphAvgWorkoutStatsDuration",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=r(u.prototype,"graphAvgWorkoutStatsRealDuration",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=r(u.prototype,"graphAvgWorkoutStatsLoadIndex",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=r(u.prototype,"graphAvgWorkoutStatsCount",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=r(u.prototype,"historyFeed",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=r(u.prototype,"notifications",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=r(u.prototype,"emailIsAvailable",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=r(u.prototype,"twoFactorLogin",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ye=r(u.prototype,"emailMessage",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),je=r(u.prototype,"emailMessageIcon",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),we=r(u.prototype,"emailError",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ke=r(u.prototype,"emailErrorIcon",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xe=r(u.prototype,"subscriptionPaypal",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Se=r(u.prototype,"yrWeather",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_e=r(u.prototype,"yrWeatherFormatted",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Te=r(u.prototype,"yrWeatherKeys",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=r(u.prototype,"cordovaAuthorizationStatus",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=r(u.prototype,"powerSaveStatus",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=r(u.prototype,"providerState",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=r(u.prototype,"register",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{messageIcon:"",message:"",errorIcon:"",error:""}}}),Ce=r(u.prototype,"login",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{showToken:!1,messageIcon:"",message:"",errorIcon:"",error:""}}}),Ae=r(u.prototype,"loginLink",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{emailSent:!1,messageIcon:"",message:"",errorIcon:"",error:""}}}),Ee=r(u.prototype,"currentLocation",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=r(u.prototype,"loadMore",[Me.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),r(u.prototype,"cleanupMemory",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"cleanupMemory"),u.prototype),r(u.prototype,"setPowerSaveStatus",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"setPowerSaveStatus"),u.prototype),r(u.prototype,"setProviderState",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"setProviderState"),u.prototype),r(u.prototype,"setGetInfoEpoch",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"setGetInfoEpoch"),u.prototype),r(u.prototype,"setLoadMore",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"setLoadMore"),u.prototype),r(u.prototype,"updateCurrentLocation",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"updateCurrentLocation"),u.prototype),r(u.prototype,"setSubscriptionPaypal",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"setSubscriptionPaypal"),u.prototype),r(u.prototype,"setLoading",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"setLoading"),u.prototype),r(u.prototype,"findTeam",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findTeam"),u.prototype),r(u.prototype,"findTeams",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findTeams"),u.prototype),r(u.prototype,"findPublicTeams",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findPublicTeams"),u.prototype),r(u.prototype,"findTrack",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findTrack"),u.prototype),r(u.prototype,"findTrackName",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findTrackName"),u.prototype),r(u.prototype,"findHarness",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findHarness"),u.prototype),r(u.prototype,"findEquipment",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findEquipment"),u.prototype),r(u.prototype,"findDogstatus",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findDogstatus"),u.prototype),r(u.prototype,"findDogposition",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findDogposition"),u.prototype),r(u.prototype,"findIntensity",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findIntensity"),u.prototype),r(u.prototype,"findTeamAmbition",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findTeamAmbition"),u.prototype),r(u.prototype,"findTeamType",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findTeamType"),u.prototype),r(u.prototype,"findWorkoutType",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findWorkoutType"),u.prototype),r(u.prototype,"findWorkoutSummaryWeek",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findWorkoutSummaryWeek"),u.prototype),r(u.prototype,"totalWorkoutKm",[Me.e],Object.getOwnPropertyDescriptor(u.prototype,"totalWorkoutKm"),u.prototype),r(u.prototype,"totalWorkoutKmDay",[Me.e],Object.getOwnPropertyDescriptor(u.prototype,"totalWorkoutKmDay"),u.prototype),r(u.prototype,"findWorkoutSummaryWeekDay",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findWorkoutSummaryWeekDay"),u.prototype),r(u.prototype,"findHistory",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findHistory"),u.prototype),r(u.prototype,"findEndHistory",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findEndHistory"),u.prototype),r(u.prototype,"findDogsFromHistory",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findDogsFromHistory"),u.prototype),r(u.prototype,"findWorkoutSummaryMonth",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findWorkoutSummaryMonth"),u.prototype),r(u.prototype,"findDogs",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findDogs"),u.prototype),r(u.prototype,"findDog",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findDog"),u.prototype),r(u.prototype,"findMushers",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findMushers"),u.prototype),r(u.prototype,"localUpdateField",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"localUpdateField"),u.prototype),r(u.prototype,"updateUserField",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"updateUserField"),u.prototype),r(u.prototype,"updateUserSubValue",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"updateUserSubValue"),u.prototype),r(u.prototype,"updateObjectField",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"updateObjectField"),u.prototype),r(u.prototype,"resetRegisterMessages",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"resetRegisterMessages"),u.prototype),r(u.prototype,"resetLoginMessages",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"resetLoginMessages"),u.prototype),r(u.prototype,"resetLoginLinkMessages",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"resetLoginLinkMessages"),u.prototype),r(u.prototype,"formatWeather",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"formatWeather"),u.prototype),r(u.prototype,"removeImageLocal",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"removeImageLocal"),u.prototype),r(u.prototype,"findApplicationById",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"findApplicationById"),u.prototype),r(u.prototype,"removeApplicationLocal",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"removeApplicationLocal"),u.prototype),r(u.prototype,"updateSettingLocal",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"updateSettingLocal"),u.prototype),r(u.prototype,"addVaccineLogStatuses",[Me.c],Object.getOwnPropertyDescriptor(u.prototype,"addVaccineLogStatuses"),u.prototype),u);t.a=We},Dq2H:function(e,t,s){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var s=[],a=!0,i=!1,o=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(s);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function n(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t.indexOf(s=o[a])>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t.indexOf(s=o[a])>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function r(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,p=s("ACWa"),m=(u=s("ivZ3"))&&u.__esModule?u:{default:u};s("0E5n");var b=function(e){function t(){return p.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e);var s,a,o,u,p=(s=t,function(){var e,t=d(s);if(c()){var a=d(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return l(this,e)});return a=t,(o=[{key:"createLeafletElement",value:function(e){var t=e.leaflet.map,s=n(e,["children","leaflet"]),a={},o={};Object.entries(s).forEach((function(e){var t=i(e,2),s=t[0],n=t[1];return s.startsWith("on")?o[s]=n:a[s]=n}));var r=new m.default.markerClusterGroup(a);return this.contextValue={layerContainer:r,map:t},Object.entries(o).forEach((function(e){var t=i(e,2),s=t[1],a="cluster".concat(t[0].substring(2).toLowerCase());r.on(a,s)})),r}}])&&r(a.prototype,o),u&&r(a,u),t}(p.MapLayer),f=(0,p.withLeaflet)(b);t.default=f},Drvj:function(e,t,s){"use strict";s.r(t),t.default=s.p+"2b3e1faf89f94a4835397e7a43b4f77d.png"},Dv8B:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=s("cneo"),p=s("OhSV"),m=s("Y3FI"),b=s("go65"),f=s("RMlE"),g=s("ZOvn"),O=s("om2D"),v=s("TiXY");const y=g.a.marginTop(!0,!0),j=g.a.marginTopBack(!1),w=g.a.marginBottom(),k={isLoading:!1};let x=Object(h.a)(n=class extends c.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{raceStore:s}=t.props.stores,{race:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{race:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})},this.setDateToNow=()=>{const{field:e,updateField:t,race:s}=this.props,a=d.a.isoDate(void 0,!1,!1,!0);t({id:s.id,field:e,value:a})},this.setTimeToNow=()=>{const{field:e,updateField:t,race:s}=this.props,a=d.a.isoTime();t({id:s.id,field:e,value:a,type:"time"})},this.setValue=e=>{const t=e.target.parentElement.dataset.value||e.target.dataset.value;if(t){const{field:e,updateField:s,race:a}=this.props;s({id:a.id,field:e,value:t})}},this.setRightValue=()=>{const{field:e,updateField:t,race:s,rightValueReal:a}=this.props;t({id:s.id,field:e,value:a})}}render(){const{saved:e,race:t,type:s="text",rows:a,field:i,min:o,max:n,step:r,title:l,icon:h,help:m,onInput:b,updateField:f,rightValue:g}=this.props;let y,j=Object(u.i)(t[i]),w=n;return"date"===s&&(j&&(j=d.a.isoDate(t[i],!1,!1,!0)),"today"===n&&(w=d.a.isoDate(void 0,!1,!1,!0))),"time"===s&&j&&(j=d.a.isoTime(t[i])),"duration"!==i&&"rest"!==i||(y=d.a.secToHms(j,!0)),"image"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},h&&Object(c.h)("i",{class:h+" text-muted"})," ",l),Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},t.images&&t.images.map(e=>Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"))))),Object(c.h)(O.a,{saved:e,object:t,field:i,updateField:f}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(p.c,{id:"race.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},m)):"file"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},h&&Object(c.h)("i",{class:h+" text-muted"})," ",l),Object(c.h)(v.a,{saved:e,object:t,field:i,updateField:f}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(p.c,{id:"race.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},m)):"textarea"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},h&&Object(c.h)("i",{class:h+" text-muted"})," ",l),Object(c.h)("textarea",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:j,rows:a,"data-id":t.id,"data-field":i,onInput:b}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(p.c,{id:"race.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},m)):"toggle"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},h&&Object(c.h)("i",{class:h+" text-muted"})," ",l),Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:i+"Input",value:1===j?0:1,"data-id":t.id,"data-field":i,onInput:b,checked:1==j?"checked":""}),Object(c.h)("label",{class:"custom-control-label",for:i+"Input"})),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(p.c,{id:"races.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},m)):Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},"date"===s&&Object(c.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(c.h)("i",{class:"far fa-check-circle"})),"time"===s&&Object(c.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"Nå ",Object(c.h)("i",{class:"far fa-check-circle"})),g&&Object(c.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},g),Object(c.h)("label",{for:i+"Input"},h&&Object(c.h)("i",{class:h+" text-muted"})," ",l),y&&Object(c.h)("span",{class:"float-right"},Object(c.h)("strong",{onClick:this.setValue,"data-value":void 0},y)),Object(c.h)("input",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:j,min:o,max:w,step:r,"data-id":t.id,"data-field":i,"data-type":s,onInput:b}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(p.c,{id:"race.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},m))}})||n,S=Object(h.a)(r=class extends c.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{raceStore:a}=this.props.stores;a.updateObjectKeyValue("newRace",t,s)}}render(){const{field:e,icon:t,title:s,help:a}=this.props,{raceStore:i}=this.props.stores,{newRace:o}=i;return Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:e+"Input"},t&&Object(c.h)("i",{class:t+" text-muted"})," ",s),Object(c.h)("input",{type:"text",class:"form-control",id:e+"Input","aria-describedby":e+"Help",onInput:this.onInput,value:o[e]}),Object(c.h)("small",{id:e+"Help",class:"form-text text-muted"},a))}})||r,_=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i}=e.target.dataset,o=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:o,type:a,elementtype:i})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,type:n,skipTimer:r=!1})=>{const{raceStore:l}=this.props.stores,{race:c}=l;let h=a,u=a;"time"===n&&(h=`${d.a.isoDate(c[s],!1,!1,!0)} ${a}`,u=h),"images"===s&&Array.isArray(c.images)&&Array.isArray(a)&&(u=[...c.images,...a]),"array"!==i||Array.isArray(a)||(h="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),l.updateField(e,s,u),r?this.doUpdateField(e,s,h):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,h)}),1500))},this.insertNewRace=async function(){const{raceStore:e}=t.props.stores,{newRace:s}=e,a=await e.insert(i({},s)),{id:o}=a.data;Object(m.route)("/race/"+o,!0)},this.addRaceClass=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceClass:a}=t.state;await s.addClass({id:e,newClass:a}),t.setState({newRaceClass:{}})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.addRaceArticle=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceArticle:a}=t.state;await s.addArticle({id:e,newArticle:a}),t.setState({newRaceArticle:{}})},this.addRaceUserImage=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceUserImage:a}=t.state;await s.addUserImage({id:e,newUserImage:a}),t.setState({newRaceUserImage:{}})},this.updateUserImageUpload=({field:e,value:t})=>{const{newRaceUserImage:s}=this.state;s[e]=t,this.setState({newRaceUserImage:s})},this.removeRaceClass=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:i}=t.props.stores;await i.removeClass({id:a,classId:s})},this.removeRaceArticle=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:i}=t.props.stores;await i.removeArticle({id:a,articleId:s})},this.removeRaceUserImage=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:i}=t.props.stores;await i.removeUserImage({id:a,userImageId:s})},this.editRaceClass=async function(e){const{id:s,field:a}=e.target.dataset,{value:i}=e.target,{raceid:o}=t.props,{raceStore:n}=t.props.stores,r={raceClassId:s,["raceClass"+d.a.ucfirst(a)]:i};clearTimeout(t.updateTimer[`${o}-${s}-${a}`]),t.updateTimer[`${o}-${s}-${a}`]=setTimeout((async function(){n.editClass({id:o,data:r})}),1500)},this.editRaceArticle=async function(e){const{id:s,field:a}=e.target.dataset,{value:i}=e.target,{raceid:o}=t.props,{raceStore:n}=t.props.stores,r={raceArticleId:s,["raceArticle"+d.a.ucfirst(a)]:i};clearTimeout(t.updateTimer[`${o}-${s}-${a}`]),t.updateTimer[`${o}-${s}-${a}`]=setTimeout((async function(){n.editArticle({id:o,data:r})}),1500)},this.editRaceUserImage=async function(e){const{id:s,field:a}=e.target.dataset,{value:i}=e.target,{raceid:o}=t.props,{raceStore:n}=t.props.stores,r={raceUserImageId:s,["raceUserImage"+d.a.ucfirst(a)]:i};clearTimeout(t.updateTimer[`${o}-${s}-${a}`]),t.updateTimer[`${o}-${s}-${a}`]=setTimeout((async function(){n.editUserImage({id:o,data:r})}),1500)},this.back=()=>{const{createNew:e}=this.props,{raceStore:t}=this.props.stores,{race:s}=t;e?Object(m.route)("/race/",!0):Object(m.route)("/race/"+s.id,!0)},this.state=i(i({},k),{},{newRaceClass:{},newRaceArticle:{},newRaceUserImage:{}}),this.updateTimer={}}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t}=this.props.stores;await t.load(e.raceid)}async doUpdateField(e,t,s){const{raceStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadRace()}render(){const{createNew:t}=this.props,{raceStore:s,userStore:a}=this.props.stores,{isAdmin:i}=a;if(!i)return"";const{race:o,saved:n}=s;return Object(c.h)(e,null,Object(c.h)(f.a,{stores:this.props.stores}),Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${w}; margin-top: ${y};`},Object(c.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${j}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),t?Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("h5",null,Object(c.h)(p.c,{id:"race.add-new"},"Lag nytt innhold")),Object(c.h)(S,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.title"},"Tittel"),help:Object(c.h)(p.c,{id:"race.title-help"},"Title of this race story")}),Object(c.h)(S,{stores:this.props.stores,field:"tag",icon:"fas fa-eye",title:Object(c.h)(p.c,{id:"race.tag"},"Tag"),help:Object(c.h)(p.c,{id:"race.tag-help"},"Tag of this race story"),onInput:this.updateField}),Object(c.h)("button",{type:"button",class:"btn btn-primary mb-2",onclick:this.insertNewRace},"Save race"))):Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)(x,{saved:n,race:o,field:"title",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.title"},"Title"),help:Object(c.h)(p.c,{id:"race.title-help"},"Title of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"active",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.active"},"Active"),help:Object(c.h)(p.c,{id:"race.active-help"},"Is this active yet?"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"signupfee",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.signupfee"},"Signup fee"),help:Object(c.h)(p.c,{id:"race.signupfee-help"},"Signup fee for this race."),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"signuppayment",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.signuppayment"},"Signup payment"),help:Object(c.h)(p.c,{id:"race.signuppayment-help"},"Signup payment for this race."),onInput:this.updateField}),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"startDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.startDate"},"Race start date"),type:"date",help:Object(c.h)(p.c,{id:"race.startDate-help"},"Race start date"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"startDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.startDate"},"Race start time"),type:"time",help:Object(c.h)(p.c,{id:"race.startDate-help"},"Race start time"),onInput:this.updateField,updateField:this.updateFieldValue}))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"endDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.endDate"},"Race end date"),type:"date",help:Object(c.h)(p.c,{id:"race.endDate-help"},"Race end date"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"endDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.endDate"},"Race end time"),type:"time",help:Object(c.h)(p.c,{id:"race.endDate-help"},"Race end time"),onInput:this.updateField,updateField:this.updateFieldValue}))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"signupStartDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.signupStartDate"},"Signup start date"),type:"date",help:Object(c.h)(p.c,{id:"race.signupStartDate-help"},"Signup start date"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"signupStartDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.signupStartDate"},"Signup start time"),type:"time",help:Object(c.h)(p.c,{id:"race.signupStartDate-help"},"Signup start time"),onInput:this.updateField,updateField:this.updateFieldValue}))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"signupEndDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.signupEndDate"},"Signup end date"),type:"date",help:Object(c.h)(p.c,{id:"race.signupEndDate-help"},"Signup end date"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"signupEndDate",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.signupEndDate"},"Signup end time"),type:"time",help:Object(c.h)(p.c,{id:"race.signupEndDate-help"},"Signup end time"),onInput:this.updateField,updateField:this.updateFieldValue}))),Object(c.h)(x,{saved:n,race:o,field:"tag",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.tag"},"Tag"),help:Object(c.h)(p.c,{id:"race.tag-help"},"Sosial media tags of this race. Comma sep."),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"tagFacebookUsers",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.tag-facebook-user"},"Facebook users to tag"),help:Object(c.h)(p.c,{id:"race.tag-facebook-user-help"},"Facebook users to tag in this race. Comma sep."),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"tagInstagramUsers",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.tag-instagram-user"},"Intagram users to tag"),help:Object(c.h)(p.c,{id:"race.tag-instagram-user-help"},"Instagram users to tag in this race. Comma sep."),onInput:this.updateField}),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"resultsText",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.resultsText"},"Results URL Text"),help:Object(c.h)(p.c,{id:"race.resultsText-help"},"Text to results URL"),onInput:this.updateField})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"resultsUrl",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.resultsUrl"},"Results URL"),help:Object(c.h)(p.c,{id:"race.resultsUrl-help"},"URL to results"),onInput:this.updateField}))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"contestantsText",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.contestantsText"},"Contestants URL text"),help:Object(c.h)(p.c,{id:"race.contestantsText-help"},"Text to Contestants URL"),onInput:this.updateField})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"contestantsUrl",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.contestantsUrl"},"Contestants URL"),help:Object(c.h)(p.c,{id:"race.contestantsUrl-help"},"URL to Contestants"),onInput:this.updateField}))),[1,2,3,4].map(t=>Object(c.h)(e,null,Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"mediaText"+t,icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.mediaText"},"Media URL text ",t),help:Object(c.h)(p.c,{id:"race.mediaText1-help"},"Text to Media URL ",t),onInput:this.updateField})),Object(c.h)("div",{class:"col"},Object(c.h)(x,{saved:n,race:o,field:"mediaURL"+t,icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.contestantsUrl"},"Media URL ",t),help:Object(c.h)(p.c,{id:"race.contestantsUrl-help"},"URL to Media ",t),onInput:this.updateField}))))),Object(c.h)(x,{saved:n,race:o,field:"contactEmail",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.contactEmail"},"Contact Email"),help:Object(c.h)(p.c,{id:"race.contactEmail-help"},"Contact Email of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"contactCellphone",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.contactCellphone"},"Contact Cellphone"),help:Object(c.h)(p.c,{id:"race.contactCellphone-help"},"Contact Cellphone of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"facebook",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.facebook"},"Facebook"),help:Object(c.h)(p.c,{id:"race.facebook-help"},"Facebook Event or page"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"instagram",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.instagram"},"Instagram"),help:Object(c.h)(p.c,{id:"race.instagram-help"},"Instagram account or tag"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"locationCity",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.locationCity"},"Location City"),help:Object(c.h)(p.c,{id:"race.locationCity-help"},"Location City of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"locationState",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.locationState"},"Location State"),help:Object(c.h)(p.c,{id:"race.locationState-help"},"Location State of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"locationCountry",icon:"fas fa-heading",title:Object(c.h)(p.c,{id:"race.locationCountry"},"Location Country"),help:Object(c.h)(p.c,{id:"race.locationCountry-help"},"Location Country of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"ingress",icon:"fas fa-quote-right",type:"textarea",title:Object(c.h)(p.c,{id:"race.ingress"},"Ingress"),help:Object(c.h)(p.c,{id:"race.ingress-help"},"Ingress of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"body",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.body"},"Body"),help:Object(c.h)(p.c,{id:"race.body-help"},"Body of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"rules",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.rules"},"Rules"),help:Object(c.h)(p.c,{id:"race.rules-help"},"Rules of this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"veterinaryInfo",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.veterinaryInfo"},"Veterinærinfo"),help:Object(c.h)(p.c,{id:"race.veterinaryInfo-help"},"Veterinærinfo"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"checkpoints",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.checkpoints"},"Sjekkpunkter"),help:Object(c.h)(p.c,{id:"race.checkpoints-help"},"Sjekkpunkter"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"trailDescription",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.trailDescription"},"Løypebeskrivelse"),help:Object(c.h)(p.c,{id:"race.trailDescription-help"},"Løypebeskrivelse"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"program",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.program"},"Program"),help:Object(c.h)(p.c,{id:"race.program-help"},"Program"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"prices",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.prices"},"Prices"),help:Object(c.h)(p.c,{id:"race.prices-help"},"Prices for this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"resultDanger",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.resultDanger"},"resultDanger"),help:Object(c.h)(p.c,{id:"race.resultDanger-help"},"resultDanger for this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"resultWarning",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.resultWarning"},"resultWarning"),help:Object(c.h)(p.c,{id:"race.resultWarning-help"},"resultWarning for this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"resultSuccess",icon:"fas fa-quote-right",type:"textarea",rows:10,title:Object(c.h)(p.c,{id:"race.resultSuccess"},"resultSuccess"),help:Object(c.h)(p.c,{id:"race.resultSuccess-help"},"resultSuccess for this race"),onInput:this.updateField}),Object(c.h)(x,{saved:n,race:o,field:"image",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(c.h)(p.c,{id:"race.photo"},"Bilder"),help:Object(c.h)(p.c,{id:"race.photo-help"},"Images for this race."),onInput:this.updateField,updateField:this.updateFieldValue}),Object(c.h)("div",{class:"row"},o.classes&&o.classes.map(t=>Object(c.h)(e,null,Object(c.h)("div",{class:"col border rounded-lg m-2 p-3"},Object(c.h)("button",{class:"btn btn-danger float-right","data-id":t.id,onClick:this.removeRaceClass},Object(c.h)("i",{class:"fas fa-times"})),Object(c.h)("h5",null,t.title),["title","distance","minDistance","signupfee"].map(s=>Object(c.h)(e,null,Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:s},s),Object(c.h)("input",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceClass})))),["startDate","endDate"].map(s=>Object(c.h)(e,null,Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:s},s),Object(c.h)("input",{type:"date",class:"form-control",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceClass})))),["ingress","body","rules"].map(s=>Object(c.h)(e,null,Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:s},s),Object(c.h)("textarea",{type:"textarea",class:"form-control",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceClass})))))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col border rounded-lg m-2 p-3 bg-light"},Object(c.h)("h5",null,"Add new class"),["title","distance","minDistance","signupfee"].map(t=>Object(c.h)(e,null,Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:t},t),Object(c.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(b.a)(this,"newRaceClass."+t)})))),["ingress","body","rules"].map(t=>Object(c.h)(e,null,Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:t},t),Object(c.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(b.a)(this,"newRaceClass."+t)})))),Object(c.h)("button",{class:"btn btn-info",onClick:this.addRaceClass},"Add race class")))))))}})||l;t.a=_}).call(this,s("hosL").Fragment)},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"EE/7":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn"),h=(s("JWe/"),s("3pQw"),s("xDik")),u=s("2X7c"),p=s("mPUg");const m=d.a.marginTop(!0),b=d.a.marginBottom(),f=d.a.subMenuMarginTop(),g={isLoading:!1};let O=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.setHistoryType=e=>{this.setState({historyType:e})},this.setDay=(e,t,s)=>{this.setState({yyyy:e,mm:t,dd:s})},this.resetDay=()=>{this.setState({yyyy:null,mm:null,dd:null})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g),this.loadAll()}async loadAll(){this.setState({isLoading:!0}),await this.loadFeed(),this.setState({isLoading:!1})}async loadFeed(e=this.props){const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,i=(new Date).getMonth()+1,{month:o=i,year:n=r.a.getYear(),team:l=a,dog:c={}}=e;await t.getFeed({month:o,year:n,team:l,dog:c.id})}componentDidMount(){this.loadAll()}render(){const{isLoading:e,historyType:t,yyyy:s,mm:a,dd:i}=this.state,o=e=>{let o=!0;return t&&(o=e.historyType===t),o&&s&&a&&i&&(o=e.year===s&&e.month===a&&e.day===i),o},{userStore:l,appState:d}=this.props.stores,{darkmode:g}=d,{month:O,year:v}=this.props,{historyFeed:y,isAdmin:j}=l;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${m};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${f}; background-color: ${g?"#191d21":"#f8f9fa"};`},j&&Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-user-shield"})," ",Object(n.h)(c.c,{id:"home.admin"},"Admin")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(c.c,{id:"feed.dashboard"},"Dashboard")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/feed",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(c.c,{id:"feed.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/todo",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(c.c,{id:"feed.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 mb-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("span",{class:"float-right"},Object(n.h)(u.a,{stores:this.props.stores,dog:{}})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.title"},"Siste fra hundene"))),Object(n.h)(p.a,{stores:this.props.stores,basehref:"/feed/",month:O,year:v,callback:this.setHistoryType,setDay:this.setDay}),!e&&y&&0===y.length&&Object(n.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom text-muted"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.no-log"},"Ingen hendelser fra hundene.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-1"},"Det er fint å legge inn hendelser (løpetid, skader, vaksinering, vetrinærbesøk, mm) og bilder av hundene i loggen.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-2"},"På denne måten så vil hele teamet ditt se hva som skjer med hundene og hva som trengs å følges opp. Dette er en slags ",Object(n.h)("strike",null,"Face"),"Dogbook for hundene deres.")),Object(n.h)("br",null),Object(n.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(n.h)("i",{class:"fas fa-dog"})," ",Object(n.h)(c.c,{id:"feed.add-log"},"Legg til logg på hundene"))),s&&a&&i&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-3"},Object(n.h)("button",{class:"btn btn-sm btn-secondary float-right",onClick:this.resetDay},Object(n.h)(c.c,{id:"feed.show-all-days"},"Vis alle")),Object(n.h)("h5",null,s,"-",r.a.padDate(a),"-",r.a.padDate(i),":")),y&&y.filter(o).map(e=>Object(n.h)(h.a,{stores:this.props.stores,line:e})),!e&&y&&0===y.filter(o).length&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix"},Object(n.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom text-muted"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.no-log"},"Ingen hendelser fra hundene.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-1"},"Det er fint å legge inn hendelser (løpetid, skader, vaksinering, vetrinærbesøk, mm) og bilder av hundene i loggen.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-2"},"På denne måten så vil hele teamet ditt se hva som skjer med hundene og hva som trengs å følges opp. Dette er en slags ",Object(n.h)("strike",null,"Face"),"Dogbook for hundene deres.")),Object(n.h)("br",null),Object(n.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(n.h)("i",{class:"fas fa-dog"})," ",Object(n.h)(c.c,{id:"feed.add-log"},"Legg til logg på hundene")))))))}})||o;t.a=O},ETxl:function(e){e.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},EcmK:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"c",(function(){return n}));var a=s("ivZ3"),i=function(e){return void 0===e&&(e=""),e.split(" ").filter(Boolean)},o=function(e,t){i(t).forEach((function(t){a.DomUtil.addClass(e,t)}))},n=function(e,t){i(t).forEach((function(t){a.DomUtil.removeClass(e,t)}))};t.b=function(e,t,s){null!=e&&s!==t&&(null!=t&&t.length>0&&n(e,t),null!=s&&s.length>0&&o(e,s))}},EzH7:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("ox/y"),s("Utv1"),s("/eY4")),l=s("OhSV");s("go65"),s("Y3FI");const c=s("ZOvn").a.marginTopBack(!1),d={searchText:"",showInfo:{}};let h=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d)}async loadTeams(){this.setState({isLoading:!0});const{teamStore:e,userStore:t,messageStore:s}=this.props.stores;await e.load(void 0,!1,{addData:["workoutSummary","musherSummary"]}),await t.getNotifications(),await s.getUnReadMessages(),this.setState({isLoading:!1})}componentDidMount(){this.loadTeams()}render(){const{teamStore:e}=this.props.stores,{teams:t}=e;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${c}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h1",null,Object(n.h)(l.c,{id:"settings.team"},"Team")))),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 bg-light rounded-lg",style:"font-size: 1.2em;"},t&&t.map((e,t)=>{const s=e.image&&e.image.s3SmallLink?e.image:null;return Object(n.h)("div",{class:"row "+(t>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRoundedThumb mr-3",style:s?`background-image: url("${s.s3SmallLink}"); background-size: cover;`:"line-height: 1.0em;"},!s&&Object(n.h)("i",{class:"fas fa-users text-muted mt-0",style:"font-size: 13px;"})),Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},Object(n.h)("a",{href:"/settings/team/"+e.id,class:"stretched-link"},e.name)),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"}))))}))))}})||o;t.a=h},F2rU:function(e){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,s){return""+s}image(e,t,s){return""+s}br(){return""}}},FIWN:function(e){"use strict";var t=function(){};e.exports=t},FTgN:function(e,t,s){"use strict";var a=s("7L9N"),i=s("ivZ3"),o=s("GdJW"),n=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.createLeafletElement=function(e){return new i.Control.Scale(e)},t}(s("fZV/").a);t.a=Object(o.d)(n)},Fcif:function(e,t,s){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}s.d(t,"a",(function(){return a}))},"Fg+7":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("fh8t"),l=s.n(r),c=s("ZOvn");let d=Object(n.a)(a=class extends i.Component{render(){const{news:t}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{language:n="en"}=a,{isAdmin:r}=s;return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},t.images&&t.images[0]?Object(i.h)("img",{loading:"lazy",src:t.images[0].s3LargeLink,class:"img-fluid border rounded-lg"}):"",Object(i.h)("h1",null,r&&Object(i.h)("i",{class:`fas fa-eye${t.active?" text-success":"-slash text-danger"} float-right`})," ",c.a.replaceImages(t.title,t.images,n)),Object(i.h)("div",{class:"text-muted"},Object(i.h)("small",null,o.a.isoDate(t.createdDate)," - ",t.tag)),Object(i.h)("p",{class:"clearfix"},Object(i.h)("strong",null,c.a.replaceImages(t.ingress,t.images,n))),Object(i.h)(l.a,{markdown:c.a.replaceImages(t.body,t.images,n),markdownOpts:c.a.getMarkdownOptions()})))}})||a;t.a=d}).call(this,s("hosL").Fragment)},G5DU:function(e,t,s){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o,n=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),r=s("l8WD"),l=(o=r)&&o.__esModule?o:{default:o},c=s("ACWa"),d=s("ivZ3"),h=d.Control.extend({options:{className:"",onOff:"",handleOff:function(){}},onAdd:function(){var e=d.DomUtil.create("div",this.options.className);return d.DomEvent.disableClickPropagation(e),e},onRemove:function(e){return this.options.onOff&&e.off(this.options.onOff,this.options.handleOff,this),this}});t.default=(0,c.withLeaflet)(function(e){function t(){return i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"createLeafletElement",value:function(e){return new h(a({},e))}},{key:"componentDidMount",value:function(){(function e(t,s,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,s);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,s,a)}if("value"in i)return i.value;var n=i.get;return void 0!==n?n.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"render",value:function(){return this.leafletElement&&this.leafletElement.getContainer()?l.default.createPortal(this.props.children,this.leafletElement.getContainer()):null}}]),t}(c.MapControl))},GFNa:function(){},GXXz:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l=s("cneo"),c=s("0frO"),d=s("Utv1");s("Y3FI"),s("X9Km");Object(l.f)({enforceActions:"always"});const h=new(n=i((o=class extends c.a{constructor(){super("paypal",{namePlural:"paypals",sort:"createdDate",limit:100,api:{search:{url:"/api/paypal/",params:{limit:15,sort:"createdDate"}},load:{url:"/api/paypal/",params:{}},save:{url:"/api/paypal/",params:{}}}}),a(this,"paypal",n,this),a(this,"paypals",r,this)}async subscriptionCreate({planId:e}){const t=await d.a.fetchApi("/api/paypal/subscription-create",{publish:!0,method:"GET"},{planId:e});switch(console.log(t),t.status){case 200:return t}}async subscriptionCancel({planId:e}){const t=await d.a.fetchApi("/api/paypal/subscription-cancel/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return t}}async subscriptionDetail({id:e}){const t=await d.a.fetchApi("/api/paypal/subscription-detail/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return t}}}).prototype,"paypal",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"paypals",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);t.a=h},GcMA:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("OhSV"),h=s("ZOvn"),u=s("bbv7");let p=Object(d.d)(()=>({week:Object(r.h)(d.c,{id:"workout.graph.week"}),distance:Object(r.h)(d.c,{id:"workout.graph.distance"}),ascend:Object(r.h)(d.c,{id:"workout.graph.ascend"}),plan:Object(r.h)(d.c,{id:"workout.graph.plan"})}))(n=Object(c.a)(n=class extends r.Component{render(){const{workoutStore:t}=this.props.stores,{workout:s={}}=t,{gpx:a={},gpxInfo:o}=s,{gpxInfo:n={}}=a,c=i(i({},n),o),{speeds:d=[],elevations:p=[],temperatures:m=[],climbs:b=[],distances:f=[],ecor:g=[]}=c;let O=[],v=[],y=[],j=[],w=[];const k=[],x=[],S=[],_=[],T=[],D=[],I=[],P=[],L=[],C=[];if(p.length>0){const e=h.a.smoothArray(p,5).map((e,t)=>({x:t,y:e}));O.push(e),k.push("Elevation"),D.push("m")}if(d.length>0){const e=h.a.smoothArray(d,5).map((e,t)=>({x:t,y:3.6*e}));j.push(e),_.push("Speed"),L.push("km/t")}if(m.length>0){const e=h.a.smoothArray(m,2).map((e,t)=>({x:t,y:e}));v.push(e),x.push("Temp"),I.push("°C")}if(b.length>0){const e=h.a.smoothArray(b,2).map((e,t)=>({x:t,y:e}));y.push(e),S.push("Climblevel"),P.push("%")}if(g.length>0){const e=h.a.smoothArray(g,2).map((e,t)=>({x:t,y:1e3*e}));w.push(e),T.push("ECOR (kcal/kg/km)"),C.push("kcal/kg/km")}const A=[];if(s.distanceKm>0){const e=l.a.range(0,Math.ceil(c.calculatedTotalDistance||s.distanceKm),1),t=Math.ceil(e.length/5);Math.floor(e.length/t);for(let s=0,a=e.length;s<a;s+=t)A.push(e[s]);A.push(e[e.length-1])}return Object(r.h)(e,null,Object(r.h)("div",{class:"w-100 mt-3 mb-4"},Object(r.h)(u.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:e=>e+"km",xTicks:A,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:O,legendLeft:k,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" m",unitLeft:D,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:j,legendRight:_,showYTicksRight:j.length>0?1:0,yTicksRightPostfix:"km/t",unitRight:L,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),v.length>0&&Object(r.h)("div",{class:"w-100 mt-3 mb-4"},Object(r.h)(u.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:e=>e+"km",xTicks:A,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:v,legendLeft:x,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" °C",unitLeft:I,avgWindowLeft:[0],smoothLeft:[1]})),y.length>0&&Object(r.h)("div",{class:"w-100 mt-3 mb-4"},Object(r.h)(u.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:e=>e+"km",xTicks:A,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:y,legendLeft:S,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" %",unitLeft:P,avgWindowLeft:[0],smoothLeft:[1],dataRight:w,legendRight:T,showYTicksRight:w.length>0?1:0,yTicksRightVal:e=>l.a.format(e/1e3,2),unitRight:C,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))}})||n)||n;t.a=p}).call(this,s("hosL").Fragment)},GdJW:function(e,t,s){"use strict";s.d(t,"c",(function(){return l})),s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return d})),s.d(t,"d",(function(){return h}));var a=s("Fcif"),i=s("GeWT"),o=s.n(i),n=s("l8WD"),r=Object(n.createContext)({}),l=function(){return Object(n.useContext)(r)},c=r.Consumer,d=r.Provider,h=function(e){var t=function(t,s){return n.default.createElement(c,null,(function(i){return n.default.createElement(e,Object(a.a)({},t,{leaflet:i,ref:s}))}))};t.displayName="Leaflet("+(e.displayName||e.name||"Component")+")";var s=Object(n.forwardRef)(t);return o()(s,e),s}},GeWT:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,i=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,n=Object.getOwnPropertyDescriptor,r=Object.getPrototypeOf,l=r&&r(Object);e.exports=function e(c,d,h){if("string"!=typeof d){if(l){var u=r(d);u&&u!==l&&e(c,u,h)}var p=i(d);o&&(p=p.concat(o(d)));for(var m=0;m<p.length;++m){var b=p[m];if(!(t[b]||s[b]||h&&h[b])){var f=n(d,b);try{a(c,b,f)}catch(e){}}}return c}return c}},"Gx/q":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=(s("OhSV"),s("nHdA")),l=s("irB3"),c=(s("UwwE"),s("8Lgr")),d=(s("QkTp"),s("ZOvn"));let h=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.removeUser=async function(e){let s=e.target.dataset.id,a=e.target.dataset.email,i=e.target.dataset.team;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.id,a=e.target.parentNode.dataset.email,i=e.target.parentNode.dataset.team),console.log("id, email, team",s,a,i);const{teamStore:o}=t.props.stores;await o.removeMember(i,{id:s,email:a})}}render(){const{user:t,team:s={}}=this.props,{userStore:a,teamStore:n}=this.props.stores,{user:h,isAdmin:u}=a,p=a.findTeams(t.teams),m=n.findMusherSummary(t.id,s.id)||{},b=s.user===h.id,f=d.a.getImage({user:t,team:s}),g=d.a.displayName(t);return Object(i.h)("div",{class:"w-100 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded",style:f?`background-image: url("${f}"); background-size: cover;`:""},!f&&Object(i.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(i.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(i.h)("h5",null,g),Object(i.h)("div",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)("div",{class:"d-flex justify-content-left"},t.cellphone&&Object(i.h)("div",{class:"mr-2"},Object(i.h)("i",{class:"fas fa-mobile-alt"})," ",t.cellphone),t.email&&Object(i.h)("div",{class:"mr-2"},Object(i.h)("i",{class:"fas fa-envelope ml-3"})," ",t.email),t.url&&Object(i.h)("div",{class:"mr-2"},Object(i.h)("a",{href:d.a.asUrl(t.url),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-link"}))),t.facebook&&Object(i.h)("div",{class:"mr-2"},Object(i.h)("a",{href:d.a.asFacebookLink(t.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"}))),t.instagram&&Object(i.h)("div",{class:"mr-2"},Object(i.h)("a",{href:d.a.asInstagramLink(t.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"}))),t.snapchat&&Object(i.h)("div",{class:"mr-2"},Object(i.h)("a",{href:d.a.asSnapchatLink(t.snapchat),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-snapchat"})))))),u&&Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("details",null,Object(i.h)("summary",null,"settings"),Object(i.h)("xmp",null,JSON.stringify(t.settings,null,4))),Object(i.h)("details",null,Object(i.h)("summary",null,"subscription"),Object(i.h)("xmp",null,JSON.stringify(t.subscription,null,4))),"lastActivityEpoch: ",o.a.isoDate(t.lastActivityEpoch),Object(i.h)("br",null),"activities: ",o.a.format(t.activities),Object(i.h)("br",null),"isVeterinary: ",JSON.stringify(t.isVeterinary),Object(i.h)("br",null))),t.teams&&Object(i.h)(e,null,p.map(e=>Object(i.h)("span",{class:"badge badge-pill badge-info mr-2"},e.name)),Object(i.h)("br",null)),s.id&&m&&Object(i.h)(e,null,Object(i.h)("small",{class:"text-muted"},"Total:",m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(c.a,{stores:this.props.stores,value:m.distanceKm})),m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(l.a,{stores:this.props.stores,value:m.elevation})),m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-clock"})," ",o.a.secToHms(m.duration||0))),Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},"Avg:",m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(c.a,{stores:this.props.stores,value:m.avgDistance})),m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(l.a,{stores:this.props.stores,value:m.avgElevation})),m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-clock"})," ",o.a.secToHms(m.avgDuration||0)),m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(r.a,{stores:this.props.stores,value:m.speedAvg})),m&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-dog"})," ",o.a.format(m.avgDogs,1))))),Object(i.h)("div",null,b&&t.id!==h.id&&Object(i.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":t.email,"data-id":t.id,"data-team":s.id},Object(i.h)("i",{class:"fas fa-ban"})),!b&&t.id===h.id&&Object(i.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":t.email,"data-id":t.id,"data-team":s.id},Object(i.h)("i",{class:"fas fa-sign-out-alt"}),s.id)))))}})||a;t.a=h}).call(this,s("hosL").Fragment)},"H+uI":function(e){function t(e,t){return e<t}function s(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==i.call(e)}function a(e){return e}var i=Object.prototype.toString;e.exports=function(e){return e&&e.length?function(e,t,a){for(var i=-1,o=e.length;++i<o;){var n=e[i],r=t(n);if(null!=r&&(void 0===l?r==r&&!s(r):a(r,l)))var l=r,c=n}return c}(e,a,t):void 0}},HEJd:function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4"));s("OhSV"),s("ZOvn");let n=Object(o.a)(a=class extends i.Component{constructor(...e){super(...e),this.setApiServer=e=>{const{apiserver:t}=e.target.closest("button").dataset,{appState:s}=this.props.stores;s.setApiServer(t)},this.copyToClipboard=e=>{this.textArea.select(),document.execCommand("copy"),e.target.focus(),this.setState({copySuccess:"Copied!"})}}render(){const{showError:e={},copySuccess:t}=this.state,{appState:s}=this.props.stores,{jwtToken:a,userEmail:o}=s;return Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"JWT Token: ",o),Object(i.h)("textarea",{class:"form-control",value:a,rows:5,onClick:this.copyToClipboard,ref:e=>this.textArea=e}),Object(i.h)("small",{id:"passwordHelpBlock",class:"form-text text-success"},t))}})||a;t.a=n},HoYC:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("2JTI")),o=a(s("p3hn")),n=a(s("MlNc")),r=s("u28A");t.default=function e(t){return(0,i.default)(t)?!(parseFloat(t)>r.MAXLON||t<r.MINLON):!!(0,o.default)(t)&&e((0,n.default)(t))}},HqZR:function(e,t,s){"use strict";(function(e){function a(e){return.621371*e}var i,o=s("hosL"),n=s("Utv1"),r=s("/eY4"),l=s("cneo"),c=s("fh8t"),d=s.n(c),h=s("6FDT"),u=s.n(h),p=s("ABWa"),m=s.n(p),b=s("ZOvn"),f=s("5eBG"),g=s("/mwY"),O=s("8bLb"),v=s("P2xA"),y=s("FTgN"),j=s("/kKD"),w=s("+5/p"),k=s("9rGW"),x=s("zHmd"),S=s.n(x),_=s("Dq2H"),T=s.n(_),D=(s("yDvG"),s("d457")),I=s.n(D),P=(s("3/Ns"),s("G5DU")),L=s.n(P),C=s("68RK"),A=(s("A1fj"),s("ivZ3")),E=s.n(A);const F={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},{BaseLayer:M,Overlay:R}=f.b;delete E.a.Icon.Default.prototype._getIconUrl,E.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});const z=function(e){return E.a.divIcon({html:`<span>${e.getChildCount()}</span>`,className:m.a["marker-cluster-custom"],iconSize:E.a.point(40,40,!0)})};let U=Object(r.a)(i=class extends o.Component{constructor(e){super(e),this.mapRef=Object(o.createRef)(),this.polyRef=Object(o.createRef)(),this.handleViewportChanged=e=>{this.setState({mapCenter:e.center,mapZoom:e.zoom})},this.handleLocationFound=e=>{e.latlng&&this.setState({hasLocation:!0,latlng:e.latlng})},this.onEachFeature=(e,t)=>{const{gpxInfo:s={}}=this.props,a=`<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${n.a.format(s.totalDistance,2)} km</li>\n\t\t\t\t<li>Max speed: ${n.a.format(s.maxSpeed,1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${n.a.format(s.avgSpeed,1)} km/t</li>\n\t\t\t\t<li>Ascent: ${n.a.format(s.ascent||s.calculatedAscend,0)} m</li>\n\t\t\t\t<li>Descent: ${n.a.format(s.decent||s.calculatedDescend,0)} m</li>\n\t\t\t\t<li>Duration: ${n.a.secToHms(s.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`;t.bindPopup(a)},this.handleClick=e=>{const{appState:t}=this.props.stores;t.setLatlng(e.latlng)},this.zoomToGeoJSON=e=>{if(e.target){let t=e.target.getBounds();t&&t._northEast&&this.setState({bounds:t})}},this.zoomToMarkers=(e=[],t=!1)=>{const{hasZoomedToMarkers:s}=this.state;if((t||!s)&&e.length&&e.length>0){const t=this.mapRef.current.leafletElement,s=E.a.latLngBounds([]);e.forEach(e=>{s.extend([e.lat,e.lng])}),t.fitBounds(s),this.setState({hasZoomedToMarkers:!0})}},this.zoomToAllMarkers=()=>{const{waypoints:e=[]}=this.props;this.zoomToMarkers(e,!0)},this.zoomToFavoriteMarkers=()=>{const{zoomToMarkers:e=[],waypoints:t=[]}=this.props;this.zoomToMarkers(e.length>0?e:t,!0)},this.overlayAdd=e=>{const{name:t}=e,{visibleLayers:s}=this.state;s[t]=!0,this.setState({visibleLayers:s})},this.overlayRemove=e=>{const{name:t}=e,{visibleLayers:s}=this.state;s[t]=!1,this.setState({visibleLayers:s})},this.polylineOptions=()=>{const{gpxInfo:e}=this.props,{rangeSteps:t}=this.state;let{maxHslColor:s}=this.state;const{appState:a}=this.props.stores,{mapColorMode:i,mapRangeMin:o,mapRangeMax:r}=a;let l=o,c=r;"speed"===i&&e&&e.speeds&&e.speeds.length>0&&(l=Math.floor(Math.min(...e.speeds.map(e=>3.6*e))),c=Math.ceil(Math.max(...e.speeds.map(e=>3.6*e))));const d=n.a.range(l,c,t),h=d.map(e=>{const t=function(e,t,s,a,i){return a+(e-t)*(i-a)/(s-t)}(e,l,c,0,s);let a;a=s-t;const{r:i,g:o,b:r}=n.a.hsl2Rgb(a,100,45);return{color:`rgb(${i}, ${o}, ${r})`}});return a.setMapRange(d,l,c),a.setMapColors(h),h},this.polylineOptionIdxFn=e=>{const{appState:t}=this.props.stores,{mapRange:s}=t;for(let t=0;t<s.length;++t)if(e.meta<=s[t])return t;return s.length},this.polylinetrackPointFactory=e=>{const{gpxInfo:t}=this.props,{appState:s}=this.props.stores,{mapColorMode:a,mapRangeMin:i,mapRangeMax:o}=s;let n=[];"speed"===a&&t.speeds&&t.speeds.length>0?n=t.speeds.map(e=>3.6*e):t&&t.climbs&&(n=t.climbs);return e.filter(e=>e[0]&&e[1]&&e[2]).map((e,t)=>{const s=E.a.latLng(e[1],e[0],e[2]);return n&&n.length>0?(s.meta=n[t]||0,s.meta>o&&(s.meta=o),s.meta<i&&(s.meta=i)):s.meta=0,s})},this.showSpeed=()=>{const{appState:e}=this.props.stores;e.setMapColorMode("speed")},this.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1}}geoJSONStyle(){return{color:"#0347A2",weight:2,fillOpacity:.5,fillColor:"#0347A2"}}componentWillReceiveProps(e){const{zoomToMarkers:t=[],waypoints:s=[]}=e,{zoomToMarkers:a=[]}=this.props;this.zoomToMarkers(t.length>0?t:s)}render(){const{userStore:t}=this.props.stores,{user:s}=t,{settings:i={}}=s,{visibleLayers:r,mapZoom:c,bounds:h=null}=this.state,{waypoints:p=[],zoomToMarkers:x=[],geojson:_,gpxInfo:D,mapId:P=1,center:A=[61.0779066,9.800984],zoom:U=5,minZoom:N=4,maxZoom:$=14,darkmode:W,height:B=500,heatmap:H=[],skipGeojson:V=!1,zoomToWaypoints:G=!1,fullscreenMap:q=!1,showSearch:K=!0,showZoomControl:Z=!0,showLayersControl:Y=!0,showFullscreenControl:X=!0,showScaleControl:J=!0,showRange:Q=!0,layersControlPosition:ee="topright"}=this.props,{appState:te}=this.props.stores,{mapColorMode:se,mapRange:ae,mapColors:ie,mapRangeMin:oe,mapRangeMax:ne}=te,re=Object(l.i)(_),le=n.a.asObject(re,"features",0,"geometry","coordinates"),ce=x.length>0||p.length>0;let de,he;const ue=[];if(le&&le[0]&&le[0][0]&&(de=le[0][0]&&le[0][0][0]?[le[0][0][1],le[0][0][0]]:[le[0][1],le[0][0]],he=le[le.length-1][0]&&le[le.length-1][0][0]?[le[le.length-1][0][1],le[le.length-1][0][0]]:[le[le.length-1][1],le[le.length-1][0]],D&&D.distances)){let e=0,t=0,s=10;switch(c){case 15:s=1;break;case 14:s=2;break;case 13:case 12:case 11:case 10:s=5;break;case 9:s=10;break;case 8:s=15;break;case 7:s=20;break;case 6:s=30;break;case 5:s=50;break;default:s=100}D.distances.forEach((o,n)=>{e+=i.imperial?a(o):o,t+=i.imperial?a(o):o,t>=s&&(t=0,le[n]&&Array.isArray(le[n])&&ue.push({lat:le[n][1],lng:le[n][0],title:Math.floor(e),body:""}))})}const pe=W?"OpenStreetMap.Dark":"OpenStreetMap.Mapnik",{isAdmin:me}=t;return Object(o.h)(e,null,Object(o.h)("div",{class:m.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchstart:b.a.captureAllEvents,onTouchend:b.a.captureAllEvents,onTouchmove:b.a.captureAllEvents,onScroll:b.a.captureAllEvents},Object(o.h)(g.a,{key:P,bounds:h,ref:this.mapRef,onViewportChanged:this.handleViewportChanged,minZoom:N,maxZoom:$,center:A,onClick:this.handleClick,onLocationfound:this.handleLocationFound,zoom:U,zoomControl:Z,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:q||!E.a.Browser.mobile,tap:q||!E.a.Browser.mobile,touchZoom:E.a.Browser.mobile,animate:!0,easeLinearity:.35,style:`width: 100%; min-height: ${B}px; height: 100%;`,className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove},Y&&Object(o.h)(f.b,{position:ee},Object(o.h)(M,{checked:"OpenStreetMap.Mapnik"===pe,name:"OpenStreetMap.Mapnik"},Object(o.h)(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(o.h)(M,{name:"OpenStreetMap.BlackAndWhite"},Object(o.h)(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),Object(o.h)(M,{checked:"OpenStreetMap.Dark"===pe,name:"OpenStreetMap.Dark"},Object(o.h)(O.a,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),me&&Object(o.h)(R,{name:"Windspeed"},Object(o.h)(v.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),me&&Object(o.h)(R,{name:"Temperature"},Object(o.h)(v.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),me&&Object(o.h)(R,{name:"Precipitation"},Object(o.h)(v.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),me&&Object(o.h)(R,{name:"Atmospheric pressure"},Object(o.h)(v.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),me&&Object(o.h)(R,{name:"Snow depth"},Object(o.h)(v.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"}))),X&&Object(o.h)(I.a,{position:"topright"}),J&&Object(o.h)(y.a,{metric:!0,imperial:!1}),r.Windspeed&&Object(o.h)(L.a,{position:"bottomright"},Object(o.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(o.h)("div",null,"Wind speed, m/s"),Object(o.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(o.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(o.h)("div",null,"0"),Object(o.h)("div",null,"2"),Object(o.h)("div",null,"3"),Object(o.h)("div",null,"6"),Object(o.h)("div",null,"12"),Object(o.h)("div",null,"25"),Object(o.h)("div",null,"50")),Object(o.h)("div",{style:" width: 260px; height: 5px; // background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),r.Temperature&&Object(o.h)(L.a,{position:"bottomright"},Object(o.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(o.h)("div",null,"Temperature, °C"),Object(o.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(o.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(o.h)("div",null,"-40"),Object(o.h)("div",null,"-20"),Object(o.h)("div",null,"0"),Object(o.h)("div",null,"20"),Object(o.h)("div",null,"40")),Object(o.h)("div",{style:" width: 260px; height: 5px; background-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%); "})))),r.Precipitation&&Object(o.h)(L.a,{position:"bottomright"},Object(o.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(o.h)("div",null,"Precipitation, mm/h"),Object(o.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(o.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(o.h)("div",null,"0"),Object(o.h)("div",null,"0.5"),Object(o.h)("div",null,"1"),Object(o.h)("div",null,"2"),Object(o.h)("div",null,"4"),Object(o.h)("div",null,"6"),Object(o.h)("div",null,"7"),Object(o.h)("div",null,"10"),Object(o.h)("div",null,"12"),Object(o.h)("div",null,"14"),Object(o.h)("div",null,"16"),Object(o.h)("div",null,"24"),Object(o.h)("div",null,"32"),Object(o.h)("div",null,"60")),Object(o.h)("div",{style:" width: 260px; height: 5px; background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%; "})))),r["Snow depth"]&&Object(o.h)(L.a,{position:"bottomright"},Object(o.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(o.h)("div",null,"Snow depth (m)"),Object(o.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(o.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(o.h)("div",null,"0.05"),Object(o.h)("div",null,"0.4"),Object(o.h)("div",null,"0.8"),Object(o.h)("div",null,"1.8"),Object(o.h)("div",null,"15")),Object(o.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%; "})))),r["Atmospheric pressure"]&&Object(o.h)(L.a,{position:"bottomright"},Object(o.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(o.h)("div",null,"Atmospheric pressure (hPa)"),Object(o.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(o.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(o.h)("div",null,"940"),Object(o.h)("div",null,"980"),Object(o.h)("div",null,"1010"),Object(o.h)("div",null,"1040"),Object(o.h)("div",null,"1080")),Object(o.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),H&&H.length>0&&Object(o.h)(S.a,{fitBoundsOnLoad:!ce,fitBoundsOnUpdate:!1,points:H,longitudeExtractor:e=>e[1],latitudeExtractor:e=>e[0],intensityExtractor:e=>parseFloat(e[2])}),le&&le.length>0&&Object(o.h)(u.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(le),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+se}),!V&&_&&de&&Object(o.h)(j.a,{data:_,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,onAdd:this.zoomToGeoJSON}),de&&Object(o.h)(w.a,{position:de,icon:C.a.get("marker")},Object(o.h)(k.a,null,"Start position: ",n.a.format(de[0],4),", ",n.a.format(de[1],4))),he&&Object(o.h)(w.a,{position:he,icon:C.a.get("flag")},Object(o.h)(k.a,null,"End position: ",n.a.format(he[0],4),", ",n.a.format(he[1],4))),ue&&ue.length>0&&Object(o.h)(e,null,ue.length>0&&ue.map(e=>Object(o.h)(w.a,{position:[e.lat,e.lng],draggable:!1,icon:C.a.getMarker({title:e.title,body:e.body,color:e.color,textColor:"#333"})},Object(o.h)(k.a,{position:[e.lat,e.lng]},Object(o.h)("h5",null,e.title),Object(o.h)(d.a,{markdown:e.body,markdownOpts:F}))))),Object(o.h)(T.a,{maxClusterRadius:10,iconCreateFunction:z,animate:!0,fitBoundsOnLoad:G},p.length>0&&p.map(e=>Object(o.h)(w.a,{position:[e.lat,e.lng],draggable:!1,icon:C.a.getDiv({icon:e.icon||"marker",title:e.title,body:e.body,color:e.color,textColor:e.textColor})}))))),Q&&ae&&ae.length>0&&Object(o.h)(e,null,Object(o.h)("div",{class:"mb-4"},Object(o.h)("div",{class:"float-right mt-1"},Object(o.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(o.h)("small",null,Object(o.h)("small",null,n.a.format(oe,0),Object(o.h)("span",{class:"text-muted"},"speed"===se?"km/t":"%")))),ae&&ae.length>0&&ae.map((e,t)=>Object(o.h)("div",{class:"float-left"},Object(o.h)("div",{style:`background-color: ${ie[t].color}; height: 13px; width: 10px;`}))),Object(o.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(o.h)("small",null,Object(o.h)("small",null,n.a.format(ne,0),Object(o.h)("span",{class:"text-muted"},"speed"===se?"km/t":"%"))))))))}})||i;t.a=U}).call(this,s("hosL").Fragment)},I9l5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("Wyvv"))&&a.__esModule?a:{default:a};t.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default;return s="function"==typeof s?s:i.default,t.slice().sort((function(t,a){return s(e,t)-s(e,a)}))}},IQan:function(e){function t(e,t){return e>t}function s(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==i.call(e)}function a(e){return e}var i=Object.prototype.toString;e.exports=function(e){return e&&e.length?function(e,t,a){for(var i=-1,o=e.length;++i<o;){var n=e[i],r=t(n);if(null!=r&&(void 0===l?r==r&&!s(r):a(r,l)))var l=r,c=n}return c}(e,a,t):void 0}},ISGx:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("cneo"),h=s("OhSV"),u=s("fh8t"),p=s.n(u),m=s("Y3FI"),b=s("s4FZ"),f=s("ZQlJ"),g=s("sqi2"),O=s("/922"),v=s("eQ6k"),y=s("+JSK"),j=s("vY+r"),w=s("nHdA"),k=s("irB3"),x=s("UwwE"),S=s("8Lgr"),_=s("QkTp"),T=s("ZOvn");const D={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:15,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()};let I=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.likeWorkout=async function(e){const s=parseInt(e.target.closest(".imageContainer").dataset.id,10),{workoutStore:a}=t.props.stores,{likeWorkout:i}=t.state;i[s]=!0,t.setState({likeWorkout:i}),setTimeout(()=>{const{likeWorkout:e}=t.state;delete e[s],t.setState({likeWorkout:e})},1200);const o=await a.likeWorkout({id:s});o&&200===o.status&&t.addLikeToFeed(s,o.data)},this.addCommentToFeed=({type:e,workout:t,response:s,commentId:a,replyId:i})=>{const{teamStore:o}=this.props.stores;switch(e){case"likeComment":o.addLikeToComment({id:t.id,data:s.data,commentId:a});break;case"likeReply":o.addLikeToCommentReply({id:t.id,data:s.data,commentId:a,replyId:i});break;default:a?o.addCommentToWorkoutComment({id:t.id,data:s.data,commentId:a}):o.addCommentToWorkout({id:t.id,data:s.data})}},this.addLikeToFeed=(e,t)=>{const{teamStore:s}=this.props.stores;s.addLikeToWorkout({id:e,data:t})},this.toggleAddComment=e=>{const t=e.target.closest("button").dataset.id,{showAddComment:s}=this.state;s[t]?delete s[t]:s[t]=!0,this.setState({showAddComment:s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.shareLink=e=>{const{url:t,title:s,text:a}=e.target.closest("button").dataset,{appState:i}=this.props.stores;i.shareUrl({url:t,title:s,text:a})},this.showWorkoutDetail=e=>{if("a"===e.target.localName)return!1;const t=e.target.closest("#workoutDetail");if(t){const{id:e}=t.dataset;e&&(console.log({target:t,id:e}),Object(m.route)("/workouts/public/"+e))}},this.state=i({},D),this.inputRef={},this.containerRef=null}render(){const{feed:t,onTeamClick:s=(()=>{}),onUserClick:a=(()=>{}),onDogClick:o=(()=>{})}=this.props,{showAddComment:n,showDate:c,likeWorkout:u}=this.state,{teamStore:m,userStore:D,appState:I}=this.props.stores,{user:P,isAdmin:L}=D,{language:C="en"}=P,{hasShareApi:A}=I,{publicDogs:E}=m,F=m.findPublicTeam(t.team)||{},M=(D.findTeamAmbition({ambition:F.ambitions,language:C}),D.findTeamType({type:F.type,language:C})),R=!(!F||!F.members)&&F.members.some(e=>e===P.id);let z;F.image&&F.image.s3SmallLink?z=F.image:F.images&&F.images[0]&&F.images[0].s3SmallLink&&(z=F.images[0]);const{likes:U,comments:N}=t,$=t.likes&&t.likes.findIndex(e=>e.user===P.id)>-1,W=F&&F.followers?F.followers.length:0,B=F.members&&F.members.indexOf(P.id)>-1,H=F&&F.followers&&F.followers.indexOf(P.id)>-1,V=F.followRequests&&F.followRequests.findIndex(e=>e.id===P.id)>-1,G=D.findEquipment({equipment:t.equipment,language:C}),q=D.findEquipment({equipment:t.equipment,field:"icon"}),{gpxInfo:K={}}=t,Z=[];if(t.mapImage&&Z.push(i(i({},t.mapImage),{},{type:"map"})),t.images){const e=Object(d.i)(t.images);Z.push(...e)}const{currentLocationGeocode:Y={},yrWeather:X=[]}=t,J=T.a.getViews(t.statistics),Q=T.a.getAdminData(t.statistics);return F&&F.name?Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex position-relative"},Object(r.h)("div",{class:"text-center"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:z?`background-image: url("${z.s3SmallLink}"); background-size: cover;`:""},!z&&Object(r.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(r.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(r.h)("span",{class:"badge badge-pill badge-secondary float-right"},M),Object(r.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em;"},F.public?Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+F.uuidv4,onClick:e=>s(e,F.uuidv4),class:"stretched-link"},F.name)):Object(r.h)(e,null,F.name)),Object(r.h)("div",{class:"mb-2"},t.date&&Object(r.h)("small",{class:"text-muted",onClick:this.toggleDate},c?l.a.formatDate(t.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):l.a.formatDistance(t.date,new Date,{locale:"no-NB"})),1===t.public?Object(r.h)(e,null,Object(r.h)("small",{class:"ml-2 text-muted"},Object(r.h)("i",{class:"fas fa-globe-europe"}))):Object(r.h)(e,null,Object(r.h)("small",{class:"ml-2 text-muted"},Object(r.h)("i",{class:"fas fa-users"})," (",l.a.format(W),")")),Object(r.h)("small",{class:"text-muted"},t.equipment>0&&Object(r.h)(e,null,Object(r.h)("i",{class:q+" ml-2"})," ",G),t.dogs>0&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-dog ml-2"})," ",t.dogs.length),t.track>0&&Object(r.h)(e,null,Object(r.h)("i",{class:`fas fa-map-marked text-${t.track>0?"success":"danger"} ml-2`})),t.sledWeight>0&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(r.h)(x.a,{stores:this.props.stores,value:t.sledWeight})),0!==t.temperature&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(r.h)(_.a,{stores:this.props.stores,value:t.temperature})),t.dogs&&t.dogs.length>0&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-dog ml-2"})," ",l.a.format(t.dogs.length,0)),Y&&Y.formattedCounty&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-map-marker-alt ml-2"})," ",Y.formattedCounty),t.moonIllumination&&t.moonIllumination.phaseIcon&&Object(r.h)("span",{class:"float-right ml-2"},t.moonIllumination.phaseIcon))),L&&Object(r.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(r.h)("small",{class:"text-muted mr-2"},"Adm:"),Y&&Y.formatted_address&&Object(r.h)(e,null,Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",Y.formatted_address)),Q&&Object(r.h)(e,null,Object(r.h)("small",{class:"ml-2 text-muted"},"V: ",Q.count),Object(r.h)("small",{class:"ml-2 text-muted"},"R: ",Q.ranking," ",l.a.isNumber(Q.rankingTrend)&&Object(r.h)(e,null,Object(r.h)("i",{class:T.a.getClassForTrend(Q.rankingTrend)}))),Object(r.h)("small",{class:"ml-2 text-muted"},"D: ",l.a.format(Q.durationAvg/1e3,1),"s ",l.a.isNumber(Q.durationAvgTrend)&&Object(r.h)(e,null,Object(r.h)("i",{class:T.a.getClassForTrend(Q.durationAvgTrend)}))),t.statisticsCurrent&&t.statisticsCurrent.totalInteractions>0&&Object(r.h)("small",{class:"ml-2 text-muted"},"S: ",l.a.format(t.statisticsCurrent.totalInteractions,0)),t.shadowTags&&t.shadowTags.map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},t))))))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{id:"workoutDetail",class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;",onClick:this.showWorkoutDetail,"data-id":t.uuidv4},Object(r.h)(p.a,{markdown:T.a.replaceImages(t.name,t.images,C),markdownOpts:T.a.getMarkdownOptions()})),Object(r.h)("div",{class:"clearfix col-12"},Object(r.h)(p.a,{markdown:T.a.replaceImages(t.comment,t.images,C),markdownOpts:T.a.getMarkdownOptions()}))),Object(r.h)("div",{class:"row mt-1"},t.distanceKm>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-road"})," ",Object(r.h)(h.c,{id:"workout.calendar.distance"},"Distanse"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(r.h)(S.a,{stores:this.props.stores,value:t.distanceKm}))),t.elevation>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-mountain"})," ",Object(r.h)(h.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(r.h)(k.a,{stores:this.props.stores,value:t.elevation}))),t.duration>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"workout.calendar.duration"},"Varighet"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},l.a.secToHms(t.duration,!0))),t.speedAvg>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(r.h)(h.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},K&&K.avgGpsMovingSpeed>0?Object(r.h)(e,null,Object(r.h)(w.a,{stores:this.props.stores,value:3.6*K.avgGpsMovingSpeed})):Object(r.h)(e,null,Object(r.h)(w.a,{stores:this.props.stores,value:t.speedAvg}))))),Object(r.h)("div",{class:"container-fluid px-0 mt-1"},Object(r.h)("div",{class:"row"},Object(r.h)(b.a,{stores:this.props.stores,images:Z,id:t.id,dblClick:this.likeWorkout,likeRef:u}))),t.dogs&&t.dogs.length>0&&Object(r.h)("div",{class:"container-fluid px-0 mt-1"},Object(r.h)("div",{class:"row pt-2"},Object(r.h)(f.a,{stores:this.props.stores,dogs:t.dogs,allDogs:E,onDogClick:o}))),Object(r.h)("div",{class:"mt-2"},Object(r.h)(y.a,{stores:this.props.stores,likes:U,comments:N,type:"team",onTeamClick:s,onUserClick:a})),!B&&!H&&!V&&Object(r.h)("div",{class:"clearfix mb-2"},Object(r.h)(v.a,{stores:this.props.stores,team:F,buttonOnly:!0})),Object(r.h)("div",null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{type:"button",class:`imageContainer btn btn-sm btn-outline-${$?"primary":"secondary"} btn-lg btn-block ${$?"text-primary":""} text-overflow`,"data-id":t.id,onClick:this.likeWorkout},Object(r.h)("i",{class:($?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(r.h)(h.c,{id:"comments.like"},"Lik"))),Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":t.id,onClick:this.toggleAddComment},Object(r.h)("i",{class:"fas fa-comment"})," ",Object(r.h)(h.c,{id:"comments.comment-add"},"Kommentar"))),A?Object(r.h)(e,null,Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+t.uuidv4,"data-title":"title: "+t.title},Object(r.h)("i",{class:"fas fa-share"})," ",Object(r.h)(h.c,{id:"story.share"},"Del")))):Object(r.h)(e,null,Object(r.h)("div",{class:"col text-center"},Object(r.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+t.uuidv4,target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fas fa-share"})," ",Object(r.h)(h.c,{id:"story.share"},"Del")))))),J>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"mt-2"},Object(r.h)(j.a,{stores:this.props.stores,views:J,object:t,type:"team",isTeamAdmin:R,isAdmin:L,onTeamClick:s,onUserClick:a}))),Object(r.h)("div",{class:"mt-2"},n[t.id]&&Object(r.h)(O.a,{stores:this.props.stores,workout:t,inputRef:e=>this.inputRef[t.id]=e,inputRefObject:this.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:this.addCommentToFeed}),Object(r.h)(g.a,{stores:this.props.stores,workout:t,col:"12",offset:"0",compact:!1,callback:this.addCommentToFeed}))):""}})||n;t.a=I}).call(this,s("hosL").Fragment)},IpmI:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ntdL")),o=a(s("hiSt")),n=a(s("HoYC"));t.default=function(e){var t=(0,i.default)(e),s=t.latitude,a=t.longitude;if(Array.isArray(e)&&e.length>=2)return(0,n.default)(e[0])&&(0,o.default)(e[1]);if(void 0===s||void 0===a)return!1;var r=e[a],l=e[s];return void 0!==l&&void 0!==r&&(!1!==(0,o.default)(l)&&!1!==(0,n.default)(r))}},JHM6:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("Cqs7"))&&a.__esModule?a:{default:a};t.default=function(e){var t=(0,i.default)(e),s=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat((t.minLat+(t.maxLat-t.minLat)/2).toFixed(6)),longitude:parseFloat(s.toFixed(6))}}},"JSc/":function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(16).then(function(){var t=s("atwK");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},"JWe/":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=s("cneo"),p=s("OhSV"),m=s("fh8t"),b=s.n(m),f=(s("UJvz"),s("sqi2")),g=s("/922"),O=s("s4FZ"),v=s("ZQlJ"),y=s("q/oJ"),j=s("gWxU"),w=s("Nanz"),k=s("+JSK"),x=s("vY+r"),S=s("nHdA"),_=s("irB3"),T=s("UwwE"),D=s("8Lgr"),I=s("QkTp"),P=s("ZOvn");const L=P.a.getMaxLoadIndex(),C={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let A=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.likeWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=t.props,a=s.id,{likeWorkout:i}=t.state;i[a]=!0,t.setState({likeWorkout:i}),setTimeout(()=>{const{likeWorkout:e}=t.state;delete e[a],t.setState({likeWorkout:e})},1200);await e.likeWorkout({id:a})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.shareLink=e=>{const{url:t,title:s,text:a}=e.target.closest("button").dataset,{appState:i}=this.props.stores;i.shareUrl({url:t,title:s,text:a})},this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.onDogClick=(e,t,s)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=i({},C),this.updateTimer={},this.inputRef={}}render(){const{showDate:t,showAddComment:s,viewImageIdx:a={},likeWorkout:o,dogs:l,showTeam:h,showDog:m}=this.state,{workout:C,showDate:A,wrapperClasses:E="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:F="row"}=this.props,{userStore:M,appState:R}=this.props.stores,{viewmode:z,hasShareApi:U}=R,{user:N,dogs:$}=M,{language:W="en"}=N,B=M.findIntensity({code:C.intensity,language:W})||{},H=M.findTeam(C.team,!0)||{},V=H.name,G=[];V&&G.push(V),C.teams&&C.teams.forEach(e=>{M.findTeam(e)&&G.push(M.findTeam(e))});const{likes:q=[],comments:K=[]}=C,Z=C.likes&&C.likes.findIndex(e=>e.user===N.id)>-1,{gpxInfo:Y={}}=C,{loadIndex:X=0}=Y,J=M.findEquipment({equipment:C.equipment,language:W}),Q=M.findEquipment({equipment:C.equipment,field:"icon"});let ee;H.image&&H.image.s3SmallLink?ee=H.image:H.images&&H.images[0]&&H.images[0].s3SmallLink?ee=H.images[0]:C.image&&C.image.s3SmallLink&&(ee=C.image);const te=[];if(C.mapImage&&te.push(i(i({},C.mapImage),{},{type:"map"})),C.images){const e=Object(u.i)(C.images);te.push(...e)}let se;C&&C.gpxInfo&&C.gpxInfo.battegryLevelStart&&(se=100*(C.gpxInfo.battegryLevelStart-C.gpxInfo.battegryLevelEnd));const ae=P.a.getViews(C.statistics);return Object(c.h)(e,null,h&&Object(c.h)(y.a,null,Object(c.h)(j.a,{stores:this.props.stores,teamid:h,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),m&&Object(c.h)(y.a,null,Object(c.h)(w.a,{stores:this.props.stores,dogid:m,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:l})),Object(c.h)("div",{class:"w-100 mb-2"},Object(c.h)("div",{class:F},Object(c.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded "+n(C),style:(ee?`background-image: url("${ee.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!ee&&Object(c.h)("i",{class:`${r(C)} text-${B.class?B.class:"muted"} mt-3`,style:"font-size: 40px;"})),0!==C.temperature&&Object(c.h)(e,null,Object(c.h)("span",{class:"text-muted font-weight-light"},Object(c.h)(I.a,{stores:this.props.stores,value:C.temperature})))),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("span",{class:"float-right"},1===C.isLocked&&Object(c.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===C.isInProgress&&Object(c.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===C.isInProgress&&Object(c.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(c.h)("a",{class:"stretched-link",href:"/workouts/"+C.id},Object(c.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},C.name)),G&&G.length>0&&Object(c.h)("small",{class:"font-weight-lighter"},G.map((t,s)=>Object(c.h)(e,null,s>0?", ":"",t))),Object(c.h)("br",null),Object(c.h)("small",{class:"text-muted"},C.date&&Object(c.h)("small",{onClick:this.toggleDate},A||t?d.a.formatDate(C.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):d.a.formatDistance(C.date,new Date,{locale:"no-NB"})),Object(c.h)("span",{class:`badge badge-${B.class} ml-2`},B.name),X>0&&Object(c.h)("span",{class:"ml-2 text-"+P.a.getLoadIndexColor(d.a.normalizeBetween(X,0,L,0,100))},Object(c.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(d.a.normalizeBetween(X,0,L,0,100))," - ",P.a.getLoadIndexText(d.a.normalizeBetween(X,0,L,0,100))),Object(c.h)("br",null)),Object(c.h)("small",null,Object(c.h)("div",{class:"text-muted"},C.garminId>0&&Object(c.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),C.stravaId>0&&Object(c.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),C.equipment>0&&Object(c.h)(e,null,Object(c.h)("i",{class:Q+" ml-2"})," ",J),C.dogs>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-dog ml-2"})," ",C.dogs.length),C.track>0&&Object(c.h)(e,null,Object(c.h)("i",{class:`fas fa-map-marked text-${C.track>0?"success":"danger"} ml-2`})),C.dogsLeft>0&&Object(c.h)(e,null,Object(c.h)("i",{class:`fas fa-crosshairs text-${C.dogsLeft&&C.dogsRight?"success":"danger"} ml-2`})),C.sledWeight>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(c.h)(T.a,{stores:this.props.stores,value:C.sledWeight})),se>0&&Object(c.h)("span",{class:"text-muted ml-2"},Object(c.h)("i",{class:"fas fa-battery-three-quarters"})," ",d.a.format(se,1),"% ",Object(c.h)(p.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(z)>-1&&Object(c.h)("span",{class:"text-muted"},Object(c.h)("i",{class:"fas fa-balance-scale"})," ",d.a.format(C.kcalBurnedTotal)," ",Object(c.h)(p.c,{id:"workout.kcal"},"kcal"),Object(c.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(c.h)(T.a,{stores:this.props.stores,value:C.kcalMeatGramsTotal/1e3}),Object(c.h)("i",{class:"fas fa-fish ml-2"})," ",Object(c.h)(T.a,{stores:this.props.stores,value:C.kcalSalmonGramsTotal/1e3}),Object(c.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(c.h)(T.a,{stores:this.props.stores,value:C.kcalFatGramsTotal/1e3}))))),Object(c.h)("div",{class:E+" position-relative mt-2"},Object(c.h)("strong",null,C.description)),Object(c.h)("div",{class:E+" position-relative"},Object(c.h)(b.a,{markdown:P.a.replaceImages(C.comment,C.images,W),markdownOpts:P.a.getMarkdownOptions()})),Object(c.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(c.h)("div",{class:"container-fluid px-0"},Object(c.h)("div",{class:"row mt-1"},C.distanceKm>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(p.c,{id:"workout.calendar.distance"},"Distanse"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(c.h)(D.a,{stores:this.props.stores,value:C.distanceKm}))),C.elevation>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(p.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(c.h)(_.a,{stores:this.props.stores,value:C.elevation}))),C.duration>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-clock"})," ",Object(c.h)(p.c,{id:"workout.calendar.duration"},"Varighet"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},d.a.secToHms(C.duration,!0))),C.speedAvg>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(p.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},C.gpxInfo&&C.gpxInfo.avgGpsMovingSpeed>0?Object(c.h)(e,null,Object(c.h)(S.a,{stores:this.props.stores,value:3.6*C.gpxInfo.avgGpsMovingSpeed})):Object(c.h)(e,null,Object(c.h)(S.a,{stores:this.props.stores,value:C.speedAvg}))))))),["beta","advanced","normal"].indexOf(z)>-1&&Object(c.h)("div",{class:""+E},Object(c.h)("div",{class:"container-fluid px-0 mt-1"},Object(c.h)("div",{class:"row"},Object(c.h)(O.a,{stores:this.props.stores,images:te,id:C.id,dblClick:this.likeWorkout,likeRef:o})))),["beta","advanced","normal"].indexOf(z)>-1&&Object(c.h)(e,null,C.dogs&&C.dogs.length>0&&Object(c.h)("div",{class:"container-fluid px-0 mt-1"},Object(c.h)("div",{class:"row pt-2"},Object(c.h)(v.a,{stores:this.props.stores,dogs:C.dogs,allDogs:$,onDogClick:this.onDogClick}))),Object(c.h)("div",{class:"mt-2"},Object(c.h)(k.a,{stores:this.props.stores,likes:q,comments:K,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(z)>-1&&Object(c.h)(e,null,Object(c.h)("div",{class:E+" mb-0 position-relative mt-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:`btn btn-sm btn-outline-${Z?"primary":"secondary"} btn-lg btn-block ${Z?"text-primary":""}`,onClick:this.likeWorkout},Object(c.h)("i",{class:(Z?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(c.h)(p.c,{id:"comments.like"},"Lik"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":C.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," ",Object(c.h)(p.c,{id:"comments.comment-add"},"Kommentar"))),U?Object(c.h)(e,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+C.uuidv4,"data-title":"title: "+C.name},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(p.c,{id:"workout.share"},"Del")))):Object(c.h)(e,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+C.uuidv4,target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(p.c,{id:"workout.share"},"Del")))))),Object(c.h)("div",{class:E+" mt-2 mb-3"},s&&Object(c.h)(g.a,{stores:this.props.stores,workout:C,inputRef:e=>this.inputRef[C.id]=e,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(c.h)(f.a,{stores:this.props.stores,workout:C,col:"10",offset:"2",compact:!0})),ae>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"mt-2"},Object(c.h)(x.a,{stores:this.props.stores,views:ae,object:C,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||l;t.a=A}).call(this,s("hosL").Fragment)},JiIx:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=(s("ZOvn"),s("CLMH"));let l=Object(n.a)(a=class extends i.Component{render(){const{adminStore:t}=this.props.stores,{submenu:s}=this.props,{totalKey:a,totalUsersWeekNumber:n,totalUsersMonthNumber:l}=t;let c=0,d=0;if("weeklyTotal"===s)return Object(i.h)(e,null,Object(i.h)("h4",null,"Weekly: Accumulated Total Users & Dogs"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-acc-total-users-dogs-"+a,fieldsLeft:["totalUsersWeekAcc"],legendLeft:["totalUsersWeekAcc"],fieldsRight:["totalDogsWeekAcc"],legendRight:["totalDogsWeekAcc"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("table",{class:"table table-sm table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Year"),Object(i.h)("th",null,"Month"),Object(i.h)("th",null,"This month"),Object(i.h)("th",null,"Total"))),Object(i.h)("tbody",null,l&&l.map(e=>(d+=e.count,Object(i.h)("tr",null,Object(i.h)("td",null,e.year),Object(i.h)("td",null,e.month),Object(i.h)("td",null,e.count),Object(i.h)("td",null,d)))))),Object(i.h)("table",{class:"table table-sm table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Month"),Object(i.h)("th",null,"Year Week"),Object(i.h)("th",null,"This week"),Object(i.h)("th",null,"Total"))),Object(i.h)("tbody",null,n&&n.map(e=>(c+=e.count,Object(i.h)("tr",null,Object(i.h)("td",null,e.month),Object(i.h)("td",null,e.year," - ",e.week),Object(i.h)("td",null,e.count),Object(i.h)("td",null,c)))))),Object(i.h)("h4",null,"Weekly: Total Users & Dogs"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-total-users-dogs-"+a,fieldsLeft:["totalUsersWeek"],legendLeft:["totalUsersWeek"],fieldsRight:["totalDogsWeek"],legendRight:["totalDogsWeek"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Total Workouts & avg Teamsize"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-total-workouts-teamsize-"+a,fieldsLeft:["totalWorkoutsWeek"],legendLeft:["totalWorkoutsWeek"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Total Distance & Ascend"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-total-distance-ascend-"+a,fieldsLeft:["totalDistanceWeek"],legendLeft:["totalDistanceWeek"],fieldsRight:["totalAscendWeek"],legendRight:["totalAscendWeek"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Total Duration & Dogs running"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-total-duration-dogs-running-"+a,fieldsLeft:["totalDurationWeek"],legendLeft:["totalDurationWeek"],yTicksLeftVal:e=>o.a.secToHms(e,!0),fieldsRight:["totalDogsrunningWeek"],legendRight:["totalDogsrunningWeek"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}))}})||a;t.a=l}).call(this,s("hosL").Fragment)},Jzis:function(e,t,s){const{noopTest:a,edit:i,merge:o}=s("AkNA"),n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:a,table:a,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};n.def=i(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=i(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=i(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=i(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=i(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=i(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=o({},n),n.gfm=o({},n.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),n.gfm.nptable=i(n.gfm.nptable).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.gfm.table=i(n.gfm.table).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.pedantic=o({},n.normal,{html:i("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:a,paragraph:i(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:a,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:a,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};r.em=i(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=i(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=i(r.tag).replace("comment",n._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,r._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=i(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=i(r.reflink).replace("label",r._label).getRegex(),r.normal=o({},r),r.pedantic=o({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:i(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:i(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=o({},r.normal,{escape:i(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=i(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=o({},r.gfm,{br:i(r.br).replace("{2,}","*").getRegex(),text:i(r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:n,inline:r}},"K+T6":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("OhSV"),s("fh8t")),d=s.n(c),h=s("ZOvn");const u={likeMessage:{}};let p=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.addLike=async function(e){e.stopPropagation(),e.preventDefault();const s=e.target.closest(".inboxBubble").dataset.id,{messageStore:a}=t.props.stores,{likeMessage:i}=t.state;return i[s]=!0,t.setState({likeMessage:i}),setTimeout(()=>{const{likeMessage:e}=t.state;delete e[s],t.setState({likeMessage:e})},1200),await a.likeMessage({messageId:s}),!0},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u)}render(){const{likeMessage:t}=this.state,{message:s={},messageUser:a}=this.props,{userStore:i}=this.props.stores,{user:o}=i,{language:l="en"}=o,c=o.uuidv4===s.fromUser,u=h.a.displayNameShort(a),p=a.image||(a.images?a.images[0]:void 0),m=s.images||[];return Object(n.h)("div",{class:"position-relative"},Object(n.h)("div",{class:"d-flex "+(c?"justify-content-end":"justify-content-start")},Object(n.h)("div",{class:"d-flex align-items-start flex-column overflow-auto",style:"max-width: 80%;"},m&&m.length>0&&Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex flex-column",style:""+(c?"":"margin-left: 29px;")},r.a.isArray(m)&&m.map((t,a)=>Object(n.h)(e,null,Object(n.h)("div",{class:"px-0 overflow-hidden rounded-lg",style:"max-height: 50vh;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border rounded-lg",src:t.s3MediumLink,onClick:this.viewImage,"data-id":s.uuidv4,"data-idx":a})))))),Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative "+(c?"align-self-end":"")},!c&&Object(n.h)("div",{class:"text-center text-muted border rounded-circle imageRounded imageRoundedThumb pt-0 mr-1",style:(p?`background-image: url("${p.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important; line-height: 15px;"},!p&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},u)),Object(n.h)("div",{class:"d-flex flex-column"},Object(n.h)("div",{class:`inboxBubble py-2 px-3 rounded-lg position-relative ${c?"bg-primary text-white":"bg-secondary text-white"} overflow-hidden`,style:"overflow: auto;","data-id":s.uuidv4,onDblclick:c?null:this.addLike},Object(n.h)(d.a,{markdown:h.a.replaceImages(s.body,s.images,l,!1),markdownOpts:h.a.getMarkdownOptions()}),t[s.uuidv4]&&Object(n.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(n.h)("i",{class:"fas fa-heart likeStory"}))),Object(n.h)("div",{class:"flex-fill position-relative align-self-end mr-2"},s.likes&&s.likes.length>0&&Object(n.h)(e,null,Object(n.h)("div",{class:"position-absolute text-center",style:`line-height: 10px; bottom: 18px; right: ${c?"12px":"0px"};`},Object(n.h)("i",{class:"fas fa-thumbs-up text-warning"}))),c&&s.readDate&&Object(n.h)(e,null,Object(n.h)("div",{class:"position-absolute text-center text-muted border rounded-circle imageRounded imageRoundedIcon pt-0 bg-secondary",style:(p?`background-image: url("${p.s3SmallLink}"); background-size: cover;`:"")+" border-width: 1px !important; line-height: 11px; bottom: 18px; right: -8px;"},!p&&Object(n.h)("span",{class:"font-weight-lighter text-white",style:"font-size: 10px;"},u))),Object(n.h)("small",{class:"text-muted ml-2"},r.a.formatDistance(s.sentDate,new Date,{locale:"no-NB"}))))))))}})||o;t.a=p}).call(this,s("hosL").Fragment)},K5BL:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65");s("ETxl"),s("ZOvn");let c=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.commentTrack=async function(){const{callback:e=(()=>{}),commentId:s}=t.props,{track:a}=t.props,{trackStore:i}=t.props.stores,{comment:o=""}=t.state,n=await i.commentReplyTrack({id:a.id,commentId:s,comment:o});n&&200===n.status&&(t.setState({comment:""}),e({track:a,response:n}))}}render(){const{inputRef:e}=this.props,{comment:t}=this.state,{userStore:s}=this.props.stores,{user:a={}}=s,n=a.firstname?`${o.a.ucfirst(a.firstname,!0)}${o.a.ucfirst(a.lastname,!0)}`:""+o.a.ucfirst(a.email||"",!0),c=a.image||(a.images?a.images[0]:void 0);return Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(c?`background-image: url('${c.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!c&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},n)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),value:t,ref:e})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.commentTrack},Object(i.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=c},K5o1:function(e,t,s){"use strict";s.r(t),t.default=s.p+"a0c6cc1401c107b501efee6477816891.png"},K9Qx:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("go65"),l=s("OhSV"),c=(s("nHdA"),s("irB3"),s("UwwE"),s("8Lgr")),d=(s("QkTp"),s("ZOvn"));const h=[0,6];let u=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.setFocus=()=>{this.inputRef&&this.inputRef.focus()},this.editMonth=e=>{this.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:null,inputWeek:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},()=>this.setFocus())},this.editWeek=e=>{this.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,inputMonth:null,inputDay:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},()=>this.setFocus())},this.editDay=e=>{this.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:e.target.parentElement.dataset.day||e.target.dataset.day,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},()=>this.setFocus())},this.saveDistance=async function(){const{workoutPlanStore:e,workoutStore:s,userStore:a}=t.props.stores,{currentTeam:i}=s,n=a.findTeam(i)||"",{year:r,month:l}=t.props,{workoutPlans:c}=e,d=c[0]||{},{inputYear:h,inputMonth:u,inputWeek:p,inputDay:m,newDistance:b}=t.state,f=l||(new Date).getMonth()+1,g=r||o.a.getYear(),O=parseInt(f<8?g-1:g,10);if(d.id)await e.load(d.id);else{const t=await e.insert({title:`Workout plan for ${O} - ${O+1}: ${n}`,team:i,seasonYear:O,seasonMonth:6}),{id:s}=t.data;await e.load(s)}const{workoutPlan:v}=e,{id:y}=v;let j;h&&(j=m?"days":"weeks"),await e.saveField(y,j,{year:h,month:u,day:m,week:p,distance:b}),await e.load(y),t.resetInput(!0)},this.resetInput=e=>{if(e){const{inputYear:e,inputMonth:t,inputDay:s}=this.state,a=o.a.addDays(new Date(e,t-1,s,0,0,0,0),1);this.setState({showInput:!0,inputYear:a.getFullYear(),inputMonth:a.getMonth()+1,inputDay:a.getDate(),inputWeek:o.a.getWeek(a),newDistance:null}),this.setFocus()}else this.setState({showInput:!1,inputYear:null,inputMonth:null,inputDay:null,inputWeek:null,newDistance:null})},this.checkKeydown=e=>{switch(e.key){case"Enter":this.saveDistance();break;case"Escape":this.resetInput()}},this.updateWorkoutPlanTips=()=>{const{userStore:e}=this.props.stores,{user:t={}}=e,{settings:s={}}=t;this.setState({hideWorkoutPlanTips:s.hideWorkoutPlanTips})},this.toggleTips=async function(){const{hideWorkoutPlanTips:e}=t.state,{userStore:s}=t.props.stores,a=1===e?0:1;t.setState({hideWorkoutPlanTips:a}),await s.updateSetting({"settings.hideWorkoutPlanTips":a},{hideWorkoutPlanTips:a})}}componentDidMount(){this.updateWorkoutPlanTips()}render(){const{hideWorkoutPlanTips:t}=this.state,{appState:s,workoutPlanStore:a,userStore:n,teamStore:u}=this.props.stores,{user:p}=n,{language:m="en"}=p,{darkmode:b}=s,f=d.a.getDays(m),g=d.a.getMonths(m),{showInput:O,inputYear:v,inputMonth:y,inputWeek:j,inputDay:w,newDistance:k}=this.state,x=(new Date).getDate(),S=(new Date).getMonth()+1,_=(new Date).getFullYear(),T=(new Date).getTime(),{month:D=S,year:I=_,dog:P,basehref:L,showNavigation:C=!0,showHeader:A=!0,currentTeam:E}=this.props,F=parseInt(D<8?I-1:I,10),M=parseInt(D,10),R=parseInt(I,10),{month:z,year:U}=d.a.getNextMonth(M,R),{month:N,year:$}=d.a.getPrevMonth(M,R),W=o.a.getDaysInMonth(D,I),B=o.a.getWeeksInMonth(D,I),H=o.a.getDaysInWeek(B[0].week,I,D);let V=0,G=0,q=0;const K=W[W.length-1].getTime()>T,Z=a.findWorkoutPlanSummaryMonth(I,M)||{},{workoutPlan:Y,tips:X}=a,J=X[`${I}-${o.a.padDate(D)}`],Q=J&&(J.comments.length>0||J.distance),ee=u.findTeam(E)||{};return Object(i.h)(e,null,A&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},C&&Object(i.h)("a",{href:`${L||"/workouts/month/"}${z}/${U}/skipScroll`,class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(i.h)("i",{class:"fas fa-arrow-right"})),C&&Object(i.h)("a",{href:`${L||"/workouts/month/"}${N}/${$}/skipScroll`,class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(i.h)("i",{class:"fas fa-arrow-left"})),Object(i.h)("h3",null,Object(i.h)(l.c,{id:"workout.plan.month"},"Måned")," - ",g[D-1]," ",I," ",Z.distance?`- ${o.a.format(Z.distance,0)} km`:""),Object(i.h)("h5",{class:"text-muted font-weight-light"},Object(i.h)(l.c,{id:"workout.plan.season"},"Sesongen")," ",F," - ",F+1),Object(i.h)("div",null,Y.id?Object(i.h)(e,null,Object(i.h)("small",null,Y.title)):Object(i.h)(e,null,Object(i.h)("div",{class:"display-4"},Object(i.h)("i",{class:"far fa-sad-tear text-muted"})),Object(i.h)("h5",{class:"font-weight-lighter text-muted"},Object(i.h)(l.c,{id:"workout.plan.no-workout-plan-found",fields:{name:ee}},"Ingen plan")),Object(i.h)("div",{class:"text-muted"},Object(i.h)(l.c,{id:"workout.plan.click-to-start"},"Click on a date to get started.")))),P&&Object(i.h)("div",null,P.name))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!(!(O&&v&&j)||w)&&Object(i.h)(e,null,Object(i.h)("div",{class:"form-inline w-100"},Object(i.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(i.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:`Enter distance for ${v} w${j}`,ref:e=>this.inputRef=e,onInput:Object(r.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:k||""})),Object(i.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(i.h)(l.c,{id:"workout.plan.save"},"Lagre")))),!!(O&&v&&y)&&Object(i.h)(e,null,Object(i.h)("div",{class:"form-inline w-100"},Object(i.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(i.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:`Enter distance for ${v}-${o.a.padDate(y)} ${w?"-"+o.a.padDate(w):""}`,ref:e=>this.inputRef=e,onInput:Object(r.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:k||""})),Object(i.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(i.h)(l.c,{id:"workout.plan.save"},"Lagre"))))),"no"===m&&Object(i.h)(e,null,t?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(i.h)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:this.toggleTips},Object(i.h)("i",{class:"fas fa-eye"})," ",Object(i.h)(l.c,{id:"workout.plan.show-tips"},"Show tips")))):Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(i.h)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:this.toggleTips},Object(i.h)("i",{class:"fas fa-eye-slash"})," ",Object(i.h)(l.c,{id:"workout.plan.hide-tips"},"Hide tips"))))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(l.c,{id:"workout.plan.week"},"Uke"))),H.map(e=>Object(i.h)("th",null,Object(i.h)("small",null,f[e.getDay()]))),Object(i.h)("th",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(l.c,{id:"workout.plan.sum"},"Sum"))),Object(i.h)("th",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(l.c,{id:"workout.plan.planned"},"Plan"))))),Object(i.h)("tbody",null,B&&B.map(s=>{const r=o.a.getDaysInWeek(s.week,I,D),l=a.findWorkoutPlanSummaryWeek(o.a.asNumber(I),s.week)||{},u=r[6].getTime()>T;let p=0,f=0;l.distance>0&&(G+=l.distance);const g=X[`${I}-${o.a.padDate(D)}-w${o.a.padDate(s.week)}`],O=g&&(g.comments.length>0||g.distance);return Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("td",{class:"text-right text-muted pt-3 border-right "+(w||v!=I||j!=s.week?"":"border rounded border-primary")},Object(i.h)("small",{onClick:this.editWeek,"data-week":s.week,"data-year":I,"data-distance":l.distance},s.week)),r.map(e=>{const t=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),l=e.getTime()>T,u=n.findWorkoutSummaryWeekDay(l?t-1:t,o,r,M)||{},m=a.findWorkoutPlanSummaryDay(t,o,r,M)||{};m&&m.distance&&(p+=m.distance,V+=m.distance),u.distanceKm&&(f+=u.distanceKm,q+=u.distanceKm);const g=v==t&&y==o&&w==r,O=_==t&&S==o&&x==r,j=h.indexOf(e.getDay())>-1;return Object(i.h)("td",{class:`text-center overflow-hidden font-weight-light position-relative pt-3 pb-3 border-right ${g?"calendarIsChosen":""} ${O?"calendarIsToday":""} ${j?"calendarIsWeekend":""}`,style:"font-size: 0.8em; min-width: 3rem;",onClick:this.editDay,"data-day":e.getDate(),"data-month":e.getMonth()+1,"data-year":I,"data-week":s.week,"data-distance":m.distance},Object(i.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},e.getDate()),m&&m.distance?Object(i.h)("div",{class:"rounded-pill w-100 px-1",style:`background-color: ${d.a.getPlanColor(m,b)};`},Object(i.h)(c.a,{stores:this.props.stores,value:m.distance}),m.count>1&&Object(i.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},m.count)):"-",u.distanceKm>0&&Object(i.h)("span",{class:"position-absolute font-weight-bold",style:`bottom: 0; left: 0px; font-size: 0.85em; color: ${l?"#393DB1":"#2BAAA9"};`},Object(i.h)(c.a,{stores:this.props.stores,value:u.distanceKm})))}),Object(i.h)("td",{class:"text-right pt-3 pb-3 position-relative border-right",style:"font-size: 0.8em;"},Object(i.h)(c.a,{stores:this.props.stores,value:p}),f>0&&Object(i.h)("span",{class:"position-absolute",style:`bottom: 0; left: 0px; font-size: 0.85em; color: ${u?"#393DB1":"#2BAAA9"};`},Object(i.h)(c.a,{stores:this.props.stores,value:f}))),Object(i.h)("td",{class:"text-right pt-3 pb-3 text-muted border-right",style:"font-size: 0.8em;",onClick:this.editWeek,"data-week":s.week,"data-year":I,"data-distance":l.distance},l.distance>0&&Object(i.h)(e,null,Object(i.h)("div",{class:"rounded-pill w-100 px-1 text-white text-center",style:`background-color: ${d.a.getPlanColor(l,b)};`},Object(i.h)(c.a,{stores:this.props.stores,value:l.distance}))))),!t&&"no"===m&&g&&O&&Object(i.h)("tr",null,Object(i.h)("td",{colspan:"10",class:"pb-3"},Object(i.h)("h5",null,Object(i.h)("span",{class:"font-weight-lighter"},"Uke ",s.week," ",I,":"),"Tips fra Femundløpet"),g.totalDistance>0&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," Distanse"),": ",g.totalDistance," km"),g.distance>0&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",g.distance),g.time&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",g.time),g.totalWorkouts>0&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",g.totalWorkouts),g.avgSpeed&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",g.avgSpeed),g.comments&&Object(i.h)("div",null,g.comments.map(e=>Object(i.h)("p",null,e))))))})),Object(i.h)("tfoot",null,Object(i.h)("tr",null,Object(i.h)("td",{colspan:"8",class:"text-right pb-3"},Object(i.h)(l.c,{id:"workout.plan.totalkm"},"Totalt km")),Object(i.h)("td",{class:"text-right position-relative pb-3"},Object(i.h)(c.a,{stores:this.props.stores,value:V}),q>0&&Object(i.h)("span",{class:"position-absolute",style:`bottom: 0; left: 0px; font-size: 0.65em; color: ${K?"#393DB1":"#2BAAA9"};`},Object(i.h)(c.a,{stores:this.props.stores,value:q}))),Object(i.h)("td",{class:"text-right text-muted"},Object(i.h)(c.a,{stores:this.props.stores,value:G}))),!t&&"no"===m&&J&&Q&&Object(i.h)("tr",null,Object(i.h)("td",{colspan:"10",class:"pb-3"},Object(i.h)("h5",null,Object(i.h)("span",{class:"font-weight-lighter"},g[D-1]," ",I,":")," Tips fra Femundløpet"),J.totalDistance>0&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," Distanse"),": ",J.totalDistance," km"),J.distance>0&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",J.distance),J.time&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",J.time),J.totalWorkouts>0&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",J.totalWorkouts),J.avgSpeed&&Object(i.h)("div",null,Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",J.avgSpeed),J.comments&&Object(i.h)("div",null,J.comments.map(e=>Object(i.h)("p",null,e))))))))))}})||a;t.a=u}).call(this,s("hosL").Fragment)},KDoM:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("nHdA"),c=s("irB3"),d=s("UwwE"),h=s("8Lgr"),u=(s("QkTp"),s("ZOvn"));let p=Object(n.a)(a=class extends i.Component{render(){const{dog:t}=this.props,{userStore:s,dogStore:a,appState:n}=this.props.stores,{user:p}=s,{language:m="en"}=p,{viewmode:b}=n,f=(new Date).getMonth()+1,g=(new Date).getFullYear(),{month:O=f,year:v=g}=this.props,y=parseInt(O<8?v-1:v,10),j=a.findWorkoutSummary(t.id,y)||{},w=t.statuses?t.statuses.map(e=>s.findDogstatus({status:e,language:m})):[],k=a.findVaccineStatuses(t.id),x=a.findVaccineLogStatuses(t.chipId),S=a.findHistoryStatuses(t.id),_=s.findDogstatus({status:t.status,language:m}),T=s.findDogposition({position:t.position,language:m}),D=[];s.findTeam(t.team)&&D.push(s.findTeam(t.team)),t.teams&&t.teams.forEach(e=>{s.findTeam(e)&&D.push(s.findTeam(e))});const I=u.a.hasBirthday(t.birth),P=t.birth?Math.ceil(u.a.daysUntilNextBirthday(t.birth)):365,{url:L="/dogs/"+t.id}=this.props;return Object(i.h)("div",{class:"w-100 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:""},!t.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},o.a.ucfirst(t.name,!0))),Object(i.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(t.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(i.h)("span",{class:"float-right"},T&&Object(i.h)("span",{class:`badge badge-${T.class||"primary"} mr-3`},T.icon&&Object(i.h)("i",{class:T.icon})," ",T.name),P<7&&Object(i.h)(e,null,Object(i.h)("span",{class:"text-muted mr-2"},Object(i.h)("i",{class:"fas fa-birthday-cake"})," in ",P," days")),t.birth&&Object(i.h)("span",{class:"mr-2"},o.a.age(t.birth,t.deceased)),"female"===t.gender?Object(i.h)("i",{class:"fas fa-venus"}):Object(i.h)("i",{class:"fas fa-mars"})),Object(i.h)("a",{class:"stretched-link",href:L},Object(i.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.shortname||t.name," ",t.shortname&&""!==t.shortname&&Object(i.h)(e,null," - ",Object(i.h)("span",{class:"font-weight-lighter"},t.name)),I&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(i.h)("div",null,D&&D.length>0&&Object(i.h)("small",{class:"font-weight-lighter"},D.map((t,s)=>Object(i.h)(e,null,s>0?", ":"",t))),Object(i.h)("br",null)),Object(i.h)("small",{class:"text-muted"},t.history>0&&Object(i.h)("span",{class:"ml-0"},Object(i.h)("i",{class:"fas fa-file-signature"})," ",t.history.length),t.images>0&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-image"})," ",t.images.length),j&&j.distanceKm>0&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(h.a,{stores:this.props.stores,value:j.distanceKm})),j&&j.elevation>0&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(c.a,{stores:this.props.stores,value:j.elevation})),j&&j.duration>0&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-clock"})," ",o.a.secToHms(j.duration,!0)),j&&j.speedAvg>0&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(l.a,{stores:this.props.stores,value:j.speedAvg})),t.weight>0&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(i.h)(d.a,{stores:this.props.stores,value:t.weight})),t.bodyScore>0&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",o.a.format(t.bodyScore,1))),["beta","advanced","normal"].indexOf(b)>-1&&Object(i.h)(e,null,Object(i.h)("div",null,k&&k.map(e=>Object(i.h)("span",{class:"badge badge-success mr-2",title:o.a.isoDate(e.endDate,!1,!1,!0)},e.vaccineType,Object(i.h)("span",{class:"font-weight-light ml-3"},Object(i.h)("i",{class:"fas fa-calendar-check"})," ",o.a.isoDate(e.endDate,!1,!1,!0)))),S&&S.map(e=>Object(i.h)("span",{class:"badge badge-warning mr-2",title:o.a.isoDate(e.endDate,!1,!1,!0)},e.title)))),["beta","advanced"].indexOf(b)>-1&&Object(i.h)(e,null,t.positions&&t.positions.lead&&Object(i.h)("div",{class:""},t.positions.lead.distanceKm>0&&Object(i.h)("span",{class:"badge badge-secondary mr-2"},Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(r.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(i.h)(h.a,{stores:this.props.stores,value:t.positions.lead.distanceKm})),t.positions.point.distanceKm>0&&Object(i.h)("span",{class:"badge badge-secondary mr-2"},Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(r.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(i.h)(h.a,{stores:this.props.stores,value:t.positions.point.distanceKm})),t.positions.team.distanceKm>0&&Object(i.h)("span",{class:"badge badge-secondary mr-2"},Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(r.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(i.h)(h.a,{stores:this.props.stores,value:t.positions.team.distanceKm})),t.positions.wheel.distanceKm>0&&Object(i.h)("span",{class:"badge badge-secondary mr-2"},Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(r.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(i.h)(h.a,{stores:this.props.stores,value:t.positions.wheel.distanceKm})))),Object(i.h)("div",{class:"clearfix pb-0"},t.specialNeeds&&Object(i.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(i.h)("i",{class:"fas fa-exclamation-triangle"})," ",t.specialNeeds),_&&Object(i.h)("span",{class:`badge badge-${_.class} ml-2 mt-1 float-right`},_.icon&&Object(i.h)("i",{class:_.icon})," ",_.name),w&&w.map(t=>Object(i.h)(e,null,Object(i.h)("span",{class:`badge badge-${t.class} ml-2 mt-1 float-right`},t.icon&&Object(i.h)("i",{class:t.icon})," ",t.lang&&t.lang[m]?t.lang[m]:t.name)))),x&&x.length>0&&Object(i.h)(e,null,Object(i.h)("div",{class:"mt-2"},x&&x.filter(e=>e.chipId===t.chipId).map(e=>Object(i.h)("span",{class:`badge badge-${e.inKarens?"warning":"success"} mr-2 mb-1`},Object(i.h)("i",{class:"fas fa-user-md"})," ",e.vaccineAgens.name))))))))}})||a;t.a=p}).call(this,s("hosL").Fragment)},KOz6:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("/eY4"),c=(s("cneo"),s("Utv1")),d=s("OhSV"),h=s("go65");let u=Object(l.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.handleAdd=()=>{const{data:e}=this.state,{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:i({},e)}),this.setState({data:{name:"",description:"",url:""}})},this.removeAchievement=async function(e){const{dogStore:s}=t.props.stores,{object:a}=t.props,{name:i,id:o}=e.target.closest("button").dataset;s.removeAchievement({id:a.id,name:i,achievementId:o})},this.state={data:{}}}render(){const{data:t}=this.state,{showFiles:s=!0,object:a={}}=this.props;return Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 mt-3"},s&&Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},(!a.achievements||0===a.achievements.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-trophy"})),Object(r.h)("h3",null,Object(r.h)(d.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(r.h)(d.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),a.achievements&&a.achievements.map(e=>Object(r.h)("div",{class:"col-12 p-1"},Object(r.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(e.date,!1,!1,!0)),Object(r.h)("span",{class:"mr-2"},e.name),Object(r.h)("span",{class:"mr-2"},e.url),Object(r.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeAchievement,"data-name":e.name,"data-id":e.id},Object(r.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(r.h)("div",{class:"col-12 mt-3"},Object(r.h)("details",null,Object(r.h)("summary",null,Object(r.h)(d.c,{id:"dogs.achievement-add"},"Add new achievement")),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"name"},Object(r.h)(d.c,{id:"dogs.achievement-name"},"Name")),Object(r.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(h.a)(this,"data.name"),value:t.name}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"dogs.achievement-name-help"},"Name of achievement"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"date"},Object(r.h)(d.c,{id:"dogs.achievement-date"},"Date")),Object(r.h)("input",{type:"date",class:"form-control",id:"date","aria-describedby":"dateHelp",onInput:Object(h.a)(this,"data.date"),value:t.date}),Object(r.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"dogs.achievement-date-help"},"Date of achievement"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"description"},Object(r.h)(d.c,{id:"dogs.achievement-description"},"Description")),Object(r.h)("input",{type:"text",class:"form-control",id:"description","aria-describedby":"descriptionHelp",onInput:Object(h.a)(this,"data.description"),value:t.description}),Object(r.h)("small",{id:"descriptionHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"dogs.achievement-description-help"},"Description of achievement"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"url"},Object(r.h)(d.c,{id:"dogs.achievement-url"},"Url")),Object(r.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(h.a)(this,"data.url"),value:t.url}),Object(r.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"dogs.achievement-url-help"},"URL of achievement"))),Object(r.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(r.h)(d.c,{id:"dogs.achievement-add"},"Add achievement")))))}})||n;t.a=u}).call(this,s("hosL").Fragment)},KYs2:function(e,t){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var s=[],a=!0,i=!1,o=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if(!e.startsWith("POLYGON"))throw new Error("Invalid wkt.");return e.slice(e.indexOf("(")+2,e.indexOf(")")).split(", ").map((function(e){var t=s(e.split(" "),2),a=t[1];return{longitude:parseFloat(t[0]),latitude:parseFloat(a)}}))}},Kbqr:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(8).then(function(){var t=s("AxFz");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},Ko7F:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("Wyvv"))&&a.__esModule?a:{default:a};t.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default,a=s(e,t),o=Number(t.time)-Number(e.time),n=a/o*1e3;return n}},KqdA:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return 180*e/Math.PI}},Krsu:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn");s("tJLP"),s("Cjoz");const c=l.a.marginTop(!0),d=l.a.marginBottom(),h=l.a.subMenuMarginTop();let u=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.resetEmailMessage=()=>{const{userStore:e}=this.props.stores;e.updateField("emailMessage",""),e.updateField("emailMessageIcon","")},this.resetEmailError=()=>{const{userStore:e}=this.props.stores;e.updateField("emailError",""),e.updateField("emailErrorIcon","")},this.toggleSetting=async function(e){const{userStore:s}=t.props.stores,{user:a}=s,{settings:i={}}=a;await s.updateSetting({["settings."+e]:1===i[e]?0:1},{[e]:1===i[e]?0:1})},this.subscriptionCreate=async function(){const{paypalStore:e,userStore:s}=t.props.stores;t.setState({paypalLoading:!0}),await e.subscriptionCreate({}),await s.getInfo(),t.setState({paypalLoading:!1})},this.subscriptionCancel=async function(e){const{id:s}=e.target.closest("button").dataset,{paypalStore:a,userStore:i}=t.props.stores;await a.subscriptionCancel({planId:s}),await i.getInfo()},this.subscriptionDetail=async function(){const{paypalStore:e,userStore:s}=t.props.stores,{user:a={}}=s,{subscription:i}=a;if(i.payPalSubscriptionId){const t=await e.subscriptionDetail({id:i.payPalSubscriptionId});s.setSubscriptionPaypal(t.data),await s.getInfo()}},this.toggleCancel=()=>{const{showCancel:e}=this.state;this.setState({showCancel:!e})},this.toggleDetails=()=>{const{showDetails:e}=this.state;e||this.subscriptionDetail(),this.setState({showDetails:!e})},this.state={time:Date.now(),count:10}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.verifyEmailToken&&e.verifyEmail({token:this.props.verifyEmailToken})}render(){const{scrolledDown:e}=this.props,{userStore:t,appState:s}=this.props.stores,{darkmode:a}=s,{user:n,isAdmin:l}=t,{teams:u,settings:p={}}=n;t.findTeams(u),o.a.getApiServer(),o.a.getJwtToken();return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${d}; margin-top: ${c};`},Object(i.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:h}; background-color: ${a?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-user"})," ",Object(i.h)(r.c,{id:"users.title"},"Din profil")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow border-bottom border-primary"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/settings",class:"text-primary stretched-link"},Object(i.h)("i",{class:"fas fa-sliders-h"})," ",Object(i.h)(r.c,{id:"users.settings"},"Innstillinger")))),l&&Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/subscription",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-signature"})," ",Object(i.h)(r.c,{id:"users.subscriptions"},"Abonnement")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/integrations",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-plug"})," ",Object(i.h)(r.c,{id:"users.integrations"},"Integrasjoner"))))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-hide-profile"},"Skjul profilen")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsHideProfile",onInput:()=>this.toggleSetting("hideProfile"),checked:p.hideProfile}),Object(i.h)("label",{class:"custom-control-label",for:"settingsHideProfile"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-hide-profile-help"},"Dersom du ikke vil at andre skal kunne finne og be om å følge deg, så kan du skjule profilen din her.")))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-allow-racevet"},"Tillat veterinær")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsVeterinaryAllowed",onInput:()=>this.toggleSetting("veterinaryAllowed"),checked:p.veterinaryAllowed}),Object(i.h)("label",{class:"custom-control-label",for:"settingsVeterinaryAllowed"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-veterinary-help"},"Dersom du ønsker at godkjente veterinærer skal kunne søke deg opp og legge inn vaksiner må du skru på her.")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-hide-invite"},"Skjul invitasjonsboks")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsHideInvitation",onInput:()=>this.toggleSetting("hideInvite"),checked:p.hideInvite}),Object(i.h)("label",{class:"custom-control-label",for:"settingsHideInvitation"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-hide-invite-help"},"Skjul invitasjonsboksen på forsiden.")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-hide-settings"},"Skjul innstillinger")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsHideSettings",onInput:()=>this.toggleSetting("hideSettings"),checked:p.hideSettings}),Object(i.h)("label",{class:"custom-control-label",for:"settingsHideSettings"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-hide-settings-help"},"Skjul innstillinger på forsiden.")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:()=>this.toggleSetting("summaryEmails"),checked:p.summaryEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-notification-email"},"Notifications")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsNotificationEmails",onInput:()=>this.toggleSetting("notificationEmails"),checked:p.notificationEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsNotificationEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-receive-notification-email"},"Receive notifications via email")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-info-email"},"Info")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:()=>this.toggleSetting("infoEmails"),checked:p.infoEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),Object(i.h)("div",{class:"row mt-4"},Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(r.c,{id:"users.settings-partner-email"},"Partners")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:()=>this.toggleSetting("partnerEmails"),checked:p.partnerEmails}),Object(i.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post")))))}})||a;t.a=u},Kttx:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("Fcif"),i=s("7L9N"),o=s("OoM2"),n=s.n(o),r=s("6rtB"),l=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],c=function(e){function t(t){var s;return null==(s=e.call(this,t)||this).contextValue&&(s.contextValue=Object(a.a)(Object(a.a)({},t.leaflet),{},{popupContainer:s.leafletElement})),s}Object(i.a)(t,e);var s=t.prototype;return s.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this.setStyleIfChanged(t,this.props)},s.getPathOptions=function(e){return t=e,l.reduce((function(e,s){return void 0!==t[s]&&(e[s]=t[s]),e}),{});var t},s.setStyle=function(e){void 0===e&&(e={}),this.leafletElement.setStyle(e)},s.setStyleIfChanged=function(e,t){var s=this.getPathOptions(t);n()(s,this.getPathOptions(e))||this.setStyle(s)},t}(r.a)},Kx7A:function(e,t,s){const a=s("ffMB"),i=s("0G4o"),o=s("/IQw"),n=s("F2rU"),{defaults:r}=s("bixo"),{merge:l,unescape:c}=s("AkNA");e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||r,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new i}static parse(t,s){return new e(s).parse(t)}parse(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,l({},this.options,{renderer:new n})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,s,a,i,o="";for(a="",t=0;t<this.token.header.length;t++)a+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(a),t=0;t<this.token.cells.length;t++){for(s=this.token.cells[t],a="",i=0;i<s.length;i++)a+=this.renderer.tablecell(this.inline.output(s[i]),{header:!1,align:this.token.align[i]});e+=this.renderer.tablerow(a)}return this.renderer.table(o,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,s=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,s)}case"list_item_start":{e="";const t=this.token.loose,s=this.token.checked,a=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(s)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(s)});else e+=this.renderer.checkbox(s);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,a,s)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},LMwI:function(e){e.exports={pointerCursor:"pointerCursor__1W6mM"}},LOkn:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c=s("hosL"),d=(s("Utv1"),s("/eY4")),h=(s("cneo"),s("OhSV")),u=s("Y3FI"),p=(s("go65"),s("ZOvn")),m=s("om2D"),b=s("TiXY");const f=p.a.marginTop(!1),g=p.a.marginTopBack(!1),O=p.a.marginBottom(),v={isLoading:!1};let y=Object(d.a)(n=class extends c.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{newsStore:s}=t.props.stores,{news:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{news:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:e,news:t,type:s="text",rows:a,field:i,title:o,icon:n,help:r,onInput:l,updateField:d}=this.props,u=t[i];return"image"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},t.images&&t.images.map(e=>Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"))))),Object(c.h)(m.a,{saved:e,object:t,field:i,updateField:d}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(h.c,{id:"news.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):"file"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)(b.a,{saved:e,object:t,field:i,updateField:d}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(h.c,{id:"news.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):"textarea"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("textarea",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:u,rows:a,"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(h.c,{id:"news.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("input",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:u,"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(h.c,{id:"news.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r))}})||n,j=Object(d.a)(r=class extends c.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{newsStore:a}=this.props.stores;a.updateObjectKeyValue("newNews",t,s)}}render(){const{field:e,icon:t,title:s,help:a}=this.props,{newsStore:i}=this.props.stores,{newNews:o}=i;return Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:e+"Input"},t&&Object(c.h)("i",{class:t+" text-muted"})," ",s),Object(c.h)("input",{type:"text",class:"form-control",id:e+"Input","aria-describedby":e+"Help",onInput:this.onInput,value:o[e]}),Object(c.h)("small",{id:e+"Help",class:"form-text text-muted"},a))}})||r,w=Object(d.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i}=e.target.dataset,o=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:o,type:a,elementtype:i})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,skipTimer:n=!1})=>{const{newsStore:r}=this.props.stores;let l=a,c=a;const{news:d}=r;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(c=[...d.images,...a]),"array"!==i||Array.isArray(a)||(l="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),r.updateField(e,s,c),n?this.doUpdateField(e,s,l):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,l)}),500))},this.insertNewNews=async function(){const{newsStore:e}=t.props.stores,{newNews:s}=e;e.insert(i({},s))},this.back=()=>{const{createNew:e}=this.props,{newsStore:t}=this.props.stores,{news:s}=t;e?Object(u.route)("/news/",!0):Object(u.route)("/news/"+s.id,!0)},this.state=i({},v),this.updateTimer={}}async loadNews(e=this.props){this.setState({isLoading:!0});const{newsStore:t}=this.props.stores;await t.load(e.id)}async doUpdateField(e,t,s){const{newsStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadNews()}render(){const{createNew:e}=this.props,{newsStore:t,userStore:s}=this.props.stores,{isAdmin:a}=s;if(!a)return"";const{news:i,saved:o}=t;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${O}; margin-top: ${f};`},Object(c.h)("div",{class:"d-flex justify-content-between mb-2"},Object(c.h)("div",null,Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${g}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(c.h)("div",null,Object(c.h)("h5",{class:"text-muted"},"News and howto content")),Object(c.h)("div",null," ")),e?Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"news.add-new"},"Lag nytt innhold")),Object(c.h)(j,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(c.h)(h.c,{id:"news.title"},"Tittel"),help:Object(c.h)(h.c,{id:"news.title-help"},"Title of this news story")}),Object(c.h)(j,{stores:this.props.stores,field:"tag",icon:"fas fa-eye",title:Object(c.h)(h.c,{id:"news.tag"},"Tag"),help:Object(c.h)(h.c,{id:"news.tag-help"},"Tag of this news story"),onInput:this.updateField}),Object(c.h)("button",{type:"button",class:"btn btn-primary mb-2",onclick:this.insertNewNews},"Save news"))):Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)(y,{saved:o,news:i,field:"title",icon:"fas fa-heading",title:Object(c.h)(h.c,{id:"news.title"},"Title"),help:Object(c.h)(h.c,{id:"news.title-help"},"Title of this news story"),onInput:this.updateField}),Object(c.h)(y,{saved:o,news:i,field:"active",icon:"fas fa-heading",title:Object(c.h)(h.c,{id:"news.active"},"Active"),help:Object(c.h)(h.c,{id:"news.active-help"},"Is this active yet?"),onInput:this.updateField}),Object(c.h)(y,{saved:o,news:i,field:"tag",icon:"fas fa-heading",title:Object(c.h)(h.c,{id:"news.tag"},"Tag"),help:Object(c.h)(h.c,{id:"news.tag-help"},"Tag of this news story"),onInput:this.updateField}),Object(c.h)(y,{saved:o,news:i,field:"ingress",icon:"fas fa-quote-right",type:"textarea",title:Object(c.h)(h.c,{id:"news.ingress"},"Ingress"),help:Object(c.h)(h.c,{id:"news.ingress-help"},"Ingress of this news story"),onInput:this.updateField}),Object(c.h)(y,{saved:o,news:i,field:"body",icon:"fas fa-quote-right",type:"textarea",rows:20,title:Object(c.h)(h.c,{id:"news.body"},"Body"),help:Object(c.h)(h.c,{id:"news.body-help"},"Body of this news story"),onInput:this.updateField}),Object(c.h)(y,{saved:o,news:i,field:"image",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(c.h)(h.c,{id:"news.photo"},"Bilder"),help:Object(c.h)(h.c,{id:"news.photo-help"},"Images for this news story."),onInput:this.updateField,updateField:this.updateFieldValue}))))}})||l;t.a=w},M47B:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(3).then(function(){var t=s("RUc2");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},MBNX:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return e>1?1:e<-1?-1:e}},MNOf:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,a,i,o){i=i||"=";var n={};if("string"!=typeof e||0===e.length)return n;var r=/\+/g;e=e.split(a=a||"&");var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var d=0;d<c;++d){var h,u,p,m,b=e[d].replace(r,"%20"),f=b.indexOf(i);f>=0?(h=b.substr(0,f),u=b.substr(f+1)):(h=b,u=""),p=decodeURIComponent(h),m=decodeURIComponent(u),t(n,p)?s(n[p])?n[p].push(m):n[p]=[n[p],m]:n[p]=m}return n};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},MlNc:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("u28A");t.default=function(e){var t=new RegExp(a.sexagesimalPattern).exec(e);if(null==t)throw new Error("Given value is not in sexagesimal format");var s=Number(t[2])/60||0,i=Number(t[4])/3600||0,o=parseFloat(t[1])+s+i;return["S","W"].includes(t[7])?-o:o}},N9Gb:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(13).then(function(){var t=s("+sdk");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},NDEG:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("ZOvn");let l=Object(n.a)(a=class extends i.Component{render(){const{dog:t={},dogs:s=[],showTeam:a,showInfo:n,showName:l=!0,showPosition:c=!0,showAge:d=!1,className:h,size:u,onDogClick:p=(()=>{})}=this.props,{userStore:m}=this.props.stores,{user:b}=m,{language:f="en"}=b,g=m.findDogposition({position:t.position,language:f}),O=r.a.hasBirthday(t.birth);Math.ceil(r.a.daysUntilNextBirthday(t.birth));let v="92px",y="",j="35px";return"small"===u?(v="50px",y="imageRoundedSmall",j="20px"):"medium"===u&&(v="60px",y="imageRoundedMedium",j="25px"),Object(i.h)("div",{class:`mb-2 position-relative ${h} clearfix`,style:"width: "+v,onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},c&&g&&Object(i.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(i.h)("span",{class:`badge badge-${g.class||"primary"} mr-3`},g.icon&&Object(i.h)("i",{class:g.icon})," ",g.name)),Object(i.h)("div",{class:`text-center border rounded-circle imageRounded ${y} mx-auto text-muted pt-2`,style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(i.h)("span",{class:"font-weight-lighter",style:`font-size: ${j};`},o.a.ucfirst(t.name,!0))),Object(i.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(i.h)("small",null,Object(i.h)("a",{href:"/dogs/public/"+t.uuidv4,onClick:e=>p(e,t.uuidv4,s),class:"stretched-link"},l&&Object(i.h)(e,null,Object(i.h)("span",{class:"mb-1 font-weight-light"},Object(i.h)("nobr",null,t.shortname||t.name,O&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(i.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(i.h)("small",null,t.birth&&d&&Object(i.h)(e,null,Object(i.h)("span",{class:"float-right"},t.birth&&Object(i.h)("span",{class:"mr-2"},o.a.age(t.birth,t.deceased)),"female"===t.gender?Object(i.h)("i",{class:"fas fa-venus"}):Object(i.h)("i",{class:"fas fa-mars"}))),a&&Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-light"},m.findTeam(t.team)),Object(i.h)("br",null)),n&&Object(i.h)("small",{class:"text-muted"},t.weight&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-balance-scale ml-2"})," ",o.a.format(t.weight,1)," kg"),t.bodyScore&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",o.a.format(t.bodyScore,1))))))}})||a;t.a=l}).call(this,s("hosL").Fragment)},NMoA:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n,r,l,c,d=s("hosL"),h=s("Utv1"),u=s("/eY4"),p=s("cneo"),m=s("OhSV"),b=s("fh8t"),f=s.n(b),g=s("go65"),O=s("Y3FI"),v=(s("X9Km"),s("1OK2"),s("B95u")),y=s("4QWe"),j=(s("NMoA"),s("s4FZ")),w=s("+JSK"),k=s("vY+r"),x=s("eQ6k"),S=s("ZOvn");const _={showAddComment:{},showTeamSetting:{},viewImageIdx:{},likeStory:{}};let T=Object(u.a)(o=class extends d.Component{constructor(e){var t;super(e),t=this,this.saveStory=async function(e){const{id:s}=e.target.closest("button").dataset,{storyBody:a}=t.state,{storyStore:i}=t.props.stores,{callback:o=(()=>!0)}=t.props;await i.saveField(parseInt(s,10),"body",a,!0),i.publicFeedUpdate(parseInt(s,10),"body",a),t.setState({storyBody:"",storyType:0}),o()},this.saveStoryField=async function(e){const{story:s}=t.props,{id:a}=s,{value:i,name:o}=e.target;clearTimeout(t.updateTimer[o]),t.updateTimer[o]=setTimeout((async function(){t.doUpdateField(a,o,i)}),1e3)},this.updateTimer={}}async doUpdateField(e,t,s){const{storyStore:a}=this.props.stores;await a.saveField(parseInt(e,10),t,s,!0),a.publicFeedUpdate(parseInt(e,10),t,s)}render(){const{storyBody:t,storyType:s}=this.state,{userStore:a}=this.props.stores,{story:i}=this.props;return Object(d.h)(e,null,Object(d.h)("div",{class:"d-flex bd-highlight"},Object(d.h)("div",{class:"p-0 w-100 bd-highlight"},Object(d.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(d.h)(m.c,{id:"comments.comment"},"Kommentar")),Object(d.h)("div",{class:"border rounded rounded-lg position-relative"},Object(d.h)(m.b,null,Object(d.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(d.h)(m.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(g.a)(this,"storyBody"),onFocus:S.a.resizeTextarea,style:"height: 2.3em;",value:t||i.body}))),Object(d.h)("div",{class:"position-relative mt-3"},Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.type"},"Type")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("select",{class:"custom-select custom-select-sm",id:i.id,name:"type",onInput:this.saveStoryField,value:s||i.type},Object(d.h)("option",{value:""},"-- ",Object(d.h)(m.c,{id:"story.type-choose"},"Velg type")," --"),Object(d.h)("option",{value:1,selected:1==i.type?"selected":""},"✍️ ",Object(d.h)(m.c,{id:"story.type-regular"},"Vanlig")),Object(d.h)("option",{value:2,selected:2==i.type?"selected":""},"🚀 ",Object(d.h)(m.c,{id:"story.type-ad"},"Annonse")),Object(d.h)("option",{value:3,selected:3==i.type?"selected":""},"📄 ",Object(d.h)(m.c,{id:"story.type-article"},"Artikkel"))))),i.type>=2&&Object(d.h)(e,null,Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.url-text"},"URL text")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"urlText",onInput:this.saveStoryField,value:i.urlText}))),Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.url"},"URL")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"url",onInput:this.saveStoryField,value:i.url})))),2===i.type&&Object(d.h)(e,null,Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.code"},"Code")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"code",onInput:this.saveStoryField,value:i.code}))),Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.country"},"Country")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"country",onInput:this.saveStoryField,value:i.country}))),Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.region"},"Region")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"region",onInput:this.saveStoryField,value:i.region}))),Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.currency"},"Currency")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"currency",onInput:this.saveStoryField,value:i.currency}))),Object(d.h)("label",null,Object(d.h)(m.c,{id:"story.price"},"Price")),Object(d.h)("div",{class:"form-group"},Object(d.h)("small",null,Object(d.h)("input",{class:"form-control",type:"text",name:"price",onInput:this.saveStoryField,value:i.price})))))),Object(d.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(d.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.saveStory,"data-id":i.id},Object(d.h)("i",{class:"fas fa-paper-plane"})))))}})||o,D=Object(u.a)(n=class extends d.Component{constructor(e){var t;super(e),t=this,this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.showStoryDetail=e=>{if("a"===e.target.localName)return!1;const{id:t}=e.target.closest("#storyDetail").dataset;t&&Object(O.route)("/stories/"+t,!0)},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{story:s}=t.props,{userStore:a,storyStore:i}=t.props.stores,{user:o}=a,n=await i.translate({story:s,user:o});t.setState({showOriginal:0,translatedText:n})},this.showOriginal=e=>{e.preventDefault(),e.stopPropagation(),this.setState({showOriginal:1})},this.state={viewImageIdx:{}}}render(){const{viewImageIdx:t,showOriginal:s,translatedText:a}=this.state,{userStore:i,storyStore:o}=this.props.stores,{story:n,likeStory:r,likeRef:l}=this.props,{user:c}=i,{language:h="en"}=c,u=[];if(n.images){const e=Object(p.i)(n.images);u.push(...e)}const b=o.getTranslations({story:n,targetLang:h,field:"body"})||a;let g=b||n.body;return s&&(g=n.body),Object(d.h)(e,null,Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"clearfix col-12",style:""+(n.offline?"text-decoration: line-through;":"")},Object(d.h)("div",{id:"storyDetail",onClick:this.showStoryDetail,"data-id":n.id},Object(d.h)(f.a,{markdown:S.a.replaceImages(g,n.images,h),markdownOpts:S.a.getMarkdownOptions()}),n.language!==h&&Object(d.h)(e,null,!s&&b?Object(d.h)(e,null,Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.showOriginal},Object(d.h)("i",{class:"fas fa-cog"}),"  ",Object(d.h)(m.c,{id:"home.translate-show-original"},"Show original"))):Object(d.h)(e,null,Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate},Object(d.h)("i",{class:"fas fa-cog"})," ",Object(d.h)(m.c,{id:"home.translate-to"},"See translation"))))))),Object(d.h)("div",{class:"container-fluid px-0 mt-1"},Object(d.h)("div",{class:"row"},Object(d.h)(j.a,{stores:this.props.stores,images:u,id:n.id,dblClick:r,likeRef:l}))))}})||n,I=Object(u.a)(r=class extends d.Component{constructor(e){var t;super(e),t=this,this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.showStoryDetail=e=>{if("a"===e.target.localName)return!1;const{id:t}=e.target.closest("#storyDetail").dataset;t&&Object(O.route)("/stories/"+t,!0)},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{story:s}=t.props,{userStore:a,storyStore:i}=t.props.stores,{user:o}=a;t.setState({showOriginal:0}),await i.translate({story:s,user:o})},this.showOriginal=e=>{e.preventDefault(),e.stopPropagation(),this.setState({showOriginal:1})},this.getTranslation=()=>{const{story:e}=this.props,{userStore:t,storyStore:s}=this.props.stores,{user:a}=t,{language:i="en"}=a;s.getTranslations({story:e,targetLang:i,field:"body"})&&this.setState({showOriginal:0})},this.state={viewImageIdx:{}}}componentWillMount(){this.getTranslation()}render(){const{viewImageIdx:t,showOriginal:s}=this.state,{userStore:a,storyStore:i}=this.props.stores,{story:o,likeStory:n,likeRef:r}=this.props,{user:l}=a,{language:c="en"}=l,u=[];if(o.images){const e=Object(p.i)(o.images);u.push(...e)}const b=i.getTranslations({story:o,targetLang:c,field:"body"});let g=b||o.body;return s&&(g=o.body),Object(d.h)(e,null,Object(d.h)("div",{class:"container-fluid px-0 mt-1"},Object(d.h)("div",{class:"row"},Object(d.h)(j.a,{stores:this.props.stores,images:u,id:o.id,dblClick:n,likeRef:r}))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"clearfix col-12",style:""+(o.offline?"text-decoration: line-through;":"")},Object(d.h)("div",{id:"storyDetail","data-id":o.id},Object(d.h)(f.a,{markdown:S.a.replaceImages(g,o.images,c),markdownOpts:S.a.getMarkdownOptions()}),o.language!==c&&Object(d.h)(e,null,!s&&b?Object(d.h)(e,null,Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.showOriginal},Object(d.h)("i",{class:"fas fa-cog"}),"  ",Object(d.h)(m.c,{id:"home.translate-show-original"},"Show original"))):Object(d.h)(e,null,Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate},Object(d.h)("i",{class:"fas fa-cog"})," ",Object(d.h)(m.c,{id:"home.translate-to"},"See translation")))))),!!(o.url||o.code||o.price>0)&&Object(d.h)(e,null,Object(d.h)("div",{class:"clearfix col-12  py-2",style:""+(o.offline?"text-decoration: line-through;":"")},Object(d.h)("div",{class:"row"},o.url&&Object(d.h)(e,null,Object(d.h)("div",{class:"col-12 text-left",style:"font-size: 1.0em;"},Object(d.h)("a",{href:S.a.asUrl(o.url),target:"_blank",rel:"noreferrer"},Object(d.h)("i",{class:"fas fa-link mr-2"}),o.urlText?Object(d.h)(e,null,o.urlText):Object(d.h)(e,null,Object(d.h)(m.c,{id:"story.ad-url-readmore"},"Les mer..."))))),o.code&&Object(d.h)(e,null,Object(d.h)("div",{class:"col text-left",style:"font-size: 1.2em;"},Object(d.h)("nobr",null,Object(d.h)("span",{class:"font-weight-lighter"},Object(d.h)(m.c,{id:"story.ad-campaign-code"},"Kampanjekode"),":")," ",o.code))),o.price>0&&Object(d.h)(e,null,Object(d.h)("div",{class:"col text-right",style:"font-size: 1.2em;"},Object(d.h)("nobr",null,o.currencty&&Object(d.h)("span",{class:"font-weight-lighter"},o.currency)," ",h.a.format(o.price,2)))))))))}})||r,P=Object(u.a)(l=class extends d.Component{constructor(e){var t;super(e),t=this,this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.showStoryDetail=e=>{if("a"===e.target.localName)return!1;const{id:t}=e.target.closest("#storyDetail").dataset;t&&Object(O.route)("/stories/"+t)},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{story:s}=t.props,{userStore:a,storyStore:i}=t.props.stores,{user:o}=a;t.setState({showOriginal:0}),await i.translate({story:s,user:o})},this.showOriginal=e=>{e.preventDefault(),e.stopPropagation(),this.setState({showOriginal:1})},this.getTranslation=()=>{const{story:e}=this.props,{userStore:t,storyStore:s}=this.props.stores,{user:a}=t,{language:i="en"}=a;s.getTranslations({story:e,targetLang:i,field:"body"})&&this.setState({showOriginal:0})},this.state={viewImageIdx:{}}}componentWillMount(){this.getTranslation()}render(){const{viewImageIdx:t,showOriginal:s}=this.state,{userStore:a,storyStore:i}=this.props.stores,{story:o,likeStory:n,likeRef:r}=this.props,{user:l}=a,{language:c="en"}=l,h=[];if(o.images){const e=Object(p.i)(o.images);h.push(...e)}const u=i.getTranslations({story:o,targetLang:c,field:"body"});let b=u||o.body;return s&&(b=o.body),Object(d.h)(e,null,Object(d.h)("div",{class:"container-fluid px-0 mt-1"},Object(d.h)("div",{class:"row"},Object(d.h)(j.a,{stores:this.props.stores,images:h,id:o.id,dblClick:n,likeRef:r}))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"clearfix col-12",style:""+(o.offline?"text-decoration: line-through;":"")},Object(d.h)("div",{id:"storyDetail",onClick:this.showStoryDetail,"data-id":o.id},Object(d.h)(f.a,{markdown:S.a.replaceImages(b,o.images,c),markdownOpts:S.a.getMarkdownOptions()}),o.language!==c&&Object(d.h)(e,null,!s&&u?Object(d.h)(e,null,Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.showOriginal},Object(d.h)("i",{class:"fas fa-cog"}),"  ",Object(d.h)(m.c,{id:"home.translate-show-original"},"Show original"))):Object(d.h)(e,null,Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate},Object(d.h)("i",{class:"fas fa-cog"})," ",Object(d.h)(m.c,{id:"home.translate-to"},"See translation")))))),!!(o.url||o.code||o.price)&&Object(d.h)(e,null,Object(d.h)("div",{class:"clearfix col-12  py-2",style:""+(o.offline?"text-decoration: line-through;":"")},Object(d.h)("div",{class:"row"},o.url&&Object(d.h)(e,null,Object(d.h)("div",{class:"col-12 text-left",style:"font-size: 1.0em;"},Object(d.h)("a",{href:S.a.asUrl(o.url),target:"_blank",rel:"noreferrer"},Object(d.h)("i",{class:"fas fa-link mr-2"}),o.urlText?Object(d.h)(e,null,o.urlText):Object(d.h)(e,null,Object(d.h)(m.c,{id:"story.ad-url-readmore"},"Les mer..."))))))))))}})||l,L=Object(u.a)(c=class extends d.Component{constructor(e){var t;super(e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.likeStory=async function(){const{story:e}=t.props,{id:s}=e,a=s,{storyStore:i}=t.props.stores,{likeStory:o}=t.state;o[a]=!0;const n=Object.keys(o);t.setState({likeStory:o,likeIds:n}),setTimeout(()=>{const{likeStory:e}=t.state;delete e[a];const s=Object.keys(e);t.setState({likeStory:e,likeIds:s})},1200);await i.likeStory({id:a})},this.toggleAddComment=e=>{const t=e.target.closest("button").dataset.id,{showAddComment:s}=this.state;s[t]?delete s[t]:s[t]=!0,this.setState({showAddComment:s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.closeAllAddComments=()=>{this.setState({showAddComment:{}})},this.toggleShowTeamSetting=e=>{const t=e.target.closest("button").dataset.id,{showTeamSetting:s}=this.state;s[t]?delete s[t]:s[t]=!0,this.setState({showTeamSetting:s})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.toggleMenu=e=>{const{id:t}=e.target.closest("i").dataset,{showMenu:s={}}=this.state;s[t]=!s[t],this.setState({showDeleteStory:{},showEdit:{},showMenu:s})},this.toggleEdit=e=>{const{id:t}=e.target.closest("button").dataset,{showEdit:s={}}=this.state;s[t]=!s[t],this.setState({showDeleteStory:{},showEdit:s,showMenu:{}})},this.toggleDeleteStory=e=>{const{id:t}=e.target.closest("button").dataset,{showDeleteStory:s={}}=this.state;s[t]=!s[t],this.setState({showDeleteStory:s,showEdit:{},showMenu:{}})},this.reportStory=async function(e){const{id:s}=e.target.closest("button").dataset,{storyStore:a}=t.props.stores;await a.reportStory({id:s}),t.setState({showEdit:{},showMenu:{}})},this.adminRemoveStory=async function(e){const{id:s}=e.target.closest("button").dataset,{storyStore:a}=t.props.stores;await a.adminHideStory({id:s}),t.setState({showEdit:{},showMenu:{}})},this.deleteStory=async function(e){const{id:s}=e.target.closest("button").dataset,{storyStore:a}=t.props.stores;await a.saveField(parseInt(s,10),"offline",1,!0),a.publicFeedUpdate(parseInt(s,10),"offline",1),t.setState({storyBody:"",showDeleteStory:{},showEdit:{},showMenu:{}})},this.doneEdit=()=>{this.setState({storyBody:"",showDeleteStory:{},showEdit:{},showMenu:{}})},this.showStoryDetail=e=>{if("a"===e.target.localName)return!1;const{id:t}=e.target.closest("#storyDetail").dataset;t&&Object(O.route)("/stories/"+t,!0)},this.shareLink=e=>{const{url:t,title:s,text:a}=e.target.closest("button").dataset,{appState:i}=this.props.stores;i.shareUrl({url:t,title:s,text:a})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},_),this.inputRef={}}async loadStoriesPublicFeed(e=this.props){const{hashtag:t}=e,{storyStore:s}=e.stores;await s.loadPublicFeed({hashtag:t})}render(){const{showAddComment:t,showDate:s,showMenu:a={},showEdit:i={},showDeleteStory:o={},showTeamSetting:n,likeStory:r,likeIds:l}=this.state,{story:c,showAllComments:u,onTeamClick:p=(()=>{}),onUserClick:b=(()=>{})}=this.props,{userStore:f,storyStore:g,appState:O}=this.props.stores,{user:j={},isAdmin:_}=f,{hasShareApi:L}=O,C=g.findPublicTeam(c.team)||{},A=g.findPublicUser(c.user)||{},E=S.a.getImage({user:A,team:C}),F=!(!C||!C.members)&&C.members.some(e=>e===j.id);let M,R,z,U;C&&C.name?(M=S.a.displayNameShort(C),R=S.a.displayName(C),z=S.a.displayName(A),A.settings&&j.uuidv4!==A.uuidv4&&(U=A.settings.hideProfile?null:"/inbox/"+A.uuidv4)):A&&A.id&&(M=S.a.displayNameShort(A),R=S.a.displayName(A));const{likes:N,comments:$,reports:W=[]}=c,B=c.likes&&c.likes.findIndex(e=>e.user===j.id)>-1,H=C.followers?C.followers.length:0,V=C.members&&C.members.indexOf(j.id)>-1,G=C.followers&&C.followers.indexOf(j.id)>-1,q=C.followRequests&&C.followRequests.findIndex(e=>e.id===j.id)>-1,{currentLocationGeocode:K={},yrWeather:Z=[]}=c,Y=S.a.getViews(c.statistics),X=S.a.getAdminData(c.statistics);return Object(d.h)(e,null,(_||j.id===A.id)&&Object(d.h)(e,null,Object(d.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(d.h)("i",{class:"fas fa-ellipsis-h",onClick:this.toggleMenu,"data-id":c.id}))),a[c.id]&&Object(d.h)(e,null,Object(d.h)("div",{class:"position-absolute bg-light p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},j.id===A.id?Object(d.h)(e,null,Object(d.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleEdit,"data-id":c.id},Object(d.h)("i",{class:"fas fa-edit"})," Edit"),Object(d.h)("hr",null),Object(d.h)("button",{class:"btn btn-link btn-block text-left text-danger",onClick:this.toggleDeleteStory,"data-id":c.id},Object(d.h)("i",{class:"fas fa-trash-alt"})," Delete")):Object(d.h)(e,null,Object(d.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.reportStory,"data-id":c.id},Object(d.h)("i",{class:"fas fa-flag"})," Report"),_&&Object(d.h)(e,null,Object(d.h)("hr",null),Object(d.h)("button",{class:"btn btn-link btn-block text-left text-danger",onClick:this.adminRemoveStory,"data-id":c.id},Object(d.h)("i",{class:"fas fa-eraser"})," Remove from feed"))))),Object(d.h)("div",{class:"d-flex position-relative"},Object(d.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:E?`background-image: url("${E}"); background-size: cover;`:""},!E&&Object(d.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},M)),Object(d.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(d.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em; "+(c.offline?"text-decoration: line-through;":"")},C.public?Object(d.h)(e,null,Object(d.h)("a",{href:"/teams/public/"+C.uuidv4,onClick:e=>p(e,C.uuidv4),class:"stretched-link"},R)):Object(d.h)(e,null,R),V&&!C.public&&Object(d.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted","data-id":c.id,onClick:this.toggleShowTeamSetting},Object(d.h)("i",{class:"fas fa-exclamation-triangle"}))),Object(d.h)("div",{class:"mb-2",style:""+(c.offline?"text-decoration: line-through;":"")},2===c.type?Object(d.h)(e,null,Object(d.h)("small",{class:"text-muted"},Object(d.h)(m.c,{id:"story.sponsored"},"Sponsored")," -")):Object(d.h)(e,null,c.date&&Object(d.h)("small",{class:"text-muted",onClick:this.toggleDate},s?h.a.formatDate(c.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance(c.date,new Date,{locale:"no-NB"}))),1===c.public?Object(d.h)(e,null,Object(d.h)("small",{class:"ml-2 text-muted"},Object(d.h)("i",{class:"fas fa-globe-europe"}))):Object(d.h)(e,null,Object(d.h)("small",{class:"ml-2 text-muted"},Object(d.h)("i",{class:"fas fa-users"})," (",h.a.format(H),")")),z&&Object(d.h)(e,null,Object(d.h)("small",{class:"ml-2 text-muted"},U?Object(d.h)(e,null,Object(d.h)("a",{href:U},z)):Object(d.h)(e,null,z))),K&&K.formattedCounty&&Object(d.h)(e,null,Object(d.h)("small",{class:"ml-2 text-muted"},Object(d.h)("i",{class:"fas fa-map-marker-alt"})," ",K.formattedCounty))),_&&Object(d.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(d.h)("small",{class:"text-muted mr-2"},"Adm:"),W&&W.length>0&&Object(d.h)(e,null,Object(d.h)("small",{class:"text-danger mr-2"},Object(d.h)("i",{class:"fas fa-flag"})," ",W.length)),K&&K.formatted_address&&Object(d.h)(e,null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-map-marker-alt"})," ",K.formatted_address)),X&&Object(d.h)(e,null,Object(d.h)("small",{class:"ml-2 text-muted"},"V: ",X.count),Object(d.h)("small",{class:"ml-2 text-muted"},"R: ",X.ranking," ",h.a.isNumber(X.rankingTrend)&&Object(d.h)(e,null,Object(d.h)("i",{class:S.a.getClassForTrend(X.rankingTrend)}))),Object(d.h)("small",{class:"ml-2 text-muted"},"D: ",h.a.format(X.durationAvg/1e3,1),"s ",h.a.isNumber(X.durationAvgTrend)&&Object(d.h)(e,null,Object(d.h)("i",{class:S.a.getClassForTrend(X.durationAvgTrend)}))),c.statisticsCurrent&&c.statisticsCurrent.totalInteractions>0&&Object(d.h)("small",{class:"ml-2 text-muted"},"S: ",h.a.format(c.statisticsCurrent.totalInteractions,0)),c.shadowTags&&c.shadowTags.map(t=>Object(d.h)(e,null,Object(d.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},t))))))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"clearfix col-12",style:""+(c.offline?"text-decoration: line-through;":"")},i[c.id]&&Object(d.h)(e,null,Object(d.h)(T,{stores:this.props.stores,story:c,key:"story-edit-"+c.id,callback:this.doneEdit})),o[c.id]&&Object(d.h)("div",{class:"clearfix mt-3 mb-3"},Object(d.h)("button",{class:"btn btn-danger float-left",onClick:this.deleteStory,"data-id":c.id},Object(d.h)("i",{class:"fas fa-trash-alt"})," Delete"),Object(d.h)("button",{class:"btn btn-secondary float-right",onClick:this.toggleDeleteStory,"data-id":c.id},Object(d.h)("i",{class:"fas fa-times-circle"})," Cancel")))),(!c.type||1==c.type)&&Object(d.h)(D,{stores:this.props.stores,story:c,key:"story-regular-view-"+c.id,likeStory:this.likeStory,likeRef:r,keys:l}),2==c.type&&Object(d.h)(I,{stores:this.props.stores,story:c,key:"story-ad-view-"+c.id,likeStory:this.likeStory,likeRef:r,keys:l}),3==c.type&&Object(d.h)(P,{stores:this.props.stores,story:c,key:"story-article-view-"+c.id,likeStory:this.likeStory,likeRef:r,keys:l}),Object(d.h)("div",{class:"mt-2"},Object(d.h)(w.a,{stores:this.props.stores,likes:N,comments:$,type:"story",onTeamClick:p,onUserClick:b})),!V&&!G&&!q&&C.public>0&&Object(d.h)("div",{class:"clearfix mb-2"},Object(d.h)(x.a,{stores:this.props.stores,team:C,buttonOnly:!0})),n[c.id]&&Object(d.h)(e,null,Object(d.h)("small",null,Object(d.h)("div",{class:"alert alert-info",role:"alert"},Object(d.h)("span",{class:"display-4 float-left"},Object(d.h)("i",{class:"fas fa-exclamation-triangle mr-3 mb-3"})),Object(d.h)("p",null,Object(d.h)(m.c,{id:"story.alert-text-1"},"Your team is not visible and it's not possible to request friendship with your team.")),Object(d.h)("p",null,Object(d.h)(m.c,{id:"story.alert-text-2"},"If you want to make your team visible so other can request to follow your team, you can find the setting here:")),Object(d.h)("p",null,Object(d.h)("a",{href:"/teams/edit/"+C.id},Object(d.h)(m.c,{id:"story.alert-text-3"},"Edit team")))))),Object(d.h)("div",null,Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col text-center"},Object(d.h)("button",{type:"button",class:`storyImage btn btn-sm btn-outline-${B?"primary":"secondary"} btn-lg btn-block ${B?"text-primary":""} text-overflow`,"data-id":c.id,onClick:this.likeStory},Object(d.h)("i",{class:(B?"text-primary fas":"far")+" fa-thumbs-up"})," ",B?Object(d.h)(m.c,{id:"comments.has-liked"},"Liked"):Object(d.h)(m.c,{id:"comments.like"},"Lik"))),Object(d.h)("div",{class:"col text-center"},Object(d.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":c.id,onClick:this.toggleAddComment},Object(d.h)("i",{class:"fas fa-comment"})," ",Object(d.h)(m.c,{id:"comments.comment-add"},"Kommentar"))),L?Object(d.h)(e,null,Object(d.h)("div",{class:"col text-center"},Object(d.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/story/"+c.uuidv4,"data-title":"title: "+c.title},Object(d.h)("i",{class:"fas fa-share"})," ",Object(d.h)(m.c,{id:"story.share"},"Del")))):Object(d.h)(e,null,Object(d.h)("div",{class:"col text-center"},Object(d.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/story/"+c.uuidv4,target:"_blank",rel:"noreferrer"},Object(d.h)("i",{class:"fas fa-share"})," ",Object(d.h)(m.c,{id:"story.share"},"Del")))))),Y>0&&Object(d.h)(e,null,Object(d.h)("div",{class:"mt-2"},Object(d.h)(k.a,{stores:this.props.stores,views:Y,object:c,type:"story",isTeamAdmin:F,isAdmin:_,onTeamClick:p,onUserClick:b}))),Object(d.h)("div",{class:"mt-2"},Object(d.h)(v.a,{stores:this.props.stores,story:c,col:"10",offset:"2",compact:!1,showAllComments:u,initCall:this.closeAllAddComments}),t[c.id]&&Object(d.h)(y.a,{stores:this.props.stores,story:c,inputRef:e=>this.inputRef[c.id]=e,inputRefObject:this.inputRef,col:"10",offset:"2",key:"story-comment-"+c.id})))}})||c;t.a=L}).call(this,s("hosL").Fragment)},NPbb:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=(s("OhSV"),s("ZOvn")),h=s("bbv7");s("nHdA"),s("irB3"),s("UwwE"),s("8Lgr"),s("QkTp");let u=Object(c.a)(n=class extends r.Component{render(){const{showTemperatur:t=!0}=this.props,{trackStore:s,userStore:a}=this.props.stores,{track:o={}}=s,{user:n}=a,{settings:c={}}=n,{gpx:u={},gpxInfo:p}=o,{gpxInfo:m={}}=u,b=i(i({},m),p),{speeds:f=[],elevations:g=[],temperatures:O=[],climbs:v=[],distances:y=[],ecor:j=[]}=b;let w=[],k=[],x=[],S=[],_=[];const T=[],D=[],I=[],P=[],L=[],C=[],A=[],E=[];if(g.length>0){const e=d.a.smoothArray(g,5).map((e,t)=>{return{x:t,y:c.imperial?(s=e,3.28084*s):e};var s});w.push(e),T.push("Elevation"),L.push("m")}if(t&&O.length>0){const e=d.a.smoothArray(O,2).map((e,t)=>{return{x:t,y:c.imperial?(s=e,9*s/5+32):e};var s});k.push(e),D.push("Temp"),C.push("°C")}if(v.length>0){const e=d.a.smoothArray(v,2).map((e,t)=>({x:t,y:e}));x.push(e),I.push("Climblevel"),A.push("%")}if(j.length>0){const e=d.a.smoothArray(j,2).map((e,t)=>({x:t,y:1e3*e}));_.push(e),P.push("ECOR (kcal/kg/km)"),E.push("kcal/kg/km")}const F=[];if(o.distanceKm>0){const e=c.imperial?.621371*o.distanceKm:o.distanceKm,t=l.a.range(0,Math.ceil(e),1),s=Math.ceil(t.length/5);Math.floor(t.length/s);for(let e=0,a=t.length;e<a;e+=s)F.push(t[e]);F.push(t[t.length-1])}return Object(r.h)(e,null,Object(r.h)("div",{class:"w-100 mt-3 mb-4"},Object(r.h)(h.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:e=>c.imperial?e+"mi":e+"km",xTicks:F,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:w,legendLeft:T,showYTicksLeft:1,yTicksLeftPostfix:c.imperial?"ft":"m",unitLeft:L,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:S,legendRight:[],showYTicksRight:S.length>0?1:0,yTicksRightPostfix:c.imperial?"mph":"km/t",unitRight:[],avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),k.length>0&&Object(r.h)("div",{class:"w-100 mt-3 mb-4"},Object(r.h)(h.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:e=>c.imperial?e+"mi":e+"km",xTicks:F,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:k,legendLeft:D,yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:"°C",unitLeft:C,avgWindowLeft:[0],smoothLeft:[1]})),x.length>0&&Object(r.h)("div",{class:"w-100 mt-3 mb-4"},Object(r.h)(h.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:e=>c.imperial?e+"mi":e+"km",xTicks:F,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:x,legendLeft:I,yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:"%",unitLeft:A,avgWindowLeft:[0],smoothLeft:[1],dataRight:_,legendRight:P,showYTicksRight:_.length>0?1:0,yTicksRightVal:e=>l.a.format(e/1e3,2),unitRight:E,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))}})||n;t.a=u}).call(this,s("hosL").Fragment)},NS33:function(e,t,s){"use strict";function a(){}function i(){}var o=s("E02R");i.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,i,n){if(n!==o){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return s.PropTypes=s,s}},NZmg:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l=s("hosL"),c=s("Utv1"),d=s("/eY4"),h=s("Y3FI"),u=s("cneo"),p=s("OhSV"),m=s("nHdA"),b=s("irB3"),f=(s("UwwE"),s("8Lgr")),g=(s("QkTp"),s("ZOvn")),O=s("pJjI");const v=g.a.marginTop(!0),y=g.a.marginBottom(),j=(g.a.subMenuMarginTop(),{isLoading:!1,isSaving:!1,hideProminentDisclosure:!1,mapHeight:300,reloadLastEpoch:null});let w=Object(d.a)(n=class extends l.Component{constructor(...e){super(...e),this.updateTextField=e=>{const{type:t,updateField:s,isNew:a}=this.props,{id:i,field:o}=e.target.dataset,n=e.target.value;s({id:parseInt(i,10),field:o,value:n,type:t,isNew:a})}}toggleType(e){const{workout:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(u.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:t,raceStore:s}=this.props.stores,{types:a,user:i}=t,{language:o}=i,{saved:n,workout:r,field:c,title:d,icon:h,help:m}=this.props,b=Object(u.i)(r[c]),f=s.getSignupByUserEmail(i.email).length>0;return Object(l.h)("div",{class:"form-group pb-1 "+(n[`${c}.${r.id}`]?"is-valid":"")},Object(l.h)("label",{for:c+"Input"},h&&Object(l.h)("i",{class:h+" text-muted"})," ",d),Object(l.h)("div",{class:"container-fluid px-1"},Object(l.h)("div",{class:"row"},a&&a.filter(e=>e.id<=2).map((t,s)=>Object(l.h)("div",{class:"col-6 mb-1 px-0"},Object(l.h)("button",{class:`btn btn-sm btn-block rounded-none \n\t\t\t\t\t\t\t\t\t\t${0===s?"rounded-pill-left":s+1===2?"rounded-pill-right":""}\n                                        clearfix ${b===t.id?"btn-info":"btn-outline-info"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:()=>this.toggleType(t.id)},t.icon&&Object(l.h)("i",{class:t.icon})," ",o&&t.lang&&t.lang[o]?t.lang[o]:t.name,f&&2===t.id&&Object(l.h)(e,null,b===t.id?Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-check float-right"})):Object(l.h)(e,null,Object(l.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(l.h)("span",{class:"sr-only"},"Loading...")),Object(l.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))))),n[`${c}.${r.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(p.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:c+"Help",class:"form-text text-muted"},m))}})||n,k=Object(d.a)(r=class extends l.Component{constructor(e){var t;super(e),t=this,this.updateFieldValue=async function({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1}){const{workoutStore:l}=t.props.stores;let d=a,h=a;const{workout:u}=l;if("images"===s&&Array.isArray(u.images)&&Array.isArray(a)&&(h=[...u.images,...a]),"array"!==i||Array.isArray(a)||(d="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newWorkout",s,a):(l.updateField(e,s,h),r?await t.doUpdateField(e,s,d):(clearTimeout(t.updateTimer[s]),t.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,d)}),500))),"gpx"===s&&u&&c.a.checkNested(u,"gpx","gpxInfo")){const{totalDistance:t,maxSpeed:s,avgSpeed:a,ascent:i,decent:o,duration:n,rest:r,startLatlng:d,endLatlng:h}=u.gpx.gpxInfo,p={};n&&(l.updateField(e,"duration",n),p.duration=n),r&&(l.updateField(e,"rest",r),p.rest=r),t&&(l.updateField(e,"distanceKm",c.a.roundTo(t,10)),p.distanceKm=c.a.roundTo(t,10)),s&&(l.updateField(e,"speedmax",c.a.roundTo(s,10)),p.speedmax=c.a.roundTo(s,10)),a&&(l.updateField(e,"speedAvg",c.a.roundTo(a,10)),p.speedAvg=c.a.roundTo(a,10)),i&&(l.updateField(e,"elevation",i),p.elevation=i),o&&(l.updateField(e,"decent",o),p.decent=o),d&&(l.updateField(e,"startLatlng",d),p.startLatlng=d),h&&(l.updateField(e,"endLatlng",h),p.endLatlng=h),await l.save(p,u.id)}},this.loadStartup=async function(){const{workoutStore:e,raceStore:s}=t.props.stores,{workoutid:a}=t.props,{cordovaActiveTrackingParams:i}=e;a||i.workout?await t.loadExistingWorkout():t.updateFieldValue({field:"type",value:2,isNew:!0}),s.loadRaceInProgress()},this.loadExistingWorkout=async function(){t.setState({isLoading:!0});const{workoutStore:e}=t.props.stores,{cordovaActiveTrackingParams:s}=e,{workoutid:a}=t.props;(s.workout||a)&&await e.load(s.workout||a,{},{limit:10});const{workout:i}=e;if(i&&i.id){const t=Math.floor(new Date(i.date).getTime()/1e3),s=Math.floor((new Date).getTime()/1e3);e.cordovaSetTimes({startTime:t,lastTime:s,totalTime:s-t});let a=i.distanceKm;a<=0&&i.gpxInfo&&i.gpxInfo.calculatedTotalDistance&&(a=i.gpxInfo.calculatedTotalDistance),e.setTotalDistance(1e3*a),e.cordovaSetOdometer(1e3*a)}t.setState({isLoading:!1})},this.startTracking=async function(){t.setState({isLoading:!0});const{workoutStore:e}=t.props.stores,{workoutid:s}=t.props,{currentTeam:a,newWorkout:o={}}=e;if(s){await e.load(s);const t={isInProgress:1};await e.save(t,s)}else{let t=(await e.load({query:{team:a},skipUpdate:1,limit:5,sort:"-createdDate"}))[0];const s={};t&&(s.dogs=t.dogs||[],s.dogsLeft=[],s.dogsRight=[],s.mushers=t.mushers,s.type=t.type||2,s.equipment=t.equipment,s.sledWeight=t.sledWeight);const n=await e.insert(i(i({name:"New workout tracking "+c.a.isoDate(),team:a,isInProgress:1},s),{},{type:o.type||1}));await e.cordovaResetTracking(),await e.load(n.data.id)}const{workout:n}=e;e.cordovaStartTracking({workout:n.id,team:a}),t.setState({isLoading:!1})},this.resumeTracking=async function(){const{workoutStore:e}=t.props.stores;await e.cordovaResumeTracking();const{workout:s,currentTeam:a}=e,i={isInProgress:1,team:a};await e.save(i,s.id)},this.pauseTracking=async function(){const{workoutStore:e}=t.props.stores;await e.cordovaPauseTracking();const{workout:s}=e;await e.save({isInProgress:2},s.id)},this.finishTracking=async function(){t.setState({isSaving:!0});const{workoutStore:e}=t.props.stores;await e.cordovaSaveTracking(),await e.cordovaResetTracking();const{workout:s,currentTeam:a}=e,i={isInProgress:0,team:a};await e.save(i,s.id),t.setState({isSaving:!1}),Object(h.route)("/workouts/list",!0)},this.confirmProminentDisclosure=async function(){const{userStore:e}=t.props.stores;t.setState({hideProminentDisclosure:!0}),await e.updateSetting({"settings.prominentDisclosure":1}),await e.getInfo()},this.cancelTracking=async function(){const{workoutStore:e}=t.props.stores;e.cordovaResetTracking(),Object(h.route)("/workouts/list",!0)},this.debug=()=>{const{workoutStore:e}=this.props.stores,{currentTeam:t,newWorkout:s={}}=e;console.log({currentTeam:t,newWorkout:s})},this.state=i({},j),this.updateTimer={}}async doUpdateField(e,t,s){const{workoutStore:a}=this.props.stores;e&&t&&await a.saveField(e,t,s)}componentDidMount(){this.loadStartup()}render(){const{isLoading:t,isSaving:s,hideProminentDisclosure:a,reloadInSec:i}=this.state,{userStore:o,appState:n,workoutStore:r,raceStore:d}=(Math.floor(c.a.normalizeBetween(i,0,300,0,100)),this.props.stores),{currentTeam:h,totalTime:u=0,currentSpeed:j=0,totalDistance:k=0,isRunning:x,saved:S,workout:_,newWorkout:T,cordovaAuthorizationStatus:D,powerSaveStatus:I,cordovaActiveTrackingParams:P,activeTrackingWorkoutId:L,activeTrackingTeamId:C,coords:A,bgGeo:E}=r,F=g.a.windDirection(A.heading),{isCordova:M}=n,{year:R=c.a.getYear()}=this.props,{user:z,isAdmin:U}=o,{settings:N={},language:$="en"}=z,W=o.findTeam(_.team),B=o.findWorkoutType({type:_.type,language:$}),H=o.findWorkoutType({type:_.type,field:"icon"}),V=d.getSignupByUserEmail(z.email),G=V.map(e=>parseInt(e.musher.team,10)),q=z&&z.email,K=!_.id,Z=K?T.type:_.type,Y=-1===["NOT DETERMINED","RESTRICTED","DENIED","WHEN_IN_USE"].indexOf(D);let X;return _&&_.gpxInfo&&_.gpxInfo.battegryLevelStart&&(X=100*(_.gpxInfo.battegryLevelStart-_.gpxInfo.battegryLevelEnd)),!q||t||a||N.prominentDisclosure?q?Object(l.h)("div",{class:"container-fluid fixed-top h-100",style:`margin-bottom: ${y}; margin-top: ${v}; z-index: 10001;`},Object(l.h)("div",{class:"navbar-themed fixed-top text-center bg-success",style:"z-index: 10000;"},x?Object(l.h)(e,null,Object(l.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(l.h)("div",{class:"spinner-grow ml-3",role:"status"}))):Object(l.h)(e,null,u>0?Object(l.h)(e,null,Object(l.h)("h1",{class:"text-danger font-weight-bold"},"Stopped",Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"}))):Object(l.h)(e,null,Object(l.h)("h1",{class:`text-${2===Z?"primary":"warning"} font-weight-bold`},"Ready to ",2===Z?Object(l.h)(e,null,"race ",Object(l.h)("i",{class:"fas fa-flag-checkered"})):Object(l.h)(e,null,"start ",Object(l.h)("i",{class:"fas fa-running"})))))),Object(l.h)("div",{class:"row bg-light"},!x&&V&&V.length>0&&Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(l.h)("div",{class:"alert alert-warning"},Object(l.h)("h5",null,Object(l.h)(p.c,{id:"races.race-in-progress"},"Løp pågår")),Object(l.h)("ul",null,V.map(e=>Object(l.h)("li",null,e.race.title))),Object(l.h)("i",{class:"fas fa-exclamation-triangle"})," ",Object(l.h)(p.c,{id:"races.choose-correct-team-and-type"},"Velg riktig team og type for løpet."))),x&&Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 font-weight-bold position-relative text-center bg-light"},_.name),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 bg-light"},x?Object(l.h)(e,null,Object(l.h)("span",{class:"float-left"},Object(l.h)("i",{class:"fas fa-users text-muted"})," ",W),Object(l.h)("span",{class:"float-right"},Object(l.h)("i",{class:H+" text-muted"})," ",B)):Object(l.h)(e,null,Object(l.h)("label",{for:"teams"},Object(l.h)("i",{class:"fas fa-users text-muted"})," Team"),Object(l.h)(O.a,{stores:this.props.stores,callback:this.debug,key:"teams-"+h,unsetTeamIfSelected:!1,highlight:G}),!h&&Object(l.h)(e,null,Object(l.h)("div",{class:"alert alert-danger",role:"alert"},Object(l.h)("i",{class:"fas fa-hand-point-up mr-4 float-left",style:"font-size: 2.0em;"})," Please choose team before starting tracking.")),Object(l.h)(w,{stores:this.props.stores,saved:S,workout:K?T:_,type:"number",field:"type",icon:"fas fa-running",title:Object(l.h)(p.c,{id:"workouts.type"},"Type tur"),updateField:this.updateFieldValue,isNew:K}),K&&!T.type&&Object(l.h)(e,null,Object(l.h)("div",{class:"alert alert-danger",role:"alert"},Object(l.h)("i",{class:"fas fa-hand-point-up mr-4 float-left",style:"font-size: 2.0em;"})," Please choose type before starting tracking."))))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-center"},Object(l.h)("i",{class:"fas fa-clock text-muted"})," Time",X>0&&Object(l.h)("small",{class:"text-muted ml-3"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",c.a.format(X,1),"% used"),Object(l.h)("div",{class:"display-3 my-0 py-0 font-weight-bold d-flex justify-content-center",style:"line-height: 1.0em;"},c.a.secToHms(u).split(":").map((t,s)=>Object(l.h)(e,null,Object(l.h)("div",{class:"text-center",style:"width: 100px;"},t),s<2&&Object(l.h)("div",{class:"text-muted"},":"))))),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 text-center"},Object(l.h)("i",{class:"fas fa-tachometer-alt text-muted"})," Speed",Object(l.h)("div",{class:"display-3 my-0 py-0 font-weight-bold d-flex justify-content-center",style:"line-height: 1.0em;"},Object(l.h)(m.a,{stores:this.props.stores,value:3.6*j,smallUnit:!0}))),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 text-center"},Object(l.h)("i",{class:"fas fa-road text-muted"})," Distance",Object(l.h)("div",{class:"display-3 my-0 py-0 font-weight-bold d-flex justify-content-center",style:"line-height: 1.0em;"},Object(l.h)(f.a,{stores:this.props.stores,value:k/1e3,smallUnit:!0}))),Object(l.h)("div",{class:"col-6 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 text-center"},Object(l.h)("i",{class:"fas fa-compass text-muted"})," Direction",Object(l.h)("div",{class:"display-4 my-0 py-0 d-flex justify-content-center",style:"line-height: 1.0em;"},Object(l.h)("div",{class:"text-center mr-4"},F))),Object(l.h)("div",{class:"col-6 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 text-center"},Object(l.h)("i",{class:"fas fa-mountain text-muted"})," Elevation",Object(l.h)("div",{class:"display-4 my-0 py-0 d-flex justify-content-center",style:"line-height: 1.0em;"},Object(l.h)(b.a,{stores:this.props.stores,value:A.altitude,smallUnit:!0}))),U&&Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 text-center"},"cordovaActiveTrackingParams: ",JSON.stringify(P,null,4),Object(l.h)("br",null),"activeTrackingWorkoutId: ",JSON.stringify(L,null,4),Object(l.h)("br",null),"activeTrackingTeamId: ",JSON.stringify(C,null,4),Object(l.h)("br",null),E&&Object(l.h)(e,null,"bgGeo: ",JSON.stringify(E.params,null,4),Object(l.h)("br",null))),Object(l.h)("div",{class:"navbar-themed fixed-bottom text-center pb-2",style:"z-index: 10000;"},!M&&Object(l.h)(e,null,Object(l.h)("div",{class:"alert alert-danger",role:"alert"},"GPS tracking is not enabled!")),!Y&&Object(l.h)(e,null,Object(l.h)("div",{class:"alert alert-danger",role:"alert"},"No access to GPS in background! Unable to track your workouts. Please go to settings and enable this.")),I&&Object(l.h)(e,null,Object(l.h)("div",{class:"alert alert-danger",role:"alert"},"Powersave is enabled! Unable to track your workouts. Please go to settings and enable this.")),N.prominentDisclosure&&M&&Object(l.h)(e,null,x?Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-link",onClick:this.pauseTracking},Object(l.h)("i",{class:"fas fa-pause-circle text-danger",style:"font-size: 80px;"}),Object(l.h)("br",null),Object(l.h)("small",null,"Pause"))):Object(l.h)(e,null,u>0?Object(l.h)(e,null,s?Object(l.h)(e,null,Object(l.h)("span",{class:"spinner-border spinner-border-sm",style:"width: 80px; height: 80px;",role:"status","aria-hidden":"true"})):Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-link",onClick:this.resumeTracking},Object(l.h)("i",{class:"fas fa-play-circle text-danger",style:"font-size: 80px;"}),Object(l.h)("br",null),Object(l.h)("small",null,"Resume")),Object(l.h)("button",{class:"btn btn-link",onClick:this.finishTracking},Object(l.h)("i",{class:"fas fa-check-circle text-success",style:"font-size: 80px;"}),Object(l.h)("br",null),Object(l.h)("small",null,"Finish")))):Object(l.h)(e,null,t?Object(l.h)(e,null,Object(l.h)("span",{class:"spinner-border spinner-border-sm",style:"width: 80px; height: 80px;",role:"status","aria-hidden":"true"})):Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-link",onClick:this.startTracking},Object(l.h)("i",{class:"fas fa-play-circle text-danger",style:"font-size: 80px;"}),Object(l.h)("br",null),Object(l.h)("small",null,"Start")),Object(l.h)("button",{class:"btn btn-link",onClick:this.cancelTracking},Object(l.h)("i",{class:"fas fa-times-circle text-warning",style:"font-size: 80px;"}),Object(l.h)("br",null),Object(l.h)("small",null,"Cancel"))))))))):Object(l.h)("div",{class:"container-fluid",style:`margin-bottom: ${y}; margin-top: ${v};`},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-center mt-5 pt-5"},Object(l.h)("div",{class:"spinner-border text-primary mx-auto",role:"status",style:"width: 100px; height: 100px;"},Object(l.h)("span",{class:"sr-only"},"Loading...")),Object(l.h)("br",null),"Loading user info and other stuff..."))):Object(l.h)("div",{class:"container-fluid",style:`margin-bottom: ${y}; margin-top: ${v};`},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(l.h)("h5",null,"Background Location Access"),Object(l.h)("p",null,"The Musher collects location data when a workout session is in progress. This is done to enable tracking your workouts, calculating distance and load index. The location data is collected even when the app is closed or not in use."),Object(l.h)("p",null,"The data will be uploaded to your account at themusher.app where you may view and/or delete your location history."),Object(l.h)("p",null,"The complete ",Object(l.h)("a",{href:"https://litt.no/v2/the-musher/privacy-policy-for-the-musher/247",native:!0},"PRIVACY POLICY FOR THE MUSHER")," is located at the litt.no.")),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(l.h)("button",{class:"btn btn-primary float-right",onClick:this.confirmProminentDisclosure},"I understand"))))}})||r;t.a=k}).call(this,s("hosL").Fragment)},Nanz:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("Y3FI"),s("OhSV")),d=s("fh8t"),h=s.n(d),u=(s("X9Km"),s("ZOvn")),p=s("s4FZ"),m=s("1/9N");const b=u.a.marginTop(!1),f=u.a.marginTopBack(!1),g=u.a.marginBottom(),O={newTeam:{}};let v=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.nextDog=()=>{const{nextDogIdx:e}=this.state,{dogs:t=[],stores:s}=this.props,a=t[e];a&&a.uuidv4&&this.loadPublicDog({stores:s,dogs:t,dogid:a.uuidv4})},this.prevDog=()=>{const{prevDogIdx:e}=this.state,{dogs:t=[],stores:s}=this.props,a=t[e];a&&a.uuidv4&&this.loadPublicDog({stores:s,dogs:t,dogid:a.uuidv4})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},O),this.updateTimer={},this.time=(new Date).getTime(),this.apiServer=r.a.getApiServer()}async loadPublicView(e){this.setState({isLoading:!0});const{dogid:t}=e,{dogStore:s}=this.props.stores;await s.getPublicViews(t),this.setState({isLoading:!1})}async loadAll(e=this.props){await this.loadPublicDog(e),await this.loadPublicView(e)}async loadPublicDog(e=this.props){const{dogStore:t}=e.stores,{dogid:s,dogs:a=[]}=e;await t.loadPublicDetail({id:s});const{publicDog:i}=t,o=a.findIndex(e=>e.id===i.id);let n=null,r=null,l=null,c=null,d=!1,h=!1;o>0&&(n=o-1,l=a[n].shortname||a[n].name,d=!0),o<a.length-1&&(r=o+1,c=a[r].shortname||a[r].name,h=!0),this.setState({prevDogIdx:n,prevDogName:l,nextDogIdx:r,nextDogName:c,hasPrevDog:d,hasNextDog:h,currentDogIdx:o})}componentDidMount(){const{back:e=this.back}=this.props,{appState:t}=this.props.stores;t.setSwipeRight(()=>{t.setSwipeRight(),e()}),this.loadAll()}componentWillReceiveProps(e){e.dogid!==this.props.dogid&&this.loadAll(e)}render(){const{hasPrevDog:t,hasNextDog:s}=this.state,{teamStore:a,dogStore:i,userStore:o}=this.props.stores,{user:l,isAdmin:d}=o,{language:O="en"}=l,{publicDog:v,publicTeam:y,publicViewsGraphData:j}=i,w=!(!y||!y.members)&&y.members.some(e=>e.id===l.id),k=y,{marginTop:x,marginBottom:S,back:_=this.back}=this.props,{users:T=[],imageHeader:D}=k,{image:I}=v,P=D&&D.s3XXLargeLink?D:{s3XXLargeLink:"./assets/homerun-race-logo.png"},L=I&&I.s3LargeLink?I:null,C=(o.findTeamAmbition({ambition:k.ambitions,language:O}),o.findTeamType({type:k.type,language:O}),o.findDogposition({position:v.position,language:O})),A=u.a.hasBirthday(v.birth),E=Math.ceil(u.a.daysUntilNextBirthday(v.birth));return Object(n.h)(e,null,Object(n.h)("div",{class:"container-fluid pb-5",style:`margin-bottom: ${S||g}; margin-top: ${x||b};`},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${f}; left: 5px; font-size: 2.0em; width: 43px;`,onClick:_},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row mb-0"},Object(n.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(P?`background-image: url("${P.s3XXLargeLink}");`:"")}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(n.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRoundedXLarge imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(L?`background-image: url("${L.s3LargeLink}"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;`:"")},!L&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(n.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(n.h)("small",{class:"font-weight-light"},k.name),Object(n.h)("br",null),v.birth&&Object(n.h)(e,null,Object(n.h)("h5",{class:"float-right"},E<7&&Object(n.h)(e,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",E," days")),v.birth&&Object(n.h)("span",{class:"mr-2"},r.a.age(v.birth,v.deceased)),"female"===v.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),Object(n.h)("h5",{class:"my-0"},v.shortname||v.name,A&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"}))),v.shortname&&Object(n.h)("div",null,v.name),C&&C.class&&Object(n.h)(e,null,Object(n.h)("span",{class:`badge badge-${C.class||"primary"} mt-2`},C.icon&&Object(n.h)("i",{class:C.icon})," ",C.name)),v.weight>0&&Object(n.h)("small",{class:"text-muted"},v.weight&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",r.a.format(v.weight,1)," kg")))))),Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"dogs.description"},"Beskrivelse"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(h.a,{markdown:u.a.replaceImages(v.description,v.images,O),markdownOpts:u.a.getMarkdownOptions()}))),v.images&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"dogs.public-photos",fields:{total:v.images.length}},"Bilder av hunden - ",v.images.length," stk"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(n.h)(p.a,{stores:this.props.stores,images:v.images}))),v.achievements&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"dogs.achievements"},"Achievements"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},v.achievements&&v.achievements.map(e=>Object(n.h)("div",{class:"col-12"},e.date&&Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(e.date,!1,!1,!0)),Object(n.h)("span",{class:"mr-2 font-weight-bold"},e.name),Object(n.h)("span",{class:"mr-2 font-weight-light"},e.description),e.url&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("a",{href:u.a.asUrl(e.url),target:"_blank",rel:"noreferrer",native:!0},Object(n.h)("i",{class:"fas fa-link"})))))))),v.trophys&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"dogs.trophy"},"Trophys"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},v.trophys&&v.trophys.reverse().map(e=>{const t=u.a.getTrophyImage(e.name);if(!t)return"";const s=e.descriptionHeader&&e.descriptionHeader[O]?e.descriptionHeader[O]:"",a=e.description&&e.description[O]?e.description[O]:"";return Object(n.h)("div",{class:"col-4 mt-3"},Object(n.h)("div",{class:"mb-2"},Object(n.h)("img",{src:t,class:"img-fluid"})),Object(n.h)("strong",null,s),Object(n.h)("small",null,Object(n.h)("details",null,Object(n.h)("summary",null,Object(n.h)(c.c,{id:"dogs.trophy-details"},"Details")),Object(n.h)(h.a,{markdown:u.a.replaceImages(a,v.images,O),markdownOpts:u.a.getMarkdownOptions()}))))})))),Object(n.h)("div",{class:"row mt-5 mb-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-ellipsis-h"})),Object(n.h)("div",{style:"line-height: 0.9em;"},Object(n.h)("small",null,Object(n.h)(c.c,{id:"dogs.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(d||w)&&Object(n.h)(e,null,Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"dogs.visits"},"Dog page visits")),Object(n.h)(m.a,{stores:this.props.stores,dataLeft:j,legendLeft:["dog"],key:"minigraph-dog-"+v.uuidv4})),s&&Object(n.h)("span",{class:"fixed-bottom text-primary",style:"bottom: 60px; left: auto; right: 12px; width: 43px; font-size: 3.0em; z-index: 10;"},Object(n.h)("i",{class:"fas fa-arrow-circle-right",onClick:this.nextDog})),t&&Object(n.h)("span",{class:"fixed-bottom text-primary",style:"bottom: 60px; left: 5px; width: 43px; font-size: 3.0em; z-index: 10;"},Object(n.h)("i",{class:"fas fa-arrow-circle-left",onClick:this.prevDog})),v.uuidv4&&Object(n.h)("img",{src:`${this.apiServer}/api/dogs/${v.uuidv4}/view?user=${l.id}&time=${this.time}`,style:"width: 1; height: 1; opacity: 0.1;"})))}})||o;t.a=v}).call(this,s("hosL").Fragment)},OMjx:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n,r,l,c,d,h=s("hosL"),u=s("Utv1"),p=s("/eY4"),m=s("cneo"),b=s("go65"),f=s("Y3FI"),g=s("OhSV"),O=(s("fh8t"),s("ZOvn")),v=s("om2D"),y=s("TiXY"),j=s("KOz6"),w=s("6GRK");const k=O.a.marginTop(!1),x=O.a.marginTopBack(!1),S=O.a.marginBottom(!1);let _=Object(p.a)(o=class extends h.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;if(t.dataset.retry||(t.dataset.retry=0),t.dataset.retry=parseInt(t.dataset.retry,10)+1,t.dataset.retry>5)return!1;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{dogStore:s}=t.props.stores,{dog:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeFile=async function(e){const{dogStore:s}=t.props.stores,{dog:a}=t.props;s.removeFile({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})}}render(){const{saved:t,dog:s,type:a="text",datalist:i=[],min:o,max:n,step:r,field:l,title:c,icon:d,help:p,onInput:m,updateField:b,refName:f,showImages:O=!1,showFiles:k=!0}=this.props;let x=s[l],S=n;return"date"===a&&(x&&(x=u.a.isoDate(s[l],!1,!1,!0)),"today"===n&&(S=u.a.isoDate(void 0,!1,!1,!0))),"file"===a?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d+" text-muted"})," ",c),k&&Object(h.h)(e,null,Object(h.h)("div",{class:"container-fluid"},Object(h.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(h.h)(e,null,Object(h.h)("div",{class:"text-center text-muted"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-file"})),Object(h.h)("h3",null,Object(h.h)(g.c,{id:"dogs.no-files-title"},"No files attached to this dog!")),Object(h.h)(g.c,{id:"dogs.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(e=>Object(h.h)("div",{class:"col-12 p-1"},Object(h.h)("span",{class:"font-weight-lighter mr-2"},u.a.isoDate(e.createdDate,!1,!1,!0)),Object(h.h)("span",{class:"mr-2"},e.name),Object(h.h)("span",{class:"font-weight-lighter mr-2"},u.a.formatBytes(e.size,1)),Object(h.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":e.name},Object(h.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(h.h)(y.a,{saved:t,object:s,field:l,updateField:b}),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):"textarea"===a?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d+" text-muted"})," ",c),Object(h.h)("textarea",{type:"text",class:"form-control "+(t[`${l}.${s.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:x,"data-id":s.id,"data-field":l,onInput:m,rows:10}),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):"links"===l?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d+" text-muted"})," ",c),Object(h.h)(w.a,{saved:t,stores:this.props.stores,object:s,field:l,updateField:b}),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):"achievements"===l?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d+" text-muted"})," ",c),Object(h.h)(j.a,{saved:t,stores:this.props.stores,object:s,field:l,updateField:b}),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):"image"===a?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d})," ",c),O&&Object(h.h)(e,null,Object(h.h)("div",{class:"container-fluid"},Object(h.h)("div",{class:"row"},(!s.images||0===s.images.length)&&Object(h.h)(e,null,Object(h.h)("div",{class:"text-center text-muted mb-3"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-images"})),Object(h.h)("h3",null,Object(h.h)(g.c,{id:"dogs.no-images-title"},"No images for this dog!")),Object(h.h)(g.c,{id:"dogs.no-images-text"},"You can add more images to this dog. Puppy pictures, workout pictures, lazy summer pictures, etc. All is a nice way to create a better profile for this dog."))),s.images&&s.images.map(e=>Object(h.h)("div",{class:"col-3 p-1"},Object(h.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(h.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},"Del")))))),Object(h.h)(v.a,{saved:t,object:s,field:l,updateField:b}),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):"datalist"===a?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d})," ",c),Object(h.h)("input",{list:"list-"+l,class:"form-control "+(t[`${l}.${s.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:x,"data-id":s.id,"data-field":l,onInput:m}),Object(h.h)("datalist",{id:"list-"+l},i.map(e=>Object(h.h)("option",{value:e[0]},e[1]))),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):"select"===a?Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d})," ",c),Object(h.h)("select",{type:a,class:"form-control "+(t[`${l}.${s.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:x,"data-id":s.id,"data-field":l,onInput:m},Object(h.h)("option",{value:""},"-- Velg kjønn --"),i.map(e=>Object(h.h)("option",{value:e[0]},e[1]))),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p)):Object(h.h)("div",{class:"form-group "+(t[`${l}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},d&&Object(h.h)("i",{class:d})," ",c)," ",f,Object(h.h)("input",{type:a,class:"form-control "+(t[`${l}.${s.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",min:o,max:S,step:r,value:x,"data-id":s.id,"data-field":l,onInput:m}),t[`${l}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},p))}})||o,T=Object(p.a)(n=class extends h.Component{toggleType(e){const{dogStore:t}=this.props.stores,{object:s,type:a,field:i,updateField:o,isNew:n}=this.props;let r=Object(m.i)(s[i]);r=r===e?null:e,null===r?o({id:s.id,field:i,value:r,type:a,isNew:n}):s.teams.indexOf(r)>-1?t.removeTeam({id:s.id,team:r}):s.team?t.addTeam({id:s.id,team:r}):o({id:s.id,field:i,value:r,type:a,isNew:n})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t}=this.props.stores,{teams:s}=t,{saved:a,object:i,field:o,title:n,icon:r,help:l}=this.props,c=Object(m.i)(i[o]),{highlight:d}=this.props;return Object(h.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(a[`${o}.${i.id}`]?"is-valid":"")},Object(h.h)("label",{for:o+"Input"},r&&Object(h.h)("i",{class:r+" text-muted"})," ",n),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},s&&s.map((t,a)=>{const o=c===t.id,n=i&&u.a.isArray(i.teams)&&i.teams.indexOf(t.id)>-1;return Object(h.h)("div",{class:"col mb-0 px-0",ref:o||n?e=>this.container=e:null},Object(h.h)("button",{class:`btn btn-block \n            \t\t\t\t\t\t\t\t\t\trounded-none ${0===a?"rounded-pill-left":a+1===s.length?"rounded-pill-right":""}\n                                                    btn${o||n?"":"-outline"}-${n?"info":"success"}\n                                                    text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleType(t.id)},i.hintTeam===t.id&&Object(h.h)("span",{class:"float-right text-primary"},Object(h.h)("i",{class:"fas fa-circle"})),Object(h.h)("i",{class:"fas fa-users mr-2"}),t.name,d&&d.indexOf(t.id)>-1&&Object(h.h)(e,null,c===t.id?Object(h.h)(e,null,Object(h.h)("i",{class:"fas fa-check float-right"})):Object(h.h)(e,null,Object(h.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(h.h)("span",{class:"sr-only"},"Loading...")),Object(h.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))),Object(h.h)("small",null,o&&Object(h.h)("span",{class:"badge badge-pill badge-primary"},"Primary"),n&&Object(h.h)("span",{class:"badge badge-pill badge-secondary"},"Secondary"))))}))))),a[`${o}.${i.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:o+"Help",class:"form-text text-muted"},l))}})||n,D=Object(p.a)(r=class extends h.Component{toggleType(e){const{object:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(m.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:e}=this.props.stores,{harnesses:t,user:s}=e,{language:a="en"}=s,{saved:i,object:o,field:n,title:r,icon:l,help:c}=this.props,d=Object(m.i)(o[n]);return Object(h.h)("div",{class:"form-group "+(i[`${n}.${o.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},l&&Object(h.h)("i",{class:l})," ",r),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},t&&t.map((e,s)=>Object(h.h)("div",{class:"col px-0 mb-2",ref:d===e.id?e=>this.container=e:null},Object(h.h)("div",{class:`border\n                                            rounded-none ${0===s?"rounded-pill-left":s+1===t.length?"rounded-pill-right":""}\n                                            p-2 ${d===e.id?"bg-success":""}`,style:`border-bottom: 3px solid ${e.colorNonstop} !important;`,onClick:()=>this.toggleType(e.id)},e.lang&&e.lang[a]?e.lang[a]:e.name))))))),i[`${n}.${o.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}})||r,I=Object(p.a)(l=class extends h.Component{toggleStatus(e){const{dogStore:t}=this.props.stores,{object:s,type:a,field:i,updateField:o,isNew:n}=this.props;let r=Object(m.i)(s[i]);r=r===e?0:e,0===r?o({id:s.id,field:i,value:r,type:a,isNew:n}):s.statuses.indexOf(r)>-1?t.removeStatus({id:s.id,status:r}):s.status?t.addStatus({id:s.id,status:r}):o({id:s.id,field:i,value:r,type:a,isNew:n})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:e}=this.props.stores,{dogstatuses:t,user:s}=e,{language:a}=s,{saved:i,object:o,field:n,title:r,icon:l,help:c}=this.props,d=Object(m.i)(o[n]);return Object(h.h)("div",{class:"form-group  mb-4 pb-1 border-bottom "+(i[`${n}.${o.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},l&&Object(h.h)("i",{class:l+" text-muted"})," ",r),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},t&&t.map((e,s)=>{const i=d===e.id,n=o&&u.a.isArray(o.statuses)&&o.statuses.indexOf(e.id)>-1;return Object(h.h)("div",{class:"col mb-2 px-0",ref:i||n?e=>this.container=e:null},Object(h.h)("button",{class:`btn btn-block \n            \t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===t.length?"rounded-pill-right":""}\n                                                    btn${i||n?"":"-outline"}-${n?"info":"success"}\n                                                    text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleStatus(e.id)},a&&e.lang&&e.lang[a]?e.lang[a]:e.name))}))))),i[`${n}.${o.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}})||l,P=Object(p.a)(c=class extends h.Component{toggleStatus(e){const{object:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(m.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:e}=this.props.stores,{dogPositions:t}=e,{saved:s,object:a,field:i,title:o,icon:n,help:r}=this.props,l=Object(m.i)(a[i]);return Object(h.h)("div",{class:"form-group  mb-4 pb-1 border-bottom "+(s[`${i}.${a.id}`]?"is-valid":"")},Object(h.h)("label",{for:i+"Input"},n&&Object(h.h)("i",{class:n+" text-muted"})," ",o),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},t&&t.map(e=>Object(h.h)("div",{class:"offset-2 col-8 mb-2"},Object(h.h)("div",{class:"border rounded rounded-pill px-3 py-1 bg-"+(l===e.id?e.class||"success":""),onClick:()=>this.toggleStatus(e.id),style:"line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},Object(h.h)("small",null,e.name)))))),s[`${i}.${a.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(g.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:i+"Help",class:"form-text text-muted"},r))}})||c,L=Object(p.a)(d=class extends h.Component{constructor(e){var t;super(e),t=this,this.insertDog=async function(){const{newDog:e}=t.state,{dogStore:s}=t.props.stores;await s.insert(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e)),t.resetDog(),Object(f.route)("/dogs/",!0)},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,{value:n,type:r,min:l,max:c}=e.target;"date"===r&&l&&c?n>=l&&n<=c&&this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o}):this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1})=>{const{dogStore:l}=this.props.stores;let c=a,d=a;const{dog:h}=l;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"files"===s&&Array.isArray(h.files)&&(d=Array.isArray(a)?[...h.files,...a]:[...h.files,a]),"achievements"===s&&Array.isArray(h.achievements)&&(d=Array.isArray(a)?[...h.achievements,...a]:[...h.achievements,a]),"links"===s&&Array.isArray(h.links)&&(d=Array.isArray(a)?[...h.links,...a]:[...h.links,a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newDog",s,a):(l.updateField(e,s,d),r?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.chooseMother=e=>{const{dogStore:t}=this.props.stores,{dog:s}=t,a=parseInt(e.target.value,10),i=t.findDog(a);i?(this.updateFieldValue({id:s.id,field:"mother",value:i.id,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"motherName",value:i.name,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"motherChipId",value:i.chipId,skipTimer:!0})):this.updateFieldValue({id:s.id,field:"mother",value:null,skipTimer:!0})},this.chooseFather=e=>{const{dogStore:t}=this.props.stores,{dog:s}=t,a=parseInt(e.target.value,10),i=t.findDog(a);i?(this.updateFieldValue({id:s.id,field:"father",value:i.id,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"fatherName",value:i.name,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"fatherChipId",value:i.chipId,skipTimer:!0})):this.updateFieldValue({id:s.id,field:"father",value:null,skipTimer:!0})},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state={newDog:{},submenu:"info"},this.updateTimer={}}async loadDog(){const{dogStore:e}=this.props.stores;"new"===this.props.dog?this.setState({createNew:!0}):await e.load(this.props.dog,!1,{addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]})}resetDog(){this.setState({newDog:{},createNew:!1})}async doUpdateField(e,t,s){const{dogStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadDog()}render(){const{createNew:t,newDog:s,submenu:a}=this.state,{dogStore:i,userStore:o}=this.props.stores,{insertStatus:n,saved:r,dog:l}=i,c=i.findDogsByGender("female"),d=i.findDogsByGender("male"),p=O.a.hasBirthday(l.birth),m=l.birth?Math.ceil(O.a.daysUntilNextBirthday(l.birth)):365,{name:f}=l;return t?Object(h.h)("div",{class:"container-fluid",style:`margin-bottom: ${S}; margin-top: ${k};`},Object(h.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${x}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(h.h)("i",{class:"fas fa-arrow-circle-left"})),Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)("div",null,Object(h.h)("h5",{style:"padding-left: 35px;"},Object(h.h)(g.c,{id:"dogs.add-new"},"Legg til ny hund")),Object(h.h)("div",{class:"form-group"},Object(h.h)("label",{for:"nameInput"},Object(h.h)(g.c,{id:"dogs.name"},"Navn")),Object(h.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(b.a)(this,"newDog.name"),value:s.name}),Object(h.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(h.h)(g.c,{id:"dogs.name-of-dog"},"Fullt navn på hunden."))),Object(h.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertDog},Object(h.h)(g.c,{id:"dogs.save-new"},"Registrer ny hund")),n&&Object(h.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(h.h)(g.c,{id:"dogs.dog-saved"},"Hunden er lagret")," 🐕"))))):Object(h.h)("div",{class:"container-fluid",style:`margin-bottom: ${S}; margin-top: ${k};`},Object(h.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${x}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(h.h)("i",{class:"fas fa-arrow-circle-left"})),Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)("div",{class:"clearfix"},Object(h.h)("div",{class:"text-center border rounded-circle imageRounded float-right",style:l.image?`background-image: url("${l.image.s3SmallLink}");`:""},!l.image&&Object(h.h)("i",{class:"fas fa-dog text-muted mt-3",style:"font-size: 40px;"})),Object(h.h)("span",{class:"float-right"},m<7&&Object(h.h)(e,null,Object(h.h)("span",{class:"text-muted mr-2"},Object(h.h)("i",{class:"fas fa-birthday-cake"})," in ",m," days")),l.birth&&Object(h.h)("span",{class:"mr-2"},u.a.age(l.birth,l.deceased)),"female"===l.gender?Object(h.h)("i",{class:"fas fa-venus"}):Object(h.h)("i",{class:"fas fa-mars"})),Object(h.h)("h5",{style:"padding-left: 35px;"},Object(h.h)(g.c,{id:"dogs.edit"},"Endre"),": ",f,p&&Object(h.h)(e,null,Object(h.h)("i",{class:"fas fa-birthday-cake ml-3"}))))),Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 my-3"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-info-circle"})," ",Object(h.h)(g.c,{id:"dogs.info"},"Info"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"status"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"status",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-thermometer"})," ",Object(h.h)(g.c,{id:"dogs.status"},"Status"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"pictures"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-images"})," ",Object(h.h)(g.c,{id:"dogs.pictures"},"Pictures"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"team"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"team",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-users"})," ",Object(h.h)(g.c,{id:"dogs.team"},"Team"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"relations"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"relations",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-project-diagram"})," ",Object(h.h)(g.c,{id:"dogs.relations"},"Relations"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"achievements"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-clock"})," ",Object(h.h)(g.c,{id:"dogs.achievements"},"Achievements"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"links"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"links",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-link"})," ",Object(h.h)(g.c,{id:"dogs.links"},"Links"))),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-cogs"})," ",Object(h.h)(g.c,{id:"dogs.log"},"Advanced"))))))))),Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},"info"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"name",title:Object(h.h)(g.c,{id:"dogs.full-name"},"Fullt navn"),help:Object(h.h)(g.c,{id:"dogs.full-name-help"},"Fullt navn på hunden."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"shortname",title:Object(h.h)(g.c,{id:"dogs.short-name"},"Kallenavn"),help:Object(h.h)(g.c,{id:"dogs.short-name-help"},"Kallenavnet på hunden. Hva roper du på innkalling?"),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"gender",type:"select",datalist:[["male",Object(h.h)(g.c,{id:"dogs.gender-male"},"Male")],["female",Object(h.h)(g.c,{id:"dogs.gender-female"},"Female")]],title:Object(h.h)(g.c,{id:"dogs.gender"},"Kjønn"),help:Object(h.h)(g.c,{id:"dogs.gender-help"},"Kjønn på hunden."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"chipId",title:Object(h.h)(g.c,{id:"dogs.chip-id"},"Chip ID"),help:Object(h.h)(g.c,{id:"dogs.chip-id-help"},"Chip ID på hunden. Står ofte i vetrinærhåndbok eller passet."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"birth",type:"date",min:"2000-01-01",max:"today",title:Object(h.h)(g.c,{id:"dogs.birth"},"Fødselsdato"),help:Object(h.h)(g.c,{id:"dogs.birth-help"},"Fødselsdato på hunden."),onInput:this.updateField}),Object(h.h)(D,{stores:this.props.stores,saved:r,object:l,type:"number",field:"harness",title:Object(h.h)(g.c,{id:"dogs.harness-size"},"Selestørrelse"),help:Object(h.h)(g.c,{id:"dogs.harness-size-help"},"Sele til hunden"),updateField:this.updateFieldValue}),Object(h.h)(_,{saved:r,dog:l,field:"description",icon:"fas fa-paragraph",type:"textarea",title:Object(h.h)(g.c,{id:"dogs.description"},"Beskrivelse"),help:Object(h.h)(g.c,{id:"dogs.description-help"},"Beskrivelse av hunden."),onInput:this.updateField}),Object(h.h)("div",{class:"mt-5 pt-5"},Object(h.h)(_,{saved:r,dog:l,field:"deceased",type:"date",min:"2000-01-01",max:"today",title:Object(h.h)(g.c,{id:"dogs.deceased"},"Død"),help:Object(h.h)(g.c,{id:"dogs.deceased-help"},"Dødsdato for hunden."),onInput:this.updateField})))),"status"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(I,{stores:this.props.stores,saved:r,object:l,type:"number",field:"status",title:Object(h.h)(g.c,{id:"dogs.status"},"Status"),help:Object(h.h)(g.c,{id:"dogs.status-help"},"Status til hunden"),updateField:this.updateFieldValue}),Object(h.h)(_,{saved:r,dog:l,field:"specialNeeds",title:Object(h.h)(g.c,{id:"dogs.special-needs"},"Spesielle behov"),help:Object(h.h)(g.c,{id:"dogs.special-needs-help"},'Har hunden spesielle behov? Trenger ekstra mat, utstyr eller annet? Eks: "Ekstra fett", "Husk ulveklobandasje", etc.'),onInput:this.updateField}))),"pictures"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"imageOther",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(h.h)(g.c,{id:"dogs.photo"},"Bilde"),help:Object(h.h)(g.c,{id:"dogs.photo-help"},"Bilder av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!0}),Object(h.h)(_,{saved:r,dog:l,field:"image",type:"image",icon:"fas fa-portrait",stores:this.props.stores,title:Object(h.h)(g.c,{id:"dogs.profile-photo"},"Profilbilde"),help:Object(h.h)(g.c,{id:"dogs.profile-photo-help"},"Profilbilde av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!1}))),"team"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(T,{stores:this.props.stores,saved:r,object:l,type:"number",field:"team",title:Object(h.h)(g.c,{id:"dogs.team"},"Team"),help:Object(h.h)(g.c,{id:"dogs.team-help"},"Team som hunden er på."),updateField:this.updateFieldValue}),Object(h.h)(P,{stores:this.props.stores,saved:r,object:l,type:"number",field:"position",title:Object(h.h)(g.c,{id:"dogs.position"},"Plass i spannet"),help:Object(h.h)(g.c,{id:"dogs.position-help"},"Foretrukket plass i spannet."),updateField:this.updateFieldValue}))),"relations"===a&&Object(h.h)(e,null,Object(h.h)("h5",{class:"mt-5"},Object(h.h)(g.c,{id:"dogs.mother"},"Mor")),Object(h.h)("select",{class:"form-control","aria-describedby":"fatherHelp",value:l.mother,onInput:this.chooseMother},Object(h.h)("option",{value:""},"-- ",Object(h.h)(g.c,{id:"dogs.choose-mother"},"Velg blant dine hunder")," --"),c&&c.map(e=>Object(h.h)("option",{value:e.id},e.name," - ",u.a.age(e.birth,e.deceased)))),Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"motherName",type:"text",title:Object(h.h)(g.c,{id:"dogs.mother-name"},"Navn på mor"),help:Object(h.h)(g.c,{id:"dogs.mother-name-help"},"Navn på moren til denne hunden."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"motherChipId",type:"text",title:Object(h.h)(g.c,{id:"dogs.mother-chipid"},"Chip ID på mor"),help:Object(h.h)(g.c,{id:"dogs.mother-chipid-help"},"Chip ID til moren til denne hunden. Dersom hunden finnes blant dine hunder, så vil den bli koblet sammen."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"motherComment",title:Object(h.h)(g.c,{id:"dogs.mother-comment"},"Kommentar til mor"),help:Object(h.h)(g.c,{id:"dogs.mother-comment-help"},"Kommentar til moren til denne hunden."),onInput:this.updateField})),Object(h.h)("h5",{class:"mt-5"},Object(h.h)(g.c,{id:"dogs.father"},"Far")),Object(h.h)("select",{class:"form-control","aria-describedby":"fatherHelp",value:l.father,onInput:this.chooseFather},Object(h.h)("option",{value:""},"-- ",Object(h.h)(g.c,{id:"dogs.choose-father"},"Velg blant dine hunder")," --"),d&&d.map(e=>Object(h.h)("option",{value:e.id},e.name," - ",u.a.age(e.birth,e.deceased)))),Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"fatherName",type:"text",title:Object(h.h)(g.c,{id:"dogs.father-name"},"Navn på far"),help:Object(h.h)(g.c,{id:"dogs.father-name-help"},"Navn på faren til denne hunden."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"fatherChipId",type:"text",title:Object(h.h)(g.c,{id:"dogs.father-chipid"},"Chip ID på far"),help:Object(h.h)(g.c,{id:"dogs.father-chipid-help"},"Chip ID til faren til denne hunden. Dersom hunden finnes blant dine hunder, så vil den bli koblet sammen."),onInput:this.updateField}),Object(h.h)(_,{saved:r,dog:l,field:"fatherComment",title:Object(h.h)(g.c,{id:"dogs.father-comment"},"Kommentar til far"),help:Object(h.h)(g.c,{id:"dogs.father-comment-help"},"Kommentar til faren til denne hunden."),onInput:this.updateField}))),"links"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"links",type:"text",icon:"fas fa-link",stores:this.props.stores,title:Object(h.h)(g.c,{id:"dogs.links"},"Linker"),help:Object(h.h)(g.c,{id:"dogs.links-help"},"Linker til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),"achievements"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"achievements",type:"text",icon:"fas fa-clock",stores:this.props.stores,title:Object(h.h)(g.c,{id:"dogs.achievements"},"Bragder"),help:Object(h.h)(g.c,{id:"dogs.achievements-help"},"Bragder til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),"advanced"===a&&Object(h.h)(e,null,Object(h.h)(g.b,null,Object(h.h)(_,{saved:r,dog:l,field:"files",type:"file",icon:"fas fa-file",stores:this.props.stores,title:Object(h.h)(g.c,{id:"dogs.files"},"Files"),help:Object(h.h)(g.c,{id:"dogs.files-help"},"Filer til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))))))}})||d;t.a=L}).call(this,s("hosL").Fragment)},OhSV:function(e,t,s){"use strict";function a(e){return null!=e}function i(e,t){for(var s in t)e[s]=t[s];return e}function o(e){var t=e.scope,s=e.mark,a=e.definition,o=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(s[a]=e[a]);return s}(e,["scope","mark","definition"]),n=i({},Object(g.b)(v).intl||{});return t&&(n.scope=t),a&&(n.dictionary=function e(t,s){var a=i({},t);for(var o in s)s.hasOwnProperty(o)&&(a[o]=t[o]&&s[o]&&"object"==typeof t[o]&&"object"==typeof s[o]?e(t[o],s[o]):t[o]||s[o]);return a}(n.dictionary||{},a)),(s||"undefined"!=typeof location&&String(location).match(y))&&(n.mark=!0),Object(f.h)(v.Provider,{value:{intl:n}},o.children)}function n(e,t){function s(s){return Object(f.h)(o,t||{},Object(f.h)(e,s))}return arguments.length<2?(t=e,function(e){return n(e,t)}):(s.getWrappedComponent=e&&e.getWrappedComponent||function(){return e},s)}function r(e,t,s,a){return e&&e.replace(/\{\{([\w.-]+)\}\}/g,l.bind(null,t||j,s,a))}function l(e,t,s,a,i){for(var o=i.split("."),n=e,l=0;l<o.length;l++){if(null==(n=n[o[l]]))return"";if(n&&n.type===h)return c(n.props.id,t,s,n.props.fields,n.props.plural,n.props.fallback)}return"string"==typeof n&&n.match(/\{\{/)&&(n=r(n,e)),n}function c(e,t,s,i,o,n){t&&(e=t+"."+e);var l=s&&O(s,e);return(o||0===o)&&l&&"object"==typeof l&&(l=l.splice?l[o]||l[0]:0===o&&a(l.none)?l.none:1===o&&a(l.one||l.singular)?l.one||l.singular:l.some||l.many||l.plural||l.other||l),l&&r(l,i,t,s)||n||null}function d(e){var t=e.value,s=e.id,a=Object(g.b)(v).intl;if(a&&a.mark){var i="dictionary"+(a&&a.scope?"."+a.scope:"")+"."+s;return Object(f.h)("mark",{style:{background:t?O(a,i)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"},title:s},t)}return t}function h(e){var t=e.id,s=e.children,a=e.plural,i=e.fields,o=Object(g.b)(v).intl,n=c(t,o&&o.scope,o&&o.dictionary,i,a,s);return Object(f.h)(d,{id:t,value:n})}function u(e,t,s){var a={};for(var o in t=t||{},e=function(e){if("string"==typeof(e=e||{})&&(e=e.split(",")),"join"in e){for(var t={},s=0;s<e.length;s++){var a=e[s].trim();a&&(t[a.split(".").pop()]=a)}return t}return e}(e))if(e.hasOwnProperty(o)&&e[o]){var n=e[o];s||"string"!=typeof n?n.type===h&&(n=i({fallback:n.props.children},n.props),a[o]=c(n.id,t.scope,t.dictionary,n.fields,n.plural,n.fallback)):a[o]=c(n,t.scope,t.dictionary)}return a}function p(e){var t=e.children,s=Object(g.b)(v).intl;return t&&t.length?t.map((function(e){return Object(f.cloneElement)(e,u(e.props,s,!0))})):t&&Object(f.cloneElement)(t,u(t.props,s,!0))}function m(e){var t=e.html,s=e.id,a=t?"string"==typeof t?Object(f.h)("span",{dangerouslySetInnerHTML:{__html:t}}):Object(f.h)("span",null,t):t;return Object(f.h)(d,{id:s,value:a})}function b(e){return function(t){function s(s){var a=Object(g.b)(v).intl,o=u("function"==typeof e?e(s,{intl:a}):e,a);return Object(f.h)(t,i(i({},s),o))}return s.getWrappedComponent=t&&t.getWrappedComponent||function(){return t},s}}s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return h})),s.d(t,"d",(function(){return b}));var f=s("hosL"),g=s("QRet"),O=function(e,t,s,a,i){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:i;return e===i?s:e},v=Object(f.createContext)({intl:{}}),y=/[?&#]intl=show/,j={};n.intl=n,n.IntlContext=v,n.IntlProvider=o,n.Text=h,n.MarkupText=function(e){return Object(f.h)(p,null,Object(f.h)(m,{html:Object(f.h)(h,e),id:e.id}))},n.Localizer=p,n.withText=b,n.useText=function(e){var t=Object(g.b)(v).intl;return u("function"==typeof e?e({intl:t}):e,t)}},Ono3:function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},OoM2:function(e){"use strict";e.exports=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var a,i,o;if(Array.isArray(t)){if((a=t.length)!=s.length)return!1;for(i=a;0!=i--;)if(!e(t[i],s[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(s,o[i]))return!1;for(i=a;0!=i--;){var n=o[i];if(!e(t[n],s[n]))return!1}return!0}return t!=t&&s!=s}},"P/mP":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=a(s("KqdA")),l=s("u28A");t.default=function(e,t){var s,a,c=(0,i.default)(e),d=(0,o.default)(e),h=(0,n.default)(c),u=(0,n.default)(d),p=t/l.earthRadius,m=h-p,b=h+p,f=(0,n.default)(l.MAXLAT),g=(0,n.default)(l.MINLAT),O=(0,n.default)(l.MAXLON),v=(0,n.default)(l.MINLON);if(m>g&&b<f){var y=Math.asin(Math.sin(p)/Math.cos(h));(s=u-y)<v&&(s+=2*Math.PI),(a=u+y)>O&&(a-=2*Math.PI)}else m=Math.max(m,g),b=Math.min(b,f),s=v,a=O;return[{latitude:(0,r.default)(m),longitude:(0,r.default)(s)},{latitude:(0,r.default)(b),longitude:(0,r.default)(a)}]}},P2xA:function(e,t,s){"use strict";var a=s("+I+c"),i=s("7L9N"),o=s("ivZ3"),n=s("OoM2"),r=s.n(n),l=s("GdJW"),c=s("eTqt"),d=s("f6wN"),h=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){var t=e.url,s=Object(a.a)(e,["url"]),i=this.getOptions(s),n=Object(a.a)(i,["leaflet"]);return new o.TileLayer.WMS(t,n)},s.updateLeafletElement=function(t,s){e.prototype.updateLeafletElement.call(this,t,s);var i=t.url,o=Object(a.a)(t,["url","opacity","zIndex"]),n=this.getOptions(o),l=Object(a.a)(n,["leaflet"]),c=s.url,d=Object(a.a)(s,["url","opacity","zIndex"]),h=this.getOptions(d),u=Object(a.a)(h,["leaflet"]);c!==i&&this.leafletElement.setUrl(c),r()(u,l)||this.leafletElement.setParams(u)},s.getOptions=function(t){var s=e.prototype.getOptions.call(this,t);return Object.keys(s).reduce((function(e,t){return d.a.test(t)||(e[t]=s[t]),e}),{})},t}(c.a);t.a=Object(l.d)(h)},PBOB:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e=""){return e.match(/facebook.com/)?e.match(/^http/)?e:"https://"+e:"https://facebook.com/"+e}var n,r=s("hosL"),l=(s("QRet"),s("Utv1")),c=s("/eY4"),d=s("OhSV"),h=s("go65"),u=s("fh8t"),p=s.n(u),m=s("RMlE"),b=s("8gML"),f=s("3kDq"),g=(s("aGZh"),s("ZOvn"));const O=g.a.marginTop(!0,!0),v=g.a.marginBottom(),y={isLoading:!1,email:"",submenu:"ads",jwtToken:l.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1,showAdminSendMessage:{},message:{subject:"",body:""}};let j=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.toggleDisplayDetails=e=>{const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores,{editUserDetails:a}=s;a[t]||s.toggleDisplayDetails(t)},this.adminToggleEditUser=e=>{e.stopPropagation();const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleEditUserDetails(t)},this.adminSignupEdit=e=>{const{raceid:t}=this.props,{raceStore:s}=this.props.stores,a=e.target.id,i=e.target.value,{classid:o,contestantid:n}=e.target.dataset,r={raceClassId:o,contestantId:n,["raceClassContestant"+l.a.ucfirst(a)]:i};clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout((async function(){s.editClass({id:t,data:r})}),500)},this.toggleAdminSendMessage=e=>{const t=e.target.closest("button").dataset.class,{showAdminSendMessage:s}=this.state;s[t]=!s[t],this.setState({showAdminSendMessage:s})},this.sendEmail=async function(e){const{raceid:s}=t.props,a=e.target.closest("button").dataset.to,i=e.target.closest("button").dataset.raceclassid,{appState:o}=t.props.stores,{message:n}=t.state,{subject:r,body:l}=n,c=await o.sendEmail({to:a,subject:r,body:l,raceId:s,raceClassId:i});t.setState({emailResponse:c})},this.resetEmail=()=>{this.setState({emailResponse:null,message:{subject:"",body:""}})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},y),this.updateTimer={}}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t}=e.stores,{raceid:s}=e;await t.load(s);const{race:a}=t,i=a.classes.map(e=>{if(e.contestants)return e.contestants.map(e=>e.team)});i.length>0&&await t.loadTeams(i.join(",")),this.setState({isLoading:!1})}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace()}componentWillReceiveProps(e){this.loadRace(e)}render(){const{appState:t,raceStore:s,userStore:a}=this.props.stores,{raceid:i,path:n}=this.props,{showAdminSendMessage:c,message:u,emailResponse:y}=this.state,{displayDetails:j,editUserDetails:w,language:k="en"}=t,{race:x}=s,{isAdmin:S}=a,{reloadInSec:_}=this.state,T=Math.floor(l.a.normalizeBetween(_,0,60,0,100));return Object(r.h)(e,null,Object(r.h)(m.a,{stores:this.props.stores}),Object(r.h)("div",{class:"container-fluid ",style:`margin-bottom: ${v}; margin-top: ${O};`},Object(r.h)(b.a,{stores:this.props.stores,path:n,raceid:i}),Object(r.h)("div",{class:"row border-bottom "},Object(r.h)("div",{class:"col-12"},Object(r.h)(d.b,null,Object(r.h)(f.a,{stores:this.props.stores,title:Object(r.h)(d.c,{id:"races.mushers"},"Deltakere")})),_>=0&&Object(r.h)(e,null,Object(r.h)("div",{class:"progress fixed-top",style:"height: 2px;"},Object(r.h)("div",{class:"progress-bar",role:"progressbar",style:`width: ${T}%;`,"aria-valuenow":T,"aria-valuemin":"0","aria-valuemax":"100"}))),x.contestantsUrl?Object(r.h)("div",{class:"p-3 my-4 bg-light"},Object(r.h)("a",{href:x.contestantsUrl,target:"_blank",rel:"noreferrer",native:!0},x.contestantsText?x.contestantsText:Object(r.h)(e,null,Object(r.h)(d.c,{id:"races.musher-here"},"Se deltakere her"))," ",Object(r.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(r.h)(e,null),!x.classes&&Object(r.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(r.h)("div",{class:"spinner-border text-primary",role:"status"},Object(r.h)("span",{class:"sr-only"},"Loading..."))),x.classes&&x.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(r.h)(e,null,Object(r.h)("h5",null,t.title," ",t.startDate&&Object(r.h)(e,null,": ",Object(r.h)("span",{class:"font-weight-lighter"},l.a.formatDate(`${t.startDate} ${t.startTime||"00:00:00"}`,{locale:k,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",l.a.formatDate(`${t.endDate} ${t.endTime||"00:00:00"}`,{locale:k,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(r.h)("div",{class:"table-responsive-md"},Object(r.h)("table",{class:"table table-sm table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{scope:"col"},"#"),Object(r.h)("th",{scope:"col",style:"min-width: 200px;"},Object(r.h)(d.c,{id:"races.name"},"Navn")),Object(r.h)("th",{scope:"col",style:"min-width: 400px;"},Object(r.h)(d.c,{id:"races.dogs"},"Hundene")),S&&Object(r.h)("th",{class:"text-center"},Object(r.h)(d.c,{id:"races.admin"},"Admin")))),Object(r.h)("tbody",null,t.contestants&&t.contestants.map((t,a)=>{const i=s.getTeamById(t.team);return Object(r.h)(e,null,Object(r.h)("tr",{onClick:this.toggleDisplayDetails,"data-email":t.email},Object(r.h)("th",{scope:"row"},a+1),Object(r.h)("td",{class:""+(j[t.email]?"font-weight-bold":""),style:""+(j[t.email]?"":"line-height: 0.8em;")},j[t.email]?Object(r.h)(e,null,t.firstname," ",t.lastname,Object(r.h)("br",null),Object(r.h)("span",{class:"text-muted"},i.name),Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},t.sportsClub),Object(r.h)("br",null),t.facebook&&Object(r.h)("a",{class:"mr-2",href:o(t.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook"})),t.instagram&&Object(r.h)("a",{class:"mr-2",href:(n=t.instagram,n.match(/instagram.com/)?n.match(/^http/)?n:"https://"+n:"https://instagram.com/"+n),native:!0,target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"})),Object(r.h)("br",null),t.price1&&Object(r.h)("div",{class:"font-weight-lighter"},Object(r.h)("i",{class:"fas fa-trophy text-warning"})," ",t.price1,t.priceSent&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-check text-success"}))),t.price2&&Object(r.h)("div",{class:"font-weight-lighter"},Object(r.h)("i",{class:"fas fa-trophy text-warning"})," ",t.price2),t.price3&&Object(r.h)("div",{class:"font-weight-lighter"},Object(r.h)("i",{class:"fas fa-trophy text-warning"})," ",t.price3)):Object(r.h)(e,null,t.price1&&Object(r.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(r.h)("i",{class:"fas fa-trophy"}),t.priceSent&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-check text-success"}))),Object(r.h)("nobr",null,t.firstname," ",t.lastname,Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},t.sportsClub),Object(r.h)("br",null)))),Object(r.h)("td",null,S&&Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:this.adminToggleEditUser},Object(r.h)("i",{class:"fas fa-user-edit"}))),j[t.email]||w[t.email]?Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex "+(j[t.email]?"flex-nowrap":""),style:"min-width: 400px;"},i&&i.dogs&&i.dogs.map(t=>Object(r.h)("div",{class:"mx-0 mr-1 px-0 position-relative pt-1"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},l.a.ucfirst(t.name,!0))),Object(r.h)("small",null,Object(r.h)("span",{class:"float-left text-overflow",style:"width: 70px;"},t.name),Object(r.h)("br",null)),(t.birth||t.gender)&&Object(r.h)("small",null,Object(r.h)("small",{class:"font-weight-normal float-right position-absolute text-white bg-info p-1 rounded",style:"top: 0px; right: 0px; line-height: 0.8em;"},t.birth&&Object(r.h)("span",{class:"mr-1 text-white"},l.a.age(t.birth,t.deceased)),t.gender&&Object(r.h)(e,null,"female"===t.gender?Object(r.h)("i",{class:"fas fa-venus"}):Object(r.h)("i",{class:"fas fa-mars"})))))))):Object(r.h)(e,null,i&&i.dogs&&Object(r.h)(e,null,i.dogs.length," ",Object(r.h)("i",{style:"width: 20px;",class:"fas fa-dog"}))),S&&w[t.email]&&Object(r.h)(e,null,Object(r.h)("h5",null,"Admin edit:"),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(r.h)("div",{class:"col-sm-10"},t.email)),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.raceStatus},Object(r.h)("option",{value:""},"-- Choose race status --"),Object(r.h)("option",{value:"OK"},"OK - Everything ok"),Object(r.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(r.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(r.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(r.h)("option",{value:"DQ"},"DQ - Disqualified")))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.raceComment}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.gpxResultsApproved?l.a.isoDate(t.gpxResultsApproved,!1,!1,!0):null}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"paidSignupfee",class:"col-sm-2 col-form-label text-right"},"paidSignupfee (date)"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"date",class:"form-control-plaintext",id:"paidSignupfee","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.paidSignupfee?l.a.isoDate(t.paidSignupfee,!1,!1,!0):null}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"startOrder",class:"col-sm-2 col-form-label text-right"},"startOrder"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"number",class:"form-control-plaintext",id:"startOrder","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.startOrder}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"cellphone",class:"col-sm-2 col-form-label text-right"},"Mobil"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"cellphone","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.cellphone}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"firstname",class:"col-sm-2 col-form-label text-right"},"Fornavn"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"firstname","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.firstname}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"lastname",class:"col-sm-2 col-form-label text-right"},"Etternavn"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"lastname","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.lastname}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"sportsClub",class:"col-sm-2 col-form-label text-right"},"Klubb"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"sportsClub","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.sportsClub}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"facebook",class:"col-sm-2 col-form-label text-right"},"Facebook"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"facebook","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.facebook}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"instagram",class:"col-sm-2 col-form-label text-right"},"Instagram"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"instagram","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.instagram}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Klasse"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("select",{class:"form-control-plaintext",id:"class","aria-describedby":"classHelp","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.class},Object(r.h)("option",{value:""},"-- Choose race class --"),x.classes&&x.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||x.signupfee," NOK")))))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.price1}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.price2}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.price3}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.priceSent?l.a.isoDate(t.priceSent,!1,!1,!0):null}))),Object(r.h)("div",{class:"form-group row my-5"},Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",id:"deleteUser",value:"1",onClick:this.adminSignupEdit,"data-classid":t.class,"data-contestantid":t.id},"Delete user from this class"))))),S&&Object(r.h)("td",{class:"text-center",style:"line-height: 1.0em;"},t.paidSignupfee&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-check text-success"}),Object(r.h)("br",null)),Object(r.h)("small",null,t.raceStatus&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted"},"raceStatus:"),Object(r.h)("br",null)," ",t.raceStatus,Object(r.h)("br",null)),t.raceComment&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted"},"raceComment:"),Object(r.h)("br",null)," ",t.raceComment,Object(r.h)("br",null)),t.gpxResultsApproved&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted"},"gpxResultsApproved:"),Object(r.h)("br",null)," ",t.gpxResultsApproved,Object(r.h)("br",null))))));var n})))),S&&Object(r.h)(e,null,c[t.id]?Object(r.h)(e,null,Object(r.h)("div",{class:"container"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12"},Object(r.h)("h5",null,"Message to all mushers in ",t.title),Object(r.h)("div",{class:"overflow-auto p-5",style:"max-height: 30vh;"},Object(r.h)("small",null,t.emails&&t.emails.map(e=>{return Object(r.h)("div",{class:"border rounded-lg p-3 mb-3"},Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-3 text-right"},"Date:"),Object(r.h)("div",{class:"col-9"},l.a.formatDate(e.date,{locale:k,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-3 text-right"},"To:"),Object(r.h)("div",{class:"col-9"},e.to.map(e=>Object(r.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},e)))),Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-3 text-right"},"Subject:"),Object(r.h)("div",{class:"col-9"},e.subject)),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col-3 text-right"},"Body:"),Object(r.h)("div",{class:"col-9",dangerouslySetInnerHTML:{__html:(t=e.body,"string"==typeof t?t.replace(/[\n]/g,"<br>"):t)}})));var t}))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"To"),Object(r.h)("div",{class:"col-10"},t.contestants&&t.contestants.map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},t.firstname," ",t.lastname," (",t.email,")"))))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"Subject"),Object(r.h)("div",{class:"col-10"},Object(r.h)("input",{type:"text",class:"form-control",id:"subject",onInput:Object(h.a)(this,"message.subject"),value:u.subject}))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{for:"body",class:"col-2 col-form-label text-right font-weight-lighter"},"Message"),Object(r.h)("div",{class:"col-5"},Object(r.h)("textarea",{type:"text",class:"form-control",id:"body",rows:"10",onInput:Object(h.a)(this,"message.body"),value:u.body})),Object(r.h)("div",{class:"col-5 contain-images"},Object(r.h)(p.a,{markdown:u.body,markdownOpts:g.a.getMarkdownOptions()}))),y&&Object(r.h)(e,null,Object(r.h)("div",{class:"alert alert-"+(y&&y.status>=300?"danger":"success"),role:"alert"},Object(r.h)("small",null,Object(r.h)("xmp",null,JSON.stringify(y,null,4))))),Object(r.h)("button",{class:"btn btn-success float-right",type:"button","data-to":t.contestants&&t.contestants.map(e=>e.email),"data-raceclassid":t.id,onClick:this.sendEmail},Object(r.h)("i",{class:"fas fa-paper-plane"})," Send email to all mushers"),Object(r.h)("button",{class:"btn btn-danger float-right mr-2",type:"button",onClick:this.resetEmail},Object(r.h)("i",{class:"fas fa-times"})," Reset email")),Object(r.h)("div",{class:"col-12 text-center"},Object(r.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:this.toggleAdminSendMessage,"data-class":t.id},"Hide email form"))))):Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 text-center"},Object(r.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:this.toggleAdminSendMessage,"data-class":t.id},"Send message to all in this class"))))))))))}})||n;t.a=j}).call(this,s("hosL").Fragment)},PWmE:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65");s("ETxl"),s("ZOvn");let c=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.commentNews=async function(){const{callback:e=(()=>{})}=t.props,{news:s}=t.props,{newsStore:a}=t.props.stores,{comment:i=""}=t.state,o=await a.commentNews({id:s.id,comment:i});o&&200===o.status&&(t.setState({comment:""}),e({news:s,response:o}))}}render(){const{inputRef:e}=this.props,{comment:t}=this.state,{userStore:s}=this.props.stores,{user:a={}}=s,n=a.firstname?`${o.a.ucfirst(a.firstname,!0)}${o.a.ucfirst(a.lastname,!0)}`:""+o.a.ucfirst(a.email||"",!0),c=a.image||(a.images?a.images[0]:void 0);return Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-3 position-relative"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(c?`background-image: url('${c.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!c&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},n)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),value:t,ref:e})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.commentNews},Object(i.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=c},Q5bj:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=a(s("KqdA"));t.default=function(e,t){var s=(0,i.default)(t),a=(0,o.default)(t),l=(0,i.default)(e),c=(0,o.default)(e);return((0,r.default)(Math.atan2(Math.sin((0,n.default)(a)-(0,n.default)(c))*Math.cos((0,n.default)(s)),Math.cos((0,n.default)(l))*Math.sin((0,n.default)(s))-Math.sin((0,n.default)(l))*Math.cos((0,n.default)(s))*Math.cos((0,n.default)(a)-(0,n.default)(c))))+360)%360}},QHIy:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("QRet"),l=s("Utv1"),c=s("/eY4"),d=(s("OhSV"),s("fh8t")),h=s.n(d),u=s("RMlE"),p=s("ZOvn");const m=p.a.marginTop(!1,!1),b=p.a.marginBottom(),f={isLoading:!1,email:"",submenu:"ads",jwtToken:l.a.getJwtToken(),newRaceArticle:{},newRaceUserImage:{}};let g=Object(c.a)(o=class extends n.Component{constructor(e){super(e),this.toggleShowNews=()=>{const{showNews:e}=this.state;this.setState({showNews:!e})},this.jumpTo=e=>{e.preventDefault();document.getElementById(e.target.parentElement.dataset.id||e.target.dataset.id).scrollIntoView({behavior:"smooth",block:"start"})},this.jumpToId=e=>{document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),this.inputRef={},this.updateTimer={}}async loadNews(e=this.props){this.setState({isLoading:!0});const{newsStore:t,userStore:s}=e.stores,{isAdmin:a}=s,i={tag:e.tag};a&&(i.showall=1),e.newsid&&(i.id=e.newsid),await t.load({query:i}),e.newsid&&this.jumpToId("news"+e.newsid),this.setState({isLoading:!1})}componentDidMount(){this.loadNews()}componentWillReceiveProps(e){e.newsid!==this.props.newsid&&this.loadNews(e)}render(){const{appState:t,userStore:s,newsStore:a}=this.props.stores,{isAdmin:i,user:o={},notifications:l=[],teams:c=[]}=s,{col:d=12,offset:f=0,newsid:g}=this.props,{language:O="en"}=t,{newsList:v}=a,y=v;let j=y&&y[0]?y[0]:null;return g&&(j=y.find(e=>e.id==g)),Object(n.h)(e,null,Object(n.h)(u.a,{stores:this.props.stores}),Object(n.h)("div",{class:"container-fluid position-relative",style:`margin-bottom: ${b}; margin-top: ${m};`},!j&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading..."))),j&&Object(n.h)("div",{class:"row",id:"news"+j.id},Object(n.h)("div",{class:`col-${d} offset-${f} col-sm-8 col-lg-8 offset-sm-2 offset-lg-2`},j.images&&j.images[0]?Object(n.h)("img",{src:j.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):"",Object(n.h)("h1",{class:"display-4"},i&&Object(n.h)("i",{class:`fas fa-eye${j.active?" text-success":"-slash text-danger"} float-right`})," ",(w=j.title,Object(r.d)(()=>{document.title="Homerun Race: "+w},[w]),Object(n.h)("h1",null,w))),Object(n.h)("p",{class:"lead"},Object(n.h)(h.a,{markdown:p.a.replaceImages(j.ingress,j.images,O),markdownOpts:p.a.getMarkdownOptions()})),Object(n.h)("div",null,Object(n.h)(h.a,{markdown:p.a.replaceImages(j.body,j.images,O),markdownOpts:p.a.getMarkdownOptions()}))),Object(n.h)("div",{class:`col-${d} offset-${f} col-sm-8 col-lg-8 offset-sm-2 offset-lg-2 mt-5 pt-5 border-top`},y&&y.map(e=>Object(n.h)("div",{class:"row",id:"news-"+e.id},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",null,i&&Object(n.h)("i",{class:`fas fa-eye${e.active?" text-success":"-slash text-danger"} float-right`}),Object(n.h)("a",{href:"/race/news/"+e.id},p.a.replaceImages(e.title,e.images,O,!1))))))))));var w}})||o;t.a=g}).call(this,s("hosL").Fragment)},QQvA:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=(s("go65"),s("Y3FI")),p=s("cneo"),m=s("OhSV"),b=s("ZOvn"),f=s("om2D"),g=s("TiXY"),O=s("HqZR");const v=b.a.marginTop(!1),y=b.a.marginTopBack(!1),j=b.a.marginBottom(),w={newTrack:{}};let k=Object(h.a)(n=class extends c.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.setDateToNow=()=>{const{field:e,updateField:t,track:s}=this.props,a=d.a.isoDate(void 0,!1,!1,!0);t({id:s.id,field:e,value:a})},this.setTimeToNow=()=>{const{field:e,updateField:t,track:s}=this.props,a=d.a.isoTime();t({id:s.id,field:e,value:a})},this.removeImage=async function(e){const{trackStore:s}=t.props.stores,{track:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{track:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:t,track:s,type:a="text",field:i,values:o=[],title:n,icon:r,help:l,onInput:h,updateField:u}=this.props;let b=Object(p.i)(s[i]);return"date"===a&&b&&(b=d.a.isoDate(s[i],!1,!1,!0)),"image"===a?Object(c.h)("div",{class:"form-group "+(t[`${i}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},r&&Object(c.h)("i",{class:r+" text-muted"})," ",n),Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},s.image&&s.image.s3SmallLink&&Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:s.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":s.image.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"),Object(c.h)("span",{class:"badge badge-success"},"Main")),s.images&&s.images.map(e=>Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"))))),Object(c.h)(f.a,{saved:t,object:s,field:i,updateField:u}),t[`${i}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(m.c,{id:"tracks.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},l)):"file"===a?Object(c.h)("div",{class:"form-group "+(t[`${i}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},r&&Object(c.h)("i",{class:r+" text-muted"})," ",n),Object(c.h)(g.a,{saved:t,object:s,field:i,updateField:u}),t[`${i}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(m.c,{id:"tracks.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},l)):"radio"===a?Object(c.h)("div",{class:"form-group "+(t[`${i}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},r&&Object(c.h)("i",{class:r+" text-muted"})," ",n,' "',b,'"'),o.map(a=>Object(c.h)(e,null,Object(c.h)("div",{class:"form-check"},Object(c.h)("input",{class:"form-check-input "+(t[`${i}.${s.id}`]?"is-valid":""),type:"radio",id:i+"Input",value:a[0],"data-id":s.id,"data-field":i,onInput:h,checked:b==a[0]?"checked":""}),Object(c.h)("label",{class:"form-check-label",for:i+"Input"},a[1])))),t[`${i}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(m.c,{id:"tracks.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},l)):"toggle"===a?Object(c.h)("div",{class:"form-group "+(t[`${i}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},r&&Object(c.h)("i",{class:r+" text-muted"})," ",n),Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:i+"Input",value:1===b?0:1,"data-id":s.id,"data-field":i,onInput:h,checked:1==b?"checked":""}),Object(c.h)("label",{class:"custom-control-label",for:i+"Input"})),t[`${i}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(m.c,{id:"tracks.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},l)):Object(c.h)("div",{class:"form-group "+(t[`${i}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},r&&Object(c.h)("i",{class:r+" text-muted"})," ",n),Object(c.h)("input",{type:a,class:"form-control "+(t[`${i}.${s.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:b,"data-id":s.id,"data-field":i,onInput:h}),t[`${i}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(m.c,{id:"tracks.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},l))}})||n,x=Object(h.a)(r=class extends c.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{trackStore:a}=this.props.stores;a.updateObjectKeyValue("newTrack",t,s)}}render(){const{field:e,icon:t,title:s,help:a}=this.props,{trackStore:i}=this.props.stores,{newTrack:o}=i;return Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:e+"Input"},t&&Object(c.h)("i",{class:t+" text-muted"})," ",s),Object(c.h)("input",{type:"text",class:"form-control",id:e+"Input","aria-describedby":e+"Help",onInput:this.onInput,value:o[e]}),Object(c.h)("small",{id:e+"Help",class:"form-text text-muted"},a))}})||r,S=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.insertTrack=async function(){const{trackStore:e,userStore:s}=t.props.stores,{newTrack:a}=e;await e.insert(i({},a)),await s.getInfo(),t.resetTrack(),Object(u.route)("/tracks/",!0)},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1})=>{const{trackStore:l}=this.props.stores;let c=a,d=a;const{track:h}=l;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newTrack",s,a):(l.updateField(e,s,d),r?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=i({},w),this.updateTimer={}}async loadTrack(){const{trackStore:e}=this.props.stores;"new"===this.props.track?this.setState({createNew:!0}):e.load(this.props.track)}resetTrack(){const{trackStore:e}=this.props.stores;e.updateKeyValue("newTrack",{})}async doUpdateField(e,t,s){const{trackStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadTrack()}render(){const{createNew:e}=this.state,{trackStore:t}=this.props.stores,{insertStatus:s,saved:a,track:i}=t,{name:o,gpx:n,gpxInfo:r}=i;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${j}; margin-top: ${v};`},Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${y}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"offset-0 col-12 offset-sm-2 col-sm-8 offset-lg-4 col-lg-4",style:"padding-left: 35px;"},e?Object(c.h)("div",null,Object(c.h)("h5",null,Object(c.h)(m.c,{id:"tracks.add-new"},"Legg til ny treningsrunde")),Object(c.h)(x,{stores:this.props.stores,field:"name",icon:"fas fa-heading",title:Object(c.h)(m.c,{id:"tracks.title"},"Tittel"),help:Object(c.h)(m.c,{id:"tracks.title-help"},"Tittel på denne runden. Eks: 'Rundt Veslevann og tilbake'")}),Object(c.h)(x,{stores:this.props.stores,field:"distanceKm",icon:"fas fa-road",title:Object(c.h)(m.c,{id:"tracks.distance"},"Distanse i km"),help:Object(c.h)(m.c,{id:"tracks.distance-help"},"Hvor lang er runden i km.")}),Object(c.h)(x,{stores:this.props.stores,field:"elevation",icon:"fas fa-mountain",title:Object(c.h)(m.c,{id:"tracks.elevation"},"Høydemeter"),help:Object(c.h)(m.c,{id:"tracks.elevation-help"},"Høydemeter du klatrer på denne runden.")}),Object(c.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertTrack},Object(c.h)(m.c,{id:"tracks.save"},"Registrer ny treningsrunde")),Object(c.h)("p",{class:"mt-4"},Object(c.h)(m.c,{id:"tracks.gpx-info"},"For å legge til GPX må du lagre og gå tilbake og endre denne."))):Object(c.h)("div",null,Object(c.h)("h5",null,Object(c.h)(m.c,{id:"tracks.edit"},"Endre"),": ",o),Object(c.h)(k,{saved:a,track:i,field:"public",icon:"fas fa-users",type:"toggle",title:Object(c.h)(m.c,{id:"tracks.public"},"Offentlig"),help:Object(c.h)(m.c,{id:"tracks.public-help"},"Er denne runden synlig for alle som bruker appen?"),onInput:this.updateField}),Object(c.h)(k,{saved:a,track:i,field:"name",icon:"fas fa-heading",title:Object(c.h)(m.c,{id:"tracks.title"},"Tittel"),help:Object(c.h)(m.c,{id:"tracks.title-help"},"Tittel på denne runden. Eks: 'Rundt Veslevann og tilbake'"),onInput:this.updateField}),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col"},Object(c.h)(k,{stores:this.props.stores,saved:a,track:i,field:"date",icon:"fas fa-calendar",type:"date",min:"2010-01-01",max:"today",title:Object(c.h)(m.c,{id:"tracks.date"},"Dato"),help:Object(c.h)(m.c,{id:"tracks.date-help"},"Dato for turen. Format på dato er: 'YYYY-MM-DD'."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(c.h)("div",{class:"col"},Object(c.h)(k,{stores:this.props.stores,saved:a,track:i,field:"time",icon:"fas fa-clock",type:"time",title:Object(c.h)(m.c,{id:"tracks.time"},"Klokka"),help:Object(c.h)(m.c,{id:"tracks.time-help"},"Klokkeslett for turen. Format: 'HH:MI'."),onInput:this.updateField,updateField:this.updateFieldValue}))),Object(c.h)(k,{saved:a,track:i,field:"distanceKm",icon:"fas fa-road",title:Object(c.h)(m.c,{id:"tracks.distance"},"Distanse i km"),help:Object(c.h)(m.c,{id:"tracks.distance-help"},"Hvor lang er runden i km."),onInput:this.updateField}),Object(c.h)(k,{saved:a,track:i,field:"elevation",icon:"fas fa-mountain",title:Object(c.h)(m.c,{id:"tracks.elevation"},"Høydemeter"),help:Object(c.h)(m.c,{id:"tracks.elevation-help"},"Høydemeter du klatrer på denne runden."),onInput:this.updateField}),Object(c.h)(k,{saved:a,track:i,field:"image",icon:"fas fa-camera",type:"image",stores:this.props.stores,title:Object(c.h)(m.c,{id:"tracks.photos"},"Bilder"),help:Object(c.h)(m.c,{id:"tracks.photos-help"},"Bilder fra denne runden."),onInput:this.updateField,updateField:this.updateFieldValue}),n&&Object(c.h)("div",{style:"height: 500px;"},Object(c.h)(O.a,{stores:this.props.stores,mapId:i.id,geojson:n.geoJSON,gpxInfo:n.gpxInfo||r})),Object(c.h)(k,{saved:a,track:i,field:"gpx",type:"file",title:Object(c.h)(m.c,{id:"tracks.gpx"},"Gpx"),help:Object(c.h)(m.c,{id:"tracks.gpx-help"},"Gpx til denne runden."),onInput:this.updateField,updateField:this.updateFieldValue}))),s&&Object(c.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(c.h)(m.c,{id:"tracks.saved"},"Runden er lagret."))))}})||l;t.a=S}).call(this,s("hosL").Fragment)},QRet:function(e,t,s){"use strict";function a(e,t){k.options.__h&&k.options.__h(j,e,x||t),x=0;var s=j.__H||(j.__H={__:[],__h:[]});return e>=s.__.length&&s.__.push({}),s.__[e]}function i(e){return x=1,o(v,e)}function o(e,t,s){var i=a(y++,2);return i.t=e,i.__c||(i.__=[s?s(t):v(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=j),i.__}function n(e,t){var s=a(y++,3);!k.options.__s&&O(s.__H,t)&&(s.__=e,s.__H=t,j.__H.__h.push(s))}function r(e,t){var s=a(y++,4);!k.options.__s&&O(s.__H,t)&&(s.__=e,s.__H=t,j.__h.push(s))}function l(e){return x=5,d((function(){return{current:e}}),[])}function c(e,t,s){x=6,r((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==s?s:s.concat(e))}function d(e,t){var s=a(y++,7);return O(s.__H,t)&&(s.__=e(),s.__H=t,s.__h=e),s.__}function h(e,t){return x=8,d((function(){return e}),t)}function u(e){var t=j.context[e.__c],s=a(y++,9);return s.__c=e,t?(null==s.__&&(s.__=!0,t.sub(j)),t.props.value):e.__}function p(e,t){k.options.useDebugValue&&k.options.useDebugValue(t?t(e):e)}function m(e){var t=a(y++,10),s=i();return t.__=e,j.componentDidCatch||(j.componentDidCatch=function(e){t.__&&t.__(e),s[1](e)}),[s[0],function(){s[1](void 0)}]}function b(){S.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(f),e.__H.__h.forEach(g),e.__H.__h=[]}catch(t){e.__H.__h=[],k.options.__e(t,e.__v)}})),S=[]}function f(e){var t=j;"function"==typeof e.__c&&e.__c(),j=t}function g(e){var t=j;e.__c=e.__(),j=t}function O(e,t){return!e||e.length!==t.length||t.some((function(t,s){return t!==e[s]}))}function v(e,t){return"function"==typeof t?t(e):t}s.d(t,"k",(function(){return i})),s.d(t,"i",(function(){return o})),s.d(t,"d",(function(){return n})),s.d(t,"g",(function(){return r})),s.d(t,"j",(function(){return l})),s.d(t,"f",(function(){return c})),s.d(t,"h",(function(){return d})),s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return u})),s.d(t,"c",(function(){return p})),s.d(t,"e",(function(){return m}));var y,j,w,k=s("hosL"),x=0,S=[],_=k.options.__b,T=k.options.__r,D=k.options.diffed,I=k.options.__c,P=k.options.unmount;k.options.__b=function(e){j=null,_&&_(e)},k.options.__r=function(e){T&&T(e),y=0;var t=(j=e.__c).__H;t&&(t.__h.forEach(f),t.__h.forEach(g),t.__h=[])},k.options.diffed=function(e){D&&D(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==S.push(t)&&w===k.options.requestAnimationFrame||((w=k.options.requestAnimationFrame)||function(e){var t,s=function(){clearTimeout(a),L&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(s,100);L&&(t=requestAnimationFrame(s))})(b)),j=void 0},k.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(f),e.__h=e.__h.filter((function(e){return!e.__||g(e)}))}catch(s){t.some((function(e){e.__h&&(e.__h=[])})),t=[],k.options.__e(s,e.__v)}})),I&&I(e,t)},k.options.unmount=function(e){P&&P(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(f)}catch(e){k.options.__e(e,t.__v)}};var L="function"==typeof requestAnimationFrame},QfWi:function(e,t,s){"use strict";s.r(t);s("GFNa");var a=s("ugae");t.default=a.a},QkTp:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:n={}}=a;return n.imperial?Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(function(e){return 9*e/5+32}(t),0),"°F")):Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(t,1),"°C"))}})||a;t.a=r}).call(this,s("hosL").Fragment)},"QyV/":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("ox/y"),s("Utv1"),s("/eY4")),l=(s("go65"),s("Y3FI")),c=(s("OhSV"),s("ZOvn")),d=s("ySiU"),h=s.n(d);const u={menu:{profile:!1,main:!1},searchText:""};let p=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.toggleDropdown=e=>{const{menu:t}=this.state;let s=e.target.dataset.name;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.name),s&&(t[s]=!t[s]),this.setState({menu:t})},this.toggleDarkmode=e=>{const{appState:t}=this.props.stores;t.toggleDarkmode(),this.toggleDropdown(e)},this.toggleViewmode=e=>{const{appState:t}=this.props.stores;let s=e.target.dataset.mode;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.mode),t.toggleViewmode(s),this.toggleDropdown(e)},this.reloadApp=()=>{window.location.reload(!0)},this.changeLanguage=e=>{const t=e.target.value,{userStore:s}=this.props.stores,{user:a}=s;s.setLanguage({email:a.email,language:t})},this.search=()=>{const{searchText:e}=this.state;Object(l.route)("/search/"+e,!0)},this.toggleDashboard=()=>{const{appState:e}=this.props.stores;e.toggleDashboard()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u)}render(){const{scrolledDown:t}=this.props,{appState:s,userStore:a,messageStore:i}=this.props.stores,{darkmode:o,path:r}=s,{isAdmin:l,user:d,team:u,notifications:p=[],simulatedEmail:m}=a,b=(c.a.getImage({user:d,team:u}),c.a.displayNameShort(d),c.a.displayName(d),p.filter(e=>!e.read).length||0),{language:f="en",toggleFeature:g={}}=d,{qpaws:O}=g,{unread:v=0}=i;return Object(n.h)("nav",{class:"navbar navbar-expand-xl navbar-themed bg-light fixed-top py-0 "+(t>0?h.a.scrolledDown:h.a.scrolledUp),style:"height: 65px;"},Object(n.h)("a",{class:"navbar-brand",href:""+("/"===r?"/home-wall":"/")},o?Object(n.h)(e,null,O?Object(n.h)(e,null,Object(n.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"50",class:"position-absolute",style:"top: 8px; left: 0; right: 0; margin: auto;"})):Object(n.h)(e,null,Object(n.h)("img",{src:"https://themusher.app/assets/logo.png",height:"35",class:"position-absolute",style:"top: 14px; left: 6px"}))):Object(n.h)(e,null,O?Object(n.h)(e,null,Object(n.h)("img",{src:"https://themusher.app/assets/logo-qpaws-light.png",height:"50",class:"position-absolute",style:"top: 8px; left: 0; right: 0; margin: auto;"})):Object(n.h)(e,null,Object(n.h)("img",{src:"https://themusher.app/assets/logo.png",height:"35",class:"position-absolute",style:"top: 14px; left: 6px"})))," ",O?Object(n.h)(e,null):Object(n.h)(e,null,Object(n.h)("span",{class:"pl-4",style:"letter-spacing: -1px;"},"The Musher"))),Object(n.h)("div",{class:"d-flex pt-0 ml-auto mr-2",style:"font-size: 1.1em;"},Object(n.h)("span",{class:"mt-2 ml-3"},Object(n.h)("i",{class:"fas fa-search mr-1",onClick:this.toggleDashboard})),Object(n.h)("span",{class:"mt-2 ml-3"},Object(n.h)("a",{href:"/users/notifications",class:""+(r.match(/\/users\/notifications/)?"text-primary":"")},Object(n.h)("i",{class:"fas fa-bell mr-1"}),b>0&&Object(n.h)(e,null,Object(n.h)("span",{class:"badge badge-pill badge-danger"},b>9?"9+":b)))),Object(n.h)("span",{class:"mt-2 ml-3"},Object(n.h)("a",{href:"/inbox",class:""+(r.match(/\/inbox/)?"text-primary":"")},Object(n.h)("i",{class:"fas fa-paper-plane mr-1"}),v>0&&Object(n.h)(e,null,Object(n.h)("span",{class:"badge badge-pill badge-danger"},v>9?"9+":v))))),l&&m&&Object(n.h)("div",{class:"position-absolute badge badge-danger",style:"top: 0px; left: 50px;"},Object(n.h)("span",{class:"font-weight-lighter"},"Simulating:")," ",d.firstname," ",d.lastname," (",m,")"))}})||o;t.a=p}).call(this,s("hosL").Fragment)},"R/Lk":function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let c=Object(r.d)(()=>({week:Object(i.h)(r.c,{id:"workout.graph.week"}),distanceAvgAll:Object(i.h)(r.c,{id:"workout.graph.distance-avg-all"}),distanceAvg:Object(i.h)(r.c,{id:"workout.graph.distance-avg"}),ascendAvgAll:Object(i.h)(r.c,{id:"workout.graph.ascend-avg-all"}),ascendAvg:Object(i.h)(r.c,{id:"workout.graph.ascend-avg"}),speedAvgAll:Object(i.h)(r.c,{id:"workout.graph.speed-avg-all"}),speedAvg:Object(i.h)(r.c,{id:"workout.graph.speed-avg"}),durationAvgAll:Object(i.h)(r.c,{id:"workout.graph.duration-avg-all"}),durationAvg:Object(i.h)(r.c,{id:"workout.graph.duration-avg"}),realDurationAvgAll:Object(i.h)(r.c,{id:"workout.graph.real-duration-avg-all"}),realDurationAvg:Object(i.h)(r.c,{id:"workout.graph.real-duration-avg"}),loadIndex:Object(i.h)(r.c,{id:"workout.graph.load-index"}),loadIndexAll:Object(i.h)(r.c,{id:"workout.graph.load-index-all"}),plan:Object(i.h)(r.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends i.Component{render(){const{userStore:t}=this.props.stores,{week:s,distanceAvgAll:a,distanceAvg:n,ascendAvgAll:c,ascendAvg:d,speedAvgAll:h,speedAvg:u,durationAvg:p,durationAvgAll:m,loadIndex:b,loadIndexAll:f,year:g,teamAmbition:O,teamType:v,teamId:y}=this.props,{graphAvgWorkoutStatsDistance:j,graphAvgWorkoutStatsElevation:w,graphAvgWorkoutStatsSpeed:k,graphAvgWorkoutStatsDuration:x,graphAvgWorkoutStatsLoadIndex:S,graphWorkoutAvgWeekDistanceCurrent:_,graphWorkoutAvgWeekElevationCurrent:T,graphWorkoutAvgWeekSpeedCurrent:D,graphWorkoutAvgWeekDurationCurrent:I,graphWorkoutAvgWeekLoadIndexCurrent:P,graphAvgWorkoutStatsCount:L,user:C}=t,{settings:A={}}=C,E=(new Date).getMonth()+1,F=g||o.a.getYear(),M=parseInt(E<8?F-1:F,10),R=o.a.weekRange(M+"-08-01",M+1+"-07-31").map(e=>e.week),z=Math.floor(R.length/(R.length%6)),U=[];for(let e=0,t=R.length;e<t;e+=z)U.push(R[e]);return Object(i.h)(e,null,v&&Object(i.h)("a",{href:"/settings/team/"+y},Object(i.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},v)),O&&Object(i.h)("a",{href:"/settings/team/"+y},Object(i.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},O)),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"workout.graph.title-avg"},"Gjennomsnitt")," ",M," - ",M+1),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[P,S],legendLeft:[`${M} ${b}`,`${M} ${f}`],dataFillLeft:[1],showYTicksLeft:1,avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[L],showYTicksRight:1,smoothRight:[1]})),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[_,j],legendLeft:[`${M} ${n}`,`${M} ${a}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:A.imperial?"mi":"km",unitLeft:A.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[L],showYTicksRight:1,smoothRight:[1]})),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[T,w],legendLeft:[`${M} ${d}`,`${M} ${c}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:A.imperial?"ft":"m",unitLeft:A.imperial?["ft","ft","ft"]:["m","m","m"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[L],showYTicksRight:1,smoothRight:[1]})),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[D,k],legendLeft:[`${M} ${u}`,`${M} ${h}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:A.imperial?"mph":"km/t",avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[L],showYTicksRight:1,smoothRight:[1]})),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[I,x],legendLeft:[`${M} ${p}`,`${M} ${m}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftVal:e=>o.a.secToHms(e,!0),avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[L],showYTicksRight:1,smoothRight:[1]})))}})||a)||a;t.a=c}).call(this,s("hosL").Fragment)},RMlE:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("ox/y"),l=(s("Utv1"),s("/eY4")),c=(s("go65"),s("Y3FI")),d=s("OhSV");s("LMwI");const h={menu:{profile:!1,main:!1},searchText:""};let u=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.toggleDropdown=e=>{const{menu:t}=this.state;let s=e.target.dataset.name;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.name),s&&(t[s]=!t[s]),this.setState({menu:t})},this.toggleDarkmode=e=>{const{appState:t}=this.props.stores;t.toggleDarkmode(),this.toggleDropdown(e)},this.toggleViewmode=e=>{const{appState:t}=this.props.stores;let s=e.target.dataset.mode;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.mode),t.toggleViewmode(s),this.toggleDropdown(e)},this.reloadApp=()=>{window.location.reload(!0)},this.adminLoadAll=async function(){const{userStore:e}=t.props.stores;await e.getInfo(!0)},this.changeLanguage=e=>{const t=e.target.value;console.log("changeLanguage",t);const{appState:s,userStore:a}=this.props.stores,{user:i={}}=a;i.email&&a.setLanguage({email:i.email,language:t}),s.setLanguage(t)},this.search=()=>{const{searchText:e}=this.state;Object(c.route)("/search/"+e,!0)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{menu:e}=this.state,{appState:t,userStore:s}=this.props.stores,{darkmode:a}=t,{user:i,notifications:o=[]}=s,{language:l="en"}=(o.filter(e=>!e.read),i);return Object(n.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(n.h)("a",{class:"navbar-brand",href:"/race/"},Object(n.h)("img",{src:`./assets/homerun-race-logo-2-${a?"white-":""}small.png`,height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(n.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(n.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(n.h)("span",{class:"navbar-toggler-icon"})),Object(n.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(n.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(n.h)("li",{class:"nav-item"},Object(n.h)(r.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(n.h)("i",{class:"fas fa-flag-checkered"})," ",Object(n.h)(d.c,{id:"header.races"},"Løpene"))),Object(n.h)("li",{class:"nav-item"},Object(n.h)(r.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(n.h)("i",{class:"far fa-question-circle"})," ",Object(n.h)(d.c,{id:"header.support"},"Support"))),Object(n.h)("li",{class:"nav-item"},Object(n.h)(r.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(n.h)("i",{class:"fas fa-quote-right"})," ",Object(n.h)(d.c,{id:"header.news"},"Nyheter")))),Object(n.h)("ul",{class:"navbar-nav ml-auto "},Object(n.h)("li",{class:"nav-item mr-2"},Object(n.h)("div",{class:"form-row align-items-center"},Object(n.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(n.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(n.h)("option",{value:"no",selected:"no"===l},"🇳🇴 NO"),Object(n.h)("option",{value:"en",selected:"en"===l},"🇬🇧 EN"),Object(n.h)("option",{value:"es",selected:"es"===l},"🇪🇸 ES"),Object(n.h)("option",{value:"de",selected:"de"===l},"🇩🇪 DE"),Object(n.h)("option",{value:"fr",selected:"fr"===l},"🇫🇷 FR"),Object(n.h)("option",{value:"ru",selected:"ru"===l},"🇷🇺 RU"),Object(n.h)("option",{value:"se",selected:"se"===l},"🇸🇪 SE"))))),Object(n.h)("li",{class:"nav-item d-block d-lg-none"},Object(n.h)(r.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(n.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"})," ",Object(n.h)(d.c,{id:"header.darkmode"},"Nattmodus"))),Object(n.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(n.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(n.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"}))))))}})||o;t.a=u},Rblx:function(e,t,s){"use strict";(function(e,a){var i,o=s("XNbM");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:a;var n=Object(o.a)(i);t.a=n}).call(this,s("pCvA"),s("Ono3")(e))},RlRQ:function(e,t,s){"use strict";function a(e,t,s){if(3===e.nodeType){var i="textContent"in e?e.textContent:e.nodeValue||"";if(!1!==a.options.trim){var o=0===t||t===s.length-1;if((!(i=i.match(/^[\s\n]+$/g)&&"all"!==a.options.trim?" ":i.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===a.options.trim||o?"":" "))||" "===i)&&s.length>1&&o)return null}return i}if(1!==e.nodeType)return null;var n=String(e.nodeName).toLowerCase();if("script"===n&&!a.options.allowScripts)return null;var r,l,d=a.h(n,function(e){var t=e&&e.length;if(!t)return null;for(var s={},i=0;i<t;i++){var o=e[i],n=o.name,r=o.value;"on"===n.substring(0,2)&&a.options.allowEvents&&(r=new Function(r)),s[n]=r}return s}(e.attributes),(l=(r=e.childNodes)&&Array.prototype.map.call(r,a).filter(c))&&l.length?l:null);return a.visitor&&a.visitor(d),d}function i(e){var t=(e.type||"").toLowerCase(),s=i.map;s&&s.hasOwnProperty(t)?(e.type=s[t],e.props=Object.keys(e.props||{}).reduce((function(t,s){var a;return t[(a=s,a.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=e.props[s],t}),{})):e.type=t.replace(/[^a-z0-9-]/i,"")}s.r(t);var o,n,r=s("hosL"),l={},c=function(e){return e},d={};t.default=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.setReviver=function(e){n=e},t.prototype.shouldComponentUpdate=function(e){var t=this.props;return e.wrap!==t.wrap||e.type!==t.type||e.markup!==t.markup},t.prototype.setComponents=function(e){if(this.map={},e)for(var t in e)if(e.hasOwnProperty(t)){var s=t.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[s]=e[t]}},t.prototype.render=function(e){var t=e.wrap;void 0===t&&(t=!0);var s,c=e.type,h=e.markup,u=e.components,p=e.reviver,m=e.onError,b=e["allow-scripts"],f=e["allow-events"],g=e.trim,O=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(s[a]=e[a]);return s}(e,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),v=p||this.reviver||this.constructor.prototype.reviver||n||r.h;this.setComponents(u);var y={allowScripts:b,allowEvents:f,trim:g};try{s=function(e,t,s,n,r){var c=function(e,t){var s,a,i,n,r="html"===t?"text/html":"application/xml";"html"===t?(n="body",i="<!DOCTYPE html>\n<html><body>"+e+"</body></html>"):(n="xml",i='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+e+"</xml>");try{s=(new DOMParser).parseFromString(i,r)}catch(e){a=e}if(s||"html"!==t||((s=o||(o=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var e=document.createElement("iframe");return e.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",e.setAttribute("sandbox","allow-forms"),document.body.appendChild(e),e.contentWindow.document}())).open(),s.write(i),s.close()),s){var l=s.getElementsByTagName(n)[0],c=l.firstChild;return e&&!c&&(l.error="Document parse failed."),c&&"parsererror"===String(c.nodeName).toLowerCase()&&(c.removeChild(c.firstChild),c.removeChild(c.lastChild),l.error=c.textContent||c.nodeValue||a||"Unknown error",l.removeChild(c)),l}}(e,t);if(c&&c.error)throw new Error(c.error);var h=c&&c.body||c;i.map=n||d;var u=h&&function(e,t,s,i){return a.visitor=t,a.h=s,a.options=i||l,a(e)}(h,i,s,r);return i.map=null,u&&u.props&&u.props.children||null}(h,c,v,this.map,y)}catch(e){m?m({error:e}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+e)}if(!1===t)return s||null;var j=O.hasOwnProperty("className")?"className":"class",w=O[j];return w?w.splice?w.splice(0,0,"markup"):"string"==typeof w?O[j]+=" markup":"object"==typeof w&&(w.markup=!0):O[j]="markup",v("div",O,s||null)},t}(r.Component)},RoC8:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},RxXl:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("/eY4"),n=s("X9Km");const r=s("ZOvn").a.subMenuMarginTop();let l=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.state={progress:0,display:"none"},this.subscriptions()}subscriptions(){n.a.subscribe(n.b.LOADING_PROGRESS,e=>{100===e&&(clearTimeout(this.timerAnimateId),this.timerAnimateId=setTimeout(()=>{this.setState({display:"none"})},700),clearTimeout(this.timerResetId),this.timerResetId=setTimeout(()=>{this.setState({progress:0,display:"block"})},1e3)),0===e&&this.setState({display:"block"}),this.setState({progress:e})})}render(){const{scrolledDown:e}=this.props,{progress:t,display:s}=this.state;return Object(i.h)("div",{class:"progress fixed-top bg-light",style:`height: 1px; margin-top: ${e>0?0:r}; z-index: 2000; transition: all 0.3s ease-in-out;`},Object(i.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar","aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100",style:`width: ${t}%; display: ${s};`}))}})||a;t.a=l},S8lE:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("Wyvv"))&&a.__esModule?a:{default:a};t.default=function(e,t,s){return(0,i.default)(t,e)+(0,i.default)(e,s)===(0,i.default)(t,s)}},SWij:function(e){e.exports=JSON.parse('{"ad":{"heading":"Te gustaría anunciar aquí?","teaser":"Es muy fácil","subject":"Solicitar anuncio","body":"Hola, me gustaría saber más sobre los anuncios en la aplicación The Musher","linktext":"Contactar The Musher","ad":"Anuncios"},"home":{"dashboard":"Panel de control","feed":"Actualizaciones","todo":"Quehaceres","welcome-title":"Bienvenidos a The Musher","welcome-body-1":"The Musher es una aplicación que está en constante desarrollo. Si tiene alguna sugerencia, comentario o informe de errores, háganoslo saber en nuestra página en Facebook.","welcome-body-2":"El enfoque principal de esta aplicación es la facilitación para registrar perros, entrenamientos y toda la información relacionadas con los perros. Cuando tienes muchos perros, puede ser difícil acordarse de todo, como por ejemplo, cuándo es el próximo período de celo, por cuánto tiempo son válidas las vacunas, etc.","welcome-body-3":"Todos los datos se almacenan en AWS (Amazon Web Services). Es posible acceder a esta aplicación desde todo tipo de dispositivos y por diferentes personas.","howto-title":"Cómo empezar:","howto-step-1":"Agregar tu equipo","howto-step-2":"Agregar tus perros","howto-step-3":"Agregar tus itinerarios","howto-step-4":"Comenzar a registrar tus entrenamientos","dogs-follow-up":"Perros que necesitan atención","dogs-special-needs":"Perros con necesidades especiales","last-workouts":"Último entrenamiento - {{total}}","races":"Carreras","workouts":"Entrenamientos","totals":"Totales","status":"Estatus","wall":"Muro del perfil","home":"Página principal","notifications":"Notificaciones","back":"Volver","find-teams":"Buscar equipos/criaderos para seguir","report-bug":"Reportar un error","report-bug-placeholder":"Por favor, provee información sobre el error...","abort":"Cancelar","send":"Reportar un error"},"notifications":{"unread":"Notificaciones sin leer. Haz clic aquí para verlas.","delete":"Borrar","confirm":"Confirmar"},"feed":{"dashboard":"Panel de control","feed":"Actualizaciones","todo":"Quehaceres","title":"Ultima actualización de los perros","no-log":"Ningún registro para tus perros","tip-1":"Es bueno agregar eventos como lesiones, el celo, vacunas, visitas al veterinario y fotos de tus perros.","tip-2":"De esta manera, todo tu equipo verá lo que está sucediendo en tu criadero. Es como un libreta de entrenamiento para los perros de tu equipo.","add-log":"Agregar un registro","show-all-days":"Mostrar todo"},"workout":{"totals":{"title":"Estado de los planes de entrenamiento"},"graph":{"title":"Sumario de los entrenamientos","month":"Mes","season":"Temporada","week":"Semana","distance":"distancia","distance-avg":"distancia promedio","distance-avg-all":"distancia promedio todos","ascend":"ascenso","ascend-avg":"ascenso promedio","ascend-avg-all":"ascenso promedio todos","speed-avg":"velocidad promedio","speed-avg-all":"velocidad promedio todos","duration-avg":"duración promedio","duration-avg-all":"duración promedio todos","real-duration-avg":"duración total promedio","real-duration-avg-all":"duración total promedio todos","load-index":"índice de carga de trabajo","load-index-all":"índice de carga de trabajo todos","plan":"Plan de entrenamiento","too-little-data":"Tienes pocos datos para poder obtener un buen gráfico. Agrega  más datos y te prometemos que obtendrás un gráfico y una tabla agradables.","title-avg":"Promedios"},"calendar":{"month":"Mes","week":"Semana","sum":"Total","totalKm":"Total kilómetros","summary":"Resumen","totalWorkouts":"Total de los entrenamientos","distance":"Distancia","ascend":"Ascenso","duration":"Duración","avg-speed":"Velocidad promedio","kmt":"km/h"},"plan":{"dashboard":"Panel de control","list":"Lista","plan":"Plan de entrenamiento","month":"Mes","week":"Semana","save":"Guardar","sum":"Total","planned":"Plan","totalkm":"Total km","season":"Temporada","no-workout-plan-found":"Ningún plan de entrenamiento encontrado para el equipo elegido","no-plan":"Ningún plan de entrenamiento","duplicate":"Duplicar el plan de entrenamiento","title":"Título","title-help":"Título para el plan de entrenamiento","team":"Equipo","team-help":"El equipo que utilizará este plan de entrenamiento","choose-team":"Elegir equipo","save-new":"Guardar nuevo plan de entrenamiento"},"index":{"dashboard":"Panel de control","list":"Lista","plan":"Plan de entrenamiento","add-workout":"Agregar entrenamiento","last-workouts":"Entrenamientos {{month}} {{year}} - {{total}}","workout-overview":"Descripción general del entrenamiento","strava-workouts":"Entrenamientos de Strava / no importados","garmin-workouts":"Entrenamientos de Garmin / no importados","filtered-by":"Filtrar por equipo"},"kg":"kg","battery-used":"uso","kcal":"kcal","km":"km","m":"m","kmt":"km/h","share":"Compartir"},"strava":{"kmt":"km/h","ignore":"Ignorar el entrenamiento","import":"Importar el entrenamiento"},"garmin":{"kmt":"km/h","ignore":"Ignorar el entrenamiento","import":"Importar el entrenamiento","import-track":"Importar como itinerario"},"todo":{"dashboard":"Panel de control","feed":"Actualizaciones","todo":"Quehaceres","dogs-follow-up":"Perros que necesitan atención","no-dogs-follow-up":"Ningún perro necesita atención","dogs-special-needs":"Perros con necesidades especiales","no-dogs-special-needs":"Ningún perro con necesidades especiales","dogs-with-maturity":"Perras en celo","no-dogs-with-maturity":"Ningúna perra en celo"},"header":{"dogs":"Perros","workouts":"Entrenamientos","tracks":"Itinerarios","teams":"Equipos","profile":"Tu perfil","logout":"Desconectarse","darkmode":"Modo nocturno","viewmode":"Modo de vista","viewmode-simple":"Simple","viewmode-normal":"Normal","viewmode-advanced":"Avanzado","viewmode-beta":"Avanzado + beta","viewmode-try-beta":"Prueba la nueva versión de la página principal 😃","viewmode-back-to-normal":"Volver a la versión anterior","reload-app":"Chequear actualizaciones","news":"Noticias e informaciones","howto":"Cómo lo hacen?","search":"Buscar","search-placeholder":"Buscar cosas","races":"Carreras","support":"Soporte","connect-team":"Seguir equipos/criaderos","admin-search":"Busqueda en administración","add-dogs":"Agregar perros","add-workouts":"Agregar entrenamientos"},"footer":{"dogs":"Perros","workouts":"Entrenamientos","workouts-start":"Grabar","tracks":"Itinerarios","teams":"Equipos","veterenary":"Veterinario","workouts-continue":"Continua"},"register":{"new-user":"Nuevo usuario","email":"Correo electrónico","email-not-valid":"Correo electrónico no válido","password":"Contraseña","password-too-weak":"Tu contraseña es muy débil. Por favor prueba con otra o agrega más letras a esta contraseña 😔","password-weak":"Tu contraseña es muy débil, pero trataremos de mantenerte a salvo de todas maneras 😉","password-ok":"Tu contraseña está bien 😎","caps-lock-on":"LAS MAYUSCULAS están puestas","register":"Registrarme","i-have-an-account":"🤔 Parece que tengo una cuenta. Ir a la página de inicio de la sesión."},"login":{"tip-1":"Está aplicación puede ser instalada en tu teléfono","tip-2":"Utiliza la función \\"Agregar a la pantalla de inicio\\"","tip-3":"Es mejor hacer esto antes de comezar a registrarse o iniciar la sesión","login":"Iniciar sesión","email":"Correo electrónico","email-not-found":"No se encuentra el correo electrónico. Eres bienvenido a registrate 😃","email-not-valid":"Correo electrónico no válido. Por favor, compruebe errores tipográficos","email-looks-good":"El correo electrónico es correcto","password":"Contraseña","caps-lock-on":"LAS MAYUSCULAS están puestas","2fa-token":"2FA Token","new-user":"Nuevo usuario","forgot-password":"Contraseña olvidada?"},"forgotten":{"forgotten":"Contraseña olvidada?","one-time-code":"Código único para","otp-not-valid":"Código único no válido. Por favor, compruebe errores tipográficos","otp-valid":"Código único correcto","login-with-otp":"Iniciar sesión con código","goto-login":"Me acuerdo la contraseña. Ir a la página de inicio de sesión","send-new-otp":"Mandarme un nuevo código único","email":"Correo electrónico","email-not-found":"Correo electrónico no encontrado","register":"Registrarse como nuevo usuario","email-not-valid":"Correo electrónico no válido. Por favor, compruebe errores tipográficos","email-looks-good":"Correo electrónico correcto","caps-lock-is-on":"LAS MAYUSCULAS están puestas","send-reset-link":"Enviarme un nuevo enlace de conección"},"refresh":{"pull-to-update":"Mover para actualizar la página"},"modal":{"download":"Descargar la imagen"},"imageupload":{"drag-files-here":"Descarga tus archivos aquí :)","upload-images":"Archivos descargados","uploading-image":"Descargando"},"dog":{"history":{"no":"No","yes":"Si","delete":"Borrar","cant-delete-groups":"No se pueden borrar grupos. Por favor ve a cada perro y borra ahí."},"dogs":{"choose-filter":"Escoger un filtro","search-for-dogs":"Buscar perros","show-only-team-dogs":"Mostrar solo perros del equipo","show-all-dogs":"Mostrar todos los perros","show-all":"Mostrar todo","show-only-selected":"Mostrar solo lo seleccionado","show-lead-dogs-only":"Mostrar solo perros líderes","show-point-dogs-only":"Mostrar solo perros en swing","show-team-dogs-only":"Mostrar solo perros de equipo","show-wheel-dogs-only":"Mostrar solo perros en wheel","remove-all-dogs":"Borrar todos los perros","saved-changes":"Cambios guardados","addplaceholder":"Agregar un lugar para posición de un perro","saveDogPositions":"Salvar las posiciones de los perros","resetDogPositions":"Reajustar las posiciones de los perros","clearDogPositions":"Borrar todas las posiciones","dogs-positions":"Ubicación en el equipo","add-all-in-team":"Agregar todos {{total}} los perros en el equipo"},"calendar":{"month":"Mes","week":"Semana"},"addlog":{"addlog":"Agregar registro","dogs":"Perros","dogs-help":"Para cuál perro se aplica?","date":"Fecha","date-help":"Fecha de enregistramiento","time":"Hora","time-help":"Hora de enregistramiento","type":"Tipo de evento","choose-type":"Tipo de elección","other":"Otro","stoolProblem":"Problemas con las heces","bodyScore":"Bodyscore","diarrhea":"Diarrea","foodLeftover":"No terminó de comer","clawClip":"Cortar las uñas","maturity":"En celo","massage":"Masaje","animalchiropractor":"Quiropráctico","newStraw":"Paja nueva","update":"Actualizaciones","deworming":"Desparasitación","mating":"Cruzamiento","injury":"Lesión","fight":"Pelea","sick":"Enfermo","unwantedMating":"Cruza no deseada","vaccine":"Vacunas","weight":"Control del peso","veterinarianVisit":"Visita veterinaria","type-help":"Tipo de evento. Visita veterinaria, vacuna, enfermedad, celo, etc.","vaccine-type":"Tipo de vacuna","choose-vaccine":"Elegir el tipo de vacuna","rabies":"Rabia (3 años)","BbPi":"BbPi (1 año)","DHP":"DHP (3 años)","DHPPi":"DHPPi (3 años)","vaccine-help":"Qué vacuna es esta?","title":"Título","title-help":"Título del registro. Visita veterinaria, vacunación, foto del perfil, etc.","duration":"Duración del registro","duration-help":"Cuándo se vence este registro?","weight-of-dog":"Peso","weight-of-dog-help":"Peso del perro","bodyscore":"Bodyscore","bodyscore-help":"Bodyscore del perro","cost":"Costos","cost-help":"Costos para este evento","commet":"Comentarios","comment-help":"Comentario para este evento. Escribe más sobre lo que ha pasado.","images":"Imágenes","please-wait":"esperar por favor","cancel":"Cancelar","hidelog":"Ocultar \\"agregar nuevo registro\\"","newlog":"Nuevo registro"},"veterinary":{"choosen-dogs":"Perros elegidos","chosen-vaccines":"Vacunas elegidas","choose-team":"Elegir equipo","select-all-dogs":"Seleccionar todos los perros","remove-all-dogs":"Quitar todos los perros","name":"Nombre","image":"Imágen","are-you-sure":"Estás seguro que quieres agregar la vacuna al {{dogs}} perro?","yes-iam-sure":"Si, estoy seguro","cancel":"Cancelar","add-vaccine-to-dogs":"Agregar vacuna a {{dogs}} los perros","recepipt":"Recibo","dog":"Perro","vaccine":"Vacuna","no-access":"Sin acceso!","attempts-logged":"Todos los intentos están registrados y reportados.","goto-frontpage":"Ir a la página principal","title":"Buscar veterinario","search":"Buscar","searching":"Buscando","cellphone":"Teléfono móvil","email":"Correo electrónico","search-placeholder":"Buscar musher por correo electrónico, teléfono móvil o nombre...","choose-vaccines":"Elegir vacunas de la lista"}},"dogs":{"dashboard":"Panel de control","list":"Lista","feed":"Actualizaciones","todo":"Quehaceres","stats":"Estadísticas","pictures":"Fotos","workouts":"Entrenamientos","relations":"Relaciones","achievements":"Recuerdos","links":"Enlaces","achievement-name":"Título","achievement-name-help":"Título del recuerdo","achievement-description":"Descripción","achievement-description-help":"Descripción del recuerdo","achievement-url":"Url","achievement-url-help":"URL del recuerdo","achievement-add":"Agregar nuevo recuerdo","link-name":"Título","link-name-help":"Título del enlace","link-url":"Url","link-url-help":"URL del enlace","link-add":"Agregar nuevo enlace","advanced":"Avanzado","trophy":"Trofeos","info":"Información","fitness":"Aptitud física","veterinary":"Veterinario","add-dogs":"Agregar nuevo perro","no-dogs-registered":"Ningún perro registrado todavía","howto-add-1":"Cómo empezar","howto-add-2":"Aprieta \\"Agregar nuevo perro\\" al principio de la página","dog-with-follow-up":"Perros que necesitan atención","no-dogs-with-follow-up":"Ningún perro que necesita atención","dog-with-special-needs":"Perros con necesidades especiales","no-dogs-with-special-needs":"Ningún perro con necesidades especiales","dog-with-workouts-last-day":"Perros entrenados las últimas 24 horas","dogs-filtered-by":"Filtrado por","all-dogs":"Todos los perros - {{total}}","dog-with-maturity":"Perras en celo","no-dogs-with-maturity":"Ningúna perra en celo","no-files-title":"Ningún archivo adjunto de este perro!","no-files-text":"Puede cargar archivos para este perro en \\"edición\\". Estos archivos pueden ser de cualquier tipo. Es decir: certificados, pruebas, etc.","no-achievements-title":"Ningún recuerdo para este perro!","no-achievements-text":"Puedes agregar recuerdos para este perro, como por ejemplo: caminatas, pruebas, trofeos, carreras, etc.","no-links-title":"Ningún enlace para este perro!","no-links-text":"Puedes agregar enlaces para este perro, por ejemplo: enlaces a Facebook, Instagram, blog, etc.","no-trophys-title":"Ningún trofeo para este perro.","no-trophys-text":"Tienes que agregar más entrenamientos, fotos, registros de los perros, etc, para obtener trofeos.","no-images-title":"Ninguna imagen para este perro!","no-images-text":"Puedes agregar más imágenes para este perro. Fotos de cachorros, fotos de ejercicios, fotos del verano, etc. Todo es una buena manera de crear un mejor perfil para este perro.","edit":"Editar","kmt":"km/h","birth":"Nacido","deceased":"Fallecido","team":"Equipo","mother":"Madre","father":"Padre","siblings":"Hermanos","children":"Hijos","pictures-of":"Fotos de","log-for":"Registro para","delete":"Borrar","changes-saved":"Cambios guardados","add-new":"Agregar nuevo perro","name":"Nombre","name-of-dog":"Nombre completo del perro","save-new":"Guardar perro nuevo","status":"Estatus","status-help":"Estatus para este perro","special-needs":"Necesidades especiales","special-needs-help":"Tiene este perro necesidades especiales? \\"Más comida\\",\\"otro arnés\\", etc","position":"Posición en el equipo","position-help":"Posición preferida en el equipo","profile-photo":"Foto de perfíl","profile-photo-help":"Foto de perfíl del perro","photo":"Fotos","photo-help":"Fotos del perro","full-name":"Nombre completo","full-name-help":"Nombre completo del perro","short-name":"Nombre corto","short-name-help":"Apodo","gender":"Género/sexo","gender-help":"Género/sexo del perro","chip-id":"Número de identificación único (ID)","chip-id-help":"Número de identificación único (ID). El mismo que en el pasaporte o certificado del veterinario.","birth-help":"Fecha de nacimiento del perro.","deceased-help":"Fecha de fallecimiento del perro.","team-help":"Equipo del cual el perro es miembro.","harness-size":"Talla del arnés","harness-size-help":"Talla del arnés de este perro","choose-mother":"Elegir madre","mother-name":"Nombre de la madre","mother-name-help":"Nombre de la madre de este perro","mother-chipid":"Número de identificación único de la madre","mother-chipid-help":"Número de identificación único de la madre. Si la madre es parte de tus perros, va a registrarse automaticamente.","mother-comment":"Comentarios sobre la madre","mother-comment-help":"Comentarios sobre la madre de este perro","choose-father":"Elegir padre","father-name":"Nombre del padre","father-name-help":"Nombre del padre de este perro.","father-chipid":"Número de identificación único del padre","father-chipid-help":"Número de identificación del padre. Si el padre es parte de tus perros, va a registrarse automaticamente","father-comment":"Comentarios sobre el padre.","father-comment-help":"Comentarios sobre el padre de este perro.","files":"Archivos","files-help":"Archivos de este perro.","dog-saved":"El perro está registrado.","choose-sort":"Elegir opción","sort-distance":"Distancia","sort-duration":"Duración","sort-name":"Nombre","sort-shortname":"Apodo","sort-workouts":"Entrenamientos","sort-lead":"Líder","sort-point":"Swing","sort-team":"De equipo","sort-wheel":"Wheel","all":"Todos","leadOnly":"Líder","pointOnly":"Swing","teamOnly":"De equipo","wheelOnly":"Wheel","days-back":"Último","d1":"día","d2":"2 días","d7":"7 días","d14":"14 días","d30":"30 días","gender-male":"Macho","gender-female":"Hembra","log":"Registro","vetenary-approved-vaccines":"Vacunas aprobadas por el veterinario","vaccine-karens":"dias restantes","vaccine-name":"Nombre de la vacuna","vaccine-date":"Fecha de la vacuna","vaccine-veterinary":"Veterinario","hide-deceased":"Mostrar solo el equipo","absolutely-all":"Mostrar todos","log-for-is-empty":"El log de {{name}} está vacio","temp-calculation":"Por el momento esto es calculado desde el equipo principal del perro. Esto se cambiará pronto."},"workouts":{"edit":"Editar","duplicate":"Duplicar","make-track":"Hacer un itinerario basado en el entrenamiento","duration":"Duración","rest":"Descanso","avgspeed":"Velocidad promedio","currentspeed":"Velocidad actual","kmt":"km/h","type":"Tipo","equipment":"Equipamiento","dogs":"Perros","distance":"Distancia","ascend":"Ascenso","weather":"El tiempo/clima","fetch-weather":"Pronóstico del tiempo desde yr.no","temperature":"Temperatura","info":"Información","user":"Musher","gps":"GPS","advanced":"Avanzado","energy-consumption-help":"La consumo de energía es calculado así: 1,25 kcal/ kg de peso del perro por km.","energy-consumption-total":"Consumo total de energía","energy-consumption":"Consumo total de energía por perro","energy-consumption-fat-total":"Grasas (total)","energy-consumption-fat":"Grasas por perro","energy-consumption-meat-total":"Carne (total)","energy-consumption-meat":"Carne por perro","energy-consumption-salmon-total":"Salmón (total)","energy-consumption-salmon":"Salmón por perro","load-index":"Ìndice de carga de trabajo","kcal-calculated":"Calculado:","all-dogs":"Perros - {{total}}","all-mushers":"Mushers - {{total}}","delete":"Borrar","changes-saved":"Los cambios están registrados","show-last-used-tracks":"Mostrar solo el último itinerario usado.","show-all-tracks":"Mostrar todos los recorridos","add-new":"Agregar nuevo entrenamiento","add-save-new":"Registrar nuevo entrenamiento","other":"Otros","team":"Equipo","date":"Fecha","time":"Hora","track":"Recorrido","title":"Título","avg-speed":"Velocidad promedio","comment":"Comentarios","mushers":"Mushers","rating":"La calificación del entrenamiento","sledWeight":"Peso del trineo","intensity":"Intensidad","edit-workout":"Editar el entrenamiento","photos":"Fotos","workout-saved":"Entrenamiento guardado","start-stop-1":"El rastreo GPS aún no está listo. Apple iOS impide que PWA ejecute la geolocalización en segundo plano. web-apper. Voy a comprar un teléfono Android para probar las capacidades de Android.","start-stop-2":"La mayor parte del desarrollo de esta aplicación es gracias a los mensajes con sugerencias tuyos, asi que mándame muchos mensajes en Facebook.","tracking-stop":"Dejar de rastrear","tracking-start":"Comenzar a rastrear","other-help":"Qué tipo de entrenamiento es este?","team-help":"El equipo haciendo este entrenamiento.","date-help":"Fecha del entrenamiento. El formato es: \\"Año-Mes-Día\\"","time-help":"Hora del entrenamiento. El formato es: \\"HH:MI\\" .","type-help":"Tipo de entrenamiento: \\"entrenamiento\\", \\"carrera\\", \\"paseo\\" .","track-help":"Cuál itinerario has utilizado?","title-help":"Título para el entrenamiento. Por ejemplo: \\"Hermoso entrenamiento de otoño\\"","duration-help":"Cuál ha sido la duración del entrenamiento? (HH:MI)","rest-help":"Cuánto tiempo has descansado en el entrenamiento? (HH:MI)","avg-speed-help":"Velocidad promedio activa. Si no lo sabes, agrega distancia, duración y descanso. Estos parámetros serán calculados.","distance-help":"Cuántos kilómetros has hecho?","ascend-help":"Cuántos metros de desnivel has ascendido?","equipment-help":"Equipamiento utilizado en el entrenamiento.","comment-help":"Comentarios para el entrenamiento. Cómo ha sido?","weather-help":"Cómo ha sido el tiempo?","temperature-help":"Qué temperatura ha hecho?","dogs-help":"Qué perros han corrido en el equipo?","mushers-help":"Qué musher/s han participado en el entrenamiento?","rating-help":"La calificación del entrenamiento. 1-6","sledWeight-help":"Peso del trineo en este entrenamiento en kilos","intensity-help":"Cuál ha sido la intensidad del entrenamiento?","photos-help":"Agregar fotos del entrenamiento.","all-workouts":"Entrenamientos - {{total}}","month-workouts":"Entrenamientos - {{month}} {{year}}","week-workouts":"Entrenamientos - Semana - {{week}} {{year}}","save-to-add-images":"Por favor guardar el entrenamiento y después ir a editar para agregar fotos.","save-to-add-gpx":"Por favor guardar el entrenamiento y después si quieres, podrás descagar un archivo GPX.","private":"Esconder entrenamiento","private-help":"Esconder este entrenamiento de tus seguidores","no-dogs":"Ningún perro registrado todavía","no-dogs-tip":"Es recomendado agregar perros antes de agregar entrenamientos.","add-dog":"Agregar perro","no-tracks":"Ningún itinerario registrado","no-tracks-tip-1":"Es práctico registrar un itinerario antes de agregar un entrenamiento. Cuando lo haces, la distancia y el ascenso se agregarán automáticamente.","no-tracks-tip-2":"Si no tienes un archivo GPX para el itinerario, puedes enregistrar el entrenamiento de todas maneras.","add-track":"Agregar itinerario","no-workouts":"Ningún itinerario registrado: {{month}} {{year}}","no-workouts-1":"El rastreo GPS dentro de la aplicación no está completo todavía debido a algunas limitaciones en Apple iOS cuando se usa PWA.","no-workouts-2":"Voy a comprar un teléfono Android para probar sus capacidades. De todas maneras, el rastreamiento está por llegar pronto!","no-workouts-3":"Un mapa del itinerario será agregado como un archivo GPX dentro de cada itinerario.","no-workouts-howto":"Así es cómo se hace.","no-workouts-howto-1":"Haz clic en el botón \\"Agregar itinerario\\" en la parte superior derecha.","dogs-positions":"Posiciones en el equipo","search-for":"Buscar itinerarios","gpx":"Gpx","gpx-help":"Gpx para este itinerario","current":"Actual","totals":"Totales","seasontotals":"Totales de la temporada","analysis":"Análisis","images":"Fotos","handlers":"Musher","workoutplan":"Plan de entrenamiento","table":"Tabla","calendar":"Calendario","go-to-tracking":"Ir al rastreo GPS","admin-edit":"Editar el administrador","reimport-strava":"Reimportar los datos de Strava","reimport-garmin":"Reimportar los datos de Garmin","like":"Me gusta"},"search":{"title":"Buscar","text-1":"La función de busqueda no está terminada todavía.","text-2":"Qué te gustaría buscar? Mándanos un mensaje en Facebook!"},"teams":{"connect":{"teams-to-follow":"Equipos/criaderos a seguir","teams-follow-requests":"Pedido de seguimiento a equipos/criaderos","wants-to-follow":"quiere seguirte:","confirm":"Confirmar","confirm-and-follow":"Confirmar y seguir también","delete":"Borrar el pedido de seguimiento","block":"Bloquear el equipo","confirmed":"Confirmado","deleted":"Borrado","all-teams":"Todos los equipos públicos - {{total}}","follow":"Seguir","is-following":"Siguiendo","is-blocked":"Bloqueado","has-requested":"Esperando aprobación","how-summary":"Cómo funciona esto?","how-text":"¿Qué pueden ver los seguidores cuando les concedo acceso para seguir? La respuesta es simple. Pueden ver los detalles principales de los entrenamientos que compartes y el nombre de los perros. Eso es todo. Intenta seguir a un equipo y mira la pestaña de entrenamientos."},"addmember":{"title":"Equipo - Agregar nuevo miembro","add-new":"Agregar un nuevo miembro a:","email":"Correo electrónico","email-help":"Correo electrónico del nuevo miembro.","info-1":"Los miembros de este equipo tendrán acceso completo a todos los perros, entrenamientos y recorridos relacionados con este equipo.","info-2":"Por favor, agrega solo personas en las que puedas confiar!","save-new":"Invitar a un nuevo miembro"},"edit":"Editar","admin":"Administrador","kmt":"km/h","dogs":"Perros - {{total}}","members":"Miembros - {{total}}","add-new-member":"Agregar un nuevo miembro","delete":"Borrar","name":"Nombre del equipo","name-help":"Nombre del equipo. Por ejemplo: Equipo A, Equipo B, Mis perros, etc.","public":"Visible públicamente","public-help":"¿Debería ser posible seguir a tu equipo? Todas las solicitudes de seguimiento deben ser aprobadas por ti. Los seguidores solo verán la información que hayas compartido. Detalles del entrenamiento u otras cosas no son visibles.","address":"Dirección","address-help":"Dirección del equipo","postalcode":"Código postal","place":"Lugar/pueblo/ciudad","place-help":"Lugar/pueblo/ciudad del equipo","country":"País","country-help":"País del equipo","ambitions":"Ambiciones","ambitions-help":"Nivel de ambiciones de tu equipo. (usado para calcular el índice de carga de trabajo)","type":"Tipo","type-help":"Tipo de equipo (usado para calcular el índice de carga de trabajo)","save-new":"Registrar nuevo equipo","edit-team":"Editar equipo","photos":"Fotos","photos-help":"Fotos del equipo","profile-photos":"Foto de perfil","profile-photos-help":"Foto de perfil del equipo.","description":"Descripción","description-help":"Descripción del equipo","url":"Link al sitio web","url-help":"Link al sitio web del equipo","facebook":"Facebook","facebook-help":"Link a la página de Facebook","instagram":"Instagram","instagram-help":"Link a la página de Instagram","choose-country":"Elegir país","saved":"El equipo está registrado","all-teams":"Tus equipos - {{total}}","add-new":"Agregar nuevo equipo","changes-saved":"Los cambios están registrados","fitness":"Aptitud física, fatiga y en forma","legend-fitness":"Aptitud física","legend-fatigue":"Fatiga","legend-form":"En forma","public-profile":"Perfil público","socialmedia":"Medios de comunicación social","add-sosialmedia":"Ir a editar perfil del equipo para agregar medios de comunicación social.","add-description":"Ir a editar perfil del equipo para agregar descripción.","public-photos":"Fotos del equipo - {{total}}","something-missing":"Hay algo que no encuentras en esta página? Mándanos un mensaje en Facebook.","stats":"Estadísticas","presentation":"Presentación","pictures":"Fotos","dogs-menu":"Perros","mushers":"Mushers","workouts":"Entrenamientos","fitness-menu":"Aptitud física","compare":"Comparar","trophy":"Trofeos","achievements":"Logros","links":"Enlaces","files":"Archivos","followers":"Seguidores","veterinary":"Veterinario","log":"Avanzado","images":"Imágenes","trophy-details":"Detalles","dogs-help":"Qué perros están en este equipo?","info":"Información","status":"Estatus","internet":"Medios de comunicación social","postalcode-help":"Código postal de este equipo","snapchat":"Snapchat","snapchat-help":"Nombre de usuario de Snapchat","header-photo":"Foto de cabecera","header-photo-help":"Foto de cabecera del equipo","photo":"Fotos","photo-help":"Fotos del equipo","profile-photo":"Foto de perfil","profile-photo-help":"Foto de perfil del equipo.","achievements-help":"Recuerdos para este equipo","links-help":"Enlaces del equipo","files-help":"Archivos para el equipo","no-images-title":"Ninguna imagen de este equipo!","no-images-text":"Puedes agregar más imágenes a este equipo. Fotos de cachorros, fotos de ejercicios, fotos de verano, etc. Todo es una buena manera de crear un mejor perfil para este equipo.","no-achievements-title":"Ningún recuerdo de este equipo","no-achievements-text":"Puedes agregar recuerdos a este equipo. Es decir. Caminatas, pruebas, trofeos, carreras, etc.","no-trophys-title":"Ningún trofeo en este equipo!","no-trophys-text":"Tienes que agregar más entrenamientos, fotos, registros de perros, etc, para obtener trofeos.","no-files-title":"Ningún archivo adjunto en este equipo","no-files-text":"Puedes descargar archivos para este equipo dentro de editar. Estos archivos pueden ser de cualquier tipo: certificados, pruebas, etc.","no-workouts-title":"Ningún entrenamiento para este equipo","no-workouts-text":"Puedes agregar varios entrenamientos.","no-dogs-title":"No tienes ningún perro en este equipo","no-dogs-text":"Puedes agregar más perros a este equipo","notfollowing":"Sin seguir","waiting-approval":"Esperando la aprobación","following":"Siguiendo","no-more-teams-to-follow":"No hay más equipos para seguir","no-pending-follow-requests":"No hay solicitudes de seguimiento pendientes","not-following-any-teams":"No estás siguiendo ningún equipo","no-followers":"Actualmente no tienes seguidores, pero no temas. Es fácil conseguir nuevos seguidores. Asegúrate de que tu equipo sea público. Se activo en las actualizaciones y haz que tu perfil de equipo sea interesante.","heatmap":"Mapa de actividad","heatmap-info":"El mapa de actividad muestra dónde has estado entrenando esta temporada.","blocked-followers":"Equipos bloqueados","not-public":"No es público","no-photos":"Ninguna foto de este equipo."},"tracks":{"your-tracks":"Mis itinerarios","public-tracks":"Itinerarios públicos","edit":"Editar","date":"Fecha","date-help":"Fecha para este itinerario","time":"Hora","time-help":"Hora de este itinerario","distance":"Distancia en km","elevation":"Ascenso","downhill":"Descenso","duration":"Duración normal","speed":"Velocidad normal","delete":"Borrar","all-tracks":"Tus itinerarios - {{total}}","all-public-tracks":"Itinerarios públicos - {{total}}","add-new":"Agregar nuevo itinerario","no-tracks-yet":"Ningún itinerario registrado todavía","no-tracks-info-1":"Archivos GPX pueden ser cargados después de haber creado el itinerario.","no-tracks-info-2":"Las aplicaciones recomendadas para crear archivos GPX son","howto-title":"Cómo empezar","howto-1":"Haz clic en el botón \\"Agregar itinerario\\" en la parte superior de la página.","changes-saved":"Se han guardado los cambios","save":"Guardar nuevo itinerario","gpx-info":"Para poder cargar un archivo GPX, por favor, guardar y volver a editar.","saved":"Se ha guardado el itinerario.","title":"Título","title-help":"Título del itinerario. Por ejemplo: \\"Las montañas del norte\\"","distance-help":"Qué largo es este itinerario en km?","elevation-help":"Cuánto ascenso hay en este itinerario?","photos":"Fotos","photos-help":"Fotos del itinerario","gpx":"Archivo GPX","gpx-help":"Archivo GPX del itinerario","filter-all":"Mostrar todo","filter-only-map":"Mostrar solo esos con un mapa","weather-start":"El tiempo en la zona de salida","weather-hide-details":"Esconder detalles","weather-show-details":"Mostrar detalles","map":"Mapa","stats":"Mis estadísticas","weather":"El tiempo","summary":"Información del itinerario","your-workout-summary":"Sumario de los entrenamientos en este itinerario.","no-workout-summary":"No tienes ningún entrenamiento para este itinerario. Puedes elegir esto dentro de los entrenamientos para que se calcule en el resumen.","no-weather":"No se puede encontrar el clima para este itinerario.","summary-info":"El resumen de este itinerario es calculado basándose en el perfil del itinerario y las configuraciones del equipo.","no-photos":"Ninguna foto para este itinerario"},"form":{"files":{"upload-file":"Cargar archivo"}},"users":{"title":"Tu perfil","email":"Correo electrónico","password":"Contraseña","password-confirm":"Confirmar contraseña","change-password":"Cambiar contraseña","passwords-matches":"Contraseñas iguales","edit-password-changed":"Contraseña cambiada","back-to-profile":"Volver al perfil","main-team":"Equipo principal","all-teams":"Todos los equipos","username":"Nombre de usuario","firstname":"Nombre","lastname":"Apellido","cellphone":"Teléfono móvil","homepage":"Página web","facebook":"Facebook","instagram":"Instagram","snapchat":"Snapchat","strava-get-activities":"Obtiene la última actividad","strava-reconnect":"Reconectar a Strava","strava-reconnect-help":"Si estás experimentando problemas con la integración, puedes probar de reconectarte.","strava-connect":"Conectar a Strava","strava-connected":"Ahora estás conectado a Strava","strava-id":"Número de identificación (id)","strava-username":"Nombre de usuario","strava-profile":"Foto de perfil","garmin-reconnect":"Reconectar a Garmin Connect","garmin-reconnect-help":"Si estás experimentando problemas con la integración, puedes probar de reconectarte.","garmin-connect":"Conectar a Garmin Connect","garmin-connected":"Ahora estás conectado a Garmin Connect!","invite":{"title":"Invitar nuevo criadero a The Musher App","text":"Por favor, ayudanos a recrutar nuevos criaderos. Siempre es más agradable con más gente, y tú puedes sumar puntos que se pueden usar para la versión Premium que llega este verano!","email":"Correo electrónico","email-placeholder":"Correo electrónico del nuevo criadero","send":"Mandar invitación","thanks":"Muchas gracias por la ayuda 😃","more":"Invitar más","hide":"Ocultar la invitación"},"edit":"Editar","username-help":"Tu nombre de usuario en The Musher","firstname-help":"Tu nombre","lastname-help":"Tu apellido","cellphone-help":"Tu número de teléfono móvil","url":"Sitio Web","url-help":"Tu sitio Web","facebook-help":"Tu perfil en Facebook","instagram-help":"Tu perfil en Instagram","snapchat-help":"Tu perfil en Snapchat","photos":"Fotos","photos-help":"Tus fotos","saved":"Tu perfil está registrado","settings-text-info":"Todas las configuraciones pueden ser encontradas en tu perfil","hide-settings":"Ocultar configuraciones de la página principal","settings-hide-settings":"Ocultar configuraciones","settings-hide-settings-help":"Ocultar configuraciones de la página principal","settings":"Configuraciones","settings-hide-profile":"Ocultar el perfil","settings-hide-profile-help":"Pronto será posible conectarse con amigos aquí en The Musher. Si no quieres que la gente te encuentre, puedes ocultar tu perfil aquí.","settings-hide-invite":"Ocultar invitación","settings-hide-invite-help":"Ocultar invitación a nuevo criadero en la página principal.","settings-allow-racevet":"Permiso al veterinario","settings-veterinary-help":"Si desea que los veterinarios encuentren tu criadero y agreguen vacunas, debes habilitar esta configuración.","settings-summary-email":"Resumen","settings-receive-summary-email":"Recibe el resumen en tu correo electrónico","settings-notification-email":"Notificaciones","settings-receive-notification-email":"Recibe notificaciones por correo electrónico cuando no hayan sido leídas por un tiempo.","settings-info-email":"Información","settings-receive-info-email":"Recibe información en tu correo electrónico","settings-partner-email":"Asociados","settings-receive-partner-email":"Contribuya al desarrollo de la aplicación The Musher recibiendo buenas ofertas de nuestros asociados por correo electrónico. Es decir: Alimentos, equipos y otras cosas relacionadas con el mushing. ¡No se permitirá spam y todos los correos electrónicos permanecerán secretos!","subscriptions":"Suscripciones","integrations":"Integraciones","connect":{"title":"Encuentra a tus amigos","search":"Buscar","search-placeholder":"Buscar amigos y otros mushers","doSearch":"Buscar"}},"install":{"install-app":"Instalar la aplicación The Musher"},"news":{"edit":"Editar","add-new":"Crear nuevo contenido","back":"Volver","heading":"Noticias e informaciones","heading-howo":"Cómo lo hacen?","create":"Nuevo"},"comments":{"like":"Me gusta","has-liked":"Me gustó","comment-add":"Comentar","show-more":"Mostrar {{more}} más comentarios","hide-all-comments":"Esconder todos los comentarios","comment":"Comentar","add-comment":"Enviar","write-comment":"Escribir un comentario"},"race":{"therace":"La carrera","news":"Noticias","more-news":"Más noticias","mushers":"Mushers","results":"Resultados","tracking":"Rastreo GPS","media":"Fotos","edit":"Editar la carrera","new":"Nueva carrera","signup-payment":"Pago de la inscripción","location":"Lugar","about":"Sobre la carrera","rules":"Reglas","veterinary":"Información veterinaria","checkpoints":"Puestos de control","track-description":"Descripción del itinerario","program":"Programa","prices":"Premios","classes":"Clases en la carrera","signup":"Inscripción","distance":"Distancia","startdate":"Comienzo","enddate":"Final","to-top":"Ir al comienzo"},"races":{"homerun":"Carreras Homerun","signup-open":"Abierta las inscripciones","race-finished":"Carrera terminada","race-in-progress":"Carrera en progreso","classes":"Clases en la carrera","race-days":"Días de la carrera","signup":"Inscripción","periode":"Periodo","signed-in-as":"Conectado como","signed-up":"Te has inscripto exitosamente!","paid":"Pago","payment-info":"Pago de la inscripción","click-to-change":"Clic para editar la información.","cellphone":"Teléfono móvil","firstname":"Nombre","lastname":"Apellido","sportsclub":"Club","facebook":"Facebook","instagram":"Instagram","team":"Equipo","class":"Clases en la carrera","cellphone-help":"Cuál es tu número de teléfono?","firstname-help":"Cuál es tu nombre?","lastname-help":"Cuál es tu apellido?","sportsClub-help":"De qué club eres miembro?","facebook-help":"Cuál es tu nombre de perfil en Facebook?","instagram-help":"Cuál es tu nombre de perfil en Instagram?","choose-team":"Elegir equipo","choose-class":"Elegir clase","choose-team-help":"Elegir entre tus equipos","choose-class-help":"Elegir clase","agreement-accept":"He leído y aceptado las reglas.","do-signup":"Inscripción","signup-not-open-yet":"La inscripción no está abierta!","signup-closed":"Inscripción cerrada!","signup-opening":"La inscripción se abrirá pronto!","races":"Carreras:","results":"Resultados","mushers":"Mushers","mushers-on-trail":"Mushers en la pista","finished-mushers":"Mushers que terminaron","tracking":"Rastreo GPS","photos":"Fotos","hide-details":"Esconder detalles","read-more":"Leer más","results-here":"Ver los resultados","on-trail":"Corriendo","favorites":"Favoritos","name":"Nombre","start-date":"Fecha de partida","distance":"Distancia","ascend":"Ascenso","avg-speed":"Velocidad promedio","race-time":"Tiempo corriendo","rest-time":"Tiempo de descanso","load-index":"Índice de carga de trabajo","current-speed":"Velocidad actual","elevation":"Elevación","elevation-graph":"Gráfico de elevación","stages":"Etapas","result":"Resultados","musher-here":"Ver competidores","dogs":"Perros","admin":"Administrador","no-team-on-trail":"Ningún equipo restreando en vivo en la aplicación The Musher en este momento...","no-teams-signed-up":"Ningún equipo inscripto todavía...","hide-signup":"Cancelar la inscripción","signup-another-team":"Inscribirse en más clases","starting-teams":"{{totalContestants}} inscriptos en {{totalClasses}} las clases de la carrera","choose-correct-team-and-type":"Elegir el equipo correcto y el tipo de carrera"},"story":{"body":"El relato","write-body":"Qué estás pensando?","add-story":"Publicar","public":"Es público","show-all":"Mostrar todo","back-to-wall":"Volver al perfil","alert-text-1":"Tu equipo no es visible y no es posible solicitar contacto con tu equipo.","alert-text-2":"Si desea que tu equipo sea visible para que otros puedan solicitar seguir a su equipo, puedes encontrar la configuración aquí:","alert-text-3":"Editar equipo","sort":{"new":"\\"Lo último\\" primero","likes-desc":"\\"Más me gusta\\" primero","likes-asc":"\\"Menos me gusta\\" primero","comments-desc":"\\"Más comentarios\\" primero","comments-asc":"\\"Menos comentarios\\" primero"},"share":"Compartir","type":"Tipo","type-choose":"Elegir tipo","type-regular":"Regular","type-ad":"Anuncio","type-article":"Artículo","team-choose":"Elegir equipo","url-text":"Texto URL","url":"URL","country":"País","region":"Región","currency":"Divisa","price":"Precio","ad-url-readmore":"Leer más...","ad-campaign-code":"Código de campaña","sponsored":"Sponsoreado"},"premium":{"title":"Premium"},"types":{"trening":"entrenamiento","konkurranse":"competición","tur":"paseo","aktivitet":"actividad","vanntrening":"natación","gåtur":"caminata","Løsslipp":"Correr suelto","annet":"otros"},"intensities":{"Easy":"Facil","Normal":"Normal","Hard":"Duro"},"teamAmbitions":{"Ingen ambisjoner":"Sin ambiciones","Glad amatør":"Aficionado feliz","Amatør":"Amateur","Seriøs amatør":"Aficionado dedicado","Proff":"Profesional"},"teamTypes":{"Tur":"Caminatas","Turistkjøring":"Turismo","Sprint":"Sprint","Mellomdistanse":"Media distancia","Langdistanse":"Larga distancia"},"dogPositions":{"Leader":"Líder","Team":"De equipo","Wheel":"Wheel"},"dogstatuses":{"Avls-sperre":"Sin cruza","Drektig":"Preñada","Kastrert/sterilisert":"Castrado/esterilizada","Løpetid":"En celo","Medisinering":"Medicación","Normal":"Normal","Omplassering":"Transferido","Pensjonist":"Retirado/a","Skadet":"Lastimado/a","Syk":"Enfermo/a","Valp/unghund":"Cachorro / jóven","Overoppheting":"Sobrecalentado","Korthåret/trenger dekken":"Pelaje corto / necesita abrigo"},"equipments":{"Slede":"Trineo","Atv":"Cuatriciclo","Utv":"UTV","Bil":"Automóvil","Trollvogn":"Carro de entrenamiento","Ski":"Esquí","Annen vogn":"Otro tipo de carro","Sykkel":"Bicicleta","Kickbike":"Monopatín","Kickspark":"Monotrineo","Jogging":"Jogging","Hundehjul":"Rueda de entrenamiento","Ingen utstyr":"Sin equipamiento"},"harnesses":{"small":"pequeño","medium":"medio","large":"largo","xlarge":"extra largo","xxlarge":"extra-extra largo"}}')},Sc7V:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(15).then(function(){var t=s("ztHd");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},THQi:function(e){"use strict";function t(e,t){if(e.map)return e.map(t);for(var s=[],a=0;a<e.length;a++)s.push(t(e[a],a));return s}var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,n,r){return o=o||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?t(i(e),(function(i){var r=encodeURIComponent(s(i))+n;return a(e[i])?t(e[i],(function(e){return r+encodeURIComponent(s(e))})).join(o):r+encodeURIComponent(s(e[i]))})).join(o):r?encodeURIComponent(s(r))+n+encodeURIComponent(s(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t}},TL9d:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l,c=s("cneo"),d=s("0frO"),h=s("Utv1"),u=s("Y3FI"),p=s("X9Km");Object(c.f)({enforceActions:"always"});const m=new(n=i((o=class extends d.a{constructor(){super("news",{namePlural:"newsList",sort:"createdDate",limit:100,api:{search:{url:"/api/news/",params:{limit:15,sort:"createdDate"}},load:{url:"/api/news/",params:{}},save:{url:"/api/news/",params:{}}}}),a(this,"newNews",n,this),a(this,"news",r,this),a(this,"newsList",l,this)}removeImageLocal({id:e,name:t}){if(h.a.isArray(this.news.images)){const e=this.news.images.findIndex(e=>e.name===t);e>-1&&this.news.images.splice(e,1)}const s=this.newsList.findIndex(t=>t.id===e);if(s>-1){const e=this.newsList[s].images.findIndex(e=>e.name===t);e>-1&&this.newsList[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await h.a.fetchApi("/api/news/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}addLikeToNews({id:e,data:t}){h.a.isArray(this.news.likes)&&this.news.likes.push(t);const s=this.newsList.findIndex(t=>t.id===e);s>-1&&(h.a.isUndefined(this.newsList[s].likes)&&(this.newsList[s].likes=[]),this.newsList[s].likes.push(t))}addLikeToComment({id:e,commentId:t,data:s}){if(h.a.isDefined(this.news.comments)){const e=this.news.comments.findIndex(e=>e.id===t),a=this.news.comments[e];h.a.isUndefined(a.likes)&&(a.likes=[]),a.likes.push(s)}const a=this.newsList.findIndex(t=>t.id===e);if(a>-1&&h.a.isDefined(this.newsList[a].comments)){const e=this.newsList[a].comments.findIndex(e=>e.id===t),i=this.newsList[a].comments[e];h.a.isUndefined(i.likes)&&(i.likes=[]),i.likes.push(s)}}addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a}){if(h.a.isDefined(this.news.comments)){const e=this.news.comments.findIndex(e=>e.id===t),i=this.news.comments[e];if(h.a.isDefined(i.comments[e])){const e=i.comments.findIndex(e=>e.id===s),t=i.comments[e];h.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}const i=this.newsList.findIndex(t=>t.id===e);if(i>-1&&h.a.isDefined(this.newsList[i].comments)){const e=this.newsList[i].comments.findIndex(e=>e.id===t),o=this.newsList[i].comments[e];if(h.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s),t=o.comments[e];h.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}}addCommentToNews({id:e,data:t}){h.a.isArray(this.news.comments)&&this.news.comments.push(t);const s=this.newsList.findIndex(t=>t.id===e);s>-1&&(h.a.isUndefined(this.newsList[s].comments)&&(this.newsList[s].comments=[]),this.newsList[s].comments.push(t))}addCommentToNewsComment({id:e,commentId:t,data:s}){if(h.a.isDefined(this.news.comments)){const e=this.news.comments.findIndex(e=>e.id===t),a=this.news.comments[e];h.a.isUndefined(a.comments)&&(a.comments=[]),a.comments.push(s)}const a=this.newsList.findIndex(t=>t.id===e);if(a>-1&&h.a.isDefined(this.newsList[a].comments)){const e=this.newsList[a].comments.findIndex(e=>e.id===t),i=this.newsList[a].comments[e];h.a.isUndefined(i.comments)&&(i.comments=[]),i.comments.push(s)}}async likeNews({id:e}){const t=await h.a.fetchApi("/api/news/like/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.addLikeToNews({id:e,data:t.data}),t;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}async likeNewsComment({id:e,commentId:t}){const s=await h.a.fetchApi(`/api/news/like/${e}/${t}`,{publish:!0,method:"GET"},{});switch(s.status){case 200:return this.addLikeToComment({id:e,commentId:t,data:s.data}),s;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}async likeNewsCommentReply({id:e,commentId:t,replyId:s}){const a=await h.a.fetchApi(`/api/news/like/${e}/${t}/${s}`,{publish:!0,method:"GET"},{});switch(a.status){case 200:return this.addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a.data}),a;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}async commentNews({id:e,comment:t}){const s=await h.a.fetchApi("/api/news/comment/"+e,{publish:!0,method:"POST"},{comment:t});switch(s.status){case 200:return this.addCommentToNews({id:e,data:s.data}),s;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}async commentReplyNews({id:e,commentId:t,comment:s}){const a=await h.a.fetchApi(`/api/news/comment/${e}/${t}`,{publish:!0,method:"POST"},{comment:s});switch(a.status){case 200:return this.addCommentToNewsComment({id:e,commentId:t,data:a.data}),a;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}}).prototype,"newNews",[c.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"news",[c.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=i(o.prototype,"newsList",[c.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(o.prototype,"removeImageLocal",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"removeImageLocal"),o.prototype),i(o.prototype,"addLikeToNews",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"addLikeToNews"),o.prototype),i(o.prototype,"addLikeToComment",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"addLikeToComment"),o.prototype),i(o.prototype,"addLikeToCommentReply",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"addLikeToCommentReply"),o.prototype),i(o.prototype,"addCommentToNews",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"addCommentToNews"),o.prototype),i(o.prototype,"addCommentToNewsComment",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"addCommentToNewsComment"),o.prototype),o);t.a=m},TQac:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=(s("Y3FI"),s("ZOvn"));s("tJLP"),s("Cjoz");const c=l.a.marginTop(!0),d=l.a.marginBottom(),h=l.a.subMenuMarginTop(),u=l.a.marginTopBack(!0);let p=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.resetEmailMessage=()=>{const{userStore:e}=this.props.stores;e.updateField("emailMessage",""),e.updateField("emailMessageIcon","")},this.resetEmailError=()=>{const{userStore:e}=this.props.stores;e.updateField("emailError",""),e.updateField("emailErrorIcon","")},this.toggleSetting=async function(e){const{userStore:s}=t.props.stores,{user:a}=s,{settings:i={}}=a;await s.updateSetting({["settings."+e]:1===i[e]?0:1})},this.subscriptionCreate=async function(){const{paypalStore:e,userStore:s}=t.props.stores;t.setState({paypalLoading:!0}),await e.subscriptionCreate({}),await s.getInfo(),t.setState({paypalLoading:!1})},this.subscriptionCancel=async function(e){const{id:s}=e.target.closest("button").dataset,{paypalStore:a,userStore:i}=t.props.stores;await a.subscriptionCancel({planId:s}),await i.getInfo()},this.subscriptionDetail=async function(){const{paypalStore:e,userStore:s}=t.props.stores,{user:a={}}=s,{subscription:i}=a;if(i.payPalSubscriptionId){const t=await e.subscriptionDetail({id:i.payPalSubscriptionId});s.setSubscriptionPaypal(t.data),await s.getInfo()}},this.toggleCancel=()=>{const{showCancel:e}=this.state;this.setState({showCancel:!e})},this.toggleDetails=()=>{const{showDetails:e}=this.state;e||this.subscriptionDetail(),this.setState({showDetails:!e})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state={time:Date.now(),count:10}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.verifyEmailToken&&e.verifyEmail({token:this.props.verifyEmailToken})}render(){const{scrolledDown:t}=this.props,{userStore:s,appState:a}=this.props.stores,{darkmode:n}=a,{user:l,isAdmin:p}=s,{teams:m,settings:b={}}=l,f=(s.findTeams(m),o.a.getApiServer()),g=o.a.getJwtToken();return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${d}; margin-top: ${c};`},Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${u}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(i.h)("i",{class:"fas fa-arrow-circle-left"})),Object(i.h)("div",{class:"row fixed-top",style:`margin-top: ${t>0?0:h}; background-color: ${n?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-user"})," ",Object(i.h)(r.c,{id:"users.title"},"Din profil")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/settings",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-sliders-h"})," ",Object(i.h)(r.c,{id:"users.settings"},"Innstillinger")))),p&&Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/subscription",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-signature"})," ",Object(i.h)(r.c,{id:"users.subscriptions"},"Abonnement")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow border-bottom border-primary"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/integrations",class:"text-primary stretched-link"},Object(i.h)("i",{class:"fas fa-plug"})," ",Object(i.h)(r.c,{id:"users.integrations"},"Integrasjoner"))))),Object(i.h)("div",{class:"row border-top mt-5"},Object(i.h)("div",{class:"col-12"},Object(i.h)("div",null,Object(i.h)("img",{src:"./assets/strava_logo_orange.png",style:"max-height: 100px;"}))),l.strava&&l.strava.access_token?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)("i",{class:"fas fa-thumbs-up text-success"})," ",Object(i.h)(r.c,{id:"users.strava-connected"},"Connected to Strava!"))),Object(i.h)("div",{class:"col-4 text-right text-muted"},Object(i.h)(r.c,{id:"users.strava-id"},"id"),":"),Object(i.h)("div",{class:"col-8"}," ",l.strava.athlete.id),Object(i.h)("div",{class:"col-4 text-right text-muted"},Object(i.h)(r.c,{id:"users.strava-username"},"username"),":"),Object(i.h)("div",{class:"col-8"}," ",l.strava.athlete.username),Object(i.h)("div",{class:"col-4 text-right text-muted"},Object(i.h)(r.c,{id:"users.strava-profile"},"profile"),":"),Object(i.h)("div",{class:"col-8"}," ",Object(i.h)("img",{src:l.strava.athlete.profile})),Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("div",{class:"display-1 text-success"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(r.c,{id:"users.strava-reconnect-help"},"Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt"),":",Object(i.h)("br",null),Object(i.h)("a",{href:`${f}/api/strava/request-access?token=${g}`,native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)(r.c,{id:"users.strava-reconnect"},"Reconnect to Strava")))))):Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("a",{class:"btn btn-primary",href:`${f}/api/strava/request-access?token=${g}`,native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)(r.c,{id:"users.strava-connect"},"Connect to Strava"))))),Object(i.h)("div",{class:"row border-top mt-5 pt-5"},Object(i.h)("div",{class:"col-12"},Object(i.h)("div",null,Object(i.h)("img",{src:"./assets/garmin-connect.png",style:"height: 100px;"}))),l.garmin&&l.garmin.access&&l.garmin.access.oauth_token?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)("i",{class:"fas fa-thumbs-up text-success"})," ",Object(i.h)(r.c,{id:"users.garmin-connected"},"Connected to Garmin Connect!"))),Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("div",{class:"display-1 text-success"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(r.c,{id:"users.garmin-reconnect-help"},"Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt"),":",Object(i.h)("br",null),Object(i.h)("a",{href:`${f}/api/garmin/request-access?token=${g}`,native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)(r.c,{id:"users.garmin-reconnect"},"Reconnect to Garmin Connect")))))):Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("a",{class:"btn btn-primary",href:`${f}/api/garmin/request-access?token=${g}`,native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)(r.c,{id:"users.garmin-connect"},"Connect to Garmin Connect"))))))}})||a;t.a=p}).call(this,s("hosL").Fragment)},TiXY:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("/eY4"),n=(s("cneo"),s("Utv1"),s("OhSV")),r=s("u2zT");let l=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.handleAddImage=e=>{const{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:e})},this.state={files:[]}}render(){return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)(n.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(i.h)("br",null),Object(i.h)(r.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload"},Object(i.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=l},TjM3:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn");s("tJLP"),s("Cjoz");const c=l.a.marginTop(!0),d=l.a.marginBottom(),h=l.a.subMenuMarginTop();let u=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.resetEmailMessage=()=>{const{userStore:e}=this.props.stores;e.updateField("emailMessage",""),e.updateField("emailMessageIcon","")},this.resetEmailError=()=>{const{userStore:e}=this.props.stores;e.updateField("emailError",""),e.updateField("emailErrorIcon","")},this.toggleSetting=async function(e){const{userStore:s}=t.props.stores,{user:a}=s,{settings:i={}}=a;await s.updateSetting({["settings."+e]:1===i[e]?0:1})},this.subscriptionCreate=async function(){const{paypalStore:e,userStore:s}=t.props.stores;t.setState({paypalLoading:!0}),await e.subscriptionCreate({}),await s.getInfo(),t.setState({paypalLoading:!1})},this.subscriptionCancel=async function(e){const{id:s}=e.target.closest("button").dataset,{paypalStore:a,userStore:i}=t.props.stores;await a.subscriptionCancel({planId:s}),await i.getInfo()},this.subscriptionDetail=async function(){const{paypalStore:e,userStore:s}=t.props.stores,{user:a={}}=s,{subscription:i}=a;if(i.payPalSubscriptionId){const t=await e.subscriptionDetail({id:i.payPalSubscriptionId});s.setSubscriptionPaypal(t.data),await s.getInfo()}},this.toggleCancel=()=>{const{showCancel:e}=this.state;this.setState({showCancel:!e})},this.toggleDetails=()=>{const{showDetails:e}=this.state;e||this.subscriptionDetail(),this.setState({showDetails:!e})},this.state={time:Date.now(),count:10}}getPaypalButton(){const{paypalLoading:t,showCancel:s,showDetails:a}=this.state,{userStore:n}=this.props.stores,{user:r={},subscriptionPaypal:l={}}=n,{subscription:c={}}=r;if(c&&c.isActive){if(a){const{subscriber:a={},billing_info:n={}}=l,{name:r={}}=a,{last_payment:d={}}=n;return Object(i.h)(e,null,Object(i.h)("h5",null,"Premium subscription"),Object(i.h)("table",{class:"table table-sm table-striped"},Object(i.h)("tbody",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Email"),Object(i.h)("td",null,a.email_address)),Object(i.h)("tr",null,Object(i.h)("th",null,"Name"),Object(i.h)("td",null,r.given_name," ",r.surname)),Object(i.h)("tr",null,Object(i.h)("th",null,"Next billing"),Object(i.h)("td",null,o.a.isoDate(n.next_billing_time))),Object(i.h)("tr",null,Object(i.h)("th",null,"Last payment"),Object(i.h)("td",null,o.a.isoDate(d.time)," ",d.amount&&Object(i.h)(e,null,d.amount.currency_code," ",d.amount.value))))),s?Object(i.h)(e,null,Object(i.h)("div",{class:"mb-4"},"Are you sure you want to cancel your subscription?"),Object(i.h)("button",{type:"button",class:"btn btn-success btn-sm",onClick:this.toggleCancel,disabled:t},"No, I want to continue as a Premium member :)"),Object(i.h)("button",{type:"button",class:"btn btn-danger btn-sm ml-5",onClick:this.subscriptionCancel,disabled:t,"data-id":c.payPalSubscriptionId},"Cancel subscription ",t&&Object(i.h)(e,null,Object(i.h)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(i.h)("span",{class:"sr-only"},"Loading...")))):Object(i.h)(e,null,Object(i.h)("div",{class:"mb-4"},Object(i.h)("button",{type:"button",class:"btn btn-primary btn-block btn-lg",onClick:this.toggleDetails,disabled:t},"Back to subscription")),Object(i.h)("div",{class:"mt-4 pt-5 text-right"},Object(i.h)("small",{class:"font-weight-lighter",onClick:this.toggleCancel},"Cancel subscription"))))}return Object(i.h)(e,null,Object(i.h)("h5",null,"Premium subscription"),Object(i.h)("div",{class:"display-1 text-center text-success"},Object(i.h)("i",{class:"fas fa-user-plus"})),Object(i.h)("div",{class:"d-flex"},Object(i.h)("div",{class:"display-4 text-success float-left"},Object(i.h)("i",{class:"fas fa-check"})),Object(i.h)("div",{class:"align-self-stretch ml-3 pt-3"},"Active premium subscription since ",o.a.isoDate(c.startDate),Object(i.h)("br",null),Object(i.h)("small",{class:"font-weight-lighter",onClick:this.toggleDetails},"Subscription details"))),Object(i.h)("div",{class:"mt-4"},Object(i.h)("p",null,"Thank you so much for beeing a Premium member and supporting this app 😍."),Object(i.h)("p",null,"If you have any questions, feel free to contact us at Facebook.")))}if(c&&c.approveLinkObject){const{href:t}=c.approveLinkObject;return Object(i.h)(e,null,Object(i.h)("h5",null,"Become a Premium member of The Musher app."),Object(i.h)("div",{class:"container-fluid mt-4"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-4 px-0"},Object(i.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 border-success"},"1. Create subscription ",Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("div",{class:"col-4 px-0"},Object(i.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 font-weight-bold"},"2. Approve payment")),Object(i.h)("div",{class:"col-4 px-0"},Object(i.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 text-muted"},"3. Done")))),Object(i.h)("div",{class:"mt-4"},Object(i.h)("p",null,"You are just one step away from a super-duper Premium subscription 😍."),Object(i.h)("p",null,"The final step is too approve your subscription at Paypal.com.",Object(i.h)("br",null),"Click this button to open PayPal in a new browser window.")),Object(i.h)("a",{class:"btn btn-primary btn-lg btn-block",href:t,target:"_blank",rel:"noreferrer"},"Approve payment at PayPal.com"),Object(i.h)("button",{class:"btn btn-link btn-sm btn-block",onClick:this.abortSubscriptionApprove},"Cancel and try again"))}return Object(i.h)(e,null,Object(i.h)("div",{class:"mb-4"},Object(i.h)("h5",null,"Become a Premium member of The Musher app."),Object(i.h)("div",null,Object(i.h)("div",{class:"display-1 text-center text-success"},Object(i.h)("i",{class:"fas fa-user-plus"})),Object(i.h)("p",null,"By becoming a Premium member of The Musher app you support the development and operations of this app. It's a lot of work maintaining the source code, servers and databases, so we are very grateful for your support."),Object(i.h)("p",null,"In addition to supporting us you also get access to premium features which is very useful for dog training and care."),Object(i.h)("p",null,"New features will be added continously and you as a Premium member can be a part of the decisions on which features should be added."),Object(i.h)("p",null,"Subscription payment is supported via Paypal.com.")),Object(i.h)("h5",null,"Some of the features"),Object(i.h)("table",{class:"table table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Feature"),Object(i.h)("th",{class:"text-center"},"Basic"),Object(i.h)("th",{class:"text-center"},"Premium"))),Object(i.h)("tbody",null,Object(i.h)("tr",null,Object(i.h)("td",null,"Social interaction"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Multiple team members"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Dog history"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Dog todolist"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Public tracks"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Workout tracking"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Workout integrations (Garmin, Strava)"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Basic workout analysis"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Advanced workout analysis"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Workout trends"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Workout plans"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Team fitness"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Compare your team with others"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Race planner"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Race ready indicator"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Weather from yr.no"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("tr",null,Object(i.h)("td",null,"Premium badge inside the app"),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-times text-danger"})),Object(i.h)("td",{class:"text-center"},Object(i.h)("i",{class:"fas fa-check text-success"})))))),Object(i.h)("div",{class:"container-fluid mt-4"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-4 px-0"},Object(i.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 font-weight-bold"},"1. Create subscription")),Object(i.h)("div",{class:"col-4 px-0"},Object(i.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 text-muted"},"2. Approve payment")),Object(i.h)("div",{class:"col-4 px-0"},Object(i.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 text-muted"},"3. Done")))),Object(i.h)("button",{type:"button",class:"btn btn-success btn-lg btn-block mt-4",onClick:this.subscriptionCreate,disabled:t},"Subscripe to Premium / Monthly $5 ",t&&Object(i.h)(e,null,Object(i.h)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(i.h)("span",{class:"sr-only"},"Loading..."))))}componentDidMount(){const{userStore:e}=this.props.stores;this.props.verifyEmailToken&&e.verifyEmail({token:this.props.verifyEmailToken})}render(){const{scrolledDown:e}=this.props,{userStore:t,appState:s}=this.props.stores,{darkmode:a}=s,{user:n,isAdmin:l}=t,{teams:u,settings:p={}}=n;t.findTeams(u),o.a.getApiServer(),o.a.getJwtToken();return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${d}; margin-top: ${c};`},Object(i.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:h}; background-color: ${a?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-user"})," ",Object(i.h)(r.c,{id:"users.title"},"Din profil")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/settings",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-sliders-h"})," ",Object(i.h)(r.c,{id:"users.settings"},"Innstillinger")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow border-bottom border-primary"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/subscription",class:"text-primary stretched-link"},Object(i.h)("i",{class:"fas fa-signature"})," ",Object(i.h)(r.c,{id:"users.subscriptions"},"Abonnement")))),Object(i.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/users/integrations",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-plug"})," ",Object(i.h)(r.c,{id:"users.integrations"},"Integrasjoner"))))),l&&Object(i.h)("div",{class:"row border-top mt-5"},Object(i.h)("div",{class:"col-12"},this.getPaypalButton())))}})||a;t.a=u}).call(this,s("hosL").Fragment)},UJvz:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV");let l=Object(n.a)(a=class extends i.Component{constructor(...e){super(...e),this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{e.stopPropagation(),this.setState({startY:e.touches[0].pageY})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=e=>{e.stopPropagation();const{close:t}=this.props,{startY:s,refreshing:a}=this.state,i=e.touches[0].pageY;if(this.appContainer){const{scrollTop:e}=this.appContainer;0===e&&i>s+30&&!a&&t()}}}render(){const{showDate:e}=this.state,{image:t,imagexxl:s,close:a,thumb:n,name:l,title:c,date:d}=this.props;return Object(i.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(i.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:a},"X"),Object(i.h)("div",{class:"d-flex mb-2 px-2"},n&&Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:n?`background-image: url("${n}");`:""}," "),Object(i.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},l&&Object(i.h)("strong",{class:"mr-2"},l,":"),c,Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},d&&Object(i.h)("small",{onClick:this.toggleDate},e?o.a.formatDate(d,{locale:"no-NB"}):o.a.formatDistance(d,new Date,{locale:"no-NB"}))))),Object(i.h)("img",{src:t,class:"img-fluid align-middle mt-2 mb-2",onClick:a,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:e=>this.appContainer=e}),Object(i.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||t,download:s||t},Object(i.h)("i",{class:"fas fa-download"})," ",Object(i.h)(r.c,{id:"modal.download"},"Last ned bildet")))}})||a;t.a=l},UKnr:function(e,t,s){"use strict";t.decode=t.parse=s("MNOf"),t.encode=t.stringify=s("THQi")},UUHd:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("ZOvn");let d=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.commentRace=async function(){const{callback:e=(()=>{}),commentId:s}=t.props,{race:a}=t.props,{raceStore:i}=t.props.stores,{comment:o=""}=t.state,n=await i.commentReplyRace({id:a.id,commentId:s,comment:o});n&&200===n.status&&(t.setState({comment:""}),e({race:a,response:n}))}}render(){const{inputRef:e}=this.props,{comment:t}=this.state,{userStore:s}=this.props.stores,{user:a={}}=s,n=a.firstname?`${o.a.ucfirst(a.firstname,!0)}${o.a.ucfirst(a.lastname,!0)}`:""+o.a.ucfirst(a.email||"",!0),d=a.image||(a.images?a.images[0]:void 0);return Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?`background-image: url('${d.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!d&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},n)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)(r.b,null,Object(i.h)("textarea",{class:"form-control rounded-lg",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-reply"},"Write a reply..."),onInput:Object(l.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,onFocus:c.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e}))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.commentRace},Object(i.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=d},Uh5K:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=(s("ZOvn"),s("CLMH"));let l=Object(n.a)(a=class extends i.Component{render(){const{adminStore:t}=this.props.stores,{submenu:s}=this.props,{avgKey:a}=t;if("weeklyAvg"===s)return Object(i.h)(e,null,Object(i.h)("h4",null,"Weekly: Avg Distance, Speed, Ascend"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-speed-ascend-"+a,fieldsLeft:["avgDistanceWeek","avgSpeedWeek"],legendLeft:["avgDistanceWeek","avgSpeedWeek"],fieldsRight:["avgAscendWeek"],legendRight:["avgAscendWeek"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Teamsize"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-total-workouts-teamsize-"+a,fieldsLeft:["avgTeamsizeWeek"],legendLeft:["avgTeamsizeWeek"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg LoadIndex for types"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-loadindex-teamtype-"+a,fieldsLeft:["avgLoadIndexWeek.1","avgLoadIndexWeek.2","avgLoadIndexWeek.3","avgLoadIndexWeek.4","avgLoadIndexWeek.5","avgLoadIndexWeek.n/a"],legendLeft:["Tur","Turistkjøring","Sprint","Mellomdistanse","Langdistanse","Ikke valgt"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Duration & RealDuration"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-duration-realduration-"+a,fieldsLeft:["avgRealDurationWeek","avgDurationWeek"],legendLeft:["avgRealDurationWeek","avgDurationWeek"],yTicksLeftVal:e=>o.a.secToHms(e,!0),xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for types"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-"+a,fieldsLeft:["avgDistanceTeamTypeWeek.1","avgDistanceTeamTypeWeek.2","avgDistanceTeamTypeWeek.3","avgDistanceTeamTypeWeek.4","avgDistanceTeamTypeWeek.5","avgDistanceTeamTypeWeek.n/a"],legendLeft:["Tur","Turistkjøring","Sprint","Mellomdistanse","Langdistanse","Ikke valgt"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for ambitions"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-ambnitions-"+a,fieldsLeft:["avgDistanceTeamAmbitionsWeek.1","avgDistanceTeamAmbitionsWeek.2","avgDistanceTeamAmbitionsWeek.3","avgDistanceTeamAmbitionsWeek.4","avgDistanceTeamAmbitionsWeek.5","avgDistanceTeamAmbitionsWeek.n/a"],legendLeft:["Ingen","Glad amatør","Amatør","Seriøs amatør","Proff","Ikke valgt"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for type-ambitions: Tur"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-1-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.1-1","avgDistanceTeamTypeAmbitionWeek.1-2","avgDistanceTeamTypeAmbitionWeek.1-3","avgDistanceTeamTypeAmbitionWeek.1-4","avgDistanceTeamTypeAmbitionWeek.1-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for type-ambitions: Turist"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-2-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.2-1","avgDistanceTeamTypeAmbitionWeek.2-2","avgDistanceTeamTypeAmbitionWeek.2-3","avgDistanceTeamTypeAmbitionWeek.2-4","avgDistanceTeamTypeAmbitionWeek.2-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for type-ambitions: Sprint"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-3-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.3-1","avgDistanceTeamTypeAmbitionWeek.3-2","avgDistanceTeamTypeAmbitionWeek.3-3","avgDistanceTeamTypeAmbitionWeek.3-4","avgDistanceTeamTypeAmbitionWeek.3-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for type-ambitions: MD"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-4-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.4-1","avgDistanceTeamTypeAmbitionWeek.4-2","avgDistanceTeamTypeAmbitionWeek.4-3","avgDistanceTeamTypeAmbitionWeek.4-4","avgDistanceTeamTypeAmbitionWeek.4-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}),Object(i.h)("h4",null,"Weekly: Avg Distance for type-ambitions: LD"),Object(i.h)(r.a,{stores:this.props.stores,key:"admin-week-avg-distance-type-5-ambitions-"+a,fieldsLeft:["avgDistanceTeamTypeAmbitionWeek.5-1","avgDistanceTeamTypeAmbitionWeek.5-2","avgDistanceTeamTypeAmbitionWeek.5-3","avgDistanceTeamTypeAmbitionWeek.5-4","avgDistanceTeamTypeAmbitionWeek.5-5"],legendLeft:["Ingen ambisjoner","Glad Amatør","Amatør","Seriøs Amatør","Proff"],xTicksVal:e=>o.a.getWeek(e),xTicksCnt:8}))}})||a;t.a=l}).call(this,s("hosL").Fragment)},Utv1:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var r=s("UKnr"),l=s.n(r),c=s("jpFG"),d=s.n(c);const h="loadingProgress",u="errorMessage";var p={publish:(e,t)=>{d.a.publish(e,t)},subscribe:(e,t)=>{d.a.subscribe(e,(e,s)=>{t(s)})}};const m=/Mac/.test(navigator.platform);class b{static getType(e){return Object.prototype.toString.call(e)}static isError(e){return"[object Error]"===b.getType(e)}static isArray(e){return"[object Array]"===b.getType(e)}static isObject(e){return"[object Object]"===b.getType(e)}static isString(e){return"[object String]"===b.getType(e)}static isDate(e){return"[object Date]"===b.getType(e)}static isNumber(e){return"[object Number]"===b.getType(e)&&!Number.isNaN(e)}static isFunction(e){return"[object Function]"===b.getType(e)}static isRegexp(e){return"[object RegExp]"===b.getType(e)}static isBoolean(e){return"[object Boolean]"===b.getType(e)}static isNull(e){return"[object Null]"===b.getType(e)}static isUndefined(e){return"[object Undefined]"===b.getType(e)}static isDefined(e){return!b.isUndefined(e)}static checkNested(e,...t){let s=e;for(let e=0;e<t.length;e+=1){if(!s||!s.hasOwnProperty(t[e]))return!1;s=s[t[e]]}return!0}static getNestedValue(e,t){let s=e;return t.split(".").forEach(e=>{b.isObject(s)&&void 0!==s[e]||(s=null),s&&(s=s[e])}),s}static setNestedValue(e,t,s){return"string"==typeof t?b.setNestedValue(e,t.split("."),s):1===t.length&&void 0!==s?(b.isObject(e)||(e={}),e[t[0]]=s):0===t.length?e:b.setNestedValue(e[t[0]],t.slice(1),s)}static asNumber(e,...t){let s=t;Array.isArray(s[0])&&(s=s[0]);let a=e;for(let e=0;e<s.length;e+=1){if(!a||!a.hasOwnProperty(s[e]))return 0;a=a[s[e]]}return parseFloat(a)}static asString(e,...t){let s=t;Array.isArray(s[0])&&(s=s[0]);let a=e;for(let e=0;e<s.length;e+=1){if(!a||!a.hasOwnProperty(s[e]))return;a=a[s[e]]}return a}static asObject(e,...t){let s=t;Array.isArray(s[0])&&(s=s[0]);let a=e;for(let e=0;e<s.length;e+=1){if(!a||!a.hasOwnProperty(s[e]))return;a=a[s[e]]}if("object"==typeof a)return a}static asBoolean(e,...t){let s=t;Array.isArray(s[0])&&(s=s[0]);let a=e;for(let e=0;e<s.length;e+=1){if(!a||!a.hasOwnProperty(s[e]))return!1;a=a[s[e]]}return"boolean"==typeof a&&a}static cleanObject(e,t={}){const s=n({},e),a=Object.keys(s);for(let e=0;e<a.length;e+=1){const i=a[e];s.hasOwnProperty(i)&&(void 0!==s[i]&&!1!==s[i]||delete s[i],t.emptyIsUndefined&&""===s[i]&&delete s[i],t.zeroIsUndefined&&0===s[i]&&delete s[i],t.zeroStringIsUndefined&&"0"===s[i]&&delete s[i],t.nullIsUndefined&&null===s[i]&&delete s[i])}return s}static escapeEmail(e){return"string"==typeof e?e.replace(/[^a-z1-9]/g,"_"):e}static padDate(e){let t=String(e);return 1===t.length&&(t="0"+t),t}static parseInputDate(e){let t;return b.isDate(e)?e:(b.isString(e)||b.isNumber(e)?e>1e9&&e<9999999999?(t=new Date(0),t.setUTCSeconds(e)):e>1e12&&e<9999999999999?(t=new Date(0),t.setUTCSeconds(parseInt(e/1e3,10))):b.isString(e)&&e.match(/\d{4}-\d{2}-\d{2}/)&&(t=new Date(e)):t=new Date,t)}static isoDate(e,t=!1,s=!1,a=!1){const i=b.parseInputDate(e);if(i){const e=i.getMonth()+1,o=i.getDate(),n=i.getFullYear(),r=i.getHours(),l=i.getMinutes(),c=i.getSeconds(),d=-i.getTimezoneOffset(),h=d>=0?"+":"-";let u=`${b.padDate(n)}-${b.padDate(e)}-${b.padDate(o)}`;return a||(u+=` ${b.padDate(r)}:${b.padDate(l)}`,t&&(u+=":"+b.padDate(c)),s&&(u+=`${h}${d}`)),u}return"n/a"}static isoTime(e,t=!1,s=!1){const a=b.parseInputDate(e);if(a){const e=a.getHours(),i=a.getMinutes(),o=a.getSeconds(),n=-a.getTimezoneOffset(),r=n>=0?"+":"-";let l=`${b.padDate(e)}:${b.padDate(i)}`;return t&&(l+=":"+b.padDate(o)),s&&(l+=`${r}${n}`),l}return"n/a"}static formatDate(e,t={}){const s=i({},t),a=s.locale||"en-US";delete s.locale;const o=i({year:"numeric",month:"short",day:"numeric"},s);return(b.isDate(e)?e:new Date(e)).toLocaleString(a,o)}static getApiServer(){return localStorage.getItem("apiServer")}static setApiServer(e){return localStorage.setItem("apiServer",e)}static getImageServer(){return localStorage.getItem("imageServer")}static setImageServer(e){return localStorage.setItem("imageServer",e)}static getJwtToken(){return localStorage.getItem("jwtToken")}static setJwtToken(e){return localStorage.setItem("jwtToken",e)}static removeJwtToken(){return localStorage.removeItem("jwtToken")}static setUserEmail(e){return localStorage.setItem("userEmail",e)}static getUserEmail(){return localStorage.getItem("userEmail")}static removeUserEmail(){return localStorage.removeItem("userEmail")}static setObject(e,t,s){const a=localStorage.getItem(e);let o={};if("object"==typeof t)o=i({},t);else if("string"==typeof a)try{o=JSON.parse(a),o[t]=s}catch(e){o=void 0}return localStorage.setItem(e,JSON.stringify(o))}static unsetObj(e,t){return"string"==typeof t?b.setObject(e,t,null):localStorage.setItem(e,null)}static getObject(e){try{let t=JSON.parse(localStorage.getItem(e));return null===t&&(t={}),t}catch(e){return}}static set(e,t){return localStorage.setItem(e,JSON.stringify(t))}static unset(e){return localStorage.setItem(e,null)}static get(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return}}static async fetchApi(e,t={},s={}){const a=b.getApiServer(),o=!t.hasOwnProperty("publish")||t.publish;o&&p.publish(h,0);const n=b.getJwtToken(),r=i({credentials:"omit",method:"GET",mode:"cors",cache:"default",headers:{},publish:!0},t);n&&(r.headers={Authorization:"Bearer "+n});let c="";["POST","PUT","PATCH","DELETE"].includes(t.method)?(r.credentials="include",r.body=JSON.stringify(s),r.headers["Content-Type"]="application/json"):c=l.a.stringify(s),o&&p.publish(h,25);try{const t=await fetch(`${a}${e}${c?"?"+c:""}`,r);return o&&p.publish(h,100),t.json()}catch(e){if(o)return p.publish(u,"An error occurred"),[];throw e}}static format(e,t,s,a,i=!1){const o=Number.isNaN(t)?2:Math.abs(t),n=void 0===s?",":s,r=void 0===a?" ":a,l=Math.abs(e||0),c=Math.sign(e)>=0?"":"-";if(i){if(l>999999){return`${c}${b.format(l/1e6,1,s,a)}M`}if(l>999){return`${c}${b.format(l/1e3,1,s,a)}K`}}if(b.isNumber(l)){const e=String(parseInt(l.toFixed(o),10)),t=e.length>3?e.length%3:0;return`${c}${t?e.substr(0,t)+r:""}${e.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+r)}${o?n+Math.abs(l-e).toFixed(o).slice(2):""}`}return""}static formatCompact(e){return b.format(e,0,","," ",!0)}static formatBytes(e,t){const s=parseInt(e,10);if(b.isNumber(s)){if(0===s)return"0 Bytes";const e=1024,a=t||2,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(s)/Math.log(e));return`${parseFloat((s/e**o).toFixed(a))} ${i[o]}`}return""}static getDomain(){if(b.checkNested(window,"location"))return window.location.hostname}static isStandalone(){return!!window.navigator.standalone||!!window.matchMedia("(display-mode: standalone)").matches}static isMobile(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>window.navigator.userAgent.match(e))}static getImageHostname(){return b.getImageServer()}static getImageSrc(e,t="220x",s=1,a="product"){return"object"==typeof e?e.newFilename?`${t}/${e.newFilename}`:`${t}/${e.prefix||a}_${s}_${e.filename}.${e.ext}`:""}static isCapsLock(e,t=(()=>{})){let s=!1;const a=e.charCode,i=e.shiftKey;a>=97&&a<=122?s=i:!(a>=65&&a<=90)||i&&m||(s=!i),t(s)}static validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}static ucfirst(e,t=!1){return b.isString(e)?e.charAt(0).toUpperCase()+(t?"":e.slice(1)):e}static randomPassword(){return Math.random().toString(36).slice(-8)}static toggleDarkModeClasses(e){e?(document.body.classList.remove("bootstrap"),document.body.classList.add("bootstrap-dark")):(document.body.classList.remove("bootstrap-dark"),document.body.classList.add("bootstrap"))}static camelcasize(e){return e.replace(/-([a-z])/gi,(e,t)=>t.toUpperCase())}static collectPropsFromElement(e,t={}){const s=e.attributes,a=n({},t);return Object.keys(s).forEach(e=>{if(s.hasOwnProperty(e)){const t=s[e].name;if(!t||"string"!=typeof t)return!1;let i=t.split(/(data-props?-)/).pop()||"";if(i=b.camelcasize(i),t!==i){a[i]=s[e].nodeValue}}return!1}),[].forEach.call(e.getElementsByTagName("script"),e=>{let t={};if(e.hasAttribute("type")){if("text/props"!==e.getAttribute("type")&&"application/json"!==e.getAttribute("type"))return;try{t=JSON.parse(e.innerHTML)}catch(e){throw new Error(e)}n(a,t)}}),a}static encUri(e){return"string"==typeof e?encodeURIComponent(e.replace(/\s*\(.+?\)/g,"")):e}static makeId(e){let t="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=s.length;for(let i=0;i<e;i+=1)t+=s.charAt(Math.floor(Math.random()*a));return t}static percentOfTotal(e,t){return t/e*100}static round(e,t=1){if(!(""+e).includes("e"))return+`${Math.round(`${e}e+${t}`)}e-${t}`;const s=(""+e).split("e");let a="";return+s[1]+t>0&&(a="+"),+`${Math.round(`${+s[0]}e${a}${+s[1]+t}`)}e-${t}`}static roundTo(e,t=100){return Math.round((e+Number.EPSILON)*t)/t}static range(e,t,s=1){const a=[];let i=e;for(;i<=t;)a.push(i),i+=s;return a}static monthRange(e,t){const s=b.parseInputDate(e),a=b.parseInputDate(t),i=s.getFullYear(),o=a.getFullYear(),n=[];for(let e=i;e<=o;e+=1){const t=e!==o?11:a.getMonth();for(let a=e===i?s.getMonth():0;a<=t;a+=1){n.push({month:a+1,year:e})}}return n}static weekRange(e,t){const s=b.parseInputDate(e),a=b.parseInputDate(t),i=s.getFullYear(),o=a.getFullYear(),n=[];for(let e=i;e<=o;e+=1){const t=e!==o?b.getWeeksInYear(e):b.getWeek(a);for(let a=e===i?b.getWeek(s):1;a<=t;a+=1)n.push({week:a,year:e})}return n}static dayRange(e,t){const s=b.parseInputDate(e),a=b.parseInputDate(t),i=[];for(let e=s;e<=a;e.setDate(e.getDate()+1)){const t=new Date(e);i.push({year:t.getFullYear(),week:b.getWeek(t),day:t.getDate(),month:t.getMonth()+1})}return i}static scorePassword(e){let t=0;if(!e)return t;const s={};for(let a=0;a<e.length;a+=1)s[e[a]]=(s[e[a]]||0)+1,t+=5/s[e[a]];const a={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)};let i=0;const o=Object.keys(a);for(let e=0,t=o.length;e<t;e+=1){i+=!0===a[o[e]]?1:0}return t+=10*(i-1),parseInt(t,10)}static checkPassStrength(e,t=["veryweek","weak","good","strong"]){const s=b.scorePassword(e);return s>80?t[3]:s>60?t[2]:s>=30?t[1]:s>=5?t[0]:""}static normalizeBetween(e,t,s,a,i,o){const n=a+(e-t)*(i-a)/(s-t);return o&&n>o?o:n}static validateCode(e,t,s){let a=(""+e).replace(/[^0-9]/g,"");return a=parseInt(a,10),a>=t&&a<=s}static age(e,t=new Date,s={year:"år",month:"mnd",week:"uker",day:"dager"}){const a=b.parseInputDate(e),i=b.parseInputDate(t).getTime()-a.getTime(),o={},n={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};let r=Math.floor(i/1e3);const l=Object.keys(n);for(let e=0,t=l.length;e<t;e+=1){const t=l[e];o[t]=Math.floor(r/n[t]),r-=o[t]*n[t]}for(let e=0,t=l.length;e<t;e+=1){const t=l[e];if(o[t]>0)return`${o[t]} ${s[t]||t}`}return o}static secToHms(e,t=!1){const s=parseInt(e,10),a=Math.floor(s/3600),i=Math.floor(s%3600/60),o=Math.floor(s%3600%60);return t?`${b.padDate(a)}:${b.padDate(i)}`:`${b.padDate(a)}:${b.padDate(i)}:${b.padDate(o)}`}static formatDistance(e,t=new Date,s){const a=b.parseInputDate(e),i=b.parseInputDate(t).getTime()-a.getTime(),o=Math.floor(i/1e3),n=Math.floor(o/60),r=Math.floor(o/3600),l=Math.floor(o/86400),c=Math.floor(l/7);return Math.floor(c/4)>0?b.formatDate(a,s):c>0?c+"w":l>0?l+"d":r>0?r+"h":n>0?n+"m":o+"s"}static hsl2Rgb(e,t,s){const a=e/360,i=t/100,o=s/100;let n,r,l;if(0===i)n=o,r=o,l=o;else{const e=(e,t,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e),t=o<.5?o*(1+i):o+i-o*i,s=2*o-t;n=e(s,t,a+1/3),r=e(s,t,a),l=e(s,t,a-1/3)}return{r:Math.round(255*n),g:Math.round(255*r),b:Math.round(255*l)}}static yearRange(e=1980,t=(new Date).getFullYear()){const s=[];let a=e;for(;a<=t;)s.push(a+=1);return s}static getYear(){return(new Date).getFullYear()}static getWeek(e){let t;t=b.isUndefined(e)?new Date:new Date(e),t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);const s=new Date(t.getFullYear(),0,4),a=(t.getTime()-s.getTime())/864e5,i=(s.getDay()+6)%7;return 1+Math.round((a-3+i)/7)}static getDaysInWeek(e,t,s){const a=[],i=b.getDateOfISOWeek(e,t,s);a.push(i);for(let e=1;e<7;e+=1){const t=new Date(i.getTime());t.setDate(i.getDate()+e),a.push(t)}return a}static getDaysInRange(e,t=7,s=!1){const a=[],i=b.parseInputDate(e);i.setHours(0,0,0,0),a.push(i);const o=t<0?-1:1,n=Math.abs(t);for(let e=1;e<=n;e+=1){const t=new Date(i.getTime());t.setDate(i.getDate()+e*o),a.push(t)}return s?a.map(e=>({day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()})):a}static daysInMonth(e,t){return new Date(t,e,0).getDate()}static getDaysInMonth(e,t){const s=b.daysInMonth(e,t),a=[],i=new Date(t,e-1,1);a.push(i);for(let e=1;e<s;e+=1){const t=new Date(i.getTime());t.setDate(i.getDate()+e),a.push(t)}return a}static getWeeksInMonth(e,t,s="monday"){const a=[],i=new Date(t,e-1,1),o=new Date(t,e,0).getDate();let n=1,r=7-i.getDay();for("monday"===s&&(r=0===i.getDay()?1:7-i.getDay()+1);n<=o;)a.push({start:n,end:r,week:b.getWeek(new Date(i.getFullYear(),i.getMonth(),n))}),n=r+1,r+=7,r=1===n&&8===r?1:r,r>o&&(r=o);return a}static getWeeksInYear(e=(new Date).getFullYear()){return Math.max(b.getWeek(e+"-12-31"),b.getWeek(e+"-12-24"))}static getFirstWeekInYear(e=(new Date).getFullYear()){return b.getWeek(e+"-01-01")}static getDateOfWeek(e,t){return new Date(t,0,1+7*(e-1))}static getDateOfISOWeek(e,t,s){let a=parseInt(t,10);const i=parseInt(s,10),o=parseInt(e,10);1===i&&53===o&&(a-=1);const n=new Date(a,0,1+7*(o-1)),r=n.getDay(),l=n;return l.setDate(r<=4?n.getDate()-n.getDay()+1:n.getDate()+8-n.getDay()),l}static addDays(e,t){const s=new Date(e);return s.setDate(s.getDate()+t),s}static shuffleArray(e){const t=e.slice(0);let s,a,i=t.length;for(;0!==i;)a=Math.floor(Math.random()*i),i-=1,s=t[i],t[i]=t[a],t[a]=s;return t}static splitArrayIntoChunks(e,t){const s=[];if(tc.isArray(e)){const a=Math.ceil(e.length/t);for(let t=0,i=e.length;t<i;t+=a)s.push(e.slice(t,t+a))}return s}}t.a=b},UwwE:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:n={}}=a;return n.imperial?Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(function(e){return 2.20462*e}(t),0)," lb")):Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(t,0)," kg"))}})||a;t.a=r}).call(this,s("hosL").Fragment)},VKmm:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV");s("ZOvn"),s("eQ6k");const d={requestSent:{}};let h=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.requestFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,{user:a}=s,{team:i}=e.target.closest("button").dataset;t.followRequest(parseInt(i,10),a);const{requestSent:o}=this.state;o[i]=!0,this.setState({requestSent:o})},this.getButton=e=>{const{requestSent:t}=this.state,{userStore:s}=this.props.stores,{user:a}=s,i=e.members&&e.members.findIndex(e=>e.id===a.id)>-1,o=e.followers&&e.followers.indexOf(a.id)>-1,r=e.blockedFollowers&&e.blockedFollowers.indexOf(a.id)>-1,l=t[e.id]||e.followRequests&&e.followRequests.findIndex(e=>e.id===a.id)>-1;return i?Object(n.h)("i",{class:"fas fa-home"}):o?Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":e.id},Object(n.h)("i",{class:"fas fa-link mr-2"}),Object(n.h)(c.c,{id:"teams.connect.is-following"},"Følger")):r?Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hand-paper mr-2"}),Object(n.h)(c.c,{id:"teams.connect.is-blocked"},"Blokkert")):l?Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(n.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":e.id},Object(n.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(n.h)(c.c,{id:"teams.connect.follow"},"Følg"))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d)}async loadTeams(){this.setState({isLoading:!0});const{teamStore:e}=this.props.stores;await e.loadPublic({query:{notfollowing:1,array:1},limit:15}),this.setState({isLoading:!1})}componentDidMount(){this.loadTeams()}render(){const{teamStore:e,appState:t}=this.props.stores,{publicTeamsToFollow:s}=e,{darkmode:a}=t;return s&&0!==s.length?Object(n.h)("div",{class:"row pb-4 bg-light"},Object(n.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${a?"black":"white"} shadow-sm`},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("h5",null,Object(n.h)(c.c,{id:"teams.connect.teams-to-follow"},"Team du kan følge"),":"))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},r.a.isArray(s)&&s.map(e=>{const t=e.image&&e.image.s3SmallLink?e.image:null;return Object(n.h)("div",{class:"mr-2",style:"width: 110px;"},Object(n.h)("div",{class:"text-center border rounded-lg",style:t?`background-image: url("${t.s3SmallLink}"); background-size: cover; width: 110px; height: 100px;`:"width: 110px; height: 100px;"},!t&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(n.h)("small",null,Object(n.h)("div",{class:"text-overflow"},Object(n.h)("strong",null,e.name)),Object(n.h)("div",{class:"text-overflow"},e.place?e.place+", ":""," ",e.country,"  "),Object(n.h)("div",{class:"text-overflow"},Object(n.h)("small",{class:"text-muted"},e&&e.dogs&&Object(n.h)("span",{class:""},Object(n.h)("i",{class:"fas fa-dog"})," ",e.dogs.length),e&&e.followers&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-user"})," ",e.followers.length)))),Object(n.h)("div",null,this.getButton(e)))})))))):""}})||o;t.a=h},Vol8:function(e,t){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var s=[],a=!0,i=!1,o=void 0;try{for(var n,r=e[Symbol.iterator]();!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=Math.pow(10,12);return Math.round(e*t)/t};t.default=function(e){var t=s(e.toString().split("."),2),a=t[1],o=Math.abs(Number(t[0])),n=i(60*Number("0."+(a||0))),r=Math.floor(n),l=i(60*(n%r||0));return o+"° "+Number(r.toFixed(6)).toString().split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):e})).join(".")+"' "+Number(l.toFixed(4)).toString().split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):e})).join(".")+'"'}},VtuJ:function(e){e.exports={lineChart:"lineChart__1V7gu",svg:"svg__2VZNe",pathText:"pathText__2RfbE",pathOriginal:"pathOriginal__9eH9i",legendOriginal:"legendOriginal__2ZbOt",pathLeft0:"pathLeft0__3tOjN",pathLeftFill0:"pathLeftFill0__3QXUB",legendLeft0:"legendLeft0__H5zqB",pathLeft1:"pathLeft1__3XeI-",legendLeft1:"legendLeft1__1vXUq",pathLeft2:"pathLeft2__Jskj_",legendLeft2:"legendLeft2__38D1t",pathLeft3:"pathLeft3__vtNwg",legendLeft3:"legendLeft3__tROYd",pathLeft4:"pathLeft4__ZfOXV",legendLeft4:"legendLeft4__1d0WE",pathLeft5:"pathLeft5__1V5kT",legendLeft5:"legendLeft5__3PSRY",pathLeft6:"pathLeft6__3g2rw",legendLeft6:"legendLeft6__2gdN9",pathLeft7:"pathLeft7__2aVhq",legendLeft7:"legendLeft7__3n5R1",pathLeft8:"pathLeft8__3LkIB",legendLeft8:"legendLeft8__1cA-J",pathLeft9:"pathLeft9__1eWVE",legendLeft9:"legendLeft9__1g73E",pathRight0:"pathRight0__3sPo3",legendRight0:"legendRight0__2sF9z",pathRight1:"pathRight1__16EJJ",legendRight1:"legendRight1__1ryhw",pathRight2:"pathRight2__1giMc",legendRight2:"legendRight2__1Aub9",pathRight3:"pathRight3__yhWxI",legendRight3:"legendRight3__2TdGl",pathRight4:"pathRight4__3M2kd",legendRight4:"legendRight4__2ySNI",pathRight5:"pathRight5__1IsUE",legendRight5:"legendRight5__3amxo",pathRight6:"pathRight6__37j9X",legendRight6:"legendRight6__q3gxO",pathRight7:"pathRight7__2k1bu",legendRight7:"legendRight7__1gMWB",pathRight8:"pathRight8__xUK7j",legendRight8:"legendRight8__1MmGE",pathRight9:"pathRight9__rL-jI",legendRight9:"legendRight9__1z3dO","x-axis":"x-axis__1601s","y-axis-left":"y-axis-left__3tpCF","y-axis-right":"y-axis-right__3gWmK",marker:"marker__2peOe",markers:"markers__2lso3",mouseHover:"mouseHover__2B4N6",mouseHoverDarkmode:"mouseHoverDarkmode__3VPOP",mouseHoverBox:"mouseHoverBox__3fJuY",mouseLine:"mouseLine__1cdau"}},W0B4:function(e,t,s){e.exports=s("NS33")()},WAWY:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let c=Object(r.d)(()=>({week:Object(i.h)(r.c,{id:"workout.graph.week"}),distance:Object(i.h)(r.c,{id:"workout.graph.distance"}),ascend:Object(i.h)(r.c,{id:"workout.graph.ascend"}),plan:Object(i.h)(r.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends i.Component{render(){const{userStore:t,workoutPlanStore:s}=this.props.stores,{user:a,graphWorkoutSummaryWeekDistanceCurrent:n,graphWorkoutSummaryWeekDistancePrev:c,graphWorkoutSummaryWeekElevationCurrent:d,graphWorkoutSummaryWeekElevationPrev:h}=t,{settings:u={}}=a,{graphPlanWeekDistanceCurrent:p}=s,m=(new Date).getMonth()+1,b=(new Date).getFullYear(),{isLoading:f,week:g,distance:O,ascend:v,plan:y,year:j=b,month:w=m}=this.props,k=parseInt(w<8?j-1:j,10),x=o.a.weekRange(k+"-08-01",k+1+"-07-31").map(e=>e.week),S=Math.floor(x.length/(x.length%6)),_=[];for(let e=0,t=x.length;e<t;e+=S)_.push(x[e]);return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>`${g} ${e}`,xTicks:_,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[n,c,p],legendLeft:[`${k} ${O}`,`${k-1} ${O}`,`${k} ${y}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:u.imperial?"mi":"km",unitLeft:u.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[d,h],legendRight:[`${k} ${v}`,`${k-1} ${v}`],showYTicksRight:1,yTicksRightPostfix:u.imperial?"ft":"m",unitRight:u.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!f&&n&&n.length<3&&Object(i.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(i.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(i.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(i.h)("i",{class:"fas fa-paw"})),Object(i.h)("small",null,Object(i.h)(r.c,{id:"workout.graph.too-little-data"},"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.")))))}})||a)||a;t.a=c}).call(this,s("hosL").Fragment)},WFAr:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=a(s("KqdA"));t.default=function(e,t){var s=(0,n.default)((0,o.default)(t))-(0,n.default)((0,o.default)(e)),a=Math.log(Math.tan((0,n.default)((0,i.default)(t))/2+Math.PI/4)/Math.tan((0,n.default)((0,i.default)(e))/2+Math.PI/4));return Math.abs(s)>Math.PI&&(s=s>0?-1*(2*Math.PI-s):2*Math.PI+s),((0,r.default)(Math.atan2(s,a))+360)%360}},WLRO:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("ox/y"),l=(s("Utv1"),s("/eY4")),c=s("OhSV");s("go65"),s("Y3FI");const d=s("ZOvn").a.marginTopBack(!1),h={searchText:""},u={no:"🇳🇴",en:"🇬🇧",es:"🇪🇸",de:"🇩🇪",fr:"🇫🇷",ru:"🇷🇺",se:"🇸🇪"};let p=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.toggleDarkmode=()=>{const{appState:e}=this.props.stores;e.toggleDarkmode()},this.toggleViewmode=e=>{const{appState:t}=this.props.stores,{mode:s}=e.target.closest("a").dataset;t.toggleViewmode(s)},this.changeLanguage=e=>{const{lang:t}=e.target.closest("a").dataset,{userStore:s}=this.props.stores,{user:a}=s;s.setLanguage({email:a.email,language:t})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}componentWillReceiveProps(e){e.search!==this.props.search&&this.loadAll(e)}render(){const{appState:t,userStore:s}=this.props.stores,{viewmode:a}=t,{user:i}=s,{settings:o={},language:l="en"}=i;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${d}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h1",null,Object(n.h)(c.c,{id:"settings.title"},"Settings")))),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"settings.viewmode"},"View mode"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["simple","normal","advanced","beta"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(r.Link,{className:"stretched-link",activeClassName:"active","data-mode":t,onClick:this.toggleViewmode},Object(n.h)(c.c,{id:"settings.viewmode-"+t},t))),a===t&&Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-check text-primary"}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"settings.language"},"Language"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["no","en","de","es","fr","ru","se"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-link py-0 px-1 mr-3",style:"width: 2.0em;"},u[t]),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(r.Link,{className:"stretched-link",activeClassName:"active","data-lang":t,onClick:this.changeLanguage},Object(n.h)(c.c,{id:"settings.language-"+t},t))),l===t&&Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-check text-primary"}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 bg-light rounded-lg",style:"font-size: 1.2em;"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-secondary py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-sign-out-alt"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(r.Link,{className:"stretched-link",activeClassName:"active",href:"/logout"},Object(n.h)(c.c,{id:"settings.logout"},"Logout"))))))))}})||o;t.a=p}).call(this,s("hosL").Fragment)},WNjl:function(e,t,s){function a(e,t,s){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(s||"function"==typeof t){s||(s=t,t=null),t=d({},a.defaults,t||{}),h(t);const n=t.highlight;let r,l,c=0;try{r=i.lex(e,t)}catch(e){return s(e)}l=r.length;const u=function(e){if(e)return t.highlight=n,s(e);let a;try{a=o.parse(r,t)}catch(t){e=t}return t.highlight=n,e?s(e):s(null,a)};if(!n||n.length<3)return u();if(delete t.highlight,!l)return u();for(;c<r.length;c++)!function(e){"code"!==e.type?--l||u():n(e.text,e.lang,(function(t,s){return t?u(t):null==s||s===e.text?--l||u():(e.text=s,e.escaped=!0,void(--l||u()))}))}(r[c])}else try{return t=d({},a.defaults,t||{}),h(t),o.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||a.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}const i=s("5y6D"),o=s("Kx7A"),n=s("ffMB"),r=s("F2rU"),l=s("/IQw"),c=s("0G4o"),{merge:d,checkSanitizeDeprecation:h,escape:u}=s("AkNA"),{getDefaults:p,changeDefaults:m,defaults:b}=s("bixo");a.options=a.setOptions=function(e){return d(a.defaults,e),m(a.defaults),a},a.getDefaults=p,a.defaults=b,a.Parser=o,a.parser=o.parse,a.Renderer=n,a.TextRenderer=r,a.Lexer=i,a.lexer=i.lex,a.InlineLexer=l,a.inlineLexer=l.output,a.Slugger=c,a.parse=a,e.exports=a},WPhI:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("go65"),d=s("ZOvn"),h=s("eQ6k");const u=d.a.marginTop(!0),p=(d.a.marginTopBack(!1),d.a.marginBottom()),m=d.a.subMenuMarginTop(),b={isLoading:!1,limit:25,offset:0,submenu:"notfollowing"};let f=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.setLoadMore=()=>{const{teamStore:e}=this.props.stores;e.setLoadMore(()=>{let{limit:e,offset:t,search:s}=this.state;t+=e,this.setState({offset:t}),this.loadTeams({limit:e,offset:t,search:s})})},this.unsetLoadMore=()=>{const{teamStore:e}=this.props.stores;e.setLoadMore(()=>{})},this.searchForTeams=()=>{const{search:e,limit:t}=this.state;this.setState({offset:0}),this.loadTeams({search:e,limit:t})},this.chooseSubmenu=e=>{const{limit:t}=this.state;this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu,offset:0},()=>{this.loadTeams({limit:t,offset:0})})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b)}async loadTeams({limit:e,offset:t,search:s}){const{submenu:a}=this.state;this.setState({isLoading:!0});const{teamStore:i}=this.props.stores,o={};"notfollowing"===a&&(o.notfollowing=1),"following"===a&&(o.following=1),await i.loadPublic({limit:e,offset:t,search:s,opts:o}),this.setState({isLoading:!1})}componentDidMount(){const{limit:e,offset:t}=this.state;this.loadTeams({limit:e,offset:t}),this.setLoadMore()}componentWillUnmount(){this.unsetLoadMore()}render(){const{scrolledDown:e}=this.props,{submenu:t}=this.state,{teamStore:s,userStore:a,appState:i}=this.props.stores,{publicTeamsToFollow:o=[]}=s,{darkmode:r}=i;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${p}; margin-top: ${u};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:m}; background-color: ${r?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/teams/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(l.c,{id:"teams.your-teams"},"Your teams")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/teams/connect",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(l.c,{id:"teams.public-teams"},"Public teams"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"all"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(l.c,{id:"teams.all"},"All"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"notfollowing"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"notfollowing",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-unlink"})," ",Object(n.h)(l.c,{id:"teams.notfollowing"},"Not following"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"following"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"following",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-link"})," ",Object(n.h)(l.c,{id:"teams.following"},"Following")))))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"teams.connect.all-teams",fields:{total:o.length}},"Alle offentlige team - ",o.length," stk"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(n.h)("div",{class:"flex-grow-1"},Object(n.h)("label",{class:"sr-only",for:"teamSearch"},Object(n.h)(l.c,{id:"search.title"},"Search")),Object(n.h)(l.b,null,Object(n.h)("input",{type:"text",class:"form-control form-control-lg mb-2",id:"teamSearch",onInput:Object(c.a)(this,"search")}))),Object(n.h)("div",{class:"align-self-end ml-1"},Object(n.h)("button",{type:"button",class:"btn btn-lg btn-primary mb-2",onClick:this.searchForTeams},Object(n.h)(l.c,{id:"dog.veterinary.search"},"Search"))))),o&&o.map(e=>Object(n.h)(h.a,{stores:this.props.stores,team:e})))))}})||o;t.a=f},Wyvv:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=a(s("MBNX")),l=s("u28A");t.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;s=void 0===s||isNaN(s)?1:s;var a=(0,i.default)(e),c=(0,o.default)(e),d=(0,i.default)(t),h=(0,o.default)(t),u=Math.acos((0,r.default)(Math.sin((0,n.default)(d))*Math.sin((0,n.default)(a))+Math.cos((0,n.default)(d))*Math.cos((0,n.default)(a))*Math.cos((0,n.default)(c)-(0,n.default)(h))))*l.earthRadius;return Math.round(u/s)*s}},X9Km:function(e,t,s){"use strict";s.d(t,"b",(function(){return o}));var a=s("jpFG"),i=s.n(a);const o={LOG_OUT:"logOut",LOADING_PROGRESS:"loadingProgress",JWT_TOKEN_CHANGED:"jwtTokenChanged",ERROR_MESSAGE:"errorMessage",STATUS_MESSAGE:"statusMessage",INDICATE_FETCH_CONTENT_START:"indicateFetchContentStart",INDICATE_FETCH_CONTENT_STOP:"indicateFetchContentStop",PULL_REFRESH:"pullDownToRefresh",PULL_REFRESH_DONE:"pullDownToRefreshDone",APP_PAUSE:"appPause",APP_RESUME:"appResume",SCROLL_BOTTOM:"appNearBottom",REFRESH_PAGE:"appPage",CORDOVA:"CORDOVA"};t.a={publish:(e,t)=>{i.a.publish(e,t)},subscribe:(e,t)=>{i.a.subscribe(e,(e,s)=>{t(s)})},unsubscribe:e=>{i.a.unsubscribe(e)}}},XNbM:function(e,t,s){"use strict";function a(e){var t,s=e.Symbol;return"function"==typeof s?s.observable?t=s.observable:(t=s("observable"),s.observable=t):t="@@observable",t}s.d(t,"a",(function(){return a}))},XPU5:function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=s("OhSV"),r=s("go65");let l=Object(o.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.inviteKennel=async function(){const{friendEmail:e}=t.state,{userStore:s}=t.props.stores,a=await s.inviteKennel({email:e});t.setState({response:a,inviteSent:!0})},this.inviteNew=()=>{this.setState({inviteSent:!1})},this.hideInvite=async function(){const{userStore:e}=t.props.stores;await e.updateSetting({"settings.hideInvite":1}),t.setState({hideInvite:!0})}}render(){const{inviteSent:e,hideInvite:t}=this.state,{userStore:s}=this.props.stores,{forceShow:a}=this.props,{user:o}=s,{settings:l={}}=o;return!a&&l.hideInvite||t?"":e?Object(i.h)("div",{class:"col-12"},Object(i.h)(n.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til å bli flere 😃"),Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(i.h)(n.c,{id:"users.invite.more"},"Invitere flere"))):Object(i.h)("div",{class:"col-12 pb-4 clearfix"},Object(i.h)("h5",null,Object(i.h)(n.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(i.h)("p",null,Object(i.h)(n.c,{id:"users.invite.text"},"Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.")),Object(i.h)("div",null,Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-auto"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(n.c,{id:"users.invite.email"},"E-post")),Object(i.h)(n.b,null,Object(i.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(i.h)(n.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(r.a)(this,"friendEmail")}))),Object(i.h)("div",{class:"col-auto"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(i.h)(n.c,{id:"users.invite.send"},"Send invitasjon"))))),!a&&Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(i.h)("i",{class:"fas fa-eye-slash"})," ",Object(i.h)(n.c,{id:"users.invite.hide"},"Skjul")))}})||a;t.a=l},XUN7:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c,d=s("hosL"),h=s("Utv1"),u=s("/eY4"),p=s("cneo"),m=s("go65"),b=s("Y3FI"),f=s("OhSV"),g=s("ZOvn"),O=s("om2D"),v=s("TiXY"),y=s("3on9"),j=s("KOz6"),w=s("6GRK");const k=g.a.marginTop(!1),x=g.a.marginTopBack(!1),S=g.a.marginBottom(),_={newTeam:{}};let T=Object(u.a)(n=class extends d.Component{toggleType(e){const{object:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(p.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:e}=this.props.stores,{teamAmbitions:t,user:s}=e,{language:a="en"}=s,{saved:i,object:o,field:n,title:r,icon:l,help:c}=this.props,h=Object(p.i)(o[n]);return Object(d.h)("div",{class:"form-group "+(i[`${n}.${o.id}`]?"is-valid":"")},Object(d.h)("label",{for:n+"Input"},l&&Object(d.h)("i",{class:l+" text-muted"})," ",r),Object(d.h)("div",{class:"container-fluid px-0"},Object(d.h)("div",{class:"row"},t&&t.map(e=>Object(d.h)("div",{class:"col mb-2"},Object(d.h)("div",{class:"border rounded p-2 "+(h===e.id?"bg-success":""),style:`border-bottom: 3px solid ${e.colorNonstop} !important;`,onClick:()=>this.toggleType(e.id)},"no"===a?e.name:e.lang[a]||e.name))))),i[`${n}.${o.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}})||n,D=Object(u.a)(r=class extends d.Component{toggleType(e){const{object:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(p.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:e}=this.props.stores,{teamTypes:t,user:s}=e,{language:a="en"}=s,{saved:i,object:o,field:n,title:r,icon:l,help:c}=this.props,h=Object(p.i)(o[n]);return Object(d.h)("div",{class:"form-group "+(i[`${n}.${o.id}`]?"is-valid":"")},Object(d.h)("label",{for:n+"Input"},l&&Object(d.h)("i",{class:l+" text-muted"})," ",r),Object(d.h)("div",{class:"container-fluid px-0"},Object(d.h)("div",{class:"row"},t&&t.map(e=>Object(d.h)("div",{class:"col mb-2"},Object(d.h)("div",{class:"border rounded p-2 "+(h===e.id?"bg-success":""),style:`border-bottom: 3px solid ${e.colorNonstop} !important;`,onClick:()=>this.toggleType(e.id)},"no"===a?e.name:e.lang[a]||e.name))))),i[`${n}.${o.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}})||r,I=Object(u.a)(l=class extends d.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{teamStore:s}=t.props.stores,{team:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeSponsorImage=async function(e){const{teamStore:s}=t.props.stores,{team:a}=t.props;s.removeSponsorImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{team:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:t,team:s,field:a,icon:i,title:o,type:n,help:r,onInput:l,updateField:c,datalist:u=[],showImages:p=!0,showFiles:m=!0,addToImages:b=!0,rows:g=10}=this.props,y=s[a];if("datalist"===n)return Object(d.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)("input",{list:"list-"+a,class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:y,"data-id":s.id,"data-field":a,onInput:l}),Object(d.h)("datalist",{id:"list-"+a},u.map(e=>Object(d.h)("option",{value:e[0]},e[1]))),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r));if("select"===n)return Object(d.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)("select",{list:"list-"+a,class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:y,"data-id":s.id,"data-field":a,onInput:l,autocomplete:"off"},Object(d.h)("option",{value:""},"-- ",Object(d.h)(f.c,{id:"teams.choose-country"},"Velg land")," --"),u.map(e=>Object(d.h)("option",{value:e[0]},e[1]))),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r));if("image"===n){const n="imagesSponsor"===a?s.imagesSponsor:s.images;return Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)("div",{class:"container-fluid"},Object(d.h)("div",{class:"row"},s[a]&&s[a].s3SmallLink&&Object(d.h)("div",{class:"col-3 p-1"},Object(d.h)("img",{src:s[a].s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(d.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":s[a].name},Object(d.h)("i",{class:"fas fa-trash"})," Del"),Object(d.h)("span",{class:"badge badge-success"},"Main")),p&&Object(d.h)(e,null,n&&n.length>0&&n.map(e=>Object(d.h)("div",{class:"col-3 p-1"},Object(d.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(d.h)("button",{class:"btn btn-sm btn-link",onClick:"imagesSponsor"===a?this.removeSponsorImage:this.removeImage,"data-name":e.name},Object(d.h)("i",{class:"fas fa-trash"})," Del")))))),Object(d.h)(O.a,{saved:t,object:s,field:a,updateField:c,addToImages:b}),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r))}return"toggle"===n?Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)("div",{class:"custom-control custom-switch"},Object(d.h)("input",{type:"checkbox",class:"custom-control-input",id:a+"Input",value:1===y?0:1,"data-id":s.id,"data-field":a,onInput:l,checked:1==y?"checked":""}),Object(d.h)("label",{class:"custom-control-label",for:a+"Input"})),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"textarea"===n?Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)("textarea",{type:"text",class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:y,"data-id":s.id,"data-field":a,onInput:l,rows:g}),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"file"===n?Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),m&&Object(d.h)(e,null,Object(d.h)("div",{class:"container-fluid"},Object(d.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(d.h)(e,null,Object(d.h)("div",{class:"text-center text-muted"},Object(d.h)("div",{class:"display-1"},Object(d.h)("i",{class:"fas fa-file"})),Object(d.h)("h3",null,Object(d.h)(f.c,{id:"teams.no-files-title"},"No files attached to this dog!")),Object(d.h)(f.c,{id:"teams.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(e=>Object(d.h)("div",{class:"col-12 p-1"},Object(d.h)("span",{class:"font-weight-lighter mr-2"},h.a.isoDate(e.createdDate,!1,!1,!0)),Object(d.h)("span",{class:"mr-2"},e.name),Object(d.h)("span",{class:"font-weight-lighter mr-2"},h.a.formatBytes(e.size,1)),Object(d.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":e.name},Object(d.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(d.h)(v.a,{saved:t,object:s,field:a,updateField:c}),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"links"===a?Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)(w.a,{saved:t,stores:this.props.stores,object:s,field:a,updateField:c}),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"achievements"===a?Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)(j.a,{saved:t,stores:this.props.stores,object:s,field:a,updateField:c}),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):Object(d.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(d.h)("label",{for:a+"Input"},i&&Object(d.h)("i",{class:i+" text-muted"})," ",o),Object(d.h)("input",{type:"text",class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:y,"data-id":s.id,"data-field":a,onInput:l}),t[`${a}.${s.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(f.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:a+"Help",class:"form-text text-muted"},r))}})||l,P=Object(u.a)(c=class extends d.Component{constructor(e){var t;super(e),t=this,this.insertTeam=async function(){const{newTeam:e}=t.state,{teamStore:s,userStore:a}=t.props.stores;await s.insert(i({},e)),await a.getInfo(),t.resetDog(),Object(b.route)("/teams/",!0)},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:o,elementtype:n,isNew:r=!1,skipTimer:l=!1})=>{const{teamStore:c}=this.props.stores;let d=a,h=a;const{team:u}=c;"images"===s&&Array.isArray(u.images)&&Array.isArray(a)&&(h=[...u.images,...a]),"imagesSponsor"===s&&Array.isArray(u.imagesSponsor)&&(h=Array.isArray(a)?[...u.imagesSponsor,...a]:[...u.imagesSponsor,i({},a)]),"achievements"===s&&Array.isArray(u.achievements)&&(h=Array.isArray(a)?[...u.achievements,...a]:[...u.achievements,a]),"links"===s&&Array.isArray(u.links)&&(h=Array.isArray(a)?[...u.links,...a]:[...u.links,a]),"files"===s&&Array.isArray(u.files)&&(h=Array.isArray(a)?[...u.files,...a]:[...u.files,a]),"array"!==o||Array.isArray(a)||(d="number"===n?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),r?c.updateObjectKeyValue("newTeam",s,a):(c.updateField(e,s,h),l?this.doUpdateField(e,s,d):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,d)}),500)))},this.updateDogTeam=async function({value:e=[],singleValue:s}){const{dogStore:a,teamStore:i}=t.props.stores,{team:o}=i;e.indexOf(s)>-1?(a.addTeam({id:s,team:o.id}),i.addTeamLocal({dog:{id:s}})):s&&(a.removeTeam({id:s,team:o.id}),i.removeTeamLocal({dog:{id:s}}))},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.state=i(i({},_),{},{submenu:"info"}),this.updateTimer={}}async loadTeam(){const{teamStore:e}=this.props.stores;"new"===this.props.team?this.setState({createNew:!0}):await e.load(this.props.team,!1,{addData:["dogs","users"]})}resetDog(){this.setState({newTeam:{},createNew:!1})}async doUpdateField(e,t,s){const{teamStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadTeam()}render(){const{createNew:t,newTeam:s,submenu:a}=this.state,{teamStore:i,userStore:o}=this.props.stores,{insertStatus:n,saved:r,team:l,dogs:c}=i,{countries:h}=o,{name:u}=l;return t?Object(d.h)("div",{class:"container-fluid",style:`margin-bottom: ${S}; margin-top: ${k};`},Object(d.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${x}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(d.h)("i",{class:"fas fa-arrow-circle-left"})),Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("h5",{style:"padding-left: 35px;"},Object(d.h)(f.c,{id:"teams.add-new"},"Legg til nytt team")),Object(d.h)("div",{class:"form-group"},Object(d.h)("label",{for:"nameInput"},Object(d.h)(f.c,{id:"teams.name"},"Teamnavn")),Object(d.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(m.a)(this,"newTeam.name"),value:s.name}),Object(d.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(d.h)(f.c,{id:"teams.name-help"},"Navn på teamet. A-laget, B-laget, gjengen på tur, etc."))),Object(d.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertTeam},Object(d.h)(f.c,{id:"teams.save-new"},"Registrer nytt team")),n&&Object(d.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(d.h)(f.c,{id:"teams.saved"},"Teamet er lagret."))))):Object(d.h)("div",{class:"container-fluid",style:`margin-bottom: ${S}; margin-top: ${k};`},Object(d.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${x}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(d.h)("i",{class:"fas fa-arrow-circle-left"})),Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"clearfix"},Object(d.h)("div",{class:"text-center border rounded-circle imageRounded float-right",style:l.image?`background-image: url("${l.image.s3SmallLink}");`:""},!l.image&&Object(d.h)("i",{class:"fas fa-dog text-muted mt-3",style:"font-size: 40px;"})),Object(d.h)("h5",{style:"padding-left: 35px;"},Object(d.h)(f.c,{id:"teams.edit"},"Endre"),": ",u))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col-12 my-3"},Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"w-100 overflow-hidden"},Object(d.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-info-circle"})," ",Object(d.h)(f.c,{id:"teams.info"},"Info"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"internet"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"internet",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-hashtag"})," ",Object(d.h)(f.c,{id:"teams.internet"},"Sosialemedier"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"pictures"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-images"})," ",Object(d.h)(f.c,{id:"teams.pictures"},"Pictures"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"dogs"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-users"})," ",Object(d.h)(f.c,{id:"teams.dogs-menu"},"Dogs"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"achievements"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-clock"})," ",Object(d.h)(f.c,{id:"teams.achievements"},"Achievements"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"links"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"links",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-link"})," ",Object(d.h)(f.c,{id:"teams.links"},"Links"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"descriptionWorkoutplan"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"descriptionWorkoutplan",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-link"})," ",Object(d.h)(f.c,{id:"teams.descriptionWorkoutplan"},"Workoutplan"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"sponsors"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"sponsors",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-link"})," ",Object(d.h)(f.c,{id:"teams.sponsors"},"Sponsors"))),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-cogs"})," ",Object(d.h)(f.c,{id:"teams.log"},"Advanced"))))))))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},"info"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"name",icon:"fas fa-heading",title:Object(d.h)(f.c,{id:"teams.name"},"Teamnavn"),help:Object(d.h)(f.c,{id:"teams.name-help"},"Navn på teamet. A-laget, B-laget, gjengen på tur, etc."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"description",icon:"fas fa-paragraph",type:"textarea",title:Object(d.h)(f.c,{id:"teams.description"},"Beskrivelse"),help:Object(d.h)(f.c,{id:"teams.description-help"},"Beskrivelse av teamet."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"address",icon:"fas fa-address-card",title:Object(d.h)(f.c,{id:"teams.address"},"Adresse"),help:Object(d.h)(f.c,{id:"teams.address-help"},"Adressen til teamet."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"postalcode",icon:"fas fa-address-card",title:Object(d.h)(f.c,{id:"teams.postalcode"},"Postnr"),help:Object(d.h)(f.c,{id:"teams.postalcode-help"},"Postnummer til teamet."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"place",icon:"fas fa-address-card",title:Object(d.h)(f.c,{id:"teams.place"},"Sted"),help:Object(d.h)(f.c,{id:"teams.place-help"},"Stedet til teamet."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"country",icon:"fas fa-address-card",datalist:h.map(e=>[e.name,e.name]),type:"select",title:Object(d.h)(f.c,{id:"teams.country"},"Land"),help:Object(d.h)(f.c,{id:"teams.country-help"},"Hjemlandet til teamet."),onInput:this.updateField}))),"descriptionWorkoutplan"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"descriptionWorkoutplan",icon:"fas fa-paragraph",type:"textarea",title:Object(d.h)(f.c,{id:"teams.descriptionWorkoutplan"},"Workoutplan description"),help:Object(d.h)(f.c,{id:"teams.descriptionWorkoutplan-help"},"Description of your workoutplan and philosophy."),onInput:this.updateField,rows:20}))),"sponsors"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"sponsors",icon:"fas fa-paragraph",type:"textarea",title:Object(d.h)(f.c,{id:"teams.sponsors"},"Sponsors"),help:Object(d.h)(f.c,{id:"teams.sponsors-help"},"List your sponsors."),onInput:this.updateField,rows:20}),Object(d.h)(I,{saved:r,team:l,field:"imagesSponsor",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.sponsor-photo"},"Sponsor logos"),help:Object(d.h)(f.c,{id:"teams.sponsor-photo-help"},"Logos from sponsors."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!0,addToImages:!1}))),"internet"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"url",icon:"fas fa-link",title:Object(d.h)(f.c,{id:"teams.url"},"Link til nettside"),help:Object(d.h)(f.c,{id:"teams.url-help"},"Link til nettside for teamet."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"facebook",icon:"fab fa-facebook",title:Object(d.h)(f.c,{id:"teams.facebook"},"Facebook"),help:Object(d.h)(f.c,{id:"teams.facebook-help"},"Link til Facebookside."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"instagram",icon:"fab fa-instagram",title:Object(d.h)(f.c,{id:"teams.instagram"},"Instagram"),help:Object(d.h)(f.c,{id:"teams.instagram-help"},"Instagram brukernavn."),onInput:this.updateField}),Object(d.h)(I,{saved:r,team:l,field:"snapchat",icon:"fab fa-snapchat",title:Object(d.h)(f.c,{id:"teams.snapchat"},"Snapchat"),help:Object(d.h)(f.c,{id:"teams.snapchat-help"},"Snapchat bruker."),onInput:this.updateField}))),"status"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{stores:this.props.stores,saved:r,team:l,field:"public",icon:"fas fa-eye",type:"toggle",title:Object(d.h)(f.c,{id:"teams.public"},"Synlig offentlig"),help:Object(d.h)(f.c,{id:"teams.public-help"},"Skal teamet være mulig å følge? Alle som vil følge må godkjennes av dere først."),onInput:this.updateField}),Object(d.h)(T,{stores:this.props.stores,saved:r,object:l,type:"number",field:"ambitions",title:Object(d.h)(f.c,{id:"teams.ambitions"},"Ambisjoner"),icon:"fas fa-hand-rock",help:Object(d.h)(f.c,{id:"teams.ambitions-help"},"Ambisjonsnivå til teamet."),updateField:this.updateFieldValue}),Object(d.h)(D,{stores:this.props.stores,saved:r,object:l,type:"number",field:"type",title:Object(d.h)(f.c,{id:"teams.type"},"Type"),icon:"fas fa-dog",help:Object(d.h)(f.c,{id:"teams.type-help"},"Type team"),updateField:this.updateFieldValue}))),"pictures"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"imageHeader",type:"image",showImages:!1,addToImages:!1,stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.header-photo"},"Toppbilde"),help:Object(d.h)(f.c,{id:"teams.header-photo-help"},"Bilde av teamet."),onInput:this.updateField,updateField:this.updateFieldValue}),Object(d.h)(I,{saved:r,team:l,field:"imageOther",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.photo"},"Bilde"),help:Object(d.h)(f.c,{id:"teams.photo-help"},"Bilder av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!0}),Object(d.h)(I,{saved:r,team:l,field:"image",type:"image",icon:"fas fa-portrait",stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.profile-photo"},"Profilbilde"),help:Object(d.h)(f.c,{id:"teams.profile-photo-help"},"Profilbilde av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!1}))),"dogs"===a&&Object(d.h)(e,null,Object(d.h)(y.a,{stores:this.props.stores,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",saved:l.saved,object:{dogs:c.map(e=>e.id)},title:Object(d.h)(f.c,{id:"teams.dogs"},"Hunder"),help:Object(d.h)(f.c,{id:"teams.dogs-help"},"Hvilke hunder er med i teamet?"),updateField:this.updateDogTeam,filter:this.dogFilter,showPositions:!1})),"achievements"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"achievements",type:"text",icon:"fas fa-clock",stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.achievements"},"Bragder"),help:Object(d.h)(f.c,{id:"teams.achievements-help"},"Bragder til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),"links"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"links",type:"text",icon:"fas fa-link",stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.links"},"Linker"),help:Object(d.h)(f.c,{id:"teams.links-help"},"Linker til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),"advanced"===a&&Object(d.h)(e,null,Object(d.h)(f.b,null,Object(d.h)(I,{saved:r,team:l,field:"files",type:"file",icon:"fas fa-file",stores:this.props.stores,title:Object(d.h)(f.c,{id:"teams.files"},"Files"),help:Object(d.h)(f.c,{id:"teams.files-help"},"Filer til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))))))}})||c;t.a=P}).call(this,s("hosL").Fragment)},Y3FI:function(e,t,s){"use strict";function a(e,t){for(var s in t)e[s]=t[s];return e}function i(e,t,s){var a,i=/(?:\?([^#]*))?(#.*)?$/,o=e.match(i),n={};if(o&&o[1])for(var l=o[1].split("&"),c=0;c<l.length;c++){var d=l[c].split("=");n[decodeURIComponent(d[0])]=decodeURIComponent(d.slice(1).join("="))}e=r(e.replace(i,"")),t=r(t||"");for(var h=Math.max(e.length,t.length),u=0;u<h;u++)if(t[u]&&":"===t[u].charAt(0)){var p=t[u].replace(/(^:|[+*?]+$)/g,""),m=(t[u].match(/[+*?]+$/)||g)[0]||"",b=~m.indexOf("+"),f=~m.indexOf("*"),O=e[u]||"";if(!O&&!f&&(m.indexOf("?")<0||b)){a=!1;break}if(n[p]=decodeURIComponent(O),b||f){n[p]=e.slice(u).map(decodeURIComponent).join("/");break}}else if(t[u]!==e[u]){a=!1;break}return(!0===s.default||!1!==a)&&n}function o(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function n(e,t){return e.index=t,e.rank=function(e){return e.props.default?0:(t=e.props.path,r(t).map(l).join(""));var t}(e),e.props}function r(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function l(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}function c(){var e;return""+((e=O&&O.location?O.location:O&&O.getCurrentLocation?O.getCurrentLocation():"undefined"!=typeof location?location:j).pathname||"")+(e.search||"")}function d(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=v.length;t--;)if(v[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),O&&O[t]?O[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),h(e)}function h(e){for(var t=!1,s=0;s<v.length;s++)!0===v[s].routeTo(e)&&(t=!0);for(var a=y.length;a--;)y[a](e);return t}function u(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),s=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!s||s.match(/^_?self$/i)))return d(t)}}function p(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button))return u(e.currentTarget||e.target||this),m(e)}function m(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function b(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(u(t))return m(e)}}while(t=t.parentNode)}}s.r(t),s.d(t,"subscribers",(function(){return y})),s.d(t,"getCurrentUrl",(function(){return c})),s.d(t,"route",(function(){return d})),s.d(t,"Router",(function(){return k})),s.d(t,"Route",(function(){return S})),s.d(t,"Link",(function(){return x})),s.d(t,"exec",(function(){return i}));var f=s("hosL"),g={},O=null,v=[],y=[],j={},w=!1,k=function(e){function t(t){e.call(this,t),t.history&&(O=t.history),this.state={url:t.url||c()},w||("function"==typeof addEventListener&&(O||addEventListener("popstate",(function(){h(c())})),addEventListener("click",b)),w=!0)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){var t=Object(f.toChildArray)(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){v.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;O&&(this.unlisten=O.listen((function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))}))),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),v.splice(v.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,s){return e.filter(n).sort(o).map((function(e){var o=i(t,e.props.path,e.props);if(o){if(!1!==s){var n={url:t,matches:o};return a(n,o),delete n.ref,delete n.key,Object(f.cloneElement)(e,n)}return e}})).filter(Boolean)},t.prototype.render=function(e,t){var s=e.children,a=e.onChange,i=t.url,o=this.getMatchingChildren(Object(f.toChildArray)(s),i,!0),n=o[0]||null,r=this.previousUrl;return i!==r&&(this.previousUrl=i,"function"==typeof a&&a({router:this,url:i,previous:r,active:o,current:n})),n},t}(f.Component),x=function(e){return Object(f.createElement)("a",a({onClick:p},e))},S=function(e){return Object(f.createElement)(e.component,e)};k.subscribers=y,k.getCurrentUrl=c,k.route=d,k.Router=k,k.Route=S,k.Link=x,k.exec=i,t.default=k},YOUI:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(6).then(function(){var t=s("uhDy");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},YdX6:function(e,t,s){"use strict";(function(e){function a(e,t){if(t){if(c.indexOf(t.status)>-1)return"danger";if(d.indexOf(t.status)>-1)return"warning"}if(e){if(e.distanceKm>50)return"danger";if(e.distanceKm>30)return"warning"}return"success"}var i,o=s("hosL"),n=s("Utv1"),r=s("/eY4"),l=s("ZOvn");const c=[2,9],d=[4,8];let h=Object(r.a)(i=class extends o.Component{render(){const{dog:t,showWorkout:s,showTeam:i,showNeeds:r,showInfo:c,showName:d=!0,showPosition:h=!0,showAge:u=!1,className:p,size:m}=this.props,{userStore:b,dogStore:f}=this.props.stores,{user:g}=b,{language:O="en"}=g;if(!t)return"small"===m?Object(o.h)("div",{class:"mb-1 position-relative "+p,style:"width: 50px;"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto"},Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"}," ")),d&&Object(o.h)("div",{class:"text-center"}," ")):"medium"===m?Object(o.h)("div",{class:"mb-1 position-relative "+p,style:"width: 60px;"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto"},Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 25px;"}," ")),d&&Object(o.h)("div",{class:"text-center"}," ")):Object(o.h)("div",{class:"mb-2 position-relative "+p,style:"width: 92px;"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2  mx-auto"},Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"}," ")),d&&Object(o.h)("div",{class:"text-center"}," "));const v=b.findDogstatus({status:t.status,language:O}),y=b.findDogposition({position:t.position,language:O}),j=f.findCurrentWorkoutSummary(t.id),w=l.a.hasBirthday(t.birth),k=Math.ceil(l.a.daysUntilNextBirthday(t.birth));return"small"===m?Object(o.h)("div",{class:"mb-1 position-relative "+p,style:"width: 50px;"},Object(o.h)("div",{class:`text-center border border-${a(j,t)} rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2`,style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},n.a.ucfirst(t.name,!0)))):"medium"===m?Object(o.h)("div",{class:"mb-1 position-relative "+p,style:"width: 60px;"},Object(o.h)("div",{class:`text-center border border-${a(j,t)} rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2`,style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},n.a.ucfirst(t.name,!0)))):Object(o.h)("div",{class:"mb-2 position-relative "+p,style:"width: 92px;"},h&&y&&Object(o.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(o.h)("span",{class:`badge badge-${y.class||"primary"} mr-3`},y.icon&&Object(o.h)("i",{class:y.icon})," ",y.name)),Object(o.h)("div",{class:`text-center border border-${a(j,t)} rounded-circle imageRounded mx-auto text-muted pt-2`,style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(t.name,!0))),Object(o.h)("div",{class:"text-center",style:"line-height: 1.0em;"},Object(o.h)("small",null,d&&Object(o.h)("a",{class:"stretched-link",href:"/dogs/"+t.id},Object(o.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},t.shortname||t.name,w&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),t.birth&&u&&Object(o.h)(e,null,Object(o.h)("span",null,k<7&&Object(o.h)(e,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",k," days")),t.birth&&Object(o.h)("span",{class:"mr-2"},n.a.age(t.birth,t.deceased)),"female"===t.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"}))),i&&Object(o.h)(e,null,Object(o.h)("span",{class:"font-weight-light"},b.findTeam(t.team)),Object(o.h)("br",null)),s&&Object(o.h)("small",{class:"text-muted"},j&&j.distanceKm>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-road"})," ",n.a.format(j.distanceKm,0),"km"),j&&j.elevation>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",n.a.format(j.elevation,0),"m"),j&&j.duration>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(j.duration,!0)),j&&j.speedAvg>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",n.a.format(j.speedAvg,1),"km/t")),c&&Object(o.h)("small",{class:"text-muted"},t.weight&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",n.a.format(t.weight,1)," kg"),t.bodyScore&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(t.bodyScore,1))),r&&Object(o.h)("div",{class:"clearfix pb-0 pt-1"},t.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning mr-2"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",t.specialNeeds),v&&Object(o.h)("span",{class:`badge badge-${v.class} mr-2`},v.icon&&Object(o.h)("i",{class:v.icon})," ",v.name)))))}})||i;t.a=h}).call(this,s("hosL").Fragment)},YiSQ:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=s("OhSV"),r=(s("ZOvn"),s("bbv7"));let l=Object(o.a)(a=class extends i.Component{render(){const{dogStore:t}=this.props.stores,{graphFitness:s,graphFatigue:a,graphForm:o}=t,l=o.map(e=>e.date),c=Math.floor(l.length/4),d=[];for(let e=0,t=l.length;e<t;e+=c)d.push(l[e]);return d[d.length-1]=l[l.length-1],Object(i.h)(e,null,Object(i.h)("h5",null,Object(i.h)(n.c,{id:"teams.fitness"},"Form og belastning")),Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(n.b,null,Object(i.h)(r.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicks:d,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:[s,a],dataFillLeft:[1],legendLeft:[Object(i.h)(n.c,{id:"teams.legend-fitness"},"Fitness"),Object(i.h)(n.c,{id:"teams.legend-fatigue"},"Fatigue")],dataRight:[o],legendRight:[Object(i.h)(n.c,{id:"teams.legend-form"},"Form")],showYTicksLeft:1,avgWindowLeft:[0,0],smoothLeft:[0,0],showYTicksRight:1,scrollToRight:!0}))))}})||a;t.a=l}).call(this,s("hosL").Fragment)},Ysxg:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("UUHd");s("ZOvn");const h={showAddComment:{},showAllComments:!1,showAllReplies:{}};let u=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,{race:i}=t.props,{raceStore:o}=t.props.stores,n=await o.likeRaceComment({id:i.id,commentId:a});return n&&200===n.status&&s({race:i,commentId:a,response:n}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,i=e.target.parentElement.dataset.comment||e.target.dataset.comment,{race:o}=t.props,{raceStore:n}=t.props.stores,r=await n.likeRaceCommentReply({id:o.id,replyId:a,commentId:i});r&&200===r.status&&s({race:o,commentId:i,response:r})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:a}=this.state,{race:i,callback:o=(()=>{}),col:l=12,offset:h=0,compact:u=!1}=this.props,{userStore:p}=this.props.stores,{user:m}=p;let b=[],f=0,g=0;if(i.comments){if(f=i.comments.length,s)b=i.comments;else{b=i.comments.slice(Math.max(f-(u?0:2),0))}g=b.length}return Object(n.h)("div",{class:`col-${l} offset-${h} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3`},s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 mb-2",onClick:this.toggleComments},Object(n.h)(c.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))),i&&b&&b.reverse().map(s=>{const{user:l={}}=s,h=l.firstname?`${r.a.ucfirst(l.firstname,!0)}${r.a.ucfirst(l.lastname,!0)}`:""+r.a.ucfirst(l.email||"",!0),u=l.firstname?`${l.firstname} ${l.lastname}`:""+l.email,p=l.image||(l.images?l.images[0]:void 0),b=s.likes&&s.likes.findIndex(e=>e.user===m.id)>-1;let f=[],g=0,O=0;return s.comments&&(g=s.comments.length,f=a[s.id]?s.comments:s.comments.slice(0,void 0),O=f.length),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(p?`background-image: url("${p.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!l.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},u),s.comment),Object(n.h)("small",null,m.email&&Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(b?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(n.h)(c.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(c.c,{id:"comments.comment-reply"},"Reply")),"-"),Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"})))),s.likes&&s.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},s&&f&&f.map(t=>{const{user:a={}}=t,i=a.firstname?`${r.a.ucfirst(a.firstname,!0)}${r.a.ucfirst(a.lastname,!0)}`:""+r.a.ucfirst(a.email||"",!0),o=a.firstname?`${a.firstname} ${a.lastname}`:""+a.email,l=a.image||(a.images?a.images[0]:void 0),d=t.likes&&t.likes.findIndex(e=>e.user===m.id)>-1;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(l?`background-image: url("${l.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},i)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},o),t.comment),Object(n.h)("small",null,m.email&&Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(d?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id},Object(n.h)(c.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(c.c,{id:"comments.comment-reply"},"Reply")),"-"),Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),g-O>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(n.h)(c.c,{id:"comments.show-more",fields:{more:g-O}},"Vis ",g-O," flere kommentarer...")))),t[s.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(d.a,{stores:this.props.stores,race:i,callback:o,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e})))}),f-g>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(c.c,{id:"comments.show-more",fields:{more:f-g}},"Vis ",f-g," flere kommentarer..."))),s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(c.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||o;t.a=u}).call(this,s("hosL").Fragment)},Z67O:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function n(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var r,l,c,d,h,u,p,m=s("cneo"),b=s("0frO"),f=s("Utv1"),g=s("Y3FI"),O=s("X9Km"),v=s("ZOvn");Object(m.f)({enforceActions:"always"});const y=new(l=n((r=class extends b.a{constructor(){super("message",{namePlural:"messages",sort:"createdDate",limit:100,api:{search:{url:"/api/messags/",params:{limit:15,sort:"createdDate"}},load:{url:"/api/messages/",params:{}},save:{url:"/api/messages/",params:{}}}}),o(this,"newMessage",l,this),o(this,"unread",c,this),o(this,"message",d,this),o(this,"conversationUser",h,this),o(this,"messages",u,this),o(this,"users",p,this)}localUpdateField(e,t){this[e]=t}removeImageLocal({id:e,name:t}){if(f.a.isArray(this.ad.images)){const e=this.ad.images.findIndex(e=>e.name===t);e>-1&&this.ad.images.splice(e,1)}const s=this.ads.findIndex(t=>t.id===e);if(s>-1){const e=this.ads[s].images.findIndex(e=>e.name===t);e>-1&&this.ads[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await f.a.fetchApi("/api/ads/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}async getUnReadMessages(){const e=await f.a.fetchApi("/api/messages/unread",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("unread",e.data),e.data>0&&v.a.tapticNotification("success"),e;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}async loadUsers({search:e,limit:t}){this.localUpdateField("users",[]);const s=await f.a.fetchApi("/api/messages/users",{publish:!0,method:"GET"},{search:e,limit:t});switch(s.status){case 200:return this.localUpdateField("users",s.data),s;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}async sendMessage({message:e,to:t}){const s=await f.a.fetchApi(`/api/messages/${t}/new`,{publish:!0,method:"POST"},function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e));switch(s.status){case 201:return this.localUpdateField("messages",s.data),s;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}async loadConversation({to:e}){this.localUpdateField("messages",[]),this.localUpdateField("conversationUser",[]);const t=await f.a.fetchApi("/api/messages/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.localUpdateField("messages",t.data),t.included&&t.included.user&&this.localUpdateField("conversationUser",t.included.user),t;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}async loadConversationList({search:e,limit:t}){const s=await f.a.fetchApi("/api/messages/",{publish:!0,method:"GET"},{search:e,limit:t});switch(s.status){case 200:return this.localUpdateField("users",s.data),s;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}localMarkAsRead(e={}){f.a.isArray(this.messages)&&this.messages.filter(t=>t.user===e.uuidv4).forEach(e=>{e.readDate||(e.readDate=new Date)})}async markAsRead({to:e,user:t}){const s=await f.a.fetchApi(`/api/messages/${e}/markallread`,{publish:!0,method:"GET"},{});switch(s.status){case 202:return this.localMarkAsRead({to:e}),this.getUnReadMessages(t),s;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}addLikeToMessage({messageId:e,data:t}){const s=this.messages.findIndex(t=>t.uuidv4===e);if(s>-1){const e=this.messages[s];f.a.isUndefined(e.likes)&&(e.likes=[]),e.likes.push(t)}}async likeMessage({messageId:e}){const t=await f.a.fetchApi(`/api/messages/${e}/like`,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.addLikeToMessage({messageId:e,data:t.data}),v.a.tapticWeakBoom(),t;case 401:O.a.publish(O.b.LOG_OUT),Object(g.route)("/",!0)}}}).prototype,"newMessage",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=n(r.prototype,"unread",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=n(r.prototype,"message",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=n(r.prototype,"conversationUser",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=n(r.prototype,"messages",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=n(r.prototype,"users",[m.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n(r.prototype,"localUpdateField",[m.c],Object.getOwnPropertyDescriptor(r.prototype,"localUpdateField"),r.prototype),n(r.prototype,"removeImageLocal",[m.c],Object.getOwnPropertyDescriptor(r.prototype,"removeImageLocal"),r.prototype),n(r.prototype,"localMarkAsRead",[m.c],Object.getOwnPropertyDescriptor(r.prototype,"localMarkAsRead"),r.prototype),n(r.prototype,"addLikeToMessage",[m.c],Object.getOwnPropertyDescriptor(r.prototype,"addLikeToMessage"),r.prototype),r);t.a=y},Z8Zw:function(e,t,s){"use strict";var a=s("hosL");t.a=class extends a.Component{render(){return Object(a.h)("div",{class:"fixed-top text-center",style:"padding-top: 90px;"},Object(a.h)("div",{class:"spinner-border text-primary",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")))}}},ZC4H:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e="",t,s="en"){if(c.a.isString(e)){let a=e;const i=new RegExp(`<${s}>(.*?)</${s}>`,"s").exec(a);if(i){const e=i[1];e&&(a=e)}return a.replace(/\{\{img\.(\d+)\s*(\d*)\}\}/g,(function(e,s,a){return c.a.isObject(t[s])?`<img src=${t[s].s3XXLargeLink} class='img-fluid float-right' style='width: ${a||40}%;' />`:""}))}return e}var n,r=s("hosL"),l=s("QRet"),c=s("Utv1"),d=s("/eY4"),h=s("OhSV"),u=s("fh8t"),p=s.n(u),m=(s("RMlE"),s("8gML"),s("5l0g")),b=(s("3kDq"),s("aGZh"),s("vme8")),f=s("/V/i"),g=s("wanP"),O=s("ZOvn");O.a.marginTop(!0,!0),O.a.marginBottom();const v={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},y={isLoading:!1,email:"",submenu:"ads",jwtToken:c.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0};let j=Object(d.a)(n=class extends r.Component{constructor(e){super(e),this.setLeaderboardMode=e=>{this.setState({leaderboardMode:e.target.parentElement.dataset.mode||e.target.dataset.mode})},this.chooseRaceClass=e=>{this.setState({filterByraceClass:e.target.value})},this.toggleShowLeaderBoard=e=>{const{showLeaderBoard:t}=this.state;this.setState(!0===e?{showLeaderBoard:!1}:{showLeaderBoard:!t})},this.toggleShowNews=e=>{const{showNews:t}=this.state;this.setState(!0===e?{showNews:!1}:{showNews:!t})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},y),this.updateTimer={}}async loadRace(e=this.props){var t=this;this.setState({isLoading:!0});const{raceStore:s,appState:a}=e.stores,{raceid:i}=e;await s.load(i);const{race:o}=s,{focusOnMushers:n}=a,r=o.classes.map(e=>{if(e.contestants)return e.contestants.map(e=>e.team)});r.length>0&&(await s.loadTeams(r.join(",")),await s.loadWorkoutSummary(r.join(","),i),s.getWorkoutSummaryActiveTeams(n)),s.getAllClassesSortedBy();const l=Math.floor((new Date).getTime()/1e3);this.setState({reloadIsActive:!0,reloadLastEpoch:l},()=>this.tickReloadTimeer()),clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((async function(){const e=Math.floor((new Date).getTime()/1e3);t.setState({reloadLastEpoch:e}),t.loadRace()}),6e4),this.setState({isLoading:!1})}tickReloadTimeer(){const{reloadIsActive:e,reloadLastEpoch:t}=this.state;if(e){const e=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(e-t)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace();const{width:e}=function(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}();e<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))}componentWillReceiveProps(e){this.loadRace(e)}render(){const{appState:t,raceStore:s,userStore:a}=this.props.stores,{user:i={}}=a,{raceid:n}=this.props,{language:d="en",focusOnMushers:u=[],infoOnMushers:O=[]}=t,{reloadInSec:y,leaderboardMode:j,filterByraceClass:w,showLeaderBoard:k,showNews:x}=this.state,S=Math.floor(c.a.normalizeBetween(y,0,60,0,100)),{activeTeams:_,teamList:T,waypoints:D,zoomToMarkers:I,race:P,classes:L}=s;return Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid h-100 position-relative p-0"},Object(r.h)(m.a,{stores:this.props.stores,raceid:n,waypoints:D,zoomToMarkers:I,fullscreenMap:!0}),Object(r.h)("div",{class:"position-absolute",style:"top: 15px; left: 5px; z-index: 99999999;"},Object(r.h)("div",{class:"logo ml-3 clearfix text-white"},Object(r.h)("img",{src:"./assets/homerun-race-logo-2-small.png",height:"37",class:"float-left"}),Object(r.h)("a",{href:"/race/"+P.id},Object(r.h)("span",{class:"font-weight-bold text-dark",style:"font-size: 1.4em;"},"Homerun Race")))),!k&&Object(r.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 99999999; width: 150px; height: 50px;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-light",onClick:this.toggleShowLeaderBoard},y>0&&Object(r.h)("span",{class:"float-right ml-2"},Object(r.h)(g.a,{key:"gauge-reload-page",color:"primary",radius:13,showPercentText:!1,percent:S,showCenterText:!0,centerText:y,centerTextSize:11,centerTextY:"55%"})),Object(r.h)("span",{class:"float-left"},"Leaderboard"))),!x&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 40px; right: 5px; z-index: 99999999; width: 150px; height: 50px;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-primary float-right",onClick:this.toggleShowNews},Object(r.h)("span",{class:"float-left"},"News"))),x&&P&&P.articles&&P.articles&&P.articles.length>0&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 50px; right: 5px; z-index: 99999999; width: 350px; height: 40vh;"},Object(r.h)("div",{class:"container-fluid bg-light rounded-lg py-2 overflow-auto mt-2",style:"opacity: 0.9; height: 90%;"},Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-12 bg-primary text-white"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-danger float-right",onClick:this.toggleShowNews},"X"),"News"),Object(r.h)("div",{class:"col-12 bg-light"},P&&P.articles&&P.articles.reverse().map(e=>Object(r.h)("div",{class:"border-bottom mb-2 pb-2 clearfix"},Object(r.h)("small",{class:"text-muted float-right"},c.a.formatDate(e.date,{locale:d,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(r.h)("h5",null,o(e.title,e.images,d)),e.image&&Object(r.h)("img",{src:e.image.s3LargeLink,class:"float-right rounded-lg ml-2",style:"height: 100px;"}),e.ingress&&Object(r.h)("strong",null,Object(r.h)(p.a,{markdown:o(e.ingress,e.images,d),markdownOpts:v})),e.body&&Object(r.h)("p",null,Object(r.h)(p.a,{markdown:o(e.body,e.images,d),markdownOpts:v})))))))),k&&Object(r.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 99999999; width: 350px; height: 90vh;"},Object(r.h)("div",{class:"container-fluid bg-light rounded-lg py-2 overflow-auto mt-2",style:"opacity: 0.9; height: 90%;"},Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-12"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link float-right",onClick:this.toggleShowLeaderBoard},"X"),y>0&&Object(r.h)("div",{class:"float-right"},Object(r.h)(g.a,{key:"gauge-reload-page",color:"primary",radius:15,showPercentText:!1,percent:S,showCenterText:!0,centerText:y,centerTextSize:13,centerTextY:"55%"})),Object(r.h)("h5",{class:"mb-0"},"Leaderboard"),function(e,t="",s=""){return Object(l.d)(()=>{document.title="Homerun Race: "+e},[e]),Object(r.h)("span",{class:t,style:s},e)}(P.title,"font-weight-normal text-dark","font-size: 1.0em;"),Object(r.h)("select",{class:"form-control-plaintext","aria-describedby":"classHelp",onInput:this.chooseRaceClass},Object(r.h)("option",{value:""},"-- Choose class --"),P.classes&&P.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," (",t.totalMushers,")")))),Object(r.h)("ul",{class:"mt-2 nav nav-tabs nav-justified tracking-nav"},Object(r.h)("li",{class:"nav-item",style:"width: 33%;"},Object(r.h)("a",{class:"nav-link "+("mushers"===j?"active":""),onClick:this.setLeaderboardMode,"data-mode":"mushers"},Object(r.h)(h.c,{id:"races.mushers"},"Deltakere"))),Object(r.h)("li",{class:"nav-item",style:"width: 33%;"},Object(r.h)("a",{class:"nav-link "+("onTrail"===j?"active":""),onClick:this.setLeaderboardMode,"data-mode":"onTrail"},Object(r.h)(h.c,{id:"races.on-trail"},"På sporet nå"))),Object(r.h)("li",{class:"nav-item",style:"width: 33%;"},Object(r.h)("a",{class:"nav-link "+("favorites"===j?"active":""),onClick:this.setLeaderboardMode,"data-mode":"favorites"},Object(r.h)(h.c,{id:"races.favorites"},"Favoritter")))))),"mushers"===j&&Object(r.h)(e,null,P.classes&&P.classes.sort((e,t)=>e.distance-t.distance).filter(e=>!w||w===e.id).map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-2 bg-primary text-white"},Object(r.h)("div",{class:"col-12"},Object(r.h)("h5",{class:"m-0"},t.title))),L[t.id]&&L[t.id].contestants&&L[t.id].contestants.map((t,s)=>{const{currentTeam:a}=t;return Object(r.h)(e,null,Object(r.h)(f.a,{stores:this.props.stores,team:a,idx:s}))})))),"favorites"===j&&Object(r.h)(e,null,u&&u.length>0?u.map((e,t)=>{const a=s.getTeamById(e);return Object(r.h)(f.a,{stores:this.props.stores,team:a,idx:t})}):Object(r.h)(e,null,Object(r.h)("div",{class:"p-2 text-center"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"races.no-teams-signed-up"},"Ingen team påmeldt ennå..."))))),"onTrail"===j&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-muted text-center bg-light"},Object(r.h)(h.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",_.length),_&&_.length>0?_.filter(e=>{if(w){const t=s.getClassByTeamId(e.team);return w===t.id}return!0}).map((e,t)=>{const a=s.getTeamById(e.team);return Object(r.h)(f.a,{stores:this.props.stores,team:a,idx:t})}):Object(r.h)(e,null,Object(r.h)("div",{class:"p-2 text-center"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå..."))))))),O&&O.length>0&&T&&T.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"position-absolute overflow-auto",style:"top: 15px; right: 55px; z-index: 99999999; max-width: 830px; max-height: 90%;"},Object(r.h)("div",{class:""},Object(r.h)("div",{class:"d-flex flex-wrap"},O.map(e=>Object(r.h)(b.a,{stores:this.props.stores,teamId:e}))))))))}})||n;t.a=j}).call(this,s("hosL").Fragment)},ZOvn:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o=s("Utv1");const n=[0,6],r={no:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],es:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],de:["Sun","Mon","Die","Mit","Don","Fre","Sam"]},l={no:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],es:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],de:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},c={no:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],es:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],de:["Jän","Feb","Mär","Apr","May","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},d={navy:"#001f3f",aqua:"#7FDBFF",teal:"#39CCCC",olive:"#3D9970",green:"#2ECC40",lime:"#01FF70",yellow:"#FFDC00",orange:"#FF851B",red:"#FF4136",maroon:"#85144b",fuchsia:"#F012BE",purple:"#B10DC9",gray:"#AAAAAA",silver:"#DDDDDD",alertRed:"#FF0000ff",alertScarlet:"#FF2000ff",alertRedOrange:"#FF4000ff",alertSafetyOrange:"#FF6000ff",alertOrange:"#FF8000ff",alertOrangePeel:"#FF9F00ff",alertAmber:"#FFBF00ff",alertGoldenYellow:"#FFDF00ff",alertLemonGlacier:"#FFFF00ff",vermilion:"#E60000ff",vermilion2:"#E61D00ff",coquelicot:"#E63A00ff",persimmon:"#E65600ff",princetonOrange:"#E67300ff",harvestGold:"#E59000ff",goldenrod:"#E5AD00ff",safetyYellow:"#E5C900ff",xanthic:"#E5E600ff",blue:"#0000E6ff",blue2:"#1C0FE5ff",blue3:"#391FE4ff",hanPurple:"#552EE3ff",blueViolet:"#713DE2ff",purpleX11:"#8E4DE2ff",mediumOrchid:"#AA5CE1ff",frenchMauve:"#C66BE0ff",orchid:"#E37BDFff",persianPink:"#FF8ADEff",neonGreen:"#00E600ff",limeGreen:"#00CD17ff",yellowGreen:"#00B42Eff",greenPigment:"#009C46ff",spanishViridian:"#00835Dff",ming:"#006A74ff",usafaBlue:"#00518Bff",egyptianBlue:"#0039A3ff",bluePantone:"#0020BAff",mediumBlue:"#0007D1ff"},h={other:"limeGreen",update:"yellowGreen",newStraw:"greenPigment",clawClip:"spanishViridian",bodyScore:"ming",weight:"usafaBlue",maturity:"blue",mating:"blue3",vaccine:"blueViolet",deworming:"mediumOrchid",veterinarianVisit:"persianPink",fight:"vermilion",injury:"coquelicot",sick:"persimmon",unwantedMating:"princetonOrange",stoolProblem:"harvestGold",diarrhea:"goldenrod",foodLeftover:"xanthic",massage:"egyptianBlue",animalchiropractor:"bluePantone"},u=["fight","injury","sick","unwantedMating","stoolProblem","diarrhea","foodLeftover"],p=["maturity","mating","vaccine","deworming","veterinarianVisit"],m=["other","update","newStraw","clawClip","bodyScore","weight","massage","animalchiropractor"],b={no:{other:"Annet",maturity:"Løpetid",update:"Oppdatering",injury:"Skade",fight:"Slåsskamp",sick:"Syk",vaccine:"Vaksine",weight:"Veiing",veterinarianVisit:"Vetrinærbesøk",newStraw:"Ny halm/treull",clawClip:"Kloklipp",mating:"Parring",unwantedMating:"Tjuvparring",diarrhea:"Diarè",stoolProblem:"Avføringsproblem",deworming:"Ormekur",foodLeftover:"Ikke spist opp maten",bodyScore:"Bodyscore",massage:"Massasje",animalchiropractor:"Dyrekiropraktor"},en:{other:"Other",maturity:"On heat",update:"Update",injury:"Injury",fight:"Fight",sick:"Sick",vaccine:"Vaccine",weight:"Weight",veterinarianVisit:"Veterinarian Visit",newStraw:"New Straw",clawClip:"Claw Clip",mating:"Mating",unwantedMating:"Unwanted Mating",diarrhea:"Diarrhea",stoolProblem:"Stool Problem",deworming:"Deworming",foodLeftover:"Food Leftover",bodyScore:"BodyScore",massage:"Massage",animalchiropractor:"Animal chiropractor"},es:{other:"Otro",maturity:"En celo",update:"Actualizaciones",injury:"Lesión",fight:"Pelea",sick:"Enfermo",vaccine:"Vacunas",weight:"Control del peso",veterinarianVisit:"Visita veterinaria",newStraw:"Paja nueva",clawClip:"Cortar las uñas",mating:"Cruzamiento",unwantedMating:"Cruza no deseada",diarrhea:"Diarrea",stoolProblem:"Problemas con las heces",deworming:"Desparasitación",foodLeftover:"No terminó de comer",bodyScore:"Bodyscore",massage:"Masaje",animalchiropractor:"Quiropráctico"},de:{other:"Andere",maturity:"Läufigkeit",update:"Aktualisierung",injury:"Verletzung",fight:"Kampf",sick:"Erkrankung",vaccine:"Impfung",weight:"Wiegen",veterinarianVisit:"Tierarztbesuch",newStraw:"Frisches Stroh",clawClip:"Klauen geschnitten",mating:"Parung",unwantedMating:"Ungewollte Parung",diarrhea:"Durchfall",stoolProblem:"Stuhlproblem",deworming:"Entwurmung",foodLeftover:"Hat nicht alles aufgefressen",bodyScore:"BodyScore",massage:"Massage",animalchiropractor:"Tier Chiropraktiker"}},f={rabies:{name:"Rabies (3 år)",duration:1095},deworming:{name:"Ormekur - reise",duration:28},BbPi:{name:"BbPi - Nesevaksine (1 år)",duration:365},DHP:{name:"DHP (3 år)",duration:1095},DHPPi:{name:"DHPPi (3 år)",duration:1095}},g=[{id:1,name:"Nobivac BbPi nasal",agens:[{name:"Parainfluensa",durationMonths:12,karensDays:42},{name:"Bordetella",durationMonths:12,karensDays:42},{name:"Bronchioseptica",durationMonths:12,karensDays:42}],image:"/images/nobivac-BbPi.jpg"},{id:3,name:"Nobivac DHP",agens:[{name:"Valpesyke",durationMonths:36,karensDays:14},{name:"Hepatitt",durationMonths:36,karensDays:14},{name:"Parvovirus",durationMonths:36,karensDays:14}],image:"/images/nobivac-DHP.jpg"},{id:4,name:"Nobivac DHPPi",agens:[{name:"Valpesyke",durationMonths:36,karensDays:14},{name:"Hepatitt",durationMonths:36,karensDays:14},{name:"Parvovirus",durationMonths:36,karensDays:14},{name:"Parainfluensa",durationMonths:12,karensDays:14}],comment:"3 år valpesyke, hepatitt og parvovirus, 12 mnd parainfluensa",image:"/images/nobivac-DHPPi.jpg"},{id:5,name:"Nobivac Pi",agens:[{name:"Parainfluensa",durationMonths:12,karensDays:14}],image:"/images/nobivac-Pi.jpg"},{id:2,name:"Versican Plus Bb oral",agens:[{name:"Bordetella",durationMonths:12,karensDays:42},{name:"Bronchioseptica",durationMonths:12,karensDays:42}],image:"/images/versican-plus-Bb-oral.jpg"},{id:6,name:"Versican Plus DHPPi",agens:[{name:"Valpesyke",durationMonths:36,karensDays:14},{name:"Hepatitt",durationMonths:36,karensDays:14},{name:"Parvovirus",durationMonths:36,karensDays:14},{name:"Parainfluensa",durationMonths:12,karensDays:14}],comment:"3 år valpesyke, hepatitt og parvovirus 12 mnd parainfluensa",image:"/images/versican-plus-DHPPi.jpg"},{id:7,name:"Versican Plus Pi",agens:[{name:"Parainfluensa",durationMonths:12,karensDays:14}],image:"/images/versican-plus-Pi.jpg"}],O={founder:"./assets/trophys/signup-founder.png",veryEarlyUser:"./assets/trophys/signup-very-early.png",earlyUser:"./assets/trophys/signup-early.png","2020-2021-100km":"./assets/trophys/2020-2021-100km.png","2020-2021-250km":"./assets/trophys/2020-2021-250km.png","2020-2021-500km":"./assets/trophys/2020-2021-500km.png","2020-2021-1000km":"./assets/trophys/2020-2021-1000km.png","2020-2021-1500km":"./assets/trophys/2020-2021-1500km.png","2020-2021-2000km":"./assets/trophys/2020-2021-2000km.png","2020-2021-2500km":"./assets/trophys/2020-2021-2500km.png","2020-2021-3000km":"./assets/trophys/2020-2021-3000km.png","2020-2021-3500km":"./assets/trophys/2020-2021-3500km.png","2020-2021-4000km":"./assets/trophys/2020-2021-4000km.png","2020-2021-everest-x1":"./assets/trophys/2020-2021-everest-x1.png","2020-2021-everest-x5":"./assets/trophys/2020-2021-everest-x5.png","2020-2021-everest-x10":"./assets/trophys/2020-2021-everest-x10.png","2021-2022-100km":"./assets/trophys/2021-2022-100km.png","2021-2022-250km":"./assets/trophys/2021-2022-250km.png","2021-2022-500km":"./assets/trophys/2021-2022-500km.png","2021-2022-1000km":"./assets/trophys/2021-2022-1000km.png","2021-2022-1500km":"./assets/trophys/2021-2022-1500km.png","2021-2022-2000km":"./assets/trophys/2021-2022-2000km.png","2021-2022-2500km":"./assets/trophys/2021-2022-2500km.png","2021-2022-3000km":"./assets/trophys/2021-2022-3000km.png","2021-2022-3500km":"./assets/trophys/2021-2022-3500km.png","2021-2022-4000km":"./assets/trophys/2021-2022-4000km.png","2021-2022-everest-x1":"./assets/trophys/2021-2022-everest-x1.png","2021-2022-everest-x5":"./assets/trophys/2021-2022-everest-x5.png","2021-2022-everest-x10":"./assets/trophys/2021-2022-everest-x10.png"},v={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},y={},j=[];class w{static getDayColor(e,t){return n.indexOf(e)>-1?t?"#501515":"#ffdddd":""}static getTrainingColor(e,t){return e.distanceKm>0||e.distance>0?t?"#154015":"#aaffaa":""}static getPlanColor(e,t){return e.distanceKm>0||e.distance>0?t?"#0052cc":"#b3d1ff":""}static getHistoryTypeColor(e){const t=h[e];return"number"==typeof t?t:d[t]}static avgArr(e){return Array.isArray(e)&&e.length>0?e.reduce((e,t)=>e+t)/e.length:0}static getNextMonth(e,t){const s={month:e,year:t};return e+1>12?(s.month=1,s.year+=1):s.month+=1,s}static getPrevMonth(e,t){const s={month:e,year:t};return e-1<1?(s.month=12,s.year-=1):s.month-=1,s}static getNextWeek(e,t){const s={week:e,year:t};return e+1>53?(s.week=1,s.year+=1):s.week+=1,s}static getPrevWeek(e,t){const s={week:e,year:t};return e-1<1?(s.week=53,s.year-=1):s.week-=1,s}static getHistoryMap(e="no"){return b[e]?b[e]:b.en}static getVaccineTypes(){return f}static getVaccineTypesVet(){return g}static getHistoryPri(e){switch(e){case 1:return u;case 2:return p;case 3:return m;default:return u}}static speedAvg(e){let t=0;if(e.duration>0&&e.distanceKm>0){t=e.distanceKm/((e.duration-(e.rest||0))/3600)}return t}static getDays(e="no",t=!1){return t?l[e]?l[e]:l.en:r[e]?r[e]:r.en}static getMonths(e="no"){return c[e]?c[e]:c.en}static marginTop(e=!1,t=!1,s=!1){return t?"147px":e?"98px":"67px"}static marginTopBack(e=!1,t=!1,s=!1){return t?"127px":e?"97px":"61px"}static marginBottom(){return"200px"}static subMenuMarginTop(e,t=!1){return"66px"}static windDirection(e){return e>11.25&&e<33.75?"NNE":e>33.75&&e<56.25?"ENE":e>56.25&&e<78.75?"E":e>78.75&&e<101.25||e>101.25&&e<123.75?"ESE":e>123.75&&e<146.25?"SE":e>146.25&&e<168.75?"SSE":e>168.75&&e<191.25?"S":e>191.25&&e<213.75?"SSW":e>213.75&&e<236.25?"SW":e>236.25&&e<258.75?"WSW":e>258.75&&e<281.25?"W":e>281.25&&e<303.75?"WNW":e>303.75&&e<326.25?"NW":e>326.25&&e<348.75?"NNW":"N"}static getTemperatureColor(e){return e<=0?"text-primary":e<=10?"text-success":"text-danger"}static getWindSpeedColor(e){return e>10?"text-warning":e>20?"text-danger":""}static avg(e){return e.reduce((e,t)=>e+t,0)/e.length}static smoothOut(e,t){const s=w.avg(e)*t,a=[];for(let t=0;t<e.length;t+=1){a[t]=w.avg([s,w.avg([t>0?a[t-1]:e[t],e[t],t<e.length?e[t]:e[t-1]])])}return a}static smoothArray(e,t){const s=[];for(let a=0,i=e.length;a<i;a+=1){let i=0;for(let s=a-t;s<=a+t;s+=1){i+=e[s<0?s+e.length:s%e.length]}s[a]=i/(2*t+1)}return s}static maxLength(e,t,s=""){if("string"==typeof e){if(e.length>t){const a=e.substr(0,t).lastIndexOf(" ");return`${e.substr(0,a)}... ${s}`}return e}return e}static nl2p(e){return"string"==typeof e?e.split("\n\n"):[e]}static nl2br(e){return"string"==typeof e?e.split("\n"):[e]}static calcEcor(e,t=1){return(1.25+(s=e)/100*9.81*(45.6+1.16*s)/100)*t;var s}static calcKcal(e=1){return 1.25*e}static getLoadIndexText(e,t="en"){return e>=300?"Epic":e>=200?"Extreme":e>=150?"Massive":e>=100?"Tough":e>=80?"Very hard":e>=70?"Hard":e>=60?"Above normal":e>40?"Normal":e>30?"Easy":"Very easy"}static getLoadIndexColor(e,t="en"){return e>=100?"danger":e>=80||e>=70?"primary":e>=60||e>40?"success":e>30?"info":"primary"}static getMaxLoadIndex(){return 200}static getNormalSpeed(){return 13}static getElevationThreshold(){return 3}static getWindowSize(){return 20}static displayNameShort(e={}){let t;if(!e)return"";if(o.a.isString(e.firstname)&&""!==e.firstname)t=`${o.a.ucfirst(e.firstname,!0)}${o.a.ucfirst(e.lastname,!0)}`;else if(o.a.isString(e.name)&&""!==e.name){const s=e.name.split(/[^A-Za-z]/);t=`${o.a.ucfirst(s[0]||"",!0)}${o.a.ucfirst(s[1]||"",!0)}`}else if(o.a.isString(e.username)&&""!==e.username){const s=e.username.split(/[^A-Za-z]/);t=`${o.a.ucfirst(s[0]||"",!0)}${o.a.ucfirst(s[1]||"",!0)}`}else if(o.a.isString(e.email)){const s=e.email.split(/[^A-Za-z0-9]/);t=`${o.a.ucfirst(s[0]||"",!0)}${o.a.ucfirst(s[1]||"",!0)}`}return t}static displayName(e={},t){if(!e)return"";if(!t&&o.a.isString(e.username)&&""!==e.username)return e.username;if(o.a.isString(e.firstname)&&""!==e.firstname)return`${e.firstname} ${e.lastname}`;if(o.a.isString(e.name)&&""!==e.name)return""+e.name;if(o.a.isString(e.email)){const t=e.email.replace(/^(.+?)@.+$/,"$1").split(/[^A-Za-z0-9]/);return`${o.a.ucfirst(t[0]||"")} ${o.a.ucfirst(t[1]||"")}`}return""}static youtubeReplacer(e,t,s,a,i){let o=`<div class='w-100' style='position: relative; width: 100%; padding-bottom: 56.25%;'>\n            <iframe\n                style='position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;'\n                src='https://www.youtube-nocookie.com/embed/${i}?rel=0'\n                webkitallowfullscreen mozallowfullscreen allowfullscreen\n            ></iframe>\n        </div>`;return o=o.replace(/\n/g,""),o}static replaceInlineContent(e){let t=e;if("string"!=typeof t)return t;if(t.match(/youtube/)){t=t.replace(/(<p>|<br>|[\s\t\n]|^)*https*:\/\/(www\.)*youtube\.com\/(.*?v=([^&\s<$]+)(&[^\s<$]+)*)/gi,w.youtubeReplacer)}else if(t.match(/youtu\.be/)){t=t.replace(/(<p>|<br>|[\s\t\n]|^)*https*:\/\/(www\.)*youtu\.be\/(([^?&\s<$]+)((\?|&)[^\s<$]+)*)/gi,w.youtubeReplacer)}return t}static replaceImages(e="",t,s="en",a=!0){if(o.a.isString(e)){const i=w.isOnlyEmojis(e),n=e.length;let r=e;const l=new RegExp(`<${s}>(.*?)</${s}>`,"s").exec(r);if(l){const e=l[1];e&&(r=e)}let c=r.replace(/\{\{img\.(\d+)\s*(\d*)\}\}/g,(function(e,s,a){return o.a.isObject(t[s])?`<img src=${t[s].s3XXLargeLink} class='img-fluid float-right' style='width: ${a||40}%;' />`:""}));a&&(i?c=`<div style='font-size: 3.0em; line-height:1.1em;'>${c}</span>`:n<=25&&(c=`<div style='font-size: 1.5em; line-height:1.5em;'>${c}</span>`));const d=c.replace(/(#([0-9a-z]+))/gi,(function(e,t,s,a,i,o){return t?`<span class='badge badge-primary'><a href='/stories/tag/${s}' class='text-white'>${t}</a></span>`:o}));return w.replaceInlineContent(d)}return e}static getImage({user:e,team:t,size:s="s3SmallLink",priority:a}){let i={};return"user"===a?e&&e.image&&e.image.s3SmallLink?i=e.image:e&&e.images&&e.images[0]&&e.images[0].s3SmallLink?i=e.images[0]:t&&t.image&&t.image.s3SmallLink?i=t.image:t&&t.images&&t.images[0]&&t.images[0].s3SmallLink&&(i=t.images[0]):t&&t.image&&t.image.s3SmallLink?i=t.image:t&&t.images&&t.images[0]&&t.images[0].s3SmallLink?i=t.images[0]:e&&e.image&&e.image.s3SmallLink?i=e.image:e&&e.images&&e.images[0]&&e.images[0].s3SmallLink&&(i=e.images[0]),i[s]}static getMarkdownOptions(){return v}static asUrl(e=""){return e.match(/^http/)?e:"https://"+e}static asFacebookLink(e=""){return e.match(/facebook.com/)?e.match(/^http/)?e:"https://"+e:"https://facebook.com/"+e}static asInstagramLink(e){return e.match(/instagram.com/)?e.match(/^http/)?e:"https://"+e:"https://instagram.com/"+e}static asSnapchatLink(e){return e.match(/snapchat.com/)?e.match(/^http/)?e:"https://"+e:"https://www.snapchat.com/add/"+e}static randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}static resizeTextarea(e){let t=e;if(t.target&&(t=e.target),t&&t.style){t.style.height="inherit";const e=window.getComputedStyle(t),s=parseInt(e.getPropertyValue("border-top-width"),10)+parseInt(e.getPropertyValue("padding-top"),10)+t.scrollHeight+parseInt(e.getPropertyValue("padding-bottom"),10)+parseInt(e.getPropertyValue("border-bottom-width"),10);t.style.height=s+"px"}}static hasBirthday(e){const t=new Date,s=t.getDate(),a=t.getMonth(),i=new Date(e),o=i.getDate(),n=i.getMonth();return s===o&&a===n}static daysUntilNextBirthday(e){if(!e)return null;const t=new Date,s=t.getFullYear(),a=o.a.parseInputDate(e),i=a.getDate(),n=a.getMonth()+1,r=o.a.parseInputDate(`${s}-${o.a.padDate(n)}-${o.a.padDate(i)}`),l=o.a.parseInputDate(`${s+1}-${o.a.padDate(n)}-${o.a.padDate(i)}`);let c=r;t>r&&(c=l);return(c-t)/864e5}static getTrophyImage(e){return O[e]}static isOnlyEmojis(e){if(o.a.isString(e)){const t=e.match(/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/g)||[],s=e.match(/(?:(?![\t-\r \xA0\xA9\xAE\u1680\u2000-\u200A\u2028\u2029\u202F\u203C\u2049\u205F\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3000\u3030\u303D\u3297\u3299\uFEFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])[\s\S])/g)||[];return t.length===s.length}return!1}static intersectionObserverCallback(e){e.forEach(e=>{const{id:t,type:s,user:o,team:n,sessionid:r}=e.target.dataset,{intersectionRatio:l,isIntersecting:c,time:d}=e,h=y[`${s}-${t}`];if(h&&h.isIntersecting&&!c){h.endTime=(new Date).getTime(),h.duration=h.endTime-h.startTime;const e=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h);delete y[`${s}-${t}`],j.push(e)}else y[`${s}-${t}`]={startTime:(new Date).getTime(),elementId:parseInt(t,10),user:parseInt(o,10),team:parseInt(n,10),type:s,intersectionRatio:l,isIntersecting:c,time:d,sessionId:r}})}static getIntersectionObserverHistory(){return j.splice(0,j.length)}static getViews(e={}){let t=0;if(o.a.isObject(e)){const s=Object.keys(e);for(let a=0,i=s.length;a<i;a+=1){const i=s[a];if(o.a.isObject(e[i])){const s=Object.keys(e[i]);for(let a=0,n=s.length;a<n;a+=1){const n=e[i][s[a]].count;o.a.isNumber(n)&&(t+=n)}}}}return t}static getAdminData(e={}){let t={count:0};if(o.a.isObject(e)){const s=Object.keys(e).sort();for(let a=0,i=s.length;a<i;a+=1){const i=s[a];if(o.a.isObject(e[i])){const s=Object.keys(e[i]).sort();for(let a=0,n=s.length;a<n;a+=1){const n=s[a],r=e[i][n].count;o.a.isNumber(r)&&(t.count+=r);const l=e[i][n].ranking;o.a.isNumber(l)&&(t.rankingTrend=0,t.ranking&&t.ranking<l&&(t.rankingTrend=-1),t.ranking&&t.ranking>l&&(t.rankingTrend=1),t.ranking=l);const c=e[i][n].durationAvg;o.a.isNumber(c)&&(t.durationAvgTrend=0,t.durationAvg&&t.durationAvg<c&&(t.durationAvgTrend=-1),t.durationAvg&&t.durationAvg>c&&(t.durationAvgTrend=1),t.durationAvg=c);const d=e[i][n].timeAvg;o.a.isNumber(d)&&(t.timeAvgTrend=0,t.timeAvg&&t.timeAvg<d&&(t.timeAvgTrend=-1),t.timeAvg&&t.timeAvg>d&&(t.timeAvgTrend=1),t.timeAvg=d)}}}}return t}static getClassForTrend(e){return 1===e?"fas fa-arrow-up text-success":-1===e?"fas fa-arrow-down text-danger":"fas fa-ellipsis-h text-secondary"}static randomInt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}static captureEvents(e){e.stopPropagation()}static captureAllEvents(e){e.preventDefault(),e.stopPropagation()}static getGraphData(e){const t=Object.keys(e),s=t.map(t=>o.a.getNestedValue(e,t)||[]);return{legends:t,data:s}}static tapticWeakBoom(){navigator.vibrate&&(console.log("tapticWeakBoom"),navigator.vibrate(10))}static tapticStrongBoom(){navigator.vibrate&&navigator.vibrate(10)}static tapticBurst(){navigator.vibrate&&navigator.vibrate(10)}static tapticNotification(e){navigator.vibrate&&(console.log("tapticNotification"),navigator.vibrate(50))}static tapticSelection(){navigator.vibrate&&navigator.vibrate(50)}static tapticImpact(e){navigator.vibrate&&navigator.vibrate(50)}static tapticGestureSelectionStart(){navigator.vibrate&&navigator.vibrate(10)}static tapticGestureSelectionChanged(){navigator.vibrate&&navigator.vibrate(10)}static tapticGestureSelectionEnd(){navigator.vibrate&&navigator.vibrate(10)}}t.a=w},ZQlJ:function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("NDEG"));let r=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.scrollImages=e=>{const{scrollLeft:t,clientWidth:s}=e.target,a=t/s,i=Math.round(a),o=Math.abs(i-a);(Number.isInteger(a)||o<.1)&&this.setState({imageIdx:i})},this.sortByName=(e,t)=>{const{allDogs:s=[]}=this.props,a=s.find(t=>t.id===e),i=s.find(e=>e.id===t);return a&&i&&a.name>i.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:e,allDogs:t=[],size:s="medium",onDogClick:a=(()=>{})}=this.props;return Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},e&&e.sort(this.sortByName).map(o=>{const r=t.find(e=>e.id===o);return r?Object(i.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(i.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},Object(i.h)(n.a,{stores:this.props.stores,dog:r,dogs:t.filter(t=>e.indexOf(t.id)>-1).sort((e,t)=>e.name>t.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:a}))):""})))}})||a;t.a=r},ZUG7:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ekkQ")),o=a(s("ruAM")),n=a(s("/4LU")),r=s("u28A");t.default=function(e){var t=0;if(e.length>2){for(var s,a,l,c=0;c<e.length;c++){c===e.length-2?(s=e.length-2,a=e.length-1,l=0):c===e.length-1?(s=e.length-1,a=0,l=1):(s=c,a=c+1,l=c+2);var d=(0,n.default)(e[s]),h=(0,o.default)(e[a]),u=(0,n.default)(e[l]);t+=((0,i.default)(u)-(0,i.default)(d))*Math.sin((0,i.default)(h))}t=t*r.earthRadius*r.earthRadius/2}return Math.abs(t)}},ZiYL:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn");let c=Object(n.a)(a=class extends i.Component{render(){const{userStore:t,appState:s,workoutStore:a}=this.props.stores,{user:n}=t,{language:c="en"}=n,d=l.a.getDays(c),{darkmode:h}=s,{week:u,year:p}=this.props,m=o.a.getDaysInWeek(u,p);let b=0,f=0,g=0,O=0,v=[];const y=parseInt(u,10),j=parseInt(p,10),{week:w,year:k}=l.a.getNextWeek(y,j),{week:x,year:S}=l.a.getPrevWeek(y,j);return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(i.h)("a",{href:`/workouts/week/${w}/${k}`,class:"float-right btn btn-sm btn-link"},Object(i.h)("i",{class:"fas fa-arrow-right"})),Object(i.h)("a",{href:`/workouts/week/${x}/${S}`,class:"float-left btn btn-sm btn-link"},Object(i.h)("i",{class:"fas fa-arrow-left"})),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"workouts.week-workouts",fields:{week:u,year:p}},"Treningsturene - Uke - ",u," ",p)),Object(i.h)("small",null,Object(i.h)("a",{href:`/workouts/month/${m[0].getMonth()+1}/${m[0].getFullYear()}`},o.a.isoDate(m[0],!1,!1,!0))," - ",Object(i.h)("a",{href:`/workouts/month/${m[m.length-1].getMonth()+1}/${m[m.length-1].getFullYear()}`},o.a.isoDate(m[m.length-1],!1,!1,!0)))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.week"},"Uke")),m.map(e=>Object(i.h)("th",null,d[e.getDay()])),Object(i.h)("th",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.sum"},"Sum")))),Object(i.h)("tbody",null,Object(i.h)("tr",null,Object(i.h)("td",{class:"text-right text-muted pt-3"},u),m.map(e=>{const s=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),r=t.findWorkoutSummaryWeekDay(s,a,n)||{};return r&&r.distanceKm&&(b+=r.distanceKm,f+=r.count,g+=r.elevation,O+=r.duration,v.push(r.speedAvg)),Object(i.h)("td",{class:"text-center font-weight-light position-relative pt-3",style:`background-color: ${l.a.getDayColor(e.getDay(),h)};`},Object(i.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},e.getDate()),r&&r.distanceKm?Object(i.h)("div",{class:"rounded-pill w-100 px-1",style:"background-color: "+l.a.getTrainingColor(r,h)},o.a.format(r.distanceKm,1),r.count>1&&Object(i.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},r.count)):"-")}),Object(i.h)("td",{class:"text-right pt-3"},b)))),Object(i.h)("h5",{class:"mt-4"},Object(i.h)(r.c,{id:"workout.calendar.summary"},"Oppsummering")," - ",u," ",p),Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("tbody",null,Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.totalWorkouts"},"Antall økter")),Object(i.h)("td",{class:"text-right"},f)),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.distance"},"Distanse")),Object(i.h)("td",{class:"text-right"},o.a.format(b,1)," km")),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.ascend"},"Høydemeter")),Object(i.h)("td",{class:"text-right"},o.a.format(g,0)," m")),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.duration"},"Varighet")),Object(i.h)("td",{class:"text-right"},o.a.secToHms(O))),Object(i.h)("tr",null,Object(i.h)("td",{class:"text-muted"},Object(i.h)(r.c,{id:"workout.calendar.avg-speed"},"Gjennomsnittsfart")),Object(i.h)("td",{class:"text-right"},o.a.format(l.a.avgArr(v),1)," km/t"))))))}})||a;t.a=c}).call(this,s("hosL").Fragment)},Zuum:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(9).then(function(){var t=s("yjtT");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},aGZh:function(e,t,s){"use strict";(function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,o=s("hosL"),n=s("/eY4");const r={};Object(n.a)(i=class extends o.Component{constructor(e){super(e),this.state=function(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},r)}render(){const{appState:t}=this.props.stores,{text:s}=this.props,{language:a="en"}=t;let i=s;const n=new RegExp(`/<${a}>(.*?)</${a}>/`);return s.replace(n,"$1")&&(i=s),Object(o.h)(e,null,i)}})}).call(this,s("hosL").Fragment)},aKPM:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("Y3FI"),h=s("OhSV"),u=s("fh8t"),p=s.n(u),m=s("X9Km"),b=s("ZOvn"),f=s("KDoM"),g=s("Gx/q"),O=s("/F9p"),v=s("jtG4"),y=s("WAWY"),j=s("R/Lk"),w=s("0SNj"),k=s("9Bb9"),x=s("JWe/"),S=s("HqZR"),_=(s("wM2g"),s("XPU5"),s("rWES")),T=s("om2D"),D=s("TiXY"),I=s("KOz6"),P=s("6GRK"),L=s("s4FZ"),C=s("K9Qx"),A=s("epqT");const E=b.a.marginTop(!1),F=b.a.marginTopBack(!1),M=b.a.marginBottom(),R={newTeam:{},submenu:"stats"};let z=Object(c.a)(o=class extends r.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{teamStore:s}=t.props.stores,{team:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{team:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:t,team:s,field:a,icon:i,title:o,type:n,help:c,onInput:d,updateField:u,datalist:p=[],showImages:m=!0,showFiles:b=!0,addToImages:f=!0}=this.props,g=s[a];return"datalist"===n?Object(r.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)("input",{list:"list-"+a,class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:g,"data-id":s.id,"data-field":a,onInput:d}),Object(r.h)("datalist",{id:"list-"+a},p.map(e=>Object(r.h)("option",{value:e[0]},e[1]))),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"select"===n?Object(r.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)("select",{list:"list-"+a,class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:g,"data-id":s.id,"data-field":a,onInput:d,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"teams.choose-country"},"Velg land")," --"),p.map(e=>Object(r.h)("option",{value:e[0]},e[1]))),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"image"===n?Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},s[a]&&s[a].s3SmallLink&&Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:s[a].s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":s[a].name},Object(r.h)("i",{class:"fas fa-trash"})," Del"),Object(r.h)("span",{class:"badge badge-success"},"Main")),m&&Object(r.h)(e,null,s.images&&s.images.map(e=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(r.h)("i",{class:"fas fa-trash"})," Del")))))),Object(r.h)(T.a,{saved:t,object:s,field:a,updateField:u,addToImages:f}),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"toggle"===n?Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)("div",{class:"custom-control custom-switch"},Object(r.h)("input",{type:"checkbox",class:"custom-control-input",id:a+"Input",value:1===g?0:1,"data-id":s.id,"data-field":a,onInput:d,checked:1==g?"checked":""}),Object(r.h)("label",{class:"custom-control-label",for:a+"Input"})),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"textarea"===n?Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)("textarea",{type:"text",class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:g,"data-id":s.id,"data-field":a,onInput:d,rows:10}),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"file"===n?Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),b&&Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-file"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"teams.no-files-title"},"No files attached to this dog!")),Object(r.h)(h.c,{id:"teams.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(e=>Object(r.h)("div",{class:"col-12 p-1"},Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.createdDate,!1,!1,!0)),Object(r.h)("span",{class:"mr-2"},e.name),Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.formatBytes(e.size,1)),Object(r.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":e.name},Object(r.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(r.h)(D.a,{saved:t,object:s,field:a,updateField:u}),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"links"===a?Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)(P.a,{saved:t,stores:this.props.stores,object:s,field:a,updateField:u}),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):"achievements"===a?Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)(I.a,{saved:t,stores:this.props.stores,object:s,field:a,updateField:u}),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c)):Object(r.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},i&&Object(r.h)("i",{class:i+" text-muted"})," ",o),Object(r.h)("input",{type:"text",class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:g,"data-id":s.id,"data-field":a,onInput:d}),t[`${a}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},c))}})||o,U=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.loadTeam=async function(e=t.props){const{teamStore:s,userStore:a}=e.stores;await s.load(e.team,!1,{addData:["dogs","users","followers","blockedFollowers"]});const{team:i}=s;await a.getWorkoutSummary({team:i.id}),s.plotFormGraph()},this.loadHeatmap=async function(e=t.props){const{workoutStore:s}=e.stores;await s.getHeatmap(e.team)},this.loadMore=()=>{const{offset:e}=this.state;this.setState({offset:e+10},()=>{this.loadWorkouts(!0)})},this.loadWorkouts=async function(e=!1){t.setState({isLoading:!0});const{workoutStore:s}=t.props.stores,{team:a}=t.props,{offset:i}=t.state;await s.load({query:{team:a},limit:10,offset:i},e),t.setState({isLoading:!1})},this.loadWorkoutSummary=async function(e=t.props){const{userStore:s,workoutStore:a}=e.stores,i=(new Date).getMonth()+1,o=(new Date).getFullYear(),{month:n=i,year:r=o}=e,{currentTeam:l}=a,c=e.team||l;await s.getWorkoutSummary({team:c,year:r,month:n}),await s.getWorkoutSummaryDay({daysBack:500,team:c})},this.loadWorkoutPlans=async function(e=t.props){const{year:s}=e,a=(new Date).getMonth()+1,i=l.a.getYear(),o=parseInt(s||(a<8?i-1:i),10),{workoutPlanStore:n,teamStore:r}=e.stores,{team:c}=r;if(n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),n.resetGraphPlanWeekDistanceCurrent(),c.id){await n.load({query:{team:c.id,seasonYear:o},addData:["tips"]});const{workoutPlans:e}=n,t=e[0]||{};t.id?(await n.load(t.id),n.prepareWeekGraphs({year:s})):(n.updateKeyValue("workoutPlan",{}),n.updateKeyValue("workoutPlans",[]),n.resetGraphPlanWeekDistanceCurrent())}},this.deleteTeam=async function(){const{teamStore:e}=t.props.stores,{team:s}=e;await e.saveField(s.id,"offline",1),m.a.publish(m.b.STATUS_MESSAGE,{message:"Teamet er slettet",type:"success",icon:"fas fa-check"}),Object(d.route)("/teams/list",!0)},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1})=>{const{teamStore:l}=this.props.stores;let c=a,d=a;const{team:h}=l;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"achievements"===s&&Array.isArray(h.achievements)&&(d=Array.isArray(a)?[...h.achievements,...a]:[...h.achievements,a]),"links"===s&&Array.isArray(h.links)&&(d=Array.isArray(a)?[...h.links,...a]:[...h.links,a]),"files"===s&&Array.isArray(h.files)&&(d=Array.isArray(a)?[...h.files,...a]:[...h.files,a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newTeam",s,a):(l.updateField(e,s,d),r?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.reCalculateFitness=async function(){const{recalculated:e}=t.state;if(e)return!0;const{teamStore:s}=t.props.stores,{team:a}=s;t.setState({recalculated:!0}),await s.reCalcFitness(a.id)},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},R),this.updateTimer={}}async loadAll(e=this.props){this.setState({isLoading:!0}),await this.loadTeam(e),await this.loadSummaryData(e),this.setState({isLoading:!1})}async loadSummaryData(e=this.props){await Promise.all([this.loadWorkoutPlans(e),this.loadWorkoutSummary(e),this.loadHeatmap(e),this.loadWorkouts()])}async doUpdateField(e,t,s){const{teamStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.team!==this.props.team&&this.loadAll(e),e.month===this.props.month&&e.year===this.props.year||this.loadSummaryData(e)}render(){const{submenu:t,recalculated:s}=this.state,{teamStore:a,userStore:i,workoutPlanStore:o,workoutStore:n}=this.props.stores,{workoutPlan:c,workoutPlans:d}=o,{heatmap:u,workouts:m,currentTeam:T}=n,D=(new Date).getMonth()+1,I=(new Date).getFullYear(),{month:P=D,year:R=I}=this.props,U=parseInt(P<8?R-1:R,10),{team:N,dogs:$,users:W,followers:B=[],blockedFollowers:H=[],saved:V,graphFitness:G}=a,{image:q,imageHeader:K}=N,{user:Z}=i,{language:Y="en"}=Z,{user:X}=i,J=N.user===X.id,Q=i.findTeamAmbition({ambition:N.ambitions,language:Y}),ee=i.findTeamType({type:N.type,language:Y}),te=K&&K.s3XXLargeLink?K:{s3XXLargeLink:"./assets/homerun-race-logo.png"},se=q&&q.s3LargeLink?q:null;return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${M}; margin-top: ${E};`},Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${F}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"})),Object(r.h)("div",{class:"row mb-1"},Object(r.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(te?`background-image: url("${te.s3XXLargeLink}");`:"")},Object(r.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+N.id},Object(r.h)("i",{class:"fas fa-edit"})," ",Object(r.h)(h.c,{id:"teams.edit"},"Endre"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(r.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(se?`background-image: url("${se.s3LargeLink}"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;`:"")},!se&&Object(r.h)("i",{class:"fas fa-users text-muted mt-4",style:"font-size: 60px;"}))," "),Object(r.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"my-0"},N.name),Object(r.h)("small",{class:"text-muted"},N.place?N.place+", ":"",N.country),Object(r.h)("br",null),ee&&Object(r.h)("a",{href:"/settings/team/"+N.id},Object(r.h)("span",{class:"badge badge-pill badge-secondary mt-2"},ee)),Q&&Object(r.h)("a",{href:"/settings/team/"+N.id},Object(r.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},Q)),J&&Object(r.h)("span",{class:"badge badge-pill badge-primary mt-2 ml-2"},Object(r.h)(h.c,{id:"teams.admin"},"Admin")))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},N.public>0&&Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+N.uuidv4,class:"btn btn-success btn-block"},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(h.c,{id:"teams.public-profile"},"Public profile"))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"w-100 overflow-hidden"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"stats"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(r.h)(h.c,{id:"teams.stats"},"Stats"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"presentation"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"presentation",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(r.h)(h.c,{id:"teams.presentation"},"Presentation"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"pictures"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-images"})," ",Object(r.h)(h.c,{id:"teams.pictures"},"Pictures"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"dogs"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-dog"})," ",Object(r.h)(h.c,{id:"teams.dogs-menu"},"Dogs"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"mushers"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-user"})," ",Object(r.h)(h.c,{id:"teams.mushers"},"Mushers"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"workouts"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(h.c,{id:"teams.workouts"},"Workouts"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"workoutplan"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplan",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(h.c,{id:"workouts.workoutplan"},"Treningsplan"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"fitness"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"fitness",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-chart-line"})," ",Object(r.h)(h.c,{id:"teams.fitness-menu"},"Fitness"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"compare"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"compare",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-exchange-alt"})," ",Object(r.h)(h.c,{id:"teams.compare"},"Compare"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"trophy"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"trophy",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-award"})," ",Object(r.h)(h.c,{id:"teams.trophy"},"Trophy case"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"achievements"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"teams.achievements"},"Achievements"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"followers"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"followers",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(h.c,{id:"teams.followers"},"Followers"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-cogs"})," ",Object(r.h)(h.c,{id:"teams.log"},"Advanced")))))))),"stats"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)(y.a,{stores:this.props.stores,isLoading:!1,key:`graph-${c.id}-${d.length}`}),Object(r.h)(w.a,{stores:this.props.stores,currentTeam:N.id}),Object(r.h)(k.a,{stores:this.props.stores,currentTeam:N.id})))),"presentation"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("div",{class:"d-flex justify-content-center"},!N.facebook&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fab fa-facebook"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),N.url&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:b.a.asUrl(N.url),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fas fa-link"})))),N.facebook&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:b.a.asFacebookLink(N.facebook),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook"})))),N.instagram&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:b.a.asInstagramLink(N.instagram),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"})))),N.snapchat&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:b.a.asSnapchatLink(N.snapchat),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-snapchat"})))))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},!N.description&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(r.h)(p.a,{markdown:b.a.replaceImages(N.description,N.images,Y),markdownOpts:b.a.getMarkdownOptions()})))),"pictures"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)(h.b,null,Object(r.h)(L.a,{stores:this.props.stores,images:N.images,noimagestext:Object(r.h)(h.c,{id:"teams.no-photos"},"No photos for this team.")}))))),"dogs"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},(!$||0===$.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-dog"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"teams.no-dogs-title"},"No dogs for this team!")),Object(r.h)(h.c,{id:"teams.no-dogs-text"},"You can add more dogs to this team.")))),$&&$.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.dogs",fields:{total:$.length}},"Hundene - ",$.length," stk"))),$&&$.map(e=>Object(r.h)(f.a,{stores:this.props.stores,dog:e})))))),"mushers"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"offset-0 col-12 mt-2"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("a",{class:"btn btn-secondary float-right",href:"/teams/addmember/"+N.id},Object(r.h)("i",{class:"fas fa-plus"})," ",Object(r.h)(h.c,{id:"teams.add-new-member"},"Legg til medlem")))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.members",fields:{total:W.length}},"Medlemmer - ",W.length," stk")),W&&W.map(e=>Object(r.h)(g.a,{stores:this.props.stores,user:e,team:N}))))),"workouts"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},(!m||0===m.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-running"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(r.h)(h.c,{id:"teams.no-workouts-text"},"You can add more workouts to this team.")),Object(r.h)("div",{class:"text-center mt-3"},Object(r.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(h.c,{id:"header.add-workouts"},"Add Workouts"))))),m&&m.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.workouts"},"Workouts"))),Object(r.h)("div",{class:"offset-0 col-12 mt-3"},m&&m.map(e=>Object(r.h)(x.a,{stores:this.props.stores,workout:e,showDate:!0})))))),"workoutplan"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)(C.a,{stores:this.props.stores,basehref:`/teams/${N.id}/`,month:P,year:R,key:`${c.id||U}-${T}-${P}-${R}`,showNavigation:!0,showHeader:!0,currentTeam:T}),Object(r.h)("div",{class:"col-12"},Object(r.h)(A.a,{stores:this.props.stores,url:this.props.url,section:t})))),"fitness"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},(!G||0===G.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-chart-area"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(r.h)(h.c,{id:"teams.no-workouts-fitness-text"},"When you add workouts your fitness graph will be calculated every night.")),Object(r.h)("div",{class:"text-center mt-3"},Object(r.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(h.c,{id:"header.add-workouts"},"Add Workouts"))))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)(O.a,{stores:this.props.stores})))),"compare"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.compare"},"Compare")),Object(r.h)(j.a,{stores:this.props.stores,isLoading:!1,key:`graph-avg-${c.id}-${d.length}`,teamId:N.id,teamAmbition:Q,teamType:ee})))),"trophy"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!N.trophys||0===N.trophys.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-award"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"teams.no-trophys-title"},"No trophys for this team!")),Object(r.h)(h.c,{id:"teams.no-trophys-text"},"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys."))),Object(r.h)("div",{class:"row"},N.trophys&&N.trophys.reverse().map(e=>{const t=b.a.getTrophyImage(e.name);if(!t)return"";const s=e.descriptionHeader&&e.descriptionHeader[Y]?e.descriptionHeader[Y]:"",a=e.description&&e.description[Y]?e.description[Y]:"";return Object(r.h)("div",{class:"col-4 mt-3"},Object(r.h)("div",{class:"mb-2"},Object(r.h)("img",{src:t,class:"img-fluid"})),Object(r.h)("strong",null,s),Object(r.h)("small",null,Object(r.h)("details",null,Object(r.h)("summary",null,Object(r.h)(h.c,{id:"teams.trophy-details"},"Details")),Object(r.h)(p.a,{markdown:b.a.replaceImages(a,N.images,Y),markdownOpts:b.a.getMarkdownOptions()}))))}))))),"achievements"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!N.achievements||0===N.achievements.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-clock"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"teams.no-achievements-title"},"No achievements for this team!")),Object(r.h)(h.c,{id:"teams.no-achievements-text"},"You can add achievements to this team. Ie. Memories, trips, tests, prices, races, etc."))),N.achievements&&N.achievements.map(e=>Object(r.h)("div",{class:"col-12 p-1"},e.date&&Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.date,!1,!1,!0)),Object(r.h)("span",{class:"mr-2 font-weight-bold"},e.name),Object(r.h)("span",{class:"mr-2 font-weight-light"},e.description),e.url&&Object(r.h)("span",{class:"mr-2"},Object(r.h)("a",{href:b.a.asUrl(e.url),target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fas fa-link"})))))))),"followers"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.followers"},"Followers"))),Object(r.h)("div",{class:"col-12"},Object(r.h)(_.a,{stores:this.props.stores})),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(r.h)("div",{class:"row"},(!l.a.isArray(B)||0===B.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"far fa-sad-tear"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"teams.no-followers"},"Currently you have no followers, but fear not. It's easy get new followers. Be active in the feed and make you team profile beautiful."))),Object(r.h)("div",{class:"col-12 mb-5",style:"font-size: 1.5em;"},Object(r.h)(h.b,null,Object(r.h)(z,{stores:this.props.stores,saved:V,team:N,field:"public",icon:"fas fa-eye",type:"toggle",title:Object(r.h)(h.c,{id:"teams.public"},"Synlig offentlig"),help:Object(r.h)(h.c,{id:"teams.public-help"},"Skal teamet være mulig å følge? Alle som vil følge må godkjennes av dere først."),onInput:this.updateField})))),l.a.isArray(B)&&B.map(e=>Object(r.h)(v.a,{stores:this.props.stores,team:e,myTeamId:N.id,showBlockButton:!0,callback:this.loadTeam})),l.a.isArray(H)&&H.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 mt-5"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.blocked-followers"},"Blokkerte team"),":")),l.a.isArray(H)&&H.map(e=>Object(r.h)(v.a,{stores:this.props.stores,team:e,myTeamId:N.id,isBlocked:!0,callback:this.loadTeam}))))))),"advanced"===t&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"teams.heatmap"},"Heatmap")),Object(r.h)(h.c,{id:"teams.heatmap-info"},"Heatmapen viser hvor du har vært denne sesongen.")),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},u&&u.length>0&&Object(r.h)(S.a,{stores:this.props.stores,mapId:u.length,heatmap:u,minZoom:2,height:600})),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(r.h)("h5",{class:"mt-5"},Object(r.h)(h.c,{id:"teams.recalculate-title"},"Recalculate fitness, form and fatigue")),Object(r.h)(h.c,{id:"teams.recalculate-help"},"Click the button below if you want to recalculate the fitness, form and fatigue data for your team and all dogs in this team.",Object(r.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either.",Object(r.h)("br",null),Object(r.h)("br",null),"Calculations can take up to 1 hour, so please be patitient."),Object(r.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(s?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateFitness},Object(r.h)("i",{class:"fas fa-sync"})," ",Object(r.h)(h.c,{id:"teams.recalculate"},"Recalculate fitness, form and fatigue")),Object(r.h)("br",null)),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(r.h)("h5",{class:"mt-5"},Object(r.h)(h.c,{id:"teams.delete-title"},"Delete team")),Object(r.h)(h.c,{id:"teams.delete-help"},"Click the button below to delete this team. All data related to this team will be lost. All team statistics will also be affected.",Object(r.h)("br",null),Object(r.h)("br",null),"It's important to remember that you need to have at lease one team in the app, even if you only have one dog."),Object(r.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteTeam},Object(r.h)("i",{class:"fas fa-trash"})," ",Object(r.h)(h.c,{id:"teams.delete"},"Delete")," ",N.name)))))}})||n;t.a=U}).call(this,s("hosL").Fragment)},axqC:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{user:t={},showDot:s=!1}=this.props,a=d.a.displayNameShort(t),i=d.a.displayName(t,!0),o=t.image||(t.images?t.images[0]:void 0)||t.teamImage,l=t.teamName,h=t.lastMessage;let u,p;return h&&(u=t.uuidv4!==h.updateUser,p="LIKE_MESSAGE"===h.body?Object(n.h)(c.c,{id:"inbox.like-message"},"Liked message"):h.body),Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded pt-2",style:(o?`background-image: url("${o.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!o&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("a",{href:"/inbox/"+t.uuidv4,class:"stretched-link"},Object(n.h)("h5",null,i))),Object(n.h)("div",{class:"text-overflow"},t.place?t.place+", ":""," ",t.country),h?Object(n.h)(e,null,Object(n.h)("div",{class:"text-overflow"},u?Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"inbox.you"},"You"),":"),Object(n.h)("span",{class:"ml-1 "+(h.readDate?"":"font-weight-bold")},d.a.maxLength(p,30))):Object(n.h)(e,null,Object(n.h)("span",{class:h.readDate?"":"font-weight-bold"},d.a.maxLength(p,30))),Object(n.h)("span",{class:"text-muted ml-3"},r.a.formatDistance(h.updated,new Date,{locale:"no-NB"})))):Object(n.h)(e,null,l&&Object(n.h)("div",{class:"text-overflow"},l))),s&&Object(n.h)("div",{class:"d-flex align-items-center"},Object(n.h)("i",{class:"far fa-circle",style:"font-size: 2.0em;"})))}})||o;t.a=u}).call(this,s("hosL").Fragment)},bUJL:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("nHdA"),c=s("irB3"),d=(s("UwwE"),s("8Lgr"));s("QkTp");let h=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.ignoreStravaWorkout=async function(e){e.stopPropagation();const s=e.target.parentElement.dataset.id||e.target.dataset.id,{stravaActivityStore:a}=t.props.stores;await a.ignoreWorkout(s),t.loadStravaActivities()},this.importStravaWorkout=async function(e){e.stopPropagation();const s=e.target.parentElement.dataset.id||e.target.dataset.id,{stravaActivityStore:a,workoutStore:i}=t.props.stores,{currentTeam:o}=i;await a.importWorkout(s,o),t.loadStravaActivities(),t.loadWorkouts()},this.loadWorkouts=async function(){const{workoutStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s}})},this.toggleDetail=()=>{const{showDetail:e=!1}=this.state;this.setState({showDetail:!e})}}async loadStravaActivities(){const{stravaActivityStore:e}=this.props.stores;e.load({query:{hideImported:1}})}componentDidMount(){this.loadStravaActivities()}render(){const{showDate:t,showDetail:s=!1}=this.state,{activities:a,showDate:n}=this.props,{userStore:h,workoutStore:u}=this.props.stores,{currentTeam:p}=u,{team:m}=h,b=h.findTeam(p||m.id);return s?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mb-3"},Object(i.h)("div",{class:"row"},a&&a.length>0&&Object(i.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(i.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(i.h)("i",{class:"fas fa-caret-up"})," ",Object(i.h)(r.c,{id:"strava.hide-list"},"Hide list")),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",a.length),a&&a.map(s=>{const{summary:a={}}=s;o.a.parseInputDate(a.startTimeInSeconds);return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/strava-icon.png"); border-width: 3px !important;'}," "),Object(i.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},s.name),s.type,Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},s.start_date&&Object(i.h)("small",{onClick:this.toggleDate},n||t?o.a.formatDate(s.start_date,{locale:"no-NB"}):o.a.formatDistance(s.start_date,new Date,{locale:"no-NB"})),Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-road ml-2"})," ",Object(i.h)(d.a,{stores:this.props.stores,value:s.distance/1e3}),Object(i.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(i.h)(c.a,{stores:this.props.stores,value:s.total_elevation_gain}),Object(i.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(i.h)(l.a,{stores:this.props.stores,value:3.6*s.average_speed}),Object(i.h)("i",{class:"fas fa-stopwatch ml-2"})," ",o.a.secToHms(s.elapsed_time))),Object(i.h)("br",null),Object(i.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:this.importStravaWorkout,"data-id":s.id},Object(i.h)("i",{class:"fas fa-file-import"})," ",Object(i.h)(r.c,{id:"strava.import"},"Import workout")," ",Object(i.h)("i",{class:"fas fa-arrow-right"})," ",b),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:this.ignoreStravaWorkout,"data-id":s.id},Object(i.h)("i",{class:"fas fa-trash-alt"})," ",Object(i.h)(r.c,{id:"strava.ignore"},"Ignore workout")))))}),Object(i.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(i.h)("i",{class:"fas fa-caret-up"})," ",Object(i.h)(r.c,{id:"strava.hide-list"},"Hide list")))))):a&&a.length>0?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mb-3"},Object(i.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(i.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),Object(i.h)(r.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",a.length))):Object(i.h)(e,null)}})||a;t.a=h}).call(this,s("hosL").Fragment)},bbv7:function(e,t,s){"use strict";(function(e){function a(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t.indexOf(s=o[a])>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t.indexOf(s=o[a])>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function r(e,t,s,a=!1,i="",o=""){let n=Array.from(Array(e).keys());a&&(n=n.reverse());const r=Math.ceil(s)-Math.floor(t);return n.map(""===i&&""===o?s=>parseInt(r/(e-1)*s,10)+Math.floor(t):s=>`${i}${parseInt(r/(e-1)*s,10)+Math.floor(t)}${o}`)}function l(e,t){if(j.a.isFunction(t))return t(e);if("string"==typeof e&&e.match(/\d+h/)){const t=3600*e.replace(/h/g,"")*1e3,s=j.a.epoch();return j.a.isoDate(s-t)}return e}function c(e,t){return j.a.isFunction(t)?t(e):e}function d(e,t,s,a,i){return a+(e-t)*(i-a)/(s-t)}function h(e,t=!1){let s=1;return e<0&&(s=-1),t?1===s?5*Math.floor(Math.abs(e)/5)*s:5*Math.ceil(Math.abs(e)/5)*s:1===s?5*Math.ceil(Math.abs(e)/5)*s:5*Math.floor(Math.abs(e)/5)*s}function u({data:e,min:t}){const s=e.map(e=>{if(j.a.isArray(e))return j.a.isNumber(t)?Math.min(t,...e.map(e=>e.y)):Math.min(...e.map(e=>e.y))});return Math.min(...s)}function p({data:e,max:t}){const s=e.map(e=>{if(j.a.isArray(e))return j.a.isNumber(t)?Math.max(t,...e.map(e=>e.y)):Math.max(...e.map(e=>e.y))});return Math.max(...s)}function m(e,t,s,a){const i=function(e,t){const s=t[0]-e[0],a=t[1]-e[1];return{length:Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),angle:Math.atan2(a,s)}}(t||e,s||e),o=i.angle+(a?Math.PI:0),n=.2*i.length;return[e[0]+Math.cos(o)*n,e[1]+Math.sin(o)*n]}function b(e,t,s){const[a,i]=m(s[t-1],s[t-2],e),[o,n]=m(e,s[t-1],s[t+1],!0);return`C ${a},${i} ${o},${n} ${e[0]},${e[1]}`}function f(e){return null===e[1]?`M ${e[0]} ${e[1]}`:`L ${e[0]} ${e[1]}`}function g(e,t,s={}){const a=Math.max(...e.map(e=>e[0])),i=(Math.min(...e.map(e=>e[0])),e[0]||[[0,s.height]]),o=e[e.length-1]||[[a,s.height]];let n,r;n=s.lineFromXzero?`M 0,${s.height} L ${i[0]-20},${s.height-1}`:`M ${i[0]},${i[1]} L ${i[0]},${i[1]}`,r=s.lineFromXmax?`L ${o[0]+10},${s.height} L ${s.width},${s.height-1}`:`L ${o[0]},${o[1]} L ${o[0]},${o[1]}`;return`${n} ${e.reduce((e,s,a,i)=>0===a?`L ${s[0]},${s[1]}`:`${e} ${t(s,a,i)}`,"")} ${r}`}function O(e){return e.data.map((t,s)=>function({data:e,yMin:t,yMax:s,xMin:a,xMax:i,width:o,height:n,yRangeMin:r,yRangeMax:l,offsetY:c=0,maxMinFixed:m=!1,smooth:O=!1,avgWindow:v=0,lineFromXzero:y,lineFromXmax:w,yMaxMinRound:k}){const x={};if(e&&e.length){const S=a||Math.min(...e.map(e=>e.x),a),_=i||Math.max(...e.map(e=>e.x),i);let T,D;m?T=j.a.isNumber(t)?t:u({data:e}):(T=j.a.isNumber(t)?u({data:e,min:t}):u({data:e}),k&&(T=h(T,!0))),m?D=j.a.isNumber(s)?s:p({data:e}):(D=j.a.isNumber(s)?p({data:e,max:s}):p({data:e}),k&&(D=h(D)));const I=n,P=(e,t)=>{if(-1===e)return-1;const s=d(e,S,_,S,_),a=Math.round(d(s,S,_,0,o));return j.a.isDefined(t)&&(x[t]||(x[t]={}),x[t].x=a,x[t].xVal=e),a},L=(e,t)=>{if(-1===e)return n;let s=e;if(j.a.isNumber(r)&&j.a.isNumber(l))return s=d(s,T,D,r,l),I-d(s,r,l,0,n-c);if(null===s)return null;s=d(s,T,D,T,D);const a=Math.round(I-d(s,T,D,0,n-c));return j.a.isDefined(t)&&(x[t]||(x[t]={}),x[t].y=a,x[t].yVal=s),a},C=e.map((e,t)=>[P(e.x,t+1),L(e.y,t+1)]).filter(e=>null!==e[1]),A=v>0?function(e,t=2,s=(e=>e),a){const i=s,o=[];for(let s=0;s<e.length;s+=1){const n=s-t,r=s+t+1;let l=0,c=0;for(let t=n>=0?n:0;t<r&&t<e.length;t+=1)c+=i(e[t]),l+=1;o[s]=a?a(e[s],c/l):c/l}return o}(C,v,e=>e[1],(e,t)=>[e[0],t]):C;for(let e=0,t=A.length;e<t;e+=1)j.a.isDefined(x[e])&&(x[e+1].ySmooth=A[e][1]);const E=g(A,O?b:f,{height:n,width:o,lineFromXzero:y,lineFromXmax:w}),F=g(C,f,{height:n});return{d:E,maxX:_,maxY:D,minY:T,dOriginal:F,dataMap:x}}return{}}(o(o({},e),{},{data:t,yRangeMin:j.a.isArray(e.yRangeMin)?e.yRangeMin[s]:void 0,yRangeMax:j.a.isArray(e.yRangeMax)?e.yRangeMax[s]:void 0,avgWindow:j.a.isArray(e.avgWindowLeft)?e.avgWindowLeft[s]:j.a.isArray(e.avgWindowRight)?e.avgWindowRight[s]:void 0,smooth:j.a.isArray(e.smoothLeft)?e.smoothLeft[s]:j.a.isArray(e.smoothRight)?e.smoothRight[s]:void 0})))}var v,y=s("hosL"),j=s("Utv1"),w=s("/eY4"),k=s("VtuJ"),x=s.n(k),S=s("ZOvn");const _={mouseData:{}};let T=Object(w.a)(v=class extends y.Component{constructor(e){super(e),this.mouseMove=e=>{if(this.props.stores){const{x:t,y:s}=this.getCoordsWithPadding(e.layerX,e.layerY),{appState:a}=this.props.stores;a.setMousePosition([t,s])}},this.state=o({},_),this.svgRef=null,this.svgContainerRef=null}getCoordsWithPadding(e,t){if(!this.svgRef)return{};const{width:s=600,height:a=200,paddingLeft:i,paddingTop:o,paddingBottom:n,showYTicksLeft:r,showXTicks:l}=this.props,c=o,h=n||(l?20:0),u=this.svgRef.clientHeight;return{x:parseInt(d(e,i||(r?35:0),this.svgRef.clientWidth,0,s),10),y:parseInt(d(t,c,u,h,a),10)}}getMouseCoordX(e,t){const{width:s=600}=this.props;return parseInt(d(t,0,s,0,e),10)+1}getCoordX(e,t,s){const{width:a=600}=this.props;return d(s,e,t,0,a)}getTextBoxX(e,t,s=0){const{width:a=600}=this.props,i=e/a*100>75?e-180:e;return"right"===t?i+20-s+150:i+20-s}getMouseData(e,t,s,i,n,r={autoLimit:!1,padding:0}){const{width:l=600}=this.props,c=parseInt(d(i,0,l,e,t),10)+1;if(!j.a.isObject(s))return null;const h=Object.values(s).reduce((e,t)=>{let{xVal:s}=t,i=a(t,["xVal"]),{xVal:n}=e,r=a(e,["xVal"]);return Math.abs(c-s)<Math.abs(c-n)?o({xVal:s},i):o({xVal:n},r)});if(j.a.isObject(h)){if(!n)return h;return h[n]}}componentDidMount(){const{showValueLeftLine:e,showValueRightLine:t,scrollToRight:s=!1}=this.props;if((e||t)&&this.svgRef.addEventListener("mousemove",this.mouseMove),this.svgContainerRef&&s){this.svgContainerRef.scrollLeft=this.svgContainerRef.scrollLeftMax||this.svgContainerRef.scrollWidth-this.svgContainerRef.clientWidth}}componentWillUnmount(){const{showValueLeftLine:e,showValueRightLine:t}=this.props;(e||t)&&this.svgRef.removeEventListener("mousemove",this.mouseMove)}render(){const{width:t=600,height:s=200,offsetY:a=0,paddingLeft:i=0,paddingRight:n=0,paddingTop:d=0,paddingBottom:m=0,tickCount:b=6,showXTicks:f,showYTicksLeft:g,showYTicksRight:v,xTicks:w,xTicksVal:k,xTicksLink:_,yTicksLeft:T,yTicksLeftVal:D,yTicksLeftPrefix:I,yTicksLeftPostfix:P,yTicksRight:L,yTicksRightVal:C,yTicksRightPrefix:A,yTicksRightPostfix:E,xMin:F,xMax:M,yMaxLeft:R,yMinLeft:z,yMaxMinLeftRound:U=!0,yMaxRight:N,yMinRight:$,yMaxMinRightRound:W=!0,rangeMinLeft:B=[],rangeMaxLeft:H=[],rangeMinRight:V=[],rangeMaxRight:G=[],dataLeft:q=[],dataRight:K=[],legendLeft:Z=[],legendRight:Y=[],unitLeft:X=[],unitRight:J=[],dataFillLeft:Q=[],dataFillRight:ee=[],avgWindowLeft:te=[],avgWindowRight:se=[],smoothLeft:ae=[],smoothRight:ie=[],hoverValLeft:oe=[],hoverValRight:ne=[],showValueLeftLine:re=!0,showValueRightLine:le=!0,lineFromXzero:ce,lineFromXmax:de,legendFontSize:he="14px",legendLineHeight:ue=14,hoverFontSize:pe="12px",ticksFontSize:me="12px",marker:be,markers:fe=[]}=this.props,{appState:ge={}}=this.props.stores||{},{mousePos:Oe=[],darkmode:ve}=ge,ye=i||(g?35:0),je=n||(v?20:0),we=d,ke=m||(f?20:0),xe=ue,Se=he,_e=pe,Te=me,De={width:t,height:s,offsetY:a},Ie=h(u({data:q,min:z}),!0),Pe=h(p({data:q,max:R}),!1),Le=h(u({data:K,min:$}),!0),Ce=h(p({data:K,max:N}),!1),Ae=function({data:e,min:t}){const s=e.map(e=>{if(j.a.isArray(e))return j.a.isNumber(t)?Math.min(t,...e.map(e=>e.x)):Math.min(...e.map(e=>e.x))});return Math.min(...s)}({data:q.concat(K),min:F}),Ee=function({data:e,max:t}){const s=e.map(e=>{if(j.a.isArray(e))return j.a.isNumber(t)?Math.max(t,...e.map(e=>e.x)):Math.max(...e.map(e=>e.x))});return Math.max(...s)}({data:q.concat(K),max:M}),Fe=O(o(o({},De),{},{data:q,xMin:Ae,xMax:Ee,yMin:Ie,yMax:Pe,yRangeMin:B,yRangeMax:H,maxMinFixed:!0,smoothLeft:ae,avgWindowLeft:te,offsetY:we,lineFromXzero:ce,lineFromXmax:de,yMaxMinRound:U})),Me=O(o(o({},De),{},{data:K,xMin:Ae,xMax:Ee,yMin:Le,yMax:Ce,yRangeMin:V,yRangeMax:G,maxMinFixed:!0,smoothRight:ie,avgWindowRight:se,offsetY:we,lineFromXzero:ce,lineFromXmax:de,yMaxMinRound:W})),Re=Fe.length,ze=Me.length,Ue=Re+ze,Ne=w||r(b,Ae,Ee),$e=T||r(b,Ie,Pe,!0,I,P),We=L||r(b,Le,Ce,!0,A,E),Be=this.getCoordX(Ae,Ee,be);return Object(y.h)("div",{class:x.a.lineChart,style:`height: ${s}px; overflow: hidden;`},Object(y.h)("div",{class:"overflow-auto position-relative w-100 h-100",style:"overflow-y: hidden !important;",ref:e=>this.svgContainerRef=e,onTouchstart:S.a.captureEvents,onTouchend:S.a.captureEvents,onTouchmove:S.a.captureEvents,onScroll:S.a.captureEvents},Object(y.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:x.a.svg,viewBox:`0 0 ${t} ${s}`,preserveAspectRatio:"none",style:`padding-left: ${ye}px; padding-right: ${je}px; padding-bottom: ${ke}px; width: ${t}px; min-width: 100%; max-height: 100%;`,ref:e=>this.svgRef=e},Me&&Me.reverse().map((t,s)=>{let a;return Oe&&Oe.length>0&&(a=this.getMouseData(Ae,Ee,t.dataMap,Oe[0])),Object(y.h)(e,null,Object(y.h)("path",{d:t.d,class:`${x.a[ze>20?"pathOriginal":"pathRight"+(ze-s-1)]}\n                                            ${ee[ze-s-1]?x.a["pathRightFill"+(ze-s-1)]:""}`,"fill-rule":"evenodd"}),le&&Oe&&Oe.length>0&&t.dataMap&&a&&a.yVal&&Object(y.h)("line",{x1:this.getCoordX(Ae,Ee,Ee),x2:a.x,y1:a.ySmooth,y2:a.ySmooth,class:`${x.a.mouseLine} ${x.a["pathRight"+(ze-s-1)]}`}))}),Fe&&Fe.reverse().map((t,s)=>{let a;Oe&&Oe.length>0&&(a=this.getMouseData(Ae,Ee,t.dataMap,Oe[0]));const i=Re-s-1;let o=x.a["pathLeft"+i],n=x.a[Q[i]?x.a["pathLeftFill"+i]:""];return i>9&&(o=x.a.pathOriginal),Object(y.h)(e,null,Object(y.h)("path",{d:t.d,class:`${o} ${n}`,"fill-rule":"evenodd"}),re&&Oe&&Oe.length>0&&t.dataMap&&a&&a.yVal&&Object(y.h)("line",{x1:this.getCoordX(Ae,Ee,Ae),x2:a.x,y1:a.ySmooth,y2:a.ySmooth,class:`${x.a.mouseLine} ${x.a["pathLeft"+(Re-s-1)]}`}))}),Oe&&Oe.length>0&&Object(y.h)("line",{x1:Oe[0],y1:s,x2:Oe[0],y2:"0",class:x.a.mouseLine}),Be&&Object(y.h)("line",{x1:Be,y1:s,x2:Be,y2:"0",class:x.a.marker}),fe&&fe.map(e=>{const t=this.getCoordX(Ae,Ee,e);return Object(y.h)("line",{x1:t,y1:s,x2:t,y2:"0",class:x.a.markers})}),(re||le)&&Fe&&Oe&&Oe.length>0&&Object(y.h)("rect",{x:this.getTextBoxX(Oe[0],"",10),y:s/2,width:"165",height:15*Ue+25,rx:"5",ry:"5",class:x.a.mouseHoverBox}),(re||le)&&Oe&&Oe.length>0&&Object(y.h)("text",{x:this.getTextBoxX(Oe[0]),y:s/2,"font-size":_e,class:ve?x.a.mouseHoverDarkmode:x.a.mouseHover,style:"border: #ff0000 solid 2px;"},re&&Fe&&Fe.reverse().map((t,s)=>{const a=j.a.isArray(oe)&&j.a.isFunction(oe[s])?oe[s]:e=>e,i=this.getMouseData(Ae,Ee,t.dataMap,Oe[0]);return Object(y.h)(e,null,i&&0===s&&Object(y.h)("tspan",{x:this.getTextBoxX(Oe[0]),dy:"1.2em"},l(i.xVal,k)),t.d&&t.dataMap&&j.a.isNumber(i.yVal)&&Object(y.h)("tspan",{x:this.getTextBoxX(Oe[0]),dy:"1.2em","text-anchor":"start"},Object(y.h)("tspan",{class:x.a["pathLeft"+s]},"--")," ",Z[s],": ",a(i.yVal)," ",X[s]))}),le&&Me&&Me.reverse().map((t,s)=>{const a=j.a.isArray(ne)&&j.a.isFunction(ne[s])?ne[s]:e=>e;let i;return Oe&&Oe.length>0&&(i=this.getMouseData(Ae,Ee,t.dataMap,Oe[0])),Object(y.h)(e,null,t.d&&t.dataMap&&j.a.isNumber(i.yVal)&&Object(y.h)("tspan",{x:this.getTextBoxX(Oe[0],"right"),dy:"1.2em","text-anchor":"end"},Y[s],": ",a(i.yVal)," ",J[s]," ",Object(y.h)("tspan",{class:x.a["pathRight"+s]},"--")))}))),f&&Object(y.h)("div",{class:""+x.a["x-axis"],style:{left:ye+"px",bottom:"0px",width:`calc(${t}px - ${ye}px)`,"font-size":Te}},_?Object(y.h)(e,null,Ne.map(e=>Object(y.h)("div",{"data-value":l(e,k),class:"position-relative"},Object(y.h)("a",{href:`${_}${e}`,class:"stretched-link"}," ")))):Object(y.h)(e,null,Ne.map(e=>Object(y.h)("div",{"data-value":l(e,k)}))))),Object(y.h)("div",{class:"position-absolute",style:"top: 0; left: 40px;"},Z&&Z.map((e,t)=>{let s=x.a["legendLeft"+t];return t>9&&(s=x.a.legendOriginal),Object(y.h)("div",{class:"d-flex align-items-center"},Object(y.h)("span",{class:""+s}),Object(y.h)("small",{class:x.a.pathText,x:"35",y:15+xe*t,"font-size":Se},e))})),Object(y.h)("div",{class:"position-absolute",style:"top: 0; right: 70px;"},Y&&Y.map((e,s)=>Object(y.h)("div",{class:"d-flex align-items-center"},Object(y.h)("span",{class:""+x.a["legendRight"+s],x1:t-150,y1:10+xe*s,x2:t-130,y2:10+xe*s}),Object(y.h)("small",{class:x.a.pathText,x:t-125,y:15+xe*s,"font-size":Se},e)))),g&&Object(y.h)("div",{class:x.a["y-axis-left"],style:{top:we+"px",bottom:ke+"px","font-size":Te}},$e.map(e=>Object(y.h)("div",{"data-value":c(e,D)}))),v&&Object(y.h)("div",{class:x.a["y-axis-right"],style:{top:we+"px",bottom:ke+"px","font-size":Te}},We.map(e=>Object(y.h)("div",{"data-value":c(e,C)}))))}})||v;t.a=T}).call(this,s("hosL").Fragment)},bixo:function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}},"c5+e":function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("Y3FI"),l=s("go65"),c=s("OhSV"),d=s("tJLP"),h=s("Cjoz"),u=s("CE5K");let p=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.handleEmailInput=async function(e){const{userStore:s}=t.props.stores,a=e.target.value;t.setState({email:a}),clearTimeout(t.checkEmailTimer),t.checkEmailTimer=setTimeout(()=>s.checkEmail(a),1e3)},this.togglePassword=()=>{let{passwordType:e}=this.state;e="password"===e?"text":"password",this.setState({passwordType:e})},this.updateCapsLockStatus=e=>{this.setState({isCapsLock:e})},this.login=()=>{const{email:e,password:t,token:s}=this.state,{userStore:a}=this.props.stores;a.checkLogin({email:e,password:t,token:s})},this.resetLoginMessages=()=>{const{userStore:e}=this.props.stores;e.resetLoginMessages()},this.newUser=()=>{const{email:e=""}=this.state;Object(r.route)("/register/"+e,!0)},this.forgotten=()=>{const{email:e=""}=this.state;Object(r.route)("/forgotten/"+e,!0)},this.changeLanguage=e=>{const t=e.target.value,{appState:s}=this.props.stores;s.setLanguage(t)},this.validateLoginToken=async function(){const{userStore:e}=t.props.stores,{loginToken:s}=t.props,a=await e.validateLoginToken(s);a&&200===a.status&&Object(r.route)("/",!0)},this.state={showToken:!1,isCapsLock:!1,passwordType:"password",email:this.props.email}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout(()=>e.checkEmail(this.props.email),1e3));const{loginToken:t}=this.props;o.a.isString(t)&&this.validateLoginToken()}render(){const{isCapsLock:e,email:t,password:s,token:a,passwordType:n}=this.state,{appState:r,userStore:p}=this.props.stores,{language:m="en"}=r,{emailIsAvailable:b,login:f,twoFactorLogin:g}=p,{message:O,messageIcon:v,error:y,errorIcon:j}=f,w=o.a.validateEmail(t),k=w&&s;return Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},!1,Object(i.h)(u.a,null),Object(i.h)("h1",{class:"mt-5"},Object(i.h)("i",{class:"fas fa-paw"})," The Musher"),Object(i.h)("h5",{class:"mt-1 mb-5"},Object(i.h)(c.c,{id:"login.login"},"Logg inn")),Object(i.h)(d.a,{message:y,icon:j,remove:this.resetLoginMessages}),Object(i.h)(h.a,{message:O,icon:v,remove:this.resetLoginMessages}),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"emailInput"},Object(i.h)("i",{class:"far fa-envelope"})," ",Object(i.h)(c.c,{id:"login.email"},"E-post")),Object(i.h)("input",{type:"email",class:"form-control "+(t?w&&!b?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:t,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),t&&w&&b&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"login.email-not-found"},"E-posten finnes ikke, men du kan registrere deg 😃")),t&&!w&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"login.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut. Kan det være en skrivefeil?")),t&&w&&!b&&Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"login.email-looks-good"},"E-post ser bra ut."))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"passwordInput"},Object(i.h)("i",{class:"fas fa-key"})," ",Object(i.h)(c.c,{id:"login.password"},"Passord")),Object(i.h)("div",{class:"input-group"},Object(i.h)("input",{type:n,class:"form-control",id:"passwordInput",onInput:Object(l.a)(this,"password"),value:s,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),Object(i.h)("div",{class:"input-group-append"},Object(i.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(i.h)("i",{class:"fas fa-eye"+("text"===n?"-slash":"")}))))),e&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(c.c,{id:"login.caps-lock-on"},"CAPS LOCK er på!")),g&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"tokenInput"},Object(i.h)("i",{class:"fas fa-unlock"})," ",Object(i.h)(c.c,{id:"login.2fa-token"},"2FA Token")),Object(i.h)("input",{type:"number",class:"form-control",id:"tokenInput",onInput:Object(l.a)(this,"token"),value:a})),Object(i.h)("button",{class:"btn "+(k?"btn-primary":"btn-outline-primary"),type:"button",onClick:this.login,disabled:!k},Object(i.h)("i",{class:"fas fa-sign-in-alt mr-2"}),Object(i.h)(c.c,{id:"login.login"},"Logg inn")),Object(i.h)("button",{class:"btn btn-outline-secondary float-right",type:"button",onClick:this.newUser},Object(i.h)("i",{class:"fas fa-plus mr-2"}),Object(i.h)(c.c,{id:"login.new-user"},"Ny bruker")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link",onClick:this.forgotten},Object(i.h)(c.c,{id:"login.forgot-password"},"Glemt passordet?"))))),Object(i.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4"},Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-auto my-1 mx-auto",style:"width: 80px;"},Object(i.h)("select",{class:"custom-select",style:"background-color: inherit; border: none;",onInput:this.changeLanguage},Object(i.h)("option",{value:"no",selected:"no"===m},"🇳🇴 NO"),Object(i.h)("option",{value:"en",selected:"en"===m},"🇬🇧 EN"),Object(i.h)("option",{value:"es",selected:"es"===m},"🇪🇸 ES"),Object(i.h)("option",{value:"de",selected:"de"===m},"🇩🇪 DE"),Object(i.h)("option",{value:"fr",selected:"fr"===m},"🇫🇷 FR"),Object(i.h)("option",{value:"ru",selected:"ru"===m},"🇷🇺 RU"),Object(i.h)("option",{value:"se",selected:"se"===m},"🇸🇪 SE"))))))}})||a;t.a=p},"cA+J":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=(s("Utv1"),s("/eY4")),c=(s("Y3FI"),s("go65")),d=s("OhSV"),h=s("ZOvn");const u=h.a.marginTop(!1),p=h.a.marginTopBack(!1),m=h.a.marginBottom(),b={newMember:{}};let f=Object(l.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.insertTeamMember=async function(){const{newMember:e}=t.state,{teamStore:s}=t.props.stores,{team:a}=s;await s.addMember(a.id,i({},e)),t.setState({newMember:{}})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=i({},b),this.updateTimer={}}async loadTeam(){const{teamStore:e,userStore:t}=this.props.stores;await e.load(this.props.team,!1,{addData:["dogs"]});const{team:s}=e;await t.getWorkoutSummary({team:s.id})}componentDidMount(){this.loadTeam()}render(){const{newMember:e}=this.state,{teamStore:t}=this.props.stores,{team:s}=t;return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${u};`},Object(r.h)("div",{class:"d-flex justify-content-between mb-2"},Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${p}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(r.h)("div",null,Object(r.h)("h5",{class:"text-muted"},Object(r.h)(d.c,{id:"teams.addmember.title"},"Team - Legg til medlem"))),Object(r.h)("div",null,"    ")),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",null,Object(r.h)(d.c,{id:"teams.addmember.add-new"},"Legg til nytt medlem i "),s.name),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"emailInput"},Object(r.h)(d.c,{id:"teams.addmember.email"},"E-post")),Object(r.h)("input",{type:"text",class:"form-control",id:"emailInput","aria-describedby":"emailHelp",onInput:Object(c.a)(this,"newMember.email"),value:e.email}),Object(r.h)("small",{id:"emailHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"teams.addmember.email-help"},"E-postadressen til nytt medlem."))),Object(r.h)("div",{class:"alert alert-warning",role:"alert"},Object(r.h)("p",null,Object(r.h)("i",{class:"fas fa-exclamation-circle float-left mr-3"}),Object(r.h)(d.c,{id:"teams.addmember.info-1"},"Medlemmer som legges til vil få full tilgang på hundene, treningene og løypene til dette teamet. ")),Object(r.h)("p",null,Object(r.h)(d.c,{id:"teams.addmember.info-2"},"Vi anbefaler at du kun legger til folk du stoler på :)"))),Object(r.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertTeamMember},Object(r.h)(d.c,{id:"teams.addmember.save-new"},"Registrer nytt medlem")))))}})||n;t.a=f},cadc:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("fh8t"),h=s.n(d),u=s("RMlE"),p=s("8gML"),m=s("3kDq"),b=(s("aGZh"),s("ZOvn"));const f=b.a.marginTop(!0,!0),g=b.a.marginBottom(),O={isLoading:!1,contentIsNotLoaded:!0,email:"",submenu:"ads",jwtToken:r.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};let v=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.toggleDisplayDetails=e=>{const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleDisplayDetails(t)},this.adminToggleEditUser=e=>{e.stopPropagation();const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleEditUserDetails(t)},this.adminSignupEdit=e=>{const{raceid:t}=this.props,{raceStore:s}=this.props.stores,a=e.target.id,i=e.target.value,{classid:o,contestantid:n}=e.target.dataset,l={raceClassId:o,contestantId:n,["raceClassContestant"+r.a.ucfirst(a)]:i};clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout((async function(){s.editClass({id:t,data:l})}),500)},this.lockAllWorkoutsInRace=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,a=await s.lockAllWorkoutsInRace({id:e});t.setState({lockMessage:a})},this.filterByClass=e=>{const t=e.target.closest("button").dataset.id,{appState:s}=this.props.stores;s.toggleSelectedClassId(t)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},O),this.updateTimer={}}async loadRace(e=this.props){var t=this;this.setState({isLoading:!0});const{raceStore:s}=e.stores,{raceid:a}=e;await s.load(a);const{race:i}=s,o=i.classes.map(e=>{if(e.contestants)return e.contestants.map(e=>e.team)});o.length>0&&(await s.loadTeams(o.join(",")),await s.loadWorkoutSummary(o.join(","),a),s.getWorkoutSummaryActiveTeams()),s.getAllClassesSortedBy();const n=Math.floor((new Date).getTime()/1e3);this.setState({reloadIsActive:!0,reloadLastEpoch:n},()=>this.tickReloadTimeer()),clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((async function(){const e=Math.floor((new Date).getTime()/1e3);t.setState({reloadLastEpoch:e}),t.loadRace()}),6e4),this.setState({isLoading:!1,contentIsNotLoaded:!1})}tickReloadTimeer(){const{reloadIsActive:e,reloadLastEpoch:t}=this.state;if(e){const e=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(e-t)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace()}componentWillReceiveProps(e){this.loadRace(e)}render(){const{appState:t,raceStore:s,userStore:a}=this.props.stores,{user:i={},isAdmin:o}=a,{raceid:l,path:d}=this.props,{displayDetails:O,editUserDetails:v,language:y="en",selectedClassIds:j=[]}=t,{race:w,classes:k}=s,{reloadInSec:x,contentIsNotLoaded:S,lockMessage:_}=this.state,T=Math.floor(r.a.normalizeBetween(x,0,60,0,100)),{activeTeams:D}=s,I=new Date(w.endDate);I.setHours(I.getHours()+2);return Object(n.h)(e,null,Object(n.h)(u.a,{stores:this.props.stores}),Object(n.h)("div",{class:"container-fluid ",style:`margin-bottom: ${g}; margin-top: ${f};`},Object(n.h)(p.a,{stores:this.props.stores,path:d,raceid:l}),Object(n.h)("div",{class:"row border-bottom "},Object(n.h)("div",{class:"col-12"},Object(n.h)(c.b,null,Object(n.h)(m.a,{stores:this.props.stores,title:Object(n.h)(c.c,{id:"races.results"},"Resultater")})),o&&Object(n.h)(e,null,Object(n.h)("a",{href:`/race/${l}/resultsMain`},"New results")),x>=0&&Object(n.h)(e,null,Object(n.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(n.h)("div",{class:"progress-bar",role:"progressbar",style:`width: ${T}%;`,"aria-valuenow":T,"aria-valuemin":"0","aria-valuemax":"100"}))),i.email&&Object(n.h)("div",{class:"alert alert-primary",role:"alert"},"no"===y&&Object(n.h)(e,null,"Resultatene hentes direkte fra treningsøktene i The Musher appen.",Object(n.h)("br",null),Object(n.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(n.h)("ul",null,Object(n.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(n.h)("li",null,"Være markert som 'Konkurranse'."),Object(n.h)("li",null,"Være registrert på teamet som er påmeldt."))),"en"===y&&Object(n.h)(e,null,"Resultatene hentes direkte fra treningsøktene i The Musher appen.",Object(n.h)("br",null),Object(n.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(n.h)("ul",null,Object(n.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(n.h)("li",null,"Være markert som 'Konkurranse'."),Object(n.h)("li",null,"Være registrert på teamet som er påmeldt.")))),w.resultsUrl?Object(n.h)("div",{class:"p-3 my-4 bg-light"},Object(n.h)("a",{href:w.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},w.resultsText?w.resultsText:Object(n.h)(e,null,Object(n.h)(c.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(n.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(n.h)(e,null),(S||!k||0===k.length)&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")))),Object(n.h)("div",{class:"col-12 overflow-auto bg-light py-4 border rounded-lg mb-5",style:"max-height: 30vh;"},D&&D.length>0&&Object(n.h)(e,null,Object(n.h)("span",{class:"float-right"},Object(n.h)("span",{class:"text-muted"},Object(n.h)(c.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",D.length))),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"races.on-trail"},"På sporet nå"),":"),Object(n.h)("div",{class:"table-responsive-md"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",null,"#"),Object(n.h)("th",null,Object(n.h)(c.c,{id:"races.name"},"Navn")),Object(n.h)("th",null,Object(n.h)(c.c,{id:"races.start-date"},"Startdato")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.distance"},"Distanse")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.ascend"},"Høydemeter")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.avg-speed"},"Gj.snittsfart")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.race-time"},"Kjøretid")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.rest-time"},"Hviletid")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.load-index"},"B.index")),Object(n.h)("th",{class:"text-center"},Object(n.h)(c.c,{id:"races.current-speed"},"Fart nå")),Object(n.h)("th",null,Object(n.h)(c.c,{id:"races.elevation"},"Moh")),Object(n.h)("th",null,Object(n.h)(c.c,{id:"races.elevation-graph"},"Høydekurve")))),Object(n.h)("tbody",null,D&&D.length>0?D.map((t,a)=>{const i=s.getTeamById(t.team),o=s.getMusherByTeamId(i.id),l=r.a.format(3.6*t.currentLocation.coords.speed,1),c=t.secSinceLastUpdate>1800?"danger":t.secSinceLastUpdate>600?"warning":"success",d=t.currentLocation.timestamp;return Object(n.h)("tr",null,Object(n.h)("th",null,a+1),Object(n.h)("td",null,1===t.isInProgress&&Object(n.h)("div",{class:`spinner-grow text-${c} float-left`,role:"status"}),2===t.isInProgress&&Object(n.h)("i",{class:"fas fa-pause-circle text-warning mr-2 float-left",style:"font-size: 1.8em;"}),o.firstname," ",o.lastname,i.name&&Object(n.h)(e,null," / ",Object(n.h)("span",{class:"text-muted"},i.name)),Object(n.h)("br",null),Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",t.avgDogs,Object(n.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2"})," ",r.a.format(100*t.currentLocation.battery.level,0),"%",Object(n.h)("i",{class:"fas fa-hourglass-half text-muted ml-2"})," Updated: ",r.a.formatDistance(d,new Date)," ago")),Object(n.h)("td",null,r.a.formatDate(t.date,{locale:y,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(n.h)("td",{class:"text-right"},r.a.format(t.distanceKm,1)," km"),Object(n.h)("td",{class:"text-right"},r.a.format(t.elevation,0)," m"),Object(n.h)("td",{class:"text-right"},r.a.format(t.speedAvg,1)," km/t"),Object(n.h)("td",{class:"text-center"},r.a.secToHms(t.duration)),Object(n.h)("td",{class:"text-center"},r.a.secToHms(t.rest)),Object(n.h)("td",{class:"text-right"},t.loadIndex),Object(n.h)("td",{class:"text-right"},l," km/t"),Object(n.h)("td",null,t.currentLocation.coords.altitude," moh"),Object(n.h)("td",null,Object(n.h)("svg",{viewBox:"0 0 300 100",style:"width: 100%; height: 50px;"},Object(n.h)("path",{d:""+t.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"}))))}):Object(n.h)("tr",null,Object(n.h)("td",{colspan:"11",class:"text-center py-4"},Object(n.h)("h5",null,Object(n.h)(c.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå...")))))))),Object(n.h)("div",{class:"col-12"},Object(n.h)("h1",null,Object(n.h)(c.c,{id:"races.classes"},"Classes")),Object(n.h)("nav",{class:"flex-column flex-sm-row"},w.classes&&w.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:`btn btn-lg flex-sm-fill text-sm-center btn${j.indexOf(t.id)>-1?"":"-outline"}-primary mr-2 mb-2`,onClick:this.filterByClass,"data-id":t.id},t.title))))),Object(n.h)("div",{class:"col-12"},w.classes&&w.classes.filter(e=>!(j.length>0)||j.indexOf(e.id)>-1).sort((e,t)=>e.distance-t.distance).map(t=>Object(n.h)("div",{class:"mt-5 mb-5"},w.resultDanger&&Object(n.h)("div",{class:"alert alert-danger",role:"alert"},Object(n.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")),Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(w.resultDanger,w.images,y),markdownOpts:b.a.getMarkdownOptions()})),w.resultWarning&&Object(n.h)("div",{class:"alert alert-warning",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(w.resultWarning,w.images,y),markdownOpts:b.a.getMarkdownOptions()})),w.resultSuccess&&Object(n.h)("div",{class:"alert alert-success",role:"alert"},Object(n.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(w.resultSuccess,w.images,y),markdownOpts:b.a.getMarkdownOptions()})),Object(n.h)("span",{class:"float-right"},Object(n.h)("span",{class:"text-muted"},Object(n.h)(c.c,{id:"races.mushers"},"Mushers"),": ",t.totalMushers||0),Object(n.h)("span",{class:"text-muted ml-4"},Object(n.h)(c.c,{id:"races.finished-mushers"},"Finished mushers"),": ",t.totalFinished||0," ")),Object(n.h)("h3",null,t.title," ",t.startDate&&Object(n.h)(e,null,": ",Object(n.h)("span",{class:"font-weight-lighter"},r.a.formatDate(`${t.startDate} ${t.startTime||"00:00:00"}`,{locale:y,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",r.a.formatDate(`${t.endDate} ${t.endTime||"00:00:00"}`,{locale:y,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(n.h)("div",{class:"table-responsive-md"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",{scope:"col"},"#"),Object(n.h)("th",{scope:"col",style:"min-width: 200px;"},Object(n.h)(c.c,{id:"races.name"},"Navn")),o&&Object(n.h)(e,null,Object(n.h)("th",{scope:"col"},Object(n.h)("i",{class:"fas fa-user-shield"})," Cellphone"),Object(n.h)("th",{scope:"col"},Object(n.h)("i",{class:"fas fa-user-shield"})," Email")),Object(n.h)("th",{scope:"col",class:"d-none d-sm-block",style:"min-width: 400px;"},Object(n.h)(c.c,{id:"races.stages"},"Etapper")),Object(n.h)("th",{scope:"col"},Object(n.h)(c.c,{id:"races.result"},"Resultat")))),Object(n.h)("tbody",null,k[t.id]&&k[t.id].contestants&&k[t.id].contestants.map((s,a)=>{const{musher:i,currentTeam:l,currentStages:c,currentResults:d,completed:u,normalizedDuration:p,weightedNormalizedDuration:m,isDone:f}=s;return Object(n.h)(e,null,Object(n.h)("tr",{onClick:this.toggleDisplayDetails,"data-email":i.email},Object(n.h)("th",{scope:"row"},a+1,o&&d&&Object(n.h)(e,null,Object(n.h)("br",null),d.isLocked?Object(n.h)("i",{class:"fas fa-lock text-danger mr-2"}):Object(n.h)("i",{class:"fas fa-lock-open text-success mr-2"}))),Object(n.h)("td",{class:""+(O[i.email]?"font-weight-bold":""),style:""+(O[i.email]?"":"line-height: 0.8em;")},O[i.email]?Object(n.h)(e,null,i.firstname," ",i.lastname,Object(n.h)("br",null),Object(n.h)("span",{class:"text-muted"},l.name),Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},i.sportsClub),Object(n.h)("br",null),i.facebook&&Object(n.h)("a",{class:"mr-2",href:b.a.asFacebookLink(i.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-facebook"})),i.instagram&&Object(n.h)("a",{class:"mr-2",href:b.a.asInstagramLink(i.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-instagram"})),i.price1&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",i.price1,i.priceSent&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-check text-success"}))),i.price2&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",i.price2),i.price3&&Object(n.h)("div",{class:"font-weight-lighter"},Object(n.h)("i",{class:"fas fa-trophy text-warning"})," ",i.price3)):Object(n.h)(e,null,i.price1&&Object(n.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-trophy"}),i.priceSent&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-check text-success"}))),Object(n.h)("nobr",null,i.firstname," ",i.lastname,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},i.sportsClub),Object(n.h)("br",null)))),o&&Object(n.h)(e,null,Object(n.h)("td",null,i.cellphone),Object(n.h)("td",null,i.email)),Object(n.h)("td",{class:"d-none d-md-block"},o&&Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:this.adminToggleEditUser},Object(n.h)("i",{class:"fas fa-user-edit"}))),o&&v[i.email]&&Object(n.h)(e,null,Object(n.h)("h5",null,"Admin edit:"),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(n.h)("div",{class:"col-sm-10"},i.email)),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{class:"col-sm-2 col-form-label text-right"},"Cellphone"),Object(n.h)("div",{class:"col-sm-10"},i.cellphone)),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.raceStatus},Object(n.h)("option",{value:""},"-- Choose race status --"),Object(n.h)("option",{value:"OK"},"OK - Everything ok"),Object(n.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(n.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(n.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(n.h)("option",{value:"DQ"},"DQ - Disqualified"),Object(n.h)("option",{value:"DC"},"DC - Data changed by user")))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.raceComment}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.gpxResultsApproved?r.a.isoDate(i.gpxResultsApproved,!1,!1,!0):null}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.price1}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.price2}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.price3}))),Object(n.h)("div",{class:"form-group row my-0"},Object(n.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(n.h)("div",{class:"col-sm-10"},Object(n.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.priceSent?r.a.isoDate(i.priceSent,!1,!1,!0):null})))),Object(n.h)("div",{class:"d-flex flex-wrap"},c&&c.map((s,a)=>{const l=s.distanceKm/t.distance*100,c=(l>100||parseInt(l,10),Math.floor(new Date(s.date).getTime()/1e3)),d=new Date(0);d.setUTCSeconds(c+parseInt(s.duration,10));s.images.flat();return O[i.email]?Object(n.h)(e,null,Object(n.h)("div",{class:"bg-light border rounded-lg  text-right position-relative mr-1 mb-1",style:"width: 350px; min-width: 320px;"},Object(n.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(n.h)("path",{d:""+s.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(n.h)("div",{class:"position-relative px-3"},Object(n.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},a+1),Object(n.h)("small",null,o&&Object(n.h)("span",{class:"position-absolute",style:"top: 0px; right: -5px;"},s.isLocked?Object(n.h)("i",{class:"fas fa-lock text-danger"}):Object(n.h)("i",{class:"fas fa-lock-open text-success"})),Object(n.h)("span",{class:"float-left"},Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt text-muted"})," ",r.a.formatDate(s.date,{locale:y,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt text-muted"})," ",r.a.formatDate(d,{locale:y,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(n.h)("span",{class:"float-right"},Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(s.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",r.a.format(s.elevation,0)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"m")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",r.a.format(s.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(s.duration)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",r.a.secToHms(s.rest)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",r.a.secToHms(s.duration-s.rest)||"n/a"),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",r.a.format(s.avgDogs,0)||"n/a")))))):Object(n.h)(e,null,Object(n.h)("div",{class:"bg-light border rounded-lg text-right position-relative px-3 mr-1 mb-1",style:"width: 300px; min-width: 300px;"},Object(n.h)("small",null,o&&Object(n.h)("span",{class:"position-absolute",style:"top: 2px; right: -5px;"},s.isLocked?Object(n.h)("i",{class:"fas fa-lock text-danger"}):Object(n.h)("i",{class:"fas fa-lock-open text-sucess"})),Object(n.h)("span",{class:"float-left"},a+1),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(s.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",r.a.format(s.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(s.duration)||"n/a"))))}))),Object(n.h)("td",{class:"text-right position-relative pl-4"},function(t){switch(t.raceStatus){case"OK":return Object(n.h)(e,null,Object(n.h)("span",{class:"position-absolute rounded-lg",style:"top: 10px; left: 0px;"},Object(n.h)("i",{class:"fas fa-check text-success"})));case"DNS":case"DNF":case"DNQ":case"DQ":return Object(n.h)(e,null,Object(n.h)("span",{class:"position-absolute bg-danger text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -100px; width: 80px"},Object(n.h)("i",{class:"fas fa-info-circle"})," ",t.raceStatus));case"DC":return Object(n.h)(e,null,Object(n.h)("span",{class:"position-absolute bg-warning text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -150px; width: 80px"},Object(n.h)("i",{class:"fas fa-info-circle"})," ",t.raceStatus));default:return""}}(i),i.raceComment&&Object(n.h)(e,null,Object(n.h)("div",{class:"alert alert-warning text-left",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)(h.a,{markdown:b.a.replaceImages(i.raceComment,w.images,y),markdownOpts:b.a.getMarkdownOptions()}))),o&&d.lastUpdated>I&&Object(n.h)(e,null,Object(n.h)("div",{class:"alert alert-danger text-left d-none d-md-block",role:"alert"},Object(n.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(n.h)("i",{class:"fas fa-user-shield"})," Last changed: ",r.a.formatDate(d.lastUpdated,{locale:y,hour12:!1,hour:"2-digit",minute:"2-digit"}))),u>=99?Object(n.h)("span",{class:"position-absolute",style:"top: 10px; left: 0px;"},Object(n.h)("i",{class:"fas fa-flag-checkered text-success"})):"",Object(n.h)("small",null,O[i.email]?Object(n.h)(e,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(d.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("br",null),Object(n.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(n.h)("div",{class:"progress-bar "+(u>=99?"bg-success":""),role:"progressbar",style:`width: ${u}%`,"aria-valuenow":""+u,"aria-valuemin":"0","aria-valuemax":"100"})),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",r.a.format(d.elevation,0)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"m")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",r.a.format(d.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(d.duration)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",r.a.secToHms(d.rest)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",r.a.secToHms(d.duration-d.rest)||"n/a"),Object(n.h)("br",null),1===f&&Object(n.h)(e,null,Object(n.h)("nobr",{class:"font-weight-bold"},Object(n.h)("span",{class:"font-weight-lighter text-muted"},"Normalized to race distance:")," ",Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(p)||"n/a"),Object(n.h)("br",null)),1===f&&Object(n.h)(e,null,Object(n.h)("nobr",{class:"font-weight-bold"},Object(n.h)("span",{class:"font-weight-lighter text-muted"},"Normalized:")," ",Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(m)||"n/a"),Object(n.h)("br",null)),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",r.a.format(d.avgDogs,0)||"n/a")):Object(n.h)(e,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(d.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",r.a.format(d.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),1===f?Object(n.h)(e,null,Object(n.h)("nobr",{class:"font-weight-bold"},Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(m)||"n/a"),Object(n.h)("br",null)):Object(n.h)(e,null,Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(d.duration)||"n/a"),Object(n.h)("br",null)),Object(n.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(n.h)("div",{class:"progress-bar "+(u>=99?"bg-success":""),role:"progressbar",style:`width: ${u}%`,"aria-valuenow":""+u,"aria-valuemin":"0","aria-valuemax":"100"})))))))})))),Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("small",null,"no"===y&&Object(n.h)(e,null,"OBS! Ref reglene så er det ikke lov til å endre treningsøktene som er med i konkurransen etter at løpet er ferdig.",Object(n.h)("br",null),"Forsøk på dette vil resultere i automatisk deplassering på listene."),"en"===y&&Object(n.h)(e,null,"IMPORTANT! According to the rules: It is NOT allowed to try alter the workouts related to the competition after the race has ended.",Object(n.h)("br",null),"Attempts will result in automatic deplacement on the resultlists.")))))))),o&&Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-danger btn-lg float-right m-4",onClick:this.lockAllWorkoutsInRace},"Lock all workouts in this race"),Object(n.h)("xmp",{class:"m-5"},JSON.stringify(_,null,4))))}})||o;t.a=v}).call(this,s("hosL").Fragment)},cneo:function(e,t,s){"use strict";(function(e){function a(){return++_t.mobxGuid}function i(){throw"X"}function o(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}function n(e){return null!==e&&"object"==typeof e}function r(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function l(e,t,s){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:s})}function c(e,t){var s="isMobX"+e;return t.prototype[s]=!0,function(e){return n(e)&&!0===e[s]}}function d(e){return e instanceof Map}function h(e){return e instanceof Set}function u(e){var t=new Set;for(var s in e)t.add(s);return Object.getOwnPropertySymbols(e).forEach((function(s){Object.getOwnPropertyDescriptor(e,s).enumerable&&t.add(s)})),Array.from(t)}function p(e){return e&&e.toString?e.toString():new String(e).toString()}function m(e){return null===e?null:"object"==typeof e?""+e:e}function b(e,t,s){void 0===t&&(t=Ve),void 0===s&&(s=Ve);var a,i=new Ke(e);return t!==Ve&&le("onBecomeObserved",i,t,a),s!==Ve&&re(i,s),i}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],s=0;return t?t.call(e):{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}}}function g(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,i,o=s.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)n.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return n}function O(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(e,t){var s=t?tt:st;return s[e]||(s[e]={configurable:!0,enumerable:t,get:function(){return y(this),this[e]},set:function(t){y(this),this[e]=t}})}function y(e){var t,s;if(!0!==e[Qe]){var a=e[et];if(a){l(e,Qe,!0);var i=O(Object.getOwnPropertySymbols(a),Object.keys(a));try{for(var o=f(i),n=o.next();!n.done;n=o.next()){var r=a[n.value];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(s=o.return)&&s.call(o)}finally{if(t)throw t.error}}}}}function j(e,t){return function(){var s,a=function(a,i,o,n){if(!0===n)return t(a,i,o,a,s),null;Object.prototype.hasOwnProperty.call(a,et)||l(a,et,Je({},a[et]));return a[et][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:a,decoratorArguments:s},v(i,e)};return w(arguments)?(s=Be,a.apply(null,arguments)):(s=Array.prototype.slice.call(arguments),a)}}function w(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function k(e,t,s){return fe(e)?e:Array.isArray(e)?ct.array(e,{name:s}):r(e)?ct.object(e,void 0,{name:s}):d(e)?ct.map(e,{name:s}):h(e)?ct.set(e,{name:s}):e}function x(e){return e}function S(e){var t=j(!0,(function(t,s,a){var i=a?a.initializer?a.initializer.call(t):a.value:void 0;Ae(t).addObservableProp(s,i,e)})),s=("undefined"!=typeof process&&process,t);return s.enhancer=e,s}function _(e){return null==e?at:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}function T(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?x:k}function D(){i()}function I(e){return e instanceof bt}function P(e){switch(e.dependenciesState){case dt.UP_TO_DATE:return!1;case dt.NOT_TRACKING:case dt.STALE:return!0;case dt.POSSIBLY_STALE:for(var t=R(!0),s=F(),a=e.observing,i=a.length,o=0;o<i;o++){var n=a[o];if(jt(n)){if(_t.disableErrorBoundaries)n.get();else try{n.get()}catch(e){return M(s),z(t),!0}if(e.dependenciesState===dt.STALE)return M(s),z(t),!0}}return U(e),M(s),z(t),!1}}function L(e){var t=e.observers.size>0;_t.computationDepth>0&&t&&i(),_t.allowStateChanges||!t&&"strict"!==_t.enforceActions||i()}function C(e,t,s){var a=R(!0);U(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++_t.runId;var i,o=_t.trackingDerivation;if(_t.trackingDerivation=e,!0===_t.disableErrorBoundaries)i=t.call(s);else try{i=t.call(s)}catch(e){i=new bt(e)}return _t.trackingDerivation=o,function(e){for(var t=e.observing,s=e.observing=e.newObserving,a=dt.UP_TO_DATE,i=0,o=e.unboundDepsCount,n=0;n<o;n++){0===(r=s[n]).diffValue&&(r.diffValue=1,i!==n&&(s[i]=r),i++),r.dependenciesState>a&&(a=r.dependenciesState)}s.length=i,e.newObserving=null,o=t.length;for(;o--;){0===(r=t[o]).diffValue&&q(r,e),r.diffValue=0}for(;i--;){var r;1===(r=s[i]).diffValue&&(r.diffValue=0,G(r,e))}a!==dt.UP_TO_DATE&&(e.dependenciesState=a,e.onBecomeStale())}(e),z(a),i}function A(e){var t=e.observing;e.observing=[];for(var s=t.length;s--;)q(t[s],e);e.dependenciesState=dt.NOT_TRACKING}function E(e){var t=F();try{return e()}finally{M(t)}}function F(){var e=_t.trackingDerivation;return _t.trackingDerivation=null,e}function M(e){_t.trackingDerivation=e}function R(e){var t=_t.allowStateReads;return _t.allowStateReads=e,t}function z(e){_t.allowStateReads=e}function U(e){if(e.dependenciesState!==dt.UP_TO_DATE){e.dependenciesState=dt.UP_TO_DATE;for(var t=e.observing,s=t.length;s--;)t[s].lowestObserverState=dt.UP_TO_DATE}}function N(e,t,s){var a=function(){return $(e,t,s||this,arguments)};return a.isMobxAction=!0,a}function $(e,t,s,a){var o=function(){var e=0;var t=F();Z();var s=W(!0),a=R(!0),i={prevDerivation:t,prevAllowStateChanges:s,prevAllowStateReads:a,notifySpy:!1,startTime:e,actionId:gt++,parentActionId:ft};return ft=i.actionId,i}();try{return t.apply(s,a)}catch(e){throw o.error=e,e}finally{!function(e){ft!==e.actionId&&i();ft=e.parentActionId,void 0!==e.error&&(_t.suppressReactionErrors=!0);B(e.prevAllowStateChanges),z(e.prevAllowStateReads),Y(),M(e.prevDerivation),e.notifySpy&&!1;_t.suppressReactionErrors=!1}(o)}}function W(e){var t=_t.allowStateChanges;return _t.allowStateChanges=e,t}function B(e){_t.allowStateChanges=e}function H(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:kt}function V(){return _t}function G(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function q(e,t){e.observers.delete(t),0===e.observers.size&&K(e)}function K(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,_t.pendingUnobservations.push(e))}function Z(){_t.inBatch++}function Y(){if(0==--_t.inBatch){Q();for(var e=_t.pendingUnobservations,t=0;t<e.length;t++){var s=e[t];s.isPendingUnobservation=!1,0===s.observers.size&&(s.isBeingObserved&&(s.isBeingObserved=!1,s.onBecomeUnobserved()),s instanceof yt&&s.suspend())}_t.pendingUnobservations=[]}}function X(e){var t=_t.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&_t.inBatch>0&&K(e),!1)}function J(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ht.BREAK){var s=[];!function e(t,s,a){if(s.length>=1e3)return void s.push("(and many more)");s.push(""+new Array(a).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,s,a+1)}))}((a=e,pe(Me(a,i))),s,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof yt?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+s.join("\n")+"\n*/\n    ")()}var a,i}function Q(){_t.inBatch>0||_t.isRunningReactions||Dt(ee)}function ee(){_t.isRunningReactions=!0;for(var e=_t.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var s=e.splice(0),a=0,i=s.length;a<i;a++)s[a].runReaction()}_t.isRunningReactions=!1}function te(){i()}function se(e){return function(t,s,a){if(a){if(a.value)return{value:N(e,a.value),enumerable:!1,configurable:!0,writable:!0};var i=a.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return N(e,i.call(this))}}}return ae(e).apply(this,arguments)}}function ae(e){return function(t,s){Object.defineProperty(t,s,{configurable:!0,enumerable:!1,get:function(){},set:function(t){l(this,s,Pt(e,t))}})}}function ie(e,t,s){l(e,t,N(t,s.bind(e)))}function oe(e,t){function s(){e(i)}void 0===t&&(t=He);var i,o=t&&t.name||e.name||"Autorun@"+a();if(!t.scheduler&&!t.delay)i=new Tt(o,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var n=ne(t),r=!1;i=new Tt(o,(function(){r||(r=!0,n((function(){r=!1,i.isDisposed||i.track(s)})))}),t.onError,t.requiresObservable)}return i.schedule(),i.getDisposer()}function ne(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Lt}function re(e,t,s){return le("onBecomeUnobserved",e,t,s)}function le(e,t,s,a){var o="function"==typeof a?Me(t,s):Me(t),n="function"==typeof a?a:s,r=e+"Listeners";return o[r]?o[r].add(n):o[r]=new Set([n]),"function"!=typeof o[e]?i():function(){var e=o[r];e&&(e.delete(n),0===e.size&&delete o[r])}}function ce(e){var t,s,a=e.enforceActions,o=e.computedRequiresReaction,n=e.computedConfigurable,r=e.disableErrorBoundaries,l=e.reactionScheduler,c=e.reactionRequiresObservable,d=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((_t.pendingReactions.length||_t.inBatch||_t.isRunningReactions)&&i(),St=!0,xt&&(0==--H().__mobxInstanceCount&&(H().__mobxGlobals=void 0),_t=new wt)),void 0!==a){var h=void 0;switch(a){case!0:case"observed":h=!0;break;case!1:case"never":h=!1;break;case"strict":case"always":h="strict";break;default:i()}_t.enforceActions=h,_t.allowStateChanges=!0!==h&&"strict"!==h}void 0!==o&&(_t.computedRequiresReaction=!!o),void 0!==c&&(_t.reactionRequiresObservable=!!c),void 0!==d&&(_t.observableRequiresReaction=!!d,_t.allowStateReads=!_t.observableRequiresReaction),void 0!==n&&(_t.computedConfigurable=!!n),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),_t.disableErrorBoundaries=!!r),l&&(t=l,s=Dt,Dt=function(e){return t((function(){return s(e)}))})}function de(e,t,s,a){var i=he(a=_(a));return y(e),Ae(e,a.name,i.enhancer),t&&ue(e,t,s,i),e}function he(e){return e.defaultDecorator||(!1===e.deep?nt:it)}function ue(e,t,s,a){var i,o;Z();try{var n=Ge(t);try{for(var r=f(n),l=r.next();!l.done;l=r.next()){var c=l.value,d=Object.getOwnPropertyDescriptor(t,c);0;var h=(s&&c in s?s[c]:d.get?ut:a)(e,c,d,!0);h&&Object.defineProperty(e,c,h)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}}finally{Y()}}function pe(e){var t,s,a={name:e.name};return e.observing&&e.observing.length>0&&(a.dependencies=(t=e.observing,s=[],t.forEach((function(e){-1===s.indexOf(e)&&s.push(e)})),s).map(pe)),a}function me(){this.message="FLOW_CANCELLED"}function be(e,t){return null!=e&&(void 0!==t?!!Fe(e)&&e[qe].values.has(t):Fe(e)||!!e[qe]||Ze(e)||It(e)||jt(e))}function fe(e){return 1!==arguments.length&&i(),be(e)}function ge(e){return Fe(e)?e[qe].getKeys():Wt(e)||Vt(e)?Array.from(e.keys()):Ce(e)?e.map((function(e,t){return t})):i()}function Oe(e,t,s,a){return a.detectCycles&&e.set(t,s),s}function ve(e,t){var s;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Ct),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(s=new Map),function e(t,s,a){if(!s.recurseEverything&&!fe(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(vt(t))return e(t.get(),s,a);if(fe(t)&&ge(t),!0===s.detectCycles&&null!==t&&a.has(t))return a.get(t);if(Ce(t)||Array.isArray(t)){var i=Oe(a,t,[],s),o=t.map((function(t){return e(t,s,a)}));i.length=o.length;for(var n=0,r=o.length;n<r;n++)i[n]=o[n];return i}if(Vt(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===s.exportMapsAsObjects){var l=Oe(a,t,new Set,s);return t.forEach((function(t){l.add(e(t,s,a))})),l}var c=Oe(a,t,[],s);return t.forEach((function(t){c.push(e(t,s,a))})),c}if(Wt(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===s.exportMapsAsObjects){var d=Oe(a,t,new Map,s);return t.forEach((function(t,i){d.set(i,e(t,s,a))})),d}var h=Oe(a,t,{},s);return t.forEach((function(t,i){h[i]=e(t,s,a)})),h}var p=Oe(a,t,{},s);return u(t).forEach((function(i){p[i]=e(t[i],s,a)})),p}(e,t,s)}function ye(e){switch(e.length){case 0:return _t.trackingDerivation;case 1:return Me(e[0]);case 2:return Me(e[0],e[1])}}function je(e,t){void 0===t&&(t=void 0),Z();try{return e.apply(t)}finally{Y()}}function we(e){return e[qe]}function ke(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}function xe(e){var t=new Proxy(e,At);return e[qe].proxy=t,t}function Se(e){return void 0!==e.interceptors&&e.interceptors.length>0}function _e(e,t){var s=e.interceptors||(e.interceptors=[]);return s.push(t),o((function(){var e=s.indexOf(t);-1!==e&&s.splice(e,1)}))}function Te(e,t){var s=F();try{for(var a=O(e.interceptors||[]),i=0,o=a.length;i<o&&(t=a[i](t));i++);return t}finally{M(s)}}function De(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Ie(e,t){var s=e.changeListeners||(e.changeListeners=[]);return s.push(t),o((function(){var e=s.indexOf(t);-1!==e&&s.splice(e,1)}))}function Pe(e,t){var s=F(),a=e.changeListeners;if(a){for(var i=0,o=(a=a.slice()).length;i<o;i++)a[i](t);M(s)}}function Le(e,t,s,i){void 0===s&&(s="ObservableArray@"+a()),void 0===i&&(i=!1);var o=new Ft(s,t,i);Object.defineProperty(o.values,qe,{enumerable:!1,writable:!1,configurable:!0,value:o});var n=new Proxy(o.values,Et);if(o.proxy=n,e&&e.length){var r=W(!0);o.spliceWithArray(0,0,e),B(r)}return n}function Ce(e){return n(e)&&Ut(e[qe])}function Ae(e,t,s){if(void 0===t&&(t=""),void 0===s&&(s=k),Object.prototype.hasOwnProperty.call(e,qe))return e[qe];r(e)||(t=(e.constructor.name||"ObservableObject")+"@"+a()),t||(t="ObservableObject@"+a());var i=new Gt(e,new Map,p(t),s);return l(e,qe,i),i}function Ee(e){var t=e[qe];return t||(y(e),e[qe])}function Fe(e){return!!n(e)&&(y(e),Zt(e[qe]))}function Me(e,t){if("object"==typeof e&&null!==e){if(Ce(e))return void 0!==t&&i(),e[qe].atom;if(Vt(e))return e[qe];if(Wt(e)){var s=e;return void 0===t?s._keysAtom:((a=s._data.get(t)||s._hasMap.get(t))||i(),a)}var a;if(y(e),Fe(e))return t?((a=e[qe].values.get(t))||i(),a):i();if(Ze(e)||jt(e)||It(e))return e}else if("function"==typeof e&&It(e[qe]))return e[qe];return i()}function Re(e,t){return e||i(),void 0!==t?Re(Me(e,t)):Ze(e)||jt(e)||It(e)||Wt(e)||Vt(e)?e:(y(e),e[qe]?e[qe]:void i())}function ze(e,t,s){return void 0===s&&(s=-1),function e(t,s,a,i,o){if(t===s)return 0!==t||1/t==1/s;if(null==t||null==s)return!1;if(t!=t)return s!=s;var n=typeof t;if("function"!==n&&"object"!==n&&"object"!=typeof s)return!1;var r=Yt.call(t);if(r!==Yt.call(s))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+s;case"[object Number]":return+t!=+t?+s!=+s:0==+t?1/+t==1/s:+t==+s;case"[object Date]":case"[object Boolean]":return+t==+s;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(s);case"[object Map]":case"[object Set]":a>=0&&a++}t=Ue(t),s=Ue(s);var l="[object Array]"===r;if(!l){if("object"!=typeof t||"object"!=typeof s)return!1;var c=t.constructor,d=s.constructor;if(c!==d&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&"constructor"in t&&"constructor"in s)return!1}if(0===a)return!1;a<0&&(a=-1);o=o||[];var h=(i=i||[]).length;for(;h--;)if(i[h]===t)return o[h]===s;if(i.push(t),o.push(s),l){if((h=t.length)!==s.length)return!1;for(;h--;)if(!e(t[h],s[h],a-1,i,o))return!1}else{var u=Object.keys(t),p=void 0;if(h=u.length,Object.keys(s).length!==h)return!1;for(;h--;)if(!Ne(s,p=u[h])||!e(t[p],s[p],a-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,s)}function Ue(e){return Ce(e)?e.slice():d(e)||Wt(e)||h(e)||Vt(e)?Array.from(e.entries()):e}function Ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e){return e[Symbol.iterator]=We,e}function We(){return this}s.d(t,"a",(function(){return Tt})),s.d(t,"b",(function(){return V})),s.d(t,"c",(function(){return Pt})),s.d(t,"d",(function(){return oe})),s.d(t,"e",(function(){return mt})),s.d(t,"f",(function(){return ce})),s.d(t,"g",(function(){return b})),s.d(t,"h",(function(){return ct})),s.d(t,"i",(function(){return ve}));var Be=[],He={},Ve=function(){},Ge="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,qe=Symbol("mobx administration"),Ke=function(){function e(e){void 0===e&&(e="Atom@"+a()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=dt.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return X(this)},e.prototype.reportChanged=function(){Z(),function(e){e.lowestObserverState!==dt.STALE&&(e.lowestObserverState=dt.STALE,e.observers.forEach((function(t){t.dependenciesState===dt.UP_TO_DATE&&(t.isTracing!==ht.NONE&&J(t,e),t.onBecomeStale()),t.dependenciesState=dt.STALE})))}(this),Y()},e.prototype.toString=function(){return this.name},e}(),Ze=c("Atom",Ke),Ye={identity:function(e,t){return e===t},structural:function(e,t){return ze(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return ze(e,t,1)}},Xe=function(e,t){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},Je=function(){return(Je=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qe=Symbol("mobx did run lazy initializers"),et=Symbol("mobx pending decorators"),tt={},st={},at={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0},it=S(k),ot=S((function(e,t,s){return null==e||Fe(e)||Ce(e)||Wt(e)||Vt(e)?e:Array.isArray(e)?ct.array(e,{name:s,deep:!1}):r(e)?ct.object(e,void 0,{name:s,deep:!1}):d(e)?ct.map(e,{name:s,deep:!1}):h(e)?ct.set(e,{name:s,deep:!1}):i()})),nt=S(x),rt=S((function(e,t){return ze(e,t)?t:e})),lt={box:function(e,t){arguments.length>2&&D();var s=_(t);return new Ot(e,T(s),s.name,!0,s.equals)},array:function(e,t){arguments.length>2&&D();var s=_(t);return Le(e,T(s),s.name)},map:function(e,t){arguments.length>2&&D();var s=_(t);return new $t(e,T(s),s.name)},set:function(e,t){arguments.length>2&&D();var s=_(t);return new Ht(e,T(s),s.name)},object:function(e,t,s){"string"==typeof arguments[1]&&D();var a=_(s);if(!1===a.proxy)return de({},e,t,a);var i=he(a),o=de({},void 0,void 0,a),n=xe(o);return ue(n,e,t,i),n},ref:nt,shallow:ot,deep:it,struct:rt},ct=function(e,t,s){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return it.apply(null,arguments);if(fe(e))return e;var a=r(e)?ct.object(e,t,s):Array.isArray(e)?ct.array(e,t):d(e)?ct.map(e,t):h(e)?ct.set(e,t):e;if(a!==e)return a;i()};Object.keys(lt).forEach((function(e){return ct[e]=lt[e]}));var dt,ht,ut=j(!1,(function(e,t,s,a,i){var o=s.get,n=s.set,r=i[0]||{};Ae(e).addComputedProp(e,t,Je({get:o,set:n,context:e},r))})),pt=ut({equals:Ye.structural}),mt=function(e,t){if("string"==typeof t)return ut.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ut.apply(null,arguments);var s="object"==typeof t?t:{};return s.get=e,s.set="function"==typeof t?t:s.set,s.name=s.name||e.name||"",new yt(s)};mt.struct=pt,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(dt||(dt={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ht||(ht={}));var bt=function(e){this.cause=e},ft=0,gt=1,Ot=(Object.getOwnPropertyDescriptor((function(){}),"name"),function(e){function t(t,s,i,o,n){void 0===i&&(i="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===n&&(n=Ye.default);var r=e.call(this,i)||this;return r.enhancer=s,r.name=i,r.equals=n,r.hasUnreportedChange=!1,r.value=s(t,void 0,i),r}return function(e,t){function s(){this.constructor=e}Xe(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){if((e=this.prepareNewValue(e))!==_t.UNCHANGED){0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(L(this),Se(this)){var t=Te(this,{object:this,type:"update",newValue:e});if(!t)return _t.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?_t.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),De(this)&&Pe(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return _e(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ie(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ke)),vt=c("ObservableValue",Ot),yt=function(){function e(e){this.dependenciesState=dt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=dt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new bt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ht.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+a(),e.set&&(this.setter=N(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Ye.structural:Ye.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===dt.UP_TO_DATE&&(e.lowestObserverState=dt.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===dt.UP_TO_DATE&&(t.dependenciesState=dt.POSSIBLY_STALE,t.isTracing!==ht.NONE&&J(t,e),t.onBecomeStale())})))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&i(),0!==_t.inBatch||0!==this.observers.size||this.keepAlive?(X(this),P(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==dt.STALE&&(e.lowestObserverState=dt.STALE,e.observers.forEach((function(t){t.dependenciesState===dt.POSSIBLY_STALE?t.dependenciesState=dt.STALE:t.dependenciesState===dt.UP_TO_DATE&&(e.lowestObserverState=dt.UP_TO_DATE)})))}(this)):P(this)&&(this.warnAboutUntrackedRead(),Z(),this.value=this.computeValue(!1),Y());var e=this.value;if(I(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(I(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===dt.NOT_TRACKING,s=this.computeValue(!0),a=t||I(e)||I(s)||!this.equals(e,s);return a&&(this.value=s),a},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,_t.computationDepth++,e)t=C(this,this.derivation,this.scope);else if(!0===_t.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new bt(e)}return _t.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(A(this),this.value=void 0)},e.prototype.observe=function(e,t){var s=this,a=!0,i=void 0;return oe((function(){var o=s.get();if(!a||t){var n=F();e({type:"update",object:s,newValue:o,oldValue:i}),M(n)}a=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),jt=c("ComputedValue",yt),wt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},kt={},xt=!0,St=!1,_t=function(){var e=H();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(xt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new wt).version&&(xt=!1),xt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new wt):(setTimeout((function(){St||i()}),1),new wt)}(),Tt=function(){function e(e,t,s,i){void 0===e&&(e="Reaction@"+a()),void 0===i&&(i=!1),this.name=e,this.onInvalidate=t,this.errorHandler=s,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=dt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ht.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,_t.pendingReactions.push(this),Q())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Z(),this._isScheduled=!1,P(this)){this._isTrackPending=!0;try{this.onInvalidate()}catch(e){this.reportExceptionInDerivation(e)}}Y()}},e.prototype.track=function(e){if(!this.isDisposed){Z();0,this._isRunning=!0;var t=C(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&A(this),I(t)&&this.reportExceptionInDerivation(t.cause),Y()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(_t.disableErrorBoundaries)throw e;var s="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";_t.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(s,e),_t.globalReactionErrorHandlers.forEach((function(s){return s(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Z(),A(this),Y()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[qe]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=!1;"boolean"==typeof e[e.length-1]&&(s=e.pop());var a=ye(e);if(!a)return i();a.isTracing===ht.NONE&&console.log("[mobx.trace] '"+a.name+"' tracing enabled"),a.isTracing=s?ht.BREAK:ht.LOG}(this,e)},e}(),Dt=function(e){return e()},It=c("Reaction",Tt),Pt=function(e,t,s,a){return 1===arguments.length&&"function"==typeof e?N(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?N(e,t):1===arguments.length&&"string"==typeof e?se(e):!0!==a?se(t).apply(null,arguments):void l(e,t,N(e.name||t,s.value,this))};Pt.bound=function(e,t,s,a){return!0===a?(ie(e,t,s.value),null):s?{configurable:!0,enumerable:!1,get:function(){return ie(this,t,s.value||s.initializer.call(this)),this[t]},set:te}:{enumerable:!1,configurable:!0,set:function(e){ie(this,t,e)},get:function(){}}};var Lt=function(e){return e()};me.prototype=Object.create(Error.prototype);var Ct={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1},At={has:function(e,t){if(t===qe||"constructor"===t||t===Qe)return!0;var s=we(e);return ke(t)?s.has(t):t in e},get:function(e,t){if(t===qe||"constructor"===t||t===Qe)return e[t];var s=we(e),a=s.values.get(t);if(a instanceof Ke){var i=a.get();return void 0===i&&s.has(t),i}return ke(t)&&s.has(t),e[t]},set:function(e,t,s){return!!ke(t)&&(function e(t,s,a){if(2!==arguments.length||Vt(t))if(Fe(t)){var o=t[qe],n=o.values.get(s);n?o.write(s,a):o.addObservableProp(s,a,o.defaultEnhancer)}else if(Wt(t))t.set(s,a);else if(Vt(t))t.add(s);else{if(!Ce(t))return i();"number"!=typeof s&&(s=parseInt(s,10)),Z(),s>=t.length&&(t.length=s+1),t[s]=a,Y()}else{Z();var r=s;try{for(var l in r)e(t,l,r[l])}finally{Y()}}}(e,t,s),!0)},deleteProperty:function(e,t){return!!ke(t)&&(we(e).remove(t),!0)},ownKeys:function(e){return we(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(){return i(),!1}},Et={get:function(e,t){return t===qe?e[qe]:"length"===t?e[qe].getArrayLength():"number"==typeof t?Mt.get.call(e,t):"string"!=typeof t||isNaN(t)?Mt.hasOwnProperty(t)?Mt[t]:e[t]:Mt.get.call(e,parseInt(t))},set:function(e,t,s){return"length"===t&&e[qe].setArrayLength(s),"number"==typeof t&&Mt.set.call(e,t,s),"symbol"==typeof t||isNaN(t)?e[t]=s:Mt.set.call(e,parseInt(t),s),!0},preventExtensions:function(){return i(),!1}},Ft=function(){function e(e,t,s){this.owned=s,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Ke(e||"ObservableArray@"+a()),this.enhancer=function(s,a){return t(s,a,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return _e(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ie(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var s=new Array(e-t),a=0;a<e-t;a++)s[a]=void 0;this.spliceWithArray(t,0,s)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,s){var a=this;L(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===s&&(s=Be),Se(this)){var o=Te(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:s});if(!o)return Be;t=o.removedCount,s=o.added}s=0===s.length?s:s.map((function(e){return a.enhancer(e,void 0)}));var n=this.spliceItemsIntoValues(e,t,s);return 0===t&&0===s.length||this.notifyArraySplice(e,s,n),this.dehanceValues(n)},e.prototype.spliceItemsIntoValues=function(e,t,s){var a;if(s.length<1e4)return(a=this.values).splice.apply(a,O([e,t],s));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(s,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,s){var a=!this.owned&&!1,i=De(this),o=i||a?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:s}:null;this.atom.reportChanged(),i&&Pe(this,o)},e.prototype.notifyArraySplice=function(e,t,s){var a=!this.owned&&!1,i=De(this),o=i||a?{object:this.proxy,type:"splice",index:e,removed:s,added:t,removedCount:s.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&Pe(this,o)},e}(),Mt={intercept:function(e){return this[qe].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[qe].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[qe];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];var i=this[qe];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,s)},spliceWithArray:function(e,t,s){return this[qe].spliceWithArray(e,t,s)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=this[qe];return s.spliceWithArray(s.values.length,0,e),s.values.length},pop:function(){return this.splice(Math.max(this[qe].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=this[qe];return s.spliceWithArray(0,0,e),s.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(e){var t=this[qe],s=t.dehanceValues(t.values).indexOf(e);return s>-1&&(this.splice(s,1),!0)},get:function(e){var t=this[qe];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var s=this[qe],a=s.values;if(e<a.length){L(s.atom);var i=a[e];if(Se(s)){var o=Te(s,{type:"update",object:s.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=s.enhancer(t,i))!==i&&(a[e]=t,s.notifyArrayChildUpdate(e,t,i))}else{if(e!==a.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+a.length);s.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Mt[e]=function(){var t=this[qe];t.atom.reportObserved();var s=t.dehanceValues(t.values);return s[e].apply(s,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Mt[e]=function(t,s){var a=this,i=this[qe];return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(s,e,i,a)}),s)})})),["reduce","reduceRight"].forEach((function(e){Mt[e]=function(){var t=this,s=this[qe];s.atom.reportObserved();var a=arguments[0];return arguments[0]=function(e,i,o){return i=s.dehanceValue(i),a(e,i,o,t)},s.values[e].apply(s.values,arguments)}}));var Rt,zt,Ut=c("ObservableArrayAdministration",Ft),Nt={},$t=function(){function e(e,t,s){if(void 0===t&&(t=k),void 0===s&&(s="ObservableMap@"+a()),this.enhancer=t,this.name=s,this[Rt]=Nt,this._keysAtom=b(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!_t.trackingDerivation)return this._has(e);var s=this._hasMap.get(e);if(!s){var a=s=new Ot(this._has(e),x,this.name+"."+p(e)+"?",!1);this._hasMap.set(e,a),re(a,(function(){return t._hasMap.delete(e)}))}return s.get()},e.prototype.set=function(e,t){var s=this._has(e);if(Se(this)){var a=Te(this,{type:s?"update":"add",object:this,newValue:t,name:e});if(!a)return this;t=a.newValue}return s?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((L(this._keysAtom),Se(this))&&!(a=Te(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var s=De(this),a=s?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return je((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),s&&Pe(this,a),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var s=this._hasMap.get(e);s&&s.setNewValue(t)},e.prototype._updateValue=function(e,t){var s=this._data.get(e);if((t=s.prepareNewValue(t))!==_t.UNCHANGED){var a=De(this),i=a?{type:"update",object:this,oldValue:s.value,name:e,newValue:t}:null;0,s.setNewValue(t),a&&Pe(this,i)}},e.prototype._addValue=function(e,t){var s=this;L(this._keysAtom),je((function(){var a=new Ot(t,s.enhancer,s.name+"."+p(e),!1);s._data.set(e,a),t=a.value,s._updateHasMapEntry(e,!0),s._keysAtom.reportChanged()}));var a=De(this),i=a?{type:"add",object:this,name:e,newValue:t}:null;a&&Pe(this,i)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return $e({next:function(){var s=t.next(),a=s.done;return{done:a,value:a?void 0:e.get(s.value)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return $e({next:function(){var s=t.next(),a=s.done,i=s.value;return{done:a,value:a?void 0:[i,e.get(i)]}}})},e.prototype[(Rt=qe,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var s,a;try{for(var i=f(this),o=i.next();!o.done;o=i.next()){var n=g(o.value,2);e.call(t,n[1],n[0],this)}}catch(e){s={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}},e.prototype.merge=function(e){var t=this;return Wt(e)&&(e=e.toJS()),je((function(){var s=W(!0);try{r(e)?u(e).forEach((function(s){return t.set(s,e[s])})):Array.isArray(e)?e.forEach((function(e){var s=g(e,2);return t.set(s[0],s[1])})):d(e)?(e.constructor!==Map&&i(),e.forEach((function(e,s){return t.set(s,e)}))):null!=e&&i()}finally{B(s)}})),this},e.prototype.clear=function(){var e=this;je((function(){E((function(){var t,s;try{for(var a=f(e.keys()),i=a.next();!i.done;i=a.next()){e.delete(i.value)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return je((function(){var s,a,o,n,l=function(e){if(d(e)||Wt(e))return e;if(Array.isArray(e))return new Map(e);if(r(e)){var t=new Map;for(var s in e)t.set(s,e[s]);return t}return i()}(e),c=new Map,h=!1;try{for(var u=f(t._data.keys()),p=u.next();!p.done;p=u.next()){if(!l.has(v=p.value))if(t.delete(v))h=!0;else{var m=t._data.get(v);c.set(v,m)}}}catch(e){s={error:e}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}try{for(var b=f(l.entries()),O=b.next();!O.done;O=b.next()){var v,y=g(O.value,2),j=(m=y[1],t._data.has(v=y[0]));if(t.set(v,m),t._data.has(v)){var w=t._data.get(v);c.set(v,w),j||(h=!0)}}}catch(e){o={error:e}}finally{try{O&&!O.done&&(n=b.return)&&n.call(b)}finally{if(o)throw o.error}}if(!h)if(t._data.size!==c.size)t._keysAtom.reportChanged();else for(var k=t._data.keys(),x=c.keys(),S=k.next(),_=x.next();!S.done;){if(S.value!==_.value){t._keysAtom.reportChanged();break}S=k.next(),_=x.next()}t._data=c})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,s={};try{for(var a=f(this),i=a.next();!i.done;i=a.next()){var o=g(i.value,2),n=o[0],r=o[1];s["symbol"==typeof n?n:p(n)]=r}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return s},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return p(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e){return Ie(this,e)},e.prototype.intercept=function(e){return _e(this,e)},e}(),Wt=c("ObservableMap",$t),Bt={},Ht=function(){function e(e,t,s){if(void 0===t&&(t=k),void 0===s&&(s="ObservableSet@"+a()),this.name=s,this[zt]=Bt,this._data=new Set,this._atom=b(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,a){return t(e,a,s)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;je((function(){E((function(){var t,s;try{for(var a=f(e._data.values()),i=a.next();!i.done;i=a.next()){e.delete(i.value)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var s,a;try{for(var i=f(this),o=i.next();!o.done;o=i.next()){var n=o.value;e.call(t,n,n,this)}}catch(e){s={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((L(this._atom),Se(this))&&!(a=Te(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){je((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var s=De(this),a=s?{type:"add",object:this,newValue:e}:null;0,s&&Pe(this,a)}return this},e.prototype.delete=function(e){var t=this;if(Se(this)&&!(a=Te(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var s=De(this),a=s?{type:"delete",object:this,oldValue:e}:null;return je((function(){t._atom.reportChanged(),t._data.delete(e)})),s&&Pe(this,a),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),s=Array.from(this.values());return $e({next:function(){var a=e;return e+=1,a<s.length?{value:[t[a],s[a]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,s=Array.from(this._data.values());return $e({next:function(){return t<s.length?{value:e.dehanceValue(s[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Vt(e)&&(e=e.toJS()),je((function(){var s=W(!0);try{Array.isArray(e)||h(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&i()}finally{B(s)}})),this},e.prototype.observe=function(e){return Ie(this,e)},e.prototype.intercept=function(e){return _e(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(zt=qe,Symbol.iterator)]=function(){return this.values()},e}(),Vt=c("ObservableSet",Ht),Gt=function(){function e(e,t,s,a){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=s,this.defaultEnhancer=a,this.keysAtom=new Ke(s+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var s=this.target,a=this.values.get(e);if(a instanceof yt)a.set(t);else{if(Se(this)){if(!(o=Te(this,{type:"update",object:this.proxy||s,name:e,newValue:t})))return;t=o.newValue}if((t=a.prepareNewValue(t))!==_t.UNCHANGED){var i=De(this),o=i?{type:"update",object:this.proxy||s,oldValue:a.value,name:e,newValue:t}:null;0,a.setNewValue(t),i&&Pe(this,o)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),s=t.get(e);if(s)return s.get();var a=!!this.values.get(e);return s=new Ot(a,x,this.name+"."+p(e)+"?",!1),t.set(e,s),s.get()},e.prototype.addObservableProp=function(e,t,s){void 0===s&&(s=this.defaultEnhancer);var a=this.target;if(Se(this)){var i=Te(this,{object:this.proxy||a,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var o=new Ot(t,s,this.name+"."+p(e),!1);this.values.set(e,o),t=o.value,Object.defineProperty(a,e,function(e){return qt[e]||(qt[e]={configurable:!0,enumerable:!0,get:function(){return this[qe].read(e)},set:function(t){this[qe].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,s){var a,i=this.target;s.name=s.name||this.name+"."+p(t),this.values.set(t,new yt(s)),(e===i||(!(a=Object.getOwnPropertyDescriptor(e,t))||!1!==a.configurable&&!1!==a.writable))&&Object.defineProperty(e,t,function(e){return Kt[e]||(Kt[e]={configurable:_t.computedConfigurable,enumerable:!1,get:function(){return Ee(this).read(e)},set:function(t){Ee(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Se(this))if(!(n=Te(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Z();var s=De(this),a=this.values.get(e),i=a&&a.get();if(a&&a.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!1)}delete this.target[e];var n=s?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;0,s&&Pe(this,n)}finally{Y()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e){return Ie(this,e)},e.prototype.intercept=function(e){return _e(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var s=De(this),a=s?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(s&&Pe(this,a),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var s=[];try{for(var a=f(this.values),i=a.next();!i.done;i=a.next()){var o=g(i.value,2);o[1]instanceof Ot&&s.push(o[0])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return s},e}(),qt=Object.create(null),Kt=Object.create(null),Zt=c("ObservableObjectAdministration",Gt),Yt=Object.prototype.toString;if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(e,t){return(void 0!==t?Me(e,t):Fe(e)||Wt(e)||Vt(e)?Re(e):Me(e)).name}},$mobx:qe})}).call(this,s("pCvA"))},"d+ec":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s("Fcif"),i=s("7L9N"),o=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.getOptions=function(e){return null!=e.pane?e:null!=e.leaflet&&null!=e.leaflet.pane?Object(a.a)(Object(a.a)({},e),{},{pane:e.leaflet.pane}):e},t}(s("f6wN").b)},d457:function(e,t,s){"use strict";function a(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var r,l=(r=s("W0B4"))&&"object"==typeof r&&"default"in r?r.default:r,c=s("ACWa");s("7CVp");var d=function(e){function t(){return n(this,i(t).apply(this,arguments))}var s,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),s=t,(r=[{key:"createLeafletElement",value:function(e){return L.control.fullscreen(e)}}])&&a(s.prototype,r),l&&a(s,l),t}(c.MapControl);d.propTypes={position:l.string,title:l.string,titleCancel:l.string,content:l.node,forceSeparateButton:l.bool,forcePseudoFullscreen:l.bool,fullscreenElement:l.bool};var h=c.withLeaflet(d);e.exports=h},dGfI:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("QRet"),s("Utv1")),l=s("/eY4"),c=s("OhSV"),d=s("RMlE"),h=s("8gML"),u=s("3kDq"),p=(s("aGZh"),s("ZOvn"));const m=p.a.marginTop(!0,!0),b=p.a.marginBottom(),f={isLoading:!1,email:"",submenu:"ads",jwtToken:r.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};let g=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.copyText=e=>{e.target.select(),document.execCommand("copy")},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),this.updateTimer={}}async loadRace(e=this.props){var t=this;this.setState({isLoading:!0});const{raceStore:s}=e.stores,{raceid:a}=e;await s.load(a);const{race:i}=s,o=i.classes.map(e=>{if(e.contestants)return e.contestants.map(e=>e.team)});o.length>0&&(await s.loadTeams(o.join(",")),await s.loadWorkoutSummary(o.join(","),a)),s.getAllImages();const n=Math.floor((new Date).getTime()/1e3);this.setState({reloadIsActive:!0,reloadLastEpoch:n},()=>this.tickReloadTimeer()),clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((async function(){const e=Math.floor((new Date).getTime()/1e3);t.setState({reloadLastEpoch:e}),t.loadRace()}),6e4),this.setState({isLoading:!1})}tickReloadTimeer(){const{reloadIsActive:e,reloadLastEpoch:t}=this.state;if(e){const e=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(e-t)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace()}componentWillReceiveProps(e){this.loadRace(e)}render(){const{appState:t,raceStore:s,userStore:a}=this.props.stores,{user:i={},isAdmin:o}=a,{raceid:l,path:p}=this.props,{language:f="en"}=t,{race:g,images:O}=s,{reloadInSec:v}=this.state,y=Math.floor(r.a.normalizeBetween(v,0,60,0,100));return Object(n.h)(e,null,Object(n.h)(d.a,{stores:this.props.stores}),Object(n.h)("div",{class:"container-fluid ",style:`margin-bottom: ${b}; margin-top: ${m};`},Object(n.h)(h.a,{stores:this.props.stores,path:p,raceid:l}),Object(n.h)("div",{class:"row border-bottom "},Object(n.h)("div",{class:"col-12"},Object(n.h)(c.b,null,Object(n.h)(u.a,{stores:this.props.stores,title:Object(n.h)(c.c,{id:"races.photos"},"Bilder")})),v>=0&&Object(n.h)(e,null,Object(n.h)("div",{class:"progress fixed-top",style:"height: 2px;"},Object(n.h)("div",{class:"progress-bar",role:"progressbar",style:`width: ${y}%;`,"aria-valuenow":y,"aria-valuemin":"0","aria-valuemax":"100"}))),i.email&&Object(n.h)("div",{class:"alert alert-primary",role:"alert"},"no"===f&&Object(n.h)(e,null,"Bildene hentes direkte fra The Musher appen.",Object(n.h)("br",null),Object(n.h)("strong",null,"For at bildene skal dukke opp må de:"),Object(n.h)("ul",null,Object(n.h)("li",null,"Ligge på teamet som er påmeldt."),Object(n.h)("li",null,"Ligge på treningsøktene som er med i konkurransen."))),"en"===f&&Object(n.h)(e,null,"Bildene hentes direkte fra The Musher appen.",Object(n.h)("br",null),Object(n.h)("strong",null,"For at bildene skal dukke opp må de:"),Object(n.h)("ul",null,Object(n.h)("li",null,"Ligge på teamet som er påmeldt."),Object(n.h)("li",null,"Ligge på treningsøktene som er med i konkurransen.")))),Object(n.h)("div",{class:"p-3 my-4 bg-light"},Object(n.h)("ul",null,[1,2,3,4].map(t=>Object(n.h)(e,null,g["mediaURL"+t]?Object(n.h)("li",null,Object(n.h)("a",{href:g["mediaURL"+t],target:"_blank",rel:"noreferrer",native:!0},g["mediaText"+t]?g["mediaText"+t]:Object(n.h)(e,null,"Se bilder her")," ",Object(n.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(n.h)(e,null))))),(!O||0===O.length)&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading..."))),Object(n.h)("div",{class:"row"},O&&O.map(t=>{const s=t.s3LargeLink||t.s3MediumLink;if(!s)return Object(n.h)(e,null);const a=t.title?`${t.title}\n${t.body}\n`:`Photo by: ${t.musher.firstname||""} ${t.musher.lastname||""} / ${t.currentTeam.name||""} / ${t.musher.sportsClub||""}`,i=""+(g.tag?g.tag.split(",").map(e=>"#"+e).join(" "):""),l="All about the race: https://homerunrace.no/index#/race/"+g.id,c=`${g.title}\n\n${a}\n\n${i}\n\n${g.tagFacebookUsers?g.tagFacebookUsers.split(",").map(e=>"@"+e).join(" "):""} ${t.musher.facebook?"@"+t.musher.facebook:""}\n\n${l}\n\n`,d=`${g.title}\n\n${a}\n\n${i}\n\n${g.tagInstagramUsers?g.tagInstagramUsers.split(",").map(e=>"@"+e).join(" "):""} ${t.musher.instagram?"@"+t.musher.instagram:""}\n\nAll about the race: homerunrace.no\n\n`;return Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4"},Object(n.h)("div",{class:"text-center border rounded-lg"},Object(n.h)("img",{src:s,class:"img-fluid"})),Object(n.h)("small",{class:"text-muted float-right"},r.a.formatDate(t.createdDate,{locale:f,hour12:!1,hour:"2-digit",minute:"2-digit"})),t.title,t.musher.firstname," ",t.musher.lastname,Object(n.h)("br",null),Object(n.h)("span",{class:"text-muted"},t.currentTeam.name,t.body),Object(n.h)("br",null),t.musher.sportsClub&&Object(n.h)(e,null,Object(n.h)("small",{class:"text-muted"},t.musher.sportsClub),Object(n.h)("br",null)),o&&Object(n.h)("div",{class:"p-2 bg-light border rounded-lg"},Object(n.h)("small",null,"Admin copy-paste:",Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted float-right"},Object(n.h)("a",{href:t.s3XXLargeLink,rel:"noreferrer",native:!0,target:"_blank"},"Download")),Object(n.h)("small",{class:"text-muted"},"Facebook:"),Object(n.h)("br",null),Object(n.h)("textarea",{style:"width: 100%; font-size: 0.8em;",value:c,onClick:this.copyText}),Object(n.h)("small",{class:"text-muted float-right"},Object(n.h)("a",{href:t.s3XXLargeLink,rel:"noreferrer",native:!0,target:"_blank"},"Download")),Object(n.h)("small",{class:"text-muted"},"Instagram:"),Object(n.h)("br",null),Object(n.h)("textarea",{style:"width: 100%; font-size: 0.8em;",value:d,onClick:this.copyText})))))}))))))}})||o;t.a=g}).call(this,s("hosL").Fragment)},dVCl:function(e,t,s){"use strict";function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function i(e,t,s){function o(){b===m&&(b=m.slice())}function n(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function r(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return o(),b.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,o();var s=b.indexOf(e);b.splice(s,1),m=null}}}function l(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,p=u(p,e)}finally{f=!1}for(var t=m=b,s=0;s<t.length;s++){(0,t[s])()}return e}function c(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,l({type:Re.REPLACE})}function d(){var e,t=r;return(e={subscribe:function(e){function s(){e.next&&e.next(n())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return s(),{unsubscribe:t(s)}}})[Fe.a]=function(){return this},e}var h;if("function"==typeof t&&"function"==typeof s||"function"==typeof s&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===s&&(s=t,t=void 0),void 0!==s){if("function"!=typeof s)throw new Error("Expected the enhancer to be a function.");return s(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,p=t,m=[],b=m,f=!1;return l({type:Re.INIT}),(h={dispatch:l,subscribe:r,getState:n,replaceReducer:c})[Fe.a]=d,h}function o(e,t){return function(){return t(e.apply(this,arguments))}}function n(e,t){if("function"==typeof e)return o(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var s={};for(var a in e){var i=e[a];"function"==typeof i&&(s[a]=o(i,t))}return s}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function l(e,t){var s=Object.keys(e);return Object.getOwnPropertySymbols&&s.push.apply(s,Object.getOwnPropertySymbols(e)),t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){r(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function d(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){var e=Ue,t=null,s=null;return{clear:function(){t=null,s=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],s=t;s;)e.push(s),s=s.next;return e},subscribe:function(e){var a=!0,i=s={callback:e,next:null,prev:s};return i.prev?i.prev.next=i:t=i,function(){a&&null!==t&&(a=!1,i.next?i.next.prev=i.prev:s=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}function u(e,t){return[t.payload,e[1]+1]}function p(e,t,s){qe((function(){return e.apply(void 0,t)}),s)}function m(e,t,s,a,i,o,n){e.current=a,t.current=i,s.current=!1,o.current&&(o.current=null,n())}function b(e,t,s,a,i,o,n,r,l,c){if(e){var d=!1,h=null,u=function(){if(!d){var e,s,u=t.getState();try{e=a(u,i.current)}catch(e){s=e,h=e}s||(h=null),e===o.current?n.current||l():(o.current=e,r.current=e,n.current=!0,c({type:"STORE_UPDATED",payload:{error:s}}))}};s.onStateChange=u,s.trySubscribe(),u();return function(){if(d=!0,s.tryUnsubscribe(),s.onStateChange=null,h)throw h}}}function f(e,t){void 0===t&&(t={});var s=t,a=s.getDisplayName,i=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,o=s.methodName,n=void 0===o?"connectAdvanced":o,r=s.renderCountProp,l=void 0===r?void 0:r,c=s.shouldHandleStateChanges,d=void 0===c||c,h=s.storeKey,f=void 0===h?"store":h,g=s.forwardRef,O=void 0!==g&&g,v=s.context,y=void 0===v?ze:v,j=Object(Be.a)(s,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),w=y;return function(t){function s(s){var a=Object(Ce.useMemo)((function(){var e=s.reactReduxForwardedRef,t=Object(Be.a)(s,["reactReduxForwardedRef"]);return[s.context,e,t]}),[s]),i=a[0],o=a[1],n=a[2],l=Object(Ce.useMemo)((function(){return i&&i.Consumer&&Object(Ge.isContextConsumer)(Ce.default.createElement(i.Consumer,null))?i:w}),[i,w]),c=Object(Ce.useContext)(l),f=Boolean(s.store)&&Boolean(s.store.getState)&&Boolean(s.store.dispatch);Boolean(c)&&Boolean(c.store);var g=f?s.store:c.store,O=Object(Ce.useMemo)((function(){return function(t){return e(t.dispatch,r)}(g)}),[g]),v=Object(Ce.useMemo)((function(){if(!d)return Ze;var e=new $e(g,f?null:c.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,f,c]),y=v[0],j=v[1],k=Object(Ce.useMemo)((function(){return f?c:Object(Ee.a)({},c,{subscription:y})}),[f,c,y]),x=Object(Ce.useReducer)(u,Ke,Ye),S=x[0][0],_=x[1];if(S&&S.error)throw S.error;var T=Object(Ce.useRef)(),D=Object(Ce.useRef)(n),I=Object(Ce.useRef)(),P=Object(Ce.useRef)(!1),L=h((function(){return I.current&&n===D.current?I.current:O(g.getState(),n)}),[g,S,n]);p(m,[D,T,P,n,L,I,j]),p(b,[d,g,y,O,D,T,P,I,j,_],[g,y,O]);var C=Object(Ce.useMemo)((function(){return Ce.default.createElement(t,Object(Ee.a)({},L,{ref:o}))}),[o,t,L]);return Object(Ce.useMemo)((function(){return d?Ce.default.createElement(l.Provider,{value:k},C):C}),[l,C,k])}var a=t.displayName||t.name||"Component",o=i(a),r=Object(Ee.a)({},j,{getDisplayName:i,methodName:n,renderCountProp:l,shouldHandleStateChanges:d,storeKey:f,displayName:o,wrappedComponentName:a,WrappedComponent:t}),c=j.pure,h=c?Ce.useMemo:function(e){return e()},g=c?Ce.default.memo(s):s;if(g.WrappedComponent=t,g.displayName=o,O){var v=Ce.default.forwardRef((function(e,t){return Ce.default.createElement(g,Object(Ee.a)({},e,{reactReduxForwardedRef:t}))}));return v.displayName=o,v.WrappedComponent=t,Ve()(v,t)}return Ve()(g,t)}}function g(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function O(e,t){if(g(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var i=0;i<s.length;i++)if(!Object.prototype.hasOwnProperty.call(t,s[i])||!g(e[s[i]],t[s[i]]))return!1;return!0}function v(e){return function(t,s){function a(){return i}var i=e(t,s);return a.dependsOnOwnProps=!1,a}}function y(e){return null!=e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e){return function(){var t=function(e,s){return t.dependsOnOwnProps?t.mapToProps(e,s):t.mapToProps(e)};return t.dependsOnOwnProps=!0,t.mapToProps=function(s,a){t.mapToProps=e,t.dependsOnOwnProps=y(e);var i=t(s,a);return"function"==typeof i&&(t.mapToProps=i,t.dependsOnOwnProps=y(i),i=t(s,a)),i},t}}function w(e,t,s){return Object(Ee.a)({},s,{},e,{},t)}function k(e,t,s,a){return function(i,o){return s(e(i,o),t(a,o),o)}}function x(e,t,s,a,i){function o(i,o){var m,b,f=!u(o,r),g=!h(i,n);return n=i,r=o,f&&g?(l=e(n,r),t.dependsOnOwnProps&&(c=t(a,r)),d=s(l,c,r)):f?(e.dependsOnOwnProps&&(l=e(n,r)),t.dependsOnOwnProps&&(c=t(a,r)),d=s(l,c,r)):g?(m=e(n,r),b=!p(m,l),l=m,b&&(d=s(l,c,r)),d):d}var n,r,l,c,d,h=i.areStatesEqual,u=i.areOwnPropsEqual,p=i.areStatePropsEqual,m=!1;return function(i,h){return m?o(i,h):(l=e(n=i,r=h),c=t(a,r),d=s(l,c,r),m=!0,d)}}function S(e,t){var s=t.initMapStateToProps,a=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(Be.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),n=s(e,o),r=a(e,o),l=i(e,o);return(o.pure?x:k)(n,r,l,e,o)}function _(e,t,s){for(var a=t.length-1;a>=0;a--){var i=t[a](e);if(i)return i}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+s+" argument when connecting component "+a.wrappedComponentName+".")}}function T(e,t){return e===t}function D(e){var t=void 0===e?{}:e,s=t.connectHOC,a=void 0===s?f:s,i=t.mapStateToPropsFactories,o=void 0===i?Je:i,n=t.mapDispatchToPropsFactories,r=void 0===n?Xe:n,l=t.mergePropsFactories,c=void 0===l?Qe:l,d=t.selectorFactory,h=void 0===d?S:d;return function(e,t,s,i){void 0===i&&(i={});var n=i,l=n.pure,d=void 0===l||l,u=n.areStatesEqual,p=void 0===u?T:u,m=n.areOwnPropsEqual,b=void 0===m?O:m,f=n.areStatePropsEqual,g=void 0===f?O:f,v=n.areMergedPropsEqual,y=void 0===v?O:v,j=Object(Be.a)(n,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=_(e,o,"mapStateToProps"),k=_(t,r,"mapDispatchToProps"),x=_(s,c,"mergeProps");return a(h,Object(Ee.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:x,pure:d,areStatesEqual:p,areOwnPropsEqual:b,areStatePropsEqual:g,areMergedPropsEqual:y},j))}}function I(e,t){var s=Object(Ce.useState)((function(){return{inputs:t,result:e()}}))[0],a=Object(Ce.useRef)(s),i=Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return Object(Ce.useEffect)((function(){a.current=i}),[i]),i.result}function P(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function L(){}function C(){}function A(e,t,s){var a=t.map((function(t){var a,i,o=(a=s,i=t.options,Object(Ee.a)({},a,{},i));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}}));return function(){a.forEach((function(e){e()}))}}function E(e){this.message=e}function F(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function M(e,t){if(e.findIndex)return e.findIndex(t);for(var s=0;s<e.length;s++)if(t(e[s]))return s;return-1}function R(e,t){if(e.find)return e.find(t);var s=M(e,t);return-1!==s?e[s]:void 0}function z(e){return Array.prototype.slice.call(e)}function U(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function N(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}function $(e){var t=e.destination,s=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return e.afterDragging.reduce((function(e,n){var r=function(e,t){return it(ot(e.page.marginBox,{top:t.point.y,right:0,bottom:0,left:t.point.x}))}(n,s),l=n.descriptor.id;if(e.all.push(l),!os({target:r,destination:t,viewport:a,withDroppableDisplacement:!0}))return e.invisible[n.descriptor.id]=!0,e;var c=function(e,t,s){if("boolean"==typeof s)return s;if(!t)return!0;var a=t.visible;if(t.invisible[e])return!1;var i=a[e];return!i||i.shouldAnimate}(l,o,i);return e.visible[l]={draggableId:l,shouldAnimate:c},e}),{all:[],visible:{},invisible:{}})}function W(e){var t=e.displacedBy,s=e.destination,a=function(e,t){if(!e.length)return 0;var s=e[e.length-1].descriptor.index;return t.inHomeList?s:s+1}(e.insideDestination,{inHomeList:e.inHomeList});return{displaced:Xt,displacedBy:t,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function B(e){var t=e.draggable,s=e.insideDestination,a=e.destination,i=e.viewport,o=e.displacedBy,n=e.last,r=e.index,l=e.forceShouldAnimate,c=Zt(t,a);if(null==r)return W({insideDestination:s,inHomeList:c,displacedBy:o,destination:a});var d=R(s,(function(e){return e.descriptor.index===r}));if(!d)return W({insideDestination:s,inHomeList:c,displacedBy:o,destination:a});var h=Kt(t,s),u=s.indexOf(d);return{displaced:$({afterDragging:h.slice(u),destination:a,displacedBy:o,last:n,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:r}}}}function H(e,t){return Boolean(t.effected[e])}function V(e,t){return e.map((function(e){return t[e]}))}function G(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function q(e){var t=Qt(e.top,e.bottom),s=Qt(e.left,e.right);return function(e){return t(e.y)&&s(e.x)}}function K(e){var t=e.pageBorderBox,s=e.draggable,a=Vt(e.droppables).filter((function(e){if(!e.isEnabled)return!1;var s,a,i=e.subject.active;if(!i)return!1;if(!((s=t).left<(a=i).right&&s.right>a.left&&s.top<a.bottom&&s.bottom>a.top))return!1;if(q(i)(t.center))return!0;var o=e.axis,n=i.center[o.crossAxisLine],r=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=Qt(i[o.crossAxisStart],i[o.crossAxisEnd]),d=c(r),h=c(l);return!d&&!h||(d?r<n:l>n)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,s=e.draggable.page.borderBox.center,a=e.candidates.map((function(e){var a=e.axis,i=Et(e.axis.line,t.center[a.line],e.page.borderBox.center[a.crossAxisLine]);return{id:e.descriptor.id,distance:Ft(s,i)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:s,candidates:a}):null}function Z(e){var t=e.displaced,s=e.id;return Boolean(t.visible[s]||t.invisible[s])}function Y(e){return e.isDragging&&"SNAP"===e.movementMode?Object(Ee.a)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}function X(e){function t(){return n!==C}var s,a=e.onWindowScroll,i=bt((function(){a(fa())})),o=(s=i,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||s()}}),n=C;return{start:function(){t(),n=A(window,[o])},stop:function(){t(),i.cancel(),n(),n=C},isActive:t}}function J(e,t,s){return s.descriptor.id!==t.id&&(s.descriptor.type===t.type&&"virtual"===e.droppable.getById(s.descriptor.droppableId).descriptor.mode)}function Q(e,t){var s=tt((function(){return function(e){var t=(l=e,function(e){return"["+e+'="'+l+'"]'}),s=(r="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:t(Ya.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:r,dragging:"pointer-events: none;",dropAnimating:r}}),a=(n="\n      transition: "+la.outOfTheWay+";\n    ",{selector:t(Xa.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),i={selector:t(Ja.contextId),styles:{always:"overflow-anchor: none;"}},o=[a,s,i,{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];var n;var r;var l;return{always:ei(o,"always"),resting:ei(o,"resting"),dragging:ei(o,"dragging"),dropAnimating:ei(o,"dropAnimating"),userCancel:ei(o,"userCancel")}}(e)}),[e]),a=Object(Ce.useRef)(null),i=Object(Ce.useRef)(null),o=st(mt((function(e){var t=i.current;t.textContent=e})),[]),n=st((function(e){var t=a.current;t.textContent=e}),[]);ti((function(){var r=ai(t),l=ai(t);return a.current=r,i.current=l,r.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),si().appendChild(r),si().appendChild(l),n(s.always),o(s.resting),function(){var e=function(e){var t=e.current;si().removeChild(t),e.current=null};e(a),e(i)}}),[t,n,o,s.always,s.resting,e]);var r=st((function(){return o(s.dragging)}),[o,s.dragging]),l=st((function(e){o("DROP"!==e?s.userCancel:s.dropAnimating)}),[o,s.dropAnimating,s.userCancel]),c=st((function(){i.current&&o(s.resting)}),[o,s.resting]);return tt((function(){return{dragging:r,dropping:l,resting:c}}),[r,l,c])}function ee(e){return e instanceof ii(e).HTMLElement}function te(e,t){var s=z(document.querySelectorAll("["+Ya.contextId+'="'+e+'"]'));if(!s.length)return null;var a=R(s,(function(e){return e.getAttribute(Ya.draggableId)===t}));return a&&ee(a)?a:null}function se(){function e(e){i.length&&i.forEach((function(t){return t(e)}))}function t(e){return a.draggables[e]||null}function s(e){return a.droppables[e]||null}var a={draggables:{},droppables:{}},i=[];return{draggable:{register:function(t){a.draggables[t.descriptor.id]=t,e({type:"ADDITION",value:t})},update:function(e,t){var s=a.draggables[t.descriptor.id];s&&s.uniqueId===e.uniqueId&&(delete a.draggables[t.descriptor.id],a.draggables[e.descriptor.id]=e)},unregister:function(s){var i=s.descriptor.id,o=t(i);o&&s.uniqueId===o.uniqueId&&(delete a.draggables[i],e({type:"REMOVAL",value:s}))},getById:function(e){var s=t(e);return s},findById:t,exists:function(e){return Boolean(t(e))},getAllByType:function(e){return F(a.draggables).filter((function(t){return t.descriptor.type===e}))}},droppable:{register:function(e){a.droppables[e.descriptor.id]=e},unregister:function(e){var t=s(e.descriptor.id);t&&e.uniqueId===t.uniqueId&&delete a.droppables[e.descriptor.id]},getById:function(e){var t=s(e);return t},findById:s,exists:function(e){return Boolean(s(e))},getAllByType:function(e){return F(a.droppables).filter((function(t){return t.descriptor.type===e}))}},subscribe:function(e){return i.push(e),function(){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}},clean:function(){a.draggables={},a.droppables={},i.length=0}}}function ae(e,t){return void 0===t&&(t=ci),tt((function(){return""+e+t.separator+li++}),[t.separator,e])}function ie(){0}function oe(){ie()}function ne(){oe()}function re(e){var t=Object(Ce.useRef)(e);return Object(Ce.useEffect)((function(){t.current=e})),t}function le(e){var t=e.cancel,s=e.completed,a=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){if(0===e.button){var t={x:e.clientX,y:e.clientY},s=a();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(t);if(o=s.point,n=t,Math.abs(n.x-o.x)>=5||Math.abs(n.y-o.y)>=5){var o,n;e.preventDefault();var r=s.actions.fluidLift(t);i({type:"DRAGGING",actions:r})}}}},{eventName:"mouseup",fn:function(e){var i=a();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),s()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===a().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==a().type)return 27===e.keyCode?(e.preventDefault(),void t()):void ui(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===a().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var s=a();s.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:pi,fn:t}]}function ce(){}function de(e,t){function s(){t(),e.cancel()}return[{eventName:"keydown",fn:function(a){return 27===a.keyCode?(a.preventDefault(),void s()):32===a.keyCode?(a.preventDefault(),t(),void e.drop()):40===a.keyCode?(a.preventDefault(),void e.moveDown()):38===a.keyCode?(a.preventDefault(),void e.moveUp()):39===a.keyCode?(a.preventDefault(),void e.moveRight()):37===a.keyCode?(a.preventDefault(),void e.moveLeft()):void(bi[a.keyCode]?a.preventDefault():ui(a))}},{eventName:"mousedown",fn:s},{eventName:"mouseup",fn:s},{eventName:"click",fn:s},{eventName:"touchstart",fn:s},{eventName:"resize",fn:s},{eventName:"wheel",fn:s,options:{passive:!0}},{eventName:pi,fn:s}]}function he(e,t){var s=t.target;return!!ee(s)&&function e(t,s){if(null==s)return!1;if(Boolean(gi[s.tagName.toLowerCase()]))return!0;var a=s.getAttribute("contenteditable");return"true"===a||""===a||s!==t&&e(t,s.parentElement)}(e,s)}function ue(e,t){return e.closest?e.closest(t):function e(t,s){return null==t?null:t[vi](s)?t:e(t.parentElement,s)}(e,t)}function pe(e,t){var s,a=t.target;if(!((s=a)instanceof ii(s).Element))return null;var i=ue(a,function(e){return"["+Ya.contextId+'="'+e+'"]'}(e));return i&&ee(i)?i:null}function me(e){e.preventDefault()}function be(e){var t=e.expected,s=e.phase;return!!(0,e.isLockActive)()&&t===s}function fe(e){var t=e.store,s=e.registry,a=e.draggableId;if(e.lockAPI.isClaimed())return!1;var i=s.draggable.findById(a);return!!i&&(!!i.options.isEnabled&&!!Da(t.getState(),a))}function ge(e){function t(){return h.options.shouldRespectForcePress}function s(){return i.isActive(p)}function a(e){function a(){i.release(),m="COMPLETED"}function o(t,s){if(void 0===s&&(s={shouldBlockNextClick:!1}),e.cleanup(),s.shouldBlockNextClick){var i=A(window,[{eventName:"click",fn:me,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}a(),n.dispatch(sa({reason:t}))}return"PRE_DRAG"!==m&&a(),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),m="DRAGGING",Object(Ee.a)({isActive:function(){return be({expected:"DRAGGING",phase:m,isLockActive:s,shouldWarn:!1})},shouldRespectForcePress:t,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}var i=e.lockAPI,o=e.contextId,n=e.store,r=e.registry,l=e.draggableId,c=e.forceSensorStop,d=e.sourceEvent;if(!fe({lockAPI:i,store:n,registry:r,draggableId:l}))return null;var h=r.draggable.getById(l),u=function(e,t){var s=R(z(document.querySelectorAll("["+Xa.contextId+'="'+e+'"]')),(function(e){return e.getAttribute(Xa.id)===t}));return s&&ee(s)?s:null}(o,h.descriptor.id);if(!u)return null;if(d&&!h.options.canDragInteractiveElements&&he(u,d))return null;var p=i.claim(c||C),m="PRE_DRAG",b=function(e,t){be({expected:e,phase:m,isLockActive:s,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");return{isActive:function(){return be({expected:"PRE_DRAG",phase:m,isLockActive:s,shouldWarn:!1})},shouldRespectForcePress:t,fluidLift:function(e){var t=bt((function(e){b((function(){return Ys({client:e})}))})),s=a({liftActionArgs:{id:l,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return Object(Ee.a)({},s,{move:t})},snapLift:function(){var e={moveUp:function(){return b(Xs)},moveRight:function(){return b(Qs)},moveDown:function(){return b(Js)},moveLeft:function(){return b(ea)}};return a({liftActionArgs:{id:l,clientSelection:Oi(u),movementMode:"SNAP"},cleanup:C,actions:e})},abort:function(){be({expected:"PRE_DRAG",phase:m,isLockActive:s,shouldWarn:!0})&&i.release()}}}function Oe(e){var t=e.contextId,s=e.store,a=e.registry,i=[].concat(e.enableDefaultSensors?yi:[],e.customSensors||[]),o=Object(Ce.useState)((function(){return function(){function e(){t=null}var t=null;return{isClaimed:function(){return Boolean(t)},isActive:function(e){return e===t},claim:function(e){var s={abandon:e};return t=s,s},release:e,tryAbandon:function(){t&&(t.abandon(),e())}}}()}))[0],n=st((function(e,t){e.isDragging&&!t.isDragging&&o.tryAbandon()}),[o]);ti((function(){var e=s.getState();return s.subscribe((function(){var t=s.getState();n(e,t),e=t}))}),[o,s,n]),ti((function(){return o.tryAbandon}),[o.tryAbandon]);var r=st((function(e){return fe({lockAPI:o,registry:a,store:s,draggableId:e})}),[o,a,s]),l=st((function(e,i,n){return ge({lockAPI:o,registry:a,contextId:t,store:s,draggableId:e,forceSensorStop:i,sourceEvent:n&&n.sourceEvent?n.sourceEvent:null})}),[t,o,a,s]),c=st((function(e){return function(e,t){var s=pe(e,t);return s?s.getAttribute(Ya.draggableId):null}(t,e)}),[t]),d=st((function(e){var t=a.draggable.findById(e);return t?t.options:null}),[a.draggable]),h=st((function(){o.isClaimed()&&(o.tryAbandon(),"IDLE"!==s.getState().phase&&s.dispatch({type:"FLUSH",payload:null}))}),[o,s]),u=st(o.isClaimed,[o]),p=tt((function(){return{canGetLock:r,tryGetLock:l,findClosestDraggableId:c,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:u}}),[r,l,c,d,h,u]);ie();for(var m=0;m<i.length;m++)i[m](p)}function ve(e){return e.current}function ye(e){var t=e.contextId,s=e.setCallbacks,a=e.sensors,o=e.nonce,r=e.dragHandleUsageInstructions,l=Object(Ce.useRef)(null);ne();var h=re(e),u=st((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(h.current)}),[h]),p=function(e){var t=tt((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),s=Object(Ce.useRef)(null);return Object(Ce.useEffect)((function(){var e=document.createElement("div");return s.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Object(Ee.a)(e.style,ri),ni().appendChild(e),function(){setTimeout((function(){var t=ni();t.contains(e)&&t.removeChild(e),e===s.current&&(s.current=null)}))}}),[t]),st((function(e){var t=s.current;t&&(t.textContent=e)}),[])}(t),m=function(e){var t=e.contextId,s=e.text,a=ae("hidden-text",{separator:"-"}),i=tt((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:a}).contextId+"-"+e.uniqueId;var e}),[a,t]);return Object(Ce.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=s,e.style.display="none",ni().appendChild(e),function(){var t=ni();t.contains(e)&&t.removeChild(e)}}),[i,s]),i}({contextId:t,text:r}),b=Q(t,o),f=st((function(e){ve(l).dispatch(e)}),[]),g=tt((function(){return n({publishWhileDragging:Vs,updateDroppableScroll:qs,updateDroppableIsEnabled:Ks,updateDroppableIsCombineEnabled:Zs,collectionStarting:Gs},f)}),[f]),O=function(){var e=tt(se,[]);return Object(Ce.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),v=tt((function(){return function(e,t){var s=null,a=function(e){var t=e.registry,s=e.callbacks,a={additions:{},removals:{},modified:{}},i=null,o=function(){i||(s.collectionStarting(),i=requestAnimationFrame((function(){i=null,zs();var e=a.removals,o=a.modified,n=Object.keys(a.additions).map((function(e){return t.draggable.getById(e).getDimension(It)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),r=Object.keys(o).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),l={additions:n,removals:Object.keys(e),modified:r};a={additions:{},removals:{},modified:{}},Us(),s.publish(l)})))};return{add:function(e){var t=e.descriptor.id;a.additions[t]=e,a.modified[e.descriptor.droppableId]=!0,a.removals[t]&&delete a.removals[t],o()},remove:function(e){var t=e.descriptor;a.removals[t.id]=!0,a.modified[t.droppableId]=!0,a.additions[t.id]&&delete a.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,a={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){var i=s.critical.draggable;"ADDITION"===t.type&&J(e,i,t.value)&&a.add(t.value),"REMOVAL"===t.type&&J(e,i,t.value)&&a.remove(t.value)};return{updateDroppableIsEnabled:function(a,i){e.droppable.exists(a),s&&t.updateDroppableIsEnabled({id:a,isEnabled:i})},updateDroppableIsCombineEnabled:function(a,i){s&&(e.droppable.exists(a),t.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:i}))},scrollDroppable:function(t,a){s&&e.droppable.getById(t).callbacks.scroll(a)},updateDroppableScroll:function(a,i){s&&(e.droppable.exists(a),t.updateDroppableScroll({id:a,newScroll:i}))},startPublishing:function(t){var a=e.draggable.getById(t.draggableId),o=e.droppable.getById(a.descriptor.droppableId),n={draggable:a.descriptor,droppable:o.descriptor},r=e.subscribe(i);return s={critical:n,unsubscribe:r},function(e){var t=e.critical,s=e.scrollOptions,a=e.registry;zs();var i=(c=fa(),d=Ta(),h=c.y,u=c.x,p=_a(),{frame:it({top:h,left:u,right:u+p.clientWidth,bottom:h+p.clientHeight}),scroll:{initial:c,current:c,max:d,diff:{value:It,displacement:It}}}),o=i.scroll.current,n=a.droppable.getAllByType(t.droppable.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,s)})),r=a.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),l={draggables:Ht(r),droppables:Bt(n)};var c,d,h,u,p;return Us(),{dimensions:l,critical:t,viewport:i}}({critical:n,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){s&&(a.stop(),e.droppable.getAllByType(s.critical.droppable.type).forEach((function(e){return e.callbacks.dragStopped()})),s.unsubscribe(),s=null)}}}(O,g)}),[O,g]),y=tt((function(){return function(e){var t=e.scrollDroppable,s=e.scrollWindow,a=e.move,i=function(e){var t=e.scrollDroppable,s=bt(e.scrollWindow),a=bt(t),i=null,o=function(e){Za({state:e,scrollWindow:s,scrollDroppable:a,dragStartTime:i.dragStartTime,shouldUseTimeDampening:i.shouldUseTimeDampening})};return{start:function(e){zs();var t=Date.now(),s=!1,a=function(){s=!0};Za({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a}),i={dragStartTime:t,shouldUseTimeDampening:s},Us(),s&&o(e)},stop:function(){i&&(s.cancel(),a.cancel(),i=null)},scroll:o}}({scrollWindow:s,scrollDroppable:t}),o=function(e){var t=e.move,s=e.scrollDroppable,a=e.scrollWindow,i=function(e,t){if(!Ka(e,t))return t;var a=function(e,t){var s=e.frame;if(!s)return null;if(!Ka(e,t))return null;return Va({current:s.scroll.current,max:s.scroll.max,change:t})}(e,t);if(!a)return s(e.descriptor.id,t),null;var i=Lt(t,a);return s(e.descriptor.id,i),Lt(t,i)},o=function(e,t,s){if(!e)return s;if(!qa(t,s))return s;var i=function(e,t){if(!qa(e,t))return null;return Va({current:e.scroll.current,max:e.scroll.max,change:t})}(t,s);if(!i)return a(s),null;var o=Lt(s,i);return a(o),Lt(s,o)};return function(e){var s=e.scrollJumpRequest;if(s){var a=Ts(e.impact),n=i(e.dimensions.droppables[a],s);if(n){var r=o(e.isWindowScrollAllowed,e.viewport,n);r&&function(e,s){var a=Pt(e.current.client.selection,s);t({client:a})}(e,r)}}}}({move:a,scrollWindow:s,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}}(Object(Ee.a)({scrollWindow:Ia,scrollDroppable:v.scrollDroppable},n({move:Ys},f)))}),[v.scrollDroppable,f]),j=function(e){var t=Object(Ce.useRef)({}),s=Object(Ce.useRef)(null),a=Object(Ce.useRef)(null),i=Object(Ce.useRef)(!1),o=st((function(e,s){var a={id:e,focus:s};return t.current[e]=a,function(){var s=t.current;s[e]!==a&&delete s[e]}}),[]),n=st((function(t){var s=te(e,t);s&&s!==document.activeElement&&s.focus()}),[e]),r=st((function(e,t){s.current===e&&(s.current=t)}),[]),l=st((function(){a.current||i.current&&(a.current=requestAnimationFrame((function(){a.current=null;var e=s.current;e&&n(e)})))}),[n]),c=st((function(e){s.current=null;var t=document.activeElement;t&&t.getAttribute(Ya.draggableId)===e&&(s.current=e)}),[]);return ti((function(){return i.current=!0,function(){i.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}}),[]),tt((function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:r}}),[o,c,l,r])}(t),w=tt((function(){return function(e){var t=e.dimensionMarshal,s=e.focusMarshal,a=e.getResponders,o=e.announce,n=e.autoScroller;return i(Hs,xa(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return function(){var s=e.apply(void 0,arguments),a=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return c({},s,{dispatch:a=d.apply(void 0,o)(s.dispatch)})}}}((r=e.styleMarshal,function(){return function(e){return function(t){"INITIAL_PUBLISH"===t.type&&r.dragging(),"DROP_ANIMATE"===t.type&&r.dropping(t.payload.completed.result.reason),"FLUSH"!==t.type&&"DROP_COMPLETE"!==t.type||r.resting(),e(t)}}}),function(e){return function(){return function(t){return function(s){"DROP_COMPLETE"!==s.type&&"FLUSH"!==s.type&&"DROP_ANIMATE"!==s.type||e.stopPublishing(),t(s)}}}}(t),function(e){return function(t){var s=t.getState,a=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,n=o.id,r=o.clientSelection,l=o.movementMode,c=s();"DROP_ANIMATING"===c.phase&&a(ta({completed:c.completed})),s(),a({type:"FLUSH",payload:null}),a({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:n,movementMode:l}});var d=e.startPublishing({draggableId:n,scrollOptions:{shouldPublishImmediately:"SNAP"===l}}),h=d.critical,u=d.dimensions;a(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:h,dimensions:u,clientSelection:r,movementMode:l,viewport:d.viewport}))}else t(i)}}}}(t),ba,ja,wa,ka,function(e){return function(t){return function(s){return function(a){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(a))return e.stop(),void s(a);if("INITIAL_PUBLISH"!==a.type)s(a),e.scroll(t.getState());else{s(a);var i=t.getState();e.start(i)}}}}}(n),ga,function(e){var t=!1;return function(){return function(s){return function(a){if("INITIAL_PUBLISH"===a.type)return t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),s(a),void e.tryRestoreFocusRecorded();if(s(a),t){if("FLUSH"===a.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===a.type){t=!1;var i=a.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(s),function(e,t){var s=function(e,t){var s=(o=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=M(o,(function(t){return t.timerId===e}));o.splice(t,1)[0].callback()}(t)}));o.push({timerId:t,callback:e})},flush:function(){if(o.length){var e=[].concat(o);o.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),a=null,i=function(s){a=null,Oa("onDragEnd",(function(){return ya(e().onDragEnd,s,t,Dt)}))};var o;return{beforeCapture:function(t,s){Oa("onBeforeCapture",(function(){var a=e().onBeforeCapture;a&&a({draggableId:t,mode:s})}))},beforeStart:function(t,s){Oa("onBeforeDragStart",(function(){var a=e().onBeforeDragStart;a&&a(va(t,s))}))},start:function(i,o){var n=va(i,o);a={mode:o,lastCritical:i,lastLocation:n.source,lastCombine:null},s.add((function(){Oa("onDragStart",(function(){return ya(e().onDragStart,n,t,_t)}))}))},update:function(i,o){var n=U(o),r=N(o),l=!function(e,t){if(e===t)return!0;var s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index&&s}(i,a.lastCritical);l&&(a.lastCritical=i);var c=!function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;return e.droppableId===t.droppableId&&e.index===t.index}(a.lastLocation,n);c&&(a.lastLocation=n);var d=!function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;return e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(a.lastCombine,r);if(d&&(a.lastCombine=r),l||c||d){var h=Object(Ee.a)({},va(i,a.mode),{combine:r,destination:n});s.add((function(){Oa("onDragUpdate",(function(){return ya(e().onDragUpdate,h,t,Tt)}))}))}},flush:function(){s.flush()},drop:i,abort:function(){if(a){var e=Object(Ee.a)({},va(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(a){if("BEFORE_INITIAL_CAPTURE"!==a.type){if("INITIAL_PUBLISH"===a.type){var i=a.payload.critical;return s.beforeStart(i,a.payload.movementMode),t(a),void s.start(i,a.payload.movementMode)}if("DROP_COMPLETE"===a.type){var o=a.payload.completed.result;return s.flush(),t(a),void s.drop(o)}if(t(a),"FLUSH"!==a.type){var n=e.getState();"DRAGGING"===n.phase&&s.update(n.critical,n.impact)}else s.abort()}else s.beforeCapture(a.payload.draggableId,a.payload.movementMode)}}}}(a,o))));var r}({announce:p,autoScroller:y,dimensionMarshal:v,focusMarshal:j,getResponders:u,styleMarshal:b})}),[p,y,v,j,u,b]);l.current=w;var k=st((function(){var e=ve(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=st((function(){var e=ve(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);s(tt((function(){return{isDragging:x,tryAbort:k}}),[x,k]));var S=st((function(e){return Da(ve(l).getState(),e)}),[]),_=st((function(){return G(ve(l).getState())}),[]),T=tt((function(){return{marshal:v,focus:j,contextId:t,canLift:S,isMovementAllowed:_,dragHandleUsageInstructionsId:m,registry:O}}),[t,v,m,j,S,_,O]);return Oe({contextId:t,store:w,registry:O,customSensors:a,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(Ce.useEffect)((function(){return k}),[k]),Ce.default.createElement(di.Provider,{value:T},Ce.default.createElement(We,{context:oi,store:w},e.children))}function je(e){var t=tt((function(){return""+ji++}),[]),s=e.dragHandleUsageInstructions||St;return Ce.default.createElement(yt,null,(function(a){return Ce.default.createElement(ye,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:s,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}function we(e){var t=Object(Ce.useContext)(e);return t}function ke(e){var t=Object(Ce.useRef)(null),s=we(di),a=ae("droppable"),i=s.registry,o=s.marshal,n=re(e),r=tt((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),l=Object(Ce.useRef)(r),c=tt((function(){return mt((function(e,t){o.updateDroppableScroll(r.id,{x:e,y:t})}))}),[r.id,o]),d=st((function(){var e=t.current;return e&&e.env.closestScrollable?Di(e.env.closestScrollable):It}),[]),h=st((function(){var e=d();c(e.x,e.y)}),[d,c]),u=tt((function(){return bt(h)}),[h]),p=st((function(){var e=t.current;Ci(e);e.scrollOptions.shouldPublishImmediately?h():u()}),[u,h]),m=st((function(e,a){var i,o,l,c=n.current,d=c.getDroppableRef(),h=(o=Ti(i=d),l=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(i),{closestScrollable:o,isFixedOnPage:l}),u={ref:d,descriptor:r,env:h,scrollOptions:a};t.current=u;var m=function(e){var t=e.descriptor,s=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,n=e.isCombineEnabled,r=e.shouldClipSubject,l=s.closestScrollable,c=function(e,t){var s=pt(e);if(!t)return s;if(e!==t)return s;var a=s.paddingBox.top-t.scrollTop,i=s.paddingBox.left-t.scrollLeft,o=ot({top:a,right:i+t.scrollWidth,bottom:a+t.scrollHeight,left:i},s.border);return lt({borderBox:o,margin:s.margin,border:s.border,padding:s.padding})}(e.ref,l),d=ht(c,a),h=function(){if(!l)return null;var e=pt(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:ht(e,a),scroll:Di(l),scrollSize:t,shouldClipSubject:r}}();return function(e){var t=e.descriptor,s=e.isEnabled,a=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,n=e.client,r=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,s=Sa({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:s,diff:{value:It,displacement:It}}}}(),d="vertical"===o?ss:as,h=$t({page:r,withPlaceholder:null,axis:d,frame:c});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:i,axis:d,isEnabled:s,client:n,page:r,frame:c,subject:h}}({descriptor:t,isEnabled:!o,isCombineEnabled:n,isFixedOnPage:s.isFixedOnPage,direction:i,client:c,page:d,closest:h})}({ref:d,descriptor:r,env:h,windowScroll:e,direction:c.direction,isDropDisabled:c.isDropDisabled,isCombineEnabled:c.isCombineEnabled,shouldClipSubject:!c.ignoreContainerClipping}),b=h.closestScrollable;return b&&(b.setAttribute(Qa.contextId,s.contextId),b.addEventListener("scroll",p,Li(u.scrollOptions))),m}),[s.contextId,r,p,n]),b=st((function(){var e=t.current,s=Ci(e);return Di(s)}),[]),f=st((function(){var e=t.current,s=Ci(e);t.current=null,s&&(u.cancel(),s.removeAttribute(Qa.contextId),s.removeEventListener("scroll",p,Li(e.scrollOptions)))}),[p,u]),g=st((function(e){var s=t.current,a=Ci(s);a.scrollTop+=e.y,a.scrollLeft+=e.x}),[]),O=tt((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:b,dragStopped:f,scroll:g}}),[f,m,b,g]),v=tt((function(){return{uniqueId:a,descriptor:r,callbacks:O}}),[O,r,a]);ti((function(){return l.current=v.descriptor,i.droppable.register(v),function(){t.current&&f(),i.droppable.unregister(v)}}),[O,r,f,v,o,i.droppable]),ti((function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),ti((function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}function xe(){}function Se(e){return"DRAGGING"===e.type?(a=(s=e).dimension.client,i=s.offset,o=s.dropping,n=Boolean(s.combineWith),r=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(s),l=Boolean(o),c=l?ha(i,n):da(i),{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:Ui(r,o),transform:c,opacity:Ni(n,l),zIndex:l?zi:Ri,pointerEvents:"none"}):{transform:da((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,s,a,i,o,n,r,l,c}function _e(e){var t=ae("draggable"),s=e.descriptor,a=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,n=e.shouldRespectForcePress,r=e.isEnabled,l=tt((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:n,isEnabled:r}}),[o,r,n]),c=st((function(e){var t=i();return function(e,t,s){void 0===s&&(s=It);var a=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=ut(i,a),n=ht(o,s);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:a.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:n}}(s,t,e)}),[s,i]),d=tt((function(){return{uniqueId:t,descriptor:s,options:l,getDimension:c}}),[s,c,l,t]),h=Object(Ce.useRef)(d),u=Object(Ce.useRef)(!0);ti((function(){return a.draggable.register(h.current),function(){return a.draggable.unregister(h.current)}}),[a.draggable]),ti((function(){if(u.current)u.current=!1;else{var e=h.current;h.current=d,a.draggable.update(d,e)}}),[d,a.draggable])}function Te(){oe()}function De(e){e.preventDefault()}function Ie(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}function Pe(e){return we(Fi).isUsingCloneFor!==e.draggableId||e.isClone?Ce.default.createElement(Hi,e):null}function Le(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,s=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return Ce.default.createElement(Pe,Object(Ee.a)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:s,shouldRespectForcePress:a}))}s.d(t,"a",(function(){return je})),s.d(t,"b",(function(){return Le})),s.d(t,"c",(function(){return Ki}));var Ce=s("l8WD"),Ae=s("7L9N"),Ee=s("Fcif"),Fe=s("Rblx"),Me=function(){return Math.random().toString(36).substring(7).split("").join(".")},Re={INIT:"@@redux/INIT"+Me(),REPLACE:"@@redux/REPLACE"+Me(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Me()}};s("W0B4");var ze=Ce.default.createContext(null);var Ue=function(e){e()},Ne={notify:function(){}},$e=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=Ne,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=h())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Ne)},e}();var We=function(e){var t=e.store,s=e.context,a=e.children,i=Object(Ce.useMemo)((function(){var e=new $e(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),o=Object(Ce.useMemo)((function(){return t.getState()}),[t]);return Object(Ce.useEffect)((function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]),Ce.default.createElement((s||ze).Provider,{value:i},a)},Be=s("+I+c"),He=s("GeWT"),Ve=s.n(He),Ge=s("xVO4"),qe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ce.useLayoutEffect:Ce.useEffect,Ke=[],Ze=[null,null],Ye=function(){return[null,0]},Xe=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:v((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?v((function(t){return n(e,t)})):void 0}],Je=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:v((function(){return{}}))}],Qe=[function(e){return"function"==typeof e?function(e){return function(t,s){var a,i=s.pure,o=s.areMergedPropsEqual,n=!1;return function(t,s,r){var l=e(t,s,r);return n?i&&o(l,a)||(a=l):(n=!0,a=l),a}}}(e):void 0},function(e){return e?void 0:function(){return w}}],et=D();Ue=Ce.unstable_batchedUpdates;var tt=I,st=function(e,t){return I((function(){return e}),t)},at=s("+D+d"),it=function(e){var t=e.top,s=e.right,a=e.bottom,i=e.left;return{top:t,right:s,bottom:a,left:i,width:s-i,height:a-t,x:i,y:t,center:{x:(s+i)/2,y:(a+t)/2}}},ot=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},nt=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},rt={top:0,right:0,bottom:0,left:0},lt=function(e){var t=e.borderBox,s=e.margin,a=void 0===s?rt:s,i=e.border,o=void 0===i?rt:i,n=e.padding,r=void 0===n?rt:n,l=it(ot(t,a)),c=it(nt(t,o)),d=it(nt(c,r));return{marginBox:l,borderBox:it(t),paddingBox:c,contentBox:d,margin:a,border:o,padding:r}},ct=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var s=Number(t);return isNaN(s)&&Object(at.a)(!1),s},dt=function(e,t){var s,a,i={top:(s=e.borderBox).top+(a=t).y,left:s.left+a.x,bottom:s.bottom+a.y,right:s.right+a.x};return lt({borderBox:i,border:e.border,margin:e.margin,padding:e.padding})},ht=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),dt(e,t)},ut=function(e,t){var s={top:ct(t.marginTop),right:ct(t.marginRight),bottom:ct(t.marginBottom),left:ct(t.marginLeft)},a={top:ct(t.paddingTop),right:ct(t.paddingRight),bottom:ct(t.paddingBottom),left:ct(t.paddingLeft)},i={top:ct(t.borderTopWidth),right:ct(t.borderRightWidth),bottom:ct(t.borderBottomWidth),left:ct(t.borderLeftWidth)};return lt({borderBox:e,margin:s,padding:a,border:i})},pt=function(e){var t=e.getBoundingClientRect(),s=window.getComputedStyle(e);return ut(t,s)},mt=function(e,t){var s;void 0===t&&(t=P);var a,i=[],o=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return o&&s===this&&t(n,i)||(a=e.apply(this,n),o=!0,s=this,i=n),a}},bt=function(e){var t=[],s=null,a=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t=i,s||(s=requestAnimationFrame((function(){s=null,e.apply(void 0,t)})))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};L.bind(null,"warn"),L.bind(null,"error");E.prototype.toString=function(){return this.message};var ft,gt,Ot,vt,yt=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).callbacks=null,t.unbind=C,t.onWindowError=function(e){var s=t.getCallbacks();s.isDragging()&&s.tryAbort(),e.error instanceof E&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Object(Ae.a)(t,e);var s=t.prototype;return s.componentDidMount=function(){this.unbind=A(window,[{eventName:"error",fn:this.onWindowError}])},s.componentWillUnmount=function(){this.unbind()},s.componentDidCatch=function(e){if(!(e instanceof E))throw e;this.setState({})},s.render=function(){return this.props.children(this.setCallbacks)},t}(Ce.default.Component),jt=function(e){return e+1},wt=function(e,t){var s=e.droppableId===t.droppableId,a=jt(e.index),i=jt(t.index);return s?"\n      You have moved the item from position "+a+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+a+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},kt=function(e,t,s){return t.droppableId===s.droppableId?"\n      The item "+e+"\n      has been combined with "+s.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+s.draggableId+"\n      in list "+s.droppableId+"\n    "},xt=function(e){return"\n  The item has returned to its starting position\n  of "+jt(e.index)+"\n"},St="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",_t=function(e){return"\n  You have lifted an item in position "+jt(e.source.index)+"\n"},Tt=function(e){var t=e.destination;if(t)return wt(e.source,t);var s=e.combine;return s?kt(e.draggableId,e.source,s):"You are over an area that cannot be dropped on"},Dt=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+xt(e.source)+"\n    ";var t=e.destination,s=e.combine;return t?"\n      You have dropped the item.\n      "+wt(e.source,t)+"\n    ":s?"\n      You have dropped the item.\n      "+kt(e.draggableId,e.source,s)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+xt(e.source)+"\n  "},It={x:0,y:0},Pt=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Lt=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Ct=function(e,t){return e.x===t.x&&e.y===t.y},At=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Et=function(e,t,s){var a;return void 0===s&&(s=0),(a={})[e]=t,a["x"===e?"y":"x"]=s,a},Ft=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Mt=function(e,t){return Math.min.apply(Math,t.map((function(t){return Ft(e,t)})))},Rt=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},zt=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Ut=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Nt=function(e,t){return t&&t.shouldClipSubject?function(e,t){var s=it({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return s.width<=0||s.height<=0?null:s}(t.pageMarginBox,e):it(e)},$t=function(e){var t=e.page,s=e.withPlaceholder,a=e.axis,i=e.frame,o=function(e,t,s){var a;return s&&s.increasedBy?Object(Ee.a)({},e,((a={})[t.end]=e[t.end]+s.increasedBy[t.line],a)):e}(function(e,t){return t?zt(e,t.scroll.diff.displacement):e}(t.marginBox,i),a,s);return{page:t,withPlaceholder:s,active:Nt(o,i)}},Wt=function(e,t){var s=e.frame,a=Lt(t,s.scroll.initial),i=At(a),o=Object(Ee.a)({},s,{scroll:{initial:s.scroll.initial,current:t,diff:{value:a,displacement:i},max:s.scroll.max}}),n=$t({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return Object(Ee.a)({},e,{frame:o,subject:n})},Bt=mt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Ht=mt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Vt=mt((function(e){return F(e)})),Gt=mt((function(e){return F(e)})),qt=mt((function(e,t){return Gt(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))})),Kt=mt((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Zt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Yt={point:It,value:0},Xt={invisible:{},visible:{},all:[]},Jt={displaced:Xt,displacedBy:Yt,at:null},Qt=function(e,t){return function(s){return e<=s&&s<=t}},es=function(e){var t=Qt(e.top,e.bottom),s=Qt(e.left,e.right);return function(a){if(t(a.top)&&t(a.bottom)&&s(a.left)&&s(a.right))return!0;var i=t(a.top)||t(a.bottom),o=s(a.left)||s(a.right);if(i&&o)return!0;var n=a.top<e.top&&a.bottom>e.bottom,r=a.left<e.left&&a.right>e.right;return!(!n||!r)||(n&&o||r&&i)}},ts=function(e){var t=Qt(e.top,e.bottom),s=Qt(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&s(e.left)&&s(e.right)}},ss={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},as={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},is=function(e){var t=e.target,s=e.destination,a=e.viewport,i=e.isVisibleThroughFrameFn,o=e.withDroppableDisplacement?function(e,t){return zt(e,t.frame?t.frame.scroll.diff.displacement:It)}(t,s):t;return function(e,t,s){return!!t.subject.active&&s(t.subject.active)(e)}(o,s,i)&&function(e,t,s){return s(t)(e)}(o,a,i)},os=function(e){return is(Object(Ee.a)({},e,{isVisibleThroughFrameFn:es}))},ns=function(e){return is(Object(Ee.a)({},e,{isVisibleThroughFrameFn:ts}))},rs=function(e){var t=e.isMovingForward,s=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,n=e.previousImpact,r=e.viewport,l=e.afterCritical,c=n.at;if("REORDER"===c.type){var d=function(e){var t=e.insideDestination;if(!t.length)return null;var s=e.location.index,a=e.isMovingForward?s+1:s-1,i=t[t.length-1].descriptor.index;return a<t[0].descriptor.index||a>(e.isInHomeList?i:i+1)?null:a}({isMovingForward:t,isInHomeList:e.isInHomeList,location:c.destination,insideDestination:o});return null==d?null:B({draggable:s,insideDestination:o,destination:i,viewport:r,last:n.displaced,displacedBy:n.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward;if(!e.destination.isCombineEnabled)return null;var s=e.combine.draggableId,a=e.draggables[s].descriptor.index;return H(s,e.afterCritical)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:n.displaced,draggables:a,combine:c.combine,afterCritical:l});return null==h?null:B({draggable:s,insideDestination:o,destination:i,viewport:r,last:n.displaced,displacedBy:n.displacedBy,index:h})},ls=function(e){var t=e.afterCritical,s=e.impact,a=e.draggables,i=N(s),o=i.draggableId,n=a[o].page.borderBox.center,r=function(e){var t=e.displaced,s=e.afterCritical,a=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[a]||t.invisible[a]);return H(a,s)?o?It:At(i.point):o?i.point:It}({displaced:s.displaced,afterCritical:t,combineWith:o,displacedBy:s.displacedBy});return Pt(n,r)},cs=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},ds=function(e,t,s){return t[e.crossAxisStart]+s.margin[e.crossAxisStart]+s.borderBox[e.crossAxisSize]/2},hs=function(e){var t=e.axis,s=e.moveRelativeTo,a=e.isMoving;return Et(t.line,s.marginBox[t.end]+cs(t,a),ds(t,s.marginBox,a))},us=function(e){var t=e.axis,s=e.moveRelativeTo,a=e.isMoving;return Et(t.line,s.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,a),ds(t,s.marginBox,a))},ps=function(e){var t=e.impact,s=e.draggable,a=e.draggables,i=e.droppable,o=e.afterCritical,n=qt(i.descriptor.id,a),r=s.page,l=i.axis;if(!n.length)return function(e){var t=e.axis,s=e.moveInto,a=e.isMoving;return Et(t.line,s.contentBox[t.start]+cs(t,a),ds(t,s.contentBox,a))}({axis:l,moveInto:i.page,isMoving:r});var c=t.displacedBy,d=t.displaced.all[0];if(d){var h=a[d];if(H(d,o))return us({axis:l,moveRelativeTo:h.page,isMoving:r});var u=dt(h.page,c.point);return us({axis:l,moveRelativeTo:u,isMoving:r})}var p=n[n.length-1];if(p.descriptor.id===s.descriptor.id)return r.borderBox.center;if(H(p.descriptor.id,o)){var m=dt(p.page,At(o.displacedBy.point));return hs({axis:l,moveRelativeTo:m,isMoving:r})}return hs({axis:l,moveRelativeTo:p.page,isMoving:r})},ms=function(e,t){var s=e.frame;return s?Pt(t,s.scroll.diff.displacement):t},bs=function(e){var t=function(e){var t=e.impact,s=e.draggable,a=e.droppable,i=e.draggables,o=e.afterCritical,n=s.page.borderBox.center,r=t.at;return a&&r?"REORDER"===r.type?ps({impact:t,draggable:s,draggables:i,droppable:a,afterCritical:o}):ls({impact:t,draggables:i,afterCritical:o}):n}(e),s=e.droppable;return s?ms(s,t):t},fs=function(e,t){var s=Lt(t,e.scroll.initial),a=At(s);return{frame:it({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:s,displacement:a}}}},gs=function(e){var t=e.draggable,s=function(e,t){return Pt(e.scroll.diff.displacement,t)}(e.viewport,e.pageBorderBoxCenter),a=Lt(s,t.page.borderBox.center);return Pt(t.client.borderBox.center,a)},Os=function(e){var t=e.draggable,s=e.destination,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,n=void 0!==o&&o,r=Lt(e.newPageBorderBoxCenter,t.page.borderBox.center),l={target:zt(t.page.borderBox,r),destination:s,withDroppableDisplacement:i,viewport:a};return n?function(e){return is(Object(Ee.a)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var s=Qt(e.top,e.bottom),a=Qt(e.left,e.right);return function(e){return t===ss?s(e.top)&&s(e.bottom):a(e.left)&&a(e.right)}})}));var t}(l):ns(l)},vs=function(e){var t=e.isMovingForward,s=e.draggable,a=e.destination,i=e.draggables,o=e.previousImpact,n=e.viewport,r=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!a.isEnabled)return null;var d=qt(a.descriptor.id,i),h=Zt(s,a),u=function(e){function t(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:i.descriptor.id}};return Object(Ee.a)({},n,{at:t})}var s=e.isMovingForward,a=e.draggable,i=e.destination,o=e.insideDestination,n=e.previousImpact;if(!i.isCombineEnabled)return null;if(!U(n))return null;var r=n.displaced.all,l=r.length?r[0]:null;if(s)return l?t(l):null;var c=Kt(a,o);if(!l)return c.length?t(c[c.length-1].descriptor.id):null;var d=M(c,(function(e){return e.descriptor.id===l})),h=d-1;return h<0?null:t(c[h].descriptor.id)}({isMovingForward:t,draggable:s,destination:a,insideDestination:d,previousImpact:o})||rs({isMovingForward:t,isInHomeList:h,draggable:s,draggables:i,destination:a,insideDestination:d,previousImpact:o,viewport:n,afterCritical:c});if(!u)return null;var p=bs({impact:u,draggable:s,droppable:a,draggables:i,afterCritical:c});if(Os({draggable:s,destination:a,newPageBorderBoxCenter:p,viewport:n.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:gs({pageBorderBoxCenter:p,draggable:s,viewport:n}),impact:u,scrollJumpRequest:null};var m=Lt(p,r);return{clientSelection:l,impact:function(e){var t=e.impact,s=e.viewport,a=e.destination,i=e.draggables,o=e.maxScrollChange,n=fs(s,Pt(s.scroll.current,o)),r=a.frame?Wt(a,Pt(a.frame.scroll.current,o)):a,l=t.displaced,c=$({afterDragging:V(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d=$({afterDragging:V(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),h={},u={},p=[l,c,d];return l.all.forEach((function(e){var t=function(e,t){for(var s=0;s<t.length;s++){var a=t[s].visible[e];if(a)return a}return null}(e,p);t?u[e]=t:h[e]=!0})),Object(Ee.a)({},t,{displaced:{all:l.all,invisible:h,visible:u}})}({impact:u,viewport:n,destination:a,draggables:i,maxScrollChange:m}),scrollJumpRequest:m}},ys=function(e){var t=e.subject.active;return t},js=function(e,t){var s=e.page.borderBox.center;return H(e.descriptor.id,t)?Lt(s,t.displacedBy.point):s},ws=function(e,t){var s=e.page.borderBox;return H(e.descriptor.id,t)?zt(s,At(t.displacedBy.point)):s},ks=mt((function(e,t){var s=t[e.line];return{value:s,point:Et(e.line,s)}})),xs=function(e,t){return Object(Ee.a)({},e,{scroll:Object(Ee.a)({},e.scroll,{max:t})})},Ss=function(e,t,s){var a=e.frame;Zt(t,e);var i=ks(e.axis,t.displaceBy).point,o=function(e,t,s){var a=e.axis;if("virtual"===e.descriptor.mode)return Et(a.line,t[a.line]);var i=e.subject.page.contentBox[a.size],o=qt(e.descriptor.id,s).reduce((function(e,t){return e+t.client.marginBox[a.size]}),0)+t[a.line]-i;return o<=0?null:Et(a.line,o)}(e,i,s),n={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){var r=$t({page:e.subject.page,withPlaceholder:n,axis:e.axis,frame:e.frame});return Object(Ee.a)({},e,{subject:r})}var l=o?Pt(a.scroll.max,o):a.scroll.max,c=xs(a,l),d=$t({page:e.subject.page,withPlaceholder:n,axis:e.axis,frame:c});return Object(Ee.a)({},e,{subject:d,frame:c})},_s=function(e){var t=e.previousPageBorderBoxCenter,s=e.draggable,a=e.draggables,i=e.viewport,o=e.afterCritical,n=function(e){var t=e.isMovingForward,s=e.pageBorderBoxCenter,a=e.source,i=e.droppables,o=e.viewport,n=a.subject.active;if(!n)return null;var r=a.axis,l=Qt(n[r.start],n[r.end]),c=Vt(i).filter((function(e){return e!==a})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return es(o.frame)(ys(e))})).filter((function(e){var s=ys(e);return t?n[r.crossAxisEnd]<s[r.crossAxisEnd]:s[r.crossAxisStart]<n[r.crossAxisStart]})).filter((function(e){var t=ys(e),s=Qt(t[r.start],t[r.end]);return l(t[r.start])||l(t[r.end])||s(n[r.start])||s(n[r.end])})).sort((function(e,s){var a=ys(e)[r.crossAxisStart],i=ys(s)[r.crossAxisStart];return t?a-i:i-a})).filter((function(e,t,s){return ys(e)[r.crossAxisStart]===ys(s[0])[r.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter((function(e){return Qt(ys(e)[r.start],ys(e)[r.end])(s[r.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return ys(e)[r.start]-ys(t)[r.start]}))[0]:c.sort((function(e,t){var a=Mt(s,Ut(ys(e))),i=Mt(s,Ut(ys(t)));return a!==i?a-i:ys(e)[r.start]-ys(t)[r.start]}))[0]}({isMovingForward:e.isMovingForward,pageBorderBoxCenter:t,source:e.isOver,droppables:e.droppables,viewport:i});if(!n)return null;var r=qt(n.descriptor.id,a),l=function(e){var t=e.previousPageBorderBoxCenter,s=e.moveRelativeTo,a=e.insideDestination,i=e.draggable,o=e.draggables,n=e.destination,r=e.viewport;if(!s){if(a.length)return null;var l={displaced:Xt,displacedBy:Yt,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:0}}},c=bs({impact:l,draggable:i,droppable:n,draggables:o,afterCritical:e.afterCritical}),d=Zt(i,n)?n:Ss(n,i,o);return Os({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:r.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var h,u=Boolean(t[n.axis.line]<=s.page.borderBox.center[n.axis.line]),p=(h=s.descriptor.index,s.descriptor.id===i.descriptor.id||u?h:h+1),m=ks(n.axis,i.displaceBy);return B({draggable:i,insideDestination:a,destination:n,viewport:r,displacedBy:m,last:Xt,index:p})}({previousPageBorderBoxCenter:t,destination:n,draggable:s,draggables:a,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,s=e.viewport,a=e.destination,i=e.afterCritical;return e.insideDestination.filter((function(e){return ns({target:ws(e,i),destination:a,viewport:s.frame,withDroppableDisplacement:!0})})).sort((function(e,s){var o=Ft(t,ms(a,js(e,i))),n=Ft(t,ms(a,js(s,i)));return o<n?-1:n<o?1:e.descriptor.index-s.descriptor.index}))[0]||null}({pageBorderBoxCenter:t,viewport:i,destination:n,insideDestination:r,afterCritical:o}),insideDestination:r,viewport:i,afterCritical:o});if(!l)return null;var c=bs({impact:l,draggable:s,droppable:n,draggables:a,afterCritical:o});return{clientSelection:gs({pageBorderBoxCenter:c,draggable:s,viewport:i}),impact:l,scrollJumpRequest:null}},Ts=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Ds=function(e){var t=e.state,s=e.type,a=function(e,t){var s=Ts(e);return s?t[s]:null}(t.impact,t.dimensions.droppables),i=Boolean(a),o=a||t.dimensions.droppables[t.critical.droppable.id],n=o.axis.direction,r="vertical"===n&&("MOVE_UP"===s||"MOVE_DOWN"===s)||"horizontal"===n&&("MOVE_LEFT"===s||"MOVE_RIGHT"===s);if(r&&!i)return null;var l="MOVE_DOWN"===s||"MOVE_RIGHT"===s,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,u=h.draggables,p=h.droppables;return r?vs({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:u,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):_s({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:u,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})},Is=function(e,t){return it(zt(e,t))},Ps=function(e){var t=e.draggable,s=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,n=e.afterCritical,r=Is(t.page.borderBox,e.pageOffset),l=K({pageBorderBox:r,draggable:t,droppables:a});if(!l)return Jt;var c,d,h=a[l],u=qt(h.descriptor.id,s),p=(c=r,(d=h.frame)?Is(c,d.scroll.diff.value):c);return function(e){var t=e.draggable,s=e.pageBorderBoxWithDroppableScroll,a=e.previousImpact,i=e.destination,o=e.insideDestination,n=e.afterCritical;if(!i.isCombineEnabled)return null;var r=i.axis,l=ks(i.axis,t.displaceBy),c=l.value,d=s[r.start],h=s[r.end],u=R(Kt(t,o),(function(e){var t=e.descriptor.id,s=e.page.borderBox,i=s[r.size]/4,o=H(t,n),l=Z({displaced:a.displaced,id:t});return o?l?h>s[r.start]+i&&h<s[r.end]-i:d>s[r.start]-c+i&&d<s[r.end]-c-i:l?h>s[r.start]+c+i&&h<s[r.end]+c-i:d>s[r.start]+i&&d<s[r.end]-i}));return u?{displacedBy:l,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:h,insideDestination:u,afterCritical:n})||function(e){var t=e.pageBorderBoxWithDroppableScroll,s=e.draggable,a=e.destination,i=e.insideDestination,o=e.last,n=e.viewport,r=e.afterCritical,l=a.axis,c=ks(a.axis,s.displaceBy),d=c.value,h=t[l.start],u=t[l.end],p=function(e){var t=e.closest;return t?e.inHomeList&&t.descriptor.index>e.draggable.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:s,closest:R(Kt(s,i),(function(e){var t=e.descriptor.id,s=e.page.borderBox.center[l.line],a=H(t,r),i=Z({displaced:o,id:t});return a?i?u<=s:h<s-d:i?u<=s+d:h<s})),inHomeList:Zt(s,a)});return B({draggable:s,insideDestination:i,destination:a,viewport:n,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:h,insideDestination:u,last:i.displaced,viewport:o,afterCritical:n})},Ls=function(e,t){var s;return Object(Ee.a)({},e,((s={})[t.descriptor.id]=t,s))},Cs=function(e){var t=e.impact,s=e.droppables,a=Ts(e.previousImpact),i=Ts(t);if(!a)return s;if(a===i)return s;var o=s[a];if(!o.subject.withPlaceholder)return s;var n=function(e){var t=e.subject.withPlaceholder,s=e.frame;if(!s){var a=$t({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Object(Ee.a)({},e,{subject:a})}var i=t.oldFrameMaxScroll,o=xs(s,i),n=$t({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return Object(Ee.a)({},e,{subject:n,frame:o})}(o);return Ls(s,n)},As=function(e){var t=e.state,s=e.impact,a=e.scrollJumpRequest,i=e.viewport||t.viewport,o=e.dimensions||t.dimensions,n=e.clientSelection||t.current.client.selection,r=Lt(n,t.initial.client.selection),l={offset:r,selection:n,borderBoxCenter:Pt(t.initial.client.borderBoxCenter,r)},c={selection:Pt(l.selection,i.scroll.current),borderBoxCenter:Pt(l.borderBoxCenter,i.scroll.current),offset:Pt(l.offset,i.scroll.diff.value)},d={client:l,page:c};if("COLLECTING"===t.phase)return Object(Ee.a)({phase:"COLLECTING"},t,{dimensions:o,viewport:i,current:d});var h=o.draggables[t.critical.draggable.id],u=s||Ps({pageOffset:c.offset,draggable:h,draggables:o.draggables,droppables:o.droppables,previousImpact:t.impact,viewport:i,afterCritical:t.afterCritical}),p=function(e){var t=e.draggable,s=e.draggables,a=e.droppables,i=e.impact,o=Cs({previousImpact:e.previousImpact,impact:i,droppables:a}),n=Ts(i);if(!n)return o;var r=a[n];if(Zt(t,r))return o;if(r.subject.withPlaceholder)return o;var l=Ss(r,t,s);return Ls(o,l)}({draggable:h,impact:u,previousImpact:t.impact,draggables:o.draggables,droppables:o.droppables});return Object(Ee.a)({},t,{current:d,dimensions:{draggables:o.draggables,droppables:p},impact:u,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},Es=function(e){var t=e.impact,s=e.viewport,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,n=$({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(o.all,e.draggables),destination:a,displacedBy:t.displacedBy,viewport:s.frame,forceShouldAnimate:i,last:o});return Object(Ee.a)({},t,{displaced:n})},Fs=function(e){var t=e.draggable,s=e.viewport,a=bs({impact:e.impact,draggable:t,draggables:e.draggables,droppable:e.droppable,afterCritical:e.afterCritical});return gs({pageBorderBoxCenter:a,draggable:t,viewport:s})},Ms=function(e){var t=e.state,s=t.impact,a=e.viewport||t.viewport,i=e.dimensions||t.dimensions,o=i.draggables,n=i.droppables,r=o[t.critical.draggable.id],l=Ts(s),c=n[l],d=Es({impact:s,viewport:a,destination:c,draggables:o}),h=Fs({impact:d,draggable:r,droppable:c,draggables:o,viewport:a,afterCritical:t.afterCritical});return As({impact:d,clientSelection:h,state:t,dimensions:i,viewport:a})},Rs=function(e){var t,s=e.draggable,a=e.home,i=e.draggables,o=e.viewport,n=ks(a.axis,s.displaceBy),r=qt(a.descriptor.id,i),l=r.indexOf(s),c=r.slice(l+1),d=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),h={inVirtualList:"virtual"===a.descriptor.mode,displacedBy:n,effected:d};return{impact:{displaced:$({afterDragging:c,destination:a,displacedBy:n,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:n,at:{type:"REORDER",destination:(t=s.descriptor,{index:t.index,droppableId:t.droppableId})}},afterCritical:h}},zs=function(){0},Us=function(){0},Ns=function(e){var t=e.updatedDroppables,s=e.viewport,a=s.scroll.diff.value;return e.additions.map((function(e){var i=function(e){var t=e.frame;return t}(t[e.descriptor.droppableId]);return function(e){var t=e.draggable,s=e.initialWindowScroll,a=dt(t.client,e.offset),i=ht(a,s);return Object(Ee.a)({},t,{placeholder:Object(Ee.a)({},t.placeholder,{client:a}),client:a,page:i})}({draggable:e,offset:Pt(a,i.scroll.diff.value),initialWindowScroll:s.scroll.initial})}))},$s=function(e){return"SNAP"===e.movementMode},Ws=function(e,t,s){var a=function(e,t){return{draggables:e.draggables,droppables:Ls(e.droppables,t)}}(e.dimensions,t);return!$s(e)||s?As({state:e,dimensions:a}):Ms({state:e,dimensions:a})},Bs={phase:"IDLE",completed:null,shouldFlush:!1},Hs=function(e,t){if(void 0===e&&(e=Bs),"FLUSH"===t.type)return Object(Ee.a)({},Bs,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){var s=t.payload,a=s.critical,i=s.viewport,o=s.dimensions,n=s.movementMode,r=o.draggables[a.draggable.id],l=o.droppables[a.droppable.id],c={selection:s.clientSelection,borderBoxCenter:r.client.borderBox.center,offset:It},d={client:c,page:{selection:Pt(c.selection,i.scroll.initial),borderBoxCenter:Pt(c.selection,i.scroll.initial),offset:Pt(c.selection,i.scroll.diff.value)}},h=Vt(o.droppables).every((function(e){return!e.isFixedOnPage})),u=Rs({draggable:r,home:l,draggables:o.draggables,viewport:i}),p=u.impact;return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:n,dimensions:o,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:u.afterCritical,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:Object(Ee.a)({phase:"COLLECTING"},e,{phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return function(e){var t=e.state,s=e.published;zs();var a=s.modified.map((function(e){return Wt(t.dimensions.droppables[e.droppableId],e.scroll)})),i=Object(Ee.a)({},t.dimensions.droppables,{},Bt(a)),o=Ht(Ns({additions:s.additions,updatedDroppables:i,viewport:t.viewport})),n=Object(Ee.a)({},t.dimensions.draggables,{},o);s.removals.forEach((function(e){delete n[e]}));var r={droppables:i,draggables:n},l=Ts(t.impact),c=l?r.droppables[l]:null,d=Rs({draggable:r.draggables[t.critical.draggable.id],home:r.droppables[t.critical.droppable.id],draggables:n,viewport:t.viewport}),h=d.impact,u=d.afterCritical,p=Ps({pageOffset:t.current.page.offset,draggable:r.draggables[t.critical.draggable.id],draggables:r.draggables,droppables:r.droppables,previousImpact:c&&c.isCombineEnabled?t.impact:h,viewport:t.viewport,afterCritical:u});Us();var m=Object(Ee.a)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:p,onLiftImpact:h,dimensions:r,afterCritical:u,forceShouldAnimate:!1});return"COLLECTING"===t.phase?m:Object(Ee.a)({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;G(e);var m=t.payload.client;return Ct(m,e.current.client.selection)?e:As({state:e,clientSelection:m,impact:$s(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Y(e);if("COLLECTING"===e.phase)return Y(e);G(e);var b=t.payload,f=e.dimensions.droppables[b.id];if(!f)return e;var g=Wt(f,b.newScroll);return Ws(e,g,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;G(e);var O=t.payload,v=O.isEnabled,y=e.dimensions.droppables[O.id],j=Object(Ee.a)({},y,{isEnabled:v});return Ws(e,j,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;G(e);var w=t.payload,k=w.isCombineEnabled,x=e.dimensions.droppables[w.id],S=Object(Ee.a)({},x,{isCombineEnabled:k});return Ws(e,S,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;G(e);var _=t.payload.newScroll;if(Ct(e.viewport.scroll.current,_))return Y(e);var T=fs(e.viewport,_);return $s(e)?Ms({state:e,viewport:T}):As({state:e,viewport:T})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!G(e))return e;var D=t.payload.maxScroll;if(Ct(D,e.viewport.scroll.max))return e;var I=Object(Ee.a)({},e.viewport,{scroll:Object(Ee.a)({},e.viewport.scroll,{max:D})});return Object(Ee.a)({phase:"DRAGGING"},e,{viewport:I})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;var P=Ds({state:e,type:t.type});return P?As({state:e,impact:P.impact,clientSelection:P.clientSelection,scrollJumpRequest:P.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return Object(Ee.a)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var C=t.payload;return{phase:"DROP_ANIMATING",completed:C.completed,dropDuration:C.dropDuration,newHomeClientOffset:C.newHomeClientOffset,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Vs=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Gs=function(){return{type:"COLLECTION_STARTING",payload:null}},qs=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Ks=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Zs=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Ys=function(e){return{type:"MOVE",payload:e}},Xs=function(){return{type:"MOVE_UP",payload:null}},Js=function(){return{type:"MOVE_DOWN",payload:null}},Qs=function(){return{type:"MOVE_RIGHT",payload:null}},ea=function(){return{type:"MOVE_LEFT",payload:null}},ta=function(e){return{type:"DROP_COMPLETE",payload:e}},sa=function(e){return{type:"DROP",payload:e}},aa=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},ia="cubic-bezier(.2,1,.1,1)",oa={drop:0,combining:.7},na={drop:.75},ra=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",la={fluid:"opacity "+ra,snap:"transform "+ra+", opacity "+ra,drop:function(e){var t=e+"s "+ia;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+ra,placeholder:"height "+ra+", width "+ra+", margin "+ra},ca=function(e){return Ct(e,It)?null:"translate("+e.x+"px, "+e.y+"px)"},da=ca,ha=function(e,t){var s=ca(e);return s?t?s+" scale("+na.drop+")":s:null},ua=.33,pa=.55,ma=pa-ua,ba=function(e){var t=e.getState,s=e.dispatch;return function(e){return function(a){if("DROP"===a.type){var i=t(),o=a.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){var n=i.critical,r=i.dimensions,l=r.draggables[i.critical.draggable.id],c=function(e){var t=e.lastImpact;return t.at&&"DROP"===e.reason?"REORDER"===t.at.type?{impact:t,didDropInsideDroppable:!0}:{impact:Object(Ee.a)({},t,{displaced:Xt}),didDropInsideDroppable:!0}:{impact:Es({draggables:e.draggables,impact:e.onLiftImpact,destination:e.home,viewport:e.viewport,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=c.impact,h=c.didDropInsideDroppable,u=h?U(d):null,p=h?N(d):null,m={draggableId:l.descriptor.id,type:l.descriptor.type,source:{index:n.draggable.index,droppableId:n.droppable.id},reason:o,mode:i.movementMode,destination:u,combine:p},b=function(e){var t=e.impact,s=e.draggable,a=e.dimensions,i=e.viewport,o=e.afterCritical,n=a.draggables,r=a.droppables,l=Ts(t),c=Fs({impact:t,draggable:s,draggables:n,afterCritical:o,droppable:(l?r[l]:null)||r[s.descriptor.droppableId],viewport:i});return Lt(c,s.client.borderBox.center)}({impact:d,draggable:l,dimensions:r,viewport:i.viewport,afterCritical:i.afterCritical}),f={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:d};if(!Ct(i.current.client.offset,b)||Boolean(m.combine)){var g=function(e){var t=e.reason,s=Ft(e.current,e.destination);if(s<=0)return ua;if(s>=1500)return pa;var a=ua+ma*(s/1500);return Number(("CANCEL"===t?.6*a:a).toFixed(2))}({current:i.current.client.offset,destination:b,reason:o});s(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:b,dropDuration:g,completed:f}))}else s(ta({completed:f}))}}else s(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(a)}}},fa=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ga=function(e){var t=X({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(s){t.isActive()||"INITIAL_PUBLISH"!==s.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(s)&&t.stop(),e(s)}}},Oa=function(e,t){zs(),t(),Us()},va=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},ya=function(e,t,s,a){if(e){var i=function(e){var t=!1,s=!1,a=setTimeout((function(){s=!0})),i=function(i){t||s||(t=!0,e(i),clearTimeout(a))};return i.wasCalled=function(){return t},i}(s);e(t,{announce:i}),i.wasCalled()||s(a(t))}else s(a(t))},ja=function(e){return function(t){return function(s){if("DROP_ANIMATION_FINISHED"===s.type){var a=e.getState();e.dispatch(ta({completed:a.completed}))}else t(s)}}},wa=function(e){var t=null,s=null;return function(a){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(s&&(cancelAnimationFrame(s),s=null),t&&(t(),t=null)),a(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};s=requestAnimationFrame((function(){s=null,t=A(window,[o])}))}}}},ka=function(e){return function(t){return function(s){if(t(s),"PUBLISH_WHILE_DRAGGING"===s.type){var a=e.getState();"DROP_PENDING"===a.phase&&(a.isWaiting||e.dispatch(sa({reason:a.reason})))}}}},xa=d,Sa=function(e){var t=Lt({x:e.scrollWidth,y:e.scrollHeight},{x:e.width,y:e.height});return{x:Math.max(0,t.x),y:Math.max(0,t.y)}},_a=function(){var e=document.documentElement;return e},Ta=function(){var e=_a();return Sa({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Da=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Ia=function(e){window.scrollBy(e.x,e.y)},Pa=mt((function(e){return Vt(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),La=function(e){var t=e.destination,s=e.droppables;if(t){var a=s[t];return a.frame?a:null}return function(e,t){return R(Pa(t),(function(t){return q(t.frame.pageMarginBox)(e)}))}(e.center,s)},Ca=.25,Aa=.05,Ea=28,Fa=function(e){return Math.pow(e,2)},Ma={stopDampeningAt:1200,accelerateAt:360},Ra=function(e){var t=e.startOfRange,s=e.endOfRange-t;return 0===s?0:(e.current-t)/s},za=Ma.accelerateAt,Ua=Ma.stopDampeningAt,Na=function(e){var t=e.dragStartTime,s=e.shouldUseTimeDampening,a=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Ea;if(e===t.startScrollingFrom)return 1;var s=Ra({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=Ea*Fa(1-s);return Math.ceil(a)}(e.distanceToEdge,e.thresholds);return 0===a?0:s?Math.max(function(e,t){var s=t,a=Ua,i=Date.now()-s;if(i>=Ua)return e;if(i<za)return 1;var o=Ra({startOfRange:za,endOfRange:a,current:i}),n=e*Fa(o);return Math.ceil(n)}(a,t),1):a},$a=function(e){var t=e.distanceToEdges,s=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*Ca,maxScrollValueAt:e[t.size]*Aa}}(e.container,a);return t[a.end]<t[a.start]?Na({distanceToEdge:t[a.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i}):-1*Na({distanceToEdge:t[a.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i})},Wa=Rt((function(e){return 0===e?0:e})),Ba=function(e){var t=e.dragStartTime,s=e.container,a=e.subject,i=e.center,o=e.shouldUseTimeDampening,n={top:i.y-s.top,right:s.right-i.x,bottom:s.bottom-i.y,left:i.x-s.left},r=$a({container:s,distanceToEdges:n,dragStartTime:t,axis:ss,shouldUseTimeDampening:o}),l=$a({container:s,distanceToEdges:n,dragStartTime:t,axis:as,shouldUseTimeDampening:o}),c=Wa({x:l,y:r});if(Ct(c,It))return null;var d=function(e){var t=e.container,s=e.subject,a=e.proposedScroll,i=s.height>t.height,o=s.width>t.width;return o||i?o&&i?null:{x:o?0:a.x,y:i?0:a.y}:a}({container:s,subject:a,proposedScroll:c});return d?Ct(d,It)?null:d:null},Ha=Rt((function(e){return 0===e?0:e>0?1:-1})),Va=(ft=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.max,s=Pt(e.current,e.change),a={x:ft(s.x,t.x),y:ft(s.y,t.y)};return Ct(a,It)?null:a}),Ga=function(e){var t=e.max,s=e.current,a=e.change,i={x:Math.max(s.x,t.x),y:Math.max(s.y,t.y)},o=Ha(a),n=Va({max:i,current:s,change:o});return!n||(0!==o.x&&0===n.x||0!==o.y&&0===n.y)},qa=function(e,t){return Ga({current:e.scroll.current,max:e.scroll.max,change:t})},Ka=function(e,t){var s=e.frame;return!!s&&Ga({current:s.scroll.current,max:s.scroll.max,change:t})},Za=function(e){var t=e.state,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,n=t.current.page.borderBoxCenter,r=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,s=Ba({dragStartTime:e.dragStartTime,container:t.frame,subject:e.subject,center:e.center,shouldUseTimeDampening:e.shouldUseTimeDampening});return s&&qa(t,s)?s:null}({dragStartTime:s,viewport:t.viewport,subject:r,center:n,shouldUseTimeDampening:a});if(l)return void i(l)}var c=La({center:n,destination:Ts(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,s=t.frame;if(!s)return null;var a=Ba({dragStartTime:e.dragStartTime,container:s.pageMarginBox,subject:e.subject,center:e.center,shouldUseTimeDampening:e.shouldUseTimeDampening});return a&&Ka(t,a)?a:null}({dragStartTime:s,droppable:c,subject:r,center:n,shouldUseTimeDampening:a});d&&o(c.descriptor.id,d)}},Ya={base:gt="data-rbd-drag-handle",draggableId:gt+"-draggable-id",contextId:gt+"-context-id"},Xa=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ja=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Qa={contextId:"data-rbd-scroll-container-context-id"},ei=function(e,t){return e.map((function(e){var s=e.styles[t];return s?e.selector+" { "+s+" }":""})).join(" ")},ti="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ce.useLayoutEffect:Ce.useEffect,si=function(){var e=document.querySelector("head");return e},ai=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},ii=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window},oi=Ce.default.createContext(null),ni=function(){var e=document.body;return e},ri={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},li=0,ci={separator:"::"},di=Ce.default.createContext(null),hi=((Ot={})[13]=!0,Ot[9]=!0,Ot),ui=function(e){hi[e.keyCode]&&e.preventDefault()},pi=function(){var e="visibilitychange";return"undefined"==typeof document?e:R([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),mi={type:"IDLE"},bi=((vt={})[34]=!0,vt[33]=!0,vt[36]=!0,vt[35]=!0,vt),fi={type:"IDLE"},gi={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0},Oi=function(e){return it(e.getBoundingClientRect()).center},vi="undefined"==typeof document?"matches":R(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches",yi=[function(e){var t=Object(Ce.useRef)(mi),s=Object(Ce.useRef)(C),a=tt((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var a=e.findClosestDraggableId(t);if(a){var i=e.tryGetLock(a,n,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};s.current(),c(i,o)}}}}}}),[e]),i=tt((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var s=e.findClosestDraggableId(t);if(s){var a=e.findOptionsForDraggable(s);a&&(a.shouldRespectForcePress||e.canGetLock(s)&&t.preventDefault())}}}}}),[e]),o=st((function(){s.current=A(window,[i,a],{passive:!1,capture:!0})}),[i,a]),n=st((function(){"IDLE"!==t.current.type&&(t.current=mi,s.current(),o())}),[o]),r=st((function(){var e=t.current;n(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[n]),l=st((function(){var e=le({cancel:r,completed:n,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});s.current=A(window,e,{capture:!0,passive:!1})}),[r,n]),c=st((function(e,s){t.current={type:"PENDING",point:s,actions:e},l()}),[l]);ti((function(){return o(),function(){s.current()}}),[o])},function(e){var t=Object(Ce.useRef)(ce),s=tt((function(){return{eventName:"keydown",fn:function(s){function i(){!1,t.current(),a()}if(!s.defaultPrevented&&32===s.keyCode){var o=e.findClosestDraggableId(s);if(o){var n=e.tryGetLock(o,i,{sourceEvent:s});if(n){s.preventDefault();var r=n.snapLift();t.current(),t.current=A(window,de(r,i),{capture:!0,passive:!1})}}}}}}),[e]),a=st((function(){t.current=A(window,[s],{passive:!1,capture:!0})}),[s]);ti((function(){return a(),function(){t.current()}}),[a])},function(e){var t=Object(Ce.useRef)(fi),s=Object(Ce.useRef)(C),a=st((function(){return t.current}),[]),i=st((function(e){t.current=e}),[]),o=tt((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var a=e.findClosestDraggableId(t);if(a){var i=e.tryGetLock(a,r,{sourceEvent:t});if(i){var o=t.touches[0],n={x:o.clientX,y:o.clientY};s.current(),h(i,n)}}}}}}),[e]),n=st((function(){s.current=A(window,[o],{capture:!0,passive:!1})}),[o]),r=st((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(fi),s.current(),n())}),[n,i]),l=st((function(){var e=t.current;r(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[r]),c=st((function(){var e={capture:!0,passive:!1},t={cancel:l,completed:r,getPhase:a},i=A(window,function(e){var t=e.cancel,s=e.completed,a=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var s=a();if("DRAGGING"===s.type){s.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),s.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=a();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),s()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===a().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var s=a(),i=e.touches[0];if(i&&i.force>=.15){var o=s.actions.shouldRespectForcePress();if("PENDING"!==s.type)return o?s.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:pi,fn:t}]}(t),e),o=A(window,function(e){var t=e.cancel,s=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===s().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:pi,fn:t}]}(t),e);s.current=function(){i(),o()}}),[l,a,r]),d=st((function(){var e=a(),t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,i]),h=st((function(e,t){a();var s=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:s}),c()}),[c,a,i,d]);ti((function(){return n(),function(){s.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(fi))}}),[a,n,i]),ti((function(){return A(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}],ji=0,wi=function(e){return function(t){return e===t}},ki=wi("scroll"),xi=wi("auto"),Si=(wi("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),_i=function(e){var t=window.getComputedStyle(e),s={overflowX:t.overflowX,overflowY:t.overflowY};return Si(s,ki)||Si(s,xi)},Ti=function e(t){return null==t||t===document.body||t===document.documentElement?null:_i(t)?t:e(t.parentElement)},Di=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ii={passive:!1},Pi={passive:!0},Li=function(e){return e.shouldPublishImmediately?Ii:Pi},Ci=function(e){return e&&e.env.closestScrollable||null},Ai={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Ei=Ce.default.memo((function(e){var t=Object(Ce.useRef)(null),s=st((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),a=e.animate,i=e.onTransitionEnd,o=e.onClose,n=e.contextId,r=Object(Ce.useState)("open"===e.animate),l=r[0],c=r[1];Object(Ce.useEffect)((function(){return l?"open"!==a?(s(),c(!1),xe):t.current?xe:(t.current=setTimeout((function(){t.current=null,c(!1)})),s):xe}),[a,l,s]);var d=st((function(e){"height"===e.propertyName&&(i(),"close"===a&&o())}),[a,o,i]),h=function(e){var t=e.placeholder,s=e.animate,a=function(e){var t=e.placeholder,s=e.animate;if(e.isAnimatingOpenOnMount)return Ai;if("close"===s)return Ai;return{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:e.isAnimatingOpenOnMount,placeholder:t,animate:s});return{display:t.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==s?la.placeholder:null}}({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Ce.default.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":n,onTransitionEnd:d,ref:e.innerRef})})),Fi=Ce.default.createContext(null),Mi=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Object(Ae.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){return this.state.isVisible?this.props.children({onClose:this.onClose,data:this.state.data,animate:this.state.animate}):null},t}(Ce.default.PureComponent),Ri=5e3,zi=4500,Ui=function(e,t){return t?la.drop(t.duration):e?la.snap:la.fluid},Ni=function(e,t){return e?t?oa.drop:oa.combining:null},$i=function(e,t){return e===t},Wi=function(e){var t=e.combine,s=e.destination;return s?s.droppableId:t?t.droppableId:null},Bi={mapped:{type:"SECONDARY",offset:It,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ie(null)}},Hi=et((function(){var e,t,s,a=(e=mt((function(e,t){return{x:e,y:t}})),t=mt((function(e,t,s,a,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:s,combineWith:a,combineTargetFor:null}})),s=mt((function(e,s,a,i,o,n,r){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:n,mode:s,offset:e,dimension:a,forceShouldAnimate:r,snapshot:t(s,i,o,n,null)}}})),function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var o=a.current.client.offset,n=a.dimensions.draggables[i.draggableId],r=Ts(a.impact),l=(d=a.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=a.forceShouldAnimate;return s(e(o.x,o.y),a.movementMode,n,i.isClone,r,l,c)}var d;if("DROP_ANIMATING"===a.phase){var h=a.completed;if(h.result.draggableId!==i.draggableId)return null;var u=i.isClone,p=a.dimensions.draggables[i.draggableId],m=h.result,b=m.mode,f=Wi(m),g=function(e){return e.combine?e.combine.draggableId:null}(m),O={duration:a.dropDuration,curve:ia,moveTo:a.newHomeClientOffset,opacity:g?oa.drop:null,scale:g?na.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:O,draggingOver:f,combineWith:g,mode:b,forceShouldAnimate:null,snapshot:t(b,u,f,g,O)}}}return null}),i=function(){var e=mt((function(e,t){return{x:e,y:t}})),t=mt(Ie),s=mt((function(e,s,a){return void 0===s&&(s=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:s,shouldAnimateDisplacement:a,snapshot:t(s)}}})),a=function(e){return e?s(It,e,!0):null},i=function(t,i,o,n){var r=o.displaced.visible[t],l=Boolean(n.inVirtualList&&n.effected[t]),c=N(o),d=c&&c.draggableId===t?i:null;if(!r){if(!l)return a(d);if(o.displaced.invisible[t])return null;var h=At(n.displacedBy.point),u=e(h.x,h.y);return s(u,d,!0)}if(l)return a(d);var p=o.displacedBy.point,m=e(p.x,p.y);return s(m,d,r.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var s=e.completed;return s.result.draggableId===t.draggableId?null:i(t.draggableId,s.result.draggableId,s.impact,s.afterCritical)}return null}}();return function(e,t){return a(e,t)||i(e,t)||Bi}}),{dropAnimationFinished:aa},null,{context:oi,pure:!0,areStatePropsEqual:$i})((function(e){var t=Object(Ce.useRef)(null),s=st((function(e){t.current=e}),[]),a=st((function(){return t.current}),[]),i=we(di),o=i.contextId,n=i.dragHandleUsageInstructionsId,r=i.registry,l=we(Fi),c=l.type,d=l.droppableId,h=tt((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}}),[e.draggableId,e.index,c,d]),u=e.children,p=e.draggableId,m=e.isEnabled,b=e.shouldRespectForcePress,f=e.canDragInteractiveElements,g=e.isClone,O=e.mapped,v=e.dropAnimationFinished;Te(),ie(),g||_e(tt((function(){return{descriptor:h,registry:r,getDraggableRef:a,canDragInteractiveElements:f,shouldRespectForcePress:b,isEnabled:m}}),[h,r,a,f,b,m]));var y=tt((function(){return m?{tabIndex:0,role:"button","aria-describedby":n,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:De}:null}),[o,n,p,m]),j=st((function(e){"DRAGGING"===O.type&&O.dropping&&"transform"===e.propertyName&&v()}),[v,O]),w=tt((function(){var e=Se(O);return{innerRef:s,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:e,onTransitionEnd:"DRAGGING"===O.type&&O.dropping?j:null},dragHandleProps:y}}),[o,y,p,O,j,s]),k=tt((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return u(w,O.snapshot,k)})),Vi=function(e,t){return e===t.droppable.type},Gi=function(e,t){return t.draggables[e.draggable.id]},qi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document,document.body}},Ki=et((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Object(Ee.a)({},e,{shouldAnimatePlaceholder:!1}),s=mt((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),a=mt((function(a,i,o,n,r,l){var c=r.descriptor.id;if(r.descriptor.droppableId===a){var d=l?{render:l,dragging:s(r.descriptor)}:null;return{placeholder:r.placeholder,shouldAnimatePlaceholder:!1,snapshot:{isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0},useClone:d}}return i?n?{placeholder:r.placeholder,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0},useClone:null}:e:t}));return function(s,i){var o=i.droppableId,n=i.type,r=!i.isDropDisabled,l=i.renderClone;if(s.isDragging){var c=s.critical;if(!Vi(n,c))return t;var d=Gi(c,s.dimensions),h=Ts(s.impact)===o;return a(o,r,h,h,d,l)}if("DROP_ANIMATING"===s.phase){var u=s.completed;if(!Vi(n,u.critical))return t;var p=Gi(u.critical,s.dimensions);return a(o,r,Wi(u.result)===o,Ts(u.impact)===o,p,l)}if("IDLE"===s.phase&&s.completed&&!s.shouldFlush){var m=s.completed;if(!Vi(n,m.critical))return t;var b=Ts(m.impact)===o,f=Boolean(m.impact.at&&"COMBINE"===m.impact.at.type);return b?f?e:t:m.critical.droppable.id===o?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:oi,pure:!0,areStatePropsEqual:$i})((function(e){var t=Object(Ce.useContext)(di),s=t.contextId,a=t.isMovementAllowed,i=Object(Ce.useRef)(null),o=Object(Ce.useRef)(null),n=e.children,r=e.droppableId,l=e.type,c=e.mode,d=e.direction,h=e.ignoreContainerClipping,u=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,b=e.useClone,f=e.updateViewportMaxScroll,g=e.getContainerForClone,O=st((function(){return i.current}),[]),v=st((function(e){i.current=e}),[]),y=(st((function(){return o.current}),[]),st((function(e){o.current=e}),[]));oe();var j=st((function(){a()&&f({maxScroll:Ta()})}),[a,f]);ke({droppableId:r,type:l,mode:c,direction:d,isDropDisabled:u,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:O});var w=Ce.default.createElement(Mi,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){return Ce.default.createElement(Ei,{placeholder:e.data,onClose:e.onClose,innerRef:y,animate:e.animate,contextId:s,onTransitionEnd:j})})),k=tt((function(){return{innerRef:v,placeholder:w,droppableProps:{"data-rbd-droppable-id":r,"data-rbd-droppable-context-id":s}}}),[s,r,w,v]),x=b?b.dragging.draggableId:null,S=tt((function(){return{droppableId:r,type:l,isUsingCloneFor:x}}),[r,x,l]);return Ce.default.createElement(Fi.Provider,{value:S},n(k,m),function(){if(!b)return null;var e=b.dragging,t=b.render,s=Ce.default.createElement(Pe,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(s,a){return t(s,a,e)}));return Ce.default.createPortal(s,g())}())}));Ki.defaultProps=qi},eK6s:function(e){e.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},ePpR:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("om2D"),d=s("ZOvn");let h=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.commentTrack=async function(){const{callback:e=(()=>{}),inputRefObject:s={}}=t.props,{track:a}=t.props,{trackStore:i}=t.props.stores,{comment:o,showAddImage:n}=t.state,r=await i.commentTrack({id:a.id,comment:o});r&&200===r.status&&(t.setState({comment:{body:"",images:[]}},()=>{d.a.resizeTextarea(s[a.id]),n&&t.addImage()}),e({track:a,response:r}))},this.addImages=({value:e})=>{const{comment:t}=this.state;t.images.push(...e),this.setState({comment:t})},this.addImage=()=>{const{showAddImage:e=!1}=this.state;this.setState({showAddImage:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1},this.inputRef={}}render(){const{inputRef:t,track:s}=this.props,{comment:a,showAddImage:n}=this.state,{userStore:d}=this.props.stores,{user:h={}}=d,u=h.firstname?`${o.a.ucfirst(h.firstname,!0)}${o.a.ucfirst(h.lastname,!0)}`:""+o.a.ucfirst(h.email||"",!0),p=h.image||(h.images?h.images[0]:void 0);return Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-3 position-relative"},Object(i.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(p?`background-image: url('${p.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!p&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},u)),Object(i.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"d-flex bd-highlight"},Object(i.h)("div",{class:"p-0 w-100 bd-highlight"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(i.h)("div",{class:"border rounded rounded-lg position-relative"},Object(i.h)(r.b,null,Object(i.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(i.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),value:a.body,ref:t})),Object(i.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(i.h)("i",{class:"fas fa-image pointerCursor","data-id":s.id,onClick:this.addImage})))),Object(i.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(i.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.commentTrack},Object(i.h)("i",{class:"fas fa-paper-plane"})))))),n&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},o.a.isArray(a.images)&&a.images.map(e=>Object(i.h)("div",{class:"col-3 p-1"},Object(i.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(i.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(i.h)("i",{class:"fas fa-trash"})," Del"))))),Object(i.h)(c.a,{object:a,updateField:this.addImages}))))}})||a;t.a=h}).call(this,s("hosL").Fragment)},eQ6k:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=s("OhSV");let r=Object(o.a)(a=class extends i.Component{constructor(...t){super(...t),this.requestFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,{user:a}=s,i=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.followRequest(i,a),this.setState({requestSent:!0})},this.unFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,a=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.unollowTeam(a),this.setState({unfollowed:!0})},this.getButton=(t="")=>{const{requestSent:s}=this.state,{userStore:a}=this.props.stores,{user:o}=a,{team:r,skipHome:l}=this.props,c=r.members&&r.members.indexOf(o.id)>-1,d=r.followers&&r.followers.indexOf(o.id)>-1,h=r.blockedFollowers&&r.blockedFollowers.indexOf(o.id)>-1,u=s||r.followRequests&&r.followRequests.findIndex(e=>e.id===o.id)>-1;return c?l?"":Object(i.h)("i",{class:"fas fa-home"}):d?Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":r.id},Object(i.h)("i",{class:"fas fa-link mr-2"}),Object(i.h)(n.c,{id:"teams.connect.is-following"},"Følger")," ",t),Object(i.h)("button",{class:"btn btn-sm btn-block btn-danger float-right",onClick:this.unFollowTeam,"data-team":r.id},Object(i.h)("i",{class:"fas fa-unlink mr-2"}),Object(i.h)(n.c,{id:"teams.connect.unfollow"},"Unfollow"))):h?"":u?Object(i.h)("button",{class:"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(i.h)(n.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",t):r.public?Object(i.h)("button",{class:"btn btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":r.id},Object(i.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(i.h)(n.c,{id:"teams.connect.follow"},"Følg")," ",t):void 0}}render(){const{unfollowed:t}=this.state,{team:s,buttonOnly:a}=this.props,{userStore:o}=this.props.stores,{user:n}=o,{language:r="en"}=n,l=o.findTeamAmbition({ambition:s.ambitions,language:r}),c=o.findTeamType({type:s.type,language:r}),d=s.image&&s.image.s3SmallLink?s.image:null;return a?Object(i.h)(e,null,this.getButton(""+s.name)):Object(i.h)("div",{class:"w-100 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:""+(t?"text-decoration: line-through; opacity: 0.3;":"")},Object(i.h)("a",{href:"/teams/public/"+s.uuidv4},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded",style:d?`background-image: url("${d.s3SmallLink}");  background-size: cover;`:""},!d&&Object(i.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(i.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(i.h)(e,null,s.name)),Object(i.h)("div",null,s.place," ",s.country),Object(i.h)("div",null,c&&Object(i.h)("span",{class:"badge badge-pill badge-secondary"},c),l&&Object(i.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(i.h)("small",{class:"text-muted"},s&&s.dogs&&Object(i.h)("span",{class:""},Object(i.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(i.h)("div",null,this.getButton()))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},eTqt:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s("Fcif"),i=s("7L9N"),o=s("ivZ3"),n=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(e){return new o.GridLayer(this.getOptions(e))},s.updateLeafletElement=function(e,t){var s=t.opacity,a=t.zIndex;s!==e.opacity&&this.leafletElement.setOpacity(s),a!==e.zIndex&&this.leafletElement.setZIndex(a)},s.getOptions=function(t){var s=Object(a.a)({},e.prototype.getOptions.call(this,t)),i=t.leaflet.map;return null!=i&&(null==s.maxZoom&&null!=i.options.maxZoom&&(s.maxZoom=i.options.maxZoom),null==s.minZoom&&null!=i.options.minZoom&&(s.minZoom=i.options.minZoom)),s},s.render=function(){return null},t}(s("6rtB").a)},ekkQ:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return e*Math.PI/180}},ensb:function(e,t,s){"use strict";function a(e){function t(){i.Component.call(this),s||(this.componentWillMount=()=>{e(e=>{s=e&&e.default||e,this.setState({})})},this.shouldComponentUpdate=()=>null!=s),this.render=e=>{if(s)return Object(i.h)(s,e);const t=function e(t,s){if("string"==typeof t.type)return null;const a=t.__;if(!a)return;let i=a.__k;if(i){Array.isArray(i)||(i=[i]);let s=i.indexOf(t);-1===s&&(s=i.length);for(let t=s;t--;){const s=i[t],a=s&&s.__e||e(s,!0);if(a)return a}}return s?void 0:e(a)}(this.__v),a=t&&t.nextSibling||(this.__P||this._parentDom).firstChild;return a&&Object(i.h)(a.localName,{dangerouslySetInnerHTML:o})}}let s;return t.preload=e,(t.prototype=new i.Component).constructor=t,t}s.d(t,"a",(function(){return a}));var i=s("hosL");const o={}},epqT:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV");s("ZOvn");const d={showAddComment:!1};let h=Object(c.d)(()=>({subject:Object(n.h)(c.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(n.h)(c.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}))(o=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.logClick=async function(){const{adStore:e,userStore:s}=t.props.stores,{ads:a=[]}=e;let i=a.length>0?a[0].id:null;const{user:o={}}=s;await e.logClick({id:i,user:o.id})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d),this.updateTimer={},this.inputRef={},this.apiServer=r.a.getApiServer()}async loadAd(e=this.props){this.setState({isLoading:!0});const{adStore:t,workoutStore:s,userStore:a,appState:i}=this.props.stores,{section:o}=this.props,{path:n=""}=i,{currentTeam:r}=s,{user:l}=a,{language:c="en"}=l;let d,h,u,p,m,b={};r&&(b=a.findTeam(r,!0),b&&b.id&&(d=a.findTeamAmbition({ambition:b.ambitions,language:c}),h=a.findTeamType({type:b.type,language:c}),u=b.postalcode,p=b.place,m=b.country));const f=n.replace(/\d+$/,"detail");await t.load({query:{page:f,section:o}}),t.setTime(),this.setState({isLoading:!1})}componentDidMount(){this.loadAd()}componentWillReceiveProps(e){e.path!==this.props.path&&this.loadAd(e)}render(){const{adStore:t,userStore:s,appState:a}=this.props.stores,{subject:i,body:o,section:r}=this.props,{path:l}=a,{user:d={}}=s,{ads:h=[],time:u}=t;if(!d||!d.id||!h||0===h.length)return l.match(/\/(home)/i)?Object(n.h)(e,null,Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"border rounded-lg p-4 my-3"},Object(n.h)("span",{class:"float-right display-4 text-warning"},Object(n.h)("i",{class:"far fa-smile-wink"})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(n.h)("div",null,Object(n.h)(c.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(n.h)(c.b,null,Object(n.h)("a",{href:`mailto:post@themusher.no?subject=${i}: ${l}: ${r}&body=${o}`,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fas fa-paper-plane"})," ",Object(n.h)(c.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(n.h)(e,null);const p=h[0];return Object(n.h)(e,null,Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",null,Object(n.h)("small",null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(c.c,{id:"ad.ad"},"Annonse"),":",Object(n.h)("img",{src:`${this.apiServer}/api/ads/${p.id}/view?user=${d.id}&time=${u}`,style:"width: 1; height: 1; opacity: 0.1;"})))),p.target?Object(n.h)(e,null,Object(n.h)("a",{class:"stretched-link",href:""+p.url,target:p.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},p.images&&p.images[0]&&Object(n.h)(e,null,Object(n.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(n.h)(e,null,Object(n.h)("a",{class:"stretched-link",href:""+p.url,onClick:this.logClick},p.images&&p.images[0]&&Object(n.h)(e,null,Object(n.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))}})||o)||o;t.a=h}).call(this,s("hosL").Fragment)},f0JH:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n,r=s("hosL"),l=(s("Utv1"),s("/eY4")),c=(s("Y3FI"),s("OhSV")),d=s("ZOvn"),h=s("om2D"),u=s("TiXY");s("HqZR");const p=d.a.marginTop(!1),m=d.a.marginTopBack(!1),b=d.a.marginBottom(),f={};let g=Object(l.a)(o=class extends r.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{userStore:s}=t.props.stores,{user:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{user:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:e,user:t,type:s="text",field:a,title:i,icon:o,help:n,onInput:l,updateField:d}=this.props,p=t[a];return"image"===s?Object(r.h)("div",{class:"form-group "+(e[`${a}.${t.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},o&&Object(r.h)("i",{class:o+" text-muted"})," ",i),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},t.image&&t.image.s3SmallLink&&Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:t.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":t.image.name},Object(r.h)("i",{class:"fas fa-trash"})," Del"),Object(r.h)("span",{class:"badge badge-success"},"Main")),t.images&&t.images.map(e=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(r.h)("i",{class:"fas fa-trash"})," Del"))))),Object(r.h)(h.a,{saved:e,object:t,field:a,updateField:d}),e[`${a}.${t.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(c.c,{id:"users.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},n)):"file"===s?Object(r.h)("div",{class:"form-group "+(e[`${a}.${t.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},o&&Object(r.h)("i",{class:o+" text-muted"})," ",i),Object(r.h)(u.a,{saved:e,object:t,field:a,updateField:d}),e[`${a}.${t.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(c.c,{id:"users.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},n)):Object(r.h)("div",{class:"form-group "+(e[`${a}.${t.id}`]?"is-valid":"")},Object(r.h)("label",{for:a+"Input"},o&&Object(r.h)("i",{class:o+" text-muted"})," ",i),Object(r.h)("input",{type:"text",class:"form-control "+(e[`${a}.${t.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:p,"data-id":t.id,"data-field":a,onInput:l}),e[`${a}.${t.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(c.c,{id:"users.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:a+"Help",class:"form-text text-muted"},n))}})||o,O=Object(l.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i}=e.target.dataset,o=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:o,type:a,elementtype:i})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,skipTimer:n=!1})=>{const{userStore:r}=this.props.stores;let l=a,c=a;const{user:d}=r;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(c=[...d.images,...a]),"array"!==i||Array.isArray(a)||(l="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),r.updateField(e,s,c),n?this.doUpdateField(e,s,l):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,l)}),500))},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),this.updateTimer={}}async loadUser(){const{userStore:e}=this.props.stores;e.getInfo()}async doUpdateField(e,t,s){const{userStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadUser()}render(){const{userStore:e}=this.props.stores,{insertStatus:t,saved:s,user:a}=e,{email:i}=a;return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${p};`},Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${m}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"})),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"offset-0 col-12 offset-sm-2 col-sm-8 offset-lg-4 col-lg-4",style:"padding-left: 35px;"},Object(r.h)("div",null,Object(r.h)("h5",null,Object(r.h)(c.c,{id:"users.edit"},"Endre"),": ",i),Object(r.h)(g,{saved:s,user:a,field:"username",icon:"fas fa-user",title:Object(r.h)(c.c,{id:"users.username"},"Brukernavn"),help:Object(r.h)(c.c,{id:"users.username-help"},"Ditt brukernavn på The Musher"),onInput:this.updateField}),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-6"},Object(r.h)(g,{saved:s,user:a,field:"firstname",title:Object(r.h)(c.c,{id:"users.firstname"},"Fornavn"),help:Object(r.h)(c.c,{id:"users.firstname-help"},"Ditt fornavn"),onInput:this.updateField})),Object(r.h)("div",{class:"col-6"},Object(r.h)(g,{saved:s,user:a,field:"lastname",title:Object(r.h)(c.c,{id:"users.lastname"},"Etternavn"),help:Object(r.h)(c.c,{id:"users.lastname-help"},"Ditt etternavn"),onInput:this.updateField}))),Object(r.h)(g,{saved:s,user:a,field:"cellphone",icon:"fas fa-mobile",title:Object(r.h)(c.c,{id:"users.cellphone"},"Mobil"),help:Object(r.h)(c.c,{id:"users.cellphone-help"},"Ditt mobilnummer"),onInput:this.updateField}),Object(r.h)(g,{saved:s,user:a,field:"url",icon:"fas fa-link",title:Object(r.h)(c.c,{id:"users.url"},"Hjemmeside"),help:Object(r.h)(c.c,{id:"users.url-help"},"Din hjemmeside"),onInput:this.updateField}),Object(r.h)(g,{saved:s,user:a,field:"facebook",icon:"fab fa-facebook-square",title:Object(r.h)(c.c,{id:"users.facebook"},"Facebook"),help:Object(r.h)(c.c,{id:"users.facebook-help"},"Din Facebook profil"),onInput:this.updateField}),Object(r.h)(g,{saved:s,user:a,field:"instagram",icon:"fab fa-instagram",title:Object(r.h)(c.c,{id:"users.instagram"},"Instagram"),help:Object(r.h)(c.c,{id:"users.instagram-help"},"Din Instagram profil"),onInput:this.updateField}),Object(r.h)(g,{saved:s,user:a,field:"snapchat",icon:"fab fa-snapchat",title:Object(r.h)(c.c,{id:"users.snapchat"},"Snapchat"),help:Object(r.h)(c.c,{id:"users.snapchat-help"},"Din Snapchat profil"),onInput:this.updateField}),Object(r.h)(g,{saved:s,user:a,field:"image",icon:"fas fa-camera",type:"image",stores:this.props.stores,title:Object(r.h)(c.c,{id:"users.photos"},"Bilder"),help:Object(r.h)(c.c,{id:"users.photos-help"},"Bilder av deg."),onInput:this.updateField,updateField:this.updateFieldValue}))),t&&Object(r.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(r.h)(c.c,{id:"users.saved"},"Profilen er lagret."))))}})||n;t.a=O},"f3B/":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){return t.reduce((function(t,s){if(null==e)throw new Error("'".concat(e,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(e,s)&&void 0!==s&&void 0===t?(t=s,s):t}),void 0)}},f4kV:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c,d,h,u,p,m,b,f=s("hosL"),g=s("Utv1"),O=s("/eY4"),v=s("cneo"),y=s("go65"),j=s("Y3FI"),w=s("OhSV"),k=s("ZOvn"),x=s("X9Km"),S=s("om2D"),_=s("3on9"),T=s("HqZR"),D=s("TiXY");const I=k.a.marginTop(!1),P=k.a.marginTopBack(!1),L=k.a.marginBottom(),C={newWorkout:{}};let A=Object(O.a)(n=class extends f.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{workoutStore:a}=this.props.stores;a.updateObjectKeyValue("newWorkout",t,s),a.updateObjectKeyValue("newWorkout","updated-"+t,(new Date).getTime())},this.updateDuration=(e,t)=>{const{field:s}=this.props,{workoutStore:a}=this.props.stores;a.updateObjectKeyValue("newWorkout",e,t);const{newWorkout:i}=a;if(g.a.isUndefined(i[s+"-hours"])){a.updateObjectKeyValue("newWorkout",s+"-hours",0)}if(g.a.isUndefined(i[s+"-minutes"])){a.updateObjectKeyValue("newWorkout",s+"-minutes",0)}a.updateObjectKeyValue("newWorkout",s,3600*(i[s+"-hours"]||0)+60*(i[s+"-minutes"]||0)),a.updateObjectKeyValue("newWorkout","updated-"+s,(new Date).getTime())},this.onInputDuration=e=>{const t=parseInt(e.target.value,10);this.updateDuration(e.target.name,t)},this.decDuration=e=>{const{name:t}=e.target.closest("button").dataset,{workoutStore:s}=this.props.stores,{newWorkout:a}=s,i=(a[t]||0)-1;this.updateDuration(t,i<0?0:i)},this.incDuration=e=>{const{name:t}=e.target.closest("button").dataset,{workoutStore:s}=this.props.stores,{newWorkout:a}=s,i=(a[t]||0)+1;this.updateDuration(t,i<0?0:i)},this.setDateToNow=()=>{const{field:e}=this.props,t=g.a.isoDate(void 0,!1,!1,!0),{workoutStore:s}=this.props.stores;s.updateObjectKeyValue("newWorkout",e,t)},this.setTimeToNow=()=>{const{field:e}=this.props,t=g.a.isoTime(),{workoutStore:s}=this.props.stores;s.updateObjectKeyValue("newWorkout",e,t)},this.setRightValue=()=>{const{field:e,rightValueReal:t}=this.props,{workoutStore:s}=this.props.stores;s.updateObjectKeyValue("newWorkout",e,t)}}render(){const{type:t,datalist:s=[],min:a,max:i,step:o,field:n,title:r,icon:l,help:c,placeholder:d,rightValue:h}=this.props,{workoutStore:u}=this.props.stores,{newWorkout:p}=u;let m,b=i;if("date"===t&&"today"===i&&(b=g.a.isoDate(void 0,!1,!1,!0)),"duration"!==n&&"rest"!==n||(m=g.a.secToHms(p[n],!0)),"weather"===n&&g.a.checkNested(p,"yr","0","instant","details")){const e=Object(v.i)(p.yr[0].instant.details);g.a.isoDate(p.yr[0].date,!1,!1,!0)===g.a.isoDate(p.date,!1,!1,!0)&&(m=`Yr.no: 🌡️ ${e.air_temperature}°C, 💨 ${e.wind_speed}m/s 🧭 ${k.a.windDirection(e.wind_from_direction)}, ☁️ ${e.cloud_area_fraction}%, ${e.air_pressure_at_sea_level}mb, 💦 ${e.relative_humidity}%`)}if("temperature"===n&&g.a.checkNested(p,"yr","0","instant","details")){const e=Object(v.i)(p.yr[0].instant.details);g.a.isoDate(p.yr[0].date,!1,!1,!0)===g.a.isoDate(p.date,!1,!1,!0)&&(m=`Yr.no: 🌡️ ${e.air_temperature}°C`)}if("datalist"===t)return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("label",{for:n+"Input"},l&&Object(f.h)("i",{class:l+" text-muted"})," ",r),Object(f.h)("input",{list:"list-"+n,class:"form-control",id:n+"Input","aria-describedby":n+"Help",onInput:this.onInput,value:p[n]}),Object(f.h)("datalist",{id:"list-"+n},s.map(e=>Object(f.h)("option",{value:e[0]},e[1]))),Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},c));if("duration"===t){const e=Math.floor(p[n]/3600),t=Math.floor(p[n]%3600/60);return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",null,m)),Object(f.h)("label",{for:n+"Input"},l&&Object(f.h)("i",{class:l+" text-muted"})," ",r),Object(f.h)("div",{class:"form-row"},Object(f.h)("div",{class:"input-group col-5 offset-1 col-xl-3 offset-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-hours",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:n+"Input","aria-describedby":n+"Help",onInput:this.onInputDuration,name:n+"-hours",value:e,type:"number",min:"0",max:"24"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-hours",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"})))),Object(f.h)("div",{class:"input-group col-5 col-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-minutes",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:n+"Input","aria-describedby":n+"Help",onInput:this.onInputDuration,name:n+"-minutes",value:t,type:"number",min:"0",max:"59"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":n+"-minutes",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"}))))),Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}return"toggle"===t?Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("label",{for:n+"Input"},l&&Object(f.h)("i",{class:l+" text-muted"})," ",r),Object(f.h)("div",{class:"custom-control custom-switch"},Object(f.h)("input",{type:"checkbox",class:"custom-control-input",id:n+"Input",value:1===p[n]?0:1,"data-field":n,onInput:this.onInput,checked:1==p[n]?"checked":""}),Object(f.h)("label",{class:"custom-control-label",for:n+"Input"})),Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},c)):"textarea"===t?Object(f.h)(e,null,Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("label",{for:n+"Input"},l&&Object(f.h)("i",{class:l+" text-muted"})," ",r),Object(f.h)("textarea",{class:"form-control "+("number"===t||"date"===t||"time"===t?"text-center":""),id:n+"Input","aria-describedby":n+"Help",min:a,max:b,step:o,rows:5,onInput:this.onInput,value:p[n],placeholder:d,onKeyUp:k.a.resizeTextarea,onFocus:k.a.resizeTextarea}),Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},c))):Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},"date"===t&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(f.h)("i",{class:"far fa-check-circle"})),"time"===t&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"Nå ",Object(f.h)("i",{class:"far fa-check-circle"})),h&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},h),Object(f.h)("label",{for:n+"Input"},l&&Object(f.h)("i",{class:l+" text-muted"})," ",r),m&&Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",null,m)),Object(f.h)("input",{type:t,class:"form-control "+("number"===t||"date"===t||"time"===t?"text-center":""),id:n+"Input","aria-describedby":n+"Help",min:a,max:b,step:o,onInput:this.onInput,value:p[n],placeholder:d}),Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}})||n,E=Object(O.a)(r=class extends f.Component{constructor(...e){var t;super(...e),t=this,this.updateDuration=(e,t)=>{const{field:s,updateField:a,workout:i}=this.props,o=g.a.secToHms(i[s]).split(":");let n=parseInt(o[0]||0,10);isNaN(n)&&(n=0);let r=parseInt(o[1]||0,10);isNaN(r)&&(r=0);let l=parseInt(o[2]||0,10);isNaN(l)&&(l=0),e.match(/-hours/)&&(n=isNaN(t)?0:t),e.match(/-minutes/)&&(r=isNaN(t)?0:t),e.match(/-seconds/)&&(l=isNaN(t)?0:t);a({id:i.id,field:s,value:3600*n+60*r+l})},this.onInputDuration=e=>{const t=parseInt(e.target.value,10);this.updateDuration(e.target.name,t)},this.decDuration=e=>{const{name:t}=e.target.closest("button").dataset,{field:s,workout:a}=this.props,i=g.a.secToHms(a[s]).split(":");let o=parseInt(i[0]||0,10);isNaN(o)&&(o=0);let n=parseInt(i[1]||0,10);isNaN(n)&&(n=0);let r=parseInt(i[2]||0,10);if(isNaN(r)&&(r=0),t.match(/-hours/)){this.updateDuration(t,o-1<0?0:o-1)}if(t.match(/-minutes/)){this.updateDuration(t,n-1<0?0:n-1)}if(t.match(/-seconds/)){this.updateDuration(t,r-1<0?0:r-1)}},this.incDuration=e=>{const{name:t}=e.target.closest("button").dataset,{field:s,workout:a}=this.props,i=g.a.secToHms(a[s]).split(":");let o=parseInt(i[0]||0,10);isNaN(o)&&(o=0);let n=parseInt(i[1]||0,10);isNaN(n)&&(n=0);let r=parseInt(i[2]||0,10);if(isNaN(r)&&(r=0),t.match(/-hours/)){this.updateDuration(t,o+1<0?0:o+1)}if(t.match(/-minutes/)){this.updateDuration(t,n+1<0?0:n+1)}if(t.match(/-seconds/)){this.updateDuration(t,r+1<0?0:r+1)}},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{workoutStore:s}=t.props.stores,{workout:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{workout:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})},this.setDateToNow=()=>{const{field:e,updateField:t,workout:s}=this.props,a=g.a.isoDate(void 0,!1,!1,!0);t({id:s.id,field:e,value:a})},this.setTimeToNow=()=>{const{field:e,updateField:t,workout:s}=this.props,a=g.a.isoTime();t({id:s.id,field:e,value:a})},this.setValue=e=>{const t=e.target.parentElement.dataset.value||e.target.dataset.value;if(t){const{field:e,updateField:s,workout:a}=this.props;s({id:a.id,field:e,value:t})}},this.setRightValue=()=>{const{field:e,updateField:t,workout:s,rightValueReal:a}=this.props;t({id:s.id,field:e,value:a})}}render(){const{saved:t,workout:s,type:a,datalist:i=[],min:o,max:n,step:r,elementtype:l,field:c,title:d,icon:h,help:u,onInput:p,updateField:m,rightValue:b}=this.props;let O,y,j=Object(v.i)(s[c]),x=n;if("date"===a&&(j&&(j=g.a.isoDate(s[c],!1,!1,!0)),"today"===n&&(x=g.a.isoDate(void 0,!1,!1,!0))),"duration"!==c&&"rest"!==c||(O=g.a.secToHms(j,!0)),"weather"===c&&g.a.checkNested(s,"yr","0","instant","details")){const e=Object(v.i)(s.yr[0].instant.details);g.a.isoDate(s.yr[0].date,!1,!1,!0)===g.a.isoDate(s.date,!1,!1,!0)&&(O=`Yr.no: 🌡️ ${e.air_temperature}°C, 💨 ${e.wind_speed}m/s 🧭 ${k.a.windDirection(e.wind_from_direction)}, ☁️ ${e.cloud_area_fraction}%, ${e.air_pressure_at_sea_level}mb, 💦 ${e.relative_humidity}%`,y=O)}if("temperature"===c&&g.a.checkNested(s,"yr","0","instant","details")){const e=Object(v.i)(s.yr[0].instant.details);g.a.isoDate(s.yr[0].date,!1,!1,!0)===g.a.isoDate(s.date,!1,!1,!0)&&(O=`Yr.no: 🌡️ ${e.air_temperature}°C`,y=g.a.asNumber(e.air_temperature))}if("file"===a)return Object(f.h)("div",{class:"form-group "+(t[`${c}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),Object(f.h)(D.a,{saved:t,object:s,field:c,updateField:m}),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u));if("image"===a)return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${c}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),Object(f.h)("div",{class:"container-fluid"},Object(f.h)("div",{class:"row"},s.image&&s.image.s3SmallLink&&Object(f.h)("div",{class:"col-3 p-1"},Object(f.h)("img",{src:s.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":s.image.name},Object(f.h)("i",{class:"fas fa-trash"})," Del"),Object(f.h)("span",{class:"badge badge-success"},"Main")),s.images&&s.images.map(e=>Object(f.h)("div",{class:"col-3 p-1"},Object(f.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(f.h)("i",{class:"fas fa-trash"})," Del"))))),Object(f.h)(S.a,{saved:t,object:s,field:c,updateField:m}),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u));if("datalist"===a)return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${c}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),Object(f.h)("input",{list:"list-"+c,class:"form-control "+(t[`${c}.${s.id}`]?"is-valid":""),id:c+"Input","aria-describedby":c+"Help",value:j,"data-id":s.id,"data-field":c,onInput:p}),Object(f.h)("datalist",{id:"list-"+c},i.map(e=>Object(f.h)("option",{value:e[0]},e[1]))),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u));if("duration"===a){const e=Math.floor(s[c]/3600),a=Math.floor(s[c]%3600/60);Math.floor(s[c]%3600%60);return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",{onClick:this.setValue,"data-value":y},O)),Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),Object(f.h)("div",{class:"form-row"},Object(f.h)("div",{class:"input-group col-5 offset-1 col-xl-3 offset-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":c+"-hours",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:c+"Input","aria-describedby":c+"Help",onInput:this.onInputDuration,name:c+"-hours",value:e,type:"number",min:"0",max:"24"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":c+"-hours",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"})))),Object(f.h)("div",{class:"input-group col-5 col-xl-3"},Object(f.h)("div",{class:"input-group-prepend "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":c+"-minutes",onClick:this.decDuration},Object(f.h)("i",{class:"fas fa-minus"}))),Object(f.h)("input",{class:"form-control text-center",id:c+"Input","aria-describedby":c+"Help",onInput:this.onInputDuration,name:c+"-minutes",value:a,type:"number",min:"0",max:"59"}),Object(f.h)("div",{class:"input-group-append "},Object(f.h)("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-name":c+"-minutes",onClick:this.incDuration},Object(f.h)("i",{class:"fas fa-plus"}))))),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u))}return"toggle"===a?Object(f.h)("div",{class:"form-group "+(t[`${c}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),Object(f.h)("div",{class:"custom-control custom-switch"},Object(f.h)("input",{type:"checkbox",class:"custom-control-input",id:c+"Input",value:1===j?0:1,"data-id":s.id,"data-field":c,onInput:p,checked:1==j?"checked":""}),Object(f.h)("label",{class:"custom-control-label",for:c+"Input"})),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u)):"textarea"===a?Object(f.h)(e,null,Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${c}.${s.id}`]?"is-valid":"")},Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),Object(f.h)("textarea",{class:`form-control ${"number"===a||"date"===a||"time"===a?"text-center":""} ${t[`${c}.${s.id}`]?"is-valid":""}`,id:c+"Input","aria-describedby":c+"Help",min:o,max:x,step:r,rows:5,value:j,"data-id":s.id,"data-field":c,"data-type":a,"data-elementtype":l,onInput:p,onKeyUp:k.a.resizeTextarea,onFocus:k.a.resizeTextarea}),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u))):Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(t[`${c}.${s.id}`]?"is-valid":"")},"date"===a&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(f.h)("i",{class:"far fa-check-circle"})),"time"===a&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"Nå ",Object(f.h)("i",{class:"far fa-check-circle"})),b&&Object(f.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},b),Object(f.h)("label",{for:c+"Input"},h&&Object(f.h)("i",{class:h+" text-muted"})," ",d),O&&Object(f.h)("span",{class:"float-right"},Object(f.h)("strong",{onClick:this.setValue,"data-value":y},O)),Object(f.h)("input",{type:a,class:`form-control ${"number"===a||"date"===a||"time"===a?"text-center":""} ${t[`${c}.${s.id}`]?"is-valid":""}`,id:c+"Input","aria-describedby":c+"Help",min:o,max:x,step:r,value:j,"data-id":s.id,"data-field":c,"data-type":a,"data-elementtype":l,onInput:p}),t[`${c}.${s.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:c+"Help",class:"form-text text-muted"},u))}})||r,F=Object(O.a)(l=class extends f.Component{toggleMusher(e){const{workout:t,type:s,elementtype:a,field:i,updateField:o,isNew:n}=this.props,r=Object(v.i)(t[i])||[],l=r.indexOf(e);l>-1?r.splice(l,1):r.push(e),o({id:t.id,field:i,value:r,type:s,elementtype:a,isNew:n})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t}=this.props.stores,{mushers:s}=t,{saved:a,workout:i,field:o,title:n,icon:r,help:l}=this.props,c=Object(v.i)(i[o])||[];return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(a[`${o}.${i.id}`]?"is-valid":"")},Object(f.h)("label",{for:o+"Input"},r&&Object(f.h)("i",{class:r+" text-muted"})," ",n),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-column pb-2 px-1"},s&&s.map(t=>Object(f.h)("div",{class:"col mb-2 px-1",ref:c.indexOf(t.id)>-1?e=>this.container=e:null},Object(f.h)("button",{class:`btn btn-block \n                                                rounded-lg\n                                                btn${c.indexOf(t.id)>-1?"":"-outline"}-success\n                                                text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleMusher(t.id)},Object(f.h)("i",{class:"fas fa-user mr-2"}),t.firstname?Object(f.h)(e,null,t.firstname," ",t.lastname):Object(f.h)(e,null,t.email)))))))),a[`${o}.${i.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:o+"Help",class:"form-text text-muted"},l))}})||l,M=Object(O.a)(c=class extends f.Component{toggleTeam(e){const{dogStore:t,workoutStore:s}=this.props.stores,{workout:a,type:i,field:o,updateField:n,isNew:r,selectTeam:l}=this.props;let c=Object(v.i)(a[o]);c=c===e?null:e,null===c?n({id:a.id,field:o,value:c,type:i,isNew:r}):a.teams&&a.teams.indexOf(c)>-1?s.removeTeam({id:a.id,team:c}):a.team?s.addTeam({id:a.id,team:c}):(t.setCurrentTeam(c),s.setCurrentTeam(c),n({id:a.id,field:o,value:c,type:i,isNew:r}),g.a.isDefined(l)&&l(e))}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t}=this.props.stores,{teams:s}=t,{saved:a,workout:i,field:o,title:n,icon:r,help:l}=this.props,c=Object(v.i)(i[o])||[],{highlight:d}=this.props;return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(a[`${o}.${i.id}`]?"is-valid":"")},Object(f.h)("label",{for:o+"Input"},r&&Object(f.h)("i",{class:r+" text-muted"})," ",n),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},s&&s.map((t,a)=>{const o=c===t.id,n=i&&g.a.isArray(i.teams)&&i.teams.indexOf(t.id)>-1;return Object(f.h)("div",{class:"col mb-0 px-0",ref:o||n?e=>this.container=e:null},Object(f.h)("button",{class:`btn btn-block \n            \t\t\t\t\t\t\t\t\t\trounded-none ${0===a?"rounded-pill-left":a+1===s.length?"rounded-pill-right":""}\n                                                    btn${o||n?"":"-outline"}-${n?"info":"success"}\n                                                    text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleTeam(t.id)},i.hintTeam===t.id&&Object(f.h)("span",{class:"float-right text-primary"},Object(f.h)("i",{class:"fas fa-circle"})),Object(f.h)("i",{class:"fas fa-users mr-2"}),t.name,d&&d.indexOf(t.id)>-1&&Object(f.h)(e,null,c===t.id?Object(f.h)(e,null,Object(f.h)("i",{class:"fas fa-check float-right"})):Object(f.h)(e,null,Object(f.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(f.h)("span",{class:"sr-only"},"Loading...")),Object(f.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))),Object(f.h)("small",null,o&&Object(f.h)("span",{class:"badge badge-pill badge-primary"},"Primary"),n&&Object(f.h)("span",{class:"badge badge-pill badge-secondary"},"Secondary"))))}))))),a[`${o}.${i.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:o+"Help",class:"form-text text-muted"},l))}})||c,R=Object(O.a)(d=class extends f.Component{constructor(...e){super(...e),this.toggleFilter=()=>{const{showAll:e}=this.state;this.setState({showAll:e?0:1})},this.toggleSearchField=()=>{const{showSearchField:e}=this.state;this.setState({showSearchField:e?null:1})}}toggleTrack(e,t){const{showAll:s}=this.state,{workout:a={},type:i,field:o,updateField:n,isNew:r}=this.props,{userStore:l}=this.props.stores,{types:c,user:d}=l,{language:h}=d,u=k.a.getDays(h);let p=Object(v.i)(a[o]);p=p===e?null:e;if(n({id:a.id,field:o,value:p,type:i,isNew:r,skipTimer:!0}),a.distanceKm||n({id:a.id,field:"distanceKm",value:t.distanceKm,type:"number",isNew:r,skipTimer:!0}),a.elevation||n({id:a.id,field:"elevation",value:t.elevation,type:"number",isNew:r,skipTimer:!0}),!a.name){const e=u[(a.date?new Date(a.date):new Date).getDay()],s=c.find(e=>e.id===a.type);n({id:a.id,field:"name",value:`${t.name}: ${e}${s?" "+s.name:"stur"}`,type:"string",isNew:r,skipTimer:!0})}this.setState({filterText:""}),s&&this.toggleFilter()}render(){const{showAll:e,filterText:t,showSearchField:s}=this.state,{userStore:a}=this.props.stores,{tracks:i}=a,{saved:o,workout:n,field:r,title:l,icon:c,help:d,filter:h=(()=>!0)}=this.props,u=Object(v.i)(n[r]);let p=e?()=>!0:h;t&&(p=e=>e.name.match(new RegExp(t,"i"))||n.track===e.id);const m=i.filter(p);return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(o[`${r}.${n.id}`]?"is-valid":"")},Object(f.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(f.h)("i",{class:"fas fa-search"})),Object(f.h)("label",{for:r+"Input"},c&&Object(f.h)("i",{class:c+" text-muted"})," ",l),Object(f.h)("div",{class:"container-fluid px-0"},s&&Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"col-12"},Object(f.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:"Søk etter runder",value:t,onInput:Object(y.a)(this,"filterText")}))),Object(f.h)("div",{class:"row"},m&&m.map(e=>Object(f.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-2"},Object(f.h)("div",{class:"border position-relative rounded p-2 pt-3 pb-1 "+(u===e.id?"bg-success":""),onClick:()=>this.toggleTrack(e.id,e),style:"line-height: 0.9em; cursor: pointer; pointer-events: inherit;"},Object(f.h)("small",{class:"float-right position-absolute",style:"top: 0; right: 5px;"},Object(f.h)("small",null,Object(f.h)("i",{class:"fas fa-road"})," ",g.a.format(e.distanceKm,1)," km",Object(f.h)("i",{class:"fas fa-mountain ml-2"})," ",g.a.format(e.elevation,0)," m")),Object(f.h)("div",{style:"overflow: hidden;"},n.hintTrack===e.id&&Object(f.h)("span",{class:"float-right text-primary"},Object(f.h)("i",{class:"fas fa-circle"})),Object(f.h)("small",null,Object(f.h)("i",{class:"fas fa-map-marked mr-2"}),e.name)))))),Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"col-12 text-right"},e?Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.toggleFilter},Object(f.h)(w.c,{id:"workouts.show-last-used-tracks"},"Vis kun de sist brukte rundene")):Object(f.h)("button",{class:"btn btn-sm btn-link",onClick:this.toggleFilter},Object(f.h)(w.c,{id:"workouts.show-all-tracks"},"Vis alle rundene"))))),o[`${r}.${n.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:r+"Help",class:"form-text text-muted"},d))}})||d,z=Object(O.a)(h=class extends f.Component{constructor(...e){super(...e),this.updateTextField=e=>{const{type:t,updateField:s,isNew:a}=this.props,{id:i,field:o}=e.target.dataset,n=e.target.value;s({id:parseInt(i,10),field:o,value:n,type:t,isNew:a})}}toggleType(e){const{workout:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(v.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t,raceStore:s}=this.props.stores,{types:a,user:i}=t,{language:o}=i,{saved:n,workout:r,field:l,title:c,icon:d,help:h,isNew:u}=this.props,p=Object(v.i)(r[l]),m=s.getSignupByUserEmail(i.email).length>0;return Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(n[`${l}.${r.id}`]?"is-valid":"")},Object(f.h)("label",{for:l+"Input"},d&&Object(f.h)("i",{class:d+" text-muted"})," ",c),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},a&&a.map((t,s)=>Object(f.h)("div",{class:"col mb-0 px-0",ref:p===t.id?e=>this.container=e:null},Object(f.h)("button",{class:`btn btn-block \n        \t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===a.length?"rounded-pill-right":""}                                    \n                                                btn${p===t.id?"":"-outline"}-success\n                                                text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleType(t.id)},t.icon&&Object(f.h)("i",{class:t.icon})," ",o&&t.lang&&t.lang[o]?t.lang[o]:t.name,m&&2===t.id&&Object(f.h)(e,null,p===t.id?Object(f.h)(e,null,Object(f.h)("i",{class:"fas fa-check float-right"})):Object(f.h)(e,null,Object(f.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(f.h)("span",{class:"sr-only"},"Loading...")),Object(f.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))))))))),4===p&&Object(f.h)("div",{class:"row"},u?Object(f.h)("div",{class:"col-12"},Object(f.h)(A,{stores:this.props.stores,field:"typeTitle",title:Object(f.h)(w.c,{id:"workouts.other"},"Annet"),help:Object(f.h)(w.c,{id:"workouts.other-help"},"Hva slags type tur/aktivitet var dette?")})):Object(f.h)("div",{class:"col-12"},Object(f.h)(E,{saved:n,workout:r,field:"typeTitle",title:Object(f.h)(w.c,{id:"workouts.other"},"Annet"),help:Object(f.h)(w.c,{id:"workouts.other-help"},"Hva slags type tur/aktivitet var dette?"),onInput:this.updateTextField})))),n[`${l}.${r.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:l+"Help",class:"form-text text-muted"},h))}})||h,U=Object(O.a)(u=class extends f.Component{toggleType(e){const{workout:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(v.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:t}=this.props.stores,{intensities:s}=t,{saved:a,workout:i,field:o,title:n,icon:r,help:l}=this.props,c=Object(v.i)(i[o]);return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(a[`${o}.${i.id}`]?"is-valid":"")},Object(f.h)("label",{for:o+"Input"},r&&Object(f.h)("i",{class:r+" text-muted"})," ",n),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},s&&s.map(t=>Object(f.h)("div",{class:"col-12 mb-2"},Object(f.h)("button",{class:`btn btn-block btn${c===t.id?"":"-outline"}-${t.class||"success"} text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleType(t.id)},i.hintIntensity===t.id&&Object(f.h)("span",{class:"float-right text-primary"},Object(f.h)("i",{class:"fas fa-circle"})),Object(f.h)("span",{style:"font-size: 1.5em;"},t.icon||""," ",t.name),t.help&&Object(f.h)(e,null,Object(f.h)("br",null),Object(f.h)("small",null,t.help))))))),a[`${o}.${i.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:o+"Help",class:"form-text text-muted"},l))}})||u,N=Object(O.a)(p=class extends f.Component{toggleEquipment(e){const{workout:t,type:s,field:a,updateField:i,isNew:o}=this.props;let n=Object(v.i)(t[a]);n=n===e?null:e,i({id:t.id,field:a,value:n,type:s,isNew:o})}render(){const{userStore:e}=this.props.stores,{equipments:t,user:s}=e,{language:a}=s,{saved:i,workout:o,field:n,title:r,icon:l,help:c}=this.props,d=Object(v.i)(o[n]);return Object(f.h)("div",{class:"form-group  mb-1 pb-1 border-bottom "+(i[`${n}.${o.id}`]?"is-valid":"")},Object(f.h)("label",{for:n+"Input"},l&&Object(f.h)("i",{class:l+" text-muted"})," ",r),Object(f.h)("div",{class:"container-fluid px-0"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-column",style:"overflow: auto; scroll-snap-type: x mandatory;"},t&&t.map(e=>Object(f.h)("div",{class:"col px-1 mb-1"},Object(f.h)("button",{class:`btn btn-block btn${d===e.id?"":"-outline"}-success text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleEquipment(e.id)},e.icon&&Object(f.h)("i",{class:e.icon})," ",a&&e.lang&&e.lang[a]?e.lang[a]:e.name))))))),i[`${n}.${o.id}`]?Object(f.h)("div",{class:"valid-feedback",style:"display: block;"},Object(f.h)(w.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(f.h)("small",{id:n+"Help",class:"form-text text-muted"},c))}})||p,$=Object(O.a)(m=class extends f.Component{render(){const{raceStore:e,userStore:t}=this.props.stores,{user:s}=t,a=e.getSignupByUserEmail(s.email);return a&&a.length>0?Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(f.h)("div",{class:"alert alert-warning"},Object(f.h)("h5",null,Object(f.h)(w.c,{id:"races.race-in-progress"},"Løp pågår")),Object(f.h)("ul",null,a.map(e=>Object(f.h)("li",null,e.race.title))),Object(f.h)("i",{class:"fas fa-exclamation-triangle"})," ",Object(f.h)(w.c,{id:"races.choose-correct-team-and-type"},"Velg riktig team og type for løpet."))):""}})||m,W=Object(O.a)(b=class extends f.Component{constructor(e){var t;super(e),t=this,this.loadAll=async function(){await t.loadDogs(),await t.loadWorkout();const{raceStore:e}=t.props.stores;e.loadRaceInProgress()},this.loadWorkout=async function(e){const{workoutStore:s,userStore:a,dogStore:i}=t.props.stores,{user:o}=a,{language:n}=o,r=k.a.getDays(n);let{workouts:l=[],newWorkout:c}=s;const{currentTeam:d}=s;if("new"===t.props.workout){t.setState({createNew:!0}),l=await s.load({query:{team:e||d},skipUpdate:1,limit:5,sort:"-createdDate"});let a=l[0];const n=d||o.team;if(a){c.team||s.updateObjectKeyValue("newWorkout","team",n),s.updateObjectKeyValue("newWorkout","dogs",a.dogs||[]),s.updateObjectKeyValue("newWorkout","dogsLeft",[]),s.updateObjectKeyValue("newWorkout","dogsRight",[]),s.updateObjectKeyValue("newWorkout","mushers",a.mushers),s.updateObjectKeyValue("newWorkout","name",a.name),s.updateObjectKeyValue("newWorkout","type",a.type),s.updateObjectKeyValue("newWorkout","equipment",a.equipment),s.updateObjectKeyValue("newWorkout","duration",a.duration),s.updateObjectKeyValue("newWorkout","duration-hours",Math.floor(a.duration/3600)),s.updateObjectKeyValue("newWorkout","duration-minutes",Math.floor(a.duration%3600/60)),s.updateObjectKeyValue("newWorkout","rest",a.rest||0),s.updateObjectKeyValue("newWorkout","rest-hours",Math.floor(a.rest/3600)||0),s.updateObjectKeyValue("newWorkout","rest-minutes",Math.floor(a.rest%3600/60)||0),s.updateObjectKeyValue("newWorkout","rating",a.rating||3),s.updateObjectKeyValue("newWorkout","sledWeight",a.sledWeight),c["updated-date"]||s.updateObjectKeyValue("newWorkout","date",g.a.isoDate(a.date,!1,!1,!0)),c["updated-time"]||s.updateObjectKeyValue("newWorkout","time",g.a.isoTime(a.date)),s.updateObjectKeyValue("newWorkout","hintTeam",a.team),s.updateObjectKeyValue("newWorkout","hintType",a.type),s.updateObjectKeyValue("newWorkout","hintTrack",a.track),s.updateObjectKeyValue("newWorkout","hintIntensity",a.intensity);const e=l.map(e=>e.track);t.setState({lastUsedTracks:e})}else{const t=r[(new Date).getDay()],a=await i.load({query:{team:e||d},skipUpdate:1});c.team||s.updateObjectKeyValue("newWorkout","team",n),s.updateObjectKeyValue("newWorkout","dogs",a.map(e=>e.id)||[]),s.updateObjectKeyValue("newWorkout","dogsLeft",[]),s.updateObjectKeyValue("newWorkout","dogsRight",[]),s.updateObjectKeyValue("newWorkout","mushers",[o.id]),s.updateObjectKeyValue("newWorkout","name",g.a.ucfirst(t+" - Tur med hundene")),s.updateObjectKeyValue("newWorkout","type",1),s.updateObjectKeyValue("newWorkout","equipment",2),s.updateObjectKeyValue("newWorkout","duration",3600),s.updateObjectKeyValue("newWorkout","rest",0),s.updateObjectKeyValue("newWorkout","rating",3),s.updateObjectKeyValue("newWorkout","date",g.a.isoDate(void 0,!1,!1,!0)),s.updateObjectKeyValue("newWorkout","time",g.a.isoTime())}s.updateObjectKeyValue("newWorkout","temperature",-1)}else s.load(t.props.workout)},this.loadDogs=async function(){t.setState({isLoading:!0});const{dogStore:e}=t.props.stores;await e.load({query:{deceased:0},addData:["workoutSummary"]}),t.setState({isLoading:!1})},this.insertWorkout=async function(){const{workoutStore:e,userStore:s}=t.props.stores,{newWorkout:a}=e,o=await e.insert(i({},a));422===o.status?x.a.publish(x.b.STATUS_MESSAGE,{message:"Mangler tittel på treningsøkten",type:"warning",icon:"fas fa-exclamation-triangle"}):o.status>=500?x.a.publish(x.b.STATUS_MESSAGE,{message:o.message||o.error,type:"danger",icon:"fas fa-exclamation-triangle"}):(t.resetDog(),s.getInfo(),Object(j.route)("/workouts/"+o.data.id,!0))},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,{value:n,type:r,min:l,max:c}=e.target;"date"===r&&l&&c?n>=l&&n<=c&&this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o}):this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=async function({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1}){const{workoutStore:l}=t.props.stores;let c=a,d=a;const{workout:h}=l;if("images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newWorkout",s,a):(l.updateField(e,s,d),r?await t.doUpdateField(e,s,c):(clearTimeout(t.updateTimer[s]),t.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500))),"gpx"===s&&h&&g.a.checkNested(h,"gpx","gpxInfo")){const{totalDistance:t,maxSpeed:s,avgSpeed:a,ascent:i,decent:o,duration:n,rest:r,startLatlng:c,endLatlng:d}=h.gpx.gpxInfo,u={};n&&(l.updateField(e,"duration",n),u.duration=n),r&&(l.updateField(e,"rest",r),u.rest=r),t&&(l.updateField(e,"distanceKm",g.a.roundTo(t,10)),u.distanceKm=g.a.roundTo(t,10)),s&&(l.updateField(e,"speedmax",g.a.roundTo(s,10)),u.speedmax=g.a.roundTo(s,10)),a&&(l.updateField(e,"speedAvg",g.a.roundTo(a,10)),u.speedAvg=g.a.roundTo(a,10)),i&&(l.updateField(e,"elevation",i),u.elevation=i),o&&(l.updateField(e,"decent",o),u.decent=o),c&&(l.updateField(e,"startLatlng",c),u.startLatlng=c),d&&(l.updateField(e,"endLatlng",d),u.endLatlng=d),await l.save(u,h.id)}},this.dogFilter=e=>{const{workoutStore:t}=this.props.stores,{workout:s}=t;return!(!s||!s.dogs)&&(e.team===s.team||s.dogs.indexOf(e.id)>-1)},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.handleLocation=async function(e){const{createNew:s}=t.state,{workoutStore:a,userStore:i}=t.props.stores,{workout:o={},newWorkout:n}=a;let r=!0;if(s?g.a.checkNested(n,"yr","0","instant","details")&&(r=!1):g.a.checkNested(o,"yr","0","instant","details")&&(r=!1),r){const a=e.coords.latitude,r=e.coords.longitude,l=e.coords.altitude,c=await i.getWeather({lat:a,lon:r,altitude:l});if(s){if(t.updateFieldValue({id:n.id,field:"yr",value:c,isNew:!0,skipTimer:!1}),g.a.checkNested(n,"yr","0","instant","details")&&!n.weather){let e="";const s=Object(v.i)(n.yr[0].instant.details);e=`Yr.no: 🌡️ ${s.air_temperature}°C, 💨 ${s.wind_speed}m/s 🧭 ${k.a.windDirection(s.wind_from_direction)}, ☁️ ${s.cloud_area_fraction}%, ${s.air_pressure_at_sea_level}mb, 💦 ${s.relative_humidity}%`,t.updateFieldValue({id:n.id,field:"weather",value:e,isNew:!0,skipTimer:!1}),n.temperature||t.updateFieldValue({id:n.id,field:"temperature",value:s.air_temperature,isNew:!0,skipTimer:!1})}}else if(t.updateFieldValue({id:o.id,field:"yr",value:c,isNew:!1,skipTimer:!1}),g.a.checkNested(o,"yr","0","instant","details")){let e="";const s=Object(v.i)(o.yr[0].instant.details);g.a.isoDate(o.yr[0].date,!1,!1,!0)!==g.a.isoDate(o.date,!1,!1,!0)||o.weather&&""!==o.weather||(e=`Yr.no: 🌡️ ${s.air_temperature}°C, 💨 ${s.wind_speed}m/s 🧭 ${k.a.windDirection(s.wind_from_direction)}, ☁️ ${s.cloud_area_fraction}%, ${s.air_pressure_at_sea_level}mb, 💦 ${s.relative_humidity}%`,t.updateFieldValue({id:o.id,field:"weather",value:e,isNew:!1,skipTimer:!1}),o.temperature||t.updateFieldValue({id:o.id,field:"temperature",value:s.air_temperature,isNew:!0,skipTimer:!1}))}}},this.getLocation=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.handleLocation,e=>console.log(e))},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.toggleAdminDebug=()=>{const{showAdminDebug:e}=this.state;this.setState({showAdminDebug:!e})},this.state=i(i({},C),{},{submenu:"info"}),this.updateTimer={}}resetDog(){const{workoutStore:e}=this.props.stores;e.updateKeyValue("newWorkout",{})}async doUpdateField(e,t,s){const{workoutStore:a}=this.props.stores;e&&t&&await a.saveField(e,t,s)}componentDidMount(){this.loadAll()}render(){const{createNew:t,lastUsedTracks:s,submenu:a,showAdminDebug:i=!0}=this.state,{workoutStore:o,userStore:n,appState:r,raceStore:l}=this.props.stores,{viewmode:c}=r,{isAdmin:d,user:h}=n,{insertStatus:u,saved:p,workout:m={},newWorkout:b={}}=o,{currentTeam:O}=o,v=n.findTeam(m.team||O,!0),y=l.getSignupByUserEmail(h.email).map(e=>parseInt(e.musher.team,10)),{name:j,gpxInfo:x={},gpx:S={gpxInfo:{}}}=m;let D=!1;return D=t?[6,8].indexOf(b.type)>-1:[6,8].indexOf(m.type)>-1,t?Object(f.h)("div",{class:"container-fluid",style:`margin-bottom: ${L}; margin-top: ${I};`},Object(f.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${P}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(f.h)("i",{class:"fas fa-arrow-circle-left"})),Object(f.h)("div",{class:"row"},Object(f.h)($,{stores:this.props.stores}),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3",style:"padding-left: 35px;"},Object(f.h)("div",null,Object(f.h)("h5",null,Object(f.h)(w.c,{id:"workouts.add-new"},"Legg til ny treningstur")))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-info-circle"})," ",Object(f.h)(w.c,{id:"workouts.info"},"Info"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"team"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"team",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-users"})," ",Object(f.h)(w.c,{id:"workouts.team"},"Team"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"user"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"user",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-user"})," ",Object(f.h)(w.c,{id:"workouts.user"},"Musher"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"images"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-images"})," ",Object(f.h)(w.c,{id:"workouts.images"},"Bilder"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"gps"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gps",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(f.h)(w.c,{id:"workouts.gps"},"GPS"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"equipment"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"equipment",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-sleigh"})," ",Object(f.h)(w.c,{id:"workouts.equipment"},"Equipment"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-cogs"})," ",Object(f.h)(w.c,{id:"workouts.advanced"},"advanced"))))))),"info"===a&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(z,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"number",field:"type",icon:"fas fa-running",title:Object(f.h)(w.c,{id:"workouts.type"},"Type tur"),help:Object(f.h)(w.c,{id:"workouts.type-help"},"Type treningstur. 'trening', 'konkurranse', 'tur'."),updateField:this.updateFieldValue}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"name",icon:"fas fa-heading",title:Object(f.h)(w.c,{id:"workouts.title"},"Tittel"),help:Object(f.h)(w.c,{id:"workouts.title-help"},"Tittel på denne turen. 'Fin høsttur i øsende regn...'")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"comment",type:"textarea",title:Object(f.h)(w.c,{id:"workouts.comment"},"Kommentar"),help:Object(f.h)(w.c,{id:"workouts.comment-help"},"Kommentar til turen. Hvordan gikk det?")})),v&&v.public>0&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"private",icon:"fas fa-eye",type:"toggle",title:Object(f.h)(w.c,{id:"workouts.private"},"Skjul treningsturen"),help:Object(f.h)(w.c,{id:"workouts.private-help"},"Skal denne turen være skjult for de som følger teamet ditt?")}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"date",icon:"fas fa-calendar",type:"date",min:"2010-01-01",max:"today",title:Object(f.h)(w.c,{id:"workouts.date"},"Dato"),help:Object(f.h)(w.c,{id:"workouts.date-help"},"Dato for turen. Format på dato er: 'YYYY-MM-DD'.")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"time",icon:"fas fa-clock",type:"time",title:Object(f.h)(w.c,{id:"workouts.time"},"Klokka"),help:Object(f.h)(w.c,{id:"workouts.time-help"},"Klokkeslett for turen. Format: 'HH:MI'.")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"duration",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(w.c,{id:"workouts.duration"},"Varighet på treningen"),help:Object(f.h)(w.c,{id:"workouts.duration-help"},"Hvor lenge var du ute? (HH:MI)")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"rest",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(w.c,{id:"workouts.rest"},"Hviletid på treningen"),help:Object(f.h)(w.c,{id:"workouts.rest-help"},"Hvor lenge stod du stille? (HH:MI)")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)(A,{stores:this.props.stores,field:"speedAvg",rightValue:g.a.format(k.a.speedAvg({duration:b.duration,rest:b.rest,distanceKm:b.distanceKm}),1,"."," ")+" km/t",rightValueReal:k.a.speedAvg({duration:b.duration,rest:b.rest,distanceKm:b.distanceKm}),updateField:this.updateFieldValue,icon:"fas fa-tachometer-alt",type:"number",min:"0",max:"100",step:"0.1",title:Object(f.h)(w.c,{id:"workouts.avg-speed"},"Gjennomsnittsfart"),help:Object(f.h)(w.c,{id:"workouts.avg-speed-help"},"Gjennomsnittsfart når du var i bevegelse. Dersom du ikke vet dette så legger du bare inn distanse og varighet så blir dette regnet ut.")}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row px-0"},Object(f.h)("div",{class:"col-6"},Object(f.h)(A,{stores:this.props.stores,field:"distanceKm",icon:"fas fa-road",title:Object(f.h)(w.c,{id:"workouts.distance"},"Distanse i km"),type:"number",min:"0",max:"300",step:"1",help:Object(f.h)(w.c,{id:"workouts.distance-help"},"Hvor lang var turen i km.")})),Object(f.h)("div",{class:"col-6"},Object(f.h)(A,{stores:this.props.stores,field:"elevation",icon:"fas fa-mountain",title:Object(f.h)(w.c,{id:"workouts.ascend"},"Høydemeter"),type:"number",min:"0",max:"3000",step:"1",help:Object(f.h)(w.c,{id:"workouts.ascend-help"},"Høydemeter du klatret på denne turen.")}))))),"team"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(M,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"number",field:"team",icon:"fas fa-users",title:Object(f.h)(w.c,{id:"workouts.team"},"Team"),help:Object(f.h)(w.c,{id:"workouts.team-help"},"Teamet som er på tur."),updateField:this.updateFieldValue,selectTeam:this.loadWorkout,highlight:y})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(_.a,{stores:this.props.stores,isNew:1,saved:p,object:b,type:"array",icon:"fas fa-dog",elementtype:"number",field:"dogs",title:Object(f.h)(w.c,{id:"workouts.dogs"},"Hunder"),help:Object(f.h)(w.c,{id:"workouts.dogs-help"},"Hvilke hunder var med på turen."),updateField:this.updateFieldValue,filter:e=>e.team===b.team||b.dogs&&b.dogs.indexOf(e.id)>-1,showPositions:!D&&["beta","advanced","normal"].indexOf(c)>-1,currentTeam:v,key:"dogs-"+g.a.getNestedValue(v,"id")}))),"user"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(F,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"array",elementtype:"number",field:"mushers",icon:"fas fa-user",title:Object(f.h)(w.c,{id:"workouts.mushers"},"Kjørere"),help:Object(f.h)(w.c,{id:"workouts.mushers-help"},"Hvem av kjørerne var med på turen."),updateField:this.updateFieldValue}))),"images"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"text-center text-muted"},Object(f.h)("div",{class:"display-1"},Object(f.h)("i",{class:"fas fa-images"})),Object(f.h)(w.c,{id:"workouts.save-to-add-images"},"Please save workout and then go into edit mode to add images.")))),"gps"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"text-center text-muted mb-3"},Object(f.h)("div",{class:"display-1"},Object(f.h)("i",{class:"fas fa-map-marker-alt"})),Object(f.h)(w.c,{id:"workouts.save-to-add-gpx"},"Please save workout and then you will be able to upload a GPX-file if you like.")),Object(f.h)(R,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"number",field:"track",icon:"fas fa-map-marked",title:Object(f.h)(w.c,{id:"workouts.track"},"Runde"),help:Object(f.h)(w.c,{id:"workouts.track-help"},"Hvilken treningsrunde er dette."),updateField:this.updateFieldValue,filter:e=>e.id===b.track||s&&s.indexOf(e.id)>-1}))),"equipment"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(N,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"number",field:"equipment",icon:"fas fa-sleigh",title:Object(f.h)(w.c,{id:"workouts.equipment"},"Utstyr"),help:Object(f.h)(w.c,{id:"workouts.equipment-help"},"Utstyr som ble brukt. 'trollvogn', 'atv', 'slede'."),updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"number",field:"sledWeight",icon:"fas fa-sleigh",title:Object(f.h)(w.c,{id:"workouts.sledWeight"},"Sledevekt"),help:Object(f.h)(w.c,{id:"workouts.sledWeight-help"},"Vekt på sleden denne turen."),updateField:this.updateFieldValue}))),"advanced"===a&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"weather",icon:"fas fa-cloud-sun-rain",title:Object(f.h)(w.c,{id:"workouts.weather"},"Været på turen"),help:Object(f.h)(w.c,{id:"workouts.weather-help"},"Hvordan var været.")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"temperature",icon:"fas fa-temperature-low",title:Object(f.h)(w.c,{id:"workouts.temperature"},"Temperatur"),type:"number",min:"-40",max:"20",step:"0.5",help:Object(f.h)(w.c,{id:"workouts.temperature-help"},"Hvilken temperatur var det.")}))),["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(A,{stores:this.props.stores,field:"rating",icon:"fas fa-dice",title:Object(f.h)(w.c,{id:"workouts.rating"},"Rating av turen"),type:"number",min:"0",max:"6",step:"1",help:Object(f.h)(w.c,{id:"workouts.rating-help"},"Din rating av turen. 1-6")})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(U,{stores:this.props.stores,isNew:1,saved:p,workout:b,type:"number",field:"intensity",icon:"fas fa-dumbbell",title:Object(f.h)(w.c,{id:"workouts.intensity"},"Intensitet"),help:Object(f.h)(w.c,{id:"workouts.intensity-help"},"Hvor stor belastning var denne turen?"),updateField:this.updateFieldValue})))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"form-group mb-1 pb-1 border-bottom"},Object(f.h)("button",{type:"button",class:"btn btn-block btn-primary",onClick:this.insertWorkout},Object(f.h)(w.c,{id:"workouts.add-save-new"},"Lagre treningstur"))))),u&&Object(f.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(f.h)(w.c,{id:"workouts.workout-saved"},"Treningen er lagret."))):Object(f.h)("div",{class:"container-fluid",style:`margin-bottom: ${L}; margin-top: ${I};`},Object(f.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${P}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(f.h)("i",{class:"fas fa-arrow-circle-left"})),Object(f.h)("div",{class:"row"},Object(f.h)($,{stores:this.props.stores}),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3",style:"padding-left: 35px;"},Object(f.h)("div",null,Object(f.h)("h5",null,Object(f.h)(w.c,{id:"workouts.edit-workout"},"Endre trening"),": ",j,1===m.isLocked&&Object(f.h)("i",{class:"fas fa-lock text-danger ml-3"})))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row"},Object(f.h)("div",{class:"w-100 overflow-hidden"},Object(f.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-info-circle"})," ",Object(f.h)(w.c,{id:"workouts.info"},"Info"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"team"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"team",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-users"})," ",Object(f.h)(w.c,{id:"workouts.team"},"Team"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"user"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"user",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-user"})," ",Object(f.h)(w.c,{id:"workouts.user"},"Musher"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"images"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-images"})," ",Object(f.h)(w.c,{id:"workouts.images"},"Bilder"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"gps"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gps",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(f.h)(w.c,{id:"workouts.gps"},"GPS"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-none ${"equipment"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"equipment",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-sleigh"})," ",Object(f.h)(w.c,{id:"workouts.equipment"},"Equipment"))),Object(f.h)("div",{class:"col px-0 pt-2"},Object(f.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(f.h)("i",{class:"fas fa-cogs"})," ",Object(f.h)(w.c,{id:"workouts.advanced"},"advanced"))))))),"info"===a&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(z,{stores:this.props.stores,saved:p,workout:m,type:"number",field:"type",icon:"fas fa-running",title:Object(f.h)(w.c,{id:"workouts.type"},"Type tur"),help:Object(f.h)(w.c,{id:"workouts.type-help"},"Type treningstur. 'trening', 'konkurranse', 'tur'."),updateField:this.updateFieldValue}))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"name",icon:"fas fa-heading",title:Object(f.h)(w.c,{id:"workouts.title"},"Tittel"),help:Object(f.h)(w.c,{id:"workouts.title-help"},"Tittel på denne turen. 'Fin høsttur i øsende regn...'"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"comment",type:"textarea",title:Object(f.h)(w.c,{id:"workouts.comment"},"Kommentar"),help:Object(f.h)(w.c,{id:"workouts.comment-help"},"Kommentar til turen. Hvordan gikk det?"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},v&&v.public>0&&Object(f.h)(E,{stores:this.props.stores,saved:p,workout:m,field:"private",icon:"fas fa-eye",type:"toggle",title:Object(f.h)(w.c,{id:"workouts.private"},"Skjul treningsturen"),help:Object(f.h)(w.c,{id:"workouts.private-help"},"Skal denne turen være skjult for de som følger teamet ditt?"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{stores:this.props.stores,saved:p,workout:m,field:"date",icon:"fas fa-calendar",type:"date",min:"2010-01-01",max:"today",title:Object(f.h)(w.c,{id:"workouts.date"},"Dato"),help:Object(f.h)(w.c,{id:"workouts.date-help"},"Dato for turen. Format på dato er: 'YYYY-MM-DD'."),onInput:this.updateField,updateField:this.updateFieldValue}),i&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.minEpoch>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.minEpoch: ",g.a.isoDate(x.minEpoch,!0,!0)," ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.startTime>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.startTime ",g.a.isoDate(S.gpxInfo.startTime,!0,!0)," ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{stores:this.props.stores,saved:p,workout:m,field:"time",icon:"fas fa-clock",type:"time",title:Object(f.h)(w.c,{id:"workouts.time"},"Klokka"),help:Object(f.h)(w.c,{id:"workouts.time-help"},"Klokkeslett for turen. Format: 'HH:MI'."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"duration",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(w.c,{id:"workouts.duration"},"Varighet på treningen"),help:Object(f.h)(w.c,{id:"workouts.duration-help"},"Hvor lenge var du ute? (HH:MI)"),onInput:this.updateField,updateField:this.updateFieldValue}),i&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.minEpoch>0&&x.maxEpoch>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",g.a.secToHms(x.maxEpoch-x.minEpoch)," ",Object(f.h)("br",null)),d&&x.duration>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",g.a.secToHms(x.duration)," ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.endTime>0&&S.gpxInfo.startTime>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",g.a.secToHms((S.gpxInfo.endTime-S.gpxInfo.startTime)/1e3)," ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.duration>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",g.a.secToHms(S.gpxInfo.duration)," ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"rest",type:"duration",icon:"fas fa-stopwatch",title:Object(f.h)(w.c,{id:"workouts.rest"},"Hviletid på treningen"),help:Object(f.h)(w.c,{id:"workouts.rest-help"},"Hvor lenge stod du stille? (HH:MI)"),onInput:this.updateField,updateField:this.updateFieldValue}),i&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.minEpoch>0&&x.maxEpoch>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",g.a.secToHms(x.rest)," ",Object(f.h)("br",null)),d&&x.rest>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",g.a.secToHms(x.rest)," ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.rest>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",g.a.secToHms(S.gpxInfo.rest)," ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},!D&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)(E,{saved:p,workout:m,field:"speedAvg",rightValue:g.a.format(k.a.speedAvg({duration:m.duration,rest:m.rest,distanceKm:m.distanceKm}),1,"."," ")+" km/t",rightValueReal:k.a.speedAvg({duration:m.duration,rest:m.rest,distanceKm:m.distanceKm}),updateField:this.updateFieldValue,icon:"fas fa-tachometer-alt",title:Object(f.h)(w.c,{id:"workouts.avg-speed"},"Gjennomsnittsfart"),type:"number",min:"0",max:"100",step:"0.1",help:Object(f.h)(w.c,{id:"workouts.avg-speed-help"},"Gjennomsnittsfart når du var i bevegelse. Dersom du ikke vet dette så legger du bare inn distanse og varighet så blir dette regnet ut."),onInput:this.updateField}),i&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.avgMovingSpeeds>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",g.a.format(3.6*x.avgMovingSpeeds,2)," km/t ",Object(f.h)("br",null)),d&&x.avgGpsSpeed>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",g.a.format(3.6*x.avgGpsSpeed,2)," km/t ",Object(f.h)("br",null)),d&&x.avgGpsMovingSpeed>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",g.a.format(3.6*x.avgGpsMovingSpeed,2)," km/t ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.avgSpeed>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",g.a.format(3.6*S.gpxInfo.avgSpeed,2)," km/t ",Object(f.h)("br",null)))))),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)("div",{class:"row px-0"},!D&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-6"},Object(f.h)(E,{saved:p,workout:m,field:"distanceKm",icon:"fas fa-road",title:Object(f.h)(w.c,{id:"workouts.distance"},"Distanse i km"),type:"number",min:"0",max:"300",step:"1",help:Object(f.h)(w.c,{id:"workouts.distance-help"},"Hvor lang var turen i km."),onInput:this.updateField,updateField:this.updateFieldValue}),i&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.calculatedTotalDistance>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",g.a.format(x.calculatedTotalDistance,2)," km ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.totalDistance>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",g.a.format(S.gpxInfo.totalDistance,2)," km ",Object(f.h)("br",null)))),Object(f.h)("div",{class:"col-6"},Object(f.h)(E,{saved:p,workout:m,field:"elevation",icon:"fas fa-mountain",title:Object(f.h)(w.c,{id:"workouts.ascend"},"Høydemeter"),type:"number",min:"0",max:"3000",step:"1",help:Object(f.h)(w.c,{id:"workouts.ascend-help"},"Høydemeter du klatret på denne turen."),onInput:this.updateField,updateField:this.updateFieldValue}),i&&Object(f.h)("div",{onClick:this.toggleAdminDebug},d&&x.calculatedAscend>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",g.a.format(x.calculatedAscend,0)," m ",Object(f.h)("br",null)),d&&x.calculatedDescend>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",g.a.format(x.calculatedDescend,0)," m ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.ascent>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",g.a.format(S.gpxInfo.ascent,0)," m ",Object(f.h)("br",null)),d&&S.gpxInfo&&S.gpxInfo.descent>0&&Object(f.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",g.a.format(S.gpxInfo.descent,0)," m ",Object(f.h)("br",null)))))))),"team"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(M,{stores:this.props.stores,saved:p,workout:m,type:"number",field:"team",icon:"fas fa-users",title:Object(f.h)(w.c,{id:"workouts.team"},"Team"),help:Object(f.h)(w.c,{id:"workouts.team-help"},"Teamet som er på tur."),updateField:this.updateFieldValue,highlight:y})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(_.a,{stores:this.props.stores,saved:p,object:m,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(f.h)(w.c,{id:"workouts.dogs"},"Hunder"),help:Object(f.h)(w.c,{id:"workouts.dogs-help"},"Hvilke hunder var med på turen."),updateField:this.updateFieldValue,filter:this.dogFilter,showPositions:!D&&["beta","advanced","normal"].indexOf(c)>-1,currentTeam:v}))),"user"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(F,{stores:this.props.stores,saved:p,workout:m,type:"array",elementtype:"number",field:"mushers",icon:"fas fa-user",title:Object(f.h)(w.c,{id:"workouts.mushers"},"Kjørere"),help:Object(f.h)(w.c,{id:"workouts.mushers-help"},"Hvem av kjørerne var med på turen."),updateField:this.updateFieldValue}))),"images"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"image",type:"image",stores:this.props.stores,title:Object(f.h)(w.c,{id:"workouts.photos"},"Bilder"),help:Object(f.h)(w.c,{id:"workouts.photos-help"},"Legg til bilde fra treningen."),onInput:this.updateField,updateField:this.updateFieldValue}))),"gps"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},S&&Object(f.h)("div",{style:"height: 300px;"},Object(f.h)(T.a,{stores:this.props.stores,mapId:m.id,geojson:S.geoJSON,gpxInfo:S.gpxInfo,height:300})),Object(f.h)(E,{saved:p,workout:m,field:"gpx",type:"file",title:Object(f.h)(w.c,{id:"workouts.gpx"},"Gpx"),help:Object(f.h)(w.c,{id:"workouts.gpx-help"},"Gpx til denne treningen."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(R,{stores:this.props.stores,saved:p,workout:m,type:"number",field:"track",icon:"fas fa-map-marked",title:Object(f.h)(w.c,{id:"workouts.track"},"Runde"),help:Object(f.h)(w.c,{id:"workouts.track-help"},"Hvilken treningsrunde er dette."),updateField:this.updateFieldValue,filter:e=>e.id===m.track}))),"equipment"===a&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(N,{stores:this.props.stores,saved:p,workout:m,type:"number",field:"equipment",icon:"fas fa-sleigh",title:Object(f.h)(w.c,{id:"workouts.equipment"},"Utstyr"),help:Object(f.h)(w.c,{id:"workouts.equipment-help"},"Utstyr som ble brukt. 'trollvogn', 'atv', 'slede'."),updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"sledWeight",type:"number",step:"1",icon:"fas fa-sleigh",title:Object(f.h)(w.c,{id:"workouts.sledWeight"},"Sledevekt"),help:Object(f.h)(w.c,{id:"workouts.sledWeight-help"},"Vekt på sleden denne turen."),onInput:this.updateField,updateField:this.updateFieldValue}))),"advanced"===a&&Object(f.h)(e,null,["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},!g.a.checkNested(m,"yr","0","instant","details")&&Object(f.h)("button",{class:"btn btn-sm float-right btn-secondary",onClick:this.getLocation()},Object(f.h)(w.c,{id:"workouts.fetch-weather"},"Hent fra yr")),Object(f.h)(E,{saved:p,workout:m,field:"weather",icon:"fas fa-cloud-sun-rain",title:Object(f.h)(w.c,{id:"workouts.weather"},"Været på turen"),help:Object(f.h)(w.c,{id:"workouts.weather-help"},"Hvordan var været."),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"temperature",icon:"fas fa-temperature-low",title:Object(f.h)(w.c,{id:"workouts.temperature"},"Temperatur"),type:"number",min:"-40",max:"20",step:"0.5",help:Object(f.h)(w.c,{id:"workouts.temperature-help"},"Hvilken temperatur var det."),onInput:this.updateField,updateField:this.updateFieldValue}))),["beta","advanced","normal"].indexOf(c)>-1&&Object(f.h)(e,null,Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(E,{saved:p,workout:m,field:"rating",type:"number",min:"0",max:"6",step:"1",icon:"fas fa-dice",title:Object(f.h)(w.c,{id:"workouts.rating"},"Rating av turen"),help:Object(f.h)(w.c,{id:"workouts.rating-help"},"Din rating av turen. 1-6"),onInput:this.updateField,updateField:this.updateFieldValue})),Object(f.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(f.h)(U,{stores:this.props.stores,saved:p,workout:m,type:"number",field:"intensity",icon:"fas fa-dumbbell",title:Object(f.h)(w.c,{id:"workouts.intensity"},"Intensitet"),help:Object(f.h)(w.c,{id:"workouts.intensity-help"},"Hvor stor belastning var denne turen?"),updateField:this.updateFieldValue}))))))}})||b;t.a=W}).call(this,s("hosL").Fragment)},f6wN:function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return c}));var a=s("Fcif"),i=s("0942"),o=s("7L9N"),n=s("mK0O"),r=s("l8WD"),l=/^on(.+)$/i,c=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(n.a)(Object(i.a)(s),"_leafletEvents",void 0),Object(n.a)(Object(i.a)(s),"leafletElement",void 0),s._leafletEvents=s.extractLeafletEvents(t),s}Object(o.a)(t,e);var s=t.prototype;return s.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},s.componentDidUpdate=function(){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},s.componentWillUnmount=function(){var e=this,t=this.leafletElement;t&&Object.keys(this._leafletEvents).forEach((function(s){t.off(s,e._leafletEvents[s])}))},s.extractLeafletEvents=function(e){return Object.keys(e).reduce((function(t,s){l.test(s)&&(null!=e[s]&&(t[s.replace(l,(function(e,t){return t.toLowerCase()}))]=e[s]));return t}),{})},s.bindLeafletEvents=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var s=this.leafletElement;if(null==s||null==s.on)return{};var i=Object(a.a)({},t);return Object.keys(t).forEach((function(a){null!=e[a]&&t[a]===e[a]||(delete i[a],s.off(a,t[a]))})),Object.keys(e).forEach((function(a){null!=t[a]&&e[a]===t[a]||(i[a]=e[a],s.on(a,e[a]))})),i},s.fireLeafletEvent=function(e,t){var s=this.leafletElement;s&&s.fire(e,t)},t}(r.Component)},fKAb:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l,c=s("cneo"),d=s("0frO"),h=s("Utv1"),u=s("Y3FI"),p=s("X9Km");Object(c.f)({enforceActions:"always"});const m=new(n=i((o=class extends d.a{constructor(){super("application",{namePlural:"applications",sort:"createdDate",limit:100,api:{search:{url:"/api/applications/",params:{limit:15,sort:"createdDate"}},load:{url:"/api/applications/",params:{}},save:{url:"/api/applications/",params:{}}}}),a(this,"newApplication",n,this),a(this,"application",r,this),a(this,"applications",l,this)}removeImageLocal({id:e,name:t}){if(h.a.isArray(this.application.images)){const e=this.application.images.findIndex(e=>e.name===t);e>-1&&this.application.images.splice(e,1)}const s=this.applications.findIndex(t=>t.id===e);if(s>-1){const e=this.applications[s].images.findIndex(e=>e.name===t);e>-1&&this.applications[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await h.a.fetchApi("/api/applications/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:p.a.publish(p.b.LOG_OUT),Object(u.route)("/",!0)}}}).prototype,"newApplication",[c.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"application",[c.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=i(o.prototype,"applications",[c.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(o.prototype,"removeImageLocal",[c.c],Object.getOwnPropertyDescriptor(o.prototype,"removeImageLocal"),o.prototype),o);t.a=m},fSHa:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("go65"),d=s("ZOvn"),h=s("JWe/"),u=s("bUJL"),p=s("4imK"),m=s("pJjI"),b=s("yHBq");const f=d.a.marginTop(!0),g=d.a.marginBottom(),O=d.a.subMenuMarginTop(),v={isLoading:!1,offset:0,sessionid:(new Date).getTime()},y=["id","type","user","team","title"];let j=Object(r.a)(o=class extends n.Component{constructor(t){var s;super(t),s=this,this.loadMore=()=>{const{offset:e}=this.state;this.setState({offset:e+25},()=>{this.loadWorkouts(!0)})},this.loadWorkouts=async function(e=!1){s.setState({isLoading:!0});const{workoutStore:t}=s.props.stores,{currentTeam:a}=t,{offset:i}=s.state;await t.load({query:{team:a},limit:25,offset:i,addData:["publicTeams","publicUsers"]},e),s.setState({isLoading:!1})},this.loadDogs=async function(){const{dogStore:e}=s.props.stores,{currentTeam:t}=e;await e.load({query:{team:t},addData:["workoutSummary"]})},this.removeFilterText=()=>{this.setState({filterText:""})},this.renderContent=({obj:t})=>{const{appState:s}=this.props.stores;return Object(n.h)(e,null,Object(n.h)(h.a,{stores:this.props.stores,workout:t,showDate:!0,wrapperClasses:"w-100",wrapperClassesRow:""}))},this.setupIntersection=()=>{this.setState({handleIntersection:d.a.intersectionObserverCallback});const{workoutStore:e}=this.props.stores;this.scrollViewTimer=setInterval(()=>e.postScrollview(d.a.getIntersectionObserverHistory()),3e4)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},v)}async loadTracks(){const{trackStore:e}=this.props.stores;await e.load()}async loadWorkoutSummary(){const{userStore:e,workoutStore:t}=this.props.stores,{currentTeam:s}=t;await e.getWorkoutSummary({team:s})}async loadStravaActivities(){const{stravaActivityStore:e}=this.props.stores;e.load({query:{hideImported:1}})}async loadGarminActivities(){const{garminActivityDetailsStore:e}=this.props.stores;e.load({query:{hideImported:1}})}componentWillMount(){this.setupIntersection()}componentWillUnmount(){const{workoutStore:e}=this.props.stores;e.postScrollview(d.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer)}componentDidMount(){this.loadWorkouts(),this.loadDogs(),this.loadStravaActivities(),this.loadGarminActivities()}render(){const{scrolledDown:t}=this.props,{isLoading:s,filterText:a,handleIntersection:i,sessionid:o}=this.state,{trackStore:r,workoutStore:d,dogStore:h,appState:v,stravaActivityStore:j,garminActivityDetailsStore:w,userStore:k}=this.props.stores,{darkmode:x}=v,{message:S}=this.props,{workouts:_,currentTeam:T}=d,D=k.findTeam(T,!0);let I=()=>!0;a&&(I=e=>e.name.match(new RegExp(a,"i")));const P=_.filter(I),{tracks:L}=r,{dogs:C}=h,{user:A}=k,{stravaActivities:E=[]}=j,{garminActivityDetails:F=[]}=w;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${g}; margin-top: ${f};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${t>0?0:O}; background-color: ${x?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/workouts/list",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(l.c,{id:"workout.index.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-calendar-alt"})," ",Object(n.h)(l.c,{id:"workout.index.plan"},"Plan"))))),S&&Object(n.h)("div",{class:"alert alert-success mb-3",role:"alert"},Object(n.h)("i",{class:"fas fa-check"})," ",S),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(m.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+T})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-2"},Object(n.h)("a",{class:"btn btn-primary btn-sm float-right",href:"/workouts/edit/new"},Object(n.h)("i",{class:"fas fa-plus"})," ",Object(n.h)(l.c,{id:"workout.index.add-workout"},"Legg til treningstur"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(n.h)("div",{class:"row mt-3"},A&&A.strava&&Object(n.h)(e,null,Object(n.h)(u.a,{stores:this.props.stores,activities:E,key:`strava-${T}-${E.length}`})),A&&A.garmin&&Object(n.h)(e,null,Object(n.h)(p.a,{stores:this.props.stores,activities:F,key:`garmin-${T}-${F.length}`})))),Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"workouts.all-workouts",fields:{total:P.length}},"Treningsturene - ",P.length," stk"),D&&D.name&&Object(n.h)("div",null,Object(n.h)("small",{class:"font-weight-lighter"},"(",Object(n.h)(l.c,{id:"workout.index.filtered-by"},"Filtered by"),": ",D.name,")")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(n.h)("div",{class:"input-group mb-3"},Object(n.h)(l.b,null,Object(n.h)("input",{class:"form-control form-control-sm",type:"text",autocomplete:"off",value:a,placeholder:Object(n.h)(l.c,{id:"workouts.search-for"},"Søk etter trening"),onInput:Object(c.a)(this,"filterText")})),a&&Object(n.h)("div",{class:"input-group-append"},Object(n.h)("button",{class:"btn btn-sm btn-outline-danger",type:"button",onClick:this.removeFilterText},Object(n.h)("i",{class:"fas fa-times"}))))),!s&&_&&0===_.length&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},C&&0===C.length&&Object(n.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"workouts.no-dogs"},"Ingen hunder er registert.")),Object(n.h)(l.c,{id:"workouts.no-dogs-tip"},"Det er lurt å legge inn hunder før du registrerer en treningstur."),Object(n.h)("br",null),Object(n.h)("a",{class:"btn btn-info mt-3",href:"/dogs/edit/new"},Object(n.h)("i",{class:"fas fa-dog"})," ",Object(n.h)(l.c,{id:"workouts.add-dog"},"Legg til hund"))),L&&0===L.length&&Object(n.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-map-marked"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"workouts.no-tracks"},"Ingen runder er registert.")),Object(n.h)(l.c,{id:"workouts.no-tracks-tip-1"},"Det er lurt å legge inn runden før du registrerer en treningstur. Da får du automatisk fylt ut distanse og høydemeter."),Object(n.h)("br",null),Object(n.h)(l.c,{id:"workouts.no-tracks-tip-2"},"Dersom du ikke har GPX-filen fra denne runden, så kan du likevel registrere treningen."),Object(n.h)("br",null),Object(n.h)("a",{class:"btn btn-info mt-3",href:"/tracks/edit/new"},Object(n.h)("i",{class:"fas fa-map-marked"})," ",Object(n.h)(l.c,{id:"workouts.add-track"},"Legg til runde"))),Object(n.h)("div",{class:"text-center mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-running"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"workouts.no-workouts"},"Ingen treningsturer er registrert ennå."))),Object(n.h)("p",{class:"text-center"},Object(n.h)("p",null,Object(n.h)(l.c,{id:"workouts.no-workouts-1"},"Tracking i appen er ikke helt klart ennå pga noen tekniske begrensninger i Apple iOS.")),Object(n.h)("p",null,Object(n.h)(l.c,{id:"workouts.no-workouts-2"},"Når jeg får tak i en Android telefon skal jeg får satt opp denne funksjonen slik at den kan brukes der."))),Object(n.h)("p",{class:"text-center"},Object(n.h)(l.c,{id:"workouts.no-workouts-3"},"Kart over ruten du har kjørt legges inn som GPX under runder.")),Object(n.h)(l.c,{id:"workouts.no-workouts-howto"},"Slik kommer du i gang"),":",Object(n.h)("ol",null,Object(n.h)("li",null,Object(n.h)(l.c,{id:"workouts.no-workouts-howto-1"},'Trykk på knappen "Legg til treningstur" oppe til høyre.')))),Object(n.h)(b.a,{data:P,wrapperClassNames:"row pb-4",contentClassNames:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${x?"black":"white"} shadow-sm`,renderContent:this.renderContent,dataFields:y,dataValues:{type:"11"},handleIntersection:i,sessionid:o})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-center"},Object(n.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 1.5em;",onClick:this.loadMore},Object(n.h)("i",{class:"fas fa-download"})," Load ",25," more..."))))}})||o;t.a=j}).call(this,s("hosL").Fragment)},"fZV/":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s("0942"),i=s("7L9N"),o=s("mK0O"),n=(s("ivZ3"),function(e){function t(t){var s;return s=e.call(this,t)||this,Object(o.a)(Object(a.a)(s),"leafletElement",void 0),s.leafletElement=s.createLeafletElement(s.props),s}Object(i.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(){throw new Error("createLeafletElement() must be implemented")},s.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)},s.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},s.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},s.componentWillUnmount=function(){this.leafletElement.remove()},s.render=function(){return null},t}(s("l8WD").Component))},ffMB:function(e,t,s){const{defaults:a}=s("bixo"),{cleanUrl:i,escape:o}=s("AkNA");e.exports=class{constructor(e){this.options=e||a}code(e,t,s){const a=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,a);null!=t&&t!==e&&(s=!0,e=t)}return a?'<pre><code class="'+this.options.langPrefix+o(a,!0)+'">'+(s?e:o(e,!0))+"</code></pre>\n":"<pre><code>"+(s?e:o(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,s,a){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+a.slug(s)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,s){const a=t?"ol":"ul";return"<"+a+(t&&1!==s?' start="'+s+'"':"")+">\n"+e+"</"+a+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const s=t.header?"th":"td";return(t.align?"<"+s+' align="'+t.align+'">':"<"+s+">")+e+"</"+s+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,s){if(null===(e=i(this.options.sanitize,this.options.baseUrl,e)))return s;let a='<a href="'+o(e)+'"';return t&&(a+=' title="'+t+'"'),a+=">"+s+"</a>",a}image(e,t,s){if(null===(e=i(this.options.sanitize,this.options.baseUrl,e)))return s;let a='<img src="'+e+'" alt="'+s+'"';return t&&(a+=' title="'+t+'"'),a+=this.options.xhtml?"/>":">",a}text(e){return e}}},fh8t:function(e,t,s){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const i=s("hosL"),o=s("RlRQ").default,n=s("WNjl");e.exports=function(e,t){const s=(t=t||{}).h||i.h;let r;if("string"==typeof e)r=e,e={};else{if(!e||"string"!=typeof e.markdown)throw new Error("Invalid arguments. Markdown requires either a `<String>` or object: `{markdown: <String>}`");r=e.markdown}const l=e.markupOpts||t.markupOpts||{};return s(o,a({markup:n(r,e.markdownOpts||t.markdownOpts||{}),trim:!1,type:"html"},l))}},foAh:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("go65"),d=s("axqC"),h=s("ZOvn");const u=h.a.marginTop(!1),p=h.a.marginBottom(),m={isLoading:!1,limit:25,offset:0,search:""};let b=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.searchForUsers=()=>{const{search:e,limit:t}=this.state;this.setState({offset:0}),this.loadUsers({search:e,limit:t})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m)}async loadUsers({limit:e,offset:t,search:s}){this.setState({isLoading:!0});const{messageStore:a}=this.props.stores;await a.loadUsers({limit:e,offset:t,search:s}),this.setState({isLoading:!1})}componentDidMount(){this.loadUsers({})}render(){const{search:t}=this.state,{messageStore:s}=this.props.stores,{users:a}=s;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${p}; margin-top: ${u};`},Object(n.h)("div",{class:"row fixed-top bg-light",style:`margin-top: ${u};`},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mx-2"},Object(n.h)("a",{href:"/inbox",class:"float-left mr-3",style:"font-size: 2.8em; line-height: 1.0em;"},Object(n.h)("i",{class:"fas fa-angle-left"})),Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall pt-0",style:"border-width: 3px !important;"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},Object(n.h)("i",{class:"fas fa-user"}))),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("strong",null,"New message")))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap"},Object(n.h)("div",{class:"flex-grow-1"},Object(n.h)("label",{class:"sr-only",for:"inboxSearch"},Object(n.h)(l.c,{id:"inbox.search"},"Search")),Object(n.h)(l.b,null,Object(n.h)("input",{type:"text",class:"form-control mb-2",id:"inboxSearch",onInput:Object(c.a)(this,"search"),value:t}))),Object(n.h)("div",{class:"ml-1"},Object(n.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.searchForUsers},Object(n.h)(l.c,{id:"inbox.search-button"},"Search")))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"inbox.new-message-suggested"},"Suggested")))),Object(n.h)("div",{class:"row"},a&&a.map(t=>Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)(d.a,{stores:this.props.stores,user:t,showDot:!0}))))))}})||o;t.a=b}).call(this,s("hosL").Fragment)},"fs+r":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("u28A");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh";switch(t){case"kmh":return e*a.timeConversion.h*a.distanceConversion.km;case"mph":return e*a.timeConversion.h*a.distanceConversion.mi;default:return e}}},fyMK:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let c=Object(r.d)(()=>({week:Object(i.h)(r.c,{id:"workout.graph.week"}),distance:Object(i.h)(r.c,{id:"workout.graph.distance"}),ascend:Object(i.h)(r.c,{id:"workout.graph.ascend"}),plan:Object(i.h)(r.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends i.Component{render(){const{fieldsLeft:t=[],legendLeft:s=[],fieldsRight:a=[],legendRight:n=[],showDebug:r,xTicksVal:c=(e=>o.a.isoDate(e,!1,!1,!0)),xTicksCnt:d=5,yTicksLeftVal:h=(e=>e),yTicksRightVal:u=(e=>e)}=this.props,{adStore:p}=this.props.stores,m=t.map(e=>o.a.getNestedValue(p,e)||[]),b=a.map(e=>o.a.getNestedValue(p,e)||[]),f=m&&m[0]?m[0]:[],g=[];if(f.length){const e=Math.ceil(f.length/(d-1)),t=Math.floor(f.length/e);r&&console.log({firstData:f,parts:t,partSize:e});for(let t=0,s=f.length;t<s;t+=e)g.push(f[t].epoch);g.push(f[f.length-1].epoch)}return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:1500,height:400,showXTicks:1,xTicksVal:c,xTicks:g,paddingTop:50,lineFromXzero:!1,lineFromXmax:!1,dataLeft:m,legendLeft:s,showYTicksLeft:1,yTicksLeftVal:h,avgWindowLeft:[2,2,2,2,2,2,2,2,2,2,2,2],smoothLeft:[1,1,1,1,1,1,1,1,1,1],dataRight:b,legendRight:n,showYTicksRight:b.length>0?1:0,yTicksRightVal:u,avgWindowRight:[2,2,2,2,2,2,2,2,2,2,2,2],smoothRight:[1,1,1,1,1,1,1,1,1,1],legendFontSize:"18px",legendLineHeight:18,ticksFontSize:"15px",scrollToRight:!0})))}})||a)||a;t.a=c}).call(this,s("hosL").Fragment)},gLRN:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("OhSV"),h=s("go65"),u=s("4uYi"),p=s("JiIx"),m=s("Uh5K"),b=s("gu6k"),f=s("m4Et"),g=s("3BzR"),O=s("+Sdk"),v=s("+TRv"),y=s("/pNR"),j=s("AnAW"),w=s("zVFP"),k=s("CMu3"),x=s("HEJd"),S=s("qrn0"),_=s("w+AZ"),T=s("Gx/q"),D=s("ZOvn");const I=D.a.marginTop(!1),P=D.a.marginBottom(),L=(D.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"simulate",jwtToken:l.a.getJwtToken()});let C=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.loadStats=async function(){const{submenu:e}=t.state;if(["ads","applications","notifications","simulate","heatmap","userInvites","graphql","errors","dev","jwtToken","demographics"].indexOf(e)>-1)return!1;t.setState({isLoading:!0});const{adminStore:s}=t.props.stores;switch(e){case"weeklyAvg":await s.getStatsAvg();break;case"weeklyTotal":await s.getStatsTotal();break;case"pageviews":case"veterinary":case"competition":break;case"main":await s.getStats({limit:1});break;default:await s.getStats({})}t.setState({isLoading:!1})},this.loadAdminHistory=async function(){const{adminStore:e}=t.props.stores,{submenu:s}=t.state;["simulate"].indexOf(s)>-1&&await e.getAdminHistory()},this.simulateUser=()=>{const{email:e}=this.state,{userStore:t}=this.props.stores;t.getSimulateUser(e)},this.simulateUserByClick=e=>{const t=e.target.closest("div").dataset.email,{userStore:s}=this.props.stores;s.getSimulateUser(t)},this.setQuery=e=>{const{notification:t={}}=this.state;t.query=e.target.innerText,t.url=e.target.dataset.url,this.setState({notification:t})},this.setWorkoutQuery=e=>{const{notification:t={}}=this.state;t.workoutQuery=e.target.innerText,t.url=e.target.dataset.url,this.setState({notification:t})},this.sendNotification=()=>{const{adminStore:e}=this.props.stores,{notification:t}=this.state;e.sendNotification(i({},t))},this.fixGpxInfo=()=>{console.log("fixGpxInfo");const{adminStore:e}=this.props.stores;e.getFixWorkoutGpxInfo()},this.search=async function(){const{userStore:e}=t.props.stores,{searchText:s}=t.state;await e.searchUsers({search:s,showAll:1})},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu},()=>{this.loadAll()})},this.state=i({},L)}async loadAll(){this.setState({isLoading:!0}),await this.loadStats(),await this.loadAdminHistory(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}componentWillUnmount(){const{adminStore:e}=this.props.stores;e.cleanupMemory()}render(){const{appState:t,adminStore:s,userStore:a}=this.props.stores,{notification:o={},submenu:n,jwtToken:c}=this.state,{isAdmin:D,user:L,searchUsersResult:C}=a,{stats:A,adminHistory:E}=s,F=A[0]||{};return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${P}; margin-top: ${I};`},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(r.h)("div",{class:"row"},["main","demographics","weeklyAvg","weeklyTotal","accTotals","accAverages","notification","simulate","ads","applications","competition","pageviews","veterinary","heatmap","userInvites","graphql","errors","dev","jwtToken"].map(e=>Object(r.h)("div",{class:"col px-1 pt-2"},Object(r.h)("button",{class:`btn btn-block ${n===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":e,onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-running"})," ",e)))))),Object(r.h)("div",{class:"row border-bottom"},"ads"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(f.a,{stores:this.props.stores})),"demographics"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(_.a,{stores:this.props.stores})),"applications"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(g.a,{stores:this.props.stores})),"userInvites"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(O.a,{stores:this.props.stores})),"heatmap"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(v.a,{stores:this.props.stores})),"pageviews"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(y.a,{stores:this.props.stores})),"veterinary"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(S.a,{stores:this.props.stores})),"competition"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(j.a,{stores:this.props.stores})),"errors"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(w.a,{stores:this.props.stores})),"dev"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(k.a,{stores:this.props.stores})),"jwtToken"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(x.a,{stores:this.props.stores})),"graphql"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)("a",{href:"http://localhost:8888/api/graphql?token="+c,native:!0,target:"_blank",rel:"noreferrer"},"GraphQL")),"notification"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)("h5",null,"Send notification"),Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputLanguage"}," Language"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"Lang")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputLanguage",placeholder:"Notification language: en, no",onInput:Object(h.a)(this,"notification.language"),value:o.language}))),Object(r.h)("div",{class:"col-12 mt-2 mb-4"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputLanguage"},"User Query"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"User Query")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputLanguage",placeholder:'Mongodb user query: { "id": 2 }',onInput:Object(h.a)(this,"notification.query"),value:o.query})),Object(r.h)("div",{class:"text-muted"},Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "garmin.access.oauth_token": { "$exists": true } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "strava.access_token": { "$exists": true } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users/edit"},'{ "username": { "$eq": "" } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users/edit"},'{ "firstname": { "$eq": "" } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "images": { "$exists": false } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "termsAndCondition": { "$eq": "" } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "settings.summaryEmails": { "$exists": false } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "settings.infoEmails": { "$exists": false } }')),Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setQuery,"data-url":"/users"},'{ "settings.partnerEmails": { "$exists": false } }')))),Object(r.h)("div",{class:"col-12 mt-2 mb-4"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputLanguage"},"Workout Query"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"Workout Query")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputLanguage",placeholder:'Mongodb query: { "id": 2 }',onInput:Object(h.a)(this,"notification.workoutQuery"),value:o.workoutQuery})),Object(r.h)("div",{class:"text-muted"},Object(r.h)("div",null,Object(r.h)("code",{onClick:this.setWorkoutQuery},'{ "username": { "$eq": "" } }')))),Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputMessage"}," Message"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"M")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputMessage",placeholder:"Notification message",onInput:Object(h.a)(this,"notification.message"),value:o.message}))),Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputTitle"}," Title"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"T")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputTitle",placeholder:"Notification title",onInput:Object(h.a)(this,"notification.title"),value:o.title}))),Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputUrl"}," URL"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"URL")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputUrl",placeholder:"/news/123",onInput:Object(h.a)(this,"notification.url"),value:o.url}))),Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputUrlList"}," URL List"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"URL List")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputUrlList",placeholder:"/news/",onInput:Object(h.a)(this,"notification.urlList"),value:o.urlList}))),Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputUrlList"}," Do send"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"Do send")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputUrlList",placeholder:"",onInput:Object(h.a)(this,"notification.doSend"),value:o.doSend}))),Object(r.h)("div",{class:"col-12"},Object(r.h)("button",{type:"button",class:"btn btn-primary mb-2",onclick:this.sendNotification},"Send notification"))),Object(r.h)("h5",null,"Preview"),Object(r.h)(u.a,{notification:i(i({},o),{},{addedBy:i({},L)})})),"weeklyTotal"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(p.a,{stores:this.props.stores,submenu:n})),"weeklyAvg"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(m.a,{stores:this.props.stores,submenu:n})),Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)(b.a,{stores:this.props.stores,submenu:n})),"main"===n&&Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)("table",{class:"table table-striped"},Object(r.h)("tbody",null,Object(r.h)("tr",null,Object(r.h)("th",null,"createdDate"),Object(r.h)("td",null,l.a.isoDate(F.createdDate))),Object(r.h)("tr",null,Object(r.h)("th",null,"dogs"),Object(r.h)("td",null,F.dogs)),Object(r.h)("tr",null,Object(r.h)("th",null,"notifications"),Object(r.h)("td",null,F.notifications)),Object(r.h)("tr",null,Object(r.h)("th",null,"messages"),Object(r.h)("td",null,F.messages)),Object(r.h)("tr",null,Object(r.h)("th",null,"teams"),Object(r.h)("td",null,F.teams)),F.teamTypesCounts&&Object.keys(F.teamTypesCounts).map(e=>Object(r.h)("tr",null,Object(r.h)("th",{class:"pl-5"},"teams by type: ",e),Object(r.h)("td",null,F.teamTypesCounts[e]))),F.teamAmbitionsCounts&&Object.keys(F.teamAmbitionsCounts).map(e=>Object(r.h)("tr",null,Object(r.h)("th",{class:"pl-5"},"teamsby ambition: ",e),Object(r.h)("td",null,F.teamAmbitionsCounts[e]))),Object(r.h)("tr",null,Object(r.h)("th",null,"workoutPlans"),Object(r.h)("td",null,F.workoutPlans)),Object(r.h)("tr",null,Object(r.h)("th",null,"totalDistance"),Object(r.h)("td",null,l.a.format(F.totalDistance)," km",Object(r.h)("br",null),l.a.format(F.totalDistance/40075,2)," ",Object(r.h)("span",{class:"text-muted"},"times around the world"),Object(r.h)("br",null),l.a.format(F.totalDistance/4509,2)," ",Object(r.h)("span",{class:"text-muted"},"times accross USA"),Object(r.h)("br",null),l.a.format(F.totalDistance/4700,2)," ",Object(r.h)("span",{class:"text-muted"},"times accross Europe"),Object(r.h)("br",null),l.a.format(F.totalDistance/1729,1)," ",Object(r.h)("span",{class:"text-muted"},"times from Oslo to Alta"),Object(r.h)("br",null),l.a.format(F.totalDistance/384400,3)," ",Object(r.h)("span",{class:"text-muted"},"times to the moon"),Object(r.h)("br",null),l.a.format(F.totalDistance/400,1)," ",Object(r.h)("span",{class:"text-muted"},"recharges (400 km range)"),Object(r.h)("br",null))),Object(r.h)("tr",null,Object(r.h)("th",null,"totalElevation"),Object(r.h)("td",null,l.a.format(F.totalElevation)," m",Object(r.h)("br",null),l.a.format(F.totalElevation/8848,1)," ",Object(r.h)("span",{class:"text-muted"},"times to the top of Mount Everest"),Object(r.h)("br",null))),Object(r.h)("tr",null,Object(r.h)("th",null,"totalDuration"),Object(r.h)("td",null,l.a.secToHms(F.totalDuration),Object(r.h)("br",null),Math.floor(F.totalDuration/86400)," days,  ",Math.floor(F.totalDuration%86400/3600)," hours")),Object(r.h)("tr",null,Object(r.h)("th",null,"tracks"),Object(r.h)("td",null,F.tracks)),Object(r.h)("tr",null,Object(r.h)("th",null,"users"),Object(r.h)("td",null,F.users)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersGarmin"),Object(r.h)("td",null,F.usersGarmin)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersStrava"),Object(r.h)("td",null,F.usersStrava)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersProminentDisclosure"),Object(r.h)("td",null,F.usersProminentDisclosure)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersVeterinaryAllowed"),Object(r.h)("td",null,F.usersVeterinaryAllowed)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersInboxEmails"),Object(r.h)("td",null,F.usersInboxEmails)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersImperial"),Object(r.h)("td",null,F.usersImperial)),Object(r.h)("tr",null,Object(r.h)("th",null,"usersDarkmode"),Object(r.h)("td",null,F.usersDarkmode)),Object(r.h)("tr",null,Object(r.h)("th",null,"workouts"),Object(r.h)("td",null,F.workouts)),Object(r.h)("tr",null,Object(r.h)("th",null,"avgDistance"),Object(r.h)("td",null,l.a.format(F.avgDistance,1)," km")),Object(r.h)("tr",null,Object(r.h)("th",null,"avgDogs"),Object(r.h)("td",null,l.a.format(F.avgDogs,1))),Object(r.h)("tr",null,Object(r.h)("th",null,"avgDuration"),Object(r.h)("td",null,l.a.secToHms(F.avgDuration))),Object(r.h)("tr",null,Object(r.h)("th",null,"avgSpeed"),Object(r.h)("td",null,l.a.format(F.avgSpeed,1)," km/t")),Object(r.h)("tr",null,Object(r.h)("th",null,"avgElevation"),Object(r.h)("td",null,l.a.format(F.avgElevation,1)," m")),Object(r.h)("tr",null,Object(r.h)("th",null,"avgTemperature"),Object(r.h)("td",null,l.a.format(F.avgTemperature,1)," C")),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryAnimalchiropractor"),Object(r.h)("td",null,F.dogsHistoryAnimalchiropractor)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryBodyScore"),Object(r.h)("td",null,F.dogsHistoryBodyScore)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryClawClip"),Object(r.h)("td",null,F.dogsHistoryClawClip)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryDeworming"),Object(r.h)("td",null,F.dogsHistoryDeworming)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryDiarrhea"),Object(r.h)("td",null,F.dogsHistoryDiarrhea)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryFight"),Object(r.h)("td",null,F.dogsHistoryFight)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryFoodLeftover"),Object(r.h)("td",null,F.dogsHistoryFoodLeftover)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryInjury"),Object(r.h)("td",null,F.dogsHistoryInjury)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryMassage"),Object(r.h)("td",null,F.dogsHistoryMassage)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryMating"),Object(r.h)("td",null,F.dogsHistoryMating)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryMaturity"),Object(r.h)("td",null,F.dogsHistoryMaturity)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryNewStraw"),Object(r.h)("td",null,F.dogsHistoryNewStraw)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryOther"),Object(r.h)("td",null,F.dogsHistoryOther)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistorySick"),Object(r.h)("td",null,F.dogsHistorySick)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryStoolProblem"),Object(r.h)("td",null,F.dogsHistoryStoolProblem)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryUnwantedMating"),Object(r.h)("td",null,F.dogsHistoryUnwantedMating)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryUpdate"),Object(r.h)("td",null,F.dogsHistoryUpdate)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryVaccine"),Object(r.h)("td",null,F.dogsHistoryVaccine)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryVeterinarianVisit"),Object(r.h)("td",null,F.dogsHistoryVeterinarianVisit)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryWeek"),Object(r.h)("td",null,F.dogsHistoryWeek)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryWeight"),Object(r.h)("td",null,F.dogsHistoryWeight)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsHistoryYear"),Object(r.h)("td",null,F.dogsHistoryYear)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsInjured"),Object(r.h)("td",null,F.dogsInjured)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsMaturity"),Object(r.h)("td",null,F.dogsMaturity)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsMedication"),Object(r.h)("td",null,F.dogsMedication)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsNoBreeding"),Object(r.h)("td",null,F.dogsNoBreeding)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsPregnant"),Object(r.h)("td",null,F.dogsPregnant)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsPuppy"),Object(r.h)("td",null,F.dogsPuppy)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsRelocation"),Object(r.h)("td",null,F.dogsRelocation)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsRetired"),Object(r.h)("td",null,F.dogsRetired)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsSick"),Object(r.h)("td",null,F.dogsSick)),Object(r.h)("tr",null,Object(r.h)("th",null,"dogsSterilized"),Object(r.h)("td",null,F.dogsSterilized)))))),Object(r.h)("div",{class:"row"},"simulate"===n&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 mb-4"},Object(r.h)("h5",null,Object(r.h)(d.c,{id:"users.connect.title"},"Finn dine venner")),Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-auto w-75"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(r.h)(d.c,{id:"users.connect.search"},"Søk")),Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(r.h)(d.c,{id:"users.connect.search-placeholder"},"Søk etter venner og bekjente"),onInput:Object(h.a)(this,"searchText")}))),Object(r.h)("div",{class:"col-auto"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.search},Object(r.h)(d.c,{id:"users.connect.doSearch"},"Søk"))))),Object(r.h)("div",{class:"col-12 mt-3"},C&&C.map(e=>Object(r.h)(T.a,{stores:this.props.stores,user:e}))),Object(r.h)("div",{class:"col-12 mt-3"},Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-auto"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInputGroup"},"Email"),Object(r.h)("div",{class:"input-group mb-2"},Object(r.h)("div",{class:"input-group-prepend"},Object(r.h)("div",{class:"input-group-text"},"@")),Object(r.h)("input",{type:"text",class:"form-control",id:"inlineFormInputGroup",placeholder:"Email",onInput:Object(h.a)(this,"email")}))),Object(r.h)("div",{class:"col-auto"},Object(r.h)("button",{type:"button",class:"btn btn-primary mb-2",onclick:this.simulateUser},"Simulate user"))),E&&E.map(e=>Object(r.h)("div",{class:"pointerCursor","data-email":e.email,onClick:this.simulateUserByClick},Object(r.h)("span",{class:"font-weight-lighter"},l.a.isoDate(e.date))," - ",e.title,": ",e.email," ",Object(r.h)("span",{class:"text-muted"},"(",e.url," by user: ",e.user,")"))),Object(r.h)("br",null),"isAdmin: ",JSON.stringify(D),Object(r.h)("br",null),Object(r.h)("xmp",null,"user: ",JSON.stringify(L,null,4))))))}})||n;t.a=C}).call(this,s("hosL").Fragment)},gOLw:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("X9Km"),s("NMoA")),d=s("VKmm"),h=s("rWES"),u=s("epqT"),p=s("yHBq"),m=s("q/oJ"),b=s("gWxU"),f=s("ZOvn");const g={loading:!1,limit:10,offset:0,idxConfirm:0,idxSuggestion:1,idxAd:5,sessionid:(new Date).getTime()},O=["id","type","user","team","title"];let v=Object(l.a)(o=class extends n.Component{constructor(t){super(t),this.insertTopRanked=()=>{const{storyStore:e}=this.props.stores,{publicFeed:t,topRankedStories:s}=e,a=r.a.shuffleArray(s),i=[...t];let o=0;const n=new Date;i.forEach((e,t)=>{const s=r.a.parseInputDate(e.date);Math.floor((n.getTime()-s.getTime())/1e3)<86400&&(o=t+1)});const l=i.length;if(l>o+3){for(let e=0,t=3;e<t;e+=1){const t=f.a.randomInt(o,l);r.a.isObject(a[e])&&i.splice(t,0,a[e])}e.localUpdateField("publicFeed",i)}},this.insertAds=()=>{const{idxAd:e}=this.state,{storyStore:t}=this.props.stores,{publicFeed:s}=t,a=[...s];a.splice(e,0,{type:"ad",wrapperClassNames:"row",contentClassNames:"col-12"}),t.localUpdateField("publicFeed",a)},this.insertTeamConfirm=()=>{const{idxConfirm:e}=this.state,{storyStore:t}=this.props.stores,{publicFeed:s}=t,a=[...s];a.splice(e,0,{type:"teamConfirm",wrapperClassNames:"row",contentClassNames:"col-12"}),t.localUpdateField("publicFeed",a)},this.insertTeamSuggestions=()=>{const{idxSuggestion:e}=this.state,{storyStore:t}=this.props.stores,{publicFeed:s}=t,a=[...s];a.splice(e,0,{type:"teamSuggestions",wrapperClassNames:"row",contentClassNames:"col-12"}),t.localUpdateField("publicFeed",a)},this.setLoadMore=()=>{const{storyStore:e}=this.props.stores;e.setLoadMore(()=>{let{limit:e,offset:t}=this.state;t+=e,this.setState({offset:t}),this.loadStoriesPublicFeed({limit:e,offset:t})})},this.unsetLoadMore=()=>{const{storyStore:e}=this.props.stores;e.setLoadMore(()=>{})},this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.setupIntersection=()=>{this.setState({handleIntersection:f.a.intersectionObserverCallback});const{storyStore:e}=this.props.stores;this.scrollViewTimer=setInterval(()=>e.postScrollview(f.a.getIntersectionObserverHistory()),3e4)},this.renderContent=({obj:t})=>{const{appState:s}=this.props.stores,{path:a}=s,{hashtag:i}=this.props;return"ad"===t.type?Object(n.h)(e,null,Object(n.h)(u.a,{stores:this.props.stores,path:a})):"teamConfirm"===t.type?Object(n.h)(e,null,Object(n.h)(h.a,{stores:this.props.stores})):"teamSuggestions"===t.type?Object(n.h)(e,null,Object(n.h)(d.a,{stores:this.props.stores})):Object(n.h)(e,null,Object(n.h)(c.a,{stores:this.props.stores,story:t,hashtag:i,key:"story-detail-"+t.id,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g),this.inputRef={},this.ref={}}async loadStoriesPublicFeed({props:e=this.props,limit:t,offset:s}){const{hashtag:a,teamid:i}=e,{storyStore:o}=e.stores;await o.loadPublicFeed({hashtag:a,teamid:i,limit:t,offset:s,sort:void 0}),s||(this.insertTopRanked(),this.insertTeamConfirm())}componentWillMount(){this.setupIntersection()}componentDidMount(){const{limit:e}=this.state;this.loadStoriesPublicFeed({limit:e,offset:0}),this.setLoadMore()}componentWillUnmount(){this.unsetLoadMore();const{storyStore:e}=this.props.stores;e.postScrollview(f.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),e.cleanupMemory()}componentWillReceiveProps(e){if(e.hashtag!==this.props.hashtag||e.path!==this.props.path){const{limit:t}=this.state;this.loadStoriesPublicFeed({props:e,limit:t,offset:0})}}render(){const{loading:t,handleIntersection:s,sessionid:a,showTeam:i}=this.state,{storyStore:o,appState:r}=this.props.stores,{publicFeed:l}=o,{darkmode:c}=r;return Object(n.h)(e,null,i&&Object(n.h)(m.a,null,Object(n.h)(b.a,{stores:this.props.stores,teamid:i,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam})),Object(n.h)("div",{class:"w-100"},Object(n.h)(p.a,{data:l,wrapperClassNames:"row pb-4",contentClassNames:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${c?"black":"white"} shadow-sm`,renderContent:this.renderContent,dataFields:O,handleIntersection:s,sessionid:a}),t&&Object(n.h)("div",{class:"d-flex justify-content-center"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading...")))))}})||o;t.a=v}).call(this,s("hosL").Fragment)},gWxU:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("Y3FI"),s("OhSV")),d=s("fh8t"),h=s.n(d),u=(s("X9Km"),s("ZOvn")),p=s("NDEG"),m=s("s4FZ"),b=(s("jtG4"),s("eQ6k")),f=s("q/oJ"),g=s("Nanz"),O=s("1/9N");const v=u.a.marginTop(!1),y=u.a.marginTopBack(!1),j=u.a.marginBottom(),w={newTeam:{}};let k=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.onDogClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},w),this.updateTimer={},this.time=(new Date).getTime(),this.apiServer=r.a.getApiServer()}async loadPublicView(e){this.setState({isLoading:!0});const{teamid:t}=e,{teamStore:s}=this.props.stores;await s.getPublicViews(t),this.setState({isLoading:!1})}async loadAll(e=this.props){await this.loadPublicTeam(e),await this.loadPublicView(e)}async loadPublicTeam(e=this.props){const{teamStore:t}=e.stores,{teamid:s}=e;await t.loadPublicDetail({id:s})}componentDidMount(){const{back:e=this.back}=this.props,{appState:t}=this.props.stores;t.setSwipeRight(()=>{t.setSwipeRight(),e()}),this.loadAll()}componentWillReceiveProps(e){e.teamid!==this.props.teamid&&this.loadAll(e)}render(){const{showDog:t}=this.state,{teamStore:s,userStore:a}=this.props.stores,{user:i,isAdmin:o}=a,{language:l="en"}=i,{publicTeam:d,publicViewsGraphData:w}=s,k=!(!d||!d.members)&&d.members.some(e=>e.id===i.id),{marginTop:x,marginBottom:S,back:_=this.back,hideTeam:T=(()=>{})}=this.props,{dogs:D=[],users:I=[],image:P,imageHeader:L,publicTrophys:C,publicMemories:A,publicDogs:E}=d,F=L&&L.s3XXLargeLink?L:{s3XXLargeLink:"./assets/homerun-race-logo.png"},M=P&&P.s3LargeLink?P:null,R=a.findTeamAmbition({ambition:d.ambitions,language:l}),z=a.findTeamType({type:d.type,language:l}),U=d.members&&d.members.findIndex(e=>e.id===i.id)>-1,N=d&&d.followers&&d.followers.indexOf(i.id)>-1,$=d.followRequests&&d.followRequests.findIndex(e=>e.id===i.id)>-1;return Object(n.h)(e,null,t&&Object(n.h)(f.a,null,Object(n.h)(g.a,{stores:this.props.stores,dogid:t,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:D})),Object(n.h)("div",{class:"container-fluid pb-5",style:`margin-bottom: ${S||j}; margin-top: ${x||v};`},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${y}; left: 5px; font-size: 35px; width: 45px;`,onClick:_},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row mb-0"},Object(n.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(F?`background-image: url("${F.s3XXLargeLink}");`:"")},U&&Object(n.h)(e,null,Object(n.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+d.id},Object(n.h)("i",{class:"fas fa-edit"})," ",Object(n.h)(c.c,{id:"teams.edit"},"Endre")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(n.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(M?`background-image: url("${M.s3LargeLink}"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;`:"")},!M&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(n.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"my-0"},d.name),Object(n.h)("small",{class:"text-muted"},d.place?d.place+", ":"",d.country),Object(n.h)("br",null),z&&Object(n.h)("span",{class:"badge badge-pill badge-secondary mt-2"},z),R&&Object(n.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},R),Object(n.h)("h6",{class:"mt-2"},Object(n.h)("span",{class:"mr-3"},Object(n.h)("span",{class:"font-weight-bolder"},d.followers?d.followers.length:0)," ",Object(n.h)(c.c,{id:"teams.followers"},"followers")),Object(n.h)("span",{class:"mr-3"},Object(n.h)("span",{class:"font-weight-bolder"},d.dogs?d.dogs.length:0)," ",Object(n.h)(c.c,{id:"teams.dogs-menu"},"dogs"))))))),Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!U&&!N&&!$&&d.public>0&&Object(n.h)("div",{class:"clearfix mb-2"},Object(n.h)(b.a,{stores:this.props.stores,team:d,buttonOnly:!0,skipHome:!0})))),Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"d-flex justify-content-center"},U&&!d.facebook&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fab fa-facebook"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),d.url&&Object(n.h)("div",{class:"mx-2"},Object(n.h)("h3",null,Object(n.h)("a",{href:u.a.asUrl(d.url),target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fas fa-link"})))),d.facebook&&Object(n.h)("div",{class:"mx-2"},Object(n.h)("h3",null,Object(n.h)("a",{href:u.a.asFacebookLink(d.facebook),target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-facebook"})))),d.instagram&&Object(n.h)("div",{class:"mx-2"},Object(n.h)("h3",null,Object(n.h)("a",{href:u.a.asInstagramLink(d.instagram),target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-instagram"})))),d.snapchat&&Object(n.h)("div",{class:"mx-2"},Object(n.h)("h3",null,Object(n.h)("a",{href:u.a.asSnapchatLink(d.snapchat),target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fab fa-snapchat"}))))),Object(n.h)("div",{class:"d-flex justify-content-center mt-3"},Object(n.h)("div",{class:"mx-2"},Object(n.h)("h3",null,Object(n.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+d.uuidv4},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(c.c,{id:"story.all-stories"},"Stories")))),Object(n.h)("div",{class:"mx-2"},Object(n.h)("h3",null,Object(n.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+d.uuidv4,onClick:T},Object(n.h)("i",{class:"fas fa-running"})," ",Object(n.h)(c.c,{id:"story.all-workouts"},"All workouts"))))))),d.imagesSponsor&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.public-sponsor-images",fields:{total:d.imagesSponsor.length}},"Sponsorer - ",d.imagesSponsor.length," stk"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(n.h)(m.a,{stores:this.props.stores,images:d.imagesSponsor}))),d.sponsors&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.sponsors"},"Sponsors"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},U&&!d.sponsors&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-pen-nib"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.add-sponsors"},"Gå inn på endring av teamet for å legge inn sponsorer.")))),Object(n.h)(h.a,{markdown:u.a.replaceImages(d.sponsors,d.imagesSponsor,l),markdownOpts:u.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.description"},"Beskrivelse"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},U&&!d.description&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-pen-nib"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(n.h)(h.a,{markdown:u.a.replaceImages(d.description,d.images,l),markdownOpts:u.a.getMarkdownOptions()}))),d.descriptionWorkoutplan&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},U&&!d.descriptionWorkoutplan&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-pen-nib"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"teams.add-description-workoutplan"},"Gå inn på endring av teamet for å legge inn en treningsplan.")))),Object(n.h)(h.a,{markdown:u.a.replaceImages(d.descriptionWorkoutplan,d.images,l),markdownOpts:u.a.getMarkdownOptions()}))),E&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.dogs",fields:{total:D.length}},"Hundene - ",D.length," stk"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"row"},D&&D.map(e=>Object(n.h)(p.a,{stores:this.props.stores,dog:e,showAge:!0,className:"col",onDogClick:this.onDogClick}))))),d.images&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.public-photos",fields:{total:d.images.length}},"Teambilder - ",d.images.length," stk"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(n.h)(m.a,{stores:this.props.stores,images:d.images}))),A&&d.achievements&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.achievements"},"Achievements"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},d.achievements&&d.achievements.map(e=>Object(n.h)("div",{class:"col-12"},e.date&&Object(n.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(e.date,!1,!1,!0)),Object(n.h)("span",{class:"mr-2 font-weight-bold"},e.name),Object(n.h)("span",{class:"mr-2 font-weight-light"},e.description),e.url&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("a",{href:u.a.asUrl(e.url),target:"_blank",rel:"noreferrer",native:!0},Object(n.h)("i",{class:"fas fa-link"})))))))),C&&d.trophys&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.trophy"},"Trophys"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},d.trophys&&d.trophys.reverse().map(e=>{const t=u.a.getTrophyImage(e.name);if(!t)return"";const s=e.descriptionHeader&&e.descriptionHeader[l]?e.descriptionHeader[l]:"",a=e.description&&e.description[l]?e.description[l]:"";return Object(n.h)("div",{class:"col-4 mt-3"},Object(n.h)("div",{class:"mb-2"},Object(n.h)("img",{src:t,class:"img-fluid"})),Object(n.h)("strong",null,s),Object(n.h)("small",null,Object(n.h)("details",null,Object(n.h)("summary",null,Object(n.h)(c.c,{id:"teams.trophy-details"},"Details")),Object(n.h)(h.a,{markdown:u.a.replaceImages(a,d.images,l),markdownOpts:u.a.getMarkdownOptions()}))))})))),Object(n.h)("div",{class:"row mt-5 mb-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-ellipsis-h"})),Object(n.h)("div",{style:"line-height: 0.9em;"},Object(n.h)("small",null,Object(n.h)(c.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(o||k)&&Object(n.h)(e,null,Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(c.c,{id:"teams.visits"},"Team page visits")),Object(n.h)(O.a,{stores:this.props.stores,dataLeft:w,legendLeft:["team"],key:"minigraph-team-"+d.uuidv4})),d.uuidv4&&Object(n.h)("img",{src:`${this.apiServer}/api/teams/${d.uuidv4}/view?user=${i.id}&time=${this.time}`,style:"width: 1; height: 1; opacity: 0.1;"})))}})||o;t.a=k}).call(this,s("hosL").Fragment)},gbHB:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("Y3FI"),l=s("go65"),c=s("OhSV"),d=s("tJLP"),h=s("Cjoz");let u=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.handleEmailInput=async function(e){const{userStore:s}=t.props.stores,a=e.target.value;t.setState({email:a}),clearTimeout(t.checkEmailTimer),t.checkEmailTimer=setTimeout(()=>s.checkEmail(a),1e3)},this.register=async function(){const{email:e,password:s}=t.state,{userStore:a,appState:i}=t.props.stores,{language:o="en"}=i,{skipPubSub:n}=t.props,{fingerprint:r,jwtToken:l}=i;await a.registerUser({email:e,password:s,fingerprint:r,jwtToken:l,skipPubSub:n,language:o}),await a.getInfo()},this.removeError=()=>{this.setState({error:"",errorIcon:""})},this.removeMessage=()=>{this.setState({message:"",messageIcon:""})},this.togglePassword=()=>{let{passwordType:e}=this.state;e="password"===e?"text":"password",this.setState({passwordType:e})},this.updateCapsLockStatus=e=>{this.setState({isCapsLock:e})},this.login=()=>{const{email:e=""}=this.state,{routeLogin:t="/"+e}=this.props;Object(r.route)(t,!0)},this.forgotten=()=>{const{email:e=""}=this.state,{routeLoginForgot:t="/forgotten/"+e}=this.props;Object(r.route)(t,!0)},this.changeLanguage=e=>{const t=e.target.value,{appState:s}=this.props.stores;s.setLanguage(t)},this.state={isCapsLock:!1,email:this.props.email,passwordType:"password",emailIsAvailable:!1}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout(()=>e.checkEmail(this.props.email),1e3))}render(){const{isCapsLock:t,email:s,password:a,passwordType:n}=this.state,{appState:r,userStore:u}=this.props.stores,{showLogo:p=!0}=this.props,{language:m="en"}=r,{emailIsAvailable:b,emailMessage:f,login:g}=u,{message:O,messageIcon:v,error:y,errorIcon:j}=g,w=o.a.validateEmail(s),k=o.a.scorePassword(a),x=o.a.normalizeBetween(k,0,80,0,100,100),S=o.a.checkPassStrength(a,["bg-danger","bg-warning","bg-success","bg-success"]),_=x>30,T=w&&b&&_;return Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},p&&Object(i.h)(e,null,Object(i.h)("h1",{class:"mt-5"},Object(i.h)("i",{class:"fas fa-paw"})," The Musher")),Object(i.h)("h5",{class:"mt-1 mb-5"},Object(i.h)(c.c,{id:"register.new-user"},"Ny bruker")),Object(i.h)(d.a,{message:y,icon:j,remove:this.removeError}),Object(i.h)(h.a,{message:O,icon:v,remove:this.removeMessage}),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"emailInput"},Object(i.h)("i",{class:"far fa-envelope"})," ",Object(i.h)(c.c,{id:"register.email"},"E-post")),Object(i.h)("input",{type:"email",class:"form-control "+(s?w&&b?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:s,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),s&&w&&b&&Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},f),s&&!w&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(i.h)(c.c,{id:"register.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut.")),s&&w&&!b&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},f)),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"passwordInput"},Object(i.h)("i",{class:"fas fa-key"})," ",Object(i.h)(c.c,{id:"register.password"},"Passord")),Object(i.h)("div",{class:"input-group"},Object(i.h)("input",{type:n,class:"form-control "+(a?_?"is-valid":"is-invalid":""),id:"passwordInput",onInput:Object(l.a)(this,"password"),value:a,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)}}),Object(i.h)("div",{class:"input-group-append"},Object(i.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(i.h)("i",{class:"fas fa-eye"+("text"===n?"-slash":"")})))),Object(i.h)("div",{class:"progress",style:"height: 2px;"},Object(i.h)("div",{class:"progress-bar "+S,role:"progressbar",style:`width: ${x}%;`})),Object(i.h)("div",{class:"invalid-feedback",style:""+(x>0&&x<30?"display: block":"")},Object(i.h)(c.c,{id:"register.password-too-weak"},"Passordet ditt er for svakt. Forsøk et annet passord eller legg til flere bokstaver.")),Object(i.h)("div",{class:"valid-feedback text-warning",style:""+(x>=30&&x<70?"display: block":"")},Object(i.h)(c.c,{id:"register.password-weak"},"Passordet ditt er svakt, men vis skal gjøre vårt beste for å passe på deg.")),Object(i.h)("div",{class:"valid-feedback",style:""+(x>=70?"display: block":"")},Object(i.h)(c.c,{id:"register.password-ok"},"Passordet ditt ser bra ut."))),t&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(c.c,{id:"register.caps-lock-on"},"CAPS LOCK er på!")),Object(i.h)("button",{class:"btn "+(T?"btn-success":"btn-outline-success"),type:"button",onClick:this.register,disabled:!T},Object(i.h)("i",{class:"far fa-save mr-2"}),Object(i.h)(c.c,{id:"register.register"},"Registrer meg")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link",onClick:this.login},Object(i.h)(c.c,{id:"register.i-have-an-account"},"Jeg har visst konto likevel. Gå til login siden."))))))}})||a;t.a=u}).call(this,s("hosL").Fragment)},go65:function(e,t){"use strict";t.a=function(e,t,s){var a=t.split("."),i=e.__lsc||(e.__lsc={});return i[t+s]||(i[t+s]=function(t){for(var i=t&&t.target||this,o={},n=o,r="string"==typeof s?function(e,t,s,a){for(a=0,t=t.split?t.split("."):t;e&&a<t.length;)e=e[t[a++]];return void 0===e?s:e}(t,s):i.nodeName?i.type.match(/^che|rad/)?i.checked:i.value:t,l=0;l<a.length-1;l++)n=n[a[l]]||(n[a[l]]=!l&&e.state[a[l]]||{});n[a[l]]=r,e.setState(o)})}},goiT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("Wyvv"))&&a.__esModule?a:{default:a};t.default=function(e,t,s){return(0,i.default)(e,t)<s}},gs45:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("OhSV"),h=s("67HY"),u=s("gbHB"),p=s("B+py");const m={isLoading:!1,showSignup:!1};let b=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.signupToRace=async function(){const{raceStore:e,userStore:s}=t.props.stores,{user:a}=s,{newSignup:o}=e,{raceid:n}=t.props,r=i({team:a.team,firstname:a.firstname,lastname:a.lastname,sportsClub:a.sportsClub,email:a.email,cellphone:a.cellphone,facebook:a.facebook,instagram:a.instagram},o);await e.addContestant({id:n,classId:o.class,newContestant:r}),e.addSignup(r),t.toggleShowSignup(!1,!0)},this.updateSignup=e=>{const t=e.target.id,s=e.target.value,{raceStore:a}=this.props.stores;a.updateObjectKeyValue("newSignup",t,s)},this.editSignup=e=>{const{raceid:t}=this.props,{raceStore:s}=this.props.stores,a=e.target.id,i=e.target.value,{classid:o,contestantid:n}=e.target.dataset,r={raceClassId:o,contestantId:n,["raceClassContestant"+l.a.ucfirst(a)]:i};clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout((async function(){s.editClass({id:t,data:r})}),500)},this.toggleShowSignup=(e,t)=>{const{showSignup:s}=this.state;this.setState({showSignup:!t&&!s})},this.state=i({},m),this.inputRef={},this.updateTimer={}}render(){const{showSignup:t}=this.state,{appState:s,userStore:a,raceStore:i}=this.props.stores,{user:o={},teams:n=[]}=a,{language:c="en"}=s,{raceid:m,subsection:b}=this.props,{race:f,signups:g,newSignup:O}=i,v=new Date,y=g&&g.length>0,j=g.map(e=>parseInt(e.team,10))||[];return Object(r.h)(e,null,Object(r.h)("h2",{class:"mb-0"},Object(r.h)(d.c,{id:"races.signup"},"Påmelding")," ",Object(r.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"}," - ",f.title)),Object(r.h)("div",{class:"mb-4"},f.signupStartDate&&Object(r.h)(e,null,Object(r.h)(d.c,{id:"races.periode"},"Periode"),": ",l.a.formatDate(f.signupStartDate,{locale:c,hour12:!1,hour:"2-digit",minute:"2-digit"})),f.signupEndDate&&Object(r.h)(e,null," - ",l.a.formatDate(f.signupEndDate,{locale:c,hour12:!1,hour:"2-digit",minute:"2-digit"}))),v>=new Date(f.signupStartDate)&&v<=new Date(f.signupEndDate)?Object(r.h)(e,null,o.email?Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(d.c,{id:"races.signed-in-as"},"Logget inn som"),":")," ",o.email,Object(r.h)("br",null),Object(r.h)("br",null),y&&g.map(t=>{let s={};return t.class&&(s=i.getRaceClassById(t.class)),Object(r.h)("div",{class:"mb-5 p-3 bg-light border rounded-lg"},Object(r.h)("div",{class:"font-weight-bold mb-4"},Object(r.h)("i",{class:"fas fa-check text-success"})," ",Object(r.h)(d.c,{id:"races.signed-up"},"Din bruker er påmeldt!"),Object(r.h)("br",null)),f.signuppayment&&Object(r.h)(e,null,Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.signup"},"Påmelding")),Object(r.h)("div",{class:"col-10"},t.paidSignupfee?Object(r.h)("div",{class:"py-2"},Object(r.h)(d.c,{id:"races.paid"},"Betalt"),": ",l.a.formatDate(t.paidSignupfee),Object(r.h)("i",{class:"fas fa-check text-success ml-3"})):Object(r.h)(e,null,Object(r.h)("div",{class:"alert alert-danger mb-1",role:"alert"},Object(r.h)("h5",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(d.c,{id:"races.payment-info"},"Betaling påmelding"),":")," ",function(e="",t,s="en"){if(l.a.isString(e)){let a=e;const i=new RegExp(`<${s}>(.*?)</${s}>`,"s").exec(a);if(i){const e=i[1];e&&(a=e)}return a.replace(/\{\{img\.(\d+)\s*(\d*)\}\}/g,(function(e,s,a){return l.a.isObject(t[s])?`<img src=${t[s].s3XXLargeLink} class='img-fluid float-right' style='width: ${a||40}%;' />`:""}))}return e}(f.signuppayment,f.images,c),Object(r.h)("br",null),s.signupfee||f.signupfee," NOK")))))),Object(r.h)("div",{class:"clearfix mt-2"},Object(r.h)("span",{class:"font-weight-lighter float-right"},Object(r.h)(d.c,{id:"races.click-to-change"},"Klikk for å endre info i påmeldingen."))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.cellphone"},"Mobil")),Object(r.h)("div",{class:"col-10"},Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"cellphone","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.cellphone,placeholder:Object(r.h)(d.c,{id:"races.cellphone-help"},"Hva er mobilnummer ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"firstname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.firstname"},"Fornavn")),Object(r.h)("div",{class:"col-10"},Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"firstname","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.firstname,placeholder:Object(r.h)(d.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"lastname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.lastname"},"Etternavn")),Object(r.h)("div",{class:"col-10"},Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"lastname","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.lastname,placeholder:Object(r.h)(d.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"sportsClub",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.sportsclub"},"Klubb")),Object(r.h)("div",{class:"col-10"},Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"sportsClub","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.sportsClub,placeholder:Object(r.h)(d.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"facebook",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.facebook"},"Facebook")),Object(r.h)("div",{class:"col-10"},Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"facebook","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.facebook,placeholder:Object(r.h)(d.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"instagram",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.instagram"},"Instagram")),Object(r.h)("div",{class:"col-10"},Object(r.h)(d.b,null,Object(r.h)("input",{type:"text",class:"form-control-plaintext",id:"instagram","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.instagram,placeholder:Object(r.h)(d.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.team"},"Team")),Object(r.h)("div",{class:"col-10"},Object(r.h)("select",{class:"form-control-plaintext",id:"team","aria-describedby":"teamHelp","data-classid":t.class,"data-contestantid":t.id,onInput:this.editSignup,value:t.team},Object(r.h)("option",{value:""},"-- ",Object(r.h)(d.c,{id:"races.choose-team"},"Velg team")," --"),n.map(e=>Object(r.h)("option",{value:e.id,disabled:j.indexOf(e.id)>-1},e.name," ",j.indexOf(e.id)>-1&&e.id!==t.team?"(Already signed up!)":""))))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(d.c,{id:"races.class"},"Klasse")),Object(r.h)("div",{class:"col-10"},Object(r.h)("select",{class:"form-control-plaintext",id:"class","aria-describedby":"classHelp",onInput:this.editSignup,value:t.class,disabled:!0},Object(r.h)("option",{value:""},"-- ",Object(r.h)(d.c,{id:"races.choose-class"},"Velg klasse")," --"),f.classes&&f.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||f.signupfee," NOK")))))))}),y&&!t?Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm float-right btn-outline-info",onClick:this.toggleShowSignup},Object(r.h)(d.c,{id:"races.signup-another-team"},"Meld meg på i flere klasser"))):Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"cellphone"},Object(r.h)(d.c,{id:"races.cellphone"},"Mobil")),Object(r.h)("input",{type:"text",class:"form-control",id:"cellphone","aria-describedby":"cellphoneHelp",placeholder:o.cellphone,onInput:this.updateSignup,value:O.cellphone}),Object(r.h)("small",{id:"cellphoneHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.cellphone-help"},"'Hva er mobilnummer ditt?'"))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"firstname"},Object(r.h)(d.c,{id:"races.firstname"},"Fornavn")),Object(r.h)("input",{type:"text",class:"form-control",id:"firstname","aria-describedby":"firstnameHelp",placeholder:o.firstname,onInput:this.updateSignup,value:O.firstname}),Object(r.h)("small",{id:"firstnameHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")))),Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"lastname"},Object(r.h)(d.c,{id:"races.lastname"},"Etternavn")),Object(r.h)("input",{type:"text",class:"form-control",id:"lastname","aria-describedby":"lastnameHelp",placeholder:o.lastname,onInput:this.updateSignup,value:O.lastname}),Object(r.h)("small",{id:"lastnameHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?"))))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"sportsClub"},Object(r.h)(d.c,{id:"races.sportsclub"},"Klubb")),Object(r.h)("input",{type:"text",class:"form-control",id:"sportsClub","aria-describedby":"sportsClubHelp",placeholder:o.sportsClub,onInput:this.updateSignup,value:O.sportsClub}),Object(r.h)("small",{id:"sportsClubHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?"))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"facebook"},Object(r.h)(d.c,{id:"races.facebook"},"Facebook")),Object(r.h)("input",{type:"text",class:"form-control",id:"facebook","aria-describedby":"facebookHelp",placeholder:o.facebook,onInput:this.updateSignup,value:O.facebook}),Object(r.h)("small",{id:"facebookHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")))),Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"instagram"},Object(r.h)(d.c,{id:"races.instagram"},"Instagram")),Object(r.h)("input",{type:"text",class:"form-control",id:"instagram","aria-describedby":"instagramHelp",placeholder:o.instagram,onInput:this.updateSignup,value:O.instagram}),Object(r.h)("small",{id:"instagramHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?"))))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"team"},Object(r.h)(d.c,{id:"races.team"},"Team")),!n||0===n.length&&Object(r.h)(e,null,Object(r.h)("div",{class:"alert alert-danger",role:"alert"},Object(r.h)(d.c,{id:"races.no-teams"},"Du har ingen team i appen din ennå. Gå inn i appen for å registrer team og forsøk igjen."))),Object(r.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp",onInput:this.updateSignup,value:O.team},Object(r.h)("option",{value:""},"-- ",Object(r.h)(d.c,{id:"races.choose-team"},"Velg team")," --"),n.map(e=>Object(r.h)("option",{value:e.id,disabled:j.indexOf(e.id)>-1},e.name," ",j.indexOf(e.id)>-1?"(Already signed up!)":""))),Object(r.h)("small",{id:"teamHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.choose-team-help"},"Velg fra dine team"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"class"},Object(r.h)(d.c,{id:"races.class"},"Klasse")),Object(r.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.updateSignup,value:O.class},Object(r.h)("option",{value:""},"-- ",Object(r.h)(d.c,{id:"races.choose-class"},"Velg klasse")," --"),f.classes&&f.classes.map(t=>Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||f.signupfee," NOK")))),Object(r.h)("small",{id:"classHelp",class:"form-text text-muted"},Object(r.h)(d.c,{id:"races.choose-class-help"},"Velg ønsket klasse."))),Object(r.h)("div",{class:"form-group form-check"},Object(r.h)("input",{type:"checkbox",class:"form-check-input",id:"termsAndAgreement",onInput:this.updateSignup,checked:O.termsAndAgreement,value:!0}),Object(r.h)("label",{class:"form-check-label",for:"termsAndAgreement"},Object(r.h)(d.c,{id:"races.agreement-accept"},"Jeg har lest og godtar reglene for løpet."))),Object(r.h)("button",{type:"button",class:"btn btn-primary",onClick:this.signupToRace},Object(r.h)(d.c,{id:"races.do-signup"},"Meld meg på")),y&&Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.toggleShowSignup},Object(r.h)(d.c,{id:"races.hide-signup"},"Avbryt")))):Object(r.h)(e,null,!b&&Object(r.h)(h.a,{stores:this.props.stores,routeLoginOk:`/race/${m}/signup`,routeLoginNew:`/race/${m}/signup/newUser`,routeLoginForgot:`/race/${m}/signup/forgotPassword`}),"newUser"===b&&Object(r.h)(u.a,{stores:this.props.stores,routeLogin:`/race/${m}/signup`,routeLoginForgot:`/race/${m}/signup/forgotPassword`,skipPubSub:!0}),"forgotPassword"===b&&Object(r.h)(p.a,{stores:this.props.stores,routeLogin:`/race/${m}/signup`,routeLoginNew:`/race/${m}/signup/newUser`}))):Object(r.h)(e,null,v<new Date(f.signupStartDate)?Object(r.h)(e,null,Object(r.h)("h5",{class:"mt-4"},Object(r.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(r.h)(d.c,{id:"races.signup-not-open-yet"},"Påmeldingen har ikke åpnet ennå!")),Object(r.h)("p",{class:"mt-4"},Object(r.h)(d.c,{id:"races.signup-opening"},"Påmeldingen åpner"),":",Object(r.h)("br",null),Object(r.h)("span",{class:"display-4"},l.a.formatDate(f.signupStartDate,{locale:c,hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(r.h)(e,null,Object(r.h)("h5",{class:"mt-4 mb-4"},Object(r.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(r.h)(d.c,{id:"races.signup-closed"},"Påmeldingen er stengt!")))))}})||n;t.a=b}).call(this,s("hosL").Fragment)},gu6k:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=(s("ZOvn"),s("CLMH"));let r=Object(o.a)(a=class extends i.Component{render(){const{appState:t,adminStore:s,userStore:a}=this.props.stores,{submenu:o}=this.props,{notification:r={}}=this.state,{stats:l}=s;return"accTotals"===o?Object(i.h)(e,null,Object(i.h)("h5",null,"Dogs"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-dogs-"+l.length,fieldsLeft:["totalDogs"],legendLeft:["dogs"]}),Object(i.h)("h5",null,"Users & workoutPlans"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-users-"+l.length,fieldsLeft:["totalUsers","totalWorkoutPlans"],legendLeft:["users","totalWorkoutPlans"],fieldsRight:["totalUsersGarmin","totalUsersStrava"],legendRight:["Garmin","Strava"]}),Object(i.h)("h5",null,"Users & settings"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-users-settings-"+l.length,fieldsLeft:["totalUsersProminentDisclosure","totalUsersVeterinaryAllowed","totalUsersInboxEmails","totalUsersImperial","totalUsersDarkmode"],legendLeft:["prominentDisclosure","VeterinaryAllow","InboxEmails","Imperial","Darkmode"]}),Object(i.h)("h5",null,"User profiles"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-users-profile-"+l.length,fieldsLeft:["totalUsersCellphone","totalUsersUsername","totalUsersFirstname","totalUsersFacebook","totalUsersInstagram","totalUsersSnapchat","totalUsersUrl","totalUsersImages"],legendLeft:["totalUsersCellphone","totalUsersUsername","totalUsersFirstname","totalUsersFacebook","totalUsersInstagram","totalUsersSnapchat","totalUsersUrl","totalUsersImages"]}),Object(i.h)("h5",null,"User emails"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-users-summary-"+l.length,fieldsLeft:["totalUsersSummaryEmail","totalUsersInfoEmail","totalUsersPartnerEmail"],legendLeft:["totalUsersSummaryEmail","totalUsersInfoEmail","totalUsersPartnerEmail"],fieldsRight:["totalUsersHideProfile","totalUsersHideInvite"],legendRight:["totalUsersHideProfile","totalUsersHideInvite"]}),Object(i.h)("h5",null,"Teams & tracks"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-teams-"+l.length,fieldsLeft:["totalTeams","totalTracks"],legendLeft:["teams","tracks"]}),Object(i.h)("h5",null,"Teams & type"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-teams-types-"+l.length,fieldsLeft:["totalTeamsTypes.Tur","totalTeamsTypes.Turist","totalTeamsTypes.Sprint","totalTeamsTypes.Mellomdistanse","totalTeamsTypes.Langdistanse"],legendLeft:["Tur","Turist","Sprint","Mellomdistanse","Langdistanse"]}),Object(i.h)("h5",null,"Teams & ambitions"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-teams-ambitions-"+l.length,fieldsLeft:["totalTeamsAmbitions.Ingen ambisjoner","totalTeamsAmbitions.Glad amatør","totalTeamsAmbitions.Amatør","totalTeamsAmbitions.Seriøs amatør","totalTeamsAmbitions.Proff"],legendLeft:["Ingen ambisjoner","Glad amatør","Amatør","Seriøs amatør","Proff"]}),Object(i.h)("h5",null,"Workouts & distance"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-totalWorkouts-"+l.length,fieldsLeft:["totalWorkouts"],legendLeft:["totalWorkouts"],fieldsRight:["totalDistance"],legendRight:["totalDistance"]}),Object(i.h)("h5",null,"Distance and equipment"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-totaldistance-equipment-"+l.length,fieldsLeft:["totalDistanceEquipment.1","totalDistanceEquipment.2","totalDistanceEquipment.3","totalDistanceEquipment.4","totalDistanceEquipment.5","totalDistanceEquipment.6","totalDistanceEquipment.7","totalDistanceEquipment.8","totalDistanceEquipment.9","totalDistanceEquipment.10"],legendLeft:["slede","atv","trollvogn","ski","annen vogn","sykkel","kickbike","jogging","bil","utv"]}),Object(i.h)("h5",null,"Distance and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-totaldistance-teamsize-"+l.length,fieldsLeft:["totalDistanceTeamSize.1-2","totalDistanceTeamSize.3-6","totalDistanceTeamSize.7-10","totalDistanceTeamSize.11-14","totalDistanceTeamSize.15-18","totalDistanceTeamSize.19-22","totalDistanceTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(i.h)("h5",null,"Ascending"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-totalElevation-"+l.length,fieldsLeft:["totalElevation"],legendLeft:["totalElevation"],fieldsRight:["avgElevation"],legendRight:["avgElevation"]}),Object(i.h)("h5",null,"Ascending and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-totalelevation-teamsize-"+l.length,fieldsLeft:["totalElevationTeamSize.1-2","totalElevationTeamSize.3-6","totalElevationTeamSize.7-10","totalElevationTeamSize.11-14","totalElevationTeamSize.15-18","totalElevationTeamSize.19-22","totalElevationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(i.h)("h5",null,"Temperature"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgTemperature-"+l.length,fieldsLeft:["avgTemperature"],legendLeft:["avgTemperature"]}),Object(i.h)("h5",null,"Duration and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-totalduration-teamsize-"+l.length,fieldsLeft:["totalDurationTeamSize.1-2","totalDurationTeamSize.3-6","totalDurationTeamSize.7-10","totalDurationTeamSize.11-14","totalDurationTeamSize.15-18","totalDurationTeamSize.19-22","totalDurationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]})):"accAverages"===o?Object(i.h)(e,null,Object(i.h)("h5",null,"Avg distance and equipment"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgdistance-equipment-"+l.length,fieldsLeft:["avgDistanceEquipment.1","avgDistanceEquipment.2","avgDistanceEquipment.3","avgDistanceEquipment.4","avgDistanceEquipment.5","avgDistanceEquipment.6","avgDistanceEquipment.7","avgDistanceEquipment.8","avgDistanceEquipment.9","avgDistanceEquipment.10"],legendLeft:["slede","atv","trollvogn","ski","annen vogn","sykkel","kickbike","jogging","bil","utv"]}),Object(i.h)("h5",null,"Avg distance and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgdistance-teamsize-"+l.length,fieldsLeft:["avgDistanceTeamSize.1-2","avgDistanceTeamSize.3-6","avgDistanceTeamSize.7-10","avgDistanceTeamSize.11-14","avgDistanceTeamSize.15-18","avgDistanceTeamSize.19-22","avgDistanceTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(i.h)("h5",null,"Avg Ascending and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgelevation-teamsize-"+l.length,fieldsLeft:["avgElevationTeamSize.1-2","avgElevationTeamSize.3-6","avgElevationTeamSize.7-10","avgElevationTeamSize.11-14","avgElevationTeamSize.15-18","avgElevationTeamSize.19-22","avgElevationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(i.h)("h5",null,"Avg distance, dogs, speed & duration"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgDistance-"+l.length,fieldsLeft:["avgDistance","avgDogs","avgSpeed"],legendLeft:["avgDistance","avgDogs","avgSpeed"],fieldsRight:["avgDuration"],legendRight:["avgDuration"]}),Object(i.h)("h5",null,"Avg speed and equipment"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgspeed-equipment-"+l.length,fieldsLeft:["avgSpeedEquipment.1","avgSpeedEquipment.2","avgSpeedEquipment.3","avgSpeedEquipment.4","avgSpeedEquipment.5","avgSpeedEquipment.6","avgSpeedEquipment.7","avgSpeedEquipment.8","avgSpeedEquipment.9","avgSpeedEquipment.10"],legendLeft:["slede","atv","trollvogn","ski","annen vogn","sykkel","kickbike","jogging","bil","utv"]}),Object(i.h)("h5",null,"Avg speed and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgspeed-teamsize-"+l.length,fieldsLeft:["avgSpeedTeamSize.1-2","avgSpeedTeamSize.3-6","avgSpeedTeamSize.7-10","avgSpeedTeamSize.11-14","avgSpeedTeamSize.15-18","avgSpeedTeamSize.19-22","avgSpeedTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]}),Object(i.h)("h5",null,"Avg Duration and teamsize"),Object(i.h)(n.a,{stores:this.props.stores,key:"admin-avgduration-teamsize-"+l.length,fieldsLeft:["avgDurationTeamSize.1-2","avgDurationTeamSize.3-6","avgDurationTeamSize.7-10","avgDurationTeamSize.11-14","avgDurationTeamSize.15-18","avgDurationTeamSize.19-22","avgDurationTeamSize.23-"],legendLeft:["1-2","3-6","7-10","11-14","15-18","19-22","23-"]})):void 0}})||a;t.a=r}).call(this,s("hosL").Fragment)},hiSt:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("2JTI")),o=a(s("p3hn")),n=a(s("MlNc")),r=s("u28A");t.default=function e(t){return(0,i.default)(t)?!(parseFloat(t)>r.MAXLAT||t<r.MINLAT):!!(0,o.default)(t)&&e((0,n.default)(t))}},hiZk:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=(s("Y3FI"),s("OhSV"),s("cneo"),s("ZOvn"),s("HqZR")),d=s("YdX6"),h=s("nHdA"),u=s("irB3"),p=(s("UwwE"),s("8Lgr"));s("QkTp");const m={mapHeight:600};let b=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadWorkout=async function(e=t.props){const{workoutStore:s}=t.props.stores;await s.loadPublic(parseInt(e.workout,10))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m)}componentDidMount(){this.loadWorkout()}componentWillReceiveProps(e){e.workout!==this.props.workout&&this.loadWorkout(e)}render(){const{workoutStore:t,userStore:s,appState:a}=this.props.stores,{mapColorMode:i,mapRangeMin:o,mapRangeMax:l}=a,{mapHeight:m,reloadLastEpoch:b}=this.state,{workout:f}=t,g=s.findTrack(f.track),{gpxInfo:O={}}=(s.findDogs(f.dogs),f);return Object(n.h)("div",{class:"container-fluid p-0 h-100 position-relative"},f&&f.gpx&&Object(n.h)(e,null,Object(n.h)("div",{style:"height: 100%;"},Object(n.h)(c.a,{stores:this.props.stores,mapId:`${f.id}-${m}`,geojson:f.gpx.geoJSON,skipGeojson:!1,gpxInfo:f.gpxInfo,height:m,mapColorMode:i,mapRangeMin:o,mapRangeMax:l,key:"workout-map-"+b,showSearch:!1,showZoomControl:!1,showLayersControl:!0,showFullscreenControl:!1,showScaleControl:!1,showRange:!1,layersControlPosition:"topleft"}))),g&&g.gpx&&!(f&&f.gpx)&&Object(n.h)("div",{style:"height: 100%;"},Object(n.h)(c.a,{stores:this.props.stores,mapId:`${g.id}-${m}`,geojson:g.gpx.geoJSON,skipGeojson:!1,gpxInfo:g.gpx.gpxInfo,height:m,mapColorMode:i,mapRangeMin:o,mapRangeMax:l,key:"workout-map-"+b,showSearch:!1,showZoomControl:!1,showLayersControl:!0,showFullscreenControl:!1,showScaleControl:!1,showRange:!1,layersControlPosition:"topleft"})),Object(n.h)("div",{class:"position-absolute d-flex",style:"top: 5px; left: 5px; z-index: 99999999;"},Object(n.h)("div",null,Object(n.h)("img",{src:"https://themusher.litt.no/assets/logo.png",height:"55"})),Object(n.h)("div",{class:"pl-3 text-white",style:"font-size: 2.6em; line-height: 1.0em; text-shadow: 2px 2px #000000;"},"The Musher")),Object(n.h)("div",{class:"position-absolute text-white",style:"bottom: 0px; left: 0px; width: 100%; height: 100px; z-index: 99999999;"},Object(n.h)("div",{class:"d-flex ",style:"text-shadow: 2px 2px #000000;"},Object(n.h)("div",{class:"text-center font-weight-bold flex-fill"},Object(n.h)("div",{style:"font-size: 1.5em; line-height: 1.0em;"},"Distance"),Object(n.h)("div",{style:"font-size: 2.5em; line-height: 1.0em;",class:"text-overflow"},Object(n.h)(p.a,{stores:this.props.stores,value:f.distanceKm}))),Object(n.h)("div",{class:"text-center font-weight-bold flex-fill"},Object(n.h)("div",{style:"font-size: 1.5em; line-height: 1.0em;"},"Elevation"),Object(n.h)("div",{style:"font-size: 2.5em; line-height: 1.0em;",class:"text-overflow"},Object(n.h)(u.a,{stores:this.props.stores,value:f.elevation}))),Object(n.h)("div",{class:"text-center font-weight-bold flex-fill"},Object(n.h)("div",{style:"font-size: 1.5em; line-height: 1.0em;"},"Avg speed"),Object(n.h)("div",{style:"font-size: 2.5em; line-height: 1.0em;",class:"text-overflow"},O&&O.avgGpsMovingSpeed>0?Object(n.h)(e,null,Object(n.h)(h.a,{stores:this.props.stores,value:3.6*O.avgGpsMovingSpeed})):Object(n.h)(e,null,Object(n.h)(h.a,{stores:this.props.stores,value:f.speedAvg})))),Object(n.h)("div",{class:"text-center font-weight-bold flex-fill"},Object(n.h)("div",{style:"font-size: 1.5em; line-height: 1.0em;"},"Duration"),Object(n.h)("div",{style:"font-size: 2.5em; line-height: 1.0em;",class:"text-overflow"},r.a.secToHms(f.duration,!0))))),Object(n.h)("div",{class:"position-absolute text-white",style:"bottom: 110px; right: 0px; width: 165px; z-index: 99999999;"},f.dogsLeft&&Object(n.h)("div",{class:"offset-0 col-12 mt-4"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-6 p-0"},f.dogsLeft&&f.dogsLeft.map(e=>{const t=f.dogs.find(t=>t.id===e);return Object(n.h)(d.a,{stores:this.props.stores,dog:t,className:"ml-auto",showName:!1,showPosition:!1,size:"medium"})})),Object(n.h)("div",{class:"col-6 p-0"},f.dogsRight&&f.dogsRight.map(e=>{const t=f.dogs.find(t=>t.id===e);return Object(n.h)(d.a,{stores:this.props.stores,dog:t,className:"mr-auto",showName:!1,showPosition:!1,size:"medium"})}))))))}})||o;t.a=b}).call(this,s("hosL").Fragment)},hosL:function(e,t,s){"use strict";function a(e,t){for(var s in t)e[s]=t[s];return e}function i(e){var t=e.parentNode;t&&t.removeChild(e)}function o(e,t,s){var a,i,o,r=arguments,l={};for(o in t)"key"==o?a=t[o]:"ref"==o?i=t[o]:l[o]=t[o];if(arguments.length>3)for(s=[s],o=3;o<arguments.length;o++)s.push(r[o]);if(null!=s&&(l.children=s),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===l[o]&&(l[o]=e.defaultProps[o]);return n(e,l,a,i,null)}function n(e,t,s,a,i){var o={type:e,props:t,key:s,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++C.__v:i};return null!=C.vnode&&C.vnode(o),o}function r(){return{current:null}}function l(e){return e.children}function c(e,t){this.props=e,this.context=t}function d(e,t){if(null==t)return e.__?d(e.__,e.__.__k.indexOf(e)+1):null;for(var s;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e)return s.__e;return"function"==typeof e.type?d(e):null}function h(e){var t,s;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e){e.__e=e.__c.base=s.__e;break}return h(e)}}function u(e){(!e.__d&&(e.__d=!0)&&E.push(e)&&!p.__r++||M!==C.debounceRendering)&&((M=C.debounceRendering)||F)(p)}function p(){for(var e;p.__r=E.length;)e=E.sort((function(e,t){return e.__v.__b-t.__v.__b})),E=[],e.some((function(e){var t,s,i,o,n,r;e.__d&&(n=(o=(t=e).__v).__e,(r=t.__P)&&(s=[],(i=a({},o)).__v=o.__v+1,w(r,o,i,t.__n,void 0!==r.ownerSVGElement,null!=o.__h?[n]:null,s,null==n?d(o):n,o.__h),k(s,o),o.__e!=n&&h(o)))}))}function m(e,t,s,a,o,r,c,h,u,p){var m,f,O,v,y,j,k,x=a&&a.__k||N,T=x.length;for(u==U&&(u=null!=c?c[0]:T?d(a,0):null),s.__k=[],m=0;m<t.length;m++)if(null!=(v=s.__k[m]=null==(v=t[m])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?n(null,v,null,null,v):Array.isArray(v)?n(l,{children:v},null,null,null):v.__b>0?n(v.type,v.props,v.key,null,v.__v):v)){if(v.__=s,v.__b=s.__b+1,null===(O=x[m])||O&&v.key==O.key&&v.type===O.type)x[m]=void 0;else for(f=0;f<T;f++){if((O=x[f])&&v.key==O.key&&v.type===O.type){x[f]=void 0;break}O=null}w(e,v,O=O||U,o,r,c,h,u,p),y=v.__e,(f=v.ref)&&O.ref!=f&&(k||(k=[]),O.ref&&k.push(O.ref,null,v),k.push(f,v.__c||y,v)),null!=y?(null==j&&(j=y),"function"==typeof v.type&&null!=v.__k&&v.__k===O.__k?v.__d=u=b(v,u,e):u=g(e,v,O,x,c,y,u),p||"option"!==s.type?"function"==typeof s.type&&(s.__d=u):e.value=""):u&&O.__e==u&&u.parentNode!=e&&(u=d(O))}if(s.__e=j,null!=c&&"function"!=typeof s.type)for(m=c.length;m--;)null!=c[m]&&i(c[m]);for(m=T;m--;)null!=x[m]&&("function"==typeof s.type&&null!=x[m].__e&&x[m].__e==s.__d&&(s.__d=d(a,m+1)),_(x[m],x[m]));if(k)for(m=0;m<k.length;m++)S(k[m],k[++m],k[++m])}function b(e,t,s){var a,i;for(a=0;a<e.__k.length;a++)(i=e.__k[a])&&(i.__=e,t="function"==typeof i.type?b(i,t,s):g(s,i,i,e.__k,null,i.__e,t));return t}function f(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){f(e,t)})):t.push(e)),t}function g(e,t,s,a,i,o,n){var r,l,c;if(void 0!==t.__d)r=t.__d,t.__d=void 0;else if(i==s||o!=n||null==o.parentNode)e:if(null==n||n.parentNode!==e)e.appendChild(o),r=null;else{for(l=n,c=0;(l=l.nextSibling)&&c<a.length;c+=2)if(l==o)break e;e.insertBefore(o,n),r=n}return void 0!==r?r:o.nextSibling}function O(e,t,s){"-"===t[0]?e.setProperty(t,s):e[t]=null==s?"":"number"!=typeof s||$.test(t)?s:s+"px"}function v(e,t,s,a,i){var o,n,r;if(i&&"className"==t&&(t="class"),"style"===t)if("string"==typeof s)e.style.cssText=s;else{if("string"==typeof a&&(e.style.cssText=a=""),a)for(t in a)s&&t in s||O(e.style,t,"");if(s)for(t in s)a&&s[t]===a[t]||O(e.style,t,s[t])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),(n=t.toLowerCase())in e&&(t=n),t=t.slice(2),e.l||(e.l={}),e.l[t+o]=s,r=o?j:y,s?a||e.addEventListener(t,r,o):e.removeEventListener(t,r,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!i&&t in e?e[t]=null==s?"":s:"function"!=typeof s&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==s||!1===s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),s):null==s||!1===s&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,s))}function y(e){this.l[e.type+!1](C.event?C.event(e):e)}function j(e){this.l[e.type+!0](C.event?C.event(e):e)}function w(e,t,s,i,o,n,r,d,h){var u,p,b,f,g,O,v,y,j,w,k,S=t.type;if(void 0!==t.constructor)return null;null!=s.__h&&(h=s.__h,d=t.__e=s.__e,t.__h=null,n=[d]),(u=C.__b)&&u(t);try{e:if("function"==typeof S){if(y=t.props,j=(u=S.contextType)&&i[u.__c],w=u?j?j.props.value:u.__:i,s.__c?v=(p=t.__c=s.__c).__=p.__E:("prototype"in S&&S.prototype.render?t.__c=p=new S(y,w):(t.__c=p=new c(y,w),p.constructor=S,p.render=T),j&&j.sub(p),p.props=y,p.state||(p.state={}),p.context=w,p.__n=i,b=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=S.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=a({},p.__s)),a(p.__s,S.getDerivedStateFromProps(y,p.__s))),f=p.props,g=p.state,b)null==S.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==S.getDerivedStateFromProps&&y!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,w),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,w)||t.__v===s.__v){p.props=y,p.state=p.__s,t.__v!==s.__v&&(p.__d=!1),p.__v=t,t.__e=s.__e,t.__k=s.__k,p.__h.length&&r.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,w),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,g,O)}))}p.context=w,p.props=y,p.state=p.__s,(u=C.__r)&&u(t),p.__d=!1,p.__v=t,p.__P=e,u=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(i=a(a({},i),p.getChildContext())),b||null==p.getSnapshotBeforeUpdate||(O=p.getSnapshotBeforeUpdate(f,g)),k=null!=u&&u.type===l&&null==u.key?u.props.children:u,m(e,Array.isArray(k)?k:[k],t,s,i,o,n,r,d,h),p.base=t.__e,t.__h=null,p.__h.length&&r.push(p),v&&(p.__E=p.__=null),p.__e=!1}else null==n&&t.__v===s.__v?(t.__k=s.__k,t.__e=s.__e):t.__e=x(s.__e,t,s,i,o,n,r,h);(u=C.diffed)&&u(t)}catch(e){t.__v=null,(h||null!=n)&&(t.__e=d,t.__h=!!h,n[n.indexOf(d)]=null),C.__e(e,t,s)}}function k(e,t){C.__c&&C.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){C.__e(e,t.__v)}}))}function x(e,t,s,a,i,o,n,r){var l,c,d,h,u,p=s.props,b=t.props;if(i="svg"===t.type||i,null!=o)for(l=0;l<o.length;l++)if(null!=(c=o[l])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,o[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(b);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,b.is&&{is:b.is}),o=null,r=!1}if(null===t.type)p===b||r&&e.data===b||(e.data=b);else{if(null!=o&&(o=N.slice.call(e.childNodes)),d=(p=s.props||U).dangerouslySetInnerHTML,h=b.dangerouslySetInnerHTML,!r){if(null!=o)for(p={},u=0;u<e.attributes.length;u++)p[e.attributes[u].name]=e.attributes[u].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}(function(e,t,s,a,i){var o;for(o in s)"children"===o||"key"===o||o in t||v(e,o,null,s[o],a);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||s[o]===t[o]||v(e,o,t[o],s[o],a)})(e,b,p,i,r),h?t.__k=[]:(l=t.props.children,m(e,Array.isArray(l)?l:[l],t,s,a,"foreignObject"!==t.type&&i,o,n,U,r)),r||("value"in b&&void 0!==(l=b.value)&&(l!==e.value||"progress"===t.type&&!l)&&v(e,"value",l,p.value,!1),"checked"in b&&void 0!==(l=b.checked)&&l!==e.checked&&v(e,"checked",l,p.checked,!1))}return e}function S(e,t,s){try{"function"==typeof e?e(t):e.current=t}catch(e){C.__e(e,s)}}function _(e,t,s){var a,o,n;if(C.unmount&&C.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||S(a,null,t)),s||"function"==typeof e.type||(s=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(a=e.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(e){C.__e(e,t)}a.base=a.__P=null}if(a=e.__k)for(n=0;n<a.length;n++)a[n]&&_(a[n],t,s);null!=o&&i(o)}function T(e,t,s){return this.constructor(e,s)}function D(e,t,s){var a,i,n;C.__&&C.__(e,t),i=(a=s===R)?null:s&&s.__k||t.__k,e=o(l,null,[e]),n=[],w(t,(a?t:s||t).__k=e,i||U,U,void 0!==t.ownerSVGElement,s&&!a?[s]:i?null:t.childNodes.length?N.slice.call(t.childNodes):null,n,s||U,a),k(n,e)}function I(e,t){D(e,t,R)}function P(e,t,s){var i,o,r,l=arguments,c=a({},e.props);for(r in t)"key"==r?i=t[r]:"ref"==r?o=t[r]:c[r]=t[r];if(arguments.length>3)for(s=[s],r=3;r<arguments.length;r++)s.push(l[r]);return null!=s&&(c.children=s),n(e.type,c,i||e.key,o||e.ref,null)}function L(e,t){var s={__c:t="__cC"+z++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var s,a;return this.getChildContext||(s=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&s.some(u)},this.sub=function(e){s.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){s.splice(s.indexOf(e),1),t&&t.call(e)}}),e.children}};return s.Provider.__=s.Consumer.contextType=s}s.r(t),s.d(t,"render",(function(){return D})),s.d(t,"hydrate",(function(){return I})),s.d(t,"createElement",(function(){return o})),s.d(t,"h",(function(){return o})),s.d(t,"Fragment",(function(){return l})),s.d(t,"createRef",(function(){return r})),s.d(t,"isValidElement",(function(){return A})),s.d(t,"Component",(function(){return c})),s.d(t,"cloneElement",(function(){return P})),s.d(t,"createContext",(function(){return L})),s.d(t,"toChildArray",(function(){return f})),s.d(t,"options",(function(){return C}));var C,A,E,F,M,R,z,U={},N=[],$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;C={__e:function(e,t){for(var s,a,i,o=t.__h;t=t.__;)if((s=t.__c)&&!s.__)try{if((a=s.constructor)&&null!=a.getDerivedStateFromError&&(s.setState(a.getDerivedStateFromError(e)),i=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e),i=s.__d),i)return t.__h=o,s.__E=s}catch(t){e=t}throw e},__v:0},A=function(e){return null!=e&&void 0===e.constructor},c.prototype.setState=function(e,t){var s;s=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),"function"==typeof e&&(e=e(a({},s),this.props)),e&&a(s,e),null!=e&&this.__v&&(t&&this.__h.push(t),u(this))},c.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),u(this))},c.prototype.render=l,E=[],F="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p.__r=0,R=U,z=0},i3JH:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l=s("cneo"),c=s("0frO"),d=s("Y3FI"),h=s("Utv1"),u=s("X9Km");Object(l.f)({enforceActions:"always"});const p=new(n=i((o=class extends c.a{constructor(){super("stravaActivity",{namePlural:"stravaActivities",sort:"-start_date",limit:10,api:{search:{url:"/api/strava/activities/",params:{extendedView:1,limit:15,sort:"-start_date"}},load:{url:"/api/strava/activities/",params:{}},save:{url:"/api/strava/activities/",params:{}}}}),a(this,"stravaActivity",n,this),a(this,"stravaActivities",r,this)}cleanupMemory(){this.localUpdateField("stravaActivity",{}),this.localUpdateField("stravaActivities",[])}localUpdateField(e,t){this[e]=t}async ignoreWorkout(e){const t=await h.a.fetchApi("/api/strava/ignore",{publish:!0,method:"GET"},{id:e});switch(t.status){case 200:console.log(t);break;case 401:u.a.publish(u.b.LOG_OUT),Object(d.route)("/",!0)}}async importWorkout(e,t){const s=await h.a.fetchApi("/api/strava/import",{publish:!0,method:"GET"},{id:e,team:t});switch(s.status){case 200:console.log(s);break;case 401:u.a.publish(u.b.LOG_OUT),Object(d.route)("/",!0)}}}).prototype,"stravaActivity",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"stravaActivities",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(o.prototype,"cleanupMemory",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"cleanupMemory"),o.prototype),i(o.prototype,"localUpdateField",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"localUpdateField"),o.prototype),o);t.a=p},"iN+a":function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l=s("cneo"),c=s("0frO");Object(l.f)({enforceActions:"always"});const d=new(n=i((o=class extends c.a{constructor(){super("vaccineLog",{namePlural:"vaccineLogs",sort:"title",limit:100,api:{search:{url:"/api/veterinary/vaccine-logs/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/veterinary/vaccine-logs/",params:{}},save:{url:"/api/veterinary/vaccine-logs/",params:{}}}}),a(this,"vaccineLog",n,this),a(this,"vaccineLogs",r,this)}}).prototype,"vaccineLog",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"vaccineLogs",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);t.a=d},inp8:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=a(s("KqdA")),l=s("u28A");t.default=function(e,t,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,c=(0,i.default)(e),d=(0,o.default)(e),h=t/a,u=(0,n.default)(s),p=(0,n.default)(c),m=(0,n.default)(d),b=Math.asin(Math.sin(p)*Math.cos(h)+Math.cos(p)*Math.sin(h)*Math.cos(u)),f=m+Math.atan2(Math.sin(u)*Math.sin(h)*Math.cos(p),Math.cos(h)-Math.sin(p)*Math.sin(b)),g=(0,r.default)(f);return(g<l.MINLON||g>l.MAXLON)&&(f=(f+3*Math.PI)%(2*Math.PI)-Math.PI,g=(0,r.default)(f)),{latitude:(0,r.default)(b),longitude:g}}},iqr7:function(e){e.exports=JSON.parse('{"ad":{"heading":"Möchtest du hier eine Werbung platzieren?","teaser":"Es ist sehr einfach :)","subject":"Werbeanfrage","body":"Hallo, ich möchte mehr über Werbemöglichkeiten im The Musher App wissen.","linktext":"The Musher App kontaktieren","ad":"Werbung"},"home":{"dashboard":"Übersicht","feed":"Feed","todo":"To do","welcome-title":"Willkommen zum The Musher.","welcome-body-1":"The Musher APP ist kontinuierlich unter Entwicklung ist. Ideen zur Entwicklung nehmen wir gerne entgegen auf unserer Facebook Seite.","welcome-body-2":"Ziel dieses APPS ist eine einfache Registrierung der Hunder, der Mannschaft, training und andere hunderelaterte Sachen. Hat man viele Hunde ist es nicht immer einfach kontroll über Läufigkeit, Impfungen, Training, Verletzungen, Tierarztbesuch, chipslister usw. zu haben.","welcome-body-3":"Alle Daten werde zentralt bei AWS (Amazon Web Services) gelagert und es ist dadurch möglich das APP von mehreren Telefonen und Komputer gleichzeitig zu nutzen. Dies kann praktisch sein, wenn mehrere Personen die Hunde trainieren und betreuen.","howto-title":"So startest du:","howto-step-1":"Füge deine Mannschaft ein.","howto-step-2":"Füge deine Hunde ein.","howto-step-3":"Füge deine Trainingsrunden ein.","howto-step-4":"Starte meine Treningslogg.","dogs-follow-up":"Hunde die Aufmerksamkeit benötigen","dogs-special-needs":"Hunde mit speziellen Bedürfnissen","last-workouts":"Letzte Trainingstour {{total}}","races":"Rennen","workouts":"Training","totals":"Totale","status":"Status","wall":"Wand","home":"Startseite","notifications":"Meldungen","back":"Zurück","find-teams":"Finde eine Mannschaft","report-bug":"Fehler melden","report-bug-placeholder":"Welche Fehler erlebst du?","abort":"Annulieren","send":"Sende"},"notifications":{"unread":"Ungelesene Nachrichten. Hier drücken um alle zu lesen.","delete":"Löschen","confirm":"Bestätigen"},"feed":{"dashboard":"Übersicht","feed":"Feed","todo":"Todo","title":"Letzte Hunde Eintragungen","no-log":"Kein Protokoll von Hunden","tip-1":"Hier kannst du Begebenheiten (Läufigkeit, Verletzungen, Impfungen, Tierarztbesuch, osw) und Bilder von den Hunden ins Log eintragen.","tip-2":"Auf dieser Weise kann dein ganzes Team sehen was mit den Hunden passiert und was abgeklärt oder erledigt werden muss. Dies ist wie ein Hunde Tagebuch.","add-log":"Protokoll hinzufügen","show-all-days":"Alle zeigen"},"workout":{"totals":{"title":"Status des Trainings"},"graph":{"title":"Trainingsübersicht","month":"Monat","season":"Jahreszeit","week":"Woche","distance":"Entfernung","distance-avg":"Schnittdistanz","distance-avg-all":"Schnittdistanz alle","ascend":"Höhenmeter","ascend-avg":"Höhenmeter Schnitt","ascend-avg-all":"Höhenmeter Schnitt alle","speed-avg":"Schnittgeschwindigkeit","speed-avg-all":"Schnittgeschwindigkeit alle","duration-avg":"Dauer Schnitt","duration-avg-all":"Dauer Schnitt alle","real-duration-avg":"Schnitt totale Dauer","real-duration-avg-all":"Schnitt totale Dauer alle","load-index":"Belastungsindex","load-index-all":"Belastungsindex total","plan":"Trainingsplan","too-little-data":"Derzeit gibt es zu wenige Daten, um Grafiken anzeigen zu können. Wenn du mehr Trainings eingibst, können wir dann mehrere Tabellen und Grafiken, die deinen Fortschritt beschreiben, zeigen.","title-avg":"Durchschnitt"},"calendar":{"month":"Monat","week":"Woche","sum":"Total","totalKm":"Total km","summary":"Zusammenfassung","totalWorkouts":"Anzahl Trainingseinheiter","distance":"Entfernung","ascend":"Høhenmeter","duration":"Dauer","avg-speed":"Durchschnittsgeschwindigkeit","kmt":"km/h"},"plan":{"dashboard":"Übersicht","list":"Liste","plan":"Trainingsplan","month":"Monat","week":"Woche","save":"Speichern","sum":"Total","planned":"Plan","totalkm":"Total km","season":"Jahreszeit","no-workout-plan-found":"Kein Trainingsplan für gewählte Mannschaft","no-plan":"Kein Trainingsplan","duplicate":"Trainingsplan kopieren","title":"Tittel","title-help":"Tittel Trainingsplan","team":"Mannschaft","team-help":"Mannschaft, die diesen Trainingsplan wünscht.","choose-team":"Mannschaft wählen","save-new":"Neuer Trainingsplan lagern"},"index":{"dashboard":"Übersicht","list":"Liste","plan":"Trainingsplan","add-workout":"Training hinzufügen","last-workouts":"Letztes Training {{total}}","workout-overview":"Trainingsübersicht","strava-workouts":"Strava Trainingseinheit nicht importiert","garmin-workouts":"Garmin Trainingseinheit nicht importiert","filtered-by":"Per Mannschaft filtriert"},"kg":"kg","battery-used":"benutzt","kcal":"kcal","km":"km","m":"m","kmt":"km/h","share":"Teilen"},"strava":{"kmt":"km/h","ignore":"Vergiss Trainingseinheit","import":"Importer Trainingseinheit"},"garmin":{"kmt":"km/h","ignore":"Vergiss Trainingseinheit","import":"Importer Trainingseinheit","import-track":"Als Runde importieren"},"todo":{"dashboard":"Übersicht","feed":"Feed","todo":"Todo","dogs-follow-up":"Hunde, die  Aufmerksamkeit brauchen","no-dogs-follow-up":"Kein Hund, der Aufmerksamkeit braucht","dogs-special-needs":"Hund mit speziellen Bedürfnissen","no-dogs-special-needs":"Kein Hund mit speziellen Bedürfnissen","dogs-with-maturity":"Hunde, die läufig sind","no-dogs-with-maturity":"Keine Hunde mit Läufigkeit"},"header":{"dogs":"Hunde","workouts":"Training","tracks":"Runder","teams":"Die Mannschaften","profile":"Dein Profil","logout":"Logg aus","darkmode":"Nachtmodus","viewmode":"Vorzeigemodus","viewmode-simple":"Einfach","viewmode-normal":"Normal","viewmode-advanced":"Fortgeschritten","viewmode-beta":"Fortgeschritten + Beta","viewmode-try-beta":"Teste die neue Vorseite 😀","viewmode-back-to-normal":"Geh zur alten Version zurück","reload-app":"Aufdatierungen suchen","news":"News & Info","howto":"Wie macht man das?","search":"Suche","search-placeholder":"Suche das Meiste...","races":"Rennen","support":"Unterstützung","connect-team":"Andere Mannschaften folgen","admin-search":"Admin suche","add-dogs":"Hunde hinzufügen","add-workouts":"Trainings hinzufügen"},"footer":{"dogs":"Hunde","workouts":"Training","workouts-start":"Start","tracks":"Runder","teams":"Die Mannschaften","veterenary":"Tierarzt","workouts-continue":"Weiter"},"register":{"new-user":"Neuer Benutzer","email":"E-mail","email-not-valid":"Hmm, E-mail sieht nicht richtig aus","password":"Passwort","password-too-weak":"Dein Passwort ist zu schwach. Versuch mit einem anderen Passwort oder füge mehrere Buchstaben hinzu 😔","password-weak":"Dein Passwort ist zu schwach, aber wir geben unser Bestes um dich zu beschützen 😉","password-ok":"Dein Passwort sieht gut aus 😎","caps-lock-on":"CAPS LOCK ist eingeschalten!","register":"Registrier mich","i-have-an-account":"🤔 Sieht aus als hätte ich bereits ein Konto. Geh zur login Seite."},"login":{"tip-1":"Appen kan auf deinem Telefon installiert werden.","tip-2":"Nutze die \\"zur Heimseite hinzufügen\\" Funktion","tip-3":"Du solltest dies tun bevor du dich registrierst","login":"Anmeldung","email":"E-mail","email-not-found":"Dieses E-mail gibts nicht, aber du kannst dich registrieren","email-not-valid":"Hmm, E-mail sieht nicht richtig aus. Kann es ein Tippfehler sein?","email-looks-good":"E-mail sieht gut aus.","password":"Passwort","caps-lock-on":"CAPS LOCK ist eingeschalten!","2fa-token":"2FA Token","new-user":"Neuer Benutzer","forgot-password":"Passwort vergessen?"},"forgotten":{"forgotten":"Passwort vergessen","one-time-code":"Einmaliger Kode für","otp-not-valid":"Hmm, Kode sieht nicht ganz richtig aus. Kann es ein Tippfehler sein?","otp-valid":"Koden sieht gut aus","login-with-otp":"Logg mich ein mit Kode","goto-login":"Ich kann mein Passwort. Geh zur Anmeldungsseite.","send-new-otp":"Ich brauche einen neuen Kode.","email":"E-mail","email-not-found":"Dieses E-mail gibts nicht.","register":"Neuer Nutzer registrieren","email-not-valid":"Hmm, E-mail sieht nicht richtig aus. Kann es ein Tippfehler sein?","email-looks-good":"E-mail sieht gut aus.","caps-lock-is-on":"CAPS LOCK ist eingeschalten!","send-reset-link":"Schick mir ein reset link"},"refresh":{"pull-to-update":"Ziehe um die Seite zu erneuern"},"modal":{"download":"Bild herunterladen"},"imageupload":{"drag-files-here":"Legge deine Daten hier :)","upload-images":"Aufgelastete Daten","uploading-image":"Lastet hoch..."},"dog":{"history":{"no":"Nein","yes":"Ja","delete":"Löschen","cant-delete-groups":"Kan nicht Mannschaft löschen. Geh zu jedem Hund und lösch dort."},"dogs":{"choose-filter":"Filter auswählen","search-for-dogs":"Hund suchen","show-only-team-dogs":"Zeig nur Hunde in der Mannschaft","show-all-dogs":"Zeig alle Hunde","show-all":"Zeig alle","show-only-selected":"Zeig gewählte","show-lead-dogs-only":"Nur Leithunde anzeigen","show-point-dogs-only":"Nur Pointhunde anzeigen","show-team-dogs-only":"Nur Teamhunde anzeigen","show-wheel-dogs-only":"Nur Schlusshunde anzeigen","remove-all-dogs":"Alle Hunde entfernen","saved-changes":"Änderungen gespeichert","addplaceholder":"Füge frei Platz hinzu","saveDogPositions":"Position speichern","resetDogPositions":"Position zurücksetzen","clearDogPositions":"Alle Positionen entfernen","dogs-positions":"Position im Hundegespann","add-all-in-team":"Alle Hunde {{total}} der Mannschaft hinzufügen"},"calendar":{"month":"Monat","week":"Woche"},"addlog":{"addlog":"Logg hinzufügen","dogs":"Hunde","dogs-help":"Welche Hunde gilt dies?","date":"Datum","date-help":"Datum für Protokoll","time":"Zeit","time-help":"Zeit für Protokoll","type":"Ereignisart","choose-type":"Wähle Art","other":"Andere","stoolProblem":"Stuhlproblem","bodyScore":"Bodyscore","diarrhea":"Durchfall","foodLeftover":"Hat nicht alles aufgefressen","clawClip":"Klauen geschnitten","maturity":"Läufigkeit","massage":"Massage","animalchiropractor":"Tier Chiropraktiker","newStraw":"Frisches Stroh","update":"Aktualisierung","deworming":"Entwurmung","mating":"Paarung","injury":"Verletzung","fight":"Kampf","sick":"Erkrankung","unwantedMating":"Ungeplante Paarungen","vaccine":"Impfung","weight":"Gewicht kontroll","veterinarianVisit":"Tierarztbesuch","type-help":"Ereignis. Tierarztbesuch, Impfung, Krankheit, Reife usw.","vaccine-type":"Impfstofftyp","choose-vaccine":"Impfstoff Art auswählen","rabies":"Rabies (3 Jahre)","BbPi":"BbPi (1 Jahr)","DHP":"DHP (3 Jahre)","DHPPi":"DHPPi (3 Jahre)","vaccine-help":"Um welche Art von Impfstoff handelt es sich?","title":"Tittel","title-help":"Titel des Logs.Tierarztbesuch, Impfung, Krankheit, Reife usw.","duration":"Dauer","duration-help":"Wann läuft dieser Impfstoff aus?","weight-of-dog":"Gewicht","weight-of-dog-help":"Gewicht des Hunden","bodyscore":"Bodyscore","bodyscore-help":"Bodyscore des Hundes.","cost":"Kosten","cost-help":"Kosten für dieses Ereignis","commet":"Kommentar","comment-help":"Kommentar zum Protokoll. Schreib mehr zum Ereignis","images":"Bilder","please-wait":"bitte warten...","cancel":"annullieren","hidelog":"Protokoll verstecken","newlog":"Neues Protokoll"},"veterinary":{"choosen-dogs":"Gewählte Hunde","chosen-vaccines":"Gewählte Impfungen","choose-team":"Mannschaft wählen","select-all-dogs":"Alle Hunde wählen","remove-all-dogs":"Alle gewählte Hunde entfernen","name":"Name","image":"Bild","are-you-sure":"Bist du sicher, dass du Impfungen für {{dogs}} hinzufügen willst?","yes-iam-sure":"Ja, ich bin sicher!","cancel":"Aufheben","add-vaccine-to-dogs":"Impfung bei {{dogs}} hinzufügen","recepipt":"Quittung","dog":"Hund","vaccine":"Impfung","no-access":"Kein Zugang!","attempts-logged":"Alle Zugangsversuche werden aufgezeichnet und rapportiert.","goto-frontpage":"Zur Vorseite","title":"Tierarzt suchen","search":"Suchen","searching":"Sucht…","cellphone":"Mobiltelefon","email":"E-mail","search-placeholder":"Hundeführer suchen. E-mail, Mobiltelefon oder Name…","choose-vaccines":"Impfungen in der oben aufgeführten Liste wählen"}},"dogs":{"dashboard":"Übersicht","list":"Liste","feed":"Feed","todo":"Todo","stats":"Statistik","pictures":"Bilder","workouts":"Traininger","relations":"Beziehungen","achievements":"Erinnerungen","links":"Links","achievement-name":"Tittel","achievement-name-help":"Tittel der Erinnerung","achievement-description":"Beschreibung","achievement-description-help":"Beschreibung der Erinnerung","achievement-url":"Link","achievement-url-help":"Link zur Erinnerung","achievement-add":"Link zu neuer Erinnerung","link-name":"Tittel","link-name-help":"Tittel des Links","link-url":"URL","link-url-help":"URL zum Link","link-add":"Link hinzufügen","advanced":"Fortgeschritten","trophy":"Medaillen","info":"Info","fitness":"Fitness","veterinary":"Tierarzt","add-dogs":"Hund hinzufügen","no-dogs-registered":"Keine Hunde registriert","howto-add-1":"So startest du","howto-add-2":"Wähle \\"Hund hinzufügen\\" oben auf der Seite","dog-with-follow-up":"Hunde, die Aufmerksamkeit brauchen","no-dogs-with-follow-up":"Kein Hund, der Aufmerksamkeit braucht","dog-with-special-needs":"Hund mit speziellen Bedürfnissen","no-dogs-with-special-needs":"Kein Hund mit speziellen Bedürfnissen","dog-with-workouts-last-day":"Hunde, die vor 24 Stunden Tag trainiert haben","dogs-filtered-by":"gefiltert auf:","all-dogs":"Alle Hunde -","dog-with-maturity":"Hunde, die Läufig sind","no-dogs-with-maturity":"Keine Hunde mit Läufigkeit","no-files-title":"Kein Logg für diesen Hund verfügbar","no-files-text":"Du kannst alle mögliche Logg auflasten. Z.b. Diplome, Testresultate, usw.","no-achievements-title":"Keine Erinnerungen für diesen Hund","no-achievements-text":"Du kannst Erinnerungen für diesen Hund hinzufügen. Z.b. Touren, Medaillen, Rennen usw.","no-links-title":"Keine Links für diesen Hund","no-links-text":"Du kannst Links für diesen Hund hinzufügen. Z.b. Link til Facebookseite, Instagramprofil, Blogg, usw.","no-trophys-title":"Keine Medaillen für diesen Hund!","no-trophys-text":"Du musst mehrere Training, Bilder, Logg usw. hinzufügen, um Medaillen zu gewinnen.","no-images-title":"Keine Bilder dieses Hundes!","no-images-text":"Du kannst so viele Bilder du willst hinzufügen. Welpenbilder, Trainingsfotos, faule Sommertage usw. alles wird beitragen um ein besseres Profil für diesen Hund zu machen","edit":"ändern","kmt":"km/h","birth":"geboren","deceased":"gestorben","team":"Mannschaft","mother":"Mutter","father":"Vater","siblings":"Geschwister","children":"Kinder","pictures-of":"Bilder von","log-for":"Protokoll für","delete":"löschen","changes-saved":"Endring ist gelagert","add-new":"Neuer Hund hinzufügen","name":"Name","name-of-dog":"Voller Name des Hundes.","save-new":"Neuer Hund registrieren","status":"Status","status-help":"Status für den Hund","special-needs":"Spezielle Bedürfnisse","special-needs-help":"Hat dieser Hund spezielle Bedürfnisse? Braucht extra Futter, Ausrüstung oder ähnliches? Z.B. \\"zusätzliches Fett\\", \\"braucht Wolfskrallenbandasje\\", usw.","position":"Position im Gespann","position-help":"Bevorzugter Plass im Gespann","profile-photo":"Profilfoto","profile-photo-help":"Profilfoto des Hundes.","photo":"Bilder","photo-help":"Bilder des Hundes","full-name":"Name","full-name-help":"Name des Hundes","short-name":"Spitzname","short-name-help":"Spitzname des Hundes. Was rufst du beim zuruf?","gender":"Geschlecht","gender-help":"Geschlecht des Hundes","chip-id":"Chip ID","chip-id-help":"Chip ID des Hundes. Steht häufig im Impfausweis oder Pass.","birth-help":"Geburtsdatum des Hundes","deceased-help":"Todesdatum des Hundes","team-help":"Mannschaft des Hundes","harness-size":"Geschirrgrösse","harness-size-help":"Geschirrgrösse für diesen Hund","choose-mother":"Wähle Mutter","mother-name":"Name der Mutter","mother-name-help":"Name der Mutter dieses Hundes.","mother-chipid":"Chip ID der Mutter","mother-chipid-help":"Chip ID der Mutter diese Hundes. Falls die Mutter einer deiner Hunde ist, dann werden diese Hunde verbunden.","mother-comment":"Kommentar zur Mutter","mother-comment-help":"Kommentar zur Mutter dieses Hundes.","choose-father":"Wähle Vater","father-name":"Name des Vaters","father-name-help":"Name des Vaters disease Hundes.","father-chipid":"Chip ID des Vaters","father-chipid-help":"Chip ID des Vaters diese Hundes. Falls der Vater einer deiner Hunde ist, dann werden diese Hunde verbunden.","father-comment":"Kommentar zum Vater","father-comment-help":"Kommentar zum Vater diese Hundes.","files":"Logg","files-help":"Logg für diesen Hund","dog-saved":"Hund ist gelagert","choose-sort":"Wähle Sortieren","sort-distance":"Distanze","sort-duration":"Dauer","sort-name":"Name","sort-shortname":"Spitzname","sort-workouts":"Trainings","sort-lead":"Leithund","sort-point":"Point","sort-team":"Mannschftshund","sort-wheel":"Schlusshund","all":"Alle","leadOnly":"Leithund","pointOnly":"Point","teamOnly":"Mannschaftshund","wheelOnly":"Schlusshund","days-back":"Letzte","d1":"Tag","d2":"2 Tage","d7":"7 Tage","d14":"14 Tage","d30":"30 Tage","gender-male":"Rüde","gender-female":"Hündinn","log":"Logg","vetenary-approved-vaccines":"Tierarzt gutgeheissene Impfungen","vaccine-karens":"Verbleibende Tage","vaccine-name":"Name der Impfung","vaccine-date":"Datum der Impfung","vaccine-veterinary":"Tierarzt","hide-deceased":"Nur aktuelle Mannschaft anzeigen","absolutely-all":"Alle anzeigen","log-for-is-empty":"Logg von {{name}} ist leer","temp-calculation":"Momentan wird dies für die Hauptmannschaft dieses Hundes kalkuliert. Das wird sich bald ändern."},"workouts":{"edit":"ändern","duplicate":"duplizieren","make-track":"Runde mit diesen Daten erstellen","duration":"Dauer","rest":"Pause","avgspeed":"Durchschnittsgeschwindigkeit","currentspeed":"Jetzige Geschwindigkeit","kmt":"km/h","type":"Tourart","equipment":"Ausrüstung","dogs":"Hunde","distance":"Distanze in km","ascend":"Höhenmeter","weather":"Wetter während des Ausflugs","fetch-weather":"Von yr.no herunterladen","temperature":"Temperatur","info":"Info","user":"Führer","gps":"GPS","advanced":"Fortgeschritten","energy-consumption-help":"Energieverbrauch wird folgendermaßen ausgerechnet:  1,25 kcal / kg Körpergewicht / km","energy-consumption-total":"Totaler Energieverbrauch","energy-consumption":"Energieverbrauch per Hund","energy-consumption-fat-total":"Total Fett","energy-consumption-fat":"Fett per Hund","energy-consumption-meat-total":"Total Fleisch","energy-consumption-meat":"Fleisch per Hund","energy-consumption-salmon-total":"Total Lachs","energy-consumption-salmon":"Lachs per Hund","load-index":"Belastungsindex","kcal-calculated":"Ausgerechnet:","all-dogs":"Hunde - {{total}} stk","all-mushers":"Handler - {{total}} stk","delete":"Löschen","changes-saved":"Änderungen sind gelagert","show-last-used-tracks":"Nur die letzten Runden anzeigen","show-all-tracks":"Alle Runden anzeigen","add-new":"Trainingstour hinzufügen","add-save-new":"Trainingstour lagern","other":"Anderes","team":"Mannschaft","date":"Datum","time":"Zeit","track":"Runde","title":"Tittel","avg-speed":"Durchschnittsgeschwindigkeit","comment":"Kommentar","mushers":"Fahrer","rating":"Trainingsbewertung","sledWeight":"Gewicht des Schlittens","intensity":"Intensität","edit-workout":"Training ändern","photos":"Fotos","workout-saved":"Training ist gelagert","start-stop-1":"Start-Stop spuren ist noch nicht klar. Technische Problemer med Apple iOS.Android muss getestet werden.","start-stop-2":"Weiterentwicklung ist Braucher gesteuert. Bitte geben sie Feedback via Facebook.","tracking-stop":"Spuren stoppen","tracking-start":"Spuren starten","other-help":"Was für ein Training war das?","team-help":"Team das mitläuft","date-help":"Datum für Tour: Format für Datum ist \\"YYYY-MM-DD\\"","time-help":"Zeitformat für Tour ist: \'HH:MI\'","type-help":"Art des Trainings. \\"Training\\", \\"Wettkampf\\", \\"Tour\\"","track-help":"Welche Runde war das?","title-help":"Titel für dieses Training. \\"Wunderbares Herbsttraining....\\"","duration-help":"Wie lange warst du unterwegs? (HH:MI)","rest-help":"Wie lange hattest du Pause? (HH:MI)","avg-speed-help":"Durchschnittsfahrt in Bewegung. Falls unbekannt fügst du einfach Distanze og Zeit hinzu und es rechnet sich alles von selbst aus.","distance-help":"Länge der Tour in km","ascend-help":"Wieviele Höhenmeter?","equipment-help":"Ausrüstung benutzt","comment-help":"Kommentar zur Tour","weather-help":"Wie war das Wetter?","temperature-help":"Was war die Temperatur?","dogs-help":"Welche Hunde sind mitgelaufen?","mushers-help":"Welcher Fahrer hat teilgenommen?","rating-help":"Trainingsbewertung. 1-6","sledWeight-help":"Gewicht des Schlittens auf dieser Tour, in kg","intensity-help":"Trainingsintensität?","photos-help":"Foto des Trainings hinzufügen","all-workouts":"Training - {{total}}","month-workouts":"Training - {{month}} {{year}}","week-workouts":"Training - {{week}} {{year}}","save-to-add-images":"Du musst lagern, bevor du Bilder hinzufügen kannst","save-to-add-gpx":"Du musst lagern und kannst danach GPX-daten hinzufügen.","private":"Trainingsrunde verstecken","private-help":"Soll diese Trainingsrunde für deine Fans versteckt sein?","no-dogs":"Kein Hund registrert","no-dogs-tip":"Hunde sollten als erstes hinzugefügt werden.","add-dog":"Hund hinzufügen","no-tracks":"Keine Runde registriert","no-tracks-tip-1":"Du solltest die Runde zuerst registrieren und danach die Trainingstour. Dann werden Entfernung und Höhenmeter automatisch registriert.","no-tracks-tip-2":"Falls du kein GPX-log für diese Runde hast, kannst du trotzdem das Training registrieren.","add-track":"Runde hinzufügen","no-workouts":"Kein Training registriert","no-workouts-1":"Tracking im APP ist noch nicht möglich wegen technischer Begrenzungen im Apple iOS.","no-workouts-2":"Unter Entwicklung","no-workouts-3":"Eine Karte mit deiner Route wird als GPX unter","no-workouts-howto":"So startest du","no-workouts-howto-1":"Wähle oben rechts \\"Training hinzufügen\\"","dogs-positions":"Position im Gespann","search-for":"Training suchen","gpx":"Gpx","gpx-help":"Gpx für diese Training","current":"Gerade jetzt","totals":"Totale","seasontotals":"Total Saison","analysis":"Analyser","images":"Fotos","handlers":"Musher","workoutplan":"Trainingsplan","table":"Tabelle","calendar":"Kalender","go-to-tracking":"Geh zum tracking","admin-edit":"Als admin änders","reimport-strava":"Strave Daten neu importieren","reimport-garmin":"Garmin Daten neu importieren","like":"Mögen"},"search":{"title":"Suchen","text-1":"Suchfunktion ist noch nicht verfügbar","text-2":"Wonach möchtest du suchen? Schick uns ein Meldung via Facebook :)"},"teams":{"connect":{"teams-to-follow":"Mannschaften du folgen kannst","teams-follow-requests":"Anfrage um zu folgen","wants-to-follow":"möchte folgen:","confirm":"Bestätigen","confirm-and-follow":"Bestätigen und folgen","delete":"Anfrage löschen","block":"Mannschaft blockieren","confirmed":"Bestätigt","deleted":"Gelöscht","all-teams":"Alle öffentliche Mannschaften","follow":"Mitverfolgen","is-following":"Mitverfolgende","is-blocked":"Blockiert","has-requested":"Warten auf Genehmigung","how-summary":"Wie funktioniert das?","how-text":"Was können diejenige die meine Mannschaft mitverfolgen sehen? Die Antwort ist: sehr wenig. Zusammenfassung von deinen Trainings und Namen der Hunde, die du geteilt hast. Nichts mehr. Versuch selber eine, oder mehrere Mannschaften mitzuverfolgen und dann siehst du selber was geteilt wird."},"addmember":{"title":"Mannschaft - Mitglied hinzufügen","add-new":"Neues Mitglied hinzufügen","email":"E-post","email-help":"E-post des neuen Mitgliedes","info-1":"Neue Mitglieder, die hinzugefügt werden, erhalten voller Zugang zu Hunden, Trainings og Runden dieses Teams","info-2":"Wir empfehlen dass du nur Leute hinzufügst denen du vertraust","save-new":"Neues Mitglied registrieren"},"edit":"Ändern","admin":"Admin","kmt":"km/h","dogs":"Hunde - {{total}} stk","members":"Mitglieder - {{total}} stk","add-new-member":"Mitglied hinzufügen","delete":"Löschen","name":"Mannschaftsname","name-help":"Name dieser Mannschaft. A-team, B-team, Turhunde usw.","public":"Öffentlich sichtbar","public-help":"Können andre deine Mannschaft mitverfolgen? Alle die mitverfolgen, müssen zuerst von dir gutgeheissen werden. Diejenigen, die deine Mannschaft mitverfolgen können nur Information die du geteilt hast sehen. Trainingsdaten und Sonstiges ist nicht für andre sichtbar.","address":"Adresse","address-help":"Adresse der Mannschaft","postalcode":"Postleitzahl","place":"Ort","place-help":"Ort der Mannschaft","country":"Land","country-help":"Heimland der Mannschaft","ambitions":"Ambitionen","ambitions-help":"Ambition der Mannschaft. (Um Belastungsindex auszurechnen)","type":"Typ","type-help":"Mannschaftstyp","save-new":"Neue Mannschaft registrieren","edit-team":"Mannschaft ändern","photos":"Fotos","photos-help":"Manschaftsbilde","profile-photos":"Profilbild","profile-photos-help":"Profilbild der Mannschaft","description":"Beschreibung","description-help":"Mannschaftsbeschreibung","url":"Link zur Webseite","url-help":"Link zur Mannschaft Webseite","facebook":"Facebook","facebook-help":"Link zu Facebook","instagram":"Instagram","instagram-help":"Link zu Instagram.","choose-country":"Land wählen","saved":"Mannschaft ist gelagert","all-teams":"Deine Mannschaften - {{total}} stk","add-new":"Mannschaft hinzufügen","changes-saved":"Änderungen sind gelagert","fitness":"Fitness, Erschöpfung und Form","legend-fitness":"Fitness","legend-fatigue":"Erschöpfung","legend-form":"Form","public-profile":"Öffentliche Seite","socialmedia":"Soziale Medier","add-sosialmedia":"Gehe zu Änderung Mannschaft um Soziale Medien hinzufügen.","add-description":"Gehe zu Änderung Mannschaft um eine Beschreibung zuzufügen.","public-photos":"Mannschaftsbilder - {{total}} stk","something-missing":"Fehlt was auf dieser Seite? Schicke uns eine Meldung auf Facebook","stats":"Statistik","presentation":"Präsentation","pictures":"Bilder","dogs-menu":"Hunde","mushers":"Führer","workouts":"Training","fitness-menu":"Form","compare":"Vergleichbare","trophy":"Medaillen","achievements":"Erinnerungen","links":"Links","files":"Dateien","followers":"Anhänger","veterinary":"Tierarzt","log":"Fortgeschritten","images":"Bilder","trophy-details":"Details","dogs-help":"Welche Hunde sind in der Mannschaft?","info":"Info","status":"Status","internet":"Soziale Medier","postalcode-help":"Postleitzahl der Mannschaft","snapchat":"Snapchat","snapchat-help":"Snapchat Benutzer","header-photo":"Hauptbilde","header-photo-help":"Hauptbilde der Mannschaft","photo":"Bilde","photo-help":"Bilder der Mannschaft","profile-photo":"Profilbilde","profile-photo-help":"Profilbilde der Mannschaft","achievements-help":"Verdienste dieser Mannschaft","links-help":"Links dieser Mannschaft","files-help":"Dateien dieser Mannschaft","no-images-title":"Keine Bilder für diese Mannschaft!","no-images-text":"Du kannst so viele Bilder du willst hinzufügen. Bilder von Welpen, Training, faule Sommertage usw. Alles wird zu einem besseren Mannschaftsprofil beitragen.","no-achievements-title":"Keine Erinnerungen für diese Mannschaft.","no-achievements-text":"Du kannst Erinnerungen für diese Mannschaft hinzufügen. Z.b. Ausflüge, Preise, Rennen usw.","no-trophys-title":"Keine Medaillen für diese Mannschaft!","no-trophys-text":"Du musst mehrere Trainings, Bilder, Texter usw. hinzufügen, um Medaillen zu verdienen.","no-files-title":"Keine Dateien für diese Mannschaft hinzugefügt!","no-files-text":"Du kannst alle Type Dateier hinzufügen. Z.b. Text, Diplomer usw.","no-workouts-title":"Du hast keine Trainings mit dieser Mannschaft","no-workouts-text":"Du kannst mehrere Trainings hinzufügen.","no-dogs-title":"Du hast keine Hunde in dieser Mannschaft!","no-dogs-text":"Du kannst mehrere Hunde der Mannschaft hinzufügen.","notfollowing":"Mannschaft du nicht mitverfolgst","waiting-approval":"Auf Genehmigung warten","following":"Anhänger","no-more-teams-to-follow":"Keine mehr Mannschaften zum folgen.","no-pending-follow-requests":"Keine Anfragen die auf Genehmigung warten.","not-following-any-teams":"Du mitverfolgst keine Mannschaft","no-followers":"Du hast noch keine Mitverfolger. Aber das kannst du ändern indem du deine Mannschaft öffentlich machst. Du kannst Bilder og Anderes auf der Hauptseite publizieren und dein Profil mit Bilder und Information aktualisieren","heatmap":"Übersichtskarte","heatmap-info":"Übersichtskarte zeigt an wo du diese Saison trainierte.","blocked-followers":"Blockierte Mannschaften","not-public":"Nicht öffentlich","no-photos":"Keine Bilder für diese Mannschaft"},"tracks":{"your-tracks":"Die Runden","public-tracks":"Öffentliche Runden","edit":"Ändern","date":"Datum","date-help":"Datum der Runde","time":"Zeit","time-help":"Zeit der Runde","distance":"Distanz in km","elevation":"Höhenmeter","downhill":"Absteigung","duration":"Normale Dauer","speed":"Normale Geschwindigkeit","delete":"Löschen","all-tracks":"Deine Trainings - {{Total}}","all-public-tracks":"Deine öffentliche Trainingsrunden - {{total}} Stk","add-new":"Training hinzufügen","no-tracks-yet":"Kein Training registriert.","no-tracks-info-1":"Du kannst jetzt GPX files hochladen.","no-tracks-info-2":"Wir empfehlen folgende APPs um GPX-Dateien zu erstellen.","howto-title":"So startest du","howto-1":"Wähle \\"Training hinzufügen\\"","changes-saved":"Änderungen sind gelagert","save":"Neue Trainingsrunde registrieren","gpx-info":"Um GPX-Dateien hinzuzufügen, musst du lagern und zurück gehen.","saved":"Training ist gelagert.","title":"Tittel","title-help":"Tittel dieses Trainings z.B. \\"Seerunde\\"","distance-help":"Wie lange ist dieses Training in km.","elevation-help":"Höhenmeter dieses Trainings.","photos":"Fotos","photos-help":"Fotos von diesem Training","gpx":"GPX","gpx-help":"GPX-Datei dieses Trainings.","filter-all":"Alles anzeigen","filter-only-map":"Nur diejenigen mit Karte anzeigen","weather-start":"Wetter beim Start","weather-hide-details":"Details verstecken","weather-show-details":"Details anzeigen","map":"Karte","stats":"Deine Statistik","weather":"Wetter","summary":"Informationen zur Route","your-workout-summary":"Deine Trainings auf dieser Route","no-workout-summary":"Du hast keine Trainings auf dieser Route. Du kannst dies beim aufzeichnen des Trainings wählen.","no-weather":"Findet keine Wetterberichte für diese Route","summary-info":"Schätzungen für diese Route in Bezug auf Einstellungen deiner Mannschaft.","no-photos":"Keine Bilder von dieser Route."},"form":{"files":{"upload-file":"Datei hochladen"}},"users":{"title":"Dein Profil","email":"E-mail","password":"Passwort","password-confirm":"Passwort wiederholen","change-password":"Passwort ändern","passwords-matches":"Passwörter sind gleich","edit-password-changed":"Passwort geändert","back-to-profile":"Zurück zum Profil","main-team":"Hauptmannschaft","all-teams":"Alle Mannschaften","username":"Benutzername","firstname":"Vorname","lastname":"Nachname","cellphone":"Mobiltelefon","homepage":"Webseite","facebook":"Facebook","instagram":"Instagram","snapchat":"Snapchat","strava-get-activities":"Letzte Aktivität zeigen","strava-reconnect":"Strava erneut verbinden","strava-reconnect-help":"Falls du Problemer mit der Integration hast, versuche es nochmals.","strava-connect":"Strava verbinden","strava-connected":"Du bist jetzt mit Strava verbunden","strava-id":"Identität","strava-username":"Benutzername","strava-profile":"Profilfoto","garmin-reconnect":"Erneut Garmin Connect verbinden","garmin-reconnect-help":"Falls du Problemer mit der Integration erlebst, kannst du nochmals zu verbinden versuchen.","garmin-connect":"Zu Garmin Connect verbinden","garmin-connected":"Du bist jetzt mit Garmin Connect verbunden!","invite":{"title":"Neuer Benutzer zu The Musher einladen","text":"Bitte helfe uns mehrere Benutzer zu rekrutieren. Du kannst Punkte gewinnen und für die Premium Version benutzen.","email":"E-mail","email-placeholder":"E-mail neuer Benutzer","send":"Einladung schicken","thanks":"Danke! 😃","more":"Mehrere invitieren","hide":"Einladungsbox verstecken"},"edit":"Ändern","username-help":"Dein Benutzername für The Musher","firstname-help":"Dein Vorname","lastname-help":"Dein Name","cellphone-help":"Deine Telefonnummer","url":"Webseite","url-help":"Deine Webseite","facebook-help":"Dein Facebook Profil","instagram-help":"Dein Instagram Profil","snapchat-help":"Dein Snapchat Profil","photos":"Fotos","photos-help":"Deine Fotos","saved":"Profil ist gelagert","settings-text-info":"Alle Einstellungen findest du in deinem Profil","hide-settings":"Einstellungen auf Vorderseite verheimlichen","settings-hide-settings":"Einstellungen verheimlichen","settings-hide-settings-help":"Einstellunger auf vorderseite verheimlichen","settings":"Benutzereinstellunger","settings-hide-profile":"Profil verstecken","settings-hide-profile-help":"Bald wird es möglich sein mit anderen Personen hier auf The Musher Freunde zu sein. Falls du das nicht wünschst, kannst du dein Profil hier verheimlichen.","settings-hide-invite":"Einladungsbox verheimlichen","settings-hide-invite-help":"Einladungsbox auf Vorderseite verheimlichen","settings-allow-racevet":"Für Tierarzt erlaubt","settings-veterinary-help":"Hier aktivieren, falls du möchtest dass erlaubte Tierärzte dich suchen und Impfungen hinzufügen können.","settings-summary-email":"Zusammenfassungen","settings-receive-summary-email":"Zusammenfassungen per E-mail erhalten","settings-notification-email":"Meldungen","settings-receive-notification-email":"Ungelesene Meldungen per E-mail erhalten.","settings-info-email":"Information","settings-receive-info-email":"Information per E-mail erhalten","settings-partner-email":"Partner","settings-receive-partner-email":"Du kannst der Weiterentwicklung des The Musher Apps helfen, indem du gute Angebote von unseren Partner per E-mail zugesandt bekommst. Z.b.: Hundefutter, Ausrüstung und andere schlittenhunde relatierte Angebote. Spam wird nicht zugelassen und deine E-mail Adresse wird nicht freigegeben.","subscriptions":"Abonnement","integrations":"Integrierungen","connect":{"title":"Finde deine Freunde","search":"Suchen","search-placeholder":"Nach Freunden und Bekannten suchen","doSearch":"Suchen"}},"install":{"install-app":"The Musher App installieren"},"news":{"edit":"Ändern","add-new":"Neuer Inhalt generieren","back":"Zurück","heading":"News & Info","heading-howo":"Wie macht man das?","create":"Neu"},"comments":{"like":"Gleich","has-liked":"Gleich","comment-add":"Kommentieren","show-more":"Mer {{more}} Kommentare anzeigen…","hide-all-comments":"Alle Kommentare verstecken","comment":"Kommentar","add-comment":"Senden","write-comment":"Kommentar schreiben"},"race":{"therace":"Rennen","news":"Nachrichten","more-news":"Mehr Nachrichten","mushers":"Teilnehmer","results":"Resultater","tracking":"Tracking","media":"Bilder","edit":"Rennen ändern","new":"Neues Rennen","signup-payment":"Teilnahme bezahlen","location":"Ort","about":"Renninfo","rules":"Regler","veterinary":"Tierarzt info","checkpoints":"Kontrollpunkte","track-description":"Wegbeschreibung","program":"Programm","prices":"Preise","classes":"Klassen","signup":"Anmeldung","distance":"Distanzen","startdate":"Start","enddate":"Ziel","to-top":"Zurück"},"races":{"homerun":"Homerun Rennen","signup-open":"Anmeldung geöffnet","race-finished":"Rennen abgeschlossen","race-in-progress":"Rennen läuft","classes":"Klassen","race-days":"Renntage","signup":"Anmeldung","periode":"Zeitraum","signed-in-as":"Eingeloggt als","signed-up":"Du bist angemeldet!","paid":"Bezahlt","payment-info":"Teilnahme bezahlen","click-to-change":"Klick hier um Teilnahmeinformation zu ändern.","cellphone":"Mobiltelefon","firstname":"Vorname","lastname":"Nachname","sportsclub":"Klub","facebook":"Facebook","instagram":"Instagram","team":"Mannschaft","class":"Klasse","cellphone-help":"Was ist deine Mobiltelefon Nummer?","firstname-help":"Was ist dein Vorname?","lastname-help":"Was ist dein Nachname?","sportsClub-help":"Bei welchem Klub bist du Mitglied?","facebook-help":"Was ist dein Facebook Benutzername?","instagram-help":"Was ist dein Instagram Benutzername?","choose-team":"Mannschaft wählen","choose-class":"Klasse wählen","choose-team-help":"Von deiner Mannschaft wählen","choose-class-help":"Klasse wählen.","agreement-accept":"Ich habe die Teilnahmeregler gelesen und akzeptiert.","do-signup":"Melde mich an","signup-not-open-yet":"Die Anmeldung ist noch nicht geöffnet!","signup-closed":"Anmeldung ist geschlossen!","signup-opening":"Anmeldung öffnet","races":"Rennen:","results":"Resultate","mushers":"Teilnehmer","mushers-on-trail":"Teilnehmer auf der Spur","finished-mushers":"Teilnehmer im Ziel","tracking":"Tracking","photos":"Bilder","hide-details":"Details verstecken","read-more":"Mer lesen","results-here":"Resultate hier sehen","on-trail":"Jetzt auf der Spur","favorites":"Favorite","name":"Name","start-date":"Start Datum","distance":"Distanze","ascend":"Höhenmeter","avg-speed":"Durchschnittsgeschwindigkeit","race-time":"Fahrzeit","rest-time":"Ruhezeit","load-index":"Belastungsindex","current-speed":"Jetztige Fahrt","elevation":"Meter über Meer","elevation-graph":"Höhenkurve","stages":"Etappen","result":"Resultat","musher-here":"Teilnehmer hier sehen","dogs":"Hunde","admin":"Administrator","no-team-on-trail":"Zur Zeit keine Mannschaft im The Musher App live tracker…","no-teams-signed-up":"Noch keine Mannschaft angemeldet…","hide-signup":"Abbrechen","signup-another-team":"Melde mich in mehreren Klassen an","starting-teams":"{{totalContestants}} Angemeldte in {{totalClasses}} Klassen","choose-correct-team-and-type":"Richtige Mannschaft und Type für Rennen wählen."},"story":{"body":"Historikk","write-body":"Worüber denkst du?…","add-story":"Publizieren","public":"Für alle sichtbar","show-all":"Alle anzeigen","back-to-wall":"Zurück zu allen","alert-text-1":"Deine Mannschaft ist nicht sichtbar. Es ist anderen nicht möglich anzufragen ob sie dich mitverfolgen dürfen.","alert-text-2":"Hier kannst du Erlaubnis erteilen und anderen ermöglichen deine Mannschaft mitzuverfolgen:","alert-text-3":"Mannschaft ändern","sort":{"new":"Neuestes zuerst","likes-desc":"Die meisten \'likes\' zuerst anzeigen","likes-asc":"Die wenigsten \'likes\' zuerst anzeigen","comments-desc":"Die meisten Kommentare zuerst anzeigen","comments-asc":"Die wenigsten Kommentare zuerst"},"share":"Teilen","type":"Type","type-choose":"Type wählen","type-regular":"Normal","type-ad":"Anzeige","type-article":"Artikkel","team-choose":"Team wählen","url-text":"URL Text","url":"URL","country":"Land","region":"Region","currency":"Währung","price":"Preis","ad-url-readmore":"Mer lesen…","ad-campaign-code":"Kampagne Kode","sponsored":"Sponsoren"},"premium":{"title":"Premium"},"types":{"trening":"Training","konkurranse":"Wettbewerb","tur":"Tour","aktivitet":"Aktivität","vanntrening":"Schwimmen","gåtur":"Spaziergang","Løsslipp":"Freilaufen","annet":"Anderes"},"intensities":{"Easy":"Leicht","Normal":"Normal","Hard":"Schwierig"},"teamAmbitions":{"Ingen ambisjoner":"Keine Ambitionen","Glad amatør":"Glücklicher Amateur","Amatør":"Amateur","Seriøs amatør":"Seriöser Amateur","Proff":"Profi"},"teamTypes":{"Tur":"Tour","Turistkjøring":"Turistfahrten","Sprint":"Sprint","Mellomdistanse":"Mitteldistanz","Langdistanse":"Landistanz"},"dogPositions":{"Leader":"Führer","Team":"Mannschaft","Wheel":"Schluss"},"dogstatuses":{"Avls-sperre":"Keine Zucht","Drektig":"Schwanger","Kastrert/sterilisert":"Kastriert/sterilisiert","Løpetid":"Läufigkeit","Medisinering":"Medizinierung","Normal":"Normal","Omplassering":"Umplatziert","Pensjonist":"Rentner","Skadet":"Verletzt","Syk":"Krank","Valp/unghund":"Welpen/Junghund","Overoppheting":"Überhitzung","Korthåret/trenger dekken":"Kurzhaar/braucht Decke"},"equipments":{"Slede":"Schlitten","Atv":"ATV","Utv":"UTV","Bil":"Auto","Trollvogn":"Troll Wagen","Ski":"Ski","Annen vogn":"Anderer Wagen","Sykkel":"Fahrrad","Kickbike":"Kickbike","Kickspark":"Kickspark","Jogging":"Jogging","Hundehjul":"Trainingsrad","Ingen utstyr":"Keine Ausrüstung"},"harnesses":{"small":"small","medium":"medium","large":"large","xlarge":"xlarge","xxlarge":"xxlarge"}}')},irB3:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:r={}}=n;return r.imperial?Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(function(e){return 3.28084*e}(t),0)," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-2 text-muted"},"ft")))):Object(i.h)(e,null,"ft"))):Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(t,0)," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-2 text-muted"},"m")))):Object(i.h)(e,null,"m")))}})||a;t.a=r}).call(this,s("hosL").Fragment)},ivZ3:function(e,t){!function(e){"use strict";function t(e){var t,s,a,i;for(s=1,a=arguments.length;s<a;s++)for(t in i=arguments[s])e[t]=i[t];return e}function s(e,t){var s=Array.prototype.slice;if(e.bind)return e.bind.apply(e,s.call(arguments,1));var a=s.call(arguments,2);return function(){return e.apply(t,a.length?a.concat(s.call(arguments)):arguments)}}function a(e){return e._leaflet_id=e._leaflet_id||++He,e._leaflet_id}function i(e,t,s){var a,i,o,n;return n=function(){a=!1,i&&(o.apply(s,i),i=!1)},o=function(){a?i=arguments:(e.apply(s,arguments),setTimeout(n,t),a=!0)}}function o(e,t,s){var a=t[1],i=t[0],o=a-i;return e===a&&s?e:((e-i)%o+o)%o+i}function n(){return!1}function r(e,t){var s=Math.pow(10,void 0===t?6:t);return Math.round(e*s)/s}function l(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function c(e){return l(e).split(/\s+/)}function d(e,t){for(var s in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?Be(e.options):{}),t)e.options[s]=t[s];return e.options}function h(e,t,s){var a=[];for(var i in e)a.push(encodeURIComponent(s?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+a.join("&")}function u(e,t){return e.replace(Ve,(function(e,s){var a=t[s];if(void 0===a)throw new Error("No value provided for variable "+e);return"function"==typeof a&&(a=a(t)),a}))}function p(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return s;return-1}function m(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function b(e){var t=+new Date,s=Math.max(0,16-(t-Ke));return Ke=t+s,window.setTimeout(e,s)}function f(e,t,a){if(!a||Ze!==b)return Ze.call(window,s(e,t));e.call(t)}function g(e){e&&Ye.call(window,e)}function O(){}function v(e,t,s){this.x=s?Math.round(e):e,this.y=s?Math.round(t):t}function y(e,t,s){return e instanceof v?e:Ge(e)?new v(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new v(e.x,e.y):new v(e,t,s)}function j(e,t){if(e)for(var s=t?[e,t]:e,a=0,i=s.length;a<i;a++)this.extend(s[a])}function w(e,t){return!e||e instanceof j?e:new j(e,t)}function k(e,t){if(e)for(var s=t?[e,t]:e,a=0,i=s.length;a<i;a++)this.extend(s[a])}function x(e,t){return e instanceof k?e:new k(e,t)}function S(e,t,s){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==s&&(this.alt=+s)}function _(e,t,s){return e instanceof S?e:Ge(e)&&"object"!=typeof e[0]?3===e.length?new S(e[0],e[1],e[2]):2===e.length?new S(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new S(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new S(e,t,s)}function T(e,t,s,a){if(Ge(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=s,this._d=a}function D(e,t,s,a){return new T(e,t,s,a)}function I(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e,t){var s,a,i,o,n,r,l="";for(s=0,i=e.length;s<i;s++){for(a=0,o=(n=e[s]).length;a<o;a++)l+=(a?"L":"M")+(r=n[a]).x+" "+r.y;l+=t?Bt?"z":"x":""}return l||"M0 0"}function C(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function A(e,t,a,i){return"touchstart"===t?function(e,t,a){var i=s((function(e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&be(e),R(e,t)}));e["_leaflet_touchstart"+a]=i,e.addEventListener(Gt,i,!1),Xt||(document.addEventListener(Gt,E,!0),document.addEventListener(qt,F,!0),document.addEventListener(Kt,M,!0),document.addEventListener(Zt,M,!0),Xt=!0)}(e,a,i):"touchmove"===t?function(e,t,s){var a=function(e){e.pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse")&&0===e.buttons||R(e,t)};e["_leaflet_touchmove"+s]=a,e.addEventListener(qt,a,!1)}(e,a,i):"touchend"===t&&function(e,t,s){var a=function(e){R(e,t)};e["_leaflet_touchend"+s]=a,e.addEventListener(Kt,a,!1),e.addEventListener(Zt,a,!1)}(e,a,i),this}function E(e){Yt[e.pointerId]=e}function F(e){Yt[e.pointerId]&&(Yt[e.pointerId]=e)}function M(e){delete Yt[e.pointerId]}function R(e,t){for(var s in e.touches=[],Yt)e.touches.push(Yt[s]);e.changedTouches=[e],t(e)}function z(e){return"string"==typeof e?document.getElementById(e):e}function U(e,t){var s=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!s||"auto"===s)&&document.defaultView){var a=document.defaultView.getComputedStyle(e,null);s=a?a[t]:null}return"auto"===s?null:s}function N(e,t,s){var a=document.createElement(e);return a.className=t||"",s&&s.appendChild(a),a}function $(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function B(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function H(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function V(e,t){if(void 0!==e.classList)return e.classList.contains(t);var s=Z(e);return s.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(s)}function G(e,t){if(void 0!==e.classList)for(var s=c(t),a=0,i=s.length;a<i;a++)e.classList.add(s[a]);else if(!V(e,t)){var o=Z(e);K(e,(o?o+" ":"")+t)}}function q(e,t){void 0!==e.classList?e.classList.remove(t):K(e,l((" "+Z(e)+" ").replace(" "+t+" "," ")))}function K(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function Z(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function Y(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var s=!1,a="DXImageTransform.Microsoft.Alpha";try{s=e.filters.item(a)}catch(e){if(1===t)return}t=Math.round(100*t),s?(s.Enabled=100!==t,s.Opacity=t):e.style.filter+=" progid:"+a+"(opacity="+t+")"}(e,t)}function X(e){for(var t=document.documentElement.style,s=0;s<e.length;s++)if(e[s]in t)return e[s];return!1}function J(e,t,s){var a=t||new v(0,0);e.style[ts]=(Dt?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(s?" scale("+s+")":"")}function Q(e,t){e._leaflet_pos=t,Lt?J(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function ee(e){return e._leaflet_pos||new v(0,0)}function te(){re(window,"dragstart",be)}function se(){le(window,"dragstart",be)}function ae(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(ie(),lt=e,ct=e.style.outline,e.style.outline="none",re(window,"keydown",ie))}function ie(){lt&&(lt.style.outline=ct,lt=void 0,ct=void 0,le(window,"keydown",ie))}function oe(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function ne(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}function re(e,t,s,a){if("object"==typeof t)for(var i in t)de(e,i,t[i],s);else for(var o=0,n=(t=c(t)).length;o<n;o++)de(e,t[o],s,a);return this}function le(e,t,s,a){if("object"==typeof t)for(var i in t)he(e,i,t[i],s);else if(t)for(var o=0,n=(t=c(t)).length;o<n;o++)he(e,t[o],s,a);else{for(var r in e[ns])he(e,r,e[ns][r]);delete e[ns]}return this}function ce(){if(Mt)return!(bt||xt)}function de(e,t,s,i){var o=t+a(s)+(i?"_"+a(i):"");if(e[ns]&&e[ns][o])return this;var n=function(t){return s.call(i||e,t||window.event)},r=n;Mt&&0===t.indexOf("touch")?A(e,t,n,o):Rt&&"dblclick"===t&&!ce()?function(e,t,s){function a(e){if(Mt){if(!e.isPrimary)return;if("mouse"===e.pointerType)return}else if(e.touches.length>1)return;var t=Date.now(),s=t-(o||t);n=e.touches?e.touches[0]:e,r=s>0&&s<=250,o=t}function i(e){if(r&&!n.cancelBubble){if(Mt){if("mouse"===e.pointerType)return;var s,a,i={};for(a in n)i[a]=(s=n[a])&&s.bind?s.bind(n):s;n=i}n.type="dblclick",n.button=0,t(n),o=null}}var o,n,r=!1;e[es+Jt+s]=a,e[es+Qt+s]=i,e[es+"dblclick"+s]=t,e.addEventListener(Jt,a,!!$t&&{passive:!1}),e.addEventListener(Qt,i,!!$t&&{passive:!1}),e.addEventListener("dblclick",t,!1)}(e,n,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(rs[t]||t,n,!!$t&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?e.addEventListener(rs[t],n=function(t){t=t||window.event,je(e,t)&&r(t)},!1):e.addEventListener(t,r,!1):"attachEvent"in e&&e.attachEvent("on"+t,n),e[ns]=e[ns]||{},e[ns][o]=n}function he(e,t,s,i){var o=t+a(s)+(i?"_"+a(i):""),n=e[ns]&&e[ns][o];if(!n)return this;Mt&&0===t.indexOf("touch")?function(e,t,s){var a=e["_leaflet_"+t+s];"touchstart"===t?e.removeEventListener(Gt,a,!1):"touchmove"===t?e.removeEventListener(qt,a,!1):"touchend"===t&&(e.removeEventListener(Kt,a,!1),e.removeEventListener(Zt,a,!1))}(e,t,o):Rt&&"dblclick"===t&&!ce()?function(e,t){var s=e[es+Qt+t],a=e[es+"dblclick"+t];e.removeEventListener(Jt,e[es+Jt+t],!!$t&&{passive:!1}),e.removeEventListener(Qt,s,!!$t&&{passive:!1}),e.removeEventListener("dblclick",a,!1)}(e,o):"removeEventListener"in e?e.removeEventListener(rs[t]||t,n,!1):"detachEvent"in e&&e.detachEvent("on"+t,n),e[ns][o]=null}function ue(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,ye(e),this}function pe(e){return de(e,"wheel",ue),this}function me(e){return re(e,"mousedown touchstart dblclick",ue),de(e,"click",ve),this}function be(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function fe(e){return be(e),ue(e),this}function ge(e,t){if(!t)return new v(e.clientX,e.clientY);var s=ne(t),a=s.boundingClientRect;return new v((e.clientX-a.left)/s.x-t.clientLeft,(e.clientY-a.top)/s.y-t.clientTop)}function Oe(e){return bt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/ls:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function ve(e){cs[e.type]=!0}function ye(e){var t=cs[e.type];return cs[e.type]=!1,t}function je(e,t){var s=t.relatedTarget;if(!s)return!0;try{for(;s&&s!==e;)s=s.parentNode}catch(e){return!1}return s!==e}function we(e,t){if(!t||!e.length)return e.slice();var s=t*t;return e=function(e,t){var s=e.length,a=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(s);a[0]=a[s-1]=1,function e(t,s,a,i,o){var n,r,l,c=0;for(r=i+1;r<=o-1;r++)(l=Te(t[r],t[i],t[o],!0))>c&&(n=r,c=l);c>a&&(s[n]=1,e(t,s,a,i,n),e(t,s,a,n,o))}(e,a,t,0,s-1);var i,o=[];for(i=0;i<s;i++)a[i]&&o.push(e[i]);return o}(e=function(e,t){for(var s=[e[0]],a=1,i=0,o=e.length;a<o;a++)l=void 0,c=void 0,(l=(r=e[i]).x-(n=e[a]).x)*l+(c=r.y-n.y)*c>t&&(s.push(e[a]),i=a);var n,r,l,c;return i<o-1&&s.push(e[o-1]),s}(e,s),s)}function ke(e,t,s){return Math.sqrt(Te(e,t,s,!0))}function xe(e,t,s,a,i){var o,n,r,l=a?ys:_e(e,s),c=_e(t,s);for(ys=c;;){if(!(l|c))return[e,t];if(l&c)return!1;r=_e(n=Se(e,t,o=l||c,s,i),s),o===l?(e=n,l=r):(t=n,c=r)}}function Se(e,t,s,a,i){var o,n,r=t.x-e.x,l=t.y-e.y,c=a.min,d=a.max;return 8&s?(o=e.x+r*(d.y-e.y)/l,n=d.y):4&s?(o=e.x+r*(c.y-e.y)/l,n=c.y):2&s?(o=d.x,n=e.y+l*(d.x-e.x)/r):1&s&&(o=c.x,n=e.y+l*(c.x-e.x)/r),new v(o,n,i)}function _e(e,t){var s=0;return e.x<t.min.x?s|=1:e.x>t.max.x&&(s|=2),e.y<t.min.y?s|=4:e.y>t.max.y&&(s|=8),s}function Te(e,t,s,a){var i,o=t.x,n=t.y,r=s.x-o,l=s.y-n,c=r*r+l*l;return c>0&&((i=((e.x-o)*r+(e.y-n)*l)/c)>1?(o=s.x,n=s.y):i>0&&(o+=r*i,n+=l*i)),r=e.x-o,l=e.y-n,a?r*r+l*l:new v(o,n)}function De(e){return!Ge(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function Ie(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),De(e)}function Pe(e,t,s){var a,i,o,n,r,l,c,d,h,u=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=_e(e[i],t);for(n=0;n<4;n++){for(d=u[n],a=[],i=0,o=(c=e.length)-1;i<c;o=i++)l=e[o],(r=e[i])._code&d?l._code&d||((h=Se(l,r,d,t,s))._code=_e(h,t),a.push(h)):(l._code&d&&((h=Se(l,r,d,t,s))._code=_e(h,t),a.push(h)),a.push(r));e=a}return e}function Le(e,t){var s,a,i,o,n="Feature"===e.type?e.geometry:e,r=n?n.coordinates:null,l=[],c=t&&t.pointToLayer,d=t&&t.coordsToLatLng||Ae;if(!r&&!n)return null;switch(n.type){case"Point":return Ce(c,e,s=d(r),t);case"MultiPoint":for(i=0,o=r.length;i<o;i++)s=d(r[i]),l.push(Ce(c,e,s,t));return new Ms(l);case"LineString":case"MultiLineString":return a=Ee(r,"LineString"===n.type?0:1,d),new Hs(a,t);case"Polygon":case"MultiPolygon":return a=Ee(r,"Polygon"===n.type?1:2,d),new Vs(a,t);case"GeometryCollection":for(i=0,o=n.geometries.length;i<o;i++){var h=Le({geometry:n.geometries[i],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new Ms(l);default:throw new Error("Invalid GeoJSON object.")}}function Ce(e,t,s,a){return e?e(t,s):new Ns(s,a&&a.markersInheritOptions&&a)}function Ae(e){return new S(e[1],e[0],e[2])}function Ee(e,t,s){for(var a,i=[],o=0,n=e.length;o<n;o++)a=t?Ee(e[o],t-1,s):(s||Ae)(e[o]),i.push(a);return i}function Fe(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[r(e.lng,t),r(e.lat,t),r(e.alt,t)]:[r(e.lng,t),r(e.lat,t)]}function Me(e,t,s,a){for(var i=[],o=0,n=e.length;o<n;o++)i.push(t?Me(e[o],t-1,s,a):Fe(e[o],a));return!t&&s&&i.push(i[0]),i}function Re(e,s){return e.feature?t({},e.feature,{geometry:s}):ze(s)}function ze(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function Ue(e,t){return new Gs(e,t)}function Ne(e,t){return new aa(e,t)}function $e(e){return Wt?new na(e):null}function We(e){return Bt||Ht?new da(e):null}var Be=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),He=0,Ve=/\{ *([\w_-]+) *\}/g,Ge=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},qe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Ke=0,Ze=window.requestAnimationFrame||m("RequestAnimationFrame")||b,Ye=window.cancelAnimationFrame||m("CancelAnimationFrame")||m("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},Xe={extend:t,create:Be,bind:s,lastId:He,stamp:a,throttle:i,wrapNum:o,falseFn:n,formatNum:r,trim:l,splitWords:c,setOptions:d,getParamString:h,template:u,isArray:Ge,indexOf:p,emptyImageUrl:qe,requestFn:Ze,cancelFn:Ye,requestAnimFrame:f,cancelAnimFrame:g};O.extend=function(e){var s=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=s.__super__=this.prototype,i=Be(a);for(var o in i.constructor=s,s.prototype=i,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(s[o]=this[o]);return e.statics&&(t(s,e.statics),delete e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=Ge(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[i].concat(e.includes)),delete e.includes),i.options&&(e.options=t(Be(i.options),e.options)),t(i,e),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=i._initHooks.length;e<t;e++)i._initHooks[e].call(this)}},s},O.include=function(e){return t(this.prototype,e),this},O.mergeOptions=function(e){return t(this.prototype.options,e),this},O.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),s="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};var Je={on:function(e,t,s){if("object"==typeof e)for(var a in e)this._on(a,e[a],t);else for(var i=0,o=(e=c(e)).length;i<o;i++)this._on(e[i],t,s);return this},off:function(e,t,s){if(e)if("object"==typeof e)for(var a in e)this._off(a,e[a],t);else for(var i=0,o=(e=c(e)).length;i<o;i++)this._off(e[i],t,s);else delete this._events;return this},_on:function(e,t,s){this._events=this._events||{};var a=this._events[e];a||(this._events[e]=a=[]),s===this&&(s=void 0);for(var i={fn:t,ctx:s},o=a,n=0,r=o.length;n<r;n++)if(o[n].fn===t&&o[n].ctx===s)return;o.push(i)},_off:function(e,t,s){var a,i,o;if(this._events&&(a=this._events[e]))if(t){if(s===this&&(s=void 0),a)for(i=0,o=a.length;i<o;i++){var r=a[i];if(r.ctx===s&&r.fn===t)return r.fn=n,this._firingCount&&(this._events[e]=a=a.slice()),void a.splice(i,1)}}else{for(i=0,o=a.length;i<o;i++)a[i].fn=n;delete this._events[e]}},fire:function(e,s,a){if(!this.listens(e,a))return this;var i=t({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var n=0,r=o.length;n<r;n++){var l=o[n];l.fn.call(l.ctx||this,i)}this._firingCount--}}return a&&this._propagateEvent(i),this},listens:function(e,t){var s=this._events&&this._events[e];if(s&&s.length)return!0;if(t)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t))return!0;return!1},once:function(e,t,a){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var o=s((function(){this.off(e,t,a).off(e,o,a)}),this);return this.on(e,t,a).on(e,o,a)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};Je.addEventListener=Je.on,Je.removeEventListener=Je.clearAllEventListeners=Je.off,Je.addOneTimeEventListener=Je.once,Je.fireEvent=Je.fire,Je.hasEventListeners=Je.listens;var Qe=O.extend(Je),et=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};v.prototype={clone:function(){return new v(this.x,this.y)},add:function(e){return this.clone()._add(y(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(y(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new v(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new v(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(e){var t=(e=y(e)).x-this.x,s=e.y-this.y;return Math.sqrt(t*t+s*s)},equals:function(e){return(e=y(e)).x===this.x&&e.y===this.y},contains:function(e){return e=y(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+r(this.x)+", "+r(this.y)+")"}},j.prototype={extend:function(e){return e=y(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new v((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new v(this.min.x,this.max.y)},getTopRight:function(){return new v(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,s;return(e="number"==typeof e[0]||e instanceof v?y(e):w(e))instanceof j?(t=e.min,s=e.max):t=s=e,t.x>=this.min.x&&s.x<=this.max.x&&t.y>=this.min.y&&s.y<=this.max.y},intersects:function(e){e=w(e);var t=this.min,s=this.max,a=e.min,i=e.max;return i.x>=t.x&&a.x<=s.x&&i.y>=t.y&&a.y<=s.y},overlaps:function(e){e=w(e);var t=this.min,s=this.max,a=e.min,i=e.max;return i.x>t.x&&a.x<s.x&&i.y>t.y&&a.y<s.y},isValid:function(){return!(!this.min||!this.max)}},k.prototype={extend:function(e){var t,s,a=this._southWest,i=this._northEast;if(e instanceof S)t=e,s=e;else{if(!(e instanceof k))return e?this.extend(_(e)||x(e)):this;if(s=e._northEast,!(t=e._southWest)||!s)return this}return a||i?(a.lat=Math.min(t.lat,a.lat),a.lng=Math.min(t.lng,a.lng),i.lat=Math.max(s.lat,i.lat),i.lng=Math.max(s.lng,i.lng)):(this._southWest=new S(t.lat,t.lng),this._northEast=new S(s.lat,s.lng)),this},pad:function(e){var t=this._southWest,s=this._northEast,a=Math.abs(t.lat-s.lat)*e,i=Math.abs(t.lng-s.lng)*e;return new k(new S(t.lat-a,t.lng-i),new S(s.lat+a,s.lng+i))},getCenter:function(){return new S((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new S(this.getNorth(),this.getWest())},getSouthEast:function(){return new S(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof S||"lat"in e?_(e):x(e);var t,s,a=this._southWest,i=this._northEast;return e instanceof k?(t=e.getSouthWest(),s=e.getNorthEast()):t=s=e,t.lat>=a.lat&&s.lat<=i.lat&&t.lng>=a.lng&&s.lng<=i.lng},intersects:function(e){e=x(e);var t=this._southWest,s=this._northEast,a=e.getSouthWest(),i=e.getNorthEast();return i.lat>=t.lat&&a.lat<=s.lat&&i.lng>=t.lng&&a.lng<=s.lng},overlaps:function(e){e=x(e);var t=this._southWest,s=this._northEast,a=e.getSouthWest(),i=e.getNorthEast();return i.lat>t.lat&&a.lat<s.lat&&i.lng>t.lng&&a.lng<s.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=x(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},S.prototype={equals:function(e,t){return!!e&&(e=_(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+r(this.lat,e)+", "+r(this.lng,e)+")"},distanceTo:function(e){return at.distance(this,_(e))},wrap:function(){return at.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,s=t/Math.cos(Math.PI/180*this.lat);return x([this.lat-t,this.lng-s],[this.lat+t,this.lng+s])},clone:function(){return new S(this.lat,this.lng,this.alt)}};var tt,st={latLngToPoint:function(e,t){var s=this.projection.project(e),a=this.scale(t);return this.transformation._transform(s,a)},pointToLatLng:function(e,t){var s=this.scale(t),a=this.transformation.untransform(e,s);return this.projection.unproject(a)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,s=this.scale(e);return new j(this.transformation.transform(t.min,s),this.transformation.transform(t.max,s))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new S(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),s=this.wrapLatLng(t),a=t.lat-s.lat,i=t.lng-s.lng;if(0===a&&0===i)return e;var o=e.getSouthWest(),n=e.getNorthEast();return new k(new S(o.lat-a,o.lng-i),new S(n.lat-a,n.lng-i))}},at=t({},st,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var s=Math.PI/180,a=e.lat*s,i=t.lat*s,o=Math.sin((t.lat-e.lat)*s/2),n=Math.sin((t.lng-e.lng)*s/2),r=o*o+Math.cos(a)*Math.cos(i)*n*n,l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*l}}),it={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,s=this.MAX_LATITUDE,a=Math.max(Math.min(s,e.lat),-s),i=Math.sin(a*t);return new v(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new S((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(tt=6378137*Math.PI,new j([-tt,-tt],[tt,tt]))};T.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return e.x=(t=t||1)*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return new v((e.x/(t=t||1)-this._b)/this._a,(e.y/t-this._d)/this._c)}};var ot,nt,rt,lt,ct,dt=t({},at,{code:"EPSG:3857",projection:it,transformation:function(){var e=.5/(Math.PI*it.R);return D(e,.5,-e,.5)}()}),ht=t({},dt,{code:"EPSG:900913"}),ut=document.documentElement.style,pt="ActiveXObject"in window,mt=pt&&!document.addEventListener,bt="msLaunchUri"in navigator&&!("documentMode"in document),ft=C("webkit"),gt=C("android"),Ot=C("android 2")||C("android 3"),vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yt=gt&&C("Google")&&vt<537&&!("AudioNode"in window),jt=!!window.opera,wt=!bt&&C("chrome"),kt=C("gecko")&&!ft&&!jt&&!pt,xt=!wt&&C("safari"),St=C("phantom"),_t="OTransition"in ut,Tt=0===navigator.platform.indexOf("Win"),Dt=pt&&"transition"in ut,It="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ot,Pt="MozPerspective"in ut,Lt=!window.L_DISABLE_3D&&(Dt||It||Pt)&&!_t&&!St,Ct="undefined"!=typeof orientation||C("mobile"),At=Ct&&ft,Et=Ct&&It,Ft=!window.PointerEvent&&window.MSPointerEvent,Mt=!(!window.PointerEvent&&!Ft),Rt=!window.L_NO_TOUCH&&(Mt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),zt=Ct&&jt,Ut=Ct&&kt,Nt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$t=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(e){}return e}(),Wt=!!document.createElement("canvas").getContext,Bt=!(!document.createElementNS||!I("svg").createSVGRect),Ht=!Bt&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),Vt={ie:pt,ielt9:mt,edge:bt,webkit:ft,android:gt,android23:Ot,androidStock:yt,opera:jt,chrome:wt,gecko:kt,safari:xt,phantom:St,opera12:_t,win:Tt,ie3d:Dt,webkit3d:It,gecko3d:Pt,any3d:Lt,mobile:Ct,mobileWebkit:At,mobileWebkit3d:Et,msPointer:Ft,pointer:Mt,touch:Rt,mobileOpera:zt,mobileGecko:Ut,retina:Nt,passiveEvents:$t,canvas:Wt,svg:Bt,vml:Ht},Gt=Ft?"MSPointerDown":"pointerdown",qt=Ft?"MSPointerMove":"pointermove",Kt=Ft?"MSPointerUp":"pointerup",Zt=Ft?"MSPointerCancel":"pointercancel",Yt={},Xt=!1,Jt=Ft?"MSPointerDown":Mt?"pointerdown":"touchstart",Qt=Ft?"MSPointerUp":Mt?"pointerup":"touchend",es="_leaflet_",ts=X(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ss=X(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),as="webkitTransition"===ss||"OTransition"===ss?ss+"End":"transitionend";if("onselectstart"in document)ot=function(){re(window,"selectstart",be)},nt=function(){le(window,"selectstart",be)};else{var is=X(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ot=function(){if(is){var e=document.documentElement.style;rt=e[is],e[is]="none"}},nt=function(){is&&(document.documentElement.style[is]=rt,rt=void 0)}}var os={TRANSFORM:ts,TRANSITION:ss,TRANSITION_END:as,get:z,getStyle:U,create:N,remove:$,empty:W,toFront:B,toBack:H,hasClass:V,addClass:G,removeClass:q,setClass:K,getClass:Z,setOpacity:Y,testProp:X,setTransform:J,setPosition:Q,getPosition:ee,disableTextSelection:ot,enableTextSelection:nt,disableImageDrag:te,enableImageDrag:se,preventOutline:ae,restoreOutline:ie,getSizedParentNode:oe,getScale:ne},ns="_leaflet_events",rs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},ls=Tt&&wt?2*window.devicePixelRatio:kt?window.devicePixelRatio:1,cs={},ds={on:re,off:le,stopPropagation:ue,disableScrollPropagation:pe,disableClickPropagation:me,preventDefault:be,stop:fe,getMousePosition:ge,getWheelDelta:Oe,fakeStop:ve,skipped:ye,isExternalTarget:je,addListener:re,removeListener:le},hs=Qe.extend({run:function(e,t,s,a){this.stop(),this._el=e,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=ee(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=f(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,s=1e3*this._duration;t<s?this._runFrame(this._easeOut(t/s),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var s=this._startPos.add(this._offset.multiplyBy(e));t&&s._round(),Q(this._el,s),this.fire("step")},_complete:function(){g(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),us=Qe.extend({options:{crs:dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=d(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(_(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ss&&Lt&&!zt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,as,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,a){return s=void 0===s?this._zoom:this._limitZoom(s),e=this._limitCenter(_(e),s,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&!0!==a&&(void 0!==a.animate&&(a.zoom=t({animate:a.animate},a.zoom),a.pan=t({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,a.zoom):this._tryAnimatedPan(e,a.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,s),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return this.setZoom(this._zoom+(e=e||(Lt?this.options.zoomDelta:1)),t)},zoomOut:function(e,t){return this.setZoom(this._zoom-(e=e||(Lt?this.options.zoomDelta:1)),t)},setZoomAround:function(e,t,s){var a=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof v?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/a),n=this.containerPointToLatLng(i.add(o));return this.setView(n,t,{zoom:s})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():x(e);var s=y(t.paddingTopLeft||t.padding||[0,0]),a=y(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,s.add(a));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=a.subtract(s).divideBy(2),n=this.project(e.getSouthWest(),i),r=this.project(e.getNorthEast(),i);return{center:this.unproject(n.add(r).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=x(e)).isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(e,t);return this.setView(s.center,s.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=y(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){G(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,s,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,s){function a(e){var t=(u*u-h*h+2.0164*(e?-1:1)*2.0164*p*p)/(2*(e?u:h)*2.0164*p),s=Math.sqrt(t*t+1)-t;return s<1e-9?-18:Math.log(s)}function i(e){return(Math.exp(e)-Math.exp(-e))/2}function o(e){return(Math.exp(e)+Math.exp(-e))/2}function n(e){return h*(o(m)*(i(t=m+1.42*e)/o(t))-i(m))/2.0164;var t}if(!1===(s=s||{}).animate||!Lt)return this.setView(e,t,s);this._stop();var r=this.project(this.getCenter()),l=this.project(e),c=this.getSize(),d=this._zoom;e=_(e),t=void 0===t?d:t;var h=Math.max(c.x,c.y),u=h*this.getZoomScale(d,t),p=l.distanceTo(r)||1,m=a(0),b=Date.now(),g=(a(1)-m)/1.42,O=s.duration?1e3*s.duration:1e3*g*.8;return this._moveStart(!0,s.noMoveStart),function s(){var a=(Date.now()-b)/O,i=function(e){return 1-Math.pow(1-e,1.5)}(a)*g;a<=1?(this._flyToFrame=f(s,this),this._move(this.unproject(r.add(l.subtract(r).multiplyBy(n(i)/p)),d),this.getScaleZoom(h/function(e){return h*(o(m)/o(m+1.42*e))}(i),d),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var s=this._getBoundsCenterZoom(e,t);return this.flyTo(s.center,s.zoom,t)},setMaxBounds:function(e){return(e=x(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var s=this.getCenter(),a=this._limitCenter(s,this._zoom,x(e));return s.equals(a)||this.panTo(a,t),this._enforcingBounds=!1,this},panInside:function(e,t){var s=y((t=t||{}).paddingTopLeft||t.padding||[0,0]),a=y(t.paddingBottomRight||t.padding||[0,0]),i=this.getCenter(),o=this.project(i),n=this.project(e),r=this.getPixelBounds(),l=r.getSize().divideBy(2),c=w([r.min.add(s),r.max.subtract(a)]);if(!c.contains(n)){this._enforcingBounds=!0;var d=o.subtract(n),h=y(n.x+d.x,n.y+d.y);(n.x<c.min.x||n.x>c.max.x)&&(h.x=o.x-d.x,d.x>0?h.x+=l.x-s.x:h.x-=l.x-a.x),(n.y<c.min.y||n.y>c.max.y)&&(h.y=o.y-d.y,d.y>0?h.y+=l.y-s.y:h.y-=l.y-a.y),this.panTo(this.unproject(h),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=a.divideBy(2).round(),n=i.divideBy(2).round(),r=o.subtract(n);return r.x||r.y?(e.animate&&e.pan?this.panBy(r):(e.pan&&this._rawPanBy(r),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=s(this._handleGeolocationResponse,this),i=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,i,e):navigator.geolocation.getCurrentPosition(a,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,s=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+s+"."})},_handleGeolocationResponse:function(e){var t=new S(e.coords.latitude,e.coords.longitude),s=t.toBounds(2*e.coords.accuracy),a=this._locateOptions;if(a.setView){var i=this.getBoundsZoom(s);this.setView(t,a.maxZoom?Math.min(i,a.maxZoom):i)}var o={latlng:t,bounds:s,timestamp:e.timestamp};for(var n in e.coords)"number"==typeof e.coords[n]&&(o[n]=e.coords[n]);this.fire("locationfound",o)},addHandler:function(e,t){if(!t)return this;var s=this[e]=new t(this);return this._handlers.push(s),this.options[e]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),$(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(g(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)$(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var s=N("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new k(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,s){e=x(e),s=y(s||[0,0]);var a=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),n=e.getNorthWest(),r=e.getSouthEast(),l=this.getSize().subtract(s),c=w(this.project(r,a),this.project(n,a)).getSize(),d=Lt?this.options.zoomSnap:1,h=l.x/c.x,u=l.y/c.y,p=t?Math.max(h,u):Math.min(h,u);return a=this.getScaleZoom(p,a),d&&(a=Math.round(a/(d/100))*(d/100),a=t?Math.ceil(a/d)*d:Math.floor(a/d)*d),Math.max(i,Math.min(o,a))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new v(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var s=this._getTopLeftPoint(e,t);return new j(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var s=this.options.crs;return t=void 0===t?this._zoom:t,s.scale(e)/s.scale(t)},getScaleZoom:function(e,t){var s=this.options.crs,a=s.zoom(e*s.scale(t=void 0===t?this._zoom:t));return isNaN(a)?1/0:a},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(_(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(y(e),t)},layerPointToLatLng:function(e){var t=y(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(_(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(_(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(x(e))},distance:function(e,t){return this.options.crs.distance(_(e),_(t))},containerPointToLayerPoint:function(e){return y(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return y(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(y(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_(e)))},mouseEventToContainerPoint:function(e){return ge(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=z(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");re(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt,G(e,"leaflet-container"+(Rt?" leaflet-touch":"")+(Nt?" leaflet-retina":"")+(mt?" leaflet-oldie":"")+(xt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=U(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Q(this._mapPane,new v(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(e.markerPane,"leaflet-zoom-hide"),G(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){Q(this._mapPane,new v(0,0));var s=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var a=this._zoom!==t;this._moveStart(a,!1)._move(e,t)._moveEnd(a),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,s){void 0===t&&(t=this._zoom);var a=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(a||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Q(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?le:re;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Lt&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=f((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var s,i=[],o="mouseout"===t||"mouseover"===t,n=e.target||e.srcElement,r=!1;n;){if((s=this._targets[a(n)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(s)){r=!0;break}if(s&&s.listens(t,!0)){if(o&&!je(n,e))break;if(i.push(s),o)break}if(n===this._container)break;n=n.parentNode}return i.length||r||o||!je(n,e)||(i=[this]),i},_handleDOMEvent:function(e){if(this._loaded&&!ye(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||ae(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,a){if("click"===e.type){var i=t({},e);i.type="preclick",this._fireDOMEvent(i,i.type,a)}if(!e._stopped&&(a=(a||[]).concat(this._findEventTargets(e,s))).length){var o=a[0];"contextmenu"===s&&o.listens(s,!0)&&be(e);var n={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var r=o.getLatLng&&(!o._radius||o._radius<=10);n.containerPoint=r?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e),n.layerPoint=this.containerPointToLayerPoint(n.containerPoint),n.latlng=r?o.getLatLng():this.layerPointToLatLng(n.layerPoint)}for(var l=0;l<a.length;l++)if(a[l].fire(s,n,!0),n.originalEvent._stopped||!1===a[l].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,s))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return ee(this._mapPane)||new v(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var s=this.getSize()._divideBy(2);return this.project(e,t)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,s){var a=this._getNewPixelOrigin(s,t);return this.project(e,t)._subtract(a)},_latLngBoundsToNewLayerBounds:function(e,t,s){var a=this._getNewPixelOrigin(s,t);return w([this.project(e.getSouthWest(),t)._subtract(a),this.project(e.getNorthWest(),t)._subtract(a),this.project(e.getSouthEast(),t)._subtract(a),this.project(e.getNorthEast(),t)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,s){if(!s)return e;var a=this.project(e,t),i=this.getSize().divideBy(2),o=new j(a.subtract(i),a.add(i)),n=this._getBoundsOffset(o,s,t);return n.round().equals([0,0])?e:this.unproject(a.add(n),t)},_limitOffset:function(e,t){if(!t)return e;var s=this.getPixelBounds(),a=new j(s.min.add(e),s.max.add(e));return e.add(this._getBoundsOffset(a,t))},_getBoundsOffset:function(e,t,s){var a=w(this.project(t.getNorthEast(),s),this.project(t.getSouthWest(),s)),i=a.min.subtract(e.min),o=a.max.subtract(e.max);return new v(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),s=this.getMaxZoom(),a=Lt?this.options.zoomSnap:1;return a&&(e=Math.round(e/a)*a),Math.max(t,Math.min(s,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){q(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var s=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(s)||(this.panBy(s,t),0))},_createAnimProxy:function(){var e=this._proxy=N("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ts,s=this._proxy.style[t];J(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),s===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();J(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||!1===s.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/a);return!(!0!==s.animate&&!this.getSize().contains(i)||(f((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,a,i){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&q(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),f((function(){this._moveEnd(!0)}),this))}}),ps=O.extend({options:{position:"topright"},initialize:function(e){d(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),s=this.getPosition(),a=e._controlCorners[s];return G(t,"leaflet-control"),-1!==s.indexOf("bottom")?a.insertBefore(t,a.firstChild):a.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ms=function(e){return new ps(e)};us.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,i){t[e+i]=N("div",s+e+" "+s+i,a)}var t=this._controlCorners={},s="leaflet-",a=this._controlContainer=N("div",s+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)$(this._controlCorners[e]);$(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bs=ps.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,s,a){return s<a?-1:a<s?1:0}},initialize:function(e,t,s){for(var a in d(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[a],a);for(a in t)this._addLayer(t[a],a,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return ps.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):q(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return q(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=N("div",e),s=this.options.collapsed;t.setAttribute("aria-haspopup",!0),me(t),pe(t);var a=this._section=N("section",e+"-list");s&&(this._map.on("click",this.collapse,this),gt||re(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=N("a",e+"-toggle",t);i.href="#",i.title="Layers",Rt?(re(i,"click",fe),re(i,"click",this.expand,this)):re(i,"focus",this.expand,this),s||this.expand(),this._baseLayersList=N("div",e+"-base",a),this._separator=N("div",e+"-separator",a),this._overlaysList=N("div",e+"-overlays",a),t.appendChild(a)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:a}),this.options.sortLayers&&this._layers.sort(s((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;W(this._baseLayersList),W(this._overlaysList),this._layerControlInputs=[];var e,t,s,a,i=0;for(s=0;s<this._layers.length;s++)this._addItem(a=this._layers[s]),t=t||a.overlay,e=e||!a.overlay,i+=a.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(e=e&&i>1)?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),s=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;s&&this._map.fire(s,t)},_createRadioElement:function(e,t){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=s,a.firstChild},_addItem:function(e){var t,s=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(t),t.layerId=a(e.layer),re(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var n=document.createElement("div");return s.appendChild(n),n.appendChild(t),n.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){var e,t,s=this._layerControlInputs,a=[],i=[];this._handlingClick=!0;for(var o=s.length-1;o>=0;o--)t=this._getLayer((e=s[o]).layerId).layer,e.checked?a.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<a.length;o++)this._map.hasLayer(a[o])||this._map.addLayer(a[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,s=this._layerControlInputs,a=this._map.getZoom(),i=s.length-1;i>=0;i--)t=this._getLayer((e=s[i]).layerId).layer,e.disabled=void 0!==t.options.minZoom&&a<t.options.minZoom||void 0!==t.options.maxZoom&&a>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),fs=ps.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",s=N("div",t+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,t+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,t+"-out",s,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,s,a,i){var o=N("a",s,a);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),me(o),re(o,"click",fe),re(o,"click",i,this),re(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";q(this._zoomInButton,t),q(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&G(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&G(this._zoomInButton,t)}});us.mergeOptions({zoomControl:!0}),us.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new fs,this.addControl(this.zoomControl))}));var gs=ps.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=N("div","leaflet-control-scale"),s=this.options;return this._addScales(s,"leaflet-control-scale-line",t),e.on(s.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,s){e.metric&&(this._mScale=N("div",t,s)),e.imperial&&(this._iScale=N("div",t,s))},_update:function(){var e=this._map,t=e.getSize().y/2,s=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(s)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e);this._updateScale(this._mScale,t<1e3?t+" m":t/1e3+" km",t/e)},_updateImperial:function(e){var t,s,a,i=3.2808399*e;i>5280?(s=this._getRoundNum(t=i/5280),this._updateScale(this._iScale,s+" mi",s/t)):(a=this._getRoundNum(i),this._updateScale(this._iScale,a+" ft",a/i))},_updateScale:function(e,t,s){e.style.width=Math.round(this.options.maxWidth*s)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),s=e/t;return t*(s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1)}}),Os=ps.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){d(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=N("div","leaflet-control-attribution"),me(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var s=[];this.options.prefix&&s.push(this.options.prefix),e.length&&s.push(e.join(", ")),this._container.innerHTML=s.join(" | ")}}});us.mergeOptions({attributionControl:!0}),us.addInitHook((function(){this.options.attributionControl&&(new Os).addTo(this)})),ps.Layers=bs,ps.Zoom=fs,ps.Scale=gs,ps.Attribution=Os,ms.layers=function(e,t,s){return new bs(e,t,s)},ms.zoom=function(e){return new fs(e)},ms.scale=function(e){return new gs(e)},ms.attribution=function(e){return new Os(e)};var vs=O.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vs.addTo=function(e,t){return e.addHandler(t,this),this};var ys,js={Events:Je},ws=Rt?"touchstart mousedown":"mousedown",ks={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},xs={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ss=Qe.extend({options:{clickTolerance:3},initialize:function(e,t,s,a){d(this,a),this._element=e,this._dragStartTarget=t||e,this._preventOutline=s},enable:function(){this._enabled||(re(this._dragStartTarget,ws,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ss._dragging===this&&this.finishDrag(),le(this._dragStartTarget,ws,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!V(this._element,"leaflet-zoom-anim")&&!(Ss._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(Ss._dragging=this,this._preventOutline&&ae(this._element),te(),ot(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e,s=oe(this._element);this._startPoint=new v(t.clientX,t.clientY),this._parentScale=ne(s),re(document,xs[e.type],this._onMove,this),re(document,ks[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,s=new v(t.clientX,t.clientY)._subtract(this._startPoint);(s.x||s.y)&&(Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,be(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ee(this._element).subtract(s),G(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,g(this._animRequest),this._lastEvent=e,this._animRequest=f(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Q(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in q(document.body,"leaflet-dragging"),this._lastTarget&&(q(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xs)le(document,xs[e],this._onMove,this),le(document,ks[e],this._onUp,this);se(),nt(),this._moved&&this._moving&&(g(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ss._dragging=!1}}),_s={simplify:we,pointToSegmentDistance:ke,closestPointOnSegment:function(e,t,s){return Te(e,t,s)},clipSegment:xe,_getEdgeIntersection:Se,_getBitCode:_e,_sqClosestPointOnSegment:Te,isFlat:De,_flat:Ie},Ts={clipPolygon:Pe},Ds={project:function(e){return new v(e.lng,e.lat)},unproject:function(e){return new S(e.y,e.x)},bounds:new j([-180,-90],[180,90])},Is={R:6378137,R_MINOR:6356752.314245179,bounds:new j([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,s=this.R,a=e.lat*t,i=this.R_MINOR/s,o=Math.sqrt(1-i*i),n=o*Math.sin(a),r=Math.tan(Math.PI/4-a/2)/Math.pow((1-n)/(1+n),o/2);return a=-s*Math.log(Math.max(r,1e-10)),new v(e.lng*t*s,a)},unproject:function(e){for(var t,s=180/Math.PI,a=this.R,i=this.R_MINOR/a,o=Math.sqrt(1-i*i),n=Math.exp(-e.y/a),r=Math.PI/2-2*Math.atan(n),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(r),t=Math.pow((1-t)/(1+t),o/2),r+=c=Math.PI/2-2*Math.atan(n*t)-r;return new S(r*s,e.x*s/a)}},Ps={LonLat:Ds,Mercator:Is,SphericalMercator:it},Ls=t({},at,{code:"EPSG:3395",projection:Is,transformation:function(){var e=.5/(Math.PI*Is.R);return D(e,.5,-e,.5)}()}),Cs=t({},at,{code:"EPSG:4326",projection:Ds,transformation:D(1/180,1,-1/180,.5)}),As=t({},st,{projection:Ds,transformation:D(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var s=t.lng-e.lng,a=t.lat-e.lat;return Math.sqrt(s*s+a*a)},infinite:!0});st.Earth=at,st.EPSG3395=Ls,st.EPSG3857=dt,st.EPSG900913=ht,st.EPSG4326=Cs,st.Simple=As;var Es=Qe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var s=this.getEvents();t.on(s,this),this.once("remove",(function(){t.off(s,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});us.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var s in this._layers)e.call(t,this._layers[s]);return this},_addLayers:function(e){for(var t=0,s=(e=e?Ge(e)?e:[e]:[]).length;t<s;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,s=this._getZoomSpan();for(var a in this._zoomBoundLayers){var i=this._zoomBoundLayers[a].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fs=Es.extend({initialize:function(e,t){var s,a;if(d(this,t),this._layers={},e)for(s=0,a=e.length;s<a;s++)this.addLayer(e[s])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,s,a=Array.prototype.slice.call(arguments,1);for(t in this._layers)(s=this._layers[t])[e]&&s[e].apply(s,a);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var s in this._layers)e.call(t,this._layers[s]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Ms=Fs.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Fs.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Fs.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new k;for(var t in this._layers){var s=this._layers[t];e.extend(s.getBounds?s.getBounds():s.getLatLng())}return e}}),Rs=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){d(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var s=this._getIconUrl(e);if(!s){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(s,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(a,e),a},_setIconStyles:function(e,t){var s=this.options,a=s[t+"Size"];"number"==typeof a&&(a=[a,a]);var i=y(a),o=y("shadow"===t&&s.shadowAnchor||s.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(s.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Nt&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),zs=Rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return zs.imagePath||(zs.imagePath=this._detectIconPath()),(this.options.imagePath||zs.imagePath)+Rs.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=N("div","leaflet-default-icon-path",document.body),t=U(e,"background-image")||U(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Us=vs.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ss(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&q(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,s=t._map,a=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=ee(t._icon),n=s.getPixelBounds(),r=s.getPixelOrigin(),l=w(n.min._subtract(r).add(i),n.max._subtract(r).subtract(i));if(!l.contains(o)){var c=y((Math.max(l.max.x,o.x)-l.max.x)/(n.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(n.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(n.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(n.min.y-l.min.y)).multiplyBy(a);s.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Q(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=f(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(g(this._panRequest),this._panRequest=f(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,s=t._shadow,a=ee(t._icon),i=t._map.layerPointToLatLng(a);s&&Q(s,a),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){g(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ns=Es.extend({options:{icon:new zs,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){d(this,t),this._latlng=_(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=_(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=e.icon.createIcon(this._icon),a=!1;s!==this._icon&&(this._icon&&this._removeIcon(),a=!0,e.title&&(s.title=e.title),"IMG"===s.tagName&&(s.alt=e.alt||"")),G(s,t),e.keyboard&&(s.tabIndex="0"),this._icon=s,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(G(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),$(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Q(this._icon,e),this._shadow&&Q(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Us)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Us(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Y(this._icon,e),this._shadow&&Y(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),$s=Es.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return d(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ws=$s.extend({options:{fill:!0,radius:10},initialize:function(e,t){d(this,t),this._latlng=_(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=_(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return $s.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,s=this._clickTolerance(),a=[e+s,t+s];this._pxBounds=new j(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Bs=Ws.extend({initialize:function(e,s,a){if("number"==typeof s&&(s=t({},a,{radius:s})),d(this,s),this._latlng=_(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new k(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:$s.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,s=this._map,a=s.options.crs;if(a.distance===at.distance){var i=Math.PI/180,o=this._mRadius/at.R/i,n=s.project([t+o,e]),r=s.project([t-o,e]),l=n.add(r).divideBy(2),c=s.unproject(l).lat,d=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(d)||0===d)&&(d=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(s.getPixelOrigin()),this._radius=isNaN(d)?0:l.x-s.project([c,e-d]).x,this._radiusY=l.y-n.y}else{var h=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(h).x}this._updateBounds()}}),Hs=$s.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){d(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,s,a=1/0,i=null,o=Te,n=0,r=this._parts.length;n<r;n++)for(var l=this._parts[n],c=1,d=l.length;c<d;c++){var h=o(e,t=l[c-1],s=l[c],!0);h<a&&(a=h,i=o(e,t,s))}return i&&(i.distance=Math.sqrt(a)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,s,a,i,o,n,r=this._rings[0],l=r.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=r[e].distanceTo(r[e+1])/2;if(0===t)return this._map.layerPointToLatLng(r[0]);for(e=0,a=0;e<l-1;e++)if((a+=s=(i=r[e]).distanceTo(o=r[e+1]))>t)return this._map.layerPointToLatLng([o.x-(n=(a-t)/s)*(o.x-i.x),o.y-n*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=_(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new k,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return De(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],s=De(e),a=0,i=e.length;a<i;a++)s?(t[a]=_(e[a]),this._bounds.extend(t[a])):t[a]=this._convertLatLngs(e[a]);return t},_project:function(){var e=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new v(e,e);this._pxBounds=new j([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,s){var a,i,o=e.length;if(e[0]instanceof S){for(i=[],a=0;a<o;a++)i[a]=this._map.latLngToLayerPoint(e[a]),s.extend(i[a]);t.push(i)}else for(a=0;a<o;a++)this._projectLatlngs(e[a],t,s)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,s,a,i,o,n,r,l=this._parts;for(t=0,a=0,i=this._rings.length;t<i;t++)for(s=0,o=(r=this._rings[t]).length;s<o-1;s++)(n=xe(r[s],r[s+1],e,s,!0))&&(l[a]=l[a]||[],l[a].push(n[0]),n[1]===r[s+1]&&s!==o-2||(l[a].push(n[1]),a++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,s=0,a=e.length;s<a;s++)e[s]=we(e[s],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var s,a,i,o,n,r,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,o=this._parts.length;s<o;s++)for(a=0,i=(n=(r=this._parts[s]).length)-1;a<n;i=a++)if((t||0!==a)&&ke(e,r[i],r[a])<=l)return!0;return!1}});Hs._flat=Ie;var Vs=Hs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,s,a,i,o,n,r,l=this._rings[0],c=l.length;if(!c)return null;for(o=n=r=0,e=0,t=c-1;e<c;t=e++)n+=((s=l[e]).x+(a=l[t]).x)*(i=s.y*a.x-a.y*s.x),r+=(s.y+a.y)*i,o+=3*i;return this._map.layerPointToLatLng(0===o?l[0]:[n/o,r/o])},_convertLatLngs:function(e){var t=Hs.prototype._convertLatLngs.call(this,e),s=t.length;return s>=2&&t[0]instanceof S&&t[0].equals(t[s-1])&&t.pop(),t},_setLatLngs:function(e){Hs.prototype._setLatLngs.call(this,e),De(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return De(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,s=new v(t,t);if(e=new j(e.min.subtract(s),e.max.add(s)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var a,i=0,o=this._rings.length;i<o;i++)(a=Pe(this._rings[i],e,!0)).length&&this._parts.push(a)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,s,a,i,o,n,r,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,r=this._parts.length;i<r;i++)for(o=0,n=(l=(t=this._parts[i]).length)-1;o<l;n=o++)(s=t[o]).y>e.y!=(a=t[n]).y>e.y&&e.x<(a.x-s.x)*(e.y-s.y)/(a.y-s.y)+s.x&&(c=!c);return c||Hs.prototype._containsPoint.call(this,e,!0)}}),Gs=Ms.extend({initialize:function(e,t){d(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,s,a,i=Ge(e)?e:e.features;if(i){for(t=0,s=i.length;t<s;t++)((a=i[t]).geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var n=Le(e,o);return n?(n.feature=ze(e),n.defaultOptions=n.options,this.resetStyle(n),o.onEachFeature&&o.onEachFeature(e,n),this.addLayer(n)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}}),qs={toGeoJSON:function(e){return Re(this,{type:"Point",coordinates:Fe(this.getLatLng(),e)})}};Ns.include(qs),Bs.include(qs),Ws.include(qs),Hs.include({toGeoJSON:function(e){var t=!De(this._latlngs);return Re(this,{type:(t?"Multi":"")+"LineString",coordinates:Me(this._latlngs,t?1:0,!1,e)})}}),Vs.include({toGeoJSON:function(e){var t=!De(this._latlngs),s=t&&!De(this._latlngs[0]),a=Me(this._latlngs,s?2:t?1:0,!0,e);return t||(a=[a]),Re(this,{type:(s?"Multi":"")+"Polygon",coordinates:a})}}),Fs.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(s){t.push(s.toGeoJSON(e).geometry.coordinates)})),Re(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var s="GeometryCollection"===t,a=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(s)a.push(i.geometry);else{var o=ze(i);"FeatureCollection"===o.type?a.push.apply(a,o.features):a.push(o)}}})),s?Re(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});var Ks=Ue,Zs=Es.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,s){this._url=e,this._bounds=x(t),d(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&B(this._image),this},bringToBack:function(){return this._map&&H(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=x(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:N("img");G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=n,t.onmousemove=n,t.onload=s(this.fire,this,"load"),t.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;J(this._image,s,t)},_reset:function(){var e=this._image,t=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=t.getSize();Q(e,t.min),e.style.width=s.x+"px",e.style.height=s.y+"px"},_updateOpacity:function(){Y(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Ys=Zs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:N("video");if(G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=n,t.onmousemove=n,t.onloadeddata=s(this.fire,this,"load"),e){for(var a=t.getElementsByTagName("source"),i=[],o=0;o<a.length;o++)i.push(a[o].src);this._url=a.length>0?i:[t.src]}else{Ge(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted;for(var r=0;r<this._url.length;r++){var l=N("source");l.src=this._url[r],t.appendChild(l)}}}}),Xs=Zs.extend({_initImage:function(){var e=this._image=this._url;G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=n,e.onmousemove=n}}),Js=Es.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){d(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Y(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Y(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(Y(this._container,0),this._removeTimeout=setTimeout(s($,void 0,this._container),200)):$(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=_(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&B(this._container),this},bringToBack:function(){return this._map&&H(this._container),this},_prepareOpen:function(e,t,s){if(t instanceof Es||(s=t,t=e),t instanceof Ms)for(var a in e._layers){t=e._layers[a];break}if(!s)if(t.getCenter)s=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");s=t.getLatLng()}return this._source=t,this.update(),s},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=y(this.options.offset),s=this._getAnchor();this._zoomAnimated?Q(this._container,e.add(s)):t=t.add(e).add(s);var a=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=a+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Qs=Js.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Js.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $s||this._source.on("preclick",ue))},onRemove:function(e){Js.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $s||this._source.off("preclick",ue))},getEvents:function(){var e=Js.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=N("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=N("div",e+"-content-wrapper",t);if(this._contentNode=N("div",e+"-content",s),me(t),pe(this._contentNode),re(t,"contextmenu",ue),this._tipContainer=N("div",e+"-tip-container",t),this._tip=N("div",e+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=N("a",e+"-close-button",t);a.href="#close",a.innerHTML="&#215;",re(a,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var s=e.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),t.width=s+1+"px",t.whiteSpace="",t.height="";var a=this.options.maxHeight;a&&e.offsetHeight>a?(t.height=a+"px",G(e,"leaflet-popup-scrolled")):q(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),s=this._getAnchor();Q(this._container,t.add(s))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt(U(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+t,a=this._containerWidth,i=new v(this._containerLeft,-s-this._containerBottom);i._add(ee(this._container));var o=e.layerPointToContainerPoint(i),n=y(this.options.autoPanPadding),r=y(this.options.autoPanPaddingTopLeft||n),l=y(this.options.autoPanPaddingBottomRight||n),c=e.getSize(),d=0,h=0;o.x+a+l.x>c.x&&(d=o.x+a-c.x+l.x),o.x-d-r.x<0&&(d=o.x-r.x),o.y+s+l.y>c.y&&(h=o.y+s-c.y+l.y),o.y-h-r.y<0&&(h=o.y-r.y),(d||h)&&e.fire("autopanstart").panBy([d,h])}},_onCloseButtonClick:function(e){this._close(),fe(e)},_getAnchor:function(){return y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});us.mergeOptions({closePopupOnClick:!0}),us.include({openPopup:function(e,t,s){return e instanceof Qs||(e=new Qs(s).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),Es.include({bindPopup:function(e,t){return e instanceof Qs?(d(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Qs(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(fe(e),t instanceof $s?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var ea=Js.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Js.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Js.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Js.prototype.getEvents.call(this);return Rt&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=N("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,s,a=this._map,i=this._container,o=a.latLngToContainerPoint(a.getCenter()),n=a.layerPointToContainerPoint(e),r=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,d=y(this.options.offset),h=this._getAnchor();"top"===r?(t=l/2,s=c):"bottom"===r?(t=l/2,s=0):"center"===r?(t=l/2,s=c/2):"right"===r?(t=0,s=c/2):"left"===r?(t=l,s=c/2):n.x<o.x?(r="right",t=0,s=c/2):(r="left",t=l+2*(d.x+h.x),s=c/2),e=e.subtract(y(t,s,!0)).add(d).add(h),q(i,"leaflet-tooltip-right"),q(i,"leaflet-tooltip-left"),q(i,"leaflet-tooltip-top"),q(i,"leaflet-tooltip-bottom"),G(i,"leaflet-tooltip-"+r),Q(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Y(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});us.include({openTooltip:function(e,t,s){return e instanceof ea||(e=new ea(s).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),Es.include({bindTooltip:function(e,t){return e instanceof ea?(d(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new ea(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),Rt&&(s.click=this._openTooltip)),this[t](s),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(G(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(q(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){this._tooltip&&this._map&&this.openTooltip(e.layer||e.target,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,s,a=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),s=this._map.containerPointToLayerPoint(t),a=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(a)}});var ta=Rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),s=this.options;if(s.html instanceof Element?(W(t),t.appendChild(s.html)):t.innerHTML=!1!==s.html?s.html:"",s.bgPos){var a=y(s.bgPos);t.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Rs.Default=zs;var sa=Es.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){d(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),$(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(B(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(H(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof v?e:new v(e,e)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,s=this.getPane().children,a=-e(-1/0,1/0),i=0,o=s.length;i<o;i++)t=s[i].style.zIndex,s[i]!==this._container&&t&&(a=e(a,+t));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!mt){Y(this._container,this.options.opacity);var e=+new Date,t=!1,s=!1;for(var a in this._tiles){var i=this._tiles[a];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);Y(i.el,o),o<1?t=!0:(i.active?s=!0:this._onOpaqueTile(i),i.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),t&&(g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this))}},_onOpaqueTile:n,_initContainer:function(){this._container||(this._container=N("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===e?(this._levels[s].el.style.zIndex=t-Math.abs(e-s),this._onUpdateLevel(s)):($(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var a=this._levels[e],i=this._map;return a||((a=this._levels[e]={}).el=N("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=t,a.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),a.zoom=e,this._setZoomTransform(a,i.getCenter(),i.getZoom()),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:n,_onRemoveLevel:n,_onCreateLevel:n,_pruneTiles:function(){if(this._map){var e,t,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var a=t.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)$(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,s,a){var i=Math.floor(e/2),o=Math.floor(t/2),n=s-1,r=new v(+i,+o);r.z=+n;var l=this._tileCoordsToKey(r),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),n>a&&this._retainParent(i,o,n,a))},_retainChildren:function(e,t,s,a){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var n=new v(i,o);n.z=s+1;var r=this._tileCoordsToKey(n),l=this._tiles[r];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),s+1<a&&this._retainChildren(i,o,s+1,a))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,s,a){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i),a&&!(this.options.updateWhenZooming&&i!==this._tileZoom)||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var s in this._levels)this._setZoomTransform(this._levels[s],e,t)},_setZoomTransform:function(e,t,s){var a=this._map.getZoomScale(s,e.zoom),i=e.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(t,s)).round();Lt?J(e.el,i,a):Q(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,s=this._tileSize=this.getTileSize(),a=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],a).x/s.x),Math.ceil(e.project([0,t.wrapLng[1]],a).x/s.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],a).y/s.x),Math.ceil(e.project([t.wrapLat[1],0],a).y/s.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,s=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),a=t.getZoomScale(s,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*a);return new j(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var s=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var a=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(a),o=i.getCenter(),n=[],r=this.options.keepBuffer,l=new j(i.getBottomLeft().subtract([r,-r]),i.getTopRight().add([r,-r]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var d=this._tiles[c].coords;d.z===this._tileZoom&&l.contains(new v(d.x,d.y))||(this._tiles[c].current=!1)}if(Math.abs(s-this._tileZoom)>1)this._setView(e,s);else{for(var h=i.min.y;h<=i.max.y;h++)for(var u=i.min.x;u<=i.max.x;u++){var p=new v(u,h);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:n.push(p)}}if(n.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==n.length){this._loading||(this._loading=!0,this.fire("loading"));var b=document.createDocumentFragment();for(u=0;u<n.length;u++)this._addTile(n[u],b);this._level.el.appendChild(b)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var s=this._globalTileRange;if(!t.wrapLng&&(e.x<s.min.x||e.x>s.max.x)||!t.wrapLat&&(e.y<s.min.y||e.y>s.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(e);return x(this.options.bounds).overlaps(a)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,s=this.getTileSize(),a=e.scaleBy(s),i=a.add(s);return[t.unproject(a,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),s=new k(t[0],t[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),s=new v(+t[0],+t[1]);return s.z=+t[2],s},_removeTile:function(e){var t=this._tiles[e];t&&($(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){G(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=n,e.onmousemove=n,mt&&this.options.opacity<1&&Y(e,this.options.opacity),gt&&!Ot&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var a=this._getTilePos(e),i=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&f(s(this._tileReady,this,e,null,o)),Q(o,a),this._tiles[i]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,a){t&&this.fire("tileerror",{error:t,tile:a,coords:e});var i=this._tileCoordsToKey(e);(a=this._tiles[i])&&(a.loaded=+new Date,this._map._fadeAnimated?(Y(a.el,0),g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),t||(G(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),mt||!this._map._fadeAnimated?f(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new v(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new j(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),aa=sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=d(this,t)).detectRetina&&Nt&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),gt||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var a=document.createElement("img");return re(a,"load",s(this._tileOnLoad,this,t,a)),re(a,"error",s(this._tileOnError,this,t,a)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),a.alt="",a.setAttribute("role","presentation"),a.src=this.getTileUrl(e),a},getTileUrl:function(e){var s={r:Nt?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=a),s["-y"]=a}return u(this._url,t(s,this.options))},_tileOnLoad:function(e,t){mt?setTimeout(s(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,s){var a=this.options.errorTileUrl;a&&t.getAttribute("src")!==a&&(t.src=a),e(s,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom;return this.options.zoomReverse&&(e=this.options.maxZoom-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=n,t.onerror=n,t.complete||(t.src=qe,$(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return yt||t.el.setAttribute("src",qe),sa.prototype._removeTile.call(this,e)},_tileReady:function(e,t,s){if(this._map&&(!s||s.getAttribute("src")!==qe))return sa.prototype._tileReady.call(this,e,t,s)}}),ia=aa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var a=t({},this.defaultWmsParams);for(var i in s)i in this.options||(a[i]=s[i]);var o=(s=d(this,s)).detectRetina&&Nt?2:1,n=this.getTileSize();a.width=n.x*o,a.height=n.y*o,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,aa.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),s=this._crs,a=w(s.project(t[0]),s.project(t[1])),i=a.min,o=a.max,n=(this._wmsVersion>=1.3&&this._crs===Cs?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),r=aa.prototype.getTileUrl.call(this,e);return r+h(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+n},setParams:function(e,s){return t(this.wmsParams,e),s||this.redraw(),this}});aa.WMS=ia,Ne.wms=function(e,t){return new ia(e,t)};var oa=Es.extend({options:{padding:.1,tolerance:0},initialize:function(e){d(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var s=this._map.getZoomScale(t,this._zoom),a=ee(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),n=this._map.project(e,t).subtract(o),r=i.multiplyBy(-s).add(a).add(i).subtract(n);Lt?J(this._container,r,s):Q(this._container,r)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),s=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new j(s,s.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),na=oa.extend({getEvents:function(){var e=oa.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");re(e,"mousemove",this._onMouseMove,this),re(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){g(this._redrawRequest),delete this._ctx,$(this._container),le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){oa.prototype._update.call(this);var e=this._bounds,t=this._container,s=e.getSize(),a=Nt?2:1;Q(t,e.min),t.width=a*s.x,t.height=a*s.y,t.style.width=s.x+"px",t.style.height=s.y+"px",Nt&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){oa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,s=t.next,i=t.prev;s?s.prev=i:this._drawLast=i,i?i.next=s:this._drawFirst=s,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,s,a=e.options.dashArray.split(/[, ]+/),i=[];for(s=0;s<a.length;s++){if(t=Number(a[s]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||f(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var s=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)e=a.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var s,a,i,o,n=e._parts,r=n.length,l=this._ctx;if(r){for(l.beginPath(),s=0;s<r;s++){for(a=0,i=n[s].length;a<i;a++)l[a?"lineTo":"moveTo"]((o=n[s][a]).x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,s=this._ctx,a=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||a)/a;1!==i&&(s.save(),s.scale(1,i)),s.beginPath(),s.arc(t.x,t.y/i,a,0,2*Math.PI,!1),1!==i&&s.restore(),this._fillStroke(s,e)}},_fillStroke:function(e,t){var s=t.options;s.fill&&(e.globalAlpha=s.fillOpacity,e.fillStyle=s.fillColor||s.color,e.fill(s.fillRule||"evenodd")),s.stroke&&0!==s.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=s.opacity,e.lineWidth=s.weight,e.strokeStyle=s.color,e.lineCap=s.lineCap,e.lineJoin=s.lineJoin,e.stroke())},_onClick:function(e){for(var t,s,a=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(a)&&("click"!==e.type&&"preclick"===e.type||!this._map._draggableMoved(t))&&(s=t);s&&(ve(e),this._fireEvent([s],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(q(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var a,i,o=this._drawFirst;o;o=o.next)(a=o.layer).options.interactive&&a._containsPoint(t)&&(i=a);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(G(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(s((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,s){this._map._fireDOMEvent(t,s||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var s=t.next,a=t.prev;s&&(s.prev=a,a?a.next=s:s&&(this._drawFirst=s),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var s=t.next,a=t.prev;a&&(a.next=s,s?s.prev=a:a&&(this._drawLast=a),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}}),ra=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),la={_initContainer:function(){this._container=N("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oa.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=ra("shape");G(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=ra("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;$(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,s=e._fill,a=e.options,i=e._container;i.stroked=!!a.stroke,i.filled=!!a.fill,a.stroke?(t||(t=e._stroke=ra("stroke")),i.appendChild(t),t.weight=a.weight+"px",t.color=a.color,t.opacity=a.opacity,t.dashStyle=a.dashArray?Ge(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):"",t.endcap=a.lineCap.replace("butt","flat"),t.joinstyle=a.lineJoin):t&&(i.removeChild(t),e._stroke=null),a.fill?(s||(s=e._fill=ra("fill")),i.appendChild(s),s.color=a.fillColor||a.color,s.opacity=a.fillOpacity):s&&(i.removeChild(s),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),s=Math.round(e._radius),a=Math.round(e._radiusY||s);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+s+","+a+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){B(e._container)},_bringToBack:function(e){H(e._container)}},ca=Ht?ra:I,da=oa.extend({getEvents:function(){var e=oa.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=ca("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ca("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$(this._container),le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){oa.prototype._update.call(this);var e=this._bounds,t=e.getSize(),s=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,s.setAttribute("width",t.x),s.setAttribute("height",t.y)),Q(s,e.min),s.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ca("path");e.options.className&&G(t,e.options.className),e.options.interactive&&G(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){$(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,s=e.options;t&&(s.stroke?(t.setAttribute("stroke",s.color),t.setAttribute("stroke-opacity",s.opacity),t.setAttribute("stroke-width",s.weight),t.setAttribute("stroke-linecap",s.lineCap),t.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?t.setAttribute("stroke-dasharray",s.dashArray):t.removeAttribute("stroke-dasharray"),s.dashOffset?t.setAttribute("stroke-dashoffset",s.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),s.fill?(t.setAttribute("fill",s.fillColor||s.color),t.setAttribute("fill-opacity",s.fillOpacity),t.setAttribute("fill-rule",s.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,P(e._parts,t))},_updateCircle:function(e){var t=e._point,s=Math.max(Math.round(e._radius),1),a="a"+s+","+(Math.max(Math.round(e._radiusY),1)||s)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-s)+","+t.y+a+2*s+",0 "+a+2*-s+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){B(e._path)},_bringToBack:function(e){H(e._path)}});Ht&&da.include(la),us.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&$e(e)||We(e)}});var ha=Vs.extend({initialize:function(e,t){Vs.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=x(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});da.create=ca,da.pointsToPath=P,Gs.geometryToLayer=Le,Gs.coordsToLatLng=Ae,Gs.coordsToLatLngs=Ee,Gs.latLngToCoords=Fe,Gs.latLngsToCoords=Me,Gs.getFeature=Re,Gs.asFeature=ze,us.mergeOptions({boxZoom:!0});var ua=vs.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),ot(),te(),this._startPoint=this._map.mouseEventToContainerPoint(e),re(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=N("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new j(this._point,this._startPoint),s=t.getSize();Q(this._box,t.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&($(this._box),q(this._container,"leaflet-crosshair")),nt(),se(),le(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var t=new k(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});us.addInitHook("addHandler","boxZoom",ua),us.mergeOptions({doubleClickZoom:!0});var pa=vs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,s=t.getZoom(),a=t.options.zoomDelta,i=e.originalEvent.shiftKey?s-a:s+a;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});us.addInitHook("addHandler","doubleClickZoom",pa),us.mergeOptions({dragging:!0,inertia:!Ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ma=vs.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ss(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){q(this._map._container,"leaflet-grab"),q(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=x(this._map.options.maxBounds);this._offsetLimit=w(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),s=this._initialWorldOffset,a=this._draggable._newPos.x,i=(a-t+s)%e+t-s,o=(a+t+s)%e-t-s,n=Math.abs(i+s)<Math.abs(o+s)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=n},_onDragEnd:function(e){var t=this._map,s=t.options,a=!s.inertia||this._times.length<2;if(t.fire("dragend",e),a)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=s.easeLinearity,n=i.multiplyBy(o/((this._lastTime-this._times[0])/1e3)),r=n.distanceTo([0,0]),l=Math.min(s.inertiaMaxSpeed,r),c=n.multiplyBy(l/r),d=l/(s.inertiaDeceleration*o),h=c.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),f((function(){t.panBy(h,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});us.addInitHook("addHandler","dragging",ma),us.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ba=vs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),re(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,s=e.scrollTop||t.scrollTop,a=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(a,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,s,a=this._panKeys={},i=this.keyCodes;for(t=0,s=i.left.length;t<s;t++)a[i.left[t]]=[-1*e,0];for(t=0,s=i.right.length;t<s;t++)a[i.right[t]]=[e,0];for(t=0,s=i.down.length;t<s;t++)a[i.down[t]]=[0,e];for(t=0,s=i.up.length;t<s;t++)a[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,s,a=this._zoomKeys={},i=this.keyCodes;for(t=0,s=i.zoomIn.length;t<s;t++)a[i.zoomIn[t]]=e;for(t=0,s=i.zoomOut.length;t<s;t++)a[i.zoomOut[t]]=-e},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,s=e.keyCode,a=this._map;if(s in this._panKeys)a._panAnim&&a._panAnim._inProgress||(t=this._panKeys[s],e.shiftKey&&(t=y(t).multiplyBy(3)),a.panBy(t),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds));else if(s in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else{if(27!==s||!a._popup||!a._popup.options.closeOnEscapeKey)return;a.closePopup()}fe(e)}}});us.addInitHook("addHandler","keyboard",ba),us.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fa=vs.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Oe(e),a=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),i),fe(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),s=this._map.options.zoomSnap||0;e._stop();var a=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,i=s?Math.ceil(a/s)*s:a,o=e._limitZoom(t+(this._delta>0?i:-i))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});us.addInitHook("addHandler","scrollWheelZoom",fa),us.mergeOptions({tap:!0,tapTolerance:15});var ga=vs.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(be(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],a=t.target;this._startPos=this._newPos=new v(t.clientX,t.clientY),a.tagName&&"a"===a.tagName.toLowerCase()&&G(a,"leaflet-active"),this._holdTimeout=setTimeout(s((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),re(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),le(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],s=t.target;s&&s.tagName&&"a"===s.tagName.toLowerCase()&&q(s,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new v(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var s=document.createEvent("MouseEvents");s._simulated=!0,t.target._simulatedClick=!0,s.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}});!Rt||Mt&&!xt||us.addInitHook("addHandler","tap",ga),us.mergeOptions({touchZoom:Rt&&!Ot,bounceAtZoomLimits:!0});var Oa=vs.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){q(this._map._container,"leaflet-touch-zoom"),le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var s=t.mouseEventToContainerPoint(e.touches[0]),a=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(s.add(a)._divideBy(2))),this._startDist=s.distanceTo(a),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend",this._onTouchEnd,this),be(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,a=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),o=a.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var n=a._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===n.x&&0===n.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(n),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),g(this._animRequest);var r=s(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=f(r,this,!0),be(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,g(this._animRequest),le(document,"touchmove",this._onTouchMove,this),le(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});us.addInitHook("addHandler","touchZoom",Oa),us.BoxZoom=ua,us.DoubleClickZoom=pa,us.Drag=ma,us.Keyboard=ba,us.ScrollWheelZoom=fa,us.Tap=ga,us.TouchZoom=Oa,e.version="1.7.1",e.Control=ps,e.control=ms,e.Browser=Vt,e.Evented=Qe,e.Mixin=js,e.Util=Xe,e.Class=O,e.Handler=vs,e.extend=t,e.bind=s,e.stamp=a,e.setOptions=d,e.DomEvent=ds,e.DomUtil=os,e.PosAnimation=hs,e.Draggable=Ss,e.LineUtil=_s,e.PolyUtil=Ts,e.Point=v,e.point=y,e.Bounds=j,e.bounds=w,e.Transformation=T,e.transformation=D,e.Projection=Ps,e.LatLng=S,e.latLng=_,e.LatLngBounds=k,e.latLngBounds=x,e.CRS=st,e.GeoJSON=Gs,e.geoJSON=Ue,e.geoJson=Ks,e.Layer=Es,e.LayerGroup=Fs,e.layerGroup=function(e,t){return new Fs(e,t)},e.FeatureGroup=Ms,e.featureGroup=function(e,t){return new Ms(e,t)},e.ImageOverlay=Zs,e.imageOverlay=function(e,t,s){return new Zs(e,t,s)},e.VideoOverlay=Ys,e.videoOverlay=function(e,t,s){return new Ys(e,t,s)},e.SVGOverlay=Xs,e.svgOverlay=function(e,t,s){return new Xs(e,t,s)},e.DivOverlay=Js,e.Popup=Qs,e.popup=function(e,t){return new Qs(e,t)},e.Tooltip=ea,e.tooltip=function(e,t){return new ea(e,t)},e.Icon=Rs,e.icon=function(e){return new Rs(e)},e.DivIcon=ta,e.divIcon=function(e){return new ta(e)},e.Marker=Ns,e.marker=function(e,t){return new Ns(e,t)},e.TileLayer=aa,e.tileLayer=Ne,e.GridLayer=sa,e.gridLayer=function(e){return new sa(e)},e.SVG=da,e.svg=We,e.Renderer=oa,e.Canvas=na,e.canvas=$e,e.Path=$s,e.CircleMarker=Ws,e.circleMarker=function(e,t){return new Ws(e,t)},e.Circle=Bs,e.circle=function(e,t,s){return new Bs(e,t,s)},e.Polyline=Hs,e.polyline=function(e,t){return new Hs(e,t)},e.Polygon=Vs,e.polygon=function(e,t){return new Vs(e,t)},e.Rectangle=ha,e.rectangle=function(e,t){return new ha(e,t)},e.Map=us,e.map=function(e,t){return new us(e,t)};var va=window.L;e.noConflict=function(){return window.L=va,this},window.L=e}(t)},jpFG:function(e,t,s){(function(e){!function(s){"use strict";var a={};s.PubSub=a,function(e){function t(e,t,s){try{e(t,s)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function s(e,t,s){e(t,s)}function a(e,a,i,o){var r,l=n[a],c=o?s:t;if(Object.prototype.hasOwnProperty.call(n,a))for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&c(l[r],e,i)}function i(e){var t=String(e);return Boolean(Object.prototype.hasOwnProperty.call(n,t)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(n[t]))}function o(e,t,s,o){var n=function(e,t,s){return function(){var i=String(e),o=i.lastIndexOf(".");for(a(e,e,t,s);-1!==o;)o=(i=i.substr(0,o)).lastIndexOf("."),a(e,i,t,s);a(e,"*",t,s)}}(e="symbol"==typeof e?e.toString():e,t,o);return!!function(e){for(var t=String(e),s=i(t)||i("*"),a=t.lastIndexOf(".");!s&&-1!==a;)a=(t=t.substr(0,a)).lastIndexOf("."),s=i(t);return s}(e)&&(!0===s?n():setTimeout(n,0),!0)}var n={},r=-1;e.publish=function(t,s){return o(t,s,!1,e.immediateExceptions)},e.publishSync=function(t,s){return o(t,s,!0,e.immediateExceptions)},e.subscribe=function(e,t){if("function"!=typeof t)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(n,e)||(n[e]={});var s="uid_"+String(++r);return n[e][s]=t,s},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,s){var a=e.subscribe(t,(function(){e.unsubscribe(a),s.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){n={}},e.clearSubscriptions=function(e){var t;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&delete n[t]},e.countSubscriptions=function(e){var t,s=0;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&s++;return s},e.getSubscriptions=function(e){var t,s=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&s.push(t);return s},e.unsubscribe=function(t){var s,a,i,o="string"==typeof t&&(Object.prototype.hasOwnProperty.call(n,t)||function(e){var t;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e))return!0;return!1}(t)),r=!o&&"string"==typeof t,l="function"==typeof t,c=!1;if(!o){for(s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(a=n[s],r&&a[t]){delete a[t],c=t;break}if(l)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&a[i]===t&&(delete a[i],c=!0)}return c}e.clearSubscriptions(t)}}(a),void 0!==e&&e.exports&&(t=e.exports=a),t.PubSub=a,e.exports=t=a}("object"==typeof window&&window||this)}).call(this,s("RoC8")(e))},jsqw:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("ox/y"),l=(s("Utv1"),s("/eY4")),c=s("OhSV"),d=(s("go65"),s("Y3FI"),s("ZOvn"));const h={searchText:"",showInfo:{}},u=d.a.marginTopBack(!1);let p=Object(c.d)({hideProfile:Object(n.h)(c.c,{id:"users.settings-hide-profile"}),hideProfileHelp:Object(n.h)(c.c,{id:"users.settings-hide-profile-help"}),veterinaryAllowed:Object(n.h)(c.c,{id:"users.settings-allow-racevet"},"Tillat veterinær"),veterinaryAllowedHelp:Object(n.h)(c.c,{id:"users.settings-veterinary-help"},"Dersom du ønsker at godkjente veterinærer skal kunne søke deg opp og legge inn vaksiner må du skru på her."),hideInvite:Object(n.h)(c.c,{id:"users.settings-hide-invite"},"Skjul invitasjonsboks"),hideInviteHelp:Object(n.h)(c.c,{id:"users.settings-hide-invite-help"},"Skjul invitasjonsboksen på forsiden."),hideSettings:Object(n.h)(c.c,{id:"users.settings-hide-settings"},"Skjul innstillinger"),hideSettingsHelp:Object(n.h)(c.c,{id:"users.settings-hide-settings-help"},"Skjul innstillinger på forsiden."),imperial:Object(n.h)(c.c,{id:"users.settings-imperial"},"Imperial units"),imperialHelp:Object(n.h)(c.c,{id:"users.settings-imperial-email"},"Use imperial units like mils, mph, Fahrenheit."),summaryEmails:Object(n.h)(c.c,{id:"users.settings-summary-email"},"Oppsummeringer"),summaryEmailsHelp:Object(n.h)(c.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post"),notificationEmails:Object(n.h)(c.c,{id:"users.settings-notification-email"},"Notifications"),notificationEmailsHelp:Object(n.h)(c.c,{id:"users.settings-receive-notification-email"},"Receive notifications via email"),infoEmails:Object(n.h)(c.c,{id:"users.settings-info-email"},"Info"),infoEmailsHelp:Object(n.h)(c.c,{id:"users.settings-receive-info-email"},"Motta info via e-post"),partnerEmails:Object(n.h)(c.c,{id:"users.settings-partner-email"},"Partners"),partnerEmailsHelp:Object(n.h)(c.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra våre partnere via e-post"),inboxEmails:Object(n.h)(c.c,{id:"users.settings-inbox-email"},"Inbox emails"),inboxEmailsHelp:Object(n.h)(c.c,{id:"users.settings-inbox-email-help"},"Receive inbox notifications via email."),storyLike:Object(n.h)(c.c,{id:"notifications.story-like"},"Story likes"),storyLikeHelp:Object(n.h)(c.c,{id:"notifications.story-like-help"},"Receive notification when your stories are liked."),storyComment:Object(n.h)(c.c,{id:"notifications.story-comment"},"Story comments"),storyCommentHelp:Object(n.h)(c.c,{id:"notifications.story-comment-help"},"Receive notification when your stories are commented."),workoutLike:Object(n.h)(c.c,{id:"notifications.workout-like"},"Workout likes"),workoutLikeHelp:Object(n.h)(c.c,{id:"notifications.workout-like-help"},"Receive notification when your workouts are liked."),workoutComment:Object(n.h)(c.c,{id:"notifications.workout-comment"},"Workout comments"),workoutCommentHelp:Object(n.h)(c.c,{id:"notifications.workout-comment-help"},"Receive notification when your workouts are commented."),message:Object(n.h)(c.c,{id:"notifications.message"},"Inbox messages"),messageHelp:Object(n.h)(c.c,{id:"notifications.message-help"},"Receive notification when your receive an inbox message."),messageLike:Object(n.h)(c.c,{id:"notifications.message-like"},"Inbox message likes"),messageLikeHelp:Object(n.h)(c.c,{id:"notifications.message-like-help"},"Receive notification when your inbox messages are liked."),workoutChanged:Object(n.h)(c.c,{id:"notifications.workout-changed"},"Workout changed"),workoutChangedHelp:Object(n.h)(c.c,{id:"notifications.workout-changed-help"},"Receive notification when a workout is changed."),trackChanged:Object(n.h)(c.c,{id:"notifications.track-changed"},"Track changed"),trackChangedHelp:Object(n.h)(c.c,{id:"notifications.track-changed-help"},"Receive notification when a track is changed."),dogChanged:Object(n.h)(c.c,{id:"notifications.dog-changed"},"Dog changed"),dogChangedHelp:Object(n.h)(c.c,{id:"notifications.dog-changed-help"},"Receive notification when a dog is changed."),allStories:Object(n.h)(c.c,{id:"notifications.stories-new"},"New stories"),allStoriesHelp:Object(n.h)(c.c,{id:"notifications.stories-new-help"},"Receive notification when a new story is posted.")})(o=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.toggleDarkmode=e=>{const{appState:t}=this.props.stores;t.toggleDarkmode(),this.toggleDropdown(e)},this.toggleViewmode=e=>{const{appState:t}=this.props.stores,{mode:s}=e.target.closest("a").dataset;t.toggleViewmode(s)},this.changeLanguage=e=>{const{lang:t}=e.target.closest("a").dataset,{userStore:s}=this.props.stores,{user:a}=s;s.setLanguage({email:a.email,language:t})},this.toggleSetting=async function(e){const{userStore:s}=t.props.stores,{user:a}=s,{settings:i={}}=a;await s.updateSetting({["settings."+e]:1===i[e]?0:1},{[e]:1===i[e]?0:1})},this.toggleInfo=e=>{const{name:t}=e.target.closest("i").dataset,{showInfo:s}=this.state;s[t]=!s[t],this.setState({showInfo:s})},this.toggleNotification=async function(e){const{userStore:s}=t.props.stores,{user:a}=s,{notifications:i={}}=a,o=i[e]?0:1;await s.setNotification({field:"notifications."+e,value:o})},this.toggleNotificationTopic=async function(e){const{userStore:s}=t.props.stores,{user:a}=s,{notificationTopics:i={}}=a,o=i[e]?0:1;await s.setNotificationTopic({field:"notificationTopics."+e,value:o})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}componentWillReceiveProps(e){e.search!==this.props.search&&this.loadAll(e)}render(){const{appState:t,userStore:s}=this.props.stores,{showInfo:a={}}=this.state,{user:i}=s,{settings:o={},notifications:l={},notificationTopics:d={},language:h="en"}=i;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: 200px; margin-top: 60px;"},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${u}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("h1",null,Object(n.h)(c.c,{id:"settings.user"},"User")))),Object(n.h)("div",{class:"row m-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"settings.profile"},"Profile"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-success py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-user"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)("a",{href:"/users/",class:"stretched-link"},Object(n.h)(c.c,{id:"users.title"},"Din profil"))),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"})))),Object(n.h)("div",{class:"row border-top"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-warning py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-user-edit"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)("a",{href:"/users/edit",class:"stretched-link"},Object(n.h)(c.c,{id:"users.edit-profile"},"Edit profil"))),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"})))),Object(n.h)("div",{class:"row border-top"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-danger py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-key"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)("a",{href:"/users/edit-password",class:"stretched-link"},Object(n.h)(c.c,{id:"users.change-password"},"Change password"))),Object(n.h)("button",{class:"btn btn-link btn-lg py-0 px-1 mr-3"},Object(n.h)("i",{class:"fas fa-angle-right"}))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"settings.user-email"},"Email"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["summaryEmails","notificationEmails","infoEmails","partnerEmails","inboxEmails"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props[t],this.props[t+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":t}),this.props[t+"Help"]&&a[t]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},this.props[t+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+t,onInput:()=>this.toggleSetting(t),checked:o[t]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+t}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"settings.notifications"},"Notifications"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["storyLike","storyComment","workoutLike","workoutComment","message","messageLike","workoutChanged","trackChanged","dogChanged"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props[t],this.props[t+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":t}),this.props[t+"Help"]&&a[t]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},this.props[t+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+t,onInput:()=>this.toggleNotification(t),checked:l[t]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+t}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(n.h)("h5",{class:"m-0 text-muted"},Object(n.h)(c.c,{id:"settings.notification-topics"},"Notification topics"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3 bg-light rounded-lg",style:"font-size: 1.2em;"},0===Object.keys(d).length&&Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-rss"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"users.settings-no-topics"},"No notification topics found for your user.")))),Object.keys(d).map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props[t]||t,(d[t+"Help"]||this.props[t+"Help"])&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":t}),(d[t+"Help"]||this.props[t+"Help"])&&a[t]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},d[t+"Help"]||this.props[t+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+t,onInput:()=>this.toggleNotificationTopic(t),checked:d[t]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+t}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 bg-light rounded-lg",style:"font-size: 1.2em;"},["hideProfile"].map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"row "+(s>0?"border-top":"")},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("span",{class:"flex-grow-1",style:"line-height: 1.0em;"},this.props[t],this.props[t+"Help"]&&Object(n.h)("i",{class:"fas fa-info-circle text-muted ml-2",onClick:this.toggleInfo,"data-name":t}),this.props[t+"Help"]&&a[t]&&Object(n.h)(e,null,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},this.props[t+"Help"]))),Object(n.h)("div",{class:"custom-control custom-switch custom-switch-lg mt-2 ml-3",style:"transform: scale(1.8);"},Object(n.h)("input",{type:"checkbox",class:"custom-control-input",id:"settings"+t,onInput:()=>this.toggleSetting(t),checked:o[t]}),Object(n.h)("label",{class:"custom-control-label",for:"settings"+t}))))))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 bg-light rounded-lg",style:"font-size: 1.2em;"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 py-2 d-flex align-items-center position-relative"},Object(n.h)("button",{class:"btn btn-secondary py-0 px-1 mr-3",style:"width: 2.0em;"},Object(n.h)("i",{class:"fas fa-sign-out-alt"})),Object(n.h)("span",{class:"flex-grow-1"},Object(n.h)(r.Link,{className:"stretched-link",activeClassName:"active",href:"/logout"},Object(n.h)(c.c,{id:"settings.logout"},"Logout"))))))))}})||o)||o;t.a=p}).call(this,s("hosL").Fragment)},jtG4:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=(s("Y3FI"),s("OhSV")),c=s("ZOvn");const d={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"};let h=Object(r.a)(o=class extends n.Component{constructor(t){var s;super(t),s=this,this.requestFollowTeam=async function(e){const{teamStore:t,userStore:a}=s.props.stores,{user:i}=a,o=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.followRequest(o,i);const{requestSent:n}=s.state;n[o]=!0,s.setState({requestSent:n})},this.confirmRequest=async function(e){const{callback:t=(()=>{})}=s.props,{team:a,user:i}=e.target.closest("button").dataset,{teamStore:o}=s.props.stores,{confirmed:n,deleted:r}=s.state;n[`${a}-${i}`]=!0,delete r[`${a}-${i}`],s.setState({confirmed:n,deleted:r}),await o.confirmFollowRequest({team:parseInt(a,10),user:parseInt(i,10)}),t()},this.deleteRequest=async function(e){const{callback:t=(()=>{})}=s.props,{team:a,user:i}=e.target.closest("button").dataset,{teamStore:o}=s.props.stores,{deleted:n,confirmed:r}=s.state;n[`${a}-${i}`]=!0,delete r[`${a}-${i}`],s.setState({deleted:n,confirmed:r}),await o.deleteFollowRequest({team:parseInt(a,10),user:parseInt(i,10)}),t()},this.unFollowTeam=e=>{const{teamStore:t,userStore:s}=this.props.stores,a=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.unollowTeam(a),this.setState({unfollowed:!0})},this.getUnblockButton=(t,s)=>{const{confirmed:a}=this.state,i=a[`${s}-${t}`];return Object(n.h)(e,null,i?Object(n.h)(e,null,Object(n.h)("small",{class:"text-success"},Object(n.h)("i",{class:"fas fa-check"})," ",Object(n.h)(l.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":s,"data-user":t},Object(n.h)(l.c,{id:"teams.connect.confirm"},"Confirm"))))},this.getButton=t=>{const{requestSent:s}=this.state,{userStore:a}=this.props.stores,{user:i}=a,o=t.members&&t.members.indexOf(i.id)>-1,r=t.followers&&t.followers.indexOf(i.id)>-1,c=t.blockedFollowers&&t.blockedFollowers.indexOf(i.id)>-1,d=s[t.id]||t.followRequests&&t.followRequests.findIndex(e=>e.id===i.id)>-1;return o?Object(n.h)("i",{class:"fas fa-home"}):t.public?r?Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":t.id},Object(n.h)("i",{class:"fas fa-link mr-2"}),Object(n.h)(l.c,{id:"teams.connect.is-following"},"Følger")),Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:this.unFollowTeam,disabled:"true","data-team":t.id},Object(n.h)(l.c,{id:"teams.connect.unfollow"},"Unfollow"))):c?Object(n.h)(e,null):d?Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(n.h)(l.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":t.id},Object(n.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(n.h)(l.c,{id:"teams.connect.follow"},"Følg")):Object(n.h)(e,null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(l.c,{id:"teams.not-public"},"Ikke offentlig")))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d),this.updateTimer={}}render(){const{deleted:t={},unfollowed:s}=this.state,{team:a,isBlocked:i,myTeamId:o,showBlockButton:r}=this.props,{storyStore:d}=this.props.stores,h=d.findPublicUser(a.user)||a.user||{};let u,p,m,b;a.image&&a.image.s3SmallLink?u=a.image:a.images&&a.images[0]&&a.images[0].s3SmallLink?u=a.images[0]:h.image&&h.image.s3SmallLink?u=h.image:h.images&&h.images[0]&&h.images[0].s3SmallLink&&(u=h.images[0]),a&&a.name?(p=c.a.displayNameShort(a),m=c.a.displayName(a),b=c.a.displayName(h)):h&&h.id&&(p=c.a.displayNameShort(h),m=c.a.displayName(h));const f=t[`${o}-${h.id}`];return Object(n.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:""+(s?"text-decoration: line-through; opacity: 0.3;":"")},Object(n.h)("div",{class:"d-flex position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:u?`background-image: url("${u.s3MediumLink}"); background-size: cover;`:""},!u&&Object(n.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},p)),Object(n.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-0"},a.public?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+a.uuidv4},m)):Object(n.h)(e,null,m)),Object(n.h)("div",null,a.place?a.place+", ":""," ",a.country,"  "),Object(n.h)("div",null,Object(n.h)("small",{class:"text-muted"},a&&a.dogs&&Object(n.h)("span",{class:""},Object(n.h)("i",{class:"fas fa-dog"})," ",a.dogs.length),a&&a.followers&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-user"})," ",a.followers.length),b&&Object(n.h)(e,null,Object(n.h)("small",{class:"ml-2 text-muted"},b)),r&&Object(n.h)(e,null,f?Object(n.h)(e,null,Object(n.h)("small",{class:"text-danger ml-3"},Object(n.h)("i",{class:"fas fa-ban"})," ",Object(n.h)(l.c,{id:"teams.connect.deleted"},"Deleted"))):Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":o,"data-user":h.id},Object(n.h)("i",{class:"fas fa-ban"})," ",Object(n.h)(l.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(n.h)("div",null,i?Object(n.h)(e,null,this.getUnblockButton(h.id,o)):Object(n.h)(e,null,this.getButton(a)))))}})||o;t.a=h}).call(this,s("hosL").Fragment)},k91x:function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=s("OhSV"),r=s("go65"),l=s("ZOvn"),c=s("tJLP"),d=s("Cjoz"),h=s("XPU5"),u=s("Gx/q");const p=l.a.marginTop(!1),m=l.a.marginBottom();let b=Object(o.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.search=async function(){const{userStore:e}=t.props.stores,{searchText:s}=t.state;await e.searchUsers({search:s})},this.state={time:Date.now(),count:10}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.verifyEmailToken&&e.verifyEmail({token:this.props.verifyEmailToken})}render(){const{userStore:e}=this.props.stores,{emailMessage:t,emailError:s,emailMessageIcon:a,emailErrorIcon:o,searchUsersResult:l}=e;return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${p};`},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)(c.a,{message:s,icon:o,remove:this.resetEmailError}),Object(i.h)(d.a,{message:t,icon:a,remove:this.resetEmailMessage}),Object(i.h)("h5",null,Object(i.h)(n.c,{id:"users.connect.title"},"Finn dine venner")),Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-auto w-75"},Object(i.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(i.h)(n.c,{id:"users.connect.search"},"Søk")),Object(i.h)(n.b,null,Object(i.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(i.h)(n.c,{id:"users.connect.search-placeholder"},"Søk etter venner og bekjente"),onInput:Object(r.a)(this,"searchText")}))),Object(i.h)("div",{class:"col-auto"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.search},Object(i.h)(n.c,{id:"users.connect.doSearch"},"Søk"))))),Object(i.h)("div",{class:"col-12 mt-3"},l&&l.map(e=>Object(i.h)(u.a,{stores:this.props.stores,user:e}))),Object(i.h)(h.a,{stores:this.props.stores,forceShow:1})))}})||a;t.a=b},kk6I:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU"));t.default=function(e,t){for(var s=!1,a=t.length,n=-1,r=a-1;++n<a;r=n)((0,o.default)(t[n])<=(0,o.default)(e)&&(0,o.default)(e)<(0,o.default)(t[r])||(0,o.default)(t[r])<=(0,o.default)(e)&&(0,o.default)(e)<(0,o.default)(t[n]))&&(0,i.default)(e)<((0,i.default)(t[r])-(0,i.default)(t[n]))*((0,o.default)(e)-(0,o.default)(t[n]))/((0,o.default)(t[r])-(0,o.default)(t[n]))+(0,i.default)(t[n])&&(s=!s);return s}},l8WD:function(e,t,s){"use strict";function a(e,t){for(var s in t)e[s]=t[s];return e}function i(e,t){for(var s in e)if("__source"!==s&&!(s in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function o(e){this.props=e}function n(e,t){function s(e){var s=this.props.ref,a=s==e.ref;return!a&&s&&(s.call?s(null):s.current=null),t?!t(this.props,e)||!a:i(this.props,e)}function a(t){return this.shouldComponentUpdate=s,Object(D.createElement)(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}function r(e){function t(t,s){var i=a({},t);return delete i.ref,e(i,(s=t.ref||s)&&("object"!=typeof s||"current"in s)?s:null)}return t.$$typeof=P,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function l(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=a({},e)).__c=null,e.__k=e.__k&&e.__k.map(l)),e}function c(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(c)),e}function d(){this.__u=0,this.t=null,this.__b=null}function h(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function u(e){function t(t){if(s||(s=e()).then((function(e){a=e.default||e}),(function(e){i=e})),i)throw i;if(!a)throw s;return Object(D.createElement)(a,t)}var s,a,i;return t.displayName="Lazy",t.__f=!0,t}function p(){this.u=null,this.o=null}function m(e){return this.getChildContext=function(){return e.context},e.children}function b(e){var t=this,s=e.i;t.componentWillUnmount=function(){Object(D.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==s&&t.componentWillUnmount(),e.__v?(t.l||(t.i=s,t.l={nodeType:1,parentNode:s,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(D.render)(Object(D.createElement)(m,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function f(e,t){return Object(D.createElement)(b,{__v:e,i:t})}function g(e,t,s){return null==t.__k&&(t.textContent=""),Object(D.render)(e,t),"function"==typeof s&&s(),e?e.__c:null}function O(e,t,s){return Object(D.hydrate)(e,t),"function"==typeof s&&s(),e?e.__c:null}function v(){}function y(){return this.cancelBubble}function j(){return this.defaultPrevented}function w(e){return D.createElement.bind(null,e)}function k(e){return!!e&&e.$$typeof===F}function x(e){return k(e)?D.cloneElement.apply(null,arguments):e}function S(e){return!!e.__k&&(Object(D.render)(null,e),!0)}function _(e){return e&&(e.base||1===e.nodeType&&e)||null}s.r(t),s.d(t,"version",(function(){return H})),s.d(t,"Children",(function(){return C})),s.d(t,"render",(function(){return g})),s.d(t,"hydrate",(function(){return O})),s.d(t,"unmountComponentAtNode",(function(){return S})),s.d(t,"createPortal",(function(){return f})),s.d(t,"createFactory",(function(){return w})),s.d(t,"cloneElement",(function(){return x})),s.d(t,"isValidElement",(function(){return k})),s.d(t,"findDOMNode",(function(){return _})),s.d(t,"PureComponent",(function(){return o})),s.d(t,"memo",(function(){return n})),s.d(t,"forwardRef",(function(){return r})),s.d(t,"unstable_batchedUpdates",(function(){return V})),s.d(t,"StrictMode",(function(){return G})),s.d(t,"Suspense",(function(){return d})),s.d(t,"SuspenseList",(function(){return p})),s.d(t,"lazy",(function(){return u})),s.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return B}));var T=s("QRet");s.d(t,"useState",(function(){return T.k})),s.d(t,"useReducer",(function(){return T.i})),s.d(t,"useEffect",(function(){return T.d})),s.d(t,"useLayoutEffect",(function(){return T.g})),s.d(t,"useRef",(function(){return T.j})),s.d(t,"useImperativeHandle",(function(){return T.f})),s.d(t,"useMemo",(function(){return T.h})),s.d(t,"useCallback",(function(){return T.a})),s.d(t,"useContext",(function(){return T.b})),s.d(t,"useDebugValue",(function(){return T.c})),s.d(t,"useErrorBoundary",(function(){return T.e}));var D=s("hosL");s.d(t,"createElement",(function(){return D.createElement})),s.d(t,"createContext",(function(){return D.createContext})),s.d(t,"createRef",(function(){return D.createRef})),s.d(t,"Fragment",(function(){return D.Fragment})),s.d(t,"Component",(function(){return D.Component})),(o.prototype=new D.Component).isPureReactComponent=!0,o.prototype.shouldComponentUpdate=function(e,t){return i(this.props,e)||i(this.state,t)};var I=D.options.__b;D.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),I&&I(e)};var P="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,L=function(e,t){return null==e?null:Object(D.toChildArray)(Object(D.toChildArray)(e).map(t))},C={map:L,forEach:L,count:function(e){return e?Object(D.toChildArray)(e).length:0},only:function(e){var t=Object(D.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:D.toChildArray},A=D.options.__e;D.options.__e=function(e,t,s){if(e.then)for(var a,i=t;i=i.__;)if((a=i.__c)&&a.__c)return null==t.__e&&(t.__e=s.__e,t.__k=s.__k),a.__c(e,t);A(e,t,s)},(d.prototype=new D.Component).__c=function(e,t){var s=t.__c,a=this;null==a.t&&(a.t=[]),a.t.push(s);var i=h(a.__v),o=!1,n=function(){o||(o=!0,s.componentWillUnmount=s.__c,i?i(r):r())};s.__c=s.componentWillUnmount,s.componentWillUnmount=function(){n(),s.__c&&s.__c()};var r=function(){var e;if(!--a.__u)for(a.state.__e&&(a.__v.__k[0]=c(a.state.__e)),a.setState({__e:a.__b=null});e=a.t.pop();)e.forceUpdate()},l=!0===t.__h;a.__u++||l||a.setState({__e:a.__b=a.__v.__k[0]}),e.then(n,n)},d.prototype.componentWillUnmount=function(){this.t=[]},d.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=l(this.__b)),this.__b=null);var s=t.__e&&Object(D.createElement)(D.Fragment,null,e.fallback);return s&&(s.__h=null),[Object(D.createElement)(D.Fragment,null,t.__e?null:e.children),s]};var E=function(e,t,s){if(++s[1]===s[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(s=e.u;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.u=s=s[2]}};(p.prototype=new D.Component).__e=function(e){var t=this,s=h(t.__v),a=t.o.get(e);return a[0]++,function(i){var o=function(){t.props.revealOrder?(a.push(i),E(t,e,a)):i()};s?s(o):o()}},p.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(D.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var s=t.length;s--;)this.o.set(t[s],this.u=[1,0,this.u]);return e.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,s){E(e,s,t)}))};var F="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,M=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,R=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};D.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(D.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var z=D.options.event;D.options.event=function(e){return z&&(e=z(e)),e.persist=v,e.isPropagationStopped=y,e.isDefaultPrevented=j,e.nativeEvent=e};var U,N={configurable:!0,get:function(){return this.class}},$=D.options.vnode;D.options.vnode=function(e){var t=e.type,s=e.props,a=s;if("string"==typeof t){for(var i in a={},s){var o=s[i];"defaultValue"===i&&"value"in s&&null==s.value?i="value":"download"===i&&!0===o?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!R(s.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():M.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),a[i]=o}"select"==t&&a.multiple&&Array.isArray(a.value)&&(a.value=Object(D.toChildArray)(s.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),"select"==t&&null!=a.defaultValue&&(a.value=Object(D.toChildArray)(s.children).forEach((function(e){e.props.selected=a.multiple?-1!=a.defaultValue.indexOf(e.props.value):a.defaultValue==e.props.value}))),e.props=a}t&&s.class!=s.className&&(N.enumerable="className"in s,null!=s.className&&(a.class=s.className),Object.defineProperty(a,"className",N)),e.$$typeof=F,$&&$(e)};var W=D.options.__r;D.options.__r=function(e){W&&W(e),U=e.__c};var B={ReactCurrentDispatcher:{current:{readContext:function(e){return U.__n[e.__c].props.value}}}},H="16.8.0",V=function(e,t){return e(t)},G=D.Fragment;t.default={useState:T.k,useReducer:T.i,useEffect:T.d,useLayoutEffect:T.g,useRef:T.j,useImperativeHandle:T.f,useMemo:T.h,useCallback:T.a,useContext:T.b,useDebugValue:T.c,version:"16.8.0",Children:C,render:g,hydrate:O,unmountComponentAtNode:S,createPortal:f,createElement:D.createElement,createContext:D.createContext,createFactory:w,cloneElement:x,createRef:D.createRef,Fragment:D.Fragment,isValidElement:k,findDOMNode:_,Component:D.Component,PureComponent:o,memo:n,forwardRef:r,unstable_batchedUpdates:V,StrictMode:D.Fragment,Suspense:d,SuspenseList:p,lazy:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:B}},lDfB:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function o(e,t,s){return e.filter(e=>!t.find(t=>e[s]===t[s])).concat(t)}var n,r,l,c,d,h,u,p,m,b=s("cneo"),f=s("0frO"),g=s("Y3FI"),O=s("Utv1"),v=s("ZOvn"),y=s("X9Km");Object(b.f)({enforceActions:"always"});const j=new(r=i((n=class extends f.a{constructor(){super("story",{namePlural:"stories",sort:"date",limit:100,api:{search:{url:"/api/stories/",params:{extendedView:1,limit:10,sort:"id"}},load:{url:"/api/stories/",params:{}},save:{url:"/api/stories/",params:{}}}}),a(this,"story",r,this),a(this,"stories",l,this),a(this,"publicFeed",c,this),a(this,"publicTeams",d,this),a(this,"publicUsers",h,this),a(this,"publicTags",u,this),a(this,"topRankedStories",p,this),a(this,"loadMore",m,this)}cleanupMemory(){this.localUpdateField("stories",[]),this.localUpdateField("publicFeed",[]),this.localUpdateField("publicTeams",[]),this.localUpdateField("publicUsers",[]),this.localUpdateField("publicTags",[]),this.localUpdateField("topRankedStories",[])}setLoadMore(e){O.a.isFunction(e)&&(this.loadMore=e)}localUpdateField(e,t){this[e]=t}publicFeedUpdate(e,t,s){const a=this.publicFeed.findIndex(t=>t.id===e);a>-1&&(this.publicFeed[a][t]=s)}removeImageLocal({id:e,name:t}){if(O.a.isArray(this.team.images)){const e=this.team.images.findIndex(e=>e.name===t);e>-1&&this.team.images.splice(e,1)}const s=this.stories.findIndex(t=>t.id===e);if(s>-1){const e=this.stories[s].images.findIndex(e=>e.name===t);e>-1&&this.stories[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await O.a.fetchApi("/api/stories/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}findPublicTeam(e){const t=this.publicTeams.findIndex(t=>t.id===e);if(t>-1)return this.publicTeams[t]}findPublicTeamByUuidv4(e){const t=this.publicTeams.findIndex(t=>t.uuidv4===e);if(t>-1)return this.publicTeams[t]}findPublicTeamByMembers(e){if(!e)return[];return this.publicTeams.filter(t=>t.members.indexOf(e)>-1)}findPublicUser(e){const t=this.publicUsers.findIndex(t=>t.id===e);if(t>-1)return this.publicUsers[t]}sortPublicFeed(e){this.publicFeed=this.publicFeed.sort(e)}async loadPublicFeed({story:e="",hashtag:t,teamid:s,limit:a,offset:i,sort:n}){const r=await O.a.fetchApi("/api/stories/public/"+e,{publish:!0,method:"GET"},{tag:t,teamid:s,limit:a,offset:i,sort:n});switch(r.status){case 200:if(i>0){let e=Object(b.i)(this.publicFeed);e.push(...r.data),this.localUpdateField("publicFeed",e);const t=o(Object(b.i)(this.publicTeams),r.included.teams,"id");this.localUpdateField("publicTeams",t);const s=o(Object(b.i)(this.publicUsers),r.included.users,"id");this.localUpdateField("publicUsers",s)}else this.localUpdateField("publicFeed",r.data),this.localUpdateField("publicTeams",r.included.teams),this.localUpdateField("publicUsers",r.included.users),this.localUpdateField("publicTags",r.included.tags),this.localUpdateField("topRankedStories",r.included.topRankedStories);return r;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}addLikeToStory({id:e,data:t}){const s=this.publicFeed.findIndex(t=>t.id===e);s>-1&&(O.a.isUndefined(this.publicFeed[s].likes)&&(this.publicFeed[s].likes=[]),this.publicFeed[s].likes.push(t))}addLikeToComment({id:e,commentId:t,data:s}){const a=this.publicFeed.findIndex(t=>t.id===e);if(a>-1&&O.a.isDefined(this.publicFeed[a].comments)){const e=this.publicFeed[a].comments.findIndex(e=>e.id===t),i=this.publicFeed[a].comments[e];O.a.isUndefined(i.likes)&&(i.likes=[]),i.likes.push(s)}}addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a}){const i=this.publicFeed.findIndex(t=>t.id===e);if(i>-1&&O.a.isDefined(this.publicFeed[i].comments)){const e=this.publicFeed[i].comments.findIndex(e=>e.id===t),o=this.publicFeed[i].comments[e];if(O.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s),t=o.comments[e];O.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}}editComment({id:e,commentId:t,data:s}){const a=this.publicFeed.findIndex(t=>t.id===e);if(a>-1&&O.a.isDefined(this.publicFeed[a].comments)){const e=this.publicFeed[a].comments.findIndex(e=>e.id===t);this.publicFeed[a].comments[e].comment=s}}deleteComment({id:e,commentId:t}){const s=this.publicFeed.findIndex(t=>t.id===e);if(s>-1&&O.a.isDefined(this.publicFeed[s].comments)){const e=this.publicFeed[s].comments.findIndex(e=>e.id===t);this.publicFeed[s].comments.splice([e],1)}}editCommentReply({id:e,commentId:t,replyId:s,data:a}){const i=this.publicFeed.findIndex(t=>t.id===e);if(i>-1&&O.a.isDefined(this.publicFeed[i].comments)){const e=this.publicFeed[i].comments.findIndex(e=>e.id===t),o=this.publicFeed[i].comments[e];if(O.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s);o.comments[e].comment=a}}}deleteCommentReply({id:e,commentId:t,replyId:s}){const a=this.publicFeed.findIndex(t=>t.id===e);if(a>-1&&O.a.isDefined(this.publicFeed[a].comments)){const e=this.publicFeed[a].comments.findIndex(e=>e.id===t),i=this.publicFeed[a].comments[e];if(O.a.isDefined(i.comments)){const e=i.comments.findIndex(e=>e.id===s);i.comments.splice(e,1)}}}addCommentToStory({id:e,data:t}){const s=this.publicFeed.findIndex(t=>t.id===e);s>-1&&(O.a.isUndefined(this.publicFeed[s].comments)&&(this.publicFeed[s].comments=[]),this.publicFeed[s].comments.push(t))}addCommentToStoryComment({id:e,commentId:t,data:s}){const a=this.publicFeed.findIndex(t=>t.id===e);if(a>-1&&O.a.isDefined(this.publicFeed[a].comments)){const e=this.publicFeed[a].comments.findIndex(e=>e.id===t),i=this.publicFeed[a].comments[e];O.a.isUndefined(i.comments)&&(i.comments=[]),i.comments.push(s)}}removeStory({id:e}){const t=this.publicFeed.findIndex(t=>t.id===e);t>-1&&this.publicFeed.splice(t,1)}async adminHideStory({id:e}){const t=await O.a.fetchApi(`/api/stories/${e}/admin-hide`,{publish:!0,method:"GET"},{});switch(t.status){case 202:return this.removeStory({id:e}),v.a.tapticWeakBoom(),t;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async reportStory({id:e}){const t=await O.a.fetchApi(`/api/stories/${e}/report`,{publish:!0,method:"GET"},{});switch(t.status){case 202:return t;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async likeStory({id:e}){const t=await O.a.fetchApi("/api/stories/like/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.addLikeToStory({id:e,data:t.data}),v.a.tapticWeakBoom(),t;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async likeStoryComment({id:e,commentId:t}){const s=await O.a.fetchApi(`/api/stories/like/${e}/${t}`,{publish:!0,method:"GET"},{});switch(s.status){case 200:return this.addLikeToComment({id:e,commentId:t,data:s.data}),v.a.tapticWeakBoom(),s;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async likeStoryCommentReply({id:e,commentId:t,replyId:s}){const a=await O.a.fetchApi(`/api/stories/like/${e}/${t}/${s}`,{publish:!0,method:"GET"},{});switch(a.status){case 200:return this.addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a.data}),v.a.tapticWeakBoom(),a;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async commentStory({id:e,comment:t}){const s=await O.a.fetchApi("/api/stories/comment/"+e,{publish:!0,method:"POST"},{comment:t});switch(s.status){case 200:return this.addCommentToStory({id:e,data:s.data}),v.a.tapticWeakBoom(),s;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async editCommentStory({id:e,commentId:t,comment:s}){const a=await O.a.fetchApi(`/api/stories/comment/${e}/${t}`,{publish:!0,method:"PATCH"},{comment:s});switch(a.status){case 200:return this.editComment({id:e,commentId:t,data:s}),v.a.tapticWeakBoom(),a;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async deleteCommentStory({id:e,commentId:t}){const s=await O.a.fetchApi(`/api/stories/comment/${e}/${t}`,{publish:!0,method:"DELETE"},{});switch(s.status){case 200:return this.deleteComment({id:e,commentId:t}),v.a.tapticWeakBoom(),s;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async editCommentReplyStory({id:e,commentId:t,replyId:s,comment:a}){const i=await O.a.fetchApi(`/api/stories/comment/${e}/${t}/${s}`,{publish:!0,method:"PATCH"},{comment:a});switch(i.status){case 200:return this.editCommentReply({id:e,commentId:t,replyId:s,data:a}),v.a.tapticWeakBoom(),i;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async deleteCommentReplyStory({id:e,commentId:t,replyId:s}){const a=await O.a.fetchApi(`/api/stories/comment/${e}/${t}/${s}`,{publish:!0,method:"DELETE"},{});switch(a.status){case 200:return this.deleteCommentReply({id:e,commentId:t,replyId:s}),v.a.tapticWeakBoom(),a;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async commentReplyStory({id:e,commentId:t,comment:s}){const a=await O.a.fetchApi(`/api/stories/comment/${e}/${t}`,{publish:!0,method:"POST"},{comment:s});switch(a.status){case 200:return this.addCommentToStoryComment({id:e,commentId:t,data:a.data}),v.a.tapticWeakBoom(),a;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}async postScrollview(e=[]){if(!e||0===e.length)return!1;const t=await O.a.fetchApi("/api/scrollview/",{publish:!1,method:"POST"},{data:e});switch(t.status){case 200:return t;case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}localUpdateObjectField(e,t,s){this[e][t]=s}updateStoryTranslation({id:e,field:t,value:s,targetLang:a}){const i=this.publicFeed.findIndex(t=>t.id===e);i>-1&&(this.publicFeed[i][`${t}${a}`]=s)}getTranslations({story:e,targetLang:t,field:s}){if(e.translations){const a=e.translations.findIndex(e=>e.language===t&&e.field===s);if(a>-1)return e.translations[a].text}return null}async translate({story:e,user:t,field:s="body"}){const{id:a,language:i="no",body:o}=e,{language:n="en"}=t,r="undefined"===i?"no":i,l="undefined"===n?"en":n,c=this.getTranslations({story:e,targetLang:l,field:s});if(c)return c;if(r!==l){const t=await O.a.fetchApi(`/api/stories/${a}/translate/${r}/${l}/${s}`,{publish:!1,method:"POST"},{text:o});switch(t.status){case 200:return t.data&&t.data.translatedText?(this.updateStoryTranslation({id:e.id,field:s,value:t.data.translatedText,targetLang:l}),t.data.translatedText):"";case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}}updateCommentTranslation({id:e,commentid:t,value:s,targetLang:a,field:i="comment"}){const o=this.publicFeed.findIndex(t=>t.id===e);if(o>-1){const e=this.publicFeed[o];if(O.a.isDefined(e.comments)){const o=e.comments.findIndex(e=>e.id===t),n=e.comments[o],r={field:i,text:s,language:a};if(O.a.isDefined(n.translations)){const e=n.translations.findIndex(e=>e.language===a&&e.field===i);n.translations[e]=r}else n.translations=[r]}}}updateCommentReplyTranslation({id:e,commentid:t,replyid:s,value:a,targetLang:i,field:o="comment"}){const n=this.publicFeed.findIndex(t=>t.id===e);if(n>-1){const e=this.publicFeed[n];if(O.a.isDefined(e.comments)){const n=e.comments.findIndex(e=>e.id===t),r=e.comments[n];if(O.a.isDefined(r.comments)){const e=r.comments.findIndex(e=>e.id===s),t=r.comments[e],n={field:o,text:a,language:i};if(O.a.isDefined(t.translations)){const e=t.translations.findIndex(e=>e.language===i&&e.field===o);t.translations[e]=n}else t.translations=[n]}}}}getCommentTranslations({story:e,commentid:t,targetLang:s,field:a="comment"}){const i=this.publicFeed.findIndex(t=>t.id===e.id);if(i>-1){const e=this.publicFeed[i];if(O.a.isDefined(e.comments)){const i=e.comments.findIndex(e=>e.id===t),o=e.comments[i];if(O.a.isDefined(o.translations)){const e=o.translations.findIndex(e=>e.language===s&&e.field===a);if(e>-1)return o.translations[e].text}}}return null}getCommentReplyTranslations({story:e,commentid:t,replyid:s,targetLang:a,field:i="comment"}){const o=this.publicFeed.findIndex(t=>t.id===e.id);if(o>-1){const e=this.publicFeed[o];if(O.a.isDefined(e.comments)){const o=e.comments.findIndex(e=>e.id===t),n=e.comments[o];if(O.a.isDefined(n.comments)){const e=n.comments.findIndex(e=>e.id===s),t=n.comments[e];if(O.a.isDefined(t.translations)){const e=t.translations.findIndex(e=>e.language===a&&e.field===i);if(e>-1)return t.translations[e].text}}}}return null}async translateComment({story:e,user:t,commentid:s}){const{id:a,language:i="no"}=e,{language:o="en"}=t;if(!O.a.isDefined(e.comments))return null;const n=e.comments.findIndex(e=>e.id===s),r=e.comments[n].comment,l="undefined"===i?"no":i,c="undefined"===o?"en":o,d=this.getCommentTranslations({story:e,commentid:s,targetLang:c});if(d)return d;if(l!==c){const t=await O.a.fetchApi(`/api/stories/${a}/${s}/translate/${l}/${c}`,{publish:!1,method:"POST"},{text:r});switch(t.status){case 200:return t.data&&t.data.translatedText?(this.updateCommentTranslation({id:e.id,commentid:s,value:t.data.translatedText,targetLang:c}),t.data.translatedText):"";case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}}async translateCommentReply({story:e,user:t,commentid:s,replyid:a}){const{id:i,language:o="no"}=e,{language:n="en"}=t;if(!O.a.isDefined(e.comments))return null;const r=e.comments.findIndex(e=>e.id===s),l=e.comments[r],c=l.comments.findIndex(e=>e.id===a),d=l.comments[c].comment,h="undefined"===o?"no":o,u="undefined"===n?"en":n,p=this.getCommentReplyTranslations({story:e,commentid:s,replyid:a,targetLang:u});if(p)return p;if(h!==u){const t=await O.a.fetchApi(`/api/stories/${i}/${s}/${a}/translate/${h}/${u}`,{publish:!1,method:"POST"},{text:d});switch(t.status){case 200:return t.data&&t.data.translatedText?(this.updateCommentReplyTranslation({id:e.id,commentid:s,replyid:a,value:t.data.translatedText,targetLang:u}),t.data.translatedText):"";case 401:y.a.publish(y.b.LOG_OUT),Object(g.route)("/",!0)}}}}).prototype,"story",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=i(n.prototype,"stories",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=i(n.prototype,"publicFeed",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=i(n.prototype,"publicTeams",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=i(n.prototype,"publicUsers",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=i(n.prototype,"publicTags",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=i(n.prototype,"topRankedStories",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(n.prototype,"loadMore",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),i(n.prototype,"cleanupMemory",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"cleanupMemory"),n.prototype),i(n.prototype,"setLoadMore",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"setLoadMore"),n.prototype),i(n.prototype,"localUpdateField",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"localUpdateField"),n.prototype),i(n.prototype,"publicFeedUpdate",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"publicFeedUpdate"),n.prototype),i(n.prototype,"removeImageLocal",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"removeImageLocal"),n.prototype),i(n.prototype,"findPublicTeam",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"findPublicTeam"),n.prototype),i(n.prototype,"findPublicTeamByUuidv4",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"findPublicTeamByUuidv4"),n.prototype),i(n.prototype,"findPublicTeamByMembers",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"findPublicTeamByMembers"),n.prototype),i(n.prototype,"findPublicUser",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"findPublicUser"),n.prototype),i(n.prototype,"sortPublicFeed",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"sortPublicFeed"),n.prototype),i(n.prototype,"addLikeToStory",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"addLikeToStory"),n.prototype),i(n.prototype,"addLikeToComment",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"addLikeToComment"),n.prototype),i(n.prototype,"addLikeToCommentReply",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"addLikeToCommentReply"),n.prototype),i(n.prototype,"editComment",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"editComment"),n.prototype),i(n.prototype,"deleteComment",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"deleteComment"),n.prototype),i(n.prototype,"editCommentReply",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"editCommentReply"),n.prototype),i(n.prototype,"deleteCommentReply",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"deleteCommentReply"),n.prototype),i(n.prototype,"addCommentToStory",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"addCommentToStory"),n.prototype),i(n.prototype,"addCommentToStoryComment",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"addCommentToStoryComment"),n.prototype),i(n.prototype,"removeStory",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"removeStory"),n.prototype),i(n.prototype,"localUpdateObjectField",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"localUpdateObjectField"),n.prototype),i(n.prototype,"updateStoryTranslation",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"updateStoryTranslation"),n.prototype),i(n.prototype,"updateCommentTranslation",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"updateCommentTranslation"),n.prototype),i(n.prototype,"updateCommentReplyTranslation",[b.c],Object.getOwnPropertyDescriptor(n.prototype,"updateCommentReplyTranslation"),n.prototype),n);t.a=j},laT9:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("ZOvn"),d=(s("JWe/"),s("3pQw"),s("xDik"),s("2X7c"),s("7g1v"));const h=c.a.marginTop(!0),u=c.a.marginBottom(),p=c.a.subMenuMarginTop(),m={isLoading:!1};let b=Object(r.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadDogs=async function(){t.setState({isLoading:!0});const{dogStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s},addData:["workoutSummary"]}),t.setState({isLoading:!1})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m)}async loadAll(){this.setState({isLoading:!0}),await this.loadDogs(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{dogStore:e,appState:t,userStore:s}=this.props.stores,{darkmode:a}=t,{isAdmin:i}=s,o=e.findDogsByStatus(10),r=e.findDogsByStatus([2,4,8,9]),c=e.findDogsWithNeeds();return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${u}; margin-top: ${h};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${p}; background-color: ${a?"#191d21":"#f8f9fa"};`},i&&Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-user-shield"})," ",Object(n.h)(l.c,{id:"home.admin"},"Admin")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"todo.dashboard"},"Dashboard")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"todo.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/todo",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(l.c,{id:"todo.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"todo.dogs-follow-up"},"Hunder som trenger oppfølging")),Object(n.h)("div",{class:"row"},r&&r.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e})),!r||0===r.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"todo.no-dogs-follow-up"},"Ingen hunder som trenger ekstra oppfølging.")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"todo.dogs-special-needs"},"Hunder med spesielle behov")),Object(n.h)("div",{class:"row"},c&&c.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e})),!c||0===c.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"todo.no-dogs-special-needs"},"Ingen hunder med spesielle behov.")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"todo.dogs-with-maturity"},"Hunder med løpetid")),Object(n.h)("div",{class:"row"},o&&o.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e})),!o||0===o.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"todo.no-dogs-with-maturity"},"Ingen hunder med løpetid."))))))}})||o;t.a=b},lcEk:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("cneo"),d=s("OhSV"),h=s("fh8t"),u=s.n(h),p=s("K5BL"),m=(s("ETxl"),s("ZOvn"));const b={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{},likeComment:{},likeReply:{}};let f=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,{track:i}=t.props,{trackStore:o}=t.props.stores,n=await o.likeTrackComment({id:i.id,commentId:a});return n&&200===n.status&&s({track:i,commentId:a,response:n}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,i=e.target.parentElement.dataset.comment||e.target.dataset.comment,{track:o}=t.props,{trackStore:n}=t.props.stores,r=await n.likeTrackCommentReply({id:o.id,replyId:a,commentId:i});r&&200===r.status&&s({track:o,commentId:i,response:r})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:a,viewImageIdx:i,likeComment:o}=this.state,{track:l,callback:h=(()=>{}),col:b=12,offset:f=0,compact:g=!1}=this.props,{userStore:O}=this.props.stores,{user:v,language:y="en"}=O;let j=[],w=0,k=0;if(l.comments){if(w=l.comments.length,s)j=l.comments;else{j=l.comments.slice(Math.max(w-(g?0:2),0))}k=j.length}return Object(n.h)("div",{class:`col-${b} offset-${f} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3`},s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 mb-2",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))),l&&j&&j.reverse().map(s=>{const{user:b={}}=s,f=b.firstname?`${r.a.ucfirst(b.firstname,!0)}${r.a.ucfirst(b.lastname,!0)}`:""+r.a.ucfirst(b.email||"",!0),g=b.firstname?`${b.firstname} ${b.lastname}`:""+b.email,O=b.image||(b.images?b.images[0]:void 0),j=s.likes&&s.likes.findIndex(e=>e.user===v.id)>-1;let w=[],k=0,x=0;s.comments&&(k=s.comments.length,w=a[s.id]?s.comments:s.comments.slice(0,void 0),x=w.length);const S=[];if(s.images){const e=Object(c.i)(s.images);S.push(...e)}const _=i[s.id]?i[s.id]:0,T=S&&S[_]?S[_]:null,{currentLocationGeocode:D={}}=s;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(O?`background-image: url("${O.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!b.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},f)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},g),Object(n.h)(u.a,{markdown:m.a.replaceImages(s.comment,s.images,y),markdownOpts:m.a.getMarkdownOptions()})),Object(n.h)("div",null,Object(n.h)("div",{class:"container-fluid px-3 mt-1"},T&&Object(n.h)("div",{class:"clearfix row position-relative"},Object(n.h)("div",{class:"commentContainer col-12 px-0 overflow-hidden",style:"max-height: 60vh;",onDblclick:this.addLikeComment,"data-id":s.id},Object(n.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:T.s3LargeLink})),o[s.id]&&Object(n.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(n.h)("i",{class:"fas fa-heart likeStory"}))),S&&S.length>1&&Object(n.h)("div",{class:"clearfix d-flex flex-wrap row"},r.a.isArray(S)&&S.map((t,a)=>Object(n.h)(e,null,Object(n.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(j?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"})))),s.likes&&s.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},s&&w&&w.map(e=>{const{user:t={}}=e,a=t.firstname?`${r.a.ucfirst(t.firstname,!0)}${r.a.ucfirst(t.lastname,!0)}`:""+r.a.ucfirst(t.email||"",!0),i=t.firstname?`${t.firstname} ${t.lastname}`:""+t.email,o=t.image||(t.images?t.images[0]:void 0),l=e.likes&&e.likes.findIndex(e=>e.user===v.id)>-1;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(o?`background-image: url("${o.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!t.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},a)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},i),e.comment),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(l?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":e.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))}),k-x>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:k-x}},"Vis ",k-x," flere kommentarer...")))),t[s.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(p.a,{stores:this.props.stores,track:l,callback:h,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e})))}),w-k>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:w-k}},"Vis ",w-k," flere kommentarer..."))),s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||o;t.a=f}).call(this,s("hosL").Fragment)},lski:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("u28A");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",s=a.areaConversion[t];if(s)return e*s;throw new Error("Invalid unit used for area conversion.")}},m0XR:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return/^NNE|NE|NNW|N$/.test(e)?"N":/^ENE|E|ESE|SE$/.test(e)?"E":/^SSE|S|SSW|SW$/.test(e)?"S":/^WSW|W|WNW|NW$/.test(e)?"W":void 0}},m4Et:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r,l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=s("OhSV"),p=s("om2D"),m=s("fyMK");s("ZOvn");const b={showAddComment:!1};let f=Object(h.a)(n=class extends c.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{adStore:s}=t.props.stores,{ad:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{ad:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:e,ad:t,type:s="text",rows:a,field:i,title:o,icon:n,help:r,onInput:l,updateField:h}=this.props,m=t[i];return"image"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},t.images&&t.images.map(e=>Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del"))))),Object(c.h)(p.a,{saved:e,object:t,field:i,updateField:h}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):"textarea"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("textarea",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:m,rows:a,"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):"date"===s?Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("input",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:d.a.isoDate(m,!1,!1,!0),"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r)):Object(c.h)("div",{class:"form-group "+(e[`${i}.${t.id}`]?"is-valid":"")},Object(c.h)("label",{for:i+"Input"},n&&Object(c.h)("i",{class:n+" text-muted"})," ",o),Object(c.h)("input",{type:s,class:"form-control "+(e[`${i}.${t.id}`]?"is-valid":""),id:i+"Input","aria-describedby":i+"Help",value:m,"data-id":t.id,"data-field":i,onInput:l}),e[`${i}.${t.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(u.c,{id:"ad.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:i+"Help",class:"form-text text-muted"},r))}})||n,g=Object(h.a)(r=class extends c.Component{constructor(...e){super(...e),this.onInput=e=>{const{field:t}=this.props,s=e.target.value,{adStore:a}=this.props.stores;a.updateObjectKeyValue("newAd",t,s)}}render(){const{field:e,icon:t,title:s,help:a}=this.props,{adStore:i}=this.props.stores,{newAd:o}=i;return Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:e+"Input"},t&&Object(c.h)("i",{class:t+" text-muted"})," ",s),Object(c.h)("input",{type:"text",class:"form-control",id:e+"Input","aria-describedby":e+"Help",onInput:this.onInput,value:o[e]}),Object(c.h)("small",{id:e+"Help",class:"form-text text-muted"},a))}})||r,O=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.insertAd=async function(){const{adStore:e}=t.props.stores,{newAd:s}=e;await e.insert(i({},s)),await e.loadAd({query:{showall:1}}),t.resetAd()},this.selectAd=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{adStore:a}=t.props.stores,i=await a.loadById({id:s,showall:1});a.updateKeyValue("ad",i)},this.resetAd=async function(){const{adStore:e}=t.props.stores;e.updateKeyValue("ad",{})},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1})=>{const{adStore:l}=this.props.stores;let c=a,d=a;const{ad:h}=l;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newAd",s,a):(l.updateField(e,s,d),r?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.state=i({},b),this.updateTimer={},this.inputRef={}}async loadAd(){this.setState({isLoading:!0});const{adStore:e}=this.props.stores;await e.load({query:{showall:1},addData:["adViews","adClicks","viewCounts","clickCounts"]}),this.setState({isLoading:!1})}resetAd(){const{adStore:e}=this.props.stores;e.updateKeyValue("newAd",{})}async doUpdateField(e,t,s){const{adStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadAd()}render(){const{adStore:t}=this.props.stores,{ad:s={},ads:a=[],saved:i,viewCounts:o,clickCounts:n}=t;let r,l=[],h=[],p=[],b=[];return s&&s.id?(r=s.id,l.push("adViews."+s.id),h.push(`${s.id}: ${s.title} (${s.page})`),p.push("adClicks."+s.id),b.push(`${s.id}: ${s.title} (${s.page})`)):a&&a.length>0&&(r=a.length,a.forEach(e=>{l.push("adViews."+e.id),h.push(`${e.id}: ${e.title} (${e.page})`),p.push("adClicks."+e.id),b.push(`${e.id}: ${e.title} (${e.page})`)})),Object(c.h)(e,null,Object(c.h)("div",{class:"w-100 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 mb-0 position-relative"},a&&a.length>0&&Object(c.h)(e,null,Object(c.h)("table",{class:"table table-sm table-striped"},Object(c.h)("thead",null,Object(c.h)("tr",null,Object(c.h)("th",null,"id"),Object(c.h)("th",null,"active"),Object(c.h)("th",null,"title"),Object(c.h)("th",null,"page"),Object(c.h)("th",null,"section"),Object(c.h)("th",null,"url"),Object(c.h)("th",null,"email"),Object(c.h)("th",{class:"text-right"},"views"),Object(c.h)("th",{class:"text-right"},"clicks"),Object(c.h)("th",{class:"text-right"},"CTR"))),Object(c.h)("tbody",null,a.map(e=>Object(c.h)("tr",{"data-id":e.id,onClick:this.selectAd},Object(c.h)("td",null,e.id),Object(c.h)("td",null,e.active),Object(c.h)("td",null,e.title),Object(c.h)("td",null,e.page),Object(c.h)("td",null,e.section),Object(c.h)("td",null,e.url),Object(c.h)("td",null,e.email),Object(c.h)("td",{class:"text-right"},o[e.id]),Object(c.h)("td",{class:"text-right"},n[e.id]),Object(c.h)("td",{class:"text-right"},d.a.format(n[e.id]/o[e.id]*100,1)," %")))))))),Object(c.h)(m.a,{stores:this.props.stores,fieldsLeft:l,legendLeft:h,fieldsRight:p,legendRight:b,key:r}),Object(c.h)("div",{class:"row"},(!s||!s.id)&&Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(c.h)("button",{class:"btn btn-danger float-right",onClick:this.resetAd},Object(c.h)("i",{class:"fas fa-times"})),Object(c.h)("h5",null,"Ny annonse"),Object(c.h)(g,{stores:this.props.stores,field:"title",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.title"},"Tittel"),help:Object(c.h)(u.c,{id:"ad.title-help"},"Tittel på denne annonsen.")}),Object(c.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertAd},Object(c.h)(u.c,{id:"ad.save"},"Registrer ny annonse")))),s&&s.id&&Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5 mb-0 position-relative"},Object(c.h)("button",{class:"btn btn-danger float-right",onClick:this.resetAd},Object(c.h)("i",{class:"fas fa-times"})),Object(c.h)("h5",null,'Endre annonse: "',s.title,'"'),Object(c.h)(f,{saved:i,ad:s,field:"title",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.title"},"Title"),help:Object(c.h)(u.c,{id:"ad.title-help"},"Title of this ad story"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"page",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.page"},"Page ('/', '/workouts/', '/workouts/detail', '/dogs', '/dogs/detail')"),help:Object(c.h)(u.c,{id:"ad.page-help"},"Page to show this ad"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"section",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.section"},"Section"),help:Object(c.h)(u.c,{id:"ad.section-help"},"Section on page to show this ad"),onInput:this.updateField}),Object(c.h)("small",null,"frontpage (/, /home-workout, /home-totals)",Object(c.h)("br",null),"/workout: (totals, seasontotals, analysis, table, workoutplan, calendar)",Object(c.h)("br",null),"/workout/detail: (current, totals, analysis, images, dogs, handlers, gpx)",Object(c.h)("br",null),"/dogs",Object(c.h)("br",null),"/dogs/detail",Object(c.h)("br",null)),Object(c.h)(f,{saved:i,ad:s,field:"url",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.url"},"URL"),help:Object(c.h)(u.c,{id:"ad.url-help"},"Ad url"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"target",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.target"},"Target"),help:Object(c.h)(u.c,{id:"ad.target-help"},"Ad url target"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"email",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.email"},"Email"),help:Object(c.h)(u.c,{id:"ad.email-help"},"Ad email"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"offline",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.offline"},"Offline"),help:Object(c.h)(u.c,{id:"ad.offline-help"},"Ad offline"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"active",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.active"},"Active"),help:Object(c.h)(u.c,{id:"ad.active-help"},"Ad active"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"startDate",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.startDate"},"Start Date"),type:"date",help:Object(c.h)(u.c,{id:"ad.startDate-help"},"Ad startDate"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"endDate",icon:"fas fa-heading",title:Object(c.h)(u.c,{id:"ad.endDate"},"End Date"),type:"date",help:Object(c.h)(u.c,{id:"ad.endDate-help"},"Ad endDate"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"body",icon:"fas fa-quote-right",type:"textarea",rows:5,title:Object(c.h)(u.c,{id:"ad.body"},"Body"),help:Object(c.h)(u.c,{id:"ad.body-help"},"Body of this ad story"),onInput:this.updateField}),Object(c.h)(f,{saved:i,ad:s,field:"image",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(c.h)(u.c,{id:"ad.photo"},"Bilder"),help:Object(c.h)(u.c,{id:"ad.photo-help"},"Images for this ad story."),onInput:this.updateField,updateField:this.updateFieldValue})))))}})||l;t.a=O}).call(this,s("hosL").Fragment)},mK0O:function(e,t,s){"use strict";function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,"a",(function(){return a}))},mPUg:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn");const c=[0,6];let d=Object(n.a)(a=class extends i.Component{constructor(...e){super(...e),this.setHistoryType=e=>{const{callback:t=(()=>{})}=this.props,{historyType:s}=this.state;let a=e.target.dataset.historytype||e.target.parentElement.dataset.historytype;a===s?(this.setState({historyType:null}),t(null)):(this.setState({historyType:a}),t(a))},this.chooseDay=e=>{const{year:t,month:s,day:a}=this.state,{setDay:i=(()=>{})}=this.props,o=parseInt(e.target.parentElement.dataset.day||e.target.dataset.day,10),n=parseInt(e.target.parentElement.dataset.month||e.target.dataset.month,10),r=parseInt(e.target.parentElement.dataset.year||e.target.dataset.year,10);r===t&&n===s&&o===a?(this.setState({year:null,month:null,day:null}),i(null,null,null)):(this.setState({year:r,month:n,day:o}),i(r,n,o))}}async loadHistorySummary(e=this.props){this.setState({isLoading:!0});const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,i=(new Date).getMonth()+1,{month:n=i,year:r=o.a.getYear(),team:l=a,dog:c={},callback:d=(()=>{})}=e;await t.getFeed({month:n,year:r,team:l,dog:c.id});const{historyType:h}=this.state;d(h),this.setState({isLoading:!1})}componentDidMount(){this.loadHistorySummary()}componentWillReceiveProps(e){e.month===this.props.month&&e.year===this.props.year&&e.dog===this.props.dog&&e.team===this.props.team||this.loadHistorySummary(e)}render(){const{historyType:t,day:s,month:a,year:n}=this.state,d=t?e=>e.historyType===t:()=>!0,{appState:h,userStore:u}=this.props.stores,{user:p}=u,{language:m="en"}=p,b=l.a.getHistoryMap(m),f=l.a.getDays(m),g=l.a.getMonths(m),O=(new Date).getDate(),v=(new Date).getMonth()+1,y=(new Date).getFullYear(),{month:j=v,year:w=o.a.getYear(),dog:k,basehref:x}=this.props,S=parseInt(j,10),_=parseInt(w,10),{month:T,year:D}=l.a.getNextMonth(S,_),{month:I,year:P}=l.a.getPrevMonth(S,_),L=o.a.getDaysInMonth(j,w),C=o.a.getWeeksInMonth(j,w),A=o.a.getDaysInWeek(C[0].week,w);return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(i.h)("a",{href:`${x||"/workouts/month/"}${T}/${D}/skipScroll`,class:"float-right btn btn-sm btn-link"},Object(i.h)("i",{class:"fas fa-arrow-right"})),Object(i.h)("a",{href:`${x||"/workouts/month/"}${I}/${P}/skipScroll`,class:"float-left btn btn-sm btn-link"},Object(i.h)("i",{class:"fas fa-arrow-left"})),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"dog.calendar.month"},"Måned")," - ",g[j-1]," ",w),k&&Object(i.h)("div",null,k.name),Object(i.h)("small",null,o.a.isoDate(L[0],!1,!1,!0)," - ",o.a.isoDate(L[L.length-1],!1,!1,!0))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:"text-muted"},Object(i.h)("small",null,Object(i.h)(r.c,{id:"dog.calendar.week"},"Uke"))),A.map(e=>Object(i.h)("th",null,Object(i.h)("small",null,f[e.getDay()]))))),Object(i.h)("tbody",null,C&&C.map(t=>{const r=o.a.getDaysInWeek(t.week,w);return Object(i.h)("tr",null,Object(i.h)("td",{class:"text-right text-muted pt-3"},Object(i.h)("small",null,t.week)),r.map(t=>{const o=t.getFullYear(),r=t.getMonth()+1,h=t.getDate(),p=u.findHistory(o,r,h),m=u.findEndHistory(o,r,h),b=n==o&&a==r&&s==h,f=y==o&&v==r&&O==h,g=c.indexOf(t.getDay())>-1;return Object(i.h)("td",{class:`text-center font-weight-light position-relative pt-3 ${b?"calendarIsChosen":""} ${f?"calendarIsToday":""} ${g?"calendarIsWeekend":""}`,style:"font-size: 0.8em;",onClick:this.chooseDay,"data-day":h,"data-month":r,"data-year":o},Object(i.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),p&&p.length>0?Object(i.h)(e,null,p.filter(d).map((e,t)=>{if(!e.historyType)return Object(i.h)("div",{class:"rounded-circle position-absolute border",style:`background-color: #808080; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`});const s=l.a.getHistoryTypeColor(e.historyType);return Object(i.h)("div",{class:"rounded-circle position-absolute border",style:`background-color: ${s}; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`})}),p.length>1&&Object(i.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},p.length)):"-",m&&m.length>0?Object(i.h)(e,null,m.filter(d).map((e,t)=>{if(!e.historyType)return Object(i.h)("div",{class:"rounded position-absolute border border-white",style:`background-color: #808080; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`});const s=l.a.getHistoryTypeColor(e.historyType);return Object(i.h)("div",{class:"rounded position-absolute border border-white",style:`background-color: ${s}; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`})}),m.length>1&&Object(i.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},m.length)):"-")}))})))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(i.h)("div",{class:"clearfix"},Object(i.h)("small",null,l.a.getHistoryPri().map(e=>{const s=l.a.getHistoryTypeColor(e);return Object(i.h)("span",{class:"float-left mr-2 "+(t===e?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":e},Object(i.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",b[e])}))),Object(i.h)("div",{class:"clearfix"},Object(i.h)("small",null,l.a.getHistoryPri(2).map(e=>{const s=l.a.getHistoryTypeColor(e);return Object(i.h)("span",{class:"float-left mr-2 "+(t===e?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":e},Object(i.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",b[e])}))),Object(i.h)("div",{class:"clearfix"},Object(i.h)("small",null,l.a.getHistoryPri(3).map(e=>{const s=l.a.getHistoryTypeColor(e);return Object(i.h)("span",{class:"float-left mr-2 "+(t===e?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":e},Object(i.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",b[e])})))))}})||a;t.a=d}).call(this,s("hosL").Fragment)},mdyV:function(e,t,s){"use strict";s.r(t);var a=s("hosL");const{h:i,render:o,hydrate:n}=a,r=e=>e&&e.default?e.default:e;if("serviceWorker"in navigator&&navigator.serviceWorker.register(s.p+"sw-esm.js"),"function"==typeof r(s("QfWi"))){let e=document.getElementById("preact_root")||document.body.firstElementChild;0,(()=>{let t=r(s("QfWi")),a={};const n=document.querySelector('[type="__PREACT_CLI_DATA__"]');n&&(a=JSON.parse(decodeURI(n.innerHTML)).preRenderData||a);a.url&&(l=a.url);var l;e=o(i(t,{CLI_DATA:{preRenderData:a}}),document.body,e)})()}},mxER:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(14).then(function(){var t=s("nKYJ");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},n9om:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function r(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function l(){0}var c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S,_,T,D,I,P,L,C,A,E,F,M,R,z,U,N,$,W,B,H=s("cneo"),V=s("0frO"),G=s("Utv1"),q=s("Y3FI"),K=s("X9Km"),Z=s("ZOvn");Object(H.f)({enforceActions:"always"});const Y=new(d=r((c=class extends V.a{constructor(){super("workout",{namePlural:"workouts",sort:"-date",limit:500,api:{search:{url:"/api/workouts/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/workouts/",params:{}},save:{url:"/api/workouts/",params:{}}}}),n(this,"workout",d,this),n(this,"cordovaActiveTrackingParams",h,this),n(this,"newWorkout",u,this),n(this,"workouts",p,this),n(this,"isTracking",m,this),n(this,"cordovaInitSet",b,this),n(this,"workoutLocations",f,this),n(this,"currentTeam",g,this),n(this,"activeTrackingWorkoutId",O,this),n(this,"activeTrackingTeamId",v,this),n(this,"competitionResults",y,this),n(this,"competitionAllResults",j,this),n(this,"competitionTeams",w,this),n(this,"heatmap",k,this),n(this,"publicUsers",x,this),n(this,"publicTeams",S,this),this.bgGeo=null,n(this,"cordovaAuthorizationStatus",_,this),n(this,"isRunning",T,this),n(this,"powerSaveStatus",D,this),n(this,"providerState",I,this),n(this,"log",P,this),n(this,"startTime",L,this),n(this,"lastTime",C,this),n(this,"totalTime",A,this),n(this,"currentSpeed",E,this),n(this,"totalDistance",F,this),n(this,"geoLocationState",M,this),n(this,"activity",R,this),n(this,"battery",z,this),n(this,"coords",U,this),n(this,"currentLocation",N,this),n(this,"laps",$,this),n(this,"startTracking",W,this),n(this,"stopTracking",B,this)}cleanupMemory(){this.localUpdateField("workout",{}),this.localUpdateField("workouts",[]),this.localUpdateField("heatmap",[]),this.localUpdateField("laps",[]),this.localUpdateField("competitionAllResults",[]),this.localUpdateField("competitionTeams",[])}setActiveTrackingWorkoutId(e){this.activeTrackingWorkoutId=e,G.a.set("activeTrackingWorkoutId",e)}setActiveTrackingTeamId(e){this.activeTrackingTeamId=e,G.a.set("activeTrackingTeamId",e)}localUpdateField(e,t){this[e]=t}setCurrentTeam(e){this.currentTeam=e,G.a.set("currentTeam",e)}setCurrentSpeed(e){this.currentSpeed=e}setTotalDistance(e){this.totalDistance=e}setGeoLocationState(e){this.geoLocationState=e}setCurrentLocation(e){this.currentLocation=e}setActivity(e){this.activity=e}setBattery(e){this.battery=e}setCoords(e){this.coords=e}findPublicUser(e){if(!this.publicUsers)return null;const t=this.publicUsers.findIndex(t=>t.id===e);return t>-1?this.publicUsers[t]:void 0}findPublicTeamByMembers(e){if(!e||!this.publicTeams)return[];return this.publicTeams.filter(t=>t.members.indexOf(e)>-1)}getWorkoutNavigation(e){const t=this.workouts.findIndex(t=>t.id===e);return{idx:t,previous:Object(H.i)(this.workouts[t-1]),next:Object(H.i)(this.workouts[t+1]),total:this.workouts.length}}appendLocation(e){this.workoutLocations.push(i(i({},{latitude:e.coords.latitude,longitude:e.coords.longitude,altitude:e.coords.altitude,accuracy:e.coords.accuracy,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,speed:e.coords.speed}),{},{timestamp:e.timestamp})),this.workoutLocations.length>100&&this.saveTrack()}saveTrack(){const e=[...this.workoutLocations];this.workoutLocations=[],this.saveField(this.workout.id,"tracks",e)}setCordovaActiveTrackingParams(e){this.cordovaActiveTrackingParams=e}async cordovaGetState(){if(l(),this.apiServer=G.a.getApiServer(),this.jwtToken=G.a.getJwtToken(),this.bgGeo){const e=await this.bgGeo.getState();if(l(),e.trackingMode||e.params){1===e.trackingMode&&this.bgGeo.changePace(!0,()=>{l()});const{odometer:t,params:s}=e;if(e.enabled&&this.cordovaSetToRunning(),s&&s.workout){this.setCordovaActiveTrackingParams(s);const{workout:e,team:t}=s;e&&t&&(this.setActiveTrackingWorkoutId(e),this.setActiveTrackingTeamId(t))}if(this.setTotalDistance(t),this.setGeoLocationState(e),s.workout&&await this.load(s.workout),this.workout.date){l();const e=Math.floor((new Date).getTime()/1e3);let t=Math.floor(new Date(this.workout.date).getTime()/1e3);t>e&&(t=e-3600),l(),l(),this.cordovaSetTimes({startTime:t,lastTime:e,totalTime:e-t}),this.cordovaTickTracking()}this.cordovaActiveTrackingParams&&this.cordovaActiveTrackingParams.workout&&await this.bgGeo.setConfig({params:i({},this.cordovaActiveTrackingParams),url:this.apiServer+"/api/workouts/cordova-track",headers:{Authorization:"Bearer "+this.jwtToken}})}return{enabled:e.enabled,trackingMode:e.trackingMode}}return{}}cordovaSetToRunning(e=!0){this.isRunning=e}setPowerSaveStatus(e=!1){this.powerSaveStatus=e}setProviderState(e=!1){this.providerState=e}setLog(e=null){this.log=e}cordovaSetTimes({lastTime:e=this.lastTime,totalTime:t=this.totalTime,startTime:s=this.startTime,laps:a=this.laps,totalDistance:i=this.totalDistance,currentSpeed:o=this.currentSpeed}){this.lastTime=e,this.totalTime=t,this.startTime=s,a&&(this.laps=a),i&&(this.totalDistance=i),o&&(this.currentSpeed=o)}cordovaSetOdometer(e){this.bgGeo&&this.bgGeo.setOdometer(e).then(()=>{l()})}cordovaTickTracking(){if(!this.isRunning)return!1;const e=parseInt((new Date).getTime()/1e3,10);this.totalTime+=e-this.lastTime,this.lastTime=e,setTimeout(()=>this.cordovaTickTracking(),1e3)}cordovaInitTracking(){if(l(),this.cordovaInitSet)return!0;this.bgGeo&&(this.bgGeo.onLocation(e=>{l(),this.setCurrentSpeed(e.is_moving?e.coords.speed:0),this.setTotalDistance(e.odometer),this.setActivity(e.activity),this.setBattery(e.battery),this.setCoords(e.coords)}),this.bgGeo.onMotionChange(e=>{l(),e.isMoving||this.setCurrentSpeed(0)}),this.bgGeo.onHttp(()=>{l()}),this.bgGeo.onProviderChange(e=>{switch(l(),e.status){case this.bgGeo.AUTHORIZATION_STATUS_NOT_DETERMINED:l(),this.localUpdateField("cordovaAuthorizationStatus","NOT DETERMINED");break;case this.bgGeo.AUTHORIZATION_STATUS_RESTRICTED:l(),this.localUpdateField("cordovaAuthorizationStatus","RESTRICTED");break;case this.bgGeo.AUTHORIZATION_STATUS_DENIED:l(),this.localUpdateField("cordovaAuthorizationStatus","DENIED");break;case this.bgGeo.AUTHORIZATION_STATUS_ALWAYS:l(),this.localUpdateField("cordovaAuthorizationStatus","ALWAYS");break;case this.bgGeo.AUTHORIZATION_STATUS_WHEN_IN_USE:l(),this.localUpdateField("cordovaAuthorizationStatus","WHEN_IN_USE")}}),this.bgGeo.onHeartbeat(()=>{l(),this.bgGeo.getCurrentPosition({samples:3,persist:!0}).then(()=>{l()})}),this.cordovaInitSet=!0)}corovaConfig(){this.apiServer=G.a.getApiServer(),this.jwtToken=G.a.getJwtToken();return{reset:!1,debug:!1,logLevel:this.bgGeo.LOG_LEVEL_VERBOSE,locationAuthorizationRequest:"Always",activityType:this.bgGeo.ACTIVITY_TYPE_FITNESS,desiredAccuracy:this.bgGeo.DESIRED_ACCURACY_HIGH,desiredOdometerAccuracy:10,distanceFilter:10,stationaryRadius:10,disableElasticity:!0,allowIdenticalLocations:!0,disableStopDetection:!0,pausesLocationUpdatesAutomatically:!1,enableHeadless:!0,showsBackgroundLocationIndicator:!0,url:this.apiServer+"/api/workouts/cordova-track",headers:{Authorization:"Bearer "+this.jwtToken},autoSync:!0,autoSyncThreshold:50,batchSync:!0,backgroundPermissionRationale:{title:"Allow {applicationName} to access to this device's location in the background?",message:"In order to track your workouts in the background, please enable {backgroundPermissionOptionLabel} location permission",positiveAction:"Change to {backgroundPermissionOptionLabel}",negativeAction:"Cancel"},startOnBoot:!0,stopOnTerminate:!1,stopOnStationary:!1,stopDetectionDelay:600,foregroundService:!0,preventSuspend:!0,heartbeatInterval:60,locationsOrderDirection:"ASC",maxDaysToPersist:7}}async cordovaStartPlugin(){if(l(),this.bgGeo=window.BackgroundGeolocation,this.bgGeo){this.cordovaInitTracking();const e=await this.bgGeo.ready(this.corovaConfig());l();const{odometer:t=0,params:s}=e;if(s&&s.workout&&this.setCordovaActiveTrackingParams(s),this.setTotalDistance(t),e.enabled)return!0}}async cordovaStartTracking({workout:e,team:t}){if(this.apiServer=G.a.getApiServer(),this.jwtToken=G.a.getJwtToken(),this.bgGeo){await this.bgGeo.getState();l();await this.bgGeo.setConfig({params:{workout:e,team:t},url:this.apiServer+"/api/workouts/cordova-track",headers:{Authorization:"Bearer "+this.jwtToken}});l();await this.bgGeo.start();l(),await this.bgGeo.changePace(!0),l();const s=parseInt((new Date).getTime()/1e3,10);this.cordovaSetTimes({startTime:s,lastTime:s,totalTime:0}),this.cordovaSetToRunning(),this.cordovaTickTracking(),this.setActiveTrackingWorkoutId(e),this.setActiveTrackingTeamId(t),this.setCordovaActiveTrackingParams({workout:e,team:t})}}async cordovaResumeTracking(){this.cordovaSetToRunning();const e=parseInt((new Date).getTime()/1e3,10);if(this.cordovaSetTimes({lastTime:e}),this.bgGeo){const e=await this.bgGeo.getState();l(),e.enabled||(await this.bgGeo.start(),l()),this.bgGeo.changePace(!0),l()}this.cordovaTickTracking()}async cordovaPauseTracking(){this.cordovaSetToRunning(!1),this.setCurrentSpeed(0),this.bgGeo&&await this.bgGeo.stop()}async cordovaResetTracking(){this.apiServer=G.a.getApiServer(),this.jwtToken=G.a.getJwtToken(),this.bgGeo&&(await this.bgGeo.stop(),await this.bgGeo.resetOdometer(),l(),await this.bgGeo.destroyLocations(),l(),await this.bgGeo.setConfig({params:{workout:null,team:null},url:this.apiServer+"/api/workouts/cordova-track",headers:{Authorization:"Bearer "+this.jwtToken}}),this.setActiveTrackingWorkoutId(null),this.setActiveTrackingTeamId(null),this.cordovaSetToRunning(!1),this.setCurrentSpeed(0),this.setCordovaActiveTrackingParams({workout:null,team:null})),this.cordovaSetTimes({startTime:0,lastTime:0,totalTime:0,laps:[],totalDistance:0,currentSpeed:0})}async cordovaSaveTracking(){if(this.bgGeo){await this.bgGeo.sync();l()}}async cordovaGetCurrentPosition(e){if(this.bgGeo){const e=await this.bgGeo.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:50,samples:3});return this.updateCurrentLocation(e),await G.a.fetchApi("/api/users/location",{publish:!0,method:"POST"},{location:e}),e}return null}async cordovaIsPowerSaveMode(){if(this.bgGeo){const e=await this.bgGeo.isPowerSaveMode();this.setPowerSaveStatus(e)}}async cordovaProviderState(){if(this.bgGeo){const e=await this.bgGeo.getProviderState();switch(this.setProviderState(e),l(),e.status){case this.bgGeo.AUTHORIZATION_STATUS_NOT_DETERMINED:l(),this.localUpdateField("cordovaAuthorizationStatus","NOT DETERMINED");break;case this.bgGeo.AUTHORIZATION_STATUS_RESTRICTED:l(),this.localUpdateField("cordovaAuthorizationStatus","RESTRICTED");break;case this.bgGeo.AUTHORIZATION_STATUS_DENIED:l(),this.localUpdateField("cordovaAuthorizationStatus","DENIED");break;case this.bgGeo.AUTHORIZATION_STATUS_ALWAYS:l(),this.localUpdateField("cordovaAuthorizationStatus","ALWAYS");break;case this.bgGeo.AUTHORIZATION_STATUS_WHEN_IN_USE:l(),this.localUpdateField("cordovaAuthorizationStatus","WHEN_IN_USE")}}}async cordovaGetLog(){if(this.bgGeo){const e=await this.bgGeo.logger.getLog();this.setLog(e)}}async cordovaDestroyLog(){this.bgGeo&&this.bgGeo.logger.destroyLog()}getLatests(e=3){return this.workouts.slice(0,e).map(e=>Object(H.i)(e))}removeImageLocal({id:e,name:t}){if(G.a.isArray(this.workout.images)){const e=this.workout.images.findIndex(e=>e.name===t);e>-1&&this.workout.images.splice(e,1)}const s=this.workouts.findIndex(t=>t.id===e);if(s>-1){const e=this.workouts[s].images.findIndex(e=>e.name===t);e>-1&&this.workouts[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await G.a.fetchApi("/api/workouts/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async duplicateWorkout({id:e}){const t=await G.a.fetchApi("/api/workouts/duplicate/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return t.data;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async workoutResults(){const e=await G.a.fetchApi("/api/workouts//competition-results",{publish:!0,method:"GET"},{});switch(e.status){case 200:return this.localUpdateField("competitionResults",e.data),this.localUpdateField("competitionAllResults",e.included.allResults),this.localUpdateField("competitionTeams",e.included.teams),e;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async makeTrackFromWorkout({id:e}){const t=await G.a.fetchApi("/api/workouts/create-track/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return t.data;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}removeTeamLocal({id:e,team:t}){if(!e){if(G.a.isArray(this.newWorkout.teams)){const e=this.newWorkout.teams.findIndex(e=>e===t);e>-1&&this.newWorkout.teams.splice(e,1)}return!0}if(G.a.isArray(this.workout.teams)){const e=this.workout.teams.findIndex(e=>e===t);e>-1&&this.workout.teams.splice(e,1)}const s=this.workouts.findIndex(t=>t.id===e);if(s>-1&&G.a.isArray(this.workouts[s].teams)){const e=this.workouts[s].teams.findIndex(e=>e===t);e>-1&&this.workouts[s].teams.splice(e,1)}}addTeamLocal({id:e,team:t}){if(!e){if(G.a.isArray(this.newWorkout.teams)){-1===this.newWorkout.teams.findIndex(e=>e===t)&&this.newWorkout.teams.push(t)}return!0}if(G.a.isArray(this.workout.teams)){-1===this.workout.teams.findIndex(e=>e===t)&&this.workout.teams.push(t)}const s=this.workouts.findIndex(t=>t.id===e);if(s>-1){G.a.isArray(this.workouts[s].teams)||(this.workouts[s].teams=[]);-1===this.workouts[s].teams.findIndex(e=>e===t)&&this.workouts[s].teams.push(t)}}async removeTeam({id:e,team:t}){if(!e)return this.removeTeamLocal({id:e,team:t});const s=await G.a.fetchApi("/api/workouts/"+e,{publish:!0,method:"PATCH"},{$pull:{teams:t}});switch(s.status){case 202:return this.removeTeamLocal({id:e,team:t}),s;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async addTeam({id:e,team:t}){if(!e)return this.addTeamLocal({id:e,team:t});const s=await G.a.fetchApi("/api/workouts/"+e,{publish:!0,method:"PATCH"},{teams:t});switch(s.status){case 202:return this.addTeamLocal({id:e,team:t}),s;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}addLikeToWorkout({id:e,data:t}){G.a.isUndefined(this.workout.likes)&&(this.workouts.likes=[]),G.a.isArray(this.workout.likes)&&this.workout.likes.push(t);const s=this.workouts.findIndex(t=>t.id===e);s>-1&&(G.a.isUndefined(this.workouts[s].likes)&&(this.workouts[s].likes=[]),this.workouts[s].likes.push(t))}addLikeToComment({id:e,commentId:t,data:s}){if(G.a.isDefined(this.workout.comments)){const e=this.workout.comments.findIndex(e=>e.id===t),a=this.workout.comments[e];G.a.isUndefined(a.likes)&&(a.likes=[]),a.likes.push(s)}const a=this.workouts.findIndex(t=>t.id===e);if(a>-1&&G.a.isDefined(this.workouts[a].comments)){const e=this.workouts[a].comments.findIndex(e=>e.id===t),i=this.workouts[a].comments[e];G.a.isUndefined(i.likes)&&(i.likes=[]),i.likes.push(s)}}addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a}){if(G.a.isDefined(this.workout.comments)){const e=this.workout.comments.findIndex(e=>e.id===t),i=this.workout.comments[e];if(G.a.isDefined(i.comments[e])){const e=i.comments.findIndex(e=>e.id===s),t=i.comments[e];G.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}const i=this.workouts.findIndex(t=>t.id===e);if(i>-1&&G.a.isDefined(this.workouts[i].comments)){const e=this.workouts[i].comments.findIndex(e=>e.id===t),o=this.workouts[i].comments[e];if(G.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s),t=o.comments[e];G.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}}addCommentToWorkout({id:e,data:t}){G.a.isArray(this.workout.comments)&&this.workout.comments.push(t);const s=this.workouts.findIndex(t=>t.id===e);s>-1&&(G.a.isUndefined(this.workouts[s].comments)&&(this.workouts[s].comments=[]),this.workouts[s].comments.push(t))}addCommentToWorkoutComment({id:e,commentId:t,data:s}){if(G.a.isDefined(this.workout.comments)){const e=this.workout.comments.findIndex(e=>e.id===t),a=this.workout.comments[e];G.a.isUndefined(a.comments)&&(a.comments=[]),a.comments.push(s)}const a=this.workouts.findIndex(t=>t.id===e);if(a>-1&&G.a.isDefined(this.workouts[a].comments)){const e=this.workouts[a].comments.findIndex(e=>e.id===t),i=this.workouts[a].comments[e];G.a.isUndefined(i.comments)&&(i.comments=[]),i.comments.push(s)}}async likeWorkout({id:e}){const t=await G.a.fetchApi("/api/workouts/like/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.addLikeToWorkout({id:e,data:t.data}),Z.a.tapticWeakBoom(),t;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async likeWorkoutComment({id:e,commentId:t}){const s=await G.a.fetchApi(`/api/workouts/like/${e}/${t}`,{publish:!0,method:"GET"},{});switch(s.status){case 200:return this.addLikeToComment({id:e,commentId:t,data:s.data}),Z.a.tapticWeakBoom(),s;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async likeWorkoutCommentReply({id:e,commentId:t,replyId:s}){const a=await G.a.fetchApi(`/api/workouts/like/${e}/${t}/${s}`,{publish:!0,method:"GET"},{});switch(a.status){case 200:return this.addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a.data}),Z.a.tapticWeakBoom(),a;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async commentWorkout({id:e,comment:t}){const s=await G.a.fetchApi("/api/workouts/comment/"+e,{publish:!0,method:"POST"},{comment:t});switch(s.status){case 200:return this.addCommentToWorkout({id:e,data:s.data}),Z.a.tapticWeakBoom(),s;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async commentReplyWorkout({id:e,commentId:t,comment:s}){const a=await G.a.fetchApi(`/api/workouts/comment/${e}/${t}`,{publish:!0,method:"POST"},{comment:s});switch(a.status){case 200:return this.addCommentToWorkoutComment({id:e,commentId:t,data:a.data}),Z.a.tapticWeakBoom(),a;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async reimportStravaWorkout(e,t){const s=await G.a.fetchApi("/api/strava/re-import-gpx",{publish:!0,method:"GET"},{id:e,workout:t});switch(s.status){case 200:l();break;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async reimportGarminWorkout(e,t){const s=await G.a.fetchApi("/api/garmin/re-import-gpx",{publish:!0,method:"GET"},{id:e,workout:t});switch(s.status){case 200:l();break;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async reLoad(e){const t=await G.a.fetchApi("/api/workouts/"+e,{publish:!0,method:"GET"},{reload:!0});switch(t.status){case 200:l(),t.data&&t.data.id===e&&this.localUpdateField("workout",t.data);break;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async loadPublic(e){const t=await G.a.fetchApi("/api/workouts/public/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:l(),t.data&&t.data.id===e&&this.localUpdateField("workout",t.data);break;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async getHeatmap(e){const t=await G.a.fetchApi("/api/workouts/heatmap",{publish:!0,method:"GET"},{team:e});switch(t.status){case 200:return this.localUpdateField("heatmap",t.data),t;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async sendGpxFile(e){const t=await G.a.fetchApi("/api/workouts/send-gpx-file/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return t;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}async postScrollview(e=[]){if(!e||0===e.length)return!1;const t=await G.a.fetchApi("/api/scrollview/",{publish:!1,method:"POST"},{data:e});switch(t.status){case 200:return t;case 401:K.a.publish(K.b.LOG_OUT),Object(q.route)("/",!0)}}}).prototype,"workout",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=r(c.prototype,"cordovaActiveTrackingParams",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=r(c.prototype,"newWorkout",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{dogs:[],teams:[]}}}),p=r(c.prototype,"workouts",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=r(c.prototype,"isTracking",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=r(c.prototype,"cordovaInitSet",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=r(c.prototype,"workoutLocations",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=r(c.prototype,"currentTeam",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.a.get("currentTeam")}}),O=r(c.prototype,"activeTrackingWorkoutId",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.a.get("activeTrackingWorkoutId")}}),v=r(c.prototype,"activeTrackingTeamId",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.a.get("activeTrackingTeamId")}}),y=r(c.prototype,"competitionResults",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=r(c.prototype,"competitionAllResults",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=r(c.prototype,"competitionTeams",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=r(c.prototype,"heatmap",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=r(c.prototype,"publicUsers",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=r(c.prototype,"publicTeams",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=r(c.prototype,"cordovaAuthorizationStatus",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(c.prototype,"isRunning",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=r(c.prototype,"powerSaveStatus",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=r(c.prototype,"providerState",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=r(c.prototype,"log",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(c.prototype,"startTime",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=r(c.prototype,"lastTime",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=r(c.prototype,"totalTime",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=r(c.prototype,"currentSpeed",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=r(c.prototype,"totalDistance",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=r(c.prototype,"geoLocationState",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(c.prototype,"activity",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z=r(c.prototype,"battery",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),U=r(c.prototype,"coords",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),N=r(c.prototype,"currentLocation",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$=r(c.prototype,"laps",[H.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r(c.prototype,"cleanupMemory",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"cleanupMemory"),c.prototype),r(c.prototype,"setActiveTrackingWorkoutId",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setActiveTrackingWorkoutId"),c.prototype),r(c.prototype,"setActiveTrackingTeamId",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setActiveTrackingTeamId"),c.prototype),r(c.prototype,"localUpdateField",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"localUpdateField"),c.prototype),r(c.prototype,"setCurrentTeam",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setCurrentTeam"),c.prototype),r(c.prototype,"setCurrentSpeed",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setCurrentSpeed"),c.prototype),r(c.prototype,"setTotalDistance",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setTotalDistance"),c.prototype),r(c.prototype,"setGeoLocationState",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setGeoLocationState"),c.prototype),r(c.prototype,"setCurrentLocation",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setCurrentLocation"),c.prototype),r(c.prototype,"setActivity",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setActivity"),c.prototype),r(c.prototype,"setBattery",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setBattery"),c.prototype),r(c.prototype,"setCoords",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setCoords"),c.prototype),r(c.prototype,"findPublicUser",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"findPublicUser"),c.prototype),r(c.prototype,"findPublicTeamByMembers",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"findPublicTeamByMembers"),c.prototype),r(c.prototype,"getWorkoutNavigation",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"getWorkoutNavigation"),c.prototype),r(c.prototype,"appendLocation",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"appendLocation"),c.prototype),W=r(c.prototype,"startTracking",[H.c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isTracking=!0;const e={enableHighAccuracy:!0,maximumAge:0,timeout:3e3};"geolocation"in navigator?(navigator.geolocation.getCurrentPosition(e=>this.appendLocation(e)),this.watchLocationId=navigator.geolocation.watchPosition(e=>this.appendLocation(e),e=>console.error(e),e)):console.error("Geolocation API not supported.")}}}),B=r(c.prototype,"stopTracking",[H.c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isTracking=!1,navigator.geolocation.clearWatch(this.watchLocationId),this.saveTrack()}}}),r(c.prototype,"saveTrack",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"saveTrack"),c.prototype),r(c.prototype,"setCordovaActiveTrackingParams",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setCordovaActiveTrackingParams"),c.prototype),r(c.prototype,"cordovaSetToRunning",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"cordovaSetToRunning"),c.prototype),r(c.prototype,"setPowerSaveStatus",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setPowerSaveStatus"),c.prototype),r(c.prototype,"setProviderState",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setProviderState"),c.prototype),r(c.prototype,"setLog",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"setLog"),c.prototype),r(c.prototype,"cordovaSetTimes",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"cordovaSetTimes"),c.prototype),r(c.prototype,"cordovaTickTracking",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"cordovaTickTracking"),c.prototype),r(c.prototype,"cordovaInitTracking",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"cordovaInitTracking"),c.prototype),r(c.prototype,"getLatests",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"getLatests"),c.prototype),r(c.prototype,"removeImageLocal",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"removeImageLocal"),c.prototype),r(c.prototype,"removeTeamLocal",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"removeTeamLocal"),c.prototype),r(c.prototype,"addTeamLocal",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"addTeamLocal"),c.prototype),r(c.prototype,"addLikeToWorkout",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"addLikeToWorkout"),c.prototype),r(c.prototype,"addLikeToComment",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"addLikeToComment"),c.prototype),r(c.prototype,"addLikeToCommentReply",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"addLikeToCommentReply"),c.prototype),r(c.prototype,"addCommentToWorkout",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"addCommentToWorkout"),c.prototype),r(c.prototype,"addCommentToWorkoutComment",[H.c],Object.getOwnPropertyDescriptor(c.prototype,"addCommentToWorkoutComment"),c.prototype),c);t.a=Y},nHdA:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV");s("ZOvn");let l=Object(n.a)(a=class extends i.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:l={}}=n;return l.imperial?Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(function(e){return.621371*e}(t),1)," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-2 text-muted"},Object(i.h)(r.c,{id:"workouts.mph"},"mph"))))):Object(i.h)(e,null,Object(i.h)(r.c,{id:"workouts.mph"},"mph")))):Object(i.h)(e,null,Object(i.h)("nobr",null,o.a.format(t,1)," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-2 text-muted"},Object(i.h)(r.c,{id:"workouts.kmt"},"km/t"))))):Object(i.h)(e,null,Object(i.h)(r.c,{id:"workouts.kmt"},"km/t"))))}})||a;t.a=l}).call(this,s("hosL").Fragment)},na1C:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn"),h=s("JWe/"),u=s("ZiYL"),p=s("pJjI");const m=d.a.marginTop(!0),b=d.a.marginBottom(),f=d.a.subMenuMarginTop(),g={isLoading:!1};let O=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadWorkouts=async function(){t.setState({isLoading:!0}),await t.loadWorkoutSummary(),t.setState({isLoading:!1})},this.loadDogs=async function(){const{dogStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s},addData:["workoutSummary"]})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g)}async loadTracks(){const{trackStore:e}=this.props.stores;await e.load()}async loadWorkoutSummary(e=this.props){const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,{week:i,year:o}=e;await t.getWorkoutSummary({team:a}),await t.getWorkoutSummaryDay({week:i,year:o,team:a})}componentDidMount(){this.loadWorkouts()}componentWillReceiveProps(e){e.week!==this.props.week&&this.loadWorkoutSummary(e)}shouldComponentUpdate(e){if(e.week!==this.props.week)return!0}render(){const{userStore:e,appState:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,{darkmode:i}=t,{week:o,year:l=r.a.getYear()}=this.props,{workoutsDay:d}=e;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${m};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${f}; background-color: ${i?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(c.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(c.c,{id:"workout.index.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-calendar-alt"})," ",Object(n.h)(c.c,{id:"workout.index.plan"},"Plan"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(p.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+a})),Object(n.h)(u.a,{stores:this.props.stores,team:a,week:o,year:l,key:`${l}-${o}-${a}`}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(n.h)("h5",null,Object(n.h)(c.c,{id:"workouts.week-workouts",fields:{week:o,year:l}},"Treningsturene - Uke - ",o," ",l))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},d&&d.map(e=>Object(n.h)(h.a,{stores:this.props.stores,workout:e,showDate:!0})))))}})||o;t.a=O},nopH:function(e){e.exports=JSON.parse('{"ad":{"heading":"Хотите разместить здесь рекламу?","teaser":"Это очень легко :)","subject":"Запрос объявления","body":"Привет, я хотел бы узнать больше о рекламе в приложении Muhser.","linktext":"Связаться с Musher","ad":"Объявление"},"home":{"dashboard":"Щиток приборов","feed":"Кормить","todo":"Делать","welcome-title":"Добро пожаловать в The Musher.","welcome-body-1":"Musher - это приложение, которое постоянно развивается. Если у вас есть предложения, комментарии или сообщения об ошибках, сообщите нам об этом на нашей странице в Facebook 😃","welcome-body-2":"Основное внимание в этом приложении уделяется простоте использования при регистрации собак, тренировках и других вещах, связанных с собаками. Когда у вас много собак, бывает сложно их уследить. Когда наступит следующий период течки, как долго действуют вакцины и т. Д.","welcome-body-3":"Все данные хранятся в облаке на AWS (Amazon Web Services). Доступ к этому приложению возможен со всех типов устройств и разными людьми.","howto-title":"С чего начать:","howto-step-1":"Добавьте свои команды.","howto-step-2":"Добавьте своих собак.","howto-step-3":"Добавьте свои треки.","howto-step-4":"Начните записывать свои тренировки ..","dogs-follow-up":"Собаки, которым нужно внимание","dogs-special-needs":"Собаки с особыми потребностями","last-workouts":"Последние тренировки - {{total}}","races":"Скачки","workouts":"Тренировки","totals":"Итоги","status":"Положение дел","wall":"стена","home":"Дом","notifications":"Уведомления","back":"Назад","find-teams":"Найдите команды для отслеживания","report-bug":"Сообщить об ошибке","report-bug-placeholder":"Пожалуйста, предоставьте некоторую информацию об ошибке ...","abort":"Отмена","send":"Сообщить об ошибке"},"notifications":{"unread":"Непрочитанные уведомления. Щелкните здесь, чтобы увидеть все.","delete":"Удалить","confirm":"Подтверждать"},"feed":{"dashboard":"Щиток приборов","feed":"Кормить","todo":"Делать","title":"Последние обновления от собак","no-log":"Никаких записей в журнале для ваших собак.","tip-1":"Приятно добавлять такие события, как течка, травмы, прививки, визиты к ветеринару и фотографии ваших собак.","tip-2":"Таким образом, вся ваша команда будет видеть, что происходит в вашем питомнике. Это как DogBook для вашей команды.","add-log":"Добавить запись в журнал","show-all-days":"Показать все"},"workout":{"totals":{"title":"Статус плана тренировки"},"graph":{"title":"Сводка тренировки","month":"Месяц","season":"Сезон","week":"Неделя","distance":"расстояние","distance-avg":"расстояние среднее","distance-avg-all":"расстояние среднее все","ascend":"подниматься","ascend-avg":"ascend avg","ascend-avg-all":"ascend avg all","speed-avg":"средняя скорость","speed-avg-all":"скорость в среднем все","duration-avg":"средняя продолжительность","duration-avg-all":"продолжительность в среднем все","real-duration-avg":"полная продолжительность в среднем","real-duration-avg-all":"полная продолжительность в среднем все","load-index":"индекс нагрузки","load-index-all":"индекс загрузки все","plan":"План тренировки","too-little-data":"У вас должно быть немного данных, чтобы получить хороший график. Пожалуйста, добавьте больше данных, и мы обещаем, что вы получите красивый график и таблицу.","title-avg":"Средние"},"calendar":{"month":"Месяц","week":"Неделя","sum":"Общий","totalKm":"Всего км","summary":"Резюме","totalWorkouts":"Всего тренировок","distance":"Расстояние","ascend":"Восхождение","duration":"Продолжительность","avg-speed":"Скорость в среднем","kmt":"км / ч"},"plan":{"dashboard":"Щиток приборов","list":"Список","plan":"План тренировки","month":"Месяц","week":"Неделя","save":"Сохранить","sum":"Сумма","planned":"план","totalkm":"Всего км","season":"Сезон","no-workout-plan-found":"Планов тренировок для выбранной команды не найдено.","no-plan":"Нет плана тренировок","duplicate":"Повторяющийся план тренировки","title":"Заголовок","title-help":"Название этого плана тренировки.","team":"Команда","team-help":"Команда, которая хочет использовать этот план тренировки.","choose-team":"Выберите команду","save-new":"Сохранить новый план тренировки"},"index":{"dashboard":"Щиток приборов","list":"Список","plan":"План тренировки","add-workout":"Добавить тренировку","last-workouts":"Тренировки {{месяц}} {{год}} - {{total}}","workout-overview":"Обзор тренировки","strava-workouts":"Тренировки Strava / не импортировано","garmin-workouts":"Тренировки Garmin / не импортированы","filtered-by":"Отфильтровано командой"},"kg":"кг","battery-used":"использовал","kcal":"ккал","km":"км","m":"м","kmt":"км / ч","share":"Делиться"},"strava":{"kmt":"км / ч","ignore":"Игнорировать тренировку","import":"Импортировать тренировку"},"garmin":{"kmt":"км / ч","ignore":"Игнорировать тренировку","import":"Импортировать тренировку","import-track":"Импортировать как трек"},"todo":{"dashboard":"Щиток приборов","feed":"Кормить","todo":"Делать","dogs-follow-up":"Собаки, которым нужно внимание","no-dogs-follow-up":"Нет собак, которым нужно внимание.","dogs-special-needs":"Собаки с особыми потребностями","no-dogs-special-needs":"Никаких собак с особыми потребностями.","dogs-with-maturity":"Собаки на охоте","no-dogs-with-maturity":"Никаких собак на течку."},"header":{"dogs":"Собаки","workouts":"Тренировки","tracks":"Треки","teams":"Команды","profile":"Твой профиль","logout":"Выйти","darkmode":"Темный режим","viewmode":"Режим просмотра","viewmode-simple":"Простой","viewmode-normal":"Обычный","viewmode-advanced":"Передовой","viewmode-beta":"Продвинутый + бета","viewmode-try-beta":"Попробуйте новую версию главной страницы 😃","viewmode-back-to-normal":"Вернуться к старой версии","reload-app":"Проверить обновления","news":"Новости и информация","howto":"Как они это делают?","search":"Поиск","search-placeholder":"Искать вещи ...","races":"Скачки","support":"Служба поддержки","connect-team":"Следите за командами","admin-search":"Админ поиск","add-dogs":"Добавить собак","add-workouts":"Добавить тренировки"},"footer":{"dogs":"Собаки","workouts":"Тренировки","workouts-start":"Записывать","tracks":"Треки","teams":"Команды","veterenary":"Ветеринар","workouts-continue":"Продолжать"},"register":{"new-user":"Новый пользователь","email":"Эл. адрес","email-not-valid":"Email не является допустимым.","password":"Пароль","password-too-weak":"Ваш пароль слишком слабый. Пожалуйста, попробуйте другой или добавьте больше букв к этому паролю 😔","password-weak":"Ваш пароль ненадежный, но мы все равно постараемся вас обезопасить 😉","password-ok":"Ваш пароль в порядке 😎","caps-lock-on":"Включен верхний регистр!","register":"регистр","i-have-an-account":"🤔 Похоже, у меня есть аккаунт. Перейдите на страницу авторизации."},"login":{"tip-1":"Это приложение можно установить на свой телефон.","tip-2":"Воспользуйтесь функцией «Добавить на главный экран».","tip-3":"Это будет разумно до того, как вы начнете регистрироваться или входить в систему.","login":"Авторизоваться","email":"Эл. адрес","email-not-found":"Электронный адрес не найден. Приглашаем Вас зарегистрироваться 😃","email-not-valid":"Адрес электронной почты недействителен. Пожалуйста, проверьте на наличие опечаток.","email-looks-good":"Электронная почта выглядит хорошо.","password":"Пароль","caps-lock-on":"Включен верхний регистр!","2fa-token":"2FA токен","new-user":"Новый пользователь","forgot-password":"Забытый пароль"},"forgotten":{"forgotten":"Забытый пароль","one-time-code":"Одноразовый код для","otp-not-valid":"Одноразовый код недействителен. Пожалуйста, проверьте на наличие опечаток.","otp-valid":"Одноразовый код выглядит хорошо.","login-with-otp":"Войти с кодом","goto-login":"Я помню свой пароль. Перейти на страницу входа.","send-new-otp":"Отправьте мне новый одноразовый код.","email":"Эл. адрес","email-not-found":"Электронная почта не найдена.","register":"Зарегистрируйтесь как новый пользователь.","email-not-valid":"Электронная почта недействительна. Пожалуйста, проверьте на наличие опечаток.","email-looks-good":"Электронная почта выглядит хорошо.","caps-lock-is-on":"Включен верхний регистр!","send-reset-link":"Отправьте мне ссылку для сброса"},"refresh":{"pull-to-update":"Потяните, чтобы обновить страницу ..."},"modal":{"download":"Загрузить изображение ..."},"imageupload":{"drag-files-here":"Перетащите сюда свои файлы :)","upload-images":"Загруженные файлы","uploading-image":"Загрузка ..."},"dog":{"history":{"no":"Нет","yes":"да","delete":"Удалить","cant-delete-groups":"Невозможно удалить группы. Пожалуйста, войдите в каждую собаку и удалите ее."},"dogs":{"choose-filter":"Выбрать фильтр","search-for-dogs":"Поиск собак","show-only-team-dogs":"Показывать только служебных собак","show-all-dogs":"Показать всех собак","show-all":"Показать все","show-only-selected":"Показать только выбранные","show-lead-dogs-only":"Показывать только собак-поводырей","show-point-dogs-only":"Показывать только точечных собак","show-team-dogs-only":"Показывать только служебных собак","show-wheel-dogs-only":"Показывать только колесные собаки","remove-all-dogs":"Убрать всех собак","saved-changes":"Изменения сохранены","addplaceholder":"Добавить заполнитель для собаки","saveDogPositions":"Сохраните позиции собаки","resetDogPositions":"Сбросить позиции собаки","clearDogPositions":"Четкие позиции собаки","dogs-positions":"Позиции команды","add-all-in-team":"Добавить всех собак в команду: {{total}}"},"calendar":{"month":"Месяц","week":"Неделя"},"addlog":{"addlog":"Добавить запись в журнал","dogs":"Собаки","dogs-help":"К какой собаке это относится?","date":"Дата","date-help":"Дата записи в журнале.","time":"Время","time-help":"Время для записи в журнале.","type":"Тип события","choose-type":"Выберите тип","other":"Другой","stoolProblem":"Проблема стула","bodyScore":"Бодискор","diarrhea":"Понос","foodLeftover":"Осталась еда","clawClip":"Зажим для когтей","maturity":"На жаре","massage":"Массаж","animalchiropractor":"Хиропрактик животных","newStraw":"Новая соломинка","update":"Обновлять","deworming":"Дегельминтизация","mating":"Спаривание","injury":"Травма, повреждение","fight":"Драться","sick":"Больной","unwantedMating":"Нежелательное совокупление","vaccine":"Вакцина","weight":"Взвешивание","veterinarianVisit":"Ветеринарный визит","type-help":"Тип записи в журнале. Визит ветеринара, вакцинация, заболевание, течка и т. Д.","vaccine-type":"Тип вакцины","choose-vaccine":"Выберите тип вакцины","rabies":"Бешенство (3 года)","BbPi":"BbPi (1 год)","DHP":"DHP (3 года)","DHPPi":"DHPPi (3 года)","vaccine-help":"Что это за вакцина?","title":"Заголовок","title-help":"Заголовок строки журнала.","duration":"Срок действия вакцины","duration-help":"Когда истекает срок действия вакцины?","weight-of-dog":"Масса","weight-of-dog-help":"Вес собаки.","bodyscore":"Бодискор","bodyscore-help":"Боди-корень собаки.","cost":"Расходы","cost-help":"Стоимость для этого события.","commet":"Комментарий","comment-help":"Комментарий к этому событию. Напишите подробнее о том, что случилось.","images":"Изображений","please-wait":"пожалуйста, подождите...","cancel":"Отмена","hidelog":"Скрыть добавление записи в журнал","newlog":"Новая запись в журнале"},"veterinary":{"choosen-dogs":"Избранные собаки","chosen-vaccines":"Избранные вакцины","choose-team":"Выберите команду","select-all-dogs":"Выбрать всех собак","remove-all-dogs":"Убрать всех собак","name":"Имя","image":"Изображение","are-you-sure":"Вы уверены, что хотите сделать вакцину собаке {{собак}}?","yes-iam-sure":"Да, я уверен!","cancel":"Отмена","add-vaccine-to-dogs":"Добавьте вакцину собакам {{dogs}}","recepipt":"Чек","dog":"Собака","vaccine":"Вакцина","no-access":"Нет доступа!","attempts-logged":"Все попытки регистрируются и сообщаются.","goto-frontpage":"Перейти на главную страницу","title":"Ветеринарный поиск","search":"Поиск","searching":"Ищем ...","cellphone":"Сотовый телефон","email":"Эл. адрес","search-placeholder":"Ищите погонщика по электронной почте, телефону или имени ...","choose-vaccines":"Выберите вакцины из списка выше"}},"dogs":{"dashboard":"Щиток приборов","list":"Список","feed":"Кормить","todo":"Делать","stats":"Статистика","pictures":"Фотографий","workouts":"Тренировки","relations":"связи","achievements":"Воспоминания","links":"Ссылки","achievement-name":"Заголовок","achievement-name-help":"Название памяти","achievement-description":"Описание","achievement-description-help":"Описание памяти","achievement-url":"URL","achievement-url-help":"URL памяти","achievement-add":"Добавить новую память","link-name":"Заголовок","link-name-help":"Название ссылки","link-url":"URL","link-url-help":"URL ссылки","link-add":"Добавить новую ссылку","advanced":"Передовой","trophy":"Трофейный кейс","info":"Информация","fitness":"Фитнес","veterinary":"Ветеринар","add-dogs":"Добавить новую собаку","no-dogs-registered":"Собак еще не зарегистрировано.","howto-add-1":"С чего начать","howto-add-2":"Нажмите «Добавить новую собаку» вверху страницы.","dog-with-follow-up":"Собаки, которым нужно внимание","no-dogs-with-follow-up":"Нет собак, которым нужно внимание.","dog-with-special-needs":"Собаки с особыми потребностями","no-dogs-with-special-needs":"Никаких собак с особыми потребностями.","dog-with-workouts-last-day":"Собаки с тренировками длятся 24 часа.","dogs-filtered-by":"Отфильтровано по:","all-dogs":"Все собаки - {{total}}","dog-with-maturity":"Собаки на охоте","no-dogs-with-maturity":"Никаких собак на течку.","no-files-title":"Никаких файлов с этой собакой не прикреплено!","no-files-text":"Вы можете загружать файлы этой собаке внутри редактирования. Эти файлы могут быть любого типа. Т.е.: сертификаты, тест и т. Д.","no-achievements-title":"У этой собаки нет воспоминаний!","no-achievements-text":"Вы можете добавить этой собаке воспоминания. Т.е. Походы, тесты, цены, гонки и т. Д.","no-links-title":"Нет ссылок на эту собаку!","no-links-text":"Вы можете добавить ссылки на эту собаку. Т.е. Ссылки на страницу Facebook, страницу Instagram, блог и т. Д.","no-trophys-title":"Никаких трофеев для этой собаки!","no-trophys-text":"Вам нужно добавить больше тренировок, изображений, записей в журнал для собак и т. Д., Чтобы заработать трофеи.","no-images-title":"Нет изображений для этой собаки!","no-images-text":"Вы можете добавить больше изображений к этой собаке. Фотографии щенков, фотографии тренировок, фотографии ленивого лета и т. Д. Все это хороший способ создать лучший профиль этой собаки.","edit":"Редактировать","kmt":"км / ч","birth":"Родился","deceased":"Покойный","team":"Команда","mother":"Мать","father":"Отец","siblings":"Братья и сестры","children":"Дети","pictures-of":"Фотографии","log-for":"Войти для","delete":"Удалить","changes-saved":"Изменения сохранены","add-new":"Добавить новую собаку","name":"Имя","name-of-dog":"Полное имя собаки.","save-new":"Сохранить новую собаку","status":"Положение дел","status-help":"Статус для этой собаки.","special-needs":"Особые потребности","special-needs-help":"Есть ли у этой собаки какие-то особые потребности? «Экстра жир», «Оборудование» и др.","position":"Расположение в команде","position-help":"Лучшее место в команде","profile-photo":"Изображение профиля","profile-photo-help":"Аватар собаки.","photo":"Фото","photo-help":"Фотографии собаки.","full-name":"Полное имя","full-name-help":"Полное имя собаки.","short-name":"Короткое имя","short-name-help":"Выноска клички собаки.","gender":"Пол","gender-help":"Пол собаки.","chip-id":"ID чипа","chip-id-help":"Чип-ID этой собаки. Посмотрите в паспорте или справке ветеринара.","birth-help":"Дата рождения собаки.","deceased-help":"Дата смерти собаки.","team-help":"Команда, в которую входит собака.","harness-size":"Размер ремня безопасности","harness-size-help":"Размер шлейки для этой собаки.","choose-mother":"Выберите маму","mother-name":"Имя матери","mother-name-help":"Имя матери этой собаки.","mother-chipid":"ID материнского чипа","mother-chipid-help":"Чип-ID матери. Если мать среди вас, собак, это будет связано.","mother-comment":"Комментарий матери","mother-comment-help":"Комментарий для матери этой собаки.","choose-father":"Выберите отца","father-name":"Имя Отца","father-name-help":"Имя отца этой собаки.","father-chipid":"Идентификатор чипа отца","father-chipid-help":"Чип-ID отца. Если мать среди вас, собак, это будет связано.","father-comment":"Комментарий отца","father-comment-help":"Комментарий для отца этой собаки.","files":"Файлы","files-help":"Файлы для этой собаки.","dog-saved":"Собака спасена","choose-sort":"Выбрать сортировку","sort-distance":"Расстояние","sort-duration":"Продолжительность","sort-name":"Имя","sort-shortname":"Короткое имя","sort-workouts":"Тренировки","sort-lead":"Вести","sort-point":"Точка","sort-team":"Команда","sort-wheel":"Колесо","all":"Все","leadOnly":"Вести","pointOnly":"Точка","teamOnly":"Команда","wheelOnly":"Колесо","days-back":"Последний","d1":"день","d2":"2 дня","d7":"7 дней","d14":"14 дней","d30":"30 дней","gender-male":"Мужчина","gender-female":"женский","log":"Бревно","vetenary-approved-vaccines":"Ветеринарно одобренные вакцины","vaccine-karens":"осталось дней","vaccine-name":"Название вакцины","vaccine-date":"Дата вакцинации","vaccine-veterinary":"Ветеринарная","hide-deceased":"Показать только команду","absolutely-all":"Показать абсолютно все","log-for-is-empty":"Журнал для {{name}} пуст","temp-calculation":"На данный момент это рассчитывается от основной команды этой собаки. Скоро это будет изменено."},"workouts":{"edit":"Редактировать","duplicate":"Дубликат","make-track":"Сделайте трек на основе тренировки","duration":"Продолжительность","rest":"Отдыхать","avgspeed":"Скорость в среднем","currentspeed":"Текущая скорость","kmt":"км / ч","type":"Тип","equipment":"Оборудование","dogs":"Собаки","distance":"Расстояние","ascend":"Восхождение","weather":"Погода","fetch-weather":"Получить от года нет","temperature":"Temperatur","info":"Информация","user":"Кашер","gps":"GPS","advanced":"Передовой","energy-consumption-help":"Расход энергии рассчитывается следующим образом: 1,25 ккал / кг массы тела / км.","energy-consumption-total":"Общее потребление энергии","energy-consumption":"Потребление энергии каждой собакой","energy-consumption-fat-total":"Всего жиров","energy-consumption-fat":"Жир каждой собаке","energy-consumption-meat-total":"Всего мяса","energy-consumption-meat":"Мясо каждой собаки","energy-consumption-salmon-total":"Всего лосося","energy-consumption-salmon":"Лосось каждой собаке","load-index":"Индекс рабочей нагрузки","kcal-calculated":"Рассчитано:","all-dogs":"Собаки - {{total}}","all-mushers":"Гонщики - {{total}}","delete":"Удалить","changes-saved":"Изменения сохранены","show-last-used-tracks":"Показать только последние использованные треки","show-all-tracks":"Показать все треки","add-new":"Добавить новую тренировку","add-save-new":"Сохранить новую тренировку","other":"Другой","team":"Команда","date":"Дата","time":"Время","track":"Отслеживать","title":"Заголовок","avg-speed":"Скорость в среднем","comment":"Комментарий","mushers":"Каюты","rating":"Рейтинг тренировки","sledWeight":"Вес санок","intensity":"Интенсивность","edit-workout":"Редактировать тренировку","photos":"Фото","workout-saved":"Тренировка сохранена.","start-stop-1":"Отслеживание старт-стопа еще не готово. Apple iOS не позволяет PWA выполнять геолокацию в фоновом режиме. веб-приложение. Собираюсь купить телефон Android, чтобы проверить возможности Android.","start-stop-2":"Большая часть разработки обусловлена ​​вашими отзывами, поэтому, пожалуйста, присылайте мне много сообщений на Facebook.","tracking-stop":"Прекратить отслеживание","tracking-start":"Начать отслеживание","other-help":"Что это была за тренировка?","team-help":"Команда делает эту тренировку.","date-help":"Дата тренировки. Формат: «ГГГГ-ММ-ДД».","time-help":"нерабочее время. Формат: «ЧЧ: МИ».","type-help":"Тип тренировки: «тренинг», «конкурс», «тур».","track-help":"По какой трассе ты бежишь?","title-help":"Название этой тренировки. Т.е.: «Хороший бег в красивых осенних красках ...»","duration-help":"Какова продолжительность этой тренировки? (ЧЧ: Мичиган)","rest-help":"Как долго вы отдыхаете во время тренировки? (ЧЧ: Мичиган)","avg-speed-help":"Средняя скорость движения. Если вы этого не знаете, укажите расстояние, продолжительность и отдых. Затем это будет рассчитано.","distance-help":"Сколько вы пробежали в км.","ascend-help":"На сколько вы поднялись?","equipment-help":"Оборудование, используемое для этой тренировки.","comment-help":"Комментарии к этой тренировке. Как прошло?","weather-help":"Какая была погода?","temperature-help":"Какая у вас была температура?","dogs-help":"Какие собаки бегали в команде?","mushers-help":"Какие гонщики участвовали в этой тренировке?","rating-help":"Ваша оценка этой тренировки. 1-6","sledWeight-help":"Вес санок на этой тренировке в кг.","intensity-help":"Насколько интенсивной была тренировка?","photos-help":"Добавьте фото с этой тренировки.","all-workouts":"Тренировки - {{total}}","month-workouts":"Тренировки - {{месяц}} {{год}}","week-workouts":"Тренировки - неделя - {{week}} {{год}}","save-to-add-images":"Сохраните тренировку, а затем перейдите в режим редактирования, чтобы добавить изображения.","save-to-add-gpx":"Пожалуйста, сохраните тренировку, и тогда вы сможете загрузить GPX-файл, если хотите.","private":"Скрыть тренировку","private-help":"Скрыть эту тренировку от ваших подписчиков.","no-dogs":"Собак не зарегистрировано.","no-dogs-tip":"Перед добавлением тренировки рекомендуется добавить собак.","add-dog":"Добавить собаку","no-tracks":"Треков не зарегистрировано.","no-tracks-tip-1":"Перед добавлением тренировки удобно зарегистрировать трек. Когда вы это сделаете, расстояние и подъем будут заполнены автоматически.","no-tracks-tip-2":"Если у вас нет GPX для этой трассы, вы все равно можете зарегистрировать тренировку.","add-track":"Добавить трек","no-workouts":"Нет зарегистрированных тренировок: {{месяц}} {{год}}","no-workouts-1":"Отслеживание внутри приложения не совсем готово из-за некоторых ограничений в Apple iOS при использовании PWA.","no-workouts-2":"Собираюсь купить телефон Android, чтобы проверить возможности. В любом случае, скоро будет отслеживание :)","no-workouts-3":"Карта вашего трека добавляется как GPX внутри каждого трека.","no-workouts-howto":"Вот как ты это делаешь","no-workouts-howto-1":"Нажмите кнопку «Добавить тренировку» в правом верхнем углу.","dogs-positions":"Позиции команды","search-for":"Искать тренировки","gpx":"Gpx","gpx-help":"Gpx для этой тренировки.","current":"Текущий","totals":"Итоги","seasontotals":"Итоги сезона","analysis":"Анализ","images":"Фото","handlers":"Обработчики","workoutplan":"План тренировки","table":"Стол","calendar":"Календарь","go-to-tracking":"Перейти к отслеживанию","admin-edit":"Администратор править","reimport-strava":"Повторно импортировать данные Strava","reimport-garmin":"Повторно импортировать данные Garmin","like":"Нравиться"},"search":{"title":"Поиск","text-1":"Функция поиска еще не реализована.","text-2":"Что бы вы хотели найти? Напишите нам в Facebook :)"},"teams":{"connect":{"teams-to-follow":"Команды для подражания","teams-follow-requests":"Команды следят за запросами","wants-to-follow":"хочет следовать:","confirm":"Подтверждать","confirm-and-follow":"Подтвердить и подписаться","delete":"Удалить запрос","block":"Блокировать команду","confirmed":"Подтвержденный","deleted":"Удалено","all-teams":"Все общедоступные команды - {{total}}","follow":"Следовать","is-following":"Следующий","is-blocked":"Заблокировано","has-requested":"Ожидание утверждения","how-summary":"Как это работает?","how-text":"Что увидят подписчики, если я предоставлю им доступ к подписке? Ответ очень небольшой. Они могут видеть основные сведения о тренировках, которыми вы делитесь, и имена собак. Это все. Попробуйте следить за командой и посмотрите вкладку тренировок."},"addmember":{"title":"Команда - Добавить нового участника","add-new":"Добавить нового участника в:","email":"Эл. адрес","email-help":"Электронный адрес нового участника.","info-1":"Члены этой команды будут иметь полный доступ ко всем собакам, тренировкам и трассам, связанным с этой командой.","info-2":"Пожалуйста, добавляйте только тех, кому доверяете :)","save-new":"Пригласить нового участника"},"edit":"Редактировать","admin":"Админ","kmt":"км / ч","dogs":"Собаки - {{total}}","members":"Участники - {{total}}","add-new-member":"Добавить нового участника","delete":"Удалить","name":"Название команды","name-help":"Название этой команды. Хорошее название, например: A-team, B-team, My dogs и т. Д.","public":"Видно для всех","public-help":"Можно ли следить за своей командой? Все последующие запросы должны быть одобрены вами. Подписчики будут видеть только ту информацию, которой вы поделились. Никаких деталей тренировки или других вещей не видно.","address":"Адрес","address-help":"Адрес для вашей команды.","postalcode":"Почтовый индекс","place":"Почтовое место","place-help":"Почтовое место для коллектива.","country":"Страна","country-help":"Страна для команды.","ambitions":"Амбиции","ambitions-help":"Уровень амбиций вашей команды. (Используется для расчета индекса нагрузки.)","type":"Тип","type-help":"Тип команды. (Используется для расчета индекса нагрузки.)","save-new":"Сохранить новую команду","edit-team":"Редактировать команду","photos":"Фото","photos-help":"Фотографии этой команды.","profile-photos":"Фото профиля","profile-photos-help":"Фото профиля команды.","description":"Описание","description-help":"Описание этой команды.","url":"URL","url-help":"URL-адрес веб-страницы команды.","facebook":"Facebook","facebook-help":"Ссылка на страницу в Facebook.","instagram":"Instagram","instagram-help":"Ссылка на страницу в Instagram.","choose-country":"Выберите страну","saved":"Тимет был спасен.","all-teams":"Ваши команды - {{total}}","add-new":"Добавить новую команду","changes-saved":"Изменения сохранены","fitness":"Фитнес, усталость и форма","legend-fitness":"Фитнес","legend-fatigue":"Усталость","legend-form":"Форма","public-profile":"Общедоступный профиль","socialmedia":"Социальные медиа","add-sosialmedia":"Перейдите к редактированию профиля команды, чтобы добавить сайт социальной сети.","add-description":"Перейдите к редактированию профиля команды, чтобы добавить описание.","public-photos":"Фото команды - {{total}}","something-missing":"Что вам не хватает на этой странице? Отправьте нам сообщение на Facebook.","stats":"Статистика","presentation":"Презентация","pictures":"Фотографий","dogs-menu":"Собаки","mushers":"Каюты","workouts":"Тренировки","fitness-menu":"Фитнес","compare":"Сравнивать","trophy":"Трофейный кейс","achievements":"Достижения","links":"Ссылки","files":"Файлы","followers":"Подписчики","veterinary":"Ветеринар","log":"Передовой","images":"Изображений","trophy-details":"Подробности","dogs-help":"Какие собаки в этой команде?","info":"Информация","status":"Положение дел","internet":"Социальные медиа","postalcode-help":"Присоединяйтесь к этой команде.","snapchat":"Snapchat","snapchat-help":"Имя пользователя Snapchat.","header-photo":"Заголовок фото","header-photo-help":"Фотография в заголовке этой команды ..","photo":"Фото","photo-help":"Фото этой команды.","profile-photo":"Фото профиля","profile-photo-help":"Фотография профиля этой команды.","achievements-help":"Воспоминания об этой команде.","links-help":"Ссылки для этой команды.","files-help":"Файлы для этой команды.","no-images-title":"Нет изображений для этой команды!","no-images-text":"Вы можете добавить больше изображений в эту команду. Фотографии щенков, фотографии тренировок, фотографии ленивого лета и т. Д. Все это хороший способ создать лучший профиль для этой команды.","no-achievements-title":"У этой команды нет воспоминаний!","no-achievements-text":"Вы можете добавить воспоминания к этой команде. Т.е. Походы, тесты, цены, гонки и т. Д.","no-trophys-title":"У этой команды нет трофеев!","no-trophys-text":"Вам нужно добавить больше тренировок, изображений, записей в журнал для собак и т. Д., Чтобы заработать трофеи.","no-files-title":"К этой команде не прикреплены файлы!","no-files-text":"Вы можете загружать файлы в эту команду внутри edit. Эти файлы могут быть любого типа. Т.е.: сертификаты, тест и т. Д.","no-workouts-title":"Никаких тренировок для этой команды.","no-workouts-text":"Вы можете добавить больше тренировок.","no-dogs-title":"В этой команде нет собак.","no-dogs-text":"Вы можете добавить в эту команду больше собак.","notfollowing":"Не следуя","waiting-approval":"Ожидание подтверждения","following":"Следующий","no-more-teams-to-follow":"Больше нет команд, за которыми нужно следить.","no-pending-follow-requests":"Нет ожидающих запросов на подписку","not-following-any-teams":"Вы не подписаны ни на одну команду.","no-followers":"В настоящее время у вас нет последователей, но не бойтесь. Получить новых подписчиков легко. Убедитесь, что ваша команда общедоступна. Будьте активны в ленте и сделайте профиль своей команды красивым.","heatmap":"Тепловая карта","heatmap-info":"На тепловой карте показано, где вы тренировались в этом сезоне.","blocked-followers":"Заблокированные команды","not-public":"Не публично","no-photos":"Нет фотографий этой команды."},"tracks":{"your-tracks":"Ваши треки","public-tracks":"Общедоступные треки","edit":"Редактировать","date":"Дата","date-help":"Дата для этого трека","time":"Время","time-help":"Время для этого трека","distance":"Расстояние в км","elevation":"Восхождение","downhill":"Спускаться","duration":"Нормальная продолжительность","speed":"Нормальная скорость","delete":"Удалить","all-tracks":"Ваши треки - {{total}}","all-public-tracks":"Общедоступные треки - {{total}}","add-new":"Добавить новый трек","no-tracks-yet":"Треков еще не зарегистрировано.","no-tracks-info-1":"Файлы GPX могут быть загружены после того, как вы создали этот трек.","no-tracks-info-2":"Рекомендуемые приложения для создания файлов GPX:","howto-title":"С чего начать","howto-1":"Нажмите кнопку «Добавить новый трек» вверху страницы.","changes-saved":"Изменения сохранены","save":"Сохранить новый трек","gpx-info":"Чтобы иметь возможность загружать файлы GPX. Сохраните и вернитесь для редактирования.","saved":"Трек сохранен.","title":"Заголовок","title-help":"Название трека. Т.е.: «Холмы севера»","distance-help":"Как далеко эта трасса в км.","elevation-help":"Сколько ты лазаешь на этом забеге.","photos":"Фото","photos-help":"Фото с этого трека.","gpx":"GPX","gpx-help":"GPX для этого трека.","filter-all":"Показать все","filter-only-map":"Показывать только те, у кого есть карта","weather-start":"Погода на стартовой позиции","weather-hide-details":"Скрыть детали","weather-show-details":"Показать детали","map":"карта","stats":"Ваша статистика","weather":"Погода","summary":"Сводка трека","your-workout-summary":"Резюме вашей тренировки","no-workout-summary":"У вас нет сводки тренировки для этого трека. Вы можете выбрать трек внутри своих тренировок, чтобы рассчитать сводку.","no-weather":"Не могу найти погоду для этого трека.","summary-info":"Сводка для этого трека оценивается на основе профиля треков и настроек вашей команды.","no-photos":"Нет фотографий для этого трека."},"form":{"files":{"upload-file":"Загрузить файл"}},"users":{"title":"Твой профиль","email":"Эл. адрес","password":"Пароль","password-confirm":"Подтвердите пароль","change-password":"Измени пароль","passwords-matches":"Пароли равны","edit-password-changed":"пароль изменен","back-to-profile":"Вернуться к профилю","main-team":"Основная команда","all-teams":"Все команды","username":"Имя пользователя","firstname":"Имя","lastname":"Фамилия","cellphone":"Сотовый телефон","homepage":"Домашняя страница","facebook":"Facebook","instagram":"Instagram","snapchat":"Snapchat","strava-get-activities":"Получите ленты активности","strava-reconnect":"Подключиться к Strava","strava-reconnect-help":"Если у вас возникли проблемы с интеграцией, вы можете попробовать переподключить","strava-connect":"Подключиться к Strava","strava-connected":"Теперь вы подключены к Strava!","strava-id":"я бы","strava-username":"имя пользователя","strava-profile":"изображение профиля","garmin-reconnect":"Повторное подключение к Garmin Connect","garmin-reconnect-help":"Если у вас возникли проблемы с интеграцией, вы можете попробовать переподключить","garmin-connect":"Подключиться к Garmin Connect","garmin-connected":"Теперь вы подключены к Garmin Connect!","invite":{"title":"Пригласить новый питомник в The Musher","text":"Пожалуйста, помогите нам набрать новые питомники. Всегда приятно с большим количеством людей, и вы можете заработать баллы, которые можно будет потратить на премиум-версию позже этим летом.","email":"Эл. адрес","email-placeholder":"Электронная почта для нового питомника","send":"Отправь приглашение","thanks":"Большое спасибо за помощь 😃","more":"Пригласить еще","hide":"Скрыть окно приглашения."},"edit":"Редактировать","username-help":"Ваше имя пользователя на The Musher","firstname-help":"Твое имя","lastname-help":"Ваша фамилия","cellphone-help":"Ваш сотовый телефон","url":"Домашняя страница","url-help":"Ваша домашняя страница","facebook-help":"Ваш профиль в Facebook","instagram-help":"Ваш профиль в Instagram","snapchat-help":"Ваш профиль Snapchat","photos":"Фото","photos-help":"Фотографии вас.","saved":"Профиль сохранен.","settings-text-info":"Все настройки можно найти в вашем профиле.","hide-settings":"Скрыть настройки с главной страницы","settings-hide-settings":"Скрыть настройки","settings-hide-settings-help":"Скрыть настройки на главной странице.","settings":"Настройки","settings-hide-profile":"Скрыть профиль","settings-hide-profile-help":"Если вы не хотите, чтобы люди находили и отправляли вам запросы на отслеживание. Здесь вы можете скрыть свой профиль.","settings-hide-invite":"Скрыть окно приглашения","settings-hide-invite-help":"Скрыть поле приглашения нового питомника на главной странице.","settings-allow-racevet":"Разрешить ветеринарный","settings-veterinary-help":"Если вы хотите, чтобы ветеринары нашли ваш питомник и добавили вакцины, вам необходимо включить эту настройку.","settings-summary-email":"Резюме","settings-receive-summary-email":"Получать сводки по электронной почте","settings-notification-email":"Уведомления","settings-receive-notification-email":"Получать уведомления по электронной почте, если они не прочитаны какое-то время","settings-info-email":"Информация","settings-receive-info-email":"Получать информацию по электронной почте","settings-partner-email":"Партнеры","settings-receive-partner-email":"Помогите развитию приложения The Musher, получая хорошие предложения от наших партнеров по электронной почте. Т.е.: еда, оборудование и прочее, связанное с мушингом. Никакого спама не будет, и все электронные письма останутся в секрете!","subscriptions":"Подписка","integrations":"Интеграции","connect":{"title":"Найди своих друзей","search":"Поиск","search-placeholder":"Ищите друзей, других погонщиков.","doSearch":"Поиск"}},"install":{"install-app":"Установите приложение Musher"},"news":{"edit":"Редактировать","add-new":"Создать новый контент","back":"Назад","heading":"Новости и информация","heading-howo":"Как они это делают?","create":"Новый"},"comments":{"like":"Нравиться","has-liked":"Понравилось","comment-add":"Комментарий","show-more":"Показать еще {{more}} комментариев ...","hide-all-comments":"Скрыть все комментарии.","comment":"Комментарий","add-comment":"послать","write-comment":"Написать комментарий..."},"race":{"therace":"Гонка","news":"Новости","more-news":"Больше новостей","mushers":"Каюты","results":"Полученные результаты","tracking":"Отслеживание","media":"Фото","edit":"Изменить расу","new":"Новая раса","signup-payment":"Оплата регистрации","location":"Место","about":"О гонке","rules":"Правила","veterinary":"Ветеринарная информация","checkpoints":"Контрольно-пропускные пункты","track-description":"Описание трека","program":"Программа","prices":"Цены","classes":"Классы гонок","signup":"Подписаться","distance":"Расстояние","startdate":"Начинать","enddate":"Конец","to-top":"Наверх"},"races":{"homerun":"Homerun гонки","signup-open":"Регистрация открыта","race-finished":"Гонка завершена","race-in-progress":"Гонка продолжается","classes":"Классы гонок","race-days":"Гоночные дни","signup":"Подписаться","periode":"Период","signed-in-as":"Вы вошли как","signed-up":"Вы успешно зарегистрировались!","paid":"Оплаченный","payment-info":"Оплата регистрации","click-to-change":"Нажмите, чтобы отредактировать информацию.","cellphone":"Сотовый телефон","firstname":"Имя","lastname":"Фамилия","sportsclub":"Спортивный клуб","facebook":"Facebook","instagram":"Instagram","team":"Команда","class":"Класс гонки","cellphone-help":"Какой твой номер телефона?","firstname-help":"Как тебя зовут?","lastname-help":"Какая у тебя фамилия?","sportsClub-help":"В каком спортивном клубе вы состоите?","facebook-help":"Какое у вас имя пользователя в Facebook?","instagram-help":"Какое у вас имя пользователя в Instagram?","choose-team":"Выберите команду","choose-class":"Выберите гоночный класс","choose-team-help":"Выбирайте из своих команд","choose-class-help":"Выберите гоночный класс","agreement-accept":"Я прочитал и согласен с правилами.","do-signup":"Подписаться","signup-not-open-yet":"Регистрация еще не открыта!","signup-closed":"Регистрация закрыта!","signup-opening":"Скоро открытие регистрации","races":"Скачки:","results":"Полученные результаты","mushers":"Каюты","mushers-on-trail":"Убийцы на тропе","finished-mushers":"Готовые каюры","tracking":"Отслеживание","photos":"Фото","hide-details":"Скрыть детали","read-more":"Подробнее","results-here":"Посмотреть результаты","on-trail":"По следу","favorites":"Избранное","name":"Имя","start-date":"Дата начала","distance":"Расстояние","ascend":"по возрастанию","avg-speed":"Скорость в среднем","race-time":"Время гонки","rest-time":"Время отдыха","load-index":"Loadindex","current-speed":"Текущая скорость","elevation":"Высота","elevation-graph":"Эл. график","stages":"Этапы","result":"Результат","musher-here":"Посмотреть конкурентов","dogs":"Собаки","admin":"Админ","no-team-on-trail":"Прямо сейчас в приложении Musher нет отслеживания команд ...","no-teams-signed-up":"Команды еще не зарегистрировались ...","hide-signup":"Прервать регистрацию","signup-another-team":"Записаться на другие занятия","starting-teams":"{{totalContestants}} зарегистрировались в {{totalClasses}} гоночных классах","choose-correct-team-and-type":"Выберите правильную команду и тип для гонки."},"story":{"body":"История","write-body":"Что у тебя на уме..?","add-story":"Публиковать","public":"Это публично","show-all":"Показать все","back-to-wall":"Назад ко всем","alert-text-1":"Ваша команда не отображается, и невозможно запросить дружбу с вашей командой.","alert-text-2":"Если вы хотите, чтобы ваша команда была видна, чтобы другие могли попросить подписаться на вашу команду, вы можете найти настройку здесь:","alert-text-3":"Редактировать команду","sort":{"new":"Последние сначала","likes-desc":"Сначала больше всего лайков","likes-asc":"Сначала меньше всего лайков","comments-desc":"Сначала большинство комментариев","comments-asc":"Сначала наименьшее количество комментариев"},"share":"Делиться","type":"Тип","type-choose":"Выберите тип","type-regular":"Обычный","type-ad":"Объявление","type-article":"Статья","team-choose":"Выберите команду","url-text":"Текст URL","url":"URL","country":"Страна","region":"Область","currency":"Валюта","price":"Цена","ad-url-readmore":"Подробнее...","ad-campaign-code":"Код кампании","sponsored":"Спонсируемый"},"premium":{"title":"Премиум"},"types":{"trening":"тренировка","konkurranse":"конкуренция","tur":"тур","aktivitet":"деятельность","vanntrening":"водные тренировки","gåtur":"ходьба","Løsslipp":"Свободный бег","annet":"Другие"},"intensities":{"Easy":"Легкий","Normal":"Обычный","Hard":"Жесткий"},"teamAmbitions":{"Ingen ambisjoner":"Никаких амбиций","Glad amatør":"Счастливый любитель","Amatør":"Любительское","Seriøs amatør":"Серьезная любовь","Proff":"Pro"},"teamTypes":{"Tur":"Походы","Turistkjøring":"Экскурсии","Sprint":"Спринт","Mellomdistanse":"Среднее расстояние","Langdistanse":"Длинная дистанция"},"dogPositions":{"Leader":"Лидер","Team":"Команда","Wheel":"Колесо"},"dogstatuses":{"Avls-sperre":"Нет разведения","Drektig":"Беременная","Kastrert/sterilisert":"Кастрированный / стерилизованный","Løpetid":"На тепле","Medisinering":"Медикамент","Normal":"Обычный","Omplassering":"Переезд","Pensjonist":"В отставке","Skadet":"Пострадавший","Syk":"Больной","Valp/unghund":"Щенок / молодая собака","Overoppheting":"Перегрев","Korthåret/trenger dekken":"Короткая стрижка / нужен пиджак"},"equipments":{"Slede":"Санки","Atv":"Квадроцикл","Utv":"UTV","Bil":"Автомобиль","Trollvogn":"Тролль-повозка","Ski":"Лыжи","Annen vogn":"Другой вагон","Sykkel":"Велосипед","Kickbike":"Кикбайк","Kickspark":"Kicksled","Jogging":"Бег","Hundehjul":"Собачье колесо","Ingen utstyr":"Нет оборудования"},"harnesses":{"small":"небольшой","medium":"Средняя","large":"большой","xlarge":"xlarge","xxlarge":"xxlarge"}}')},ntdL:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=s("u28A"),l=(n=s("f3B/"))&&n.__esModule?n:{default:n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:r.longitudeKeys,latitude:r.latitudeKeys,altitude:r.altitudeKeys},s=(0,l.default)(e,t.longitude),a=(0,l.default)(e,t.latitude),o=(0,l.default)(e,t.altitude);return i({latitude:a,longitude:s},o?{altitude:o}:{})}},oISW:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("VKmm"),d=s("rWES"),h=s("epqT"),u=s("yHBq"),p=s("q/oJ"),m=s("gWxU"),b=s("Nanz"),f=s("ISGx"),g=s("ZOvn");const O=g.a.marginTop(!1),v=g.a.marginTopBack(!1),y=g.a.marginBottom(),j={showAddComment:{},likeWorkout:{},hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},w=["id","type","user","team","title"];let k=Object(r.a)(o=class extends n.Component{constructor(t){super(t),this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.onDogClick=(e,t,s)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.renderContent=({obj:t,idx:s})=>{const{appState:a}=this.props.stores,{path:i}=a;return"ad"===t.type?Object(n.h)(e,null,Object(n.h)(h.a,{stores:this.props.stores,path:i})):"teamConfirm"===t.type?Object(n.h)(e,null,Object(n.h)(d.a,{stores:this.props.stores})):"teamSuggestions"===t.type?Object(n.h)(e,null,Object(n.h)(c.a,{stores:this.props.stores})):Object(n.h)(e,null,Object(n.h)(f.a,{stores:this.props.stores,feed:t,idx:s,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},j)}async loadPublicWorkouit({props:e=this.props}){const{teamStore:t}=e.stores,{workout:s}=e;await t.loadPublicFeed({workoutid:s})}componentWillUnmount(){const{teamStore:e}=this.props.stores;e.cleanupMemory()}componentDidMount(){this.loadPublicWorkouit(this.props)}componentWillReceiveProps(e){e.workoutid!==this.props.workoutid&&this.loadPublicWorkouit(e)}render(){const{showTeam:t,showDog:s,handleIntersection:a,sessionid:i,dogs:o}=this.state,{teamStore:r,appState:c}=this.props.stores,{publicTeamsFeed:h}=r,{darkmode:f}=c,{teamid:j}=this.props,k=r.findPublicTeamByUuidv4(j),x=g.a.getImage({team:k});let S,_;return k&&k.name&&(S=g.a.displayNameShort(k),_=g.a.displayName(k)),Object(n.h)(e,null,t&&Object(n.h)(p.a,null,Object(n.h)(m.a,{stores:this.props.stores,teamid:t,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),s&&Object(n.h)(p.a,null,Object(n.h)(b.a,{stores:this.props.stores,dogid:s,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:o})),Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${y}; margin-top: ${O};`},Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${v}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(n.h)("div",null,Object(n.h)("h5",{class:"text-muted"}," "))),Object(n.h)("div",{class:"w-100"},k?Object(n.h)(e,null,Object(n.h)("div",{class:"row pb-3 pt-3"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)("div",{class:"row"},Object(n.h)("h3",null,Object(n.h)("div",{class:"d-flex position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:x?`background-image: url("${x}"); background-size: cover;`:""},!x&&Object(n.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},S)),Object(n.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(n.h)("h3",{class:"mb-1"},k.public?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+k.uuidv4,class:"stretched-link"},_)):Object(n.h)(e,null,_))))))))):Object(n.h)(e,null,Object(n.h)(d.a,{stores:this.props.stores})),(!h||0===h.length)&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-chart-area"})),Object(n.h)("h3",null,Object(n.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(n.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(n.h)("div",{class:"text-center mt-3"},Object(n.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(n.h)(u.a,{data:h,wrapperClassNames:"row pb-4",contentClassNames:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${f?"black":"white"} shadow-sm`,renderContent:this.renderContent,dataFields:w,dataValues:{type:"10"},handleIntersection:a,sessionid:i}))))}})||o;t.a=k}).call(this,s("hosL").Fragment)},oX04:function(e,t,s){"use strict";var a=s("hosL"),i=s("OhSV");t.a=class extends a.Component{render(){return Object(a.h)("div",{class:"fixed-top text-center",style:"padding-top: 90px;"},Object(a.h)("i",{class:"fas fa-arrow-alt-circle-down mr-2"}),Object(a.h)(i.c,{id:"refresh.pull-to-update"},"Dra for å oppdatere siden..."))}}},om2D:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("/eY4"),n=(s("cneo"),s("Utv1"),s("u2zT"));let r=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.handleAddImage=e=>{const{addToImages:t=!0}=this.props,{updateField:s,object:a,field:i}=this.props;if(i&&s({id:a.id,field:i,value:e,skipTimer:!0}),t){const t=[];t.push(e),s({id:a.id,field:"images",value:t,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{})}=this.props;return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)(n.a,{handleAddImage:this.handleAddImage,uploadStatus:e,apiUrl:"/api/fileupload",before:t,after:s},Object(i.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=r},"ox/y":function(e,t,s){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.Match=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},o=s("hosL"),n=s("Y3FI"),r=t.Match=function(e){function t(){for(var t,s,i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=s=a(this,e.call.apply(e,[this].concat(o))),s.update=function(e){s.nextUrl=e,s.setState({})},a(s,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){n.subscribers.push(this.update)},t.prototype.componentWillUnmount=function(){n.subscribers.splice(n.subscribers.indexOf(this.update)>>>0,1)},t.prototype.render=function(e){var t=this.nextUrl||(0,n.getCurrentUrl)(),s=t.replace(/\?.+$/,"");return this.nextUrl=null,e.children({url:t,path:s,matches:!1!==(0,n.exec)(s,e.path,{})})},t}(o.Component),l=function(e){var t=e.activeClassName,s=e.path,a=function(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}(e,["activeClassName","path"]);return(0,o.h)(r,{path:s||a.href},(function(e){return(0,o.h)(n.Link,i({},a,{class:[a.class||a.className,e.matches&&t].filter(Boolean).join(" ")}))}))};t.Link=l,t.default=r,r.Link=l},"p/0L":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("QRet"),c=s("Utv1"),d=s("/eY4"),h=s("OhSV"),u=s("go65"),p=s("fh8t"),m=s.n(p),b=s("RMlE"),f=s("8gML"),g=s("gs45"),O=(s("67HY"),s("gbHB"),s("B+py"),s("Ysxg")),v=s("9lZG"),y=(s("aGZh"),s("om2D")),j=s("ZOvn");const w=j.a.marginTop(!0,!0),k=j.a.marginBottom(),x={isLoading:!1,email:"",submenu:"ads",jwtToken:c.a.getJwtToken(),newRaceArticle:{},newRaceUserImage:{}};let S=Object(d.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.likeRace=async function(){const{raceStore:e}=t.props.stores,{race:s}=e;await e.likeRace({id:s.id})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.addRaceArticle=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceArticle:a}=t.state;await s.addArticle({id:e,newArticle:a}),t.setState({newRaceArticle:{}})},this.addRaceUserImage=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceUserImage:a}=t.state;await s.addUserImage({id:e,newUserImage:a}),t.setState({newRaceUserImage:{}})},this.updateUserImageUpload=({field:e,value:t})=>{const{newRaceUserImage:s}=this.state;s[e]=t,this.setState({newRaceUserImage:s})},this.updateArticleUpload=({field:e,value:t})=>{const{newRaceArticle:s}=this.state;s[e]=t,this.setState({newRaceArticle:s})},this.removeRaceArticle=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:i}=t.props.stores;await i.removeArticle({id:a,articleId:s})},this.removeRaceUserImage=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:i}=t.props.stores;await i.removeUserImage({id:a,userImageId:s})},this.editRaceArticle=async function(e){const{id:s,field:a}=e.target.dataset,{value:i}=e.target,{raceid:o}=t.props,{raceStore:n}=t.props.stores,r={raceArticleId:s,["raceArticle"+c.a.ucfirst(a)]:i};clearTimeout(t.updateTimer[`${o}-${s}-${a}`]),t.updateTimer[`${o}-${s}-${a}`]=setTimeout((async function(){n.editArticle({id:o,data:r})}),1500),t.resizeTextarea(e.target)},this.editRaceUserImage=async function(e){const{id:s,field:a}=e.target.dataset,{value:i}=e.target,{raceid:o}=t.props,{raceStore:n}=t.props.stores,r={raceUserImageId:s,["raceUserImage"+c.a.ucfirst(a)]:i};clearTimeout(t.updateTimer[`${o}-${s}-${a}`]),t.updateTimer[`${o}-${s}-${a}`]=setTimeout((async function(){n.editUserImage({id:o,data:r})}),1500),t.resizeTextarea(e.target)},this.resizeAllTextareas=()=>{const e=document.getElementsByTagName("textarea");for(let t=0,s=e.length;t<s;t+=1){this.resizeTextarea(e[t])}},this.resizeTextarea=e=>{let t=e;t.target&&(t=e.target);const{scrollHeight:s}=t;t.style.height=s+"px"},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state=i({},x),this.inputRef={},this.updateTimer={}}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t,userStore:s}=e.stores,{user:a={}}=s,{raceid:o}=e;await t.load(o),t.countAll(),this.setState({isLoading:!1});let n={};t.resetSignup();const{race:r}=t;if(r.classes&&a&&a.email)for(let e=0,s=r.classes.length;e<s;e+=1){const s=r.classes[e];if(s.contestants){const e=s.contestants.findIndex(e=>e.email===a.email);e>-1&&(n=i({},s.contestants[e]),t.addSignup(n))}}t.updateKeyValue("signup",n),this.resizeAllTextareas()}componentDidMount(){this.loadRace()}componentWillReceiveProps(e){this.loadRace(e)}render(){const{showAddComment:t,newRaceArticle:s,newRaceUserImage:a}=this.state,{appState:i,userStore:o,raceStore:n}=this.props.stores,{isAdmin:d,user:p={},notifications:x=[],teams:S=[]}=o,{raceid:_,path:T,section:D,subsection:I,col:P=12,offset:L=0}=this.props,{darkmode:C,language:A="en"}=i,{race:E,totalClasses:F,totalContestants:M}=n,{likes:R=[],comments:z=[]}=E,U=E.likes&&E.likes.findIndex(e=>e.user===p.id)>-1,N=new Date;let $="";return N>=new Date(E.startDate)&&N<=new Date(E.endDate)?$="race":N>=new Date(E.signupStartDate)&&N<=new Date(E.signupEndDate)?$="signup":N>new Date(E.endDate)&&($="done"),Object(r.h)(e,null,Object(r.h)(b.a,{stores:this.props.stores}),Object(r.h)("div",{class:"container-fluid position-relative",style:`margin-bottom: ${k}; margin-top: ${w};`},Object(r.h)(f.a,{stores:this.props.stores,path:T,raceid:_}),d&&Object(r.h)("span",{class:"float-right position-absolute",style:"top: 10px; right: 10px; z-index:10000;"},Object(r.h)("a",{href:`/race/${_}/edit`,class:"btn btn-small btn-primary"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-chart-line"})," ",Object(r.h)(h.c,{id:"race.edit"},"Endre løpet")))),Object(r.h)("div",{class:"row border-bottom "},Object(r.h)("div",{class:"col-12"},Object(r.h)("div",{class:"jumbotron-thumb d-flex align-items-center position-relative"},E.images&&E.images[0]?Object(r.h)("img",{src:E.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(r.h)("h3",{class:"float-right"},"signup"===$&&Object(r.h)(e,null,Object(r.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(r.h)("span",{class:"badge badge-primary ml-2"},Object(r.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===$&&Object(r.h)(e,null,Object(r.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(r.h)("span",{class:"badge badge-danger ml-2"},Object(r.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===$&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-check text-success"}),Object(r.h)("span",{class:"badge badge-success ml-2"},Object(r.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))),Object(r.h)("h1",{class:"float-right"},d&&Object(r.h)("i",{class:`fas fa-eye${E.active?" text-success":"-slash text-danger"} float-right`})),(W=E.title,Object(l.d)(()=>{document.title="Homerun Race: "+W},[W]),Object(r.h)("h1",{class:"my-0"},W)),M>10?Object(r.h)("span",{class:"text-muted font-weight-lighter"},Object(r.h)(h.c,{id:"races.starting-teams",fields:{totalContestants:M,totalClasses:F}})):Object(r.h)(e,null),Object(r.h)("div",{class:"text-muted mt-2"},Object(r.h)("span",null,E.startDate&&Object(r.h)(e,null,c.a.formatDate(E.startDate,{locale:A,hour12:!1,hour:"2-digit",minute:"2-digit"})),E.endDate&&Object(r.h)(e,null," - ",c.a.formatDate(E.endDate,{locale:A,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(r.h)("span",{class:""},E.tag&&E.tag.split(",").map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-pill badge-primary py-1 ml-2"},Object(r.h)("a",{class:"text-white",href:"https://www.facebook.com/hashtag/"+t,target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fab fa-facebook"})," #",t)),Object(r.h)("span",{class:"badge badge-pill badge-primary py-1 ml-2"},Object(r.h)("a",{class:"text-white",href:"https://www.instagram.com/explore/tags/"+t,target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fab fa-instagram"})," #",t))))),E.contactEmail&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("a",{href:`mailto:${E.contactEmail}subject=Regarding ${E.title}&body=Write your question here :)`},Object(r.h)("i",{class:"fas fa-envelope"})," ",E.contactEmail)),E.facebook&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("a",{href:""+E.facebook,target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fab fa-facebook"})," Facebook")),E.instagram&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("a",{href:""+E.instagram,target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fab fa-instagram"})," Instagram")),E.signuppayment&&Object(r.h)("span",{class:"badge badge-pill badge-success py-1 ml-2"},Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"race.signup-payment"},"Betaling påmelding"),":")," ",j.a.replaceImages(E.signuppayment,E.images,A,!1))),E.locationCity&&Object(r.h)("div",{class:"text-muted"},Object(r.h)(h.c,{id:"race.location"},"Sted"),": ",E.locationCity,", ",E.locationCountry),Object(r.h)("ul",{class:"nav nav-tabs my-3"},Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+(D?"":"active"),href:"/race/"+_},Object(r.h)("i",{class:"fas fa-info-circle"})," ",Object(r.h)(h.c,{id:"race.about"},"Om løpet"))),Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("news"===D?"active":""),href:`/race/${_}/news`},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(h.c,{id:"race.news"},"Nyheter"))),Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("rules"===D?"active":""),href:`/race/${_}/rules`},Object(r.h)("i",{class:"fas fa-gavel"})," ",Object(r.h)(h.c,{id:"race.rules"},"Regler"))),E.veterinaryInfo&&Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("veterinaryInfo"===D?"active":""),href:`/race/${_}/veterinaryInfo`},Object(r.h)("i",{class:"fas fa-stethoscope"})," ",Object(r.h)(h.c,{id:"race.veterinary"},"Veterinærinfo"))),E.checkpoints&&Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("checkpoints"===D?"active":""),href:`/race/${_}/checkpoints`},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(r.h)(h.c,{id:"race.checkpoints"},"Sjekkpunkter"))),E.trailDescription&&Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("trailDescription"===D?"active":""),href:`/race/${_}/trailDescription`},Object(r.h)("i",{class:"fas fa-map-signs"})," ",Object(r.h)(h.c,{id:"race.track-description"},"Løypebeskrivelse"))),E.program&&Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("program"===D?"active":""),href:`/race/${_}/program`},Object(r.h)("i",{class:"fas fa-list-alt"})," ",Object(r.h)(h.c,{id:"race.program"},"Program"))),E.prices&&Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("prices"===D?"active":""),href:`/race/${_}/prices`},Object(r.h)("i",{class:"fas fa-award"})," ",Object(r.h)(h.c,{id:"race.prices"},"Premier"))),Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("classes"===D?"active":""),href:`/race/${_}/classes`},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"race.classes"},"Klasser"))),Object(r.h)("li",{class:"nav-item"},Object(r.h)("a",{class:"nav-link "+("signup"===D?"active":""),href:`/race/${_}/signup`},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"race.signup"},"Påmelding"))))),Object(r.h)("div",{class:`col-${P} offset-${L} col-sm-8 col-lg-8 offset-sm-2 offset-lg-2`},!D&&Object(r.h)(e,null,E.articles&&E.articles.length>0&&Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 mb-3 py-2 position-relative border-bottom bg-light"},Object(r.h)("small",null,Object(r.h)("div",{class:"font-weight-bold"},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(h.c,{id:"race.news"},"Nyheter")),Object(r.h)("div",{class:"row"},E.articles&&E.articles.reverse().slice(0,3).map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-4 p-3 position-relative"},t.image&&Object(r.h)("img",{src:t.image.s3LargeLink,class:"float-right rounded-lg ml-2",style:"height: 70px;"}),Object(r.h)("span",{class:"text-muted font-weight-light mr-2"},c.a.formatDate(t.date,{locale:A,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(r.h)("span",{class:"font-weight-bold mr-2",style:"font-size: 1.2em;"},Object(r.h)("a",{href:`/race/${_}/news`,class:"text-"+(C?"light":"dark")},j.a.replaceImages(t.title,E.images,A,!1))),Object(r.h)("br",null),Object(r.h)("span",{class:"font-weight-normal"},j.a.replaceImages(t.body,E.images,A,!1))))),E.articles.length>3&&Object(r.h)("div",{class:"col-12 mt-2 text-center",style:"font-size: 1.5em;"},Object(r.h)("a",{href:`/race/${_}/news`,class:"text-muted"},Object(r.h)(h.c,{id:"race.more-news"},"Flere nyheter")," »")))))),Object(r.h)("p",{class:"clearfix"},Object(r.h)("strong",null,Object(r.h)(m.a,{markdown:j.a.replaceImages(E.ingress,E.images,A),markdownOpts:j.a.getMarkdownOptions()}))),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.body,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"news"===D&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12"},Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.news"},"Nyheter"))),E.articles&&E.articles.reverse().map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-4 p-3 position-relative"},Object(r.h)("h5",null,j.a.replaceImages(t.title,E.images,A,!1)),t.image&&Object(r.h)("img",{src:t.image.s3LargeLink,class:"float-right w-50 rounded-lg ml-2"}),Object(r.h)("small",{class:"text-muted"}," ",c.a.formatDate(t.date,{locale:A,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(r.h)("br",null),Object(r.h)("div",{class:"font-weight-bold"},Object(r.h)(m.a,{markdown:j.a.replaceImages(t.ingress,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),Object(r.h)("div",null,Object(r.h)(m.a,{markdown:j.a.replaceImages(t.body,E.images,A),markdownOpts:j.a.getMarkdownOptions()}))))))),"rules"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.rules"},"Regler")),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.rules,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"veterinaryInfo"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.veterinary"},"Veterinærinfo")),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.veterinaryInfo,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"checkpoints"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.checkpoints"},"Sjekkpunkter")),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.checkpoints,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"trailDescription"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.track-description"},"Løypebeskrivelse")),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.trailDescription,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"program"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.program"},"Program")),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.program,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"prices"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.prices"},"Premier")),Object(r.h)(m.a,{markdown:j.a.replaceImages(E.prices,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),"classes"===D&&Object(r.h)(e,null,Object(r.h)("h2",null,Object(r.h)(h.c,{id:"race.classes"},"Klasser")),Object(r.h)("div",{class:"row"},E.classes&&E.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"col-6 col-sm-6 col-lg-4 mb-4"},Object(r.h)("div",{class:"border rounded rounded-lg p-3"},Object(r.h)("h5",null,t.title),Object(r.h)("small",null,t.startDate&&Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"race.startdate"},"Start"),":")," ",c.a.formatDate(`${t.startDate} ${t.startTime||"00:00:00"}`,{locale:A,hour12:!1,hour:"2-digit",minute:"2-digit"})),t.endDate&&Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"race.enddate"},"End"),":")," ",c.a.formatDate(`${t.endDate} ${t.endTime||"00:00:00"}`,{locale:A,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"race.distance"},"Distanse"),":")," ",t.distance," km"),Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"race.signup"},"Påmelding"),":")," ",t.signupfee||E.signupfee," NOK"),Object(r.h)("p",{class:"clearfix"},Object(r.h)(m.a,{markdown:j.a.replaceImages(t.ingress,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),Object(r.h)("small",null,Object(r.h)(m.a,{markdown:j.a.replaceImages(t.body,E.images,A),markdownOpts:j.a.getMarkdownOptions()})),t.rules&&Object(r.h)(e,null,Object(r.h)("h5",null,Object(r.h)(h.c,{id:"race.rules"},"Regler")),Object(r.h)(m.a,{markdown:j.a.replaceImages(t.rules,E.images,A),markdownOpts:j.a.getMarkdownOptions()})))))))),"signup"===D&&Object(r.h)(g.a,{stores:this.props.stores,raceid:_,subsection:I})),Object(r.h)("div",{class:`col-${P} offset-${L} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5`},R&&R.length>0&&Object(r.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(r.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",R.length),z&&z.length>0&&Object(r.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(r.h)("i",{class:"fas fa-comment text-primary"})," ",z.length)),p.email&&Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-6 text-center"},Object(r.h)("button",{type:"button",class:`btn btn-outline-${U?"primary":"secondary"} btn-lg btn-block ${U?"text-primary":""}`,onClick:this.likeRace},Object(r.h)("i",{class:(U?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(r.h)("div",{class:"col-6 text-center"},Object(r.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":E.id,onClick:this.toggleAddComment},Object(r.h)("i",{class:"fas fa-comment"})," Comment")))),t&&p.email&&Object(r.h)(v.a,{stores:this.props.stores,race:E,inputRef:e=>this.inputRef[E.id]=e}),Object(r.h)(O.a,{stores:this.props.stores,race:E,cols:"12"})),d&&Object(r.h)(e,null,Object(r.h)("h2",{class:"mt-5"},"Articles"),Object(r.h)("div",{class:"row"},E.articles&&E.articles.map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 border rounded-lg p-3 position-relative"},Object(r.h)("button",{class:"btn btn-danger position-absolute",style:"top:5px; right: 5px;","data-id":t.id,onClick:this.removeRaceArticle},Object(r.h)("i",{class:"fas fa-times"})),t.image&&Object(r.h)("img",{src:t.image.s3LargeLink,class:"float-right w-100"}),["title"].map(s=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("input",{type:"text",class:"form-control-plaintext font-weight-bold",id:s,"aria-describedby":s+"Help",style:"font-size: 1.5em;","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceArticle})))),["ingress","body"].map(s=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("textarea",{type:"textarea",class:"form-control-plaintext",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceArticle,style:"height: 1em;"})))))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-6 offset-3 border rounded-lg m-2 p-3 bg-light"},Object(r.h)("h5",null,"Add new article"),s&&s.image&&Object(r.h)("img",{src:s.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:t},t),Object(r.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(u.a)(this,"newRaceArticle."+t),value:s[t]})))),["ingress","body"].map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:t},t),Object(r.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(u.a)(this,"newRaceArticle."+t),onKeyUp:this.resizeTextarea,style:"height: 1em;",value:s[t]})))),Object(r.h)(y.a,{saved:{},object:{},field:"image",updateField:this.updateArticleUpload}),Object(r.h)("button",{class:"btn btn-info",onClick:this.addRaceArticle},"Add race article"))),Object(r.h)("h2",{class:"mt-5"},"User images"),Object(r.h)("div",{class:"row"},E.userImages&&E.userImages.map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 border rounded-lg p-3 position-relative"},Object(r.h)("button",{class:"btn btn-danger position-absolute",style:"top:5px; right: 5px;","data-id":t.id,onClick:this.removeRaceUserImage},Object(r.h)("i",{class:"fas fa-times"})),Object(r.h)("img",{src:t.image.s3LargeLink,class:"float-right w-100"}),["title"].map(s=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group "},Object(r.h)("input",{type:"text",class:"form-control-plaintext font-weight-bold",id:s,"aria-describedby":s+"Help",style:"font-size: 1.5em;","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceUserImage})))),["body"].map(s=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("textarea",{type:"textarea",class:"form-control-plaintext",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceUserImage,style:"height: 1em;"})))))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-3 offset-3 border rounded-lg m-2 p-3 bg-light"},Object(r.h)("h5",null,"Add new user image"),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},a&&a.image&&Object(r.h)("img",{src:a.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:t},t),Object(r.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(u.a)(this,"newRaceUserImage."+t),value:a[t]})))),["body"].map(t=>Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:t},t),Object(r.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(u.a)(this,"newRaceUserImage."+t),onKeyUp:this.resizeTextarea,style:"height: 1em;",value:a[t]})))))),Object(r.h)(y.a,{saved:{},object:{},field:"image",updateField:this.updateUserImageUpload}),Object(r.h)("button",{class:"btn btn-info",onClick:this.addRaceUserImage},"Add race user image"))))));var W}})||n;t.a=S}).call(this,s("hosL").Fragment)},p3hn:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("u28A");t.default=function(e){return a.sexagesimalPattern.test(e.toString().trim())}},pCvA:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},pJjI:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV");let l=Object(n.a)(a=class extends i.Component{constructor(...e){super(...e),this.toggleTeam=e=>{const{callback:t,unsetTeamIfSelected:s=!0}=this.props,{dogStore:a,workoutStore:i}=this.props.stores,{currentTeam:n}=a;s&&e===n?(a.setCurrentTeam(void 0),i.setCurrentTeam(void 0)):(a.setCurrentTeam(e),i.setCurrentTeam(e)),o.a.isDefined(t)&&t()},this.showAllTeams=()=>{const{callback:e}=this.props,{dogStore:t,workoutStore:s}=this.props.stores;t.setCurrentTeam(void 0),s.setCurrentTeam(void 0),o.a.isDefined(e)&&e()}}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t,dogStore:s}=this.props.stores,{teams:a}=t,{currentTeam:o}=s,{highlight:n,showAll:l=!0}=this.props;return Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"w-100 overflow-hidden"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},a&&a.map((t,s)=>Object(i.h)("div",{class:"col mb-0 px-0",key:t.id,ref:o===t.id?e=>this.container=e:null},Object(i.h)("button",{class:`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===a.length?"rounded-pill-right":""}\n\t\t\t\t\t\t\t\t\t\t${o===t.id?"btn-success":"btn-outline-success"}\n\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:()=>this.toggleTeam(t.id)},Object(i.h)("i",{class:"fas fa-users"})," ",t.name,n&&n.indexOf(t.id)>-1&&Object(i.h)(e,null,o===t.id?Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-check float-right"})):Object(i.h)(e,null,Object(i.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(i.h)("span",{class:"sr-only"},"Loading...")),Object(i.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))))))),l&&Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(i.h)("i",{class:"fas fa-users"})," ",Object(i.h)(r.c,{id:"teams.show-all"},"Show all"))))))}})||a;t.a=l}).call(this,s("hosL").Fragment)},paVh:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4"));const l={};let c=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},l),this.container=null}componentDidMount(){this.container.scrollIntoView({behavior:"smooth",block:"start"})}render(){return Object(n.h)("div",{class:"col-12 mb-5",ref:e=>this.container=e}," ")}})||o;t.a=c},pcgx:function(e,t,s){(function(e,s){function a(e,t){for(var s=-1,a=e?e.length:0,i=0,o=[];++s<a;){var n=e[s];t(n,s,e)&&(o[i++]=n)}return o}function i(e,t){for(var s=-1,a=e?e.length:0;++s<a;)if(t(e[s],s,e))return!0;return!1}function o(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function n(e){var t=-1,s=Array(e.size);return e.forEach((function(e,a){s[++t]=[a,e]})),s}function r(e){var t=-1,s=Array(e.size);return e.forEach((function(e){s[++t]=e})),s}function l(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function c(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function d(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function h(e){var t=-1,s=e?e.length:0;for(this.__data__=new d;++t<s;)this.add(e[t])}function u(e){this.__data__=new c(e)}function p(e,t){var s=qe(e)||E(e)?function(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}(e.length,String):[],a=s.length,i=!!a;for(var o in e)!t&&!ve.call(e,o)||i&&("length"==o||_(o,a))||s.push(o);return s}function m(e,t){for(var s=e.length;s--;)if(A(e[s][0],t))return s;return-1}function b(e,t){var s=[];return Be(e,(function(e,a,i){t(e,a,i)&&s.push(e)})),s}function f(e,t){for(var s=0,a=(t=T(t,e)?[t]:w(t)).length;null!=e&&s<a;)e=e[P(t[s++])];return s&&s==a?e:void 0}function g(e,t){return null!=e&&t in Object(e)}function O(e,t,s,a,i){return e===t||(null==e||null==t||!z(e)&&!U(t)?e!=e&&t!=t:function(e,t,s,a,i,l){var c=qe(e),d=qe(t),h="[object Array]",p="[object Array]";c||(h=(h=Ve(e))==H?G:h);d||(p=(p=Ve(t))==H?G:p);var m=h==G&&!o(e),b=p==G&&!o(t),f=h==p;if(f&&!m)return l||(l=new u),c||Ke(e)?k(e,t,s,a,i,l):function(e,t,s,a,i,o,l){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new ke(e),new ke(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return A(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case V:var c=n;case q:var d=2&o;if(c||(c=r),e.size!=t.size&&!d)return!1;var h=l.get(e);if(h)return h==t;o|=1,l.set(e,t);var u=k(c(e),c(t),a,i,o,l);return l.delete(e),u;case"[object Symbol]":if(Ue)return Ue.call(e)==Ue.call(t)}return!1}(e,t,h,s,a,i,l);if(!(2&i)){var g=m&&ve.call(e,"__wrapped__"),O=b&&ve.call(t,"__wrapped__");if(g||O){var v=g?e.value():e,y=O?t.value():t;return l||(l=new u),s(v,y,a,i,l)}}if(!f)return!1;return l||(l=new u),function(e,t,s,a,i,o){var n=2&i,r=W(e),l=r.length,c=W(t);if(l!=c.length&&!n)return!1;var d=l;for(;d--;){var h=r[d];if(!(n?h in t:ve.call(t,h)))return!1}var u=o.get(e);if(u&&o.get(t))return u==t;var p=!0;o.set(e,t),o.set(t,e);var m=n;for(;++d<l;){var b=e[h=r[d]],f=t[h];if(a)var g=n?a(f,b,h,t,e,o):a(b,f,h,e,t,o);if(!(void 0===g?b===f||s(b,f,a,i,o):g)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var O=e.constructor,v=t.constructor;O==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,s,a,i,l)}(e,t,O,s,a,i))}function v(e){return!(!z(e)||(t=e,ge&&ge in t))&&(M(e)||o(e)?je:Q).test(L(e));var t}function y(e){return"function"==typeof e?e:null==e?B:"object"==typeof e?qe(e)?function(e,t){if(T(e)&&D(t))return I(P(e),t);return function(s){var a=function(e,t,s){var a=null==e?void 0:f(e,t);return void 0===a?s:a}(s,e);return void 0===a&&a===t?function(e,t){return null!=e&&function(e,t,s){t=T(t,e)?[t]:w(t);var a,i=-1,o=t.length;for(;++i<o;){var n=P(t[i]);if(!(a=null!=e&&s(e,n)))break;e=e[n]}if(a)return a;return!!(o=e?e.length:0)&&R(o)&&_(n,o)&&(qe(e)||E(e))}(e,t,g)}(s,e):O(t,a,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=W(e),s=t.length;for(;s--;){var a=t[s],i=e[a];t[s]=[a,i,D(i)]}return t}(e);if(1==t.length&&t[0][2])return I(t[0][0],t[0][1]);return function(s){return s===e||function(e,t,s,a){var i=s.length,o=i,n=!a;if(null==e)return!o;for(e=Object(e);i--;){var r=s[i];if(n&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++i<o;){var l=(r=s[i])[0],c=e[l],d=r[1];if(n&&r[2]){if(void 0===c&&!(l in e))return!1}else{var h=new u;if(a)var p=a(c,d,l,e,t,h);if(!(void 0===p?O(d,c,a,3,h):p))return!1}}return!0}(s,e,t)}}(e):T(t=e)?(s=P(t),function(e){return null==e?void 0:e[s]}):function(e){return function(t){return f(t,e)}}(t);var t,s}function j(e){if((t=e)!==("function"==typeof(s=t&&t.constructor)&&s.prototype||be))return _e(e);var t,s,a=[];for(var i in Object(e))ve.call(e,i)&&"constructor"!=i&&a.push(i);return a}function w(e){return qe(e)?e:Ge(e)}function k(e,t,s,a,o,n){var r=2&o,l=e.length,c=t.length;if(l!=c&&!(r&&c>l))return!1;var d=n.get(e);if(d&&n.get(t))return d==t;var u=-1,p=!0,m=1&o?new h:void 0;for(n.set(e,t),n.set(t,e);++u<l;){var b=e[u],f=t[u];if(a)var g=r?a(f,b,u,t,e,n):a(b,f,u,e,t,n);if(void 0!==g){if(g)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!m.has(t)&&(b===e||s(b,e,a,o,n)))return m.add(t)}))){p=!1;break}}else if(b!==f&&!s(b,f,a,o,n)){p=!1;break}}return n.delete(e),n.delete(t),p}function x(e,t){var s,a,i=e.__data__;return("string"==(a=typeof(s=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==s:null===s)?i["string"==typeof t?"string":"hash"]:i.map}function S(e,t){var s=function(e,t){return null==e?void 0:e[t]}(e,t);return v(s)?s:void 0}function _(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||ee.test(e))&&e>-1&&e%1==0&&e<t}function T(e,t){if(qe(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!N(e))||(Z.test(e)||!K.test(e)||null!=t&&e in Object(t))}function D(e){return e==e&&!z(e)}function I(e,t){return function(s){return null!=s&&(s[e]===t&&(void 0!==t||e in Object(s)))}}function P(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function L(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var s=function s(){var a=arguments,i=t?t.apply(this,a):a[0],o=s.cache;if(o.has(i))return o.get(i);var n=e.apply(this,a);return s.cache=o.set(i,n),n};return s.cache=new(C.Cache||d),s}function A(e,t){return e===t||e!=e&&t!=t}function E(e){return function(e){return U(e)&&F(e)}(e)&&ve.call(e,"callee")&&(!xe.call(e,"callee")||ye.call(e)==H)}function F(e){return null!=e&&R(e.length)&&!M(e)}function M(e){var t=z(e)?ye.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function R(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||U(e)&&"[object Symbol]"==ye.call(e)}function $(e){return null==e?"":function(e){if("string"==typeof e)return e;if(N(e))return Ne?Ne.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}function W(e){return F(e)?p(e):j(e)}function B(e){return e}var H="[object Arguments]",V="[object Map]",G="[object Object]",q="[object Set]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,Y=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/\\(\\)?/g,Q=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te[H]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te[V]=te["[object Number]"]=te[G]=te["[object RegExp]"]=te[q]=te["[object String]"]=te["[object WeakMap]"]=!1;var se,ae,ie,oe="object"==typeof e&&e&&e.Object===Object&&e,ne="object"==typeof self&&self&&self.Object===Object&&self,re=oe||ne||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&"object"==typeof s&&s&&!s.nodeType&&s,de=ce&&ce.exports===le&&oe.process,he=function(){try{return de&&de.binding("util")}catch(e){}}(),ue=he&&he.isTypedArray,pe=Array.prototype,me=Function.prototype,be=Object.prototype,fe=re["__core-js_shared__"],ge=(se=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",Oe=me.toString,ve=be.hasOwnProperty,ye=be.toString,je=RegExp("^"+Oe.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=re.Symbol,ke=re.Uint8Array,xe=be.propertyIsEnumerable,Se=pe.splice,_e=(ae=Object.keys,ie=Object,function(e){return ae(ie(e))}),Te=S(re,"DataView"),De=S(re,"Map"),Ie=S(re,"Promise"),Pe=S(re,"Set"),Le=S(re,"WeakMap"),Ce=S(Object,"create"),Ae=L(Te),Ee=L(De),Fe=L(Ie),Me=L(Pe),Re=L(Le),ze=we?we.prototype:void 0,Ue=ze?ze.valueOf:void 0,Ne=ze?ze.toString:void 0;l.prototype.clear=function(){this.__data__=Ce?Ce(null):{}},l.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},l.prototype.get=function(e){var t=this.__data__;if(Ce){var s=t[e];return"__lodash_hash_undefined__"===s?void 0:s}return ve.call(t,e)?t[e]:void 0},l.prototype.has=function(e){var t=this.__data__;return Ce?void 0!==t[e]:ve.call(t,e)},l.prototype.set=function(e,t){return this.__data__[e]=Ce&&void 0===t?"__lodash_hash_undefined__":t,this},c.prototype.clear=function(){this.__data__=[]},c.prototype.delete=function(e){var t=this.__data__,s=m(t,e);return!(s<0)&&(s==t.length-1?t.pop():Se.call(t,s,1),!0)},c.prototype.get=function(e){var t=this.__data__,s=m(t,e);return s<0?void 0:t[s][1]},c.prototype.has=function(e){return m(this.__data__,e)>-1},c.prototype.set=function(e,t){var s=this.__data__,a=m(s,e);return a<0?s.push([e,t]):s[a][1]=t,this},d.prototype.clear=function(){this.__data__={hash:new l,map:new(De||c),string:new l}},d.prototype.delete=function(e){return x(this,e).delete(e)},d.prototype.get=function(e){return x(this,e).get(e)},d.prototype.has=function(e){return x(this,e).has(e)},d.prototype.set=function(e,t){return x(this,e).set(e,t),this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},h.prototype.has=function(e){return this.__data__.has(e)},u.prototype.clear=function(){this.__data__=new c},u.prototype.delete=function(e){return this.__data__.delete(e)},u.prototype.get=function(e){return this.__data__.get(e)},u.prototype.has=function(e){return this.__data__.has(e)},u.prototype.set=function(e,t){var s=this.__data__;if(s instanceof c){var a=s.__data__;if(!De||a.length<199)return a.push([e,t]),this;s=this.__data__=new d(a)}return s.set(e,t),this};var $e,We,Be=($e=function(e,t){return e&&He(e,t,W)},function(e,t){if(null==e)return e;if(!F(e))return $e(e,t);for(var s=e.length,a=We?s:-1,i=Object(e);(We?a--:++a<s)&&!1!==t(i[a],a,i););return e}),He=function(e){return function(t,s,a){for(var i=-1,o=Object(t),n=a(t),r=n.length;r--;){var l=n[e?r:++i];if(!1===s(o[l],l,o))break}return t}}(),Ve=function(e){return ye.call(e)};(Te&&"[object DataView]"!=Ve(new Te(new ArrayBuffer(1)))||De&&Ve(new De)!=V||Ie&&"[object Promise]"!=Ve(Ie.resolve())||Pe&&Ve(new Pe)!=q||Le&&"[object WeakMap]"!=Ve(new Le))&&(Ve=function(e){var t=ye.call(e),s=t==G?e.constructor:void 0,a=s?L(s):void 0;if(a)switch(a){case Ae:return"[object DataView]";case Ee:return V;case Fe:return"[object Promise]";case Me:return q;case Re:return"[object WeakMap]"}return t});var Ge=C((function(e){e=$(e);var t=[];return Y.test(e)&&t.push(""),e.replace(X,(function(e,s,a,i){t.push(a?i.replace(J,"$1"):s||e)})),t}));C.Cache=d;var qe=Array.isArray,Ke=ue?function(e){return function(t){return e(t)}}(ue):function(e){return U(e)&&R(e.length)&&!!te[ye.call(e)]};s.exports=function(e,t){return(qe(e)?a:b)(e,y(t))}}).call(this,s("pCvA"),s("RoC8")(e))},pjEN:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("QRet"),l=s("Utv1"),c=s("/eY4"),d=s("OhSV"),h=s("fh8t"),u=s.n(h),p=s("RMlE"),m=s("ZOvn");const b=m.a.marginTop(!1,!1),f=m.a.marginBottom(),g={isLoading:!1,email:"",submenu:"ads",jwtToken:l.a.getJwtToken(),newRaceArticle:{},newRaceUserImage:{}};let O=Object(c.a)(o=class extends n.Component{constructor(e){super(e),this.toggleShowNews=()=>{const{showNews:e}=this.state;this.setState({showNews:!e})},this.jumpTo=e=>{e.preventDefault();document.getElementById(e.target.parentElement.dataset.id||e.target.dataset.id).scrollIntoView({behavior:"smooth",block:"start"})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g),this.inputRef={},this.updateTimer={}}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t}=e.stores;await t.load({query:{}}),this.setState({isLoading:!1})}async loadNews(e=this.props){this.setState({isLoading:!0});const{newsStore:t,userStore:s}=e.stores,{isAdmin:a}=s,i={tag:e.tag};a&&(i.showall=1),await t.load({query:i}),this.setState({isLoading:!1})}componentDidMount(){this.loadRace(),this.loadNews()}componentWillReceiveProps(e){this.loadRace(e),this.loadNews(e)}render(){const{appState:t,userStore:s,newsStore:a}=this.props.stores,{isAdmin:i,user:o={},notifications:l=[],teams:c=[]}=s,{col:h=12,offset:g=0}=this.props,{language:O="en"}=t,{newsList:v}=a,y=v.reverse(),j=y&&y[0]?y[0]:null;return Object(n.h)(e,null,Object(n.h)(p.a,{stores:this.props.stores}),Object(n.h)("div",{class:"container-fluid position-relative",style:`margin-bottom: ${f}; margin-top: ${b};`},!j&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading..."))),j&&Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12",id:"newslist"},Object(n.h)("div",{class:"jumbotron-thumb d-flex align-items-center"},j.images&&j.images[0]?Object(n.h)("img",{src:j.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(n.h)("div",{class:"jumbotron py-2"},Object(n.h)("h1",{class:"display-4"},i&&Object(n.h)("i",{class:`fas fa-eye${j.active?" text-success":"-slash text-danger"} float-right`})," ",(w=j.title,Object(r.d)(()=>{document.title="Homerun Race: "+w},[w]),Object(n.h)("h1",null,w))),Object(n.h)("p",{class:"lead"},Object(n.h)(u.a,{markdown:m.a.replaceImages(j.ingress,j.images,O),markdownOpts:m.a.getMarkdownOptions()})),Object(n.h)("p",null,Object(n.h)("ul",null,y&&y.map(e=>Object(n.h)("li",null,Object(n.h)("a",{href:"#",onClick:this.jumpTo,"data-id":"news-"+e.id},m.a.replaceImages(e.title,e.images,O,!1)))))))),Object(n.h)("div",{class:`col-${h} offset-${g} col-sm-8 col-lg-8 offset-sm-2 offset-lg-2`},y&&y.map((e,t)=>Object(n.h)("div",{class:"row",id:"news-"+e.id},t>0&&Object(n.h)("div",{class:"col-12 mt-5"},Object(n.h)("small",{class:"float-right font-weight-light"},Object(n.h)("a",{href:"#",onClick:this.jumpTo,"data-id":"newslist",class:"text-muted"},Object(n.h)(d.c,{id:"race.to-top"},"Til toppen")," ",Object(n.h)("i",{class:"far fa-arrow-alt-circle-up"}))),Object(n.h)("h2",null,i&&Object(n.h)("i",{class:`fas fa-eye${e.active?" text-success":"-slash text-danger"} float-right`})," ",m.a.replaceImages(e.title,e.images,O,!1))),Object(n.h)("div",{class:"col-12 pb-5 mb-5 border-bottom"},Object(n.h)(u.a,{markdown:m.a.replaceImages(e.body,e.images,O),markdownOpts:m.a.getMarkdownOptions()}))))))));var w}})||o;t.a=O}).call(this,s("hosL").Fragment)},"q+QX":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=s("u28A");t.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;s=void 0===s||isNaN(s)?1:s;var a,l,c,d,h,u,p,m=(0,i.default)(e),b=(0,o.default)(e),f=(0,i.default)(t),g=(0,o.default)(t),O=6356752.314245,v=1/298.257223563,y=(0,n.default)(g-b),j=Math.atan((1-v)*Math.tan((0,n.default)(parseFloat(m)))),w=Math.atan((1-v)*Math.tan((0,n.default)(parseFloat(f)))),k=Math.sin(j),x=Math.cos(j),S=Math.sin(w),_=Math.cos(w),T=y,D=100;do{var I=Math.sin(T),P=Math.cos(T);if(0===(u=Math.sqrt(_*I*(_*I)+(x*S-k*_*P)*(x*S-k*_*P))))return 0;a=k*S+x*_*P,l=Math.atan2(u,a),h=a-2*k*S/(d=1-(c=x*_*I/u)*c),isNaN(h)&&(h=0);var L=v/16*d*(4+v*(4-3*d));p=T,T=y+(1-L)*v*c*(l+L*u*(h+L*a*(2*h*h-1)))}while(Math.abs(T-p)>1e-12&&--D>0);if(0===D)return NaN;var C=d*(r.earthRadius*r.earthRadius-O*O)/(O*O),A=1+C/16384*(4096+C*(C*(320-175*C)-768)),E=C/1024*(256+C*(C*(74-47*C)-128)),F=E*u*(h+E/4*(a*(2*h*h-1)-E/6*h*(4*u*u-3)*(4*h*h-3))),M=O*A*(l-F);return Math.round(M/s)*s}},"q/oJ":function(e,t,s){"use strict";var a,i=s("hosL"),o=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("ZOvn"));const r=n.a.marginTop(!1),l=n.a.marginBottom();let c=Object(o.a)(a=class extends i.Component{render(){const{children:e}=this.props;return Object(i.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:`\n                    margin-bottom: ${l};\n                    margin-top: ${r};\n                    height: calc(100vh - ${r}) !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                `},e)}})||a;t.a=c},qXS6:function(e){e.exports=JSON.parse('{"ad":{"heading":"Vil du annonsere her?","teaser":"Det er super enkelt :)","subject":"Annonseforespørsel","body":"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.","linktext":"Ta kontakt med The Musher","ad":"Annonse"},"home":{"dashboard":"Oversikt","feed":"Feed","todo":"Todo","welcome-title":"Velkommen til The Musher.","welcome-body-1":"The Musher er en app som er kontinuerlig under utvikling. Alle ideer/innspill/kommentarer mottas med stor takk på Facebooksiden vår 😃","welcome-body-2":"Fokus til appen er enkel registrering av hunder, team, treninger og hendelser rundt hundene. Når man har mange hunder så er det ofte vanskelig å holde styr på løpetid, vaksiner, treninger, skader, vetrinærbesøk, chiplister, osv.","welcome-body-3":"Alle data lagres sentralt i skyen hos AWS (Amazon Web Services) og det vil derfor være mulig å bruke appen fra flere telefoner og datamaskiner samtidig. Dette kan være fint dersom det er flere som trener og følger opp hundene.","howto-title":"Slik kommer du i gang:","howto-step-1":"Legg inn teamene dine.","howto-step-2":"Legg inn hundene dine.","howto-step-3":"Legg inn rundene dine.","howto-step-4":"Begynn å registrere treningene.","dogs-follow-up":"Hunder som trenger oppfølging","dogs-special-needs":"Hunder med spesielle behov","last-workouts":"Siste treningsturer - {{total}} stk","races":"Løp","workouts":"Treninger","totals":"Totaler","status":"Status","wall":"Veggen","home":"Hjem","notifications":"Varslinger","back":"Tilbake","find-teams":"Finn team å følge","report-bug":"Rapporter feil","report-bug-placeholder":"Hva er det du opplever som feil?","abort":"Avbryt","send":"Send inn","translate-to":"Se oversettelse"},"notifications":{"unread":"Uleste varslinger. Klikk her for å se alle.","delete":"Slett","confirm":"Bekreft"},"feed":{"dashboard":"Oversikt","feed":"Feed","todo":"Todo","title":"Siste fra hundene","no-log":"Ingen hendelser fra hundene.","tip-1":"Det er fint å legge inn hendelser (løpetid, skader, vaksinering, vetrinærbesøk, mm) og bilder av hundene i loggen.","tip-2":"På denne måten så vil hele teamet ditt se hva som skjer med hundene og hva som trengs å følges opp. Dette er en slags Dogbook for hundene.","add-log":"Legg til logg på hundene","show-all-days":"Vis alle"},"workout":{"totals":{"title":"Treningsplanstatus"},"graph":{"title":"Treningsoversikt","month":"mnd","season":"Sesong","week":"uke","distance":"distanse","distance-avg":"distanse gjsnitt","distance-avg-all":"distanse gjsnitt alle","ascend":"høydemeter","ascend-avg":"høydemeter gjsnitt","ascend-avg-all":"høydemeter gjsnitt alle","speed-avg":"fart gjsnitt","speed-avg-all":"fart gjsnitt alle","duration-avg":"varighet gjsnitt","duration-avg-all":"varighet gjsnitt alle","real-duration-avg":"full varighet gjsnitt","real-duration-avg-all":"full varighet gjsnitt alle","load-index":"load index","load-index-all":"load index alle","plan":"Treningsplan","too-little-data":"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.","title-avg":"Gjennomsnitt"},"calendar":{"month":"Måned","week":"Uke","sum":"sum","totalKm":"Totalt km","summary":"Oppsummering","totalWorkouts":"Antall økter","distance":"Distanse","ascend":"Høydemeter","duration":"Varighet","avg-speed":"Gj.snittsfart","kmt":"km/t"},"plan":{"dashboard":"Oversikt","list":"Liste","plan":"Treningsplan","month":"Måned","week":"uke","save":"Lagre","sum":"Sum","planned":"plan","totalkm":"Totalt km","season":"Sesong","no-workout-plan-found":"Ingen treningsplaner funnet for valgte team: {{name}}","no-plan":"Ingen treningsplan","click-to-start":"Klikk på en dato for å komme i gang.","duplicate":"Duplisere treningsplan","title":"Tittel","title-help":"Tittel på denne treningplanen.","team":"Team","team-help":"Teamet som ønsker denne treningsplanen.","choose-team":"Velg team","save-new":"Lagre ny treningsplan","new":"Ny treningsplan","show-tips":"Vis tips","hide-tips":"Skjul tips"},"index":{"dashboard":"Oversikt","list":"Liste","plan":"Treningsplan","add-workout":"Legg til treningstur","last-workouts":"Treningsturer {{month}} {{year}} - {{total}} stk","workout-overview":"Treningsoversikt","strava-workouts":"Strava økter som ikke er importert","garmin-workouts":"Garmin økter som ikke er importert","filtered-by":"Filtrert på team"},"kg":"kg","battery-used":"brukt","kcal":"kcal","km":"km","m":"m","kmt":"km/t","share":"Del"},"strava":{"kmt":"km/t","ignore":"Glem økten","import":"Importer økten"},"garmin":{"kmt":"km/t","ignore":"Glem økten","import":"Importer økten","import-track":"Importer som runde"},"todo":{"dashboard":"Oversikt","feed":"Feed","todo":"Todo","dogs-follow-up":"Hunder som trenger oppfølging","no-dogs-follow-up":"Ingen hunder som trenger ekstra oppfølging.","dogs-special-needs":"Hunder med spesielle behov","no-dogs-special-needs":"Ingen hunder med spesielle behov.","dogs-with-maturity":"Hunder med løpetid","no-dogs-with-maturity":"Ingen hunder med løpetid."},"header":{"dogs":"Hundene","workouts":"Treningen","tracks":"Rundene","teams":"Teamene","profile":"Din profil","logout":"Logg ut","darkmode":"Nattmodus","viewmode":"Visningsmodus","viewmode-simple":"Enkel","viewmode-normal":"Normal","viewmode-advanced":"Avansert","viewmode-beta":"Avansert + beta","viewmode-try-beta":"Prøv den nye versjonen av forsiden 😃","viewmode-back-to-normal":"Gå tilbake til den gamle versjonen","reload-app":"Se etter oppdateringer","news":"Nyheter & info","howto":"Hvordan gjør man det?","search":"Søk","search-placeholder":"Søk etter det meste...","races":"Løpene","support":"Support","connect-team":"Følg andre team","admin-search":"Admin søk","add-dogs":"Legg til hunder","add-workouts":"Legg til treninger"},"footer":{"dogs":"Hundene","workouts":"Treningen","workouts-start":"Start","tracks":"Rundene","teams":"Teamene","veterenary":"Vet","workouts-continue":"Continue","dashboard":"Dashboard","admin":"Admin","home":"Hjem","menu":"Meny"},"register":{"new-user":"Ny bruker","email":"E-post","email-not-valid":"Hmm, e-posten ser ikke helt riktig ut.","password":"Passord","password-too-weak":"Passordet ditt er for svakt. Forsøk et annet passord eller legg til flere bokstaver 😔","password-weak":"Passordet ditt er svakt, men vis skal gjøre vårt beste for å passe på deg 😉","password-ok":"Passordet ditt ser bra ut 😎","caps-lock-on":"CAPS LOCK er på!","register":"Registrer meg","i-have-an-account":"🤔 Jeg har visst konto likevel. Gå til login siden."},"login":{"tip-1":"Appen kan installeres på telefonen din.","tip-2":"Bruk \\"Legg til på hjemskjerm\\"-funksjonen.","tip-3":"Det er lurt å gjøre dette før du registrer deg.","login":"Logg inn","email":"E-post","email-not-found":"E-posten finnes ikke, men du kan registrere deg 😃","email-not-valid":"Hmm, e-posten ser ikke helt riktig ut. Kan det være en skrivefeil?","email-looks-good":"E-post ser bra ut.","password":"Passord","caps-lock-on":"CAPS LOCK er på!","2fa-token":"2FA Token","new-user":"Ny bruker","forgot-password":"Glemt passordet?"},"forgotten":{"forgotten":"Glemt passord","one-time-code":"Engangskode for","otp-not-valid":"Hmm, koden ser ikke helt riktig ut. Kan det være en skrivefeil?","otp-valid":"Koden ser bra ut.","login-with-otp":"Logg meg inn med koden","goto-login":"Jeg husker passordet. Gå til logg inn.","send-new-otp":"Jeg trenger en ny kode.","email":"E-post","email-not-found":"E-posten finnes ikke.","register":"Registrere ny bruker.","email-not-valid":"Hmm, e-posten ser ikke helt riktig ut. Kan det være en skrivefeil?","email-looks-good":"E-post ser bra ut.","caps-lock-is-on":"CAPS LOCK er på!","send-reset-link":"Send meg en reset link"},"refresh":{"pull-to-update":"Dra for å oppdatere siden..."},"modal":{"download":"Last ned bilde..."},"imageupload":{"drag-files-here":"Slipp filene dine her :)","upload-images":"Opplastede filer","uploading-image":"Laster opp..."},"dog":{"history":{"no":"Nei","yes":"Ja","delete":"Slett","cant-delete-groups":"Kan ikke slette grupperinger. Gå inn på hundene og slett der."},"dogs":{"choose-filter":"Velg filter","search-for-dogs":"Søk etter hund","show-only-team-dogs":"Vis kun hundene i teamet","show-all-dogs":"Vis alle hundene","show-all":"Vis alle","show-only-selected":"Vis kun valgte","show-lead-dogs-only":"Vis kun lederhunder","show-point-dogs-only":"Vis kun pointhunder","show-team-dogs-only":"Vis kun teamhunder","show-wheel-dogs-only":"Vis kun wheelhunder","remove-all-dogs":"Fjern alle hundene","saved-changes":"Endringene er lagret","addplaceholder":"Legg til tom plass","saveDogPositions":"Lagre posisjoner","resetDogPositions":"Nullstill posisjoner","clearDogPositions":"Fjern alle posisjoner","dogs-positions":"Posisjoner i spannet","add-all-in-team":"Legg til alle {{total}} hundene i team"},"calendar":{"month":"Måned","week":"Uke"},"addlog":{"addlog":"Legg til logg","dogs":"Hunder","dogs-help":"Hvilke hunder gjelder dette?","date":"Dato","date-help":"Dato for logglinje.","time":"Klokka","time-help":"Tid for logglinje.","type":"Type hendelse","choose-type":"Velg type","other":"Annet","stoolProblem":"Avføringsproblem","bodyScore":"Bodyscore","diarrhea":"Diarè","foodLeftover":"Ikke spist opp maten","clawClip":"Kloklipp","maturity":"Løpetid","massage":"Massasje","animalchiropractor":"Dyrekiropraktor","newStraw":"Ny halm/treull","update":"Oppdatering","deworming":"Ormekur","mating":"Parring","injury":"Skade","fight":"Slåsskamp","sick":"Syk","unwantedMating":"Tjuvparring","vaccine":"Vaksine","weight":"Veiing","veterinarianVisit":"Vetrinær besøk","type-help":"Type hendelse. Vetrinær besøk, vaksinering, syk, løpetid, etc.","vaccine-type":"Vaksinetype","choose-vaccine":"Velg vaksinetype","rabies":"Rabies (3 år)","BbPi":"BbPi - Nesevaksine (1 år)","DHP":"DHP (3 år)","DHPPi":"DHPPi (3 år)","vaccine-help":"Hvilken vaksinetype er dette?","title":"Tittel","title-help":"Tittel på logglinje. Vetrinær besøk, Vaksinering, Syk, Profilbilde, etc.","duration":"Varighet","duration-help":"Når går denne vaksinen ut?","weight-of-dog":"Vekt","weight-of-dog-help":"Vekten til hunden.","bodyscore":"Bodyscore","bodyscore-help":"Bodyscore til hunden.","cost":"Kostnad","cost-help":"Kostnad for denne hendelsen.","commet":"Kommentar","comment-help":"Kommentar til loggen. Skriv mer om hva som hendte.","images":"Bilder","please-wait":"vent litt...","cancel":"Glem det","hidelog":"Skjul logg","newlog":"Ny logg"},"veterinary":{"choosen-dogs":"Valgte hunder","chosen-vaccines":"Valgte vaksiner","choose-team":"Velg team","select-all-dogs":"Velg alle hunder","remove-all-dogs":"Fjern alle valgte hunder","name":"Navn","image":"Bilde","are-you-sure":"Er du sikker på at du vil legge til vaksine på {{dogs}} hunder?","yes-iam-sure":"Ja, jeg er sikker!","cancel":"Avbryt","add-vaccine-to-dogs":"Legg til vaksine på {{dogs}} hunder","recepipt":"Kvittering","dog":"Hund","vaccine":"Vaksine","no-access":"Ingen tilgang!","attempts-logged":"Alle forsøk på å få tilgang vil bli logget og rapportert.","goto-frontpage":"Gå til forsiden","title":"Veterinær søk","search":"Søk","searching":"Søker...","cellphone":"Mobil","email":"Epost","search-placeholder":"Søk etter hundekjører. E-post, mobil eller navn...","choose-vaccines":"Velg vaksiner i listen over"}},"dogs":{"dashboard":"Oversikt","list":"Liste","feed":"Feed","todo":"Todo","stats":"Stats","pictures":"Bilder","workouts":"Treninger","relations":"Relasjoner","achievements":"Minner","links":"Lenker","achievement-name":"Tittel","achievement-name-help":"Tittel på minne","achievement-description":"Beskrivelse","achievement-description-help":"Beskrivelse av minne","achievement-url":"Link","achievement-url-help":"Link til minne","achievement-add":"Legg til nytt minne","link-name":"Tittel","link-name-help":"Tittel til link","link-url":"URL","link-url-help":"URL til link","link-add":"Legg til ny link","advanced":"Avansert","trophy":"Troféer","info":"Info","fitness":"Fitness","veterinary":"Vet","add-dogs":"Legg til hunder","no-dogs-registered":"Ingen hunder er registrert ennå.","howto-add-1":"Slik kommer du i gang","howto-add-2":"Trykk på knappen \\"Legg til hunder\\" rett ovenfor.","dog-with-follow-up":"Hunder som trenger oppfølging","no-dogs-with-follow-up":"Ingen hunder som trenger ekstra oppfølging.","dog-with-special-needs":"Hunder med spesielle behov","no-dogs-with-special-needs":"Ingen hunder med spesielle behov.","dog-with-workouts-last-day":"Hunder som har trent siste døgn","dogs-filtered-by":"Filtrert på:","all-dogs":"Alle hundene - {{total}} stk","dog-with-maturity":"Hunder med løpetid","no-dogs-with-maturity":"Ingen hunder med løpetid.","no-files-title":"Ingen filer lagt til for denne hunden!","no-files-text":"Du kan laste opp alle typer filer. Feks: Tester, diplomer, etc.","no-achievements-title":"Ingen minner for denne hunden!","no-achievements-text":"Du kan legge til minner for denne hunden. Feks: Turer, premier, løp, etc.","no-links-title":"Ingen linker for denne hunden!","no-links-text":"Du kan legge til linker til denne hunden. Feks. Link til Facebookside, Instagramprofil, blogg, etc.","no-trophys-title":"Ingen troféer for denne hunden!","no-trophys-text":"Du må legge til flere treninger, bilder, hundelogger, etc for å tjene opp til troféer.","no-images-title":"Ingen bilder av denne hunden!","no-images-text":"Du kan legge til så mange bilder du vil. Valpebilder, treningsbilder, late sommerbilder, etc. Alt sammen er med på å lage en bedre profil for denne hunden.","edit":"Endre","kmt":"km/t","birth":"Født","deceased":"Død","team":"Team","mother":"Mor","father":"Far","siblings":"Søsken","children":"Avkom","pictures-of":"Bilder av","log-for":"Logg for","delete":"Slett","changes-saved":"Endringene er lagret","add-new":"Legg til ny hund","name":"Navn","name-of-dog":"Fullt navn på hunden.","save-new":"Registrer ny hund","status":"Status","status-help":"Status til hunden","special-needs":"Spesielle behov","special-needs-help":"Har hunden spesielle behov? Trenger ekstra mat, utstyr eller annet? Eks: \\"Ekstra fett\\", \\"Husk ulveklobandasje\\", etc.","position":"Plass i spannet","position-help":"Foretrukket plass i spannet.","profile-photo":"Profilbilde","profile-photo-help":"Profilbilde av hunden.","photo":"Bilder","photo-help":"Bilde av hunden.","full-name":"Fullt navn","full-name-help":"Fullt navn på hunden.","short-name":"Kallenavn","short-name-help":"Kallenavnet på hunden. Hva roper du på innkalling?","gender":"Kjønn","gender-help":"Kjønn på hunden.","chip-id":"Chip ID","chip-id-help":"Chip ID på hunden. Står ofte i vetrinærhåndbok eller passet.","birth-help":"Fødselsdato på hunden.","deceased-help":"Dødsdato for hunden.","team-help":"Team som hunden er på.","harness-size":"Selestørrelse","harness-size-help":"Sele til hunden","choose-mother":"Velg blant dine hunder","mother-name":"Navn på mor","mother-name-help":"Navn på moren til denne hunden.","mother-chipid":"Chip ID på mor","mother-chipid-help":"Chip ID til moren til denne hunden. Dersom hunden finnes blant dine hunder, så vil den bli koblet sammen.","mother-comment":"Kommentar til mor","mother-comment-help":"Kommentar til moren til denne hunden.","choose-father":"Velg blant dine hunder","father-name":"Navn på far","father-name-help":"Navn på faren til denne hunden.","father-chipid":"Chip ID på far","father-chipid-help":"Chip ID til faren til denne hunden. Dersom hunden finnes blant dine hunder, så vil den bli koblet sammen.","father-comment":"Kommentar til far","father-comment-help":"Kommentar til faren til denne hunden.","files":"Filer","files-help":"Filer til denne hunden.","dog-saved":"Hunden er lagret","choose-sort":"Velg sortering","sort-distance":"Distanse","sort-duration":"Varighet","sort-name":"Navn","sort-shortname":"Kallenavn","sort-workouts":"Treninger","sort-lead":"Lead","sort-point":"Point","sort-team":"Team","sort-wheel":"Wheel","all":"Alle","leadOnly":"Leder","pointOnly":"Point","teamOnly":"Team","wheelOnly":"Wheel","days-back":"Siste","d1":"dag","d2":"2 dager","d7":"7 dager","d14":"14 dager","d30":"30 dager","gender-male":"Gutt","gender-female":"Jente","log":"Avansert","vetenary-approved-vaccines":"Veterinærgodkjente vaksiner","vaccine-karens":"dager igjen","vaccine-name":"Vaksinenavn","vaccine-date":"Vaksinedato","vaccine-veterinary":"Veterinær","hide-deceased":"Vis kun nåværende team","absolutely-all":"Vis absolutt alle","log-for-is-empty":"Loggen til {{name}} er tom","temp-calculation":"At the moment this is calculated from the main team of this dog. This will be changed soon.","info-about":"Informasjon om","add-description":"Gå inn på endring av hunden for å legge inn en beskrivelse.","add-veterinary":"Kontakt din veterinær og be om at vaksinene godkjennes i appen.","description":"Beskrivelse","description-help":"Beskrivelse av hunden.","links-help":"Linker til denne hunden.","achievements-help":"Bragder til denne hunden.","public-photos":"Bilder av hunden - {{total}} stk","trophy-details":"Details","something-missing":"Er det noe du savner på denne siden? Send oss en melding på Facebook.","visits":"Hundesidebesøk"},"workouts":{"edit":"Endre","duplicate":"Duplisere","make-track":"Lag runde basert på treningen","duration":"Varighet","rest":"Hvile","avgspeed":"Gj.fart","currentspeed":"Fart nå","kmt":"km/t","type":"Type tur","equipment":"Utstyr","dogs":"Hunder","distance":"Distanse i km","ascend":"Høydemeter","weather":"Været på turen","fetch-weather":"Hent fra yr.no","temperature":"Temperatur","info":"Info","user":"Musher","gps":"GPS","advanced":"Avansert","energy-consumption-help":"Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.","energy-consumption-total":"Energiforbruk totalt","energy-consumption":"Energiforbruk pr hund","energy-consumption-fat-total":"Fett totalt","energy-consumption-fat":"Fett pr hund","energy-consumption-meat-total":"Kjøtt totalt","energy-consumption-meat":"Kjøtt pr hund","energy-consumption-salmon-total":"Laks totalt","energy-consumption-salmon":"Laks pr hund","load-index":"Belastningsindex","kcal-calculated":"Beregnet:","all-dogs":"Hundene - {{total}} stk","all-mushers":"Handlere - {{total}} stk","delete":"Slett","changes-saved":"Endringene er lagret","show-last-used-tracks":"Vis kun de sist brukte rundene","show-all-tracks":"Vis alle rundene","add-new":"Legg til ny treningstur","add-save-new":"Lagre treningstur","other":"Annet","team":"Team","date":"Dato","time":"Klokka","track":"Runde","title":"Tittel","avg-speed":"Gjennomsnittsfart","comment":"Kommentar","mushers":"Kjørere","rating":"Rating av turen","sledWeight":"Sledevekt","intensity":"Intensitet","edit-workout":"Endre trening","photos":"Bilder","workout-saved":"Treningen er lagret.","start-stop-1":"Start-stopp sporingen er ikke klar ennå. Det er noen tekniske greier som Apple iOS har imot web-apper. Når det gjelder Android, så trenger jeg en Android telefon jeg kan teste på.","start-stop-2":"Det meste av utviklingen er styrt av dere brukere, så det er fint med tilbakemeldinger via Facebook.","tracking-stop":"Stopp sporing","tracking-start":"Start sporing","other-help":"Hva slags type tur/aktivitet var dette?","team-help":"Teamet som er på tur.","date-help":"Dato for turen. Format på dato er: \\"YYYY-MM-DD\\".","time-help":"Klokkeslett for turen. Format: \\"HH:MI\\".","type-help":"Type treningstur. \\"trening\\", \\"konkurranse\\", \\"tur\\".","track-help":"Hvilken treningsrunde er dette.","title-help":"Tittel på denne turen. \\"Fin høsttur i øsende regn...\\"","duration-help":"Hvor lenge var du ute? (HH:MI)","rest-help":"Hvor lenge stod du stille? (HH:MI)","avg-speed-help":"Gjennomsnittsfart når du var i bevegelse. Dersom du ikke vet dette så legger du bare inn distanse og varighet så blir dette regnet ut.","distance-help":"Hvor lang var turen i km.","ascend-help":"Høydemeter du klatret på denne turen.","equipment-help":"Utstyr som ble brukt. trollvogn, atv, slede.","comment-help":"Kommentar til turen. Hvordan gikk det?","weather-help":"Hvordan var været.","temperature-help":"Hvilken temperatur var det.","dogs-help":"Hvilke hunder var med på turen.","mushers-help":"Hvem av kjørerne var med på turen.","rating-help":"Din rating av turen. 1-6","sledWeight-help":"Vekt på sleden denne turen i kg.","intensity-help":"Hvor stor belastning var denne turen?","photos-help":"Legg til bilde fra treningen.","all-workouts":"Treningsturene - {{total}} stk","month-workouts":"Treningsturene - {{month}} {{year}}","week-workouts":"Treningsturene - Uke - {{week}} {{year}}","save-to-add-images":"Du må lagre treningsøkten før du kan legge til bilder.","save-to-add-gpx":"Du må lagre treninsøkten og så kan du laste opp GPX-filer dersom du ønsker det.","private":"Skjul treningsturen","private-help":"Skal denne turen være skjult for de som følger teamet ditt?","no-dogs":"Ingen hunder er registert.","no-dogs-tip":"Det er lurt å legge inn hunder før du registrerer en treningstur.","add-dog":"Legg til hund","no-tracks":"Ingen runder er registert.","no-tracks-tip-1":"Det er lurt å legge inn runden før du registrerer en treningstur. Da får du automatisk fylt ut distanse og høydemeter.","no-tracks-tip-2":"Dersom du ikke har GPX-filen fra denne runden, så kan du likevel registrere treningen.","add-track":"Legg til runde","no-workouts":"Ingen treningsturer er registrert ennå: {{month}} {{year}}","no-workouts-1":"Tracking i appen er ikke helt klart ennå pga noen tekniske begrensninger i Apple iOS.","no-workouts-2":"Når jeg får tak i en Android telefon skal jeg får satt opp denne funksjonen slik at den kan brukes der.","no-workouts-3":"Kart over ruten du har kjørt legges inn som GPX under runder.","no-workouts-howto":"Slik kommer du i gang","no-workouts-howto-1":"Trykk på knappen \\"Legg til treningstur\\" oppe til høyre.","dogs-positions":"Posisjoner i spannet","search-for":"Søk etter trening","gpx":"Gpx","gpx-help":"Gpx til denne treningen.","current":"Akkurat nå","totals":"Totaler","seasontotals":"Sesong totalt","analysis":"Analyser","images":"Bilder","handlers":"Handlere","workoutplan":"Treningsplan","table":"Tabell","calendar":"Kalender","go-to-tracking":"Gå til trackingen","admin-edit":"Admin edit","reimport-strava":"Reimport Strava data","reimport-garmin":"Reimport Garmin data","like":"Like","is-private":"Treningen er skjult"},"search":{"title":"Søk","text-1":"Søkefunksjonen er ikke laget ennå.","text-2":"Hva kunne du tenke deg å søke etter her? Send meg en melding på Facebook :)","search-for":"{{hits}} i ditt søk etter \\"{{search}}\\"","dogs":"Hunder","workouts":"Treninger","teams":"Team","tracks":"Runder","users":"Brukere","stories":"Veggen","no-dogs-found":"Ingen hunder funnet.","no-workouts-found":"Ingen treninger funnet.","no-teams-found":"Ingen team funnet.","no-tracks-found":"Ingen runder funnet.","no-users-found":"Ingen brukere funnet.","no-stories-found":"Ingen innlegg funnet."},"teams":{"connect":{"teams-to-follow":"Team du kan følge","teams-follow-requests":"Forespørsel om å følge","wants-to-follow":"ønsker å følge:","confirm":"Bekreft","confirm-and-follow":"Bekreft og følg","delete":"Slett forespørsel","block":"Blokker team","confirmed":"Bekreftet","deleted":"Slettet","all-teams":"Alle offentlige team","follow":"Følg","is-following":"Følger","is-blocked":"Blokkert","has-requested":"Venter på godkjenning","how-summary":"Hvordan fungerer dette?","how-text":"Hva kan de som følger teamet mitt se? Svaret er: Ganske lite. De kan se en oppsummering av de treningsøktene du deler og navnet på hundene. Ikke noe mere enn dette. Forsøk å følge ett eller flere team selv, så ser du hva du kan se."},"addmember":{"title":"Team - Legg til medlem","add-new":"Legg til nytt medlem i ","email":"E-post","email-help":"E-postadressen til nytt medlem.","info-1":"Medlemmer som legges til vil få full tilgang på hundene, treningene og løypene til dette teamet.","info-2":"Vi anbefaler at du kun legger til folk du stoler på :)","save-new":"Registrer nytt medlem"},"edit":"Endre","admin":"Admin","kmt":"km/t","dogs":"Hundene - {{total}} stk","members":"Medlemmer - {{total}} stk","add-new-member":"Legg til medlem","delete":"Slett","name":"Teamnavn","name-help":"Navn på teamet. A-laget, B-laget, gjengen på tur, etc.","public":"Synlig offentlig","public-help":"Skal teamet være mulig å følge? Alle som vil følge må godkjennes av dere først. De som følger teamet vil kun kunne se informasjon som dere deler. Treningsdetaljer og annet er ikke synlig for andre enn dere selv.","public-settings":"Offentlige innstillinger","public-workouts":"Offentlige treninger","public-workouts-help":"Skal treningene dine være synlig for dine følgere?","public-workouts-details":"Offentlige treningsdetaljer","public-workouts-details-help":"Skal treningene dine være synlig for dine følgere?","public-workouts-summary":"Offentlige treningsoppsummering","public-workouts-summary-help":"Skal treningene dine være synlig for dine følgere?","public-trophys":"Offentlige troféer","public-trophys-help":"Skal troféene dine være synlig for dine følgere?","public-memories":"Offentlige minner","public-memories-help":"Skal minnene dine være synlig for dine følgere?","public-dogs":"Offentlige hunder","public-dogs-help":"Skal hundene dine være synlig for dine følgere?","address":"Adresse","address-help":"Adressen til teamet.","postalcode":"Postnr","place":"Sted","place-help":"Stedet til teamet.","country":"Land","country-help":"Hjemlandet til teamet.","ambitions":"Ambisjoner","ambitions-help":"Ambisjonsnivå til teamet. (Brukes til Belastningsindeks utregning)","type":"Type","type-help":"Type team. (Brukes til Belastningsindeks utregning)","save-new":"Registrer nytt team","edit-team":"Endre team","photos":"Bilder","photos-help":"Bilde av teamet.","profile-photos":"ProfilBilde","profile-photos-help":"Profilbilde av teamet.","description":"Beskrivelse","description-help":"Beskrivelse av teamet.","url":"Link til nettside","url-help":"Link til nettside for teamet.","facebook":"Facebook","facebook-help":"Link til Facebookside.","instagram":"Instagram","instagram-help":"Link til Instagram.","choose-country":"Velg land","saved":"Teamet er lagret.","all-teams":"Teamene dine - {{total}} stk","add-new":"Legg til team","changes-saved":"Endringene er lagret","fitness":"Fitness, utmattelse og form","legend-fitness":"Fitness","legend-fatigue":"Fatigue","legend-form":"Form","public-profile":"Offentlig side","socialmedia":"Sosialemedier","add-sosialmedia":"Gå inn på endring av teamet for å legge inn en sosialemedier.","add-description":"Gå inn på endring av teamet for å legge inn en beskrivelse.","public-photos":"Teambilder - {{total}} stk","something-missing":"Er det noe du savner på denne siden? Send oss en melding på Facebook.","stats":"Stats","presentation":"Presentasjon","pictures":"Bilder","dogs-menu":"Hunder","mushers":"Kjørere","workouts":"Treninger","fitness-menu":"Form","compare":"Sammenligning","trophy":"Troféer","achievements":"Minner","links":"Linker","files":"Filer","followers":"Følgere","veterinary":"Vet","log":"Avansert","images":"Bilder","trophy-details":"Detaljer","dogs-help":"Hvilke hunder er med i teamet?","info":"Info","status":"Status","internet":"Sosialemedier","postalcode-help":"Postnummer til teamet.","snapchat":"Snapchat","snapchat-help":"Snapchat bruker.","header-photo":"Toppbilde","header-photo-help":"Toppbilde av teamet.","photo":"Bilde","photo-help":"Bilder av teamet.","profile-photo":"Profilbilde","profile-photo-help":"Profilbilde av teamet.","achievements-help":"Bragder til dette teamet.","links-help":"Linker til dette teamet.","files-help":"Filer til dette teamet.","no-images-title":"Ingen bilder for dette teamet!","no-images-text":"Du kan legge til så mange bilder du vil. Valpebilder, treningsbilder, late sommerbilder, etc. Alt sammen er med på å lage en bedre profil for dette teamet.","no-achievements-title":"Ingen minner for dette teamet!","no-achievements-text":"Du kan legge til minner for dette teamet. Feks: Turer, premier, løp, etc.","no-trophys-title":"Ingen troféer for dette teamet!","no-trophys-text":"Du må legge til flere treninger, bilder, tekster, etc for å tjene opp til troféer.","no-files-title":"Ingen filer lastet opp på dette teamet!","no-files-text":"Du kan laste opp alle typer filer. Feks: Tester, diplomer, etc.","no-workouts-title":"Du har ingen treninger med dette teamet.","no-workouts-text":"Du kan legge til flere treninger.","no-dogs-title":"Du har ingen hunder på dette teamet!","no-dogs-text":"Du kan legge til flere hunder på teamet.","notfollowing":"Team du ikke følger","waiting-approval":"Venter på godkjenning","following":"Følger","no-more-teams-to-follow":"Ingen flere team du kan følge.","no-pending-follow-requests":"Ingen forespørsler som venter på godkjenning.","not-following-any-teams":"Du følger ingen team.","no-followers":"Foreløpig har du dessverre ingen følgere. Men det er enkelt å endre på det. Pass på at teamet er offentlig. Vær aktiv på veggen i appen. Legg ut bilder og andre ting, og oppdater profilen din med bilder og info.","heatmap":"Heatmap","heatmap-info":"Heatmapen viser hvor du har trent denne sesongen.","blocked-followers":"Blokkerte team","not-public":"Ikke offentlig","no-photos":"Ingen bilder for dette teamet.","show-all":"Vis alle","your-teams":"Your teams","public-teams":"Public teams","description-workoutplan":"Treningsplan","add-description-workoutplan":"Gå inn på endring av teamet for å legge inn en treningsplan.","sponsors":"Sponsorer","add-sponsors":"Gå inn på endring av teamet for å legge inn sponsorer.","public-sponsor-images":"Sponsorer - {{total}} stk","descriptionWorkoutplan":"Beskrivelse av treninsplan","descriptionWorkoutplan-help":"Beskrivelse av treningsplan og filosofi.","sponsors-help":"Liste over sponsorer.","sponsor-photo":"Sponsor logoer","sponsor-photo-help":"Logoer fra dine sponsorer.","visits":"Teamsidebesøk"},"tracks":{"your-tracks":"Dine runder","public-tracks":"Offentlige runder","edit":"Endre","date":"Dato","date-help":"Dato for runden","time":"Klokkeslett","time-help":"Klokkeslett for runden","distance":"Distanse i km","elevation":"Høydemeter","downhill":"Nedstigning","duration":"Normal varighet","speed":"Normal hastighet","delete":"Slett","all-tracks":"Treningsrundene dine - {{total}} stk","all-public-tracks":"Offentlige treningsrunder - {{total}} stk","add-new":"Legg til runde","no-tracks-yet":"Ingen runder er registrert ennå.","no-tracks-info-1":"Du har mulighet til å laste opp GPX-filer fra rundene dine.","no-tracks-info-2":"Det finnes mange apper som lar deg lage GPX-filer, men vi anbefaler","howto-title":"Slik kommer du i gang","howto-1":"Trykk på knappen \\"Legg til runde\\" rett nedenfor.","changes-saved":"Endringene er lagret","save":"Registrer ny treningsrunde","gpx-info":"For å legge til GPX må du lagre og gå tilbake og endre denne.","saved":"Runden er lagret.","title":"Tittel","title-help":"Tittel på denne runden. Eks: \\"Rundt Veslevann og tilbake\\"","distance-help":"Hvor lang er runden i km.","elevation-help":"Høydemeter du klatrer på denne runden.","photos":"Bilder","photos-help":"Bilder fra denne runden.","gpx":"Gpx","gpx-help":"Gpx til denne runden.","filter-all":"Vis alle","filter-only-map":"Vis bare de med kart","weather-start":"Været i startområdet","weather-hide-details":"Skjul detaljer","weather-show-details":"Vis detaljer","map":"Kart","stats":"Din statistikk","weather":"Weather","summary":"Løypeinfo","your-workout-summary":"Dine treninger i løypa","no-workout-summary":"Du har ingen treninger i denne løypa. Du kan velge denne når du registrere treninger.","no-weather":"Finner ikke noe værmelding for denne løypa.","summary-info":"Estimatene for denne løype er gjort basert på innstillingene til ditt team.","no-photos":"Ingen bilder fra denne løypa."},"form":{"files":{"upload-file":"Last opp fil"}},"users":{"title":"Din profil","email":"E-post","password":"Passord","password-confirm":"Gjenta passord","change-password":"Endre passord","passwords-matches":"Passordene er like","edit-password-changed":"Passord er endret","back-to-profile":"Tilbake til profilen","main-team":"Hovedteam","all-teams":"Alle teamene","username":"Brukernavn","firstname":"Fornavn","lastname":"Etternavn","cellphone":"Mobil","homepage":"Hjemmeside","facebook":"Facebook","instagram":"Instagram","snapchat":"Snapchat","strava-get-activities":"Hent siste aktiviteter","strava-reconnect":"Koble til Strava på nytt","strava-reconnect-help":"Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt","strava-connect":"Koble til Strava","strava-connected":"Du er koblet til Strava!","strava-id":"id","strava-username":"brukernavn","strava-profile":"profilbilde","garmin-reconnect":"Koble til Garmin Connect på nytt","garmin-reconnect-help":"Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt","garmin-connect":"Koble til Garmin Connect","garmin-connected":"Du er koblet til Garmin Connect!","invite":{"title":"Inviter ny kennel til The Musher","text":"Jeg håper du vil hjelpe oss til å bli flere. Det er alltid hyggelig med flere brukere, og du kan tjene opp poeng som kan brukes til premium versjonen.","email":"E-post","email-placeholder":"E-post til ny kennel","send":"Send invitasjon","thanks":"Takk for at du hjelper oss til å bli flere 😃","more":"Invitere flere","hide":"Skjul invitasjonsboksen."},"edit":"Endre","username-help":"Ditt brukernavn på The Musher","firstname-help":"Ditt fornavn","lastname-help":"Ditt etternavn","cellphone-help":"Ditt mobilnummer","url":"Hjemmeside","url-help":"Din hjemmeside","facebook-help":"Din Facebook profil","instagram-help":"Din Instagram profil","snapchat-help":"Din Snapchat profil","photos":"Bilder","photos-help":"Bilder av deg.","saved":"Profilen er lagret.","settings-text-info":"Alle innstillingene finner du inne på profilen din.","hide-settings":"Skjul innstillingene fra forsiden","settings-hide-settings":"Skjul innstillinger","settings-hide-settings-help":"Skjul innstillinger på forsiden.","settings":"Innstillinger","settings-hide-profile":"Skjul profilen","settings-hide-profile-help":"Dersom du ikke vil at andre skal kunne finne og be om å følge deg, så kan du skjule profilen din her.","settings-hide-invite":"Skjul invitasjonsboks","settings-hide-invite-help":"Skjul invitasjonsboksen på forsiden.","settings-allow-racevet":"Tillat veterinær","settings-veterinary-help":"Dersom du ønsker at godkjente veterinærer skal kunne søke deg opp og legge inn vaksiner må du skru på her.","settings-summary-email":"Oppsummeringer","settings-receive-summary-email":"Motta oppsummeringer via e-post","settings-notification-email":"Varslinger","settings-receive-notification-email":"Motta varslinger på e-post når de har ligget ulest lenge.","settings-info-email":"Info","settings-receive-info-email":"Motta info via e-post","settings-partner-email":"Partnere","settings-receive-partner-email":"Hjelp videreutvikling av appen The Musher ved å motta gode tilbud fra partnere via e-post. Feks: Fôr, utstyr og annet som er relatert til hundekjøring. Ingen spam vil bli tillatt og e-postadressene vil ikke bli avslørt.","subscriptions":"Abonnement","integrations":"Integrasjoner","connect":{"title":"Finn dine venner","search":"Søk","search-placeholder":"Søk etter venner og bekjente","doSearch":"Søk"},"edit-profile":"Endre profil"},"install":{"install-app":"Installere The Musher appen"},"news":{"edit":"Endre","add-new":"Lag nytt innhold","back":"Tilbake","heading":"Nyheter & info","heading-howo":"Hvordan gjør man det?","create":"Ny"},"comments":{"like":"Lik","has-liked":"Likt","comment-add":"Kommentèr","show-more":"Vis {{more}} flere kommentarer...","hide-all-comments":"Skjul alle kommentarene.","comment":"Kommentar","add-comment":"Send","write-comment":"Skriv en kommentar...","remove-image":"Slett"},"race":{"therace":"Løpet","news":"Nyheter","more-news":"Flere nyheter","mushers":"Deltakere","results":"Resultater","tracking":"Tracking","media":"Bilder","edit":"Endre løpet","new":"Nytt løp","signup-payment":"Betaling påmelding","location":"Sted","about":"Om løpet","rules":"Regler","veterinary":"Veterinærinfo","checkpoints":"Sjekkpunkter","track-description":"Løypebeskrivelse","program":"Program","prices":"Premier","classes":"Klasser","signup":"Påmelding","distance":"Distanse","startdate":"Start","enddate":"Slutt","to-top":"Til toppen"},"races":{"homerun":"Homerun races","signup-open":"Påmelding åpen","race-finished":"Løp avsluttet","race-in-progress":"Løp pågår","classes":"Klasser","race-days":"Løpsdager","signup":"Påmelding","periode":"Periode","signed-in-as":"Logget inn som","signed-up":"Du er påmeldt!","paid":"Betalt","payment-info":"Betaling påmelding","click-to-change":"Klikk for å endre info i påmeldingen.","cellphone":"Mobil","firstname":"Fornavn","lastname":"Etternavn","sportsclub":"Klubb","facebook":"Facebook","instagram":"Instagram","team":"Team","class":"Klasse","cellphone-help":"\'Hva er mobilnummer ditt?\'","firstname-help":"Hva er fornavnet ditt?","lastname-help":"Hva er etternavnet ditt?","sportsClub-help":"Hvilken klubb tilhører du?","facebook-help":"Hva er Facebook brukernavnet ditt?","instagram-help":"Hva er Instagram brukernavnet ditt?","choose-team":"Velg team","choose-class":"Velg klasse","choose-team-help":"Velg fra dine team","choose-class-help":"Velg ønsket klasse.","agreement-accept":"Jeg har lest og godtar reglene for løpet.","do-signup":"Meld meg på","signup-not-open-yet":"Påmeldingen har ikke åpnet ennå!","signup-closed":"Påmeldingen er stengt!","signup-opening":"Påmeldingen åpner","races":"Løpene:","results":"Resultater","mushers":"Deltakere","mushers-on-trail":"Deltakere på sporet","finished-mushers":"Deltakere i mål","tracking":"Tracking","photos":"Bilder","hide-details":"Skjul detaljer","read-more":"Les mer","results-here":"Se resultater her","on-trail":"På sporet nå","favorites":"Favoritter","name":"Navn","start-date":"Startdato","distance":"Distanse","ascend":"Høydemeter","avg-speed":"Gj.snittsfart","race-time":"Kjøretid","rest-time":"Hviletid","load-index":"B.index","current-speed":"Fart nå","elevation":"Moh","elevation-graph":"Høydekurve","stages":"Etapper","result":"Resultat","musher-here":"Se deltakere her","dogs":"Hundene","admin":"Admin","no-team-on-trail":"Ingen team tracker live i The Musher appen akkurat nå...","no-teams-signed-up":"Ingen team påmeldt ennå...","hide-signup":"Avbryt","signup-another-team":"Meld meg på i flere klasser","starting-teams":"{{totalContestants}} påmeldte i {{totalClasses}} klasser","choose-correct-team-and-type":"Velg riktig team og type for løpet."},"story":{"body":"Story","write-body":"Hva tenker du på..?","add-story":"Publiser","public":"Synlig for alle","show-all":"Vis alle","back-to-wall":"Tilbake til alle","alert-text-1":"Teamet ditt er ikke synlig og det er ikke mulig for andre å be om å følge teamet.","alert-text-2":"Hvis du vil gjøre teamet synlig slik at det er mulig for andre og be om å følge deg, så kan du gjøre det her:","alert-text-3":"Endre team","sort":{"new":"Nyeste først","likes-desc":"Flest likes først","likes-asc":"Færrest likes først","comments-desc":"Flest kommentarer først","comments-asc":"Færrest kommentarer først"},"share":"Del","type":"Type","type-choose":"Velg type","type-regular":"Vanlig","type-ad":"Annonse","type-article":"Artikkel","team-choose":"Velg team","url-text":"URL text","url":"URL","country":"Country","region":"Region","currency":"Currency","price":"Price","ad-url-readmore":"Les mer...","ad-campaign-code":"Kampanjekode","sponsored":"Sponset","all-stories":"Alle innlegg","code":"Code"},"premium":{"title":"Premium"},"grant-access":{"title":"Gi tilgang","data-shared":"Data som blir delt","fields-shared-person":"Bilde, navn, e-post, mobil, adresse","fields-shared-dog":"Bilde, navn, chipId, kjønn, fødselsdato, vaksiner","fields-shared-team":"Navn, beskrivelse, bilder","grant":"Gi tilgang","deny":"Avslå forespørsel","choose-team":"Velg team","access-granted":"Tilgang tillatt. Klikk på knappen for å gå tilbake til","back-to-application":"Tilbake til"},"likes-comments":{"and":"og {{total}} andre."},"settings":{"title":"Innstillinger","search-placeholder":"Søk etter innstillinger...","darkmode":"Mørk eller lys layout","viewmode":"Visningsmodus","language":"Språk","logout":"Logg ut","general":"Hoved","general-info":"Språk, visningsmodus, logg ut","user":"Bruker","team":"Team","strava":"Strava","garmin-connect":"Garmin Connect","profile":"Profil","user-email":"E-post"}}')},qinx:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("/eY4"),l=s("OhSV"),c=s("go65"),d=s("Utv1"),h=s("Y3FI");const u={menu:{profile:!1,main:!1,showDashoard:!1},searchText:""};let p=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.toggleDashboard=()=>{const{appState:e}=this.props.stores;e.toggleDashboard()},this.search=()=>{const{searchText:e}=this.state;this.toggleDashboard(),Object(h.route)("/search/"+e,!0)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u),this.apiServer=d.a.getApiServer()}render(){const{searchText:e}=this.state,{appState:t,userStore:s,workoutStore:a}=this.props.stores,{currentTeam:i}=a,{user:o={},isAdmin:r,isVeterinary:d}=s,{path:h,isCordova:u,apiServer:p,apiServerChanged:m,showDashoard:b}=t;let f=h.replace(/^\//,"");return f=f.replace(/\/$/,""),f=f.replace(/\w{8,}-\w{4,}-\w{3,}-\w{3,}-\w{12,}/,"uuid"),f=f.replace(/\d+/g,"id"),f=f.replace(/\/$/,""),f=f.replace(/\//g,"."),""===f&&(f="frontpage"),Object(n.h)("div",{class:"navbar-themed fixed-bottom bg-light",style:"font-size: 12px;; z-index: 10000;"},b&&Object(n.h)("div",{class:"container-fluid border-bottom border-top bg-light position-relative"},Object(n.h)("button",{class:"btn btn-lg btn-danger position-absolute",style:"top: 5px; right: 5px; z-index: 10000;",type:"button",onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-times"})),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 text-center py-3"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"footer.dashboard"},"Dashboard"))),Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center p-2 ${h.match(/\/dogs/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/dogs/",class:"text-"+(h.match(/\/dogs/)?"primary":"muted"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-dog",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.dogs"},"Hundene"))),Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center p-2 ${h.match(/\/tracks/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/tracks/",class:"text-"+(h.match(/\/tracks/)?"primary":"muted"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-map-marked-alt",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.tracks"},"Rundene"))),Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center p-2 ${h.match(/\/users\//),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/users/",class:"text-"+(h.match(/\/users\//)?"primary":"muted"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-user",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"header.profile"},"Din profil"))),Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center p-2 ${h.match(/^\/settings/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/settings/",class:"text-"+(h.match(/^\/settings/)?"primary":"success"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-cog",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"users.settings"},"Settings"))),Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center p-2 ${h.match(/\/teams\/connect/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/teams/connect",class:"text-"+(h.match(/\/teams\/connect/)?"primary":"muted"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-project-diagram",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"header.connect-team"},"Follow teams"))),Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center p-2 ${h.match(/\/support/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"https://themusher.no/v2/support/faq-frequently-asked-questions/13","data-native":!0,class:"text-"+(h.match(/\/support/)?"primary":"muted"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-question-circle",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"header.support"},"Support")))),Object(n.h)("div",{class:"row"},d&&Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center text-primary p-2 ${h.match(/\/veterinary/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/veterinary/",class:"text-"+(h.match(/\/veterinary/)?"primary":"info"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-syringe",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.veterenary"},"Vet"))),r&&Object(n.h)("div",{class:`col-6 col-sm-4 p-4 text-center text-primary p-2 ${h.match(/\/admin/),""} text-nowrap overflow-hidden d-flex align-items-center justify-content-center`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/admin/",class:"text-"+(h.match(/\/admin/)?"primary":"danger"),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-user-shield",style:"font-size: 40px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.admin"},"Admin"))),o&&o.id&&h&&Object(n.h)("img",{src:`${this.apiServer}/api/pageview/dashboard/${o.id}/${i}/${(new Date).getTime()}`,style:"width: 1; height: 1; opacity: 0.1;"})),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex justify-content-center py-3"},Object(n.h)(l.b,null,Object(n.h)("input",{class:"form-control form-control-lg",type:"search",placeholder:Object(n.h)(l.c,{id:"header.search-placeholder"},"Søk etter det meste..."),value:e,onInput:Object(c.a)(this,"searchText")})),Object(n.h)("button",{class:"btn btn-lg btn-outline-success",type:"button",onClick:this.search},Object(n.h)(l.c,{id:"header.search"},"Søk"))))),Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row pb-1"},Object(n.h)("div",{class:`col text-center p-2 ${h.match(/(^\/$|\/home-wall)/)?"border-bottom border-primary":""} text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:""+("/"===h?"/home-wall":"/"),class:"text-"+(h.match(/(^\/$|\/home-wall)/)?"primary":"")},Object(n.h)("i",{class:"fas fa-home",style:"font-size: 23px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.home"},"Home"))),Object(n.h)("div",{class:`col text-center p-2 ${h.match(/\/workouts/)?"border-bottom border-primary":""} text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/workouts/",class:"text-"+(h.match(/\/workouts/)?"primary":"")},Object(n.h)("i",{class:"fas fa-running",style:"font-size: 23px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.workouts"},"Treningen"))),u&&Object(n.h)("div",{class:`col text-center p-2 ${h.match(/\/workouts\/tracking/)?"border-bottom border-primary":""} text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/workouts/tracking/",class:"text-"+(h.match(/\/workouts\/tracking/)?"primary":"danger")},Object(n.h)("i",{class:"far fa-dot-circle",style:"font-size: 23px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.workouts-start"},"Start"))),Object(n.h)("div",{class:`col text-center p-2 ${h.match(/\/teams/)?"border-bottom border-primary":""} text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;"},Object(n.h)("a",{href:"/teams/",class:"text-"+(h.match(/\/teams/)?"primary":"")},Object(n.h)("i",{class:"fas fa-users",style:"font-size: 23px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.teams"},"Teamene"))),Object(n.h)("div",{class:"col text-center p-2 text-nowrap overflow-hidden d-flex align-items-center justify-content-center",style:"text-overflow: ellipsis;"},Object(n.h)("span",{class:"text-"+(b?"primary":""),onClick:this.toggleDashboard},Object(n.h)("i",{class:"fas fa-ellipsis-h",style:"font-size: 23px;;"}),Object(n.h)("br",null),Object(n.h)(l.c,{id:"footer.menu"},"Menu")),o&&o.id&&h&&Object(n.h)("img",{src:`${this.apiServer}/api/pageview/${f}/${o.id}/${i}/${(new Date).getTime()}`,style:"width: 1; height: 1; opacity: 0.1;"})))),r&&m&&Object(n.h)("div",{class:"position-absolute badge badge-primary",style:"top: 45px; right: 0;"},Object(n.h)("span",{class:"font-weight-lighter"},"apiServer:")," ",p))}})||o;t.a=p},qrn0:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.getVeterinaryHistory=async function(){const{adminStore:e}=t.props.stores;await e.getVeterinaryHistory()},this.toggleLine=e=>{const{idx:t}=e.target.closest("tr").dataset,{showError:s={}}=this.state;s[t]=!s[t],this.setState({showError:s})}}async loadAll(){this.setState({isLoading:!0}),await this.getVeterinaryHistory(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{showError:t={}}=this.state,{adminStore:s}=this.props.stores,{veterinaryHistory:a}=s;return Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"Veterinary searches"),Object(i.h)("div",null,Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"Date"),Object(i.h)("th",null,"Vet"),Object(i.h)("th",null,"Search"),Object(i.h)("th",null,"User"),Object(i.h)("th",null,"IP"),Object(i.h)("th",null,"UA"))),Object(i.h)("tbody",null,a.map(t=>Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("td",{class:"text-overflow"},t.date&&Object(i.h)(e,null,o.a.isoDate(t.date))),Object(i.h)("td",{class:"text-overflow"},t.veterinary),Object(i.h)("td",{class:"text-overflow"},t.searchText," (",t.searchResults,")"),Object(i.h)("td",{class:"text-overflow"},t.user),Object(i.h)("td",{class:"text-overflow"},t.ip),Object(i.h)("td",{class:"text-overflow"},t.ua&&Object(i.h)(e,null,t.ua.platform,", ",t.ua.os,", ",t.ua.browser," (",t.ua.version,")")))))))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},qwZb:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("Y3FI"),d=s("OhSV"),h=s("X9Km"),u=s("ZOvn"),p=s("HqZR"),m=(s("1OK2"),s("s4FZ")),b=s("WAWY"),f=s("NPbb"),g=s("wanP"),O=s("lcEk"),v=s("ePpR"),y=s("nHdA"),j=s("irB3"),w=(s("UwwE"),s("8Lgr"));s("QkTp");const k=u.a.marginTop(!1),x=u.a.marginTopBack(!1),S=u.a.marginBottom(),_=u.a.getMaxLoadIndex(),T={weather:[],newTrack:{},showAdminInfo:!1,showWeatherDetails:!1,submenu:"map"};let D=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.deleteTrack=async function(){const{trackStore:e}=t.props.stores,{track:s}=e;await e.saveField(s.id,"offline",1),h.a.publish(h.b.STATUS_MESSAGE,{message:"Runden er slettet",type:"success",icon:"fas fa-check"}),Object(c.route)("/tracks/",!0)},this.toggleAdminInfo=()=>{const{userStore:e}=this.props.stores,{isAdmin:t}=e;if(t){const{showAdminInfo:e}=this.state;this.setState({showAdminInfo:!e})}},this.likeTrack=async function(){const{trackStore:e}=t.props.stores,{track:s}=e;await e.likeTrack({id:s.id})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.toggleShowWeatherDetails=()=>{const{showWeatherDetails:e}=this.state;this.setState({showWeatherDetails:!e})},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},T),this.updateTimer={},this.inputRef={}}async loadTrack(e=this.props){const{trackStore:t,userStore:s,workoutPlanStore:a}=this.props.stores;await t.load(e.track);const{track:i}=t;if(i.firstPoint){const e=await s.getWeather({lat:i.firstPoint[1],lon:i.firstPoint[0],altitude:i.firstPoint[2],force:1});this.setState({weather:e})}a.updateItem("workoutPlans",[]),a.updateItem("workoutPlan",{}),a.resetGraphPlanWeekDistanceCurrent(),await s.getWorkoutSummary({track:i.id})}componentDidMount(){this.loadTrack()}componentWillReceiveProps(e){e.track!==this.props.track&&this.loadTrack(e)}render(){const{trackStore:t,userStore:s}=this.props.stores,{submenu:a,showAdminInfo:i,showAddComment:o,weather:l,showWeatherDetails:c}=this.state,{isPublic:h}=this.props,{isAdmin:T,graphWorkoutSummaryWeekDistanceCurrentTotal:D,user:I={}}=s,{teams:P=[]}=I,{track:L={}}=t,{gpxInfo:C={}}=L,{weightedTotalKcal:A=0,loadIndex:E=0}=C,F=L.user===I.id||P.indexOf(L.team)>-1,{likes:M=[],comments:R=[]}=L,z=L.likes&&L.likes.findIndex(e=>e.user===I.id)>-1;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${S}; margin-top: ${k};`},Object(n.h)("div",{class:"d-flex justify-content-between"},Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${x}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(n.h)("div",null,Object(n.h)("h5",{class:"text-muted"}," ")),Object(n.h)("div",null,F&&Object(n.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/tracks/edit/"+L.id},Object(n.h)("i",{class:"fas fa-edit"})," ",Object(n.h)(d.c,{id:"tracks.edit"},"Endre")))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"d-flex mb-2"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:L.image?`background-image: url("${L.image.s3SmallLink}");`:""},!L.image&&Object(n.h)("i",{class:"fas fa-map-marked text-muted mt-3",style:"font-size: 40px;"})),Object(n.h)("div",{class:"flex-grow-1 pl-3"},Object(n.h)("h5",null,L.name),Object(n.h)("div",null,L.place),Object(n.h)("i",{class:"fas fa-calendar-alt mr-1"}),L.gpx&&L.gpx.s3Link&&Object(n.h)("span",{class:"float-right font-weight-lighter"},Object(n.h)("a",{href:L.gpx.s3Link,native:!0},Object(n.h)("i",{class:"fas fa-download"})," ",r.a.formatBytes(L.gpx.bytes,0))),r.a.isoDate(L.date||L.updatedDate||L.createdDate),Object(n.h)("br",null),1===L.public&&Object(n.h)("span",{class:"badge badge-success"},"Is public"),h&&L.userObject&&Object(n.h)("span",{class:"text-muted font-weight-lighter ml-3"},u.a.displayName(L.userObject)))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"map"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(n.h)(d.c,{id:"tracks.map"},"Map"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"stats"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(d.c,{id:"tracks.stats"},"Your stats"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"weather"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"weather",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-cloud-sun-rain"})," ",Object(n.h)(d.c,{id:"tracks.weather"},"Weather"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"summary"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"summary",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-info-circle"})," ",Object(n.h)(d.c,{id:"tracks.summary"},"Summary"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"photos"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"photos",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-camera"})," ",Object(n.h)(d.c,{id:"tracks.photos"},"Photos")))))))),"map"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 p-0"},L.gpx&&Object(n.h)("div",{class:"mb-4",style:"height: 500px;"},Object(n.h)(p.a,{stores:this.props.stores,mapId:L.id,geojson:L.gpx.geoJSON,gpxInfo:L.gpxInfo||L.gpx.gpxInfo}))))),"stats"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(d.c,{id:"tracks.your-workout-summary"},"Your workout summary")),D>0?Object(n.h)(e,null,Object(n.h)(b.a,{stores:this.props.stores,isLoading:!1})):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-chart-line"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(d.c,{id:"tracks.no-workout-summary"},"You have no workout summary for this track. You can choose track inside your workouts to have the summary calculated."))))))),"weather"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(d.c,{id:"tracks.weather-start"},"Weather at the start position")),Object(n.h)("div",{class:"row"},l&&l.length>0?l.slice(0,4).map(e=>Object(n.h)("div",{class:"col-3 text-center"},Object(n.h)("img",{loading:"lazy",src:`./assets/svg/${r.a.getNestedValue(e,"next_1_hours.summary.symbol_code")}.svg`}),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-temperature-low text-muted ml-1"}))," ",r.a.getNestedValue(e,"instant.details.air_temperature")," ",Object(n.h)("span",{class:"text-muted"},"°C")),Object(n.h)("br",null),Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-compass text-muted ml-1"})," ",u.a.windDirection(r.a.getNestedValue(e,"instant.details.wind_from_direction")),Object(n.h)("br",null),Object(n.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",r.a.getNestedValue(e,"instant.details.wind_speed")," ",Object(n.h)("span",{class:"text-muted"},"m/s"),Object(n.h)("br",null),Object(n.h)("i",{class:"fas fa-cloud-rain text-muted ml-1"})," ",r.a.getNestedValue(e,"next_1_hours.details.precipitation_amount")," ",Object(n.h)("span",{class:"text-muted"},"mm"),Object(n.h)("br",null),Object(n.h)("i",{class:"fas fa-tint text-muted ml-1"})," ",r.a.getNestedValue(e,"instant.details.relative_humidity")," ",Object(n.h)("span",{class:"text-muted"},"%"),Object(n.h)("br",null)),Object(n.h)("span",{class:"font-weight-strong"},r.a.isoTime(e.time)),Object(n.h)("br",null))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-cloud-sun-rain"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(d.c,{id:"tracks.no-weather"},"Can't find weather for this track."))))),Object(n.h)("small",null,c?Object(n.h)(e,null,Object(n.h)("table",{class:"table table-sm table-striped mt-4"},l&&l.length>0&&l.slice(4,70).map(e=>Object(n.h)("tr",null,Object(n.h)("td",null,Object(n.h)("img",{loading:"lazy",src:`./assets/svg/${r.a.getNestedValue(e,"next_1_hours.summary.symbol_code")||r.a.getNestedValue(e,"next_6_hours.summary.symbol_code")}.svg`,style:"height: 20px;"})),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-temperature-low text-muted ml-1"})," ",r.a.getNestedValue(e,"instant.details.air_temperature")," ",Object(n.h)("span",{class:"text-muted"},"°C")),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-compass text-muted ml-1"})," ",u.a.windDirection(r.a.getNestedValue(e,"instant.details.wind_from_direction"))),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",r.a.getNestedValue(e,"instant.details.wind_speed")," ",Object(n.h)("span",{class:"text-muted"},"m/s")),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-cloud-rain text-muted ml-1"})," ",r.a.getNestedValue(e,"next_1_hours.details.precipitation_amount")||r.a.getNestedValue(e,"next_6_hours.details.precipitation_amount")||0," ",Object(n.h)("span",{class:"text-muted"},"mm")),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-tint text-muted ml-1"})," ",r.a.getNestedValue(e,"instant.details.relative_humidity")," ",Object(n.h)("span",{class:"text-muted"},"%")),Object(n.h)("td",{class:"font-weight-strong text-right"},r.a.isoDate(new Date,!1,!1,!0)!==r.a.isoDate(e.time,!1,!1,!0)?r.a.formatDate(e.time,{year:void 0,weekday:"short",localeMatcher:"lookup"}):""," ",r.a.isoTime(e.time))))),Object(n.h)("button",{class:"btn btn-link",onClick:this.toggleShowWeatherDetails},Object(n.h)("i",{class:"fas fa-eye-slash"})," ",Object(n.h)(d.c,{id:"tracks.weather-hide-details"},"Hide details"))):Object(n.h)("button",{class:"btn btn-link",onClick:this.toggleShowWeatherDetails},Object(n.h)("i",{class:"fas fa-eye"})," ",Object(n.h)(d.c,{id:"tracks.weather-show-details"},"Show details")))))),"summary"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(d.c,{id:"tracks.summary"},"Track summary")),Object(n.h)("p",null,Object(n.h)(d.c,{id:"tracks.summary-info"},"The summary for this track is estimated based on the tracks profile and your team settings.")))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-road"})," ",Object(n.h)(d.c,{id:"tracks.distance"},"Distance")),Object(n.h)("h3",null,Object(n.h)(w.a,{stores:this.props.stores,value:L.distanceKm})),C.calculatedTotalDistance>0&&Object(n.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(n.h)(d.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(n.h)(w.a,{stores:this.props.stores,value:C.calculatedTotalDistance}),Object(n.h)("br",null))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(d.c,{id:"tracks.elevation"},"Elevation")),Object(n.h)("h3",null,Object(n.h)(j.a,{stores:this.props.stores,value:L.elevation})),C.calculatedAscend>0&&Object(n.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(n.h)(d.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(n.h)(j.a,{stores:this.props.stores,value:C.calculatedAscend}),Object(n.h)("br",null))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(d.c,{id:"tracks.downhill"},"Downhill")),Object(n.h)("h3",null,Object(n.h)(j.a,{stores:this.props.stores,value:L.decent})),C.calculatedDescend>0&&Object(n.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(n.h)(d.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(n.h)(j.a,{stores:this.props.stores,value:C.calculatedDescend}),Object(n.h)("br",null)))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-clock"})," ",Object(n.h)(d.c,{id:"tracks.duration"},"Duration")),Object(n.h)("h3",null,r.a.secToHms(C.duration))),C.normalSpeedMs>0?Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(d.c,{id:"tracks.speed"},"Speed")),Object(n.h)("h3",null,Object(n.h)(y.a,{stores:this.props.stores,value:3.6*C.normalSpeedMs}))):Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(d.c,{id:"tracks.speed"},"Speed")),Object(n.h)("h3",null,Object(n.h)(y.a,{stores:this.props.stores,value:C.normalSpeed})))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(r.a.checkNested(L,"gpxInfo","elevations")||r.a.checkNested(L,"gpx","gpxInfo","elevations"))&&Object(n.h)(f.a,{stores:this.props.stores,showTemperatur:!1,key:"track-elevation-"+L.id}))),E>0&&Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{onClick:this.toggleAdminInfo},Object(n.h)(d.c,{id:"workouts.load-index"},"Belastningsindex"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-center"},Object(n.h)(g.a,{key:"gauge-"+E,radius:100,showPercentText:!0,color:u.a.getLoadIndexColor(r.a.normalizeBetween(E,0,_,0,100)),percent:Math.floor(r.a.normalizeBetween(E,0,_,0,100)),completed:u.a.getLoadIndexText(r.a.normalizeBetween(E,0,_,0,100)),prefix:""}),Object(n.h)("div",null,Object(n.h)("span",{class:"badge badge-pill badge-secondary"},"Long distance"),Object(n.h)("span",{class:"badge badge-pill badge-secondary ml-2"},"Serious amature"),Object(n.h)("br",null)),T&&i&&Object(n.h)("div",null,Object(n.h)("small",null,Object(n.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",C.loadIndex),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",_),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",r.a.format(C.totalKcalRelated,1)),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeedMs: ",C.normalSpeedMs),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",C.normalDuration),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",r.a.format(C.durationFactor,2)),Object(n.h)("div",null,Object(n.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),"photos"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(d.c,{id:"tracks.photos"},"Photos from this track")))),Object(n.h)("div",{class:"row"},Object(n.h)(d.b,null,Object(n.h)(m.a,{stores:this.props.stores,images:L.images,noimagestext:Object(n.h)(d.c,{id:"tracks.no-photos"},"No photos for this track.")})))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},M&&M.length>0&&Object(n.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",M.length),R&&R.length>0&&Object(n.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",R.length)),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:`btn btn-outline-${z?"primary":"secondary"} btn-lg btn-block ${z?"text-primary":""}`,onClick:this.likeTrack},Object(n.h)("i",{class:(z?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":L.id,onClick:this.toggleAddComment},Object(n.h)("i",{class:"fas fa-comment"})," Comment")))),o&&Object(n.h)(v.a,{stores:this.props.stores,track:L,inputRef:e=>this.inputRef[L.id]=e,inputRefObject:this.inputRef}),Object(n.h)(O.a,{stores:this.props.stores,track:L,cols:"12"}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5"},F&&Object(n.h)("button",{class:"btn btn-sm btn-danger mt-5 float-right",onClick:this.deleteTrack},Object(n.h)("i",{class:"fas fa-trash"})," ",Object(n.h)(d.c,{id:"tracks.delete"},"Slett")," ",L.name))))}})||o;t.a=D}).call(this,s("hosL").Fragment)},rT4v:function(e){var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==t.call(e)}},rWES:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");s("eQ6k");const h={confirmed:{},deleted:{}};let u=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.confirmRequest=e=>{const{team:t,user:s,follow:a}=e.target.closest("button").dataset,{teamStore:i}=this.props.stores;i.confirmFollowRequest({team:parseInt(t,10),user:parseInt(s,10)});const{confirmed:o}=this.state;o[`${t}-${s}`]=!0,this.setState({confirmed:o}),a&&i.followRequestUser(s)},this.deleteRequest=e=>{const{team:t,user:s}=e.target.closest("button").dataset,{teamStore:a}=this.props.stores;a.deleteFollowRequest({team:parseInt(t,10),user:parseInt(s,10)});const{deleted:i}=this.state;i[`${t}-${s}`]=!0,this.setState({deleted:i})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}async loadTeams(){const{teamStore:e}=this.props.stores;await e.load({query:{},addData:["followRequests"]})}componentDidMount(){this.loadTeams()}render(){const{deleted:t={},confirmed:s={}}=this.state,{teamStore:a,appState:i}=this.props.stores,{teams:o,hasFollowRequests:l,followRequests:h=[]}=a,{darkmode:u}=i;return l?Object(n.h)("div",{class:"row pb-4"},Object(n.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${u?"black":"white"} shadow-sm`},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("h5",null,Object(n.h)(c.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},r.a.isArray(o)&&o.map(a=>Object(n.h)(e,null,a&&r.a.isArray(a.followRequests)&&a.followRequests.map(i=>{const o=i.image&&i.image.s3SmallLink?i.image:null,r=t[`${a.id}-${i.id}`],l=s[`${a.id}-${i.id}`],u=h.find(e=>e.user.id===i.id);return Object(n.h)("div",{class:"mr-2",style:"width: 150px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded mx-auto",style:o?`background-image: url("${o.s3SmallLink}");`:""},!o&&Object(n.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 40px; padding-top: 5px;"},d.a.displayNameShort(i))),Object(n.h)("small",null,Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)("strong",null,d.a.displayName(i)),Object(n.h)("br",null),u&&u.public>0?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+u.uuidv4},u.name)):Object(n.h)(e,null,u?Object(n.h)(e,null,u.name):"",Object(n.h)("br",null),Object(n.h)("span",{class:"text-muted"},"(",Object(n.h)(c.c,{id:"teams.not-public"},"Not public"),")"))),Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)(c.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(n.h)("div",{class:"text-overflow text-center"},Object(n.h)("strong",null,d.a.displayName(a)))),l||r?Object(n.h)(e,null,Object(n.h)("div",{class:"text-center"},l?Object(n.h)("div",{class:"text-success"},Object(n.h)(c.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(n.h)("i",{class:"fas fa-check"})):Object(n.h)("div",{class:"text-danger"},Object(n.h)(c.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(n.h)("i",{class:"fas fa-trash-alt"})))):Object(n.h)(e,null,Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":a.id,"data-user":i.id},Object(n.h)(c.c,{id:"teams.connect.confirm"},"Confirm")),u&&u.public>0&&Object(n.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":a.id,"data-user":i.id,"data-follow":!0},Object(n.h)(c.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(n.h)("small",{class:"mt-3"},Object(n.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",onClick:this.deleteRequest,"data-team":a.id,"data-user":i.id},Object(n.h)(c.c,{id:"teams.connect.delete"},"Del"))))))}))))),Object(n.h)("details",{class:"mt-3"},Object(n.h)("summary",null,Object(n.h)(c.c,{id:"teams.connect.how-summary"},"How does this work?")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""}})||o;t.a=u}).call(this,s("hosL").Fragment)},ruAM:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("u28A"),o=a(s("f3B/")),n=a(s("+Vuz"));t.default=function(e,t){var s=(0,o.default)(e,i.latitudeKeys);if(null!=s){var a=e[s];return!0===t?a:(0,n.default)(a)}}},s4FZ:function(e,t,s){"use strict";(function(e){function a(e){return n.a.isObject(e)&&e.s3LargeLink}var i,o=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV");let l=Object(r.a)(i=class extends o.Component{constructor(e){super(e),this.scrollImages=e=>{const{images:t}=this.props,{scrollLeft:s,clientWidth:a}=e.target,i=s/a,o=Math.round(i),n=Math.abs(o-i);(Number.isInteger(i)||n<.1)&&this.setState({imageIdx:o})},this.state={imageIdx:0}}render(){const{imageIdx:t}=this.state,{images:s,id:i,dblClick:n=(()=>{}),likeRef:r={},noimagestext:l,minHeight:c="100px"}=this.props;return s&&0!==s.length?Object(o.h)("div",{class:"w-100 position-relative"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},s&&s.filter(a).map(t=>Object(o.h)("div",{class:"col-12 clearfix position-relative p-0"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                    scroll-snap-align: start;\n                                    flex-wrap: wrap;\n                                    overflow-y: hidden;\n                                ",onDblclick:n,"data-id":i,onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},Object(o.h)("div",{class:"position-absolute w-100 h-100",style:`\n                                        background-image: url('${t.s3SmallLink}'); background-size: cover;\n                                        filter: blur(10px);\n                                        opacity: 0.5;\n                                    `}),t.s3LargeLink?Object(o.h)("img",{class:"img-fluid position-relative",src:`${t.s3LargeLink}${t.updatedDate?"?updated="+(""+t.updatedDate):""}`,loading:"lazy",style:`max-height: 75vh; min-height: ${c}; `}):Object(o.h)(e,null,Object(o.h)("span",{class:"display-1 text-muted"},Object(o.h)("i",{class:"fas fa-camera"})))),r[i]&&Object(o.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(o.h)("i",{class:"fas fa-heart likeStory"}))))),s&&s.length>1&&Object(o.h)(e,null,Object(o.h)("div",{class:"w-100 text-center"},Object(o.h)("small",null,Object(o.h)("small",null,s&&s.filter(a).map((s,a)=>Object(o.h)(e,null,Object(o.h)("i",{class:(a===t?"fas":"far")+" fa-circle mr-1"})))))),Object(o.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(o.h)("small",null,t+1," / ",s.length)))):l?Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-camera"})),Object(o.h)("h3",{class:"font-weight-lighter"},l))):Object(o.h)(e,null)}})||i;t.a=l}).call(this,s("hosL").Fragment)},s5jS:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(10).then(function(){var t=s("zc1A");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},sP2e:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("ruAM")),o=a(s("/4LU")),n=a(s("ekkQ")),r=a(s("KqdA"));t.default=function(e){if(!1===Array.isArray(e)||0===e.length)return!1;var t=e.length,s=e.reduce((function(e,t){var s=(0,n.default)((0,i.default)(t)),a=(0,n.default)((0,o.default)(t));return{X:e.X+Math.cos(s)*Math.cos(a),Y:e.Y+Math.cos(s)*Math.sin(a),Z:e.Z+Math.sin(s)}}),{X:0,Y:0,Z:0}),a=s.X/t,l=s.Y/t,c=s.Z/t;return{longitude:(0,r.default)(Math.atan2(l,a)),latitude:(0,r.default)(Math.atan2(c,Math.sqrt(a*a+l*l)))}}},sSOa:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("go65"),h=s("K+T6"),u=s("paVh"),p=s("om2D"),m=s("ZOvn");const b=m.a.marginTop(!1),f=m.a.marginBottom(),g={};let O=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.markAsRead=()=>{const{fromuser:e}=this.props,{messageStore:t,userStore:s}=this.props.stores,{user:a}=s,{unread:i}=t;i>0&&(this.markAsReadTimer=setTimeout(()=>t.markAsRead({to:e,user:a}),2e3))},this.sendMessage=async function(){const{fromuser:e}=t.props,{message:s}=t.state,{messageStore:a}=t.props.stores;await a.sendMessage({message:s,to:e}),t.setState({showAddImage:!1,message:{body:"",images:[]}},()=>{m.a.resizeTextarea(t.inputRef)})},this.addImage=()=>{const{showAddImage:e}=this.state;this.setState({showAddImage:!e})},this.addImages=({value:e})=>{const{message:t}=this.state;t.images.push(...e),this.setState({message:t})},this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.backIndicate=(e,{absXDiff:t})=>{this.setState({marginLeft:t})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({message:{body:"",images:[]}},g),this.inputRef=null}async loadMessages(){const{fromuser:e}=this.props;this.setState({isLoading:!0});const{messageStore:t,userStore:s}=this.props.stores;await s.getNotifications(),await t.getUnReadMessages(),await t.loadConversation({to:e}),this.setState({isLoading:!1}),this.markAsRead()}componentWillMount(){this.loadMessages()}componentWillUnmount(){const{appState:e}=this.props.stores;e.setSwipeRight(),e.setSwipeRightIndicate()}componentDidMount(){const{back:e=this.back,backIndicate:t=this.backIndicate}=this.props,{appState:s}=this.props.stores;s.setSwipeRight(()=>{s.setSwipeRight(),e()}),s.setSwipeRightIndicate((e,{startY:s,startX:a,xUp:i,yUp:o,xDiff:n,yDiff:r,absXDiff:l,absYDiff:c})=>{t(e,{startY:s,startX:a,xUp:i,yUp:o,xDiff:n,yDiff:r,absXDiff:l,absYDiff:c})})}render(){const{message:t,showAddImage:s,marginLeft:a}=this.state,{fromuser:i}=this.props,{messageStore:o,appState:l}=this.props.stores,{darkmode:g}=l,{conversationUser:O={},messages:v=[]}=o,y=v.filter(e=>i===e.user||i===e.fromUser),j=m.a.displayNameShort(O),w=m.a.displayName(O,!0),k=O.image||(O.images?O.images[0]:void 0)||O.teamImage,x=O.teamName,S=O.teamUuidv4;return Object(n.h)(e,null,a>0&&Object(n.h)("div",{class:"position-absolute h-100 w-25 d-flex align-items-center"},Object(n.h)("div",{class:"text-muted"},Object(n.h)("div",{class:"display-4 align-content-center"},Object(n.h)("i",{class:"fas fa-angle-double-right"})),Object(n.h)(c.c,{id:"inbox.go-back"},"Go back"))),Object(n.h)("div",{class:"container-fluid position-relative bg-"+(g?"darkmode":"lightmode"),style:`margin-bottom: ${f}; margin-top: ${b}; margin-left: ${a}px; transition: .2s;`},Object(n.h)("div",{class:"row fixed-top bg-light",style:`margin-top: ${b};`},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mx-2"},Object(n.h)("button",{onClick:this.back,class:"p-0 btn btn-link float-left mr-3",style:"font-size: 2.8em; line-height: 1.0em;"},Object(n.h)("i",{class:"fas fa-angle-left"})),Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall pt-0",style:(k?`background-image: url("${k.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!k&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},j)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0"},Object(n.h)("div",{class:"text-overflow"},Object(n.h)("strong",null,w)),Object(n.h)("div",{class:"text-overflow"},O.place?O.place+", ":""," ",O.country),x&&Object(n.h)("div",{class:"text-overflow"},Object(n.h)("a",{href:"/teams/public/"+S},x)))))),Object(n.h)("div",{class:"row",style:"margin-top: 110px;"},y&&y.map((t,s)=>Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)(h.a,{stores:this.props.stores,message:t,messageUser:O})),y.length-1===s&&Object(n.h)(u.a,null))),!y||0===y.length&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("div",{class:"mb-5 py-3 text-center"},Object(n.h)("div",{class:"display-1 text-muted"},Object(n.h)("i",{class:"far fa-comments"})),Object(n.h)("h3",null,Object(n.h)(c.c,{id:"inbox.write-message"},"Write the first message 😃")),Object(n.h)("span",{class:"text-muted"},Object(n.h)(c.c,{id:"inbox.write-message-help"},"Use the message field at the bottom of the page."),Object(n.h)("br",null)))))),Object(n.h)("div",{class:"fixed-bottom w-100 px-1 py-1 bg-light",style:"margin-bottom: 60px;"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(n.h)("div",{class:"flex-grow-1 pb-2"},Object(n.h)("label",{class:"sr-only",for:"inboxSearch"},Object(n.h)(c.c,{id:"inbox.search"},"Search")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",onInput:Object(d.a)(this,"message.body"),onKeyUp:m.a.resizeTextarea,onFocus:m.a.resizeTextarea,style:"height: 2.3em;",value:t.body,ref:e=>this.inputRef=e})),Object(n.h)("div",{class:"position-absolute",style:"bottom: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor",onClick:this.addImage})))),Object(n.h)("div",{class:"align-self-end ml-1"},Object(n.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.sendMessage},Object(n.h)("i",{class:"fas fa-paper-plane"})))),s&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center mt-2"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},r.a.isArray(t.images)&&t.images.map(e=>Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(n.h)("i",{class:"fas fa-trash"})," Del"))))),Object(n.h)(p.a,{object:t,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded})))))))}})||o;t.a=O}).call(this,s("hosL").Fragment)},sqi2:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("cneo"),d=s("OhSV"),h=s("fh8t"),u=s.n(h),p=s("3wGD"),m=(s("ETxl"),s("ZOvn"));const b={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}};let f=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,{workout:i}=t.props,{workoutStore:o}=t.props.stores,n=await o.likeWorkoutComment({id:i.id,commentId:a});return n&&200===n.status&&s({type:"likeComment",workout:i,commentId:a,response:n}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,i=e.target.parentElement.dataset.comment||e.target.dataset.comment,{workout:o}=t.props,{workoutStore:n}=t.props.stores,r=await n.likeWorkoutCommentReply({id:o.id,replyId:a,commentId:i});r&&200===r.status&&s({type:"likeReply",workout:o,commentId:i,replyId:a,response:r})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:a,viewImageIdx:i}=this.state,{workout:o,callback:l=(()=>{}),col:h=12,offset:b=0,compact:f=!1}=this.props,{userStore:g,teamStore:O}=this.props.stores,{user:v,language:y="en",isAdmin:j}=g;let w,k=[],x=0,S=0;return o.comments&&(x=o.comments.length,s?k=o.comments:(w=f?0:1,k=o.comments.slice(Math.max(x-w,0))),S=k.length),Object(n.h)("div",null,o&&k&&k.reverse().map(s=>{const{user:h={}}=s,b=O.findPublicTeamByMembers(h.id),f=m.a.displayNameShort(h),g=m.a.displayName(h),k=h.image||(h.images?h.images[0]:void 0),x=s.likes&&s.likes.findIndex(e=>e.user===v.id)>-1;let S=[],_=0,T=0;s.comments&&(_=s.comments.length,S=a[s.id]?s.comments:s.comments.slice(0,w),T=S.length);const D=[];if(s.images){const e=Object(c.i)(s.images);D.push(...e)}const I=i[s.id]?i[s.id]:0,P=D&&D[I]?D[I]:null,{currentLocationGeocode:L={}}=s;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?`background-image: url("${k.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!h.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},f)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(n.h)("div",null,Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},g),b&&b.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},b.filter(e=>1===e.public).slice(0,2).map(t=>Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(n.h)(u.a,{markdown:m.a.replaceImages(s.comment,s.images,y),markdownOpts:m.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"container-fluid px-3 mt-1"},P&&Object(n.h)("div",{class:"clearfix row"},Object(n.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:P.s3LargeLink}))),D&&D.length>1&&Object(n.h)("div",{class:"clearfix d-flex flex-wrap row"},D.map((t,a)=>Object(n.h)(e,null,Object(n.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-light ml-2"},"(Edited ",r.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),j&&L&&L.formatted_address&&Object(n.h)(e,null,Object(n.h)("span",{class:"ml-2 text-muted"},Object(n.h)("i",{class:"fas fa-map-marker-alt"})," ",L.formatted_address)))),s.likes&&s.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},s&&S&&S.map(t=>{const{user:a={}}=t,i=O.findPublicTeamByMembers(a.id),o=a.firstname?`${r.a.ucfirst(a.firstname,!0)}${r.a.ucfirst(a.lastname,!0)}`:""+r.a.ucfirst(a.email||"",!0),l=a.firstname?`${a.firstname} ${a.lastname}`:""+a.email,c=a.image||(a.images?a.images[0]:void 0),h=t.likes&&t.likes.findIndex(e=>e.user===v.id)>-1;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(c?`background-image: url("${c.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},o)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},l),i&&i.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},i.filter(e=>1===e.public).slice(0,2).map(t=>Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(n.h)(u.a,{markdown:m.a.replaceImages(t.comment,t.images,y),markdownOpts:m.a.getMarkdownOptions()}))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(h?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),_-T>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:_-T}},"Vis ",_-T," flere kommentarer...")))),t[s.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(p.a,{stores:this.props.stores,workout:o,callback:l,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e,inputRefObject:this.inputRef})))}),x-S>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:x-S}},"Vis ",x-S," flere kommentarer..."))),s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||o;t.a=f}).call(this,s("hosL").Fragment)},sqja:function(e,t,s){"use strict";s.r(t),t.default=s.p+"680f69f3c2e6b90c1812a813edf67fd7.png"},t8NN:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("QRet"),l=s("Utv1"),c=s("/eY4"),d=s("OhSV"),h=(s("go65"),s("fh8t")),u=s.n(h),p=s("RMlE"),m=(s("aGZh"),s("ZOvn"));const b=m.a.marginTop(!0),f=m.a.marginBottom(),g=(m.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:l.a.getJwtToken()});let O=Object(c.a)(o=class extends n.Component{constructor(e){super(e),this.toggleShowNews=()=>{const{showNews:e}=this.state;this.setState({showNews:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g)}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t}=e.stores;await t.load({query:{},sort:"-startDate"}),t.countAll(),this.setState({isLoading:!1})}async loadNews(e=this.props){this.setState({isLoading:!0});const{newsStore:t,userStore:s}=e.stores,{isAdmin:a}=s,i={tag:e.tag};a&&(i.showall=1),await t.load({query:i}),this.setState({isLoading:!1})}componentDidMount(){this.loadRace(),this.loadNews()}componentWillReceiveProps(e){this.loadRace(e),this.loadNews(e)}render(){const{isInApp:t}=this.props,{appState:s,userStore:a,raceStore:i,newsStore:o}=this.props.stores,{isAdmin:c,notifications:h=[]}=a,{races:g}=i,{newsList:O}=o,v=O&&O[0]?O[0]:null,{language:y="en"}=s,{showNews:j}=this.state;return Object(n.h)(e,null,Object(n.h)(p.a,{stores:this.props.stores,isInApp:t}),Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${f}; margin-top: ${b};`},!v&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading..."))),v&&Object(n.h)("div",{class:"row clearfix",style:"min-height: 450px;"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"jumbotron-thumb d-flex align-items-center"},v.images&&v.images[0]?Object(n.h)("img",{src:v.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(n.h)("div",{class:"jumbotron py-2"},Object(n.h)("h1",{class:"display-4"},c&&Object(n.h)("i",{class:`fas fa-eye${v.active?" text-success":"-slash text-danger"} float-right`})," ",v.title),Object(n.h)("p",{class:"lead"},Object(n.h)(u.a,{markdown:m.a.replaceImages(v.ingress,v.images,y),markdownOpts:m.a.getMarkdownOptions()})),j?Object(n.h)(e,null,Object(n.h)(u.a,{markdown:m.a.replaceImages(v.body,v.images,y),markdownOpts:m.a.getMarkdownOptions()}),Object(n.h)("button",{class:"btn btn-secondary btn-lg",type:"button",onClick:this.toggleShowNews},Object(n.h)(d.c,{id:"races.hide-details"},"Skjul detaljer"),"  ",Object(n.h)("i",{class:"fas fa-caret-down"}))):Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-primary btn-lg",type:"button",onClick:this.toggleShowNews},Object(n.h)(d.c,{id:"races.read-more"},"Les mer")," ",Object(n.h)("i",{class:"fas fa-caret-right"})))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 bg-light"},Object(n.h)(d.b,null,function(e=""){return Object(r.d)(()=>{document.title="Homerun Race - Race where you live"},[e]),Object(n.h)("h1",null,e)}(Object(n.h)(d.c,{id:"races.races"},"Løpene"))),c&&Object(n.h)(e,null,Object(n.h)("a",{href:"/race/new/edit",class:"position-absolute btn btn-sm btn-primary",style:"top: 0px; right: 15px;"},Object(n.h)("i",{class:"fas fa-plus-circle"})," ",Object(n.h)(d.c,{id:"race.new"},"Nytt løp"))))),Object(n.h)("div",{class:"row mt-3"},!g&&Object(n.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(n.h)("div",{class:"spinner-border text-primary",role:"status"},Object(n.h)("span",{class:"sr-only"},"Loading..."))),g&&g.map(t=>{const s=new Date;let a="";return s>=new Date(t.startDate)&&s<=new Date(t.endDate)?a="race":s>=new Date(t.signupStartDate)&&s<=new Date(t.signupEndDate)?a="signup":s>new Date(t.endDate)&&(a="done"),Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 col-sm-6 col-md-4 mb-3"},Object(n.h)("div",{class:"card position-relative"},Object(n.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===a&&Object(n.h)(e,null,Object(n.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===a&&Object(n.h)(e,null,Object(n.h)("span",null,Object(n.h)("i",{class:"fas fa-check text-success"})))),Object(n.h)("h5",{class:"card-header"},c&&Object(n.h)("i",{class:`fas fa-eye${t.active?" text-success":"-slash text-danger"} float-right`}),t.title),Object(n.h)("div",{class:"list-thumb d-flex align-items-center position-relative"},Object(n.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===a&&Object(n.h)(e,null,Object(n.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(n.h)(d.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===a&&Object(n.h)(e,null,Object(n.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(n.h)(d.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===a&&Object(n.h)(e,null,Object(n.h)("span",{class:"badge badge-success border border-white ml-2"},Object(n.h)(d.c,{id:"races.race-finished"},"Løp avsluttet")))),t.images&&t.images[0]?Object(n.h)("img",{src:t.images[0].s3MediumLink,class:"card-img-top"}):""),Object(n.h)("div",{class:"card-body"},Object(n.h)("p",{class:"card-text"},Object(n.h)(u.a,{markdown:m.a.replaceImages(t.ingress,t.images,y),markdownOpts:m.a.getMarkdownOptions()})),t.classes&&Object(n.h)(e,null,Object(n.h)("div",{class:"mb-3"},Object(n.h)("small",{class:"font-weight-lighter mr-2"},Object(n.h)(d.c,{id:"races.classes"},"Klasser"),": "),Object(n.h)("br",null),t.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(n.h)(e,null,Object(n.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},t.title))))),Object(n.h)("a",{href:"/race/"+t.id,class:"btn btn-primary stretched-link"},Object(n.h)(d.c,{id:"races.read-more"},"Les mer"))),Object(n.h)("div",{class:"card-footer"},Object(n.h)("small",{class:"text-muted"},Object(n.h)(d.c,{id:"races.race-days"},"Løpsdager"),": ",t.startDate&&Object(n.h)(e,null,l.a.formatDate(t.startDate,{locale:y})),t.endDate&&Object(n.h)(e,null," - ",l.a.formatDate(t.endDate,{locale:y})))))))}))))}})||o;t.a=O}).call(this,s("hosL").Fragment)},tJLP:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("/eY4");let n=Object(o.a)(a=class extends i.Component{componentDidUpdate(){const{remove:e=(()=>{})}=this.props;clearTimeout(this.removeTimer),this.removeTimer=setTimeout(()=>e(),1e4)}componentWillUnmount(){clearTimeout(this.removeTimer)}render(){const{message:e,icon:t,remove:s=(()=>{})}=this.props;return e?Object(i.h)("div",{class:"container"},Object(i.h)("div",{class:"alert alert-danger row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("a",{href:"#",onclick:s,class:"float-right"},Object(i.h)("i",{className:"fas fa-times"})),t&&Object(i.h)("h1",{class:"float-left mr-3"},Object(i.h)("i",{class:t})),e&&Object(i.h)("span",null,e)))):""}})||a;t.a=n},tLKz:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("w8dD"),d=s("ZOvn");const h=d.a.marginTop(!0),u=d.a.marginBottom(),p=d.a.subMenuMarginTop(),m={isLoading:!1,submenu:"all"};let b=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m)}async loadTracks(){this.setState({isLoading:!0});const{trackStore:e}=this.props.stores;await e.load({addData:["publicTracks"]}),this.setState({isLoading:!1})}componentDidMount(){this.loadTracks()}render(){const{scrolledDown:e}=this.props,{isLoading:t,submenu:s}=this.state,{trackStore:a,appState:i}=this.props.stores,{publicTracks:o}=a,{darkmode:r}=i,d="mapOnly"===s?e=>e.gpx:()=>!0;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${u}; margin-top: ${h};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:p}; background-color: ${r?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/tracks/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-map-marked"})," ",Object(n.h)(l.c,{id:"tracks.your-tracks"},"Dine runder")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/tracks/public",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-map-marked"})," ",Object(n.h)(l.c,{id:"tracks.public-tracks"},"Offentlige runder"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"tracks.all-public-tracks",fields:{total:o.length}},"Offentlige treningsrunder - ",o.length," stk"))),"submenu: ",s,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"all"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-area"})," ",Object(n.h)(l.c,{id:"tracks.filter-all"},"Vis alle"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"mapOnly"===s?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mapOnly",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(l.c,{id:"tracks.filter-only-map"},"Vis bare de med kart"))))))),!t&&o&&0===o.length&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(n.h)("div",{class:"text-center mb-5"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-map-marked"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"tracks.no-tracks-yet"},"Ingen runder er registrert ennå."))),Object(n.h)("p",{class:"text-center"},Object(n.h)("p",null,Object(n.h)(l.c,{id:"tracks.no-tracks-info-1"},"Du har mulighet til å laste opp GPX-filer fra rundene dine.")),Object(n.h)("p",null,Object(n.h)(l.c,{id:"tracks.no-tracks-info-2"},"Det finnes mange apper som lar deg lage GPX-filer, men vi anbefaler"),":"),"ViewRanger for ",Object(n.h)("a",{href:"https://apps.apple.com/gb/app/viewranger-hike-ride-or-walk/id404581674"},"iOS")," and  ",Object(n.h)("a",{href:"https://play.google.com/store/apps/details?id=com.augmentra.viewranger.android&hl=en"},"Android"),"."),Object(n.h)(l.c,{id:"tracks.howto-title"},"Slik kommer du i gang"),":",Object(n.h)("ol",null,Object(n.h)("li",null,Object(n.h)(l.c,{id:"tracks.howto-1"},'Trykk på knappen "Legg til runde" rett nedenfor.')))),o&&o.filter(d).map(e=>Object(n.h)(c.a,{stores:this.props.stores,track:e,showUser:!0,isPublic:!0})))))}})||o;t.a=b},tuIh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=s("WFAr"))&&a.__esModule?a:{default:a};t.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default,a="function"==typeof s?s(e,t):(0,i.default)(e,t);if(isNaN(a))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(a/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}}},u28A:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areaConversion=t.timeConversion=t.distanceConversion=t.altitudeKeys=t.latitudeKeys=t.longitudeKeys=t.MAXLON=t.MINLON=t.MAXLAT=t.MINLAT=t.earthRadius=t.sexagesimalPattern=void 0;t.sexagesimalPattern=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;t.earthRadius=6378137;t.MINLAT=-90;t.MAXLAT=90;t.MINLON=-180;t.MAXLON=180;t.longitudeKeys=["lng","lon","longitude",0];t.latitudeKeys=["lat","latitude",1];t.altitudeKeys=["alt","altitude","elevation","elev",2];t.distanceConversion={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};t.timeConversion={m:60,h:3600,d:86400};var s={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};t.areaConversion=s,s.sqm=s.m2,s.sqkm=s.km2,s.sqft=s.ft2,s.sqyd=s.yd2,s.sqin=s.in2},u2zT:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("/eY4"),n=s("Utv1"),r=s("OhSV");let l=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.dropRef=Object(i.createRef)(),this.handleDrag=e=>{e.preventDefault(),e.stopPropagation()},this.handleDragIn=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=e=>{if(e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(let t=0,s=e.dataTransfer.files.length;t<s;t+=1){this.readLocalFile(e.dataTransfer.files[t])}this.dragCounter=0}},this.handleAddFiles=e=>{e.preventDefault();const t=e.target;for(let e=0,s=t.files.length;e<s;e+=1){this.readLocalFile(t.files[e])}},this.handleEvent=()=>{0},this.handleUpload=e=>{const{uploadStatus:t=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;t(!1),n.a.isFunction(s)&&s();const i=new FormData;i.append("files[]",e);const o={progress:1};o.xhr=new XMLHttpRequest,o.xhr.upload.addEventListener("progress",t=>{this.updateProgress(t,e)}),o.xhr.addEventListener("loadstart",t=>{this.handleEvent(t,e)}),o.xhr.addEventListener("load",t=>{this.handleEvent(t,e)}),o.xhr.addEventListener("loadend",t=>{const s=e;n.a.isFunction(a)&&a(),this.handleEvent(t,s)}),o.xhr.addEventListener("progress",t=>{this.handleEvent(t,e)}),o.xhr.addEventListener("error",t=>{this.handleEvent(t,e)}),o.xhr.addEventListener("abort",t=>{this.handleEvent(t,e)}),o.xhr.addEventListener("readystatechange",t=>{this.uploadDone(t,e)}),o.xhr.open("POST",`${n.a.getApiServer()}${this.props.apiUrl}`),o.xhr.setRequestHeader("Authorization","Bearer "+n.a.getJwtToken()),o.xhr.send(i);const r=e.name,l=this.state.uploadedFilesData;l[r]||(l[r]={}),l[r].uploadMeta=o,l[r].imageNum=this.state.imageNum,this.setState({uploadedFilesData:l})},this.readLocalFile=e=>new Promise((t,s)=>{const a=new FileReader;a.addEventListener("error",e=>{s(e)}),a.addEventListener("load",s=>{const a=e,i=a.name,o=this.state.uploadedFilesData;o[i]||(o[i]={}),o[i].event=s,this.setState({uploadedFilesData:o}),this.handleUpload(a),t(s)}),a.readAsDataURL(e)}),this.updateProgress=(e,t)=>{if(e.lengthComputable){const s=t.name,a=this.state.uploadedFilesData,i=e.loaded/e.total*100;0,a[s].uploadMeta.progress=i,this.setState({uploadedFilesData:a})}},this.uploadDone=(e,t)=>{const s=t.name,a=this.state.uploadedFilesData,i=a[s].uploadMeta;if(i&&4===i.xhr.readyState&&201===i.xhr.status){const e=JSON.parse(i.xhr.responseText).data.files;for(let t=0;t<e.length;t+=1){this.addFileToUpload(e[t]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(e){const{uploadedFilesData:t}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),a(!0)}componentDidMount(){const e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}componentWillUnmount(){const e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:e}=this.state;return Object(i.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(i.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(i.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(i.h)("div",null,Object(i.h)(r.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(i.h)("div",null,Object(i.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:e=>{this.fileInput=e}})),Object(i.h)("div",null,Object.keys(e).length>0?Object(i.h)("h3",null,Object(i.h)(r.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(i.h)("ul",{class:"list-group"},Object.keys(e).map(t=>{const{uploadMeta:s={}}=e[t],a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(i.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(i.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(i.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(i.h)("small",null,e[t].event.uploadDone),Object(i.h)(r.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(i.h)("small",null,n.a.formatBytes(e[t].event.total,2))),Object(i.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(i.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;t.a=l},uPxS:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l=s("cneo"),c=s("0frO"),d=s("Y3FI"),h=s("Utv1"),u=s("X9Km");Object(l.f)({enforceActions:"always"});const p=new(n=i((o=class extends c.a{constructor(){super("garminActivityDetail",{namePlural:"garminActivityDetails",sort:"-createdDate",limit:10,api:{search:{url:"/api/garmin/activities/",params:{extendedView:1,limit:15,sort:"-createdDate"}},load:{url:"/api/garmin/activities/",params:{}},save:{url:"/api/garmin/activities/",params:{}}}}),a(this,"garminActivityDetail",n,this),a(this,"garminActivityDetails",r,this)}cleanupMemory(){this.localUpdateField("garminActivityDetail",{}),this.localUpdateField("garminActivityDetails",[])}localUpdateField(e,t){this[e]=t}async ignoreWorkout(e){const t=await h.a.fetchApi("/api/garmin/ignore",{publish:!0,method:"GET"},{id:e});switch(t.status){case 200:console.log(t);break;case 401:u.a.publish(u.b.LOG_OUT),Object(d.route)("/",!0)}}async importWorkout(e,t){const s=await h.a.fetchApi("/api/garmin/import",{publish:!0,method:"GET"},{id:e,team:t});switch(s.status){case 200:console.log(s);break;case 401:u.a.publish(u.b.LOG_OUT),Object(d.route)("/",!0)}}async importTrack(e,t){const s=await h.a.fetchApi("/api/garmin/import-track",{publish:!0,method:"GET"},{id:e,team:t});switch(s.status){case 200:console.log(s);break;case 401:u.a.publish(u.b.LOG_OUT),Object(d.route)("/",!0)}}}).prototype,"garminActivityDetail",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"garminActivityDetails",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(o.prototype,"cleanupMemory",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"cleanupMemory"),o.prototype),i(o.prototype,"localUpdateField",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"localUpdateField"),o.prototype),o);t.a=p},uRxk:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(s("Wyvv")),o=a(s("MBNX"));t.default=function(e,t,s){var a=(0,i.default)(t,e),n=(0,i.default)(e,s),r=(0,i.default)(t,s),l=Math.acos((0,o.default)((a*a+r*r-n*n)/(2*a*r))),c=Math.acos((0,o.default)((n*n+r*r-a*a)/(2*n*r)));return l>Math.PI/2?a:c>Math.PI/2?n:Math.sin(l)*a}},ufdA:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function n(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var r,l,c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S,_,T,D,I=s("cneo"),P=s("0frO"),L=s("Utv1"),C=s("Y3FI"),A=s("X9Km"),E=s("ZOvn");Object(I.f)({enforceActions:"always"});const F=new(l=n((r=class extends P.a{constructor(){super("dog",{namePlural:"dogs",sort:"shortname,name",limit:100,api:{search:{url:"/api/dogs/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/dogs/",params:{}},save:{url:"/api/dogs/",params:{}}}}),o(this,"dog",l,this),o(this,"dogs",c,this),o(this,"publicDog",d,this),o(this,"publicTeam",h,this),o(this,"allDogs",u,this),o(this,"externalDogs",p,this),o(this,"workoutSummary",m,this),o(this,"workoutSummaryCurrentSeason",b,this),o(this,"workoutSummaryPreviousSeason",f,this),o(this,"workoutSummaryCurrent",g,this),o(this,"graphFitness",O,this),o(this,"graphFatigue",v,this),o(this,"graphForm",y,this),o(this,"vaccineStatuses",j,this),o(this,"vaccineLogStatuses",w,this),o(this,"historyStatuses",k,this),o(this,"publicViews",x,this),o(this,"publicViewsGraphData",S,this),o(this,"publicViewsGraphLegend",_,this),o(this,"currentTeam",T,this),o(this,"daysBack",D,this)}updateObjectField(e,t,s){this[e][t]=s}cleanupMemory(){this.localUpdateField("allDogs",[]),this.localUpdateField("externalDogs",[]),this.localUpdateField("workoutSummary",[]),this.localUpdateField("workoutSummaryCurrentSeason",{}),this.localUpdateField("workoutSummaryPreviousSeason",{}),this.localUpdateField("workoutSummaryCurrent",[]),this.localUpdateField("workoutSummaryCurrent",[]),this.localUpdateField("graphFitness",[]),this.localUpdateField("graphFatigue",[]),this.localUpdateField("graphForm",[]),this.localUpdateField("vaccineStatuses",[]),this.localUpdateField("vaccineLogStatuses",[]),this.localUpdateField("historyStatuses",[]),this.localUpdateField("publicViewsGraphData",[]),this.localUpdateField("publicViewsGraphLegend",[])}setCurrentTeam(e){this.currentTeam=e,L.a.set("currentTeam",e)}setDaysBack(e){this.daysBack=e,L.a.set("dogWorkoutDaysBack",e)}findWorkoutSummary(e,t){const s=this.workoutSummary.findIndex(s=>s.dog===e&&s.year===t);if(s>-1)return Object(I.i)(this.workoutSummary[s])}findWorkoutSummaryCurrenSeason(e,t){this.workoutSummaryCurrentSeason=this.findWorkoutSummary(e,t)}findWorkoutSummaryPreviousSeason(e,t){this.workoutSummaryPreviousSeason=this.findWorkoutSummary(e,t)}findDogposition(e){const t=this.dogPositions.findIndex(t=>t.id===e);if(t>-1){return Object(I.i)(this.dogPositions[t])}}findCurrentWorkoutSummary(e){const t=this.workoutSummaryCurrent.findIndex(t=>t.dog===e);if(t>-1)return Object(I.i)(this.workoutSummaryCurrent[t])}findDog(e){const t=this.allDogs.findIndex(t=>t.id===e);if(t>-1)return this.allDogs[t]}findDogByChipId(e){if(!e)return null;let t=this.dogs.findIndex(t=>t.chipId===e);return-1===t&&(t=this.allDogs.findIndex(t=>t.chipId===e)),-1===t&&(t=this.externalDogs.findIndex(t=>t.chipId===e)),t>-1?Object(I.i)(this.dogs[t]):void 0}findVaccineStatuses(e){return this.vaccineStatuses.filter(t=>t.dogId===e).map(e=>Object(I.i)(e))}findVaccineLogStatuses(e){if(!e)return[];return this.vaccineLogStatuses.filter(t=>t.chipId===e).map(e=>Object(I.i)(e))}findHistoryStatuses(e){return this.historyStatuses.filter(t=>t.dogId===e).map(e=>Object(I.i)(e))}findDogsByGender(e){return this.allDogs.filter(t=>t.gender===e).map(e=>Object(I.i)(e))}findChildren(e){if(!e)return[];return[this.allDogs.filter(t=>t.motherChipId===e||t.fatherChipId===e),this.externalDogs.filter(t=>t.motherChipId===e||t.fatherChipId===e)].flat()}findSiblings(e,t,s){if(!e||!t||!s)return[];return[this.allDogs.filter(a=>a.id!==e&&a.motherChipId===t&&a.birth===s),this.externalDogs.filter(a=>a.id!==e&&a.motherChipId===t&&a.birth===s)].flat()}findDogsByStatus(e){return this.dogs.filter(t=>!e||(L.a.isArray(e)?e.indexOf(t.status)>-1:t.status===e)).map(e=>Object(I.i)(e))}findDogsWithStatus(){return this.dogs.filter(e=>1!==e.status&&!!e.status).map(e=>Object(I.i)(e))}findDogsWithNeeds(){return this.dogs.filter(e=>!!e.specialNeeds).map(e=>Object(I.i)(e))}setField(e,t){this[e]=t}localUpdateField(e,t){this[e]=t}plotFormGraph(){this.dog&&this.dog.fitness&&(this.graphFitness=this.dog.fitness.map((e,t)=>({x:t,y:e.value||0,year:e.year,month:e.month,day:e.day,date:e.date}))),this.dog&&this.dog.fatigue&&(this.graphFatigue=this.dog.fatigue.map((e,t)=>({x:t,y:e.value||0,year:e.year,month:e.month,day:e.day,date:e.date}))),this.dog&&this.dog.form&&(this.graphForm=this.dog.form.map((e,t)=>({x:t,y:e.value||0,year:e.year,month:e.month,day:e.day,date:e.date})))}async loadPublicDetail(e){this.localUpdateField("publicDog",{}),this.localUpdateField("publicTeam",{});const t=await L.a.fetchApi("/api/dogs/public/",{publish:!0,method:"GET"},function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e));switch(t.status){case 200:return this.localUpdateField("publicDog",t.data),this.localUpdateField("publicTeam",t.included.team),t;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async getDogsWithTraining({daysBack:e}){const t=await L.a.fetchApi("/api/dogs/",{publish:!0,method:"GET"},{daysBack:e});switch(t.status){case 200:t&&t.included&&t.included.workoutSummary&&this.setField("workoutSummaryCurrent",t.included.workoutSummary);break;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error",`Henting av feed feilet! ${t.status}: ${t.message}`)}}async loadAllDogs(){const e=await L.a.fetchApi("/api/dogs/",{publish:!0,method:"GET"},{});switch(e.status){case 200:this.localUpdateField("allDogs",e.data);break;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error",`Henting av feed feilet! ${e.status}: ${e.message}`)}}async loadExternalDogs(e=[]){const t=e.filter(e=>!!e&&(!this.findDogByChipId(e)||void 0));if(0===t.length)return!1;const s=await L.a.fetchApi("/api/dogs/external/bychipid",{publish:!0,method:"GET"},{chipIds:t});switch(s.status){case 200:s.data&&this.localUpdateField("externalDogs",s.data);break;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0);break;default:this.updateObjectField("register","errorIcon","fas fa-bomb"),this.updateObjectField("register","error",`Henting av feed feilet! ${s.status}: ${s.message}`)}}removeImageLocal({id:e,name:t}){if(L.a.isArray(this.dog.images)){const e=this.dog.images.findIndex(e=>e.name===t);e>-1&&this.dog.images.splice(e,1)}const s=this.dogs.findIndex(t=>t.id===e);if(s>-1){const e=this.dogs[s].images.findIndex(e=>e.name===t);e>-1&&this.dogs[s].images.splice(e,1)}}removeFileLocal({id:e,name:t}){if(L.a.isArray(this.dog.files)){const e=this.dog.files.findIndex(e=>e.name===t);e>-1&&this.dog.files.splice(e,1)}const s=this.dogs.findIndex(t=>t.id===e);if(s>-1){const e=this.dogs[s].files.findIndex(e=>e.name===t);e>-1&&this.dogs[s].files.splice(e,1)}}removeLinkLocal({id:e,name:t,linkId:s}){if(L.a.isArray(this.dog.links)){let e;e=this.dog.links.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.dog.links.splice(e,1)}const a=this.dogs.findIndex(t=>t.id===e);if(a>-1){let e;e=this.dogs[a].links.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.dogs[a].links.splice(e,1)}}removeAchievementLocal({id:e,name:t,achievementId:s}){if(L.a.isArray(this.dog.achievements)){let e;e=this.dog.achievements.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.dog.achievements.splice(e,1)}const a=this.dogs.findIndex(t=>t.id===e);if(a>-1){let e;e=this.dogs[a].achievements.findIndex(s?e=>e.id===s:e=>e.name===t),e>-1&&this.dogs[a].achievements.splice(e,1)}}removeTeamLocal({id:e,team:t}){if(L.a.isArray(this.dog.teams)){const e=this.dog.teams.findIndex(e=>e===t);e>-1&&this.dog.teams.splice(e,1)}const s=this.dogs.findIndex(t=>t.id===e);if(s>-1&&L.a.isArray(this.dogs[s].teams)){const e=this.dogs[s].teams.findIndex(e=>e===t);e>-1&&this.dogs[s].teams.splice(e,1)}}addTeamLocal({id:e,team:t}){if(L.a.isArray(this.dog.teams)){-1===this.dog.teams.findIndex(e=>e===t)&&this.dog.teams.push(t)}const s=this.dogs.findIndex(t=>t.id===e);if(s>-1){L.a.isArray(this.dogs[s].teams)||(this.dogs[s].teams=[]);-1===this.dogs[s].teams.findIndex(e=>e===t)&&this.dogs[s].teams.push(t)}const a=this.allDogs.findIndex(t=>t.id===e);if(a>-1){L.a.isArray(this.allDogs[a].teams)||(this.allDogs[a].teams=[]);-1===this.allDogs[a].teams.findIndex(e=>e===t)&&this.allDogs[a].teams.push(t)}}removeStatusLocal({id:e,status:t}){if(L.a.isArray(this.dog.statuses)){const e=this.dog.statuses.findIndex(e=>e===t);e>-1&&this.dog.statuses.splice(e,1)}const s=this.dogs.findIndex(t=>t.id===e);if(s>-1&&L.a.isArray(this.dogs[s].statuses)){const e=this.dogs[s].statuses.findIndex(e=>e===t);e>-1&&this.dogs[s].statuses.splice(e,1)}}addStatusLocal({id:e,status:t}){if(L.a.isArray(this.dog.statuses)){-1===this.dog.statuses.findIndex(e=>e===t)&&this.dog.statuses.push(t)}const s=this.dogs.findIndex(t=>t.id===e);if(s>-1){L.a.isArray(this.dogs[s].statuses)||(this.dogs[s].statuses=[]);-1===this.dogs[s].statuses.findIndex(e=>e===t)&&this.dogs[s].statuses.push(t)}}async removeImage({id:e,name:t}){const s=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async removeFile({id:e,name:t}){const s=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{removeFileByName:t});switch(s.status){case 202:return this.removeFileLocal({id:e,name:t}),s;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async removeLink({id:e,name:t,linkId:s}){const a=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{removeLinkByName:t,removeLinkById:s});switch(a.status){case 202:return this.removeLinkLocal({id:e,name:t,linkId:s}),a;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async removeAchievement({id:e,name:t,achievementId:s}){const a=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{removeAchievementByName:t,removeAchievementById:s});switch(a.status){case 202:return this.removeAchievementLocal({id:e,name:t,achievementId:s}),a;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async removeTeam({id:e,team:t}){const s=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{$pull:{teams:t}});switch(s.status){case 202:return this.removeTeamLocal({id:e,team:t}),s;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async addTeam({id:e,team:t}){const s=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{teams:t});switch(s.status){case 202:return this.addTeamLocal({id:e,team:t}),s;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async removeStatus({id:e,status:t}){const s=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{$pull:{statuses:t}});switch(s.status){case 202:return this.removeStatusLocal({id:e,status:t}),s;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async addStatus({id:e,status:t}){const s=await L.a.fetchApi("/api/dogs/"+e,{publish:!0,method:"PATCH"},{statuses:t});switch(s.status){case 202:return this.addStatusLocal({id:e,status:t}),s;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}async getPublicViews(e){const t=await L.a.fetchApi("/api/dogs/summary/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:this.localUpdateField("publicViews",t.data);const{legends:e,data:s}=E.a.getGraphData(t.data);return this.localUpdateField("publicViewsGraphData",s),this.localUpdateField("publicViewsGraphLegend",e),t;case 401:A.a.publish(A.b.LOG_OUT),Object(C.route)("/",!0)}}}).prototype,"dog",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=n(r.prototype,"dogs",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=n(r.prototype,"publicDog",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=n(r.prototype,"publicTeam",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=n(r.prototype,"allDogs",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=n(r.prototype,"externalDogs",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=n(r.prototype,"workoutSummary",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(r.prototype,"workoutSummaryCurrentSeason",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=n(r.prototype,"workoutSummaryPreviousSeason",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g=n(r.prototype,"workoutSummaryCurrent",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(r.prototype,"graphFitness",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(r.prototype,"graphFatigue",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(r.prototype,"graphForm",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(r.prototype,"vaccineStatuses",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(r.prototype,"vaccineLogStatuses",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(r.prototype,"historyStatuses",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(r.prototype,"publicViews",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=n(r.prototype,"publicViewsGraphData",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(r.prototype,"publicViewsGraphLegend",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(r.prototype,"currentTeam",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.a.get("currentTeam")}}),D=n(r.prototype,"daysBack",[I.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.a.get("dogWorkoutDaysBack")||7}}),n(r.prototype,"updateObjectField",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"updateObjectField"),r.prototype),n(r.prototype,"cleanupMemory",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"cleanupMemory"),r.prototype),n(r.prototype,"setCurrentTeam",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"setCurrentTeam"),r.prototype),n(r.prototype,"setDaysBack",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"setDaysBack"),r.prototype),n(r.prototype,"findWorkoutSummary",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findWorkoutSummary"),r.prototype),n(r.prototype,"findWorkoutSummaryCurrenSeason",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findWorkoutSummaryCurrenSeason"),r.prototype),n(r.prototype,"findWorkoutSummaryPreviousSeason",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findWorkoutSummaryPreviousSeason"),r.prototype),n(r.prototype,"findDogposition",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDogposition"),r.prototype),n(r.prototype,"findCurrentWorkoutSummary",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findCurrentWorkoutSummary"),r.prototype),n(r.prototype,"findDog",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDog"),r.prototype),n(r.prototype,"findDogByChipId",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDogByChipId"),r.prototype),n(r.prototype,"findVaccineStatuses",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findVaccineStatuses"),r.prototype),n(r.prototype,"findVaccineLogStatuses",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findVaccineLogStatuses"),r.prototype),n(r.prototype,"findHistoryStatuses",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findHistoryStatuses"),r.prototype),n(r.prototype,"findDogsByGender",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDogsByGender"),r.prototype),n(r.prototype,"findChildren",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findChildren"),r.prototype),n(r.prototype,"findSiblings",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findSiblings"),r.prototype),n(r.prototype,"findDogsByStatus",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDogsByStatus"),r.prototype),n(r.prototype,"findDogsWithStatus",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDogsWithStatus"),r.prototype),n(r.prototype,"findDogsWithNeeds",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"findDogsWithNeeds"),r.prototype),n(r.prototype,"setField",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"setField"),r.prototype),n(r.prototype,"localUpdateField",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"localUpdateField"),r.prototype),n(r.prototype,"plotFormGraph",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"plotFormGraph"),r.prototype),n(r.prototype,"removeImageLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"removeImageLocal"),r.prototype),n(r.prototype,"removeFileLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"removeFileLocal"),r.prototype),n(r.prototype,"removeLinkLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"removeLinkLocal"),r.prototype),n(r.prototype,"removeAchievementLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"removeAchievementLocal"),r.prototype),n(r.prototype,"removeTeamLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"removeTeamLocal"),r.prototype),n(r.prototype,"addTeamLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"addTeamLocal"),r.prototype),n(r.prototype,"removeStatusLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"removeStatusLocal"),r.prototype),n(r.prototype,"addStatusLocal",[I.c],Object.getOwnPropertyDescriptor(r.prototype,"addStatusLocal"),r.prototype),r);t.a=F},ugae:function(e,t,s){"use strict";(function(e){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function i(e,t){(t=t||{}).logLevel=t.logLevel||"log",console[t.logLevel](e),t.msg=e,console.log(t)}function o(e,t){"object"==typeof t?e+=": "+JSON.stringify(t):"string"==typeof t&&(e+=": "+t),i(e,{logLevel:"error"})}var n,r=s("hosL"),l=s("Y3FI"),c=s("ve3R"),d=s("/eY4"),h=s("OhSV"),u=s("go65"),p=s("Utv1"),m=s("ZOvn"),b=s("X9Km"),f=s("1/Zs"),g=s("Bdl4"),O=s("zPrn"),v=s("DVAb"),y=s("ufdA"),j=s("8ofI"),w=s("n9om"),k=s("zinB"),x=s("9vyp"),S=s("TL9d"),_=s("2kBs"),T=s("fKAb"),D=s("i3JH"),I=s("uPxS"),P=s("w2du"),L=s("lDfB"),C=s("GXXz"),A=s("iN+a"),E=s("Z67O"),F=s("qXS6"),M=s("iqr7"),R=s("C62u"),z=s("SWij"),U=s("1oA7"),N=s("nopH"),$=s("z116"),W=s("RxXl"),B=s("Cjoz"),H=s("Z8Zw"),V=s("oX04"),G=s("QyV/"),q=s("qinx"),K=s("c5+e"),Z=s("gbHB"),Y=s("B+py"),X=s("Zuum"),J=s("hiZk"),Q=s("t8NN"),ee=s("Dv8B"),te=s("pjEN"),se=s("QHIy"),ae=s("p/0L"),ie=s("PBOB"),oe=s("cadc"),ne=s("4Xgg"),re=s("dGfI"),le=s("ZC4H"),ce=s("7aB5"),de=s("JSc/"),he=s("4Wk2"),ue=s("3br2"),pe=s("EE/7"),me=s("laT9"),be=s("gLRN"),fe=s("yqlB"),ge=s("WLRO"),Oe=s("jsqw"),ve=s("EzH7"),ye=s("5W+F"),je=s("vAO7"),we=s("B813"),ke=s("Sc7V"),xe=s("Krsu"),Se=s("TjM3"),_e=s("TQac"),Te=s("f0JH"),De=s("1pd0"),Ie=s("k91x"),Pe=s("0N6V"),Le=s("M47B"),Ce=s("Nanz"),Ae=s("BmBE"),Ee=s("3sR/"),Fe=s("xsrU"),Me=s("vMwv"),Re=s("OMjx"),ze=s("ywMb"),Ue=s("fSHa"),Ne=s("DTs7"),$e=s("oISW"),We=s("f4kV"),Be=(s("6POc"),s("na1C")),He=s("9jOP"),Ve=s("NZmg"),Ge=s("mxER"),qe=s("tLKz"),Ke=s("qwZb"),Ze=s("QQvA"),Ye=s("+CFY"),Xe=s("gWxU"),Je=s("N9Gb"),Qe=s("aKPM"),et=s("XUN7"),tt=s("cA+J"),st=s("WPhI"),at=s("Kbqr"),it=s("88ZV"),ot=s("LOkn"),nt=s("YOUI"),rt=s("foAh"),lt=s("sSOa"),ct=s("s5jS"),dt=s("0UaJ");const ht={no:F,de:M,en:R,es:z,fr:U,ru:N,se:$,default:R},ut=Object(c.a)();Math.easeInOutQuad=function(e,t,s,a){return(e/=a/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t};class pt extends r.Component{constructor(){super(),this.state={errored:!1,errorsReported:0}}componentDidCatch(e){const{errorsReported:t}=this.state;if(t<10){const s={timestamp:Math.floor((new Date).getTime()/1e3),error:{name:e.name,message:e.message,stack:e.stack},location:window.location};this.setState({errored:!0,errorsReported:t+1}),p.a.fetchApi("/api/errors/",{method:"POST"},s)}}render(e,t){return t.errored?Object(r.h)("div",{class:"container-fluid h-100"},Object(r.h)("div",{class:"row h-100"},Object(r.h)("div",{class:"col-12 text-center my-auto"},Object(r.h)("div",{class:"display-1 text-muted"},Object(r.h)("i",{class:"fas fa-bomb"})),Object(r.h)("h5",null,"Something went badly wrong..."),Object(r.h)("p",null,"Error is reported automatically."),Object(r.h)("a",{class:"mt-3 btn btn-lg btn-primary",href:"/"},"Go to the frontpage")))):e.children}}let mt=Object(d.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.handleRoute=e=>{const{scrolledDown:t}=this.state;this.setState({currentUrl:e.url}),f.a.setPrevPath(e.previous),f.a.setPrevScroll(t),f.a.setPath(e.url),this.cleanupMemory(e.url,e.previous);const{router:s}=e,{props:a={}}=s,{history:i={}}=a,{action:o={}}=i;this.appContainer&&(e.url.match(/skipScroll/)||this.appContainer.scrollTo({top:0}))},this.cleanupMemory=(e,t)=>{const s=new RegExp("/workouts"),a=new RegExp("/tracks"),i=new RegExp("/teams"),o=new RegExp("/admin");s.test(t)&&!s.test(e)?(w.a.cleanupMemory(),D.a.cleanupMemory(),I.a.cleanupMemory()):a.test(t)&&!a.test(e)?x.a.cleanupMemory():i.test(t)&&!i.test(e)?j.a.cleanupMemory():o.test(t)&&!o.test(e)&&g.a.cleanupMemory()},this.touchStart=e=>{this.setState({startX:e.touches[0].clientX,startY:e.touches[0].clientY})},this.touchEnd=e=>{this.setState({startY:void 0,startX:void 0,readyToRefresh:!1});const{swipeRight:t=(()=>{}),swipeLeft:s=(()=>{}),swipeUp:a=(()=>{}),swipeDown:i=(()=>{}),swipeRightIndicate:o=(()=>{}),swipeLeftIndicate:n=(()=>{}),swipeUpIndicate:r=(()=>{}),swipeDownIndicate:l=(()=>{})}=f.a;o(e,{startY:0,startX:0,xUp:0,yUp:0,xDiff:0,yDiff:0,absXDiff:0,absYDiff:0}),n(e,{startY:0,startX:0,xUp:0,yUp:0,xDiff:0,yDiff:0,absXDiff:0,absYDiff:0}),r(e,{startY:0,startX:0,xUp:0,yUp:0,xDiff:0,yDiff:0,absXDiff:0,absYDiff:0}),l(e,{startY:0,startX:0,xUp:0,yUp:0,xDiff:0,yDiff:0,absXDiff:0,absYDiff:0})},this.touchMove=e=>{const{startY:t,startX:s,refreshing:a}=this.state,{swipeRight:i=(()=>{}),swipeLeft:o=(()=>{}),swipeUp:n=(()=>{}),swipeDown:r=(()=>{}),swipeRightIndicate:l=(()=>{}),swipeLeftIndicate:c=(()=>{}),swipeUpIndicate:d=(()=>{}),swipeDownIndicate:h=(()=>{})}=f.a,u=e.touches[0].clientX,p=e.touches[0].clientY,m=s-u,b=t-p,g=Math.abs(m),O=Math.abs(b);if(g>O)m>0?(g>200&&o(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O}),g>30&&c(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O})):(g>200&&i(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O}),g>30&&l(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O}));else if(b>0)O>200&&n(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O}),g>30&&d(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O});else{O>200&&r(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O}),g>30&&h(e,{startY:t,startX:s,xUp:u,yUp:p,xDiff:m,yDiff:b,absXDiff:g,absYDiff:O});if(!e.target.closest(".skipRefresh")){const{scrollTop:e}=this.appContainer;0===e&&O>130&&!a?(this.setState({refreshing:!0,readyToRefresh:!1}),this.refreshPage()):0===e&&O>30&&!a&&this.setState({readyToRefresh:!0})}}},this.scrollToTop=()=>{this.appContainer&&function(e,t=0){e.scrollTop=t}(this.appContainer)},this.showReportBug=()=>{const{showBugReport:e}=this.state;this.setState({showBugReport:!e})},this.reportBug=async function(){const{bug:e={}}=t.state;if(!e.text)return t.setState({showBugReport:!1}),"";const{currentUrl:s,path:a}=t.state,{user:i}=v.a,{language:o="en",isCordova:n}=f.a,{language:r=o}=i,{cordovaActiveTrackingParams:l,cordovaAuthorizationStatus:c,powerSaveStatus:d,providerState:h,isRunning:u,totalDistance:p,geoLocationState:m,currentSpeed:b,totalTime:g}=w.a;await f.a.sendEmailPlain({to:"post@themusher.no",from:i.email,subject:"Bugreport: "+s,body:`Bugreport!\n\n${e.text.replace(/\n/g,"<br />\n")}\n\n<hr />\nDEBUG INFO:\n<hr />\n\n<xmp>\ncurrentUrl: ${s}<br />\npath: ${a}<br />\nlocalLanguage: ${o}<br />\nisCordova: ${n}<br />\nlanguage: ${r}<br />\nuser.id: ${i.id}<br />\nuser.email: ${i.email}<br/>\nuser.firstname: ${i.firstname}<br/>\nuser.lastname: ${i.lastname}<br/>\nuser.cellphone: ${i.cellphone}<br/>\nuser.facebook: ${i.facebook}<br/>\nuser.instagram: ${i.instagram}<br/>\nuser.isVeterinary: ${i.isVeterinary}<br/>\nuser.twoFactorLogin: ${i.twoFactorLogin}<br/>\n</xmp>\n<hr />\n<xmp>cordovaAuthorizationStatus: ${JSON.stringify(c,null,4)}</xmp>\n<xmp>cordovaActiveTrackingParams: ${JSON.stringify(l,null,4)}</xmp>\n<xmp>geoLocationState: ${JSON.stringify(m,null,4)}</xmp>\n<xmp>powerSaveStatus: ${JSON.stringify(d,null,4)}</xmp>\n<xmp>providerState: ${JSON.stringify(h,null,4)}</xmp>\n<xmp>isRunning: ${JSON.stringify(u,null,4)}</xmp>\n<xmp>totalDistance: ${JSON.stringify(p,null,4)}</xmp>\n<xmp>currentSpeed: ${JSON.stringify(b,null,4)}</xmp>\n<xmp>totalTime: ${JSON.stringify(g,null,4)}</xmp>\n\n            `}),t.setState({showBugReport:!1,bug:{text:""}})},this.setRefreshTime=()=>{const e=(new Date).getTime();this.setState({refreshTime:e})},this.initIos=async function(){t.firebasePlugin.onApnsTokenReceived((async function(e){i("APNS token received: "+e),await v.a.setFirebase({field:"firebase.apnsToken",value:e})}),e=>{o("Failed to receive APNS token",e)}),t.firebasePlugin.registerInstallationIdChangeListener(e=>{i("Installation ID changed - new ID: "+e)})},this.initAndroid=async function(){const e={id:"io.cordova.litt.no.themusher",name:"The Musher",sound:"blackberry",vibration:[300,200,300],light:!0,lightColor:"0xFF0000FF",importance:4,badge:!0,visibility:1};t.firebasePlugin.createChannel(e,(async function(){i("Created custom channel: "+e.id),await v.a.setFirebase({field:"firebase.customChannelId",value:e.id}),t.firebasePlugin.listChannels(e=>{if(void 0!==e)for(let t=0;t<e.length;t+=1)i("Channel id="+e[t].id+"; name="+e[t].name)},e=>{o("List channels error: "+e)})}),e=>{o("Create channel error",e)})},this.handleDataMessage=e=>{i("Data message received: "+JSON.stringify(e))},this.handleNotificationMessage=async function(e){let t,s;await v.a.getNotifications(),await E.a.getUnReadMessages(),e.title?t=e.title:e.notification&&e.notification.title?t=e.notification.title:e.aps&&e.aps.alert&&e.aps.alert.title&&(t=e.aps.alert.title),e.body?s=e.body:e.notification&&e.notification.body?s=e.notification.body:e.aps&&e.aps.alert&&e.aps.alert.body&&(s=e.aps.alert.body);let a="Notification message received";e.tap&&(a+=" (tapped in "+e.tap+")",e.url&&Object(l.route)(e.url)),t&&(a+="; title="+t),s&&(a+="; body="+s),a+=": "+JSON.stringify(e),i(a)},this.checkAutoInit=()=>{this.firebasePlugin.isAutoInitEnabled((function(e){i("Auto init is "+(e?"enabled":"disabled"))}),(function(e){o("Failed to check auto init",e)}))},this.enableAutoInit=()=>{this.firebasePlugin.setAutoInitEnabled(!0,()=>{i("Enabled auto init"),this.checkAutoInit()},e=>{o("Failed to enable auto init",e)})},this.disableAutoInit=()=>{this.firebasePlugin.setAutoInitEnabled(!1,()=>{i("Disabled auto init"),this.checkAutoInit()},e=>{o("Failed to disable auto init",e)})},this.getID=()=>{this.firebasePlugin.getId((async function(e){i("Got FCM ID: "+e),await v.a.setFirebase({field:"firebase.fcmId",value:e})}),e=>{o("Failed to get FCM ID",e)})},this.getToken=()=>{this.firebasePlugin.getToken((async function(e){i("Got FCM token: "+e),await v.a.setFirebase({field:"firebase.fcmToken",value:e})}),e=>{o("Failed to get FCM token",e)})},this.checkNotificationPermission=async function(e){t.firebasePlugin.hasPermission((async function(s){s?(i("Remote notifications permission granted"),await v.a.setFirebase({field:"firebase.hasPermission",value:!0}),t.getToken()):e?o("Notifications won't be shown as permission is denied"):(i("Requesting remote notifications permission"),await v.a.setFirebase({field:"firebase.hasPermission",value:!1}),t.firebasePlugin.grantPermission(t.checkNotificationPermission(!0)))}))},this.setupPushNotifications=()=>{this.firebasePlugin=window.FirebasePlugin,this.firebasePlugin&&(this.firebasePlugin.onMessageReceived(e=>{try{console.log("onMessageReceived"),console.dir(e),"notification"===e.messageType?this.handleNotificationMessage(e):this.handleDataMessage(e)}catch(e){o("Exception in onMessageReceived callback: "+e.message)}},e=>{o("Failed receiving FirebasePlugin message",e)}),this.firebasePlugin.onTokenRefresh((async function(e){i("Token refreshed: "+e),await v.a.setFirebase({field:"firebase.fcmToken",value:e})}),e=>{o("Failed to refresh token",e)}),this.firebasePlugin.registerAuthStateChangeListener(e=>{i("Auth state changed: User signed "+(e?"in":"out"))}),this.firebasePlugin.hasPermission(e=>{e?(i("Remote notifications permission granted"),this.getToken()):(i("Requesting remote notifications permission"),this.firebasePlugin.grantPermission(this.checkNotificationPermission(!0)))}),this.checkNotificationPermission(!1),this.checkAutoInit(),i("window.cordova.platformId",window.cordova.platformId),"android"===window.cordova.platformId?this.initAndroid():"ios"===window.cordova.platformId&&this.initIos())},this.ensureCordova=async function(){const{checkCordovaCounter:e,jwtToken:s,currentUrl:a}=t.state,{cordovaIsReady:i}=f.a;if(a.match(/\/race/)||a.match(/\/veterinary/)||a.match(/\/public/)||!s)return!1;if(console.log("ensureCordova",{checkCordovaCounter:e,cordovaIsReady:i}),i)return!0;if(e>10)return!1;f.a.checkCordova();const{isCordova:o}=f.a;o&&window.BackgroundGeolocation?(f.a.cordovaSetToReady(),t.setupCordova(),t.setupPushNotifications()):(clearTimeout(t.cordovaTimer),t.cordovaTimer=setTimeout(()=>t.ensureCordova(),2e3),t.setState({checkCordovaCounter:e+1}))},this.setupCordova=async function(){await w.a.cordovaStartPlugin(),await w.a.cordovaGetState(),await w.a.cordovaProviderState(),await w.a.cordovaIsPowerSaveMode(),await v.a.cordovaGetCurrentPosition()},this.onPause=()=>{},this.onResume=()=>{},this.onScroll=e=>{const{currentUrl:t}=this.state,s=e.target,{scrolledDown:a}=this.state;s&&(s.scrollTop>300&&!a?this.setState({scrolledDown:s.scrollTop}):0===s.scrollTop&&this.setState({scrolledDown:0}));const{isAtBottom:i}=this.state;if(s.scrollTop+s.clientHeight+s.clientHeight>=s.scrollHeight){if(!i){this.setState({isAtBottom:!0});const e=/^\/stories\/tag\/.+/,s=/^\/home-wall/,a=/^\/home-workout/,i=/^\/teams\/connect/,o=/^\/stories\/team\/.+/,n=/^\/teams\/workouts\/team.+/;switch(!0){case/^\/$/.test(t):case e.test(t):case s.test(t):return this.loadMoreStories();case a.test(t):return this.loadMorePublicWorkouts();case i.test(t):return this.loadMoreTeams();case o.test(t):return this.loadMoreStories();case n.test(t):return this.loadMorePublicWorkouts()}}}else i&&this.setState({isAtBottom:!1})},this.loadMoreStories=async function(){await L.a.loadMore()},this.loadMoreTeams=async function(){await j.a.loadMore()},this.loadMorePublicWorkouts=async function(){await j.a.loadMore()},this.checkShareApi=()=>{f.a.checkShareApi()},this.stores={appState:f.a,adminStore:g.a,waypointStore:O.a,userStore:v.a,dogStore:y.a,teamStore:j.a,workoutStore:w.a,workoutPlanStore:k.a,trackStore:x.a,newsStore:S.a,adStore:_.a,applicationStore:T.a,stravaActivityStore:D.a,garminActivityDetailsStore:I.a,raceStore:P.a,storyStore:L.a,paypalStore:C.a,vaccineLogStore:A.a,messageStore:E.a,history:ut};const s=window.location.hash.replace(/^#/,"");this.state={jwtToken:p.a.getJwtToken(),refreshTime:(new Date).getTime(),currentUrl:s,checkCordovaCounter:0,bug:{}},this.subscriptions();const{darkmode:a}=f.a;p.a.toggleDarkModeClasses(a)}subscriptions(){var e=this;b.a.subscribe(b.b.LOG_OUT,()=>{this.setState({jwtToken:void 0}),p.a.removeUserEmail(),p.a.removeJwtToken()}),b.a.subscribe(b.b.JWT_TOKEN_CHANGED,(async function(t){e.setState({jwtToken:t}),Object(l.route)("/",!0)}))}async loadAll(){f.a.getFingerprint();const{darkmode:e}=f.a;await v.a.getInfo(!1,!0,!1,"en",e?1:0)}doneRefreshing(){clearTimeout(this.refreshTimer),this.refreshTimer=setTimeout(()=>this.setState({startY:void 0,refreshing:!1,readyToRefresh:!1}),1e3)}refreshPage(){const{currentUrl:e}=this.state;switch(this.setRefreshTime(e),e){case"/":case"/todo":case"/todo/":case"/feed":case"/feed/":case"/admin/":return this.refreshFrontpage();case"/workouts":case"/workouts/":return this.refreshWorkouts();case"/dogs":case"/dogs/":return this.refreshDogs();case"/teams":case"/teams/":return this.refreshTeams();case"/tracks":case"/tracks/":return this.refreshTracks();default:return this.doneRefreshing()}}async refreshFrontpage(){this.doneRefreshing()}async refreshWorkouts(){this.doneRefreshing()}async refreshDogs(){this.doneRefreshing()}async refreshTeams(){this.doneRefreshing()}async refreshTracks(){this.doneRefreshing()}componentWillMount(){const e=p.a.collectPropsFromElement(window.document.body).apiServer||`${window.location.protocol}//${window.location.host}`;this.setState({checkCordovaCounter:0}),p.a.setApiServer(e),this.loadAll()}componentDidMount(){this.ensureCordova(),this.checkShareApi(),document.addEventListener("pause",this.onPause,!1)}render(){const{refreshing:t,jwtToken:s,readyToRefresh:i,currentUrl:o,refreshTime:n,scrolledDown:c,showBugReport:d,bug:p={}}=this.state,{user:b}=v.a,{language:g="en"}=f.a,{language:O=g,toggleFeature:y={}}=b,{qpaws:j}=y,w=ht[O||"default"];return o.match(/^\/race/)?Object(r.h)(h.a,{definition:w},Object(r.h)(pt,null,Object(r.h)("div",{id:"app",style:`overflow-x: auto; overflow-y: auto; height: 100%; ${i?"padding-top: 50px;":""} ${t?"padding-top: 70px;":""} transition: .2s; overscroll-behavior: contain;`,ref:e=>this.appContainer=e},Object(r.h)(l.Router,{history:ut},Object(r.h)(Q.a,a({stores:this.stores},this.props,{path:"/race",tag:"race"})),Object(r.h)(te.a,a({stores:this.stores},this.props,{path:"/race/support",tag:"racesupport"})),Object(r.h)(se.a,a({stores:this.stores},this.props,{path:"/race/news",tag:"news"})),Object(r.h)(se.a,a({stores:this.stores},this.props,{path:"/race/news/:newsid",tag:"news"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/news",section:"news"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/rules",section:"rules"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/veterinaryInfo",section:"veterinaryInfo"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/checkpoints",section:"checkpoints"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/trailDescription",section:"trailDescription"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/program",section:"program"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/prices",section:"prices"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/classes",section:"classes"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/signup",section:"signup"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/signup/newUser",section:"signup",subsection:"newUser"})),Object(r.h)(ae.a,a({stores:this.stores},this.props,{path:"/race/:raceid/signup/forgotPassword",section:"signup",subsection:"forgotPassword"})),Object(r.h)(ee.a,a({stores:this.stores},this.props,{path:"/race/new/edit",createNew:!0})),Object(r.h)(ee.a,a({stores:this.stores},this.props,{path:"/race/:raceid/edit"})),Object(r.h)(ie.a,a({stores:this.stores},this.props,{path:"/race/:raceid/mushers"})),Object(r.h)(oe.a,a({stores:this.stores},this.props,{path:"/race/:raceid/results"})),Object(r.h)(ne.a,a({stores:this.stores},this.props,{path:"/race/:raceid/resultsMain"})),Object(r.h)(re.a,a({stores:this.stores},this.props,{path:"/race/:raceid/media"})),Object(r.h)(le.a,a({stores:this.stores},this.props,{path:"/race/:raceid/tracking"})),Object(r.h)(X.a,a({stores:this.stores},this.props,{path:"/public"})))))):o.match(/^\/grant-access/)?Object(r.h)(h.a,{definition:w},Object(r.h)(pt,null,Object(r.h)("div",{id:"app",style:`overflow-x: auto; overflow-y: auto; height: 100%; ${i?"padding-top: 50px;":""} ${t?"padding-top: 70px;":""} transition: .3s; overscroll-behavior: contain;`,ref:e=>this.appContainer=e},Object(r.h)(W.a,null),Object(r.h)(B.a,null),Object(r.h)(l.Router,{history:ut},Object(r.h)(ce.a,a({stores:this.stores},this.props,{path:"/grant-access",key:n})),Object(r.h)(ce.a,a({stores:this.stores},this.props,{path:"/grant-access/newUser",subsection:"newUser",key:n})),Object(r.h)(ce.a,a({stores:this.stores},this.props,{path:"/grant-access/forgotPassword",subsection:"forgotPassword",key:n})))))):o.match(/^\/public/)?Object(r.h)(h.a,{definition:w},Object(r.h)(pt,null,Object(r.h)("div",{id:"app",style:`overflow-x: auto; overflow-y: auto; height: 100%; ${i?"padding-top: 50px;":""} ${t?"padding-top: 70px;":""} transition: .3s; overscroll-behavior: contain;`,ref:e=>this.appContainer=e,onScroll:this.onScroll},Object(r.h)(l.Router,{history:ut},Object(r.h)(J.a,a({stores:this.stores},this.props,{path:"/public/map/:workout"})))))):s?Object(r.h)(h.a,{definition:w},Object(r.h)(pt,null,j&&Object(r.h)(e,null,Object(r.h)("link",{rel:"stylesheet",type:"text/css",href:"./css/qpaws.css"})),Object(r.h)("div",{id:"app",style:`overflow-x: auto; overflow-y: auto; height: 100vh; ${i?"padding-top: 50px;":""} ${t?"padding-top: 70px;":""} transition: .3s; overscroll-behavior: contain;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,onScroll:this.onScroll,ref:e=>this.appContainer=e},Object(r.h)(W.a,{scrolledDown:!1}),Object(r.h)(B.a,{scrolledDown:!1}),i&&Object(r.h)(V.a,{scrolledDown:!1}),t&&Object(r.h)(H.a,{scrolledDown:!1}),Object(r.h)(G.a,{stores:this.stores,scrolledDown:!1}),Object(r.h)(l.Router,{onChange:this.handleRoute,history:ut},Object(r.h)(ue.a,{stores:this.stores,scrolledDown:!1,path:"/",key:n,viewmenu:"wall"}),Object(r.h)(pe.a,{stores:this.stores,scrolledDown:!1,path:"/feed",key:n}),Object(r.h)(pe.a,{stores:this.stores,scrolledDown:!1,path:"/feed/:month/:year",key:n}),Object(r.h)(pe.a,{stores:this.stores,scrolledDown:!1,path:"/feed/:month/:year/skipScroll",key:n}),Object(r.h)(me.a,{stores:this.stores,scrolledDown:!1,path:"/todo",key:n}),Object(r.h)(be.a,{stores:this.stores,scrolledDown:!1,path:"/admin",key:n}),Object(r.h)(ue.a,{stores:this.stores,scrolledDown:!1,path:"/home-wall",key:n,viewmenu:"wall"}),Object(r.h)(ue.a,{stores:this.stores,scrolledDown:!1,path:"/home-workout",key:n,viewmenu:"workout"}),Object(r.h)(ue.a,{stores:this.stores,scrolledDown:!1,path:"/home-totals",key:n,viewmenu:"totals"}),Object(r.h)(ue.a,{stores:this.stores,scrolledDown:!1,path:"/teams/workouts/team/:teamid",key:n,viewmenu:"workout"}),Object(r.h)(fe.a,{stores:this.stores,scrolledDown:!1,path:"/settings",key:n}),Object(r.h)(ge.a,{stores:this.stores,scrolledDown:!1,path:"/settings/general",key:n}),Object(r.h)(Oe.a,{stores:this.stores,scrolledDown:!1,path:"/settings/user",key:n}),Object(r.h)(ve.a,{stores:this.stores,scrolledDown:!1,path:"/settings/team",key:n}),Object(r.h)(ye.a,{stores:this.stores,scrolledDown:!1,path:"/settings/team/:teamid",key:n}),Object(r.h)(nt.a,{stores:this.stores,scrolledDown:!1,path:"/inbox",key:n}),Object(r.h)(rt.a,{stores:this.stores,scrolledDown:!1,path:"/inbox/new",key:n}),Object(r.h)(lt.a,{stores:this.stores,scrolledDown:!1,path:"/inbox/:fromuser",key:n}),Object(r.h)(je.a,{stores:this.stores,scrolledDown:!1,path:"/stories",key:n}),Object(r.h)(je.a,{stores:this.stores,scrolledDown:!1,path:"/stories/teams/public/:teamid",key:n}),Object(r.h)(je.a,{stores:this.stores,scrolledDown:!1,path:"/stories/team/:teamid",key:n}),Object(r.h)(je.a,{stores:this.stores,scrolledDown:!1,path:"/stories/tag/:hashtag",key:n}),Object(r.h)(we.a,{stores:this.stores,scrolledDown:!1,path:"/stories/:story",key:n}),Object(r.h)(he.a,{stores:this.stores,scrolledDown:!1,path:"/app-races",key:n}),Object(r.h)(he.a,{stores:this.stores,scrolledDown:!1,path:"/app-races/:raceid",key:n}),Object(r.h)(ke.a,{stores:this.stores,scrolledDown:!1,path:"/users/",user:"me",key:n}),Object(r.h)(xe.a,{stores:this.stores,scrolledDown:!1,path:"/users/settings",key:n}),Object(r.h)(Se.a,{stores:this.stores,scrolledDown:!1,path:"/users/subscription",key:n}),Object(r.h)(_e.a,{stores:this.stores,scrolledDown:!1,path:"/users/integrations",key:n}),Object(r.h)(Te.a,{stores:this.stores,scrolledDown:!1,path:"/users/edit",key:n}),Object(r.h)(De.a,{stores:this.stores,scrolledDown:!1,path:"/users/edit-password",key:n}),Object(r.h)(Ie.a,{stores:this.stores,scrolledDown:!1,path:"/users/connect",key:n}),Object(r.h)(Pe.a,{stores:this.stores,scrolledDown:!1,path:"/users/notifications",key:n}),Object(r.h)(ke.a,{stores:this.stores,scrolledDown:!1,path:"/users/:user",key:n}),Object(r.h)(ke.a,{stores:this.stores,scrolledDown:!1,path:"/link/verify/:verifyEmailToken",key:n}),Object(r.h)(Le.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/",key:n}),Object(r.h)(Le.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/calendar/:month/:year",key:n}),Object(r.h)(Le.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/calendar/:month/:year/skipScroll",key:n}),Object(r.h)(Ce.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/public/:dogid",key:n}),Object(r.h)(Ae.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/list",key:n}),Object(r.h)(Fe.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/feed",key:n}),Object(r.h)(Fe.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/feed/:month/:year",key:n}),Object(r.h)(Fe.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/feed/:month/:year/skipScroll",key:n}),Object(r.h)(Ee.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/todo",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog",key:n}),Object(r.h)(Re.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/edit/:dog",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog/:month",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog/:month/:year",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog/:month/:year/skipScroll",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog/history/:month",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog/history/:month/:year",key:n}),Object(r.h)(Me.a,{stores:this.stores,scrolledDown:!1,path:"/dogs/:dog/history/:month/:year/skipScroll",key:n}),Object(r.h)(ze.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/",key:n}),Object(r.h)(Ve.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/tracking/",key:n}),Object(r.h)(Ve.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/tracking/:workoutid",key:n}),Object(r.h)(ze.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/:month/:year",key:n}),Object(r.h)(ze.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/:month/:year/skipScroll",key:n}),Object(r.h)(Ue.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/list",key:n}),Object(r.h)(ze.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/month/:month",key:n}),Object(r.h)(ze.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/month/:month/:year",key:n}),Object(r.h)(ze.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/month/:month/:year/skipScroll",key:n}),Object(r.h)(Be.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/week/:week",key:n}),Object(r.h)(Be.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/week/:week/:year",key:n}),Object(r.h)(Be.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/week/:week/:year/skipScroll",key:n}),Object(r.h)(He.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/plan",key:n}),Object(r.h)(He.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/plan/:year",key:n}),Object(r.h)(He.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/plan/:year/skipScroll",key:n}),Object(r.h)(Ne.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/:workout",key:n}),Object(r.h)($e.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/public/:workout",key:n}),Object(r.h)(We.a,{stores:this.stores,scrolledDown:!1,path:"/workouts/edit/:workout",key:n}),Object(r.h)(Ge.a,{stores:this.stores,scrolledDown:!1,path:"/tracks/",key:n}),Object(r.h)(qe.a,{stores:this.stores,scrolledDown:!1,path:"/tracks/public",key:n}),Object(r.h)(Ke.a,{stores:this.stores,scrolledDown:!1,path:"/tracks/:track",key:n}),Object(r.h)(Ke.a,{stores:this.stores,scrolledDown:!1,path:"/tracks/:track/:isPublic",key:n}),Object(r.h)(Ze.a,{stores:this.stores,scrolledDown:!1,path:"/tracks/edit/:track",key:n}),Object(r.h)(Ye.a,{stores:this.stores,scrolledDown:!1,path:"/teams/public",key:n}),Object(r.h)(Xe.a,{stores:this.stores,scrolledDown:!1,path:"/teams/public/:teamid",key:n}),Object(r.h)(Je.a,{stores:this.stores,scrolledDown:!1,path:"/teams/",key:n}),Object(r.h)(Qe.a,{stores:this.stores,scrolledDown:!1,path:"/teams/:team",key:n}),Object(r.h)(Qe.a,{stores:this.stores,scrolledDown:!1,path:"/teams/:team/:month",key:n}),Object(r.h)(Qe.a,{stores:this.stores,scrolledDown:!1,path:"/teams/:team/:month/:year",key:n}),Object(r.h)(Qe.a,{stores:this.stores,scrolledDown:!1,path:"/teams/:team/:month/:year/skipScroll",key:n}),Object(r.h)(et.a,{stores:this.stores,scrolledDown:!1,path:"/teams/edit/:team",key:n}),Object(r.h)(tt.a,{stores:this.stores,scrolledDown:!1,path:"/teams/addmember/:team",key:n}),Object(r.h)(st.a,{stores:this.stores,scrolledDown:!1,path:"/teams/connect/",key:n}),Object(r.h)(at.a,{stores:this.stores,scrolledDown:!1,path:"/howto",tag:"howto",key:n}),Object(r.h)(at.a,{stores:this.stores,scrolledDown:!1,path:"/news",tag:"news",key:n}),Object(r.h)(ot.a,{stores:this.stores,scrolledDown:!1,path:"/news/edit/new",createNew:!0,key:n}),Object(r.h)(ot.a,{stores:this.stores,scrolledDown:!1,path:"/news/edit/:id",key:n}),Object(r.h)(it.a,{stores:this.stores,scrolledDown:!1,path:"/news/:id",key:n}),Object(r.h)(de.a,a({stores:this.stores,scrolledDown:!1},this.props,{path:"/veterinary",key:n})),Object(r.h)(ct.a,{stores:this.stores,scrolledDown:!1,path:"/search/:search",key:n}),Object(r.h)(dt.a,{stores:this.stores,scrolledDown:!1,path:"/logout/",key:n})),Object(r.h)(q.a,{stores:this.stores,scrolledDown:!1,key:o}),c>300&&Object(r.h)(e,null,Object(r.h)("span",{class:"fixed-bottom text-primary",style:"bottom: 60px; left: auto; right: 12px; width: 33px; font-size: 2.5em; z-index: 10;"},Object(r.h)("i",{class:"fas fa-arrow-circle-up",onClick:this.scrollToTop})),Object(r.h)("span",{class:"fixed-bottom",style:"bottom: 60px; left: 5px; width: 33px; font-size: 1.5em; z-index: 10;"},Object(r.h)("i",{class:"fas fa-bug text-muted",onClick:this.showReportBug}))),d&&Object(r.h)(e,null,Object(r.h)("div",{class:"fixed-bottom bg-light",style:"bottom: 60px;"},Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("label",{class:"",for:"bugreport"},Object(r.h)("i",{class:"fas fa-bug text-muted"})," ",Object(r.h)(h.c,{id:"home.report-bug"},"Rapportere feil")),Object(r.h)(h.b,null,Object(r.h)("textarea",{id:"bugreport",class:"form-control-plaintext px-2 mb-3",type:"text",placeholder:Object(r.h)(h.c,{id:"home.report-bug-placeholder"},"Hva er det du opplever som feil?"),onInput:Object(u.a)(this,"bug.text"),onKeyUp:m.a.resizeTextarea,style:"height: 2.3em;",value:p.text})),Object(r.h)("button",{class:"btn btn-success float-left",onClick:this.reportBug},Object(r.h)("i",{class:"fas fa-paper-plane"})," ",Object(r.h)(h.c,{id:"home.send"},"Send inn")),Object(r.h)("button",{class:"btn btn-secondary float-right",onClick:this.showReportBug},Object(r.h)("i",{class:"fas fa-times"})," ",Object(r.h)(h.c,{id:"home.abort"},"Avbryt")))))))):Object(r.h)(h.a,{definition:w},Object(r.h)(pt,null,Object(r.h)("div",{id:"app",style:`overflow-x: auto; overflow-y: auto; height: 100%; ${i?"padding-top: 50px;":""} ${t?"padding-top: 70px;":""} transition: .3s; overscroll-behavior: contain;`,ref:e=>this.appContainer=e},Object(r.h)(l.Router,{history:ut},Object(r.h)(K.a,a({stores:this.stores},this.props,{path:"/"})),Object(r.h)(K.a,a({stores:this.stores},this.props,{default:!0})),Object(r.h)(K.a,a({stores:this.stores},this.props,{path:"/:email"})),Object(r.h)(K.a,a({stores:this.stores},this.props,{path:"/link/login/:loginToken"})),Object(r.h)(Z.a,{stores:this.stores,path:"/register/"}),Object(r.h)(Z.a,{stores:this.stores,path:"/register/:email"}),Object(r.h)(Y.a,{stores:this.stores,path:"/forgotten/"}),Object(r.h)(Y.a,{stores:this.stores,path:"/forgotten/:email"})))))}})||n;t.a=mt}).call(this,s("hosL").Fragment)},vAO7:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(12).then(function(){var t=s("fQqW");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},vMwv:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("Y3FI"),h=s("OhSV"),u=s("fh8t"),p=s.n(u),m=s("X9Km"),b=s("ZOvn"),f=s("WAWY"),g=s("3UPq"),O=s("xDik"),v=s("2X7c"),y=s("mPUg"),j=s("7g1v"),w=s("YiSQ"),k=(s("wM2g"),s("s4FZ")),x=s("UJvz"),S=s("0SNj"),_=s("9Bb9"),T=s("epqT"),D=(s("nHdA"),s("irB3")),I=(s("UwwE"),s("8Lgr")),P=(s("QkTp"),s("om2D"));const L=b.a.marginTop(!1),C=b.a.marginTopBack(!1),A=b.a.marginBottom(),E={submenu:"stats"};let F=Object(c.a)(o=class extends r.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{dogStore:s}=t.props.stores,{dog:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})}}render(){const{saved:t,dog:s,type:a="text",datalist:i=[],min:o,max:n,step:c,field:d,title:u,icon:p,help:m,onInput:b,updateField:f,refName:g,showImages:O=!1}=this.props;let v=s[d],y=n;return"date"===a&&(v&&(v=l.a.isoDate(s[d],!1,!1,!0)),"today"===n&&(y=l.a.isoDate(void 0,!1,!1,!0))),"image"===a?Object(r.h)("div",{class:"form-group "+(t[`${d}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:d+"Input"},p&&Object(r.h)("i",{class:p})," ",u),O&&Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},s.images&&s.images.map(e=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(r.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},"Del")))))),Object(r.h)(P.a,{saved:t,object:s,field:d,updateField:f}),t[`${d}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:d+"Help",class:"form-text text-muted"},m)):"datalist"===a?Object(r.h)("div",{class:"form-group "+(t[`${d}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:d+"Input"},p&&Object(r.h)("i",{class:p})," ",u),Object(r.h)("input",{list:"list-"+d,class:"form-control "+(t[`${d}.${s.id}`]?"is-valid":""),id:d+"Input","aria-describedby":d+"Help",value:v,"data-id":s.id,"data-field":d,onInput:b}),Object(r.h)("datalist",{id:"list-"+d},i.map(e=>Object(r.h)("option",{value:e[0]},e[1]))),t[`${d}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:d+"Help",class:"form-text text-muted"},m)):"select"===a?Object(r.h)("div",{class:"form-group "+(t[`${d}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:d+"Input"},p&&Object(r.h)("i",{class:p})," ",u),Object(r.h)("select",{type:a,class:"form-control "+(t[`${d}.${s.id}`]?"is-valid":""),id:d+"Input","aria-describedby":d+"Help",value:v,"data-id":s.id,"data-field":d,onInput:b},Object(r.h)("option",{value:""},"-- Velg kjønn --"),i.map(e=>Object(r.h)("option",{value:e[0]},e[1]))),t[`${d}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:d+"Help",class:"form-text text-muted"},m)):Object(r.h)("div",{class:"form-group "+(t[`${d}.${s.id}`]?"is-valid":"")},Object(r.h)("label",{for:d+"Input"},p&&Object(r.h)("i",{class:p})," ",u)," ",g,Object(r.h)("input",{type:a,class:"form-control "+(t[`${d}.${s.id}`]?"is-valid":""),id:d+"Input","aria-describedby":d+"Help",min:o,max:y,step:c,value:v,"data-id":s.id,"data-field":d,onInput:b}),t[`${d}.${s.id}`]?Object(r.h)("div",{class:"valid-feedback",style:"display: block;"},Object(r.h)(h.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(r.h)("small",{id:d+"Help",class:"form-text text-muted"},m))}})||o,M=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.loadDog=async function(e=t.props){const{dogStore:s,userStore:a}=e.stores,i=parseInt(e.dog,10);await Promise.all([s.load(i,!1,{addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),a.getWorkoutSummary({dog:i})]);const o=(new Date).getMonth()+1,n=(new Date).getFullYear(),{month:r=o,year:l=n}=t.props,c=parseInt(r<8?l-1:l,10);s.findWorkoutSummaryCurrenSeason(i,c),s.findWorkoutSummaryPreviousSeason(i,c-1);const{dog:d}=s;d&&d.team&&t.loadTeam(d.team),d&&d.motherChipId&&s.loadExternalDogs([d.motherChipId,d.fatherChipId]),s.plotFormGraph()},this.loadWorkoutPlans=async function(e=t.props){const{year:s}=e,a=(new Date).getMonth()+1,i=l.a.getYear(),o=parseInt(s||(a<8?i-1:i),10),{workoutPlanStore:n,dogStore:r}=e.stores,{dog:c}=r;if(n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),n.resetGraphPlanWeekDistanceCurrent(),c.team){await n.load({query:{team:c.team,seasonYear:o,seasonMonth:6}});const{workoutPlans:e}=n,t=e[0]||{};t.id?(await n.load(t.id),n.prepareWeekGraphs({year:s})):(n.updateKeyValue("workoutPlan",{}),n.updateKeyValue("workoutPlans",[]),n.resetGraphPlanWeekDistanceCurrent())}},this.showModal=e=>{e.stopPropagation(),e.preventDefault();this.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.setHistoryType=e=>{this.setState({historyType:e})},this.deleteDog=async function(){const{dogStore:e}=t.props.stores,{dog:s}=e;await e.saveField(s.id,"offline",1),m.a.publish(m.b.STATUS_MESSAGE,{message:"Hunden er slettet",type:"success",icon:"fas fa-check"}),Object(d.route)("/dogs/list",!0)},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:o}=e.target.dataset,n=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:n,type:a,elementtype:i,isNew:o})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:o,isNew:n=!1,skipTimer:r=!1})=>{const{dogStore:l}=this.props.stores;let c=a,d=a;const{dog:h}=l;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(d=[...h.images,...a]),"array"!==i||Array.isArray(a)||(c="number"===o?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),n?l.updateObjectKeyValue("newDog",s,a):(l.updateField(e,s,d),r?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date)}},E),this.updateTimer={}}async loadAll(e=this.props){this.setState({isLoading:!0}),await Promise.all([this.loadDog(e),this.loadWorkoutPlans(e)]),this.setState({isLoading:!1})}async loadTeam(e){const{teamStore:t}=this.props.stores;await t.load(e),t.plotFormGraph()}async doUpdateField(e,t,s){const{dogStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.dog!==this.props.dog&&this.loadAll(e)}render(){const{displayModal:t,currentImage:s,currentImageXXL:a,thumb:i,name:o,title:n,date:c,historyType:d,submenu:u}=this.state,{month:m,year:P}=this.props,E=d?e=>e.historyType===d:()=>!0,{dogStore:M,userStore:R,workoutPlanStore:z,workoutStore:U}=this.props.stores,{workoutPlan:N,workoutPlans:$}=z,{historyFeed:W,user:B}=R,{language:H="en"}=B,V=W&&W.length>0,{dog:G,vaccineStatuses:q,historyStatuses:K,workoutSummaryCurrentSeason:Z={},workoutSummaryPreviousSeason:Y={},saved:X}=M,J=R.findDogstatus({status:G.status,language:H}),Q=G.statuses?G.statuses.map(e=>R.findDogstatus({status:e,language:H})):[],ee=R.findDogposition({position:G.position,language:H}),te=[];R.findTeam(G.team)&&te.push(R.findTeam(G.team)),G.teams&&G.teams.forEach(e=>{R.findTeam(e)&&te.push(R.findTeam(e))});const se=M.findVaccineLogStatuses(G.chipId),ae=M.findDog(G.mother),ie=M.findDog(G.father),oe=M.findChildren(G.chipId),ne=M.findSiblings(G.id,G.motherChipId,G.birth),re=b.a.hasBirthday(G.birth),le=G.birth?Math.ceil(b.a.daysUntilNextBirthday(G.birth)):365;return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${A}; margin-top: ${L};`},Object(r.h)("div",{class:"d-flex justify-content-between mb-2"},Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${C}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(r.h)("div",null,Object(r.h)("h5",{class:"text-muted"}," ")),Object(r.h)("div",null,Object(r.h)("a",{class:"btn btn-sm btn-primary float-right ml-2",href:"/dogs/edit/"+G.id},Object(r.h)("i",{class:"fas fa-edit"})," ",Object(r.h)(h.c,{id:"dogs.edit"},"Endre")),Object(r.h)(v.a,{stores:this.props.stores,dog:G,callback:this.loadDog}))),t&&Object(r.h)(x.a,{close:this.closeModal,image:s,imagexxl:a,thumb:i,name:o,title:n,date:c}),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"d-flex mb-1"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded",style:G.image?`background-image: url("${G.image.s3SmallLink}");`:""},!G.image&&Object(r.h)("i",{class:"fas fa-dog text-muted mt-3",style:"font-size: 40px;"})),Object(r.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${R.findHarness(G.harness,"colorNonstop")} !important;`},Object(r.h)("span",{class:"float-right"},le<7&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted mr-2"},Object(r.h)("i",{class:"fas fa-birthday-cake"})," in ",le," days")),G.birth&&Object(r.h)("span",{class:"mr-2"},l.a.age(G.birth,G.deceased)),"female"===G.gender?Object(r.h)("i",{class:"fas fa-venus"}):Object(r.h)("i",{class:"fas fa-mars"})),Object(r.h)("h5",null,G.shortname||G.name," ",G.shortname&&""!==G.shortname&&Object(r.h)(e,null," - ",Object(r.h)("span",{class:"font-weight-lighter"},G.name)),re&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(r.h)("div",null,G.birth&&Object(r.h)(e,null,Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-hand-holding-heart"})," ",l.a.isoDate(G.birth,!1,!1,!0)))),Object(r.h)("div",null,te&&te.length>0&&Object(r.h)("small",{class:"font-weight-lighter"},te.map((t,s)=>Object(r.h)(e,null,s>0?", ":"",t)))),Object(r.h)("div",null,Object(r.h)("small",{class:"text-muted"},G.chipId&&G.chipId.length>5&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-microchip"})," ",G.chipId),G.weight>0&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-balance-scale ml-2"})," ",l.a.format(G.weight,1)," kg"),G.bodyScore>0&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-dog ml-2"})," ",l.a.format(G.bodyScore,1)))),Object(r.h)("div",null,q&&q.filter(e=>e.dogId===G.id).map(e=>Object(r.h)("span",{class:"badge badge-success mr-2",title:l.a.isoDate(e.endDate,!1,!1,!0)},e.vaccineType,Object(r.h)("span",{class:"font-weight-lighter ml-3"},Object(r.h)("i",{class:"fas fa-calendar-check"})," ",l.a.isoDate(e.endDate,!1,!1,!0))))),Object(r.h)("div",null,K&&K.filter(e=>e.dogId===G.id).map(e=>Object(r.h)("span",{class:"badge badge-warning mr-2",title:l.a.isoDate(e.endDate,!1,!1,!0)},e.title))),Object(r.h)("div",null,G.specialNeeds&&Object(r.h)("span",{class:"badge badge-warning mr-2"},Object(r.h)("i",{class:"fas fa-exclamation-triangle"})," ",G.specialNeeds),J&&J.class&&Object(r.h)("span",{class:`badge badge-${J.class} mr-2`},J.icon&&Object(r.h)("i",{class:J.icon})," ",J.name),Q&&Q.map(t=>Object(r.h)(e,null,t&&t.class&&Object(r.h)("span",{class:`badge badge-${t.class} mr-2`},t.icon&&Object(r.h)("i",{class:t.icon})," ",t.name))),ee&&ee.class&&Object(r.h)("span",{class:`badge badge-${ee.class||"primary"} mr-2`},ee.icon&&Object(r.h)("i",{class:ee.icon})," ",ee.name))))),Object(r.h)(T.a,{stores:this.props.stores,url:this.props.url}),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"w-100 overflow-hidden"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-pen-nib"})," ",Object(r.h)(h.c,{id:"dogs.info"},"Info"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"stats"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(r.h)(h.c,{id:"dogs.stats"},"Stats"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"pictures"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-images"})," ",Object(r.h)(h.c,{id:"dogs.pictures"},"Pictures"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"workouts"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(h.c,{id:"dogs.workouts"},"Workouts"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"fitness"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"fitness",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-chart-line"})," ",Object(r.h)(h.c,{id:"dogs.fitness"},"Fitness"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"relations"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"relations",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(h.c,{id:"dogs.relations"},"Relations"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"log"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"log",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-history"})," ",Object(r.h)(h.c,{id:"dogs.log"},"Log"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"trophy"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"trophy",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-award"})," ",Object(r.h)(h.c,{id:"dogs.trophy"},"Trophy case"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"achievements"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"dogs.achievements"},"Achievements"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"links"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"links",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-link"})," ",Object(r.h)(h.c,{id:"dogs.links"},"Links"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-none ${"veterinary"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"veterinary",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-syringe"})," ",Object(r.h)(h.c,{id:"dogs.veterinary"},"Veterenary"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===u?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-cogs"})," ",Object(r.h)(h.c,{id:"dogs.advanced"},"Advanced")))))))),"info"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dogs.info-about"},"Informasjon om")," ",G.name),!G.description&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"dogs.add-description"},"Gå inn på endring av hunden for å legge inn en beskrivelse.")))),Object(r.h)(p.a,{markdown:b.a.replaceImages(G.description,G.images,H),markdownOpts:b.a.getMarkdownOptions()})))),"stats"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)(f.a,{stores:this.props.stores,isLoading:!1,key:`graph-${N.id}-${$.length}`}),Object(r.h)(S.a,{stores:this.props.stores,currentTeam:G.team,currentSeason:Z,prevSeason:Y,key:`totals-${G.id}-${Object.keys(Z).length}-${Object.keys(Y).length}`}),Object(r.h)(_.a,{stores:this.props.stores,dog:G.id,key:`status-${G.id}-${Object.keys(Z).length}-${Object.keys(Y).length}`})),Z.positions&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("table",{class:"table table-sm table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",null," "),Object(r.h)("th",null,"Lead"),Object(r.h)("th",null,"Point"),Object(r.h)("th",null,"Team"),Object(r.h)("th",null,"Wheel"))),Object(r.h)("tbody",null,Object(r.h)("tr",null,Object(r.h)("th",null,Object(r.h)(h.c,{id:"workouts.distance"},"Distance")),Object(r.h)("td",{class:"text-center"},Object(r.h)(I.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","lead","distanceKm")||0})," "),Object(r.h)("td",{class:"text-center"},Object(r.h)(I.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","point","distanceKm")||0})," "),Object(r.h)("td",{class:"text-center"},Object(r.h)(I.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","team","distanceKm")||0})," "),Object(r.h)("td",{class:"text-center"},Object(r.h)(I.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","wheel","distanceKm")||0})," ")),Object(r.h)("tr",null,Object(r.h)("th",null,Object(r.h)(h.c,{id:"workouts.duration"},"Duration")),Object(r.h)("td",{class:"text-center"},l.a.secToHms(l.a.asNumber(Z,"positions","lead","duration")||0,!0)),Object(r.h)("td",{class:"text-center"},l.a.secToHms(l.a.asNumber(Z,"positions","point","duration")||0,!0)),Object(r.h)("td",{class:"text-center"},l.a.secToHms(l.a.asNumber(Z,"positions","team","duration")||0,!0)),Object(r.h)("td",{class:"text-center"},l.a.secToHms(l.a.asNumber(Z,"positions","wheel","duration")||0,!0))),Object(r.h)("tr",null,Object(r.h)("th",null,Object(r.h)(h.c,{id:"workouts.ascend"},"Ascend")),Object(r.h)("td",{class:"text-center"},Object(r.h)(D.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","lead","elevation")||0})),Object(r.h)("td",{class:"text-center"},Object(r.h)(D.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","point","elevation")||0})),Object(r.h)("td",{class:"text-center"},Object(r.h)(D.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","team","elevation")||0})),Object(r.h)("td",{class:"text-center"},Object(r.h)(D.a,{stores:this.props.stores,value:l.a.asNumber(Z,"positions","wheel","elevation")||0}))))))))),"pictures"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dogs.pictures-of"},"Bilder av")," ",G.name),Object(r.h)("div",{class:"row"},(!G.images||0===G.images.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-images"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"dogs.no-images-title"},"No images for this dog!")),Object(r.h)(h.c,{id:"dogs.no-images-text"},"You can add more images to this dog. Puppy pictures, workout pictures, lazy summer pictures, etc. All is a nice way to create a better profile for this dog."))),Object(r.h)(k.a,{stores:this.props.stores,images:G.images}))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5 bg-light py-4 border rounded-lg"},Object(r.h)(F,{saved:X,dog:G,field:"imageOther",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(r.h)(h.c,{id:"dogs.photo"},"Bilde"),help:Object(r.h)(h.c,{id:"dogs.photo-help"},"Bilder av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!1})),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5 bg-light py-4 border rounded-lg"},Object(r.h)(F,{saved:X,dog:G,field:"image",type:"image",icon:"fas fa-portrait",stores:this.props.stores,title:Object(r.h)(h.c,{id:"dogs.profile-photo"},"Profilbilde"),help:Object(r.h)(h.c,{id:"dogs.profile-photo-help"},"Profilbilde av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!1})))),"workouts"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)(g.a,{stores:this.props.stores,dog:G,basehref:`/dogs/${G.id}/`,month:m,year:P,key:`calendar-${N.id}-${$.length}`}))),"relations"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"container-fluid mb-5 mt-4"},Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.birth"},"Født")),Object(r.h)("h3",null,l.a.isoDate(G.birth,!1,!1,!0))),G.deceased&&Object(r.h)("div",{class:"col text-center border-left"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.deceased"},"Død")),Object(r.h)("h3",null,l.a.isoDate(G.deceased,!1,!1,!0)))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.team"},"Team")),Object(r.h)("h3",null,G.team&&R.findTeam(G.team)))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.mother"},"Mor")),ae?Object(r.h)(j.a,{stores:this.props.stores,dog:ae,fullWidth:!0}):Object(r.h)(e,null,Object(r.h)("h3",null,G.motherName),Object(r.h)("div",null,G.motherChipId&&Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-microchip"})," ",G.motherChipId)))),Object(r.h)("div",{class:"col text-center border-left"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.father"},"Far")),ie?Object(r.h)(j.a,{stores:this.props.stores,dog:ie,fullWidth:!0}):Object(r.h)(e,null,Object(r.h)("h3",null,G.fatherName),Object(r.h)("div",null,G.fatherChipId&&Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-microchip"})," ",G.fatherChipId))))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.siblings"},"Søsken")),Object(r.h)("div",{class:"row"},ne&&ne.map(e=>Object(r.h)(j.a,{stores:this.props.stores,dog:e}))))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("small",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.children"},"Avkom")),Object(r.h)("div",{class:"row"},oe&&oe.map(e=>Object(r.h)(j.a,{stores:this.props.stores,dog:e}))))))))),"log"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)(v.a,{stores:this.props.stores,dog:G}),Object(r.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/dogs/edit/"+G.id},Object(r.h)("i",{class:"fas fa-edit"})," ",Object(r.h)(h.c,{id:"dogs.edit"},"Endre")," ",G.name)),Object(r.h)("div",{class:"offset-0 col-12 mt-5"},Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("h5",{class:"mt-3"},Object(r.h)(h.c,{id:"dogs.log-for"},"Logg for")," ",G.name)),Object(r.h)(y.a,{stores:this.props.stores,basehref:`/dogs/${G.id}/history/`,dog:G,month:m,year:P,callback:this.setHistoryType,key:`calendar-history-${G.id}-${l.a.getNestedValue(G,"history.length")}`}),!V&&Object(r.h)("div",{class:"text-muted"},Object(r.h)(h.c,{id:"dogs.log-for-is-empty",fields:{name:G.name}},"Loggen til ",G.name," er tom")),V&&W.filter(E).map(e=>Object(r.h)(O.a,{stores:this.props.stores,line:e})))))))),"trophy"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!G.trophys||0===G.trophys.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-award"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"dogs.no-trophys-title"},"No trophys for this dog!")),Object(r.h)(h.c,{id:"dogs.no-trophys-text"},"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys."))),Object(r.h)("div",{class:"row"},G.trophys&&G.trophys.reverse().map(e=>{const t=b.a.getTrophyImage(e.name);if(!t)return"";const s=e.descriptionHeader&&e.descriptionHeader[H]?e.descriptionHeader[H]:"",a=e.description&&e.description[H]?e.description[H]:"";return Object(r.h)("div",{class:"col-4 mt-3"},Object(r.h)("div",{class:"mb-2"},Object(r.h)("img",{src:t,class:"img-fluid"})),Object(r.h)("strong",null,s),Object(r.h)("small",null,Object(r.h)("details",null,Object(r.h)("summary",null,Object(r.h)(h.c,{id:"dogs.trophy-details"},"Details")),Object(r.h)(p.a,{markdown:b.a.replaceImages(a,G.images,H),markdownOpts:b.a.getMarkdownOptions()}))))}))))),"fitness"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)(w.a,{stores:this.props.stores})))),"veterinary"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dogs.vetenary-approved-vaccines"},"Vetenary approved vaccines")),(!se||0===se.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-syringe"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"dogs.add-veterinary"},"Kontakt din veterinær og be om at vaksinene godkjennes i appen.")))),Object(r.h)("div",{class:""},se&&se.map(t=>Object(r.h)("div",{class:"col-12 mt-2 p-3 border rounded-lg bg-light"},Object(r.h)("span",{class:`float-right badge badge-${t.inKarens?"warning":"success"} ml-2 mb-1`},Object(r.h)("span",{class:"font-weight-lighter ml-2"},Object(r.h)("i",{class:"fas fa-calendar-check"})," ",l.a.isoDate(t.vaccineAgens.durationEnd,!1,!1,!0),t.inKarens&&Object(r.h)(e,null,Object(r.h)("br",null),"(",Object(r.h)(h.c,{id:"dogs.vaccine-karens"},"karens"),": ",l.a.format(t.karensDaysLeft,0)," ",Object(r.h)(h.c,{id:"dogs.vaccine-karens-days-left"},"days left"),")"))),Object(r.h)("h5",null,t.vaccineAgens.name),Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"dogs.vaccine-name"},"Vaksinenavn"),":")," ",t.vaccineName,Object(r.h)("br",null),Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"dogs.vaccine-date"},"Vaksinedato"),":")," ",l.a.isoDate(t.date,!1,!1,!0),Object(r.h)("br",null),Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(h.c,{id:"dogs.vaccine-veterinary"},"Veterinær"),":")," ",t.veterinaryFirstname," ",t.veterinaryLastname," <",t.veterinaryEmail,">",Object(r.h)("br",null))))))),"achievements"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!G.achievements||0===G.achievements.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-clock"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(r.h)(h.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),G.achievements&&G.achievements.map(e=>Object(r.h)("div",{class:"col-12 p-1"},Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.createdDate,!1,!1,!0)),Object(r.h)("span",{class:"mr-2"},e.name),Object(r.h)("span",{class:"mr-2"},e.url)))))),"links"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!G.links||0===G.links.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-link"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(r.h)(h.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),G.links&&G.links.map(e=>Object(r.h)("div",{class:"col-12 p-1"},Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.createdDate,!1,!1,!0)),Object(r.h)("span",{class:"mr-2"},e.name),Object(r.h)("span",{class:"mr-2"},e.url)))))),"advanced"===u&&Object(r.h)(e,null,Object(r.h)("div",{class:"row mt-4"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!G.files||0===G.files.length)&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-file"})),Object(r.h)("h3",null,Object(r.h)(h.c,{id:"dogs.no-files-title"},"No files attached to this dog!")),Object(r.h)(h.c,{id:"dogs.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),G.files&&G.files.map(e=>Object(r.h)("div",{class:"d-flex"},Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.createdDate,!1,!1,!0)),Object(r.h)("span",{class:"mr-2"},Object(r.h)("a",{href:e.s3Link,target:"_blank",rel:"noreferrer"},e.name)),Object(r.h)("span",{class:"font-weight-lighter mr-2"},l.a.formatBytes(e.size,1)))),Object(r.h)("div",{class:"mt-5 pt-5 mb-5"},Object(r.h)("button",{class:"btn btn-sm btn-danger mt-5 float-right",onClick:this.deleteDog},Object(r.h)("i",{class:"fas fa-trash"})," ",Object(r.h)(h.c,{id:"dogs.delete"},"Slett")," ",G.name))))))}})||n;t.a=M}).call(this,s("hosL").Fragment)},"vY+r":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.toggleViews=()=>{const{showViewList:e}=this.state,{isTeamAdmin:t,isAdmin:s}=this.props;(t||s)&&this.setState({showViewList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{showViewList:t}=this.state,{storyStore:s,teamStore:a,workoutStore:i}=this.props.stores,{views:o,object:l,type:h="story",onTeamClick:u=(()=>{}),onUserClick:p=(()=>{})}=this.props,m=[];Object.entries(l.statistics).forEach(([e,t])=>{Object.entries(t).forEach(([e,t])=>{t.viewUsers&&m.push(t.viewUsers)})});const b=m.flat();return Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},Object(n.h)("small",{class:"ml-2 text-muted",onClick:this.toggleViews},o," ",Object(n.h)(c.c,{id:"story.views"},"views"))),t&&Object(n.h)("div",{class:"mt-3 mb-3"},b&&b.map(t=>{let o,l,c;if("story"===h?(o=s.findPublicUser(t),l=s.findPublicTeamByMembers(t)):"team"===h?(o=a.findPublicUser(t),l=a.findPublicTeamByMembers(t)):"workout"===h&&(o=i.findPublicUser(t),l=i.findPublicTeamByMembers(t)),!o)return"";r.a.isArray(l)&&(c=l.find(e=>1===e.public));const p=d.a.getImage({user:o,team:c,priority:"user"}),m=d.a.displayNameShort(o),b=d.a.displayName(o,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},c?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+c.uuidv4,title:c.name,onClick:e=>u(e,c.uuidv4),class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(p?`background-image: url("${p}"); background-size: cover;`:"")},!p&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m))),Object(n.h)("div",{class:"ml-2 "},b," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",c.name))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p}"); background-size: cover;`:"")+" opacity: 0.5;"},!p&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m)),Object(n.h)("div",{class:"ml-2"},b)))})))}})||o;t.a=u}).call(this,s("hosL").Fragment)},ve3R:function(e,t,s){"use strict";function a(e){return"/"===e.charAt(0)}function i(e,t){for(var s=t,a=s+1,i=e.length;a<i;s+=1,a+=1)e[s]=e[a];e.pop()}function o(e){return"/"===e.charAt(0)?e:"/"+e}function n(e){return"/"===e.charAt(0)?e.substr(1):e}function r(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function l(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function c(e){var t=e.search,s=e.hash,a=e.pathname||"/";return t&&"?"!==t&&(a+="?"===t.charAt(0)?t:"?"+t),s&&"#"!==s&&(a+="#"===s.charAt(0)?s:"#"+s),a}function d(e,t,s,a){var i;"string"==typeof e?(i=function(e){var t=e||"/",s="",a="",i=t.indexOf("#");-1!==i&&(a=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(s=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===s?"":s,hash:"#"===a?"":a}}(e)).state=t:(void 0===(i=Object(g.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return s&&(i.key=s),a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=O(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i}function h(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,s,a,i){if(null!=e){var o="function"==typeof e?e(t,s):e;"string"==typeof o?"function"==typeof a?a(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){function s(){a&&e.apply(void 0,arguments)}var a=!0;return t.push(s),function(){a=!1,t=t.filter((function(e){return e!==s}))}},notifyListeners:function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];t.forEach((function(e){return e.apply(void 0,s)}))}}}function u(e,t){t(window.confirm(e))}function p(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function m(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function b(e){window.location.replace(p(window.location.href)+"#"+e)}function f(e){function t(){var e=D(m());return S&&(e=r(e,S)),d(e)}function s(e){Object(g.a)(z,e),z.length=f.length,I.notifyListeners(z.location,z.action)}function a(){var e,a,o=m(),n=T(o);if(o!==n)b(n);else{var r=t();if(!P&&((e=z.location).pathname===(a=r).pathname&&e.search===a.search&&e.hash===a.hash))return;if(L===c(r))return;L=null,function(e){if(P)P=!1,s();else{I.confirmTransitionTo(e,"POP",w,(function(t){t?s({action:"POP",location:e}):function(e){var t=F.lastIndexOf(c(z.location));-1===t&&(t=0);var s=F.lastIndexOf(c(e));-1===s&&(s=0);var a=t-s;a&&(P=!0,i(a))}(e)}))}}(r)}}function i(e){f.go(e)}function n(e){1===(M+=e)&&1===e?window.addEventListener("hashchange",a):0===M&&window.removeEventListener("hashchange",a)}void 0===e&&(e={}),y||Object(v.a)(!1);var f=window.history,O=(window.navigator.userAgent.indexOf("Firefox"),e.getUserConfirmation),w=void 0===O?u:O,k=e.hashType,x=void 0===k?"slash":k,S=e.basename?l(o(e.basename)):"",_=j[x],T=_.encodePath,D=_.decodePath,I=h(),P=!1,L=null,C=m(),A=T(C);C!==A&&b(A);var E=t(),F=[c(E)],M=0,R=!1,z={length:f.length,action:"POP",location:E,createHref:function(e){var t=document.querySelector("base"),s="";return t&&t.getAttribute("href")&&(s=p(window.location.href)),s+"#"+T(S+c(e))},push:function(e){var t=d(e,void 0,void 0,z.location);I.confirmTransitionTo(t,"PUSH",w,(function(e){if(e){var a=c(t),i=T(S+a);if(m()!==i){L=a,function(e){window.location.hash=e}(i);var o=F.lastIndexOf(c(z.location)),n=F.slice(0,o+1);n.push(a),F=n,s({action:"PUSH",location:t})}else s()}}))},replace:function(e){var t=d(e,void 0,void 0,z.location);I.confirmTransitionTo(t,"REPLACE",w,(function(e){if(e){var a=c(t),i=T(S+a);m()!==i&&(L=a,b(i));var o=F.indexOf(c(z.location));-1!==o&&(F[o]=a),s({action:"REPLACE",location:t})}}))},go:i,goBack:function(){i(-1)},goForward:function(){i(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return R||(n(1),R=!0),function(){return R&&(R=!1,n(-1)),t()}},listen:function(e){var t=I.appendListener(e);return n(1),function(){n(-1),t()}}};return z}s.d(t,"a",(function(){return f}));var g=s("Fcif"),O=function(e,t){void 0===t&&(t="");var s,o=e&&e.split("/")||[],n=t&&t.split("/")||[],r=e&&a(e),l=t&&a(t),c=r||l;if(e&&a(e)?n=o:o.length&&(n.pop(),n=n.concat(o)),!n.length)return"/";if(n.length){var d=n[n.length-1];s="."===d||".."===d||""===d}else s=!1;for(var h=0,u=n.length;u>=0;u--){var p=n[u];"."===p?i(n,u):".."===p?(i(n,u),h++):h&&(i(n,u),h--)}if(!c)for(;h--;h)n.unshift("..");!c||""===n[0]||n[0]&&a(n[0])||n.unshift("");var m=n.join("/");return s&&"/"!==m.substr(-1)&&(m+="/"),m},v=s("+D+d"),y=!("undefined"==typeof window||!window.document||!window.document.createElement),j={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+n(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:n,decodePath:o},slash:{encodePath:o,decodePath:o}}},vme8:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("QRet"),s("Utv1")),l=s("/eY4");s("OhSV");const c={};let d=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.toggleFocusOnMusher=e=>{const t=e.target.parentElement.dataset.musherid||e.target.dataset.musherid,{appState:s,raceStore:a}=this.props.stores;s.toggleFocusOnMusher(parseInt(t,10));const{focusOnMushers:i}=s;a.getWorkoutSummaryActiveTeams(i)},this.toggleInfoOnMusher=e=>{const t=e.target.parentElement.dataset.musherid||e.target.dataset.musherid,{appState:s}=this.props.stores;s.toggleInfoOnMusher(parseInt(t,10))},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c)}render(){const{raceStore:t,appState:s}=this.props.stores,{teamId:a}=this.props,{language:i="en"}=s,o=t.getTeamById(a);if(!o||!o.id)return Object(n.h)(e,null);const l=t.getActiveTeamById(o.id),c=t.getWorkoutSummaryByTeam(o.id).reverse(),d=t.getClassByTeamId(o.id),h=t.getWorkoutResultsByTeam(c,d.distance),u=t.getMusherByTeamId(o.id),p=o.images&&o.images.length>0?o.images[0]:{},m=t.getClassByTeamId(o.id),b=h.distanceKm/d.distance*100,f=b>0?1:0;let g,O,v;l&&l.currentLocation&&l.currentLocation.coords&&(g=3.6*l.currentLocation.coords.speed,O=l.currentLocation.timestamp,v=!0);let y=m.distance-h.distanceKm;return y<0&&(y=0),Object(n.h)(e,null,Object(n.h)("div",{class:"mr-2 mb-2 overflow-auto",style:"width: 350px !important; max-height: 350px; overflow-x: hidden !important;"},Object(n.h)("div",{class:"p-2 bg-light rounded-lg"},Object(n.h)("div",{class:"row mt-2",style:"font-size: 0.9em;"},Object(n.h)("div",{class:"col-4 text-center"},Object(n.h)("div",{class:"text-center text-muted pt-2 h-100",style:`background-image: url("${p.s3SmallLink}"); background-size: cover;`,onClick:this.toggleFocusOnMusher,"data-musherid":o.id},!p.s3SmallLink&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 55px;"},r.a.ucfirst(String(u.firstname),!0),r.a.ucfirst(String(u.lastname),!0))))),Object(n.h)("div",{class:"col-8"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12",style:"font-size: 1.5em; line-height: 1.0em;"},Object(n.h)("button",{type:"button",class:"btn btn-sm float-right",onClick:this.toggleInfoOnMusher,"data-musherid":o.id},"X"),Object(n.h)("span",{class:"font-weight-bold"},u.firstname," ",u.lastname),Object(n.h)("br",null),Object(n.h)("span",{class:"font-weight-lighter"},o.name),Object(n.h)("br",null),m&&m.title&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter mr-2",style:"font-size: 0.8em;"},m.title," -")),Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 0.8em;"},r.a.format(h.avgDogs,1)," ",Object(n.h)("i",{class:"fas fa-dog text-muted ml-1"})))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(n.h)("span",{class:"text-muted"},"km/t"),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 2.0em;"},r.a.format(h.speedAvg,1))),Object(n.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(n.h)("span",{class:"text-muted"},"km"),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 2.0em;"},r.a.format(h.distanceKm))),Object(n.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(n.h)("span",{class:"text-muted"},"to finish"),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 2.0em;"},0===y?Object(n.h)("i",{class:"fas fa-flag-checkered text-success"}):Object(n.h)(e,null,r.a.format(y,0))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-6 text-center",style:"line-height: 1.4em;"},Object(n.h)("span",{class:"text-muted"},0===y?Object(n.h)(e,null,"Calc.Duration"):Object(n.h)(e,null,"Duration")),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 1.5em;"},0===y?Object(n.h)(e,null,r.a.secToHms(h.weightedNormalizedDuration||h.duration)):Object(n.h)(e,null,r.a.secToHms(h.duration)))),Object(n.h)("div",{class:"col-6 text-center",style:"line-height: 1.4em;"},Object(n.h)("span",{class:"text-muted"},"Status"),Object(n.h)("br",null),Object(n.h)("span",{style:"font-size: 1.5em;"},v?Object(n.h)(e,null,1===l.isInProgress?Object(n.h)("span",{class:"text-primary"},"running"):"",2===l.isInProgress?Object(n.h)("span",{class:"text-danger"},"resting"):"",0===y?Object(n.h)(e,null,l.isInProgress?"":Object(n.h)("span",{class:"text-success"},"FINISH")):Object(n.h)(e,null,l.isInProgress?"-":Object(n.h)(e,null,f?Object(n.h)("span",{class:"text-danger"},"resting"):Object(n.h)("span",{class:"text-muted"},"NYS")))):Object(n.h)(e,null,0===y?Object(n.h)("span",{class:"text-success"},"FINISH"):Object(n.h)(e,null,f?Object(n.h)("span",{class:"text-danger"},"resting"):Object(n.h)("span",{class:"text-muted"},"NYS")))))))),Object(n.h)("div",{class:"row mt-2",style:"font-size: 0.9em;"},Object(n.h)("div",{class:"col-6"},Object(n.h)("table",{class:"table table-sm table-striped"},Object(n.h)("tbody",null,Object(n.h)("tr",null,Object(n.h)("td",null,"Current speed"),Object(n.h)("td",null,g?Object(n.h)(e,null,r.a.format(g,1)," km/t"):"-")),Object(n.h)("tr",null,Object(n.h)("td",null,"Avg speed"),Object(n.h)("td",null,r.a.format(h.speedAvg,1)," km/t")),Object(n.h)("tr",null,Object(n.h)("td",null,"Duration"),Object(n.h)("td",null,r.a.secToHms(h.duration))),Object(n.h)("tr",null,Object(n.h)("td",null,"Calculated duration"),Object(n.h)("td",null,r.a.secToHms(h.weightedNormalizedDuration))),Object(n.h)("tr",null,Object(n.h)("td",null,"Rest"),Object(n.h)("td",null,r.a.secToHms(h.rest))),Object(n.h)("tr",null,Object(n.h)("td",null,"Elevation"),Object(n.h)("td",null,r.a.format(h.elevation,0)," m")),Object(n.h)("tr",null,Object(n.h)("td",null,"Altitude"),Object(n.h)("td",null,v?Object(n.h)(e,null,l.currentLocation.coords.altitude," moh"):"-")),Object(n.h)("tr",null,Object(n.h)("td",null,"Load index"),Object(n.h)("td",null,h.loadIndex)),Object(n.h)("tr",null,Object(n.h)("td",null,"Updated:"),Object(n.h)("td",null,v?Object(n.h)(e,null,r.a.formatDistance(O,new Date)," ago"):"-"))))),Object(n.h)("div",{class:"col-6"},Object(n.h)("span",null,"Elevation profile:"),Object(n.h)("br",null),v?Object(n.h)("svg",{viewBox:"0 0 300 100",style:"width: 180px; height: 60px; top: 0; left: 0;"},Object(n.h)("path",{d:""+l.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})):Object(n.h)("div",null,"-"),Object(n.h)("span",null,"Map profile:"),Object(n.h)("br",null),v?Object(n.h)("svg",{viewBox:"0 0 300 300",style:"width: 180px; height: 180px; top: 0; left: 0;"},Object(n.h)("path",{d:""+l.svgMap,style:"fill: none; stroke: #FF6300; stroke-width: 5; opacity: 0.2;"})):Object(n.h)("div",null,"-"))),Object(n.h)("div",{class:"mt-2",style:"font-size: 0.9em;"},Object(n.h)("div",{class:"d-flex flex-wrap"},c&&c.map((t,s)=>{const a=t.distanceKm/d.distance*100,o=(a>100||parseInt(a,10),Math.floor(new Date(t.date).getTime()/1e3)),l=new Date(0);l.setUTCSeconds(o+parseInt(t.duration,10));const c=t.images.flat();return Object(n.h)(e,null,Object(n.h)("div",{class:"bg-light border rounded-lg text-right position-relative mr-1 mb-1"},Object(n.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(n.h)("path",{d:""+t.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(n.h)("div",{class:"position-relative px-3"},Object(n.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},s+1),Object(n.h)("small",null,Object(n.h)("span",{class:"float-left"},Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt"})," ",r.a.formatDate(t.date,{locale:i,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt"})," ",r.a.formatDate(l,{locale:i,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(n.h)("span",{class:"float-right"},Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-road"})," ",r.a.format(t.distanceKm,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-mountain"})," ",r.a.format(t.elevation,0)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"m")),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt"})," ",r.a.format(t.speedAvg,1)||"n/a"," ",Object(n.h)("span",{class:"font-weight-lighter"},"km/t")),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-clock"})," ",r.a.secToHms(t.duration)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-moon"})," ",r.a.secToHms(t.rest)||"n/a"),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-dog"})," ",r.a.format(t.avgDogs,0)||"n/a"),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-balance-scale"})," ",r.a.format(t.loadIndex,0)||"n/a"),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("i",{style:"width: 20px;",class:"fas fa-images"})," ",c.length),Object(n.h)("br",null))))))}))))))}})||o;t.a=d}).call(this,s("hosL").Fragment)},"w+AZ":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t){return e.count<t.count?1:e.count>t.count?-1:0}function n(e,t){return e._id<t._id?-1:e._id>t._id?1:0}var r,l=s("hosL"),c=s("Utv1"),d=s("/eY4");s("ZOvn"),s("CLMH");const h={3600:"Last hour",86400:"Last day",604800:"Last week",2592e3:"Last month",5184e3:"Last 2 months",7776e3:"Last quarter",15552e3:"Last 6 months",31104e3:"Last year"},u={};let p=Object(d.a)(r=class extends l.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u)}async loadAll(){this.setState({isLoading:!0});const{adminStore:e}=this.props.stores;await e.getDemographics(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{adminStore:t}=this.props.stores,{demographicsLanguage:s,demographicsDarkmode:a,demographicsImperial:i,demographicsVeterinary:r,demographicsLocation:d,demographicsActivities:u,demographicsActivitiesPeriodes:p,demographicsTeamWorkouts:m,demographicsTeamFollowers:b,demographicsTeamDogs:f,storyViews:g,storyLikes:O,storyComments:v,storyDurationAvg:y,searchCount:j}=t;return Object(l.h)(e,null,Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6"},Object(l.h)("h5",null,"Language"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"language"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,s&&s.sort(o).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,t.language||"Other"),Object(l.h)("td",null,t.count))))))),Object(l.h)("h5",null,"Darkmode"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"darkmode"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,a&&a.sort(o).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,t.darkmode||"Other"),Object(l.h)("td",null,t.count))))))),Object(l.h)("h5",null,"Imperial"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"imperial"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,i&&i.sort(o).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,t.imperial||"Other"),Object(l.h)("td",null,t.count))))))),Object(l.h)("h5",null,"veterinaryAllowed"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"veterinaryAllowed"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,r&&r.sort(o).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,t.veterinaryAllowed||"Other"),Object(l.h)("td",null,t.count))))))),Object(l.h)("h5",null,"Location"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"location"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,d&&d.sort(o).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,t.country||"Other"),Object(l.h)("td",null,t.count))))))),Object(l.h)("h5",null,"Activities"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"activities"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,u&&u.sort(n).map((t,s)=>{const a=c.a.isNumber(t._id)?u[s+1]:void 0;return Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?`${t._id} - ${a?""+a._id:""}`:"Other"),Object(l.h)("td",null,t.count)))})))),Object(l.h)("h5",null,"ActivitiesPeriodes"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"activity periode"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,p&&p.sort(n).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?h[""+t._id]:"Other"),Object(l.h)("td",null,t.count)))))))),Object(l.h)("div",{class:"col-6"},Object(l.h)("h5",null,"storyViews"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"created periode"),Object(l.h)("th",null,"views"))),Object(l.h)("tbody",null,g&&g.sort(n).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?h[""+t._id]:"Other"),Object(l.h)("td",null,t.views))))))),Object(l.h)("h5",null,"storyLikes"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"created periode"),Object(l.h)("th",null,"likes"))),Object(l.h)("tbody",null,O&&O.sort(n).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?h[""+t._id]:"Other"),Object(l.h)("td",null,t.likes))))))),Object(l.h)("h5",null,"storyComments"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"created periode"),Object(l.h)("th",null,"comments"))),Object(l.h)("tbody",null,v&&v.sort(n).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?h[""+t._id]:"Other"),Object(l.h)("td",null,t.comments))))))),Object(l.h)("h5",null,"storyDurationAvg"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"created periode"),Object(l.h)("th",null,"durationAvg"))),Object(l.h)("tbody",null,y&&y.sort(n).map(t=>Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?h[""+t._id]:"Other"),Object(l.h)("td",null,Math.floor(t.durationAvg/1e3)," s")))))))),Object(l.h)("div",{class:"col-6"},Object(l.h)("h5",null,"TeamWorkouts"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"workouts"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,m&&m.sort(n).map((t,s)=>{const a=c.a.isNumber(t._id)?m[s+1]:void 0;return Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?`${t._id} - ${a?""+a._id:""}`:"Other"),Object(l.h)("td",null,t.count)))})))),Object(l.h)("h5",null,"TeamFollowers"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"followers"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,b&&b.sort(n).map((t,s)=>{const a=c.a.isNumber(t._id)?b[s+1]:void 0;return Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?`${t._id} - ${a?""+a._id:""}`:"Other"),Object(l.h)("td",null,t.count)))})))),Object(l.h)("h5",null,"TeamDogs"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"dogs"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,f&&f.sort(n).map((t,s)=>{const a=c.a.isNumber(t._id)?f[s+1]:void 0;return Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,c.a.isDefined(t._id)?`${t._id} - ${a?""+a._id:""}`:"Other"),Object(l.h)("td",null,t.count)))}))))),Object(l.h)("div",{class:"col-6"},Object(l.h)("h5",null,"Search"),Object(l.h)("div",{class:"table-responsive mb-5"},Object(l.h)("table",{class:"table table-striped table-sm"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"searchText"),Object(l.h)("th",null,"count"))),Object(l.h)("tbody",null,j&&j.sort(o).map(t=>{const s=t.searchText.replace(/^search\./,"");return Object(l.h)(e,null,Object(l.h)("tr",null,Object(l.h)("td",null,s||"Other"),Object(l.h)("td",null,t.count)))})))))))}})||r;t.a=p}).call(this,s("hosL").Fragment)},w2du:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function r(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l,c,d,h,u,p,m,b,f,g,O,v,y,j,w,k,x,S=s("cneo"),_=s("0frO"),T=s("Utv1"),D=s("Y3FI"),I=s("X9Km"),P=s("ZOvn");Object(S.f)({enforceActions:"always"});const L=new(c=r((l=class extends _.a{constructor(){super("race",{namePlural:"races",sort:"createdDate",limit:100,api:{search:{url:"/api/races/",params:{limit:15,sort:"createdDate"}},load:{url:"/api/races/",params:{}},save:{url:"/api/races/",params:{}}}}),n(this,"newRace",c,this),n(this,"raceInProgress",d,this),n(this,"signup",h,this),n(this,"newSignup",u,this),n(this,"signups",p,this),n(this,"race",m,this),n(this,"races",b,this),n(this,"images",f,this),n(this,"classes",g,this),n(this,"teamList",O,this),n(this,"workoutSummary",v,this),n(this,"activeTeams",y,this),n(this,"waypoints",j,this),n(this,"zoomToMarkers",w,this),n(this,"totalClasses",k,this),n(this,"totalContestants",x,this)}updateRaceInProgress(e){this.raceInProgress=e}async loadRaceInProgress(){const e=await T.a.fetchApi("/api/races/",{publish:!0,method:"GET"},{inProgress:1});switch(e.status){case 200:return this.updateRaceInProgress(e.data),e;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}countAll(){if(this.totalClasses=0,this.totalContestants=0,this.race.classes){this.totalClasses=this.race.classes.length;for(let e=0,t=this.race.classes.length;e<t;e+=1){const t=this.race.classes[e]||[];t.contestants&&(this.totalContestants+=t.contestants.length)}}}async lockAllWorkoutsInRace({id:e}){const t=await T.a.fetchApi("/api/races/lock-all-workouts/"+e,{publish:!0,method:"PATCH"},{});switch(t.status){case 200:return console.log({response:t}),t;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}getAllImages(){const e=[];if(this.race.classes)for(let t=0,s=this.race.classes.length;t<s;t+=1){const s=this.race.classes[t]||[];for(let t=0,a=s.contestants.length;t<a;t+=1){const a=s.contestants[t],i=this.getTeamById(a.team),o=this.getWorkoutSummaryByTeam(a.team),n=this.getWorkoutResultsByTeam(o,s.distance);if(n&&n.images)for(let t=0,o=n.images.length;t<o;t+=1){const o=Object(S.i)(n.images[t]);o.class=Object(S.i)(s),o.musher=Object(S.i)(a),o.currentTeam=Object(S.i)(i),o.date=new Date(o.createdDate),e.push(o)}if(i&&i.images)for(let t=0,o=i.images.length;t<o;t+=1){const o=Object(S.i)(i.images[t]);o.class=Object(S.i)(s),o.musher=Object(S.i)(a),o.currentTeam=Object(S.i)(i),o.date=new Date(o.createdDate),e.push(o)}}}if(this.race.userImages)for(let t=0,s=this.race.userImages.length;t<s;t+=1){const s=this.race.userImages[t]||[],a=i({title:s.title,body:s.body,createdDate:s.date,class:{},musher:{},currentTeam:{}},s.image);a.date=new Date(s.date),e.push(a)}this.images=e.sort((e,t)=>e.date-t.date).reverse()}getAllClassesSortedBy(){const e={};if(this.race.classes)for(let t=0,s=this.race.classes.length;t<s;t+=1){const s=this.race.classes[t]||[];s.totalMushers=0,s.totalFinished=0;for(let t=0,a=s.contestants.length;t<a;t+=1){const a=s.contestants[t],i=this.getTeamById(a.team),o=this.getWorkoutSummaryByTeam(a.team),n=this.getWorkoutResultsByTeam(o,s.distance),r=n.distanceKm/s.distance*100,l=n.speedAvg||0;let c=r>=99?s.distance:n.distanceKm;const d=r>0?1:0;let h=r>=99?1:0;s.totalMushers+=1,h&&(s.totalFinished+=1);const u=n.loadIndex,p=n.weightedTotalKcal,m=n.flatTotalKcal,b=n.duration,f=(n.duration-n.rest)/r*100,g=p/r*100,O=m/r*100;let v=f-n.elevation/2;const y=n.totalKcalRelated;let j;p&&m&&(j=p/m*100);const w=[],k=[],x=P.a.randomIntFromInterval(1,30);for(let e=0,t=10;e<t;e+=1)w.push(P.a.randomIntFromInterval(1,20)),k.push(P.a.randomIntFromInterval(15,95));["DNS","DNF","DNQ","DQ","DC"].indexOf(a.raceStatus)>-1&&(h=0,c=0,v=0),a&&(e[s.id]&&e[s.id].contestants||(e[s.id]={contestants:[]}),e[s.id].contestants.push({musher:a,currentTeam:i,currentStages:o,currentResults:n,completed:r,raceDistance:c,hasStarted:d,isDone:h,duration:b,normalizedDuration:f,normalizedKcal:g,normalizedFlatKcal:O,weightedNormalizedDuration:v,totalKcalRelated:y,weightedTotalKcal:p,flatTotalKcal:m,loadIndex:u,percentHarder:j,speedAvg:l,rests:w,restsSplit:k,totalCompleted:x}))}}const t=e=>(t,s)=>e.map(e=>{let a=1;return"-"===e[0]&&(a=-1,e=e.substring(1)),t[e]>s[e]?a:t[e]<s[e]?-a:0}).reduce((e,t)=>e||t,0),s=Object.keys(e);for(let a=0,i=s.length;a<i;a+=1){const i=e[s[a]];i.contestants=i.contestants.sort(t(["isDone","raceDistance","-weightedNormalizedDuration"])).reverse()}this.classes=e}removeClassLocal({id:e,classId:t}){if(T.a.isArray(this.race.classes)){const e=this.race.classes.findIndex(e=>e.id===t);e>-1&&this.race.classes.splice(e,1)}const s=this.races.findIndex(t=>t.id===e);if(s>-1){const e=this.races[s].classes.findIndex(e=>e.id===t);e>-1&&this.races[s].classes.splice(e,1)}}async removeClass({id:e,classId:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{removeClassById:t});switch(s.status){case 202:return this.removeClassLocal({id:e,classId:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}addClassLocal({id:e,newClass:t}){T.a.isArray(this.race.classes)&&this.race.classes.push(t);const s=this.races.findIndex(t=>t.id===e);s>-1&&(T.a.isUndefined(this.races[s].classes)&&(this.races[s].classes=[]),this.races[s].classes.push(t))}async addClass({id:e,newClass:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{newClass:t});switch(s.status){case 202:return this.addClassLocal({id:e,newClass:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}updateClassesLocal(e,t){console.log("updateClassesLocal",e,t),this.race.classes=t;const s=this.races.findIndex(t=>t.id===e);s>-1&&(this.races[s].classes=t)}async editClass({id:e,data:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},i({},t));switch(s.status){case 202:return this.updateClassesLocal(e,s.data.classes),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}removeArticleLocal({id:e,articleId:t}){if(T.a.isArray(this.race.articles)){const e=this.race.articles.findIndex(e=>e.id===t);e>-1&&this.race.articles.splice(e,1)}const s=this.races.findIndex(t=>t.id===e);if(s>-1){const e=this.races[s].articles.findIndex(e=>e.id===t);e>-1&&this.races[s].articles.splice(e,1)}}async removeArticle({id:e,articleId:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{removeArticleById:t});switch(s.status){case 202:return this.removeArticleLocal({id:e,articleId:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}addArticleLocal({id:e,newArticle:t}){T.a.isArray(this.race.articles)&&this.race.articles.push(t);const s=this.races.findIndex(t=>t.id===e);s>-1&&(T.a.isUndefined(this.races[s].articles)&&(this.races[s].articles=[]),this.races[s].articles.push(t))}async addArticle({id:e,newArticle:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{newArticle:t});switch(s.status){case 202:return this.addArticleLocal({id:e,newArticle:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}updateArticlesLocal(e,t){console.log("updateArticlesLocal",e,t),this.race.articles=t;const s=this.races.findIndex(t=>t.id===e);s>-1&&(this.races[s].articles=t)}async editArticle({id:e,data:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},i({},t));switch(s.status){case 202:return this.updateArticlesLocal(e,s.data.articles),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}removeUserImageLocal({id:e,userImageId:t}){if(T.a.isArray(this.race.userImages)){const e=this.race.userImages.findIndex(e=>e.id===t);e>-1&&this.race.userImages.splice(e,1)}const s=this.races.findIndex(t=>t.id===e);if(s>-1){const e=this.races[s].userImages.findIndex(e=>e.id===t);e>-1&&this.races[s].userImages.splice(e,1)}}async removeUserImage({id:e,userImageId:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{removeUserImageById:t});switch(s.status){case 202:return this.removeUserImageLocal({id:e,userImageId:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}addUserImageLocal({id:e,newUserImage:t}){T.a.isArray(this.race.userImages)&&this.race.userImages.push(t);const s=this.races.findIndex(t=>t.id===e);s>-1&&(T.a.isUndefined(this.races[s].userImages)&&(this.races[s].userImages=[]),this.races[s].userImages.push(t))}async addUserImage({id:e,newUserImage:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{newUserImage:t});switch(s.status){case 202:return this.addUserImageLocal({id:e,newUserImage:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}updateUserImagesLocal(e,t){console.log("updateUserImagesLocal",e,t),this.race.userImages=t;const s=this.races.findIndex(t=>t.id===e);s>-1&&(this.races[s].userImages=t)}async editUserImage({id:e,data:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},i({},t));switch(s.status){case 202:return this.updateUserImagesLocal(e,s.data.userImages),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}addSignup(e){this.signups.push(e)}resetSignup(){this.signups=[]}addContestantLocal({id:e,classId:t,newContestant:s}){if(this.signup.id=T.a.randomPassword(),T.a.isArray(this.race.classes)){const e=this.race.classes.findIndex(e=>e.id===t);e>-1&&(T.a.isUndefined(this.race.classes[e].contestants)&&(this.race.classes[e].contestants=[]),this.race.classes[e].contestants.push(s))}const a=this.races.findIndex(t=>t.id===e);if(a>-1){const e=this.races[a].classes.findIndex(e=>e.id===t);e>-1&&(T.a.isUndefined(this.races[a].classes[e].contestants)&&(this.races[a].classes[e].contestants=[]),this.races[a].classes[e].contestants.push(s))}}async addContestant({id:e,classId:t,newContestant:s}){const a=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{raceClassId:t,raceClassNewContestant:i({},s)});switch(a.status){case 202:return this.addContestantLocal({id:e,classId:t,newContestant:s}),a;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}removeImageLocal({id:e,name:t}){if(T.a.isArray(this.race.images)){const e=this.race.images.findIndex(e=>e.name===t);e>-1&&this.race.images.splice(e,1)}const s=this.races.findIndex(t=>t.id===e);if(s>-1){const e=this.races[s].images.findIndex(e=>e.name===t);e>-1&&this.races[s].images.splice(e,1)}}async removeImage({id:e,name:t}){const s=await T.a.fetchApi("/api/races/"+e,{publish:!0,method:"PATCH"},{removeImageByName:t});switch(s.status){case 202:return this.removeImageLocal({id:e,name:t}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}getTeamById(e){const t=this.teamList.findIndex(t=>t.id===e);return t>-1?this.teamList[t]:{}}getClassByTeamId(e){if(this.race&&this.race.classes)for(let t=0,s=this.race.classes.length;t<s;t+=1){const s=this.race.classes[t]||[];for(let t=0,a=s.contestants.length;t<a;t+=1){if(e===s.contestants[t].team)return s}}return{}}getSignupByUserEmail(e){const t=[];if(this.raceInProgress&&this.raceInProgress.length>0)for(let s=0,a=this.raceInProgress.length;s<a;s+=1){const a=this.raceInProgress[s];if(a.classes)for(let s=0,i=a.classes.length;s<i;s+=1){const i=a.classes[s]||[],o=i.contestants.find(t=>t.email===e);o&&o.email&&t.push({race:a,class:i,musher:o})}}return t}getMusherByTeamId(e){if(this.race&&this.race.classes)for(let t=0,s=this.race.classes.length;t<s;t+=1){const s=this.race.classes[t]||[];for(let t=0,a=s.contestants.length;t<a;t+=1){const a=s.contestants[t];if(e===a.team)return a}}return{}}getRaceClassById(e){if(this.race.classes&&this.race.classes.length>0){const t=this.race.classes.findIndex(t=>t.id===e);if(t>-1)return this.race.classes[t]}return{}}updateTeamList(e){T.a.isArray(e)&&(this.teamList=e)}getWorkoutSummaryByTeam(e){return this.workoutSummary.filter(t=>t.team===e)}getActiveTeamById(e){const t=this.activeTeams.findIndex(t=>t.team===e);return t>-1?(this.activeTeams[t].currentLocation||(this.activeTeams[t].currentLocation={coords:{},battery:{}}),this.activeTeams[t]):{}}getWorkoutSummaryActiveTeams(e){if(this.activeTeams=this.workoutSummary.filter(e=>e.isInProgress>0).map(e=>(e.currentLocation||(e.currentLocation={coords:{},battery:{}}),e)).sort((e,t)=>e.distance-t.distance).reverse(),this.waypoints=[],this.zoomToMarkers=[],this.activeTeams&&this.activeTeams.length>0)for(let t=0,s=this.activeTeams.length;t<s;t+=1){const s=this.activeTeams[t],a=this.getTeamById(s.team),i=this.getMusherByTeamId(s.team),o=T.a.format(3.6*s.currentLocation.coords.speed,1),n=P.a.windDirection(s.currentLocation.coords.heading);if(s.currentLocation.coords.latitude&&s.currentLocation.coords.longitude){let t=s.isInProgress?"#5cb85c":"#f0ad4e";const r=Math.floor(new Date(s.currentLocation.timestamp).getTime()/1e3),l=Math.floor((new Date).getTime()/1e3)-r;s.secSinceLastUpdate=l,l>1800?t="#d9534f":l>600&&(t="#ffc107");const c=`<div style='font-size: 1.2em;'>${i.firstname} ${i.lastname}</div>\n                        <div class='font-weight-lighter'>${a.name}</div>\n                    `,d=`<div style='font-size: 1.3em;'>\n                        ${o} km/t, ${T.a.format(s.distanceKm,1)} km\n                    </div>\n                    🧭 ${n}\n                    `,h={lat:s.currentLocation.coords.latitude,lng:s.currentLocation.coords.longitude,icon:null,title:c,body:d,color:t};this.waypoints.push(h),e?e.indexOf(a.id)>-1&&this.zoomToMarkers.push(h):this.zoomToMarkers.push(h)}}}getWorkoutResultsByTeam(e,t){let s,a,i,o,n=0,r=0,l=0,c=0,d=0,h=0,u=0,p=0,m=0,b=0,f=[],g=0,O=0,v=0;if(T.a.isArray(e)){n=e.map(e=>e.distanceKm).reduce((e,t)=>e+t,0),r=e.map(e=>e.elevation).reduce((e,t)=>e+t,0),l=e.map(e=>e.duration).reduce((e,t)=>e+t,0),c=e.map(e=>e.rest).reduce((e,t)=>e+t,0),d=e.map(e=>e.loadIndex).reduce((e,t)=>e+t,0),h=e.map(e=>e.totalKcalRelated).reduce((e,t)=>e+t,0),u=e.map(e=>e.weightedTotalKcal).reduce((e,t)=>e+t,0),p=e.map(e=>e.flatTotalKcal).reduce((e,t)=>e+t,0),m=e.map(e=>e.speedAvg).reduce((e,t)=>e+t,0)/e.length,b=e.map(e=>e.avgDogs).reduce((e,t)=>e+t,0)/e.length;for(let t=0,s=e.length;t<s;t+=1){f=f.concat(e[t].images)}a=e.map(e=>new Date(e.updatedDate)).sort().pop(),i=e.map(e=>e.isLocked).pop(),o=e.map(e=>e.id).pop(),t&&(v=n/t*100,g=l/v*100,O=g-2*d,u&&p&&(s=u/p*100))}return{distanceKm:n,elevation:r,duration:l,rest:c,loadIndex:d,totalKcalRelated:h,weightedTotalKcal:u,flatTotalKcal:p,speedAvg:m,avgDogs:b,images:f.flat(),normalizedDuration:g,weightedNormalizedDuration:O,percentHarder:s,lastUpdated:a,isLocked:i,id:o}}updateWorkoutSummary(e){T.a.isArray(e)&&(this.workoutSummary=e)}async loadTeams(e){const t=await T.a.fetchApi("/api/races/teams",{publish:!0,method:"GET"},{idin:e});switch(t.status){case 200:return this.updateTeamList(t.data),t;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}async loadWorkoutSummary(e,t){const s=await T.a.fetchApi("/api/races/workout-summary",{publish:!0,method:"GET"},{teamin:e,raceId:t});switch(s.status){case 200:return this.updateWorkoutSummary(s.data),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}addLikeToRace({id:e,data:t}){T.a.isArray(this.race.likes)&&this.race.likes.push(t);const s=this.races.findIndex(t=>t.id===e);s>-1&&(T.a.isUndefined(this.races[s].likes)&&(this.races[s].likes=[]),this.races[s].likes.push(t))}addLikeToComment({id:e,commentId:t,data:s}){if(T.a.isDefined(this.race.comments)){const e=this.race.comments.findIndex(e=>e.id===t),a=this.race.comments[e];T.a.isUndefined(a.likes)&&(a.likes=[]),a.likes.push(s)}const a=this.races.findIndex(t=>t.id===e);if(a>-1&&T.a.isDefined(this.races[a].comments)){const e=this.races[a].comments.findIndex(e=>e.id===t),i=this.races[a].comments[e];T.a.isUndefined(i.likes)&&(i.likes=[]),i.likes.push(s)}}addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a}){if(T.a.isDefined(this.race.comments)){const e=this.race.comments.findIndex(e=>e.id===t),i=this.race.comments[e];if(T.a.isDefined(i.comments[e])){const e=i.comments.findIndex(e=>e.id===s),t=i.comments[e];T.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}const i=this.races.findIndex(t=>t.id===e);if(i>-1&&T.a.isDefined(this.races[i].comments)){const e=this.races[i].comments.findIndex(e=>e.id===t),o=this.races[i].comments[e];if(T.a.isDefined(o.comments)){const e=o.comments.findIndex(e=>e.id===s),t=o.comments[e];T.a.isUndefined(t.likes)&&(t.likes=[]),t.likes.push(a)}}}addCommentToRace({id:e,data:t}){T.a.isArray(this.race.comments)&&this.race.comments.push(t);const s=this.races.findIndex(t=>t.id===e);s>-1&&(T.a.isUndefined(this.races[s].comments)&&(this.races[s].comments=[]),this.races[s].comments.push(t))}addCommentToRaceComment({id:e,commentId:t,data:s}){if(T.a.isDefined(this.race.comments)){const e=this.race.comments.findIndex(e=>e.id===t),a=this.race.comments[e];T.a.isUndefined(a.comments)&&(a.comments=[]),a.comments.push(s)}const a=this.races.findIndex(t=>t.id===e);if(a>-1&&T.a.isDefined(this.races[a].comments)){const e=this.races[a].comments.findIndex(e=>e.id===t),i=this.races[a].comments[e];T.a.isUndefined(i.comments)&&(i.comments=[]),i.comments.push(s)}}async likeRace({id:e}){const t=await T.a.fetchApi("/api/races/like/"+e,{publish:!0,method:"GET"},{});switch(t.status){case 200:return this.addLikeToRace({id:e,data:t.data}),t;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}async likeRaceComment({id:e,commentId:t}){const s=await T.a.fetchApi(`/api/races/like/${e}/${t}`,{publish:!0,method:"GET"},{});switch(s.status){case 200:return this.addLikeToComment({id:e,commentId:t,data:s.data}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}async likeRaceCommentReply({id:e,commentId:t,replyId:s}){const a=await T.a.fetchApi(`/api/races/like/${e}/${t}/${s}`,{publish:!0,method:"GET"},{});switch(a.status){case 200:return this.addLikeToCommentReply({id:e,commentId:t,replyId:s,data:a.data}),a;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}async commentRace({id:e,comment:t}){const s=await T.a.fetchApi("/api/races/comment/"+e,{publish:!0,method:"POST"},{comment:t});switch(s.status){case 200:return this.addCommentToRace({id:e,data:s.data}),s;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}async commentReplyRace({id:e,commentId:t,comment:s}){const a=await T.a.fetchApi(`/api/races/comment/${e}/${t}`,{publish:!0,method:"POST"},{comment:s});switch(a.status){case 200:return this.addCommentToRaceComment({id:e,commentId:t,data:a.data}),a;case 401:I.a.publish(I.b.LOG_OUT),Object(D.route)("/",!0)}}}).prototype,"newRace",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=r(l.prototype,"raceInProgress",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=r(l.prototype,"signup",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=r(l.prototype,"newSignup",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=r(l.prototype,"signups",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=r(l.prototype,"race",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=r(l.prototype,"races",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=r(l.prototype,"images",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=r(l.prototype,"classes",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),O=r(l.prototype,"teamList",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=r(l.prototype,"workoutSummary",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=r(l.prototype,"activeTeams",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=r(l.prototype,"waypoints",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=r(l.prototype,"zoomToMarkers",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=r(l.prototype,"totalClasses",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=r(l.prototype,"totalContestants",[S.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),r(l.prototype,"updateRaceInProgress",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"updateRaceInProgress"),l.prototype),r(l.prototype,"countAll",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"countAll"),l.prototype),r(l.prototype,"getAllImages",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"getAllImages"),l.prototype),r(l.prototype,"getAllClassesSortedBy",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"getAllClassesSortedBy"),l.prototype),r(l.prototype,"removeClassLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"removeClassLocal"),l.prototype),r(l.prototype,"addClassLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addClassLocal"),l.prototype),r(l.prototype,"updateClassesLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"updateClassesLocal"),l.prototype),r(l.prototype,"removeArticleLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"removeArticleLocal"),l.prototype),r(l.prototype,"addArticleLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addArticleLocal"),l.prototype),r(l.prototype,"updateArticlesLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"updateArticlesLocal"),l.prototype),r(l.prototype,"removeUserImageLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"removeUserImageLocal"),l.prototype),r(l.prototype,"addUserImageLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addUserImageLocal"),l.prototype),r(l.prototype,"updateUserImagesLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"updateUserImagesLocal"),l.prototype),r(l.prototype,"addSignup",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addSignup"),l.prototype),r(l.prototype,"resetSignup",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"resetSignup"),l.prototype),r(l.prototype,"addContestantLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addContestantLocal"),l.prototype),r(l.prototype,"removeImageLocal",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"removeImageLocal"),l.prototype),r(l.prototype,"updateTeamList",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"updateTeamList"),l.prototype),r(l.prototype,"getWorkoutSummaryByTeam",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"getWorkoutSummaryByTeam"),l.prototype),r(l.prototype,"getWorkoutSummaryActiveTeams",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"getWorkoutSummaryActiveTeams"),l.prototype),r(l.prototype,"updateWorkoutSummary",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"updateWorkoutSummary"),l.prototype),r(l.prototype,"addLikeToRace",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addLikeToRace"),l.prototype),r(l.prototype,"addLikeToComment",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addLikeToComment"),l.prototype),r(l.prototype,"addLikeToCommentReply",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addLikeToCommentReply"),l.prototype),r(l.prototype,"addCommentToRace",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addCommentToRace"),l.prototype),r(l.prototype,"addCommentToRaceComment",[S.c],Object.getOwnPropertyDescriptor(l.prototype,"addCommentToRaceComment"),l.prototype),l);t.a=L},w8dD:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("UJvz"),d=s("lcEk"),h=s("ePpR"),u=(s("nHdA"),s("irB3")),p=(s("UwwE"),s("8Lgr")),m=(s("QkTp"),s("ZOvn"));const b=m.a.getMaxLoadIndex(),f={showAddComment:!1};let g=Object(l.a)(o=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeTrack=async function(){const{trackStore:e}=t.props.stores,{track:s}=t.props;await e.likeTrack({id:s.id})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.showModal=e=>{e.stopPropagation(),e.preventDefault();this.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),this.updateTimer={},this.inputRef={}}render(){const{displayModal:e,currentImage:t,currentImageXXL:s,showDate:a,thumb:i,name:o,title:l,date:f,showAddComment:g}=this.state,{track:O,showUser:v=!1,isPublic:y=!1}=this.props,j=O.image&&O.image.s3SmallLink?O.image:null,{gpxInfo:w={}}=O,{loadIndex:k=0}=w,{userStore:x}=this.props.stores,{user:S}=x,{likes:_=[],comments:T=[]}=O,D=O.likes&&O.likes.findIndex(e=>e.user===S.id)>-1;return Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},e&&Object(n.h)(c.a,{close:this.closeModal,image:t,imagexxl:s,thumb:i,name:o,title:l,date:f}),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:j?`background-image: url("${j.s3SmallLink}");`:""},!j&&Object(n.h)("i",{class:"fas fa-map-marked text-muted mt-3",style:"font-size: 40px;"})),Object(n.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(n.h)("a",{class:"stretched-link",href:`/tracks/${O.id}${y?"/public":""}`},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},O.name),Object(n.h)("div",{class:"text-muted font-weight-lighter"},Object(n.h)("small",null,O.place))),Object(n.h)("div",null,Object(n.h)("small",null,k>0&&Object(n.h)("span",{class:"ml-2 text-"+m.a.getLoadIndexColor(r.a.normalizeBetween(k,0,b,0,100))},Object(n.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(r.a.normalizeBetween(k,0,b,0,100))," - ",m.a.getLoadIndexText(r.a.normalizeBetween(k,0,b,0,100))))),Object(n.h)("div",null,1===O.public&&Object(n.h)("span",{class:"badge badge-success"},"Is public"),v&&Object(n.h)("span",{class:"text-muted font-weight-lighter ml-3"},m.a.displayName(O.users))),Object(n.h)("small",{class:"text-muted"},O.date&&Object(n.h)("small",{onClick:this.toggleDate},a?r.a.formatDate(O.date,{locale:"no-NB"}):r.a.formatDistance(O.date,new Date,{locale:"no-NB"}),Object(n.h)("br",null))),Object(n.h)("small",{class:"text-muted"},O.garminId>0&&Object(n.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),O.stravaId>0&&Object(n.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),Object(n.h)("i",{class:"fas fa-road"})," ",Object(n.h)(p.a,{stores:this.props.stores,value:O.distanceKm}),Object(n.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(n.h)(u.a,{stores:this.props.stores,value:O.elevation}),O.gpx&&Object(n.h)("i",{class:"fas fa-map-marked-alt ml-2"})))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1",style:"padding-left: 122px;"},Object(n.h)("div",{class:"row"},O.images&&O.images.map(e=>Object(n.h)("div",{class:"text-center border rounded imageRounded imageRoundedSmall",style:e?`background-image: url("${e.s3SmallLink}");`:"",onClick:this.showModal,"data-image":e.s3LargeLink,"data-imagexxl":e.s3XXLargeLink,"data-thumb":O.image&&O.image.s3SmallLink,"data-title":O.name,"data-date":O.date}," ")))),Object(n.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},_&&_.length>0&&Object(n.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",_.length),T&&T.length>0&&Object(n.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",T.length)),Object(n.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:`btn btn-sm btn-outline-${D?"primary":"secondary"} btn-lg btn-block ${D?"text-primary":""}`,onClick:this.likeTrack},Object(n.h)("i",{class:(D?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":O.id,onClick:this.toggleAddComment},Object(n.h)("i",{class:"fas fa-comment"})," Comment")))),g&&Object(n.h)(h.a,{stores:this.props.stores,track:O,inputRef:e=>this.inputRef[O.id]=e}),Object(n.h)(d.a,{stores:this.props.stores,track:O,col:10,offset:2,compact:!0})))}})||o;t.a=g},w8wE:function(e){"use strict";function t(e){if(!(this instanceof t))return new t(e);this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,this._data=[]}e.exports=t,t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,t){t=void 0===t?15:t;var s=this._circle=this._createCanvas(),a=s.getContext("2d"),i=this._r=e+t;return s.width=s.height=2*i,a.shadowOffsetX=a.shadowOffsetY=2*i,a.shadowBlur=t,a.shadowColor="black",a.beginPath(),a.arc(-i,-i,e,0,2*Math.PI,!0),a.closePath(),a.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(e){var t=this._createCanvas(),s=t.getContext("2d"),a=s.createLinearGradient(0,0,0,256);for(var i in t.width=1,t.height=256,e)a.addColorStop(+i,e[i]);return s.fillStyle=a,s.fillRect(0,0,1,256),this._grad=s.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var t=this._ctx;t.clearRect(0,0,this._width,this._height);for(var s,a=0,i=this._data.length;a<i;a++)s=this._data[a],t.globalAlpha=Math.max(s[2]/this._max,void 0===e?.05:e),t.drawImage(this._circle,s[0]-this._r,s[1]-this._r);var o=t.getImageData(0,0,this._width,this._height);return this._colorize(o.data,this._grad),t.putImageData(o,0,0),this},_colorize:function(e,t){for(var s,a=0,i=e.length;a<i;a+=4)(s=4*e[a+3])&&(e[a]=t[s],e[a+1]=t[s+1],e[a+2]=t[s+2])},_createCanvas:function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor}}},w93r:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("/eY4"),n=s("Utv1"),r=s("OhSV"),l=(s("X9Km"),s("QkTp")),c=s("ZOvn");let d=Object(o.a)(a=class extends i.Component{constructor(e){super(e),this.toggleyrWeather=()=>{const{showWeather:e}=this.state;this.setState({showWeather:!e})},this.state={},this.inputRef={}}async loadWeather(){const{userStore:e}=this.props.stores;this.setState({isLoading:!0});const{user:t}=e;if(t.currentLocationInfo&&t.currentLocationInfo.coords){const{latitude:s,longitude:a,altitude:i}=t.currentLocationInfo.coords;e.getWeatherUser({lat:s,lon:a,altitude:i}),e.formatWeather()}}componentDidMount(){this.loadWeather()}render(){const{showWeather:t}=this.state,{place:s}=this.props,{userStore:a}=this.props.stores,{yrWeather:o,yrWeatherKeys:d,yrWeatherFormatted:h,user:u}=a,{currentLocationGeocode:p}=u;return o&&s?t?Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4"},p&&p.formatted_address&&Object(i.h)("h5",null,p.formatted_address),Object(i.h)("div",{class:"table-responsive",onTouchstart:c.a.captureEvents,onTouchend:c.a.captureEvents,onTouchmove:c.a.captureEvents,onScroll:c.a.captureEvents},Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:"text-center"}," "),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.night"},"Night")),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.morning"},"Morning")),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.afternoon"},"Afternoon")),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.evening"},"Evening")),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.temp"},"Temp")),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.rainfall"},"Rainfall")),Object(i.h)("th",{class:"text-center"},Object(i.h)(r.c,{id:"weather.wind"},"Wind")))),Object(i.h)("tbody",null,d&&d.map(t=>Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,t)),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,n.a.getNestedValue(h[t].night,"next_6_hours.summary.symbol_code")&&Object(i.h)("img",{style:"width: 40px;",src:`./assets/svg/${n.a.getNestedValue(h[t].night,"next_6_hours.summary.symbol_code")}.svg`}))),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,n.a.getNestedValue(h[t].morning,"next_6_hours.summary.symbol_code")&&Object(i.h)("img",{style:"width: 40px;",src:`./assets/svg/${n.a.getNestedValue(h[t].morning,"next_6_hours.summary.symbol_code")}.svg`}))),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,n.a.getNestedValue(h[t].day,"next_6_hours.summary.symbol_code")&&Object(i.h)("img",{style:"width: 40px;",src:`./assets/svg/${n.a.getNestedValue(h[t].day,"next_6_hours.summary.symbol_code")}.svg`}))),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,n.a.getNestedValue(h[t].evening,"next_6_hours.summary.symbol_code")&&Object(i.h)("img",{style:"width: 40px;",src:`./assets/svg/${n.a.getNestedValue(h[t].evening,"next_6_hours.summary.symbol_code")}.svg`}))),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-temperature-low text-muted ml-1 mr-2"}),Object(i.h)("span",{class:c.a.getTemperatureColor(n.a.getNestedValue(h[t],"air_temperatures_min"))},Object(i.h)(l.a,{stores:this.props.stores,value:n.a.getNestedValue(h[t],"air_temperatures_min")})),Object(i.h)("span",{class:"text-muted font-weight-lighter mx-1"},"-"),Object(i.h)("span",{class:c.a.getTemperatureColor(n.a.getNestedValue(h[t],"air_temperatures_max"))},Object(i.h)(l.a,{stores:this.props.stores,value:n.a.getNestedValue(h[t],"air_temperatures_max")})))),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,n.a.format(n.a.getNestedValue(h[t],"precipitation_amount"),1)," ",Object(i.h)("span",{class:"text-muted font-weight-lighter"},"mm"))),Object(i.h)("td",{class:"text-center"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",Object(i.h)("span",{class:c.a.getWindSpeedColor(n.a.getNestedValue(h[t],"wind_speeds_min"))},n.a.format(n.a.getNestedValue(h[t],"wind_speeds_min"),1))," ",Object(i.h)("span",{class:"text-muted font-weight-lighter"},"-")," ",Object(i.h)("span",{class:c.a.getWindSpeedColor(n.a.getNestedValue(h[t],"wind_speeds_max"))},n.a.format(n.a.getNestedValue(h[t],"wind_speeds_max"),1))," ",Object(i.h)("span",{class:"text-muted font-weight-lighter"},"m/s"))))))))),Object(i.h)("button",{type:"button",class:"btn btn-block btn-primary btn-sm",onClick:this.toggleyrWeather},Object(i.h)("i",{class:"fas fa-times-circle"})," ",Object(i.h)(r.c,{id:"weather.close"},"Close"))):Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},o&&o.length>0&&Object(i.h)("div",{class:"container-fluid px-0"},Object(i.h)("div",{class:"row",onClick:this.toggleyrWeather},o&&o.length>0&&o.slice(0,1).map(e=>Object(i.h)("div",{class:"col-12 text-right"},Object(i.h)("nobr",null,Object(i.h)("small",{class:"font-weight-light text-muted"},n.a.isoTime(e.time)),":",Object(i.h)("img",{src:`./assets/svg/${n.a.getNestedValue(e,"next_1_hours.summary.symbol_code")}.svg`,class:"ml-2",style:"height: 20px;"}),n.a.getNestedValue(e,"next_1_hours.details.precipitation_amount")>0&&Object(i.h)("small",{class:"ml-2"},n.a.getNestedValue(e,"next_1_hours.details.precipitation_amount"),Object(i.h)("span",{class:"text-muted font-weight-lighter"},"mm")),Object(i.h)("small",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-temperature-low text-muted"})," ",Object(i.h)(l.a,{stores:this.props.stores,value:n.a.getNestedValue(e,"instant.details.air_temperature")})),Object(i.h)("small",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-wind text-muted"})," ",n.a.getNestedValue(e,"instant.details.wind_speed"),Object(i.h)("span",{class:"text-muted font-weight-lighter"},"m/s")," ",Object(i.h)("span",{class:"text-muted font-weight-lighter"},c.a.windDirection(n.a.getNestedValue(e,"instant.details.wind_from_direction"))))),Object(i.h)("br",null)))))):""}})||a;t.a=d}).call(this,s("hosL").Fragment)},wLBv:function(e,t,s){"use strict";var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");let r=Object(n.a)(a=class extends i.Component{render(){const{musher:e}=this.props;return Object(i.h)("div",{class:"w-100 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?`background-image: url("${e.image.s3SmallLink}");`:""},!e.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},o.a.ucfirst(e.email,!0))),Object(i.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(i.h)("span",{class:"float-right"}),Object(i.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.fname||e.email)))))}})||a;t.a=r},wM2g:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV");s("ZOvn");const c={};Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c)}render(){return Object(n.h)("span",{class:"badge badge-pill badge-warning float-right"},Object(n.h)("i",{class:"fas fa-award mr-2"})," ",Object(n.h)(l.c,{id:"premium.title"},"Premium"))}})},wanP:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("eK6s"),c=s.n(l);const d={mouseData:{}};let h=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d),this.svgRef=null}render(){const{radius:t=50,heightAdd:s=0,color:a="success",showPercentText:i=!0,percent:o=0,prefix:r="",showCenterText:l=!1,centerText:d,centerTextSize:h,centerTextX:u,centerTextY:p,total:m="",totalY:b="90%",totalX:f="50%",totalTextAnchor:g="middle",completed:O="",completedY:v="65%",completedX:y="50%",completedTextAnchor:j="middle"}=this.props,w=.3*t,k=t-w/2,x=.3*t,S=2*k*Math.PI,_=.75*S,T=`${_} ${S}`,D=`rotate(135, ${t}, ${t})`,I=_-Math.min(Math.max(o,0),100)/100*_,P=h||t/2.5,L=t/5;return Object(n.h)(e,null,Object(n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:c.a.svg,width:2*t,height:2*t+s,preserveAspectRatio:"none",ref:e=>this.svgRef=e},Object(n.h)("circle",{class:""+c.a.gaugeBackground,cx:t,cy:t,r:k,strokeWidth:w,strokeDasharray:T,strokeLinecap:"round",transform:D}),Object(n.h)("circle",{class:`${c.a[a]} ${c.a.gauge}`,cx:t,cy:t,r:k,stroke:"url(#grad)",strokeDasharray:T,strokeDashoffset:I,strokeLinecap:"round",strokeWidth:x,style:{transition:"stroke-dashoffset 0.3s"},transform:D}),i&&Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a[a]}`,x:u||"50%",y:p||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":P},o," ",r),l&&Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a[a]}`,x:u||"50%",y:p||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":P},d),O&&Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a[a]}`,x:y,y:v,"dominant-baseline":"middle","text-anchor":j,"font-size":L},O),Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a.secondary}`,x:f,y:b,"dominant-baseline":"middle","text-anchor":g,"font-size":L},m)))}})||o;t.a=h}).call(this,s("hosL").Fragment)},xDik:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn"),c=s("UJvz"),d=s("1OK2"),h=s("ETxl"),u=s.n(h);const p=l.a.getVaccineTypes();let m=Object(n.a)(a=class extends i.Component{constructor(e){var t;super(e),t=this,this.showModal=e=>{e.stopPropagation(),e.preventDefault();this.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{const{eventFired:t}=this.state;t||this.setState({startY:e.touches[0].pageY,startX:e.touches[0].pageX,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchEnd=()=>{const{eventFired:e}=this.state;this.setState(e?{startY:void 0,startX:void 0}:{startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchMove=e=>{const{eventFired:t}=this.state;if(t)return!1;const{startY:s,startX:a}=this.state,i=e.touches[0].pageY,o=e.touches[0].pageX;this.setState({diffY:i-s,diffX:o-a}),i>s+130||i<s-130||o>a+130||o<a-130&&this.setState({eventFired:!0})},this.reset=e=>{e&&(e.stopPropagation(),e.preventDefault()),this.setState({deleted:!1,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.deleteHistoryRequest=async function(e){e.stopPropagation(),t.setState({deleteVerify:!0})},this.deleteHistory=async function(e){e.stopPropagation();const{dogStore:s}=t.props.stores,{line:a}=t.props;await s.save({id:a.dogId,$pull:{history:{_id:a.id||a._id}}}),t.setState({deleted:!0,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.swipeLeft=e=>{const{eventFired:t}=this.state;e.stopPropagation(),t?this.reset():this.setState({eventFired:!0,diffX:-130})},this.state={showDate:!1}}componentWillReceiveProps(e){e.line.id!==this.props.line.id&&this.reset()}render(){const{userStore:t}=this.props.stores,{user:s}=t,{language:a="en"}=s,n=l.a.getHistoryMap(a),{displayModal:h,currentImage:m,currentImageXXL:b,showDate:f,thumb:g,name:O,title:v,date:y}=this.state,{line:j}=this.props,{diffX:w,deleted:k,deleteVerify:x}=this.state,S=j.images&&j.images.length>0,_=w<0;return Object(i.h)("div",{class:"w-100 mb-3 position-relative "+u.a.hoverElement,onTouchstart:k?()=>{}:this.touchStart,onTouchend:k?()=>{}:this.touchEnd,onTouchmove:k?()=>{}:this.touchMove,onClick:!k&&_?this.reset:()=>{},style:`opacity: ${k?.3:1};`},!_&&!k&&Object(i.h)("div",{class:"position-absolute "+u.a.hoverelementonly,style:"top: 0px; right: 0px; z-index: 1000;"},Object(i.h)("button",{class:"btn btn-sm btn-secondary",type:"button",onClick:this.swipeLeft},Object(i.h)("i",{class:"fas fa-ellipsis-h"}))),_&&!k&&Object(i.h)("div",{class:"position-absolute",style:`right: 0px; top: 10%; overflow: hidden; width: ${Math.abs(w)||0}px; line-height: 0.8em;`},!j.grouped&&Object(i.h)(e,null,x?Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-sm btn-secondary float-right ml-3 mb-3",onClick:this.reset},Object(i.h)("i",{class:"fas fa-times"})," ",Object(i.h)(r.c,{id:"dog.history.no"},"Nei")),Object(i.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.deleteHistory},Object(i.h)("i",{class:"fas fa-check"})," ",Object(i.h)(r.c,{id:"dog.history.yes"},"Ja"))):Object(i.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteHistoryRequest},Object(i.h)("i",{class:"fas fa-trash"})," ",Object(i.h)(r.c,{id:"dog.history.delete"},"Slett"))),j.grouped&&Object(i.h)("small",null,Object(i.h)(r.c,{id:"dog.history.cant-delete-groups"},"Kan ikke slette grupperinger. Gå inn på hundene og slett der."),Object(i.h)("br",null),Object(i.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.reset},Object(i.h)("i",{class:"fas fa-check"})," Ok"))),Object(i.h)("div",{class:"row position-relative",style:`left: ${_?w:0}px;`},h&&Object(i.h)(c.a,{close:this.closeModal,image:m,imagexxl:b,thumb:g,name:O,title:v,date:y}),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},j.dogImage?Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:j.dogImage?`background-image: url("${j.dogImage.s3SmallLink}"); background-size: cover;`:""}," "):Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:j.images&&j.images[0]?`background-image: url("${j.images[0].s3SmallLink}"); background-size: cover;`:""},!S&&Object(i.h)("i",{class:"fas fa-rss text-muted mt-2",style:"font-size: 20px;"})),Object(i.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"line-height: 1.0em;"},!j.grouped&&j.dogId&&Object(i.h)("a",{class:"stretched-link",href:"/dogs/"+j.dogId},Object(i.h)("strong",{class:"mr-2"},j.dogShortname||j.dogName,": ")),j.title,Object(i.h)("br",null),j.grouped&&Object(i.h)(e,null,Object(i.h)("div",{class:"w-100 clearfix mt-2"},j.grouped.map(t=>Object(i.h)(e,null,Object(i.h)("a",{href:"/dogs/"+t.dogId},t.dogImage?Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left",style:"margin-right: 2px; "+(t.dogImage?`background-image: url("${t.dogImage.s3SmallLink}");`:"")}," "):Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left text-muted pt-1",style:"margin-right: 2px; "+(t.images&&t.images[0]?`background-image: url("${t.images[0].s3SmallLink}");`:"")},!S&&Object(i.h)("span",{style:"font-size: 15px;"},o.a.ucfirst(t.dogName,!0))))))),Object(i.h)("div",{class:"w-100 clearfix mt-2"},Object(i.h)("small",null,j.grouped.map(e=>Object(i.h)("span",{class:"float-left mr-2 text-muted"},Object(i.h)("a",{href:"/dogs/"+e.dogId},e.dogShortname||e.dogName)))))),Object(i.h)("div",{class:"w-100 clearfix"},Object(i.h)("small",{class:"text-muted"},j.date&&Object(i.h)("small",{onClick:this.toggleDate},f?o.a.formatDate(j.date,{locale:"no-NB"}):o.a.formatDistance(j.date,new Date,{locale:"no-NB"}),j.endDate&&Object(i.h)("span",{class:"ml-3"},Object(i.h)("i",{class:"fas fa-hourglass-end"})," ",o.a.formatDate(j.endDate,{locale:"no-NB"})),j.historyType&&Object(i.h)("span",{class:"ml-3"},Object(i.h)("i",{class:"fas fa-folder-open"})," ",n[j.historyType]," ",j.vaccineType?" - "+p[j.vaccineType].name:""),j.weight&&Object(i.h)("span",{class:"ml-3"},Object(i.h)("i",{class:"fas fa-balance-scale"})," ",j.weight," kg"),j.bodyScore&&Object(i.h)("span",{class:"ml-3"},Object(i.h)("i",{class:"fas fa-dog"})," ",j.bodyScore),j.user&&j.user.email&&Object(i.h)("span",{class:"ml-3"},Object(i.h)("i",{class:"fas fa-user"})," ",j.user.email)))))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("span",{class:"font-weight-normal"},j.comment),Object(i.h)("span",{class:"float-right"},j.cost?"Kr. "+o.a.format(j.cost,2):""))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("div",{class:"d-flex mx-0"},Object(i.h)(d.a,{images:j.images})))))))}})||a;t.a=m}).call(this,s("hosL").Fragment)},xNCi:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let c=Object(r.d)(()=>({week:Object(i.h)(r.c,{id:"workout.graph.week"}),distance:Object(i.h)(r.c,{id:"workout.graph.distance"}),ascend:Object(i.h)(r.c,{id:"workout.graph.ascend"}),plan:Object(i.h)(r.c,{id:"workout.graph.plan"})}))(a=Object(n.a)(a=class extends i.Component{render(){const{fieldsLeft:t=[],legendLeft:s=[],fieldsRight:a=[],legendRight:n=[],showDebug:r,xTicksVal:c=(e=>o.a.isoDate(e,!1,!1,!0)),xTicksCnt:d=5,yTicksLeftVal:h=(e=>e),yTicksRightVal:u=(e=>e)}=this.props,{adminStore:p}=this.props.stores,m=t.map(e=>o.a.getNestedValue(p,e)||[]),b=a.map(e=>o.a.getNestedValue(p,e)||[]),f=m&&m[0]?m[0]:[],g=[];if(f.length){const e=Math.ceil(f.length/(d-1)),t=Math.floor(f.length/e);r&&console.log({firstData:f,parts:t,partSize:e});for(let t=0,s=f.length;t<s;t+=e)g.push(f[t].epoch);g.push(f[f.length-1].epoch)}return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(l.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicksVal:c,xTicks:g,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:m,legendLeft:s,showYTicksLeft:1,yTicksLeftVal:h,avgWindowLeft:[2,2,2,2,2,2,2,2,2,2,2,2],smoothLeft:[1,1,1,1,1,1,1,1,1,1],dataRight:b,legendRight:n,showYTicksRight:b.length>0?1:0,yTicksRightVal:u,avgWindowRight:[0,0,0,0,0,0,0,0,0,0],smoothRight:[1,1,1,1,1,1,1,1,1,1],scrollToRight:!0})))}})||a)||a;t.a=c}).call(this,s("hosL").Fragment)},xVO4:function(e,t,s){"use strict";e.exports=s("9K2m")},xrjw:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("0942"),i=s("7L9N"),o=s("mK0O"),n=s("l8WD"),r=s("d+ec"),l=s("EcmK"),c=function(e){function t(t){var s;return s=e.call(this,t)||this,Object(o.a)(Object(a.a)(s),"onClose",(function(){s.props.onClose&&s.props.onClose()})),Object(o.a)(Object(a.a)(s),"onOpen",(function(){s.forceUpdate(),s.props.onOpen&&s.props.onOpen()})),s.leafletElement=s.createLeafletElement(t),s}Object(i.a)(t,e);var s=t.prototype;return s.createLeafletElement=function(){throw new Error("createLeafletElement() must be implemented")},s.updateLeafletElement=function(){},s.componentDidUpdate=function(e){Object(l.b)(this.leafletElement._container,e.className,this.props.className),this.updateLeafletElement(e,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())},s.onRender=function(){},s.render=function(){return this.leafletElement._contentNode?Object(n.createPortal)(this.props.children,this.leafletElement._contentNode):null},t}(r.a)},xsrU:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn"),h=(s("JWe/"),s("3pQw"),s("xDik")),u=s("2X7c"),p=s("mPUg");const m=d.a.marginTop(!0),b=d.a.marginBottom(),f=d.a.subMenuMarginTop(),g={isLoading:!1};let O=Object(l.a)(o=class extends n.Component{constructor(e){super(e),this.setHistoryType=e=>{this.setState({historyType:e})},this.setDay=(e,t,s)=>{this.setState({yyyy:e,mm:t,dd:s})},this.resetDay=()=>{this.setState({yyyy:null,mm:null,dd:null})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},g),this.loadAll()}async loadAll(){this.setState({isLoading:!0}),await this.loadFeed(),this.setState({isLoading:!1})}async loadFeed(e=this.props){const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:a}=s,i=(new Date).getMonth()+1,{month:o=i,year:n=r.a.getYear(),team:l=a,dog:c={}}=e;await t.getFeed({month:o,year:n,team:l,dog:c.id})}componentDidMount(){this.loadAll()}render(){const{scrolledDown:e}=this.props,{isLoading:t,historyType:s,yyyy:a,mm:i,dd:o}=this.state,{userStore:l,appState:d}=this.props.stores,{darkmode:g}=d,{month:O,year:v}=this.props,{historyFeed:y}=l;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${m};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:f}; background-color: ${g?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(c.c,{id:"dogs.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(c.c,{id:"dogs.list"},"Liste")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/feed",class:"text-primary stretched-link"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(c.c,{id:"dogs.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",Object(n.h)(c.c,{id:"dogs.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 mb-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("span",{class:"float-right"},Object(n.h)(u.a,{stores:this.props.stores,dog:{}})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.title"},"Siste fra hundene"))),Object(n.h)(p.a,{stores:this.props.stores,basehref:"/dogs/feed/",month:O,year:v,callback:this.setHistoryType,setDay:this.setDay}),!t&&y&&0===y.length&&Object(n.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom text-muted"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.no-log"},"Ingen hendelser fra hundene.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-1"},"Det er fint å legge inn hendelser (løpetid, skader, vaksinering, vetrinærbesøk, mm) og bilder av hundene i loggen.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-2"},"På denne måten så vil hele teamet ditt se hva som skjer med hundene og hva som trengs å følges opp. Dette er en slags ",Object(n.h)("strike",null,"Face"),"Dogbook for hundene deres.")),Object(n.h)("br",null),Object(n.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(n.h)("i",{class:"fas fa-dog"})," ",Object(n.h)(c.c,{id:"feed.add-log"},"Legg til logg på hundene"))),a&&i&&o&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-3"},Object(n.h)("button",{class:"btn btn-sm btn-secondary float-right",onClick:this.resetDay},Object(n.h)(c.c,{id:"feed.show-all-days"},"Vis alle")),Object(n.h)("h5",null,a,"-",r.a.padDate(i),"-",r.a.padDate(o),":")),y&&y.filter(e=>{let t=!0;return s&&(t=e.historyType===s),t&&a&&i&&o&&(t=e.year===a&&e.month===i&&e.day===o),t}).map(e=>Object(n.h)(h.a,{stores:this.props.stores,line:e})))))}})||o;t.a=O},yBJb:function(e,t,s){"use strict";function a(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,s){return t&&a(e.prototype,t),s&&a(e,s),e}s.d(t,"a",(function(){return i}))},yDvG:function(){},yHBq:function(e,t,s){"use strict";(function(e){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var i,o,n=s("hosL"),r=s("/eY4"),l=s("Utv1");let c=Object(r.a)(i=class extends n.Component{constructor(e){super(e),this.state={},this.containerRef=null}componentWillUnmount(){const{removeIntersectionObserver:e}=this.props;e&&e(this.containerRef)}componentDidMount(){const{addIntersectionObserver:e}=this.props;e&&e(this.containerRef)}render(){const{wrapperClassNames:e="",contentClassNames:t="",renderContent:s,obj:i={},idx:o,dataFields:r,dataValues:l,sessionid:c}=this.props,d={};return c&&(d.sessionid=c),r.forEach(e=>d["data-"+e]=encodeURI(l[e]||i[e])),Object(n.h)("div",a({class:""+e,ref:e=>this.containerRef=e,"data-idx":o},d),Object(n.h)("div",{class:""+t,style:"display: block;"},s({obj:i,idx:o})))}})||i,d=Object(r.a)(o=class extends n.Component{constructor(e){super(e),this.deleteIntersectionObserver=()=>{this.intersectionObserver=null},this.handleIntersection=e=>{const{handleIntersection:t}=this.props;"function"==typeof t&&t(e),e.forEach(e=>{const{isIntersecting:t}=e,{height:s=0}=e.target.dataset,a=Math.max(e.target.childNodes[0].offsetHeight,e.target.offsetHeight,e.target.scrollHeight);t?(e.target.childNodes[0].style.display="block",e.target.style.minHeight=(a>s?a:s)+"px"):e.target.style.minHeight&&(e.target.style.minHeight=(a>s?a:s)+"px",e.target.childNodes[0].style.display="none")})},this.setupIntersectionObserver=()=>{if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"100px",threshold:.1})},this.addIntersectionObserver=e=>{this.intersectionObserver&&e&&this.intersectionObserver.observe(e)},this.removeIntersectionObserver=e=>{this.intersectionObserver&&e&&this.intersectionObserver.unobserve(e)},this.state={}}componentWillMount(){this.setupIntersectionObserver()}componentWillUnmount(){this.deleteIntersectionObserver()}render(){const{data:t=[],wrapperClassNames:s="row pb-4 bg-light",contentClassNames:a="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 shadow-sm",renderContent:i=(()=>Object(n.h)(e,null,"Missing render function!")),dataFields:o=[],dataValues:r={}}=this.props;return Object(n.h)("div",{class:"w-100"},t&&t.filter(e=>l.a.isObject(e)).map((t,l)=>{const d=t.hasOwnProperty("wrapperClassNames")?t.wrapperClassNames:s,h=t.hasOwnProperty("contentClassNames")?t.contentClassNames:a;return Object(n.h)(e,null,Object(n.h)(c,{key:`fastline-${l}-${t.id}`,obj:t,idx:l,addIntersectionObserver:this.addIntersectionObserver,removeIntersectionObserver:this.removeIntersectionObserver,wrapperClassNames:d,contentClassNames:h,renderContent:i,dataFields:o,dataValues:r}))}))}})||o;t.a=d}).call(this,s("hosL").Fragment)},yLmZ:function(e,t,s){(function(e,s){function a(e,t,s,a){var i=-1,o=e?e.length:0;for(a&&o&&(s=e[++i]);++i<o;)s=t(s,e[i],i,e);return s}function i(e,t){for(var s=-1,a=e?e.length:0;++s<a;)if(t(e[s],s,e))return!0;return!1}function o(e,t,s,a,i){return i(e,(function(e,i,o){s=a?(a=!1,e):t(s,e,i,o)})),s}function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function r(e){var t=-1,s=Array(e.size);return e.forEach((function(e,a){s[++t]=[a,e]})),s}function l(e){var t=-1,s=Array(e.size);return e.forEach((function(e){s[++t]=e})),s}function c(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function d(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function h(e){var t=-1,s=e?e.length:0;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function u(e){var t=-1,s=e?e.length:0;for(this.__data__=new h;++t<s;)this.add(e[t])}function p(e){this.__data__=new d(e)}function m(e,t){var s=qe(e)||E(e)?function(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}(e.length,String):[],a=s.length,i=!!a;for(var o in e)!t&&!ve.call(e,o)||i&&("length"==o||_(o,a))||s.push(o);return s}function b(e,t){for(var s=e.length;s--;)if(A(e[s][0],t))return s;return-1}function f(e,t){for(var s=0,a=(t=T(t,e)?[t]:w(t)).length;null!=e&&s<a;)e=e[P(t[s++])];return s&&s==a?e:void 0}function g(e,t){return null!=e&&t in Object(e)}function O(e,t,s,a,i){return e===t||(null==e||null==t||!z(e)&&!U(t)?e!=e&&t!=t:function(e,t,s,a,i,o){var c=qe(e),d=qe(t),h="[object Array]",u="[object Array]";c||(h=(h=Ve(e))==H?G:h);d||(u=(u=Ve(t))==H?G:u);var m=h==G&&!n(e),b=u==G&&!n(t),f=h==u;if(f&&!m)return o||(o=new p),c||Ke(e)?k(e,t,s,a,i,o):function(e,t,s,a,i,o,n){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new ke(e),new ke(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return A(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case V:var c=r;case q:var d=2&o;if(c||(c=l),e.size!=t.size&&!d)return!1;var h=n.get(e);if(h)return h==t;o|=1,n.set(e,t);var u=k(c(e),c(t),a,i,o,n);return n.delete(e),u;case"[object Symbol]":if(Ue)return Ue.call(e)==Ue.call(t)}return!1}(e,t,h,s,a,i,o);if(!(2&i)){var g=m&&ve.call(e,"__wrapped__"),O=b&&ve.call(t,"__wrapped__");if(g||O){var v=g?e.value():e,y=O?t.value():t;return o||(o=new p),s(v,y,a,i,o)}}if(!f)return!1;return o||(o=new p),function(e,t,s,a,i,o){var n=2&i,r=W(e),l=r.length,c=W(t);if(l!=c.length&&!n)return!1;var d=l;for(;d--;){var h=r[d];if(!(n?h in t:ve.call(t,h)))return!1}var u=o.get(e);if(u&&o.get(t))return u==t;var p=!0;o.set(e,t),o.set(t,e);var m=n;for(;++d<l;){var b=e[h=r[d]],f=t[h];if(a)var g=n?a(f,b,h,t,e,o):a(b,f,h,e,t,o);if(!(void 0===g?b===f||s(b,f,a,i,o):g)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var O=e.constructor,v=t.constructor;O==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,s,a,i,o)}(e,t,O,s,a,i))}function v(e){return!(!z(e)||(t=e,ge&&ge in t))&&(M(e)||n(e)?je:Q).test(L(e));var t}function y(e){return"function"==typeof e?e:null==e?B:"object"==typeof e?qe(e)?function(e,t){if(T(e)&&D(t))return I(P(e),t);return function(s){var a=function(e,t,s){var a=null==e?void 0:f(e,t);return void 0===a?s:a}(s,e);return void 0===a&&a===t?function(e,t){return null!=e&&function(e,t,s){t=T(t,e)?[t]:w(t);var a,i=-1,o=t.length;for(;++i<o;){var n=P(t[i]);if(!(a=null!=e&&s(e,n)))break;e=e[n]}if(a)return a;return!!(o=e?e.length:0)&&R(o)&&_(n,o)&&(qe(e)||E(e))}(e,t,g)}(s,e):O(t,a,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=W(e),s=t.length;for(;s--;){var a=t[s],i=e[a];t[s]=[a,i,D(i)]}return t}(e);if(1==t.length&&t[0][2])return I(t[0][0],t[0][1]);return function(s){return s===e||function(e,t,s,a){var i=s.length,o=i,n=!a;if(null==e)return!o;for(e=Object(e);i--;){var r=s[i];if(n&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++i<o;){var l=(r=s[i])[0],c=e[l],d=r[1];if(n&&r[2]){if(void 0===c&&!(l in e))return!1}else{var h=new p;if(a)var u=a(c,d,l,e,t,h);if(!(void 0===u?O(d,c,a,3,h):u))return!1}}return!0}(s,e,t)}}(e):T(t=e)?(s=P(t),function(e){return null==e?void 0:e[s]}):function(e){return function(t){return f(t,e)}}(t);var t,s}function j(e){if((t=e)!==("function"==typeof(s=t&&t.constructor)&&s.prototype||be))return _e(e);var t,s,a=[];for(var i in Object(e))ve.call(e,i)&&"constructor"!=i&&a.push(i);return a}function w(e){return qe(e)?e:Ge(e)}function k(e,t,s,a,o,n){var r=2&o,l=e.length,c=t.length;if(l!=c&&!(r&&c>l))return!1;var d=n.get(e);if(d&&n.get(t))return d==t;var h=-1,p=!0,m=1&o?new u:void 0;for(n.set(e,t),n.set(t,e);++h<l;){var b=e[h],f=t[h];if(a)var g=r?a(f,b,h,t,e,n):a(b,f,h,e,t,n);if(void 0!==g){if(g)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!m.has(t)&&(b===e||s(b,e,a,o,n)))return m.add(t)}))){p=!1;break}}else if(b!==f&&!s(b,f,a,o,n)){p=!1;break}}return n.delete(e),n.delete(t),p}function x(e,t){var s,a,i=e.__data__;return("string"==(a=typeof(s=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==s:null===s)?i["string"==typeof t?"string":"hash"]:i.map}function S(e,t){var s=function(e,t){return null==e?void 0:e[t]}(e,t);return v(s)?s:void 0}function _(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||ee.test(e))&&e>-1&&e%1==0&&e<t}function T(e,t){if(qe(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!N(e))||(Z.test(e)||!K.test(e)||null!=t&&e in Object(t))}function D(e){return e==e&&!z(e)}function I(e,t){return function(s){return null!=s&&(s[e]===t&&(void 0!==t||e in Object(s)))}}function P(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function L(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var s=function s(){var a=arguments,i=t?t.apply(this,a):a[0],o=s.cache;if(o.has(i))return o.get(i);var n=e.apply(this,a);return s.cache=o.set(i,n),n};return s.cache=new(C.Cache||h),s}function A(e,t){return e===t||e!=e&&t!=t}function E(e){return function(e){return U(e)&&F(e)}(e)&&ve.call(e,"callee")&&(!xe.call(e,"callee")||ye.call(e)==H)}function F(e){return null!=e&&R(e.length)&&!M(e)}function M(e){var t=z(e)?ye.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function R(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||U(e)&&"[object Symbol]"==ye.call(e)}function $(e){return null==e?"":function(e){if("string"==typeof e)return e;if(N(e))return Ne?Ne.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}function W(e){return F(e)?m(e):j(e)}function B(e){return e}var H="[object Arguments]",V="[object Map]",G="[object Object]",q="[object Set]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,Y=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/\\(\\)?/g,Q=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te[H]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te[V]=te["[object Number]"]=te[G]=te["[object RegExp]"]=te[q]=te["[object String]"]=te["[object WeakMap]"]=!1;var se,ae,ie,oe="object"==typeof e&&e&&e.Object===Object&&e,ne="object"==typeof self&&self&&self.Object===Object&&self,re=oe||ne||Function("return this")(),le=t&&!t.nodeType&&t,ce=le&&"object"==typeof s&&s&&!s.nodeType&&s,de=ce&&ce.exports===le&&oe.process,he=function(){try{return de&&de.binding("util")}catch(e){}}(),ue=he&&he.isTypedArray,pe=Array.prototype,me=Function.prototype,be=Object.prototype,fe=re["__core-js_shared__"],ge=(se=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",Oe=me.toString,ve=be.hasOwnProperty,ye=be.toString,je=RegExp("^"+Oe.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=re.Symbol,ke=re.Uint8Array,xe=be.propertyIsEnumerable,Se=pe.splice,_e=(ae=Object.keys,ie=Object,function(e){return ae(ie(e))}),Te=S(re,"DataView"),De=S(re,"Map"),Ie=S(re,"Promise"),Pe=S(re,"Set"),Le=S(re,"WeakMap"),Ce=S(Object,"create"),Ae=L(Te),Ee=L(De),Fe=L(Ie),Me=L(Pe),Re=L(Le),ze=we?we.prototype:void 0,Ue=ze?ze.valueOf:void 0,Ne=ze?ze.toString:void 0;c.prototype.clear=function(){this.__data__=Ce?Ce(null):{}},c.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},c.prototype.get=function(e){var t=this.__data__;if(Ce){var s=t[e];return"__lodash_hash_undefined__"===s?void 0:s}return ve.call(t,e)?t[e]:void 0},c.prototype.has=function(e){var t=this.__data__;return Ce?void 0!==t[e]:ve.call(t,e)},c.prototype.set=function(e,t){return this.__data__[e]=Ce&&void 0===t?"__lodash_hash_undefined__":t,this},d.prototype.clear=function(){this.__data__=[]},d.prototype.delete=function(e){var t=this.__data__,s=b(t,e);return!(s<0)&&(s==t.length-1?t.pop():Se.call(t,s,1),!0)},d.prototype.get=function(e){var t=this.__data__,s=b(t,e);return s<0?void 0:t[s][1]},d.prototype.has=function(e){return b(this.__data__,e)>-1},d.prototype.set=function(e,t){var s=this.__data__,a=b(s,e);return a<0?s.push([e,t]):s[a][1]=t,this},h.prototype.clear=function(){this.__data__={hash:new c,map:new(De||d),string:new c}},h.prototype.delete=function(e){return x(this,e).delete(e)},h.prototype.get=function(e){return x(this,e).get(e)},h.prototype.has=function(e){return x(this,e).has(e)},h.prototype.set=function(e,t){return x(this,e).set(e,t),this},u.prototype.add=u.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},u.prototype.has=function(e){return this.__data__.has(e)},p.prototype.clear=function(){this.__data__=new d},p.prototype.delete=function(e){return this.__data__.delete(e)},p.prototype.get=function(e){return this.__data__.get(e)},p.prototype.has=function(e){return this.__data__.has(e)},p.prototype.set=function(e,t){var s=this.__data__;if(s instanceof d){var a=s.__data__;if(!De||a.length<199)return a.push([e,t]),this;s=this.__data__=new h(a)}return s.set(e,t),this};var $e,We,Be=($e=function(e,t){return e&&He(e,t,W)},function(e,t){if(null==e)return e;if(!F(e))return $e(e,t);for(var s=e.length,a=We?s:-1,i=Object(e);(We?a--:++a<s)&&!1!==t(i[a],a,i););return e}),He=function(e){return function(t,s,a){for(var i=-1,o=Object(t),n=a(t),r=n.length;r--;){var l=n[e?r:++i];if(!1===s(o[l],l,o))break}return t}}(),Ve=function(e){return ye.call(e)};(Te&&"[object DataView]"!=Ve(new Te(new ArrayBuffer(1)))||De&&Ve(new De)!=V||Ie&&"[object Promise]"!=Ve(Ie.resolve())||Pe&&Ve(new Pe)!=q||Le&&"[object WeakMap]"!=Ve(new Le))&&(Ve=function(e){var t=ye.call(e),s=t==G?e.constructor:void 0,a=s?L(s):void 0;if(a)switch(a){case Ae:return"[object DataView]";case Ee:return V;case Fe:return"[object Promise]";case Me:return q;case Re:return"[object WeakMap]"}return t});var Ge=C((function(e){e=$(e);var t=[];return Y.test(e)&&t.push(""),e.replace(X,(function(e,s,a,i){t.push(a?i.replace(J,"$1"):s||e)})),t}));C.Cache=h;var qe=Array.isArray,Ke=ue?function(e){return function(t){return e(t)}}(ue):function(e){return U(e)&&R(e.length)&&!!te[ye.call(e)]};s.exports=function(e,t,s){var i=qe(e)?a:o,n=arguments.length<3;return i(e,y(t),s,n,Be)}}).call(this,s("pCvA"),s("RoC8")(e))},"yP/S":function(e,t,s){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=s("Wyvv"))&&i.__esModule?i:{default:i};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default;return e.reduce((function(e,s){return"object"===a(e)&&null!==e.last&&(e.distance+=t(s,e.last)),e.last=s,e}),{last:null,distance:0}).distance}},ySiU:function(e){e.exports={pointerCursor:"pointerCursor__3L01Q",scrolledDown:"scrolledDown__28APW",scrolledUp:"scrolledUp__PiGW6"}},yqlB:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(11).then(function(){var t=s("yzNr");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},ywMb:function(e,t,s){"use strict";var a=s("ensb");t.a=Object(a.a)((function(e){s.e(17).then(function(){var t=s("B7Gj");"function"==typeof e&&e(t)}.bind(null,s)).catch(s.oe)}))},z116:function(e){e.exports=JSON.parse('{"ad":{"heading":"Vill du annonsera här?","teaser":"Det är väldigt lätt :)","subject":"Annonsförfrågan","body":"Hej, jag skulle vilja veta mer om annonser i Muhser-appen.","linktext":"Kontakta The Musher","ad":"Ad"},"home":{"dashboard":"instrumentbräda","feed":"Utfodra","todo":"Att göra","welcome-title":"Välkommen till The Musher.","welcome-body-1":"Musher är en app som ständigt utvecklas. Om du har några förslag, kommentarer eller felrapporter, vänligen meddela oss på vår Facebook-sida 😃","welcome-body-2":"Huvudfokus för denna app är användarvänlighet när du loggar hundar, träningspass och alla andra hundrelaterade saker. När man har många hundar kan det vara svårt att hålla reda på dem. När är nästa brunstperiod, hur länge är vaccinerna giltiga osv.","welcome-body-3":"All data lagras i molnet hos AWS (Amazon Web Services). Det är möjligt att komma åt denna applikation från alla typer av enheter och av olika personer.","howto-title":"Hur man kommer igång:","howto-step-1":"Lägg till dina lag.","howto-step-2":"Lägg till dina hundar.","howto-step-3":"Lägg till dina spår.","howto-step-4":"Börja logga dina träningspass..","dogs-follow-up":"Hundar som behöver uppmärksamhet","dogs-special-needs":"Hundar med särskilda behov","last-workouts":"Senaste träningspass - {{total}}","races":"Raser","workouts":"Träningspass","totals":"Summor","status":"Status","wall":"Vägg","home":"Hem","notifications":"Aviseringar","back":"Tillbaka","find-teams":"Hitta lag att följa","report-bug":"Rapportera fel","report-bug-placeholder":"Ange lite information om felet...","abort":"Avbryt","send":"Rapportera fel"},"notifications":{"unread":"Olästa aviseringar. Klicka här för att se alla.","delete":"Radera","confirm":"Bekräfta"},"feed":{"dashboard":"instrumentbräda","feed":"Utfodra","todo":"Att göra","title":"Senaste uppdateringar från hundarna","no-log":"Inga loggposter för dina hundar.","tip-1":"Det är trevligt att lägga till händelser som brunst, skador, vaccinationer, veterinärbesök och bilder på dina hundar.","tip-2":"På så sätt kommer hela ditt team att se vad som händer i din kennel. Det är precis som en hundbok för ditt team.","add-log":"Lägg till loggpost","show-all-days":"Visa allt"},"workout":{"totals":{"title":"Status för träningsplan"},"graph":{"title":"Träningssammanfattning","month":"Månad","season":"Säsong","week":"Vecka","distance":"distans","distance-avg":"avstånd avg","distance-avg-all":"avstånd avg alla","ascend":"stiga","ascend-avg":"stiga avg","ascend-avg-all":"stiga avg alla","speed-avg":"hastighet avg","speed-avg-all":"hastighet medeltal alla","duration-avg":"varaktighet i genomsnitt","duration-avg-all":"varaktighet medeltal alla","real-duration-avg":"full varaktighet avg","real-duration-avg-all":"full varaktighet avg. alla","load-index":"belastningsindex","load-index-all":"belastningsindex alla","plan":"Träningsplan","too-little-data":"Du måste ha för lite data för att kunna få en snygg graf. Vänligen lägg till mer data så lovar vi att du får en fin graf och tabell.","title-avg":"Genomsnitt"},"calendar":{"month":"Månad","week":"Vecka","sum":"Total","totalKm":"Totalt km","summary":"Sammanfattning","totalWorkouts":"Totalt träningspass","distance":"Distans","ascend":"Stiga","duration":"Varaktighet","avg-speed":"medelfart","kmt":"km/h"},"plan":{"dashboard":"instrumentbräda","list":"Lista","plan":"Träningsplan","month":"Månad","week":"Vecka","save":"Spara","sum":"Belopp","planned":"planen","totalkm":"Totalt km","season":"Säsong","no-workout-plan-found":"Inga träningsplaner hittades för det valda laget.","no-plan":"Ingen träningsplan","duplicate":"Dubblett träningsplan","title":"Titel","title-help":"Titeln på denna träningsplan.","team":"Team","team-help":"Teamet som vill använda denna träningsplan.","choose-team":"Välj lag","save-new":"Spara ny träningsplan"},"index":{"dashboard":"instrumentbräda","list":"Lista","plan":"Träningsplan","add-workout":"Lägg till träningspass","last-workouts":"Träningspass {{month}} {{year}} - {{total}}","workout-overview":"Träningsöversikt","strava-workouts":"Strava-träningar / ej importerade","garmin-workouts":"Garmin träningspass / inte importerat","filtered-by":"Filtrerat efter team"},"kg":"kg","battery-used":"Begagnade","kcal":"kcal","km":"km","m":"m","kmt":"km/h","share":"Dela med sig"},"strava":{"kmt":"km/h","ignore":"Ignorera träningen","import":"Importera träningspass"},"garmin":{"kmt":"km/h","ignore":"Ignorera träningen","import":"Importera träningspass","import-track":"Importera som spår"},"todo":{"dashboard":"instrumentbräda","feed":"Utfodra","todo":"Att göra","dogs-follow-up":"Hundar som behöver uppmärksamhet","no-dogs-follow-up":"Inga hundar som behöver uppmärksamhet.","dogs-special-needs":"Hundar med särskilda behov","no-dogs-special-needs":"Inga hundar med särskilda behov.","dogs-with-maturity":"Hundar i brunst","no-dogs-with-maturity":"Inga brunstiga hundar."},"header":{"dogs":"Hundar","workouts":"Träningspass","tracks":"Spår","teams":"Lag","profile":"Din profil","logout":"Logga ut","darkmode":"Mörkt läge","viewmode":"Visningsläge","viewmode-simple":"Enkel","viewmode-normal":"Vanligt","viewmode-advanced":"Avancerad","viewmode-beta":"Avancerat + beta","viewmode-try-beta":"Testa den nya versionen av förstasidan 😃","viewmode-back-to-normal":"Tillbaka till den gamla versionen","reload-app":"Sök efter uppdatering","news":"Nyheter & info","howto":"Hur gör dom det?","search":"Sök","search-placeholder":"Sök efter grejer...","races":"Raser","support":"Stöd","connect-team":"Följ teamen","admin-search":"Admin sökning","add-dogs":"Lägg till hundar","add-workouts":"Lägg till träningspass"},"footer":{"dogs":"Hundar","workouts":"Träningspass","workouts-start":"Spela in","tracks":"Spår","teams":"Lag","veterenary":"Veterinär","workouts-continue":"Fortsätta"},"register":{"new-user":"Ny användare","email":"E-post","email-not-valid":"E-post är inte giltig.","password":"Lösenord","password-too-weak":"Ditt lösenord är för svagt. Försök med ett annat eller lägg till fler bokstäver till detta lösenord 😔","password-weak":"Ditt lösenord är svagt, men vi kommer att försöka hålla dig säker ändå 😉","password-ok":"Ditt lösenord är ok 😎","caps-lock-on":"Caps Lock är på!","register":"Registrera","i-have-an-account":"🤔 Det verkar som om jag har ett konto. Gå till inloggningssidan."},"login":{"tip-1":"Denna app kan installeras på din telefon.","tip-2":"Använd funktionen \\"Lägg till på startskärmen\\".","tip-3":"Det är smart att göra detta innan du börjar registrera dig eller logga in.","login":"Logga in","email":"E-post","email-not-found":"E-postadressen hittades inte. Välkommen att anmäla dig 😃","email-not-valid":"E-post adress inte giltig. Kontrollera om det finns stavfel.","email-looks-good":"E-posten ser bra ut.","password":"Lösenord","caps-lock-on":"Caps Lock är på!","2fa-token":"2FA-token","new-user":"Ny användare","forgot-password":"Glömt lösenord"},"forgotten":{"forgotten":"Glömt lösenord","one-time-code":"Engångskod för","otp-not-valid":"Engångskoden är inte giltig. Kontrollera om det finns stavfel.","otp-valid":"Engångskod ser bra ut.","login-with-otp":"Logga in med kod","goto-login":"Jag kommer ihåg mitt lösenord. Gå till inloggningssidan.","send-new-otp":"Skicka mig en ny engångskod.","email":"E-post","email-not-found":"E-post hittades inte.","register":"Registrera dig som ny användare.","email-not-valid":"E-postadressen är inte giltig. Kontrollera om det finns stavfel.","email-looks-good":"E-posten ser bra ut.","caps-lock-is-on":"Caps Lock är på!","send-reset-link":"Skicka mig en återställningslänk"},"refresh":{"pull-to-update":"Dra för att uppdatera sidan..."},"modal":{"download":"Ladda ner bild..."},"imageupload":{"drag-files-here":"Släpp dina filer här :)","upload-images":"Uppladdade filer","uploading-image":"Laddar upp..."},"dog":{"history":{"no":"Nej","yes":"Ja","delete":"Radera","cant-delete-groups":"Det går inte att ta bort grupper. Gå in på varje hund och radera där."},"dogs":{"choose-filter":"Välj filter","search-for-dogs":"Sök efter hundar","show-only-team-dogs":"Visa endast spannhundar","show-all-dogs":"Visa alla hundar","show-all":"Visa allt","show-only-selected":"Visa endast valda","show-lead-dogs-only":"Visa endast ledarhundar","show-point-dogs-only":"Visa endast punkthundar","show-team-dogs-only":"Visa endast spannhundar","show-wheel-dogs-only":"Visa endast hjulhundar","remove-all-dogs":"Ta bort alla hundar","saved-changes":"ändringar sparade","addplaceholder":"Lägg till platshållare för hund","saveDogPositions":"Spara hundpositioner","resetDogPositions":"Återställ hundens positioner","clearDogPositions":"Rensa hundpositioner","dogs-positions":"Lagpositioner","add-all-in-team":"Lägg till alla {{total}} hundar i Team"},"calendar":{"month":"Månad","week":"Vecka"},"addlog":{"addlog":"Lägg till loggpost","dogs":"Hundar","dogs-help":"Vilken hund gäller detta?","date":"Datum","date-help":"Datum för logginmatning.","time":"Tid","time-help":"Dags för logginmatning.","type":"Event typ","choose-type":"Välj typ","other":"Övrig","stoolProblem":"Problem med avföringen","bodyScore":"Kroppspoäng","diarrhea":"Diarre","foodLeftover":"Mat över","clawClip":"Kloklämma","maturity":"På värme","massage":"Massage","animalchiropractor":"Djurkiropraktor","newStraw":"Nytt sugrör","update":"Uppdatering","deworming":"Avmaskning","mating":"Parning","injury":"Skada","fight":"Bekämpa","sick":"Sjuk","unwantedMating":"Oönskad parning","vaccine":"Vaccin","weight":"Vägning","veterinarianVisit":"Veterinärbesök","type-help":"Typ av loggpost. Veterinärbesök, vaccin, sjuk, brunstig osv.","vaccine-type":"Vaccin typ","choose-vaccine":"Välj vaccintyp","rabies":"Rabies (3 år)","BbPi":"BbPi (1 år)","DHP":"DHP (3 år)","DHPPi":"DHPPi (3 år)","vaccine-help":"Vilket vaccin är detta?","title":"Titel","title-help":"Titel för loggraden.","duration":"Vaccinets varaktighet","duration-help":"När går detta vaccin ut?","weight-of-dog":"Vikt","weight-of-dog-help":"Hundens vikt.","bodyscore":"Kroppspoäng","bodyscore-help":"Kroppsbetyg av hund.","cost":"Kosta","cost-help":"Kostnad för detta evenemang.","commet":"Kommentar","comment-help":"Kommentera denna händelse. Skriv mer om vad som hände.","images":"Bilder","please-wait":"Vänta...","cancel":"Avbryt","hidelog":"Dölj lägg till loggpost","newlog":"Ny loggpost"},"veterinary":{"choosen-dogs":"Utvalda hundar","chosen-vaccines":"Valda vacciner","choose-team":"Välj lag","select-all-dogs":"Välj alla hundar","remove-all-dogs":"Ta bort alla hundar","name":"namn","image":"Bild","are-you-sure":"Är du säker på att du vill lägga till vaccin till {{hundar}} hund?","yes-iam-sure":"Ja, jag är säker!","cancel":"Avbryt","add-vaccine-to-dogs":"Lägg till vaccin till {{hundar}} hundar","recepipt":"Mottagande","dog":"Hund","vaccine":"Vaccin","no-access":"Ingen åtkomst!","attempts-logged":"Alla försök loggas och rapporteras.","goto-frontpage":"Gå till förstasidan","title":"Veterinärsökning","search":"Sök","searching":"Sökande...","cellphone":"Mobiltelefon","email":"E-post","search-placeholder":"Sök efter musher via e-post, mobiltelefon eller namn...","choose-vaccines":"Välj vaccin i listan ovan"}},"dogs":{"dashboard":"instrumentbräda","list":"Lista","feed":"Utfodra","todo":"Att göra","stats":"Statistik","pictures":"Bilder","workouts":"Träningspass","relations":"Relationer","achievements":"Minnen","links":"Länkar","achievement-name":"Titel","achievement-name-help":"Titel på minnet","achievement-description":"Beskrivning","achievement-description-help":"Beskrivning av minne","achievement-url":"URL","achievement-url-help":"URL till minne","achievement-add":"Lägg till nytt minne","link-name":"Titel","link-name-help":"Länkens titel","link-url":"URL","link-url-help":"URL till länk","link-add":"Lägg till ny länk","advanced":"Avancerad","trophy":"Troféfodral","info":"Info","fitness":"Kondition","veterinary":"Veterinär","add-dogs":"Lägg till ny hund","no-dogs-registered":"Inga hundar registrerade än.","howto-add-1":"Hur man kommer igång","howto-add-2":"Klicka på \\"Lägg till ny hund\\" högst upp på sidan.","dog-with-follow-up":"Hundar som behöver uppmärksamhet","no-dogs-with-follow-up":"Inga hundar som behöver uppmärksamhet.","dog-with-special-needs":"Hundar med särskilda behov","no-dogs-with-special-needs":"Inga hundar med särskilda behov.","dog-with-workouts-last-day":"Hundar med träning håller i 24 timmar.","dogs-filtered-by":"Filtrerat efter:","all-dogs":"Alla hundar - {{total}}","dog-with-maturity":"Hundar i brunst","no-dogs-with-maturity":"Inga brunstiga hundar.","no-files-title":"Inga filer bifogade till denna hund!","no-files-text":"Du kan ladda upp filer till den här hunden i redigeringen. Dessa filer kan vara av vilken typ som helst. Dvs: Intyg, prov osv.","no-achievements-title":"Inga minnen för denna hund!","no-achievements-text":"Du kan lägga till minnen till den här hunden. Dvs. Vandringar, tester, priser, lopp osv.","no-links-title":"Inga länkar för denna hund!","no-links-text":"Du kan lägga till länkar till denna hund. Dvs. Länkar till Facebooksida, Instagramsida, blogg etc.","no-trophys-title":"Inga troféer för denna hund!","no-trophys-text":"Du måste lägga till fler träningspass, bilder, loggposter för hundar, etc för att tjäna troféer.","no-images-title":"Inga bilder för denna hund!","no-images-text":"Du kan lägga till fler bilder till den här hunden. Valpbilder, träningsbilder, lata sommarbilder etc. Allt är ett trevligt sätt att skapa en bättre profil för denna hund.","edit":"Redigera","kmt":"km/h","birth":"Född","deceased":"Den avlidne","team":"Team","mother":"Mor","father":"Far","siblings":"Syskon","children":"Barn","pictures-of":"Foton av","log-for":"Logga för","delete":"Radera","changes-saved":"ändringar sparade","add-new":"Lägg till ny hund","name":"namn","name-of-dog":"Hundens fullständiga namn.","save-new":"Rädda ny hund","status":"Status","status-help":"Status för denna hund.","special-needs":"Speciella behov","special-needs-help":"Har denna hund några speciella behov? \\"Extra fett\\", \\"Utrustning\\" osv.","position":"Plats i laget","position-help":"Önskad position i laget","profile-photo":"Profilbild","profile-photo-help":"Profilbild på hunden.","photo":"Foton","photo-help":"Bilder på hunden.","full-name":"Fullständiga namn","full-name-help":"Hundens fullständiga namn.","short-name":"Kort namn","short-name-help":"Bildtext namn på hunden.","gender":"Kön","gender-help":"Hundens kön.","chip-id":"Chip-ID","chip-id-help":"Chip-ID för denna hund. Titta i passet eller veterinärintyget.","birth-help":"Hundens födelsedatum.","deceased-help":"Dödsdatum för hunden.","team-help":"Team som hunden är medlem i.","harness-size":"Selens storlek","harness-size-help":"Storlek på selen för denna hund.","choose-mother":"Välj mamma","mother-name":"Modernamn","mother-name-help":"Namnet på mamman till denna hund.","mother-chipid":"Moder Chip ID","mother-chipid-help":"Chip ID för mamma. Om mamma är bland er hundar kommer det att kopplas ihop.","mother-comment":"Mamma kommentar","mother-comment-help":"Kommentar till mamman till denna hund.","choose-father":"Välj pappa","father-name":"Faders namn","father-name-help":"Namn på fadern till denna hund.","father-chipid":"Fader Chip ID","father-chipid-help":"Chip ID för far. Om mamma är bland er hundar kommer det att kopplas ihop.","father-comment":"Pappa kommentar","father-comment-help":"Kommentar till pappan till denna hund.","files":"Filer","files-help":"Filer för denna hund.","dog-saved":"Hunden är räddad","choose-sort":"Välj sortering","sort-distance":"Distans","sort-duration":"Varaktighet","sort-name":"namn","sort-shortname":"Kort namn","sort-workouts":"Träningspass","sort-lead":"Leda","sort-point":"Punkt","sort-team":"Team","sort-wheel":"Hjul","all":"Allt","leadOnly":"Leda","pointOnly":"Punkt","teamOnly":"Team","wheelOnly":"Hjul","days-back":"Sista","d1":"dag","d2":"2 dagar","d7":"7 dagar","d14":"14 dagar","d30":"30 dagar","gender-male":"Manlig","gender-female":"Kvinna","log":"Logga","vetenary-approved-vaccines":"Veterinärgodkända vacciner","vaccine-karens":"dagar kvar","vaccine-name":"Vaccinets namn","vaccine-date":"Vaccindatum","vaccine-veterinary":"Veterinär","hide-deceased":"Visa endast laget","absolutely-all":"Visa absolut allt","log-for-is-empty":"Loggen för {{name}} är tom","temp-calculation":"För närvarande beräknas detta från huvudteamet för denna hund. Detta kommer att ändras snart."},"workouts":{"edit":"Redigera","duplicate":"Duplicera","make-track":"Gör spår baserat på träning","duration":"Varaktighet","rest":"Resten","avgspeed":"medelfart","currentspeed":"Nuvarande hastighet","kmt":"km/h","type":"Typ","equipment":"Utrustning","dogs":"Hundar","distance":"Distans","ascend":"Stiga","weather":"Väder","fetch-weather":"Hämta från yr.nr","temperature":"Temperatur","info":"Info","user":"Musher","gps":"GPS","advanced":"Avancerad","energy-consumption-help":"Energiförbrukningen beräknas på detta sätt: 1,25 kcal / kg kroppsvikt / km.","energy-consumption-total":"Energiförbrukning totalt","energy-consumption":"Energiförbrukning varje hund","energy-consumption-fat-total":"Totalt fett","energy-consumption-fat":"Fetta varje hund","energy-consumption-meat-total":"Kött totalt","energy-consumption-meat":"Kött varje hund","energy-consumption-salmon-total":"Lax totalt","energy-consumption-salmon":"Lax varje hund","load-index":"Arbetsbelastningsindex","kcal-calculated":"Beräknad:","all-dogs":"Hundar – {{total}}","all-mushers":"Förare - {{total}}","delete":"Radera","changes-saved":"Ändringar sparas","show-last-used-tracks":"Visa endast senast använda spår","show-all-tracks":"Visa alla spår","add-new":"Lägg till nytt träningspass","add-save-new":"Spara nytt träningspass","other":"Övrig","team":"Team","date":"Datum","time":"Tid","track":"Spår","title":"Titel","avg-speed":"medelfart","comment":"Kommentar","mushers":"Förare","rating":"Betyg av träning","sledWeight":"Slädens vikt","intensity":"Intensitet","edit-workout":"Redigera träningspass","photos":"Foton","workout-saved":"Träningen är sparad.","start-stop-1":"Start-stopp-spårning är inte klar än. Apple iOS hindrar PWA från att köra geolokalisering i bakgrunden. webbapp. Jag ska köpa en Android-telefon för att testa funktionerna hos Android.","start-stop-2":"Det mesta av utvecklingen drivs av din feedback så skicka mig massor av meddelanden på Facebook.","tracking-stop":"Sluta spåra","tracking-start":"Börja spåra","other-help":"Vad var detta för träning?","team-help":"Teamet som gör detta träningspass.","date-help":"Träningsdatum. Formatet är: \\"ÅÅÅÅ-MM-DD\\".","time-help":"träningsdags. Formatet är: \\"HH:MI\\".","type-help":"Typ av träning: \\"trening\\", \\"tävling\\", \\"tur\\".","track-help":"Vilken bana springer du på?","title-help":"Titeln på detta träningspass. Dvs: \\"Snygg löpning i vackra höstfärger...\\"","duration-help":"Hur lång var det här träningspasset? (HH:MI)","rest-help":"Hur länge vilar du under träningen? (HH:MI)","avg-speed-help":"Genomsnittlig rörelsehastighet. Om du inte vet detta, lägg till distans, varaktighet och vila. Sedan kommer detta att beräknas.","distance-help":"Hur länge sprang du i km.","ascend-help":"Hur mycket gick du upp?","equipment-help":"Utrustning som används för detta träningspass.","comment-help":"Kommentarer till detta träningspass. Hur gick det?","weather-help":"Hur var vädret?","temperature-help":"Vilken temperatur hade du?","dogs-help":"Vilka hundar sprang i laget?","mushers-help":"Vilka körare deltog i detta träningspass?","rating-help":"Ditt betyg av detta träningspass. 1-6","sledWeight-help":"Slädens vikt på detta träningspass i kg.","intensity-help":"Hur hårt var intensiteten på det här träningspasset?","photos-help":"Lägg till bilder från det här träningspasset.","all-workouts":"Träningspass - {{total}}","month-workouts":"Träningspass – {{month}} {{year}}","week-workouts":"Träningspass - Vecka - {{vecka}} {{year}}","save-to-add-images":"Spara träningspasset och gå sedan till redigeringsläge för att lägga till bilder.","save-to-add-gpx":"Spara träningspasset så kommer du att kunna ladda upp en GPX-fil om du vill.","private":"Göm träningen","private-help":"Dölj det här träningspasset för dina följare.","no-dogs":"Inga hundar registrerade.","no-dogs-tip":"Det rekommenderas att lägga till hundar innan du lägger till ett träningspass.","add-dog":"Lägg till hund","no-tracks":"Inga spår registrerade.","no-tracks-tip-1":"Det är praktiskt att registrera ett spår innan du lägger till ett träningspass. När du gör det kommer distans och uppstigning att fyllas i automatiskt.","no-tracks-tip-2":"Om du inte har GPX för det här spåret kan du fortfarande registrera träningspass.","add-track":"Lägg till spår","no-workouts":"Inga träningspass registrerade: {{month}} {{year}}","no-workouts-1":"Spårning inuti appen är inte riktigt klar på grund av vissa begränsningar i Apple iOS när du använder PWA.","no-workouts-2":"Jag ska köpa en Android-telefon för att testa funktionerna. Hur som helst, spårning kommer snart :)","no-workouts-3":"En karta över ditt spår läggs till som GPX inuti varje spår.","no-workouts-howto":"Så här gör du","no-workouts-howto-1":"Klicka på knappen \\"Lägg till träningspass\\" i det övre högra hörnet.","dogs-positions":"Lagpositioner","search-for":"Sök efter träningspass","gpx":"Gpx","gpx-help":"Gpx för detta träningspass.","current":"Nuvarande","totals":"Summor","seasontotals":"Säsongsummor","analysis":"Analys","images":"Foton","handlers":"Handlare","workoutplan":"Träningsplan","table":"Tabell","calendar":"Kalender","go-to-tracking":"Gå till spårning","admin-edit":"Admin redigera","reimport-strava":"Återimportera Strava-data","reimport-garmin":"Återimportera Garmin-data","like":"Tycka om"},"search":{"title":"Sök","text-1":"Sökfunktionen är inte klar än.","text-2":"Vad skulle du vilja söka efter? Skicka ett meddelande till oss på Facebook :)"},"teams":{"connect":{"teams-to-follow":"Lag att följa","teams-follow-requests":"Lagen följer förfrågningar","wants-to-follow":"vill följa:","confirm":"Bekräfta","confirm-and-follow":"Bekräfta och följ tillbaka","delete":"Ta bort begäran","block":"Blockera laget","confirmed":"Bekräftad","deleted":"raderade","all-teams":"Alla offentliga team - {{total}}","follow":"Följ","is-following":"Följande","is-blocked":"Blockerad","has-requested":"Inväntar godkännande","how-summary":"Hur fungerar detta?","how-text":"Vad kan följare se när jag ger dem åtkomst att följa? Svaret är väldigt lite. De kan se huvuddetaljerna för träningen du delar och namnet på hundarna. Det är allt. Försök att följa ett lag och kolla in träningsfliken."},"addmember":{"title":"Team - Lägg till ny medlem","add-new":"Lägg till ny medlem till:","email":"E-post","email-help":"E-postadress till ny medlem.","info-1":"Medlemmar i detta team kommer att ha full tillgång till alla hundar, träningspass och banor som är relaterade till detta team.","info-2":"Lägg bara till personer du litar på :)","save-new":"Bjud in ny medlem"},"edit":"Redigera","admin":"Administration","kmt":"km/h","dogs":"Hundar – {{total}}","members":"Medlemmar - {{total}}","add-new-member":"Lägg till ny medlem","delete":"Radera","name":"Lagnamn","name-help":"Namnet på det här laget. Fint namn som: A-team, B-team, Mina hundar osv.","public":"Allmänt synligt","public-help":"Ska det vara möjligt att följa ditt lag? Alla uppföljningsförfrågningar måste godkännas av dig. Följare kommer bara att se information som du har delat. Inga träningsdetaljer eller andra saker syns.","address":"Adress","address-help":"Adress till ditt lag.","postalcode":"Blixtlås","place":"Postställe","place-help":"Postplats för laget.","country":"Land","country-help":"Land för laget.","ambitions":"Ambitioner","ambitions-help":"Ditt teams ambitionsnivå. (Används för att beräkna belastningsindex.)","type":"Typ","type-help":"Lagtyp. (Används för att beräkna belastningsindex.)","save-new":"Spara nytt team","edit-team":"Redigera team","photos":"Foton","photos-help":"Bilder på det här laget.","profile-photos":"Profilfoto","profile-photos-help":"Profilbild på laget.","description":"Beskrivning","description-help":"Beskrivning av detta team.","url":"URL","url-help":"URL till lagets webbsida.","facebook":"Facebook","facebook-help":"Länk till Facebooksida.","instagram":"Instagram","instagram-help":"Länk till Instagramsida.","choose-country":"Välj land","saved":"Teamet har sparats.","all-teams":"Dina lag - {{total}}","add-new":"Lägg till nytt team","changes-saved":"Ändringar har sparats","fitness":"Kondition, trötthet och form","legend-fitness":"Kondition","legend-fatigue":"Trötthet","legend-form":"Form","public-profile":"Allmän profil","socialmedia":"Sociala media","add-sosialmedia":"Gå till redigera teamprofil för att lägga till webbplats för sociala medier.","add-description":"Gå till redigera teamprofil för att lägga till en beskrivning.","public-photos":"Teamfoton - {{total}}","something-missing":"Är det något du saknar på den här sidan? Skicka ett meddelande till oss på Facebook.","stats":"Statistik","presentation":"Presentation","pictures":"Bilder","dogs-menu":"Hundar","mushers":"Förare","workouts":"Träningspass","fitness-menu":"Kondition","compare":"Jämföra","trophy":"Troféfodral","achievements":"Prestationer","links":"Länkar","files":"Filer","followers":"Följare","veterinary":"Veterinär","log":"Avancerad","images":"Bilder","trophy-details":"Detaljer","dogs-help":"Vilka hundar finns i detta team?","info":"Info","status":"Status","internet":"Sociala media","postalcode-help":"Zip till det här laget.","snapchat":"snapchat","snapchat-help":"Snapchat användarnamn.","header-photo":"Header foto","header-photo-help":"Rubrikbild för det här laget..","photo":"Foto","photo-help":"Foto på detta team.","profile-photo":"Profilfoto","profile-photo-help":"Profilbild på det här laget.","achievements-help":"Minnen för det här laget.","links-help":"Länkar för detta team.","files-help":"Filer för detta team.","no-images-title":"Inga bilder för det här laget!","no-images-text":"Du kan lägga till fler bilder till detta team. Valpbilder, träningsbilder, lata sommarbilder etc. Allt är ett trevligt sätt att skapa en bättre profil för detta team.","no-achievements-title":"Inga minnen för det här laget!","no-achievements-text":"Du kan lägga till minnen till det här laget. Dvs. Vandringar, tester, priser, lopp osv.","no-trophys-title":"Inga troféer för det här laget!","no-trophys-text":"Du måste lägga till fler träningspass, bilder, loggposter för hundar, etc för att tjäna troféer.","no-files-title":"Inga filer bifogade till detta team!","no-files-text":"Du kan ladda upp filer till det här teamet i redigeringen. Dessa filer kan vara av vilken typ som helst. Dvs: Intyg, prov osv.","no-workouts-title":"Inga träningspass för det här laget.","no-workouts-text":"Du kan lägga till fler utbildningar.","no-dogs-title":"Inga hundar för detta team.","no-dogs-text":"Du kan lägga till fler hundar till detta team.","notfollowing":"Följer inte","waiting-approval":"Väntar på godkännande","following":"Följande","no-more-teams-to-follow":"Inga fler lag att följa.","no-pending-follow-requests":"Inga väntande uppföljningsförfrågningar","not-following-any-teams":"Du följer inga lag.","no-followers":"För närvarande har du inga följare, men var inte rädd. Det är lätt att få nya följare. Se till att ditt lag är offentligt. Var aktiv i flödet och gör din lagprofil vacker.","heatmap":"Värmekarta","heatmap-info":"Värmekartan visar var du har tränat den här säsongen.","blocked-followers":"Blockerade lag","not-public":"Inte offentligt","no-photos":"Inga foton för det här laget."},"tracks":{"your-tracks":"Dina spår","public-tracks":"Offentliga spår","edit":"Redigera","date":"Datum","date-help":"Datum för detta spår","time":"Tid","time-help":"Dags för det här spåret","distance":"Avstånd i km","elevation":"Stiga","downhill":"Sjunka","duration":"Normal varaktighet","speed":"Normal hastighet","delete":"Radera","all-tracks":"Dina spår - {{total}}","all-public-tracks":"Offentliga spår - {{total}}","add-new":"Lägg till nytt spår","no-tracks-yet":"Inga spår registrerade än.","no-tracks-info-1":"GPX-filer kan laddas upp efter att du har skapat det här spåret.","no-tracks-info-2":"Rekommenderade appar för att skapa GPX-filer är","howto-title":"Hur man kommer igång","howto-1":"Klicka på knappen \\"Lägg till nytt spår\\" högst upp på sidan.","changes-saved":"Ändringar har sparats","save":"Spara nytt spår","gpx-info":"För att kunna ladda upp GPX-filer. Vänligen spara och gå tillbaka för att redigera.","saved":"Spåret har sparats.","title":"Titel","title-help":"Titeln på det här spåret. Dvs: \\"Nordens kullar\\"","distance-help":"Hur långt är det här spåret i km.","elevation-help":"Hur mycket klättrar du på denna löptur.","photos":"Foton","photos-help":"Bilder från detta spår.","gpx":"GPX","gpx-help":"GPX för detta spår.","filter-all":"Visa allt","filter-only-map":"Visa endast de med en karta","weather-start":"Vädret vid startpositionen","weather-hide-details":"Gömma detaljer","weather-show-details":"Visa detaljer","map":"Karta","stats":"Din statistik","weather":"Väder","summary":"Spårsammanfattning","your-workout-summary":"Din träningssammanfattning","no-workout-summary":"Du har ingen träningssammanfattning för det här spåret. Du kan välja spår i dina träningspass för att få sammanfattningen beräknad.","no-weather":"Kan inte hitta väder för denna bana.","summary-info":"Sammanfattningen för det här spåret uppskattas baserat på spårprofilen och dina laginställningar.","no-photos":"Inga foton för det här spåret."},"form":{"files":{"upload-file":"Ladda upp fil"}},"users":{"title":"Din profil","email":"E-post","password":"Lösenord","password-confirm":"Bekräfta lösenord","change-password":"ändra lösenord","passwords-matches":"Lösenord är lika","edit-password-changed":"lösenordet ändrat","back-to-profile":"Tillbaka till profilen","main-team":"Huvudlag","all-teams":"Alla lag","username":"Användarnamn","firstname":"Förnamn","lastname":"Efternamn","cellphone":"Mobiltelefon","homepage":"Hemsida","facebook":"Facebook","instagram":"Instagram","snapchat":"snapchat","strava-get-activities":"Få aktivitetsströmmar","strava-reconnect":"Återanslut till Strava","strava-reconnect-help":"Om du har problem med integrationen kan du försöka ansluta igen","strava-connect":"Anslut till Strava","strava-connected":"Du är nu ansluten till Strava!","strava-id":"id","strava-username":"Användarnamn","strava-profile":"profilbild","garmin-reconnect":"Återanslut till Garmin Connect","garmin-reconnect-help":"Om du har problem med integrationen kan du försöka ansluta igen","garmin-connect":"Anslut till Garmin Connect","garmin-connected":"Du är nu ansluten till Garmin Connect!","invite":{"title":"Bjud in ny kennel till The Musher","text":"Snälla hjälp oss att rekrytera nya kennlar. Det är alltid trevligt med fler, och du kan tjäna poäng som kan användas till Premium-versionen senare i sommar.","email":"E-post","email-placeholder":"Maila för ny kennel","send":"Skicka inbjudan","thanks":"Tack så mycket för hjälpen 😃","more":"Bjud in fler","hide":"Dölj inbjudningsrutan."},"edit":"Redigera","username-help":"Ditt användarnamn på The Musher","firstname-help":"Ditt förnamn","lastname-help":"Ditt efternamn","cellphone-help":"Din mobiltelefon","url":"Hemsida","url-help":"Din hemsida","facebook-help":"Din Facebook-profil","instagram-help":"Din Instagram-profil","snapchat-help":"Din Snapchat-profil","photos":"Foton","photos-help":"Bilder av dig.","saved":"Profilen är sparad.","settings-text-info":"Alla inställningar finns på din profil.","hide-settings":"Dölj inställningar från förstasidan","settings-hide-settings":"Dölj inställningar","settings-hide-settings-help":"Dölj inställningar på framsidan.","settings":"inställningar","settings-hide-profile":"Dölj profil","settings-hide-profile-help":"Om du inte vill att folk ska hitta och skicka följförfrågningar till dig. Du kan dölja din profil här.","settings-hide-invite":"Dölj inbjudningsrutan","settings-hide-invite-help":"Göm inbjudan till ny kennelbox på framsidan.","settings-allow-racevet":"Tillåt veterinär","settings-veterinary-help":"Om du vill att veterinärer ska hitta din kennel och lägga till vacciner måste du aktivera den här inställningen.","settings-summary-email":"Sammanfattning","settings-receive-summary-email":"Få sammanfattningar via e-post","settings-notification-email":"Aviseringar","settings-receive-notification-email":"Få meddelanden via e-post när de är olästa ett tag","settings-info-email":"Info","settings-receive-info-email":"Ta emot info via mail","settings-partner-email":"Partners","settings-receive-partner-email":"Hjälp utvecklingen av The Musher-appen genom att få bra erbjudanden från våra partners via e-post. Dvs: Mat, utrustning och annat mushing relaterat. Ingen spam kommer att tillåtas och alla e-postmeddelanden kommer att förbli hemliga!","subscriptions":"Prenumeration","integrations":"Integrationer","connect":{"title":"Hitta dina vänner","search":"Sök","search-placeholder":"Sök efter vänner, andra körare.","doSearch":"Sök"}},"install":{"install-app":"Installera Musher-appen"},"news":{"edit":"Redigera","add-new":"Skapa nytt innehåll","back":"Tillbaka","heading":"Nyheter & Info","heading-howo":"Hur gör dom det?","create":"Ny"},"comments":{"like":"Tycka om","has-liked":"Gillade","comment-add":"Kommentar","show-more":"Visa {{more}} kommentarer till...","hide-all-comments":"Dölj alla kommentarer.","comment":"Kommentar","add-comment":"Skicka","write-comment":"Skriv en kommentar..."},"race":{"therace":"Loppet","news":"Nyheter","more-news":"Fler nyheter","mushers":"Förare","results":"Resultat","tracking":"Spårning","media":"Foton","edit":"Redigera ras","new":"Ny ras","signup-payment":"Registreringsbetalning","location":"Plats","about":"Om loppet","rules":"Regler","veterinary":"Veterinärinformation","checkpoints":"Kontrollpunkter","track-description":"Spårbeskrivning","program":"Program","prices":"Priser","classes":"Race klasser","signup":"Bli Medlem","distance":"Distans","startdate":"Start","enddate":"Slutet","to-top":"Till toppen"},"races":{"homerun":"Homerun-lopp","signup-open":"Registreringen är öppen","race-finished":"Loppet avslutat","race-in-progress":"Race pågår","classes":"Race klasser","race-days":"Race dagar","signup":"Bli Medlem","periode":"Periode","signed-in-as":"Inloggad som","signed-up":"Du har framgångsrikt registrerat dig!","paid":"Betalt","payment-info":"Registreringsbetalning","click-to-change":"Klicka för att redigera information.","cellphone":"Mobiltelefon","firstname":"Förnamn","lastname":"Efternamn","sportsclub":"Sportklubb","facebook":"Facebook","instagram":"Instagram","team":"Team","class":"Race klass","cellphone-help":"Vad är ditt mobilnummer?","firstname-help":"Vad är ditt förnamn?","lastname-help":"Vad är ditt efternamn?","sportsClub-help":"Vilken idrottsklubb är du medlem i?","facebook-help":"Vad är ditt Facebook-användarnamn?","instagram-help":"Vad är ditt Instagram-användarnamn?","choose-team":"Välj lag","choose-class":"Välj rasklass","choose-team-help":"Välj bland dina lag","choose-class-help":"Välj rasklass","agreement-accept":"Jag har läst och accepterat reglerna.","do-signup":"Bli Medlem","signup-not-open-yet":"Registreringen är inte öppen än!","signup-closed":"Registrering stängd!","signup-opening":"Anmälan öppnar snart","races":"Lopp:","results":"Resultat","mushers":"Förare","mushers-on-trail":"Förare på spår","finished-mushers":"Färdiga körare","tracking":"Spårning","photos":"Foton","hide-details":"Gömma detaljer","read-more":"Läs mer","results-here":"Se resultat","on-trail":"På spåret","favorites":"Favoriter","name":"namn","start-date":"Start datum","distance":"Distans","ascend":"Stigande","avg-speed":"medelfart","race-time":"Racetime","rest-time":"Vilotid","load-index":"Loadindex","current-speed":"Nuvarande hastighet","elevation":"Elevation","elevation-graph":"El. Graf","stages":"Etapper","result":"Resultat","musher-here":"Se konkurrenterna","dogs":"Hundar","admin":"Administration","no-team-on-trail":"Inga lag spårar live i The Musher-appen just nu...","no-teams-signed-up":"Inga lag har anmält sig ännu...","hide-signup":"Avbryt registreringen","signup-another-team":"Anmäl dig i fler klasser","starting-teams":"{{totalContestants}} registrerade sig i {{totalClasses}} tävlingsklasser","choose-correct-team-and-type":"Välj rätt lag och typ för loppet."},"story":{"body":"Berättelse","write-body":"Vad tänker du på..?","add-story":"Publicera","public":"Det är offentligt","show-all":"Visa allt","back-to-wall":"Tillbaka till allt","alert-text-1":"Ditt team är inte synligt och det är inte möjligt att begära vänskap med ditt team.","alert-text-2":"Om du vill göra ditt lag synligt så att andra kan begära att få följa ditt lag, hittar du inställningen här:","alert-text-3":"Redigera team","sort":{"new":"Senaste först","likes-desc":"De flesta gilla först","likes-asc":"Minst gilla först","comments-desc":"De flesta kommentarer först","comments-asc":"Minsta kommentarer först"},"share":"Dela med sig","type":"Typ","type-choose":"Välj typ","type-regular":"Regelbunden","type-ad":"Ad","type-article":"Artikel","team-choose":"Välj lag","url-text":"URL-text","url":"URL","country":"Land","region":"Område","currency":"Valuta","price":"Pris","ad-url-readmore":"Läs mer...","ad-campaign-code":"Kampanjkod","sponsored":"Sponsrad"},"premium":{"title":"Premie"},"types":{"trening":"träna","konkurranse":"konkurrens","tur":"Turné","aktivitet":"aktivitet","vanntrening":"vattenträning","gåtur":"gående","Løsslipp":"Fri löpning","annet":"Övrig"},"intensities":{"Easy":"Lätt","Normal":"Vanligt","Hard":"Hård"},"teamAmbitions":{"Ingen ambisjoner":"Inga ambitioner","Glad amatør":"Glad amatör","Amatør":"Amatör","Seriøs amatør":"Seriös amatör","Proff":"Proffs"},"teamTypes":{"Tur":"Vandringar","Turistkjøring":"Guidade turer","Sprint":"Sprinta","Mellomdistanse":"Mellandistans","Langdistanse":"Lång distans"},"dogPositions":{"Leader":"Ledare","Team":"Team","Wheel":"Hjul"},"dogstatuses":{"Avls-sperre":"Ingen avel","Drektig":"Gravid","Kastrert/sterilisert":"Kastrerad/steriliserad","Løpetid":"På värme","Medisinering":"Medicin","Normal":"Vanligt","Omplassering":"Omlokalisering","Pensjonist":"Pensionerad","Skadet":"Skadad","Syk":"Sjuk","Valp/unghund":"Valp/unghund","Overoppheting":"Överhettning","Korthåret/trenger dekken":"Korthårig/behovsjacka"},"equipments":{"Slede":"Kälke","Atv":"ATV","Utv":"UTV","Bil":"Bil","Trollvogn":"Trollvagn","Ski":"Åka skidor","Annen vogn":"Annan vagn","Sykkel":"Cykel","Kickbike":"Kickbike","Kickspark":"Kicksled","Jogging":"Löpning","Hundehjul":"Hundhjul","Ingen utstyr":"Ingen utrustning"},"harnesses":{"small":"små","medium":"medium","large":"stor","xlarge":"extra stor","xxlarge":"xxlarge"}}')},zHmd:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e){return!(0,g.default)(e)&&!e}function n(e){return!o(e)}function r(e){return!function(e){return(0,m.default)(e,n).length===e.length}(e)}function l(e,t){var s=e.getPanes().overlayPane;s&&s.contains(t)&&s.removeChild(t)}function c(e){return o(e.lng)||o(e.lat)}var d,h;t.__esModule=!0;a(s("l8WD"));var u=a(s("9Kaa")),p=a(s("yLmZ")),m=a(s("pcgx")),b=a(s("H+uI")),f=a(s("IQan")),g=a(s("rT4v")),O=a(s("ivZ3")),v=s("ACWa"),y=a(s("w8wE")),j=a(s("W0B4"));t.default=(0,v.withLeaflet)((h=d=function(e){function t(){return i(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.createLeafletElement=function(){return null},t.prototype.componentDidMount=function(){var t=this,s="leaflet-zoom-"+(this.props.leaflet.map.options.zoomAnimation&&O.default.Browser.any3d?"animated":"hide"),a=this.props.leaflet.map.getSize(),i=O.default.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this._el=O.default.DomUtil.create("canvas",s),this._el.style[i]="50% 50%",this._el.width=a.x,this._el.height=a.y;var o=this._el,n=O.default.Layer.extend({onAdd:function(e){return e.getPanes().overlayPane.appendChild(o)},addTo:function(e){return e.addLayer(t),t},onRemove:function(e){return l(e,o)}});this.leafletElement=new n,e.prototype.componentDidMount.call(this),this._heatmap=(0,y.default)(this._el),this.reset(),this.props.fitBoundsOnLoad&&this.fitBounds(),this.attachEvents(),this.updateHeatmapProps(this.getHeatmapProps(this.props))},t.prototype.getMax=function(e){return e.max||3},t.prototype.getRadius=function(e){return e.radius||30},t.prototype.getMaxZoom=function(e){return e.maxZoom||18},t.prototype.getMinOpacity=function(e){return e.minOpacity||.01},t.prototype.getBlur=function(e){return e.blur||15},t.prototype.getHeatmapProps=function(e){return{minOpacity:this.getMinOpacity(e),maxZoom:this.getMaxZoom(e),radius:this.getRadius(e),blur:this.getBlur(e),max:this.getMax(e),gradient:e.gradient}},t.prototype.componentWillReceiveProps=function(e){var t=this.props,s=this.getHeatmapProps(e);this.updateHeatmapGradient(s.gradient),(s.radius!==t.radius||s.blur!==t.blur)&&this.updateHeatmapRadius(s.radius,s.blur),s.max!==t.max&&this.updateHeatmapMax(s.max)},t.prototype.updateHeatmapProps=function(e){this.updateHeatmapRadius(e.radius,e.blur),this.updateHeatmapGradient(e.gradient),this.updateHeatmapMax(e.max)},t.prototype.updateHeatmapRadius=function(e,t){e&&this._heatmap.radius(e,t)},t.prototype.updateHeatmapGradient=function(e){e&&this._heatmap.gradient(e)},t.prototype.updateHeatmapMax=function(e){e&&this._heatmap.max(e)},t.prototype.componentWillUnmount=function(){l(this.props.leaflet.map,this._el)},t.prototype.fitBounds=function(){var e=this.props.points,t=(0,u.default)(e,this.props.longitudeExtractor),s=(0,u.default)(e,this.props.latitudeExtractor),a={lng:(0,f.default)(t),lat:(0,f.default)(s)},i={lng:(0,b.default)(t),lat:(0,b.default)(s)};c(a)||c(i)||this.props.leaflet.map.fitBounds(O.default.latLngBounds(O.default.latLng(i),O.default.latLng(a)))},t.prototype.componentDidUpdate=function(){this.props.leaflet.map.invalidateSize(),this.props.fitBoundsOnUpdate&&this.fitBounds(),this.reset()},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.attachEvents=function(){var e=this,t=this.props.leaflet.map;t.on("viewreset",(function(){return e.reset()})),t.on("moveend",(function(){return e.reset()})),t.options.zoomAnimation&&O.default.Browser.any3d&&t.on("zoomanim",this._animateZoom,this)},t.prototype._animateZoom=function(e){var t=this.props.leaflet.map.getZoomScale(e.zoom),s=this.props.leaflet.map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this.props.leaflet.map._getMapPanePos());O.default.DomUtil.setTransform?O.default.DomUtil.setTransform(this._el,s,t):this._el.style[O.default.DomUtil.TRANSFORM]=O.default.DomUtil.getTranslateString(s)+" scale("+t+")"},t.prototype.reset=function(){var e=this.props.leaflet.map.containerPointToLayerPoint([0,0]);O.default.DomUtil.setPosition(this._el,e);var t=this.props.leaflet.map.getSize();this._heatmap._width!==t.x&&(this._el.width=this._heatmap._width=t.x),this._heatmap._height!==t.y&&(this._el.height=this._heatmap._height=t.y),!this._heatmap||this._frame||this.props.leaflet.map._animating||(this._frame=O.default.Util.requestAnimFrame(this.redraw,this)),this.redraw()},t.prototype.redraw=function(){var e=this._heatmap._r,t=this.props.leaflet.map.getSize(),s=void 0===this.props.max?1:this.getMax(this.props),a=void 0===this.props.maxZoom?this.props.leaflet.map.getMaxZoom():this.getMaxZoom(this.props),i=1/Math.pow(2,Math.max(0,Math.min(a-this.props.leaflet.map.getZoom(),12))/2),o=e/2,n=this.props.leaflet.map._getMapPanePos(),l=n.x%o,c=n.y%o,d=this.props.latitudeExtractor,h=this.props.longitudeExtractor,b=this.props.intensityExtractor,f=function(e){return(0,p.default)(e,(function(e,t){return(0,u.default)(function(e){return(0,m.default)(e,(function(e){return void 0!==e}))}(t),(function(e){return[Math.round(e[0]),Math.round(e[1]),Math.min(e[2],s),e[3]]})).concat(e)}),[])}(function(e,t,s){return(0,p.default)(e,(function(e,a){var n=[d(a),h(a)];if(r(n))return e;var u=t.latLngToContainerPoint(n);if(!function(e,t){return t.contains(e)}(u,s))return e;var p=Math.floor((u.x-l)/o)+2,m=Math.floor((u.y-c)/o)+2;e[m]=e[m]||[];var f=e[m][p],g=b(a)*i;return f?(f[0]=(f[0]*f[2]+u.x*g)/(f[2]+g),f[1]=(f[1]*f[2]+u.y*g)/(f[2]+g),f[2]+=g,f[3]+=1):e[m][p]=[u.x,u.y,g,1],e}),[])}(this.props.points,this.props.leaflet.map,new O.default.Bounds(O.default.point([-e,-e]),t.add([e,e]))));this._heatmap.clear(),this._heatmap.data(f).draw(this.getMinOpacity(this.props)),this._frame=null,this.props.onStatsUpdate&&this.props.points&&this.props.points.length>0&&this.props.onStatsUpdate((0,p.default)(f,(function(e,t){return e.max=t[3]>e.max?t[3]:e.max,e.min=t[3]<e.min?t[3]:e.min,e}),{min:1/0,max:-1/0}))},t.prototype.render=function(){return null},t}(v.MapLayer),d.propTypes={points:j.default.array.isRequired,longitudeExtractor:j.default.func.isRequired,latitudeExtractor:j.default.func.isRequired,intensityExtractor:j.default.func.isRequired,fitBoundsOnLoad:j.default.bool,fitBoundsOnUpdate:j.default.bool,onStatsUpdate:j.default.func,max:j.default.number,radius:j.default.number,maxZoom:j.default.number,minOpacity:j.default.number,blur:j.default.number,gradient:j.default.object},h))},zPrn:function(e,t,s){"use strict";function a(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function i(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,n,r,l=s("cneo"),c=s("0frO");Object(l.f)({enforceActions:"always"});const d=new(n=i((o=class extends c.a{constructor(){super("waypoint",{namePlural:"waypoints",sort:"title",limit:100,api:{search:{url:"/api/waypoints/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/waypoints/",params:{}},save:{url:"/api/waypoints/",params:{}}}}),a(this,"waypoint",n,this),a(this,"waypoints",r,this)}}).prototype,"waypoint",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=i(o.prototype,"waypoints",[l.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);t.a=d},zVFP:function(e,t,s){"use strict";(function(e){var a,i=s("hosL"),o=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends i.Component{constructor(...e){var t;super(...e),t=this,this.loadErrors=async function(){const{adminStore:e}=t.props.stores;await e.getErrors()},this.toggleLine=e=>{const{idx:t}=e.target.closest("tr").dataset,{showError:s={}}=this.state;s[t]=!s[t],this.setState({showError:s})}}async loadAll(){this.setState({isLoading:!0}),await this.loadErrors(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{showError:t={}}=this.state,{adminStore:s}=this.props.stores,{errors:a}=s;return Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"Klient errors"),Object(i.h)("div",null,Object(i.h)("table",{class:"table table-striped table-sm"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"#"),Object(i.h)("th",null,"Date"),Object(i.h)("th",null,"User"),Object(i.h)("th",null,"Location"),Object(i.h)("th",null,"Error"))),Object(i.h)("tbody",null,a.map((s,a)=>Object(i.h)(e,null,Object(i.h)("tr",{class:"pointerCursor",onClick:this.toggleLine,"data-idx":a},Object(i.h)("td",null,a+1),Object(i.h)("td",{class:"text-overflow"},o.a.isoDate(s.timestamp)),Object(i.h)("td",{class:"text-overflow"},s.user.email),Object(i.h)("td",{class:"text-overflow"},s.location.href),Object(i.h)("td",null,Object(i.h)("strong",null,s.error.name,":")," ",s.error.message,Object(i.h)("br",null),t[a]&&Object(i.h)("xmp",null,s.error.stack.replace(/\\n/g,"\n"))))))))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},zinB:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e,t,s,a){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(a):void 0})}function r(e,t,s,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,a){return a(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l,c,d,h,u,p,m,b=s("cneo"),f=s("0frO"),g=s("Utv1"),O=s("Y3FI"),v=s("X9Km");Object(b.f)({enforceActions:"always"});const y=new(c=r((l=class extends f.a{constructor(){super("workoutPlan",{namePlural:"workoutPlans",sort:"title",limit:100,api:{search:{url:"/api/workoutplans/",params:{extendedView:1,limit:15,sort:"id"}},load:{url:"/api/workoutplans/",params:{}},save:{url:"/api/workoutplans/",params:{}}}}),n(this,"newPlan",c,this),n(this,"tips",d,this),n(this,"workoutPlan",h,this),n(this,"newWorkoutPlan",u,this),n(this,"workoutPlans",p,this),n(this,"graphPlanWeekDistanceCurrent",m,this)}cleanupMemory(){this.localUpdateField("workoutPlans",[]),this.localUpdateField("graphPlanWeekDistanceCurrent",[])}localUpdateField(e,t){this[e]=t}findWorkoutPlanSummaryDay(e,t,s,a){const i=this.workoutPlan;if(!i||!i.days)return null;const o=i.days.findIndex(i=>i.year===e&&i.month===t&&i.day===s&&(!a||i.month===a));return o>-1?Object(b.i)(i.days[o]):void 0}findWorkoutPlanSummaryWeek(e,t){const s=this.workoutPlan;if(!s||!s.weeks)return null;const a=s.weeks.findIndex(s=>s.year===e&&s.week===t);return a>-1?Object(b.i)(s.weeks[a]):void 0}findWorkoutPlanSummaryMonth(e,t){const s=this.workoutPlan;if(!s||!s.months)return null;const a=s.months.findIndex(s=>s.year===e&&s.month===t);return a>-1?Object(b.i)(s.months[a]):void 0}sumWorkoutPlanMonth(e,t,s="distance"){const a=this.workoutPlan;if(!a||!a.days)return null;let i=a.days.filter(a=>a.year===e&&a.month===t&&a[s]>0).map(e=>e[s]).reduce((e,t)=>e+t,0);if(0===i){const o=g.a.getWeeksInMonth(t,e).map(e=>e.week);i=a.weeks.filter(t=>t.year===e&&o.indexOf(t.week)>-1&&t[s]>0).map(e=>e[s]).reduce((e,t)=>e+t,0)}return 0===i&&(i=a.months.filter(a=>a.year===e&&a.month===t&&a[s]>0).map(e=>e[s]).reduce((e,t)=>e+t,0)),i}sumWorkoutPlanWeek(e,t,s="distance"){const a=this.workoutPlan;if(!a||!a.days)return null;return a.days.filter(a=>a.year===e&&a.week===t&&a[s]>0).map(e=>e[s]).reduce((e,t)=>e+t,0)}sumWorkoutPlanDaysBack(e,t,s=7){const a=g.a.getDaysInRange(new Date,-s,!0),i=this.workoutPlan;if(!i||!i.days)return null;return i.days.filter(e=>a.findIndex(t=>t.day===e.day&&t.month===e.month&&t.year===e.year)>-1&&e.distance>0).map(e=>e.distance).reduce((e,t)=>e+t,0)}prepareWeekGraphs({year:e}){const t=(new Date).getMonth()+1,s=parseInt(e||g.a.getYear(),10),a=parseInt(t<8?s-1:s,10),i=g.a.weekRange(a+"-08-01",a+1+"-07-31");if(!this.workoutPlan||!this.workoutPlan.days)return null;const o=i.map((e,t)=>{const s=this.workoutPlan.days.filter(t=>t.week===e.week&&t.year===e.year).map(e=>e.distance||0).reduce((e,t)=>e+t,0),a=this.workoutPlan.weeks.filter(t=>t.week===e.week&&t.year===e.year).map(e=>e.distance||0).reduce((e,t)=>e+t,0);return{x:t,y:s||a||0,week:e.week,year:e.year}});this.graphPlanWeekDistanceCurrent=o}resetGraphPlanWeekDistanceCurrent(){this.graphPlanWeekDistanceCurrent=[]}async createWorkoutPlan({newPlan:e}){const t=await g.a.fetchApi("/api/workoutplans/",{publish:!0,method:"POST"},i(i({},e),{},{doMerge:1}));switch(t.status){case 201:return t.data;case 409:return t;case 401:v.a.publish(v.b.LOG_OUT),Object(O.route)("/",!0)}}}).prototype,"newPlan",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=r(l.prototype,"tips",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=r(l.prototype,"workoutPlan",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=r(l.prototype,"newWorkoutPlan",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=r(l.prototype,"workoutPlans",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=r(l.prototype,"graphPlanWeekDistanceCurrent",[b.h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r(l.prototype,"cleanupMemory",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"cleanupMemory"),l.prototype),r(l.prototype,"localUpdateField",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"localUpdateField"),l.prototype),r(l.prototype,"findWorkoutPlanSummaryDay",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"findWorkoutPlanSummaryDay"),l.prototype),r(l.prototype,"findWorkoutPlanSummaryWeek",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"findWorkoutPlanSummaryWeek"),l.prototype),r(l.prototype,"findWorkoutPlanSummaryMonth",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"findWorkoutPlanSummaryMonth"),l.prototype),r(l.prototype,"sumWorkoutPlanMonth",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"sumWorkoutPlanMonth"),l.prototype),r(l.prototype,"sumWorkoutPlanWeek",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"sumWorkoutPlanWeek"),l.prototype),r(l.prototype,"sumWorkoutPlanDaysBack",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"sumWorkoutPlanDaysBack"),l.prototype),r(l.prototype,"prepareWeekGraphs",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"prepareWeekGraphs"),l.prototype),r(l.prototype,"resetGraphPlanWeekDistanceCurrent",[b.c],Object.getOwnPropertyDescriptor(l.prototype,"resetGraphPlanWeekDistanceCurrent"),l.prototype),l);t.a=y}});
//# sourceMappingURL=bundle.17c06.esm.js.map