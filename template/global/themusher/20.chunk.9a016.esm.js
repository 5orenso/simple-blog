(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),l=(s("Utv1"),s("/eY4"));const n={};let r=Object(l.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},n),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:t=>this.container=t}," ")}})||c;e.a=r},"/F9p":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("OhSV"),l=(s("ZOvn"),s("bbv7"));let n=Object(c.a)(a=class extends o.Component{render(){const{teamStore:e}=this.props.stores,{graphFitness:s,graphFatigue:a,graphForm:c}=e;if(!s||0===s.length)return"";const n=c.map(t=>t.date),r=Math.floor(n.length/4),h=[];for(let t=0,e=n.length;t<e;t+=r)h.push(n[t]);return h[h.length-1]=n[n.length-1],Object(o.h)(t,null,Object(o.h)("h5",null,Object(o.h)(i.c,{id:"teams.fitness"},"Form og belastning")),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.b,null,Object(o.h)(l.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicks:h,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:[s,a],dataFillLeft:[1],legendLeft:[Object(o.h)(i.c,{id:"teams.legend-fitness"},"Fitness"),Object(o.h)(i.c,{id:"teams.legend-fatigue"},"Fatigue")],dataRight:[c],legendRight:[Object(o.h)(i.c,{id:"teams.legend-form"},"Form")],showYTicksLeft:1,avgWindowLeft:[0,0],smoothLeft:[0,0],showYTicksRight:1,scrollToRight:!0}))))}})||a;e.a=n}).call(this,s("hosL").Fragment)},"0SNj":function(t,e,s){"use strict";var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),n=s("irB3"),r=(s("UwwE"),s("8Lgr"));s("QkTp");let h=Object(i.a)(a=class extends o.Component{constructor(t){super(t),this.state={}}async loadAll(t=this.props){await this.loadTeams(t)}async loadTeams(t=this.props){const{teamStore:e}=t.stores,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),{month:o=s,year:c=a,currentTeam:i}=t;await e.load({query:{team:i,skipMusherWorkoutSummary:!0,year:c,month:o},addData:["workoutSummary"]})}componentDidMount(){this.loadAll()}componentWillReceiveProps(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)}render(){const{teamStore:t}=this.props.stores,e=(new Date).getMonth()+1,s=(new Date).getFullYear(),{month:a=e,year:i=s,currentTeam:h,currentSeason:d,prevSeason:b}=this.props,m=parseInt(a<8?i-1:i,10),u=b||(h?t.findWorkoutSummary(h,m-1):t.findWorkoutSummaryTotal(m-1))||{},p=d||(h?t.findWorkoutSummary(h,m):t.findWorkoutSummaryTotal(m))||{};return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2 border-top"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(r.a,{stores:this.props.stores,value:p.distanceKm||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(r.a,{stores:this.props.stores,value:u.distanceKm||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(n.a,{stores:this.props.stores,value:p.elevation||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(n.a,{stores:this.props.stores,value:u.elevation||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",m,"-",m+1),Object(o.h)("h3",null,c.a.secToHms(p.duration||0))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},c.a.secToHms(u.duration||0)))),Object(o.h)("div",{class:"row mt-2 border-bottom"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(l.a,{stores:this.props.stores,value:p.speedAvg||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(l.a,{stores:this.props.stores,value:u.speedAvg||0,smallUnit:!0})))))}})||a;e.a=h},"6GRK":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,l=s("hosL"),n=s("/eY4"),r=(s("cneo"),s("Utv1")),h=s("OhSV"),d=s("go65");let b=Object(n.a)(i=class extends l.Component{constructor(t){var e;super(t),e=this,this.handleAdd=()=>{const{data:t}=this.state,{updateField:e,object:s,field:a}=this.props;e({id:s.id,field:a,value:o({},t)}),this.setState({data:{name:"",url:""}})},this.removeLink=async function(t){const{dogStore:s}=e.props.stores,{object:a}=e.props,{name:o,id:c}=t.target.closest("button").dataset;s.removeLink({id:a.id,name:o,linkId:c})},this.state={data:{}}}render(){const{showFiles:e=!0,object:s={}}=this.props;return Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 mt-3"},e&&Object(l.h)(t,null,Object(l.h)("div",{class:"container-fluid"},Object(l.h)("div",{class:"row"},(!s.links||0===s.links.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-link"})),Object(l.h)("h3",null,Object(l.h)(h.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(l.h)(h.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),s.links&&s.links.map(t=>Object(l.h)("div",{class:"col-12 p-1"},Object(l.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.createdDate,!1,!1,!0)),Object(l.h)("span",{class:"mr-2"},t.name),Object(l.h)("span",{class:"mr-2"},t.url),Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeLink,"data-name":t.name,"data-id":t.id},Object(l.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(l.h)("div",{class:"col-12 mt-3"},Object(l.h)("details",null,Object(l.h)("summary",null,Object(l.h)(h.c,{id:"dogs.link-add"},"Add new link")),Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:"name"},Object(l.h)(h.c,{id:"dogs.link-name"},"Name")),Object(l.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"data.name")}),Object(l.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(l.h)(h.c,{id:"dogs.link-name-help"},"Name of link"))),Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:"url"},Object(l.h)(h.c,{id:"dogs.link-url"},"Url")),Object(l.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(d.a)(this,"data.url")}),Object(l.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(l.h)(h.c,{id:"dogs.link-url-help"},"URL of link"))),Object(l.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(l.h)(h.c,{id:"dogs.link-add"},"Add link")))))}})||i;e.a=b}).call(this,s("hosL").Fragment)},"9Bb9":function(t,e,s){"use strict";var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),n=s("ETxl"),r=s.n(n),h=s("ZOvn");let d=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.loadWorkoutPlans=async function(t=e.props){const{workoutPlanStore:s}=t.stores,a=(new Date).getMonth()+1,o=(new Date).getFullYear(),{year:c=o,month:i=a,currentTeam:l}=t,n=parseInt(c||(i<8?c-1:c),10);if(l){await s.load({query:{team:l,seasonYear:n,seasonMonth:6}});const{workoutPlans:t}=s,e=t[0]||{};e.id&&await s.load(e.id)}},this.state={}}async loadAll(t=this.props){}async loadTeams(t=this.props){const{teamStore:e}=t.stores,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),{month:o=s,year:c=a,currentTeam:i}=t;await e.load({query:{team:i,skipMusherWorkoutSummary:!0,year:c,month:o},addData:["workoutSummary"]})}async loadWorkoutSummary(t=this.props){const{year:e,currentTeam:s,dog:a}=t,{userStore:o}=t.stores;await o.getWorkoutSummary({team:s,year:e,dog:a})}componentDidMount(){this.loadAll()}componentWillReceiveProps(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)}render(){const{currentTeam:t}=this.props,{userStore:e,workoutPlanStore:s,teamStore:a}=this.props.stores,{workoutPlan:i}=s,{user:n}=e,{language:d="en"}=n,b=h.a.getMonths(d),m=a.findTeam(t)||{},u=(new Date).getMonth()+1,p=(new Date).getFullYear(),{year:O=p,month:f=u}=this.props,j=parseInt(f<8?O-1:O,10),g=c.a.monthRange(j+"-08-01",j+1+"-07-31");let v;return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("h5",null,Object(o.h)("span",{style:"display: none;"},i.id),Object(o.h)(l.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(o.h)("div",{class:"row mt-2 border-bottom pb-2"},g&&g.map(t=>{if(t.year>O||t.year===O&&t.month>=t)return"";const a=s.sumWorkoutPlanMonth(t.year,t.month+1);if(!a)return"";v=a;const i=e.findWorkoutSummaryMonth(t.year,t.month+1)/a*100,l=i>100?100:c.a.format(i,0);return Object(o.h)("div",{class:"col-3 text-center"},Object(o.h)("div",{class:"px-auto w-100 clearfix"},Object(o.h)("div",{class:"progress "+r.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(o.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:`height: ${l}%; width: 40px;`,"aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},c.a.format(i,0),"%"))),Object(o.h)("div",{class:"w-100 mt-1"},b[t.month]," ",t.year))}),!v&&Object(o.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"far fa-sad-tear"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(l.c,{id:"workout.plan.no-workout-plan-found",fields:{name:m.name}},"Ingen treningsplaner funnet for team ",m.name,".")),Object(o.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(o.h)("i",{class:"fas fa-calendar-alt"})," ",Object(o.h)(l.c,{id:"workout.plan.new"},"New workoutplan")))))}})||a;e.a=d},"Gx/q":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=(s("OhSV"),s("nHdA")),n=s("irB3"),r=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));let d=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.removeUser=async function(t){let s=t.target.dataset.id,a=t.target.dataset.email,o=t.target.dataset.team;!s&&t.target.parentNode&&(s=t.target.parentNode.dataset.id,a=t.target.parentNode.dataset.email,o=t.target.parentNode.dataset.team),console.log("id, email, team",s,a,o);const{teamStore:c}=e.props.stores;await c.removeMember(o,{id:s,email:a})},this.adminUpdateUser=t=>{const{email:e}=t.target.closest("input").dataset,{name:s}=t.target,a=`${e}-${s}`;clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout(()=>{this.doAdminUpdateUser(t)},500)},this.doAdminUpdateUser=async function(t){const{email:s}=t.target.closest("input").dataset,{name:a,value:o}=t.target,{userStore:c}=e.props.stores;await c.adminUpdateUser(s,{[a]:o})},this.simulateUser=t=>{const{email:e}=t.target.closest("button").dataset,{userStore:s}=this.props.stores;s.getSimulateUser(e)},this.state={},this.updateTimer={}}render(){const{user:e,team:s={}}=this.props,{userStore:a,teamStore:i}=this.props.stores,{user:d,isAdmin:b}=a,m=a.findTeams(e.teams),u=i.findMusherSummary(e.id,s.id)||{},p=s.user===d.id,O=h.a.getImage({user:e,team:s}),f=h.a.displayName(e);return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:O?`background-image: url('${O}'); background-size: cover;`:""},!O&&Object(o.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(o.h)("h5",null,f),Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("div",{class:"d-flex justify-content-left"},e.cellphone&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-mobile-alt"})," ",e.cellphone),e.email&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-envelope ml-3"})," ",e.email),e.url&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asUrl(e.url),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fas fa-link"}))),e.facebook&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asFacebookLink(e.facebook),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-facebook"}))),e.instagram&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asInstagramLink(e.instagram),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-instagram"}))),e.snapchat&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asSnapchatLink(e.snapchat),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-snapchat"})))))),b&&Object(o.h)(t,null,Object(o.h)("button",{class:"btn btn-block btn-success",onClick:this.simulateUser,"data-email":e.email},"Simulate user"),Object(o.h)("small",null,Object(o.h)("details",null,Object(o.h)("summary",null,"settings"),Object(o.h)("xmp",null,JSON.stringify(e.settings,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"subscription"),Object(o.h)("xmp",null,JSON.stringify(e.subscription,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"deviceInfo"),Object(o.h)("xmp",null,JSON.stringify(e.deviceInfo,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"subscription"),Object(o.h)("xmp",null,JSON.stringify(e.subscription,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"notifications"),Object(o.h)("xmp",null,JSON.stringify(e.notifications,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"notificationTopics"),Object(o.h)("xmp",null,JSON.stringify(e.notificationTopics,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"applications"),Object(o.h)("xmp",null,JSON.stringify(e.applications,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"shadowTags"),Object(o.h)("xmp",null,JSON.stringify(e.shadowTags,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"garmin"),Object(o.h)("xmp",null,JSON.stringify(e.garmin,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"strava"),Object(o.h)("xmp",null,JSON.stringify(e.strava,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"currentLocationGeocode"),Object(o.h)("xmp",null,JSON.stringify(e.currentLocationGeocode,null,4))),"lastActivityEpoch: ",c.a.isoDate(e.lastActivityEpoch),Object(o.h)("br",null),"activities: ",c.a.format(e.activities),Object(o.h)("br",null),e.settings&&Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:e.settings.veterinaryAllowed?0:1,id:"settings.veterinaryAllowed-"+e.id,name:"settings.veterinaryAllowed",checked:e.settings.veterinaryAllowed?"checked":"","data-email":e.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"settings.veterinaryAllowed-"+e.id},"settings.veterinaryAllowed")),Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:e.twoFactorLogin?0:1,id:"twoFactorLogin-"+e.id,name:"twoFactorLogin",checked:e.twoFactorLogin?"checked":"","data-email":e.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"twoFactorLogin-"+e.id},"twoFactorLogin")),Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:e.isVeterinary?0:1,id:"isVeterinary-"+e.id,name:"isVeterinary",checked:e.isVeterinary?"checked":"","data-email":e.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"isVeterinary-"+e.id},"isVeterinary")),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"cellphone-"+e.id},"cellphone"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"cellphone-"+e.id,name:"cellphone",class:"form-control",value:e.cellphone,"data-email":e.email,onInput:this.adminUpdateUser}))),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"firstname-"+e.id},"firstname"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"firstname-"+e.id,name:"firstname",class:"form-control",value:e.firstname,"data-email":e.email,onInput:this.adminUpdateUser}))),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"lastname-"+e.id},"lastname"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"lastname-"+e.id,name:"lastname",class:"form-control",value:e.lastname,"data-email":e.email,onInput:this.adminUpdateUser}))))),e.teams&&Object(o.h)(t,null,m.map(t=>Object(o.h)("span",{class:"badge badge-pill badge-info mr-2"},t.name)),Object(o.h)("br",null)),s.id&&u&&Object(o.h)(t,null,Object(o.h)("small",{class:"text-muted"},"Total:",u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:u.distanceKm})),u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(n.a,{stores:this.props.stores,value:u.elevation})),u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",c.a.secToHms(u.duration||0))),Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},"Avg:",u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:u.avgDistance})),u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(n.a,{stores:this.props.stores,value:u.avgElevation})),u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",c.a.secToHms(u.avgDuration||0)),u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:u.speedAvg})),u&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-dog"})," ",c.a.format(u.avgDogs,1))))),Object(o.h)("div",null,p&&e.id!==d.id&&Object(o.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":e.email,"data-id":e.id,"data-team":s.id},Object(o.h)("i",{class:"fas fa-ban"})),!p&&e.id===d.id&&Object(o.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":e.email,"data-id":e.id,"data-team":s.id},Object(o.h)("i",{class:"fas fa-sign-out-alt"}),s.id)))))}})||a;e.a=d}).call(this,s("hosL").Fragment)},"JWe/":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function l(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var n,r=s("hosL"),h=s("Utv1"),d=s("/eY4"),b=s("cneo"),m=s("OhSV"),u=s("fh8t"),p=s.n(u),O=(s("UJvz"),s("sqi2")),f=s("/922"),j=s("s4FZ"),g=s("ZQlJ"),v=s("q/oJ"),w=s("gWxU"),k=s("Nanz"),y=s("+JSK"),x=s("vY+r"),S=s("nHdA"),T=s("irB3"),D=s("UwwE"),$=s("8Lgr"),L=s("QkTp"),I=s("ZOvn");const A=I.a.getMaxLoadIndex(),P={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let W=Object(d.a)(n=class extends r.Component{constructor(t){var e;super(t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.likeWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=e.props,a=s.id,{likeWorkout:o}=e.state;o[a]=!0,e.setState({likeWorkout:o}),setTimeout(()=>{const{likeWorkout:t}=e.state;delete t[a],e.setState({likeWorkout:t})},1200);await t.likeWorkout({id:a})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[e]=s,this.setState({viewImageIdx:a})},this.shareLink=t=>{const{url:e,title:s,text:a}=t.target.closest("button").dataset,{appState:o}=this.props.stores;o.shareUrl({url:e,title:s,text:a})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=o({},P),this.updateTimer={},this.inputRef={}}render(){const{showDate:e,showAddComment:s,viewImageIdx:a={},likeWorkout:c,dogs:n,showTeam:d,showDog:u}=this.state,{workout:P,showDate:W,wrapperClasses:C="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:F="row"}=this.props,{userStore:R,appState:Y,workoutStore:U}=this.props.stores,{viewmode:E,hasShareApi:M}=Y,{user:z,dogs:N}=R,{language:H="en"}=z,V=R.findIntensity({code:P.intensity,language:H})||{},X=R.findTeam(P.team,!0)||{},K=X.name,B=[];K&&B.push(K),P.teams&&P.teams.forEach(t=>{R.findTeam(t)&&B.push(R.findTeam(t))});const{likes:q=[],comments:G=[]}=P,J=P.likes&&P.likes.findIndex(t=>t.user===z.id)>-1,{gpxInfo:Z={},mushers:_=[]}=P,{loadIndex:Q=0}=Z,tt=R.findEquipment({equipment:P.equipment,language:H}),et=R.findEquipment({equipment:P.equipment,field:"icon"}),st=[];_.length>1&&_.slice(1,10).map(t=>{const e=U.findPublicUser(t)||{};e.images&&e.images[0]&&st.push(e.images[0])});const at=U.findPublicUser(_[0])||{};let ot;at&&at.images&&at.images[0]?ot=at.images[0]:X.image&&X.image.s3SmallLink?ot=X.image:X.images&&X.images[0]&&X.images[0].s3SmallLink?ot=X.images[0]:P.image&&P.image.s3SmallLink&&(ot=P.image);const ct=[];if(P.mapImage&&ct.push(o(o({},P.mapImage),{},{type:"map"})),P.images){const t=Object(b.i)(P.images);ct.push(...t)}let it;P&&P.gpxInfo&&P.gpxInfo.battegryLevelStart&&(it=100*(P.gpxInfo.battegryLevelStart-P.gpxInfo.battegryLevelEnd));const lt=I.a.getViews(P.statistics);return Object(r.h)(t,null,d&&Object(r.h)(v.a,null,Object(r.h)(w.default,{stores:this.props.stores,teamid:d,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),u&&Object(r.h)(v.a,null,Object(r.h)(k.default,{stores:this.props.stores,dogid:u,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:n})),Object(r.h)("div",{class:"w-100 mb-2"},Object(r.h)("div",{class:F},Object(r.h)("div",{class:C+" d-flex mb-0 position-relative"},Object(r.h)("div",{class:"text-center"},Object(r.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+i(P),style:(ot?`background-image: url("${ot.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!ot&&Object(r.h)("i",{class:`${l(P)} text-${V.class?V.class:"muted"} mt-3`,style:"font-size: 40px;"}),st&&st.map((e,s)=>Object(r.h)(t,null,Object(r.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${e.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==P.temperature&&Object(r.h)(t,null,Object(r.h)("span",{class:"text-muted font-weight-light"},Object(r.h)(L.a,{stores:this.props.stores,value:P.temperature})))),Object(r.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(r.h)("span",{class:"float-right"},1===P.isLocked&&Object(r.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===P.isInProgress&&Object(r.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===P.isInProgress&&Object(r.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(r.h)("a",{class:"stretched-link",href:"/workouts/"+P.id},Object(r.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},P.name)),B&&B.length>0&&Object(r.h)("small",{class:"font-weight-lighter"},B.map((e,s)=>Object(r.h)(t,null,s>0?", ":"",e))),Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},P.date&&Object(r.h)("small",{onClick:this.toggleDate},W||e?h.a.formatDate(P.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance(P.date,new Date,{locale:"no-NB"})),Object(r.h)("span",{class:`badge badge-${V.class} ml-2`},V.name),Q>0&&Object(r.h)("span",{class:"ml-2 text-"+I.a.getLoadIndexColor(h.a.normalizeBetween(Q,0,A,0,100))},Object(r.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(h.a.normalizeBetween(Q,0,A,0,100))," - ",I.a.getLoadIndexText(h.a.normalizeBetween(Q,0,A,0,100))),Object(r.h)("br",null)),Object(r.h)("small",null,Object(r.h)("div",{class:"text-muted"},P.garminId>0&&Object(r.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),P.stravaId>0&&Object(r.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),P.equipment>0&&Object(r.h)(t,null,Object(r.h)("i",{class:et+" ml-2"})," ",tt),P.dogs>0&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-dog ml-2"})," ",P.dogs.length),P.track>0&&Object(r.h)(t,null,Object(r.h)("i",{class:`fas fa-map-marked text-${P.track>0?"success":"danger"} ml-2`})),P.dogsLeft>0&&Object(r.h)(t,null,Object(r.h)("i",{class:`fas fa-crosshairs text-${P.dogsLeft&&P.dogsRight?"success":"danger"} ml-2`})),P.sledWeight>0&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(r.h)(D.a,{stores:this.props.stores,value:P.sledWeight})),it>0&&Object(r.h)("span",{class:"text-muted ml-2"},Object(r.h)("i",{class:"fas fa-battery-three-quarters"})," ",h.a.format(it,1),"% ",Object(r.h)(m.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(E)>-1&&Object(r.h)("span",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",h.a.format(P.kcalBurnedTotal)," ",Object(r.h)(m.c,{id:"workout.kcal"},"kcal"),Object(r.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(r.h)(D.a,{stores:this.props.stores,value:P.kcalMeatGramsTotal/1e3}),Object(r.h)("i",{class:"fas fa-fish ml-2"})," ",Object(r.h)(D.a,{stores:this.props.stores,value:P.kcalSalmonGramsTotal/1e3}),Object(r.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(r.h)(D.a,{stores:this.props.stores,value:P.kcalFatGramsTotal/1e3}))))),Object(r.h)("div",{class:C+" position-relative mt-2"},Object(r.h)("strong",null,P.description)),Object(r.h)("div",{class:C+" position-relative"},Object(r.h)(p.a,{markdown:I.a.replaceImages(P.comment,P.images,H),markdownOpts:I.a.getMarkdownOptions()})),Object(r.h)("div",{class:C+" d-flex mb-0 position-relative"},Object(r.h)("div",{class:"container-fluid px-0"},Object(r.h)("div",{class:"row mt-1"},P.distanceKm>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-road"})," ",Object(r.h)(m.c,{id:"workout.calendar.distance"},"Distanse"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(r.h)($.a,{stores:this.props.stores,value:P.distanceKm}))),P.elevation>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-mountain"})," ",Object(r.h)(m.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(r.h)(T.a,{stores:this.props.stores,value:P.elevation}))),P.duration>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(m.c,{id:"workout.calendar.duration"},"Varighet"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},h.a.secToHms(P.duration,!0))),P.speedAvg>0&&Object(r.h)("div",{class:"col-3"},Object(r.h)("div",{class:"text-overflow"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(r.h)(m.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},P.gpxInfo&&P.gpxInfo.avgGpsMovingSpeed>0?Object(r.h)(t,null,Object(r.h)(S.a,{stores:this.props.stores,value:3.6*P.gpxInfo.avgGpsMovingSpeed})):Object(r.h)(t,null,Object(r.h)(S.a,{stores:this.props.stores,value:P.speedAvg}))))))),["beta","advanced","normal"].indexOf(E)>-1&&Object(r.h)("div",{class:""+C},Object(r.h)("div",{class:"container-fluid px-0 mt-1"},Object(r.h)("div",{class:"row"},Object(r.h)(j.a,{stores:this.props.stores,images:ct,id:P.id,dblClick:this.likeWorkout,likeRef:c})))),["beta","advanced","normal"].indexOf(E)>-1&&Object(r.h)(t,null,P.dogs&&P.dogs.length>0&&Object(r.h)("div",{class:"container-fluid px-0 mt-1"},Object(r.h)("div",{class:"row pt-2"},Object(r.h)(g.a,{stores:this.props.stores,dogs:P.dogs,allDogs:N,onDogClick:this.onDogClick}))),Object(r.h)("div",{class:"mt-2"},Object(r.h)(y.a,{stores:this.props.stores,likes:q,comments:G,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(E)>-1&&Object(r.h)(t,null,Object(r.h)("div",{class:C+" mb-0 position-relative mt-2"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{type:"button",class:`btn btn-sm btn-outline-${J?"primary":"secondary"} btn-lg btn-block ${J?"text-primary":""}`,onClick:this.likeWorkout},Object(r.h)("i",{class:(J?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(r.h)(m.c,{id:"comments.like"},"Lik"))),Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":P.id,onClick:this.toggleAddComment},Object(r.h)("i",{class:"fas fa-comment"})," ",Object(r.h)(m.c,{id:"comments.comment-add"},"Kommentar"))),M?Object(r.h)(t,null,Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+P.uuidv4,"data-title":"title: "+P.name},Object(r.h)("i",{class:"fas fa-share"})," ",Object(r.h)(m.c,{id:"workout.share"},"Del")))):Object(r.h)(t,null,Object(r.h)("div",{class:"col text-center"},Object(r.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+P.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(r.h)("i",{class:"fas fa-share"})," ",Object(r.h)(m.c,{id:"workout.share"},"Del")))))),Object(r.h)("div",{class:C+" mt-2 mb-3"},s&&Object(r.h)(f.a,{stores:this.props.stores,workout:P,inputRef:t=>this.inputRef[P.id]=t,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(r.h)(O.a,{stores:this.props.stores,workout:P,col:"10",offset:"2",compact:!0})),lt>0&&Object(r.h)(t,null,Object(r.h)("div",{class:"mt-2"},Object(r.h)(x.a,{stores:this.props.stores,views:lt,object:P,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||n;e.a=W}).call(this,s("hosL").Fragment)},K9Qx:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("go65"),n=s("OhSV"),r=(s("nHdA"),s("irB3"),s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));const d=[0,6];let b=Object(i.a)(a=class extends o.Component{constructor(...t){var e;super(...t),e=this,this.setFocus=()=>{this.inputRef&&this.inputRef.focus()},this.editMonth=t=>{this.setState({showInput:!0,inputYear:t.target.parentElement.dataset.year||t.target.dataset.year,inputMonth:t.target.parentElement.dataset.month||t.target.dataset.month,inputDay:null,inputWeek:null,newDistance:t.target.parentElement.dataset.distance||t.target.dataset.distance||null},()=>this.setFocus())},this.editWeek=t=>{this.setState({showInput:!0,inputYear:t.target.parentElement.dataset.year||t.target.dataset.year,inputWeek:t.target.parentElement.dataset.week||t.target.dataset.week,inputMonth:null,inputDay:null,newDistance:t.target.parentElement.dataset.distance||t.target.dataset.distance||null},()=>this.setFocus())},this.editDay=t=>{this.setState({showInput:!0,inputYear:t.target.parentElement.dataset.year||t.target.dataset.year,inputMonth:t.target.parentElement.dataset.month||t.target.dataset.month,inputDay:t.target.parentElement.dataset.day||t.target.dataset.day,inputWeek:t.target.parentElement.dataset.week||t.target.dataset.week,newDistance:t.target.parentElement.dataset.distance||t.target.dataset.distance||null},()=>this.setFocus())},this.saveDistance=async function(){const{workoutPlanStore:t,workoutStore:s,userStore:a}=e.props.stores,{currentTeam:o}=s,i=a.findTeam(o)||"",{year:l,month:n}=e.props,{workoutPlans:r}=t,h=r[0]||{},{inputYear:d,inputMonth:b,inputWeek:m,inputDay:u,newDistance:p}=e.state,O=n||(new Date).getMonth()+1,f=l||c.a.getYear(),j=parseInt(O<8?f-1:f,10);if(h.id)await t.load(h.id);else{const e=await t.insert({title:`Workout plan for ${j} - ${j+1}: ${i}`,team:o,seasonYear:j,seasonMonth:6}),{id:s}=e.data;await t.load(s)}const{workoutPlan:g}=t,{id:v}=g;let w;d&&(w=u?"days":"weeks"),await t.saveField(v,w,{year:d,month:b,day:u,week:m,distance:p}),await t.load(v),e.resetInput(!0)},this.resetInput=t=>{if(t){const{inputYear:t,inputMonth:e,inputDay:s}=this.state,a=c.a.addDays(new Date(t,e-1,s,0,0,0,0),1);this.setState({showInput:!0,inputYear:a.getFullYear(),inputMonth:a.getMonth()+1,inputDay:a.getDate(),inputWeek:c.a.getWeek(a),newDistance:null}),this.setFocus()}else this.setState({showInput:!1,inputYear:null,inputMonth:null,inputDay:null,inputWeek:null,newDistance:null})},this.checkKeydown=t=>{switch(t.key){case"Enter":this.saveDistance();break;case"Escape":this.resetInput()}},this.updateWorkoutPlanTips=()=>{const{userStore:t}=this.props.stores,{user:e={}}=t,{settings:s={}}=e;this.setState({hideWorkoutPlanTips:s.hideWorkoutPlanTips})},this.toggleTips=async function(){const{hideWorkoutPlanTips:t}=e.state,{userStore:s}=e.props.stores,a=1===t?0:1;e.setState({hideWorkoutPlanTips:a}),await s.updateSetting({"settings.hideWorkoutPlanTips":a},{hideWorkoutPlanTips:a})}}componentDidMount(){this.updateWorkoutPlanTips()}render(){const{hideWorkoutPlanTips:e}=this.state,{appState:s,workoutPlanStore:a,userStore:i,teamStore:b}=this.props.stores,{user:m}=i,{language:u="en"}=m,{darkmode:p}=s,O=h.a.getDays(u),f=h.a.getMonths(u),{showInput:j,inputYear:g,inputMonth:v,inputWeek:w,inputDay:k,newDistance:y}=this.state,x=(new Date).getDate(),S=(new Date).getMonth()+1,T=(new Date).getFullYear(),D=(new Date).getTime(),{month:$=S,year:L=T,dog:I,basehref:A,showNavigation:P=!0,showHeader:W=!0,currentTeam:C}=this.props,F=parseInt($<8?L-1:L,10),R=parseInt($,10),Y=parseInt(L,10),{month:U,year:E}=h.a.getNextMonth(R,Y),{month:M,year:z}=h.a.getPrevMonth(R,Y),N=c.a.getDaysInMonth($,L),H=c.a.getWeeksInMonth($,L),V=c.a.getDaysInWeek(H[0].week,L,$);let X=0,K=0,B=0;const q=N[N.length-1].getTime()>D,G=a.findWorkoutPlanSummaryMonth(L,R)||{},{workoutPlan:J,tips:Z}=a,_=Z[`${L}-${c.a.padDate($)}`],Q=_&&(_.comments.length>0||_.distance),tt=b.findTeam(C)||{};return Object(o.h)(t,null,W&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},P&&Object(o.h)("a",{href:`${A||"/workouts/month/"}${U}/${E}/skipScroll`,class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(o.h)("i",{class:"fas fa-arrow-right"})),P&&Object(o.h)("a",{href:`${A||"/workouts/month/"}${M}/${z}/skipScroll`,class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(o.h)("i",{class:"fas fa-arrow-left"})),Object(o.h)("h3",null,Object(o.h)(n.c,{id:"workout.plan.month"},"Måned")," - ",f[$-1]," ",L," ",G.distance?`- ${c.a.format(G.distance,0)} km`:""),Object(o.h)("h5",{class:"text-muted font-weight-light"},Object(o.h)(n.c,{id:"workout.plan.season"},"Sesongen")," ",F," - ",F+1),Object(o.h)("div",null,J.id?Object(o.h)(t,null,Object(o.h)("small",null,J.title)):Object(o.h)(t,null,Object(o.h)("div",{class:"display-4"},Object(o.h)("i",{class:"far fa-sad-tear text-muted"})),Object(o.h)("h5",{class:"font-weight-lighter text-muted"},Object(o.h)(n.c,{id:"workout.plan.no-workout-plan-found",fields:{name:tt}},"Ingen plan")),Object(o.h)("div",{class:"text-muted"},Object(o.h)(n.c,{id:"workout.plan.click-to-start"},"Click on a date to get started.")))),I&&Object(o.h)("div",null,I.name))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!(!(j&&g&&w)||k)&&Object(o.h)(t,null,Object(o.h)("div",{class:"form-inline w-100"},Object(o.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(o.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:`Enter distance for ${g} w${w}`,ref:t=>this.inputRef=t,onInput:Object(l.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:y||""})),Object(o.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(o.h)(n.c,{id:"workout.plan.save"},"Lagre")))),!!(j&&g&&v)&&Object(o.h)(t,null,Object(o.h)("div",{class:"form-inline w-100"},Object(o.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(o.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:`Enter distance for ${g}-${c.a.padDate(v)} ${k?"-"+c.a.padDate(k):""}`,ref:t=>this.inputRef=t,onInput:Object(l.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:y||""})),Object(o.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(o.h)(n.c,{id:"workout.plan.save"},"Lagre"))))),"no"===u&&Object(o.h)(t,null,e?Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(o.h)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:this.toggleTips},Object(o.h)("i",{class:"fas fa-eye"})," ",Object(o.h)(n.c,{id:"workout.plan.show-tips"},"Show tips")))):Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(o.h)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:this.toggleTips},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(n.c,{id:"workout.plan.hide-tips"},"Hide tips"))))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(o.h)("div",{class:"table-responsive"},Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(n.c,{id:"workout.plan.week"},"Uke"))),V.map(t=>Object(o.h)("th",null,Object(o.h)("small",null,O[t.getDay()]))),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(n.c,{id:"workout.plan.sum"},"Sum"))),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(n.c,{id:"workout.plan.planned"},"Plan"))))),Object(o.h)("tbody",null,H&&H.map(s=>{const l=c.a.getDaysInWeek(s.week,L,$),n=a.findWorkoutPlanSummaryWeek(c.a.asNumber(L),s.week)||{},b=l[6].getTime()>D;let m=0,O=0;n.distance>0&&(K+=n.distance);const f=Z[`${L}-${c.a.padDate($)}-w${c.a.padDate(s.week)}`],j=f&&(f.comments.length>0||f.distance);return Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-right text-muted pt-3 border-right "+(k||g!=L||w!=s.week?"":"border rounded border-primary")},Object(o.h)("small",{onClick:this.editWeek,"data-week":s.week,"data-year":L,"data-distance":n.distance},s.week)),l.map(t=>{const e=t.getFullYear(),c=t.getMonth()+1,l=t.getDate(),n=t.getTime()>D,b=i.findWorkoutSummaryWeekDay(n?e-1:e,c,l,R)||{},u=a.findWorkoutPlanSummaryDay(e,c,l,R)||{};u&&u.distance&&(m+=u.distance,X+=u.distance),b.distanceKm&&(O+=b.distanceKm,B+=b.distanceKm);const f=g==e&&v==c&&k==l,j=T==e&&S==c&&x==l,w=d.indexOf(t.getDay())>-1;return Object(o.h)("td",{class:`text-center overflow-hidden font-weight-light position-relative pt-3 pb-3 border-right ${f?"calendarIsChosen":""} ${j?"calendarIsToday":""} ${w?"calendarIsWeekend":""}`,style:"font-size: 0.8em; min-width: 3rem;",onClick:this.editDay,"data-day":t.getDate(),"data-month":t.getMonth()+1,"data-year":L,"data-week":s.week,"data-distance":u.distance},Object(o.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),u&&u.distance?Object(o.h)("div",{class:"rounded-pill w-100 px-1",style:`background-color: ${h.a.getPlanColor(u,p)};`},Object(o.h)(r.a,{stores:this.props.stores,value:u.distance}),u.count>1&&Object(o.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},u.count)):"-",b.distanceKm>0&&Object(o.h)("span",{class:"position-absolute font-weight-bold",style:`bottom: 0; left: 0px; font-size: 0.85em; color: ${n?"#393DB1":"#2BAAA9"};`},Object(o.h)(r.a,{stores:this.props.stores,value:b.distanceKm})))}),Object(o.h)("td",{class:"text-right pt-3 pb-3 position-relative border-right",style:"font-size: 0.8em;"},Object(o.h)(r.a,{stores:this.props.stores,value:m}),O>0&&Object(o.h)("span",{class:"position-absolute",style:`bottom: 0; left: 0px; font-size: 0.85em; color: ${b?"#393DB1":"#2BAAA9"};`},Object(o.h)(r.a,{stores:this.props.stores,value:O}))),Object(o.h)("td",{class:"text-right pt-3 pb-3 text-muted border-right",style:"font-size: 0.8em;",onClick:this.editWeek,"data-week":s.week,"data-year":L,"data-distance":n.distance},n.distance>0&&Object(o.h)(t,null,Object(o.h)("div",{class:"rounded-pill w-100 px-1 text-white text-center",style:`background-color: ${h.a.getPlanColor(n,p)};`},Object(o.h)(r.a,{stores:this.props.stores,value:n.distance}))))),!e&&"no"===u&&f&&j&&Object(o.h)("tr",null,Object(o.h)("td",{colspan:"10",class:"pb-3"},Object(o.h)("h5",null,Object(o.h)("span",{class:"font-weight-lighter"},"Uke ",s.week," ",L,":"),"Tips fra Femundløpet"),f.totalDistance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse"),": ",f.totalDistance," km"),f.distance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",f.distance),f.time&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",f.time),f.totalWorkouts>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",f.totalWorkouts),f.avgSpeed&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",f.avgSpeed),f.comments&&Object(o.h)("div",null,f.comments.map(t=>Object(o.h)("p",null,t))))))})),Object(o.h)("tfoot",null,Object(o.h)("tr",null,Object(o.h)("td",{colspan:"8",class:"text-right pb-3"},Object(o.h)(n.c,{id:"workout.plan.totalkm"},"Totalt km")),Object(o.h)("td",{class:"text-right position-relative pb-3"},Object(o.h)(r.a,{stores:this.props.stores,value:X}),B>0&&Object(o.h)("span",{class:"position-absolute",style:`bottom: 0; left: 0px; font-size: 0.65em; color: ${q?"#393DB1":"#2BAAA9"};`},Object(o.h)(r.a,{stores:this.props.stores,value:B}))),Object(o.h)("td",{class:"text-right text-muted"},Object(o.h)(r.a,{stores:this.props.stores,value:K}))),!e&&"no"===u&&_&&Q&&Object(o.h)("tr",null,Object(o.h)("td",{colspan:"10",class:"pb-3"},Object(o.h)("h5",null,Object(o.h)("span",{class:"font-weight-lighter"},f[$-1]," ",L,":")," Tips fra Femundløpet"),_.totalDistance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse"),": ",_.totalDistance," km"),_.distance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",_.distance),_.time&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",_.time),_.totalWorkouts>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",_.totalWorkouts),_.avgSpeed&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",_.avgSpeed),_.comments&&Object(o.h)("div",null,_.comments.map(t=>Object(o.h)("p",null,t))))))))))}})||a;e.a=b}).call(this,s("hosL").Fragment)},KDoM:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),n=s("nHdA"),r=s("irB3"),h=s("UwwE"),d=s("8Lgr"),b=(s("QkTp"),s("ZOvn"));let m=Object(i.a)(a=class extends o.Component{render(){const{dog:e}=this.props,{userStore:s,dogStore:a,appState:i}=this.props.stores,{user:m}=s,{language:u="en"}=m,{viewmode:p}=i,O=(new Date).getMonth()+1,f=(new Date).getFullYear(),{month:j=O,year:g=f}=this.props,v=parseInt(j<8?g-1:g,10),w=a.findWorkoutSummary(e.id,v)||{},k=e.statuses?e.statuses.map(t=>s.findDogstatus({status:t,language:u})):[],y=a.findVaccineStatuses(e.id),x=a.findVaccineLogStatuses(e.chipId),S=a.findHistoryStatuses(e.id),T=s.findDogstatus({status:e.status,language:u}),D=s.findDogposition({position:e.position,language:u}),$=[];s.findTeam(e.team)&&$.push(s.findTeam(e.team)),e.teams&&e.teams.forEach(t=>{s.findTeam(t)&&$.push(s.findTeam(t))});const L=b.a.hasBirthday(e.birth),I=e.birth?Math.ceil(b.a.daysUntilNextBirthday(e.birth)):365,{url:A="/dogs/"+e.id}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:""},!e.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},c.a.ucfirst(e.name,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(e.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(o.h)("span",{class:"float-right"},D&&Object(o.h)("span",{class:`badge badge-${D.class||"primary"} mr-3`},D.icon&&Object(o.h)("i",{class:D.icon})," ",D.name),I<7&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",I," days")),e.birth&&Object(o.h)("span",{class:"mr-2"},c.a.age(e.birth,e.deceased)),"female"===e.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:A},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(o.h)(t,null," - ",Object(o.h)("span",{class:"font-weight-lighter"},e.name)),L&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(o.h)("div",null,$&&$.length>0&&Object(o.h)("small",{class:"font-weight-lighter"},$.map((e,s)=>Object(o.h)(t,null,s>0?", ":"",e))),Object(o.h)("br",null)),Object(o.h)("small",{class:"text-muted"},e.history>0&&Object(o.h)("span",{class:"ml-0"},Object(o.h)("i",{class:"fas fa-file-signature"})," ",e.history.length),e.images>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-image"})," ",e.images.length),w&&w.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(d.a,{stores:this.props.stores,value:w.distanceKm})),w&&w.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:w.elevation})),w&&w.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",c.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(n.a,{stores:this.props.stores,value:w.speedAvg})),e.weight>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(o.h)(h.a,{stores:this.props.stores,value:e.weight})),e.bodyScore>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",c.a.format(e.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(o.h)(t,null,Object(o.h)("div",null,y&&y.map(t=>Object(o.h)("span",{class:"badge badge-success mr-2",title:c.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(o.h)("span",{class:"font-weight-light ml-3"},Object(o.h)("i",{class:"fas fa-calendar-check"})," ",c.a.isoDate(t.endDate,!1,!1,!0)))),S&&S.map(t=>Object(o.h)("span",{class:"badge badge-warning mr-2",title:c.a.isoDate(t.endDate,!1,!1,!0)},t.title)))),["beta","advanced"].indexOf(p)>-1&&Object(o.h)(t,null,e.positions&&e.positions.lead&&Object(o.h)("div",{class:""},e.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(l.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.lead.distanceKm})),e.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(l.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.point.distanceKm})),e.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(l.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.team.distanceKm})),e.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(l.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.wheel.distanceKm})))),Object(o.h)("div",{class:"clearfix pb-0"},e.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),T&&Object(o.h)("span",{class:`badge badge-${T.class} ml-2 mt-1 float-right`},T.icon&&Object(o.h)("i",{class:T.icon})," ",T.name),k&&k.map(e=>Object(o.h)(t,null,Object(o.h)("span",{class:`badge badge-${e.class} ml-2 mt-1 float-right`},e.icon&&Object(o.h)("i",{class:e.icon})," ",e.lang&&e.lang[u]?e.lang[u]:e.name)))),x&&x.length>0&&Object(o.h)(t,null,Object(o.h)("div",{class:"mt-2"},x&&x.filter(t=>t.chipId===e.chipId).map(t=>Object(o.h)("span",{class:`badge badge-${t.inKarens?"warning":"success"} mr-2 mb-1`},Object(o.h)("i",{class:"fas fa-user-md"})," ",t.vaccineAgens.name))))))))}})||a;e.a=m}).call(this,s("hosL").Fragment)},KOz6:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,l=s("hosL"),n=s("/eY4"),r=(s("cneo"),s("Utv1")),h=s("OhSV"),d=s("go65");let b=Object(n.a)(i=class extends l.Component{constructor(t){var e;super(t),e=this,this.handleAdd=()=>{const{data:t}=this.state,{updateField:e,object:s,field:a}=this.props;e({id:s.id,field:a,value:o({},t)}),this.setState({data:{name:"",description:"",url:""}})},this.removeAchievement=async function(t){const{dogStore:s}=e.props.stores,{object:a}=e.props,{name:o,id:c}=t.target.closest("button").dataset;s.removeAchievement({id:a.id,name:o,achievementId:c})},this.state={data:{}}}render(){const{data:e}=this.state,{showFiles:s=!0,object:a={}}=this.props;return Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 mt-3"},s&&Object(l.h)(t,null,Object(l.h)("div",{class:"container-fluid"},Object(l.h)("div",{class:"row"},(!a.achievements||0===a.achievements.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-trophy"})),Object(l.h)("h3",null,Object(l.h)(h.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(l.h)(h.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),a.achievements&&a.achievements.map(t=>Object(l.h)("div",{class:"col-12 p-1"},Object(l.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.date,!1,!1,!0)),Object(l.h)("span",{class:"mr-2"},t.name),Object(l.h)("span",{class:"mr-2"},t.url),Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeAchievement,"data-name":t.name,"data-id":t.id},Object(l.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(l.h)("div",{class:"col-12 mt-3"},Object(l.h)("details",null,Object(l.h)("summary",null,Object(l.h)(h.c,{id:"dogs.achievement-add"},"Add new achievement")),Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:"name"},Object(l.h)(h.c,{id:"dogs.achievement-name"},"Name")),Object(l.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"data.name"),value:e.name}),Object(l.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(l.h)(h.c,{id:"dogs.achievement-name-help"},"Name of achievement"))),Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:"date"},Object(l.h)(h.c,{id:"dogs.achievement-date"},"Date")),Object(l.h)("input",{type:"date",class:"form-control",id:"date","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"data.date"),value:e.date}),Object(l.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(l.h)(h.c,{id:"dogs.achievement-date-help"},"Date of achievement"))),Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:"description"},Object(l.h)(h.c,{id:"dogs.achievement-description"},"Description")),Object(l.h)("input",{type:"text",class:"form-control",id:"description","aria-describedby":"descriptionHelp",onInput:Object(d.a)(this,"data.description"),value:e.description}),Object(l.h)("small",{id:"descriptionHelp",class:"form-text text-muted"},Object(l.h)(h.c,{id:"dogs.achievement-description-help"},"Description of achievement"))),Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:"url"},Object(l.h)(h.c,{id:"dogs.achievement-url"},"Url")),Object(l.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(d.a)(this,"data.url"),value:e.url}),Object(l.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(l.h)(h.c,{id:"dogs.achievement-url-help"},"URL of achievement"))),Object(l.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(l.h)(h.c,{id:"dogs.achievement-add"},"Add achievement")))))}})||i;e.a=b}).call(this,s("hosL").Fragment)},"R/Lk":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),n=(s("ZOvn"),s("bbv7"));let r=Object(l.d)(()=>({week:Object(o.h)(l.c,{id:"workout.graph.week"}),distanceAvgAll:Object(o.h)(l.c,{id:"workout.graph.distance-avg-all"}),distanceAvg:Object(o.h)(l.c,{id:"workout.graph.distance-avg"}),ascendAvgAll:Object(o.h)(l.c,{id:"workout.graph.ascend-avg-all"}),ascendAvg:Object(o.h)(l.c,{id:"workout.graph.ascend-avg"}),speedAvgAll:Object(o.h)(l.c,{id:"workout.graph.speed-avg-all"}),speedAvg:Object(o.h)(l.c,{id:"workout.graph.speed-avg"}),durationAvgAll:Object(o.h)(l.c,{id:"workout.graph.duration-avg-all"}),durationAvg:Object(o.h)(l.c,{id:"workout.graph.duration-avg"}),realDurationAvgAll:Object(o.h)(l.c,{id:"workout.graph.real-duration-avg-all"}),realDurationAvg:Object(o.h)(l.c,{id:"workout.graph.real-duration-avg"}),loadIndex:Object(o.h)(l.c,{id:"workout.graph.load-index"}),loadIndexAll:Object(o.h)(l.c,{id:"workout.graph.load-index-all"}),plan:Object(o.h)(l.c,{id:"workout.graph.plan"})}))(a=Object(i.a)(a=class extends o.Component{render(){const{userStore:e}=this.props.stores,{week:s,distanceAvgAll:a,distanceAvg:i,ascendAvgAll:r,ascendAvg:h,speedAvgAll:d,speedAvg:b,durationAvg:m,durationAvgAll:u,loadIndex:p,loadIndexAll:O,year:f,teamAmbition:j,teamType:g,teamId:v}=this.props,{graphAvgWorkoutStatsDistance:w,graphAvgWorkoutStatsElevation:k,graphAvgWorkoutStatsSpeed:y,graphAvgWorkoutStatsDuration:x,graphAvgWorkoutStatsLoadIndex:S,graphWorkoutAvgWeekDistanceCurrent:T,graphWorkoutAvgWeekElevationCurrent:D,graphWorkoutAvgWeekSpeedCurrent:$,graphWorkoutAvgWeekDurationCurrent:L,graphWorkoutAvgWeekLoadIndexCurrent:I,graphAvgWorkoutStatsCount:A,user:P}=e,{settings:W={}}=P,C=(new Date).getMonth()+1,F=f||c.a.getYear(),R=parseInt(C<8?F-1:F,10),Y=c.a.weekRange(R+"-08-01",R+1+"-07-31").map(t=>t.week),U=Math.floor(Y.length/(Y.length%6)),E=[];for(let t=0,e=Y.length;t<e;t+=U)E.push(Y[t]);return Object(o.h)(t,null,g&&Object(o.h)("a",{href:"/settings/team/"+v},Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},g)),j&&Object(o.h)("a",{href:"/settings/team/"+v},Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},j)),Object(o.h)("h5",null,Object(o.h)(l.c,{id:"workout.graph.title-avg"},"Gjennomsnitt")," ",R," - ",R+1),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(n.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:t=>`${s} ${t}`,xTicks:E,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[I,S],legendLeft:[`${R} ${p}`,`${R} ${O}`],dataFillLeft:[1],showYTicksLeft:1,avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[A],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(n.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:t=>`${s} ${t}`,xTicks:E,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[T,w],legendLeft:[`${R} ${i}`,`${R} ${a}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:W.imperial?"mi":"km",unitLeft:W.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[A],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(n.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:t=>`${s} ${t}`,xTicks:E,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[D,k],legendLeft:[`${R} ${h}`,`${R} ${r}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:W.imperial?"ft":"m",unitLeft:W.imperial?["ft","ft","ft"]:["m","m","m"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[A],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(n.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:t=>`${s} ${t}`,xTicks:E,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[$,y],legendLeft:[`${R} ${b}`,`${R} ${d}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:W.imperial?"mph":"km/t",avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[A],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(n.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:t=>`${s} ${t}`,xTicks:E,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[L,x],legendLeft:[`${R} ${m}`,`${R} ${u}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftVal:t=>c.a.secToHms(t,!0),avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[A],showYTicksRight:1,smoothRight:[1]})))}})||a)||a;e.a=r}).call(this,s("hosL").Fragment)},TiXY:function(t,e,s){"use strict";var a,o=s("hosL"),c=s("/eY4"),i=(s("cneo"),s("Utv1"),s("OhSV")),l=s("u2zT");let n=Object(c.a)(a=class extends o.Component{constructor(t){super(t),this.handleAddImage=t=>{const{updateField:e,object:s,field:a}=this.props;e({id:s.id,field:a,value:t})},this.state={files:[]}}render(){const{uploadStatus:t=(()=>{}),before:e=(()=>{}),after:s=(()=>{}),autoOpen:a=!1}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(i.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(o.h)("br",null),Object(o.h)(l.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload",uploadStatus:t,before:e,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;e.a=n},UJvz:function(t,e,s){"use strict";var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV");let n=Object(i.a)(a=class extends o.Component{constructor(...t){super(...t),this.toggleDate=()=>{const{showDate:t}=this.state;this.setState({showDate:!t})},this.touchStart=t=>{t.stopPropagation(),this.setState({startY:t.touches[0].pageY})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=t=>{t.stopPropagation();const{close:e}=this.props,{startY:s,refreshing:a}=this.state,o=t.touches[0].pageY;if(this.appContainer){const{scrollTop:t}=this.appContainer;0===t&&o>s+30&&!a&&e()}}}render(){const{showDate:t}=this.state,{image:e,imagexxl:s,close:a,thumb:i,name:n,title:r,date:h}=this.props;return Object(o.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(o.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:a},"X"),Object(o.h)("div",{class:"d-flex mb-2 px-2"},i&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:i?`background-image: url("${i}");`:""}," "),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},n&&Object(o.h)("strong",{class:"mr-2"},n,":"),r,Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},h&&Object(o.h)("small",{onClick:this.toggleDate},t?c.a.formatDate(h,{locale:"no-NB"}):c.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(o.h)("img",{src:e,class:"img-fluid align-middle mt-2 mb-2",onClick:a,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:t=>this.appContainer=t}),Object(o.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||e,download:s||e},Object(o.h)("i",{class:"fas fa-download"})," ",Object(o.h)(l.c,{id:"modal.download"},"Last ned bildet")))}})||a;e.a=n},WAWY:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),n=(s("ZOvn"),s("bbv7"));let r=Object(l.d)(()=>({week:Object(o.h)(l.c,{id:"workout.graph.week"}),distance:Object(o.h)(l.c,{id:"workout.graph.distance"}),duration:Object(o.h)(l.c,{id:"workout.graph.duration"},"Duration"),rest:Object(o.h)(l.c,{id:"workout.graph.rest"},"Rest"),ascend:Object(o.h)(l.c,{id:"workout.graph.ascend"}),plan:Object(o.h)(l.c,{id:"workout.graph.plan"}),speedAvg:Object(o.h)(l.c,{id:"workout.graph.speedavg"},"Speed"),loadIndex:Object(o.h)(l.c,{id:"workout.graph.loadindex"},"Loadindex"),avgDogs:Object(o.h)(l.c,{id:"workout.graph.avgdogs"},"Avg dogs"),avgImages:Object(o.h)(l.c,{id:"workout.graph.avgimages"},"Avg images"),sledWeight:Object(o.h)(l.c,{id:"workout.graph.sledweight"},"Sled weight"),rating:Object(o.h)(l.c,{id:"workout.graph.rating"},"Rating"),temperature:Object(o.h)(l.c,{id:"workout.graph.temperature"},"Temperature")}))(a=Object(i.a)(a=class extends o.Component{render(){const{userStore:e,workoutPlanStore:s}=this.props.stores,{user:a,graphWorkoutSummaryWeekDistanceCurrent:i,graphWorkoutSummaryWeekDistancePrev:r,graphWorkoutSummaryWeekElevationCurrent:h,graphWorkoutSummaryWeekElevationPrev:d,avgDayDistance:b,avgDayElevation:m,avgDayDuration:u,avgDaySpeedAvg:p,avgDayLoadIndex:O,avgDayAvgDogs:f,avgDayAvgImages:j,avgDaySledWeight:g,avgDayRest:v,avgDayRating:w,avgDayTemperature:k}=e,{settings:y={}}=a,{graphPlanWeekDistanceCurrent:x}=s,S=(new Date).getMonth()+1,T=(new Date).getFullYear(),{isLoading:D,week:$,distance:L,duration:I,rest:A,ascend:P,plan:W,speedAvg:C,loadIndex:F,avgDogs:R,avgImages:Y,sledWeight:U,rating:E,temperature:M,year:z=T,month:N=S,showExtra:H=!1}=this.props,V=parseInt(N<8?z-1:z,10),X=c.a.weekRange(V+"-08-01",V+1+"-07-31"),K=c.a.dayRange(V+"-08-01",V+1+"-07-31"),B=X.map(t=>t.week),q=Math.floor(B.length/5),G=[];for(let t=0,e=B.length;t<e;t+=q)G.push(B[t]);const J=K.map(t=>`${t.day}.${t.month}`),Z=Math.floor(J.length/5),_=[];for(let t=0,e=J.length;t<e;t+=Z)_.push(J[t]);return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 border-top pt-5"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(l.c,{id:"workout.graph.total-distance"},"Total distance")),Object(o.h)(n.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>`${$} ${t}`,xTicks:G,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[i,r,x],legendLeft:[`${V} ${L}`,`${V-1} ${L}`,`${V} ${W}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:y.imperial?"mi":"km",unitLeft:y.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[h,d],legendRight:[`${V} ${P}`,`${V-1} ${P}`],showYTicksRight:1,yTicksRightPostfix:y.imperial?"ft":"m",unitRight:y.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!D&&i&&i.length<3&&Object(o.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(o.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(o.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(o.h)("i",{class:"fas fa-paw"})),Object(o.h)("small",null,Object(o.h)(l.c,{id:"workout.graph.too-little-data"},"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.")))),H&&Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(l.c,{id:"workout.graph.avg-rating"},"Average rating/day")),Object(o.h)(n.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:_,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[w],legendLeft:[`${V} ${E}`],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[k],legendRight:[`${V} ${M}`],showYTicksRight:1,yTicksRightPostfix:y.imperial?"°F":"°C",avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(l.c,{id:"workout.graph.avg-distance"},"Average distance/day")),Object(o.h)(n.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:_,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[b],legendLeft:[`${V} ${L}`],showYTicksLeft:1,yTicksLeftPostfix:y.imperial?"mi":"km",unitLeft:y.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[m],legendRight:[`${V} ${P}`],showYTicksRight:1,yTicksRightPostfix:y.imperial?"ft":"m",unitRight:y.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(l.c,{id:"workout.graph.avg-duration"},"Average duration/day")),Object(o.h)(n.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:_,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:[u],legendLeft:[`${V} ${I}`],yTicksLeftVal:t=>""+c.a.secToHms(t),showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[v],legendRight:[`${V} ${A}`],showYTicksRight:1,yTicksRightVal:t=>""+c.a.secToHms(t),avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(l.c,{id:"workout.graph.avg-speed"},"Average speed/day")),Object(o.h)(n.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:_,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[p],legendLeft:[`${V} ${C}`],showYTicksLeft:1,yTicksLeftPostfix:y.imperial?"mph":"km/t",unitLeft:y.imperial?["mph","mph","mph"]:["km/t","km/t","km/t"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[O],legendRight:[`${V} ${F}`],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(l.c,{id:"workout.graph.avg-dogs"},"Average dogs/day")),Object(o.h)(n.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:t=>""+t,xTicks:_,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[f,j],legendLeft:[`${V} ${R}`,`${V} ${Y}`],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[g],legendRight:[`${V} ${U}`],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]}))))}})||a)||a;e.a=r}).call(this,s("hosL").Fragment)},XPU5:function(t,e,s){"use strict";var a,o=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("OhSV"),l=s("go65");let n=Object(c.a)(a=class extends o.Component{constructor(...t){var e;super(...t),e=this,this.inviteKennel=async function(){const{friendEmail:t}=e.state,{userStore:s}=e.props.stores,a=await s.inviteKennel({email:t});e.setState({response:a,inviteSent:!0})},this.inviteNew=()=>{this.setState({inviteSent:!1})},this.hideInvite=async function(){const{userStore:t}=e.props.stores;await t.updateSetting({"settings.hideInvite":1}),e.setState({hideInvite:!0})}}render(){const{inviteSent:t,hideInvite:e}=this.state,{userStore:s}=this.props.stores,{forceShow:a}=this.props,{user:c}=s,{settings:n={}}=c;return!a&&n.hideInvite||e?"":t?Object(o.h)("div",{class:"col-12"},Object(o.h)(i.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til å bli flere 😃"),Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(o.h)(i.c,{id:"users.invite.more"},"Invitere flere"))):Object(o.h)("div",{class:"col-12 pb-4 clearfix"},Object(o.h)("h5",null,Object(o.h)(i.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(o.h)("p",null,Object(o.h)(i.c,{id:"users.invite.text"},"Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.")),Object(o.h)("div",null,Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(i.c,{id:"users.invite.email"},"E-post")),Object(o.h)(i.b,null,Object(o.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(o.h)(i.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(l.a)(this,"friendEmail")}))),Object(o.h)("div",{class:"col-auto"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(o.h)(i.c,{id:"users.invite.send"},"Send invitasjon"))))),!a&&Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(i.c,{id:"users.invite.hide"},"Skjul")))}})||a;e.a=n},ZQlJ:function(t,e,s){"use strict";var a,o=s("hosL"),c=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("NDEG"));let l=Object(c.a)(a=class extends o.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,a=e/s,o=Math.round(a),c=Math.abs(o-a);(Number.isInteger(a)||c<.1)&&this.setState({imageIdx:o})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,a=s.find(e=>e.id===t),o=s.find(t=>t.id===e);return a&&o&&a.name>o.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:a=(()=>{})}=this.props;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(c=>{const l=e.find(t=>t.id===c);return l?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(o.h)(i.a,{stores:this.props.stores,dog:l,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:a}))):""})))}})||a;e.a=l},aKPM:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i,l=s("hosL"),n=s("Utv1"),r=s("/eY4"),h=s("Y3FI"),d=s("OhSV"),b=s("fh8t"),m=s.n(b),u=s("X9Km"),p=s("ZOvn"),O=s("KDoM"),f=s("Gx/q"),j=s("/F9p"),g=s("jtG4"),v=s("WAWY"),w=s("R/Lk"),k=s("0SNj"),y=s("9Bb9"),x=s("JWe/"),S=s("HqZR"),T=(s("wM2g"),s("XPU5"),s("rWES")),D=s("om2D"),$=s("TiXY"),L=s("KOz6"),I=s("6GRK"),A=s("s4FZ"),P=s("K9Qx"),W=s("epqT"),C=s("/DnB");const F=p.a.marginTop(!1),R=p.a.marginTopBack(!1),Y=p.a.marginBottom(),U={newTeam:{},submenu:"stats"};let E=Object(r.a)(c=class extends l.Component{constructor(...t){var e;super(...t),e=this,this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.removeImage=async function(t){const{teamStore:s}=e.props.stores,{team:a}=e.props;s.removeImage({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})},this.removeMainImage=()=>{const{team:t,field:e,updateField:s}=this.props;s({id:t.id,field:e,value:{}})}}render(){const{saved:e,team:s,field:a,icon:o,title:c,type:i,help:r,onInput:h,updateField:b,datalist:m=[],showImages:u=!0,showFiles:p=!0,addToImages:O=!0}=this.props,f=s[a];return"datalist"===i?Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)("input",{list:"list-"+a,class:"form-control "+(e[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h}),Object(l.h)("datalist",{id:"list-"+a},m.map(t=>Object(l.h)("option",{value:t[0]},t[1]))),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"select"===i?Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)("select",{list:"list-"+a,class:"form-control "+(e[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h,autocomplete:"off"},Object(l.h)("option",{value:""},"-- ",Object(l.h)(d.c,{id:"teams.choose-country"},"Velg land")," --"),m.map(t=>Object(l.h)("option",{value:t[0]},t[1]))),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"image"===i?Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)("div",{class:"container-fluid"},Object(l.h)("div",{class:"row"},s[a]&&s[a].s3SmallLink&&Object(l.h)("div",{class:"col-3 p-1"},Object(l.h)("img",{src:s[a].s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(l.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":s[a].name},Object(l.h)("i",{class:"fas fa-trash"})," Del"),Object(l.h)("span",{class:"badge badge-success"},"Main")),u&&Object(l.h)(t,null,s.images&&s.images.map(t=>Object(l.h)("div",{class:"col-3 p-1"},Object(l.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(l.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(l.h)("i",{class:"fas fa-trash"})," Del")))))),Object(l.h)(D.a,{saved:e,object:s,field:a,updateField:b,addToImages:O,autoOpen:!1}),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"toggle"===i?Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)("div",{class:"custom-control custom-switch"},Object(l.h)("input",{type:"checkbox",class:"custom-control-input",id:a+"Input",value:1===f?0:1,"data-id":s.id,"data-field":a,onInput:h,checked:1==f?"checked":""}),Object(l.h)("label",{class:"custom-control-label",for:a+"Input"})),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"textarea"===i?Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)("textarea",{type:"text",class:"form-control "+(e[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h,rows:10}),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"file"===i?Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),p&&Object(l.h)(t,null,Object(l.h)("div",{class:"container-fluid"},Object(l.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-file"})),Object(l.h)("h3",null,Object(l.h)(d.c,{id:"teams.no-files-title"},"No files attached to this dog!")),Object(l.h)(d.c,{id:"teams.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(t=>Object(l.h)("div",{class:"col-12 p-1"},Object(l.h)("span",{class:"font-weight-lighter mr-2"},n.a.isoDate(t.createdDate,!1,!1,!0)),Object(l.h)("span",{class:"mr-2"},t.name),Object(l.h)("span",{class:"font-weight-lighter mr-2"},n.a.formatBytes(t.size,1)),Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":t.name},Object(l.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(l.h)($.a,{saved:e,object:s,field:a,updateField:b}),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"links"===a?Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)(I.a,{saved:e,stores:this.props.stores,object:s,field:a,updateField:b}),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):"achievements"===a?Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)(L.a,{saved:e,stores:this.props.stores,object:s,field:a,updateField:b}),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r)):Object(l.h)("div",{class:"form-group "+(e[`${a}.${s.id}`]?"is-valid":"")},Object(l.h)("label",{for:a+"Input"},o&&Object(l.h)("i",{class:o+" text-muted"})," ",c),Object(l.h)("input",{type:"text",class:"form-control "+(e[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h}),e[`${a}.${s.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(l.h)("small",{id:a+"Help",class:"form-text text-muted"},r))}})||c,M=Object(r.a)(i=class extends l.Component{constructor(t){var e;super(t),e=this,this.loadTeam=async function(t=e.props){const{teamStore:s,userStore:a}=t.stores;await s.load(t.team,!1,{addData:["dogs","users","followers","blockedFollowers"]});const{team:o}=s;await a.getWorkoutSummary({team:o.id}),s.plotFormGraph()},this.loadHeatmap=async function(t=e.props){const{workoutStore:s}=t.stores;await s.getHeatmap(t.team)},this.loadMore=()=>{const{offset:t}=this.state;this.setState({offset:t+10},()=>{this.loadWorkouts(!0)})},this.loadWorkouts=async function(t=!1){e.setState({isLoading:!0});const{workoutStore:s}=e.props.stores,{team:a}=e.props,{offset:o}=e.state;await s.load({query:{team:a},limit:10,offset:o},t),e.setState({isLoading:!1})},this.loadWorkoutSummary=async function(t=e.props){const{userStore:s,workoutStore:a}=t.stores,o=(new Date).getMonth()+1,c=(new Date).getFullYear(),{month:i=o,year:l=c}=t,{currentTeam:n}=a,r=t.team||n;await s.getWorkoutSummary({team:r,year:l,month:i}),await s.getWorkoutSummaryDay({daysBack:500,team:r})},this.loadWorkoutPlans=async function(t=e.props){const{year:s}=t,a=(new Date).getMonth()+1,o=n.a.getYear(),c=parseInt(s||(a<8?o-1:o),10),{workoutPlanStore:i,teamStore:l}=t.stores,{team:r}=l;if(i.updateItem("workoutPlans",[]),i.updateItem("workoutPlan",{}),i.resetGraphPlanWeekDistanceCurrent(),r.id){await i.load({query:{team:r.id,seasonYear:c},addData:["tips"]});const{workoutPlans:t}=i,e=t[0]||{};e.id?(await i.load(e.id),i.prepareWeekGraphs({year:s})):(i.updateKeyValue("workoutPlan",{}),i.updateKeyValue("workoutPlans",[]),i.resetGraphPlanWeekDistanceCurrent())}},this.deleteTeam=async function(){const{teamStore:t}=e.props.stores,{team:s}=t;await t.saveField(s.id,"offline",1),u.a.publish(u.b.STATUS_MESSAGE,{message:"Teamet er slettet",type:"success",icon:"fas fa-check"}),Object(h.route)("/teams/list")},this.updateField=t=>{const{id:e,field:s,type:a,elementtype:o,isNew:c}=t.target.dataset,i=t.target.value;this.updateFieldValue({id:parseInt(e,10),field:s,value:i,type:a,elementtype:o,isNew:c})},this.updateFieldValue=({id:t,field:s,value:a,datatype:o,elementtype:c,isNew:i=!1,skipTimer:l=!1})=>{const{teamStore:n}=this.props.stores;let r=a,h=a;const{team:d}=n;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"achievements"===s&&Array.isArray(d.achievements)&&(h=Array.isArray(a)?[...d.achievements,...a]:[...d.achievements,a]),"links"===s&&Array.isArray(d.links)&&(h=Array.isArray(a)?[...d.links,...a]:[...d.links,a]),"files"===s&&Array.isArray(d.files)&&(h=Array.isArray(a)?[...d.files,...a]:[...d.files,a]),"array"!==o||Array.isArray(a)||(r="number"===c?a.split(",").map(t=>parseFloat(t)||t):a.split(",")),i?n.updateObjectKeyValue("newTeam",s,a):(n.updateField(t,s,h),l?this.doUpdateField(t,s,r):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){e.doUpdateField(t,s,r)}),500)))},this.reCalculateFitness=async function(){const{recalculated:t}=e.state;if(t)return!0;const{teamStore:s}=e.props.stores,{team:a}=s;e.setState({recalculated:!0}),await s.reCalcFitness(a.id)},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},U),this.updateTimer={}}async loadAll(t=this.props){this.setState({isLoading:!0}),await this.loadTeam(t),await this.loadSummaryData(t),this.setState({isLoading:!1})}async loadSummaryData(t=this.props){await Promise.all([this.loadWorkoutPlans(t),this.loadWorkoutSummary(t),this.loadHeatmap(t),this.loadWorkouts()])}async doUpdateField(t,e,s){const{teamStore:a}=this.props.stores;await a.saveField(t,e,s)}componentDidMount(){this.loadAll()}componentWillReceiveProps(t){t.team!==this.props.team&&this.loadAll(t),t.month===this.props.month&&t.year===this.props.year||this.loadSummaryData(t)}render(){const{submenu:e,recalculated:s}=this.state,{teamStore:a,userStore:o,workoutPlanStore:c,workoutStore:i}=this.props.stores,{workoutPlan:r,workoutPlans:h}=c,{heatmap:b,workouts:u,currentTeam:D}=i,$=(new Date).getMonth()+1,L=(new Date).getFullYear(),{month:I=$,year:U=L}=this.props,M=parseInt(I<8?U-1:U,10),{team:z,dogs:N,users:H,followers:V=[],blockedFollowers:X=[],saved:K,graphFitness:B}=a,{image:q,imageHeader:G}=z,{user:J}=o,{language:Z="en"}=J,{user:_}=o,Q=z.user===_.id,tt=o.findTeamAmbition({ambition:z.ambitions,language:Z}),et=o.findTeamType({type:z.type,language:Z}),st=G&&G.s3XXLargeLink?G:{s3XXLargeLink:"./assets/homerun-race-logo.png"},at=q&&q.s3LargeLink?q:null;return Object(l.h)("div",{class:"container-fluid",style:`margin-bottom: ${Y}; margin-top: ${F};`},Object(l.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${R}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(l.h)("i",{class:"fas fa-arrow-circle-left"})),Object(l.h)("div",{class:"row mb-1"},Object(l.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(st?`background-image: url("${st.s3XXLargeLink}");`:"")},Object(l.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+z.id},Object(l.h)("i",{class:"fas fa-edit"})," ",Object(l.h)(d.c,{id:"teams.edit"},"Endre"))),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(l.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(at?`background-image: url("${at.s3LargeLink}"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;`:"")},!at&&Object(l.h)("i",{class:"fas fa-users text-muted mt-4",style:"font-size: 60px;"}))," "),Object(l.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(l.h)("h5",{class:"my-0"},z.name),Object(l.h)("small",{class:"text-muted"},z.place?z.place+", ":"",z.country),Object(l.h)("br",null),et&&Object(l.h)("a",{href:"/settings/team/"+z.id},Object(l.h)("span",{class:"badge badge-pill badge-secondary mt-2"},et)),tt&&Object(l.h)("a",{href:"/settings/team/"+z.id},Object(l.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},tt)),Q&&Object(l.h)("span",{class:"badge badge-pill badge-primary mt-2 ml-2"},Object(l.h)(d.c,{id:"teams.admin"},"Admin")))))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},z.public>0&&Object(l.h)(t,null,Object(l.h)("a",{href:"/teams/public/"+z.uuidv4,class:"btn btn-success btn-block"},Object(l.h)("i",{class:"fas fa-users"})," ",Object(l.h)(d.c,{id:"teams.public-profile"},"Public profile"))))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"w-100 overflow-hidden"},Object(l.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"stats"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(d.c,{id:"teams.stats"},"Stats")),"stats"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"presentation"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"presentation",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(l.h)(d.c,{id:"teams.presentation"},"Presentation")),"presentation"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"pictures"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-images"})," ",Object(l.h)(d.c,{id:"teams.pictures"},"Pictures")),"pictures"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"dogs"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-dog"})," ",Object(l.h)(d.c,{id:"teams.dogs-menu"},"Dogs")),"dogs"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"mushers"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-user"})," ",Object(l.h)(d.c,{id:"teams.mushers"},"Mushers")),"mushers"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"workouts"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-running"})," ",Object(l.h)(d.c,{id:"teams.workouts"},"Workouts")),"workouts"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"workoutplan"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplan",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-calendar-alt"})," ",Object(l.h)(d.c,{id:"workouts.workoutplan"},"Treningsplan")),"workoutplan"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"fitness"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"fitness",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-chart-line"})," ",Object(l.h)(d.c,{id:"teams.fitness-menu"},"Fitness")),"fitness"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"compare"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"compare",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-exchange-alt"})," ",Object(l.h)(d.c,{id:"teams.compare"},"Compare")),"compare"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"trophy"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"trophy",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-award"})," ",Object(l.h)(d.c,{id:"teams.trophy"},"Trophy case")),"trophy"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"achievements"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(d.c,{id:"teams.achievements"},"Achievements")),"achievements"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-none ${"followers"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"followers",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-users"})," ",Object(l.h)(d.c,{id:"teams.followers"},"Followers")),"followers"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"})),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(l.h)("i",{class:"fas fa-cogs"})," ",Object(l.h)(d.c,{id:"teams.log"},"Advanced")),"advanced"===e&&Object(l.h)(C.a,{horizontal:"center",vertical:"end"}))))))),"stats"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(l.h)(v.a,{stores:this.props.stores,isLoading:!1,key:`graph-${r.id}-${h.length}`}),Object(l.h)(k.a,{stores:this.props.stores,currentTeam:z.id}),Object(l.h)(y.a,{stores:this.props.stores,currentTeam:z.id})))),"presentation"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("div",{class:"d-flex justify-content-center"},!z.facebook&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fab fa-facebook"})),Object(l.h)("h3",{class:"font-weight-lighter"},Object(l.h)(d.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),z.url&&Object(l.h)("div",{class:"mx-2"},Object(l.h)("h3",null,Object(l.h)("a",{href:p.a.asUrl(z.url),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fas fa-link"})))),z.facebook&&Object(l.h)("div",{class:"mx-2"},Object(l.h)("h3",null,Object(l.h)("a",{href:p.a.asFacebookLink(z.facebook),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-facebook"})))),z.instagram&&Object(l.h)("div",{class:"mx-2"},Object(l.h)("h3",null,Object(l.h)("a",{href:p.a.asInstagramLink(z.instagram),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-instagram"})))),z.snapchat&&Object(l.h)("div",{class:"mx-2"},Object(l.h)("h3",null,Object(l.h)("a",{href:p.a.asSnapchatLink(z.snapchat),target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-snapchat"})))))),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},!z.description&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-pen-nib"})),Object(l.h)("h3",{class:"font-weight-lighter"},Object(l.h)(d.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(l.h)(m.a,{markdown:p.a.replaceImages(z.description,z.images,Z),markdownOpts:p.a.getMarkdownOptions()})))),"pictures"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(l.h)(d.b,null,Object(l.h)(A.a,{stores:this.props.stores,images:z.images,noimagestext:Object(l.h)(d.c,{id:"teams.no-photos"},"No photos for this team.")}))))),"dogs"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},(!N||0===N.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-dog"})),Object(l.h)("h3",null,Object(l.h)(d.c,{id:"teams.no-dogs-title"},"No dogs for this team!")),Object(l.h)(d.c,{id:"teams.no-dogs-text"},"You can add more dogs to this team.")))),N&&N.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.dogs",fields:{total:N.length}},"Hundene - ",N.length," stk"))),N&&N.map(t=>Object(l.h)(O.a,{stores:this.props.stores,dog:t})))))),"mushers"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"offset-0 col-12 mt-2"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(l.h)("a",{class:"btn btn-secondary float-right",href:"/teams/addmember/"+z.id},Object(l.h)("i",{class:"fas fa-plus"})," ",Object(l.h)(d.c,{id:"teams.add-new-member"},"Legg til medlem")))),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.members",fields:{total:H.length}},"Medlemmer - ",H.length," stk")),H&&H.map(t=>Object(l.h)(f.a,{stores:this.props.stores,user:t,team:z}))))),"workouts"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},(!u||0===u.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-running"})),Object(l.h)("h3",null,Object(l.h)(d.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(l.h)(d.c,{id:"teams.no-workouts-text"},"You can add more workouts to this team.")),Object(l.h)("div",{class:"text-center mt-3"},Object(l.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(l.h)("i",{class:"fas fa-running"})," ",Object(l.h)(d.c,{id:"header.add-workouts"},"Add Workouts"))))),u&&u.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.workouts"},"Workouts"))),Object(l.h)("div",{class:"offset-0 col-12 mt-3"},u&&u.map(t=>Object(l.h)(x.a,{stores:this.props.stores,workout:t,showDate:!0})))))),"workoutplan"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)(P.a,{stores:this.props.stores,basehref:`/teams/${z.id}/`,month:I,year:U,key:`${r.id||M}-${D}-${I}-${U}`,showNavigation:!0,showHeader:!0,currentTeam:D}),Object(l.h)("div",{class:"col-12"},Object(l.h)(W.a,{stores:this.props.stores,url:this.props.url,section:e})))),"fitness"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},(!B||0===B.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-chart-area"})),Object(l.h)("h3",null,Object(l.h)(d.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(l.h)(d.c,{id:"teams.no-workouts-fitness-text"},"When you add workouts your fitness graph will be calculated every night.")),Object(l.h)("div",{class:"text-center mt-3"},Object(l.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(l.h)("i",{class:"fas fa-running"})," ",Object(l.h)(d.c,{id:"header.add-workouts"},"Add Workouts"))))),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)(j.a,{stores:this.props.stores})))),"compare"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.compare"},"Compare")),Object(l.h)(w.a,{stores:this.props.stores,isLoading:!1,key:`graph-avg-${r.id}-${h.length}`,teamId:z.id,teamAmbition:tt,teamType:et})))),"trophy"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!z.trophys||0===z.trophys.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-award"})),Object(l.h)("h3",null,Object(l.h)(d.c,{id:"teams.no-trophys-title"},"No trophys for this team!")),Object(l.h)(d.c,{id:"teams.no-trophys-text"},"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys."))),Object(l.h)("div",{class:"row"},z.trophys&&z.trophys.reverse().map(t=>{const e=p.a.getTrophyImage(t.name);if(!e)return"";const s=t.descriptionHeader&&t.descriptionHeader[Z]?t.descriptionHeader[Z]:"",a=t.description&&t.description[Z]?t.description[Z]:"";return Object(l.h)("div",{class:"col-4 mt-3"},Object(l.h)("div",{class:"mb-2"},Object(l.h)("img",{src:e,class:"img-fluid"})),Object(l.h)("strong",null,s),Object(l.h)("small",null,Object(l.h)("details",null,Object(l.h)("summary",null,Object(l.h)(d.c,{id:"teams.trophy-details"},"Details")),Object(l.h)(m.a,{markdown:p.a.replaceImages(a,z.images,Z),markdownOpts:p.a.getMarkdownOptions()}))))}))))),"achievements"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!z.achievements||0===z.achievements.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-clock"})),Object(l.h)("h3",null,Object(l.h)(d.c,{id:"teams.no-achievements-title"},"No achievements for this team!")),Object(l.h)(d.c,{id:"teams.no-achievements-text"},"You can add achievements to this team. Ie. Memories, trips, tests, prices, races, etc."))),z.achievements&&z.achievements.map(t=>Object(l.h)("div",{class:"col-12 p-1"},t.date&&Object(l.h)("span",{class:"font-weight-lighter mr-2"},n.a.isoDate(t.date,!1,!1,!0)),Object(l.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(l.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(l.h)("span",{class:"mr-2"},Object(l.h)("a",{href:p.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(l.h)("i",{class:"fas fa-link"})))))))),"followers"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.followers"},"Followers"))),Object(l.h)("div",{class:"col-12"},Object(l.h)(T.a,{stores:this.props.stores})),Object(l.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(l.h)("div",{class:"row"},(!n.a.isArray(V)||0===V.length)&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"far fa-sad-tear"})),Object(l.h)("h3",{class:"font-weight-lighter"},Object(l.h)(d.c,{id:"teams.no-followers"},"Currently you have no followers, but fear not. It's easy get new followers. Be active in the feed and make you team profile beautiful."))),Object(l.h)("div",{class:"col-12 mb-5",style:"font-size: 1.5em;"},Object(l.h)(d.b,null,Object(l.h)(E,{stores:this.props.stores,saved:K,team:z,field:"public",icon:"fas fa-eye",type:"toggle",title:Object(l.h)(d.c,{id:"teams.public"},"Synlig offentlig"),help:Object(l.h)(d.c,{id:"teams.public-help"},"Skal teamet være mulig å følge? Alle som vil følge må godkjennes av dere først."),onInput:this.updateField})))),n.a.isArray(V)&&V.map(t=>Object(l.h)(g.a,{stores:this.props.stores,team:t,myTeamId:z.id,showBlockButton:!0,callback:this.loadTeam})),n.a.isArray(X)&&X.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 mt-5"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.blocked-followers"},"Blokkerte team"),":")),n.a.isArray(X)&&X.map(t=>Object(l.h)(g.a,{stores:this.props.stores,team:t,myTeamId:z.id,isBlocked:!0,callback:this.loadTeam}))))))),"advanced"===e&&Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-3"},Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"teams.heatmap"},"Heatmap")),Object(l.h)(d.c,{id:"teams.heatmap-info"},"Heatmapen viser hvor du har vært denne sesongen.")),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},b&&b.length>0&&Object(l.h)(S.a,{stores:this.props.stores,mapId:b.length,heatmap:b,minZoom:2,height:600})),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(l.h)("h5",{class:"mt-5"},Object(l.h)(d.c,{id:"teams.recalculate-title"},"Recalculate fitness, form and fatigue")),Object(l.h)(d.c,{id:"teams.recalculate-help"},"Click the button below if you want to recalculate the fitness, form and fatigue data for your team and all dogs in this team.",Object(l.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either.",Object(l.h)("br",null),Object(l.h)("br",null),"Calculations can take up to 1 hour, so please be patitient."),Object(l.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(s?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateFitness},Object(l.h)("i",{class:"fas fa-sync"})," ",Object(l.h)(d.c,{id:"teams.recalculate"},"Recalculate fitness, form and fatigue")),Object(l.h)("br",null)),Object(l.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(l.h)("h5",{class:"mt-5"},Object(l.h)(d.c,{id:"teams.delete-title"},"Delete team")),Object(l.h)(d.c,{id:"teams.delete-help"},"Click the button below to delete this team. All data related to this team will be lost. All team statistics will also be affected.",Object(l.h)("br",null),Object(l.h)("br",null),"It's important to remember that you need to have at lease one team in the app, even if you only have one dog."),Object(l.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteTeam},Object(l.h)("i",{class:"fas fa-trash"})," ",Object(l.h)(d.c,{id:"teams.delete"},"Delete")," ",z.name)))))}})||i;e.default=M}.call(this,s("hosL").Fragment)},epqT:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),l=s("Utv1"),n=s("/eY4"),r=s("OhSV");s("ZOvn");const h={showAddComment:!1};let d=Object(r.d)(()=>({subject:Object(i.h)(r.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(i.h)(r.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}))(c=Object(n.a)(c=class extends i.Component{constructor(t){var e;super(t),e=this,this.logClick=async function(){const{adStore:t,userStore:s}=e.props.stores,{ads:a=[]}=t;let o=a.length>0?a[0].id:null;const{user:c={}}=s;await t.logClick({id:o,user:c.id})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.updateTimer={},this.inputRef={},this.apiServer=l.a.getApiServer()}async loadAd(t=this.props){this.setState({isLoading:!0});const{adStore:e,workoutStore:s,userStore:a,appState:o}=this.props.stores,{section:c}=this.props,{path:i=""}=o,{currentTeam:l}=s,{user:n}=a,{language:r="en"}=n;let h,d,b,m,u,p={};l&&(p=a.findTeam(l,!0),p&&p.id&&(h=a.findTeamAmbition({ambition:p.ambitions,language:r}),d=a.findTeamType({type:p.type,language:r}),b=p.postalcode,m=p.place,u=p.country));let O=i.replace(/\d+$/,"detail");O=i.replace(/\/\d+/,"/detail"),await e.load({query:{page:O,section:c}}),e.setTime(),this.setState({isLoading:!1})}componentDidMount(){this.loadAd()}componentWillReceiveProps(t){t.path!==this.props.path&&this.loadAd(t)}render(){const{adStore:e,userStore:s,appState:a}=this.props.stores,{subject:o,body:c,section:l}=this.props,{path:n}=a,{user:h={}}=s,{ads:d=[],time:b}=e;if(!h||!h.id||!d||0===d.length)return n.match(/\/(home)/i)?Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(r.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(r.b,null,Object(i.h)("a",{href:`mailto:post@themusher.no?subject=${o}: ${n}: ${l}&body=${c}`,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(r.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(t,null);const m=d[0];return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:`${this.apiServer}/api/ads/${m.id}/view?user=${h.id}&time=${b}`,style:"width: 1; height: 1; opacity: 0.1;"})))),m.target?Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+m.url,target:m.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},m.images&&m.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:m.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+m.url,onClick:this.logClick},m.images&&m.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:m.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))}})||c)||c;e.a=d}).call(this,s("hosL").Fragment)},rWES:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),l=s("Utv1"),n=s("/eY4"),r=s("OhSV"),h=s("ZOvn");s("eQ6k");const d={confirmed:{},deleted:{}};let b=Object(n.a)(c=class extends i.Component{constructor(t){super(t),this.confirmRequest=t=>{const{team:e,user:s,follow:a}=t.target.closest("button").dataset,{teamStore:o}=this.props.stores;o.confirmFollowRequest({team:parseInt(e,10),user:parseInt(s,10)});const{confirmed:c}=this.state;c[`${e}-${s}`]=!0,this.setState({confirmed:c}),a&&o.followRequestUser(s)},this.deleteRequest=t=>{const{team:e,user:s}=t.target.closest("button").dataset,{teamStore:a}=this.props.stores;a.deleteFollowRequest({team:parseInt(e,10),user:parseInt(s,10)});const{deleted:o}=this.state;o[`${e}-${s}`]=!0,this.setState({deleted:o})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}async loadTeams(){const{teamStore:t}=this.props.stores;await t.load({query:{},addData:["followRequests"]})}componentDidMount(){this.loadTeams()}render(){const{deleted:e={},confirmed:s={}}=this.state,{teamStore:a,appState:o}=this.props.stores,{teams:c,hasFollowRequests:n,followRequests:d=[]}=a,{darkmode:b}=o;return n?Object(i.h)("div",{class:"row pb-1"},Object(i.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${b?"black":"white"} shadow-sm`},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(r.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},l.a.isArray(c)&&c.map(a=>Object(i.h)(t,null,a&&l.a.isArray(a.followRequests)&&a.followRequests.map(o=>{const c=o.image&&o.image.s3SmallLink?o.image:null,l=e[`${a.id}-${o.id}`],n=s[`${a.id}-${o.id}`],b=d.find(t=>t.user.id===o.id);return Object(i.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:c?`background-image: url("${c.s3SmallLink}");`:""},!c&&Object(i.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},h.a.displayNameShort(o))),Object(i.h)("small",null,Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,h.a.displayName(o)),Object(i.h)("br",null)),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)(r.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,h.a.displayName(a)))),n||l?Object(i.h)(t,null,Object(i.h)("div",{class:"text-center"},n?Object(i.h)("div",{class:"text-success"},Object(i.h)(r.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(i.h)("i",{class:"fas fa-check"})):Object(i.h)("div",{class:"text-danger"},Object(i.h)(r.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(i.h)("i",{class:"fas fa-trash-alt"})))):Object(i.h)(t,null,Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":a.id,"data-user":o.id},Object(i.h)(r.c,{id:"teams.connect.confirm"},"Confirm")),b&&b.public>0&&Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":a.id,"data-user":o.id,"data-follow":!0},Object(i.h)(r.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(i.h)("div",{class:"mt-3"},Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:this.deleteRequest,"data-team":a.id,"data-user":o.id},Object(i.h)(r.c,{id:"teams.connect.delete"},"Del")))))))}))))),Object(i.h)("details",{class:"mt-3"},Object(i.h)("summary",null,Object(i.h)("small",null,Object(i.h)(r.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(i.h)("p",null,Object(i.h)(r.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""}})||c;e.a=b}).call(this,s("hosL").Fragment)},wM2g:function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),l=(s("Utv1"),s("/eY4")),n=s("OhSV");s("ZOvn");const r={};Object(l.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r)}render(){return Object(i.h)("span",{class:"badge badge-pill badge-warning float-right"},Object(i.h)("i",{class:"fas fa-award mr-2"})," ",Object(i.h)(n.c,{id:"premium.title"},"Premium"))}})}}]);
//# sourceMappingURL=20.chunk.9a016.esm.js.map