(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{TjM3:function(t,e,s){"use strict";s.r(e),function(t){var c,a=s("hosL"),l=s("Utv1"),n=s("/eY4"),r=s("OhSV"),i=s("ZOvn");s("tJLP"),s("Cjoz");const o=i.a.marginTop(!0),b=i.a.marginBottom(),h=i.a.subMenuMarginTop();let u=Object(n.a)(c=class extends a.Component{constructor(t){var e;super(t),e=this,this.resetEmailMessage=()=>{const{userStore:t}=this.props.stores;t.updateField("emailMessage",""),t.updateField("emailMessageIcon","")},this.resetEmailError=()=>{const{userStore:t}=this.props.stores;t.updateField("emailError",""),t.updateField("emailErrorIcon","")},this.toggleSetting=async function(t){const{userStore:s}=e.props.stores,{user:c}=s,{settings:a={}}=c;await s.updateSetting({["settings."+t]:1===a[t]?0:1})},this.subscriptionCreate=async function(){const{paypalStore:t,userStore:s}=e.props.stores;e.setState({paypalLoading:!0}),await t.subscriptionCreate({}),await s.getInfo(),e.setState({paypalLoading:!1})},this.subscriptionCancel=async function(t){const{id:s}=t.target.closest("button").dataset,{paypalStore:c,userStore:a}=e.props.stores;await c.subscriptionCancel({planId:s}),await a.getInfo()},this.subscriptionDetail=async function(){const{paypalStore:t,userStore:s}=e.props.stores,{user:c={}}=s,{subscription:a}=c;if(a.payPalSubscriptionId){const e=await t.subscriptionDetail({id:a.payPalSubscriptionId});s.setSubscriptionPaypal(e.data),await s.getInfo()}},this.toggleCancel=()=>{const{showCancel:t}=this.state;this.setState({showCancel:!t})},this.toggleDetails=()=>{const{showDetails:t}=this.state;t||this.subscriptionDetail(),this.setState({showDetails:!t})},this.state={time:Date.now(),count:10}}getPaypalButton(){const{paypalLoading:e,showCancel:s,showDetails:c}=this.state,{userStore:n}=this.props.stores,{user:r={},subscriptionPaypal:i={}}=n,{subscription:o={}}=r;if(o&&o.isActive){if(c){const{subscriber:c={},billing_info:n={}}=i,{name:r={}}=c,{last_payment:b={}}=n;return Object(a.h)(t,null,Object(a.h)("h5",null,"Premium subscription"),Object(a.h)("table",{class:"table table-sm table-striped"},Object(a.h)("tbody",null,Object(a.h)("tr",null,Object(a.h)("th",null,"Email"),Object(a.h)("td",null,c.email_address)),Object(a.h)("tr",null,Object(a.h)("th",null,"Name"),Object(a.h)("td",null,r.given_name," ",r.surname)),Object(a.h)("tr",null,Object(a.h)("th",null,"Next billing"),Object(a.h)("td",null,l.a.isoDate(n.next_billing_time))),Object(a.h)("tr",null,Object(a.h)("th",null,"Last payment"),Object(a.h)("td",null,l.a.isoDate(b.time)," ",b.amount&&Object(a.h)(t,null,b.amount.currency_code," ",b.amount.value))))),s?Object(a.h)(t,null,Object(a.h)("div",{class:"mb-4"},"Are you sure you want to cancel your subscription?"),Object(a.h)("button",{type:"button",class:"btn btn-success btn-sm",onClick:this.toggleCancel,disabled:e},"No, I want to continue as a Premium member :)"),Object(a.h)("button",{type:"button",class:"btn btn-danger btn-sm ml-5",onClick:this.subscriptionCancel,disabled:e,"data-id":o.payPalSubscriptionId},"Cancel subscription ",e&&Object(a.h)(t,null,Object(a.h)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(a.h)("span",{class:"sr-only"},"Loading...")))):Object(a.h)(t,null,Object(a.h)("div",{class:"mb-4"},Object(a.h)("button",{type:"button",class:"btn btn-primary btn-block btn-lg",onClick:this.toggleDetails,disabled:e},"Back to subscription")),Object(a.h)("div",{class:"mt-4 pt-5 text-right"},Object(a.h)("small",{class:"font-weight-lighter",onClick:this.toggleCancel},"Cancel subscription"))))}return Object(a.h)(t,null,Object(a.h)("h5",null,"Premium subscription"),Object(a.h)("div",{class:"display-1 text-center text-success"},Object(a.h)("i",{class:"fas fa-user-plus"})),Object(a.h)("div",{class:"d-flex"},Object(a.h)("div",{class:"display-4 text-success float-left"},Object(a.h)("i",{class:"fas fa-check"})),Object(a.h)("div",{class:"align-self-stretch ml-3 pt-3"},"Active premium subscription since ",l.a.isoDate(o.startDate),Object(a.h)("br",null),Object(a.h)("small",{class:"font-weight-lighter",onClick:this.toggleDetails},"Subscription details"))),Object(a.h)("div",{class:"mt-4"},Object(a.h)("p",null,"Thank you so much for beeing a Premium member and supporting this app ðŸ˜."),Object(a.h)("p",null,"If you have any questions, feel free to contact us at Facebook.")))}if(o&&o.approveLinkObject){const{href:e}=o.approveLinkObject;return Object(a.h)(t,null,Object(a.h)("h5",null,"Become a Premium member of The Musher app."),Object(a.h)("div",{class:"container-fluid mt-4"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-4 px-0"},Object(a.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 border-success"},"1. Create subscription ",Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("div",{class:"col-4 px-0"},Object(a.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 font-weight-bold"},"2. Approve payment")),Object(a.h)("div",{class:"col-4 px-0"},Object(a.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 text-muted"},"3. Done")))),Object(a.h)("div",{class:"mt-4"},Object(a.h)("p",null,"You are just one step away from a super-duper Premium subscription ðŸ˜."),Object(a.h)("p",null,"The final step is too approve your subscription at Paypal.com.",Object(a.h)("br",null),"Click this button to open PayPal in a new browser window.")),Object(a.h)("a",{class:"btn btn-primary btn-lg btn-block",href:e,target:"_blank",rel:"noreferrer"},"Approve payment at PayPal.com"),Object(a.h)("button",{class:"btn btn-link btn-sm btn-block",onClick:this.abortSubscriptionApprove},"Cancel and try again"))}return Object(a.h)(t,null,Object(a.h)("div",{class:"mb-4"},Object(a.h)("h5",null,"Become a Premium member of The Musher app."),Object(a.h)("div",null,Object(a.h)("div",{class:"display-1 text-center text-success"},Object(a.h)("i",{class:"fas fa-user-plus"})),Object(a.h)("p",null,"By becoming a Premium member of The Musher app you support the development and operations of this app. It's a lot of work maintaining the source code, servers and databases, so we are very grateful for your support."),Object(a.h)("p",null,"In addition to supporting us you also get access to premium features which is very useful for dog training and care."),Object(a.h)("p",null,"New features will be added continously and you as a Premium member can be a part of the decisions on which features should be added."),Object(a.h)("p",null,"Subscription payment is supported via Paypal.com.")),Object(a.h)("h5",null,"Some of the features"),Object(a.h)("table",{class:"table table-sm"},Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",null,"Feature"),Object(a.h)("th",{class:"text-center"},"Basic"),Object(a.h)("th",{class:"text-center"},"Premium"))),Object(a.h)("tbody",null,Object(a.h)("tr",null,Object(a.h)("td",null,"Social interaction"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Multiple team members"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Dog history"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Dog todolist"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Public tracks"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Workout tracking"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Workout integrations (Garmin, Strava)"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Basic workout analysis"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Advanced workout analysis"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Workout trends"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Workout plans"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Team fitness"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Compare your team with others"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Race planner"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Race ready indicator"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Weather from yr.no"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"}))),Object(a.h)("tr",null,Object(a.h)("td",null,"Premium badge inside the app"),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-times text-danger"})),Object(a.h)("td",{class:"text-center"},Object(a.h)("i",{class:"fas fa-check text-success"})))))),Object(a.h)("div",{class:"container-fluid mt-4"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-4 px-0"},Object(a.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 font-weight-bold"},"1. Create subscription")),Object(a.h)("div",{class:"col-4 px-0"},Object(a.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 text-muted"},"2. Approve payment")),Object(a.h)("div",{class:"col-4 px-0"},Object(a.h)("div",{class:"border h-100 rounded-lg p-3 mr-2 text-muted"},"3. Done")))),Object(a.h)("button",{type:"button",class:"btn btn-success btn-lg btn-block mt-4",onClick:this.subscriptionCreate,disabled:e},"Subscripe to Premium / Monthly $5 ",e&&Object(a.h)(t,null,Object(a.h)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(a.h)("span",{class:"sr-only"},"Loading..."))))}componentDidMount(){const{userStore:t}=this.props.stores;this.props.verifyEmailToken&&t.verifyEmail({token:this.props.verifyEmailToken})}render(){const{scrolledDown:t}=this.props,{userStore:e,appState:s}=this.props.stores,{darkmode:c}=s,{user:n,isAdmin:i}=e,{teams:u,settings:d={}}=n;e.findTeams(u),l.a.getApiServer(),l.a.getJwtToken();return Object(a.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${o};`},Object(a.h)("div",{class:"row fixed-top",style:`margin-top: ${t>0?0:h}; background-color: ${c?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(a.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/users",class:"text-secondary stretched-link"},Object(a.h)("i",{class:"fas fa-user"})," ",Object(a.h)(r.c,{id:"users.title"},"Din profil")))),Object(a.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/users/settings",class:"text-secondary stretched-link"},Object(a.h)("i",{class:"fas fa-sliders-h"})," ",Object(a.h)(r.c,{id:"users.settings"},"Innstillinger")))),Object(a.h)("div",{class:"col text-center subtopmenu text-overflow border-bottom border-primary"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/users/subscription",class:"text-primary stretched-link"},Object(a.h)("i",{class:"fas fa-signature"})," ",Object(a.h)(r.c,{id:"users.subscriptions"},"Abonnement")))),Object(a.h)("div",{class:"col text-center subtopmenu text-overflow"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/users/integrations",class:"text-secondary stretched-link"},Object(a.h)("i",{class:"fas fa-plug"})," ",Object(a.h)(r.c,{id:"users.integrations"},"Integrasjoner"))))),i&&Object(a.h)("div",{class:"row border-top mt-5"},Object(a.h)("div",{class:"col-12"},this.getPaypalButton())))}})||c;e.default=u}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=107.chunk.83f3e.esm.js.map