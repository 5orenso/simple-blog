(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+1Jk":function(t,e,r){"use strict";function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.r(e);var n,i,a,c=r("hosL"),l=r("Utv1"),u=r("/eY4"),h=r("OhSV"),m=r("ZOvn"),d=r.n(m),b=r("JWe/"),p=r("WAWY"),f=r("XPU5"),g=(r("go65"),Object(u.a)(n=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).toggleSetting=function(t){return new Promise((function(r,s){var o,n,i;return i=(n=e.props.stores.userStore).user.settings,Promise.resolve(n.updateSetting((o={},o["settings."+t]=1===(void 0===i?{}:i)[t]?0:1,o))).then((function(){try{return r()}catch(t){return s(t)}}),s)}))},e.hideSettings=function(){return new Promise((function(t,r){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideSettings":1})).then((function(){try{return e.setState({hideSettings:!0}),t()}catch(t){return r(t)}}),r)}))},e}var r,s;return s=t,(r=e).prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s,e.prototype.render=function(){var t=this,e=this.props.stores.userStore.user.settings,r=void 0===e?{}:e;return this.state.hideSettings||r.hideSettings||!this.props.forceShow&&r.summaryEmails&&r.infoEmails&&r.partnerEmails?"":Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"users.settings"},"Brukerinnstillinger")),!r.summaryEmails&&Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-4 text-muted text-right"},Object(c.h)(h.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(c.h)("div",{class:"col-8"},Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:function(){return t.toggleSetting("summaryEmails")},checked:r.summaryEmails}),Object(c.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(c.h)("small",{class:"text-muted"},Object(c.h)(h.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!r.infoEmails&&Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-4 text-muted text-right"},Object(c.h)(h.c,{id:"users.settings-info-email"},"Info")),Object(c.h)("div",{class:"col-8"},Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:function(){return t.toggleSetting("infoEmails")},checked:r.infoEmails}),Object(c.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(c.h)("small",{class:"text-muted"},Object(c.h)(h.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!r.partnerEmails&&Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-4 text-muted text-right"},Object(c.h)(h.c,{id:"users.settings-partner-email"},"Partners")),Object(c.h)("div",{class:"col-8"},Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:function(){return t.toggleSetting("partnerEmails")},checked:r.partnerEmails}),Object(c.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(c.h)("small",{class:"text-muted"},Object(c.h)(h.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra v친re partnere via e-post")))),Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-12 text-muted"},Object(c.h)("small",null,Object(c.h)("a",{href:"/users"},Object(c.h)("i",{class:"fas fa-sliders-h"})," ",Object(c.h)(h.c,{id:"users.settings-text-info"},"Innstillingene finner du inne p친 profilen din."))))),Object(c.h)("div",{class:"row mt-4"},Object(c.h)("div",{class:"col-12 text-muted text-right"},Object(c.h)("small",null,Object(c.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(c.h)("i",{class:"fas fa-eye-slash"})," ",Object(c.h)(h.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))},e}(c.Component))||n),O=r("CE5K"),j=r("0SNj"),v=r("ETxl"),y=r.n(v),k=Object(u.a)(i=function(t){function e(){return t.apply(this,arguments)||this}var r,s;return s=t,(r=e).prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s,e.prototype.render=function(){var t,e=this.props.stores,r=e.userStore,s=e.workoutPlanStore,o=r.user.language,n=d.a.getMonths(void 0===o?"no":o),i=this.props.year,a=(new Date).getMonth()+1,u=l.a.getYear(),m=parseInt(i||(a<6?u-1:u),10),b=l.a.monthRange(m+"-06-01",m+1+"-05-31");return Object(c.h)("div",{class:"container-fluid mb-2"},Object(c.h)("div",{class:"row mt-2"},Object(c.h)("div",{class:"col-12"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(c.h)("div",{class:"row mt-2 border-bottom pb-2"},b&&b.map((function(e){if(e.year>u||e.year===u&&e.month>=a)return"";var o=s.sumWorkoutPlanMonth(e.year,e.month+1);if(!o)return"";t=o;var i=r.findWorkoutSummaryMonth(e.year,e.month+1)/o*100,h=i>100?100:l.a.format(i,0);return Object(c.h)("div",{class:"col-3 text-center"},Object(c.h)("div",{class:"px-auto w-100 clearfix"},Object(c.h)("div",{class:"progress "+y.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(c.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+h+"%; width: 40px;","aria-valuenow":h,"aria-valuemin":"0","aria-valuemax":"100"},l.a.format(i,0),"%"))),Object(c.h)("div",{class:"w-100 mt-1"},n[e.month]," ",e.year))})),!t&&Object(c.h)("div",{class:"col-12 text-center"},Object(c.h)("h3",null,Object(c.h)(h.c,{id:"workout.plan.no-workout-plan-found"},"Ingen treningsplaner funnet.")))))},e}(c.Component))||i,w=r("bUJL"),S=r("4imK"),P=r("pJjI"),x=d.a.marginTop(!0),W=d.a.marginBottom(),E=d.a.subMenuMarginTop(),A={isLoading:!1,submenu:"lastWorkouts"},T=Object(u.a)(a=function(t){function e(e){var r;return(r=t.call(this,e)||this).loadTeamInfo=function(){return new Promise((function(t,e){return Promise.resolve(r.loadWorkoutSummary()).then((function(){try{return Promise.resolve(r.loadWorkoutPlans()).then((function(){try{return t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},r.loadWorkoutPlans=function(t){return new Promise((function(e,s){function o(){return r.setState({isLoading:!1}),e()}var n,i,a,c,u,h,m,d,b;return void 0===t&&(t=r.props),r.setState({isLoading:!0}),n=t.year,i=(new Date).getMonth()+1,a=l.a.getYear(),c=parseInt(n||(i<6?a-1:a),10),d=void 0===(m=(u=t.stores).workoutStore.currentTeam)?u.userStore.team.id:m,(h=u.workoutPlanStore).updateItem("workoutPlans",[]),h.updateItem("workoutPlan",{}),h.resetGraphPlanWeekDistanceCurrent(),d?Promise.resolve(h.load({query:{team:d,seasonYear:c,seasonMonth:6}})).then(function(){try{if((b=h.workoutPlans[0]||{}).id)return Promise.resolve(h.load(b.id)).then(function(){try{return h.prepareWeekGraphs({year:n}),t.call(this)}catch(t){return s(t)}}.bind(this),s);function t(){return o.call(this)}return t.call(this)}catch(t){return s(t)}}.bind(this),s):o.call(this)}))},r.loadDogs=function(){return new Promise((function(t,e){var s;return r.setState({isLoading:!0}),s=r.props.stores.dogStore,Promise.resolve(s.load({query:{team:s.currentTeam},addData:["workoutSummary"]})).then((function(){try{return r.setState({isLoading:!1}),t()}catch(t){return e(t)}}),e)}))},r.chooseSubmenu=function(t){r.setState({submenu:t.target.dataset.menu})},r.state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},A),r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.loadAll=function(){return new Promise(function(t,e){var r,s,o;return s=(r=this.props.stores).appState,o=r.userStore,this.setState({isLoading:!0}),Promise.resolve(s.getFingerprint()).then(function(){try{return Promise.resolve(o.getInfo()).then(function(){try{return Promise.resolve(o.getNotifications()).then(function(){try{return Promise.resolve(this.loadWorkoutSummary()).then(function(){try{return Promise.resolve(Promise.all([this.loadWorkoutPlans(),this.loadTeams(),this.loadStravaActivities(),this.loadGarminActivities()])).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},i.loadTeams=function(t){return new Promise(function(e,r){var s;return void 0===t&&(t=this.props),s=t.stores,Promise.resolve(s.teamStore.load({query:{team:s.workoutStore.currentTeam},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return r(t)}}),r)}.bind(this))},i.loadFeed=function(){return new Promise(function(t,e){return Promise.resolve(this.props.stores.userStore.getFeed({})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},i.loadWorkoutSummary=function(){return new Promise(function(t,e){var r;return r=this.props.stores,Promise.resolve(r.userStore.getWorkoutSummary({team:r.workoutStore.currentTeam})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},i.loadStravaActivities=function(){return new Promise(function(t){return this.props.stores.stravaActivityStore.load({query:{hideImported:1}}),t()}.bind(this))},i.loadGarminActivities=function(){return new Promise(function(t){return this.props.stores.garminActivityDetailsStore.load({query:{hideImported:1}}),t()}.bind(this))},i.componentDidMount=function(){this.loadAll()},i.render=function(){var t=this,e=this.state,r=e.isLoading,s=e.submenu,o=this.props.stores,n=o.userStore,i=o.workoutPlanStore,a=o.teamStore,l=o.stravaActivityStore,u=o.garminActivityDetailsStore,m=i.workoutPlan,d=i.workoutPlans,v=o.appState.darkmode,y=n.workouts,A=n.workoutSummary,T=n.isAdmin,I=n.teams.length,D=o.dogStore.dogs.length,L=n.tracks.length,M=o.workoutStore.currentTeam,_=(M?a.findWorkoutSummary(M,2019):a.findWorkoutSummaryTotal(2019))||{},C=(M?a.findWorkoutSummary(M,2020):a.findWorkoutSummaryTotal(2020))||{},q=n.user,F=l.stravaActivities,J=u.garminActivityDetails;return Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+W+"; margin-top: "+x+";"},Object(c.h)("div",{class:"row mb-4 fixed-top",style:"margin-top: "+E+"; background-color: "+(v?"#191d21":"#f8f9fa")+";"},T&&Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-user-shield"})," ",Object(c.h)(h.c,{id:"home.admin"},"Admin"))),Object(c.h)("div",{class:"col text-center border-bottom border-primary"},Object(c.h)("a",{href:"/",class:"text-primary stretched-link"},Object(c.h)("i",{class:"fas fa-chart-line"})," ",Object(c.h)(h.c,{id:"home.dashboard"},"Dashboard"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-rss"})," ",Object(c.h)(h.c,{id:"home.feed"},"Feed"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{href:"/todo",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-list"})," ",Object(c.h)(h.c,{id:"home.todo"},"Todo")))),!r&&Object(c.h)(g,{stores:this.props.stores}),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)(P.a,{stores:this.props.stores,callback:this.loadTeamInfo,key:"teams-"+M})),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!r&&A&&0===A.length&&Object(c.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(c.h)("div",{class:"text-center"},Object(c.h)("div",{class:"display-4"},Object(c.h)("i",{class:"fas fa-paw"})),Object(c.h)("h5",null,Object(c.h)(h.c,{id:"home.welcome-title"},"Velkommen til The Musher.")),Object(c.h)("p",null,Object(c.h)(h.c,{id:"home.welcome-body-1"},"The Musher er en app som er kontinuerlig under utvikling. Alle ideer/innspill/kommentarer mottas med stor takk p친 Facebooksiden v친r 游땎")),Object(c.h)("p",null,Object(c.h)(h.c,{id:"home.welcome-body-2"},"Fokus til appen er enkel registrering av hunder, team, treninger og hendelser rundt hundene. N친r man har mange hunder s친 er det ofte vanskelig 친 holde styr p친 l칮petid, vaksiner, treninger, skader, vetrin칝rbes칮k, chiplister, osv.")),Object(c.h)("p",null,Object(c.h)(h.c,{id:"home.welcome-body-3"},"Alle data lagres sentralt i skyen hos AWS (Amazon Web Services) og det vil derfor v칝re mulig 친 bruke appen fra flere telefoner og datamaskiner samtidig. Dette kan v칝re fint dersom det er flere som trener og f칮lger opp hundene."))),Object(c.h)("h5",null,Object(c.h)(h.c,{id:"home.howto-title"},"Slik kommer du i gang:")),Object(c.h)("ol",null,I<1&&Object(c.h)("li",null,Object(c.h)("a",{class:"btn btn-info mt-3",href:"/teams/"},Object(c.h)(h.c,{id:"home.howto-step-1"},"Legg inn teamene dine."))),D<1&&Object(c.h)("li",null,Object(c.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(c.h)(h.c,{id:"home.howto-step-2"},"Legg inn hundene dine."))),L<1&&Object(c.h)("li",null,Object(c.h)("a",{class:"btn btn-info mt-3",href:"/tracks/"},Object(c.h)(h.c,{id:"home.howto-step-3"},"Legg inn rundene dine."))),Object(c.h)("li",null,Object(c.h)("a",{class:"btn btn-info mt-3",href:"/workouts/"},Object(c.h)(h.c,{id:"home.howto-step-4"},"Begynn 친 registrere treningene."))))),Object(c.h)(p.a,{stores:this.props.stores,isLoading:r,key:"graph-"+m.id+"-"+d.length}))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col pr-1"},Object(c.h)("button",{class:"btn btn-block "+("lastWorkouts"===s?"btn-primary":"btn-outline-primary"),"data-menu":"lastWorkouts",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-running"})," Treninger")),Object(c.h)("div",{class:"col px-0"},Object(c.h)("button",{class:"btn btn-block "+("totals"===s?"btn-primary":"btn-outline-primary"),"data-menu":"totals",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-equals"})," Totaler")),Object(c.h)("div",{class:"col pl-1"},Object(c.h)("button",{class:"btn btn-block "+("workoutplanStatus"===s?"btn-primary":"btn-outline-primary"),"data-menu":"workoutplanStatus",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chart-line"})," Status")))),"totals"===s&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)(j.a,{stores:this.props.stores,key:"totals-"+C.distancekm,currentSeason:C,prevSeason:_})),"workoutplanStatus"===s&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)(k,{stores:this.props.stores,key:"status-"+C.distancekm,currentSeason:C,prevSeason:_}))),Object(c.h)(O.a,null),Object(c.h)(f.a,{stores:this.props.stores}),"lastWorkouts"===s&&Object(c.h)("div",{class:"row"},q&&q.strava&&F&&F.length>0&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")),F&&F.map((function(e){return Object(c.h)(w.a,{stores:t.props.stores,activity:e,key:"strava-"+M+"-"+e.id})}))),q&&q.garmin&&J&&J.length>0&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")),J&&J.map((function(e){return Object(c.h)(S.a,{stores:t.props.stores,activity:e,key:"garmin-"+M+"-"+e.id})}))),y&&y.length>0&&Object(c.h)("div",{class:"col-12 mb-4"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"home.last-workouts",fields:{total:y.length}},"Siste treningsturer - ",y.length," stk"))),y&&y.map((function(e){return Object(c.h)(b.a,{stores:t.props.stores,workout:e})})))))},e}(c.Component))||a;e.default=T}}]);
//# sourceMappingURL=route-home.chunk.bd8b7.js.map