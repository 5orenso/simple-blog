(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{WPhI:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var a,n=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("OhSV"),r=s("go65"),b=s("ZOvn"),h=s("eQ6k");const d=b.a.marginTop(!0),u=(b.a.marginTopBack(!1),b.a.marginBottom()),m=b.a.subMenuMarginTop(),f={isLoading:!1,limit:25,offset:0,submenu:"notfollowing"};let p=Object(c.a)(a=class extends n.Component{constructor(t){super(t),this.setLoadMore=()=>{const{teamStore:t}=this.props.stores;t.setLoadMore(()=>{let{limit:t,offset:e,search:s}=this.state;e+=t,this.setState({offset:e}),this.loadTeams({limit:t,offset:e,search:s})})},this.unsetLoadMore=()=>{const{teamStore:t}=this.props.stores;t.setLoadMore(()=>{})},this.searchForTeams=()=>{const{search:t,limit:e}=this.state;this.setState({offset:0}),this.loadTeams({search:t,limit:e})},this.chooseSubmenu=t=>{const{limit:e}=this.state;this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu,offset:0},()=>{this.loadTeams({limit:e,offset:0})})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},f)}async loadTeams({limit:t,offset:e,search:s}){const{submenu:o}=this.state;this.setState({isLoading:!0});const{teamStore:l}=this.props.stores,a={};"notfollowing"===o&&(a.notfollowing=1),"following"===o&&(a.following=1),await l.loadPublic({limit:t,offset:e,search:s,opts:a}),this.setState({isLoading:!1})}componentDidMount(){const{limit:t,offset:e}=this.state;this.loadTeams({limit:t,offset:e}),this.setLoadMore()}componentWillUnmount(){this.unsetLoadMore()}render(){const{scrolledDown:t}=this.props,{submenu:e}=this.state,{teamStore:s,userStore:o,appState:l}=this.props.stores,{publicTeamsToFollow:a=[]}=s,{darkmode:c}=l;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${u}; margin-top: ${d};`},Object(n.h)("div",{class:"row fixed-top pt-2",style:`margin-top: ${t>0?0:m}; background-color: ${c?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/teams/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(i.c,{id:"teams.your-teams"},"Your teams")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/teams/connect",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(i.c,{id:"teams.public-teams"},"Public teams"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"all"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(i.c,{id:"teams.all"},"All"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-none ${"notfollowing"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"notfollowing",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-unlink"})," ",Object(n.h)(i.c,{id:"teams.notfollowing"},"Not following"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"following"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"following",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-link"})," ",Object(n.h)(i.c,{id:"teams.following"},"Following")))))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("h5",null,Object(n.h)(i.c,{id:"teams.connect.all-teams",fields:{total:a.length}},"Alle offentlige team - ",a.length," stk"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(n.h)("div",{class:"flex-grow-1"},Object(n.h)("label",{class:"sr-only",for:"teamSearch"},Object(n.h)(i.c,{id:"search.title"},"Search")),Object(n.h)(i.b,null,Object(n.h)("input",{type:"text",class:"form-control form-control-lg mb-2",id:"teamSearch",onInput:Object(r.a)(this,"search")}))),Object(n.h)("div",{class:"align-self-end ml-1"},Object(n.h)("button",{type:"button",class:"btn btn-lg btn-primary mb-2",onClick:this.searchForTeams},Object(n.h)(i.c,{id:"dog.veterinary.search"},"Search"))))),a&&a.map(t=>Object(n.h)(h.a,{stores:this.props.stores,team:t})))))}})||a;e.default=p},eQ6k:function(t,e,s){"use strict";(function(t){var o,l=s("hosL"),a=(s("Utv1"),s("/eY4")),n=s("OhSV");let c=Object(a.a)(o=class extends l.Component{constructor(...e){super(...e),this.requestFollowTeam=t=>{const{teamStore:e,userStore:s}=this.props.stores,{user:o}=s,l=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);e.followRequest(l,o),this.setState({requestSent:!0})},this.unFollowTeam=t=>{const{teamStore:e,userStore:s}=this.props.stores,o=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);e.unollowTeam(o),this.setState({unfollowed:!0})},this.getButton=(e="")=>{const{requestSent:s}=this.state,{userStore:o}=this.props.stores,{user:a}=o,{team:c,skipHome:i,simple:r,classNames:b}=this.props,h=c.members&&c.members.indexOf(a.id)>-1,d=c.followers&&c.followers.indexOf(a.id)>-1,u=c.blockedFollowers&&c.blockedFollowers.indexOf(a.id)>-1,m=s||c.followRequests&&c.followRequests.findIndex(t=>t.id===a.id)>-1;return h?i?"":Object(l.h)("i",{class:"fas fa-home"}):d?Object(l.h)(t,null,Object(l.h)("button",{class:b||"btn btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":c.id},Object(l.h)("i",{class:"fas fa-link mr-2"}),Object(l.h)(n.c,{id:"teams.connect.is-following"},"Følger")," ",!r&&Object(l.h)(t,null,e)),Object(l.h)("button",{class:b||"btn btn-sm btn-block btn-danger float-right",onClick:this.unFollowTeam,"data-team":c.id},Object(l.h)("i",{class:"fas fa-unlink mr-2"}),Object(l.h)(n.c,{id:"teams.connect.unfollow"},"Unfollow"))):u?"":m?Object(l.h)("button",{class:b||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(l.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(l.h)(n.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",!r&&Object(l.h)(t,null,e)):c.public?Object(l.h)("button",{class:b||"btn btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":c.id},Object(l.h)("i",{class:"fas fa-plus mr-2"}),Object(l.h)(n.c,{id:"teams.connect.follow"},"Følg")," ",!r&&Object(l.h)(t,null,e)):void 0}}render(){const{unfollowed:e}=this.state,{team:s,buttonOnly:o}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{language:c="en"}=n,i=a.findTeamAmbition({ambition:s.ambitions,language:c}),r=a.findTeamType({type:s.type,language:c}),b=s.image&&s.image.s3SmallLink?s.image:null;return o?Object(l.h)(t,null,this.getButton(""+s.name)):Object(l.h)("div",{class:"w-100 mb-3"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:""+(e?"text-decoration: line-through; opacity: 0.3;":"")},Object(l.h)("a",{href:"/teams/public/"+s.uuidv4},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded",style:b?`background-image: url("${b.s3SmallLink}");  background-size: cover;`:""},!b&&Object(l.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(l.h)(t,null,Object(l.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(l.h)(t,null,s.name)),Object(l.h)("div",null,s.place," ",s.country),Object(l.h)("div",null,r&&Object(l.h)("span",{class:"badge badge-pill badge-secondary"},r),i&&Object(l.h)("span",{class:"badge badge-pill badge-secondary ml-2"},i)),Object(l.h)("small",{class:"text-muted"},s&&s.dogs&&Object(l.h)("span",{class:""},Object(l.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(l.h)("span",{class:"ml-2"},Object(l.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(l.h)("div",null,this.getButton()))))}})||o;e.a=c}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=99.chunk.8288e.esm.js.map