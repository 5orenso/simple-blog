(window.webpackJsonp=window.webpackJsonp||[]).push([[11,5,13],{"+JSK":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("OhSV"),h=s("ZOvn");const d={};let b=Object(l.a)(n=class extends i.Component{constructor(t){super(t),this.toggleLikes=()=>{const{showLikesList:t}=this.state;this.setState({showLikesList:!t})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{showLikesList:e}=this.state,{storyStore:s,teamStore:a,workoutStore:o,raceStore:n}=this.props.stores,{likes:l,comments:d,type:b="story",onTeamClick:m=(()=>{}),onUserClick:u=(()=>{})}=this.props;return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},l&&l.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(i.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",l.length),l.slice(0,1).map(e=>{let l,r,d;"story"===b?(l=s.findPublicUser(e.user),r=s.findPublicTeamByMembers(e.user)):"team"===b?(l=a.findPublicUser(e.user),r=a.findPublicTeamByMembers(e.user)):"workout"===b?(l=o.findPublicUser(e.user),r=o.findPublicTeamByMembers(e.user)):"race"===b&&(l=n.findPublicUser(e.user),r=n.findPublicTeamByMembers(e.user)),c.a.isArray(r)&&(d=r.find(t=>1===t.public));h.a.getImage({user:l,team:d,priority:"user"}),h.a.displayNameShort(l);const u=h.a.displayName(l);return Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-lighter"},d?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:t=>m(t,d.uuidv4)},u)):Object(i.h)(t,null,u)))}),l.length>1&&Object(i.h)(t,null,Object(i.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(i.h)(r.c,{id:"likes-comments.and",fields:{total:l.length-1}},"and ",l.length-1," others."))))),d&&d.length>0&&Object(i.h)("span",{class:"float-right text-muted"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",d.length)),e&&Object(i.h)("div",{class:"mt-3 mb-3"},l&&l.map(e=>{let l,r,d;"story"===b?(l=s.findPublicUser(e.user),r=s.findPublicTeamByMembers(e.user)):"team"===b?(l=a.findPublicUser(e.user),r=a.findPublicTeamByMembers(e.user)):"workout"===b?(l=o.findPublicUser(e.user),r=o.findPublicTeamByMembers(e.user)):"race"===b&&(l=n.findPublicUser(e.user),r=n.findPublicTeamByMembers(e.user)),c.a.isArray(r)&&(d=r.find(t=>1===t.public));const u=h.a.getImage({user:l,team:d,priority:"user"}),p=h.a.displayNameShort(l),g=h.a.displayName(l,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},d?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:t=>m(t,d.uuidv4),class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(u?`background-image: url("${u}"); background-size: cover;`:"")},!u&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},p))),Object(i.h)("div",{class:"ml-2 "},g," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",d.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?`background-image: url("${u}"); background-size: cover;`:"")+" opacity: 0.5;"},!u&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},p)),Object(i.h)("div",{class:"ml-2"},g)))})))}})||n;e.a=b}).call(this,s("hosL").Fragment)},"/922":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),l=s("go65"),r=s("om2D"),h=(s("ETxl"),s("ZOvn"));let d=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentWorkout=async function(){const{sendButtonEnabled:t}=e.state;if(!t)return!1;const{callback:s=(()=>{}),inputRefObject:a={}}=e.props,{workout:o}=e.props,{workoutStore:n}=e.props.stores,{comment:i,showAddImage:c}=e.state;e.setState({sendButtonEnabled:!1});const l=await n.commentWorkout({id:o.id,comment:i});l&&200===l.status&&(e.setState({comment:{body:"",images:[]}},()=>{h.a.resizeTextarea(a[o.id]),c&&e.addImage()}),s({workout:o,response:l})),e.setState({sendButtonEnabled:!0})},this.addImages=({value:t})=>{const{comment:e}=this.state;e.images.push(...t),this.setState({comment:e})},this.addImage=()=>{const{showAddImage:t=!1}=this.state;this.setState({showAddImage:!t})},this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:e,col:s=12,offset:a=0,showAvatar:i=!0,extraClass:d="",workout:b}=this.props,{comment:m,showAddImage:u,sendButtonEnabled:p}=this.state,{userStore:g}=this.props.stores,{user:f={}}=g,O=f.firstname?`${n.a.ucfirst(f.firstname,!0)}${n.a.ucfirst(f.lastname,!0)}`:""+n.a.ucfirst(f.email||"",!0),j=f.image||(f.images?f.images[0]:void 0);return Object(o.h)("div",{class:`col-${s} offset-${a} ${d}`},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},i&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(j?`background-image: url('${j.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!f.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(c.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),onKeyUp:h.a.resizeTextarea,onFocus:h.a.resizeTextarea,style:"height: 2.3em;",value:m.body,ref:e})),Object(o.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-image pointerCursor","data-id":b.id,onClick:this.addImage})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${p?"primary":"secondary"} mb-2`,disabled:!p,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))),u&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},m.images&&m.images.map(t=>Object(o.h)("div",{class:"col-3 p-1"},Object(o.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(o.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(o.h)("i",{class:"fas fa-trash"}),"  ",Object(o.h)(c.c,{id:"comments.remove-image"},"Remove")))))),Object(o.h)(r.a,{object:m,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))}})||a;e.a=d}).call(this,s("hosL").Fragment)},"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=(s("Utv1"),s("/eY4"));const l={};let r=Object(c.a)(n=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:t=>this.container=t},"Â ")}})||n;e.a=r},"1OK2":function(t,e,s){"use strict";var a,o=s("hosL"),n=(s("Utv1"),s("/eY4"));Object(n.a)(a=class extends o.Component{constructor(t){super(t),this.touchStart=t=>{t.stopPropagation(),this.setState({startX:t.touches[0].pageX})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=t=>{t.stopPropagation();const{totalImages:e}=this.state;if(e>1){const{startX:e,sliding:s}=this.state,a=50,o=t.touches[0].pageX;s||(o>e+a?(this.setState({sliding:!0}),this.prevImage()):o<e-a&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:e=[]}=t;this.state={imageContainer:1,currentImage1:e[0]||{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]}}nextImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state,o=1===a?2:1;let n=s+1;n>e-1&&(n=0),this.setState({["currentImage"+o]:t[n],currentIdx:n,imageContainer:o})}prevImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state;let o=s-1;o<0&&(o=e-1),this.setState({["currentImage"+(1===a?2:1)]:t[o],currentIdx:o,imageContainer:1===a?2:1})}componentWillReceiveProps(t){if(t.images!==this.props.images){const{images:e=[]}=t;this.setState({imageContainer:1,currentImage1:e.length>0?e[0]:{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]})}}render(){const{currentImage1:t,currentImage2:e,imageContainer:s,totalImages:a,imageDots:n,currentIdx:i}=this.state,c=this["image"+s],l=1===s?t:e,r=c&&c.height?c.width/c.height:4/3;let h,d;if(l.dimensions){const{width:t,height:e,orientation:s}=l.dimensions;s>4&&s<9?(h=t,d=e):(h=e,d=t)}const b=l.dimensions?d/h:r;return a<=0?"":Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${b}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},a>1&&Object(o.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(o.h)("small",null,i+1,"/",a)),t&&Object(o.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image1=t})),e&&Object(o.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image2=t}))),n.length>1&&Object(o.h)("div",{class:"w-100 text-center"},n.map(t=>Object(o.h)("span",{style:`color: ${t===i+1?"#ffffff":"#808080"};`},"â€¢"))))}})},"3wGD":function(t,e,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),l=s("go65"),r=(s("ETxl"),s("ZOvn"));let h=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.commentWorkout=async function(){const{sendButtonEnabled:t}=e.state;if(!t)return!1;const{callback:s=(()=>{}),commentId:a,inputRefObject:o={}}=e.props,{workout:n}=e.props,{workoutStore:i}=e.props.stores,{comment:c=""}=e.state;e.setState({sendButtonEnabled:!1});const l=await i.commentReplyWorkout({id:n.id,commentId:a,comment:c});l&&200===l.status&&(e.setState({comment:""},()=>{r.a.resizeTextarea(o[a])}),s({workout:n,response:l,commentId:a})),e.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t}=this.props,{comment:e,sendButtonEnabled:s}=this.state,{userStore:a}=this.props.stores,{user:i={}}=a,h=i.firstname?`${n.a.ucfirst(i.firstname,!0)}${n.a.ucfirst(i.lastname,!0)}`:""+n.a.ucfirst(i.email||"",!0),d=i.image||(i.images?i.images[0]:void 0);return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?`background-image: url('${d.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!d&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(c.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:r.a.resizeTextarea,style:"height: 2.3em;",value:e,ref:t})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;e.a=h},"68RK":function(t,e,s){"use strict";var a=s("ivZ3"),o=s("Utv1"),n=s("ZOvn");const i={adit:new a.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new a.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new a.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new a.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new a.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new a.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new a.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new a.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new a.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new a.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new a.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new a.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new a.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new a.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new a.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new a.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new a.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new a.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new a.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new a.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new a.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new a.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new a.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new a.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new a.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new a.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new a.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new a.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new a.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new a.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new a.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new a.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new a.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new a.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new a.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new a.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new a.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new a.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new a.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new a.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new a.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new a.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new a.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new a.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new a.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new a.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new a.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new a.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new a.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new a.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new a.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new a.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new a.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new a.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new a.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new a.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new a.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new a.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new a.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new a.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new a.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new a.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new a.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new a.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new a.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new a.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new a.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new a.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new a.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new a.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new a.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new a.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new a.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new a.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new a.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new a.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new a.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new a.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new a.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new a.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new a.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new a.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new a.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new a.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new a.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new a.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new a.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new a.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new a.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new a.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new a.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new a.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new a.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new a.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new a.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new a.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new a.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new a.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new a.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new a.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new a.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new a.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new a.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new a.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new a.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new a.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new a.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new a.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new a.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new a.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new a.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new a.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new a.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new a.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new a.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new a.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new a.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new a.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new a.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new a.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new a.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new a.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new a.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new a.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new a.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new a.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new a.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new a.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new a.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new a.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new a.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new a.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new a.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new a.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new a.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new a.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new a.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new a.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new a.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new a.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new a.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new a.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new a.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new a.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new a.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new a.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new a.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new a.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new a.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new a.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new a.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new a.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new a.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new a.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new a.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new a.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new a.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new a.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new a.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new a.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new a.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new a.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new a.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new a.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new a.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new a.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new a.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new a.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new a.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new a.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new a.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new a.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=class{static get(t){return i[t]}static list(){return Object.keys(i)}static getDiv({title:t,body:e,color:s,textColor:n="#333333",borderColor:i=0,iconWidth:c=150,iconHeight:l=70}){const r="img-"+o.a.randomPassword();o.a.hsl2Rgb(s,100,60),o.a.hsl2Rgb(100-i,100,50);return new a.DivIcon({iconSize:[c,l+30],iconAnchor:[15,l+30],className:"my-div-icon",html:`<div id='${r}' style='width: ${c}px; height: ${l+30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${r} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${s};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${n}; background-color: ${s}; height: ${l}px;'>\n\t\t\t\t\t<nobr><strong>${t}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${e}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`})}static getRaceMarker({bib:t,speed:e="",bearing:s="",rank:i,flag:c="",image:l,title:r,color:h,textColor:d="#333333",borderColor:b=0,iconWidth:m=180,iconHeight:u=15,iconAnchorX:p=5,iconAnchorY:g=5,imageCirlceRadius:f=10,mapChecked:O}){const j="img-"+o.a.randomPassword(),v=(o.a.hsl2Rgb(h,100,60),o.a.hsl2Rgb(100-b,100,50),n.a.getRankingColor(i)),w=/dark/i.test(O);let k=l?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${l}"); background-size: cover; border: 1px ${v} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return k=t||i?`\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: ${v||""}'\n\t\t\t>\n\t\t\t\t${t||i}\n\t\t\t</div>\n\t\t`:k,new a.DivIcon({iconSize:[m,u],iconAnchor:[p,g],className:"my-div-icon",html:p>100?`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='${j}' style='width: ${m}px; height: ${u}px; line-height: 0.9em; font-size: 0.9em;'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${w?"text-white":"text-dark"} pl-3 pr-1 rounded-pill-left rounded-none ${w?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: 3px; padding-bottom: 3px;'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t<strong>${r}</strong> ${c}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pr-2 pl-1 rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${v||""}; padding-top: 3px; padding-bottom: 3px;'\n\t\t\t\t\t>\n\t\t\t\t\t\t${k}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: ${f}px; height: ${f}px; background-color: ${v};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t`:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${j}' style='width: ${m}px; height: ${u}px; line-height: 0.9em; font-size: 0.9em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${f}px; height: ${f}px; background-color: ${v};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pl-2 pr-1 rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${v||""}; padding-top: 3px; padding-bottom: 3px;'\n\t\t\t\t\t>\n\t\t\t\t\t\t${k}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${w?"text-white":"text-dark"} pr-3 pl-1 rounded-pill-right rounded-none ${w?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: 3px; padding-bottom: 3px;'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${c} <strong>${r}</strong>\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getDistanceMarker({title:t="",body:e="",textColor:s="#888",borderColor:n=0}){const i="img-"+o.a.randomPassword();return new a.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}static getMarker({bib:t,rank:e,flag:s="",image:i,title:c,color:l="#a0a0a0",textColor:r="#333333",borderColor:h=0,iconWidth:d=250,iconHeight:b=20,iconAnchorX:m=7,iconAnchorY:u=7,dotWidth:p=14,dotHeight:g=14,mapChecked:f}){const O="img-"+o.a.randomPassword(),j=(o.a.hsl2Rgb(l,100,60),o.a.hsl2Rgb(100-h,100,50),n.a.getRankingColor(t||e));/dark/i.test(f);let v=i?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${i}"); background-size: cover; border: 1px ${j} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return v=t||e?`\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center ${j?"":"bg-primary"}' style='background-color: ${j||""}'\n\t\t\t>\n\t\t\t\t${t||e}\n\t\t\t</div>\n\t\t`:v,new a.DivIcon({iconSize:[d,b],iconAnchor:[m,u],className:"my-div-icon",html:`\n\t\t\t\t<div class='d-flex flex-nowrap' id='${O}' style='width: ${d}px; height: ${b}px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${p}px; height: ${g}px; background-color: ${l};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none bg-info'\n\t\t\t\t\t>\n\t\t\t\t\t\t${v}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark p-1 pr-3 rounded-pill-right rounded-none bg-info overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>${s} <strong>${c}</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getSmallMarker({title:t="",body:e="",textColor:s="#888",borderColor:n=0}){const i="img-"+o.a.randomPassword();return new a.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}}},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return i.a.format(t,t<5?2:1)}var o,n=s("hosL"),i=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(c.a)(o=class extends n.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:i}=o,{settings:c={}}=i;return c.imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a(function(t){return.621371*t}(e))," ",s?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(t,null,"mi"))):Object(n.h)(t,null,Object(n.h)("nobr",null,a(e)," ",s?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(t,null,"km")))}})||o;e.a=l}).call(this,s("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},DTs7:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function c(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}function l(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function r(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var h,d,b,m=s("hosL"),u=s("Utv1"),p=s("/eY4"),g=s("Y3FI"),f=s("OhSV"),O=s("cneo"),j=s("fh8t"),v=s.n(j),w=s("X9Km"),k=s("ZOvn"),x=s("HqZR"),y=(s("1OK2"),s("s4FZ")),S=s("KDoM"),I=s("wLBv"),A=s("YdX6"),z=s("GcMA"),C=s("sqi2"),T=s("/922"),U=s("wanP"),D=s("epqT"),$=s("om2D"),L=s("q/oJ"),P=s("gWxU"),M=s("Nanz"),R=s("+JSK"),F=s("vY+r"),E=s("nHdA"),_=s("irB3"),B=s("UwwE"),W=s("8Lgr"),H=s("QkTp"),N=s("/DnB");const G=k.a.marginTop(!1),K=k.a.marginTopBack(!1),V=k.a.marginBottom(),Y=k.a.getMaxLoadIndex(),Z={newDog:{},submenu:"totals",showAddComment:!1,mapHeight:300,mapMaxHeight:600,reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};Object(p.a)(h=class extends m.Component{constructor(...t){var e;super(...t),e=this,this.onInputDuration=t=>{const{field:e,updateField:s,workout:a}=this.props,o=parseInt(t.target.value,10),n=t.target.name;let i=Math.floor(a[e]/3600)||0,c=Math.floor(a[e]/3600)||0;n.match(/-hours/)&&(i=o),n.match(/-minutes/)&&(c=o);s({id:a.id,field:e,value:3600*i+60*c})},this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.removeImage=async function(t){const{workoutStore:s}=e.props.stores,{workout:a}=e.props;s.removeImage({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})},this.removeMainImage=()=>{const{workout:t,field:e,updateField:s}=this.props;s({id:t.id,field:e,value:{}})},this.setDateToNow=()=>{const{field:t,updateField:e,workout:s}=this.props,a=u.a.isoDate(void 0,!1,!1,!0);e({id:s.id,field:t,value:a})},this.setTimeToNow=()=>{const{field:t,updateField:e,workout:s}=this.props,a=u.a.isoTime();e({id:s.id,field:t,value:a})},this.setValue=t=>{const e=t.target.parentElement.dataset.value||t.target.dataset.value;if(e){const{field:t,updateField:s,workout:a}=this.props;s({id:a.id,field:t,value:e})}},this.setRightValue=()=>{const{field:t,updateField:e,workout:s,rightValueReal:a}=this.props;e({id:s.id,field:t,value:a})}}render(){const{saved:t,workout:e,type:s,datalist:a=[],min:o,max:n,step:i,elementtype:c,field:l,title:r,icon:h,help:d,onInput:b,updateField:p,rightValue:g}=this.props;let j,v,w=Object(O.i)(e[l]),x=n;if("date"===s&&(w&&(w=u.a.isoDate(e[l],!1,!1,!0)),"today"===n&&(x=u.a.isoDate(void 0,!1,!1,!0))),"duration"!==l&&"rest"!==l||(j=u.a.secToHms(w,!0)),"weather"===l&&u.a.checkNested(e,"yr","0","instant","details")){const t=Object(O.i)(e.yr[0].instant.details);u.a.isoDate(e.yr[0].date,!1,!1,!0)===u.a.isoDate(e.date,!1,!1,!0)&&(j=`Yr.no: ðŸŒ¡ï¸ ${t.air_temperature}Â°C, ðŸ’¨ ${t.wind_speed}m/s ðŸ§­ ${k.a.windDirection(t.wind_from_direction)}, â˜ï¸ ${t.cloud_area_fraction}%, ${t.air_pressure_at_sea_level}mb, ðŸ’¦ ${t.relative_humidity}%`,v=j)}if("temperature"===l&&u.a.checkNested(e,"yr","0","instant","details")){const t=Object(O.i)(e.yr[0].instant.details);u.a.isoDate(e.yr[0].date,!1,!1,!0)===u.a.isoDate(e.date,!1,!1,!0)&&(j=`Yr.no: ðŸŒ¡ï¸ ${t.air_temperature}Â°C`,v=u.a.asNumber(t.air_temperature))}if("file"===s)return Object(m.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(m.h)("label",{for:l+"Input"},h&&Object(m.h)("i",{class:h+" text-muted"})," ",r),Object(m.h)(Files,{saved:t,object:e,field:l,updateField:p}),t[`${l}.${e.id}`]?Object(m.h)("div",{class:"valid-feedback",style:"display: block;"},Object(m.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(m.h)("small",{id:l+"Help",class:"form-text text-muted"},d));if("image"===s)return Object(m.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(m.h)("label",{for:l+"Input"},h&&Object(m.h)("i",{class:h+" text-muted"})," ",r),Object(m.h)("div",{class:"container-fluid"},Object(m.h)("div",{class:"row"},e.image&&e.image.s3SmallLink&&Object(m.h)("div",{class:"col-3 p-1"},Object(m.h)("img",{loading:"lazy",src:e.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(m.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":e.image.name},Object(m.h)("i",{class:"fas fa-trash"})," Del"),Object(m.h)("span",{class:"badge badge-success"},"Main")),e.images&&e.images.map(t=>Object(m.h)("div",{class:"col-3 p-1"},Object(m.h)("img",{loading:"lazy",src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(m.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(m.h)("i",{class:"fas fa-trash"})," Del"))))),Object(m.h)($.a,{saved:t,object:e,field:l,updateField:p,autoOpen:!1}),t[`${l}.${e.id}`]?Object(m.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(m.h)("small",{id:l+"Help",class:"form-text text-muted"},d));if("datalist"===s)return Object(m.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(m.h)("label",{for:l+"Input"},h&&Object(m.h)("i",{class:h+" text-muted"})," ",r),Object(m.h)("input",{list:"list-"+l,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:w,"data-id":e.id,"data-field":l,onInput:b}),Object(m.h)("datalist",{id:"list-"+l},a.map(t=>Object(m.h)("option",{value:t[0]},t[1]))),t[`${l}.${e.id}`]?Object(m.h)("div",{class:"valid-feedback",style:"display: block;"},Object(m.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(m.h)("small",{id:l+"Help",class:"form-text text-muted"},d));if("duration"===s){const t=Math.floor(e[l]/3600),s=Math.floor(e[l]%3600/60);return Object(m.h)("div",{class:"form-group mb-5 pb-1 border-bottom"},Object(m.h)("span",{class:"float-right"},Object(m.h)("strong",{onClick:this.setValue,"data-value":v},j)),Object(m.h)("label",{for:l+"Input"},h&&Object(m.h)("i",{class:h+" text-muted"})," ",r),Object(m.h)("div",{class:"form-row"},Object(m.h)("div",{class:"form-group col-3 offset-3"},Object(m.h)("input",{class:"form-control text-right",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-hours",value:t,type:"number",min:"0",max:"24"})),Object(m.h)("div",{class:"form-group col-3"},Object(m.h)("input",{class:"form-control",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-minutes",value:s,type:"number",min:"0",max:"59"}))),Object(m.h)("small",{id:l+"Help",class:"form-text text-muted"},d))}return"toggle"===s?Object(m.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(m.h)("label",{for:l+"Input"},h&&Object(m.h)("i",{class:h+" text-muted"})," ",r),Object(m.h)("div",{class:"custom-control custom-switch"},Object(m.h)("input",{type:"checkbox",class:"custom-control-input",id:l+"Input",value:1===w?0:1,"data-id":e.id,"data-field":l,onInput:b,checked:1==w?"checked":""}),Object(m.h)("label",{class:"custom-control-label",for:l+"Input"})),t[`${l}.${e.id}`]?Object(m.h)("div",{class:"valid-feedback",style:"display: block;"},Object(m.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(m.h)("small",{id:l+"Help",class:"form-text text-muted"},d)):Object(m.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${l}.${e.id}`]?"is-valid":"")},"date"===s&&Object(m.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(m.h)("i",{class:"far fa-check-circle"})),"time"===s&&Object(m.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"NÃ¥ ",Object(m.h)("i",{class:"far fa-check-circle"})),g&&Object(m.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},g),Object(m.h)("label",{for:l+"Input"},h&&Object(m.h)("i",{class:h+" text-muted"})," ",r),j&&Object(m.h)("span",{class:"float-right"},Object(m.h)("strong",{onClick:this.setValue,"data-value":v},j)),Object(m.h)("input",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",min:o,max:x,step:i,value:w,"data-id":e.id,"data-field":l,"data-type":s,"data-elementtype":c,onInput:b}),t[`${l}.${e.id}`]?Object(m.h)("div",{class:"valid-feedback",style:"display: block;"},Object(m.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(m.h)("small",{id:l+"Help",class:"form-text text-muted"},d))}});let X=Object(p.a)(d=class extends m.Component{render(){const{workoutStore:t}=this.props.stores,{workout:e={}}=t,s=k.a.getFirstPoint(e),a=k.a.getMidPoint(e,.5),o=k.a.getMidPoint(e,1),{tracks:n=[]}=e,i=n[0],c=n[n.length-1];let l;if(i&&c){const t=new Date(i.timestamp).getTime()/1e3;l=new Date(c.timestamp).getTime()/1e3-t}return Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(m.h)("div",{class:"alert alert-warning"},Object(m.h)("h5",null,"Admin info"),Object(m.h)("xmp",null,"firstPoint: ",s.join(", "),Object(m.h)("br",null),"midPoint: ",a.join(", "),Object(m.h)("br",null),"endPoint: ",o.join(", "),Object(m.h)("br",null),Object(m.h)("br",null),"duration: ",u.a.secToHms(e.duration),Object(m.h)("br",null),Object(m.h)("br",null),Object(m.h)("strong",null,"Tracking info"),Object(m.h)("br",null),"duration: ",u.a.secToHms(l),Object(m.h)("br",null),Object(m.h)("br",null)),Object(m.h)("div",{class:"d-flex align-content-start flex-wrap"},n&&n.map(t=>Object(m.h)("span",{class:"ml-1"},t.coords.accuracy))),Object(m.h)("xmp",null,Object(m.h)("br",null),"firstTrackPoint:",Object(m.h)("br",null),JSON.stringify(i,null,4),Object(m.h)("br",null),Object(m.h)("br",null),"lastTrackPoint:",Object(m.h)("br",null),JSON.stringify(c,null,4),Object(m.h)("br",null),Object(m.h)("br",null))))}})||d,q=Object(p.a)(b=class extends m.Component{constructor(t){var e;super(t),e=this,this.loadWorkout=async function(t=e.props){const{workoutStore:s}=e.props.stores,{showAdminInfo:a}=e.state,o=["publicTeams","publicUsers"];a&&o.push("geocluster"),await s.load(t.workout,!1,{addData:o});s.plotGeocluster()},this.updateField=t=>{const{id:e,field:s,type:a,elementtype:o,isNew:n}=t.target.dataset,i=t.target.value;this.updateFieldValue({id:parseInt(e,10),field:s,value:i,type:a,elementtype:o,isNew:n})},this.updateFieldValue=async function({id:t,field:s,value:a,datatype:o,elementtype:n,isNew:i=!1,skipTimer:c=!1}){const{workoutStore:l}=e.props.stores;let r=a,h=a;const{workout:d}=l;if("images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"array"!==o||Array.isArray(a)||(r="number"===n?a.split(",").map(t=>parseFloat(t)||t):a.split(",")),i?l.updateObjectKeyValue("newWorkout",s,a):(l.updateField(t,s,h),c?await e.doUpdateField(t,s,r):(clearTimeout(e.updateTimer[s]),e.updateTimer[s]=setTimeout((async function(){e.doUpdateField(t,s,r)}),500))),"gpx"===s&&d&&u.a.checkNested(d,"gpx","gpxInfo")){const{totalDistance:e,maxSpeed:s,avgSpeed:a,ascent:o,decent:n,duration:i,rest:c,startLatlng:r,endLatlng:h}=d.gpx.gpxInfo,b={};i&&(l.updateField(t,"duration",i),b.duration=i),c&&(l.updateField(t,"rest",c),b.rest=c),e&&(l.updateField(t,"distanceKm",u.a.roundTo(e,10)),b.distanceKm=u.a.roundTo(e,10)),s&&(l.updateField(t,"speedmax",u.a.roundTo(s,10)),b.speedmax=u.a.roundTo(s,10)),a&&(l.updateField(t,"speedAvg",u.a.roundTo(a,10)),b.speedAvg=u.a.roundTo(a,10)),o&&(l.updateField(t,"elevation",o),b.elevation=o),n&&(l.updateField(t,"decent",n),b.decent=n),r&&(l.updateField(t,"startLatlng",r),b.startLatlng=r),h&&(l.updateField(t,"endLatlng",h),b.endLatlng=h),await l.save(b,d.id)}},this.showModal=t=>{t.stopPropagation(),t.preventDefault();this.setState({displayModal:!0,currentImage:t.target.dataset.image,currentImageXXL:t.target.dataset.imagexxl,thumb:t.target.dataset.thumb,name:t.target.dataset.name,title:t.target.dataset.title,date:t.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.deleteWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.saveField(s.id,"offline",1),w.a.publish(w.b.STATUS_MESSAGE,{message:"Workout was deleted",type:"success",icon:"fas fa-check"}),Object(g.route)("/workouts/list")},this.duplicateWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t,a=await t.duplicateWorkout({id:s.id});a&&a.id&&(w.a.publish(w.b.STATUS_MESSAGE,{message:"Workout was duplicated successfully",type:"success",icon:"fas fa-check"}),Object(g.route)("/workouts/"+a.id))},this.makeTrack=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t,a=await t.makeTrackFromWorkout({id:s.id});a&&a.id&&(w.a.publish(w.b.STATUS_MESSAGE,{message:"Track was created successfully",type:"success",icon:"fas fa-check"}),Object(g.route)("/tracks/edit/"+a.id))},this.likeWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.likeWorkout({id:s.id})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.toggleAdminInfo=()=>{const{userStore:t}=this.props.stores,{isAdmin:e}=t;if(e){const{showAdminInfo:t}=this.state;this.setState({showAdminInfo:!t},()=>{this.loadWorkout()})}},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.showStateDetail=t=>{const e=t.target.closest("div").dataset;this.setState({stateDetail:o({},e)})},this.reimportStravaWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.reimportStravaWorkout(s.stravaId,s.id),e.loadWorkout()},this.reimportGarminWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.reimportGarminWorkout(s.garminId,s.id),e.loadWorkout()},this.reCalculateGpxData=async function(){const{recalculated:t}=e.state;if(t)return!0;const{workoutStore:s}=e.props.stores,{workout:a}=s;e.setState({recalculated:!0}),await s.reLoad(a.id)},this.toggleMapSize=()=>{const{mapHeight:t}=this.state;this.setState(t===Z.mapHeight?{mapHeight:Z.mapMaxHeight}:{mapHeight:Z.mapHeight})},this.finishWorkout=async function(){const{workoutStore:t}=e.props.stores;await t.cordovaSaveTracking();const{workout:s}=t;await t.save({isInProgress:0},s.id),e.loadWorkout()},this.sendGpxFile=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.sendGpxFile(s.id),e.setState({gpxFileSent:!0})},this.shareLink=t=>{const{url:e,title:s,text:a}=t.target.closest("button").dataset,{appState:o}=this.props.stores;o.shareUrl({url:e,title:s,text:a})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=o(o({},Z),{},{submenu:t.submenu||"totals"}),this.updateTimer={},this.inputRef={}}tickReloadTimeer(){const{reloadIsActive:t,reloadLastEpoch:e}=this.state;if(t){const t=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(t-e)}),setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}async doUpdateField(t,e,s){const{workoutStore:a}=this.props.stores;t&&e&&await a.saveField(t,e,s)}componentDidMount(){this.loadWorkout()}componentWillReceiveProps(t){t.workout!==this.props.workout&&this.loadWorkout(t)}componentWillUnmount(){clearTimeout(this.updateTimer.reload)}render(){const{workoutStore:e,userStore:s,appState:a}=this.props.stores,{mapColorMode:n,mapRangeMin:h,mapRangeMax:d,isCordova:b,hasShareApi:p,viewmode:g}=a,{user:j,isAdmin:w}=s,{submenu:$,showAddComment:Z,showAdminInfo:q,mapHeight:J,reloadInSec:Q,reloadLastEpoch:tt,stateDetail:et,gpxFileSent:st,showTeam:at,showDog:ot,recalculated:nt}=this.state,{workout:it,waypoints2:ct=[],waypoints3:lt=[]}=(Math.floor(u.a.normalizeBetween(Q,0,60,0,100)),e),{likes:rt=[],comments:ht=[]}=it,{language:dt="en"}=j,bt=s.findTeam(it.team,!0)||{},mt=s.findTeamAmbition({ambition:bt.ambitions,language:dt}),ut=s.findTeamType({type:bt.type,language:dt}),pt=s.findWorkoutType({type:it.type,language:dt}),gt=s.findWorkoutType({type:it.type,field:"icon"}),ft=s.findTrack(it.track),Ot=s.findEquipment({equipment:it.equipment,language:dt}),jt=s.findEquipment({equipment:it.equipment,field:"icon"}),vt=s.findDogs(it.dogs),wt=s.findMushers(it.mushers),kt=s.findIntensity({code:it.intensity,language:dt})||{},xt=e.getWorkoutNavigation(it.id)||{},yt=it.likes&&it.likes.findIndex(t=>t.user===j.id)>-1,{gpxInfo:St={},gpx:It={gpxInfo:{}}}=it,{weightedTotalKcal:At=0,loadIndex:zt=0}=St,Ct=St.totalKcalRelated/100,Tt=it.teams?it.teams.map(t=>s.findTeam(t)):[];let Ut;it&&it.gpxInfo&&it.gpxInfo.battegryLevelStart&&(Ut=100*(it.gpxInfo.battegryLevelStart-it.gpxInfo.battegryLevelEnd));const Dt=[];if(it.mapImage&&Dt.push(o(o({},it.mapImage),{},{type:"map"})),it.images){const t=Object(O.i)(it.images);Dt.push(...t)}let $t=!1;const Lt=k.a.getViews(it.statistics),Pt=[];let Mt;if(it.mushers&&it.mushers.length>1&&it.mushers.slice(1,10).map(t=>{const e=s.findMusher(t);e&&e.images&&e.images[0]&&Pt.push(e.images[0])}),it.mushers&&it.mushers[0]){let t=s.findMusher(it.mushers[0]);t&&t.images&&t.images[0]&&(Mt=t.images[0])}else bt.image&&bt.image.s3SmallLink?Mt=bt.image:bt.images&&bt.images[0]&&bt.images[0].s3SmallLink?Mt=bt.images[0]:it.image&&it.image.s3SmallLink&&(Mt=it.image);return Object(m.h)(t,null,at&&Object(m.h)(L.a,null,Object(m.h)(P.default,{stores:this.props.stores,teamid:at,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),ot&&Object(m.h)(L.a,null,Object(m.h)(M.default,{stores:this.props.stores,dogid:ot,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:vt})),Object(m.h)("div",{class:"container-fluid",style:`margin-bottom: ${V}; margin-top: ${G};`},Object(m.h)("div",{class:"d-flex justify-content-between mb-2"},Object(m.h)("div",null,Object(m.h)("button",{class:"btn btn-link float-left pl-0 fixed-top text-primary",style:`top: ${K}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(m.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(m.h)("div",null,Object(m.h)("h5",{class:"text-muted"},"Â ")),Object(m.h)("div",null,1===it.isLocked?Object(m.h)(t,null,Object(m.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"}),w&&Object(m.h)(t,null,Object(m.h)("a",{class:"btn btn-primary float-right",href:"/workouts/edit/"+it.id},Object(m.h)("i",{class:"fas fa-edit"})," ",Object(m.h)(f.c,{id:"workouts.admin-edit"},"Admin edit")))):Object(m.h)(t,null,Object(m.h)("a",{class:"btn btn btn-primary float-right mt-1",href:"/workouts/edit/"+it.id},Object(m.h)("i",{class:"fas fa-edit"})," ",Object(m.h)(f.c,{id:"workouts.edit"},"Endre"))))),Object(m.h)("div",{class:"d-flex justify-content-between mb-2"},Object(m.h)("div",{class:"text-muted"},xt&&xt.previous&&Object(m.h)("a",{href:"/workouts/"+xt.previous.id,class:"text-muted"},Object(m.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(m.h)("div",{class:"text-muted"},xt.total>0&&Object(m.h)(t,null,xt.idx+1," / ",xt.total)),Object(m.h)("div",{class:"text-muted"},xt&&xt.next&&Object(m.h)("a",{href:"/workouts/"+xt.next.id,class:"text-muted"},Object(m.h)("i",{class:"fas fa-arrow-circle-right"})))),Object(m.h)("div",{class:"row"},Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(m.h)("div",{class:"d-flex mb-2"},Object(m.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+i(it),style:(Mt?`background-image: url("${Mt.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!Mt&&Object(m.h)("i",{class:`${c(it)} text-${kt.class?kt.class:"muted"} mt-3`,style:"font-size: 40px;"}),Pt&&Pt.map((e,s)=>Object(m.h)(t,null,Object(m.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${e.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),Object(m.h)("div",{class:"flex-grow-1 pl-3"},Object(m.h)("h5",{class:"my-0"},it.name,it.isInProgress>0&&Object(m.h)(t,null,Object(m.h)("span",{class:"position-relative ml-3"},1===it.isInProgress&&Object(m.h)("div",{class:"spinner-grow text-success position-absolute",style:"top: -5px; left: -6px;",role:"status"})),Object(m.h)("i",{class:"fas fa-stop-circle float-right text-warning",style:"font-size: 1.5em; cursor: pointer; pointer-events: inherit;",onClick:this.finishWorkout})),b&&q&&w&&Object(m.h)(t,null,Object(m.h)("a",{href:"/workouts/tracking/"+it.id,class:"ml-4"},Object(m.h)("i",{class:"far fa-play-circle"}),Object(m.h)(f.c,{id:"footer.workouts-continue"},"Continue")))),it.garminId&&Object(m.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),it.stravaId&&Object(m.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),it.team&&s.findTeam(it.team),Tt&&Tt.length>0&&Object(m.h)("small",{class:"font-weight-lighter"},", ",Tt.map((e,s)=>Object(m.h)(t,null,s>0?", ":"",e))),Object(m.h)("br",null),Object(m.h)("small",{class:"text-muted"},u.a.isoDate(it.date,!1,!1,!1)),kt.class&&Object(m.h)("span",{class:`badge badge-${kt.class} ml-2`},kt.name),it.sledWeight>0&&Object(m.h)("small",{class:"ml-3 text-muted"},Object(m.h)("i",{class:"fas fa-sleigh"})," ",Object(m.h)(f.c,{id:"workouts.sledWeight"},"Sledevekt"),": ",Object(m.h)(B.a,{stores:this.props.stores,value:it.sledWeight})),Ut>0&&Object(m.h)("small",{class:"text-muted ml-3"},Object(m.h)("i",{class:"fas fa-battery-three-quarters"})," ",u.a.format(Ut,1),"% used")))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},it.comment&&Object(m.h)("div",{class:"mb-3"},Object(m.h)(v.a,{markdown:k.a.replaceImages(it.comment,it.images,dt),markdownOpts:k.a.getMarkdownOptions()}))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(m.h)("div",{class:"row"},Object(m.h)("div",{class:"w-100 overflow-hidden"},Object(m.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},it.isInProgress>0&&Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"current"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"current",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(m.h)(f.c,{id:"workouts.current"},"Akkurat nÃ¥")),"current"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block ${it.isInProgress>0?"":"rounded-pill-left"} rounded-none ${"totals"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(m.h)(f.c,{id:"workouts.totals"},"Totaler")),"totals"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-none ${"map"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(m.h)(f.c,{id:"workouts.map"},"Map")),"map"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-none ${"analysis"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"analysis",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-chart-area"})," ",Object(m.h)(f.c,{id:"workouts.analysis"},"Analyser")),"analysis"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-none ${"images"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-images"})," ",Object(m.h)(f.c,{id:"workouts.images"},"Bilder")),"images"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-none ${"dogs"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-dog"})," ",Object(m.h)(f.c,{id:"workouts.dogs"},"Hunder")),"dogs"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-none ${"handlers"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"handlers",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-user"})," ",Object(m.h)(f.c,{id:"workouts.handlers"},"Handlere")),"handlers"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-none ${"gpx"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gpx",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-user"})," ",Object(m.h)(f.c,{id:"workouts.gpx"},"GPX")),"gpx"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})),Object(m.h)("div",{class:"col px-0 pt-2"},Object(m.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===$?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(m.h)("i",{class:"fas fa-cogs"})," ",Object(m.h)(f.c,{id:"workouts.advanced"},"advanced")),"advanced"===$&&Object(m.h)(N.a,{horizontal:"center",vertical:"end"})))))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},w&&Object(m.h)(t,null,Object(m.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Show admin details"))),"map"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},it&&it.gpx&&Object(m.h)(t,null,Object(m.h)("button",{class:"btn btn-sm btn-link float-right",onClick:this.toggleMapSize},"Toggle map size"),Object(m.h)("div",{class:"clearfix"},Object(m.h)("div",{class:"",style:`height: ${J+40}px;`},Object(m.h)(x.a,{stores:this.props.stores,mapId:`${it.id}-${J}`,geojson:it.gpx.geoJSON,skipGeojson:!1,gpxInfo:it.gpxInfo,height:J,mapColorMode:n,mapRangeMin:h,mapRangeMax:d,key:"workout-map-"+tt,waypoints2:ct,waypoints3:lt,fullscreenMap:!0})))),ft&&ft.gpx&&!(it&&it.gpx)&&Object(m.h)(t,null,Object(m.h)("div",{class:"clearfix",style:`height: ${J}px;`},Object(m.h)(x.a,{stores:this.props.stores,mapId:`${ft.id}-${J}`,geojson:ft.gpx.geoJSON,skipGeojson:!1,gpxInfo:ft.gpx.gpxInfo,height:J,mapColorMode:n,mapRangeMin:h,mapRangeMax:d,key:"workout-map-"+tt,fullscreenMap:!0}))),Object(m.h)("div",{class:"text-center"},Object(m.h)("small",{class:"text-muted"},it.weather,!it.weather&&Object(m.h)(t,null,u.a.format(it.temperature,1),"Â°C"))))),"current"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-clock ml-2"})," ",Object(m.h)(f.c,{id:"workouts.duration"},"Vargihet")),Object(m.h)("h3",null,u.a.secToHms(it.duration))),Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-clock ml-2"})," ",Object(m.h)(f.c,{id:"workouts.rest"},"Hvile")),Object(m.h)("h3",{class:"text-muted"},u.a.secToHms(it.rest)))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(m.h)(f.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(m.h)("h3",null,Object(m.h)(E.a,{stores:this.props.stores,value:it.speedAvg}))),Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(m.h)(f.c,{id:"workouts.currentspeed"},"Fart")),Object(m.h)("h3",null,Object(m.h)(E.a,{stores:this.props.stores,value:it.currentSpeed})))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-road ml-2"})," ",Object(m.h)(f.c,{id:"workouts.distance"},"Distanse")),Object(m.h)("h3",null,Object(m.h)(W.a,{stores:this.props.stores,value:it.distanceKm})),St.calculatedTotalDistance>0&&Math.abs(it.distanceKm-St.calculatedTotalDistance)>1&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(St.calculatedTotalDistance,1)," km ",Object(m.h)("br",null)),w&&q&&St.calculatedTotalDistance>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",u.a.format(St.calculatedTotalDistance,2)," km ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.totalDistance>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",u.a.format(It.gpxInfo.totalDistance,2)," km ",Object(m.h)("br",null))),Object(m.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(m.h)(f.c,{id:"workouts.ascend"},"Stigning")),Object(m.h)("h3",null,Object(m.h)(_.a,{stores:this.props.stores,value:it.elevation})),St.calculatedAscend>0&&Math.abs(it.elevation-St.calculatedAscend)>50&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(St.calculatedAscend,0)," m ",Object(m.h)("br",null)),w&&q&&St.calculatedAscend>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",u.a.format(St.calculatedAscend,0)," m ",Object(m.h)("br",null)),w&&q&&St.calculatedDescend>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",u.a.format(St.calculatedDescend,0)," m ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.ascent>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",u.a.format(It.gpxInfo.ascent,0)," m ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.descent>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",u.a.format(It.gpxInfo.descent,0)," m ",Object(m.h)("br",null))))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"totals"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},w&&q&&Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-user-shield ml-2"})," ",Object(m.h)(f.c,{id:"workouts.admin-info"},"Admin info")),Object(m.h)("h3",null,"Admin"),w&&q&&It.gpxInfo&&It.gpxInfo.startTime>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.startTime: ",u.a.isoDate(It.gpxInfo.startTime)," ",Object(m.h)("br",null),"gpx.gpxInfo.endTime: ",u.a.isoDate(It.gpxInfo.endTime)," ",Object(m.h)("br",null)))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-clock ml-2"})," ",Object(m.h)(f.c,{id:"workouts.duration"},"Vargihet")),Object(m.h)("h3",null,u.a.secToHms(it.duration)),w&&q&&St.minEpoch>0&&St.maxEpoch>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",u.a.secToHms(St.maxEpoch-St.minEpoch)," ",Object(m.h)("br",null)),w&&q&&St.duration>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",u.a.secToHms(St.duration)," ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.endTime>0&&It.gpxInfo.startTime>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",u.a.secToHms((It.gpxInfo.endTime-It.gpxInfo.startTime)/1e3)," ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.duration>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",u.a.secToHms(It.gpxInfo.duration)," ",Object(m.h)("br",null))),Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-clock ml-2"})," ",Object(m.h)(f.c,{id:"workouts.rest"},"Hvile")),Object(m.h)("h3",{class:"text-muted"},u.a.secToHms(it.rest)),w&&q&&St.minEpoch>0&&St.maxEpoch>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",u.a.secToHms(St.rest)," ",Object(m.h)("br",null)),w&&q&&St.rest>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",u.a.secToHms(St.rest)," ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.rest>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",u.a.secToHms(It.gpxInfo.rest)," ",Object(m.h)("br",null)))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(m.h)(f.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(m.h)("h3",null,Object(m.h)(E.a,{stores:this.props.stores,value:it.speedAvg})),w&&q&&St.avgMovingSpeeds>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",u.a.format(3.6*St.avgMovingSpeeds,2)," km/t ",Object(m.h)("br",null)),w&&q&&St.avgGpsSpeed>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",u.a.format(3.6*St.avgGpsSpeed,2)," km/t ",Object(m.h)("br",null)),w&&q&&St.avgGpsMovingSpeed>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",u.a.format(3.6*St.avgGpsMovingSpeed,2)," km/t ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.avgSpeed>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",u.a.format(3.6*It.gpxInfo.avgSpeed,2)," km/t ",Object(m.h)("br",null))),Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:""+gt})," ",Object(m.h)(f.c,{id:"workouts.type"},"Type")),Object(m.h)("h3",null,pt))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:""+jt})," ",Object(m.h)(f.c,{id:"workouts.equipment"},"Utstyr")),Object(m.h)("h3",null,Ot)),Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-dog ml-2"})," ",Object(m.h)(f.c,{id:"workouts.dogs"},"Hunder")),Object(m.h)("h3",null,it.dogs&&Object(m.h)("span",null,it.dogs.length)))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-road ml-2"})," ",Object(m.h)(f.c,{id:"workouts.distance"},"Distanse")),Object(m.h)("h3",null,Object(m.h)(W.a,{stores:this.props.stores,value:it.distanceKm})),St.calculatedTotalDistance>0&&Math.abs(it.distanceKm-St.calculatedTotalDistance)>1&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(St.calculatedTotalDistance,1)," km ",Object(m.h)("br",null)),w&&q&&St.calculatedTotalDistance>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",u.a.format(St.calculatedTotalDistance,2)," km ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.totalDistance>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",u.a.format(It.gpxInfo.totalDistance,2)," km ",Object(m.h)("br",null))),Object(m.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(m.h)(f.c,{id:"workouts.ascend"},"Stigning")),Object(m.h)("h3",null,Object(m.h)(_.a,{stores:this.props.stores,value:it.elevation})),St.calculatedAscend>0&&Math.abs(it.elevation-St.calculatedAscend)>50&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(St.calculatedAscend,0)," m ",Object(m.h)("br",null)),w&&q&&St.calculatedAscend>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",u.a.format(St.calculatedAscend,0)," m ",Object(m.h)("br",null)),w&&q&&St.calculatedDescend>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",u.a.format(St.calculatedDescend,0)," m ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.ascent>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",u.a.format(It.gpxInfo.ascent,0)," m ",Object(m.h)("br",null)),w&&q&&It.gpxInfo&&It.gpxInfo.descent>0&&Object(m.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",u.a.format(It.gpxInfo.descent,0)," m ",Object(m.h)("br",null)))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},1===it.isLocked?Object(m.h)(t,null,Object(m.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"})):Object(m.h)(t,null,it.stravaId&&!St.reimported&&Object(m.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},$t=!0,Object(m.h)("i",{class:"fas fa-sync"})," Reimport Strava data"),it.garminId&&!St.reimported&&Object(m.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},$t=!0,Object(m.h)("i",{class:"fas fa-sync"})," Reimport Garmin data"),(w||!$t)&&Object(m.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(m.h)("i",{class:"fas fa-sync"})," Recalculate GPX data")))),Object(m.h)("div",{class:"row mt-2"},St&&St.states&&Object(m.h)("div",{class:"col-12 mb-4"},Object(m.h)("div",{class:"progress",style:"height: 20px;"},St.states.map((e,s)=>{const a=Math.ceil(u.a.normalizeBetween(e.duration,0,it.duration,0,100));let o=a;return et&&et.idx==s&&(o=a<10?10:a),Object(m.h)(t,null,Object(m.h)("div",{class:"progress-bar bg-"+l(e.state),role:"progressbar",style:`width: ${o}%`,"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100","data-idx":s,"data-state":e.state,"data-duration":e.duration,"data-distance":e.distance,"data-avgspeed":e.avgSpeed,"data-percent":u.a.normalizeBetween(e.duration,0,it.duration,0,100),onClick:this.showStateDetail},Object(m.h)("nobr",null,a>10?u.a.format(e.distance/1e3,1)+"km":"",et&&et.idx==s?Object(m.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")))})),et&&Object(m.h)(t,null,Object(m.h)("div",{class:"card position-relative"},Object(m.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:r(et.state)})," ",u.a.format(et.percent,1),"%")),Object(m.h)("div",{class:"card-body"},Object(m.h)("div",{class:"card-text row"},Object(m.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-road ml-2"})," ",Object(m.h)(f.c,{id:"workouts.distance"},"Distanse")),Object(m.h)("h6",null,Object(m.h)(W.a,{stores:this.props.stores,value:et.distance/1e3}))),Object(m.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-clock ml-2"})," ",Object(m.h)(f.c,{id:"workouts.duration"},"Vargihet")),Object(m.h)("h6",null,u.a.secToHms(et.duration))),Object(m.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(m.h)(f.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(m.h)("h6",null,Object(m.h)(E.a,{stores:this.props.stores,value:3.6*et.avgspeed})))))))))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"analysis"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},u.a.checkNested(it,"gpxInfo","elevations")||u.a.checkNested(it,"gpx","gpxInfo","elevations")?Object(m.h)(t,null,Object(m.h)(z.a,{stores:this.props.stores,key:"workout-elevation-"+it.id})):Object(m.h)(t,null,Object(m.h)("div",{class:"text-center text-muted"},Object(m.h)("div",{class:"display-1"},Object(m.h)("i",{class:"fas fa-chart-area"})),Object(m.h)("h3",{class:"font-weight-lighter"},Object(m.h)(f.c,{id:"workout.no-elevation-data"},"No elevation data. If you use a GPS to track your workouts you will get a nice graph here and more correct analysis of the energy usage."))))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},zt>0&&Object(m.h)("div",{class:"row mt-4"},Object(m.h)("div",{class:"col text-center"},Object(m.h)("h5",{onClick:this.toggleAdminInfo},Object(m.h)(f.c,{id:"workouts.load-index"},"Belastningsindex")),Object(m.h)(U.a,{key:"gauge-"+zt,radius:100,showPercentText:!0,color:k.a.getLoadIndexColor(u.a.normalizeBetween(zt,0,Y,0,100)),percent:Math.floor(u.a.normalizeBetween(zt,0,Y,0,100)),completed:k.a.getLoadIndexText(u.a.normalizeBetween(zt,0,Y,0,100)),prefix:""}),Object(m.h)("div",null,ut&&Object(m.h)("a",{href:"/settings/team/"+it.team},Object(m.h)("span",{class:"badge badge-pill badge-secondary"},ut)),mt&&Object(m.h)("a",{href:"/settings/team/"+it.team},Object(m.h)("span",{class:"badge badge-pill badge-secondary ml-2"},mt)),Object(m.h)("br",null)),it.stravaId&&!St.reimported&&Object(m.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Object(m.h)("i",{class:"fas fa-sync"})," ",Object(m.h)(f.c,{id:"workouts.reimport-strava"},"Reimport Strava data")),it.garminId&&!St.reimported&&Object(m.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Object(m.h)("i",{class:"fas fa-sync"})," ",Object(m.h)(f.c,{id:"workouts.reimport-garmin"},"Reimport Garmin data")),w&&q&&Object(m.h)("div",null,Object(m.h)("small",null,Object(m.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",St.loadIndex),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",Y),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",u.a.format(St.totalKcalRelated,1)),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"typeFactor: ",St.typeFactor),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"ambitionFactor: ",St.ambitionFactor),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeed: ",St.normalSpeed),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"speedFactor: ",u.a.format(St.speedFactor,2)),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",St.normalDuration),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",u.a.format(St.durationFactor,2)),Object(m.h)("span",{class:"badge badge-secondary mr-2"},"intensityFactor: ",u.a.format(St.intensityFactor,2)),Object(m.h)("div",null,Object(m.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(m.h)("div",{class:"row mt-4"},Object(m.h)("div",{class:"col text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)(f.c,{id:"workouts.energy-consumption-help"},"Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.")))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-total"},"Energiforbruk totalt")),Object(m.h)("h3",null,u.a.format(it.kcalBurnedTotal,0)," ",Object(m.h)(f.c,{id:"workout.kcal"},"kcal")),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalBurnedTotal*Ct,0)," ",Object(m.h)(f.c,{id:"workout.kcal"},"kcal")," ",Object(m.h)("br",null))),Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption"},"Energiforbruk pr hund")),Object(m.h)("h3",null,u.a.format(it.kcalBurned,0)," kcal"),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(At,0)," ",Object(m.h)(f.c,{id:"workout.kcal"},"kcal")," ",Object(m.h)("br",null)))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-fat-total"},"Fett totalt")),Object(m.h)("h3",null,u.a.format(it.kcalFatGramsTotal/1e3,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalFatGramsTotal/1e3*Ct,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg"))),Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-fat"},"Fett pr hund")),Object(m.h)("h3",null,u.a.format(it.kcalFatGrams/1e3,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalFatGrams/1e3*Ct,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-meat-total"},"KjÃ¸tt totalt")),Object(m.h)("h3",null,u.a.format(it.kcalMeatGramsTotal/1e3,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalMeatGramsTotal/1e3*Ct,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg"))),Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-meat"},"KjÃ¸tt pr hund")),Object(m.h)("h3",null,u.a.format(it.kcalMeatGrams/1e3,1)," kg"),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalMeatGrams/1e3*Ct,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")))),Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-fish ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-salmon-total"},"KjÃ¸tt totalt")),Object(m.h)("h3",null,u.a.format(it.kcalSalmonGramsTotal/1e3,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalSalmonGramsTotal/1e3*Ct,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg"))),Object(m.h)("div",{class:"col  text-center"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-fish ml-2"})," ",Object(m.h)(f.c,{id:"workouts.energy-consumption-salmon"},"KjÃ¸tt pr hund")),Object(m.h)("h3",null,u.a.format(it.kcalSalmonGrams/1e3,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg")),Ct>0&&Object(m.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(m.h)(f.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",u.a.format(it.kcalSalmonGrams/1e3*Ct,1)," ",Object(m.h)(f.c,{id:"workout.kg"},"kg"))))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"images"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(m.h)("div",{class:"row"},Object(m.h)(y.a,{stores:this.props.stores,images:Dt}))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"dogs"===$&&Object(m.h)(t,null,it.dogsLeft&&Object(m.h)("div",{class:"offset-0 col-12 mt-4"},Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(m.h)("h5",null,Object(m.h)(f.c,{id:"workouts.dogs-positions"},"Posisjoner i spannet"))),Object(m.h)("div",{class:"row"},Object(m.h)("div",{class:"col-6 p-0"},it.dogsLeft&&it.dogsLeft.map(t=>{const e=s.findDog(t);return Object(m.h)(A.a,{stores:this.props.stores,dog:e,className:"ml-auto"})})),Object(m.h)("div",{class:"col-6 p-0"},it.dogsRight&&it.dogsRight.map(t=>{const e=s.findDog(t);return Object(m.h)(A.a,{stores:this.props.stores,dog:e,className:"mr-auto"})}))))),"dogs"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"offset-0 col-12 mt-4"},Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(m.h)("h5",null,Object(m.h)(f.c,{id:"workouts.all-dogs",fields:{total:vt.length}},"Hundene - ",vt.length," stk"))),vt&&vt.map(t=>Object(m.h)(S.a,{stores:this.props.stores,dog:t}))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"handlers"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"offset-0 col-12 mt-4"},Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(m.h)("h5",null,Object(m.h)(f.c,{id:"workouts.all-mushers",fields:{total:wt.length}},"Handlere - ",wt.length," stk"))),wt&&wt.map(t=>Object(m.h)(I.a,{stores:this.props.stores,musher:t}))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"gpx"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"offset-0 col-12 mt-4"},Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(m.h)("h5",null,Object(m.h)(f.c,{id:"workouts.gpx-title"},"GPX")),Object(m.h)(f.c,{id:"workouts.gpx-description"},"Send GPX-file to your email address.")),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},st?Object(m.h)(t,null,Object(m.h)("i",{class:"fas fa-check text-success"})," ",Object(m.h)(f.c,{id:"workouts.gpx-file-sent"},"GPX file sent via email.")):Object(m.h)(t,null,Object(m.h)("button",{class:"btn btn-success",onClick:this.sendGpxFile},Object(m.h)(f.c,{id:"workouts.gpx-send"},"Send GPX-file"))))),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"advanced"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"offset-0 col-12 mt-4"},Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(m.h)("h5",null,Object(m.h)(f.c,{id:"workouts.advanced"},"Advanced"))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},Object(m.h)("div",{class:"row mt-2"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-cloud-sun-rain ml-2"})," ",Object(m.h)(f.c,{id:"workouts.weather"},"The weather during this workout")),Object(m.h)("h3",{class:"font-weight-lighter"},it.weather))),Object(m.h)("div",{class:"row mt-4"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(m.h)(f.c,{id:"workouts.temperature"},"Temperature")),Object(m.h)("h3",null,Object(m.h)(H.a,{stores:this.props.stores,value:it.temperature}))),it.sunPosition&&Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-sun ml-2"})," ",Object(m.h)(f.c,{id:"workouts.periode-of-day"},"Periode of day")),Object(m.h)("h3",null,it.sunPosition.start," - ",it.sunPosition.end))),Object(m.h)("div",{class:"row mt-4"},it.moonPosition&&it.moonPosition.start&&it.moonPosition.start.altitudeDeg>0&&Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},it.moonIllumination&&it.moonIllumination.phaseIcon&&Object(m.h)(t,null,it.moonIllumination.phaseIcon)," ",Object(m.h)(f.c,{id:"workouts.moon-position"},"Moon position")),Object(m.h)("h3",null,u.a.format(it.moonPosition.start.altitudeDeg,0),"Â° ",it.moonPosition.end&&it.moonPosition.end.altitudeDeg>0&&Object(m.h)(t,null," - ",u.a.format(it.moonPosition.end.altitudeDeg,0),"Â°")),it.moonIllumination&&it.moonIllumination.fraction&&Object(m.h)(t,null,Object(m.h)("div",{class:"progress"},Object(m.h)("div",{class:"progress-bar bg-warning",role:"progressbar",style:`width: ${100*it.moonIllumination.fraction}%`,"aria-valuenow":100*it.moonIllumination.fraction,"aria-valuemin":"0","aria-valuemax":"100"},u.a.format(100*it.moonIllumination.fraction,0),"%"))))),["beta","advanced","normal"].indexOf(g)>-1&&Object(m.h)(t,null,Object(m.h)("div",{class:"row mt-4"},Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-dice ml-2"})," ",Object(m.h)(f.c,{id:"workouts.rating"},"Workout rating")),Object(m.h)("h3",null,u.a.format(it.rating,0))),Object(m.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(m.h)("small",{class:"text-muted"},Object(m.h)("i",{class:"fas fa-dumbbell ml-2"})," ",Object(m.h)(f.c,{id:"workouts.intensity"},"Workout intensity")),Object(m.h)("h3",null,kt.class&&Object(m.h)("span",{class:`badge badge-${kt.class} ml-2`},kt.name))))))),w&&q&&Object(m.h)(t,null,Object(m.h)(X,{stores:this.props.stores})),Object(m.h)("div",{class:"col-12"},Object(m.h)(D.a,{stores:this.props.stores,url:this.props.url,section:$}))),"advanced"!==$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(m.h)(R.a,{stores:this.props.stores,likes:rt,comments:ht,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(m.h)("div",{class:"row"},Object(m.h)("div",{class:"col text-center"},Object(m.h)("button",{type:"button",class:`btn btn-outline-${yt?"primary":"secondary"} btn-sm btn-block ${yt?"text-primary":""}`,onClick:this.likeWorkout},Object(m.h)("i",{class:(yt?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(m.h)(f.c,{id:"workouts.like"},"Like"))),Object(m.h)("div",{class:"col text-center"},Object(m.h)("button",{type:"button",class:"btn btn-outline-secondary btn-sm btn-block","data-id":it.id,onClick:this.toggleAddComment},Object(m.h)("i",{class:"fas fa-comment"})," ",Object(m.h)(f.c,{id:"workouts.comment"},"Comment"))),it.private?Object(m.h)(t,null,Object(m.h)("div",{class:"col text-center"},Object(m.h)(f.c,{id:"workouts.is-private"},"Workout is private"))):Object(m.h)(t,null,p?Object(m.h)(t,null,Object(m.h)("div",{class:"col text-center"},Object(m.h)("button",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+it.uuidv4,"data-title":"title: "+it.title},Object(m.h)("i",{class:"fas fa-share"})," ",Object(m.h)(f.c,{id:"story.share"},"Del")))):Object(m.h)(t,null,Object(m.h)("div",{class:"col text-center"},Object(m.h)("a",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",href:"https://themusher.app/share/workout/"+it.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(m.h)("i",{class:"fas fa-share"})," ",Object(m.h)(f.c,{id:"story.share"},"Del"))))))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Z&&Object(m.h)(T.a,{stores:this.props.stores,workout:it,inputRef:t=>this.inputRef[it.id]=t,inputRefObject:this.inputRef}),Object(m.h)(C.a,{stores:this.props.stores,workout:it}),Lt>0&&Object(m.h)(t,null,Object(m.h)("div",{class:"mt-2"},Object(m.h)(F.a,{stores:this.props.stores,views:Lt,object:it,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))))),1===it.isLocked?Object(m.h)(t,null):Object(m.h)(t,null,"advanced"===$&&Object(m.h)(t,null,Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(m.h)("h5",{class:"mt-5"},Object(m.h)(f.c,{id:"workouts.recalculate-title"},"Recalculate data")),Object(m.h)(f.c,{id:"workouts.recalculate-help"},"Click the button below if you want to recalculate this workout.",Object(m.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either."),Object(m.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(nt?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(m.h)("i",{class:"fas fa-sync"})," ",Object(m.h)(f.c,{id:"workouts.recalculate"},"Recalculate data")),Object(m.h)("br",null)),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(m.h)("h5",{class:"mt-5"},Object(m.h)(f.c,{id:"workouts.duplicate-title"},"Duplicate workout")),Object(m.h)(f.c,{id:"workouts.duplicate-help"},"Click the button below if you want to duplicate this workout. After you have duplicated this workout you can edit it as a regular workout."),Object(m.h)("button",{class:"btn btn-block btn-secondary mt-2 float-left",onClick:this.duplicateWorkout},Object(m.h)("i",{class:"fas fa-copy"})," ",Object(m.h)(f.c,{id:"workouts.duplicate"},"Duplicate workout")),Object(m.h)("br",null)),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(m.h)("h5",{class:"mt-5"},Object(m.h)(f.c,{id:"workouts.make-track-title"},"Make track")),Object(m.h)(f.c,{id:"workouts.make-track-help"},"Use this workout to make a track. This track can shared and downloaded as a regular track."),Object(m.h)("button",{class:"btn btn-block btn-info mt-2 float-left",onClick:this.makeTrack},Object(m.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(m.h)(f.c,{id:"workouts.make-track"},"Make track"))),Object(m.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(m.h)("h5",{class:"mt-5"},Object(m.h)(f.c,{id:"workouts.delete-title"},"Delete workout")),Object(m.h)(f.c,{id:"workouts.delete-help"},"Click the button below to delete this workout. All data related to this workout will be lost. All team and dog statistics will also be affected."),Object(m.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteWorkout},Object(m.h)("i",{class:"fas fa-trash"})," ",Object(m.h)(f.c,{id:"workouts.delete"},"Delete")," ",it.name)))))))}})||b;e.default=q}.call(this,s("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GcMA:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,c=s("hosL"),l=s("Utv1"),r=s("/eY4"),h=s("OhSV"),d=s("ZOvn"),b=s("bbv7");let m=Object(h.d)(()=>({week:Object(c.h)(h.c,{id:"workout.graph.week"}),distance:Object(c.h)(h.c,{id:"workout.graph.distance"}),ascend:Object(c.h)(h.c,{id:"workout.graph.ascend"}),plan:Object(c.h)(h.c,{id:"workout.graph.plan"})}))(i=Object(r.a)(i=class extends c.Component{render(){const{workoutStore:e}=this.props.stores,{workout:s={}}=e,{gpx:a={},gpxInfo:n}=s,{gpxInfo:i={}}=a,r=o(o({},i),n),{gpsSpeeds:h=[]}=r,{speeds:m=h,elevations:u=[],temperatures:p=[],climbs:g=[],distances:f=[],ecor:O=[]}=r;let j=[],v=[],w=[],k=[],x=[];const y=[],S=[],I=[],A=[],z=[],C=[],T=[],U=[],D=[],$=[];if(u.length>0){const t=d.a.smoothArray(u,5).map((t,e)=>({x:e,y:t}));j.push(t),y.push("Elevation"),C.push("m")}if(m.length>0){const t=d.a.smoothArray(m,3).map((t,e)=>({x:e,y:3.6*t}));k.push(t),A.push("Speed"),D.push("km/t")}if(p.length>0){const t=d.a.smoothArray(p,2).map((t,e)=>({x:e,y:t}));v.push(t),S.push("Temp"),T.push("Â°C")}if(g.length>0){const t=d.a.smoothArray(g,2).map((t,e)=>({x:e,y:t}));w.push(t),I.push("Climblevel"),U.push("%")}if(O.length>0){const t=d.a.smoothArray(O,1).map((t,e)=>({x:e,y:1e3*t}));x.push(t),z.push("ECOR (kcal/kg/km)"),$.push("kcal/kg/km")}const L=[];if(s.distanceKm>0){const t=l.a.range(0,Math.ceil(r.calculatedTotalDistance||s.distanceKm),1),e=Math.ceil(t.length/5);Math.floor(t.length/e);for(let s=0,a=t.length;s<a;s+=e)L.push(t[s]);L.push(t[t.length-1])}return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(b.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:t=>t+"km",xTicks:L,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:j,legendLeft:y,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" m",unitLeft:C,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:k,legendRight:A,showYTicksRight:k.length>0?1:0,yTicksRightPostfix:"km/t",unitRight:D,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),v.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(b.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:t=>t+"km",xTicks:L,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:v,legendLeft:S,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" Â°C",unitLeft:T,avgWindowLeft:[0],smoothLeft:[1]})),w.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(b.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:t=>t+"km",xTicks:L,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:w,legendLeft:I,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" %",unitLeft:U,avgWindowLeft:[0],smoothLeft:[1],dataRight:x,legendRight:z,showYTicksRight:x.length>0?1:0,yTicksRightVal:t=>l.a.format(t/1e3,2),unitRight:$,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))}})||i)||i;e.a=m}).call(this,s("hosL").Fragment)},HqZR:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){return.621371*t}var c,l=s("hosL"),r=s("Utv1"),h=s("/eY4"),d=s("cneo"),b=s("fh8t"),m=s.n(b),u=s("6FDT"),p=s.n(u),g=s("ABWa"),f=s.n(g),O=s("ZOvn"),j=s("5eBG"),v=s("/mwY"),w=s("8bLb"),k=s("P2xA"),x=s("FTgN"),y=s("/kKD"),S=s("+5/p"),I=s("9rGW"),A=s("zHmd"),z=s.n(A),C=s("Dq2H"),T=s.n(C),U=(s("yDvG"),s("G5DU")),D=s.n(U),$=s("68RK"),L=(s("A1fj"),s("ivZ3")),P=s.n(L);const M={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},{BaseLayer:R,Overlay:F}=j.b;delete P.a.Icon.Default.prototype._getIconUrl,P.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});const E=function(t){return P.a.divIcon({html:`<span>${t.getChildCount()}</span>`,className:f.a["marker-cluster-custom"],iconSize:P.a.point(40,40,!0)})};let _=Object(h.a)(c=class extends l.Component{constructor(t){super(t),this.mapRef=Object(l.createRef)(),this.polyRef=Object(l.createRef)(),this.handleViewportChanged=t=>{this.setState({mapCenter:t.center,mapZoom:t.zoom})},this.handleLocationFound=t=>{t.latlng&&this.setState({hasLocation:!0,latlng:t.latlng})},this.onEachFeature=(t,e)=>{const{gpxInfo:s={}}=this.props,a=`<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${r.a.format(s.totalDistance,2)} km</li>\n\t\t\t\t<li>Max speed: ${r.a.format(s.maxSpeed,1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${r.a.format(s.avgSpeed,1)} km/t</li>\n\t\t\t\t<li>Ascent: ${r.a.format(s.ascent||s.calculatedAscend,0)} m</li>\n\t\t\t\t<li>Descent: ${r.a.format(s.decent||s.calculatedDescend,0)} m</li>\n\t\t\t\t<li>Duration: ${r.a.secToHms(s.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`;e.bindPopup(a)},this.handleClick=t=>{const{appState:e}=this.props.stores;e.setLatlng(t.latlng)},this.zoomToGeoJSON=t=>{try{if(t.target){let e=t.target.getBounds();e&&e._northEast&&this.setState({bounds:e})}}catch(t){console.log(t)}},this.zoomToMarkers=(t=[],e=!1)=>{const{hasZoomedToMarkers:s}=this.state;try{if((e||!s)&&t.length&&t.length>0){const e=this.mapRef.current.leafletElement,s=P.a.latLngBounds([]);t.forEach(t=>{s.extend([t.lat,t.lng])}),e.fitBounds(s),this.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},this.zoomToAllMarkers=()=>{const{waypoints:t=[]}=this.props;this.zoomToMarkers(t,!0)},this.zoomToFavoriteMarkers=()=>{const{zoomToMarkers:t=[],waypoints:e=[]}=this.props;this.zoomToMarkers(t.length>0?t:e,!0)},this.overlayAdd=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!0,this.setState({visibleLayers:s})},this.overlayRemove=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!1,this.setState({visibleLayers:s})},this.polylineOptions=()=>{const{gpxInfo:t}=this.props,{rangeSteps:e}=this.state;let{maxHslColor:s}=this.state;const{appState:a}=this.props.stores,{mapColorMode:o,mapRangeMin:n,mapRangeMax:i}=a;let c=n,l=i;"speed"===o&&t&&t.speeds&&t.speeds.length>0&&(c=Math.floor(Math.min(...t.speeds.map(t=>3.6*t))),l=Math.ceil(Math.max(...t.speeds.map(t=>3.6*t))));const h=r.a.range(c,l,e),d=h.map(t=>{const e=function(t,e,s,a,o){return a+(t-e)*(o-a)/(s-e)}(t,c,l,0,s);let a;a=s-e;const{r:o,g:n,b:i}=r.a.hsl2Rgb(a,100,45);return{color:`rgb(${o}, ${n}, ${i})`}});return a.setMapRange(h,c,l),a.setMapColors(d),d},this.polylineOptionIdxFn=t=>{const{appState:e}=this.props.stores,{mapRange:s}=e;for(let e=0;e<s.length;++e)if(t.meta<=s[e])return e;return s.length},this.polylinetrackPointFactory=t=>{const{gpxInfo:e}=this.props,{appState:s}=this.props.stores,{mapColorMode:a,mapRangeMin:o,mapRangeMax:n}=s;let i=[];"speed"===a&&e.speeds&&e.speeds.length>0?i=e.speeds.map(t=>3.6*t):e&&e.climbs&&(i=e.climbs);return t.filter(t=>t[0]&&t[1]&&t[2]).map((t,e)=>{const s=P.a.latLng(t[1],t[0],t[2]);return i&&i.length>0?(s.meta=i[e]||0,s.meta>n&&(s.meta=n),s.meta<o&&(s.meta=o)):s.meta=0,s})},this.showSpeed=()=>{const{appState:t}=this.props.stores;t.setMapColorMode("speed")},this.handleMarkerClick=(t={})=>{const{onMarkerClick:e=(({title:t,bib:e})=>console.log({title:t,bib:e}))}=this.props;try{e(o({},t))}catch(t){console.log(t)}},this.handleMarker2Click=(t={})=>{const{onMarker2Click:e=(t=>console.log(t))}=this.props;try{e(o({},t))}catch(t){console.log(t)}},this.handleMarker3Click=(t={})=>{const{onMarker3Click:e=(t=>console.log(t))}=this.props;try{e(o({},t))}catch(t){console.log(t)}},this.baseLayerChange=t=>{const{name:e}=t;console.log("baseLayerChange event",t),console.log({name:e});const{appState:s}=this.props.stores;s.setMapChecked(e)},this.whenReadyHandler=t=>{const{target:e}=t;e.on("baselayerchange",this.baseLayerChange)},this.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1}}geoJSONStyle(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}}geoJSONStyleList(t){const e=O.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}}componentWillReceiveProps(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)}componentWillUnmount(){}render(){const{userStore:e,appState:s}=this.props.stores,{mapChecked:a}=s,{user:n}=e,{settings:c={}}=n,{visibleLayers:h,mapZoom:b,bounds:u=null}=this.state,{waypoints:g=[],waypoints2:A=[],waypoints3:C=[],geoJSONs:U=[],zoomToMarkers:L=[],geojson:_,gpxInfo:B,mapId:W=1,center:H=[61.0779066,9.800984],zoom:N=5,minZoom:G=4,maxZoom:K=18,darkmode:V,height:Y=500,heatmap:Z=[],skipGeojson:X=!1,zoomToWaypoints:q=!1,fullscreenMap:J=!1,showSearch:Q=!0,showZoomControl:tt=!0,showLayersControl:et=!0,showFullscreenControl:st=!0,showScaleControl:at=!0,showRange:ot=!0,showTrackProfile:nt=!0,distanceMarkerSteps:it="normal",showDistanceMarkers:ct=!0,groupWaypoints:lt=!0,layersControlPosition:rt="topright"}=this.props,{mapColorMode:ht,mapRange:dt,mapColors:bt,mapRangeMin:mt,mapRangeMax:ut}=s,pt=Object(d.i)(_),gt=r.a.asObject(pt,"features",0,"geometry","coordinates"),ft=L.length>0||g.length>0;let Ot,jt;const vt=[];if(gt&&gt[0]&&gt[0][0]&&(Ot=gt[0][0]&&gt[0][0][0]?[gt[0][0][1],gt[0][0][0]]:[gt[0][1],gt[0][0]],jt=gt[gt.length-1][0]&&gt[gt.length-1][0][0]?[gt[gt.length-1][0][1],gt[gt.length-1][0][0]]:[gt[gt.length-1][1],gt[gt.length-1][0]],B&&B.distances)){let t=0,e=0,s=10;switch(b){case 15:s="long"===it?3:1;break;case 14:s="long"===it?5:2;break;case 13:s="long"===it?7:3;break;case 12:s="long"===it?10:5;break;case 11:case 10:s="long"===it?15:10;break;case 9:s="long"===it?20:15;break;case 8:s="long"===it?30:20;break;case 7:s="long"===it?40:30;break;case 6:s="long"===it?70:50;break;case 5:s="long"===it?150:100;break;default:s="long"===it?200:150}B.distances.forEach((a,o)=>{t+=c.imperial?i(a):a,e+=c.imperial?i(a):a,e>=s&&(e=0,gt[o]&&Array.isArray(gt[o])&&vt.push({lat:gt[o][1],lng:gt[o][0],title:Math.floor(t),body:""}))})}const{isAdmin:wt}=e;return Object(l.h)(t,null,Object(l.h)("div",{class:f.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:O.a.captureAllEvents,onScroll:O.a.captureAllEvents},Object(l.h)(v.a,{bounds:u,ref:this.mapRef,onViewportChanged:this.handleViewportChanged,minZoom:G,maxZoom:K,center:H,onLocationfound:this.handleLocationFound,zoom:N,zoomControl:tt,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:J||!P.a.Browser.mobile,tap:!P.a.Browser.mobile,touchZoom:!!P.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:`width: 100%; min-height: ${Y}px; height: 100%;`,className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},et&&Object(l.h)(j.b,{position:rt},Object(l.h)(R,{checked:"OpenStreetMap.Mapnik"===a,name:"OpenStreetMap.Mapnik"},Object(l.h)(w.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(l.h)(R,{checked:"OpenStreetMap.Dark"===a,name:"OpenStreetMap.Dark"},Object(l.h)(w.a,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Â© Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(l.h)(R,{checked:"Norway Kartverket topo4"===a,name:"Norway Kartverket topo4"},Object(l.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(l.h)(R,{checked:"Norway Kartverket topo4graatone"===a,name:"Norway Kartverket topo4graatone"},Object(l.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(l.h)(R,{checked:"Google Satellite Text"===a,name:"Google Satellite Text"},Object(l.h)(w.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(l.h)(F,{name:"Windspeed"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(F,{name:"Temperature"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(F,{name:"Snow depth"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(F,{name:"Precipitation"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),wt&&Object(l.h)(F,{name:"Atmospheric pressure"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),at&&Object(l.h)(x.a,{metric:!0,imperial:!1}),h.Windspeed&&Object(l.h)(D.a,{position:"bottomright"},Object(l.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(l.h)("div",null,"Wind speed, m/s"),Object(l.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(l.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(l.h)("div",null,"0"),Object(l.h)("div",null,"2"),Object(l.h)("div",null,"3"),Object(l.h)("div",null,"6"),Object(l.h)("div",null,"12"),Object(l.h)("div",null,"25"),Object(l.h)("div",null,"50")),Object(l.h)("div",{style:" width: 260px; height: 5px; // background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),h.Temperature&&Object(l.h)(D.a,{position:"bottomright"},Object(l.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(l.h)("div",null,"Temperature, Â°C"),Object(l.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(l.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(l.h)("div",null,"-40"),Object(l.h)("div",null,"-20"),Object(l.h)("div",null,"0"),Object(l.h)("div",null,"20"),Object(l.h)("div",null,"40")),Object(l.h)("div",{style:" width: 260px; height: 5px; background-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%); "})))),h.Precipitation&&Object(l.h)(D.a,{position:"bottomright"},Object(l.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(l.h)("div",null,"Precipitation, mm/h"),Object(l.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(l.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(l.h)("div",null,"0"),Object(l.h)("div",null,"0.5"),Object(l.h)("div",null,"1"),Object(l.h)("div",null,"2"),Object(l.h)("div",null,"4"),Object(l.h)("div",null,"6"),Object(l.h)("div",null,"7"),Object(l.h)("div",null,"10"),Object(l.h)("div",null,"12"),Object(l.h)("div",null,"14"),Object(l.h)("div",null,"16"),Object(l.h)("div",null,"24"),Object(l.h)("div",null,"32"),Object(l.h)("div",null,"60")),Object(l.h)("div",{style:" width: 260px; height: 5px; background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%; "})))),h["Snow depth"]&&Object(l.h)(D.a,{position:"bottomright"},Object(l.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(l.h)("div",null,"Snow depth (m)"),Object(l.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(l.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(l.h)("div",null,"0.05"),Object(l.h)("div",null,"0.4"),Object(l.h)("div",null,"0.8"),Object(l.h)("div",null,"1.8"),Object(l.h)("div",null,"15")),Object(l.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%; "})))),h["Atmospheric pressure"]&&Object(l.h)(D.a,{position:"bottomright"},Object(l.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(l.h)("div",null,"Atmospheric pressure (hPa)"),Object(l.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(l.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(l.h)("div",null,"940"),Object(l.h)("div",null,"980"),Object(l.h)("div",null,"1010"),Object(l.h)("div",null,"1040"),Object(l.h)("div",null,"1080")),Object(l.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),Z&&Z.length>0&&Object(l.h)(z.a,{fitBoundsOnLoad:!ft,fitBoundsOnUpdate:!1,points:Z,longitudeExtractor:t=>t[1],latitudeExtractor:t=>t[0],intensityExtractor:t=>parseFloat(t[2])}),nt&&Object(l.h)(t,null,gt&&gt.length>0&&Object(l.h)(p.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(gt),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+ht})),U&&U.length>0&&U.map((t,e)=>Object(l.h)(y.a,{data:t,style:()=>this.geoJSONStyleList(e)})),!X&&_&&Ot&&Object(l.h)(y.a,{data:_,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,onAdd:L&&L.length>0?null:this.zoomToGeoJSON}),Ot&&Object(l.h)(S.a,{position:Ot,icon:$.a.get("marker")},Object(l.h)(I.a,null,"Start position: ",r.a.format(Ot[0],4),", ",r.a.format(Ot[1],4))),jt&&Object(l.h)(S.a,{position:jt,icon:$.a.get("flag")},Object(l.h)(I.a,null,"End position: ",r.a.format(jt[0],4),", ",r.a.format(jt[1],4))),ct&&vt&&vt.length>0&&Object(l.h)(t,null,vt.length>0&&vt.map(t=>Object(l.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:$.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(l.h)(I.a,{position:[t.lat,t.lng]},Object(l.h)("h5",null,t.title),Object(l.h)(m.a,{markdown:t.body,markdownOpts:M}))))),C.length>0&&C.reverse().map((t,e)=>Object(l.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:$.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:a}),onClick:e=>this.handleMarker3Click(o(o({},t),{},{e:e})),zIndexOffset:100+e})),lt?Object(l.h)(t,null,Object(l.h)(T.a,{maxClusterRadius:10,iconCreateFunction:E,animate:!0,fitBoundsOnLoad:q},A.length>0&&A.reverse().map((t,e)=>Object(l.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:$.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:a}),onClick:e=>this.handleMarker2Click(o(o({},t),{},{e:e})),zIndexOffset:200+e}))),Object(l.h)(T.a,{maxClusterRadius:10,iconCreateFunction:E,animate:!0,fitBoundsOnLoad:q},g.length>0&&g.reverse().map((t,e)=>Object(l.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:$.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,rank:t.rank,speed:t.speed,bearing:t.bearing,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:170,iconAnchorX:e%2==0?7:163,mapChecked:a}),onClick:e=>this.handleMarkerClick(o(o({},t),{},{e:e})),zIndexOffset:300+e})))):Object(l.h)(t,null,A.length>0&&A.reverse().map((t,e)=>Object(l.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:$.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconHeight:20,iconAnchorX:7,iconAnchorY:7,dotWidth:14,dotHeight:14,mapChecked:a}),onClick:e=>this.handleMarker2Click(o(o({},t),{},{e:e})),zIndexOffset:200+e})),g.length>0&&g.reverse().map((t,e)=>Object(l.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:$.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,speed:t.speed,bearing:t.bearing,rank:t.rank,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:170,iconAnchorX:e%2==0?7:163,mapChecked:a}),onClick:e=>this.handleMarkerClick(o(o({},t),{},{e:e})),zIndexOffset:300+e})))),Object(l.h)("div",{class:"position-absolute",style:"bottom: 20px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info",onClick:this.zoomToAllMarkers},Object(l.h)("i",{class:"fas fa-search"})))),ot&&dt&&dt.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"mb-4"},Object(l.h)("div",{class:"float-right mt-1"},Object(l.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(l.h)("small",null,Object(l.h)("small",null,r.a.format(mt,0),Object(l.h)("span",{class:"text-muted"},"speed"===ht?"km/t":"%")))),dt&&dt.length>0&&dt.map((t,e)=>Object(l.h)("div",{class:"float-left"},Object(l.h)("div",{style:`background-color: ${bt[e].color}; height: 13px; width: 10px;`}))),Object(l.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(l.h)("small",null,Object(l.h)("small",null,r.a.format(ut,0),Object(l.h)("span",{class:"text-muted"},"speed"===ht?"km/t":"%"))))))))}})||c;e.a=_}).call(this,s("hosL").Fragment)},KDoM:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),l=s("nHdA"),r=s("irB3"),h=s("UwwE"),d=s("8Lgr"),b=(s("QkTp"),s("ZOvn"));let m=Object(i.a)(a=class extends o.Component{render(){const{dog:e}=this.props,{userStore:s,dogStore:a,appState:i}=this.props.stores,{user:m}=s,{language:u="en"}=m,{viewmode:p}=i,g=(new Date).getMonth()+1,f=(new Date).getFullYear(),{month:O=g,year:j=f}=this.props,v=parseInt(O<8?j-1:j,10),w=a.findWorkoutSummary(e.id,v)||{},k=e.statuses?e.statuses.map(t=>s.findDogstatus({status:t,language:u})):[],x=a.findVaccineStatuses(e.id),y=a.findVaccineLogStatuses(e.chipId),S=a.findHistoryStatuses(e.id),I=s.findDogstatus({status:e.status,language:u}),A=s.findDogposition({position:e.position,language:u}),z=[];s.findTeam(e.team)&&z.push(s.findTeam(e.team)),e.teams&&e.teams.forEach(t=>{s.findTeam(t)&&z.push(s.findTeam(t))});const C=b.a.hasBirthday(e.birth),T=e.birth?Math.ceil(b.a.daysUntilNextBirthday(e.birth)):365,{url:U="/dogs/"+e.id}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:""},!e.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(e.name,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(e.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(o.h)("span",{class:"float-right"},A&&Object(o.h)("span",{class:`badge badge-${A.class||"primary"} mr-3`},A.icon&&Object(o.h)("i",{class:A.icon})," ",A.name),T<7&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",T," days")),e.birth&&Object(o.h)("span",{class:"mr-2"},n.a.age(e.birth,e.deceased)),"female"===e.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:U},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(o.h)(t,null," - ",Object(o.h)("span",{class:"font-weight-lighter"},e.name)),C&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(o.h)("div",null,z&&z.length>0&&Object(o.h)("small",{class:"font-weight-lighter"},z.map((e,s)=>Object(o.h)(t,null,s>0?", ":"",e))),Object(o.h)("br",null)),Object(o.h)("small",{class:"text-muted"},e.history>0&&Object(o.h)("span",{class:"ml-0"},Object(o.h)("i",{class:"fas fa-file-signature"})," ",e.history.length),e.images>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-image"})," ",e.images.length),w&&w.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(d.a,{stores:this.props.stores,value:w.distanceKm})),w&&w.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:w.elevation})),w&&w.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:w.speedAvg})),e.weight>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(o.h)(h.a,{stores:this.props.stores,value:e.weight})),e.bodyScore>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(e.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(o.h)(t,null,Object(o.h)("div",null,x&&x.map(t=>Object(o.h)("span",{class:"badge badge-success mr-2",title:n.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(o.h)("span",{class:"font-weight-light ml-3"},Object(o.h)("i",{class:"fas fa-calendar-check"})," ",n.a.isoDate(t.endDate,!1,!1,!0)))),S&&S.map(t=>Object(o.h)("span",{class:"badge badge-warning mr-2",title:n.a.isoDate(t.endDate,!1,!1,!0)},t.title)))),["beta","advanced"].indexOf(p)>-1&&Object(o.h)(t,null,e.positions&&e.positions.lead&&Object(o.h)("div",{class:""},e.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.lead.distanceKm})),e.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.point.distanceKm})),e.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.team.distanceKm})),e.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.wheel.distanceKm})))),Object(o.h)("div",{class:"clearfix pb-0"},e.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),I&&Object(o.h)("span",{class:`badge badge-${I.class} ml-2 mt-1 float-right`},I.icon&&Object(o.h)("i",{class:I.icon})," ",I.name),k&&k.map(e=>Object(o.h)(t,null,Object(o.h)("span",{class:`badge badge-${e.class} ml-2 mt-1 float-right`},e.icon&&Object(o.h)("i",{class:e.icon})," ",e.lang&&e.lang[u]?e.lang[u]:e.name)))),y&&y.length>0&&Object(o.h)(t,null,Object(o.h)("div",{class:"mt-2"},y&&y.filter(t=>t.chipId===e.chipId).map(t=>Object(o.h)("span",{class:`badge badge-${t.inKarens?"warning":"success"} mr-2 mb-1`},Object(o.h)("i",{class:"fas fa-user-md"})," ",t.vaccineAgens.name))))))))}})||a;e.a=m}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return 9*t/5+32}(e),0),"Â°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,1),"Â°C"))}})||a;e.a=c}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,0)," kg"))}})||a;e.a=c}).call(this,s("hosL").Fragment)},YdX6:function(t,e,s){"use strict";(function(t){function a(t,e){if(e){if(r.indexOf(e.status)>-1)return"danger";if(h.indexOf(e.status)>-1)return"warning"}if(t){if(t.distanceKm>50)return"danger";if(t.distanceKm>30)return"warning"}return"success"}var o,n=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("ZOvn");const r=[2,9],h=[4,8];let d=Object(c.a)(o=class extends n.Component{render(){const{dog:e,showWorkout:s,showTeam:o,showNeeds:c,showInfo:r,showName:h=!0,showPosition:d=!0,showAge:b=!1,className:m,size:u}=this.props,{userStore:p,dogStore:g}=this.props.stores,{user:f}=p,{language:O="en"}=f;if(!e)return"small"===u?Object(n.h)("div",{class:"mb-1 position-relative "+m,style:"width: 50px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},"Â ")),h&&Object(n.h)("div",{class:"text-center"},"Â ")):"medium"===u?Object(n.h)("div",{class:"mb-1 position-relative "+m,style:"width: 60px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 25px;"},"Â ")),h&&Object(n.h)("div",{class:"text-center"},"Â ")):Object(n.h)("div",{class:"mb-2 position-relative "+m,style:"width: 92px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2  mx-auto"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},"Â ")),h&&Object(n.h)("div",{class:"text-center"},"Â "));const j=p.findDogstatus({status:e.status,language:O}),v=p.findDogposition({position:e.position,language:O}),w=g.findCurrentWorkoutSummary(e.id),k=l.a.hasBirthday(e.birth),x=Math.ceil(l.a.daysUntilNextBirthday(e.birth));return"small"===u?Object(n.h)("div",{class:"mb-1 position-relative "+m,style:"width: 50px;"},Object(n.h)("div",{class:`text-center border border-${a(w,e)} rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2`,style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(e.name,!0)))):"medium"===u?Object(n.h)("div",{class:"mb-1 position-relative "+m,style:"width: 60px;"},Object(n.h)("div",{class:`text-center border border-${a(w,e)} rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2`,style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(e.name,!0)))):Object(n.h)("div",{class:"mb-2 position-relative "+m,style:"width: 92px;"},d&&v&&Object(n.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(n.h)("span",{class:`badge badge-${v.class||"primary"} mr-3`},v.icon&&Object(n.h)("i",{class:v.icon})," ",v.name)),Object(n.h)("div",{class:`text-center border border-${a(w,e)} rounded-circle imageRounded mx-auto text-muted pt-2`,style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(e.name,!0))),Object(n.h)("div",{class:"text-center",style:"line-height: 1.0em;"},Object(n.h)("small",null,h&&Object(n.h)("a",{class:"stretched-link",href:"/dogs/"+e.id},Object(n.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},e.shortname||e.name,k&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))),e.birth&&b&&Object(n.h)(t,null,Object(n.h)("span",null,x<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",x," days")),e.birth&&Object(n.h)("span",{class:"mr-2"},i.a.age(e.birth,e.deceased)),"female"===e.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),o&&Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-light"},p.findTeam(e.team)),Object(n.h)("br",null)),s&&Object(n.h)("small",{class:"text-muted"},w&&w.distanceKm>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-road"})," ",i.a.format(w.distanceKm,0),"km"),w&&w.elevation>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-mountain"})," ",i.a.format(w.elevation,0),"m"),w&&w.duration>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",i.a.format(w.speedAvg,1),"km/t")),r&&Object(n.h)("small",{class:"text-muted"},e.weight&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",i.a.format(e.weight,1)," kg"),e.bodyScore&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",i.a.format(e.bodyScore,1))),c&&Object(n.h)("div",{class:"clearfix pb-0 pt-1"},e.specialNeeds&&Object(n.h)("span",{class:"badge badge-warning mr-2"},Object(n.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),j&&Object(n.h)("span",{class:`badge badge-${j.class} mr-2`},j.icon&&Object(n.h)("i",{class:j.icon})," ",j.name)))))}})||o;e.a=d}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},epqT:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("OhSV");s("ZOvn");const h={showAddComment:!1};let d=Object(r.d)(()=>({subject:Object(i.h)(r.c,{id:"ad.subject"},"AnnonseforespÃ¸rsel"),body:Object(i.h)(r.c,{id:"ad.body"},"Hei, Jeg Ã¸nsker Ã¥ vite mer om annonsering i appen The Musher.")}))(n=Object(l.a)(n=class extends i.Component{constructor(t){var e;super(t),e=this,this.logClick=async function(){const{adStore:t,userStore:s}=e.props.stores,{ads:a=[]}=t;let o=a.length>0?a[0].id:null;const{user:n={}}=s;await t.logClick({id:o,user:n.id})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.updateTimer={},this.inputRef={},this.apiServer=c.a.getApiServer()}async loadAd(t=this.props){this.setState({isLoading:!0});const{adStore:e,workoutStore:s,userStore:a,appState:o}=this.props.stores,{section:n}=this.props,{path:i=""}=o,{currentTeam:c}=s,{user:l}=a,{language:r="en"}=l;let h,d,b,m,u,p={};c&&(p=a.findTeam(c,!0),p&&p.id&&(h=a.findTeamAmbition({ambition:p.ambitions,language:r}),d=a.findTeamType({type:p.type,language:r}),b=p.postalcode,m=p.place,u=p.country));const g=i.replace(/\d+$/,"detail");await e.load({query:{page:g,section:n}}),e.setTime(),this.setState({isLoading:!1})}componentDidMount(){this.loadAd()}componentWillReceiveProps(t){t.path!==this.props.path&&this.loadAd(t)}render(){const{adStore:e,userStore:s,appState:a}=this.props.stores,{subject:o,body:n,section:c}=this.props,{path:l}=a,{user:h={}}=s,{ads:d=[],time:b}=e;if(!h||!h.id||!d||0===d.length)return l.match(/\/(home)/i)?Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(r.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(r.b,null,Object(i.h)("a",{href:`mailto:post@themusher.no?subject=${o}: ${l}: ${c}&body=${n}`,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(r.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(t,null);const m=d[0];return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:`${this.apiServer}/api/ads/${m.id}/view?user=${h.id}&time=${b}`,style:"width: 1; height: 1; opacity: 0.1;"})))),m.target?Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+m.url,target:m.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},m.images&&m.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:m.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+m.url,onClick:this.logClick},m.images&&m.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:m.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))}})||n)||n;e.a=d}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:c={}}=i;return c.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))}})||a;e.a=c}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV");s("ZOvn");let l=Object(i.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:l={}}=i;return l.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return.621371*t}(e),1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(c.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(c.c,{id:"workouts.kmt"},"km/t"))))}})||a;e.a=l}).call(this,s("hosL").Fragment)},om2D:function(t,e,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=(s("cneo"),s("Utv1"),s("u2zT"));let c=Object(n.a)(a=class extends o.Component{constructor(t){super(t),this.handleAddImage=t=>{const{addToImages:e=!0}=this.props,{updateField:s,object:a,field:o}=this.props;if(o&&s({id:a.id,field:o,value:t,skipTimer:!0}),e){const e=[];e.push(t),s({id:a.id,field:"images",value:e,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:t=(()=>{}),before:e=(()=>{}),after:s=(()=>{}),autoOpen:a=!0}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(i.a,{handleAddImage:this.handleAddImage,uploadStatus:t,apiUrl:"/api/fileupload",before:e,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;e.a=c},sqi2:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("cneo"),h=s("OhSV"),d=s("fh8t"),b=s.n(d),m=s("3wGD"),u=(s("ETxl"),s("ZOvn"));const p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}};let g=Object(l.a)(n=class extends i.Component{constructor(t){var e;super(t),e=this,this.likeComment=async function(t){const{callback:s=(()=>{})}=e.props,a=t.target.parentElement.dataset.id||t.target.dataset.id,{workout:o}=e.props,{workoutStore:n}=e.props.stores,i=await n.likeWorkoutComment({id:o.id,commentId:a});return i&&200===i.status&&s({type:"likeComment",workout:o,commentId:a,response:i}),!0},this.likeReply=async function(t){const{callback:s=(()=>{})}=e.props,a=t.target.parentElement.dataset.id||t.target.dataset.id,o=t.target.parentElement.dataset.comment||t.target.dataset.comment,{workout:n}=e.props,{workoutStore:i}=e.props.stores,c=await i.likeWorkoutCommentReply({id:n.id,replyId:a,commentId:o});c&&200===c.status&&s({type:"likeReply",workout:n,commentId:o,replyId:a,response:c})},this.replyComment=async function(t){const s=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:a}=e.state;a[s]=!a[s],e.setState({showAddComment:a},()=>{e.inputRef[s]&&e.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:t}=this.state;this.setState({showAllComments:!t})},this.toggleReplies=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAllReplies:s}=this.state;s[e]=!s[e],this.setState({showAllReplies:s})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[e]=s,this.setState({viewImageIdx:a})},this.translate=async function(t){t.preventDefault(),t.stopPropagation();const{replyid:s,commentid:a}=t.target.closest("button").dataset,{workout:o}=e.props,{userStore:n,teamStore:i}=e.props.stores,{user:c}=n,{showOriginal:l={},translatedText:r={}}=e.state,h=`${a}${s?"-"+s:""}`;l[h]=0,r[h]=s?await i.translateCommentReply({commentid:a,replyid:s,object:o,user:c}):await i.translateComment({commentid:a,object:o,user:c}),e.setState({showOriginal:l,translatedText:r})},this.showOriginal=t=>{const{replyid:e,commentid:s}=t.target.closest("button").dataset;t.preventDefault(),t.stopPropagation();const{showOriginal:a={}}=this.state;a[`${s}${e?"-"+e:""}`]=1,this.setState({showOriginal:a})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},p),this.inputRef={}}render(){const{showAddComment:e,showAllComments:s,showAllReplies:a,viewImageIdx:o,showOriginal:n={},translatedText:l={}}=this.state,{workout:d,callback:p=(()=>{}),col:g=12,offset:f=0,compact:O=!1}=this.props,{userStore:j,teamStore:v}=this.props.stores,{user:w,isAdmin:k}=j,{language:x="en"}=w;let y,S=[],I=0,A=0;return d.comments&&(I=d.comments.length,s?S=d.comments:(y=O?0:1,S=d.comments.slice(Math.max(I-y,0))),A=S.length),Object(i.h)("div",null,d&&S&&S.reverse().map(s=>{const{user:g={}}=s,f=v.findPublicTeamByMembers(g.id),O=u.a.displayNameShort(g),j=u.a.displayName(g),S=g.image||(g.images?g.images[0]:void 0),I=s.likes&&s.likes.findIndex(t=>t.user===w.id)>-1;let A=[],z=0,C=0;s.comments&&(z=s.comments.length,A=a[s.id]?s.comments:s.comments.slice(0,y),C=A.length);const T=[];if(s.images){const t=Object(r.i)(s.images);T.push(...t)}const U=o[s.id]?o[s.id]:0,D=T&&T[U]?T[U]:null,{currentLocationGeocode:$={}}=s,L=v.getCommentTranslations({object:d,commentid:s.id,targetLang:x})||l[s.id];let P=L||s.comment;return n[s.id]&&(P=s.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(S?`background-image: url("${S.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!g.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},j),f&&f.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},f.filter(t=>1===t.public).slice(0,2).map(e=>Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))))),Object(i.h)(b.a,{markdown:u.a.replaceImages(P,s.images,x),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"container-fluid px-3 mt-1"},D&&Object(i.h)("div",{class:"clearfix row"},Object(i.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:D.s3LargeLink}))),T&&T.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},T.map((e,a)=>Object(i.h)(t,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(I?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),s.language!==x&&Object(i.h)(t,null,"-",!n[s.id]&&L?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),k&&$&&$.formatted_address&&Object(i.h)(t,null,Object(i.h)("span",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",$.formatted_address)))),s.likes&&s.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},s&&A&&A.map(e=>{const{user:a={}}=e,o=v.findPublicTeamByMembers(a.id),r=a.firstname?`${c.a.ucfirst(a.firstname,!0)}${c.a.ucfirst(a.lastname,!0)}`:""+c.a.ucfirst(a.email||"",!0),m=a.firstname?`${a.firstname} ${a.lastname}`:""+a.email,p=a.image||(a.images?a.images[0]:void 0),g=e.likes&&e.likes.findIndex(t=>t.user===w.id)>-1,f=v.getCommentReplyTranslations({object:d,commentid:s.id,replyid:e.id,targetLang:x})||l[`${s.id}-${e.id}`];let O=f||e.comment;return n[`${s.id}-${e.id}`]&&(O=e.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},r)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},m),o&&o.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},o.filter(t=>1===t.public).slice(0,2).map(e=>Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))))),Object(i.h)(b.a,{markdown:u.a.replaceImages(O,e.images,x),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(g?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":e.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),e.language!==x&&Object(i.h)(t,null,"-",!n[`${s.id}-${e.id}`]&&f?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":e.id,onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id,"data-replyid":e.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))}),z-C>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:z-C}},"Vis ",z-C," flere kommentarer...")))),e[s.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(m.a,{stores:this.props.stores,workout:d,callback:p,commentId:s.id,inputRef:t=>this.inputRef[s.id]=t,inputRefObject:this.inputRef})))}),I-A>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:I-A}},"Vis ",I-A," flere kommentarer..."))),s&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||n;e.a=g}).call(this,s("hosL").Fragment)},u2zT:function(t,e,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=s("Utv1"),c=s("OhSV");let l=Object(n.a)(a=class extends o.Component{constructor(t){super(t),this.dropRef=Object(o.createRef)(),this.handleDrag=t=>{t.preventDefault(),t.stopPropagation()},this.handleDragIn=t=>{t.preventDefault(),t.stopPropagation(),this.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=t=>{t.preventDefault(),t.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=t=>{if(t.preventDefault(),t.stopPropagation(),this.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(let e=0,s=t.dataTransfer.files.length;e<s;e+=1){this.readLocalFile(t.dataTransfer.files[e])}this.dragCounter=0}},this.handleAddFiles=t=>{t.preventDefault();const e=t.target;for(let t=0,s=e.files.length;t<s;t+=1){this.readLocalFile(e.files[t])}},this.handleEvent=()=>{0},this.handleUpload=t=>{const{uploadStatus:e=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;e(!1),i.a.isFunction(s)&&s();const o=new FormData;o.append("files[]",t);const n={progress:1};n.xhr=new XMLHttpRequest,n.xhr.upload.addEventListener("progress",e=>{this.updateProgress(e,t)}),n.xhr.addEventListener("loadstart",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("load",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("loadend",e=>{const s=t;i.a.isFunction(a)&&a(),this.handleEvent(e,s)}),n.xhr.addEventListener("progress",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("error",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("abort",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("readystatechange",e=>{this.uploadDone(e,t)}),n.xhr.open("POST",`${i.a.getApiServer()}${this.props.apiUrl}`),n.xhr.setRequestHeader("Authorization","Bearer "+i.a.getJwtToken()),n.xhr.send(o);const c=t.name,l=this.state.uploadedFilesData;l[c]||(l[c]={}),l[c].uploadMeta=n,l[c].imageNum=this.state.imageNum,this.setState({uploadedFilesData:l})},this.readLocalFile=t=>new Promise((e,s)=>{const a=new FileReader;a.addEventListener("error",t=>{s(t)}),a.addEventListener("load",s=>{const a=t,o=a.name,n=this.state.uploadedFilesData;n[o]||(n[o]={}),n[o].event=s,this.setState({uploadedFilesData:n}),this.handleUpload(a),e(s)}),a.readAsDataURL(t)}),this.updateProgress=(t,e)=>{if(t.lengthComputable){const s=e.name,a=this.state.uploadedFilesData,o=t.loaded/t.total*100;0,a[s].uploadMeta.progress=o,this.setState({uploadedFilesData:a})}},this.uploadDone=(t,e)=>{const s=e.name,a=this.state.uploadedFilesData,o=a[s].uploadMeta;if(o&&4===o.xhr.readyState&&201===o.xhr.status){const t=JSON.parse(o.xhr.responseText).data.files;for(let e=0;e<t.length;e+=1){this.addFileToUpload(t[e]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(t){const{uploadedFilesData:e}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete e[t.name],this.setState({uploadedFilesData:e}),s(t),a(!0)}componentDidMount(){const t=this.dropRef.current;t.addEventListener("dragenter",this.handleDragIn),t.addEventListener("dragleave",this.handleDragOut),t.addEventListener("dragover",this.handleDrag),t.addEventListener("drop",this.handleDrop);const{autoOpen:e}=this.props;e&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:t}=this.state;return Object(o.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(o.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(o.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(o.h)("div",null,Object(o.h)(c.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(o.h)("div",null,Object(o.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:t=>{this.fileInput=t}})),Object(o.h)("div",null,Object.keys(t).length>0?Object(o.h)("h3",null,Object(o.h)(c.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(o.h)("ul",{class:"list-group"},Object.keys(t).map(e=>{const{uploadMeta:s={}}=t[e],a=e.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(o.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(o.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(o.h)("img",{class:"img-fluid mr-3",src:t[e].event.target.result,style:"max-height: 50px;"}),Object(o.h)("small",null,t[e].event.uploadDone),Object(o.h)(c.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(o.h)("small",null,i.a.formatBytes(t[e].event.total,2))),Object(o.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(o.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;e.a=l},"vY+r":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("OhSV"),h=s("ZOvn");const d={};let b=Object(l.a)(n=class extends i.Component{constructor(t){super(t),this.toggleViews=()=>{const{showViewList:t}=this.state,{isTeamAdmin:e,isAdmin:s}=this.props;(e||s)&&this.setState({showViewList:!t})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{showViewList:e}=this.state,{storyStore:s,teamStore:a,workoutStore:o}=this.props.stores,{views:n,object:l,type:d="story",onTeamClick:b=(()=>{}),onUserClick:m=(()=>{})}=this.props,u=[];Object.entries(l.statistics).forEach(([t,e])=>{Object.entries(e).forEach(([t,e])=>{e.viewUsers&&u.push(e.viewUsers)})});const p=u.flat().slice(0,50);return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-end mb-2"},Object(i.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},n," ",Object(i.h)(r.c,{id:"story.views"},"views"))),e&&Object(i.h)("div",{class:"mt-3 mb-3"},p&&p.map(e=>{let n,l,r;if("story"===d?(n=s.findPublicUser(e),l=s.findPublicTeamByMembers(e)):"team"===d?(n=a.findPublicUser(e),l=a.findPublicTeamByMembers(e)):"workout"===d&&(n=o.findPublicUser(e),l=o.findPublicTeamByMembers(e)),!n)return"";c.a.isArray(l)&&(r=l.find(t=>1===t.public));const m=h.a.getImage({user:n,team:r,priority:"user"}),u=h.a.displayNameShort(n),p=h.a.displayName(n,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},r?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+r.uuidv4,title:r.name,onClick:t=>b(t,r.uuidv4),class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(m?`background-image: url("${m}"); background-size: cover;`:"")},!m&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},u))),Object(i.h)("div",{class:"ml-2 "},p," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",r.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(m?`background-image: url("${m}"); background-size: cover;`:"")+" opacity: 0.5;"},!m&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},u)),Object(i.h)("div",{class:"ml-2"},p)))}),n>p.length&&Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"story.limited-to"},"Limited to max 50 users.")))))}})||n;e.a=b}).call(this,s("hosL").Fragment)},wLBv:function(t,e,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");let c=Object(i.a)(a=class extends o.Component{render(){const{musher:t}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?`background-image: url("${t.image.s3SmallLink}");`:""},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(t.email,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(o.h)("span",{class:"float-right"}),Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.fname||t.email)))))}})||a;e.a=c},wanP:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=(s("Utv1"),s("/eY4")),l=s("eK6s"),r=s.n(l);const h={mouseData:{}};let d=Object(c.a)(n=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.svgRef=null}render(){const{radius:e=50,heightAdd:s=0,color:a="success",showPercentText:o=!0,percent:n=0,prefix:c="",showCenterText:l=!1,centerText:h,centerTextSize:d,centerTextX:b,centerTextY:m,total:u="",totalY:p="90%",totalX:g="50%",totalTextAnchor:f="middle",completed:O="",completedY:j="65%",completedX:v="50%",completedTextAnchor:w="middle"}=this.props,k=.3*e,x=e-k/2,y=.3*e,S=2*x*Math.PI,I=.75*S,A=`${I} ${S}`,z=`rotate(135, ${e}, ${e})`,C=I-Math.min(Math.max(n,0),100)/100*I,T=d||e/2.5,U=e/5;return Object(i.h)(t,null,Object(i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:r.a.svg,width:2*e,height:2*e+s,preserveAspectRatio:"none",ref:t=>this.svgRef=t},Object(i.h)("circle",{class:""+r.a.gaugeBackground,cx:e,cy:e,r:x,strokeWidth:k,strokeDasharray:A,strokeLinecap:"round",transform:z}),Object(i.h)("circle",{class:`${r.a[a]} ${r.a.gauge}`,cx:e,cy:e,r:x,stroke:"url(#grad)",strokeDasharray:A,strokeDashoffset:C,strokeLinecap:"round",strokeWidth:y,style:{transition:"stroke-dashoffset 0.3s"},transform:z}),o&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:b||"50%",y:m||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":T},n," ",c),l&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:b||"50%",y:m||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":T},h),O&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:v,y:j,"dominant-baseline":"middle","text-anchor":w,"font-size":U},O),Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a.secondary}`,x:g,y:p,"dominant-baseline":"middle","text-anchor":f,"font-size":U},u)))}})||n;e.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=11.chunk.b3d4f.esm.js.map