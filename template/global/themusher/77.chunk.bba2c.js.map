{"version":3,"sources":["webpack:///./components/data/distance.js","webpack:///./components/data/temperature.js","webpack:///./components/data/weight.js","webpack:///./components/dog/simple.js","webpack:///./routes/public/map.js","webpack:///./components/data/elevation.js","webpack:///./components/data/speed.js"],"names":["displayDistance","distance","util","format","Distance","observer","render","this","props","value","smallUnit","stores","userStore","user","settings","imperial","kmToMiles","class","Component","Temperature","celciusToFahrenheit","Weight","kgToPounds","getFatigueLevel","wo","dog","STOP_STATUSES","indexOf","status","WARN_STATUSES","distanceKm","Dog","showWorkout","showTeam","showNeeds","showInfo","showName","showPosition","showAge","className","size","dogStore","language","style","dogStatus","findDogstatus","dogPosition","findDogposition","position","workoutSummary","findCurrentWorkoutSummary","id","hasBirthday","mu","birth","daysUntilBirthday","Math","ceil","daysUntilNextBirthday","image","s3SmallLink","ucfirst","name","icon","href","shortname","age","deceased","gender","findTeam","team","elevation","duration","secToHms","speedAvg","weight","bodyScore","specialNeeds","initialState","mapHeight","WorkoutMap","loadWorkout","workoutStore","loadPublic","parseInt","workout","state","componentDidMount","componentWillReceiveProps","nextProps","appState","mapColorMode","mapRangeMin","mapRangeMax","reloadLastEpoch","track","findTrack","findDogs","dogs","gpxInfo","gpx","mapId","geojson","geoJSON","skipGeojson","height","key","showSearch","showZoomControl","showLayersControl","showFullscreenControl","showScaleControl","showRange","layersControlPosition","src","avgGpsMovingSpeed","dogsLeft","map","dogId","find","e","dogsRight","Elevation","meterToFeet","Speed","kmtToMph"],"mappings":"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","file":"77.chunk.bba2c.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}°F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}°C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport mu from '../../lib/musher-util';\n\nconst STOP_STATUSES = [2, 9];\nconst WARN_STATUSES = [4, 8];\n\n\nfunction getFatigueLevel(wo, dog) {\n    if (dog) {\n        if (STOP_STATUSES.indexOf(dog.status) > -1) {\n            return 'danger';\n        } else if (WARN_STATUSES.indexOf(dog.status) > -1) {\n            return 'warning';\n        }\n    }\n    if (wo) {\n        if (wo.distanceKm > 50) {\n            return 'danger';\n        } else if (wo.distanceKm > 30) {\n            return 'warning';\n        }\n    }\n    return 'success';\n}\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { \n            dog,\n            showWorkout,\n            showTeam,\n            showNeeds,\n            showInfo,\n            showName = true,\n            showPosition = true,\n            showAge = false,\n            className,\n            size,\n        } = this.props;\n\t\tconst { userStore, dogStore } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n\n        if (!dog) {\n            if (size === 'small') {\n                return (\n                    <div class={`mb-1 position-relative ${className}`} style='width: 50px;'>\n                        <div class={`text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto`}>\n                            <span class='font-weight-lighter' style='font-size: 20px;'>&nbsp;</span>\n                        </div>\n                        {showName && <div class='text-center'>\n                            &nbsp;\n                        </div>}\n                    </div>\n                );\n            }\n            if (size === 'medium') {\n                return (\n                    <div class={`mb-1 position-relative ${className}`} style='width: 60px;'>\n                        <div class={`text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto`}>\n                            <span class='font-weight-lighter' style='font-size: 25px;'>&nbsp;</span>\n                        </div>\n                        {showName && <div class='text-center'>\n                            &nbsp;\n                        </div>}\n                    </div>\n                );\n            }\n            return (\n                <div class={`mb-2 position-relative ${className}`} style='width: 92px;'>\n                    <div class={`text-center border rounded-circle imageRounded text-muted pt-2  mx-auto`}>\n                        <span class='font-weight-lighter' style='font-size: 35px;'>&nbsp;</span>\n                    </div>\n                    {showName && <div class='text-center'>\n                        &nbsp;\n                    </div>}\n                </div>\n            );\n        }\n\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const workoutSummary = dogStore.findCurrentWorkoutSummary(dog.id);\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = Math.ceil(mu.daysUntilNextBirthday(dog.birth));\n\n        if (size === 'small') {\n            return (\n                <div class={`mb-1 position-relative ${className}`} style='width: 50px;'>\n                    <div\n                        class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2`}\n                        style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                    >\n                        {!dog.image && <span class='font-weight-lighter' style='font-size: 20px;'>{util.ucfirst(dog.name, true)}</span>}\n                    </div>\n                </div>\n            );\n        }\n        if (size === 'medium') {\n            return (\n                <div class={`mb-1 position-relative ${className}`} style='width: 60px;'>\n                    <div\n                        class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2`}\n                        style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                    >\n                        {!dog.image && <span class='font-weight-lighter' style='font-size: 20px;'>{util.ucfirst(dog.name, true)}</span>}\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div class={`mb-2 position-relative ${className}`} style='width: 92px;'>\n                {/* {JSON.stringify(dog, null, 4)} */}\n                {showPosition && dogPosition && <small class='position-absolute' style='left:0px; top: 50px;'>\n                    <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>\n                </small>}\n                <div\n                    class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded mx-auto text-muted pt-2`}\n                    style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                >\n                    {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                    {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                </div>\n                <div class='text-center' style='line-height: 1.0em;'>\n                    <small>\n                        {/* <span class='float-right'>\n                            {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                            {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                        </span> */}\n                        {showName && <a class='stretched-link' href={`/dogs/${dog.id}`}>\n                            <h5 class='mb-1 font-weight-light' style='line-height: 1.0em; font-size: 1.3em;'>\n                                {dog.shortname || dog.name}\n                                {hasBirthday && <>\n                                    <i class='fas fa-birthday-cake ml-3' />\n                                </>}\n                            </h5>\n                        </a>}\n\n                        {dog.birth && showAge && <>\n                            <span>\n                                {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                \n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                        </>}\n\n                        {showTeam && <><span class='font-weight-light'>{userStore.findTeam(dog.team)}</span><br /></>}\n\n                        {showWorkout && <small class='text-muted'>\n                            {workoutSummary && workoutSummary.distanceKm > 0 && <span class='mr-2'><i class='fas fa-road' /> {util.format(workoutSummary.distanceKm, 0)}km</span>}\n                            {workoutSummary && workoutSummary.elevation > 0 && <span class='mr-2'><i class='fas fa-mountain' /> {util.format(workoutSummary.elevation, 0)}m</span>}\n                            {workoutSummary && workoutSummary.duration > 0 && <span class='mr-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                            {workoutSummary && workoutSummary.speedAvg > 0 && <span class='mr-2'><i class='fas fa-tachometer-alt' /> {util.format(workoutSummary.speedAvg, 1)}km/t</span>}\n                        </small>}\n\n                        {showInfo && <small class='text-muted'>\n                            {dog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(dog.weight, 1)} kg</>}\n                            {dog.bodyScore && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                        </small>}\n\n                        {showNeeds && <div class='clearfix pb-0 pt-1'>\n                            {dog.specialNeeds && <span class={`badge badge-warning mr-2`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                            {dogStatus && <span class={`badge badge-${dogStatus.class} mr-2`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                        </div>}\n                    </small>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport { toJS } from 'mobx';\n\nimport mu from '../../lib/musher-util';\n\nimport Map from '../../components/map';\nimport DogSimple from '../../components/dog/simple';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nfunction displayDistance(distanceKm) {\n\tif (distanceKm < 5) {\n\t\treturn util.format(distanceKm, 2);\n\t}\n\tif (distanceKm < 10) {\n\t\treturn util.format(distanceKm, 1);\n\t}\n\treturn util.format(distanceKm, 1);\n}\n\nconst initialState = {\n\tmapHeight: 600,\n};\n\n@observer\nclass WorkoutMap extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    loadWorkout = async (props = this.props) => {\n\t\tconst { workoutStore } = this.props.stores;\n        await workoutStore.loadPublic(parseInt(props.workout, 10));\n    }\n\n    componentDidMount() {\n        this.loadWorkout();\n    }\n\n\tcomponentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.workout !== this.props.workout) {\n            this.loadWorkout(nextProps);\n        }\n    }\n\n\trender() {\n\t\tconst { workoutStore, userStore, appState } = this.props.stores;\n\t\tconst { mapColorMode, mapRangeMin, mapRangeMax } = appState;\n\t\tconst { mapHeight, reloadLastEpoch } = this.state;\n\t\tconst { workout } = workoutStore;\n\t\tconst track = userStore.findTrack(workout.track);\n        const dogs = userStore.findDogs(workout.dogs);\n\t\tconst { gpxInfo = {} } = workout;\n\n\t\treturn (\n\t\t\t<div class='container-fluid p-0 h-100 position-relative'>\n                {workout && workout.gpx && <>\n                    <div style={`height: 100%;`}>\n                        <Map\n                            stores={this.props.stores}\n                            mapId={`${workout.id}-${mapHeight}`}\n                            geojson={workout.gpx.geoJSON}\n                            skipGeojson={false}\n                            gpxInfo={workout.gpxInfo}\n                            height={mapHeight}\n                            mapColorMode={mapColorMode}\n                            mapRangeMin={mapRangeMin}\n                            mapRangeMax={mapRangeMax}\n                            key={`workout-map-${reloadLastEpoch}`}\n\n                            showSearch={false}\n                            showZoomControl={false}\n                            showLayersControl={true}\n                            showFullscreenControl={false}\n                            showScaleControl={false}\n                            showRange={false}\n\n                            layersControlPosition={'topleft'}\n                        />\n                    </div>\n                </>}\n                {track && track.gpx && !(workout && workout.gpx) && <div style={`height: 100%;`}>\n                    <Map\n                        stores={this.props.stores}\n                        mapId={`${track.id}-${mapHeight}`}\n                        geojson={track.gpx.geoJSON}\n                        skipGeojson={false}\n                        gpxInfo={track.gpx.gpxInfo}\n                        height={mapHeight}\n                        mapColorMode={mapColorMode}\n                        mapRangeMin={mapRangeMin}\n                        mapRangeMax={mapRangeMax}\n                        key={`workout-map-${reloadLastEpoch}`}\n\n                        showSearch={false}\n                        showZoomControl={false}\n                        showLayersControl={true}\n                        showFullscreenControl={false}\n                        showScaleControl={false}\n                        showRange={false}\n\n                        layersControlPosition={'topleft'}\n                    />\n                </div>}\n                <div class='position-absolute d-flex' style='top: 5px; left: 5px; z-index: 99999999;'>\n                    <div>\n                        <img src={`https://themusher.litt.no/assets/logo.png`} height='55' />\n                    </div>\n                    <div class='pl-3 text-white'\n                        style='font-size: 2.6em; line-height: 1.0em; text-shadow: 2px 2px #000000;'\n                    >\n                        QPaws\n                    </div>\n                </div>\n                <div\n                    class='position-absolute text-white'\n                    style='bottom: 0px; left: 0px; width: 100%; height: 100px; z-index: 99999999;'\n                >\n                    <div class='d-flex ' style='text-shadow: 2px 2px #000000;'>\n                        <div class='text-center font-weight-bold flex-fill'>\n                            <div style='font-size: 1.5em; line-height: 1.0em;'>Distance</div>\n                            <div style='font-size: 2.5em; line-height: 1.0em;' class='text-overflow'>\n                                <Distance stores={this.props.stores} value={workout.distanceKm} />\n                            </div>\n                        </div>\n                        <div class='text-center font-weight-bold flex-fill'>\n                            <div style='font-size: 1.5em; line-height: 1.0em;'>Elevation</div>\n                            <div style='font-size: 2.5em; line-height: 1.0em;' class='text-overflow'>\n                                <Elevation stores={this.props.stores} value={workout.elevation} />\n                            </div>\n                        </div>\n                        <div class='text-center font-weight-bold flex-fill'>\n                            <div style='font-size: 1.5em; line-height: 1.0em;'>Avg speed</div>\n                            <div style='font-size: 2.5em; line-height: 1.0em;' class='text-overflow'>\n                                {gpxInfo && gpxInfo.avgGpsMovingSpeed > 0 ? <>\n                                    <Speed stores={this.props.stores} value={gpxInfo.avgGpsMovingSpeed * 3.6} />\n                                </> : <>\n                                    <Speed stores={this.props.stores} value={workout.speedAvg} />\n                                </>}\n                            </div>\n                        </div>\n                        <div class='text-center font-weight-bold flex-fill'>\n                            <div style='font-size: 1.5em; line-height: 1.0em;'>Duration</div>\n                            <div style='font-size: 2.5em; line-height: 1.0em;' class='text-overflow'>\n                                {util.secToHms(workout.duration, true)}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div\n                    class='position-absolute text-white'\n                    style='bottom: 110px; right: 0px; width: 165px; z-index: 99999999;'\n                >\n                    {workout.dogsLeft && <div class='offset-0 col-12 mt-4'>\n                        <div class='row'>\n                            <div class='col-6 p-0'>\n                                {workout.dogsLeft && workout.dogsLeft.map(dogId => {\n                                    const dog = workout.dogs.find(e => e.id === dogId);\n                                    return <DogSimple\n                                        stores={this.props.stores}\n                                        dog={dog}\n                                        className='ml-auto'\n                                        showName={false}\n                                        showPosition={false}\n                                        size='medium'\n                                    />;\n                                })}\n                            </div>\n                            <div class='col-6 p-0'>\n                                {workout.dogsRight && workout.dogsRight.map(dogId => {\n                                    const dog = workout.dogs.find(e => e.id === dogId);\n                                    return <DogSimple\n                                        stores={this.props.stores}\n                                        dog={dog}\n                                        className='mr-auto'\n                                        showName={false}\n                                        showPosition={false}\n                                        size='medium'\n                                    />;\n                                })}\n                            </div>\n                        </div>\n                    </div>}\n                </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WorkoutMap;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n"],"sourceRoot":""}