(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{B7Gj:function(t,e,o){"use strict";function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.r(e);var a,c=o("hosL"),n=o("Utv1"),i=o("/eY4"),l=o("OhSV"),u=o("ZOvn"),h=o.n(u),d=o("JWe/"),p=(o("3pQw"),o("WAWY")),b=o("3UPq"),f=o("pJjI");const m=h.a.marginTop(!0),O=h.a.marginBottom(),k=h.a.subMenuMarginTop(),w={isLoading:!1};let g=Object(i.a)(a=class extends c.Component{constructor(t){var e;super(t),e=this,this.loadWorkouts=async function(t=e.props){e.setState({isLoading:!0});const{workoutStore:o,userStore:s}=t.stores;await e.loadWorkoutSummary(t),await e.loadWorkoutPlans(t),await s.getNotifications(),e.setState({isLoading:!1})},this.loadWorkoutPlans=async function(t=e.props){e.setState({isLoading:!0});const{year:o}=t,s=(new Date).getMonth()+1,r=n.a.getYear(),a=parseInt(o||(s<6?r-1:r),10),{workoutPlanStore:c,workoutStore:i}=t.stores,{currentTeam:l}=i;if(c.updateItem("workoutPlans",[]),c.updateItem("workoutPlan",{}),c.resetGraphPlanWeekDistanceCurrent(),l){await c.load({query:{team:l,seasonYear:a,seasonMonth:6}});const{workoutPlans:t}=c,e=t[0]||{};e.id&&(await c.load(e.id),c.prepareWeekGraphs({year:o}))}e.setState({isLoading:!1})},this.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},w)}async loadWorkoutSummary(t=this.props){const{userStore:e,workoutStore:o}=t.stores,{year:s}=t,{currentTeam:r}=o;await e.getWorkoutSummary({team:r,year:s})}componentDidMount(){this.loadWorkouts()}componentWillReceiveProps(t){t.month===this.props.month&&t.year===this.props.year&&t.team===this.props.team||this.loadWorkouts(t)}render(){const{isLoading:t}=this.state,{userStore:e,appState:o,workoutStore:s,workoutPlanStore:r}=this.props.stores,{workoutPlan:a,workoutPlans:n}=r,{month:i,year:u}=this.props,{currentTeam:h}=s,{darkmode:w}=o,g=s.getLatests(),{workoutSummaryWeek:j=[]}=e;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${O}; margin-top: ${m};`},Object(c.h)("div",{class:"row mb-4 fixed-top",style:`margin-top: ${k}; background-color: ${w?"#191d21":"#f8f9fa"};`},Object(c.h)("div",{class:"col text-center border-bottom border-primary"},Object(c.h)("a",{href:"/workouts/",class:"text-primary stretched-link"},Object(c.h)("i",{class:"fas fa-chart-line"})," ",Object(c.h)(l.c,{id:"workout.index.dashboard"},"Oversikt"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-list"})," ",Object(c.h)(l.c,{id:"workout.index.list"},"Liste"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-calendar-alt"})," ",Object(c.h)(l.c,{id:"workout.index.plan"},"Plan")))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)(f.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+h})),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-2"},Object(c.h)("a",{class:"btn btn-primary btn-sm float-right",href:"/workouts/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(l.c,{id:"workout.index.add-workout"},"Legg til treningstur"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)(p.a,{stores:this.props.stores,isLoading:t,year:u,key:`graph-${a.id}-${n.length}`})),Object(c.h)(b.a,{stores:this.props.stores,team:h,basehref:"/workouts/",month:i,year:u,key:`calendar-${a.id}-${n.length}`})),Object(c.h)("div",{class:"row"},g&&g.length>0&&Object(c.h)("div",{class:"col-12 mb-4"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(c.h)("h5",null,Object(c.h)(l.c,{id:"workout.index.last-workouts",fields:{total:g.length}},"Nyeste treningsturer - ",g.length," stk"))),g&&g.map(t=>Object(c.h)(d.a,{stores:this.props.stores,workout:t})))),!1)}})||a;e.default=g}}]);
//# sourceMappingURL=route-workouts.chunk.2939e.esm.js.map