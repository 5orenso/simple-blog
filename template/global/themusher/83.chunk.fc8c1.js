(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{LMwI:function(e){e.exports={pointerCursor:"pointerCursor__1W6mM"}},RMlE:function(e,t,a){"use strict";function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n,c=a("hosL"),o=a("ox/y"),i=(a("Utv1"),a("/eY4")),l=(a("go65"),a("Y3FI")),b=a("OhSV"),h=(a("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),p=Object(i.a)(n=function(e){function t(t){var a;return(a=e.call(this,t)||this).toggleDropdown=function(e){var t=a.state.menu,r=e.target.dataset.name;!r&&e.target.parentNode&&(r=e.target.parentNode.dataset.name),r&&(t[r]=!t[r]),a.setState({menu:t})},a.toggleDarkmode=function(e){a.props.stores.appState.toggleDarkmode(),a.toggleDropdown(e)},a.toggleViewmode=function(e){var t=e.target.dataset.mode;!t&&e.target.parentNode&&(t=e.target.parentNode.dataset.mode),a.props.stores.appState.toggleViewmode(t),a.toggleDropdown(e)},a.reloadApp=function(){window.location.reload(!0)},a.adminLoadAll=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.userStore.getInfo(!0)).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},a.changeLanguage=function(e){var t=e.target.value;console.log("changeLanguage",t);var r=a.props.stores,s=r.appState,n=r.userStore,c=n.user,o=void 0===c?{}:c;o.email&&n.setLanguage({email:o.email,language:t}),s.setLanguage(t)},a.search=function(){var e=a.state.searchText;Object(l.route)("/search/"+e)},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},h),a}var a,n;return n=e,(a=t).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n,t.prototype.render=function(){var e=this.state,t=e.menu,a=this.props.stores,r=a.appState,s=a.userStore,n=r.darkmode,i=s.user,l=s.notifications,h=((void 0===l?[]:l).filter((function(e){return!e.read})),i.language),p=void 0===h?"en":h;return Object(c.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(c.h)("a",{class:"navbar-brand",href:"/race/"},Object(c.h)("img",{src:"./assets/homerun-race-logo-2-"+(n?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(c.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(c.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(c.h)("span",{class:"navbar-toggler-icon"})),Object(c.h)("div",{class:"collapse navbar-collapse "+(t.main?"show":""),id:"navbarSupportedContent"},Object(c.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(c.h)("li",{class:"nav-item"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-flag-checkered"})," ",Object(c.h)(b.c,{id:"header.races"},"LÃ¸pene"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"far fa-question-circle"})," ",Object(c.h)(b.c,{id:"header.support"},"Support"))),Object(c.h)("li",{class:"nav-item"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(c.h)("i",{class:"fas fa-quote-right"})," ",Object(c.h)(b.c,{id:"header.news"},"Nyheter")))),Object(c.h)("ul",{class:"navbar-nav ml-auto "},Object(c.h)("li",{class:"nav-item mr-2"},Object(c.h)("div",{class:"form-row align-items-center"},Object(c.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(c.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(c.h)("option",{value:"no",selected:"no"===p},"ðŸ‡³ðŸ‡´ NO"),Object(c.h)("option",{value:"en",selected:"en"===p},"ðŸ‡¬ðŸ‡§ EN"),Object(c.h)("option",{value:"es",selected:"es"===p},"ðŸ‡ªðŸ‡¸ ES"),Object(c.h)("option",{value:"de",selected:"de"===p},"ðŸ‡©ðŸ‡ª DE"),Object(c.h)("option",{value:"fr",selected:"fr"===p},"ðŸ‡«ðŸ‡· FR"),Object(c.h)("option",{value:"ru",selected:"ru"===p},"ðŸ‡·ðŸ‡º RU"),Object(c.h)("option",{value:"se",selected:"se"===p},"ðŸ‡¸ðŸ‡ª SE"))))),Object(c.h)("li",{class:"nav-item d-block d-lg-none"},Object(c.h)(o.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(n?"fas text-warning":"far")+" fa-moon"})," ",Object(c.h)(b.c,{id:"header.darkmode"},"Nattmodus"))),Object(c.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(c.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(c.h)("i",{class:(n?"fas text-warning":"far")+" fa-moon"}))))))},t}(c.Component))||n;t.a=p},aGZh:function(e,t,a){"use strict";(function(e){function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s,n=a("hosL"),c=a("/eY4"),o={};Object(c.a)(s=function(a){function s(e){var s;return(s=a.call(this,e)||this).state=function(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?t(Object(s),!0).forEach((function(t){r(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},o),s}var c,i;return i=a,(c=s).prototype=Object.create(i.prototype),c.prototype.constructor=c,c.__proto__=i,s.prototype.render=function(){var t=this.props.stores.appState,a=this.props.text,r=t.language,s=void 0===r?"en":r,c=a,o=new RegExp("/<"+s+">(.*?)</"+s+">/");return a.replace(o,"$1")&&(c=a),Object(n.h)(e,null,c)},s}(n.Component))}).call(this,a("hosL").Fragment)},t8NN:function(e,t,a){"use strict";a.r(t),function(e){function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n,c=a("hosL"),o=a("QRet"),i=a("Utv1"),l=a("/eY4"),b=a("OhSV"),h=(a("go65"),a("fh8t")),p=a.n(h),u=a("RMlE"),d=(a("aGZh"),a("ZOvn")),g=d.a.marginTop(!0),O=d.a.marginBottom(),m=(d.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:i.a.getJwtToken()}),j=Object(l.a)(n=function(t){function a(e){var a;return(a=t.call(this,e)||this).toggleShowNews=function(){a.setState({showNews:!a.state.showNews})},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},m),a}var n,l;l=t,(n=a).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var h=a.prototype;return h.loadRace=function(e){return new Promise(function(t,a){var r;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),r=e.stores.raceStore,Promise.resolve(r.load({query:{},sort:"-startDate"})).then(function(){try{return r.countAll(),this.setState({isLoading:!1}),t()}catch(e){return a(e)}}.bind(this),a)}.bind(this))},h.loadNews=function(e){return new Promise(function(t,a){var r,s,n;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),s=(r=e.stores).newsStore,n={tag:e.tag},r.userStore.isAdmin&&(n.showall=1),Promise.resolve(s.load({query:n})).then(function(){try{return this.setState({isLoading:!1}),t()}catch(e){return a(e)}}.bind(this),a)}.bind(this))},h.componentDidMount=function(){this.loadRace(),this.loadNews()},h.componentWillReceiveProps=function(e){this.loadRace(e),this.loadNews(e)},h.render=function(){var t,a=this.props.isInApp,r=this.props.stores,s=r.appState,n=r.userStore,l=n.isAdmin,h=r.raceStore.races,m=r.newsStore.newsList,j=m&&m[0]?m[0]:null,f=s.language,v=void 0===f?"en":f,w=this.state.showNews;return Object(c.h)(e,null,Object(c.h)(u.a,{stores:this.props.stores,isInApp:a}),Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+O+"; margin-top: "+g+";"},!j&&Object(c.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(c.h)("div",{class:"spinner-border text-primary",role:"status"},Object(c.h)("span",{class:"sr-only"},"Loading..."))),j&&Object(c.h)("div",{class:"row clearfix",style:"min-height: 450px;"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"jumbotron-thumb d-flex align-items-center"},j.images&&j.images[0]?Object(c.h)("img",{src:j.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(c.h)("div",{class:"jumbotron py-2"},Object(c.h)("h1",{class:"display-4"},l&&Object(c.h)("i",{class:"fas fa-eye"+(j.active?" text-success":"-slash text-danger")+" float-right"})," ",j.title),Object(c.h)("p",{class:"lead"},Object(c.h)(p.a,{markdown:d.a.replaceImages(j.ingress,j.images,v),markdownOpts:d.a.getMarkdownOptions()})),w?Object(c.h)(e,null,Object(c.h)(p.a,{markdown:d.a.replaceImages(j.body,j.images,v),markdownOpts:d.a.getMarkdownOptions()}),Object(c.h)("button",{class:"btn btn-secondary btn-lg",type:"button",onClick:this.toggleShowNews},Object(c.h)(b.c,{id:"races.hide-details"},"Skjul detaljer"),"  ",Object(c.h)("i",{class:"fas fa-caret-down"}))):Object(c.h)(e,null,Object(c.h)("button",{class:"btn btn-primary btn-lg",type:"button",onClick:this.toggleShowNews},Object(c.h)(b.c,{id:"races.read-more"},"Les mer")," ",Object(c.h)("i",{class:"fas fa-caret-right"})))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 bg-light"},Object(c.h)(b.b,null,(void 0===(t=Object(c.h)(b.c,{id:"races.races"},"LÃ¸pene"))&&(t=""),Object(o.d)((function(){document.title="Homerun Race - Race where you live"}),[t]),Object(c.h)("h1",null,t))),l&&Object(c.h)(e,null,Object(c.h)("a",{href:"/race/new/edit",class:"position-absolute btn btn-sm btn-primary",style:"top: 0px; right: 15px;"},Object(c.h)("i",{class:"fas fa-plus-circle"})," ",Object(c.h)(b.c,{id:"race.new"},"Nytt lÃ¸p"))))),Object(c.h)("div",{class:"row mt-3"},!h&&Object(c.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(c.h)("div",{class:"spinner-border text-primary",role:"status"},Object(c.h)("span",{class:"sr-only"},"Loading..."))),h&&h.map((function(t){var a=new Date,r="";return a>=new Date(t.startDate)&&a<=new Date(t.endDate)?r="race":a>=new Date(t.signupStartDate)&&a<=new Date(t.signupEndDate)?r="signup":a>new Date(t.endDate)&&(r="done"),Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 col-sm-6 col-md-4 mb-3"},Object(c.h)("div",{class:"card position-relative"},Object(c.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===r&&Object(c.h)(e,null,Object(c.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===r&&Object(c.h)(e,null,Object(c.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===r&&Object(c.h)(e,null,Object(c.h)("span",null,Object(c.h)("i",{class:"fas fa-check text-success"})))),Object(c.h)("h5",{class:"card-header"},l&&Object(c.h)("i",{class:"fas fa-eye"+(t.active?" text-success":"-slash text-danger")+" float-right"}),t.title),Object(c.h)("div",{class:"list-thumb d-flex align-items-center position-relative"},Object(c.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===r&&!t.liveRace&&Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(c.h)(b.c,{id:"races.signup-open"},"PÃ¥melding Ã¥pen"))),"race"===r&&Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(c.h)(b.c,{id:"races.race-in-progress"},"LÃ¸p pÃ¥gÃ¥r"))),"done"===r&&Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-success border border-white ml-2"},Object(c.h)(b.c,{id:"races.race-finished"},"LÃ¸p avsluttet")))),t.images&&t.images[0]?Object(c.h)("img",{src:t.images[0].s3MediumLink,class:"card-img-top"}):""),Object(c.h)("div",{class:"card-body"},Object(c.h)("p",{class:"card-text"},Object(c.h)(p.a,{markdown:d.a.replaceImages(t.ingress,t.images,v),markdownOpts:d.a.getMarkdownOptions()})),t.classes&&Object(c.h)(e,null,Object(c.h)("div",{class:"mb-3"},Object(c.h)("small",{class:"font-weight-lighter mr-2"},Object(c.h)(b.c,{id:"races.classes"},"Klasser"),": "),Object(c.h)("br",null),t.classes.sort((function(e,t){return e.distance-t.distance})).map((function(t){return Object(c.h)(e,null,Object(c.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},t.title))})))),Object(c.h)("a",{href:"/race/"+t.id,class:"btn btn-primary stretched-link"},Object(c.h)(b.c,{id:"races.read-more"},"Les mer"))),Object(c.h)("div",{class:"card-footer"},Object(c.h)("small",{class:"text-muted"},Object(c.h)(b.c,{id:"races.race-days"},"LÃ¸psdager"),": ",t.startDate&&Object(c.h)(e,null,i.a.formatDate(t.startDate,{locale:v})),t.endDate&&Object(c.h)(e,null," - ",i.a.formatDate(t.endDate,{locale:v})))))))})))))},a}(c.Component))||n;t.default=j}.call(this,a("hosL").Fragment)}}]);
//# sourceMappingURL=83.chunk.fc8c1.js.map