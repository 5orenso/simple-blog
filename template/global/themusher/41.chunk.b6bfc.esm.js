(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{gbHB:function(e,s,t){"use strict";t.r(s),function(e){var a,i=t("hosL"),o=t("Utv1"),r=t("/eY4"),c=t("Y3FI"),l=t("go65"),n=t("OhSV"),p=t("tJLP"),h=t("Cjoz");let d=Object(r.a)(a=class extends i.Component{constructor(e){var s;super(e),s=this,this.handleEmailInput=async function(e){const{userStore:t}=s.props.stores,a=e.target.value;s.setState({email:a}),clearTimeout(s.checkEmailTimer),s.checkEmailTimer=setTimeout(()=>t.checkEmail(a),1e3)},this.register=async function(){const{email:e,password:t}=s.state,{userStore:a,appState:i}=s.props.stores,{language:o="en"}=i,{skipPubSub:r}=s.props,{fingerprint:c,jwtToken:l}=i;await a.registerUser({email:e,password:t,fingerprint:c,jwtToken:l,skipPubSub:r,language:o}),await a.getInfo()},this.removeError=()=>{this.setState({error:"",errorIcon:""})},this.removeMessage=()=>{this.setState({message:"",messageIcon:""})},this.togglePassword=()=>{let{passwordType:e}=this.state;e="password"===e?"text":"password",this.setState({passwordType:e})},this.updateCapsLockStatus=e=>{this.setState({isCapsLock:e})},this.login=()=>{const{email:e=""}=this.state,{routeLogin:s="/"+e}=this.props;Object(c.route)(s)},this.forgotten=()=>{const{email:e=""}=this.state,{routeLoginForgot:s="/forgotten/"+e}=this.props;Object(c.route)(s)},this.changeLanguage=e=>{const s=e.target.value,{appState:t}=this.props.stores;t.setLanguage(s)},this.state={isCapsLock:!1,email:this.props.email,passwordType:"password",emailIsAvailable:!1}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout(()=>e.checkEmail(this.props.email),1e3))}render(){const{isCapsLock:s,email:t,password:a,passwordType:r}=this.state,{appState:c,userStore:d}=this.props.stores,{showLogo:b=!0}=this.props,{language:m="en"}=c,{emailIsAvailable:g,emailMessage:u,login:v}=d,{message:j,messageIcon:O,error:k,errorIcon:f}=v,w=o.a.validateEmail(t),y=o.a.scorePassword(a),S=o.a.normalizeBetween(y,0,80,0,100,100),T=o.a.checkPassStrength(a,["bg-danger","bg-warning","bg-success","bg-success"]),L=S>30,C=w&&g&&L;return Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},b&&Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-center mb-5 mt-5"},Object(i.h)(e,null,Object(i.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"})))),Object(i.h)(p.a,{message:k,icon:f,remove:this.removeError}),Object(i.h)(h.a,{message:j,icon:O,remove:this.removeMessage}),Object(i.h)("div",{class:"form-group"},Object(i.h)(n.b,null,Object(i.h)("input",{type:"email",class:"form-control form-control-lg "+(t?w&&g?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:t,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)},placeholder:Object(i.h)(n.c,{id:"register.email"},"E-post")})),t&&w&&g&&Object(i.h)("div",{class:"valid-feedback",style:"display: block;"},u),t&&!w&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(i.h)(n.c,{id:"register.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut.")),t&&w&&!g&&Object(i.h)("div",{class:"invalid-feedback",style:"display: block;"},u)),Object(i.h)("div",{class:"form-group"},Object(i.h)("div",{class:"input-group"},Object(i.h)(n.b,null,Object(i.h)("input",{type:r,class:"form-control form-control-lg "+(a?L?"is-valid":"is-invalid":""),id:"passwordInput",onInput:Object(l.a)(this,"password"),value:a,onKeypress:e=>{o.a.isCapsLock(e,this.updateCapsLockStatus)},placeholder:Object(i.h)(n.c,{id:"register.password"},"Passord")})),Object(i.h)("div",{class:"input-group-append"},Object(i.h)("button",{class:"btn btn-primary",type:"button",onClick:this.togglePassword},Object(i.h)("i",{class:"fas fa-eye"+("text"===r?"-slash":"")})))),Object(i.h)("div",{class:"progress",style:"height: 2px;"},Object(i.h)("div",{class:"progress-bar "+T,role:"progressbar",style:`width: ${S}%;`})),Object(i.h)("div",{class:"invalid-feedback",style:""+(S>0&&S<30?"display: block":"")},Object(i.h)(n.c,{id:"register.password-too-weak"},"Passordet ditt er for svakt. Forsøk et annet passord eller legg til flere bokstaver.")),Object(i.h)("div",{class:"valid-feedback text-warning",style:""+(S>=30&&S<70?"display: block":"")},Object(i.h)(n.c,{id:"register.password-weak"},"Passordet ditt er svakt, men vis skal gjøre vårt beste for å passe på deg.")),Object(i.h)("div",{class:"valid-feedback",style:""+(S>=70?"display: block":"")},Object(i.h)(n.c,{id:"register.password-ok"},"Passordet ditt ser bra ut."))),s&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(n.c,{id:"register.caps-lock-on"},"CAPS LOCK er på!")),Object(i.h)("button",{class:"btn btn-lg btn-block btn-primary",type:"button",onClick:this.register,disabled:!C},Object(i.h)("i",{class:"far fa-save mr-2"}),Object(i.h)(n.c,{id:"register.register"},"Registrer meg")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link text-white",onClick:this.login},Object(i.h)(n.c,{id:"register.i-have-an-account"},"Jeg har visst konto likevel. Gå til login siden."))))))}})||a;s.default=d}.call(this,t("hosL").Fragment)},tJLP:function(e,s,t){"use strict";var a,i=t("hosL"),o=t("/eY4");let r=Object(o.a)(a=class extends i.Component{componentDidUpdate(){const{remove:e=(()=>{})}=this.props;clearTimeout(this.removeTimer),this.removeTimer=setTimeout(()=>e(),1e4)}componentWillUnmount(){clearTimeout(this.removeTimer)}render(){const{message:e,icon:s,remove:t=(()=>{})}=this.props;return e?Object(i.h)("div",{class:"container"},Object(i.h)("div",{class:"alert alert-danger row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("a",{href:"#",onclick:t,class:"float-right"},Object(i.h)("i",{className:"fas fa-times"})),s&&Object(i.h)("h1",{class:"float-left mr-3"},Object(i.h)("i",{class:s})),e&&Object(i.h)("span",null,e)))):""}})||a;s.a=r}}]);
//# sourceMappingURL=41.chunk.b6bfc.esm.js.map