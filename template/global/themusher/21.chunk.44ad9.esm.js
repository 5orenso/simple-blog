(window.webpackJsonp=window.webpackJsonp||[]).push([[21,6,13,23],{"+I+c":function(e,t,s){"use strict";function o(e,t){if(null==e)return{};var s,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(s=i[o])>=0||(a[s]=e[s]);return a}s.d(t,"a",(function(){return o}))},"+JSK":function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(i=class extends n.Component{constructor(e){super(e),this.toggleLikes=()=>{const{showLikesList:e}=this.state;this.setState({showLikesList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{showLikesList:t}=this.state,{storyStore:s,teamStore:o,workoutStore:a,raceStore:i}=this.props.stores,{likes:l,comments:h,type:u="story",onTeamClick:p=(()=>{}),onUserClick:b=(()=>{})}=this.props;return Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},l&&l.length>0&&Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(n.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",l.length),l.slice(0,1).map(t=>{let l,c,h;"story"===u?(l=s.findPublicUser(t.user),c=s.findPublicTeamByMembers(t.user)):"team"===u?(l=o.findPublicUser(t.user),c=o.findPublicTeamByMembers(t.user)):"workout"===u?(l=a.findPublicUser(t.user),c=a.findPublicTeamByMembers(t.user)):"race"===u&&(l=i.findPublicUser(t.user),c=i.findPublicTeamByMembers(t.user)),r.a.isArray(c)&&(h=c.find(e=>1===e.public));d.a.getImage({user:l,team:h,priority:"user"}),d.a.displayNameShort(l);const b=d.a.displayName(l);return Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter"},h?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:e=>p(e,h.uuidv4)},b)):Object(n.h)(e,null,b)))}),l.length>1&&Object(n.h)(e,null,Object(n.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(n.h)(c.c,{id:"likes-comments.and",fields:{total:l.length-1}},"and ",l.length-1," others."))))),h&&h.length>0&&Object(n.h)("span",{class:"float-right text-muted"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",h.length)),t&&Object(n.h)("div",{class:"mt-3 mb-3"},l&&l.map(t=>{let l,c,h;"story"===u?(l=s.findPublicUser(t.user),c=s.findPublicTeamByMembers(t.user)):"team"===u?(l=o.findPublicUser(t.user),c=o.findPublicTeamByMembers(t.user)):"workout"===u?(l=a.findPublicUser(t.user),c=a.findPublicTeamByMembers(t.user)):"race"===u&&(l=i.findPublicUser(t.user),c=i.findPublicTeamByMembers(t.user)),r.a.isArray(c)&&(h=c.find(e=>1===e.public));const b=d.a.getImage({user:l,team:h,priority:"user"}),m=d.a.displayNameShort(l),g=d.a.displayName(l,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},h?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:e=>p(e,h.uuidv4),class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(b?`background-image: url("${b}"); background-size: cover;`:"")},!b&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m))),Object(n.h)("div",{class:"ml-2 "},g," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",h.name))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(b?`background-image: url("${b}"); background-size: cover;`:"")+" opacity: 0.5;"},!b&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m)),Object(n.h)("div",{class:"ml-2"},g)))})))}})||i;t.a=u}).call(this,s("hosL").Fragment)},"/922":function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("om2D"),d=(s("ETxl"),s("ZOvn"));let h=Object(n.a)(o=class extends a.Component{constructor(e){var t;super(e),t=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),inputRefObject:o={}}=t.props,{workout:a}=t.props,{workoutStore:i}=t.props.stores,{comment:n,showAddImage:r}=t.state;t.setState({sendButtonEnabled:!1});const l=await i.commentWorkout({id:a.id,comment:n});l&&200===l.status&&(t.setState({comment:{body:"",images:[]}},()=>{d.a.resizeTextarea(o[a.id]),r&&t.addImage()}),s({workout:a,response:l})),t.setState({sendButtonEnabled:!0})},this.addImages=({value:e})=>{const{comment:t}=this.state;t.images.push(...e),this.setState({comment:t})},this.addImage=()=>{const{showAddImage:e=!1}=this.state;this.setState({showAddImage:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t,col:s=12,offset:o=0,showAvatar:n=!0,extraClass:h="",workout:u}=this.props,{comment:p,showAddImage:b,sendButtonEnabled:m}=this.state,{userStore:g}=this.props.stores,{user:f={}}=g,O=f.firstname?`${i.a.ucfirst(f.firstname,!0)}${i.a.ucfirst(f.lastname,!0)}`:""+i.a.ucfirst(f.email||"",!0),j=f.image||(f.images?f.images[0]:void 0);return Object(a.h)("div",{class:`col-${s} offset-${o} ${h}`},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},n&&Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(j?`background-image: url('${j.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!f.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(a.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(r.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:p.body,ref:t})),Object(a.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(a.h)("i",{class:"fas fa-image pointerCursor","data-id":u.id,onClick:this.addImage})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(a.h)("button",{type:"button",class:`btn btn-${m?"primary":"secondary"} mb-2`,disabled:!m,onClick:this.commentWorkout},Object(a.h)("i",{class:"fas fa-paper-plane"})))))),b&&Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 text-center"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},p.images&&p.images.map(e=>Object(a.h)("div",{class:"col-3 p-1"},Object(a.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(a.h)("i",{class:"fas fa-trash"}),"  ",Object(a.h)(r.c,{id:"comments.remove-image"},"Remove")))))),Object(a.h)(c.a,{object:p,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))}})||o;t.a=h}).call(this,s("hosL").Fragment)},"1OK2":function(e,t,s){"use strict";var o,a=s("hosL"),i=(s("Utv1"),s("/eY4"));Object(i.a)(o=class extends a.Component{constructor(e){super(e),this.touchStart=e=>{e.stopPropagation(),this.setState({startX:e.touches[0].pageX})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=e=>{e.stopPropagation();const{totalImages:t}=this.state;if(t>1){const{startX:t,sliding:s}=this.state,o=50,a=e.touches[0].pageX;s||(a>t+o?(this.setState({sliding:!0}),this.prevImage()):a<t-o&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:t=[]}=e;this.state={imageContainer:1,currentImage1:t[0]||{},currentImage2:{},currentIdx:0,totalImages:t.length||0,imageDots:[...Array(t.length||0).fill(1).map((e,t)=>e+t)]}}nextImage(){const{images:e}=this.props,{totalImages:t,currentIdx:s,imageContainer:o}=this.state,a=1===o?2:1;let i=s+1;i>t-1&&(i=0),this.setState({["currentImage"+a]:e[i],currentIdx:i,imageContainer:a})}prevImage(){const{images:e}=this.props,{totalImages:t,currentIdx:s,imageContainer:o}=this.state;let a=s-1;a<0&&(a=t-1),this.setState({["currentImage"+(1===o?2:1)]:e[a],currentIdx:a,imageContainer:1===o?2:1})}componentWillReceiveProps(e){if(e.images!==this.props.images){const{images:t=[]}=e;this.setState({imageContainer:1,currentImage1:t.length>0?t[0]:{},currentImage2:{},currentIdx:0,totalImages:t.length||0,imageDots:[...Array(t.length||0).fill(1).map((e,t)=>e+t)]})}}render(){const{currentImage1:e,currentImage2:t,imageContainer:s,totalImages:o,imageDots:i,currentIdx:n}=this.state,r=this["image"+s],l=1===s?e:t,c=r&&r.height?r.width/r.height:4/3;let d,h;if(l.dimensions){const{width:e,height:t,orientation:s}=l.dimensions;s>4&&s<9?(d=e,h=t):(d=t,h=e)}const u=l.dimensions?h/d:c;return o<=0?"":Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${u}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},o>1&&Object(a.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(a.h)("small",null,n+1,"/",o)),e&&Object(a.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(a.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:e=>this.image1=e})),t&&Object(a.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(a.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:e=>this.image2=e}))),i.length>1&&Object(a.h)("div",{class:"w-100 text-center"},i.map(e=>Object(a.h)("span",{style:`color: ${e===n+1?"#ffffff":"#808080"};`},"•"))))}})},"2X7c":function(e,t,s){"use strict";function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=(s("cneo"),s("go65")),h=s("OhSV"),u=s("ZOvn"),p=s("X9Km"),b=s("om2D"),m=s("3on9");const g=u.a.getVaccineTypes(),f={showLog:!1,okToAddLog:!0};let O=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.toggleLog=()=>{const{showLog:e}=this.state;this.setState({showLog:!e})},this.resetLog=()=>{this.setState({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date),dogs:[]},showLog:!1})},this.addImages=e=>{if(Array.isArray(e.value)){const{newHistory:t}=this.state;t.images=Array.isArray(t.images)?[...t.images,...e.value]:e.value,this.setState({newHistory:t})}},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.imageUploadStatus=e=>{this.setState({okToAddLog:e})},this.insertLog=async function(){const{newHistory:e}=t.state,{dogStore:s,userStore:o}=t.props.stores,{callback:i}=t.props,{dog:n}=s,{user:r}=o;return e.title||e.comment?e.id||0!==e.dogs.length?(e.date=`${e.date} ${e.time}`,await s.save({id:n.id||e.dogs[0],history:a({user:{id:r.id,email:r.email,firstname:r.firstname,lastname:r.lastname}},e)}),t.resetLog(),await t.loadDog(),await t.loadFeed(),void(l.a.isDefined(i)&&i())):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler hunder til logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),!1):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler tittel på logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),!1)},this.updateField=({field:e,value:t})=>{const{newHistory:s}=this.state;s[e]=t,this.setState({newHistory:s})},this.setHistoryType=e=>{const{userStore:t}=this.props.stores,{user:s}=t,{language:o="en"}=s,a=u.a.getHistoryMap(o),{newHistory:i}=this.state,n=e.target.value;i.historyType=n,i.title||(i.title=a[n]),"maturity"===i.historyType&&(i.endDate=l.a.isoDate(l.a.addDays(i.date,21),!1,!1,!0)),"mating"!==i.historyType&&"unwantedMating"!==i.historyType||(i.endDate=l.a.isoDate(l.a.addDays(i.date,63),!1,!1,!0)),this.setState({newHistory:i})},this.setVaccineType=e=>{const{newHistory:t}=this.state,s=e.target.value;t.vaccineType=s,t.title+=" - "+g[s].name,t.endDate=l.a.isoDate(l.a.addDays(t.date,g[s].duration),!1,!1,!0),this.setState({newHistory:t})},this.state=a({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date),dogs:[]}},f)}async loadDog(e=this.props){const{dog:t}=e;if(t&&t.id){const{newHistory:e}=this.state;e.dogs=[t.id],this.setState({newHistory:e})}}async loadFeed(){const{userStore:e}=this.props.stores;await e.getFeed({})}componentWillMount(){this.resetLog(),this.loadDog()}componentWillReceiveProps(e){e.dog.id!==this.props.dog.id&&(this.resetLog(),this.loadDog(e))}render(){const{newHistory:e,showLog:t,okToAddLog:s}=this.state,{dog:o,className:a="btn-sm btn-secondary float-left"}=this.props,{workoutStore:i,userStore:n}=this.props.stores,{currentTeam:l}=i,c=n.findTeam(l,!0);return t?Object(r.h)("div",{class:"col-12 px-0 border rounded "},Object(r.h)("button",{class:"'btn "+a,onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",t?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg")),Object(r.h)("br",null),t&&Object(r.h)("div",{class:"mb-2 py-4 px-2"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg")),Object(r.h)(h.b,null,Object(r.h)(m.a,{stores:this.props.stores,object:e,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(r.h)(h.c,{id:"dog.addlog.dogs"},"Hunder"),help:Object(r.h)(h.c,{id:"dog.addlog.dogs-help"},"Hvilke hunder gjelder dette?"),updateField:this.updateField,filter:t=>o.id===t.id||e.dogs.indexOf(t.id)>-1,currentTeam:c})),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"dateInput"},Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.date"},"Dato")),Object(r.h)("input",{type:"date",class:"form-control",id:"dateInput","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"newHistory.date"),value:e.date,autocomplete:"off"}),Object(r.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.date-help"},"Dato for logglinje."))),Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"timeInput"},Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"dog.addlog.time"},"Klokka")),Object(r.h)("input",{type:"time",class:"form-control",id:"timeInput","aria-describedby":"timeHelp",onInput:Object(d.a)(this,"newHistory.time"),value:e.time,autocomplete:"off"}),Object(r.h)("small",{id:"timeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.time-help"},"Tid for logglinje.")))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"typeInput"},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"dog.addlog.type"},"Type hendelse")),Object(r.h)("select",{class:"form-control",id:"typeInput","aria-describedby":"typeHelp",onInput:this.setHistoryType,value:e.historyType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-type"},"Velg type")," --"),Object(r.h)("option",{value:"other"},Object(r.h)(h.c,{id:"dog.addlog.other"},"Annet")),Object(r.h)("option",{value:"stoolProblem"},Object(r.h)(h.c,{id:"dog.addlog.stoolProblem"},"Avføringsproblem")),Object(r.h)("option",{value:"bodyScore"},Object(r.h)(h.c,{id:"dog.addlog.bodyScore"},"Bodyscore")),Object(r.h)("option",{value:"diarrhea"},Object(r.h)(h.c,{id:"dog.addlog.diarrhea"},"Diarè")),Object(r.h)("option",{value:"foodLeftover"},Object(r.h)(h.c,{id:"dog.addlog.foodLeftover"},"Ikke spist opp maten")),Object(r.h)("option",{value:"animalchiropractor"},Object(r.h)(h.c,{id:"dog.addlog.animalchiropractor"},"Dyrekiropraktor")),Object(r.h)("option",{value:"clawClip"},Object(r.h)(h.c,{id:"dog.addlog.clawClip"},"Kloklipp")),Object(r.h)("option",{value:"maturity"},Object(r.h)(h.c,{id:"dog.addlog.maturity"},"Løpetid")),Object(r.h)("option",{value:"massage"},Object(r.h)(h.c,{id:"dog.addlog.massage"},"Massasje")),Object(r.h)("option",{value:"newStraw"},Object(r.h)(h.c,{id:"dog.addlog.newStraw"},"Ny halm/treull")),Object(r.h)("option",{value:"update"},Object(r.h)(h.c,{id:"dog.addlog.update"},"Oppdatering")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"mating"},Object(r.h)(h.c,{id:"dog.addlog.mating"},"Parring")),Object(r.h)("option",{value:"injury"},Object(r.h)(h.c,{id:"dog.addlog.injury"},"Skade")),Object(r.h)("option",{value:"fight"},Object(r.h)(h.c,{id:"dog.addlog.fight"},"Slåsskamp")),Object(r.h)("option",{value:"sick"},Object(r.h)(h.c,{id:"dog.addlog.sick"},"Syk")),Object(r.h)("option",{value:"unwantedMating"},Object(r.h)(h.c,{id:"dog.addlog.unwantedMating"},"Tjuvparring")),Object(r.h)("option",{value:"vaccine"},Object(r.h)(h.c,{id:"dog.addlog.vaccine"},"Vaksine")),Object(r.h)("option",{value:"weight"},Object(r.h)(h.c,{id:"dog.addlog.weight"},"Veiing")),Object(r.h)("option",{value:"veterinarianVisit"},Object(r.h)(h.c,{id:"dog.addlog.veterinarianVisit"},"Vetrinær besøk")," ")),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.type-help"},"Type hendelse. Vetrinær besøk, vaksinering, syk, løpetid, etc."))),["vaccine"].indexOf(e.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"vaccineTypeInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(r.h)("select",{class:"form-control",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:this.setVaccineType,value:e.vaccineType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(r.h)("option",{value:"rabies"},Object(r.h)(h.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"BbPi"},Object(r.h)(h.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(r.h)("option",{value:"DHP"},Object(r.h)(h.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(r.h)("option",{value:"DHPPi"},Object(r.h)(h.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)"))),Object(r.h)("small",{id:"vaccineTypeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.vaccine-help"},"Hvilken vaksinetype er dette?"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"nameInput"},Object(r.h)(h.c,{id:"dog.addlog.title"},"Tittel")),Object(r.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"newHistory.title"),value:e.title,autocomplete:"off",required:!0}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.title-help"},"Tittel på logglinje. Vetrinær besøk, Vaksinering, Syk, Profilbilde, etc."))),["vaccine","maturity","unwantedMating","mating"].indexOf(e.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"endDateInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.duration"},"Varighet")),Object(r.h)("input",{type:"date",class:"form-control",id:"endDateInput","aria-describedby":"endDateHelp",onInput:Object(d.a)(this,"newHistory.endDate"),value:e.endDate,autocomplete:"off"}),Object(r.h)("small",{id:"endDateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.duration-help"},"Når går denne vaksinen ut?"))),("weight"===e.historyType||"bodyScore"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"weightInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog"},"Vekt")),Object(r.h)("input",{type:"text",class:"form-control",id:"weightInput","aria-describedby":"weightHelp",onInput:Object(d.a)(this,"newHistory.weight"),value:e.weight,autocomplete:"off"}),Object(r.h)("small",{id:"weightHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog-help"},"Vekten til hunden."))),("weight"===e.historyType||"bodyScore"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"bodyScoreInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.bodyscore"},"Bodyscore")),Object(r.h)("input",{type:"text",class:"form-control",id:"bodyScoreInput","aria-describedby":"bodyScoreHelp",onInput:Object(d.a)(this,"newHistory.bodyScore"),value:e.bodyScore,autocomplete:"off"}),Object(r.h)("small",{id:"bodyScoreHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.bodyscore-help"},"Bodyscore til hunden."))),("veterinarianVisit"===e.historyType||"vaccine"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"costInput"},Object(r.h)("i",{class:"fas fa-money-bill-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.cost"},"Kostnad")),Object(r.h)("input",{type:"text",class:"form-control",id:"costInput","aria-describedby":"costHelp",onInput:Object(d.a)(this,"newHistory.cost"),value:e.cost,autocomplete:"off",pattern:"[0-9]{3}",title:"Kun tall. Ikke noen andre tegn eller symboler."}),Object(r.h)("small",{id:"costHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.cost-help"},"Kostnad for denne hendelsen."))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"commentInput"},Object(r.h)("i",{class:"fas fa-quote-right"})," ",Object(r.h)(h.c,{id:"dog.addlog.commet"},"Kommentar")),Object(r.h)("input",{type:"text",class:"form-control",id:"commentInput","aria-describedby":"commentHelp",onInput:Object(d.a)(this,"newHistory.comment"),value:e.comment,autocomplete:"off"}),Object(r.h)("small",{id:"commentHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.comment-help"},"Kommentar til loggen. Skriv mer om hva som hendte."))),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"row-12"},Object(r.h)("label",{for:"imageInput"},Object(r.h)("i",{class:"fas fa-camera"})," ",Object(r.h)(h.c,{id:"dog.addlog.images"},"Bilder")))),Object(r.h)("div",{class:"row"},e.images&&e.images.map(e=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}))))),Object(r.h)(b.a,{object:e,field:"images",updateField:this.addImages,uploadStatus:this.imageUploadStatus,autoOpen:!1}),Object(r.h)("button",{type:"button",class:"btn btn-success",onClick:this.insertLog,disabled:!s},s?Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg"):Object(r.h)(h.c,{id:"dog.addlog.please-wait"},"vent litt...")),Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.resetLog},Object(r.h)(h.c,{id:"dog.addlog.cancel"},"Glem det")))):Object(r.h)("button",{class:"'btn "+a,onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",t?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg"))}})||n;t.a=O},"3on9":function(e,t,s){"use strict";(function(e){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e}).apply(this,arguments)}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r,l=s("hosL"),c=s("Utv1"),d=s("/eY4"),h=s("cneo"),u=s("go65"),p=(s("Y3FI"),s("OhSV")),b=s("dVCl");const m={id:0,name:"empty"},g=()=>{const e=i({},m);return e.unique=`${(new Date).getTime()}-${c.a.randomPassword()}`,e};class f extends l.Component{render(){const{provided:e,snapshot:t,innerRef:s,children:a,className:i}=this.props;return Object(l.h)("div",o({class:"h-100 border "+i},e.droppableProps,{ref:s,style:(n=t.isDraggingOver,{borderStyle:n?"dashed":"",width:110})}),a);var n}}class O extends l.Component{constructor(...e){super(...e),this.removeThisPlaceholder=()=>{const{removePlaceholder:e=(()=>{}),idx:t,list:s}=this.props;e({idx:t,list:s})}}render(){const{provided:t,snapshot:s,innerRef:a,dog:n}=this.props;return Object(l.h)("div",o({},t.draggableProps,t.dragHandleProps,{ref:a,class:"mx-2 my-2 p-2",style:(r=s.isDragging,d=t.draggableProps.style,i({userSelect:"none",background:r?"#808080":"",maxWidth:92,height:100},d))}),0===n.id?Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2"},Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"}," ")),Object(l.h)("div",{class:"text-center"},Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeThisPlaceholder},Object(l.h)("i",{class:"fas fa-trash-alt"}))," "))):Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:""+(n.image?`background-image: url("${n.image.s3ThumbLink}");`:"")},!n.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},c.a.ucfirst(n.name,!0))),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,n.shortname||n.name,Object(l.h)("br",null))))));var r,d}}const j={filterby:c.a.get("dogs-filter")};let y=Object(d.a)(r=class extends l.Component{constructor(e){var t;super(e),t=this,this.toggleDog=async function(e){const{id:s}=e.target.closest("#dogContainer").dataset,o=parseInt(s,10),{object:a,type:i,elementtype:n,field:r,updateField:l,isNew:c,showPositions:d}=t.props,u=Object(h.i)(a[r])||[],p=u.indexOf(o);let b;p>-1?(u.splice(p,1),b="remove"):(u.push(o),b="add"),await l({id:a.id,field:r,value:u,type:i,elementtype:n,isNew:c,skipTimer:!0,singleValue:o}),t.setState({filterText:""}),d&&t.dndDogs({dogId:o,action:b})},this.findAllDogsInTeams=()=>{const{dogStore:e}=this.props.stores,{dogs:t=[]}=e,{object:s,currentTeam:o={}}=this.props,a=Object(h.i)(s.teams||[]),i=o.id;return t.filter(e=>!!(e.team===i||e.teams&&e.teams.indexOf(i)>-1)||(a.indexOf(e.team)>-1||!!e.teams&&e.teams.some(e=>a.indexOf(e)>=0))).map(e=>e.id)},this.addAllDogsInTeam=async function(){const{object:e,type:s,elementtype:o,field:a,updateField:i,isNew:n}=t.props,r=t.findAllDogsInTeams();await i({id:e.id,field:a,value:r,type:s,elementtype:o,isNew:n,skipTimer:!0})},this.dndDogs=({dogId:e,action:t})=>{const{dogStore:s}=this.props.stores,{dogs:o=[]}=s,{object:a}=this.props,i=a.dogs?e=>a.dogs.indexOf(e.id)>-1:()=>!1,n=Object(h.i)(o),r=e=>0===e||n.find(t=>t.id===e)&&-1===a.dogsRight.indexOf(e),l=e=>0===e||n.find(t=>t.id===e)&&-1===a.dogsLeft.indexOf(e),c=n.filter(i),d=Math.ceil(c.length/2),u=c.splice(0,d);let p=[];a.dogsLeft&&a.dogsLeft.length>0&&(p=a.dogsLeft.filter(r).map(e=>n.find(t=>t.id===e)||g()));let b=[];if(a.dogsRight&&a.dogsRight.length>0&&(b=a.dogsRight.filter(l).map(e=>n.find(t=>t.id===e)||g())),"add"===t){const t=o.find(t=>t.id===e);t&&(p.length>b.length?b.push(t):p.push(t))}if("remove"===t){const t=p.findIndex(t=>t.id===e);t>-1&&p.splice(t,1);const s=b.findIndex(t=>t.id===e);s>-1&&b.splice(s,1)}0===p.length&&0===b.length&&(p=u,b=c),t?this.setState({dogsLeft:p,dogsRight:b,dogPositionUpdated:!0},()=>this.updateDogPositions()):this.setState({dogsLeft:p,dogsRight:b})},this.addPlaceholderLeft=()=>{const{dogsLeft:e=[]}=this.state;e.push(g()),this.setState({dogsLeft:e,dogPositionUpdated:!0})},this.addPlaceholderRight=()=>{const{dogsRight:e=[]}=this.state;e.push(g()),this.setState({dogsRight:e,dogPositionUpdated:!0})},this.removePlaceholder=({idx:e,list:t})=>{if("dogsLeft"===t){const{dogsLeft:t=[]}=this.state;t.splice(e,1),this.setState({dogsLeft:t,dogPositionUpdated:!0})}if("dogsRight"===t){const{dogsRight:t=[]}=this.state;t.splice(e,1),this.setState({dogsRight:t,dogPositionUpdated:!0})}},this.clearAllDogs=async function(){const{object:e,type:s,elementtype:o,field:a,updateField:i,isNew:n}=t.props;await i({id:e.id,field:a,value:[],type:s,elementtype:o,isNew:n,skipTimer:!0}),t.resetDogPositions()},this.toggleSearchField=()=>{const{showSearchField:e}=this.state;this.setState({showSearchField:e?null:1})},this.getList=e=>this.state[e],this.onDragEnd=e=>{const{source:t,destination:s}=e;if(s)if(t.droppableId===s.droppableId){const e=((e,t,s)=>{const o=Array.from(e),[a]=o.splice(t,1);return o.splice(s,0,a),o})(this.getList(t.droppableId),t.index,s.index);this.setState({[t.droppableId]:e,dogPositionUpdated:!0})}else{const e=((e,t,s,o)=>{const a=Array.from(e),i=Array.from(t),[n]=a.splice(s.index,1);i.splice(o.index,0,n);const r={};return r[s.droppableId]=a,r[o.droppableId]=i,r})(this.getList(t.droppableId),this.getList(s.droppableId),t,s);this.setState({dogsLeft:e.dogsLeft,dogsRight:e.dogsRight,dogPositionUpdated:!0})}},this.updateDogPositions=async function(){const{dogsLeft:e=[],dogsRight:s=[]}=t.state,{object:o,updateField:a,isNew:i}=t.props;await a({id:o.id,field:"dogsLeft",value:e.map(e=>e.id),isNew:i,datatype:"array"}),await a({id:o.id,field:"dogsRight",value:s.map(e=>e.id),isNew:i,datatype:"array"}),t.setState({dogPositionUpdated:!1})},this.resetDogPositions=async function(){const{dogStore:e}=t.props.stores,{dogs:s=[]}=e,{object:o,updateField:a,isNew:i}=t.props,n=Object(h.i)(s).filter(e=>o.dogs.indexOf(e.id)>-1),r=Math.ceil(n.length/2),l=n.splice(0,r);await a({id:o.id,field:"dogsLeft",value:l.map(e=>e.id),isNew:i,datatype:"array"}),await a({id:o.id,field:"dogsRight",value:n.map(e=>e.id),isNew:i,datatype:"array"}),t.setState({dogsLeft:l,dogsRight:n,dogPositionUpdated:!1})},this.clearDogPositions=async function(){const{object:e,updateField:s,isNew:o}=t.props,a=[],i=[];await s({id:e.id,field:"dogsLeft",value:i,isNew:o,datatype:"array"}),await s({id:e.id,field:"dogsRight",value:a,isNew:o,datatype:"array"}),t.setState({dogsLeft:i,dogsRight:a,dogPositionUpdated:!1})},this.changeFilter=e=>{const t=e.target.value;this.setState({filterby:t}),c.a.set("dogs-filter",t),this.loadDog()},this.getFilteredDogs=(e=this.props)=>{const{filterby:t,filterText:s}=this.state,{object:o,filter:a=(()=>!0)}=e,{dogStore:i}=this.props.stores,{dogs:n=[]}=i;let r=a;if(o.dogs)switch(t){case"all":r=s?e=>e.name.match(new RegExp(s,"i"))||o.dogs.indexOf(e.id)>-1:()=>!0;break;case"onlySelected":r=s?e=>e.name.match(new RegExp(s,"i"))||o.dogs.indexOf(e.id)>-1:e=>o.dogs.indexOf(e.id)>-1;break;case"onlyTeam":r=s?e=>e.name.match(new RegExp(s,"i"))||o.dogs.indexOf(e.id)>-1:e=>o.team===e.team||o.dogs.indexOf(e.id)>-1;break;case"leadOnly":r=e=>o.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.lead.distanceKm")>0;break;case"pointOnly":r=e=>o.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.point.distanceKm")>0;break;case"teamOnly":r=e=>o.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.team.distanceKm")>0;break;case"wheelOnly":r=e=>o.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.wheel.distanceKm")>0}let l=n.filter(r);this.setState({filteredDogs:l})},this.state=i({dogsLeft:[],dogsRight:[]},j)}async loadDog(e=this.props){const{showPositions:t}=this.props,{dogStore:s}=e.stores;await s.load({query:{deceased:0},addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),t&&this.dndDogs({}),this.getFilteredDogs()}componentWillReceiveProps(e){e.filter!==this.props.filter&&this.getFilteredDogs(e)}componentDidMount(){this.loadDog()}render(){const{filterby:t,filterText:s,showSearchField:o,dogsLeft:a=[],dogsRight:i=[],dogPositionUpdated:n,filteredDogs:r=[]}=this.state,{userStore:d,dogStore:m}=this.props.stores,{dogs:g=[]}=m,{user:j}=d,{language:y="en"}=j,{saved:v={},object:w,field:x,title:k,icon:S,help:D,showPositions:_=!1,currentTeam:T={}}=this.props,I=Object(h.i)(w[x])||[],C=this.findAllDogsInTeams(),P=w.teams?w.teams.map(e=>d.findTeam(e)):[];return Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(v[`${x}.${w.id}`]?"is-valid":"")},Object(l.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(l.h)("i",{class:"fas fa-search"})),Object(l.h)("button",{class:"btn btn-sm btn-link float-right mr-5",onClick:this.clearAllDogs},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.remove-all-dogs"},"Fjern alle hundene")),Object(l.h)("label",{for:x+"Input"},S&&Object(l.h)("i",{class:S+" text-muted"})," ",k),Object(l.h)("div",{class:"container-fluid px-0"},o&&Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)(p.b,null,Object(l.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:Object(l.h)(p.c,{id:"dog.dogs.search-for-dogs"},"Søk etter hund"),value:s,onInput:Object(u.a)(this,"filterText")})))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto my-2 mx-auto"},Object(l.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding-top: 0; padding-bottom: 0; height: 1.4em; font-size: 0.8em;",onInput:this.changeFilter},Object(l.h)("option",{value:"",selected:!t},"-- ",Object(l.h)(p.c,{id:"dog.dogs.choose-filter"},"Choose filter")," ---"),Object(l.h)("option",{value:"all",selected:"all"===t},Object(l.h)(p.c,{id:"dog.dogs.show-all"},"Vis alle")),Object(l.h)("option",{value:"onlySelected",selected:"onlySelected"===t},Object(l.h)(p.c,{id:"dog.dogs.show-only-selected"},"Vis kun valgte")),Object(l.h)("option",{value:"onlyTeam",selected:"onlyTeam"===t},Object(l.h)(p.c,{id:"dog.dogs.show-only-team-dogs"},"Vis kun hundene i teamet")),Object(l.h)("option",{value:"leadOnly",selected:"leadOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-lead-dogs-only"},"Vis kun lederhunder")),Object(l.h)("option",{value:"pointOnly",selected:"pointOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-point-dogs-only"},"Vis kun pointhunder")),Object(l.h)("option",{value:"teamOnly",selected:"teamOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-team-dogs-only"},"Vis kun teamhunder")),Object(l.h)("option",{value:"wheelOnly",selected:"wheelOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-wheel-dogs-only"},"Vis kun wheelhunder"))))))),Object(l.h)("div",{class:"row"},C.length>0&&Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-primary btn-block",onClick:this.addAllDogsInTeam},Object(l.h)("i",{class:"fas fa-plus mr-2"})," ",Object(l.h)(p.c,{id:"dog.dogs.add-all-in-team",fields:{total:C.length}},"Add all dogs in team"),T.name?": "+T.name:"",P&&P.length>0&&Object(l.h)("span",{class:"font-weight-lighter"},", ",P.map((t,s)=>Object(l.h)(e,null,s>0?", ":"",t))))),c.a.isArray(g)&&r.map(e=>{const s=d.findDogstatus({status:e.status,language:y}),o=d.findDogposition({position:e.position,language:y}),a=m.findHistoryStatuses(e.id);return Object(l.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-1"},Object(l.h)("div",{class:`border rounded px-3 pt-2 pb-1 ${I.indexOf(e.id)>-1?"bg-success":""} position-relative`,onClick:this.toggleDog,id:"dogContainer","data-id":e.id,style:"padding: .3rem !important; line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},o&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:`badge badge-${o.class||"primary"} mr-3`},o.icon&&Object(l.h)("i",{class:o.icon})," ",o.name)),"leadOnly"===t&&c.a.getNestedValue(e,"positions.lead.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-lead"},"Lead"),": ",c.a.format(c.a.getNestedValue(e,"positions.lead.distanceKm"),0),"km")),"pointOnly"===t&&c.a.getNestedValue(e,"positions.point.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-point"},"Point"),": ",c.a.format(c.a.getNestedValue(e,"positions.point.distanceKm"),0),"km")),"teamOnly"===t&&c.a.getNestedValue(e,"positions.team.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-team"},"Team"),": ",c.a.format(c.a.getNestedValue(e,"positions.team.distanceKm"),0),"km")),"wheelOnly"===t&&c.a.getNestedValue(e,"positions.wheel.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-wheel"},"Wheel"),": ",c.a.format(c.a.getNestedValue(e,"positions.wheel.distanceKm"),0),"km")),Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2",style:""+(e.image?`background-image: url("${e.image.s3ThumbLink}");`:"")},!e.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},c.a.ucfirst(e.name,!0))),Object(l.h)("div",{class:"flex-grow-1 pl-2 pr-1",style:`border-right: 4px solid ${d.findHarness(e.harness,"colorNonstop")} !important; line-height: 0.9em;`},Object(l.h)("small",null,Object(l.h)("small",{class:"float-right"},e.birth&&Object(l.h)("span",{class:"mr-1"},c.a.age(e.birth,e.deceased)),"female"===e.gender?Object(l.h)("i",{class:"fas fa-venus"}):Object(l.h)("i",{class:"fas fa-mars"})),e.shortname||e.name,Object(l.h)("br",null),Object(l.h)("div",{style:"line-height: 0.8em;"},Object(l.h)("small",null,d.findTeam(e.team)))),Object(l.h)("small",{class:"float-right"},s&&s.id&&Object(l.h)("span",{class:`badge badge-${s.class} mr-2 font-weight-light`},s.icon&&Object(l.h)("i",{class:s.icon})," ",s.name),e.specialNeeds&&Object(l.h)("span",{class:"badge badge-warning mr-2 font-weight-light"},Object(l.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),a&&a.map(e=>Object(l.h)("span",{class:"badge badge-warning mr-2",title:c.a.isoDate(e.endDate,!1,!1,!0)},e.title)))))))}))),v[`${x}.${w.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(p.c,{id:"dog.dogs.saved-changes"},"Endringene er lagret")):Object(l.h)("small",{id:x+"Help",class:"form-text text-muted"},D),_&&Object(l.h)(e,null,Object(l.h)("div",{class:"container-fluid px-0 clearfix"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,Object(l.h)(p.c,{id:"dog.dogs.dogs-positions"},"Posisjoner i spannet")))),Object(l.h)(b.a,{onDragEnd:this.onDragEnd},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6 pr-0",style:"min-height: 100px;"},Object(l.h)(b.c,{droppableId:"dogsLeft"},(e,t)=>Object(l.h)(f,{provided:e,snapshot:t,innerRef:e.innerRef,className:"ml-auto"},a&&a.map((e,s)=>Object(l.h)(b.b,{key:`${e.id}-${e.unique}`,draggableId:`dragId-${e.id}-${e.unique}`,index:s},o=>Object(l.h)(O,{provided:o,snapshot:t,innerRef:o.innerRef,dog:e,removePlaceholder:this.removePlaceholder,idx:s,list:"dogsLeft"}))),e.placeholder))),Object(l.h)("div",{class:"col-6 pl-0",style:"min-height: 100px;"},Object(l.h)(b.c,{droppableId:"dogsRight"},(e,t)=>Object(l.h)(f,{provided:e,snapshot:t,innerRef:e.innerRef,className:"mr-auto"},i&&i.map((e,s)=>Object(l.h)(b.b,{key:`${e.id}-${e.unique}`,draggableId:`dragId-${e.id}-${e.unique}`,index:s},o=>Object(l.h)(O,{provided:o,snapshot:t,innerRef:o.innerRef,dog:e,removePlaceholder:this.removePlaceholder,idx:s,list:"dogsRight"}))),e.placeholder))))),Object(l.h)("div",{class:"row mb-3 mt-2"},Object(l.h)("div",{class:"col-6 pr-0"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderLeft},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))),Object(l.h)("div",{class:"col-6 pl-0"},Object(l.h)("button",{class:"float-right btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderRight},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))))),Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"btn btn-sm btn-"+(n?"primary":"secondary"),onClick:this.updateDogPositions},Object(l.h)("i",{class:"fas fa-save"})," ",Object(l.h)(p.c,{id:"dog.dogs.saveDogPositions"},"Save dog positions"))),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-warning",onClick:this.resetDogPositions},Object(l.h)("i",{class:"fas fa-sync"})," ",Object(l.h)(p.c,{id:"dog.dogs.resetDogPositions"},"Reset dog positions")))),Object(l.h)("div",{class:"row mt-2"},Object(l.h)("div",{class:"col-6"}," "),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-link",onClick:this.clearDogPositions},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.clearDogPositions"},"Clear dog positions")))))))}})||r;t.a=y}).call(this,s("hosL").Fragment)},"3pQw":function(e,t,s){"use strict";var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV");Object(n.a)(o=class extends a.Component{render(){const{summary:e={}}=this.props;return Object(a.h)("div",{class:"w-100 mb-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded"},Object(a.h)("div",{class:"text-muted mt-2",style:"font-size: 40px; line-height: 1;"},e.week),Object(a.h)("div",{class:"text-muted",style:"font-size: 10px; line-height: 0.8em;"},e.year)),Object(a.h)("div",{class:"flex-grow-1 pl-3"},Object(a.h)("h5",{class:"my-0"},e.week," - ",e.year),Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-wave-square"})," ",e.count,Object(a.h)("i",{class:"fas fa-road ml-2"})," ",i.a.format(e.distanceKm,0),"km",Object(a.h)("i",{class:"fas fa-mountain ml-2"})," ",i.a.format(e.elevation,0),"m",Object(a.h)("i",{class:"fas fa-stopwatch ml-2"})," ",i.a.secToHms(e.duration),Object(a.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",i.a.format(e.speedAvg,1),"km/t")))))}})},"3wGD":function(e,t,s){"use strict";var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=(s("ETxl"),s("ZOvn"));let d=Object(n.a)(o=class extends a.Component{constructor(e){var t;super(e),t=this,this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),commentId:o,inputRefObject:a={}}=t.props,{workout:i}=t.props,{workoutStore:n}=t.props.stores,{comment:r=""}=t.state;t.setState({sendButtonEnabled:!1});const l=await n.commentReplyWorkout({id:i.id,commentId:o,comment:r});l&&200===l.status&&(t.setState({comment:""},()=>{c.a.resizeTextarea(a[o])}),s({workout:i,response:l,commentId:o})),t.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:e}=this.props,{comment:t,sendButtonEnabled:s}=this.state,{userStore:o}=this.props.stores,{user:n={}}=o,d=n.firstname?`${i.a.ucfirst(n.firstname,!0)}${i.a.ucfirst(n.lastname,!0)}`:""+i.a.ucfirst(n.email||"",!0),h=n.image||(n.images?n.images[0]:void 0);return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?`background-image: url('${h.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!h&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(a.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(r.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(a.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentWorkout},Object(a.h)("i",{class:"fas fa-paper-plane"})))))))}})||o;t.a=d},"7L9N":function(e,t,s){"use strict";function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}s.d(t,"a",(function(){return a}))},"8Lgr":function(e,t,s){"use strict";(function(e){function o(e){return n.a.format(e,e<5?2:1)}var a,i=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(r.a)(a=class extends i.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:r={}}=n;return r.imperial?Object(i.h)(e,null,Object(i.h)("nobr",null,o(function(e){return.621371*e}(t))," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(i.h)(e,null,"mi"))):Object(i.h)(e,null,Object(i.h)("nobr",null,o(t)," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-0 text-muted"},"km")))):Object(i.h)(e,null,"km")))}})||a;t.a=l}).call(this,s("hosL").Fragment)},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},ETxl:function(e){e.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GeWT:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,n=Object.getOwnPropertyDescriptor,r=Object.getPrototypeOf,l=r&&r(Object);e.exports=function e(c,d,h){if("string"!=typeof d){if(l){var u=r(d);u&&u!==l&&e(c,u,h)}var p=a(d);i&&(p=p.concat(i(d)));for(var b=0;b<p.length;++b){var m=p[b];if(!(t[m]||s[m]||h&&h[m])){var g=n(d,m);try{o(c,m,g)}catch(e){}}}return c}return c}},"JWe/":function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=s("cneo"),p=s("OhSV"),b=s("fh8t"),m=s.n(b),g=(s("UJvz"),s("sqi2")),f=s("/922"),O=s("s4FZ"),j=s("ZQlJ"),y=s("q/oJ"),v=s("gWxU"),w=s("Nanz"),x=s("+JSK"),k=s("vY+r"),S=s("nHdA"),D=s("irB3"),_=s("UwwE"),T=s("8Lgr"),I=s("QkTp"),C=s("ZOvn");const P=C.a.getMaxLoadIndex(),L={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let R=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.likeWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=t.props,o=s.id,{likeWorkout:a}=t.state;a[o]=!0,t.setState({likeWorkout:a}),setTimeout(()=>{const{likeWorkout:e}=t.state;delete e[o],t.setState({likeWorkout:e})},1200);await e.likeWorkout({id:o})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:o}=this.state;o[t]=s,this.setState({viewImageIdx:o})},this.shareLink=e=>{const{url:t,title:s,text:o}=e.target.closest("button").dataset,{appState:a}=this.props.stores;a.shareUrl({url:t,title:s,text:o})},this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.onDogClick=(e,t,s)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=a({},L),this.updateTimer={},this.inputRef={}}render(){const{showDate:t,showAddComment:s,viewImageIdx:o={},likeWorkout:i,dogs:l,showTeam:h,showDog:b}=this.state,{workout:L,showDate:R,wrapperClasses:E="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:U="row"}=this.props,{userStore:$,appState:F,workoutStore:N}=this.props.stores,{viewmode:A,hasShareApi:H}=F,{user:V,dogs:M}=$,{language:z="en"}=V,B=$.findIntensity({code:L.intensity,language:z})||{},W=$.findTeam(L.team,!0)||{},Y=W.name,K=[];Y&&K.push(Y),L.teams&&L.teams.forEach(e=>{$.findTeam(e)&&K.push($.findTeam(e))});const{likes:X=[],comments:q=[]}=L,Z=L.likes&&L.likes.findIndex(e=>e.user===V.id)>-1,{gpxInfo:J={},mushers:G=[]}=L,{loadIndex:Q=0}=J,ee=$.findEquipment({equipment:L.equipment,language:z}),te=$.findEquipment({equipment:L.equipment,field:"icon"}),se=[];G.length>1&&G.slice(1,10).map(e=>{const t=N.findPublicUser(e)||{};t.images&&t.images[0]&&se.push(t.images[0])});const oe=N.findPublicUser(G[0])||{};let ae;oe&&oe.images&&oe.images[0]?ae=oe.images[0]:W.image&&W.image.s3SmallLink?ae=W.image:W.images&&W.images[0]&&W.images[0].s3SmallLink?ae=W.images[0]:L.image&&L.image.s3SmallLink&&(ae=L.image);const ie=[];if(L.mapImage&&ie.push(a(a({},L.mapImage),{},{type:"map"})),L.images){const e=Object(u.i)(L.images);ie.push(...e)}let ne;L&&L.gpxInfo&&L.gpxInfo.battegryLevelStart&&(ne=100*(L.gpxInfo.battegryLevelStart-L.gpxInfo.battegryLevelEnd));const re=C.a.getViews(L.statistics);return Object(c.h)(e,null,h&&Object(c.h)(y.a,null,Object(c.h)(v.default,{stores:this.props.stores,teamid:h,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),b&&Object(c.h)(y.a,null,Object(c.h)(w.default,{stores:this.props.stores,dogid:b,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:l})),Object(c.h)("div",{class:"w-100 mb-2"},Object(c.h)("div",{class:U},Object(c.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center"},Object(c.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+n(L),style:(ae?`background-image: url("${ae.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!ae&&Object(c.h)("i",{class:`${r(L)} text-${B.class?B.class:"muted"} mt-3`,style:"font-size: 40px;"}),se&&se.map((t,s)=>Object(c.h)(e,null,Object(c.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${t.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==L.temperature&&Object(c.h)(e,null,Object(c.h)("span",{class:"text-muted font-weight-light"},Object(c.h)(I.a,{stores:this.props.stores,value:L.temperature})))),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("span",{class:"float-right"},1===L.isLocked&&Object(c.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===L.isInProgress&&Object(c.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===L.isInProgress&&Object(c.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(c.h)("a",{class:"stretched-link",href:"/workouts/"+L.id},Object(c.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},L.name)),K&&K.length>0&&Object(c.h)("small",{class:"font-weight-lighter"},K.map((t,s)=>Object(c.h)(e,null,s>0?", ":"",t))),Object(c.h)("br",null),Object(c.h)("small",{class:"text-muted"},L.date&&Object(c.h)("small",{onClick:this.toggleDate},R||t?d.a.formatDate(L.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):d.a.formatDistance(L.date,new Date,{locale:"no-NB"})),Object(c.h)("span",{class:`badge badge-${B.class} ml-2`},B.name),Q>0&&Object(c.h)("span",{class:"ml-2 text-"+C.a.getLoadIndexColor(d.a.normalizeBetween(Q,0,P,0,100))},Object(c.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(d.a.normalizeBetween(Q,0,P,0,100))," - ",C.a.getLoadIndexText(d.a.normalizeBetween(Q,0,P,0,100))),Object(c.h)("br",null)),Object(c.h)("small",null,Object(c.h)("div",{class:"text-muted"},L.garminId>0&&Object(c.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),L.stravaId>0&&Object(c.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),L.equipment>0&&Object(c.h)(e,null,Object(c.h)("i",{class:te+" ml-2"})," ",ee),L.dogs>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-dog ml-2"})," ",L.dogs.length),L.track>0&&Object(c.h)(e,null,Object(c.h)("i",{class:`fas fa-map-marked text-${L.track>0?"success":"danger"} ml-2`})),L.dogsLeft>0&&Object(c.h)(e,null,Object(c.h)("i",{class:`fas fa-crosshairs text-${L.dogsLeft&&L.dogsRight?"success":"danger"} ml-2`})),L.sledWeight>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.sledWeight})),ne>0&&Object(c.h)("span",{class:"text-muted ml-2"},Object(c.h)("i",{class:"fas fa-battery-three-quarters"})," ",d.a.format(ne,1),"% ",Object(c.h)(p.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(A)>-1&&Object(c.h)("span",{class:"text-muted"},Object(c.h)("i",{class:"fas fa-balance-scale"})," ",d.a.format(L.kcalBurnedTotal)," ",Object(c.h)(p.c,{id:"workout.kcal"},"kcal"),Object(c.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.kcalMeatGramsTotal/1e3}),Object(c.h)("i",{class:"fas fa-fish ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.kcalSalmonGramsTotal/1e3}),Object(c.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.kcalFatGramsTotal/1e3}))))),Object(c.h)("div",{class:E+" position-relative mt-2"},Object(c.h)("strong",null,L.description)),Object(c.h)("div",{class:E+" position-relative"},Object(c.h)(m.a,{markdown:C.a.replaceImages(L.comment,L.images,z),markdownOpts:C.a.getMarkdownOptions()})),Object(c.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(c.h)("div",{class:"container-fluid px-0"},Object(c.h)("div",{class:"row mt-1"},L.distanceKm>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(p.c,{id:"workout.calendar.distance"},"Distanse"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(c.h)(T.a,{stores:this.props.stores,value:L.distanceKm}))),L.elevation>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(p.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(c.h)(D.a,{stores:this.props.stores,value:L.elevation}))),L.duration>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-clock"})," ",Object(c.h)(p.c,{id:"workout.calendar.duration"},"Varighet"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},d.a.secToHms(L.duration,!0))),L.speedAvg>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(p.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},L.gpxInfo&&L.gpxInfo.avgGpsMovingSpeed>0?Object(c.h)(e,null,Object(c.h)(S.a,{stores:this.props.stores,value:3.6*L.gpxInfo.avgGpsMovingSpeed})):Object(c.h)(e,null,Object(c.h)(S.a,{stores:this.props.stores,value:L.speedAvg}))))))),["beta","advanced","normal"].indexOf(A)>-1&&Object(c.h)("div",{class:""+E},Object(c.h)("div",{class:"container-fluid px-0 mt-1"},Object(c.h)("div",{class:"row"},Object(c.h)(O.a,{stores:this.props.stores,images:ie,id:L.id,dblClick:this.likeWorkout,likeRef:i})))),["beta","advanced","normal"].indexOf(A)>-1&&Object(c.h)(e,null,L.dogs&&L.dogs.length>0&&Object(c.h)("div",{class:"container-fluid px-0 mt-1"},Object(c.h)("div",{class:"row pt-2"},Object(c.h)(j.a,{stores:this.props.stores,dogs:L.dogs,allDogs:M,onDogClick:this.onDogClick}))),Object(c.h)("div",{class:"mt-2"},Object(c.h)(x.a,{stores:this.props.stores,likes:X,comments:q,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(A)>-1&&Object(c.h)(e,null,Object(c.h)("div",{class:E+" mb-0 position-relative mt-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:`btn btn-sm btn-outline-${Z?"primary":"secondary"} btn-lg btn-block ${Z?"text-primary":""}`,onClick:this.likeWorkout},Object(c.h)("i",{class:(Z?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(c.h)(p.c,{id:"comments.like"},"Lik"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":L.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," ",Object(c.h)(p.c,{id:"comments.comment-add"},"Kommentar"))),H?Object(c.h)(e,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+L.uuidv4,"data-title":"title: "+L.name},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(p.c,{id:"workout.share"},"Del")))):Object(c.h)(e,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+L.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(p.c,{id:"workout.share"},"Del")))))),Object(c.h)("div",{class:E+" mt-2 mb-3"},s&&Object(c.h)(f.a,{stores:this.props.stores,workout:L,inputRef:e=>this.inputRef[L.id]=e,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(c.h)(g.a,{stores:this.props.stores,workout:L,col:"10",offset:"2",compact:!0})),re>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"mt-2"},Object(c.h)(k.a,{stores:this.props.stores,views:re,object:L,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||l;t.a=R}).call(this,s("hosL").Fragment)},NS33:function(e,t,s){"use strict";function o(){}function a(){}var i=s("E02R");a.resetWarningCache=o,e.exports=function(){function e(e,t,s,o,a,n){if(n!==i){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return s.PropTypes=s,s}},QkTp:function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(o=class extends a.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:o}=s,{settings:n={}}=o;return n.imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(function(e){return 9*e/5+32}(t),0),"°F")):Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(t,1),"°C"))}})||o;t.a=r}).call(this,s("hosL").Fragment)},UJvz:function(e,t,s){"use strict";var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV");let l=Object(n.a)(o=class extends a.Component{constructor(...e){super(...e),this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{e.stopPropagation(),this.setState({startY:e.touches[0].pageY})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=e=>{e.stopPropagation();const{close:t}=this.props,{startY:s,refreshing:o}=this.state,a=e.touches[0].pageY;if(this.appContainer){const{scrollTop:e}=this.appContainer;0===e&&a>s+30&&!o&&t()}}}render(){const{showDate:e}=this.state,{image:t,imagexxl:s,close:o,thumb:n,name:l,title:c,date:d}=this.props;return Object(a.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(a.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:o},"X"),Object(a.h)("div",{class:"d-flex mb-2 px-2"},n&&Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:n?`background-image: url("${n}");`:""}," "),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},l&&Object(a.h)("strong",{class:"mr-2"},l,":"),c,Object(a.h)("br",null),Object(a.h)("small",{class:"text-muted"},d&&Object(a.h)("small",{onClick:this.toggleDate},e?i.a.formatDate(d,{locale:"no-NB"}):i.a.formatDistance(d,new Date,{locale:"no-NB"}))))),Object(a.h)("img",{src:t,class:"img-fluid align-middle mt-2 mb-2",onClick:o,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:e=>this.appContainer=e}),Object(a.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||t,download:s||t},Object(a.h)("i",{class:"fas fa-download"})," ",Object(a.h)(r.c,{id:"modal.download"},"Last ned bildet")))}})||o;t.a=l},UwwE:function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(o=class extends a.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:o}=s,{settings:n={}}=o;return n.imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(function(e){return 2.20462*e}(t),0)," lb")):Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(t,0)," kg"))}})||o;t.a=r}).call(this,s("hosL").Fragment)},W0B4:function(e,t,s){e.exports=s("NS33")()},ZQlJ:function(e,t,s){"use strict";var o,a=s("hosL"),i=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("NDEG"));let r=Object(i.a)(o=class extends a.Component{constructor(e){super(e),this.scrollImages=e=>{const{scrollLeft:t,clientWidth:s}=e.target,o=t/s,a=Math.round(o),i=Math.abs(a-o);(Number.isInteger(o)||i<.1)&&this.setState({imageIdx:a})},this.sortByName=(e,t)=>{const{allDogs:s=[]}=this.props,o=s.find(t=>t.id===e),a=s.find(e=>e.id===t);return o&&a&&o.name>a.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:e,allDogs:t=[],size:s="medium",onDogClick:o=(()=>{})}=this.props;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},e&&e.sort(this.sortByName).map(i=>{const r=t.find(e=>e.id===i);return r?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},Object(a.h)(n.a,{stores:this.props.stores,dog:r,dogs:t.filter(t=>e.indexOf(t.id)>-1).sort((e,t)=>e.name>t.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:o}))):""})))}})||o;t.a=r},irB3:function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(o=class extends a.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:n}=o,{settings:r={}}=n;return r.imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(function(e){return 3.28084*e}(t),0)," ",s?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(a.h)(e,null,"ft"))):Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(t,0)," ",s?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"m")))):Object(a.h)(e,null,"m")))}})||o;t.a=r}).call(this,s("hosL").Fragment)},l8WD:function(e,t,s){"use strict";function o(e,t){for(var s in t)e[s]=t[s];return e}function a(e,t){for(var s in e)if("__source"!==s&&!(s in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function i(e){this.props=e}function n(e,t){function s(e){var s=this.props.ref,o=s==e.ref;return!o&&s&&(s.call?s(null):s.current=null),t?!t(this.props,e)||!o:a(this.props,e)}function o(t){return this.shouldComponentUpdate=s,Object(T.createElement)(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o}function r(e){function t(t,s){var a=o({},t);return delete a.ref,e(a,(s=t.ref||s)&&("object"!=typeof s||"current"in s)?s:null)}return t.$$typeof=C,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function l(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=o({},e)).__c=null,e.__k=e.__k&&e.__k.map(l)),e}function c(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(c)),e}function d(){this.__u=0,this.t=null,this.__b=null}function h(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function u(e){function t(t){if(s||(s=e()).then((function(e){o=e.default||e}),(function(e){a=e})),a)throw a;if(!o)throw s;return Object(T.createElement)(o,t)}var s,o,a;return t.displayName="Lazy",t.__f=!0,t}function p(){this.u=null,this.o=null}function b(e){return this.getChildContext=function(){return e.context},e.children}function m(e){var t=this,s=e.i;t.componentWillUnmount=function(){Object(T.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==s&&t.componentWillUnmount(),e.__v?(t.l||(t.i=s,t.l={nodeType:1,parentNode:s,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(T.render)(Object(T.createElement)(b,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function g(e,t){return Object(T.createElement)(m,{__v:e,i:t})}function f(e,t,s){return null==t.__k&&(t.textContent=""),Object(T.render)(e,t),"function"==typeof s&&s(),e?e.__c:null}function O(e,t,s){return Object(T.hydrate)(e,t),"function"==typeof s&&s(),e?e.__c:null}function j(){}function y(){return this.cancelBubble}function v(){return this.defaultPrevented}function w(e){return T.createElement.bind(null,e)}function x(e){return!!e&&e.$$typeof===U}function k(e){return x(e)?T.cloneElement.apply(null,arguments):e}function S(e){return!!e.__k&&(Object(T.render)(null,e),!0)}function D(e){return e&&(e.base||1===e.nodeType&&e)||null}s.r(t),s.d(t,"version",(function(){return B})),s.d(t,"Children",(function(){return L})),s.d(t,"render",(function(){return f})),s.d(t,"hydrate",(function(){return O})),s.d(t,"unmountComponentAtNode",(function(){return S})),s.d(t,"createPortal",(function(){return g})),s.d(t,"createFactory",(function(){return w})),s.d(t,"cloneElement",(function(){return k})),s.d(t,"isValidElement",(function(){return x})),s.d(t,"findDOMNode",(function(){return D})),s.d(t,"PureComponent",(function(){return i})),s.d(t,"memo",(function(){return n})),s.d(t,"forwardRef",(function(){return r})),s.d(t,"unstable_batchedUpdates",(function(){return W})),s.d(t,"StrictMode",(function(){return Y})),s.d(t,"Suspense",(function(){return d})),s.d(t,"SuspenseList",(function(){return p})),s.d(t,"lazy",(function(){return u})),s.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return z}));var _=s("QRet");s.d(t,"useState",(function(){return _.k})),s.d(t,"useReducer",(function(){return _.i})),s.d(t,"useEffect",(function(){return _.d})),s.d(t,"useLayoutEffect",(function(){return _.g})),s.d(t,"useRef",(function(){return _.j})),s.d(t,"useImperativeHandle",(function(){return _.f})),s.d(t,"useMemo",(function(){return _.h})),s.d(t,"useCallback",(function(){return _.a})),s.d(t,"useContext",(function(){return _.b})),s.d(t,"useDebugValue",(function(){return _.c})),s.d(t,"useErrorBoundary",(function(){return _.e}));var T=s("hosL");s.d(t,"createElement",(function(){return T.createElement})),s.d(t,"createContext",(function(){return T.createContext})),s.d(t,"createRef",(function(){return T.createRef})),s.d(t,"Fragment",(function(){return T.Fragment})),s.d(t,"Component",(function(){return T.Component})),(i.prototype=new T.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var I=T.options.__b;T.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),I&&I(e)};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,P=function(e,t){return null==e?null:Object(T.toChildArray)(Object(T.toChildArray)(e).map(t))},L={map:P,forEach:P,count:function(e){return e?Object(T.toChildArray)(e).length:0},only:function(e){var t=Object(T.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:T.toChildArray},R=T.options.__e;T.options.__e=function(e,t,s){if(e.then)for(var o,a=t;a=a.__;)if((o=a.__c)&&o.__c)return null==t.__e&&(t.__e=s.__e,t.__k=s.__k),o.__c(e,t);R(e,t,s)},(d.prototype=new T.Component).__c=function(e,t){var s=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(s);var a=h(o.__v),i=!1,n=function(){i||(i=!0,s.componentWillUnmount=s.__c,a?a(r):r())};s.__c=s.componentWillUnmount,s.componentWillUnmount=function(){n(),s.__c&&s.__c()};var r=function(){var e;if(!--o.__u)for(o.state.__e&&(o.__v.__k[0]=c(o.state.__e)),o.setState({__e:o.__b=null});e=o.t.pop();)e.forceUpdate()},l=!0===t.__h;o.__u++||l||o.setState({__e:o.__b=o.__v.__k[0]}),e.then(n,n)},d.prototype.componentWillUnmount=function(){this.t=[]},d.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=l(this.__b)),this.__b=null);var s=t.__e&&Object(T.createElement)(T.Fragment,null,e.fallback);return s&&(s.__h=null),[Object(T.createElement)(T.Fragment,null,t.__e?null:e.children),s]};var E=function(e,t,s){if(++s[1]===s[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(s=e.u;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.u=s=s[2]}};(p.prototype=new T.Component).__e=function(e){var t=this,s=h(t.__v),o=t.o.get(e);return o[0]++,function(a){var i=function(){t.props.revealOrder?(o.push(a),E(t,e,o)):a()};s?s(i):i()}},p.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(T.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var s=t.length;s--;)this.o.set(t[s],this.u=[1,0,this.u]);return e.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,s){E(e,s,t)}))};var U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,F=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};T.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(T.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var N=T.options.event;T.options.event=function(e){return N&&(e=N(e)),e.persist=j,e.isPropagationStopped=y,e.isDefaultPrevented=v,e.nativeEvent=e};var A,H={configurable:!0,get:function(){return this.class}},V=T.options.vnode;T.options.vnode=function(e){var t=e.type,s=e.props,o=s;if("string"==typeof t){for(var a in o={},s){var i=s[a];"defaultValue"===a&&"value"in s&&null==s.value?a="value":"download"===a&&!0===i?i="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!F(s.type)?a="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():$.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),o[a]=i}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=Object(T.toChildArray)(s.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==t&&null!=o.defaultValue&&(o.value=Object(T.toChildArray)(s.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),e.props=o}t&&s.class!=s.className&&(H.enumerable="className"in s,null!=s.className&&(o.class=s.className),Object.defineProperty(o,"className",H)),e.$$typeof=U,V&&V(e)};var M=T.options.__r;T.options.__r=function(e){M&&M(e),A=e.__c};var z={ReactCurrentDispatcher:{current:{readContext:function(e){return A.__n[e.__c].props.value}}}},B="16.8.0",W=function(e,t){return e(t)},Y=T.Fragment;t.default={useState:_.k,useReducer:_.i,useEffect:_.d,useLayoutEffect:_.g,useRef:_.j,useImperativeHandle:_.f,useMemo:_.h,useCallback:_.a,useContext:_.b,useDebugValue:_.c,version:"16.8.0",Children:L,render:f,hydrate:O,unmountComponentAtNode:S,createPortal:g,createElement:T.createElement,createContext:T.createContext,createFactory:w,cloneElement:k,createRef:T.createRef,Fragment:T.Fragment,isValidElement:x,findDOMNode:D,Component:T.Component,PureComponent:i,memo:n,forwardRef:r,unstable_batchedUpdates:W,StrictMode:T.Fragment,Suspense:d,SuspenseList:p,lazy:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:z}},mPUg:function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn");const c=[0,6];let d=Object(n.a)(o=class extends a.Component{constructor(...e){super(...e),this.setHistoryType=e=>{const{callback:t=(()=>{})}=this.props,{historyType:s}=this.state;let o=e.target.dataset.historytype||e.target.parentElement.dataset.historytype;o===s?(this.setState({historyType:null}),t(null)):(this.setState({historyType:o}),t(o))},this.chooseDay=e=>{const{year:t,month:s,day:o}=this.state,{setDay:a=(()=>{})}=this.props,i=parseInt(e.target.parentElement.dataset.day||e.target.dataset.day,10),n=parseInt(e.target.parentElement.dataset.month||e.target.dataset.month,10),r=parseInt(e.target.parentElement.dataset.year||e.target.dataset.year,10);r===t&&n===s&&i===o?(this.setState({year:null,month:null,day:null}),a(null,null,null)):(this.setState({year:r,month:n,day:i}),a(r,n,i))}}async loadHistorySummary(e=this.props){this.setState({isLoading:!0});const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:o}=s,a=(new Date).getMonth()+1,{month:n=a,year:r=i.a.getYear(),team:l=o,dog:c={},callback:d=(()=>{})}=e;await t.getFeed({month:n,year:r,team:l,dog:c.id});const{historyType:h}=this.state;d(h),this.setState({isLoading:!1})}componentDidMount(){this.loadHistorySummary()}componentWillReceiveProps(e){e.month===this.props.month&&e.year===this.props.year&&e.dog===this.props.dog&&e.team===this.props.team||this.loadHistorySummary(e)}render(){const{historyType:t,day:s,month:o,year:n}=this.state,d=t?e=>e.historyType===t:()=>!0,{appState:h,userStore:u}=this.props.stores,{user:p}=u,{language:b="en"}=p,m=l.a.getHistoryMap(b),g=l.a.getDays(b),f=l.a.getMonths(b),O=(new Date).getDate(),j=(new Date).getMonth()+1,y=(new Date).getFullYear(),{month:v=j,year:w=i.a.getYear(),dog:x,basehref:k}=this.props,S=parseInt(v,10),D=parseInt(w,10),{month:_,year:T}=l.a.getNextMonth(S,D),{month:I,year:C}=l.a.getPrevMonth(S,D),P=i.a.getDaysInMonth(v,w),L=i.a.getWeeksInMonth(v,w),R=i.a.getDaysInWeek(L[0].week,w);return Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(a.h)("a",{href:`${k||"/workouts/month/"}${_}/${T}/skipScroll`,class:"float-right btn btn-sm btn-link"},Object(a.h)("i",{class:"fas fa-arrow-right"})),Object(a.h)("a",{href:`${k||"/workouts/month/"}${I}/${C}/skipScroll`,class:"float-left btn btn-sm btn-link"},Object(a.h)("i",{class:"fas fa-arrow-left"})),Object(a.h)("h5",null,Object(a.h)(r.c,{id:"dog.calendar.month"},"Måned")," - ",f[v-1]," ",w),x&&Object(a.h)("div",null,x.name),Object(a.h)("small",null,i.a.isoDate(P[0],!1,!1,!0)," - ",i.a.isoDate(P[P.length-1],!1,!1,!0))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(a.h)("table",{class:"table table-striped table-sm"},Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",{class:"text-muted"},Object(a.h)("small",null,Object(a.h)(r.c,{id:"dog.calendar.week"},"Uke"))),R.map(e=>Object(a.h)("th",null,Object(a.h)("small",null,g[e.getDay()]))))),Object(a.h)("tbody",null,L&&L.map(t=>{const r=i.a.getDaysInWeek(t.week,w,v);return Object(a.h)("tr",null,Object(a.h)("td",{class:"text-right text-muted pt-3"},Object(a.h)("small",null,t.week)),r.map(t=>{const i=t.getFullYear(),r=t.getMonth()+1,h=t.getDate(),p=u.findHistory(i,r,h),b=u.findEndHistory(i,r,h),m=n==i&&o==r&&s==h,g=y==i&&j==r&&O==h,f=c.indexOf(t.getDay())>-1;return Object(a.h)("td",{class:`text-center font-weight-light position-relative pt-3 ${m?"calendarIsChosen":""} ${g?"calendarIsToday":""} ${f?"calendarIsWeekend":""}`,style:"font-size: 0.8em;",onClick:this.chooseDay,"data-day":h,"data-month":r,"data-year":i},Object(a.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),p&&p.length>0?Object(a.h)(e,null,p.filter(d).map((e,t)=>{if(!e.historyType)return Object(a.h)("div",{class:"rounded-circle position-absolute border",style:`background-color: #808080; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`});const s=l.a.getHistoryTypeColor(e.historyType);return Object(a.h)("div",{class:"rounded-circle position-absolute border",style:`background-color: ${s}; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`})}),p.length>1&&Object(a.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},p.length)):"-",b&&b.length>0?Object(a.h)(e,null,b.filter(d).map((e,t)=>{if(!e.historyType)return Object(a.h)("div",{class:"rounded position-absolute border border-white",style:`background-color: #808080; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`});const s=l.a.getHistoryTypeColor(e.historyType);return Object(a.h)("div",{class:"rounded position-absolute border border-white",style:`background-color: ${s}; top: 50%; left: ${5*t}px; width: 15px; height: 15px;`})}),b.length>1&&Object(a.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},b.length)):"-")}))})))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(a.h)("div",{class:"clearfix"},Object(a.h)("small",null,l.a.getHistoryPri().map(e=>{const s=l.a.getHistoryTypeColor(e);return Object(a.h)("span",{class:"float-left mr-2 "+(t===e?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":e},Object(a.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",m[e])}))),Object(a.h)("div",{class:"clearfix"},Object(a.h)("small",null,l.a.getHistoryPri(2).map(e=>{const s=l.a.getHistoryTypeColor(e);return Object(a.h)("span",{class:"float-left mr-2 "+(t===e?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":e},Object(a.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",m[e])}))),Object(a.h)("div",{class:"clearfix"},Object(a.h)("small",null,l.a.getHistoryPri(3).map(e=>{const s=l.a.getHistoryTypeColor(e);return Object(a.h)("span",{class:"float-left mr-2 "+(t===e?"font-weight-bold":"font-weight-lighter"),onClick:this.setHistoryType,"data-historytype":e},Object(a.h)("div",{class:"rounded-circle border float-left mr-1",style:`background-color: ${s}; width: 15px; height: 15px;`})," ",m[e])})))))}})||o;t.a=d}).call(this,s("hosL").Fragment)},nHdA:function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV");s("ZOvn");let l=Object(n.a)(o=class extends a.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:n}=o,{settings:l={}}=n;return l.imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(function(e){return.621371*e}(t),1)," ",s?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(r.c,{id:"workouts.mph"},"mph"))))):Object(a.h)(e,null,Object(a.h)(r.c,{id:"workouts.mph"},"mph")))):Object(a.h)(e,null,Object(a.h)("nobr",null,i.a.format(t,1)," ",s?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(r.c,{id:"workouts.kmt"},"km/t"))))):Object(a.h)(e,null,Object(a.h)(r.c,{id:"workouts.kmt"},"km/t"))))}})||o;t.a=l}).call(this,s("hosL").Fragment)},om2D:function(e,t,s){"use strict";var o,a=s("hosL"),i=s("/eY4"),n=(s("cneo"),s("Utv1"),s("u2zT"));let r=Object(i.a)(o=class extends a.Component{constructor(e){super(e),this.handleAddImage=e=>{const{addToImages:t=!0}=this.props,{updateField:s,object:o,field:a}=this.props;if(a&&s({id:o.id,field:a,value:e,skipTimer:!0}),t){const t=[];t.push(e),s({id:o.id,field:"images",value:t,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:o=!0}=this.props;return Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)(n.a,{handleAddImage:this.handleAddImage,uploadStatus:e,apiUrl:"/api/fileupload",before:t,after:s,autoOpen:o},Object(a.h)("div",{style:{height:30,width:"100%"}}))))}})||o;t.a=r},sqi2:function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("cneo"),d=s("OhSV"),h=s("fh8t"),u=s.n(h),p=s("3wGD"),b=(s("ETxl"),s("ZOvn"));const m={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}};let g=Object(l.a)(i=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,o=e.target.parentElement.dataset.id||e.target.dataset.id,{workout:a}=t.props,{workoutStore:i}=t.props.stores,n=await i.likeWorkoutComment({id:a.id,commentId:o});return n&&200===n.status&&s({type:"likeComment",workout:a,commentId:o,response:n}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,o=e.target.parentElement.dataset.id||e.target.dataset.id,a=e.target.parentElement.dataset.comment||e.target.dataset.comment,{workout:i}=t.props,{workoutStore:n}=t.props.stores,r=await n.likeWorkoutCommentReply({id:i.id,replyId:o,commentId:a});r&&200===r.status&&s({type:"likeReply",workout:i,commentId:a,replyId:o,response:r})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:o}=t.state;o[s]=!o[s],t.setState({showAddComment:o},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:o}=this.state;o[t]=s,this.setState({viewImageIdx:o})},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{replyid:s,commentid:o}=e.target.closest("button").dataset,{workout:a}=t.props,{userStore:i,teamStore:n}=t.props.stores,{user:r}=i,{showOriginal:l={},translatedText:c={}}=t.state,d=`${o}${s?"-"+s:""}`;l[d]=0,c[d]=s?await n.translateCommentReply({commentid:o,replyid:s,object:a,user:r}):await n.translateComment({commentid:o,object:a,user:r}),t.setState({showOriginal:l,translatedText:c})},this.showOriginal=e=>{const{replyid:t,commentid:s}=e.target.closest("button").dataset;e.preventDefault(),e.stopPropagation();const{showOriginal:o={}}=this.state;o[`${s}${t?"-"+t:""}`]=1,this.setState({showOriginal:o})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:o,viewImageIdx:a,showOriginal:i={},translatedText:l={}}=this.state,{workout:h,callback:m=(()=>{}),col:g=12,offset:f=0,compact:O=!1}=this.props,{userStore:j,teamStore:y}=this.props.stores,{user:v,isAdmin:w}=j,{language:x="en"}=v;let k,S=[],D=0,_=0;return h.comments&&(D=h.comments.length,s?S=h.comments:(k=O?0:1,S=h.comments.slice(Math.max(D-k,0))),_=S.length),Object(n.h)("div",null,h&&S&&S.reverse().map(s=>{const{user:g={}}=s,f=y.findPublicTeamByMembers(g.id),O=b.a.displayNameShort(g),j=b.a.displayName(g),S=g.image||(g.images?g.images[0]:void 0),D=s.likes&&s.likes.findIndex(e=>e.user===v.id)>-1;let _=[],T=0,I=0;s.comments&&(T=s.comments.length,_=o[s.id]?s.comments:s.comments.slice(0,k),I=_.length);const C=[];if(s.images){const e=Object(c.i)(s.images);C.push(...e)}const P=a[s.id]?a[s.id]:0,L=C&&C[P]?C[P]:null,{currentLocationGeocode:R={}}=s,E=y.getCommentTranslations({object:h,commentid:s.id,targetLang:x})||l[s.id];let U=E||s.comment;return i[s.id]&&(U=s.comment),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(S?`background-image: url("${S.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!g.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(n.h)("div",null,Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},j),f&&f.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},f.filter(e=>1===e.public).slice(0,2).map(t=>Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(n.h)(u.a,{markdown:b.a.replaceImages(U,s.images,x),markdownOpts:b.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"container-fluid px-3 mt-1"},L&&Object(n.h)("div",{class:"clearfix row"},Object(n.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:L.s3LargeLink}))),C&&C.length>1&&Object(n.h)("div",{class:"clearfix d-flex flex-wrap row"},C.map((t,o)=>Object(n.h)(e,null,Object(n.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":o}))))))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(D?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),s.language!==x&&Object(n.h)(e,null,"-",!i[s.id]&&E?Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:this.showOriginal},Object(n.h)("i",{class:"fas fa-cog"}),"  ",Object(n.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id},Object(n.h)("i",{class:"fas fa-cog"})," ",Object(n.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-light ml-2"},"(Edited ",r.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),w&&R&&R.formatted_address&&Object(n.h)(e,null,Object(n.h)("span",{class:"ml-2 text-muted"},Object(n.h)("i",{class:"fas fa-map-marker-alt"})," ",R.formatted_address)))),s.likes&&s.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},s&&_&&_.map(t=>{const{user:o={}}=t,a=y.findPublicTeamByMembers(o.id),c=o.firstname?`${r.a.ucfirst(o.firstname,!0)}${r.a.ucfirst(o.lastname,!0)}`:""+r.a.ucfirst(o.email||"",!0),p=o.firstname?`${o.firstname} ${o.lastname}`:""+o.email,m=o.image||(o.images?o.images[0]:void 0),g=t.likes&&t.likes.findIndex(e=>e.user===v.id)>-1,f=y.getCommentReplyTranslations({object:h,commentid:s.id,replyid:t.id,targetLang:x})||l[`${s.id}-${t.id}`];let O=f||t.comment;return i[`${s.id}-${t.id}`]&&(O=t.comment),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(m?`background-image: url("${m.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!o.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},c)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},p),a&&a.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},a.filter(e=>1===e.public).slice(0,2).map(t=>Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(n.h)(u.a,{markdown:b.a.replaceImages(O,t.images,x),markdownOpts:b.a.getMarkdownOptions()}))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(g?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),t.language!==x&&Object(n.h)(e,null,"-",!i[`${s.id}-${t.id}`]&&f?Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":t.id,onClick:this.showOriginal},Object(n.h)("i",{class:"fas fa-cog"}),"  ",Object(n.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id,"data-replyid":t.id},Object(n.h)("i",{class:"fas fa-cog"})," ",Object(n.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),T-I>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:T-I}},"Vis ",T-I," flere kommentarer...")))),t[s.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(p.a,{stores:this.props.stores,workout:h,callback:m,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e,inputRefObject:this.inputRef})))}),D-_>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:D-_}},"Vis ",D-_," flere kommentarer..."))),s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||i;t.a=g}).call(this,s("hosL").Fragment)},u2zT:function(e,t,s){"use strict";var o,a=s("hosL"),i=s("/eY4"),n=s("Utv1"),r=s("OhSV");let l=Object(i.a)(o=class extends a.Component{constructor(e){super(e),this.dropRef=Object(a.createRef)(),this.handleDrag=e=>{e.preventDefault(),e.stopPropagation()},this.handleDragIn=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=e=>{if(e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(let t=0,s=e.dataTransfer.files.length;t<s;t+=1){this.readLocalFile(e.dataTransfer.files[t])}this.dragCounter=0}},this.handleAddFiles=e=>{e.preventDefault();const t=e.target;for(let e=0,s=t.files.length;e<s;e+=1){this.readLocalFile(t.files[e])}},this.handleEvent=()=>{0},this.handleUpload=e=>{const{uploadStatus:t=(()=>{}),before:s=(()=>{}),after:o=(()=>{})}=this.props;t(!1),n.a.isFunction(s)&&s();const a=new FormData;a.append("files[]",e);const i={progress:1};i.xhr=new XMLHttpRequest,i.xhr.upload.addEventListener("progress",t=>{this.updateProgress(t,e)}),i.xhr.addEventListener("loadstart",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("load",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("loadend",t=>{const s=e;n.a.isFunction(o)&&o(),this.handleEvent(t,s)}),i.xhr.addEventListener("progress",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("error",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("abort",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("readystatechange",t=>{this.uploadDone(t,e)}),i.xhr.open("POST",`${n.a.getApiServer()}${this.props.apiUrl}`),i.xhr.setRequestHeader("Authorization","Bearer "+n.a.getJwtToken()),i.xhr.send(a);const r=e.name,l=this.state.uploadedFilesData;l[r]||(l[r]={}),l[r].uploadMeta=i,l[r].imageNum=this.state.imageNum,this.setState({uploadedFilesData:l})},this.readLocalFile=e=>new Promise((t,s)=>{const o=new FileReader;o.addEventListener("error",e=>{s(e)}),o.addEventListener("load",s=>{const o=e,a=o.name,i=this.state.uploadedFilesData;i[a]||(i[a]={}),i[a].event=s,this.setState({uploadedFilesData:i}),this.handleUpload(o),t(s)}),o.readAsDataURL(e)}),this.updateProgress=(e,t)=>{if(e.lengthComputable){const s=t.name,o=this.state.uploadedFilesData,a=e.loaded/e.total*100;0,o[s].uploadMeta.progress=a,this.setState({uploadedFilesData:o})}},this.uploadDone=(e,t)=>{const s=t.name,o=this.state.uploadedFilesData,a=o[s].uploadMeta;if(a&&4===a.xhr.readyState&&201===a.xhr.status){const e=JSON.parse(a.xhr.responseText).data.files;for(let t=0;t<e.length;t+=1){this.addFileToUpload(e[t]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(e){const{uploadedFilesData:t}=this.state,{handleAddImage:s,uploadStatus:o=(()=>{})}=this.props;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),o(!0)}componentDidMount(){const e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop);const{autoOpen:t}=this.props;t&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:e}=this.state;return Object(a.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(a.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(a.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(a.h)("div",null,Object(a.h)(r.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(a.h)("div",null,Object(a.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:e=>{this.fileInput=e}})),Object(a.h)("div",null,Object.keys(e).length>0?Object(a.h)("h3",null,Object(a.h)(r.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(a.h)("ul",{class:"list-group"},Object.keys(e).map(t=>{const{uploadMeta:s={}}=e[t],o=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(a.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(a.h)("div",{class:"d-flex w-100 justify-content-between"},o&&Object(a.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(a.h)("small",null,e[t].event.uploadDone),Object(a.h)(r.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(a.h)("small",null,n.a.formatBytes(e[t].event.total,2))),Object(a.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(a.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||o;t.a=l},"vY+r":function(e,t,s){"use strict";(function(e){function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(i=class extends n.Component{constructor(e){super(e),this.toggleViews=()=>{const{showViewList:e}=this.state,{isTeamAdmin:t,isAdmin:s}=this.props;(t||s)&&this.setState({showViewList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{showViewList:t}=this.state,{storyStore:s,teamStore:o,workoutStore:a}=this.props.stores,{views:i,object:l,type:h="story",onTeamClick:u=(()=>{}),onUserClick:p=(()=>{})}=this.props,b=[];Object.entries(l.statistics).forEach(([e,t])=>{Object.entries(t).forEach(([e,t])=>{t.viewUsers&&b.push(t.viewUsers)})});const m=b.flat().slice(0,50);return Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex justify-content-end mb-2"},Object(n.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},i," ",Object(n.h)(c.c,{id:"story.views"},"views"))),t&&Object(n.h)("div",{class:"mt-3 mb-3"},m&&m.map(t=>{let i,l,c;if("story"===h?(i=s.findPublicUser(t),l=s.findPublicTeamByMembers(t)):"team"===h?(i=o.findPublicUser(t),l=o.findPublicTeamByMembers(t)):"workout"===h&&(i=a.findPublicUser(t),l=a.findPublicTeamByMembers(t)),!i)return"";r.a.isArray(l)&&(c=l.find(e=>1===e.public));const p=d.a.getImage({user:i,team:c,priority:"user"}),b=d.a.displayNameShort(i),m=d.a.displayName(i,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},c?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+c.uuidv4,title:c.name,onClick:e=>u(e,c.uuidv4),class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(p?`background-image: url("${p}"); background-size: cover;`:"")},!p&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},b))),Object(n.h)("div",{class:"ml-2 "},m," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",c.name))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p}"); background-size: cover;`:"")+" opacity: 0.5;"},!p&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},b)),Object(n.h)("div",{class:"ml-2"},m)))}),i>m.length&&Object(n.h)(e,null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(c.c,{id:"story.limited-to"},"Limited to max 50 users.")))))}})||i;t.a=u}).call(this,s("hosL").Fragment)},xDik:function(e,t,s){"use strict";(function(e){var o,a=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn"),c=(s("UJvz"),s("1OK2"),s("s4FZ")),d=s("ETxl"),h=s.n(d);const u=l.a.getVaccineTypes();let p=Object(n.a)(o=class extends a.Component{constructor(e){var t;super(e),t=this,this.showModal=e=>{e.stopPropagation(),e.preventDefault();this.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{const{eventFired:t}=this.state;t||this.setState({startY:e.touches[0].pageY,startX:e.touches[0].pageX,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchEnd=()=>{const{eventFired:e}=this.state;this.setState(e?{startY:void 0,startX:void 0}:{startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchMove=e=>{const{eventFired:t}=this.state;if(t)return!1;const{startY:s,startX:o}=this.state,a=e.touches[0].pageY,i=e.touches[0].pageX;this.setState({diffY:a-s,diffX:i-o}),a>s+130||a<s-130||i>o+130||i<o-130&&this.setState({eventFired:!0})},this.reset=e=>{e&&(e.stopPropagation(),e.preventDefault()),this.setState({deleted:!1,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.deleteHistoryRequest=async function(e){e.stopPropagation(),t.setState({deleteVerify:!0})},this.deleteHistory=async function(e){e.stopPropagation();const{dogStore:s}=t.props.stores,{line:o}=t.props;await s.save({id:o.dogId,$pull:{history:{_id:o.id||o._id}}}),t.setState({deleted:!0,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.swipeLeft=e=>{const{eventFired:t}=this.state;e.stopPropagation(),t?this.reset():this.setState({eventFired:!0,diffX:-130})},this.state={showDate:!1}}componentWillReceiveProps(e){e.line.id!==this.props.line.id&&this.reset()}render(){const{userStore:t}=this.props.stores,{user:s}=t,{language:o="en"}=s,n=l.a.getHistoryMap(o),{showDate:d}=this.state,{line:p}=this.props,{diffX:b,deleted:m,deleteVerify:g}=this.state,f=p.images&&p.images.length>0,O=b<0;return Object(a.h)("div",{class:"w-100 mb-4 position-relative "+h.a.hoverElement,onTouchstart:m?()=>{}:this.touchStart,onTouchend:m?()=>{}:this.touchEnd,onTouchmove:m?()=>{}:this.touchMove,onClick:!m&&O?this.reset:()=>{},style:`opacity: ${m?.3:1};`},!O&&!m&&Object(a.h)("div",{class:"position-absolute "+h.a.hoverelementonly,style:"top: 0px; right: 0px; z-index: 1000;"},Object(a.h)("button",{class:"btn btn-sm btn-secondary",type:"button",onClick:this.swipeLeft},Object(a.h)("i",{class:"fas fa-ellipsis-h"}))),O&&!m&&Object(a.h)("div",{class:"position-absolute",style:`right: 0px; top: 10%; overflow: hidden; width: ${Math.abs(b)||0}px; line-height: 0.8em;`},!p.grouped&&Object(a.h)(e,null,g?Object(a.h)(e,null,Object(a.h)("button",{class:"btn btn-sm btn-secondary float-right ml-3 mb-3",onClick:this.reset},Object(a.h)("i",{class:"fas fa-times"})," ",Object(a.h)(r.c,{id:"dog.history.no"},"Nei")),Object(a.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.deleteHistory},Object(a.h)("i",{class:"fas fa-check"})," ",Object(a.h)(r.c,{id:"dog.history.yes"},"Ja"))):Object(a.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteHistoryRequest},Object(a.h)("i",{class:"fas fa-trash"})," ",Object(a.h)(r.c,{id:"dog.history.delete"},"Slett"))),p.grouped&&Object(a.h)("small",null,Object(a.h)(r.c,{id:"dog.history.cant-delete-groups"},"Kan ikke slette grupperinger. Gå inn på hundene og slett der."),Object(a.h)("br",null),Object(a.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.reset},Object(a.h)("i",{class:"fas fa-check"})," Ok"))),Object(a.h)("div",{class:"row position-relative",style:`left: ${O?b:0}px;`},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},p.dogImage?Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:p.dogImage?`background-image: url("${p.dogImage.s3SmallLink}"); background-size: cover;`:""}," "):Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:p.images&&p.images[0]?`background-image: url("${p.images[0].s3SmallLink}"); background-size: cover;`:""},!f&&Object(a.h)("i",{class:"fas fa-rss text-muted mt-2",style:"font-size: 20px;"})),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"line-height: 1.0em;"},!p.grouped&&p.dogId&&Object(a.h)("a",{class:"stretched-link",href:"/dogs/"+p.dogId},Object(a.h)("strong",{class:"mr-2"},p.dogShortname||p.dogName,": ")),p.title,Object(a.h)("br",null),p.grouped&&Object(a.h)(e,null,Object(a.h)("div",{class:"w-100 clearfix mt-2"},p.grouped.map(t=>Object(a.h)(e,null,Object(a.h)("a",{href:"/dogs/"+t.dogId},t.dogImage?Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left",style:"margin-right: 2px; "+(t.dogImage?`background-image: url("${t.dogImage.s3SmallLink}");`:"")}," "):Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left text-muted pt-1",style:"margin-right: 2px; "+(t.images&&t.images[0]?`background-image: url("${t.images[0].s3SmallLink}");`:"")},!f&&Object(a.h)("span",{style:"font-size: 15px;"},i.a.ucfirst(t.dogName,!0))))))),Object(a.h)("div",{class:"w-100 clearfix mt-2"},Object(a.h)("small",null,p.grouped.map(e=>Object(a.h)("span",{class:"float-left mr-2 text-muted"},Object(a.h)("a",{href:"/dogs/"+e.dogId},e.dogShortname||e.dogName)))))),Object(a.h)("div",{class:"w-100 clearfix"},Object(a.h)("small",{class:"text-muted"},p.date&&Object(a.h)("small",{onClick:this.toggleDate},d?i.a.formatDate(p.date,{locale:"no-NB"}):i.a.formatDistance(p.date,new Date,{locale:"no-NB"}),p.endDate&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-hourglass-end"})," ",i.a.formatDate(p.endDate,{locale:"no-NB"})),p.historyType&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-folder-open"})," ",n[p.historyType]," ",p.vaccineType?" - "+u[p.vaccineType].name:""),p.weight&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-balance-scale"})," ",p.weight," kg"),p.bodyScore&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-dog"})," ",p.bodyScore),p.user&&p.user.email&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-user"})," ",p.user.email)))),Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"col-12"},Object(a.h)("span",{class:"font-weight-normal"},p.comment),Object(a.h)("span",{class:"float-right"},p.cost?"Kr. "+i.a.format(p.cost,2):""))))),Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1"},Object(a.h)("div",{class:"row"},Object(a.h)(c.a,{stores:this.props.stores,images:p.images})))))}})||o;t.a=p}).call(this,s("hosL").Fragment)},xsrU:function(e,t,s){"use strict";function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.r(t);var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn"),h=(s("JWe/"),s("3pQw"),s("xDik")),u=s("2X7c"),p=s("mPUg");const b=d.a.marginTop(!0),m=d.a.marginBottom(),g=d.a.subMenuMarginTop(),f={isLoading:!1};let O=Object(l.a)(i=class extends n.Component{constructor(e){super(e),this.setHistoryType=e=>{this.setState({historyType:e})},this.setDay=(e,t,s)=>{this.setState({yyyy:e,mm:t,dd:s})},this.resetDay=()=>{this.setState({yyyy:null,mm:null,dd:null})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),this.loadAll()}async loadAll(){this.setState({isLoading:!0}),await this.loadFeed(),this.setState({isLoading:!1})}async loadFeed(e=this.props){const{userStore:t,workoutStore:s}=this.props.stores,{currentTeam:o}=s,a=(new Date).getMonth()+1,{month:i=a,year:n=r.a.getYear(),team:l=o,dog:c={}}=e;await t.getFeed({month:i,year:n,team:l,dog:c.id})}componentDidMount(){this.loadAll()}render(){const{scrolledDown:e}=this.props,{isLoading:t,historyType:s,yyyy:o,mm:a,dd:i}=this.state,{userStore:l,appState:d}=this.props.stores,{darkmode:f}=d,{month:O,year:j}=this.props,{historyFeed:y}=l;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${m}; margin-top: ${b};`},Object(n.h)("div",{class:"row fixed-top pt-2",style:`margin-top: ${e>0?0:g}; background-color: ${f?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(c.c,{id:"dogs.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(c.c,{id:"dogs.list"},"Liste")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/feed",class:"text-primary stretched-link"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(c.c,{id:"dogs.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("nobr",null,Object(n.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",Object(n.h)(c.c,{id:"dogs.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 mb-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("span",{class:"float-right"},Object(n.h)(u.a,{stores:this.props.stores,dog:{}})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.title"},"Siste fra hundene"))),Object(n.h)(p.a,{stores:this.props.stores,basehref:"/dogs/feed/",month:O,year:j,callback:this.setHistoryType,setDay:this.setDay}),!t&&y&&0===y.length&&Object(n.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom text-muted"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-dog"})),Object(n.h)("h5",null,Object(n.h)(c.c,{id:"feed.no-log"},"Ingen hendelser fra hundene.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-1"},"Det er fint å legge inn hendelser (løpetid, skader, vaksinering, vetrinærbesøk, mm) og bilder av hundene i loggen.")),Object(n.h)("p",null,Object(n.h)(c.c,{id:"feed.tip-2"},"På denne måten så vil hele teamet ditt se hva som skjer med hundene og hva som trengs å følges opp. Dette er en slags ",Object(n.h)("strike",null,"Face"),"Dogbook for hundene deres.")),Object(n.h)("br",null),Object(n.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(n.h)("i",{class:"fas fa-dog"})," ",Object(n.h)(c.c,{id:"feed.add-log"},"Legg til logg på hundene"))),o&&a&&i&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-3"},Object(n.h)("button",{class:"btn btn-sm btn-secondary float-right",onClick:this.resetDay},Object(n.h)(c.c,{id:"feed.show-all-days"},"Vis alle")),Object(n.h)("h5",null,o,"-",r.a.padDate(a),"-",r.a.padDate(i),":")),y&&y.filter(e=>{let t=!0;return s&&(t=e.historyType===s),t&&o&&a&&i&&(t=e.year===o&&e.month===a&&e.day===i),t}).map(e=>Object(n.h)(h.a,{stores:this.props.stores,line:e})))))}})||i;t.default=O}}]);
//# sourceMappingURL=21.chunk.44ad9.esm.js.map