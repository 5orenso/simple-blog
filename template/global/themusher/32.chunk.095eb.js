(window.webpackJsonp=window.webpackJsonp||[]).push([[32,5,7,8,63],{"+I+c":function(e,t,o){"use strict";function s(e,t){if(null==e)return{};var o,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)t.indexOf(o=n[s])>=0||(a[o]=e[o]);return a}o.d(t,"a",(function(){return s}))},"+JSK":function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n,i=o("hosL"),r=o("Utv1"),c=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),h={},u=Object(c.a)(n=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleLikes=function(){o.setState({showLikesList:!o.state.showLikesList})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},h),o}var n,c;return c=t,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var t=this.state.showLikesList,o=this.props.stores,s=o.storyStore,a=o.teamStore,n=o.workoutStore,c=o.raceStore,h=this.props,u=h.likes,b=h.comments,p=h.type,m=void 0===p?"story":p,g=h.onTeamClick,f=void 0===g?function(){}:g;return Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},u&&u.length>0&&Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(i.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",u.length),u.slice(0,3).map((function(t){var o,l,h;"story"===m?(o=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===m?(o=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"workout"===m?(o=n.findPublicUser(t.user),l=n.findPublicTeamByMembers(t.user)):"race"===m&&(o=c.findPublicUser(t.user),l=c.findPublicTeamByMembers(t.user)),r.a.isArray(l)&&(h=l.find((function(e){return 1===e.public})));var u=d.a.getImage({user:o,team:h,priority:"user"}),b=d.a.displayNameShort(o);return Object(i.h)(e,null,h?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(e){return f(e,h.uuidv4)}},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:u?'background-image: url("'+u+'"); background-size: cover;':""},!u&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},b)))):Object(i.h)(e,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?'background-image: url("'+u+'"); background-size: cover;':"")+" opacity: 0.5;"},!u&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},b))))})),u.length>3&&Object(i.h)(e,null,Object(i.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(i.h)(l.c,{id:"likes-comments.and",fields:{total:u.length-3}},"and ",u.length-3," others."))))),b&&b.length>0&&Object(i.h)("span",{class:"float-right text-muted"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",b.length)),t&&Object(i.h)("div",{class:"mt-3 mb-3"},u&&u.map((function(t){var o,l,h;"story"===m?(o=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===m?(o=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"workout"===m?(o=n.findPublicUser(t.user),l=n.findPublicTeamByMembers(t.user)):"race"===m&&(o=c.findPublicUser(t.user),l=c.findPublicTeamByMembers(t.user)),r.a.isArray(l)&&(h=l.find((function(e){return 1===e.public})));var u=d.a.getImage({user:o,team:h,priority:"user"}),b=d.a.displayNameShort(o),p=d.a.displayName(o,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},h?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(e){return f(e,h.uuidv4)},class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:u?'background-image: url("'+u+'"); background-size: cover;':""},!u&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},b))),Object(i.h)("div",{class:"ml-2 "},p," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",h.name))):Object(i.h)(e,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?'background-image: url("'+u+'"); background-size: cover;':"")+" opacity: 0.5;"},!u&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},b)),Object(i.h)("div",{class:"ml-2"},p)))}))))},o}(i.Component))||n;t.a=u}).call(this,o("hosL").Fragment)},"/922":function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("OhSV"),c=o("go65"),l=o("om2D"),d=(o("ETxl"),o("ZOvn")),h=Object(i.a)(s=function(t){function o(e){var o;return(o=t.call(this,e)||this).beforeImagesUploaded=function(){o.setState({sendButtonEnabled:!1})},o.afterImagesUploaded=function(){o.setState({sendButtonEnabled:!0})},o.commentWorkout=function(){return new Promise((function(e,t){var s,a,n,i,r,c,l,h,u,b,p;return o.state.sendButtonEnabled?(n=void 0===(a=(s=o.props).callback)?function(){}:a,r=void 0===(i=s.inputRefObject)?{}:i,c=o.props.workout,l=o.props.stores.workoutStore,u=(h=o.state).comment,b=h.showAddImage,o.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:c.id,comment:u})).then((function(s){try{return(p=s)&&200===p.status&&(o.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(r[c.id]),b&&o.addImage()})),n({workout:c,response:p})),o.setState({sendButtonEnabled:!0}),e()}catch(e){return t(e)}}),t)):e(!1)}))},o.addImages=function(e){var t,s=o.state.comment;(t=s.images).push.apply(t,e.value),o.setState({comment:s})},o.addImage=function(){var e=o.state.showAddImage;o.setState({showAddImage:!(void 0!==e&&e)})},o.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},o.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},o.inputRef={},o}var s,i;return i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var t=this,o=this.props,s=o.inputRef,i=o.col,h=void 0===i?12:i,u=o.offset,b=void 0===u?0:u,p=o.showAvatar,m=void 0===p||p,g=o.extraClass,f=void 0===g?"":g,O=o.workout,j=this.state,v=j.comment,y=j.showAddImage,w=j.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+n.a.ucfirst(x.firstname,!0)+n.a.ucfirst(x.lastname,!0):""+n.a.ucfirst(x.email||"",!0),P=x.image||(x.images?x.images[0]:void 0);return Object(a.h)("div",{class:"col-"+h+" offset-"+b+" "+f},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},m&&Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(P?"background-image: url('"+P.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(a.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(r.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:v.body,ref:s})),Object(a.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(a.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(a.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" mb-2",disabled:!w,onClick:this.commentWorkout},Object(a.h)("i",{class:"fas fa-paper-plane"})))))),y&&Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 text-center"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},v.images&&v.images.map((function(e){return Object(a.h)("div",{class:"col-3 p-1"},Object(a.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:t.handleImageErrored}),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:t.removeImage,"data-name":e.name},Object(a.h)("i",{class:"fas fa-trash"}),"  ",Object(a.h)(r.c,{id:"comments.remove-image"},"Remove")))})))),Object(a.h)(l.a,{object:v,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},o}(a.Component))||s;t.a=h}).call(this,o("hosL").Fragment)},"1OK2":function(e,t,o){"use strict";var s,a=o("hosL"),n=(o("Utv1"),o("/eY4"));Object(n.a)(s=function(e){function t(t){var o;(o=e.call(this,t)||this).touchStart=function(e){e.stopPropagation(),o.setState({startX:e.touches[0].pageX})},o.touchEnd=function(e){e.stopPropagation(),o.setState({startX:void 0,sliding:!1})},o.touchMove=function(e){if(e.stopPropagation(),o.state.totalImages>1){var t=o.state,s=t.startX,a=e.touches[0].pageX;t.sliding||(a>s+50?(o.setState({sliding:!0}),o.prevImage()):a<s-50&&(o.setState({sliding:!0}),o.nextImage()))}};var s=t.images,a=void 0===s?[]:s;return o.state={imageContainer:1,currentImage1:a[0]||{},currentImage2:{},currentIdx:0,totalImages:a.length||0,imageDots:[].concat(Array(a.length||0).fill(1).map((function(e,t){return e+t})))},o}var o,s;s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var n=t.prototype;return n.nextImage=function(){var e,t=this.state,o=1===t.imageContainer?2:1,s=t.currentIdx+1;s>t.totalImages-1&&(s=0),this.setState(((e={})["currentImage"+o]=this.props.images[s],e.currentIdx=s,e.imageContainer=o,e))},n.prevImage=function(){var e,t=this.state,o=t.imageContainer,s=t.currentIdx-1;s<0&&(s=t.totalImages-1),this.setState(((e={})["currentImage"+(1===o?2:1)]=this.props.images[s],e.currentIdx=s,e.imageContainer=1===o?2:1,e))},n.componentWillReceiveProps=function(e){if(e.images!==this.props.images){var t=e.images,o=void 0===t?[]:t;this.setState({imageContainer:1,currentImage1:o.length>0?o[0]:{},currentImage2:{},currentIdx:0,totalImages:o.length||0,imageDots:[].concat(Array(o.length||0).fill(1).map((function(e,t){return e+t})))})}},n.render=function(){var e,t,o=this,s=this.state,n=s.currentImage1,i=s.currentImage2,r=s.imageContainer,c=s.totalImages,l=s.imageDots,d=s.currentIdx,h=this["image"+r],u=1===r?n:i;if(u.dimensions){var b=u.dimensions,p=b.width,m=b.height,g=b.orientation;g>4&&g<9?(e=p,t=m):(e=m,t=p)}var f=u.dimensions?t/e:h&&h.height?h.width/h.height:4/3;return c<=0?"":Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"border rounded position-relative w-100",style:"height: calc(85vw / "+f+"); overflow: hidden; transition: all .3s ease-in-out;",onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},c>1&&Object(a.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(a.h)("small",null,d+1,"/",c)),n&&Object(a.h)("div",{class:"position-absolute",style:(1===r?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(a.h)("img",{loading:"lazy",src:n.s3LargeLink,class:"img-fluid align-middle",ref:function(e){return o.image1=e}})),i&&Object(a.h)("div",{class:"position-absolute",style:(2===r?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(a.h)("img",{loading:"lazy",src:i.s3LargeLink,class:"img-fluid align-middle",ref:function(e){return o.image2=e}}))),l.length>1&&Object(a.h)("div",{class:"w-100 text-center"},l.map((function(e){return Object(a.h)("span",{style:"color: "+(e===d+1?"#ffffff":"#808080")+";"},"•")}))))},t}(a.Component))},"2X7c":function(e,t,o){"use strict";function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var i,r=o("hosL"),c=o("Utv1"),l=o("/eY4"),d=(o("cneo"),o("go65")),h=o("OhSV"),u=o("ZOvn"),b=o("X9Km"),p=o("om2D"),m=o("3on9"),g=u.a.getVaccineTypes(),f={showLog:!1,okToAddLog:!0},O=Object(l.a)(i=function(e){function t(t){var o;return(o=e.call(this,t)||this).toggleLog=function(){o.setState({showLog:!o.state.showLog})},o.resetLog=function(){o.setState({newHistory:{date:c.a.isoDate(new Date,!1,!1,!0),time:c.a.isoTime(new Date),dogs:[]},showLog:!1})},o.addImages=function(e){if(Array.isArray(e.value)){var t=o.state.newHistory;t.images=Array.isArray(t.images)?[].concat(t.images,e.value):e.value,o.setState({newHistory:t})}},o.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},o.imageUploadStatus=function(e){o.setState({okToAddLog:e})},o.insertLog=function(){return new Promise((function(e,t){var s,n,i,r,l,d;return r=o.props.callback,l=(i=(n=o.props.stores).dogStore).dog,d=n.userStore.user,(s=o.state.newHistory).title||s.comment?s.id||0!==s.dogs.length?(s.date=s.date+" "+s.time,Promise.resolve(i.save({id:l.id||s.dogs[0],history:a({user:{id:d.id,email:d.email,firstname:d.firstname,lastname:d.lastname}},s)})).then((function(){try{return o.resetLog(),Promise.resolve(o.loadDog()).then((function(){try{return Promise.resolve(o.loadFeed()).then((function(){try{return c.a.isDefined(r)&&r(),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)):(b.a.publish(b.b.STATUS_MESSAGE,{message:"Mangler hunder til logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),e(!1)):(b.a.publish(b.b.STATUS_MESSAGE,{message:"Mangler tittel på logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),e(!1))}))},o.updateField=function(e){var t=o.state.newHistory;t[e.field]=e.value,o.setState({newHistory:t})},o.setHistoryType=function(e){var t=o.props.stores.userStore.user.language,s=u.a.getHistoryMap(void 0===t?"en":t),a=o.state.newHistory,n=e.target.value;a.historyType=n,a.title||(a.title=s[n]),"maturity"===a.historyType&&(a.endDate=c.a.isoDate(c.a.addDays(a.date,21),!1,!1,!0)),"mating"!==a.historyType&&"unwantedMating"!==a.historyType||(a.endDate=c.a.isoDate(c.a.addDays(a.date,63),!1,!1,!0)),o.setState({newHistory:a})},o.setVaccineType=function(e){var t=o.state.newHistory,s=e.target.value;t.vaccineType=s,t.title+=" - "+g[s].name,t.endDate=c.a.isoDate(c.a.addDays(t.date,g[s].duration),!1,!1,!0),o.setState({newHistory:t})},o.state=a({newHistory:{date:c.a.isoDate(new Date,!1,!1,!0),time:c.a.isoTime(new Date),dogs:[]}},f),o}var o,s;s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var n=t.prototype;return n.loadDog=function(e){return new Promise(function(t){void 0===e&&(e=this.props);var o=e.dog;if(o&&o.id){var s=this.state.newHistory;s.dogs=[o.id],this.setState({newHistory:s})}return t()}.bind(this))},n.loadFeed=function(){return new Promise(function(e,t){return Promise.resolve(this.props.stores.userStore.getFeed({})).then((function(){try{return e()}catch(e){return t(e)}}),t)}.bind(this))},n.componentWillMount=function(){this.resetLog(),this.loadDog()},n.componentWillReceiveProps=function(e){e.dog.id!==this.props.dog.id&&(this.resetLog(),this.loadDog(e))},n.render=function(){var e=this,t=this.state,o=t.newHistory,s=t.showLog,a=t.okToAddLog,n=this.props,i=n.dog,c=n.className,l=void 0===c?"btn-sm btn-secondary float-left":c,u=this.props.stores,b=u.userStore.findTeam(u.workoutStore.currentTeam,!0);return s?Object(r.h)("div",{class:"col-12 px-0 border rounded "},Object(r.h)("button",{class:"'btn "+l,onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",s?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg")),Object(r.h)("br",null),s&&Object(r.h)("div",{class:"mb-2 py-4 px-2"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg")),Object(r.h)(h.b,null,Object(r.h)(m.a,{stores:this.props.stores,object:o,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(r.h)(h.c,{id:"dog.addlog.dogs"},"Hunder"),help:Object(r.h)(h.c,{id:"dog.addlog.dogs-help"},"Hvilke hunder gjelder dette?"),updateField:this.updateField,filter:function(e){return i.id===e.id||o.dogs.indexOf(e.id)>-1},currentTeam:b})),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"dateInput"},Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.date"},"Dato")),Object(r.h)("input",{type:"date",class:"form-control",id:"dateInput","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"newHistory.date"),value:o.date,autocomplete:"off"}),Object(r.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.date-help"},"Dato for logglinje."))),Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"timeInput"},Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"dog.addlog.time"},"Klokka")),Object(r.h)("input",{type:"time",class:"form-control",id:"timeInput","aria-describedby":"timeHelp",onInput:Object(d.a)(this,"newHistory.time"),value:o.time,autocomplete:"off"}),Object(r.h)("small",{id:"timeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.time-help"},"Tid for logglinje.")))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"typeInput"},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"dog.addlog.type"},"Type hendelse")),Object(r.h)("select",{class:"form-control",id:"typeInput","aria-describedby":"typeHelp",onInput:this.setHistoryType,value:o.historyType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-type"},"Velg type")," --"),Object(r.h)("option",{value:"other"},Object(r.h)(h.c,{id:"dog.addlog.other"},"Annet")),Object(r.h)("option",{value:"stoolProblem"},Object(r.h)(h.c,{id:"dog.addlog.stoolProblem"},"Avføringsproblem")),Object(r.h)("option",{value:"bodyScore"},Object(r.h)(h.c,{id:"dog.addlog.bodyScore"},"Bodyscore")),Object(r.h)("option",{value:"diarrhea"},Object(r.h)(h.c,{id:"dog.addlog.diarrhea"},"Diarè")),Object(r.h)("option",{value:"foodLeftover"},Object(r.h)(h.c,{id:"dog.addlog.foodLeftover"},"Ikke spist opp maten")),Object(r.h)("option",{value:"animalchiropractor"},Object(r.h)(h.c,{id:"dog.addlog.animalchiropractor"},"Dyrekiropraktor")),Object(r.h)("option",{value:"clawClip"},Object(r.h)(h.c,{id:"dog.addlog.clawClip"},"Kloklipp")),Object(r.h)("option",{value:"maturity"},Object(r.h)(h.c,{id:"dog.addlog.maturity"},"Løpetid")),Object(r.h)("option",{value:"massage"},Object(r.h)(h.c,{id:"dog.addlog.massage"},"Massasje")),Object(r.h)("option",{value:"newStraw"},Object(r.h)(h.c,{id:"dog.addlog.newStraw"},"Ny halm/treull")),Object(r.h)("option",{value:"update"},Object(r.h)(h.c,{id:"dog.addlog.update"},"Oppdatering")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"mating"},Object(r.h)(h.c,{id:"dog.addlog.mating"},"Parring")),Object(r.h)("option",{value:"injury"},Object(r.h)(h.c,{id:"dog.addlog.injury"},"Skade")),Object(r.h)("option",{value:"fight"},Object(r.h)(h.c,{id:"dog.addlog.fight"},"Slåsskamp")),Object(r.h)("option",{value:"sick"},Object(r.h)(h.c,{id:"dog.addlog.sick"},"Syk")),Object(r.h)("option",{value:"unwantedMating"},Object(r.h)(h.c,{id:"dog.addlog.unwantedMating"},"Tjuvparring")),Object(r.h)("option",{value:"vaccine"},Object(r.h)(h.c,{id:"dog.addlog.vaccine"},"Vaksine")),Object(r.h)("option",{value:"weight"},Object(r.h)(h.c,{id:"dog.addlog.weight"},"Veiing")),Object(r.h)("option",{value:"veterinarianVisit"},Object(r.h)(h.c,{id:"dog.addlog.veterinarianVisit"},"Vetrinær besøk")," ")),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.type-help"},"Type hendelse. Vetrinær besøk, vaksinering, syk, løpetid, etc."))),["vaccine"].indexOf(o.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"vaccineTypeInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(r.h)("select",{class:"form-control",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:this.setVaccineType,value:o.vaccineType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(r.h)("option",{value:"rabies"},Object(r.h)(h.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"BbPi"},Object(r.h)(h.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(r.h)("option",{value:"DHP"},Object(r.h)(h.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(r.h)("option",{value:"DHPPi"},Object(r.h)(h.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)"))),Object(r.h)("small",{id:"vaccineTypeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.vaccine-help"},"Hvilken vaksinetype er dette?"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"nameInput"},Object(r.h)(h.c,{id:"dog.addlog.title"},"Tittel")),Object(r.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"newHistory.title"),value:o.title,autocomplete:"off",required:!0}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.title-help"},"Tittel på logglinje. Vetrinær besøk, Vaksinering, Syk, Profilbilde, etc."))),["vaccine","maturity","unwantedMating","mating"].indexOf(o.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"endDateInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.duration"},"Varighet")),Object(r.h)("input",{type:"date",class:"form-control",id:"endDateInput","aria-describedby":"endDateHelp",onInput:Object(d.a)(this,"newHistory.endDate"),value:o.endDate,autocomplete:"off"}),Object(r.h)("small",{id:"endDateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.duration-help"},"Når går denne vaksinen ut?"))),("weight"===o.historyType||"bodyScore"===o.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"weightInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog"},"Vekt")),Object(r.h)("input",{type:"text",class:"form-control",id:"weightInput","aria-describedby":"weightHelp",onInput:Object(d.a)(this,"newHistory.weight"),value:o.weight,autocomplete:"off"}),Object(r.h)("small",{id:"weightHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog-help"},"Vekten til hunden."))),("weight"===o.historyType||"bodyScore"===o.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"bodyScoreInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.bodyscore"},"Bodyscore")),Object(r.h)("input",{type:"text",class:"form-control",id:"bodyScoreInput","aria-describedby":"bodyScoreHelp",onInput:Object(d.a)(this,"newHistory.bodyScore"),value:o.bodyScore,autocomplete:"off"}),Object(r.h)("small",{id:"bodyScoreHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.bodyscore-help"},"Bodyscore til hunden."))),("veterinarianVisit"===o.historyType||"vaccine"===o.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"costInput"},Object(r.h)("i",{class:"fas fa-money-bill-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.cost"},"Kostnad")),Object(r.h)("input",{type:"text",class:"form-control",id:"costInput","aria-describedby":"costHelp",onInput:Object(d.a)(this,"newHistory.cost"),value:o.cost,autocomplete:"off",pattern:"[0-9]{3}",title:"Kun tall. Ikke noen andre tegn eller symboler."}),Object(r.h)("small",{id:"costHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.cost-help"},"Kostnad for denne hendelsen."))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"commentInput"},Object(r.h)("i",{class:"fas fa-quote-right"})," ",Object(r.h)(h.c,{id:"dog.addlog.commet"},"Kommentar")),Object(r.h)("input",{type:"text",class:"form-control",id:"commentInput","aria-describedby":"commentHelp",onInput:Object(d.a)(this,"newHistory.comment"),value:o.comment,autocomplete:"off"}),Object(r.h)("small",{id:"commentHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.comment-help"},"Kommentar til loggen. Skriv mer om hva som hendte."))),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"row-12"},Object(r.h)("label",{for:"imageInput"},Object(r.h)("i",{class:"fas fa-camera"})," ",Object(r.h)(h.c,{id:"dog.addlog.images"},"Bilder")))),Object(r.h)("div",{class:"row"},o.images&&o.images.map((function(t){return Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}))})))),Object(r.h)(p.a,{object:o,field:"images",updateField:this.addImages,uploadStatus:this.imageUploadStatus,autoOpen:!1}),Object(r.h)("button",{type:"button",class:"btn btn-success",onClick:this.insertLog,disabled:!a},a?Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg"):Object(r.h)(h.c,{id:"dog.addlog.please-wait"},"vent litt...")),Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.resetLog},Object(r.h)(h.c,{id:"dog.addlog.cancel"},"Glem det")))):Object(r.h)("button",{class:"'btn "+l,onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",s?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg"))},t}(r.Component))||i;t.a=O},"3on9":function(e,t,o){"use strict";(function(e){function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c,l=o("hosL"),d=o("Utv1"),h=o("/eY4"),u=o("cneo"),b=o("go65"),p=(o("Y3FI"),o("OhSV")),m=o("dVCl"),g={id:0,name:"empty"},f=function(){var e=i({},g);return e.unique=(new Date).getTime()+"-"+d.a.randomPassword(),e},O=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e,t=this.props,o=t.provided,a=t.snapshot,n=t.innerRef,i=t.children,r=t.className;return Object(l.h)("div",s({class:"h-100 border "+r},o.droppableProps,{ref:n,style:(e=a.isDraggingOver,{borderStyle:e?"dashed":"",width:110})}),i)},t}(l.Component),j=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).removeThisPlaceholder=function(){var t=e.props,o=t.removePlaceholder;(void 0===o?function(){}:o)({idx:t.idx,list:t.list})},e}return a(o,t),o.prototype.render=function(){var t,o,a=this.props,n=a.provided,r=a.snapshot,c=a.innerRef,h=a.dog;return Object(l.h)("div",s({},n.draggableProps,n.dragHandleProps,{ref:c,class:"mx-2 my-2 p-2",style:(t=r.isDragging,o=n.draggableProps.style,i({userSelect:"none",background:t?"#808080":"",maxWidth:92,height:100},o))}),0===h.id?Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2"},Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"}," ")),Object(l.h)("div",{class:"text-center"},Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeThisPlaceholder},Object(l.h)("i",{class:"fas fa-trash-alt"}))," "))):Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:h.image?'background-image: url("'+h.image.s3ThumbLink+'");':""},!h.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},d.a.ucfirst(h.name,!0))),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,h.shortname||h.name,Object(l.h)("br",null))))))},o}(l.Component),v={filterby:d.a.get("dogs-filter")},y=Object(h.a)(c=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleDog=function(e){return new Promise((function(t,s){var a,n,i,r,c,l,d,h,b,p,m,g,f;return a=e.target.closest("#dogContainer").dataset.id,n=parseInt(a,10),r=(i=o.props).object,c=i.type,l=i.elementtype,d=i.field,h=i.updateField,b=i.isNew,p=i.showPositions,(g=(m=Object(u.i)(r[d])||[]).indexOf(n))>-1?(m.splice(g,1),f="remove"):(m.push(n),f="add"),Promise.resolve(h({id:r.id,field:d,value:m,type:c,elementtype:l,isNew:b,skipTimer:!0,singleValue:n})).then((function(){try{return o.setState({filterText:""}),p&&o.dndDogs({dogId:n,action:f}),t()}catch(e){return s(e)}}),s)}))},o.findAllDogsInTeams=function(){var e=o.props.stores.dogStore.dogs,t=void 0===e?[]:e,s=o.props,a=s.object,n=s.currentTeam,i=void 0===n?{}:n,r=Object(u.i)(a.teams||[]),c=i.id;return t.filter((function(e){return!!(e.team===c||e.teams&&e.teams.indexOf(c)>-1)||(r.indexOf(e.team)>-1||!!e.teams&&e.teams.some((function(e){return r.indexOf(e)>=0})))})).map((function(e){return e.id}))},o.addAllDogsInTeam=function(){return new Promise((function(e,t){var s,a,n,i,r,c,l,d;return a=(s=o.props).object,n=s.type,i=s.elementtype,r=s.field,c=s.updateField,l=s.isNew,d=o.findAllDogsInTeams(),Promise.resolve(c({id:a.id,field:r,value:d,type:n,elementtype:i,isNew:l,skipTimer:!0})).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},o.dndDogs=function(e){var t=e.dogId,s=e.action,a=o.props.stores.dogStore.dogs,n=void 0===a?[]:a,i=o.props.object,r=i.dogs?function(e){return i.dogs.indexOf(e.id)>-1}:function(){return!1},c=Object(u.i)(n),l=c.filter(r),d=Math.ceil(l.length/2),h=l.splice(0,d),b=[];i.dogsLeft&&i.dogsLeft.length>0&&(b=i.dogsLeft.filter((function(e){return 0===e||c.find((function(t){return t.id===e}))&&-1===i.dogsRight.indexOf(e)})).map((function(e){return c.find((function(t){return t.id===e}))||f()})));var p=[];if(i.dogsRight&&i.dogsRight.length>0&&(p=i.dogsRight.filter((function(e){return 0===e||c.find((function(t){return t.id===e}))&&-1===i.dogsLeft.indexOf(e)})).map((function(e){return c.find((function(t){return t.id===e}))||f()}))),"add"===s){var m=n.find((function(e){return e.id===t}));m&&(b.length>p.length?p.push(m):b.push(m))}if("remove"===s){var g=b.findIndex((function(e){return e.id===t}));g>-1&&b.splice(g,1);var O=p.findIndex((function(e){return e.id===t}));O>-1&&p.splice(O,1)}0===b.length&&0===p.length&&(b=h,p=l),s?o.setState({dogsLeft:b,dogsRight:p,dogPositionUpdated:!0},(function(){return o.updateDogPositions()})):o.setState({dogsLeft:b,dogsRight:p})},o.addPlaceholderLeft=function(){var e=o.state.dogsLeft,t=void 0===e?[]:e;t.push(f()),o.setState({dogsLeft:t,dogPositionUpdated:!0})},o.addPlaceholderRight=function(){var e=o.state.dogsRight,t=void 0===e?[]:e;t.push(f()),o.setState({dogsRight:t,dogPositionUpdated:!0})},o.removePlaceholder=function(e){var t=e.idx,s=e.list;if("dogsLeft"===s){var a=o.state.dogsLeft,n=void 0===a?[]:a;n.splice(t,1),o.setState({dogsLeft:n,dogPositionUpdated:!0})}if("dogsRight"===s){var i=o.state.dogsRight,r=void 0===i?[]:i;r.splice(t,1),o.setState({dogsRight:r,dogPositionUpdated:!0})}},o.clearAllDogs=function(){return new Promise((function(e,t){var s;return s=o.props,Promise.resolve((0,s.updateField)({id:s.object.id,field:s.field,value:[],type:s.type,elementtype:s.elementtype,isNew:s.isNew,skipTimer:!0})).then((function(){try{return o.resetDogPositions(),e()}catch(e){return t(e)}}),t)}))},o.toggleSearchField=function(){o.setState({showSearchField:o.state.showSearchField?null:1})},o.getList=function(e){return o.state[e]},o.onDragEnd=function(e){var t=e.source,s=e.destination;if(s)if(t.droppableId===s.droppableId){var a,n=function(e,t,o){var s=Array.from(e),a=s.splice(t,1);return s.splice(o,0,a[0]),s}(o.getList(t.droppableId),t.index,s.index);o.setState(((a={})[t.droppableId]=n,a.dogPositionUpdated=!0,a))}else{var i=function(e,t,o,s){var a=Array.from(e),n=Array.from(t),i=a.splice(o.index,1);n.splice(s.index,0,i[0]);var r={};return r[o.droppableId]=a,r[s.droppableId]=n,r}(o.getList(t.droppableId),o.getList(s.droppableId),t,s);o.setState({dogsLeft:i.dogsLeft,dogsRight:i.dogsRight,dogPositionUpdated:!0})}},o.updateDogPositions=function(){return new Promise((function(e,t){var s,a,n,i,r,c,l,d;return a=(s=o.state).dogsLeft,i=void 0===(n=s.dogsRight)?[]:n,c=(r=o.props).object,l=r.updateField,d=r.isNew,Promise.resolve(l({id:c.id,field:"dogsLeft",value:(void 0===a?[]:a).map((function(e){return e.id})),isNew:d,datatype:"array"})).then((function(){try{return Promise.resolve(l({id:c.id,field:"dogsRight",value:i.map((function(e){return e.id})),isNew:d,datatype:"array"})).then((function(){try{return o.setState({dogPositionUpdated:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},o.resetDogPositions=function(){return new Promise((function(e,t){var s,a,n,i,r,c,l,d,h,b,p;return a=void 0===(s=o.props.stores.dogStore.dogs)?[]:s,i=(n=o.props).object,r=n.updateField,c=n.isNew,l=function(e){return i.dogs.indexOf(e.id)>-1},d=Object(u.i)(a),h=d.filter(l),b=Math.ceil(h.length/2),p=h.splice(0,b),Promise.resolve(r({id:i.id,field:"dogsLeft",value:p.map((function(e){return e.id})),isNew:c,datatype:"array"})).then((function(){try{return Promise.resolve(r({id:i.id,field:"dogsRight",value:h.map((function(e){return e.id})),isNew:c,datatype:"array"})).then((function(){try{return o.setState({dogsLeft:p,dogsRight:h,dogPositionUpdated:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},o.clearDogPositions=function(){return new Promise((function(e,t){var s,a,n,i,r,c;return a=(s=o.props).object,n=s.updateField,i=s.isNew,r=[],c=[],Promise.resolve(n({id:a.id,field:"dogsLeft",value:c,isNew:i,datatype:"array"})).then((function(){try{return Promise.resolve(n({id:a.id,field:"dogsRight",value:r,isNew:i,datatype:"array"})).then((function(){try{return o.setState({dogsLeft:c,dogsRight:r,dogPositionUpdated:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},o.changeFilter=function(e){var t=e.target.value;o.setState({filterby:t}),d.a.set("dogs-filter",t),o.loadDog()},o.getFilteredDogs=function(e){void 0===e&&(e=o.props);var t=o.state,s=t.filterText,a=e.object,n=e.filter,i=o.props.stores.dogStore.dogs,r=void 0===i?[]:i,c=void 0===n?function(){return!0}:n;if(a.dogs)switch(t.filterby){case"all":c=s?function(e){return e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1}:function(){return!0};break;case"onlySelected":c=s?function(e){return e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1}:function(e){return a.dogs.indexOf(e.id)>-1};break;case"onlyTeam":c=s?function(e){return e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1}:function(e){return a.team===e.team||a.dogs.indexOf(e.id)>-1};break;case"leadOnly":c=function(e){return a.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.lead.distanceKm")>0};break;case"pointOnly":c=function(e){return a.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.point.distanceKm")>0};break;case"teamOnly":c=function(e){return a.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.team.distanceKm")>0};break;case"wheelOnly":c=function(e){return a.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.wheel.distanceKm")>0}}var l=r.filter(c);o.setState({filteredDogs:l})},o.state=i({dogsLeft:[],dogsRight:[]},v),o}a(o,t);var s=o.prototype;return s.loadDog=function(e){return new Promise(function(t,o){var s;return void 0===e&&(e=this.props),s=this.props.showPositions,Promise.resolve(e.stores.dogStore.load({query:{deceased:0},addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]})).then(function(){try{return s&&this.dndDogs({}),this.getFilteredDogs(),t()}catch(e){return o(e)}}.bind(this),o)}.bind(this))},s.componentWillReceiveProps=function(e){e.filter!==this.props.filter&&this.getFilteredDogs(e)},s.componentDidMount=function(){this.loadDog()},s.render=function(){var t=this,o=this.state,s=o.filterby,a=o.filterText,n=o.showSearchField,i=o.dogsLeft,r=void 0===i?[]:i,c=o.dogsRight,h=void 0===c?[]:c,g=o.dogPositionUpdated,f=o.filteredDogs,v=void 0===f?[]:f,y=this.props.stores,w=y.userStore,k=y.dogStore,x=k.dogs,S=void 0===x?[]:x,P=w.user.language,D=void 0===P?"en":P,T=this.props,I=T.saved,L=void 0===I?{}:I,C=T.object,R=T.field,_=T.title,E=T.icon,F=T.help,U=T.showPositions,H=void 0!==U&&U,A=T.currentTeam,N=void 0===A?{}:A,V=Object(u.i)(C[R])||[],z=this.findAllDogsInTeams(),M=C.teams?C.teams.map((function(e){return w.findTeam(e)})):[];return Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(L[R+"."+C.id]?"is-valid":"")},Object(l.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(l.h)("i",{class:"fas fa-search"})),Object(l.h)("button",{class:"btn btn-sm btn-link float-right mr-5",onClick:this.clearAllDogs},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.remove-all-dogs"},"Fjern alle hundene")),Object(l.h)("label",{for:R+"Input"},E&&Object(l.h)("i",{class:E+" text-muted"})," ",_),Object(l.h)("div",{class:"container-fluid px-0"},n&&Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)(p.b,null,Object(l.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:Object(l.h)(p.c,{id:"dog.dogs.search-for-dogs"},"Søk etter hund"),value:a,onInput:Object(b.a)(this,"filterText")})))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto my-2 mx-auto"},Object(l.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding-top: 0; padding-bottom: 0; height: 1.4em; font-size: 0.8em;",onInput:this.changeFilter},Object(l.h)("option",{value:"",selected:!s},"-- ",Object(l.h)(p.c,{id:"dog.dogs.choose-filter"},"Choose filter")," ---"),Object(l.h)("option",{value:"all",selected:"all"===s},Object(l.h)(p.c,{id:"dog.dogs.show-all"},"Vis alle")),Object(l.h)("option",{value:"onlySelected",selected:"onlySelected"===s},Object(l.h)(p.c,{id:"dog.dogs.show-only-selected"},"Vis kun valgte")),Object(l.h)("option",{value:"onlyTeam",selected:"onlyTeam"===s},Object(l.h)(p.c,{id:"dog.dogs.show-only-team-dogs"},"Vis kun hundene i teamet")),Object(l.h)("option",{value:"leadOnly",selected:"leadOnly"===s},Object(l.h)(p.c,{id:"dog.dogs.show-lead-dogs-only"},"Vis kun lederhunder")),Object(l.h)("option",{value:"pointOnly",selected:"pointOnly"===s},Object(l.h)(p.c,{id:"dog.dogs.show-point-dogs-only"},"Vis kun pointhunder")),Object(l.h)("option",{value:"teamOnly",selected:"teamOnly"===s},Object(l.h)(p.c,{id:"dog.dogs.show-team-dogs-only"},"Vis kun teamhunder")),Object(l.h)("option",{value:"wheelOnly",selected:"wheelOnly"===s},Object(l.h)(p.c,{id:"dog.dogs.show-wheel-dogs-only"},"Vis kun wheelhunder"))))))),Object(l.h)("div",{class:"row"},z.length>0&&Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-primary btn-block",onClick:this.addAllDogsInTeam},Object(l.h)("i",{class:"fas fa-plus mr-2"})," ",Object(l.h)(p.c,{id:"dog.dogs.add-all-in-team",fields:{total:z.length}},"Add all dogs in team"),N.name?": "+N.name:"",M&&M.length>0&&Object(l.h)("span",{class:"font-weight-lighter"},", ",M.map((function(t,o){return Object(l.h)(e,null,o>0?", ":"",t)}))))),d.a.isArray(S)&&v.map((function(e){var o=w.findDogstatus({status:e.status,language:D}),a=w.findDogposition({position:e.position,language:D}),n=k.findHistoryStatuses(e.id);return Object(l.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-1"},Object(l.h)("div",{class:"border rounded px-3 pt-2 pb-1 "+(V.indexOf(e.id)>-1?"bg-success":"")+" position-relative",onClick:t.toggleDog,id:"dogContainer","data-id":e.id,style:"padding: .3rem !important; line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},a&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-"+(a.class||"primary")+" mr-3"},a.icon&&Object(l.h)("i",{class:a.icon})," ",a.name)),"leadOnly"===s&&d.a.getNestedValue(e,"positions.lead.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-lead"},"Lead"),": ",d.a.format(d.a.getNestedValue(e,"positions.lead.distanceKm"),0),"km")),"pointOnly"===s&&d.a.getNestedValue(e,"positions.point.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-point"},"Point"),": ",d.a.format(d.a.getNestedValue(e,"positions.point.distanceKm"),0),"km")),"teamOnly"===s&&d.a.getNestedValue(e,"positions.team.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-team"},"Team"),": ",d.a.format(d.a.getNestedValue(e,"positions.team.distanceKm"),0),"km")),"wheelOnly"===s&&d.a.getNestedValue(e,"positions.wheel.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-wheel"},"Wheel"),": ",d.a.format(d.a.getNestedValue(e,"positions.wheel.distanceKm"),0),"km")),Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2",style:e.image?'background-image: url("'+e.image.s3ThumbLink+'");':""},!e.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},d.a.ucfirst(e.name,!0))),Object(l.h)("div",{class:"flex-grow-1 pl-2 pr-1",style:"border-right: 4px solid "+w.findHarness(e.harness,"colorNonstop")+" !important; line-height: 0.9em;"},Object(l.h)("small",null,Object(l.h)("small",{class:"float-right"},e.birth&&Object(l.h)("span",{class:"mr-1"},d.a.age(e.birth,e.deceased)),"female"===e.gender?Object(l.h)("i",{class:"fas fa-venus"}):Object(l.h)("i",{class:"fas fa-mars"})),e.shortname||e.name,Object(l.h)("br",null),Object(l.h)("div",{style:"line-height: 0.8em;"},Object(l.h)("small",null,w.findTeam(e.team)))),Object(l.h)("small",{class:"float-right"},o&&o.id&&Object(l.h)("span",{class:"badge badge-"+o.class+" mr-2 font-weight-light"},o.icon&&Object(l.h)("i",{class:o.icon})," ",o.name),e.specialNeeds&&Object(l.h)("span",{class:"badge badge-warning mr-2 font-weight-light"},Object(l.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),n&&n.map((function(e){return Object(l.h)("span",{class:"badge badge-warning mr-2",title:d.a.isoDate(e.endDate,!1,!1,!0)},e.title)})))))))})))),L[R+"."+C.id]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(p.c,{id:"dog.dogs.saved-changes"},"Endringene er lagret")):Object(l.h)("small",{id:R+"Help",class:"form-text text-muted"},F),H&&Object(l.h)(e,null,Object(l.h)("div",{class:"container-fluid px-0 clearfix"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,Object(l.h)(p.c,{id:"dog.dogs.dogs-positions"},"Posisjoner i spannet")))),Object(l.h)(m.a,{onDragEnd:this.onDragEnd},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6 pr-0",style:"min-height: 100px;"},Object(l.h)(m.c,{droppableId:"dogsLeft"},(function(e,o){return Object(l.h)(O,{provided:e,snapshot:o,innerRef:e.innerRef,className:"ml-auto"},r&&r.map((function(e,s){return Object(l.h)(m.b,{key:e.id+"-"+e.unique,draggableId:"dragId-"+e.id+"-"+e.unique,index:s},(function(a){return Object(l.h)(j,{provided:a,snapshot:o,innerRef:a.innerRef,dog:e,removePlaceholder:t.removePlaceholder,idx:s,list:"dogsLeft"})}))})),e.placeholder)}))),Object(l.h)("div",{class:"col-6 pl-0",style:"min-height: 100px;"},Object(l.h)(m.c,{droppableId:"dogsRight"},(function(e,o){return Object(l.h)(O,{provided:e,snapshot:o,innerRef:e.innerRef,className:"mr-auto"},h&&h.map((function(e,s){return Object(l.h)(m.b,{key:e.id+"-"+e.unique,draggableId:"dragId-"+e.id+"-"+e.unique,index:s},(function(a){return Object(l.h)(j,{provided:a,snapshot:o,innerRef:a.innerRef,dog:e,removePlaceholder:t.removePlaceholder,idx:s,list:"dogsRight"})}))})),e.placeholder)}))))),Object(l.h)("div",{class:"row mb-3 mt-2"},Object(l.h)("div",{class:"col-6 pr-0"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderLeft},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))),Object(l.h)("div",{class:"col-6 pl-0"},Object(l.h)("button",{class:"float-right btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderRight},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))))),Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"btn btn-sm btn-"+(g?"primary":"secondary"),onClick:this.updateDogPositions},Object(l.h)("i",{class:"fas fa-save"})," ",Object(l.h)(p.c,{id:"dog.dogs.saveDogPositions"},"Save dog positions"))),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-warning",onClick:this.resetDogPositions},Object(l.h)("i",{class:"fas fa-sync"})," ",Object(l.h)(p.c,{id:"dog.dogs.resetDogPositions"},"Reset dog positions")))),Object(l.h)("div",{class:"row mt-2"},Object(l.h)("div",{class:"col-6"}," "),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-link",onClick:this.clearDogPositions},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.clearDogPositions"},"Clear dog positions")))))))},o}(l.Component))||c;t.a=y}).call(this,o("hosL").Fragment)},"3pQw":function(e,t,o){"use strict";var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4");o("OhSV"),Object(i.a)(s=function(e){function t(){return e.apply(this,arguments)||this}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props.summary,t=void 0===e?{}:e;return Object(a.h)("div",{class:"w-100 mb-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded"},Object(a.h)("div",{class:"text-muted mt-2",style:"font-size: 40px; line-height: 1;"},t.week),Object(a.h)("div",{class:"text-muted",style:"font-size: 10px; line-height: 0.8em;"},t.year)),Object(a.h)("div",{class:"flex-grow-1 pl-3"},Object(a.h)("h5",{class:"my-0"},t.week," - ",t.year),Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-wave-square"})," ",t.count,Object(a.h)("i",{class:"fas fa-road ml-2"})," ",n.a.format(t.distanceKm,0),"km",Object(a.h)("i",{class:"fas fa-mountain ml-2"})," ",n.a.format(t.elevation,0),"m",Object(a.h)("i",{class:"fas fa-stopwatch ml-2"})," ",n.a.secToHms(t.duration),Object(a.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",n.a.format(t.speedAvg,1),"km/t")))))},t}(a.Component))},"3wGD":function(e,t,o){"use strict";var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("OhSV"),c=o("go65"),l=(o("ETxl"),o("ZOvn")),d=Object(i.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).commentWorkout=function(){return new Promise((function(e,t){var s,a,n,i,r,c,d,h,u,b,p;return o.state.sendButtonEnabled?(n=void 0===(a=(s=o.props).callback)?function(){}:a,i=s.commentId,c=void 0===(r=s.inputRefObject)?{}:r,d=o.props.workout,h=o.props.stores.workoutStore,b=void 0===(u=o.state.comment)?"":u,o.setState({sendButtonEnabled:!1}),Promise.resolve(h.commentReplyWorkout({id:d.id,commentId:i,comment:b})).then((function(s){try{return(p=s)&&200===p.status&&(o.setState({comment:""},(function(){l.a.resizeTextarea(c[i])})),n({workout:d,response:p,commentId:i})),o.setState({sendButtonEnabled:!0}),e()}catch(e){return t(e)}}),t)):e(!1)}))},o.state={sendButtonEnabled:!0},o.inputRef={},o}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props.inputRef,t=this.state,o=t.comment,s=t.sendButtonEnabled,i=this.props.stores.userStore.user,d=void 0===i?{}:i,h=d.firstname?""+n.a.ucfirst(d.firstname,!0)+n.a.ucfirst(d.lastname,!0):""+n.a.ucfirst(d.email||"",!0),u=d.image||(d.images?d.images[0]:void 0);return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?"background-image: url('"+u.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!u&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(a.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(r.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:o,ref:e})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(a.h)("button",{type:"button",class:"btn btn-"+(s?"primary":"secondary")+" mb-2",disabled:!s,onClick:this.commentWorkout},Object(a.h)("i",{class:"fas fa-paper-plane"})))))))},t}(a.Component))||s;t.a=d},"7L9N":function(e,t,o){"use strict";function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}o.d(t,"a",(function(){return a}))},"8Lgr":function(e,t,o){"use strict";(function(e){function s(e){return i.a.format(e,e<5?2:1)}var a,n=o("hosL"),i=o("Utv1"),r=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(r.a)(a=function(t){function o(){return t.apply(this,arguments)||this}var a,i;return i=t,(a=o).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,o.prototype.render=function(){var t=this.props,o=t.value,a=void 0===o?0:o,i=t.smallUnit,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(n.h)(e,null,Object(n.h)("nobr",null,s(function(e){return.621371*e}(a))," ",i?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(e,null,"mi"))):Object(n.h)(e,null,Object(n.h)("nobr",null,s(a)," ",i?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(e,null,"km")))},o}(n.Component))||a);t.a=c}).call(this,o("hosL").Fragment)},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},ETxl:function(e){e.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GeWT:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s=Object.defineProperty,a=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,r=Object.getPrototypeOf,c=r&&r(Object);e.exports=function e(l,d,h){if("string"!=typeof d){if(c){var u=r(d);u&&u!==c&&e(l,u,h)}var b=a(d);n&&(b=b.concat(n(d)));for(var p=0;p<b.length;++p){var m=b[p];if(!(t[m]||o[m]||h&&h[m])){var g=i(d,m);try{s(l,m,g)}catch(e){}}}return l}return l}},"JWe/":function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var c,l=o("hosL"),d=o("Utv1"),h=o("/eY4"),u=o("cneo"),b=o("OhSV"),p=o("fh8t"),m=o.n(p),g=(o("UJvz"),o("sqi2")),f=o("/922"),O=o("s4FZ"),j=o("ZQlJ"),v=o("q/oJ"),y=o("gWxU"),w=o("Nanz"),k=o("+JSK"),x=o("vY+r"),S=o("nHdA"),P=o("irB3"),D=o("UwwE"),T=o("8Lgr"),I=o("QkTp"),L=o("ZOvn"),C=L.a.getMaxLoadIndex(),R={showAddComment:!1,viewImageIdx:{},likeWorkout:{}},_=Object(h.a)(c=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleDate=function(e){e.stopPropagation(),e.preventDefault(),o.setState({showDate:!o.state.showDate})},o.likeWorkout=function(){return new Promise((function(e,t){var s,a,n;return s=o.props.stores.workoutStore,(n=o.state.likeWorkout)[a=o.props.workout.id]=!0,o.setState({likeWorkout:n}),setTimeout((function(){var e=o.state.likeWorkout;delete e[a],o.setState({likeWorkout:e})}),1200),Promise.resolve(s.likeWorkout({id:a})).then((function(o){try{return o,e()}catch(e){return t(e)}}),t)}))},o.toggleAddComment=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id;o.setState({showAddComment:!o.state.showAddComment},(function(){o.inputRef[t]&&o.inputRef[t].focus()}))},o.viewImage=function(e){var t=e.target.closest("img").dataset,s=o.state.viewImageIdx;s[t.id]=t.idx,o.setState({viewImageIdx:s})},o.shareLink=function(e){var t=e.target.closest("button").dataset;o.props.stores.appState.shareUrl({url:t.url,title:t.title,text:t.text})},o.onTeamClick=function(e,t){return e.preventDefault(),e.stopPropagation(),o.setState({showTeam:t}),!1},o.hideTeam=function(){o.setState({showTeam:null})},o.onUserClick=function(e){return e.preventDefault(),e.stopPropagation(),!1},o.onDogClick=function(e,t,s){return e.preventDefault(),e.stopPropagation(),o.setState({showDog:t,dogs:s}),!1},o.hideDog=function(){o.setState({showDog:null})},o.state=a({},R),o.updateTimer={},o.inputRef={},o}var s,n;return n=t,(s=o).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,o.prototype.render=function(){var t=this,o=this.state,s=o.showDate,n=o.showAddComment,c=o.likeWorkout,h=o.dogs,p=o.showTeam,R=o.showDog,_=this.props,E=_.workout,F=_.showDate,U=_.wrapperClasses,H=void 0===U?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3":U,A=_.wrapperClassesRow,N=void 0===A?"row":A,V=this.props.stores,z=V.userStore,M=V.appState,B=V.workoutStore,Y=M.viewmode,q=M.hasShareApi,W=z.user,K=z.dogs,X=W.language,Z=void 0===X?"en":X,G=z.findIntensity({code:E.intensity,language:Z})||{},J=z.findTeam(E.team,!0)||{},Q=J.name,$=[];Q&&$.push(Q),E.teams&&E.teams.forEach((function(e){z.findTeam(e)&&$.push(z.findTeam(e))}));var ee=E.likes,te=void 0===ee?[]:ee,oe=E.comments,se=void 0===oe?[]:oe,ae=E.likes&&E.likes.findIndex((function(e){return e.user===W.id}))>-1,ne=E.gpxInfo,ie=E.mushers,re=void 0===ie?[]:ie,ce=(void 0===ne?{}:ne).loadIndex,le=void 0===ce?0:ce,de=z.findEquipment({equipment:E.equipment,language:Z}),he=z.findEquipment({equipment:E.equipment,field:"icon"}),ue=[];re.length>1&&re.slice(1,10).map((function(e){var t=B.findPublicUser(e)||{};t.images&&t.images[0]&&ue.push(t.images[0])}));var be,pe=B.findPublicUser(re[0])||{};pe&&pe.images&&pe.images[0]?be=pe.images[0]:J.image&&J.image.s3SmallLink?be=J.image:J.images&&J.images[0]&&J.images[0].s3SmallLink?be=J.images[0]:E.image&&E.image.s3SmallLink&&(be=E.image);var me=[];if(E.mapImage&&me.push(a(a({},E.mapImage),{},{type:"map"})),E.images){var ge=Object(u.i)(E.images);me.push.apply(me,ge)}var fe;E&&E.gpxInfo&&E.gpxInfo.battegryLevelStart&&(fe=100*(E.gpxInfo.battegryLevelStart-E.gpxInfo.battegryLevelEnd));var Oe=L.a.getViews(E.statistics);return Object(l.h)(e,null,p&&Object(l.h)(v.a,null,Object(l.h)(y.default,{stores:this.props.stores,teamid:p,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),R&&Object(l.h)(v.a,null,Object(l.h)(w.default,{stores:this.props.stores,dogid:R,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:h})),Object(l.h)("div",{class:"w-100 mb-2"},Object(l.h)("div",{class:N},Object(l.h)("div",{class:H+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+i(E),style:(be?'background-image: url("'+be.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!be&&Object(l.h)("i",{class:r(E)+" text-"+(G.class?G.class:"muted")+" mt-3",style:"font-size: 40px;"}),ue&&ue.map((function(t,o){return Object(l.h)(e,null,Object(l.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:'\n                                            background-image: url("'+t.s3SmallLink+'");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: '+(10*o-5)+"px;\n                                        "}))}))),0!==E.temperature&&Object(l.h)(e,null,Object(l.h)("span",{class:"text-muted font-weight-light"},Object(l.h)(I.a,{stores:this.props.stores,value:E.temperature})))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("span",{class:"float-right"},1===E.isLocked&&Object(l.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===E.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===E.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(l.h)("a",{class:"stretched-link",href:"/workouts/"+E.id},Object(l.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},E.name)),$&&$.length>0&&Object(l.h)("small",{class:"font-weight-lighter"},$.map((function(t,o){return Object(l.h)(e,null,o>0?", ":"",t)}))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},E.date&&Object(l.h)("small",{onClick:this.toggleDate},F||s?d.a.formatDate(E.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):d.a.formatDistance(E.date,new Date,{locale:"no-NB"})),Object(l.h)("span",{class:"badge badge-"+G.class+" ml-2"},G.name),le>0&&Object(l.h)("span",{class:"ml-2 text-"+L.a.getLoadIndexColor(d.a.normalizeBetween(le,0,C,0,100))},Object(l.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(d.a.normalizeBetween(le,0,C,0,100))," - ",L.a.getLoadIndexText(d.a.normalizeBetween(le,0,C,0,100))),Object(l.h)("br",null)),Object(l.h)("small",null,Object(l.h)("div",{class:"text-muted"},E.garminId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),E.stravaId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),E.equipment>0&&Object(l.h)(e,null,Object(l.h)("i",{class:he+" ml-2"})," ",de),E.dogs>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",E.dogs.length),E.track>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-map-marked text-"+(E.track>0?"success":"danger")+" ml-2"})),E.dogsLeft>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-crosshairs text-"+(E.dogsLeft&&E.dogsRight?"success":"danger")+" ml-2"})),E.sledWeight>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(l.h)(D.a,{stores:this.props.stores,value:E.sledWeight})),fe>0&&Object(l.h)("span",{class:"text-muted ml-2"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",d.a.format(fe,1),"% ",Object(l.h)(b.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(Y)>-1&&Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-balance-scale"})," ",d.a.format(E.kcalBurnedTotal)," ",Object(l.h)(b.c,{id:"workout.kcal"},"kcal"),Object(l.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(l.h)(D.a,{stores:this.props.stores,value:E.kcalMeatGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-fish ml-2"})," ",Object(l.h)(D.a,{stores:this.props.stores,value:E.kcalSalmonGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(l.h)(D.a,{stores:this.props.stores,value:E.kcalFatGramsTotal/1e3}))))),Object(l.h)("div",{class:H+" position-relative mt-2"},Object(l.h)("strong",null,E.description)),Object(l.h)("div",{class:H+" position-relative"},Object(l.h)(m.a,{markdown:L.a.replaceImages(E.comment,E.images,Z),markdownOpts:L.a.getMarkdownOptions()})),Object(l.h)("div",{class:H+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row mt-1"},E.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(b.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(T.a,{stores:this.props.stores,value:E.distanceKm}))),E.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(b.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(P.a,{stores:this.props.stores,value:E.elevation}))),E.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(b.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},d.a.secToHms(E.duration,!0))),E.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(b.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},E.gpxInfo&&E.gpxInfo.avgGpsMovingSpeed>0?Object(l.h)(e,null,Object(l.h)(S.a,{stores:this.props.stores,value:3.6*E.gpxInfo.avgGpsMovingSpeed})):Object(l.h)(e,null,Object(l.h)(S.a,{stores:this.props.stores,value:E.speedAvg}))))))),["beta","advanced","normal"].indexOf(Y)>-1&&Object(l.h)("div",{class:""+H},Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row"},Object(l.h)(O.a,{stores:this.props.stores,images:me,id:E.id,dblClick:this.likeWorkout,likeRef:c})))),["beta","advanced","normal"].indexOf(Y)>-1&&Object(l.h)(e,null,E.dogs&&E.dogs.length>0&&Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row pt-2"},Object(l.h)(j.a,{stores:this.props.stores,dogs:E.dogs,allDogs:K,onDogClick:this.onDogClick}))),Object(l.h)("div",{class:"mt-2"},Object(l.h)(k.a,{stores:this.props.stores,likes:te,comments:se,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(Y)>-1&&Object(l.h)(e,null,Object(l.h)("div",{class:H+" mb-0 position-relative mt-2"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(ae?"primary":"secondary")+" btn-lg btn-block "+(ae?"text-primary":""),onClick:this.likeWorkout},Object(l.h)("i",{class:(ae?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(b.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":E.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(b.c,{id:"comments.comment-add"},"Kommentar"))),q?Object(l.h)(e,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+E.uuidv4,"data-title":"title: "+E.name},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(b.c,{id:"workout.share"},"Del")))):Object(l.h)(e,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+E.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(b.c,{id:"workout.share"},"Del")))))),Object(l.h)("div",{class:H+" mt-2 mb-3"},n&&Object(l.h)(f.a,{stores:this.props.stores,workout:E,inputRef:function(e){return t.inputRef[E.id]=e},inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(l.h)(g.a,{stores:this.props.stores,workout:E,col:"10",offset:"2",compact:!0})),Oe>0&&Object(l.h)(e,null,Object(l.h)("div",{class:"mt-2"},Object(l.h)(x.a,{stores:this.props.stores,views:Oe,object:E,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))},o}(l.Component))||c;t.a=_}).call(this,o("hosL").Fragment)},NDEG:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("ZOvn"),c=Object(i.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,i;return i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var t=this.props,o=t.dog,s=void 0===o?{}:o,i=t.dogs,c=void 0===i?[]:i,l=t.showTeam,d=t.showInfo,h=t.showName,u=void 0===h||h,b=t.showPosition,p=void 0===b||b,m=t.showAge,g=void 0!==m&&m,f=t.className,O=t.size,j=t.onDogClick,v=void 0===j?function(){}:j,y=this.props.stores.userStore,w=y.user.language,k=y.findDogposition({position:s.position,language:void 0===w?"en":w}),x=r.a.hasBirthday(s.birth),S=(Math.ceil(r.a.daysUntilNextBirthday(s.birth)),"92px"),P="",D="35px";return"small"===O?(S="50px",P="imageRoundedSmall",D="20px"):"medium"===O&&(S="60px",P="imageRoundedMedium",D="25px"),Object(a.h)("div",{class:"mb-2 position-relative "+f+" clearfix",style:"width: "+S,onTouchstart:function(e){e.stopPropagation()},onTouchend:function(e){e.stopPropagation()},onTouchmove:function(e){e.stopPropagation()}},p&&k&&Object(a.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(a.h)("span",{class:"badge badge-"+(k.class||"primary")+" mr-3"},k.icon&&Object(a.h)("i",{class:k.icon})," ",k.name)),Object(a.h)("div",{class:"text-center border rounded-circle imageRounded "+P+" mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: "+D+";"},n.a.ucfirst(s.name,!0))),Object(a.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(a.h)("small",null,Object(a.h)("a",{href:"/dogs/public/"+s.uuidv4,onClick:function(e){return v(e,s.uuidv4,c)},class:"stretched-link"},u&&Object(a.h)(e,null,Object(a.h)("span",{class:"mb-1 font-weight-light"},Object(a.h)("nobr",null,s.shortname||s.name,x&&Object(a.h)(e,null,Object(a.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(a.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(a.h)("small",null,s.birth&&g&&Object(a.h)(e,null,Object(a.h)("span",{class:"float-right"},s.birth&&Object(a.h)("span",{class:"mr-2"},n.a.age(s.birth,s.deceased)),"female"===s.gender?Object(a.h)("i",{class:"fas fa-venus"}):Object(a.h)("i",{class:"fas fa-mars"}))),l&&Object(a.h)(e,null,Object(a.h)("span",{class:"font-weight-light"},y.findTeam(s.team)),Object(a.h)("br",null)),d&&Object(a.h)("small",{class:"text-muted"},s.weight&&Object(a.h)(e,null,Object(a.h)("i",{class:"fas fa-balance-scale ml-2"})," ",n.a.format(s.weight,1)," kg"),s.bodyScore&&Object(a.h)(e,null,Object(a.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(s.bodyScore,1))))))},o}(a.Component))||s;t.a=c}).call(this,o("hosL").Fragment)},NS33:function(e,t,o){"use strict";function s(){}function a(){}var n=o("E02R");a.resetWarningCache=s,e.exports=function(){function e(e,t,o,s,a,i){if(i!==n){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return o.PropTypes=o,o}},QkTp:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,i;return i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(function(e){return 9*e/5+32}(s),0),"°F")):Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(s,1),"°C"))},o}(a.Component))||s);t.a=r}).call(this,o("hosL").Fragment)},UJvz:function(e,t,o){"use strict";var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("OhSV"),c=Object(i.a)(s=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).toggleDate=function(){t.setState({showDate:!t.state.showDate})},t.touchStart=function(e){e.stopPropagation(),t.setState({startY:e.touches[0].pageY})},t.touchEnd=function(e){e.stopPropagation(),t.setState({startY:void 0,readyToRefresh:!1})},t.touchMove=function(e){e.stopPropagation();var o=t.state;t.appContainer&&(0===t.appContainer.scrollTop&&e.touches[0].pageY>o.startY+30&&!o.refreshing&&(0,t.props.close)())},t}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this,t=this.state.showDate,o=this.props,s=o.image,i=o.imagexxl,c=o.close,l=o.thumb,d=o.name,h=o.title,u=o.date;return Object(a.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(a.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:c},"X"),Object(a.h)("div",{class:"d-flex mb-2 px-2"},l&&Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:l?'background-image: url("'+l+'");':""}," "),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},d&&Object(a.h)("strong",{class:"mr-2"},d,":"),h,Object(a.h)("br",null),Object(a.h)("small",{class:"text-muted"},u&&Object(a.h)("small",{onClick:this.toggleDate},t?n.a.formatDate(u,{locale:"no-NB"}):n.a.formatDistance(u,new Date,{locale:"no-NB"}))))),Object(a.h)("img",{src:s,class:"img-fluid align-middle mt-2 mb-2",onClick:c,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:function(t){return e.appContainer=t}}),Object(a.h)("a",{target:"_blank",rel:"noopener noreferrer",href:i||s,download:i||s},Object(a.h)("i",{class:"fas fa-download"})," ",Object(a.h)(r.c,{id:"modal.download"},"Last ned bildet")))},t}(a.Component))||s;t.a=c},UwwE:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,i;return i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(function(e){return 2.20462*e}(s),0)," lb")):Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(s,0)," kg"))},o}(a.Component))||s);t.a=r}).call(this,o("hosL").Fragment)},W0B4:function(e,t,o){e.exports=o("NS33")()},ZQlJ:function(e,t,o){"use strict";var s,a=o("hosL"),n=(o("Utv1"),o("/eY4")),i=(o("OhSV"),o("NDEG")),r=Object(n.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).scrollImages=function(e){var t=e.target,s=t.scrollLeft/t.clientWidth,a=Math.round(s),n=Math.abs(a-s);(Number.isInteger(s)||n<.1)&&o.setState({imageIdx:a})},o.sortByName=function(e,t){var s=o.props.allDogs,a=void 0===s?[]:s,n=a.find((function(t){return t.id===e})),i=a.find((function(e){return e.id===t}));return n&&i&&n.name>i.name?1:-1},o.state={imageIdx:0},o}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this,t=this.props,o=t.dogs,s=t.allDogs,n=void 0===s?[]:s,r=t.size,c=void 0===r?"medium":r,l=t.onDogClick,d=void 0===l?function(){}:l;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},o&&o.sort(this.sortByName).map((function(t){var s=n.find((function(e){return e.id===t}));return s?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(e){e.stopPropagation()},onTouchend:function(e){e.stopPropagation()},onTouchmove:function(e){e.stopPropagation()}},Object(a.h)(i.a,{stores:e.props.stores,dog:s,dogs:n.filter((function(e){return o.indexOf(e.id)>-1})).sort((function(e,t){return e.name>t.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:c,onDogClick:d}))):""}))))},t}(a.Component))||s;t.a=r},eQ6k:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=(o("Utv1"),o("/eY4")),i=o("OhSV"),r=Object(n.a)(s=function(t){function o(){for(var o,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).requestFollowTeam=function(e){var t=o.props.stores,s=t.teamStore,a=t.userStore.user,n=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);s.followRequest(n,a),o.setState({requestSent:!0})},o.unFollowTeam=function(e){var t=o.props.stores,s=t.teamStore,a=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);s.unollowTeam(a),o.setState({unfollowed:!0})},o.getButton=function(t){void 0===t&&(t="");var s=o.state.requestSent,n=o.props.stores.userStore.user,r=o.props,c=r.team,l=r.skipHome,d=c.members&&c.members.indexOf(n.id)>-1,h=c.followers&&c.followers.indexOf(n.id)>-1,u=c.blockedFollowers&&c.blockedFollowers.indexOf(n.id)>-1,b=s||c.followRequests&&c.followRequests.findIndex((function(e){return e.id===n.id}))>-1;return d?l?"":Object(a.h)("i",{class:"fas fa-home"}):h?Object(a.h)(e,null,Object(a.h)("button",{class:"btn btn-block btn-outline-secondary float-right",onClick:o.unFollowTeam,disabled:"true","data-team":c.id},Object(a.h)("i",{class:"fas fa-link mr-2"}),Object(a.h)(i.c,{id:"teams.connect.is-following"},"Følger")," ",t),Object(a.h)("button",{class:"btn btn-sm btn-block btn-danger float-right",onClick:o.unFollowTeam,"data-team":c.id},Object(a.h)("i",{class:"fas fa-unlink mr-2"}),Object(a.h)(i.c,{id:"teams.connect.unfollow"},"Unfollow"))):u?"":b?Object(a.h)("button",{class:"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(a.h)(i.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",t):c.public?Object(a.h)("button",{class:"btn btn-block btn-outline-success float-right",onClick:o.requestFollowTeam,"data-team":c.id},Object(a.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(a.h)(i.c,{id:"teams.connect.follow"},"Følg")," ",t):void 0},o}var s,n;return n=t,(s=o).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,o.prototype.render=function(){var t=this.state.unfollowed,o=this.props,s=o.team,n=o.buttonOnly,i=this.props.stores.userStore,r=i.user.language,c=void 0===r?"en":r,l=i.findTeamAmbition({ambition:s.ambitions,language:c}),d=i.findTeamType({type:s.type,language:c}),h=s.image&&s.image.s3SmallLink?s.image:null;return n?Object(a.h)(e,null,this.getButton(""+s.name)):Object(a.h)("div",{class:"w-100 mb-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:t?"text-decoration: line-through; opacity: 0.3;":""},Object(a.h)("a",{href:"/teams/public/"+s.uuidv4},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded",style:h?'background-image: url("'+h.s3SmallLink+'");  background-size: cover;':""},!h&&Object(a.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(a.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(a.h)(e,null,Object(a.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(a.h)(e,null,s.name)),Object(a.h)("div",null,s.place," ",s.country),Object(a.h)("div",null,d&&Object(a.h)("span",{class:"badge badge-pill badge-secondary"},d),l&&Object(a.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(a.h)("small",{class:"text-muted"},s&&s.dogs&&Object(a.h)("span",{class:""},Object(a.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(a.h)("div",null,this.getButton()))))},o}(a.Component))||s;t.a=r}).call(this,o("hosL").Fragment)},gWxU:function(e,t,o){"use strict";o.r(t),function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n,i=o("hosL"),r=o("Utv1"),c=o("/eY4"),l=(o("Y3FI"),o("OhSV")),d=o("fh8t"),h=o.n(d),u=(o("X9Km"),o("ZOvn")),b=o("NDEG"),p=o("s4FZ"),m=(o("jtG4"),o("eQ6k")),g=o("q/oJ"),f=o("Nanz"),O=o("1/9N"),j=u.a.marginTop(!1),v=u.a.marginTopBack(!1),y=u.a.marginBottom(),w={newTeam:{}},k=Object(c.a)(n=function(t){function o(e){var o;return(o=t.call(this,e)||this).onDogClick=function(e,t){return e.preventDefault(),e.stopPropagation(),o.setState({showDog:t}),!1},o.hideDog=function(){o.setState({showDog:null})},o.onUserClick=function(e){return e.preventDefault(),e.stopPropagation(),!1},o.subscribeNotificationTopic=function(e){return new Promise((function(t,s){var a,n;return void 0===(n=(a=o.props.stores.userStore).user.notificationTopics)?{}:n,1,Promise.resolve(a.setNotificationTopic({field:"notificationTopics."+e,value:1})).then((function(){try{return t()}catch(e){return s(e)}}),s)}))},o.back=function(){o.props.stores.history.goBack()},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},w),o.updateTimer={},o.time=(new Date).getTime(),o.apiServer=r.a.getApiServer(),o}var n,c;c=t,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var d=o.prototype;return d.loadPublicView=function(e){return new Promise(function(t,o){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(e.teamid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(e){return o(e)}}.bind(this),o)}.bind(this))},d.loadAll=function(e){return new Promise(function(t,o){return void 0===e&&(e=this.props),Promise.resolve(this.loadPublicTeam(e)).then(function(){try{return Promise.resolve(this.loadPublicView(e)).then((function(){try{return t()}catch(e){return o(e)}}),o)}catch(e){return o(e)}}.bind(this),o)}.bind(this))},d.loadPublicTeam=function(e){return new Promise(function(t,o){return void 0===e&&(e=this.props),Promise.resolve(e.stores.teamStore.loadPublicDetail({id:e.teamid})).then((function(){try{return t()}catch(e){return o(e)}}),o)}.bind(this))},d.componentDidMount=function(){var e=this.props.back,t=void 0===e?this.back:e,o=this.props.stores.appState;o.setSwipeRight((function(){o.setSwipeRight(),t()})),this.loadAll()},d.componentWillReceiveProps=function(e){e.teamid!==this.props.teamid&&this.loadAll(e)},d.render=function(){var t=this,o=this.state.showDog,s=this.props.stores,a=s.teamStore,n=s.userStore,c=n.user,d=n.isAdmin,w=c.language,k=void 0===w?"en":w,x=a.publicTeam,S=a.publicViewsGraphData,P=!(!x||!x.members)&&x.members.some((function(e){return e.id===c.id})),D=this.props,T=D.marginTop,I=D.marginBottom,L=D.back,C=void 0===L?this.back:L,R=D.hideTeam,_=void 0===R?function(){}:R,E=x.dogs,F=void 0===E?[]:E,U=x.image,H=x.imageHeader,A=x.publicTrophys,N=x.publicMemories,V=x.publicDogs,z=H&&H.s3XXLargeLink?H:{s3XXLargeLink:"./assets/homerun-race-logo.png"},M=U&&U.s3LargeLink?U:null,B=n.findTeamAmbition({ambition:x.ambitions,language:k}),Y=n.findTeamType({type:x.type,language:k}),q=x.members&&x.members.findIndex((function(e){return e.id===c.id}))>-1,W=x&&x.followers&&x.followers.indexOf(c.id)>-1,K=x.followRequests&&x.followRequests.findIndex((function(e){return e.id===c.id}))>-1,X=c.notificationTopics,Z=void 0===X?{}:X,G="team-"+x.id;return Object(i.h)(e,null,o&&Object(i.h)(g.a,null,Object(i.h)(f.default,{stores:this.props.stores,dogid:o,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:F})),Object(i.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(I||y)+"; margin-top: "+(T||j)+";"},Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+v+"; left: 5px; font-size: 35px; width: 45px;",onClick:C},Object(i.h)("i",{class:"fas fa-arrow-circle-left"})),Object(i.h)("div",{class:"row mb-0"},Object(i.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(z?'background-image: url("'+z.s3XXLargeLink+'");':"")},q&&Object(i.h)(e,null,Object(i.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+x.id},Object(i.h)("i",{class:"fas fa-edit"})," ",Object(i.h)(l.c,{id:"teams.edit"},"Endre")))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(i.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(M?'background-image: url("'+M.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!M&&Object(i.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(i.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"my-0"},x.name),Object(i.h)("small",{class:"text-muted"},x.place?x.place+", ":"",x.country),Object(i.h)("br",null),Y&&Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2"},Y),B&&Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},B),Object(i.h)("h6",{class:"mt-2"},Object(i.h)("span",{class:"mr-3"},Object(i.h)("span",{class:"font-weight-bolder"},x.followers?x.followers.length:0)," ",Object(i.h)(l.c,{id:"teams.followers"},"followers")),Object(i.h)("span",{class:"mr-3"},Object(i.h)("span",{class:"font-weight-bolder"},x.dogs?x.dogs.length:0)," ",Object(i.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!Z||!Z[G])&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return t.subscribeNotificationTopic(G)}},Object(i.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!q&&!W&&!K&&x.public>0&&Object(i.h)("div",{class:"clearfix mb-2"},Object(i.h)(m.a,{stores:this.props.stores,team:x,buttonOnly:!0,skipHome:!0})))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"d-flex justify-content-center"},q&&!x.facebook&&Object(i.h)(e,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fab fa-facebook"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),x.url&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asUrl(x.url),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-link"})))),x.facebook&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asFacebookLink(x.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"})))),x.instagram&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asInstagramLink(x.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"})))),x.snapchat&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asSnapchatLink(x.snapchat),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-snapchat"}))))),Object(i.h)("div",{class:"d-flex justify-content-center mt-3"},Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+x.uuidv4},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+x.uuidv4,onClick:_},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),x.imagesSponsor&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:x.imagesSponsor.length}},"Sponsorer - ",x.imagesSponsor.length," stk"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(i.h)(p.a,{stores:this.props.stores,images:x.imagesSponsor}))),x.sponsors&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},q&&!x.sponsors&&Object(i.h)(e,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-sponsors"},"Gå inn på endring av teamet for å legge inn sponsorer.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.sponsors,x.imagesSponsor,k),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},q&&!x.description&&Object(i.h)(e,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.description,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))),x.descriptionWorkoutplan&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},q&&!x.descriptionWorkoutplan&&Object(i.h)(e,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-description-workoutplan"},"Gå inn på endring av teamet for å legge inn en treningsplan.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.descriptionWorkoutplan,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))),V&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.dogs",fields:{total:F.length}},"Hundene - ",F.length," stk"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"row"},F&&F.map((function(e){return Object(i.h)(b.a,{stores:t.props.stores,dog:e,showAge:!0,className:"col",onDogClick:t.onDogClick})}))))),x.images&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.public-photos",fields:{total:x.images.length}},"Teambilder - ",x.images.length," stk"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(i.h)(p.a,{stores:this.props.stores,images:x.images}))),N&&x.achievements&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},x.achievements&&x.achievements.map((function(e){return Object(i.h)("div",{class:"col-12"},e.date&&Object(i.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(e.date,!1,!1,!0)),Object(i.h)("span",{class:"mr-2 font-weight-bold"},e.name),Object(i.h)("span",{class:"mr-2 font-weight-light"},e.description),e.url&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("a",{href:u.a.asUrl(e.url),target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fas fa-link"}))))}))))),A&&x.trophys&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},x.trophys&&x.trophys.reverse().map((function(e){var t=u.a.getTrophyImage(e.name);if(!t)return"";var o=e.descriptionHeader&&e.descriptionHeader[k]?e.descriptionHeader[k]:"",s=e.description&&e.description[k]?e.description[k]:"";return Object(i.h)("div",{class:"col-4 mt-3"},Object(i.h)("div",{class:"mb-2"},Object(i.h)("img",{src:t,class:"img-fluid"})),Object(i.h)("strong",null,o),Object(i.h)("small",null,Object(i.h)("details",null,Object(i.h)("summary",null,Object(i.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(i.h)(h.a,{markdown:u.a.replaceImages(s,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))))}))))),Object(i.h)("div",{class:"row mt-5 mb-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-ellipsis-h"})),Object(i.h)("div",{style:"line-height: 0.9em;"},Object(i.h)("small",null,Object(i.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(d||P)&&Object(i.h)(e,null,Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(i.h)(O.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+x.uuidv4})),x.uuidv4&&Object(i.h)("img",{src:this.apiServer+"/api/teams/"+x.uuidv4+"/view?user="+c.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},o}(i.Component))||n;t.default=k}.call(this,o("hosL").Fragment)},irB3:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,i;return i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,i=t.smallUnit,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(function(e){return 3.28084*e}(s),0)," ",i?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(a.h)(e,null,"ft"))):Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(s,0)," ",i?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"m")))):Object(a.h)(e,null,"m")))},o}(a.Component))||s);t.a=r}).call(this,o("hosL").Fragment)},jtG4:function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n,i=o("hosL"),r=(o("Utv1"),o("/eY4")),c=(o("Y3FI"),o("OhSV")),l=o("ZOvn"),d={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},h=Object(r.a)(n=function(t){function o(o){var n;return(n=t.call(this,o)||this).requestFollowTeam=function(e){return new Promise((function(t){var o=n.props.stores,s=o.teamStore,a=o.userStore.user,i=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);s.followRequest(i,a);var r=n.state.requestSent;return r[i]=!0,n.setState({requestSent:r}),t()}))},n.confirmRequest=function(e){return new Promise((function(t,o){var s,a,i,r,c,l,d,h,u;return a=void 0===(s=n.props.callback)?function(){}:s,i=e.target.closest("button").dataset,l=n.props.stores.teamStore,u=(d=n.state).deleted,(h=d.confirmed)[(r=i.team)+"-"+(c=i.user)]=!0,delete u[r+"-"+c],n.setState({confirmed:h,deleted:u}),Promise.resolve(l.confirmFollowRequest({team:parseInt(r,10),user:parseInt(c,10)})).then((function(){try{return a(),t()}catch(e){return o(e)}}),o)}))},n.deleteRequest=function(e){return new Promise((function(t,o){var s,a,i,r,c,l,d,h,u;return a=void 0===(s=n.props.callback)?function(){}:s,i=e.target.closest("button").dataset,l=n.props.stores.teamStore,u=(d=n.state).confirmed,(h=d.deleted)[(r=i.team)+"-"+(c=i.user)]=!0,delete u[r+"-"+c],n.setState({deleted:h,confirmed:u}),Promise.resolve(l.deleteFollowRequest({team:parseInt(r,10),user:parseInt(c,10)})).then((function(){try{return a(),t()}catch(e){return o(e)}}),o)}))},n.unFollowTeam=function(e){var t=n.props.stores,o=t.teamStore,s=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);o.unollowTeam(s),n.setState({unfollowed:!0})},n.getUnblockButton=function(t,o){var s=n.state.confirmed[o+"-"+t];return Object(i.h)(e,null,s?Object(i.h)(e,null,Object(i.h)("small",{class:"text-success"},Object(i.h)("i",{class:"fas fa-check"})," ",Object(i.h)(c.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:n.confirmRequest,"data-team":o,"data-user":t},Object(i.h)(c.c,{id:"teams.connect.confirm"},"Confirm"))))},n.getButton=function(t){var o=n.state.requestSent,s=n.props.stores.userStore.user,a=t.members&&t.members.indexOf(s.id)>-1,r=t.followers&&t.followers.indexOf(s.id)>-1,l=t.blockedFollowers&&t.blockedFollowers.indexOf(s.id)>-1,d=o[t.id]||t.followRequests&&t.followRequests.findIndex((function(e){return e.id===s.id}))>-1;return a?Object(i.h)("i",{class:"fas fa-home"}):t.public?r?Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:n.unFollowTeam,disabled:"true","data-team":t.id},Object(i.h)("i",{class:"fas fa-link mr-2"}),Object(i.h)(c.c,{id:"teams.connect.is-following"},"Følger")),Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:n.unFollowTeam,disabled:"true","data-team":t.id},Object(i.h)(c.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(i.h)(e,null):d?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(i.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:n.requestFollowTeam,"data-team":t.id},Object(i.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(i.h)(c.c,{id:"teams.connect.follow"},"Følg")):Object(i.h)(e,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(c.c,{id:"teams.not-public"},"Ikke offentlig")))},n.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},d),n.updateTimer={},n}var n,r;return r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,o.prototype.render=function(){var t,o,s,a,n=this.state,r=n.deleted,d=void 0===r?{}:r,h=n.unfollowed,u=this.props,b=u.team,p=u.isBlocked,m=u.myTeamId,g=u.showBlockButton,f=this.props.stores.storyStore.findPublicUser(b.user)||b.user||{};b.image&&b.image.s3SmallLink?t=b.image:b.images&&b.images[0]&&b.images[0].s3SmallLink?t=b.images[0]:f.image&&f.image.s3SmallLink?t=f.image:f.images&&f.images[0]&&f.images[0].s3SmallLink&&(t=f.images[0]),b&&b.name?(o=l.a.displayNameShort(b),s=l.a.displayName(b),a=l.a.displayName(f)):f&&f.id&&(o=l.a.displayNameShort(f),s=l.a.displayName(f));var O=d[m+"-"+f.id];return Object(i.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:h?"text-decoration: line-through; opacity: 0.3;":""},Object(i.h)("div",{class:"d-flex position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:t?'background-image: url("'+t.s3MediumLink+'"); background-size: cover;':""},!t&&Object(i.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},o)),Object(i.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"mb-0"},b.public?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+b.uuidv4},s)):Object(i.h)(e,null,s)),Object(i.h)("div",null,b.place?b.place+", ":""," ",b.country,"  "),Object(i.h)("div",null,Object(i.h)("small",{class:"text-muted"},b&&b.dogs&&Object(i.h)("span",{class:""},Object(i.h)("i",{class:"fas fa-dog"})," ",b.dogs.length),b&&b.followers&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-user"})," ",b.followers.length),a&&Object(i.h)(e,null,Object(i.h)("small",{class:"ml-2 text-muted"},a)),g&&Object(i.h)(e,null,O?Object(i.h)(e,null,Object(i.h)("small",{class:"text-danger ml-3"},Object(i.h)("i",{class:"fas fa-ban"})," ",Object(i.h)(c.c,{id:"teams.connect.deleted"},"Deleted"))):Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":m,"data-user":f.id},Object(i.h)("i",{class:"fas fa-ban"})," ",Object(i.h)(c.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(i.h)("div",null,p?Object(i.h)(e,null,this.getUnblockButton(f.id,m)):Object(i.h)(e,null,this.getButton(b)))))},o}(i.Component))||n;t.a=h}).call(this,o("hosL").Fragment)},mPUg:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("OhSV"),c=o("ZOvn"),l=[0,6],d=Object(i.a)(s=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).setHistoryType=function(t){var o=e.props.callback,s=void 0===o?function(){}:o,a=t.target.dataset.historytype||t.target.parentElement.dataset.historytype;a===e.state.historyType?(e.setState({historyType:null}),s(null)):(e.setState({historyType:a}),s(a))},e.chooseDay=function(t){var o=e.state,s=o.year,a=o.month,n=o.day,i=e.props.setDay,r=void 0===i?function(){}:i,c=parseInt(t.target.parentElement.dataset.day||t.target.dataset.day,10),l=parseInt(t.target.parentElement.dataset.month||t.target.dataset.month,10),d=parseInt(t.target.parentElement.dataset.year||t.target.dataset.year,10);d===s&&l===a&&c===n?(e.setState({year:null,month:null,day:null}),r(null,null,null)):(e.setState({year:d,month:l,day:c}),r(d,l,c))},e}var s,i;i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i;var d=o.prototype;return d.loadHistorySummary=function(e){return new Promise(function(t,o){var s,a,i,r,c,l,d,h,u,b,p,m,g;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),a=(s=this.props.stores).userStore,i=s.workoutStore.currentTeam,r=(new Date).getMonth()+1,d=void 0===(l=(c=e).month)?r:l,u=void 0===(h=c.year)?n.a.getYear():h,b=c.team,p=c.dog,g=void 0===(m=c.callback)?function(){}:m,Promise.resolve(a.getFeed({month:d,year:u,team:void 0===b?i:b,dog:(void 0===p?{}:p).id})).then(function(){try{return g(this.state.historyType),this.setState({isLoading:!1}),t()}catch(e){return o(e)}}.bind(this),o)}.bind(this))},d.componentDidMount=function(){this.loadHistorySummary()},d.componentWillReceiveProps=function(e){e.month===this.props.month&&e.year===this.props.year&&e.dog===this.props.dog&&e.team===this.props.team||this.loadHistorySummary(e)},d.render=function(){var t=this,o=this.state,s=o.historyType,i=o.day,d=o.month,h=o.year,u=s?function(e){return e.historyType===s}:function(){return!0},b=this.props.stores,p=b.userStore,m=p.user.language,g=void 0===m?"en":m,f=c.a.getHistoryMap(g),O=c.a.getDays(g),j=c.a.getMonths(g),v=(new Date).getDate(),y=(new Date).getMonth()+1,w=(new Date).getFullYear(),k=this.props,x=k.month,S=void 0===x?y:x,P=k.year,D=void 0===P?n.a.getYear():P,T=k.dog,I=k.basehref,L=parseInt(S,10),C=parseInt(D,10),R=c.a.getNextMonth(L,C),_=R.month,E=R.year,F=c.a.getPrevMonth(L,C),U=F.month,H=F.year,A=n.a.getDaysInMonth(S,D),N=n.a.getWeeksInMonth(S,D),V=n.a.getDaysInWeek(N[0].week,D);return Object(a.h)(e,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(a.h)("a",{href:""+(I||"/workouts/month/")+_+"/"+E+"/skipScroll",class:"float-right btn btn-sm btn-link"},Object(a.h)("i",{class:"fas fa-arrow-right"})),Object(a.h)("a",{href:""+(I||"/workouts/month/")+U+"/"+H+"/skipScroll",class:"float-left btn btn-sm btn-link"},Object(a.h)("i",{class:"fas fa-arrow-left"})),Object(a.h)("h5",null,Object(a.h)(r.c,{id:"dog.calendar.month"},"Måned")," - ",j[S-1]," ",D),T&&Object(a.h)("div",null,T.name),Object(a.h)("small",null,n.a.isoDate(A[0],!1,!1,!0)," - ",n.a.isoDate(A[A.length-1],!1,!1,!0))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(a.h)("table",{class:"table table-striped table-sm"},Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",{class:"text-muted"},Object(a.h)("small",null,Object(a.h)(r.c,{id:"dog.calendar.week"},"Uke"))),V.map((function(e){return Object(a.h)("th",null,Object(a.h)("small",null,O[e.getDay()]))})))),Object(a.h)("tbody",null,N&&N.map((function(o){var s=n.a.getDaysInWeek(o.week,D,S);return Object(a.h)("tr",null,Object(a.h)("td",{class:"text-right text-muted pt-3"},Object(a.h)("small",null,o.week)),s.map((function(o){var s=o.getFullYear(),n=o.getMonth()+1,r=o.getDate(),b=p.findHistory(s,n,r),m=p.findEndHistory(s,n,r),g=h==s&&d==n&&i==r,f=w==s&&y==n&&v==r,O=l.indexOf(o.getDay())>-1;return Object(a.h)("td",{class:"text-center font-weight-light position-relative pt-3 "+(g?"calendarIsChosen":"")+" "+(f?"calendarIsToday":"")+" "+(O?"calendarIsWeekend":""),style:"font-size: 0.8em;",onClick:t.chooseDay,"data-day":r,"data-month":n,"data-year":s},Object(a.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},o.getDate()),b&&b.length>0?Object(a.h)(e,null,b.filter(u).map((function(e,t){if(!e.historyType)return Object(a.h)("div",{class:"rounded-circle position-absolute border",style:"background-color: #808080; top: 50%; left: "+5*t+"px; width: 15px; height: 15px;"});var o=c.a.getHistoryTypeColor(e.historyType);return Object(a.h)("div",{class:"rounded-circle position-absolute border",style:"background-color: "+o+"; top: 50%; left: "+5*t+"px; width: 15px; height: 15px;"})})),b.length>1&&Object(a.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},b.length)):"-",m&&m.length>0?Object(a.h)(e,null,m.filter(u).map((function(e,t){if(!e.historyType)return Object(a.h)("div",{class:"rounded position-absolute border border-white",style:"background-color: #808080; top: 50%; left: "+5*t+"px; width: 15px; height: 15px;"});var o=c.a.getHistoryTypeColor(e.historyType);return Object(a.h)("div",{class:"rounded position-absolute border border-white",style:"background-color: "+o+"; top: 50%; left: "+5*t+"px; width: 15px; height: 15px;"})})),m.length>1&&Object(a.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.7em;"},m.length)):"-")})))}))))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4"},Object(a.h)("div",{class:"clearfix"},Object(a.h)("small",null,c.a.getHistoryPri().map((function(e){var o=c.a.getHistoryTypeColor(e);return Object(a.h)("span",{class:"float-left mr-2 "+(s===e?"font-weight-bold":"font-weight-lighter"),onClick:t.setHistoryType,"data-historytype":e},Object(a.h)("div",{class:"rounded-circle border float-left mr-1",style:"background-color: "+o+"; width: 15px; height: 15px;"})," ",f[e])})))),Object(a.h)("div",{class:"clearfix"},Object(a.h)("small",null,c.a.getHistoryPri(2).map((function(e){var o=c.a.getHistoryTypeColor(e);return Object(a.h)("span",{class:"float-left mr-2 "+(s===e?"font-weight-bold":"font-weight-lighter"),onClick:t.setHistoryType,"data-historytype":e},Object(a.h)("div",{class:"rounded-circle border float-left mr-1",style:"background-color: "+o+"; width: 15px; height: 15px;"})," ",f[e])})))),Object(a.h)("div",{class:"clearfix"},Object(a.h)("small",null,c.a.getHistoryPri(3).map((function(e){var o=c.a.getHistoryTypeColor(e);return Object(a.h)("span",{class:"float-left mr-2 "+(s===e?"font-weight-bold":"font-weight-lighter"),onClick:t.setHistoryType,"data-historytype":e},Object(a.h)("div",{class:"rounded-circle border float-left mr-1",style:"background-color: "+o+"; width: 15px; height: 15px;"})," ",f[e])}))))))},o}(a.Component))||s;t.a=d}).call(this,o("hosL").Fragment)},nHdA:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("OhSV"),c=(o("ZOvn"),Object(i.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,i;return i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,i=t.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(function(e){return.621371*e}(s),1)," ",i?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(r.c,{id:"workouts.mph"},"mph"))))):Object(a.h)(e,null,Object(a.h)(r.c,{id:"workouts.mph"},"mph")))):Object(a.h)(e,null,Object(a.h)("nobr",null,n.a.format(s,1)," ",i?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(r.c,{id:"workouts.kmt"},"km/t"))))):Object(a.h)(e,null,Object(a.h)(r.c,{id:"workouts.kmt"},"km/t"))))},o}(a.Component))||s);t.a=c}).call(this,o("hosL").Fragment)},om2D:function(e,t,o){"use strict";var s,a=o("hosL"),n=o("/eY4"),i=(o("cneo"),o("Utv1"),o("u2zT")),r=Object(n.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).handleAddImage=function(e){var t=o.props.addToImages,s=void 0===t||t,a=o.props,n=a.updateField,i=a.object,r=a.field;if(r&&n({id:i.id,field:r,value:e,skipTimer:!0}),s){var c=[];c.push(e),n({id:i.id,field:"images",value:c,skipTimer:!0})}},o.state={files:[]},o}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props,t=e.uploadStatus,o=void 0===t?function(){}:t,s=e.before,n=void 0===s?function(){}:s,r=e.after,c=void 0===r?function(){}:r,l=e.autoOpen,d=void 0===l||l;return Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)(i.a,{handleAddImage:this.handleAddImage,uploadStatus:o,apiUrl:"/api/fileupload",before:n,after:c,autoOpen:d},Object(a.h)("div",{style:{height:30,width:"100%"}}))))},t}(a.Component))||s;t.a=r},"q/oJ":function(e,t,o){"use strict";var s,a=o("hosL"),n=(o("Utv1"),o("/eY4")),i=(o("OhSV"),o("ZOvn")),r=i.a.marginTop(!1),c=i.a.marginBottom(),l=Object(n.a)(s=function(e){function t(){return e.apply(this,arguments)||this}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props.children;return Object(a.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+c+";\n                    margin-top: "+r+";\n                    height: calc(100vh - "+r+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},e)},t}(a.Component))||s;t.a=l},sqi2:function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n,i=o("hosL"),r=o("Utv1"),c=o("/eY4"),l=o("cneo"),d=o("OhSV"),h=o("fh8t"),u=o.n(h),b=o("3wGD"),p=(o("ETxl"),o("ZOvn")),m={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},g=Object(c.a)(n=function(t){function o(e){var o;return(o=t.call(this,e)||this).likeComment=function(e){return new Promise((function(t,s){var a,n,i,r,c;return n=void 0===(a=o.props.callback)?function(){}:a,i=e.target.parentElement.dataset.id||e.target.dataset.id,r=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutComment({id:r.id,commentId:i})).then((function(e){try{return(c=e)&&200===c.status&&n({type:"likeComment",workout:r,commentId:i,response:c}),t(!0)}catch(e){return s(e)}}),s)}))},o.likeReply=function(e){return new Promise((function(t,s){var a,n,i,r,c,l;return n=void 0===(a=o.props.callback)?function(){}:a,i=e.target.parentElement.dataset.id||e.target.dataset.id,r=e.target.parentElement.dataset.comment||e.target.dataset.comment,c=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutCommentReply({id:c.id,replyId:i,commentId:r})).then((function(e){try{return(l=e)&&200===l.status&&n({type:"likeReply",workout:c,commentId:r,replyId:i,response:l}),t()}catch(e){return s(e)}}),s)}))},o.replyComment=function(e){return new Promise((function(t){var s=e.target.parentElement.dataset.id||e.target.dataset.id,a=o.state.showAddComment;return a[s]=!a[s],o.setState({showAddComment:a},(function(){o.inputRef[s]&&o.inputRef[s].focus()})),t()}))},o.toggleComments=function(){o.setState({showAllComments:!o.state.showAllComments})},o.toggleReplies=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id,s=o.state.showAllReplies;s[t]=!s[t],o.setState({showAllReplies:s})},o.viewImage=function(e){var t=e.target.closest("img").dataset,s=o.state.viewImageIdx;s[t.id]=t.idx,o.setState({viewImageIdx:s})},o.translate=function(e){return new Promise((function(t,s){function a(){return o.setState({showOriginal:p,translatedText:g}),t()}var n,i,r,c,l,d,h,u,b,p,m,g,f;return e.preventDefault(),e.stopPropagation(),n=e.target.closest("button").dataset,c=o.props.workout,d=(l=o.props.stores).teamStore,h=l.userStore.user,g=void 0===(m=(u=o.state).translatedText)?{}:m,(p=void 0===(b=u.showOriginal)?{}:b)[f=(r=n.commentid)+((i=n.replyid)?"-"+i:"")]=0,i?Promise.resolve(d.translateCommentReply({commentid:r,replyid:i,object:c,user:h})).then(function(e){try{return g[f]=e,a.call(this)}catch(e){return s(e)}}.bind(this),s):Promise.resolve(d.translateComment({commentid:r,object:c,user:h})).then(function(e){try{return g[f]=e,a.call(this)}catch(e){return s(e)}}.bind(this),s)}))},o.showOriginal=function(e){var t=e.target.closest("button").dataset,s=t.replyid,a=t.commentid;e.preventDefault(),e.stopPropagation();var n=o.state.showOriginal,i=void 0===n?{}:n;i[a+(s?"-"+s:"")]=1,o.setState({showOriginal:i})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},m),o.inputRef={},o}var n,c;return c=t,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var t,o=this,s=this.state,a=s.showAddComment,n=s.showAllComments,c=s.showAllReplies,h=s.viewImageIdx,m=s.showOriginal,g=void 0===m?{}:m,f=s.translatedText,O=void 0===f?{}:f,j=this.props,v=j.workout,y=j.callback,w=void 0===y?function(){}:y,k=j.compact,x=this.props.stores,S=x.userStore,P=x.teamStore,D=S.user,T=S.isAdmin,I=D.language,L=void 0===I?"en":I,C=[],R=0,_=0;return v.comments&&(R=v.comments.length,n?C=v.comments:(t=void 0!==k&&k?0:1,C=v.comments.slice(Math.max(R-t,0))),_=C.length),Object(i.h)("div",null,v&&C&&C.reverse().map((function(s){var n=s.user,m=void 0===n?{}:n,f=P.findPublicTeamByMembers(m.id),j=p.a.displayNameShort(m),y=p.a.displayName(m),k=m.image||(m.images?m.images[0]:void 0),x=s.likes&&s.likes.findIndex((function(e){return e.user===D.id}))>-1,S=[],I=0,C=0;s.comments&&(I=s.comments.length,C=(S=c[s.id]?s.comments:s.comments.slice(0,t)).length);var R=[];if(s.images){var _=Object(l.i)(s.images);R.push.apply(R,_)}var E=h[s.id]?h[s.id]:0,F=R&&R[E]?R[E]:null,U=s.currentLocationGeocode,H=void 0===U?{}:U,A=P.getCommentTranslations({object:v,commentid:s.id,targetLang:L})||O[s.id],N=A||s.comment;return g[s.id]&&(N=s.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!m.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},j)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},y),f&&f.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},f.filter((function(e){return 1===e.public})).slice(0,2).map((function(t){return Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",t.name))})))),Object(i.h)(u.a,{markdown:p.a.replaceImages(N,s.images,L),markdownOpts:p.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"container-fluid px-3 mt-1"},F&&Object(i.h)("div",{class:"clearfix row"},Object(i.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:F.s3LargeLink}))),R&&R.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},R.map((function(t,a){return Object(i.h)(e,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:o.viewImage,"data-id":s.id,"data-idx":a})))}))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:o.likeComment,"data-id":s.id},Object(i.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":s.id},Object(i.h)(d.c,{id:"comments.comment-add"},"Kommentar")),s.language!==L&&Object(i.h)(e,null,"-",!g[s.id]&&A?Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:o.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":s.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",r.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),T&&H&&H.formatted_address&&Object(i.h)(e,null,Object(i.h)("span",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",H.formatted_address)))),s.likes&&s.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},s&&S&&S.map((function(t){var a=t.user,n=void 0===a?{}:a,c=P.findPublicTeamByMembers(n.id),l=n.firstname?""+r.a.ucfirst(n.firstname,!0)+r.a.ucfirst(n.lastname,!0):""+r.a.ucfirst(n.email||"",!0),h=n.firstname?n.firstname+" "+n.lastname:""+n.email,b=n.image||(n.images?n.images[0]:void 0),m=t.likes&&t.likes.findIndex((function(e){return e.user===D.id}))>-1,f=P.getCommentReplyTranslations({object:v,commentid:s.id,replyid:t.id,targetLang:L})||O[s.id+"-"+t.id],j=f||t.comment;return g[s.id+"-"+t.id]&&(j=t.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(b?'background-image: url("'+b.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!n.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},h),c&&c.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},c.filter((function(e){return 1===e.public})).slice(0,2).map((function(t){return Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",t.name))})))),Object(i.h)(u.a,{markdown:p.a.replaceImages(j,t.images,L),markdownOpts:p.a.getMarkdownOptions()}))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(m?"text-primary":""),onClick:o.likeReply,"data-comment":s.id,"data-id":t.id},Object(i.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":s.id},Object(i.h)(d.c,{id:"comments.comment-add"},"Kommentar")),t.language!==L&&Object(i.h)(e,null,"-",!g[s.id+"-"+t.id]&&f?Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":t.id,onClick:o.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":s.id,"data-replyid":t.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))})),I-C>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.toggleReplies,"data-id":s.id},Object(i.h)(d.c,{id:"comments.show-more",fields:{more:I-C}},"Vis ",I-C," flere kommentarer...")))),a[s.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(b.a,{stores:o.props.stores,workout:v,callback:w,commentId:s.id,inputRef:function(e){return o.inputRef[s.id]=e},inputRefObject:o.inputRef})))})),R-_>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(d.c,{id:"comments.show-more",fields:{more:R-_}},"Vis ",R-_," flere kommentarer..."))),n&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},o}(i.Component))||n;t.a=g}).call(this,o("hosL").Fragment)},u2zT:function(e,t,o){"use strict";var s,a=o("hosL"),n=o("/eY4"),i=o("Utv1"),r=o("OhSV"),c=Object(n.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).dropRef=Object(a.createRef)(),o.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},o.handleDragIn=function(e){e.preventDefault(),e.stopPropagation(),o.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&o.setState({drag:!0})},o.handleDragOut=function(e){e.preventDefault(),e.stopPropagation(),o.dragCounter--,0===o.dragCounter&&o.setState({drag:!1})},o.handleDrop=function(e){if(e.preventDefault(),e.stopPropagation(),o.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(var t=0,s=e.dataTransfer.files.length;t<s;t+=1){o.readLocalFile(e.dataTransfer.files[t])}o.dragCounter=0}},o.handleAddFiles=function(e){e.preventDefault();var t=e.target;for(var s=0,a=t.files.length;s<a;s+=1){o.readLocalFile(t.files[s])}},o.handleEvent=function(){0},o.handleUpload=function(e){var t=o.props,s=t.uploadStatus,a=t.before,n=void 0===a?function(){}:a,r=t.after,c=void 0===r?function(){}:r;(void 0===s?function(){}:s)(!1),i.a.isFunction(n)&&n();var l=new FormData;l.append("files[]",e);var d={progress:1};d.xhr=new XMLHttpRequest,d.xhr.upload.addEventListener("progress",(function(t){o.updateProgress(t,e)})),d.xhr.addEventListener("loadstart",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("load",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("loadend",(function(t){var s=e;i.a.isFunction(c)&&c(),o.handleEvent(t,s)})),d.xhr.addEventListener("progress",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("error",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("abort",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("readystatechange",(function(t){o.uploadDone(t,e)})),d.xhr.open("POST",""+i.a.getApiServer()+o.props.apiUrl),d.xhr.setRequestHeader("Authorization","Bearer "+i.a.getJwtToken()),d.xhr.send(l);var h=e.name,u=o.state.uploadedFilesData;u[h]||(u[h]={}),u[h].uploadMeta=d,u[h].imageNum=o.state.imageNum,o.setState({uploadedFilesData:u})},o.readLocalFile=function(e){return new Promise((function(t,s){var a=new FileReader;a.addEventListener("error",(function(e){s(e)})),a.addEventListener("load",(function(s){var a=e,n=a.name,i=o.state.uploadedFilesData;i[n]||(i[n]={}),i[n].event=s,o.setState({uploadedFilesData:i}),o.handleUpload(a),t(s)})),a.readAsDataURL(e)}))},o.updateProgress=function(e,t){if(e.lengthComputable){var s=t.name,a=o.state.uploadedFilesData,n=e.loaded/e.total*100;0,a[s].uploadMeta.progress=n,o.setState({uploadedFilesData:a})}},o.uploadDone=function(e,t){var s=t.name,a=o.state.uploadedFilesData,n=a[s].uploadMeta;if(n&&4===n.xhr.readyState&&201===n.xhr.status)for(var i=JSON.parse(n.xhr.responseText).data.files,r=0;r<i.length;r+=1){o.addFileToUpload(i[r]),o.fileInput.value=""}},o.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},o}var o,s;s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var n=t.prototype;return n.addFileToUpload=function(e){var t=this.state.uploadedFilesData,o=this.props,s=o.handleAddImage,a=o.uploadStatus,n=void 0===a?function(){}:a;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),n(!0)},n.componentDidMount=function(){var e=this,t=this.dropRef.current;t.addEventListener("dragenter",this.handleDragIn),t.addEventListener("dragleave",this.handleDragOut),t.addEventListener("dragover",this.handleDrag),t.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){e.fileInput.click()}),10)},n.componentWillUnmount=function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)},n.render=function(){var e=this,t=this.state.uploadedFilesData;return Object(a.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(a.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(a.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(a.h)("div",null,Object(a.h)(r.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(a.h)("div",null,Object(a.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(t){e.fileInput=t}})),Object(a.h)("div",null,Object.keys(t).length>0?Object(a.h)("h3",null,Object(a.h)(r.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(a.h)("ul",{class:"list-group"},Object.keys(t).map((function(e){var o=t[e].uploadMeta,s=void 0===o?{}:o,n=e.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(a.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(a.h)("div",{class:"d-flex w-100 justify-content-between"},n&&Object(a.h)("img",{class:"img-fluid mr-3",src:t[e].event.target.result,style:"max-height: 50px;"}),Object(a.h)("small",null,t[e].event.uploadDone),Object(a.h)(r.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(a.h)("small",null,i.a.formatBytes(t[e].event.total,2))),Object(a.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(a.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+s.progress+"%; height: 4px;","aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},t}(a.Component))||s;t.a=c},"vY+r":function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n,i=o("hosL"),r=o("Utv1"),c=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),h={},u=Object(c.a)(n=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleViews=function(){var e=o.props;(e.isTeamAdmin||e.isAdmin)&&o.setState({showViewList:!o.state.showViewList})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},h),o}var n,c;return c=t,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var t=this.state.showViewList,o=this.props.stores,s=o.storyStore,a=o.teamStore,n=o.workoutStore,c=this.props,h=c.views,u=c.type,b=void 0===u?"story":u,p=c.onTeamClick,m=void 0===p?function(){}:p,g=[];Object.entries(c.object.statistics).forEach((function(e){Object.entries(e[1]).forEach((function(e){var t=e[1];t.viewUsers&&g.push(t.viewUsers)}))}));var f=g.flat().slice(0,50);return Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},Object(i.h)("small",{class:"ml-2 text-muted",onClick:this.toggleViews},h," ",Object(i.h)(l.c,{id:"story.views"},"views"))),t&&Object(i.h)("div",{class:"mt-3 mb-3"},f&&f.map((function(t){var o,c,l;if("story"===b?(o=s.findPublicUser(t),c=s.findPublicTeamByMembers(t)):"team"===b?(o=a.findPublicUser(t),c=a.findPublicTeamByMembers(t)):"workout"===b&&(o=n.findPublicUser(t),c=n.findPublicTeamByMembers(t)),!o)return"";r.a.isArray(c)&&(l=c.find((function(e){return 1===e.public})));var h=d.a.getImage({user:o,team:l,priority:"user"}),u=d.a.displayNameShort(o),p=d.a.displayName(o,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(e){return m(e,l.uuidv4)},class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},u))),Object(i.h)("div",{class:"ml-2 "},p," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(i.h)(e,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},u)),Object(i.h)("div",{class:"ml-2"},p)))})),h>f.length&&Object(i.h)(e,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},o}(i.Component))||n;t.a=u}).call(this,o("hosL").Fragment)},xDik:function(e,t,o){"use strict";(function(e){var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),r=o("OhSV"),c=o("ZOvn"),l=(o("UJvz"),o("1OK2"),o("s4FZ")),d=o("ETxl"),h=o.n(d),u=c.a.getVaccineTypes(),b=Object(i.a)(s=function(t){function o(e){var o;return(o=t.call(this,e)||this).showModal=function(e){e.stopPropagation(),e.preventDefault(),o.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},o.closeModal=function(){o.setState({displayModal:!1})},o.toggleDate=function(){o.setState({showDate:!o.state.showDate})},o.touchStart=function(e){o.state.eventFired||o.setState({startY:e.touches[0].pageY,startX:e.touches[0].pageX,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},o.touchEnd=function(){o.setState(o.state.eventFired?{startY:void 0,startX:void 0}:{startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},o.touchMove=function(e){if(o.state.eventFired)return!1;var t=o.state,s=t.startY,a=t.startX,n=e.touches[0].pageY,i=e.touches[0].pageX;o.setState({diffY:n-s,diffX:i-a}),n>s+130||n<s-130||i>a+130||i<a-130&&o.setState({eventFired:!0})},o.reset=function(e){e&&(e.stopPropagation(),e.preventDefault()),o.setState({deleted:!1,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},o.deleteHistoryRequest=function(e){return new Promise((function(t){return e.stopPropagation(),o.setState({deleteVerify:!0}),t()}))},o.deleteHistory=function(e){return new Promise((function(t,s){var a;return e.stopPropagation(),a=o.props.line,Promise.resolve(o.props.stores.dogStore.save({id:a.dogId,$pull:{history:{_id:a.id||a._id}}})).then((function(){try{return o.setState({deleted:!0,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1}),t()}catch(e){return s(e)}}),s)}))},o.swipeLeft=function(e){var t=o.state.eventFired;e.stopPropagation(),t?o.reset():o.setState({eventFired:!0,diffX:-130})},o.state={showDate:!1},o}var s,i;i=t,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i;var d=o.prototype;return d.componentWillReceiveProps=function(e){e.line.id!==this.props.line.id&&this.reset()},d.render=function(){var t=this.props.stores.userStore.user.language,o=c.a.getHistoryMap(void 0===t?"en":t),s=this.state,i=s.showDate,d=this.props.line,b=this.state,p=b.diffX,m=b.deleted,g=b.deleteVerify,f=d.images&&d.images.length>0,O=p<0;return Object(a.h)("div",{class:"w-100 mb-4 position-relative "+h.a.hoverElement,onTouchstart:m?function(){}:this.touchStart,onTouchend:m?function(){}:this.touchEnd,onTouchmove:m?function(){}:this.touchMove,onClick:!m&&O?this.reset:function(){},style:"opacity: "+(m?.3:1)+";"},!O&&!m&&Object(a.h)("div",{class:"position-absolute "+h.a.hoverelementonly,style:"top: 0px; right: 0px; z-index: 1000;"},Object(a.h)("button",{class:"btn btn-sm btn-secondary",type:"button",onClick:this.swipeLeft},Object(a.h)("i",{class:"fas fa-ellipsis-h"}))),O&&!m&&Object(a.h)("div",{class:"position-absolute",style:"right: 0px; top: 10%; overflow: hidden; width: "+(Math.abs(p)||0)+"px; line-height: 0.8em;"},!d.grouped&&Object(a.h)(e,null,g?Object(a.h)(e,null,Object(a.h)("button",{class:"btn btn-sm btn-secondary float-right ml-3 mb-3",onClick:this.reset},Object(a.h)("i",{class:"fas fa-times"})," ",Object(a.h)(r.c,{id:"dog.history.no"},"Nei")),Object(a.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.deleteHistory},Object(a.h)("i",{class:"fas fa-check"})," ",Object(a.h)(r.c,{id:"dog.history.yes"},"Ja"))):Object(a.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteHistoryRequest},Object(a.h)("i",{class:"fas fa-trash"})," ",Object(a.h)(r.c,{id:"dog.history.delete"},"Slett"))),d.grouped&&Object(a.h)("small",null,Object(a.h)(r.c,{id:"dog.history.cant-delete-groups"},"Kan ikke slette grupperinger. Gå inn på hundene og slett der."),Object(a.h)("br",null),Object(a.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.reset},Object(a.h)("i",{class:"fas fa-check"})," Ok"))),Object(a.h)("div",{class:"row position-relative",style:"left: "+(O?p:0)+"px;"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},d.dogImage?Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:d.dogImage?'background-image: url("'+d.dogImage.s3SmallLink+'"); background-size: cover;':""}," "):Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:d.images&&d.images[0]?'background-image: url("'+d.images[0].s3SmallLink+'"); background-size: cover;':""},!f&&Object(a.h)("i",{class:"fas fa-rss text-muted mt-2",style:"font-size: 20px;"})),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"line-height: 1.0em;"},!d.grouped&&d.dogId&&Object(a.h)("a",{class:"stretched-link",href:"/dogs/"+d.dogId},Object(a.h)("strong",{class:"mr-2"},d.dogShortname||d.dogName,": ")),d.title,Object(a.h)("br",null),d.grouped&&Object(a.h)(e,null,Object(a.h)("div",{class:"w-100 clearfix mt-2"},d.grouped.map((function(t){return Object(a.h)(e,null,Object(a.h)("a",{href:"/dogs/"+t.dogId},t.dogImage?Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left",style:"margin-right: 2px; "+(t.dogImage?'background-image: url("'+t.dogImage.s3SmallLink+'");':"")}," "):Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left text-muted pt-1",style:"margin-right: 2px; "+(t.images&&t.images[0]?'background-image: url("'+t.images[0].s3SmallLink+'");':"")},!f&&Object(a.h)("span",{style:"font-size: 15px;"},n.a.ucfirst(t.dogName,!0)))))}))),Object(a.h)("div",{class:"w-100 clearfix mt-2"},Object(a.h)("small",null,d.grouped.map((function(e){return Object(a.h)("span",{class:"float-left mr-2 text-muted"},Object(a.h)("a",{href:"/dogs/"+e.dogId},e.dogShortname||e.dogName))}))))),Object(a.h)("div",{class:"w-100 clearfix"},Object(a.h)("small",{class:"text-muted"},d.date&&Object(a.h)("small",{onClick:this.toggleDate},i?n.a.formatDate(d.date,{locale:"no-NB"}):n.a.formatDistance(d.date,new Date,{locale:"no-NB"}),d.endDate&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-hourglass-end"})," ",n.a.formatDate(d.endDate,{locale:"no-NB"})),d.historyType&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-folder-open"})," ",o[d.historyType]," ",d.vaccineType?" - "+u[d.vaccineType].name:""),d.weight&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-balance-scale"})," ",d.weight," kg"),d.bodyScore&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-dog"})," ",d.bodyScore),d.user&&d.user.email&&Object(a.h)("span",{class:"ml-3"},Object(a.h)("i",{class:"fas fa-user"})," ",d.user.email)))),Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"col-12"},Object(a.h)("span",{class:"font-weight-normal"},d.comment),Object(a.h)("span",{class:"float-right"},d.cost?"Kr. "+n.a.format(d.cost,2):""))))),Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1"},Object(a.h)("div",{class:"row"},Object(a.h)(l.a,{stores:this.props.stores,images:d.images})))))},o}(a.Component))||s;t.a=b}).call(this,o("hosL").Fragment)},xsrU:function(e,t,o){"use strict";function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(t);var n,i=o("hosL"),r=o("Utv1"),c=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),h=(o("JWe/"),o("3pQw"),o("xDik")),u=o("2X7c"),b=o("mPUg"),p=d.a.marginTop(!0),m=d.a.marginBottom(),g=d.a.subMenuMarginTop(),f={isLoading:!1},O=Object(c.a)(n=function(e){function t(t){var o;return(o=e.call(this,t)||this).setHistoryType=function(e){o.setState({historyType:e})},o.setDay=function(e,t,s){o.setState({yyyy:e,mm:t,dd:s})},o.resetDay=function(){o.setState({yyyy:null,mm:null,dd:null})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},f),o.loadAll(),o}var o,n;n=e,(o=t).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n;var c=t.prototype;return c.loadAll=function(){return new Promise(function(e,t){return this.setState({isLoading:!0}),Promise.resolve(this.loadFeed()).then(function(){try{return this.setState({isLoading:!1}),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},c.loadFeed=function(e){return new Promise(function(t,o){var s,a,n,i,c,l,d,h,u,b,p;return void 0===e&&(e=this.props),a=(s=this.props.stores).userStore,n=s.workoutStore.currentTeam,i=(new Date).getMonth()+1,d=void 0===(l=(c=e).month)?i:l,u=void 0===(h=c.year)?r.a.getYear():h,b=c.team,p=c.dog,Promise.resolve(a.getFeed({month:d,year:u,team:void 0===b?n:b,dog:(void 0===p?{}:p).id})).then((function(){try{return t()}catch(e){return o(e)}}),o)}.bind(this))},c.componentDidMount=function(){this.loadAll()},c.render=function(){var e=this,t=this.props.scrolledDown,o=this.state,s=o.isLoading,a=o.historyType,n=o.yyyy,c=o.mm,d=o.dd,f=this.props.stores,O=f.appState.darkmode,j=this.props,v=j.month,y=j.year,w=f.userStore.historyFeed;return Object(i.h)("div",{class:"container-fluid",style:"margin-bottom: "+m+"; margin-top: "+p+";"},Object(i.h)("div",{class:"row fixed-top",style:"margin-top: "+(t>0?0:g)+"; background-color: "+(O?"#191d21":"#f8f9fa")+"; transition: all 0.3s ease-in-out;"},Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/dogs",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(l.c,{id:"dogs.dashboard"},"Oversikt")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-list"})," ",Object(i.h)(l.c,{id:"dogs.list"},"Liste")))),Object(i.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/dogs/feed",class:"text-primary stretched-link"},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(l.c,{id:"dogs.feed"},"Feed")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("nobr",null,Object(i.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(i.h)("i",{class:"fas fa-calendar-check"})," ",Object(i.h)(l.c,{id:"dogs.todo"},"Todo"))))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 mb-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("span",{class:"float-right"},Object(i.h)(u.a,{stores:this.props.stores,dog:{}})),Object(i.h)("h5",null,Object(i.h)(l.c,{id:"feed.title"},"Siste fra hundene"))),Object(i.h)(b.a,{stores:this.props.stores,basehref:"/dogs/feed/",month:v,year:y,callback:this.setHistoryType,setDay:this.setDay}),!s&&w&&0===w.length&&Object(i.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom text-muted"},Object(i.h)("div",{class:"display-4"},Object(i.h)("i",{class:"fas fa-dog"})),Object(i.h)("h5",null,Object(i.h)(l.c,{id:"feed.no-log"},"Ingen hendelser fra hundene.")),Object(i.h)("p",null,Object(i.h)(l.c,{id:"feed.tip-1"},"Det er fint å legge inn hendelser (løpetid, skader, vaksinering, vetrinærbesøk, mm) og bilder av hundene i loggen.")),Object(i.h)("p",null,Object(i.h)(l.c,{id:"feed.tip-2"},"På denne måten så vil hele teamet ditt se hva som skjer med hundene og hva som trengs å følges opp. Dette er en slags ",Object(i.h)("strike",null,"Face"),"Dogbook for hundene deres.")),Object(i.h)("br",null),Object(i.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(i.h)("i",{class:"fas fa-dog"})," ",Object(i.h)(l.c,{id:"feed.add-log"},"Legg til logg på hundene"))),n&&c&&d&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-3"},Object(i.h)("button",{class:"btn btn-sm btn-secondary float-right",onClick:this.resetDay},Object(i.h)(l.c,{id:"feed.show-all-days"},"Vis alle")),Object(i.h)("h5",null,n,"-",r.a.padDate(c),"-",r.a.padDate(d),":")),w&&w.filter((function(e){var t=!0;return a&&(t=e.historyType===a),t&&n&&c&&d&&(t=e.year===n&&e.month===c&&e.day===d),t})).map((function(t){return Object(i.h)(h.a,{stores:e.props.stores,line:t})})))))},t}(i.Component))||n;t.default=O}}]);
//# sourceMappingURL=32.chunk.095eb.js.map