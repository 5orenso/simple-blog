(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{RUc2:function(e,t,s){"use strict";function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}s.r(t);var n,l,a=s("hosL"),i=s("Gblv"),h=s("/eY4"),f=(s("cneo"),s("ZOvn")),d=s.n(f),b=(s("KDoM"),s("2X7c")),u=s("7g1v"),p=s("mPUg"),g=d.a.marginTop(!0),O=d.a.marginBottom(),m=d.a.getHistoryMap(),j={isLoading:!1},v=Object(h.a)(n=function(e){function t(){for(var t,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).toggleTeam=function(e){var s=t.props.callback,r=t.props.stores.dogStore;r.setCurrentTeam(e===r.currentTeam?void 0:e),i.a.isDefined(s)&&s()},t}return c(t,e),t.prototype.render=function(){var e=this,t=this.props.stores,s=t.userStore.teams,r=t.dogStore.currentTeam;return Object(a.h)("div",{class:"container-fluid px-0"},Object(a.h)("div",{class:"row"},s&&s.map((function(t){return Object(a.h)("div",{class:"col-6 mb-2"},Object(a.h)("div",{class:"border rounded rounded-pill px-3 py-2 "+(r===t.id?"bg-success":""),style:"line-height: 0.9em; cursor: pointer; pointer-events: inherit;",onClick:function(){return e.toggleTeam(t.id)}},Object(a.h)("small",null,Object(a.h)("i",{class:"fas fa-users mr-2"}),t.name)))}))))},t}(a.Component))||n,y=Object(h.a)(l=function(e){function t(t){var s;return(s=e.call(this,t)||this).loadDogs=function(){return new Promise((function(e,t){var r;return s.setState({isLoading:!0}),r=s.props.stores.dogStore,Promise.resolve(r.load({query:{team:r.currentTeam},addData:["workoutSummary","vaccineStatuses"]})).then((function(){try{return Promise.resolve(r.getDogsWithTraining({daysBack:1})).then((function(){try{return s.setState({isLoading:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},s.setHistoryType=function(e){s.setState({historyType:e})},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},j),s}c(t,e);var s=t.prototype;return s.componentDidMount=function(){this.loadDogs()},s.render=function(){var e=this,t=this.state,s=t.isLoading,r=t.historyType,o=this.props.stores,c=o.dogStore,n=o.userStore,l=this.props,i=l.month,h=l.year,f=o.appState.darkmode,d=c.dogs,j=c.workoutSummaryCurrent,y=c.findDogsByStatus([2,4,8,9]),x=c.findDogsWithNeeds(),k=r?n.findDogsFromHistory(r):[],w=d.filter(r?function(e){return k.indexOf(e.id)>-1}:function(){return!0});return Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+O+"; margin-top: "+g+";"},Object(a.h)("div",{class:"row mb-4 fixed-top",style:"margin-top: 58px; background-color: "+(f?"#191d21":"#f8f9fa")+";"},Object(a.h)("div",{class:"col text-center border-bottom border-primary"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/dogs",class:"text-primary stretched-link"},Object(a.h)("i",{class:"fas fa-chart-line"})," Oversikt"))),Object(a.h)("div",{class:"col text-center"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(a.h)("i",{class:"fas fa-list"})," Liste"))),Object(a.h)("div",{class:"col text-center"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/dogs/feed",class:"text-secondary stretched-link"},Object(a.h)("i",{class:"fas fa-rss"})," Feed"))),Object(a.h)("div",{class:"col text-center"},Object(a.h)("nobr",null,Object(a.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(a.h)("i",{class:"fas fa-calendar-check"})," Todo")))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2 border-bottom"},Object(a.h)(v,{stores:this.props.stores,callback:this.loadDogs})),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix"},Object(a.h)("span",{class:"float-right"},Object(a.h)(b.a,{stores:this.props.stores,dog:{},callback:this.loadDogs}),Object(a.h)("a",{class:"btn btn-sm btn-primary ml-2",href:"/dogs/edit/new"},Object(a.h)("i",{class:"fas fa-plus"})," Legg til hunder"))),!s&&d&&0===d.length&&Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(a.h)("div",{class:"text-center mb-5"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-dog"})),Object(a.h)("h5",null,"Ingen hunder er registrert ennå.")),"Slik kommer du i gang:",Object(a.h)("ol",null,Object(a.h)("li",null,'Trykk på knappen "Legg til hunder" rett nedenfor.'))),y&&y.length>0&&Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(a.h)("h5",null,"Hunder som trenger oppfølging"),Object(a.h)("div",{class:"row"},y&&y.map((function(t){return Object(a.h)(u.a,{stores:e.props.stores,dog:t})})),!y||0===y.length&&Object(a.h)("div",{class:"col-12 text-center text-muted"},Object(a.h)("h3",null,Object(a.h)("i",{class:"fas fa-thumbs-up"})),"Ingen hunder som trenger ekstra oppfølging."))),x&&x.length>0&&Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(a.h)("h5",null,"Hunder med spesielle behov"),Object(a.h)("div",{class:"row"},x&&x.map((function(t){return Object(a.h)(u.a,{stores:e.props.stores,dog:t})})),!x||0===x.length&&Object(a.h)("div",{class:"col-12 text-center text-muted"},Object(a.h)("h3",null,Object(a.h)("i",{class:"fas fa-thumbs-up"})),"Ingen hunder med spesielle behov."))),j&&j.length>0&&Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(a.h)("h5",null,"Hunder som har trent siste døgn"),Object(a.h)("div",{class:"row"},j&&j.map((function(t){var s=c.findDog(t.dog);return Object(a.h)(u.a,{stores:e.props.stores,dog:s,showWorkout:!0})})))),Object(a.h)(p.a,{stores:this.props.stores,basehref:"/dogs/calendar/",month:i,year:h,callback:this.setHistoryType}),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(a.h)("h5",null,r?"Filtrert på: "+m[r]:"Alle hundene"," - ",w.length," stk"),Object(a.h)("div",{class:"row"},w&&w.map((function(t){return Object(a.h)(u.a,{stores:e.props.stores,dog:t,hideTeam:!0})})))))))},t}(a.Component))||l;t.default=y}}]);
//# sourceMappingURL=route-dogs.chunk.4622c.js.map