(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{t1gC:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,i=s("hosL"),r=s("Utv1"),n=s("/eY4"),b=s("OhSV"),d=s("Y3FI"),h=s("fh8t"),m=s.n(h),p=s("go65"),u=s("Ysxg"),O=s("9lZG"),j=(s("aGZh"),s("om2D")),g=s("+JSK"),f=s("ZOvn");const v=f.a.marginTop(!1),w=f.a.marginTopBack(!1),y=f.a.marginBottom(),x=(f.a.subMenuMarginTop(),{isLoading:!1,submenu:"about",showAdminSendMessage:{},newRaceArticle:{},newRaceUserImage:{},message:{subject:"",body:""}});let k=Object(n.a)(o=class extends i.Component{constructor(e){var t;super(e),t=this,this.signupToRace=async function(){const{raceStore:e,userStore:s}=t.props.stores,{user:a}=s,{signup:l}=e,{raceid:o}=t.props;await e.addContestant({id:o,classId:l.class,newContestant:c({team:a.team,firstname:a.firstname,lastname:a.lastname,sportsClub:a.sportsClub,email:a.email,cellphone:a.cellphone,facebook:a.facebook,instagram:a.instagram},l)})},this.updateSignup=e=>{const t=e.target.id,s=e.target.value,{raceStore:a}=this.props.stores;a.updateObjectKeyValue("signup",t,s)},this.editSignup=e=>{const{raceid:t}=this.props,{raceStore:s}=this.props.stores,a=e.target.id,c=e.target.value,{classid:l,contestantid:o}=e.target.dataset;s.updateObjectKeyValue("signup",a,c);const i={raceClassId:l,contestantId:o,["raceClassContestant"+r.a.ucfirst(a)]:c};clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout((async function(){s.editClass({id:t,data:i})}),500)},this.likeRace=async function(){const{raceStore:e}=t.props.stores,{race:s}=e;await e.likeRace({id:s.id})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.toggleDisplayDetails=e=>{const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores,{editUserDetails:a}=s;a[t]||s.toggleDisplayDetails(t)},this.adminToggleEditUser=e=>{e.stopPropagation();const t=e.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleEditUserDetails(t)},this.adminSignupEdit=e=>{const{raceid:t}=this.props,{raceStore:s}=this.props.stores,a=e.target.id,c=e.target.value,{classid:l,contestantid:o}=e.target.dataset,i={raceClassId:l,contestantId:o,["raceClassContestant"+r.a.ucfirst(a)]:c};clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout((async function(){s.editClass({id:t,data:i})}),500)},this.toggleAdminSendMessage=e=>{const t=e.target.closest("button").dataset.class,{showAdminSendMessage:s}=this.state;s[t]=!s[t],this.setState({showAdminSendMessage:s})},this.sendEmail=async function(e){const{raceid:s}=t.props,a=e.target.closest("button").dataset.to,c=e.target.closest("button").dataset.raceclassid,{appState:l}=t.props.stores,{message:o}=t.state,{subject:i,body:r}=o,n=await l.sendEmail({to:a,subject:i,body:r,raceId:s,raceClassId:c});t.setState({emailResponse:n})},this.resetEmail=()=>{this.setState({emailResponse:null,message:{subject:"",body:""}})},this.addRaceArticle=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceArticle:a}=t.state;await s.addArticle({id:e,newArticle:a}),t.setState({newRaceArticle:{}})},this.addRaceUserImage=async function(){const{raceid:e}=t.props,{raceStore:s}=t.props.stores,{newRaceUserImage:a}=t.state;await s.addUserImage({id:e,newUserImage:a}),t.setState({newRaceUserImage:{}})},this.updateUserImageUpload=({field:e,value:t})=>{const{newRaceUserImage:s}=this.state;s[e]=t,this.setState({newRaceUserImage:s})},this.updateArticleUpload=({field:e,value:t})=>{const{newRaceArticle:s}=this.state;s[e]=t,this.setState({newRaceArticle:s})},this.removeRaceArticle=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:c}=t.props.stores;await c.removeArticle({id:a,articleId:s})},this.removeRaceUserImage=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{raceid:a}=t.props,{raceStore:c}=t.props.stores;await c.removeUserImage({id:a,userImageId:s})},this.editRaceArticle=async function(e){const{id:s,field:a}=e.target.dataset,{value:c}=e.target,{raceid:l}=t.props,{raceStore:o}=t.props.stores,i={raceArticleId:s,["raceArticle"+r.a.ucfirst(a)]:c};clearTimeout(t.updateTimer[`${l}-${s}-${a}`]),t.updateTimer[`${l}-${s}-${a}`]=setTimeout((async function(){o.editArticle({id:l,data:i})}),1500),t.resizeTextarea(e.target)},this.editRaceUserImage=async function(e){const{id:s,field:a}=e.target.dataset,{value:c}=e.target,{raceid:l}=t.props,{raceStore:o}=t.props.stores,i={raceUserImageId:s,["raceUserImage"+r.a.ucfirst(a)]:c};clearTimeout(t.updateTimer[`${l}-${s}-${a}`]),t.updateTimer[`${l}-${s}-${a}`]=setTimeout((async function(){o.editUserImage({id:l,data:i})}),1500),t.resizeTextarea(e.target)},this.resizeAllTextareas=()=>{const e=document.getElementsByTagName("textarea");for(let t=0,s=e.length;t<s;t+=1){this.resizeTextarea(e[t])}},this.resizeTextarea=e=>{let t=e;t.target&&(t=e.target);const{scrollHeight:s}=t;t.style.height=s+"px"},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.back=()=>{Object(d.route)("/",!0)},this.state=c(c({},x),{},{showAdminSendMessage:{},newRaceArticle:{},newRaceUserImage:{},message:{subject:"",body:""}}),this.inputRef={},this.updateTimer={}}async loadRace(e=this.props){this.setState({isLoading:!0});const{raceStore:t,userStore:s}=e.stores,{user:a={}}=s,{raceid:l}=e;await t.load(l),this.setState({isLoading:!1});let o={};const{race:i}=t;if(i.classes&&a&&a.email)for(let e=0,t=i.classes.length;e<t;e+=1){const t=i.classes[e];if(t.contestants){const e=t.contestants.findIndex(e=>e.email===a.email);e>-1&&(o=c({},t.contestants[e]))}}t.updateKeyValue("signup",o)}componentDidMount(){this.loadRace(),this.resizeAllTextareas()}componentWillReceiveProps(e){e.raceid!==this.props.raceid&&this.loadRace(e)}render(){const{submenu:t}=this.state,{showAdminSendMessage:s,message:a,emailResponse:c}=this.state,{showAddComment:l,newRaceArticle:o,newRaceUserImage:n}=this.state,{userStore:d,raceStore:h,appState:x}=this.props.stores,{user:k={},teams:S=[],isAdmin:I}=d,{race:D,signup:C}=h,{language:R="en",displayDetails:A,editUserDetails:E}=x,{likes:T=[],comments:H=[]}=D,U=D.likes&&D.likes.findIndex(e=>e.user===k.id)>-1;let $={};C.class&&($=h.getRaceClassById(C.class));const M=new Date;let P="";return M>=new Date(D.startDate)&&M<=new Date(D.endDate)?P="race":M>=new Date(D.signupStartDate)&&M<=new Date(D.signupEndDate)&&(P="signup"),Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${y}; margin-top: ${v};`},Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${w}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(i.h)("i",{class:"fas fa-arrow-circle-left"})),Object(i.h)("div",{class:"row m-0"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2 p-0"},Object(i.h)("div",{class:"row d-flex align-items-center position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===P&&Object(i.h)(e,null,Object(i.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(i.h)(b.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===P&&Object(i.h)(e,null,Object(i.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(i.h)(b.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===P&&Object(i.h)(e,null,Object(i.h)("span",{class:"badge badge-success border border-white ml-2"},Object(i.h)(b.c,{id:"races.race-finished"},"Løp avsluttet")))),D.images&&D.images[0]?Object(i.h)("img",{src:D.images[0].s3LargeLink,class:"img-fluid"}):""))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h3",null,D.title),D.startDate&&Object(i.h)(e,null,Object(i.h)(b.c,{id:"races.periode"},"Periode"),": ",r.a.formatDate(D.startDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),D.endDate&&Object(i.h)(e,null," - ",r.a.formatDate(D.endDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 overflow-hidden"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"about"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"about",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-info-circle"})," ",Object(i.h)(b.c,{id:"race.about"},"About"))),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"news"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"news",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(b.c,{id:"race.news"},"News"))),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"userImages"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"userImages",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(b.c,{id:"race.user-images"},"User images"))),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"rules"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"rules",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-gavel"})," ",Object(i.h)(b.c,{id:"race.rules"},"Rules"))),D.veterinaryInfo&&Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"veterinary"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"veterinary",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-stethoscope"})," ",Object(i.h)(b.c,{id:"race.veterinary"},"Veterinary info"))),D.checkpoints&&Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"checkpoints"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"checkpoints",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(i.h)(b.c,{id:"race.checkpoints"},"Checkpoints"))),D.trailDescription&&Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"track"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"track",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-map-signs"})," ",Object(i.h)(b.c,{id:"race.track-description"},"Track description"))),D.program&&Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"program"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"program",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-list-alt"})," ",Object(i.h)(b.c,{id:"race.program"},"Program"))),D.prices&&Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"prices"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"prices",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-award"})," ",Object(i.h)(b.c,{id:"race.prices"},"Premier"))),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"classes"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"classes",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-folder-open"})," ",Object(i.h)(b.c,{id:"race.classes"},"Classes"))),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-none ${"mushers"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-folder-open"})," ",Object(i.h)(b.c,{id:"races.mushers"},"Mushers"))),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"signup"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"signup",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-folder-open"})," ",Object(i.h)(b.c,{id:"race.signup"},"Sign up")))))))),"about"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.about"},"Om løpet"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)("p",{class:"clearfix"},Object(i.h)("strong",null,Object(i.h)(m.a,{markdown:f.a.replaceImages(D.ingress,D.images,R),markdownOpts:f.a.getMarkdownOptions()}))),Object(i.h)(m.a,{markdown:f.a.replaceImages(D.body,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"news"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.news"},"Nyheter"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)("div",{class:"row"},D.articles&&D.articles.reverse().map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3"},Object(i.h)("h5",{class:"mb-0"},f.a.replaceImages(t.title,D.images,R,!1)),Object(i.h)("small",{class:"text-muted"}," ",r.a.formatDate(t.date,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("br",null),t.image&&Object(i.h)("img",{src:t.image.s3LargeLink,class:"float-right w-50 rounded-lg ml-2"}),Object(i.h)("div",{class:"font-weight-bold"},Object(i.h)(m.a,{markdown:f.a.replaceImages(t.ingress,D.images,R),markdownOpts:f.a.getMarkdownOptions()})),Object(i.h)("div",{class:"clearfix"},Object(i.h)(m.a,{markdown:f.a.replaceImages(t.body,D.images,R),markdownOpts:f.a.getMarkdownOptions()})),I&&Object(i.h)(e,null,Object(i.h)("div",{class:"border-top border-bottom mb-5"},Object(i.h)("details",null,Object(i.h)("summary",null,"Admin edit"),Object(i.h)("h5",{class:"border-bottom"},"Admin News Edit"),["title"].map(s=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:s},s),Object(i.h)("input",{type:"text",class:"form-control font-weight-bold",id:s,"aria-describedby":s+"Help",style:"font-size: 1.5em;","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceArticle})))),["ingress","body"].map(s=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:s},s),Object(i.h)("textarea",{type:"textarea",class:"form-control",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceArticle,style:"height: 3em;"})))))))))))),I&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)("h5",null,"Add new article"),o&&o.image&&Object(i.h)("img",{src:o.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(p.a)(this,"newRaceArticle."+t),value:o[t]})))),["ingress","body"].map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(p.a)(this,"newRaceArticle."+t),onKeyUp:this.resizeTextarea,style:"height: 3em;",value:o[t]})))),Object(i.h)(j.a,{saved:{},object:{},field:"image",updateField:this.updateArticleUpload}),Object(i.h)("button",{class:"btn btn-info",onClick:this.addRaceArticle},"Add race article"))))),"userImages"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.user-images"},"User images"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)("div",{class:"row"},D.userImages&&D.userImages.reverse().map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3"},I&&Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-danger position-absolute",style:"top:5px; right: 5px;","data-id":t.id,onClick:this.removeRaceUserImage},Object(i.h)("i",{class:"fas fa-times"}))),Object(i.h)("div",{class:"clearfix"},Object(i.h)("img",{src:t.image.s3LargeLink,class:"img-fluid rounded-lg mb-2"})),Object(i.h)("div",{class:"clearfix"},Object(i.h)("h5",{class:"mb-0"},t.title),Object(i.h)("small",{class:"text-muted"}," ",r.a.formatDate(t.date,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("br",null)),Object(i.h)("div",{class:"clearfix"},Object(i.h)(m.a,{markdown:f.a.replaceImages(t.body,t.images,R),markdownOpts:f.a.getMarkdownOptions()})),I&&Object(i.h)(e,null,Object(i.h)("div",{class:"border-top border-bottom mb-5"},Object(i.h)("details",null,Object(i.h)("summary",null,"Admin edit"),Object(i.h)("h5",{class:"border-bottom"},"Admin UserImage Edit"),["title"].map(s=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group "},Object(i.h)("label",{for:s},s),Object(i.h)("input",{type:"text",class:"form-control font-weight-bold",id:s,"aria-describedby":s+"Help",style:"font-size: 1.5em;","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceUserImage})))),["body"].map(s=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:s},s),Object(i.h)("textarea",{type:"textarea",class:"form-control",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:this.editRaceUserImage,style:"height: 3em;"})))))))))),I&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 border rounded-lg m-2 p-3 bg-light"},Object(i.h)("h5",null,"Add new user image"),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col"},n&&n.image&&Object(i.h)("img",{src:n.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(p.a)(this,"newRaceUserImage."+t),value:n[t]})))),["body"].map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(p.a)(this,"newRaceUserImage."+t),onKeyUp:this.resizeTextarea,style:"height: 3em;",value:n[t]})))))),Object(i.h)(j.a,{saved:{},object:{},field:"image",updateField:this.updateUserImageUpload}),Object(i.h)("button",{class:"btn btn-info",onClick:this.addRaceUserImage},"Add race user image"))))))),"rules"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.rules"},"Regler"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)(m.a,{markdown:f.a.replaceImages(D.rules,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"veterinary"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.veterinary"},"Veterinærinfo"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)(m.a,{markdown:f.a.replaceImages(D.veterinaryInfo,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"checkpoints"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.checkpoints"},"Sjekkpunkter"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)(m.a,{markdown:f.a.replaceImages(D.checkpoints,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"track"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.track-description"},"Løypebeskrivelse"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)(m.a,{markdown:f.a.replaceImages(D.trailDescription,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"program"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.program"},"Program"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)(m.a,{markdown:f.a.replaceImages(D.program,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"prices"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.prices"},"Premier"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)(m.a,{markdown:f.a.replaceImages(D.prices,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))),"mushers"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"races.mushers"},"Deltakere"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},D.classes&&D.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(i.h)(e,null,Object(i.h)("h5",null,t.title," ",t.startDate&&Object(i.h)(e,null,": ",Object(i.h)("span",{class:"font-weight-lighter"},r.a.formatDate(`${t.startDate} ${t.startTime||"00:00:00"}`,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",r.a.formatDate(`${t.endDate} ${t.endTime||"00:00:00"}`,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table table-sm table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{scope:"col"},"#"),Object(i.h)("th",{scope:"col",style:"min-width: 95%;"},Object(i.h)(b.c,{id:"races.name"},"Navn")))),Object(i.h)("tbody",null,t.contestants&&t.contestants.map((t,s)=>{const a=h.getTeamById(t.team);return Object(i.h)(e,null,Object(i.h)("tr",{onClick:this.toggleDisplayDetails,"data-email":t.email},Object(i.h)("th",{scope:"row"},s+1),Object(i.h)("td",{class:""+(A[t.email]?"font-weight-bold":""),style:""+(A[t.email]?"":"line-height: 0.8em;")},I&&Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:this.adminToggleEditUser},Object(i.h)("i",{class:"fas fa-user-edit"})),t.paidSignupfee&&Object(i.h)(e,null,Object(i.h)("span",{class:"float-right"},Object(i.h)("i",{class:"fas fa-check text-success"}),Object(i.h)("br",null))),Object(i.h)("small",{class:"float-right"},t.raceStatus&&Object(i.h)(e,null,Object(i.h)("span",{class:"text-muted"},"raceStatus:"),Object(i.h)("br",null)," ",t.raceStatus,Object(i.h)("br",null)),t.raceComment&&Object(i.h)(e,null,Object(i.h)("span",{class:"text-muted"},"raceComment:"),Object(i.h)("br",null)," ",t.raceComment,Object(i.h)("br",null)),t.gpxResultsApproved&&Object(i.h)(e,null,Object(i.h)("span",{class:"text-muted"},"gpxResultsApproved:"),Object(i.h)("br",null)," ",t.gpxResultsApproved,Object(i.h)("br",null)))),A[t.email]?Object(i.h)(e,null,t.firstname," ",t.lastname,Object(i.h)("br",null),Object(i.h)("span",{class:"text-muted"},a.name),Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},t.sportsClub),Object(i.h)("br",null),t.facebook&&Object(i.h)("a",{class:"mr-2",href:f.a.asFacebookLink(t.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"})),t.instagram&&Object(i.h)("a",{class:"mr-2",href:f.a.asInstagramLink(t.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"})),Object(i.h)("br",null),t.price1&&Object(i.h)("div",{class:"font-weight-lighter"},Object(i.h)("i",{class:"fas fa-trophy text-warning"})," ",t.price1,t.priceSent&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-check text-success"}))),t.price2&&Object(i.h)("div",{class:"font-weight-lighter"},Object(i.h)("i",{class:"fas fa-trophy text-warning"})," ",t.price2),t.price3&&Object(i.h)("div",{class:"font-weight-lighter"},Object(i.h)("i",{class:"fas fa-trophy text-warning"})," ",t.price3)):Object(i.h)(e,null,t.price1&&Object(i.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(i.h)("i",{class:"fas fa-trophy"}),t.priceSent&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("nobr",null,t.firstname," ",t.lastname,Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},t.sportsClub),Object(i.h)("br",null))),I&&E[t.email]&&Object(i.h)(e,null,Object(i.h)("h5",null,"Admin edit:"),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{class:"col-4 col-form-label text-right"},"Email"),Object(i.h)("div",{class:"col-8"},t.email)),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"Race status"),Object(i.h)("div",{class:"col-8"},Object(i.h)("select",{class:"form-control",id:"raceStatus","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.raceStatus},Object(i.h)("option",{value:""},"-- Choose race status --"),Object(i.h)("option",{value:"OK"},"OK - Everything ok"),Object(i.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(i.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(i.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(i.h)("option",{value:"DQ"},"DQ - Disqualified")))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"raceComment",class:"col-4 col-form-label text-right"},"Race comment"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"raceComment","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.raceComment}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"gpxResultsApproved",class:"col-4 col-form-label text-right"},"GPX Results approved (date)"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"date",class:"form-control",id:"gpxResultsApproved","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.gpxResultsApproved?r.a.isoDate(t.gpxResultsApproved,!1,!1,!0):null}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"paidSignupfee",class:"col-4 col-form-label text-right"},"paidSignupfee (date)"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"date",class:"form-control",id:"paidSignupfee","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.paidSignupfee?r.a.isoDate(t.paidSignupfee,!1,!1,!0):null}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"startOrder",class:"col-4 col-form-label text-right"},"startOrder"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"number",class:"form-control",id:"startOrder","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.startOrder}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"cellphone",class:"col-4 col-form-label text-right"},"Mobil"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"cellphone","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.cellphone}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"firstname",class:"col-4 col-form-label text-right"},"Fornavn"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"firstname","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.firstname}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"lastname",class:"col-4 col-form-label text-right"},"Etternavn"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"lastname","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.lastname}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"sportsClub",class:"col-4 col-form-label text-right"},"Klubb"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"sportsClub","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.sportsClub}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"facebook",class:"col-4 col-form-label text-right"},"Facebook"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"facebook","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.facebook}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"instagram",class:"col-4 col-form-label text-right"},"Instagram"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"instagram","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.instagram}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"Klasse"),Object(i.h)("div",{class:"col-8"},Object(i.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.class},Object(i.h)("option",{value:""},"-- Choose race class --"),D.classes&&D.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(i.h)(e,null,Object(i.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||D.signupfee," NOK")))))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"price1",class:"col-4 col-form-label text-right"},"Price 1"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"price1","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.price1}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"price2",class:"col-4 col-form-label text-right"},"Price 2"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"price2","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.price2}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"price3",class:"col-4 col-form-label text-right"},"Price 3"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"text",class:"form-control",id:"price3","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.price3}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"priceSent",class:"col-4 col-form-label text-right"},"Price sent"),Object(i.h)("div",{class:"col-8"},Object(i.h)("input",{type:"date",class:"form-control",id:"priceSent","data-classid":t.class,"data-contestantid":t.id,onInput:this.adminSignupEdit,value:t.priceSent?r.a.isoDate(t.priceSent,!1,!1,!0):null}))),Object(i.h)("div",{class:"form-group row my-5"},Object(i.h)("div",{class:"col-8"},Object(i.h)("button",{type:"button",class:"btn btn-danger float-right",id:"deleteUser",value:"1",onClick:this.adminSignupEdit,"data-classid":t.class,"data-contestantid":t.id},"Delete user from this class")))))))})))),I&&Object(i.h)(e,null,s[t.id]?Object(i.h)(e,null,Object(i.h)("div",{class:"container"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,"Message to all mushers in ",t.title),Object(i.h)("div",{class:"overflow-auto p-5",style:"max-height: 30vh;"},Object(i.h)("small",null,t.emails&&t.emails.map(e=>{return Object(i.h)("div",{class:"border rounded-lg p-3 mb-3"},Object(i.h)("div",{class:"row bg-light"},Object(i.h)("div",{class:"col-3 text-right"},"Date:"),Object(i.h)("div",{class:"col-9"},r.a.formatDate(e.date,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(i.h)("div",{class:"row bg-light"},Object(i.h)("div",{class:"col-3 text-right"},"To:"),Object(i.h)("div",{class:"col-9"},e.to.map(e=>Object(i.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},e)))),Object(i.h)("div",{class:"row bg-light"},Object(i.h)("div",{class:"col-3 text-right"},"Subject:"),Object(i.h)("div",{class:"col-9"},e.subject)),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{class:"col-3 text-right"},"Body:"),Object(i.h)("div",{class:"col-9",dangerouslySetInnerHTML:{__html:(t=e.body,"string"==typeof t?t.replace(/[\n]/g,"<br>"):t)}})));var t}))),Object(i.h)("div",{class:"form-group row"},Object(i.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"To"),Object(i.h)("div",{class:"col-10"},t.contestants&&t.contestants.map(t=>Object(i.h)(e,null,Object(i.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},t.firstname," ",t.lastname," (",t.email,")"))))),Object(i.h)("div",{class:"form-group row"},Object(i.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"Subject"),Object(i.h)("div",{class:"col-10"},Object(i.h)("input",{type:"text",class:"form-control",id:"subject",onInput:Object(p.a)(this,"message.subject"),value:a.subject}))),Object(i.h)("div",{class:"form-group row"},Object(i.h)("label",{for:"body",class:"col-2 col-form-label text-right font-weight-lighter"},"Message"),Object(i.h)("div",{class:"col-5"},Object(i.h)("textarea",{type:"text",class:"form-control",id:"body",rows:"10",onInput:Object(p.a)(this,"message.body"),value:a.body})),Object(i.h)("div",{class:"col-5 contain-images"},Object(i.h)(m.a,{markdown:a.body,markdownOpts:f.a.getMarkdownOptions()}))),c&&Object(i.h)(e,null,Object(i.h)("div",{class:"alert alert-"+(c&&c.status>=300?"danger":"success"),role:"alert"},Object(i.h)("small",null,Object(i.h)("xmp",null,JSON.stringify(c,null,4))))),Object(i.h)("button",{class:"btn btn-success float-right",type:"button","data-to":t.contestants&&t.contestants.map(e=>e.email),"data-raceclassid":t.id,onClick:this.sendEmail},Object(i.h)("i",{class:"fas fa-paper-plane"})," Send email to all mushers"),Object(i.h)("button",{class:"btn btn-danger float-right mr-2",type:"button",onClick:this.resetEmail},Object(i.h)("i",{class:"fas fa-times"})," Reset email")),Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:this.toggleAdminSendMessage,"data-class":t.id},"Hide email form"))))):Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:this.toggleAdminSendMessage,"data-class":t.id},"Send message to all in this class"))))))))),"classes"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"race.classes"},"Klasser"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(i.h)("div",{class:"row"},D.classes&&D.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-6 col-lg-4 mb-4"},Object(i.h)("div",{class:"border rounded rounded-lg p-3"},Object(i.h)("h5",null,t.title),Object(i.h)("small",null,t.startDate&&Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.startdate"},"Start"),":")," ",r.a.formatDate(`${t.startDate} ${t.startTime||"00:00:00"}`,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"})),t.endDate&&Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.enddate"},"End"),":")," ",r.a.formatDate(`${t.endDate} ${t.endTime||"00:00:00"}`,{locale:R,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.distance"},"Distanse"),":")," ",t.distance," km"),Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.signup"},"Påmelding"),":")," ",t.signupfee||D.signupfee," NOK"),Object(i.h)("p",{class:"clearfix"},Object(i.h)(m.a,{markdown:f.a.replaceImages(t.ingress,D.images,R),markdownOpts:f.a.getMarkdownOptions()})),Object(i.h)("small",null,Object(i.h)(m.a,{markdown:f.a.replaceImages(t.body,D.images,R),markdownOpts:f.a.getMarkdownOptions()})),t.rules&&Object(i.h)(e,null,Object(i.h)("h5",null,Object(i.h)(b.c,{id:"race.rules"},"Regler")),Object(i.h)(m.a,{markdown:f.a.replaceImages(t.rules,D.images,R),markdownOpts:f.a.getMarkdownOptions()})))))))))),"signup"===t&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("h2",{class:"mb-0"},Object(i.h)(b.c,{id:"races.signup"},"Påmelding"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},M>=new Date(D.signupStartDate)&&M<=new Date(D.signupEndDate)?Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"races.signed-in-as"},"Logget inn som"),":")," ",k.email,Object(i.h)("br",null),Object(i.h)("br",null),C.id?Object(i.h)(e,null,Object(i.h)("div",{class:"font-weight-bold mb-4"},Object(i.h)("i",{class:"fas fa-check text-success"})," ",Object(i.h)(b.c,{id:"races.signed-up"},"Din bruker er påmeldt!"),Object(i.h)("br",null)),D.signuppayment&&Object(i.h)(e,null,Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.signup"},"Påmelding")),Object(i.h)("div",{class:"col-10"},C.paidSignupfee?Object(i.h)("div",{class:"py-2"},Object(i.h)(b.c,{id:"races.paid"},"Betalt"),": ",r.a.formatDate(C.paidSignupfee),Object(i.h)("i",{class:"fas fa-check text-success ml-3"})):Object(i.h)(e,null,Object(i.h)("div",{class:"alert alert-danger mb-1",role:"alert"},Object(i.h)("h5",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"races.payment-info"},"Betaling påmelding"),":"),Object(i.h)("br",null),Object(i.h)(m.a,{markdown:f.a.replaceImages(D.signuppayment,D.images,R),markdownOpts:f.a.getMarkdownOptions()}),$.signupfee||D.signupfee," NOK")))))),Object(i.h)("div",{class:"clearfix mt-2"},Object(i.h)("span",{class:"font-weight-lighter float-right"},Object(i.h)(b.c,{id:"races.click-to-change"},"Click the fields to edit."))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.cellphone"},"Mobil")),Object(i.h)("div",{class:"col-10"},Object(i.h)(b.b,null,Object(i.h)("input",{type:"text",class:"form-control",id:"cellphone","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.cellphone,placeholder:Object(i.h)(b.c,{id:"races.cellphone-help"},"Hva er mobilnummer ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"firstname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.firstname"},"Fornavn")),Object(i.h)("div",{class:"col-10"},Object(i.h)(b.b,null,Object(i.h)("input",{type:"text",class:"form-control",id:"firstname","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.firstname,placeholder:Object(i.h)(b.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"lastname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.lastname"},"Etternavn")),Object(i.h)("div",{class:"col-10"},Object(i.h)(b.b,null,Object(i.h)("input",{type:"text",class:"form-control",id:"lastname","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.lastname,placeholder:Object(i.h)(b.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"sportsClub",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.sportsclub"},"Klubb")),Object(i.h)("div",{class:"col-10"},Object(i.h)(b.b,null,Object(i.h)("input",{type:"text",class:"form-control",id:"sportsClub","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.sportsClub,placeholder:Object(i.h)(b.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"facebook",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.facebook"},"Facebook")),Object(i.h)("div",{class:"col-10"},Object(i.h)(b.b,null,Object(i.h)("input",{type:"text",class:"form-control",id:"facebook","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.facebook,placeholder:Object(i.h)(b.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"instagram",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.instagram"},"Instagram")),Object(i.h)("div",{class:"col-10"},Object(i.h)(b.b,null,Object(i.h)("input",{type:"text",class:"form-control",id:"instagram","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.instagram,placeholder:Object(i.h)(b.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.team"},"Team")),Object(i.h)("div",{class:"col-10"},Object(i.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp","data-classid":C.class,"data-contestantid":C.id,onInput:this.editSignup,value:C.team},Object(i.h)("option",{value:""},"-- ",Object(i.h)(b.c,{id:"races.choose-team"},"Velg team")," --"),S.map(e=>Object(i.h)("option",{value:e.id},e.name))))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(b.c,{id:"races.class"},"Klasse")),Object(i.h)("div",{class:"col-10"},Object(i.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.editSignup,value:C.class,disabled:!0},Object(i.h)("option",{value:""},"-- ",Object(i.h)(b.c,{id:"races.choose-class"},"Velg klasse")," --"),D.classes&&D.classes.sort((e,t)=>e.distance-t.distance).map(t=>Object(i.h)(e,null,Object(i.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||D.signupfee," NOK"))))))):Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"cellphone"},Object(i.h)(b.c,{id:"races.cellphone"},"Mobil")),Object(i.h)("input",{type:"text",class:"form-control",id:"cellphone","aria-describedby":"cellphoneHelp",placeholder:k.cellphone,onInput:this.updateSignup,value:C.cellphone}),Object(i.h)("small",{id:"cellphoneHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.cellphone-help"},"'Hva er mobilnummer ditt?'"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"firstname"},Object(i.h)(b.c,{id:"races.firstname"},"Fornavn")),Object(i.h)("input",{type:"text",class:"form-control",id:"firstname","aria-describedby":"firstnameHelp",placeholder:k.firstname,onInput:this.updateSignup,value:C.firstname}),Object(i.h)("small",{id:"firstnameHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")))),Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"lastname"},Object(i.h)(b.c,{id:"races.lastname"},"Etternavn")),Object(i.h)("input",{type:"text",class:"form-control",id:"lastname","aria-describedby":"lastnameHelp",placeholder:k.lastname,onInput:this.updateSignup,value:C.lastname}),Object(i.h)("small",{id:"lastnameHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?"))))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"sportsClub"},Object(i.h)(b.c,{id:"races.sportsclub"},"Klubb")),Object(i.h)("input",{type:"text",class:"form-control",id:"sportsClub","aria-describedby":"sportsClubHelp",placeholder:k.sportsClub,onInput:this.updateSignup,value:C.sportsClub}),Object(i.h)("small",{id:"sportsClubHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"facebook"},Object(i.h)(b.c,{id:"races.facebook"},"Facebook")),Object(i.h)("input",{type:"text",class:"form-control",id:"facebook","aria-describedby":"facebookHelp",placeholder:k.facebook,onInput:this.updateSignup,value:C.facebook}),Object(i.h)("small",{id:"facebookHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")))),Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"instagram"},Object(i.h)(b.c,{id:"races.instagram"},"Instagram")),Object(i.h)("input",{type:"text",class:"form-control",id:"instagram","aria-describedby":"instagramHelp",placeholder:k.instagram,onInput:this.updateSignup,value:C.instagram}),Object(i.h)("small",{id:"instagramHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?"))))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"team"},Object(i.h)(b.c,{id:"races.team"},"Team")),Object(i.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp",onInput:this.updateSignup,value:C.team},Object(i.h)("option",{value:""},"-- ",Object(i.h)(b.c,{id:"races.choose-team"},"Velg team")," --"),S.map(e=>Object(i.h)("option",{value:e.id},e.name))),Object(i.h)("small",{id:"teamHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.choose-team-help"},"Velg fra dine team"))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"class"},Object(i.h)(b.c,{id:"races.class"},"Klasse")),Object(i.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.updateSignup,value:C.class},Object(i.h)("option",{value:""},"-- ",Object(i.h)(b.c,{id:"races.choose-class"},"Velg klasse")," --"),D.classes&&D.classes.map(t=>Object(i.h)(e,null,Object(i.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||D.signupfee," NOK")))),Object(i.h)("small",{id:"classHelp",class:"form-text text-muted"},Object(i.h)(b.c,{id:"races.choose-class-help"},"Velg ønsket klasse."))),Object(i.h)("div",{class:"form-group form-check"},Object(i.h)("input",{type:"checkbox",class:"form-check-input",id:"termsAndAgreement",onInput:this.updateSignup,checked:C.termsAndAgreement,value:!0}),Object(i.h)("label",{class:"form-check-label",for:"termsAndAgreement"},Object(i.h)(b.c,{id:"races.agreement-accept"},"Jeg har lest og godtar reglene for løpet."))),Object(i.h)("button",{type:"button",class:"btn btn-primary",onClick:this.signupToRace},Object(i.h)(b.c,{id:"races.do-signup"},"Meld meg på")))):Object(i.h)(e,null,M<new Date(D.signupStartDate)?Object(i.h)(e,null,Object(i.h)("h5",{class:"mt-4"},Object(i.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(i.h)(b.c,{id:"races.signup-not-open-yet"},"Påmeldingen har ikke åpnet ennå!")),Object(i.h)("p",{class:"mt-4"},Object(i.h)(b.c,{id:"races.signup-opening"},"Påmeldingen åpner"),":",Object(i.h)("br",null),Object(i.h)("span",{class:"display-4"},r.a.formatDate(D.signupStartDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(i.h)(e,null,Object(i.h)("h5",{class:"mt-4 mb-4"},Object(i.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(i.h)(b.c,{id:"races.signup-closed"},"Påmeldingen er stengt!"))))))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(i.h)("div",{class:""},Object(i.h)(g.a,{stores:this.props.stores,likes:T,comments:H,type:"story"}))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-6 text-center"},Object(i.h)("button",{type:"button",class:`btn btn-outline-${U?"primary":"secondary"} btn-lg btn-block ${U?"text-primary":""}`,onClick:this.likeRace},Object(i.h)("i",{class:(U?"text-primary fas":"far")+" fa-thumbs-up"})," ",U?Object(i.h)(b.c,{id:"comments.has-liked"},"Liked"):Object(i.h)(b.c,{id:"comments.like"},"Lik"))),Object(i.h)("div",{class:"col-6 text-center"},Object(i.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":D.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," ",Object(i.h)(b.c,{id:"comments.comment-add"},"Comment"))))),l&&k.email&&Object(i.h)(O.a,{stores:this.props.stores,race:D,inputRef:e=>this.inputRef[D.id]=e}),Object(i.h)(u.a,{stores:this.props.stores,race:D,cols:"12"})))}})||o;t.default=k}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-app-races.chunk.d745e.esm.js.map