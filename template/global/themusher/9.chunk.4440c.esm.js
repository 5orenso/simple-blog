(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"8n2v":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,n=s("hosL"),i=(s("Utv1"),s("/eY4")),r=s("OhSV"),o=s("ZOvn");o.a.marginTop(!1),o.a.marginBottom();const h={};let d=Object(i.a)(c=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h)}render(){const{goto:e,gotoTitle:s,routerName:a}=this.props;return Object(n.h)("div",{class:"row h-100"},Object(n.h)("div",{class:"col-12 text-center my-auto"},Object(n.h)("div",{class:"spinner-border text-primary",style:"width: 8rem; height: 8rem;",role:"status"},Object(n.h)("span",{class:"sr-only"},Object(n.h)(r.c,{id:"home.loading"},"Loading..."))),Object(n.h)("h3",{class:"mt-4"},Object(n.h)(r.c,{id:"home.loading"},"Loading...")),e&&Object(n.h)(t,null,Object(n.h)("a",{class:"my-4 btn btn-primary btn-lg btn-block",native:!0,href:e},s," ",Object(n.h)("i",{class:"fas fa-angle-double-right ml-2"})),Object(n.h)("small",{class:"text-muted"},a))))}})||c;e.a=d}).call(this,s("hosL").Fragment)},"HQo+":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,n=s("hosL"),i=(s("Utv1"),s("/eY4")),r=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const o={showAddComment:!1};let h=Object(i.a)(c=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},o),this.updateTimer={},this.inputRef={}}async loadTrack(t=this.props){const{showHeatmap:e,raceid:s,allTeamIds:a}=t,{adminStore:l,trackStore:c,raceStore:n,appState:i}=t.stores,{selectedClassIds:r=[]}=i;e&&await l.getPublicHeatmap(s,a);const o=n.getTrackIdsByClass(r[0]);o&&o.length>0&&(c.cleanupMemory(),await c.loadPublic({query:{idin:o}}))}componentDidMount(){this.loadTrack()}componentWillReceiveProps(t){this.props.selectedClassIds!==t.selectedClassIds&&this.loadTrack(t)}render(){const{trackStore:e,raceStore:s,appState:a,adminStore:l}=this.props.stores,{selectedClassIds:c=[]}=a,{waypoints:i,waypoints2:o,waypoints3:h,zoomToMarkers:d,fullscreenMap:b,onMarkerClick:u,onMarker2Click:m,onMarker3Click:O,showHeatmap:j,showTracks:p,showDistanceMarkers:f,groupWaypoints:g,focusOnMushers:x,geoJSONs:v,largeMarkers:y,isAnimatedMarkers:w,replaySpeed:k}=this.props,{tracks:T}=e,{publicHeatmap:D}=l,S=T[0];s.getTrackIdsByClass();return Object(n.h)(t,null,Object(n.h)(r.a,{stores:this.props.stores,heatmap:j?D:null,track:S,geojson:p&&S&&S.gpx?S.gpx.geoJSON:null,gpxInfo:p&&S&&(S.gpx||S.gpxInfo)?S.gpxInfo||S.gpx.gpxInfo:null,minZoom:2,maxZoom:18,height:600,waypoints:i,waypoints2:o,waypoints3:h,geoJSONs:v,zoomToMarkers:d,fullscreenMap:b,onMarkerClick:u,onMarker2Click:m,onMarker3Click:O,showTrackProfile:!1,distanceMarkerSteps:"long",showDistanceMarkers:f,groupWaypoints:g,focusOnMushers:x,showFullscreenControl:!1,largeMarkers:y,isAnimatedMarkers:w,replaySpeed:k}))}})||c;e.a=h}).call(this,s("hosL").Fragment)},ZQlJ:function(t,e,s){"use strict";var a,l=s("hosL"),c=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("NDEG"));let i=Object(c.a)(a=class extends l.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,a=e/s,l=Math.round(a),c=Math.abs(l-a);(Number.isInteger(a)||c<.1)&&this.setState({imageIdx:l})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,a=s.find(e=>e.id===t),l=s.find(t=>t.id===e);return a&&l&&a.name>l.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:a=(()=>{})}=this.props;return Object(l.h)("div",{class:"w-100"},Object(l.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(c=>{const i=e.find(t=>t.id===c);return i?Object(l.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(l.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(l.h)(n.a,{stores:this.props.stores,dog:i,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:a}))):""})))}})||a;e.a=i},e0EM:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),c=(s("QRet"),s("Utv1")),n=s("/eY4"),i=s("OhSV"),r=(s("Y3FI"),s("fh8t"),s("go65"),s("HQo+"),s("wanP")),o=(s("ZQlJ"),s("s4FZ"),s("q/oJ"),s("cH0S"),s("fVsX"),s("8n2v"),s("gWxU"),s("Nanz"),s("zUny"),s("bbv7")),h=s("ukv5"),d=(s("eQ6k"),s("ZOvn"));let b=Object(n.a)(a=class extends l.Component{constructor(t){super(t),this.state={}}render(){const{wp:e,musher:s}=this.props,{raceStore:a,userStore:n}=this.props.stores,{totalTrackLength:b}=a,u=a.getClassByBib(e.bib),m=a.getTeamById(s.team),O=m.members?m.members.find(t=>t.email===s.email):{},{user:j={}}=n,p=a.getTotalsByTeamId(s.team),f=(d.a.getImage({user:O,team:m,priority:"user",fallback:s.image1}),d.a.displayNameShort(O)||d.a.displayNameShort(s),c.a.format(e.totalDistanceOnTrack/b*100,0)),g=c.a.format(e.restTime/e.raceTime*100,0),x=[],v=[],y=[],w=[];if(e&&e.speeds&&e.speeds.length>0){const t=c.a.range(e.speeds[0].timestamp,e.speeds[e.speeds.length-1].timestamp,600),s=Math.ceil(t.length/5);Math.floor(t.length/s);for(let e=0,a=t.length;e<a;e+=s)x.push(d.a.formatDate(c.a.parseInputDate(t[e]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));x.push(d.a.formatDate(c.a.parseInputDate(t[t.length-1]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));const a=e.speeds.map(t=>({x:t.timestamp,y:3.6*t.speed}));v.push(a),y.push("Avg speed"),w.push("km/t")}m.members&&m.members.indexOf(j.id),m.followers&&m.followers.indexOf(j.id),m.followRequests&&m.followRequests.findIndex(t=>t.id===j.id);const k=Math.floor((new Date).getTime()/1e3);return Object(l.h)(t,null,Object(l.h)("div",{class:"d-flex justify-content-between"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-list"})," Ranking")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},e.rank)),e.finishTime<9999999999?Object(l.h)(t,null,e.diffToFirstFinishTime>0?Object(l.h)(t,null,Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"})," Diff to 1st")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(e.diffToFirstFinishTime)))):Object(l.h)(t,null,Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"})," Start time")),Object(l.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(s.startTime||u.startDate||e.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"})," Finish time")),Object(l.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(e.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(l.h)(t,null,Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-tachometer-alt"})," Current speed")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.format(e.speed||0,1)," ",Object(l.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km/h"))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-stopwatch"})," Last update")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(k-e.timestamp))))),Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-road"})," Total distance")),Object(l.h)("div",{class:"text-center mt-2"},Object(l.h)(r.a,{key:"gauge-reload-page",color:"primary",radius:40,showPercentText:!1,percent:f,showCenterText:!0,centerText:f+"%",centerTextSize:18,centerTextY:"55%"})),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,c.a.format(e.totalDistanceOnTrack,1)," / ",c.a.format(b,1)," ",Object(l.h)("span",{class:"text-muted"},"km"),Object(l.h)("br",null),Object(l.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",c.a.secToHms(e.raceTime)))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-bed"})," Rest")),Object(l.h)("div",{class:"text-center mt-2"},Object(l.h)(r.a,{key:"gauge-reload-page",color:g<40?g<30?"danger":"warning":"success",radius:40,showPercentText:!1,percent:g,showCenterText:!0,centerText:g+"%",centerTextSize:18,centerTextY:"55%"})),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,g," ",Object(l.h)("span",{class:"text-muted"},"%"),Object(l.h)("br",null),Object(l.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",c.a.secToHms(e.restTime))))),Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(l.h)(h.a,{stores:this.props.stores,states:e.states,duration:e.raceTime,key:"state-"+e.bib}))),e.finishTime<9999999999?Object(l.h)(t,null,e.diffToFirstFinishTime>0?Object(l.h)(t,null,Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"})," Start time")),Object(l.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(s.startTime||u.startDate||e.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"})," Finish time")),Object(l.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(e.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(l.h)(t,null)):Object(l.h)(t,null,Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-arrow-down"})," Behind")),Object(l.h)("div",{class:"text-center"},c.a.format(e.distanceToBehind,1)," ",Object(l.h)("span",{class:"text-muted"},"km"))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},"Team")),Object(l.h)("div",{class:"text-center"},Object(l.h)("i",{class:"fas fa-dog"}))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-arrow-up"})," In front")),Object(l.h)("div",{class:"text-center"},c.a.format(e.distanceToForward,1)," ",Object(l.h)("span",{class:"text-muted"},"km"))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-arrow-up"})," To first")),Object(l.h)("div",{class:"text-center"},c.a.format(e.distanceToFirst,1)," ",Object(l.h)("span",{class:"text-muted"},"km")))),Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.format(e.distanceToFinish,1)," ",Object(l.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km"))))),Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"})," Racetime")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(e.raceTime))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-bed"})," Resttime")),Object(l.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(e.restTime)))),Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-tachometer-alt"})," Speed plot")),Object(l.h)("div",{class:"w-100 mt-2 overflow-auto"},Object(l.h)(o.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicks:x,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:v,legendLeft:y,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" km/t",unitLeft:w,avgWindowLeft:[0,0],smoothLeft:[0,0]})))),p&&p.distanceKm&&Object(l.h)(t,null,Object(l.h)("div",{class:"table-responsive-lg"},Object(l.h)("table",{class:"table table-borderless"},Object(l.h)("tbody",null,Object(l.h)("tr",null,Object(l.h)("td",{style:"width: 5%;"},Object(l.h)("i",{class:"fas fa-dog"})),Object(l.h)("td",{style:"width: 60%"},Object(l.h)(i.c,{id:"races.dogs"},"Dogs")),Object(l.h)("td",{style:"width: 5%;"}," "),Object(l.h)("td",{class:"text-right",style:"width: 30%;"},m.dogs.length)),Object(l.h)("tr",null,Object(l.h)("td",null,Object(l.h)("i",{class:"fas fa-road"})),Object(l.h)("td",null,Object(l.h)(i.c,{id:"races.distance"},"Distance")),Object(l.h)("td",null," "),Object(l.h)("td",{class:"text-right"},Object(l.h)("nobr",null,p.distanceKm?c.a.format(p.distanceKm,1)+" km":"n/a"))),Object(l.h)("tr",null,Object(l.h)("td",null,Object(l.h)("i",{class:"fas fa-mountain"})),Object(l.h)("td",null,Object(l.h)(i.c,{id:"races.ascend"},"Ascending")),Object(l.h)("td",null," "),Object(l.h)("td",{class:"text-right"},Object(l.h)("nobr",null,p.elevation?c.a.format(p.elevation,0)+" m":"n/a"))),Object(l.h)("tr",null,Object(l.h)("td",null,Object(l.h)("i",{class:"fas fa-stopwatch"})),Object(l.h)("td",null,Object(l.h)(i.c,{id:"races.race-time"},"Racetime")),Object(l.h)("td",null,Object(l.h)("i",{class:"fas fa-clock"})),Object(l.h)("td",{class:"text-right"},Object(l.h)("nobr",null,c.a.secToHms(p.duration)||"n/a"))),Object(l.h)("tr",null,Object(l.h)("td",null,Object(l.h)("i",{class:"fas fa-bed"})),Object(l.h)("td",null,Object(l.h)(i.c,{id:"races.rest-time"},"Rest")),Object(l.h)("td",null,Object(l.h)("i",{class:"fas fa-clock"})),Object(l.h)("td",{class:"text-right"},Object(l.h)("nobr",null,c.a.secToHms(p.rest)||"n/a"))))))))}})||a;e.a=b}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},fVsX:function(t,e,s){"use strict";var a,l=s("hosL"),c=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("ZOvn"));n.a.marginTop(!1),n.a.marginBottom();let i=Object(c.a)(a=class extends l.Component{render(){const{children:t,height:e="65px"}=this.props;return Object(l.h)("nav",{class:"navbar navbar-themed bg-light fixed-top py-0",style:`height: ${e};`},t)}})||a;e.a=i},ukv5:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function i(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var r,o=s("hosL"),h=s("Utv1"),d=s("/eY4"),b=(s("Y3FI"),s("OhSV")),u=(s("cneo"),s("fh8t"),s("ZOvn")),m=s("nHdA"),O=(s("irB3"),s("UwwE"),s("8Lgr"));s("QkTp");let j=Object(d.a)(r=class extends o.Component{constructor(...t){super(...t),this.hideDetail=t=>{t.preventDefault(),t.stopPropagation(),this.setState({stateDetail:{state:"",idx:0}})},this.showStateDetail=t=>{t.preventDefault(),t.stopPropagation();const e=t.target.closest("div").dataset;this.setState({stateDetail:l({},e)})},this.nextStateDetail=t=>{t.preventDefault(),t.stopPropagation();const{states:e,duration:s}=this.props,{stateDetail:a={}}=this.state,l=parseInt(a.idx,10)+1,c=e[l];c&&this.setState({stateDetail:{idx:l,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:h.a.normalizeBetween(c.duration,0,s,0,100)}})},this.prevStateDetail=t=>{t.preventDefault(),t.stopPropagation();const{states:e,duration:s}=this.props,{stateDetail:a={}}=this.state,l=parseInt(a.idx,10)-1,c=e[l];c&&this.setState({stateDetail:{idx:l,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:h.a.normalizeBetween(c.duration,0,s,0,100)}})}}render(){const{states:e,duration:s,height:a="20px",showText:l=!0}=this.props,{stateDetail:c={}}=this.state;return Object(o.h)(t,null,Object(o.h)("div",{class:"row"},e&&Object(o.h)("div",{class:"col-12 px-0"},Object(o.h)("div",{class:"progress",style:`height: ${c&&c.idx?"20px":a};`},e.map((e,a)=>{const i=Math.ceil(h.a.normalizeBetween(e.duration,0,s,0,100));let r=i;return c&&c.idx==a&&(r=i<10?10:i),Object(o.h)(t,null,Object(o.h)("div",{class:"progress-bar bg-"+n(e.state),role:"progressbar",style:`width: ${r}%`,"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100","data-idx":a,"data-state":e.state,"data-duration":e.duration,"data-distance":e.distance,"data-avgspeed":e.avgSpeed,"data-statespeeds":e.stateSpeeds,"data-point":e.point,"data-start":e.start,"data-end":e.end,"data-percent":h.a.normalizeBetween(e.duration,0,s,0,100),onClick:this.showStateDetail},l?Object(o.h)(t,null,Object(o.h)("nobr",null,i>10&&Object(o.h)(t,null,"rest"===e.state?Object(o.h)(t,null,h.a.secToHms(e.duration,!0)):Object(o.h)(t,null,h.a.format(e.distance/1e3,0),"km")),c&&c.idx==a?Object(o.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")):Object(o.h)(t,null,c&&c.idx==a?Object(o.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")))})),c&&c.state&&Object(o.h)(t,null,Object(o.h)("div",{class:"card position-relative"},Object(o.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:i(c.state)})," ",h.a.format(c.percent,1),"%")),Object(o.h)("div",{class:"card-body"},"rest"===c.state?Object(o.h)(t,null,Object(o.h)("div",{class:"card-text row"},Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock ml-2"})," ",Object(o.h)(b.c,{id:"workouts.duration"},"Vargihet")),Object(o.h)("h6",null,h.a.secToHms(c.duration,!0))),c.point&&Object(o.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fa-map-marked ml-2"})," ",Object(o.h)(b.c,{id:"workouts.position"},"Position")),Object(o.h)("h6",null,c.point))),Object(o.h)("div",{class:"card-text row"},c.start&&Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock ml-2"})," ",Object(o.h)(b.c,{id:"workouts.starttime"},"Start")),Object(o.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),c.end&&Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock ml-2"})," ",Object(o.h)(b.c,{id:"workouts.endtime"},"End")),Object(o.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(o.h)(t,null,Object(o.h)("div",{class:"card-text row"},Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road ml-2"})," ",Object(o.h)(b.c,{id:"workouts.distance"},"Distanse")),Object(o.h)("h6",null,Object(o.h)(O.a,{stores:this.props.stores,value:c.distance/1e3}))),Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock ml-2"})," ",Object(o.h)(b.c,{id:"workouts.duration"},"Vargihet")),Object(o.h)("h6",null,h.a.secToHms(c.duration,!0))),Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(o.h)(b.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(o.h)("h6",null,Object(o.h)(m.a,{stores:this.props.stores,value:c.distance/c.duration*3.6})))),Object(o.h)("div",{class:"card-text row"},c.start&&Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock ml-2"})," ",Object(o.h)(b.c,{id:"workouts.starttime"},"Start")),Object(o.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),c.end&&Object(o.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock ml-2"})," ",Object(o.h)(b.c,{id:"workouts.endtime"},"End")),Object(o.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(o.h)("div",{class:"float-right"},Object(o.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(o.h)("i",{class:"fas fa-times"})),c.idx<e.length-1&&Object(o.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(o.h)("i",{class:"fas fa-angle-right"})),c.idx>0&&Object(o.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(o.h)("i",{class:"fas fa-angle-left"}))))))))}})||r;e.a=j}).call(this,s("hosL").Fragment)},wanP:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,n=s("hosL"),i=(s("Utv1"),s("/eY4")),r=s("eK6s"),o=s.n(r);const h={mouseData:{}};let d=Object(i.a)(c=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.svgRef=null}render(){const{radius:e=50,heightAdd:s=0,color:a="success",showPercentText:l=!0,percent:c=0,prefix:i="",showCenterText:r=!1,centerText:h,centerTextSize:d,centerTextX:b,centerTextY:u,total:m="",totalY:O="90%",totalX:j="50%",totalTextAnchor:p="middle",completed:f="",completedY:g="65%",completedX:x="50%",completedTextAnchor:v="middle"}=this.props,y=.3*e,w=e-y/2,k=.3*e,T=2*w*Math.PI,D=.75*T,S=`${D} ${T}`,I=`rotate(135, ${e}, ${e})`,P=D-Math.min(Math.max(c,0),100)/100*D,C=d||e/2.5,L=e/5;return Object(n.h)(t,null,Object(n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:o.a.svg,width:2*e,height:2*e+s,preserveAspectRatio:"none",ref:t=>this.svgRef=t},Object(n.h)("circle",{class:""+o.a.gaugeBackground,cx:e,cy:e,r:w,strokeWidth:y,strokeDasharray:S,strokeLinecap:"round",transform:I}),Object(n.h)("circle",{class:`${o.a[a]} ${o.a.gauge}`,cx:e,cy:e,r:w,stroke:"url(#grad)",strokeDasharray:S,strokeDashoffset:P,strokeLinecap:"round",strokeWidth:k,style:{transition:"stroke-dashoffset 0.3s"},transform:I}),l&&Object(n.h)("text",{class:`${o.a.gaugeText} ${o.a[a]}`,x:b||"50%",y:u||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":C},c," ",i),r&&Object(n.h)("text",{class:`${o.a.gaugeText} ${o.a[a]}`,x:b||"50%",y:u||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":C},h),f&&Object(n.h)("text",{class:`${o.a.gaugeText} ${o.a[a]}`,x:x,y:g,"dominant-baseline":"middle","text-anchor":v,"font-size":L},f),Object(n.h)("text",{class:`${o.a.gaugeText} ${o.a.secondary}`,x:j,y:O,"dominant-baseline":"middle","text-anchor":p,"font-size":L},m)))}})||c;e.a=d}).call(this,s("hosL").Fragment)},zUny:function(t,e,s){"use strict";(function(t){var a,l=s("hosL"),c=s("Utv1"),n=s("/eY4"),i=(s("OhSV"),s("fh8t")),r=s.n(i),o=s("ZOvn");const h=t=>(e,s)=>t.map(t=>{let a=1;return"-"===t[0]&&(a=-1,t=t.substring(1)),e[t]>s[t]?a:e[t]<s[t]?-a:0}).reduce((t,e)=>t||e,0);let d=Object(n.a)(a=class extends l.Component{constructor(...t){super(...t),this.chooseSubmenu=t=>{const e=t.target.closest("button").dataset.submenu;this.setState({submenu:e})},this.toggleInfo=()=>{const{showInfo:t}=this.state;this.setState({showInfo:!t})}}render(){const{id:e,onClickNav:s=(()=>{})}=this.props,{submenu:a="detailsIn",showInfo:n}=this.state,{appState:i,raceStore:d,userStore:b}=this.props.stores,{user:u={},teams:m=[]}=b,{language:O="en"}=u,{selectedClassIds:j=[]}=i,p=d.getClassById(j[0]);let f=p.checkpoints?p.checkpoints.find(t=>t.id===e):null;f=f||{};const{sortedContestants:g=[]}=d,x=p.results?p.results.slice().sort(h(["timestamp","-direction"])).filter(t=>t.checkpoint===e):null,v=x?x.filter(t=>"in"===t.direction):null,y=x?x.filter(t=>"out"===t.direction):null,w=x?x.slice().sort(h(["legTime","timestamp"])).filter(t=>"in"===t.direction):null,k=x?x.filter(t=>"scratched"===t.direction):null,T=p.checkpoints?p.checkpoints.find(t=>t.sortOrder===f.sortOrder-1):null,D=p.checkpoints?p.checkpoints.find(t=>t.sortOrder===f.sortOrder+1):null,S=p.results&&T?p.results.slice().filter(t=>t.checkpoint===T.id&&"out"===t.direction):null,I=p.results&&D?p.results.slice().filter(t=>t.checkpoint===D.id&&"in"===t.direction):null,P=f.image,C=f.topImage,L=o.a.displayNameShort(f),z=C||"./assets/checkpoint.png";return Object(l.h)(t,null,Object(l.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(z?`background-image: url("${z}");`:"")}),D&&Object(l.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:()=>s(D.id)},Object(l.h)("i",{class:"fas fa-angle-right"})),T&&Object(l.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:()=>s(T.id)},Object(l.h)("i",{class:"fas fa-angle-left"})),Object(l.h)("div",{class:"d-flex position-relative",style:"margin-top: 16vh;"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(P?`background-image: url("${P}"); background-size: cover;`:"background-color: #c0c0c0;")},!P&&Object(l.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},L),Object(l.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute bg-secondary font-weight-bold",style:"bottom: -8px; right: 0; "},f.sortOrder&&"n/a"!==f.sortOrder&&Object(l.h)(t,null,f.sortOrder))),Object(l.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(l.h)("h3",{class:"mb-2"},f.name),Object(l.h)("div",null,f.cellphone&&Object(l.h)(t,null,Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-phone"}))," ",Object(l.h)("a",{href:"tel:"+f.cellphone},f.cellphone)),f.email&&Object(l.h)(t,null,Object(l.h)("a",{class:"ml-3",href:"mailto:"+f.email},Object(l.h)("i",{class:"fas fa-envelope"}))),f.facebook&&Object(l.h)(t,null,Object(l.h)("a",{class:"ml-3",href:""+o.a.asFacebookLink(f.facebook)},Object(l.h)("i",{class:"fab fa-facebook"}))),f.instagram&&Object(l.h)(t,null,Object(l.h)("a",{class:"ml-3",href:""+o.a.asInstagramLink(f.instagram)},Object(l.h)("i",{class:"fab fa-instagram"}))),f.description&&Object(l.h)(t,null,Object(l.h)("a",{class:"ml-3 text-primary",onCLick:this.toggleInfo},Object(l.h)("i",{class:"fas fa-info-circle"})))))),n&&f.description&&Object(l.h)("div",null,Object(l.h)(r.a,{markdown:o.a.replaceImages(f.description,f.images),markdownOpts:o.a.getMarkdownOptions()})),Object(l.h)("div",{class:""},Object(l.h)("div",{class:""},Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-flag"})," Start")),Object(l.h)("div",{class:"text-center"},c.a.format(f.totalDistance||0,0)," ",Object(l.h)("span",{class:"text-muted"},"km"))),!f.isStartLine&&Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-arrow-down"})," Prev")),Object(l.h)("div",{class:"text-center"},Object(l.h)("nobr",null,c.a.format(f.distanceFromPrev||0,0)," ",Object(l.h)("span",{class:"text-muted"},"km")))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-arrow-up"})," Next")),Object(l.h)("div",{class:"text-center"},c.a.format(f.distanceToNext||0,0)," ",Object(l.h)("span",{class:"text-muted"},"km"))),Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(l.h)("div",{class:"text-center"},Object(l.h)("nobr",null,c.a.format(f.distanceToFinish||0,0)," ",Object(l.h)("span",{class:"text-muted"},"km"))))),Object(l.h)("div",{class:"d-flex justify-content-between mt-2"},f.requiredRestMinutes&&Object(l.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(l.h)("div",null,Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-bed"})," Mandatory rest")),Object(l.h)("div",{class:"text-center"},Object(l.h)("nobr",null,c.a.secToHms(60*f.requiredRestMinutes,!0)),f.timeEqualization&&Object(l.h)(t,null,Object(l.h)("span",{class:"text-muted ml-2"},"+")," ",Object(l.h)("i",{class:"fas fa-user-clock"})," Time Equalization")))))),f.hideResults?Object(l.h)(t,null):Object(l.h)(t,null,Object(l.h)("div",{class:"d-flex justify-content-center mb-3"},Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{type:"button",class:`btn btn-block rounded-pill-left rounded-none ${"detailsIn"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsIn"},"Details in")),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{type:"button",class:`btn btn-block rounded-none ${"detailsOut"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsOut"},"Detail out")),Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{type:"button",class:`btn btn-block rounded-pill-right rounded-none ${"legTimes"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"legTimes"},"Leg times"))),Object(l.h)("div",{class:"w-100 overflow-auto position-relative",style:"max-height: 60vh;"},Object(l.h)("div",{class:"table-responsive-lg"},Object(l.h)("table",{class:"table table-striped table-sm"},"detailsIn"===a&&Object(l.h)(t,null,Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"#"),Object(l.h)("th",null,"Musher"),Object(l.h)("th",null,"Time in"),Object(l.h)("th",null,"Time out"),Object(l.h)("th",null,"Time used"),Object(l.h)("th",null,"Avg speed"),Object(l.h)("th",null,"Dogs in"))),Object(l.h)("tbody",null,v&&v.map((e,s)=>{const a=parseInt(e.bib,10);let n=a?d.getMusherByBibId(a):null;n=n||{};const i=y.find(t=>t.bib===parseInt(e.bib,10)),r=v.find(t=>t.bib===parseInt(e.bib,10)),h=k.find(t=>t.bib===parseInt(e.bib,10)),b=S&&S.find(t=>t.bib===parseInt(e.bib,10));let u,m,j=0;return b&&e&&(u=o.a.deltaSec(b.timestamp,e.timestamp),j=f.distanceFromPrev/(u/3600)),r&&i&&r.timestamp&&i.timestamp&&(m=o.a.deltaSec(r.timestamp,i.timestamp)),Object(l.h)(t,null,Object(l.h)("tr",null,Object(l.h)("td",{class:"text-center"},s+1),Object(l.h)("td",null,Object(l.h)("div",{class:"d-flex flex-nowrap"},Object(l.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${o.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(l.h)("div",null,Object(l.h)("nobr",null,n.flag," ",n.lastname)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(r.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("td",{class:"text-center"},i&&Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(i.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),h&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"text-danger"},Object(l.h)("i",{class:"fas fa-times"}),o.a.formatDate(h.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.secToHms(u,!0)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.format(j||0,1)," ",Object(l.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(l.h)("td",{class:"text-center"},e.dogs)))}))),"detailsOut"===a&&Object(l.h)(t,null,Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"#"),Object(l.h)("th",null,"Musher"),Object(l.h)("th",null,"Time in"),Object(l.h)("th",null,"Time out"),Object(l.h)("th",null,"Time used"),Object(l.h)("th",null,"Rest in cp"),Object(l.h)("th",null,"Avg speed"),Object(l.h)("th",null,"Dogs out"),Object(l.h)("th",null,"Next CP"))),Object(l.h)("tbody",null,y&&y.map((e,s)=>{const a=parseInt(e.bib,10);let n=a?d.getMusherByBibId(a):null;n=n||{};const i=v.find(t=>t.bib===parseInt(e.bib,10)),r=y.find(t=>t.bib===parseInt(e.bib,10)),h=k.find(t=>t.bib===parseInt(e.bib,10)),b=S&&S.find(t=>t.bib===parseInt(e.bib,10)),u=I&&I.find(t=>t.bib===parseInt(e.bib,10));let m,j,p,g=0;b&&e&&(m=o.a.deltaSec(b.timestamp,e.timestamp),g=f.distanceFromPrev/(m/3600)),i&&r&&i.timestamp&&r.timestamp&&(j=o.a.deltaSec(i.timestamp,r.timestamp));let x=f.estTimeToCpMinutes||0;return x&&n.cpSortOrder===f.sortOrder&&(p=o.a.addDeltaSec(r.timestamp,60*x)),Object(l.h)(t,null,Object(l.h)("tr",null,Object(l.h)("td",{class:"text-center"},s+1),Object(l.h)("td",null,Object(l.h)("div",{class:"d-flex flex-nowrap"},Object(l.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${o.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(l.h)("div",null,Object(l.h)("nobr",null,n.flag," ",n.lastname)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(i.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("td",{class:"text-center"},r&&Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(r.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),h&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"text-danger"},Object(l.h)("i",{class:"fas fa-times"}),o.a.formatDate(h.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.secToHms(m,!0)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&j&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.secToHms(j,!0)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.format(g||0,1)," ",Object(l.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(l.h)("td",{class:"text-center"},r.dogs),Object(l.h)("td",{class:"text-center"},!f.isFinishLine&&u?Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(u.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))):Object(l.h)(t,null,p&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"text-muted"},o.a.formatDate(p,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))))))}))),"legTimes"===a&&Object(l.h)(t,null,Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"#"),Object(l.h)("th",null,"Musher"),Object(l.h)("th",null,"Time in"),Object(l.h)("th",null,"Time out"),Object(l.h)("th",null,"Time used"),Object(l.h)("th",null,"Avg speed"),Object(l.h)("th",null,"Dogs in"))),Object(l.h)("tbody",null,w&&w.map((e,s)=>{const a=parseInt(e.bib,10);let n=a?d.getMusherByBibId(a):null;n=n||{};const i=v.find(t=>t.bib===parseInt(e.bib,10)),r=y.find(t=>t.bib===parseInt(e.bib,10)),h=k.find(t=>t.bib===parseInt(e.bib,10)),b=S&&S.find(t=>t.bib===parseInt(e.bib,10));let u,m=0;return b&&e&&(u=o.a.deltaSec(b.timestamp,e.timestamp),m=f.distanceFromPrev/(u/3600)),Object(l.h)(t,null,Object(l.h)("tr",null,Object(l.h)("td",{class:"text-center"},s+1),Object(l.h)("td",null,Object(l.h)("div",{class:"d-flex flex-nowrap"},Object(l.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${o.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(l.h)("div",null,Object(l.h)("nobr",null,n.flag," ",n.lastname)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(i.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("td",{class:"text-center"},r&&Object(l.h)(t,null,Object(l.h)("nobr",null,o.a.formatDate(r.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),h&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"text-danger"},Object(l.h)("i",{class:"fas fa-times"}),o.a.formatDate(h.timestamp,{locale:O,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.secToHms(u,!0)))),Object(l.h)("td",{class:"text-center"},!f.isStartLine&&Object(l.h)(t,null,Object(l.h)("nobr",null,c.a.format(m||0,1)," ",Object(l.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(l.h)("td",{class:"text-center"},e.dogs)))}))))))))}})||a;e.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=9.chunk.4440c.esm.js.map