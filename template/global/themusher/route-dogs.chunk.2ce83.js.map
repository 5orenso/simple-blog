{"version":3,"sources":["webpack:///./components/util/scrollIntoView.js","webpack:///./components/dog/status.js","webpack:///./components/data/distance.js","webpack:///./components/dog/index.js","webpack:///./components/data/temperature.js","webpack:///./routes/dogs/index.js","webpack:///./components/data/weight.js","webpack:///./components/gauge/style.css","webpack:///./components/ad/index.js","webpack:///./components/data/elevation.js","webpack:///./components/dog/calendar.js","webpack:///./components/data/speed.js","webpack:///./components/team/teams.js","webpack:///./components/gauge/index.js"],"names":["initialState","ScrollIntoView","observer","props","state","container","componentDidMount","this","horizontal","vertical","behavior","inline","block","scrollIntoView","render","ref","c","Component","Dog","dog","showWorkout","showInfo","hideTeam","fullWidth","daysBack","filterBy","stores","userStore","dogStore","workoutPlanStore","user","language","dogStatus","findDogstatus","status","dogStatuses","statuses","map","e","dogPosition","findDogposition","position","workoutSummary","findCurrentWorkoutSummary","id","currentWeek","util","getWeek","Date","currentYear","getYear","currentMonth","getMonth","seasonStart","parseInt","week","year","planWeek","sumWorkoutPlanDaysBack","completedWeek","format","distanceKm","hasBirthday","mu","birth","hasWorkoutPlan","percentComplete","class","style","image","s3SmallLink","ucfirst","name","key","radius","heightAdd","showPercentText","percent","prefix","total","totalY","completed","completedY","age","deceased","gender","href","shortname","findTeam","team","positions","lead","point","wheel","elevation","duration","secToHms","speedAvg","weight","bodyScore","icon","specialNeeds","displayDistance","distance","Distance","value","smallUnit","settings","imperial","kmToMiles","viewmode","appState","getFullYear","month","findWorkoutSummary","dogVaccines","findVaccineStatuses","dogVaccineLogStatuses","findVaccineLogStatuses","chipId","dogHistoryStatuses","findHistoryStatuses","teamNames","push","teams","forEach","daysUntilBirthday","Math","ceil","daysUntilNextBirthday","url","findHarness","harness","length","idx","history","images","indexOf","v","title","isoDate","endDate","vaccineType","lang","filter","vac","inKarens","vaccineAgens","Temperature","celciusToFahrenheit","MARGIN_TOP","marginTop","MARGIN_BOTTOM","marginBottom","SUB_MENU_MARGIN_TOP","subMenuMarginTop","isLoading","submenu","showDaysBackEdit","showAllDogs","Dogs","loadDogs","query","setState","messageStore","currentTeam","Promise","all","loadWorkoutPlans","load","addData","getDogsWithTraining","getNotifications","getUnReadMessages","workoutPlanCurrent","workoutStore","updateItem","resetGraphPlanWeekDistanceCurrent","seasonYear","seasonMonth","workoutPlans","prepareWeekGraphs","toggleDaysBackEdit","toggleShowAllDogs","setHistoryType","historyType","chooseSubmenu","target","parentElement","dataset","menu","chooseDaysBack","daysback","setDaysBack","selectDog","chipid","closest","selectedDogs","findIndex","splice","sendChiplist","sendChiplistByEmail","sendChiplistResponse","scrolledDown","HISTORY_TYPE_MAP","getHistoryMap","darkmode","dogs","workoutSummaryCurrent","dogFilter","filteredDogs","callback","data-menu","onClick","data-daysback","fields","d","totalDistance","data-chipid","message","role","Weight","kgToPounds","module","exports","showAddComment","Ad","withText","subject","body","logClick","ads","adStore","updateTimer","inputRef","apiServer","getApiServer","loadAd","page","section","path","findTeamAmbition","ambition","ambitions","findTeamType","type","postalcode","place","country","replace","setTime","componentWillReceiveProps","nextProps","time","match","rel","ad","src","native","s3LargeLink","Elevation","meterToFeet","RED_DAYS","HistoryCalendar","historytype","chooseDay","yyyy","mm","dd","day","setDay","loadHistorySummary","getFeed","chosenDD","chosenMM","chosenYYYY","filterHistories","DAYS","getDays","MONTHS","getMonths","currentDay","getDate","basehref","monthNum","yearNum","getNextMonth","nextMonth","nextYear","getPrevMonth","prevMonth","prevYear","daysOfMonth","getDaysInMonth","weeksInMonth","getWeeksInMonth","daysOfWeek","getDaysInWeek","getDay","weekObj","histories","findHistory","endHistories","findEndHistory","isChosen","isToday","isDayOff","data-day","data-month","data-year","bgColor","getHistoryTypeColor","getHistoryPri","data-historytype","Speed","kmtToMph","Teams","toggleTeam","unsetTeamIfSelected","setCurrentTeam","undefined","isDefined","showAllTeams","highlight","showAll","classNames","mouseData","Gauge","svgRef","color","showCenterText","centerText","centerTextSize","centerTextX","centerTextY","totalX","totalTextAnchor","completedX","completedTextAnchor","strokeWidth","innerRadius","strokeWidthGauge","circumference","PI","arc","dashArray","transform","offset","min","max","textSize","textSizeSmall","xmlns","svg","width","height","preserveAspectRatio","gaugeBackground","cx","cy","r","strokeDasharray","strokeLinecap","gauge","stroke","strokeDashoffset","transition","gaugeText","x","y","dominant-baseline","text-anchor","font-size","secondary"],"mappings":"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","file":"route-dogs.chunk.2ce83.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nconst initialState = {};\n\n@observer\nclass ScrollIntoView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.container = null;\n    }\n\n    componentDidMount() {\n        const { horizontal, vertical = '' } = this.props;\n        const props = {\n            behavior: 'smooth',\n        };\n        if (horizontal) {\n            props.inline = horizontal;\n        }\n        if (vertical) {\n            props.block = vertical;\n        }\n\t\tthis.container.scrollIntoView(props);\n\t}\n\n    render() {\n        return (\n            <div ref={c => this.container = c}>&nbsp;</div>\n        );\n    }\n}\n\nexport default ScrollIntoView;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Gauge from '../gauge';\n\nimport mu from '../../lib/musher-util';\n\n// const STOP_STATUSES = [2, 9];\n// const WARN_STATUSES = [4, 8];\n\nfunction getFatigueLevel(wo, dog) {\n    return 'secondary';\n    // if (dog) {\n    //     if (STOP_STATUSES.indexOf(dog.status) > -1) {\n    //         return 'danger';\n    //     } else if (WARN_STATUSES.indexOf(dog.status) > -1) {\n    //         return 'warning';\n    //     }\n    // }\n    // if (wo) {\n    //     if (wo.distanceKm > 50) {\n    //         return 'danger';\n    //     } else if (wo.distanceKm > 30) {\n    //         return 'warning';\n    //     }\n    // }\n    // return 'success';\n}\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { dog, showWorkout, showInfo, hideTeam = false, fullWidth = false, daysBack = 7, filterBy = '' } = this.props;\n\t\tconst { userStore, dogStore, workoutPlanStore } = this.props.stores;\n        if (!dog) {\n            return '';\n        }\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogStatuses = dog.statuses ? dog.statuses.map(e => userStore.findDogstatus({ status: e, language })) : [];\n\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n\n        const workoutSummary = dogStore.findCurrentWorkoutSummary(dog.id) || {};\n\n        const currentWeek = util.getWeek(new Date());\n\t\tconst currentYear = util.getYear();\n        const currentMonth = new Date().getMonth() + 1;\n        const seasonStart = parseInt(currentMonth < 8 ? currentYear - 1 : currentYear, 10);\n\t\tconst { week = currentWeek, year = seasonStart } = this.props;\n\t\tconst planWeek = workoutPlanStore.sumWorkoutPlanDaysBack(parseInt(year, 10), parseInt(week, 10), daysBack) || 0;\n        const completedWeek = util.format(workoutSummary.distanceKm || 0, 0);\n        const hasBirthday = mu.hasBirthday(dog.birth);\n\n        let hasWorkoutPlan = false;\n        let percentComplete = 0;\n        if (completedWeek && planWeek) {\n            percentComplete = completedWeek / planWeek * 100;\n            hasWorkoutPlan = true;\n        }\n        return (\n                    <div class={`${fullWidth ? '' : 'col-4'} mb-3 ${hasWorkoutPlan ? 'mt-2' : ''} position-relative`}>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div\n                            class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded mx-auto text-muted pt-2 position-relative`}\n                            style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                        >\n                            {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                            {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                            {hasWorkoutPlan && <div class='position-absolute' style='top: -12px; left: -12px;'>\n                                <Gauge key={`gauge-${percentComplete}`}\n                                    radius={48} \n                                    heightAdd={15}\n                                    showPercentText={false}\n                                    percent={percentComplete}\n                                    prefix='%'\n                                    total={`${planWeek} km`}\n                                    totalY='95%'\n                                    completed={`${completedWeek} km`}\n                                    completedY='85%'\n                                />\n                            </div>}\n                        </div>\n                        <div class={`${hasWorkoutPlan ? 'mt-4' : ''}`} style='line-height: 1.0em;'>\n                            <small>\n                                <span class='float-right'>\n                                    {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                    {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                                </span>\n                                <a class='stretched-link' href={`/dogs/${dog.id}`}>\n                                    <h5 class='mb-1 font-weight-light' style='line-height: 1.0em; font-size: 1.3em;'>\n                                        {dog.shortname || dog.name}\n                                        {hasBirthday && <>\n                                            <i class='fas fa-birthday-cake ml-3' />\n                                        </>}\n                                    </h5>\n                                </a>\n                                {!hideTeam && <><span class='font-weight-light'>{userStore.findTeam(dog.team)}</span><br /></>}\n                            </small>\n\n                                {filterBy && dog.positions && dog.positions.lead && <div class=''>\n                                    {filterBy === 'leadOnly' && dog.positions.lead.distanceKm > 0 && <span class='badge badge-success mr-2'>\n                                        <span><Text id='dogs.sort-lead'>Lead</Text>:</span> {util.format(dog.positions.lead.distanceKm, 0)} km\n                                    </span>}\n                                    {filterBy === 'pointOnly' && dog.positions.point.distanceKm > 0 && <span class='badge badge-success mr-2'>\n                                        <span><Text id='dogs.sort-point'>Point</Text>:</span> {util.format(dog.positions.point.distanceKm, 0)} km\n                                    </span>}\n                                    {filterBy === 'teamOnly' && dog.positions.team.distanceKm > 0 && <span class='badge badge-success mr-2'>\n                                        <span><Text id='dogs.sort-team'>Team</Text>:</span> {util.format(dog.positions.team.distanceKm, 0)} km\n                                    </span>}\n                                    {filterBy === 'wheelOnly' && dog.positions.wheel.distanceKm > 0 && <span class='badge badge-success mr-2'>\n                                        <span><Text id='dogs.sort-wheel'>Wheel</Text>:</span> {util.format(dog.positions.wheel.distanceKm, 0)} km\n                                    </span>}\n                                </div>}\n\n                            <small>\n                                {showWorkout && <small class='text-muted'>\n                                    {workoutSummary && workoutSummary.distanceKm > 0 && <span class='mr-2'><i class='fas fa-road' /> {util.format(workoutSummary.distanceKm, 0)}km</span>}\n                                    {workoutSummary && workoutSummary.elevation > 0 && <span class='mr-2'><i class='fas fa-mountain' /> {util.format(workoutSummary.elevation, 0)}m</span>}\n                                    {workoutSummary && workoutSummary.duration > 0 && <span class='mr-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                                    {workoutSummary && workoutSummary.speedAvg > 0 && <span class='mr-2'><i class='fas fa-tachometer-alt' /> {util.format(workoutSummary.speedAvg, 1)}km/t</span>}\n                                </small>}\n\n                                {showInfo && <small class='text-muted'>\n                                    {dog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(dog.weight, 1)} kg</>}\n                                    {dog.bodyScore && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                                </small>}\n\n                                <div class='clearfix pb-0 pt-1'>\n                                    {dogPosition && dogPosition.class && <span class={`badge badge-${dogPosition.class || 'primary'} mr-2`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>}\n                                    {dog.specialNeeds && <span class={`badge badge-warning mr-2`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                                    {dogStatus && dogStatus.class && <span class={`badge badge-${dogStatus.class} mr-2 mt-1`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                                    {dogStatuses && dogStatuses.map(status => <>\n                                        {status && status.class && <span class={`badge badge-${status.class} mr-2 mt-1`}>{status.icon && <i class={status.icon} />} {status.name}</span>}\n                                    </>)}\n                                </div>\n                            </small>\n                        </div>\n                    </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { dog } = this.props;\n\t\tconst { userStore, dogStore, appState } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n        const { viewmode } = appState;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = dogStore.findWorkoutSummary(dog.id, seasonStart) || {};\n        // {\"0\":{\"year\":2020,\"dog\":16,\"count\":1,\"distanceKm\":9.9,\"elevation\":202,\"duration\":0,\"speedAvg\":0}}\n        const dogStatuses = dog.statuses ? dog.statuses.map(e => userStore.findDogstatus({ status: e, language })) : [];\n        const dogVaccines = dogStore.findVaccineStatuses(dog.id);\n        const dogVaccineLogStatuses = dogStore.findVaccineLogStatuses(dog.chipId);\n        const dogHistoryStatuses = dogStore.findHistoryStatuses(dog.id);\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const teamNames = [];\n        if (userStore.findTeam(dog.team)) {\n            teamNames.push(userStore.findTeam(dog.team));\n        }\n        if (dog.teams) {\n            dog.teams.forEach((e) => {\n                if (userStore.findTeam(e)) {\n                    teamNames.push(userStore.findTeam(e));\n                }\n            });\n        }\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = dog.birth ? Math.ceil(mu.daysUntilNextBirthday(dog.birth)) : 365;\n\n        const { url = `/dogs/${dog.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded text-muted pt-2`} style={dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''}>\n                            {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                            {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'\n                            style={`border-right: 4px solid ${userStore.findHarness(dog.harness, 'colorNonstop')} !important; line-height: 1.2em;`}\n                        >\n                            <span class='float-right'>\n                                {dogPosition && <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>}\n                                {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                \n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                            <a class='stretched-link' href={url}>\n                                <h5 class='mb-1' style='line-height: 1.0em;'>\n                                    {dog.shortname || dog.name} {dog.shortname && dog.shortname !== '' && <> - <span class='font-weight-lighter'>{dog.name}</span></>}\n                                    {hasBirthday && <>\n                                        <i class='fas fa-birthday-cake ml-3' />\n                                    </>}\n                                </h5>\n                            </a>\n                            <div>\n                                {teamNames && teamNames.length > 0 && <small class='font-weight-lighter'>\n                                    {teamNames.map((name, idx) => <>{idx > 0 ? ', ' : ''}{name}</>)}\n                                </small>}\n                                <br />\n                            </div>\n\n                            <small class='text-muted'>\n                                {/* {dog.chipId && <span class='ml-0'><i class='fas fa-microchip' /> {dog.chipId}</span>} */}\n                                {dog.history > 0 && <span class='ml-0'><i class='fas fa-file-signature' /> {dog.history.length}</span>}\n                                {dog.images > 0 && <span class='ml-2'><i class='fas fa-image' /> {dog.images.length}</span>}\n\n                                {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                                {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n\n                                {dog.weight > 0 && <><i class='fas fa-balance-scale ml-2' /> <Weight stores={this.props.stores} value={dog.weight} /></>}\n                                {dog.bodyScore > 0 && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                            </small>\n\n                            {['beta', 'advanced', 'normal'].indexOf(viewmode) > -1 && <>\n                                <div>\n                                    {dogVaccines && dogVaccines.map(v => (\n                                        <span class={`badge badge-success mr-2`} title={util.isoDate(v.endDate, false, false, true)}>\n                                            {v.vaccineType}\n                                            <span class='font-weight-light ml-3'>\n                                                <i class='fas fa-calendar-check' /> {util.isoDate(v.endDate, false, false, true)}                                    \n                                            </span>\n                                        </span>\n                                    ))}\n                                    {dogHistoryStatuses && dogHistoryStatuses.map(v => (\n                                        <span class={`badge badge-warning mr-2`} title={util.isoDate(v.endDate, false, false, true)}>{v.title}</span>\n                                    ))}\n                                </div>\n                            </>}\n\n                            {['beta', 'advanced'].indexOf(viewmode) > -1 && <>\n                                {dog.positions && dog.positions.lead && <div class=''>\n                                    {dog.positions.lead.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-lead'>Lead</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.lead.distanceKm} />\n                                    </span>}\n                                    {dog.positions.point.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-point'>Point</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.point.distanceKm} />\n                                    </span>}\n                                    {dog.positions.team.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-team'>Team</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.team.distanceKm} />\n                                    </span>}\n                                    {dog.positions.wheel.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-wheel'>Wheel</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.wheel.distanceKm} />\n                                    </span>}\n                                </div>}\n                            </>}\n\n                            <div class='clearfix pb-0'>\n                                {dog.specialNeeds && <span class={`badge badge-warning ml-2 mt-1 float-right`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                                {dogStatus && <span class={`badge badge-${dogStatus.class} ml-2 mt-1 float-right`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                                {dogStatuses && dogStatuses.map(status => <>\n                                    <span class={`badge badge-${status.class} ml-2 mt-1 float-right`}>\n                                        {status.icon && <i class={status.icon} />} {status.lang && status.lang[language] ? status.lang[language] : status.name}\n                                    </span>\n                                </>)}\n                            </div>\n\n                            {dogVaccineLogStatuses && dogVaccineLogStatuses.length > 0 && <>\n                                <div class='mt-2'>\n                                    {dogVaccineLogStatuses && dogVaccineLogStatuses.filter(e => e.chipId === dog.chipId).map((vac) => {\n                                        return (\n                                            <span class={`badge badge-${vac.inKarens ? 'warning' : 'success'} mr-2 mb-1`}>\n                                                <i class='fas fa-user-md' /> {vac.vaccineAgens.name}\n                                                {/* <span class='font-weight-lighter ml-2'> */}\n                                                    {/* <i class='fas fa-calendar-check' /> {util.isoDate(vac.vaccineAgens.durationEnd, false, false, true)} */}\n                                                    {/* {vac.inKarens && <>\n                                                        <br />\n                                                        (karens: {util.format(vac.karensDaysLeft, 0)} days left)\n                                                    </>} */}\n                                                {/* </span> */}\n                                            </span>\n                                        );\n                                    })}\n                                </div>\n                            </>}\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nimport Dog from '../../components/dog';\nimport DogAddLog from '../../components/dog/addlog';\nimport DogStatus from '../../components/dog/status';\nimport DogCalendar from '../../components/dog/calendar';\nimport Teams from '../../components/team/teams';\nimport Ad from '../../components/ad/';\n\nimport ScrollIntoView from '../../components/util/scrollIntoView';\n\nconst initialState = {\n\tisLoading: false,\n\tsubmenu: 'all',\n\tshowDaysBackEdit: false,\n\tshowAllDogs: false,\n};\n\n@observer\nclass Dogs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n\t\t\tselectedDogs: [],\n        };\n    }\n\n\tloadDogs = async (props = this.props) => {\n\t\tconst { showAllDogs } = this.state;\n\t\tthis.setState({ isLoading: true });\n\t\tconst { dogStore, userStore, messageStore } = this.props.stores;\n\t\tconst { currentTeam, daysBack } = dogStore;\n\t\tconst query = {\n\t\t\tteam: currentTeam,\n\t\t};\n\t\tif (showAllDogs) {\n\t\t\tquery.deceased = 1;\n\t\t}\n\n\t\tawait Promise.all([\n\t\t\tthis.loadWorkoutPlans(props),\n\t\t\tdogStore.load({ query, addData: ['team', 'user', 'workoutSummary', 'vaccineStatuses', 'historyStatuses', 'vaccineLogStatuses', 'allDogs'] }),\n\t\t\tdogStore.getDogsWithTraining({ daysBack }),\n\t\t\tuserStore.getNotifications(),\n\t\t\tmessageStore.getUnReadMessages(),\n\t\t])\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\tloadWorkoutPlans = async (props = this.props) => {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { year } = props;\n\n\t\tconst currentMonth = new Date().getMonth() + 1;\n\t\tconst currentYear = util.getYear();\n\t\tconst seasonStart = parseInt(year || (currentMonth < 8 ? currentYear - 1 : currentYear), 10);\n\t\tconst { workoutPlanStore, workoutStore } = props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\n\t\tworkoutPlanStore.updateItem('workoutPlans', []);\n\t\tworkoutPlanStore.updateItem('workoutPlan', {});\n\t\tworkoutPlanStore.resetGraphPlanWeekDistanceCurrent();\n\n\t\tif (currentTeam) {\n\t\t\tawait workoutPlanStore.load({ query: {\n\t\t\t\tteam: currentTeam,\n\t\t\t\tseasonYear: seasonStart,\n\t\t\t\tseasonMonth: 6,\n\t\t\t} });\n\t\t\tconst { workoutPlans } = workoutPlanStore;\n\t\t\tconst workoutPlanCurrent = workoutPlans[0] || {};\n\t\t\tif (workoutPlanCurrent.id) {\n\t\t\t\tawait workoutPlanStore.load(workoutPlanCurrent.id);\n\t\t\t\tworkoutPlanStore.prepareWeekGraphs({ year });\n\t\t\t}\n\t\t}\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\t// async loadWorkoutSummary() {\n\t// \tconst { userStore } = this.props.stores;\n    //     await userStore.getWorkoutSummary({ daysBack: 2 });\n    // }\n\n\ttoggleDaysBackEdit = () => {\n\t\tconst { showDaysBackEdit } = this.state;\n\t\tthis.setState({\n\t\t\tshowDaysBackEdit: !showDaysBackEdit,\n\t\t});\n\t}\n\n\ttoggleShowAllDogs = () => {\n\t\tconst { showAllDogs } = this.state;\n\t\tthis.setState({\n\t\t\tshowAllDogs: !showAllDogs,\n\t\t}, () => this.loadDogs());\n\t}\n\n\tsetHistoryType = (historyType) => {\n\t\tthis.setState({ historyType });\n    }\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n\tchooseDaysBack = (e) => {\n\t\tconst daysBack = parseInt(e.target.parentElement.dataset.daysback || e.target.dataset.daysback, 10);\n\t\tconst { dogStore } = this.props.stores;\n\t\tdogStore.setDaysBack(daysBack);\n\t\tdogStore.getDogsWithTraining({ daysBack });\n\t\tthis.toggleDaysBackEdit();\n\t}\n\n\tselectDog = (e) => {\n\t\tconst { chipid } = e.target.closest('tr').dataset;\n\t\tconst { selectedDogs } = this.state;\n\t\tif (selectedDogs.indexOf(chipid) > -1) {\n\t\t\tconst idx = selectedDogs.findIndex(e => e === chipid);\n            selectedDogs.splice(idx, 1);\n\t\t} else {\n\t\t\tselectedDogs.push(chipid);\n\t\t}\n\t\tthis.setState({ selectedDogs });\n\t}\n\n\tsendChiplist = async () => {\n\t\tconst { selectedDogs } = this.state;\n\t\tconst { dogStore } = this.props.stores;\n\t\tconst response = await dogStore.sendChiplistByEmail(selectedDogs);\n\t\tthis.setState({\n\t\t\tsendChiplistResponse: response,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadDogs();\n\t\t// this.loadWorkoutSummary();\n\t}\n\n\trender() {\n\t\tconst { scrolledDown } = this.props;\n\t\tconst { isLoading, historyType, submenu, showDaysBackEdit, showAllDogs, selectedDogs, sendChiplistResponse } = this.state;\n\t\tconst { dogStore, appState, userStore } = this.props.stores;\n\t\tconst { daysBack, currentTeam } = dogStore;\n\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const HISTORY_TYPE_MAP = mu.getHistoryMap(language);\n\n\t\tconst { month, year } = this.props;\n\n\t\tconst { darkmode } = appState;\n\t\tconst { dogs, workoutSummaryCurrent } = dogStore;\n\n\t\t// const dogsWithStatus = dogStore.findDogsByStatus([2, 4, 8, 9]);\n\t\t// const dogsWithNeeds = dogStore.findDogsWithNeeds();\n\n        let dogFilter = () => true;\n        if (dogs) {\n            switch (submenu) {\n                case 'all':\n\t\t\t\t\tdogFilter = () => true;\n                    break;\n                case 'leadOnly':\n                    dogFilter = (e) => {\n                        if (e.positions && e.positions.lead && e.positions.lead.distanceKm > 0) {\n                            return true;\n                        }\n                        return false;\n                    };\n                    break;        \n                case 'pointOnly':\n                    dogFilter = (e) => {\n                        if (e.positions && e.positions.point && e.positions.point.distanceKm > 0) {\n                            return true;\n                        }\n                        return false;\n                    };\n                    break;        \n                case 'teamOnly':\n                    dogFilter = (e) => {\n                        if (e.positions && e.positions.team && e.positions.team.distanceKm > 0) {\n                            return true;\n                        }\n                        return false;\n                    };\n                    break;        \n                case 'wheelOnly':\n                    dogFilter = (e) => {\n                        if (e.positions && e.positions.wheel && e.positions.wheel.distanceKm > 0) {\n                            return true;\n                        }\n                        return false;\n                    };\n                    break;        \n            }\n        }\n        let filteredDogs = dogs.filter(dogFilter);\n\t\t// const dogIds = historyType ? userStore.findDogsFromHistory(historyType) : [];\n\t\t// const dogFilter = historyType ? d => dogIds.indexOf(d.id) > -1 : () => true;\n\t\t// const filteredDogs = dogs.filter(dogFilter);\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row fixed-top pt-2' style={`margin-top: ${scrolledDown > 0 ? 0 : SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'}; transition: all 0.3s ease-in-out;`}>\n\t\t\t\t\t<div class='col text-center border-bottom border-primary subtopmenu'>\n\t\t\t\t\t\t<nobr><a href='/dogs' class='text-primary stretched-link'><i class='fas fa-chart-line' /> <Text id='dogs.dashboard'>Oversikt</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<nobr><a href='/dogs/list' class='text-secondary stretched-link'><i class='fas fa-list' /> <Text id='dogs.list'>Liste</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<nobr><a href='/dogs/feed' class='text-secondary stretched-link'><i class='fas fa-rss' /> <Text id='dogs.feed'>Feed</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<nobr><a href='/dogs/todo' class='text-secondary stretched-link'><i class='fas fa-calendar-check' /> <Text id='dogs.todo'>Todo</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 border-bottom'>\n\t\t\t\t\t\t<Teams stores={this.props.stores} callback={this.loadDogs} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix'>\n\t\t\t\t\t\t<span class='float-right'>\n\t\t\t\t\t\t\t<a class='btn btn-sm btn-primary ml-2'\n\t\t\t\t\t\t\t\thref='/dogs/edit/new'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-plus' /> <Text id='dogs.add-dogs'>Legg til hunder</Text>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<DogAddLog stores={this.props.stores} dog={{}} callback={this.loadDogs} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{!isLoading && dogs && dogs.length === 0 && (\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted'>\n\t\t\t\t\t\t\t<div class='text-center mb-5'>\n\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-dog' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t<Text id='dogs.no-dogs-registered'>Ingen hunder er registrert enn.</Text>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Text id='dogs.howto-add-1'>Slik kommer du i gang:</Text>\n\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t<li><Text id='dogs.howto-add-2'>Trykk p knappen \"Legg til hunder\" rett nedenfor.</Text></li>\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t\t{/* {dogsWithStatus && dogsWithStatus.length > 0 && <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix'>\n\t\t\t\t\t\t\t<h5><Text id='dogs.dog-with-follow-up'>Hunder som trenger oppflging</Text></h5>\n\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t{dogsWithStatus && dogsWithStatus.map(d => <DogStatus stores={this.props.stores} dog={d} daysBack={daysBack} />)}\n\t\t\t\t\t\t\t\t{!dogsWithStatus || dogsWithStatus.length === 0 && <div class='col-12 text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<h3><i class='fas fa-thumbs-up' /></h3>\n\t\t\t\t\t\t\t\t\t<Text id='dogs.no-dogs-with-follow-up'>Ingen hunder som trenger ekstra oppflging.</Text>\n\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>}\n\n\t\t\t\t\t\t{dogsWithNeeds && dogsWithNeeds.length > 0 && <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix'>\n\t\t\t\t\t\t\t<h5><Text id='dogs.dog-with-special-needs'>Hunder med spesielle behov</Text></h5>\n\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t{dogsWithNeeds && dogsWithNeeds.map(d => <DogStatus stores={this.props.stores} dog={d} daysBack={daysBack} />)}\n\t\t\t\t\t\t\t\t{!dogsWithNeeds || dogsWithNeeds.length === 0 && <div class='col-12 text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<h3><i class='fas fa-thumbs-up' /></h3>\n\t\t\t\t\t\t\t\t\t<Text id='dogs.no-dogs-with-special-needs'>Ingen hunder med spesielle behov.</Text>\n\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>} */}\n\n\t\t\t\t\t\t{/* {workoutSummaryCurrent && workoutSummaryCurrent.length > 0 && <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix'>\n\t\t\t\t\t\t\t<h5><Text id='dogs.dog-with-workouts-last-day'>Hunder som har trent siste dgn</Text></h5>\n\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t{workoutSummaryCurrent && workoutSummaryCurrent.map(summary => {\n\t\t\t\t\t\t\t\t\tconst dog = dogStore.findDog(summary.dog);\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<DogStatus stores={this.props.stores} dog={dog} showWorkout={true} />\n\t\t\t\t\t\t\t\t\t); \n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>} */}\n\n\t\t\t\t\t\t{/* <DogCalendar stores={this.props.stores} basehref={`/dogs/calendar/`} month={month} year={year} callback={this.setHistoryType} /> */}\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1'\n\t\t\t\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2 pl-1'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-left rounded-none ${submenu === 'all' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='all'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-tachometer-alt' /> <Text id='dogs.all'>Alle</Text></button>\n\t\t\t\t\t\t\t\t\t\t{submenu === 'all' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'leadOnly' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='leadOnly'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-crosshairs' /> <Text id='dogs.leadOnly'>Leder</Text></button>\n\t\t\t\t\t\t\t\t\t\t{submenu === 'leadOnly' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'pointOnly' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='pointOnly'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-crosshairs' /> <Text id='dogs.pointOnly'>Point</Text></button>\n\t\t\t\t\t\t\t\t\t\t{submenu === 'pointOnly' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'teamOnly' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='teamOnly'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-crosshairs' /> <Text id='dogs.teamOnly'>Team</Text></button>\n\t\t\t\t\t\t\t\t\t\t{submenu === 'teamOnly' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2 pr-1'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-right rounded-none ${submenu === 'wheelOnly' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='wheelOnly'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-crosshairs' /> <Text id='dogs.wheelOnly'>Wheel</Text></button>\n\t\t\t\t\t\t\t\t\t\t{submenu === 'wheelOnly' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t{showDaysBackEdit && <div class='row'>\n\n\t\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1'\n\t\t\t\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-left rounded-none ${daysBack === 0 ? 'btn-warning' : 'btn-outline-warning'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-daysback='0'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseDaysBack}\n\t\t\t\t\t\t\t\t\t\t><Text id='dogs.d1'>Dag</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${daysBack === 1 ? 'btn-warning' : 'btn-outline-warning'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-daysback='1'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseDaysBack}\n\t\t\t\t\t\t\t\t\t\t><Text id='dogs.d2'>2 dager</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${daysBack === 7 ? 'btn-warning' : 'btn-outline-warning'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-daysback='7'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseDaysBack}\n\t\t\t\t\t\t\t\t\t\t><Text id='dogs.d7'>7 dager</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${daysBack === 14 ? 'btn-warning' : 'btn-outline-warning'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-daysback='14'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseDaysBack}\n\t\t\t\t\t\t\t\t\t\t><Text id='dogs.d14'>14 dager</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-right rounded-none ${daysBack === 30 ? 'btn-warning' : 'btn-outline-warning'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-daysback='30'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseDaysBack}\n\t\t\t\t\t\t\t\t\t\t><Text id='dogs.d30'>30 dager</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4 clearfix'>\n\t\t\t\t\t\t<h5 class='font-weight-light'>\n\t\t\t\t\t\t\t<span class='float-right' onClick={this.toggleDaysBackEdit}>\n\t\t\t\t\t\t\t\t<span class='text-muted mr-2'><Text id='dogs.days-back'>Siste</Text>:</span>\n\t\t\t\t\t\t\t\t{daysBack === 0 ? <Text id='dogs.d1'>Dag</Text> : ''}\n\t\t\t\t\t\t\t\t{daysBack === 1 ? <Text id='dogs.d2'>2 dager</Text> : ''}\n\t\t\t\t\t\t\t\t{daysBack === 7 ? <Text id='dogs.d7'>7 dager</Text> : ''}\n\t\t\t\t\t\t\t\t{daysBack === 14 ? <Text id='dogs.d14'>14 dager</Text> : ''}\n\t\t\t\t\t\t\t\t{daysBack === 30 ? <Text id='dogs.d30'>30 dager</Text> : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{historyType ? (<span>\n\t\t\t\t\t\t\t\t<Text id='dogs.dogs-filtered-by'>Filtrert p:</Text> {HISTORY_TYPE_MAP[historyType]}\n\t\t\t\t\t\t\t</span>) : (<span>\n\t\t\t\t\t\t\t\t<Text id='dogs.all-dogs' fields={{ total: filteredDogs.length }}>Alle hundene - {filteredDogs.length} stk</Text>\n\t\t\t\t\t\t\t</span>)}\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t{filteredDogs && filteredDogs.map(d => {\n\t\t\t\t\t\t\t\tconst summary = dogStore.findCurrentWorkoutSummary(d.id) || {};\n\t\t\t\t\t\t\t\tconst totalDistance = summary.distanceKm;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<DogStatus stores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\tkey={`dog-${d.id}-${currentTeam}-${workoutSummaryCurrent.length}-${totalDistance}`}\n\t\t\t\t\t\t\t\t\t\tdog={d}\n\t\t\t\t\t\t\t\t\t\thideTeam={true}\n\t\t\t\t\t\t\t\t\t\tshowWorkout={false}\n\t\t\t\t\t\t\t\t\t\tdaysBack={daysBack}\n\t\t\t\t\t\t\t\t\t\tfilterBy={submenu}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass='pointerCursor ml-2 font-weight-lighter float-right'\n\t\t\t\t\t\t\tonClick={this.toggleShowAllDogs}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{showAllDogs ? <>\n\t\t\t\t\t\t\t\t<Text id='dogs.hide-deceased'>Vis kun nvrende team</Text>\n\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t<Text id='dogs.absolutely-all'>Vis absolutt alle</Text>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2'>\n\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1'\n\t\t\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class='col px-0 pt-2 pl-1'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-both rounded-none ${submenu === 'chiplist' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\tdata-menu='chiplist'\n\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t><i class='fas fa-list' /> <Text id='dogs.chiplist'>Chiplist</Text></button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{submenu === 'chiplist' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2'>\n\t\t\t\t\t\t\t<h5><Text id='dogs.chiplist'>Chiplist</Text></h5>\n\n\t\t\t\t\t\t\t<table class='table table-striped'>\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th style='width: 5%;'>&nbsp;</th>\n\t\t\t\t\t\t\t\t\t\t<th style='width: 10%;'>&nbsp;</th>\n\t\t\t\t\t\t\t\t\t\t<th style='width: 65%;'><Text id='dogs.name'>Name</Text></th>\n\t\t\t\t\t\t\t\t\t\t<th style='width: 20%;'><Text id='dogs.chip-id'>Chip ID</Text></th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{filteredDogs && filteredDogs.map(dog => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr onClick={this.selectDog} data-chipid={dog.chipId}>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{selectedDogs.indexOf(dog.chipId) > -1 ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='text-success fas fa-check' style='font-size: 1.5em;' />\n\t\t\t\t\t\t\t\t\t\t\t\t</> : <></>}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-center border rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2 position-relative`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class='float-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{dog.shortname || dog.name}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{dog.chipId}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\n\t\t\t\t\t\t\t<button class='btn btn-block btn-success' onClick={this.sendChiplist}>\n\t\t\t\t\t\t\t\t<Text id='dogs.send-chiplist-by-email'>Send chiplist by email</Text>\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{sendChiplistResponse && sendChiplistResponse.message && <>\n\t\t\t\t\t\t\t\t<div class='alert alert-success' role='alert'>\n\t\t\t\t\t\t\t\t\t{sendChiplistResponse.message}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Dogs;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gaugeBackground\":\"gaugeBackground__1UGxt\",\"gauge\":\"gauge__2ZDxd\",\"success\":\"success__3UQxg\",\"primary\":\"primary__3pPV6\",\"secondary\":\"secondary__-Vrk_\",\"info\":\"info__3t5zs\",\"warning\":\"warning__1jHlR\",\"danger\":\"danger__BLVC9\",\"gaugeText\":\"gaugeText__1on-w\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n\tshowAddComment: false,\n};\n\n@withText(() => ({\n    subject: <Text id='ad.subject'>Annonseforesprsel</Text>,\n    body: <Text id='ad.body'>Hei, Jeg nsker  vite mer om annonsering i appen The Musher.</Text>,\n}))\n\n@observer\nclass Ad extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n        this.apiServer = util.getApiServer();\n    }\n\n\tasync loadAd(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { adStore, workoutStore, userStore, appState } = this.props.stores;\n        const { section } = this.props;\n        const { path: url = '' } = appState;\n        const { currentTeam } = workoutStore;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        let team = {};\n        let ambitions;\n        let type;\n        let postalcode;\n        let place;\n        let country;\n        if (currentTeam) {\n            team = userStore.findTeam(currentTeam, true);\n            if (team && team.id) {\n                ambitions = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n                type = userStore.findTeamType({ type: team.type, language });\n                postalcode = team.postalcode;\n                place = team.place;\n                country = team.country;\n            }\n        }\n        // console.log({ currentTeam, team, ambitions,  type, postalcode, place, country });\n        // const { url = '' } = this.props;\n        let page = url.replace(/\\d+$/, 'detail');\n        page = url.replace(/\\/\\d+/, '/detail');\n\n        // props: { \"url\": \"/\" }\n        // props: { \"url\": \"/workouts/\" }\n        // props: { \"url\": \"/workouts/4708\" }\n        // props: { \"url\": \"/dogs\" }\n        // props: { \"url\": \"/dogs/10\" }\n\n\t\tawait adStore.load({ query: { page, section }});\n        adStore.setTime();\n\t\tthis.setState({ isLoading: false });\n\t}\n\n    logClick = async () => {\n        const { adStore, userStore } = this.props.stores;\n        const { ads = [] } = adStore;\n        let id = ads.length > 0 ? ads[0].id : null;\n        const { user = {} } = userStore;\n        await adStore.logClick({ id, user: user.id });\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadAd();\n\t}\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.path !== this.props.path) {\n            this.loadAd(nextProps);\n        }\n    }\n\n    render() {\n        const { adStore, userStore, appState } = this.props.stores;\n        const { subject, body, section } = this.props;\n        const { path } = appState;\n        const { user = {} } = userStore;\n        const { ads = [], time, adViews, adClicks } = adStore;\n        if (!user || !user.id || !ads || ads.length === 0) {\n            if (path.match(/\\/(home)/i)) {\n                return <>\n                    <div class='w-100'>\n                        <div class='row'>\n                            <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative'>\n                                <div class='border rounded-lg p-4 my-3'>\n                                    <span class='float-right display-4 text-warning'>\n                                        <i class='far fa-smile-wink' />\n                                    </span>\n                                    <h5><Text id='ad.heading'>Vil du annonsere her?</Text></h5>\n                                    <div><Text id='ad.teaser'>Det er super enkelt :)</Text></div>\n                                    <Localizer>\n                                        <a href={`mailto:post@themusher.no?subject=${subject}: ${path}: ${section}&body=${body}`} target='_blank' rel='noreferrer'>\n                                            <i class='fas fa-paper-plane' /> <Text id='ad.linktext'>Ta kontakt med The Musher</Text>\n                                        </a>\n                                    </Localizer>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </>;\n            }\n            return <></>;\n        }\n        const ad = ads[0];\n        return (\n            <>\n                <div class='w-100'>\n                    <div class='row'>\n                        <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative'>\n                            <div>\n                                <small><small class='text-muted'>\n                                    <Text id='ad.ad'>Annonse</Text>:\n                                    <img src={`${this.apiServer}/api/ads/${ad.id}/view?user=${user.id}&time=${time}`} style='width: 1; height: 1; opacity: 0.1;' />\n                                </small></small>\n                            </div>\n                            {ad.target ? <>\n                                <a\n                                    class='stretched-link'\n                                    href={`${ad.url}`}\n                                    target={ad.target || '_blank'}\n                                    rel='noopener noreferrer'\n                                    onClick={this.logClick}\n                                    native\n                                >\n                                    {ad.images && ad.images[0] && <>\n                                        <img src={ad.images[0].s3LargeLink} class='img-fluid rounded-lg' />\n                                    </>}\n                                </a>                            \n                            </> : <>\n                                <a\n                                    class='stretched-link'\n                                    href={`${ad.url}`}\n                                    onClick={this.logClick}\n                                >\n                                    {ad.images && ad.images[0] && <>\n                                        <img src={ad.images[0].s3LargeLink} class='img-fluid rounded-lg' />\n                                    </>}\n                                </a>\n                            </>}\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default Ad;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst RED_DAYS = [0, 6];\n\n@observer\nclass HistoryCalendar extends Component {\n\n    async loadHistorySummary(props = this.props) {\n        this.setState({ isLoading: true });\n\t\tconst { userStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const { month = currentMonth, year = util.getYear(), team = currentTeam, dog = {}, callback = () => {} } = props;\n        await userStore.getFeed({ month, year, team, dog: dog.id });\n\n        const { historyType } = this.state;\n        callback(historyType);\n\n        this.setState({ isLoading: false });\n    }\n\n    setHistoryType = (e) => {\n        const { callback = () => {} } = this.props;\n        const { historyType: prevHistoryType } = this.state;\n        let historyType = e.target.dataset.historytype || e.target.parentElement.dataset.historytype;\n\n        if (historyType === prevHistoryType) {\n            this.setState({ historyType: null })\n            callback(null);\n        } else {\n            this.setState({ historyType });\n            callback(historyType);\n        }\n    }\n\n    chooseDay = (e) => {\n        const { year: yyyy, month: mm, day: dd } = this.state;\n        const { setDay = () => {} } = this.props;\n\t\tconst day = parseInt(e.target.parentElement.dataset.day || e.target.dataset.day, 10);\n\t\tconst month = parseInt(e.target.parentElement.dataset.month || e.target.dataset.month, 10);\n\t\tconst year = parseInt(e.target.parentElement.dataset.year || e.target.dataset.year, 10);\n\t\t// console.log({ day, month, year });\n\n        if (year === yyyy && month === mm && day === dd) {\n            this.setState({\n                year: null,\n                month: null,\n                day: null,\n            });\n            setDay(null, null, null);\n        } else {\n            this.setState({\n                year,\n                month,\n                day,\n            });\n            setDay(year, month, day);\n        }\n    }\n\n    componentDidMount() {\n        this.loadHistorySummary();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.month !== this.props.month\n            || nextProps.year !== this.props.year\n            || nextProps.dog !== this.props.dog\n            || nextProps.team !== this.props.team) {\n            this.loadHistorySummary(nextProps);\n        }\n    }\n\n    render() {\n        const { historyType, day: chosenDD, month: chosenMM, year: chosenYYYY } = this.state;\n        const filterHistories = historyType ? (e) => e.historyType === historyType : () => true;\n\n        const { appState, userStore } = this.props.stores;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n\n        const HISTORY_TYPE_MAP = mu.getHistoryMap(language);\n        const DAYS = mu.getDays(language);\n        const MONTHS = mu.getMonths(language);\n\n\t\tconst { darkmode } = appState;\n        const currentDay = new Date().getDate();\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = util.getYear(), dog, basehref } = this.props;\n\n        const monthNum = parseInt(month, 10);\n        const yearNum = parseInt(year, 10);\n        const { month: nextMonth, year: nextYear } = mu.getNextMonth(monthNum, yearNum);\n        const { month: prevMonth, year: prevYear } = mu.getPrevMonth(monthNum, yearNum);\n\n        const daysOfMonth = util.getDaysInMonth(month, year);\n        const weeksInMonth = util.getWeeksInMonth(month, year);\n        const firstWeek = weeksInMonth[0].week;\n        const daysOfWeek = util.getDaysInWeek(firstWeek, year);\n\n        return (\n            <>\n                <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4'>\n                    <a href={`${basehref || '/workouts/month/'}${nextMonth}/${nextYear}/skipScroll`} class='float-right btn btn-sm btn-link'><i class='fas fa-arrow-right' /></a>\n                    <a href={`${basehref || '/workouts/month/'}${prevMonth}/${prevYear}/skipScroll`} class='float-left btn btn-sm btn-link'><i class='fas fa-arrow-left' /></a>\n                    <h5><Text id='dog.calendar.month'>Mned</Text> - {MONTHS[month - 1]} {year}</h5>\n                    {dog && <div>{dog.name}</div>}\n                    <small>{util.isoDate(daysOfMonth[0], false, false, true)} - {util.isoDate(daysOfMonth[daysOfMonth.length - 1], false, false, true)}</small>\n                </div>\n\n                <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4'>\n                    <table class='table table-striped table-sm'>\n                        <thead>\n                            <tr>\n                                <th class='text-muted'><small><Text id='dog.calendar.week'>Uke</Text></small></th>\n                                {daysOfWeek.map(day => <th><small>{DAYS[day.getDay()]}</small></th>)}\n                                {/* <th class='text-muted'>Totalt</th> */}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {weeksInMonth && weeksInMonth.map(weekObj => {\n                                const daysOfWeek = util.getDaysInWeek(weekObj.week, year, month);\n                                return (\n                                    <tr>\n                                        <td class='text-right text-muted pt-3'>\n                                            <small>\n                                                {weekObj.week}\n                                            </small>\n                                        </td>\n                                        {daysOfWeek.map(day => {\n                                            const yyyy = day.getFullYear();\n                                            const mm = day.getMonth() + 1;\n                                            const dd = day.getDate()\n                                            const histories = userStore.findHistory(yyyy, mm, dd);\n                                            const endHistories = userStore.findEndHistory(yyyy, mm, dd);\n                                            // { \"id\": \"5f59d861eaa7385aaef6b399\", \"date\": \"2020-09-09T19:00:00.000Z\", \"year\": 2020, \"month\": 9,\n                                            // \"day\": 9, \"createdDate\": \"2020-09-10T07:40:17.834Z\", \"title\": \"Spiste ikke opp alt\",\n                                            // \"historyType\": \"foodLeftover\", \"images\": [], \"dogId\": 4, \"dogName\": \"Glenn\", \"dogShortname\": \"\",\n  \t\t\t\t\t\t\t\t\t\t\tconst isChosen = (chosenYYYY == yyyy && chosenMM == mm && chosenDD == dd);\n\t\t\t\t\t\t\t\t\t\t\tconst isToday =  (currentYear == yyyy) && (currentMonth == mm) && (currentDay == dd);\n\t\t\t\t\t\t\t\t\t\t\tconst isDayOff = RED_DAYS.indexOf(day.getDay()) > -1;\n\n                                            return (\n                                                <td class={`text-center font-weight-light position-relative pt-3 ${isChosen ? 'calendarIsChosen' : ''} ${isToday ? 'calendarIsToday' : ''} ${isDayOff ? 'calendarIsWeekend' : ''}`}\n                                                    style={`font-size: 0.8em;`}\n                                                    onClick={this.chooseDay} data-day={dd} data-month={mm} data-year={yyyy}\n                                                >\n                                                    <div class='position-absolute text-muted' style='top: 0px; right: 2px; font-size: 0.7em;'>\n                                                        {day.getDate()}\n                                                    </div>\n\n                                                    {histories && histories.length > 0 ? <>\n                                                        {histories.filter(filterHistories).map((history, idx) => {\n                                                            if (!history.historyType) {\n                                                                return (\n                                                                    <div class='rounded-circle position-absolute border'\n                                                                        style={`background-color: #808080; top: 50%; left: ${idx * 5}px; width: 15px; height: 15px;`}\n                                                                    />\n                                                                );\n                                                            }\n                                                            const bgColor = mu.getHistoryTypeColor(history.historyType);\n                                                            return (\n                                                                <div class='rounded-circle position-absolute border'\n                                                                    style={`background-color: ${bgColor}; top: 50%; left: ${idx * 5}px; width: 15px; height: 15px;`}\n                                                                />\n                                                            );\n                                                        })}\n                                                        {histories.length > 1 && <span class='position-absolute text-danger'\n                                                            style='bottom: 0; right: 0px; font-size: 0.7em;'>{histories.length}</span>}\n                                                    </>: '-'}\n\n                                                    {endHistories && endHistories.length > 0 ? <>\n                                                        {endHistories.filter(filterHistories).map((history, idx) => {\n                                                            if (!history.historyType) {\n                                                                return (\n                                                                    <div class='rounded position-absolute border border-white'\n                                                                        style={`background-color: #808080; top: 50%; left: ${idx * 5}px; width: 15px; height: 15px;`}\n                                                                    />\n                                                                );\n                                                            }\n                                                            const bgColor = mu.getHistoryTypeColor(history.historyType);\n                                                            return (\n                                                                <div class='rounded position-absolute border border-white'\n                                                                    style={`background-color: ${bgColor}; top: 50%; left: ${idx * 5}px; width: 15px; height: 15px;`}\n                                                                />\n                                                            );\n                                                        })}\n                                                        {endHistories.length > 1 && <span class='position-absolute text-danger'\n                                                            style='bottom: 0; right: 0px; font-size: 0.7em;'>{endHistories.length}</span>}\n                                                    </>: '-'}\n\n                                                </td>\n                                            );\n                                        })}\n                                    </tr>\n                                );\n                            })}\n                        </tbody>\n                    </table>\n                </div>\n\n                <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 mb-4'>\n                    <div class='clearfix'>\n                        <small>\n                            {mu.getHistoryPri().map(key => {\n                                const bgColor = mu.getHistoryTypeColor(key);\n                                return (\n                                    <span class={`float-left mr-2 ${historyType === key ? 'font-weight-bold' : 'font-weight-lighter'}`} onClick={this.setHistoryType} data-historytype={key}>\n                                        <div class='rounded-circle border float-left mr-1'\n                                            style={`background-color: ${bgColor}; width: 15px; height: 15px;`}\n                                        /> {HISTORY_TYPE_MAP[key]}\n                                    </span>\n                                );\n                            })}\n                        </small>\n                    </div>\n                    <div class='clearfix'>\n                        <small>\n                            {mu.getHistoryPri(2).map(key => {\n                                const bgColor = mu.getHistoryTypeColor(key);\n                                return (\n                                    <span class={`float-left mr-2 ${historyType === key ? 'font-weight-bold' : 'font-weight-lighter'}`} onClick={this.setHistoryType} data-historytype={key}>\n                                        <div class='rounded-circle border float-left mr-1'\n                                            style={`background-color: ${bgColor}; width: 15px; height: 15px;`}\n                                        /> {HISTORY_TYPE_MAP[key]}\n                                    </span>\n                                );\n                            })}\n                        </small>\n                    </div>\n                    <div class='clearfix'>\n                        <small>\n                            {mu.getHistoryPri(3).map(key => {\n                                const bgColor = mu.getHistoryTypeColor(key);\n                                return (\n                                    <span class={`float-left mr-2 ${historyType === key ? 'font-weight-bold' : 'font-weight-lighter'}`} onClick={this.setHistoryType} data-historytype={key}>\n                                        <div class='rounded-circle border float-left mr-1'\n                                            style={`background-color: ${bgColor}; width: 15px; height: 15px;`}\n                                        /> {HISTORY_TYPE_MAP[key]}\n                                    </span>\n                                );\n                            })}\n                        </small>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default HistoryCalendar;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport ScrollIntoView from '../../components/util/scrollIntoView';\n\n@observer\nclass Teams extends Component {\n    toggleTeam = (team) => {\n\t\tconst { callback, unsetTeamIfSelected = true } = this.props;\n        const { dogStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = dogStore;\n\t\tif (unsetTeamIfSelected && team === currentTeam) {\n\t\t\tdogStore.setCurrentTeam(undefined);\n\t\t\tworkoutStore.setCurrentTeam(undefined);\n\t\t} else {\n\t\t\tdogStore.setCurrentTeam(team);\n\t\t\tworkoutStore.setCurrentTeam(team);\n\t\t}\n\t\tif (util.isDefined(callback)) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n    showAllTeams = () => {\n\t\tconst { callback } = this.props;\n        const { dogStore, workoutStore } = this.props.stores;\n\t\tdogStore.setCurrentTeam(undefined);\n\t\tworkoutStore.setCurrentTeam(undefined);\n\t\tif (util.isDefined(callback)) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// componentDidMount() {\n\t// \tif (this.container) {\n\t// \t\tthis.container.scrollIntoView({ behavior: 'smooth', block: 'end', inline: 'center' });\n\t// \t}\n\t// }\n\n    render() {\n        const { userStore, dogStore } = this.props.stores;\n        const { teams } = userStore;\n\t\tconst { currentTeam } = dogStore;\n\t\tconst { highlight, showAll = true } = this.props;\n        return (\n\t\t\t<div class='row mt-2'>\n\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar'\n\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* <xmp><br /><br /><br /><br />{JSON.stringify(teams, null, 4)}</xmp> */}\n\t\t\t\t\t\t{teams && teams.map((team, idx) => {\n\t\t\t\t\t\t\tlet classNames;\n\t\t\t\t\t\t\tif (teams.length === 1) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-both';\n\t\t\t\t\t\t\t} else if (idx === 0) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-left';\n\t\t\t\t\t\t\t} else if (idx + 1 === teams.length) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-right';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div class='col mb-0 px-0 clearfix' key={team.id}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass={`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none ${classNames}\n\t\t\t\t\t\t\t\t\t\t\t${currentTeam === team.id ? 'btn-success' : 'btn-outline-success'}\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`}\n\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.toggleTeam(team.id)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-users' /> {team.name}\n\n\t\t\t\t\t\t\t\t\t\t{highlight && highlight.indexOf(team.id) > -1 && <>\n\t\t\t\t\t\t\t\t\t\t\t{currentTeam === team.id ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check float-right' />\n\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='spinner-grow text-warning float-right' role='status'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='far fa-hand-point-left float-right' style='font-size: 2.0em;' />   \n\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{/* {currentTeam === team.id && <ScrollIntoView horizontal={'center'} vertical={'end'} />} */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t{showAll && <div class='row'>\n\t\t\t\t\t\t<div class='col-12 mb-1 px-1 d-flex justify-content-center'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass={`btn btn-sm rounded-lg btn-link text-nowrap clearfix`}\n\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\tonClick={this.showAllTeams}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-users' /> <Text id='teams.show-all'>Show all</Text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>}\n\t\t\t\t</div>\n\t\t\t</div>\n        );\n    }\n}\n\nexport default Teams;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport style from './style.css';\n\nconst initialState = {\n    mouseData: {},\n};\n\n@observer\nclass Gauge extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.svgRef = null;\n    }\n\n    render() {\n        const {\n            radius = 50,\n            heightAdd = 0,\n            color = 'success',\n\n            showPercentText = true,\n            percent = 0,\n            prefix = '',\n\n            showCenterText= false,\n            centerText,\n            centerTextSize,\n            centerTextX,\n            centerTextY,\n\n            total = '',\n            totalY = '90%',\n            totalX = '50%',\n            totalTextAnchor = 'middle',\n                        \n            completed = '',\n            completedY = '65%',\n            completedX = '50%',\n            completedTextAnchor = 'middle',\n        } = this.props;\n        const strokeWidth = radius * 0.3;\n        const innerRadius = radius - strokeWidth / 2;\n\n        const strokeWidthGauge = radius * 0.3;\n\n        const circumference = innerRadius * 2 * Math.PI;\n        const arc = circumference * (270 / 360);\n        const dashArray = `${arc} ${circumference}`;\n        const transform = `rotate(135, ${radius}, ${radius})`;\n\n        const percentNormalized = Math.min(Math.max(percent, 0), 100);\n        const offset = arc - (percentNormalized / 100) * arc;\n\n        const textSize = centerTextSize || radius / 2.5;\n        const textSizeSmall = radius / 5;\n\n        return (\n            <>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg}\n                    // viewBox={`0 0 ${radius * 2} ${radius * 2}`}\n                    width={radius * 2}\n                    height={radius * 2 + heightAdd}\n                    preserveAspectRatio='none'\n                    ref={c => this.svgRef = c}\n                >\n\n                    <circle\n                        class={`${style.gaugeBackground}`}\n                        cx={radius}\n                        cy={radius}\n                        r={innerRadius}\n                        strokeWidth={strokeWidth}\n                        strokeDasharray={dashArray}\n                        strokeLinecap='round'\n                        transform={transform}\n                    />\n                    \n                    <circle\n                        class={`${style[color]} ${style.gauge}`}\n                        cx={radius}\n                        cy={radius}\n                        r={innerRadius}\n                        stroke='url(#grad)'\n                        strokeDasharray={dashArray}\n                        strokeDashoffset={offset}\n                        strokeLinecap='round'\n                        strokeWidth={strokeWidthGauge}\n                        style={{\n                            transition: 'stroke-dashoffset 0.3s',\n                        }}\n                        transform={transform}\n                    />\n                     \n                    {showPercentText && <text\n                        class={`${style.gaugeText} ${style[color]}`}\n                        x={centerTextX || '50%'}\n                        y={centerTextY || '50%'}\n                        dominant-baseline='middle'\n                        text-anchor='middle'\n                        font-size={textSize}\n                    >{percent} {prefix}</text>}\n\n                    {showCenterText && <text\n                        class={`${style.gaugeText} ${style[color]}`}\n                        x={centerTextX || '50%'}\n                        y={centerTextY || '50%'}\n                        dominant-baseline='middle'\n                        text-anchor='middle'\n                        font-size={textSize}\n                    >{centerText}</text>}\n\n                    {completed && <text\n                        class={`${style.gaugeText} ${style[color]}`}\n                        x={completedX}\n                        y={completedY}\n                        dominant-baseline='middle'\n                        text-anchor={completedTextAnchor}\n                        font-size={textSizeSmall}\n                    >{completed}</text>}\n\n                    <text\n                        class={`${style.gaugeText} ${style.secondary}`}\n                        x={totalX}\n                        y={totalY}\n                        dominant-baseline='middle'\n                        text-anchor={totalTextAnchor}\n                        font-size={textSizeSmall}\n                    >{total}</text>\n\n                </svg>\n            </>\n        );\n    }\n}\n\nexport default Gauge;\n"],"sourceRoot":""}