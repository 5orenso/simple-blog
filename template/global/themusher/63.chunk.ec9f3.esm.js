(window.webpackJsonp=window.webpackJsonp||[]).push([[63,5],{"/DnB":function(t,e,s){"use strict";function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=(s("Utv1"),s("/eY4"));const l={};let r=Object(o.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:t=>this.container=t}," ")}})||c;e.a=r},"3kDq":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=s("QRet"),l=s("Utv1"),r=s("/eY4"),h=s("OhSV");const d={};let b=Object(r.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{raceStore:e,appState:s}=this.props.stores,{title:n}=this.props,{language:a="en"}=s,{race:c}=e,r=new Date;let d="";return r>=new Date(c.startDate)&&r<=new Date(c.endDate)?d="race":r>=new Date(c.signupStartDate)&&r<=new Date(c.signupEndDate)?d="signup":r>new Date(c.endDate)&&(d="done"),Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex"},Object(i.h)("div",{class:"flex-fill"},function(t,e=""){return Object(o.d)(()=>{document.title="Homerun Race: "+t},[t]),Object(i.h)("h1",{class:e},t)}(n,"mb-0")),Object(i.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(i.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(i.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},c.title)),Object(i.h)("small",{class:""},c.startDate&&Object(i.h)(t,null,l.a.formatDate(c.startDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),c.endDate&&Object(i.h)(t,null," - ",l.a.formatDate(c.endDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(i.h)("div",{class:"flex-fill"},Object(i.h)("h3",{class:"float-right"},"signup"===d&&!c.liveRace&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(i.h)("span",{class:"badge badge-primary ml-2"},Object(i.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===d&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(i.h)("span",{class:"badge badge-danger ml-2"},Object(i.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===d&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-check text-success"}),Object(i.h)("span",{class:"badge badge-success ml-2"},Object(i.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(i.h)("div",{class:"d-block d-md-none"},Object(i.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(i.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},c.title)),Object(i.h)("small",null,c.startDate&&Object(i.h)(t,null,l.a.formatDate(c.startDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),c.endDate&&Object(i.h)(t,null," - ",l.a.formatDate(c.endDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})))))}})||c;e.a=b}).call(this,s("hosL").Fragment)},"5l0g":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=(s("Utv1"),s("/eY4")),l=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const r={showAddComment:!1};let h=Object(o.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r),this.updateTimer={},this.inputRef={}}async loadHeatmap(){this.setState({isLoading:!0});const{adminStore:t}=this.props.stores,{raceid:e}=this.props;await t.getPublicHeatmap(e),this.setState({isLoading:!1})}componentDidMount(){this.loadHeatmap()}render(){const{adminStore:e}=this.props.stores,{waypoints:s,zoomToMarkers:n,mapid:a,fullscreenMap:c}=this.props,{publicHeatmap:o}=e;return Object(i.h)(t,null,Object(i.h)(l.a,{stores:this.props.stores,mapId:o.length,heatmap:o,minZoom:2,maxZoom:18,height:600,waypoints:s,zoomToMarkers:n,fullscreenMap:c,key:"map-"+a}))}})||c;e.a=h}).call(this,s("hosL").Fragment)},"68RK":function(t,e,s){"use strict";var n=s("ivZ3"),a=s("Utv1"),c=s("ZOvn");const i={adit:new n.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new n.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new n.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new n.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new n.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new n.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new n.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new n.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new n.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new n.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new n.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new n.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new n.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new n.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new n.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new n.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new n.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new n.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new n.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new n.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new n.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new n.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new n.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new n.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new n.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new n.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new n.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new n.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new n.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new n.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new n.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new n.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new n.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new n.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new n.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new n.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new n.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new n.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new n.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new n.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new n.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new n.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new n.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new n.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new n.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new n.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new n.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new n.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new n.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new n.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new n.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new n.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new n.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new n.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new n.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new n.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new n.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new n.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new n.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new n.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new n.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new n.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new n.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new n.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new n.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new n.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new n.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new n.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new n.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new n.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new n.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new n.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new n.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new n.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new n.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new n.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new n.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new n.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new n.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new n.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new n.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new n.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new n.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new n.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new n.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new n.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new n.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new n.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new n.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new n.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new n.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new n.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new n.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new n.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new n.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new n.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new n.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new n.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new n.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new n.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new n.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new n.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new n.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new n.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new n.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new n.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new n.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new n.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new n.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new n.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new n.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new n.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new n.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new n.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new n.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new n.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new n.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new n.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new n.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new n.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new n.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new n.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new n.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new n.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new n.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new n.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new n.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new n.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new n.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new n.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new n.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new n.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new n.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new n.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new n.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new n.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new n.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new n.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new n.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new n.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new n.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new n.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new n.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new n.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new n.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new n.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new n.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new n.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new n.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new n.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new n.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new n.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new n.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new n.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new n.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new n.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new n.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new n.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new n.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new n.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new n.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new n.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new n.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new n.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new n.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new n.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new n.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new n.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new n.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new n.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new n.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new n.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=class{static get(t){return i[t]}static list(){return Object.keys(i)}static getDiv({title:t,body:e,color:s,textColor:c="#333333",borderColor:i=0,iconWidth:o=150,iconHeight:l=70}){const r="img-"+a.a.randomPassword();a.a.hsl2Rgb(s,100,60),a.a.hsl2Rgb(100-i,100,50);return new n.DivIcon({iconSize:[o,l+30],iconAnchor:[15,l+30],className:"my-div-icon",html:`<div id='${r}' style='width: ${o}px; height: ${l+30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${r} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${s};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${c}; background-color: ${s}; height: ${l}px;'>\n\t\t\t\t\t<nobr><strong>${t}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${e}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`})}static getRaceMarker({bib:t,speed:e="",bearing:s="",rank:i,flag:o="",image:l,title:r,color:h,textColor:d="#333333",borderColor:b=0,iconWidth:u=180,iconHeight:p=15,iconAnchorX:m=5,iconAnchorY:g=5,imageCirlceRadius:O=10,lineHeight:j="0.9em",fontSize:f="0.9em",paddingTop:v="3px",paddingBottom:w="3px",largeMarkers:x,mapChecked:y,titlePrefix:k=""}){const S="img-"+a.a.randomPassword(),I=(a.a.hsl2Rgb(h,100,60),a.a.hsl2Rgb(100-b,100,50),c.a.getRankingColor(i)),C=/dark/i.test(y);let D=l?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${l}"); background-size: cover; border: 1px ${I} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return D=t||i?`\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: ${I||""}'\n\t\t\t>\n\t\t\t\t${t||i}\n\t\t\t</div>\n\t\t`:D,new n.DivIcon({iconSize:[u,p],iconAnchor:[m,g],className:"my-div-icon",html:m>100?`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='${S}' style='width: ${u}px; height: ${p}px; line-height: ${j}; font-size: ${f};'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${C?"text-white":"text-dark"} pl-3 pr-1 rounded-pill-left rounded-none ${C?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${k} <strong>${r}</strong> ${o}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder ${x?"pr-3 pl-2":"pr-2 pl-1"} rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${I||""}; padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t${D}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: ${O}px; height: ${O}px; background-color: ${I};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t`:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${S}' style='width: ${u}px; height: ${p}px; line-height: ${j}; font-size: ${f};'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${O}px; height: ${O}px; background-color: ${I};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder ${x?"pl-3 pr-2":"pl-2 pr-1"} rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${I||""}; padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t${D}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${C?"text-white":"text-dark"} pr-3 pl-1 rounded-pill-right rounded-none ${C?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${o} <strong>${r}</strong> ${k}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getDistanceMarker({title:t="",body:e="",textColor:s="#888",borderColor:c=0}){const i="img-"+a.a.randomPassword();return new n.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}static getMarker({bib:t,rank:e,flag:s="",image:i,title:o,color:l="#a0a0a0",textColor:r="#333333",borderColor:h=0,iconWidth:d=250,iconHeight:b=20,iconAnchorX:u=7,iconAnchorY:p=7,imageCirlceRadius:m=10,lineHeight:g="1.0em",fontSize:O="1.0em",paddingTop:j="3px",paddingBottom:f="3px",mapChecked:v}){const w="img-"+a.a.randomPassword(),x=(a.a.hsl2Rgb(l,100,60),a.a.hsl2Rgb(100-h,100,50),c.a.getRankingColor(t||e)||"#808080"),y=/dark/i.test(v);let k=i?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${i}"); background-size: cover; border: 1px ${x} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return k=t||e?`\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center ${x?"":"bg-primary"}' style='background-color: ${x||""}'\n\t\t\t>\n\t\t\t\t${t||e}\n\t\t\t</div>\n\t\t`:k,new n.DivIcon({iconSize:[d,b],iconAnchor:[u,p],className:"my-div-icon",html:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${w}' style='width: ${d}px; height: ${b}px; line-height: ${g}; font-size: ${O};'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${m}px; height: ${m}px; background-color: ${x};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${y?"text-white":"text-dark"} px-3 pl-1 rounded-pill-both rounded-none bg-info overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${j}; padding-bottom: ${f};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>${s} <strong>${o}</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getSmallMarker({title:t="",body:e="",textColor:s="#888",borderColor:c=0}){const i="img-"+a.a.randomPassword();return new n.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}}},"8Lgr":function(t,e,s){"use strict";(function(t){function n(t){return i.a.format(t,t<5?2:1)}var a,c=s("hosL"),i=s("Utv1"),o=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(o.a)(a=class extends c.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:o={}}=i;return o.imperial?Object(c.h)(t,null,Object(c.h)("nobr",null,n(function(t){return.621371*t}(e))," ",s?Object(c.h)(t,null,Object(c.h)("small",null,Object(c.h)("small",null,Object(c.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(c.h)(t,null,"mi"))):Object(c.h)(t,null,Object(c.h)("nobr",null,n(e)," ",s?Object(c.h)(t,null,Object(c.h)("small",null,Object(c.h)("small",null,Object(c.h)("small",{class:"ml-0 text-muted"},"km")))):Object(c.h)(t,null,"km")))}})||a;e.a=l}).call(this,s("hosL").Fragment)},"8gML":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=s("Utv1"),l=s("/eY4"),r=s("OhSV"),h=(s("go65"),s("RMlE"),s("5l0g"),s("ZOvn"));h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop();const d={isLoading:!1,email:"",submenu:"ads",jwtToken:o.a.getJwtToken()};let b=Object(l.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{appState:e}=this.props.stores,{raceid:s,path:n}=this.props,{darkmode:a}=e;let c="default";return n.match(/\/race\/:raceid$/)?c="default":n.match(/\/race\/:raceid\/mushers$/)?c="mushers":n.match(/\/race\/:raceid\/results$/)?c="results":n.match(/\/race\/:raceid\/media$/)?c="media":n.match(/\/race\/:raceid\/tracking$/)&&(c="tracking"),Object(i.h)(t,null,Object(i.h)("div",{class:"row fixed-top pr-3",style:`margin-top: 40px; background-color: ${a?"#191d21":"#f8f9fa"};`},Object(i.h)("div",{class:"col-12 my-2 mx-2"},Object(i.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(i.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(i.h)("a",{href:"/race/"+s,class:"text-overflow nav-link "+("default"===c?"active":"")},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-info-circle"})," ",Object(i.h)(r.c,{id:"race.therace"},"Løpet")))),Object(i.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(i.h)("a",{href:`/race/${s}/mushers`,class:"text-overflow nav-link "+("mushers"===c?"active":"")},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-users"})," ",Object(i.h)(r.c,{id:"race.mushers"},"Deltakere")))),Object(i.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(i.h)("a",{href:`/race/${s}/results`,class:"text-overflow nav-link "+("results"===c?"active":"")},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-poll"})," ",Object(i.h)(r.c,{id:"race.results"},"Resultater")))),Object(i.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(i.h)("a",{href:`/race/${s}/media`,class:"text-overflow nav-link "+("media"===c?"active":"")},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-images"})," ",Object(i.h)(r.c,{id:"race.media"},"Bilder")))),Object(i.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(i.h)("a",{href:`/race/${s}/tracking`,class:"text-overflow nav-link "+("tracking"===c?"active":"")},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(i.h)(r.c,{id:"race.tracking"},"Tracking"))))))))}})||c;e.a=b}).call(this,s("hosL").Fragment)},"8n2v":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=(s("Utv1"),s("/eY4")),l=s("OhSV"),r=s("ZOvn");r.a.marginTop(!1),r.a.marginBottom();const h={};let d=Object(o.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h)}render(){const{goto:e,gotoTitle:s,routerName:n}=this.props;return Object(i.h)("div",{class:"row h-100"},Object(i.h)("div",{class:"col-12 text-center my-auto"},Object(i.h)("div",{class:"spinner-border text-primary",style:"width: 8rem; height: 8rem;",role:"status"},Object(i.h)("span",{class:"sr-only"},Object(i.h)(l.c,{id:"home.loading"},"Loading..."))),Object(i.h)("h3",{class:"mt-4"},Object(i.h)(l.c,{id:"home.loading"},"Loading...")),e&&Object(i.h)(t,null,Object(i.h)("a",{class:"my-4 btn btn-primary btn-lg btn-block",native:!0,href:e},s," ",Object(i.h)("i",{class:"fas fa-angle-double-right ml-2"})),Object(i.h)("small",{class:"text-muted"},n))))}})||c;e.a=d}).call(this,s("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},"HQo+":function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=(s("Utv1"),s("/eY4")),l=(s("OhSV"),s("cneo"),s("HqZR"));s("ZOvn");const r={showAddComment:!1};let h=Object(o.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r),this.updateTimer={},this.inputRef={}}async loadTrack(t=this.props){const{showHeatmap:e,raceid:s,allTeamIds:n}=t,{adminStore:a,trackStore:c,raceStore:i,appState:o}=t.stores,{selectedClassIds:l=[]}=o;e&&await a.getPublicHeatmap(s,n);const r=i.getTrackIdsByClass(l[0]);r&&r.length>0&&(c.cleanupMemory(),await c.loadPublic({query:{idin:r}}))}componentDidMount(){this.loadTrack()}componentWillReceiveProps(t){this.props.selectedClassIds!==t.selectedClassIds&&this.loadTrack(t)}render(){const{trackStore:e,raceStore:s,appState:n,adminStore:a}=this.props.stores,{selectedClassIds:c=[]}=n,{waypoints:o,waypoints2:r,waypoints3:h,zoomToMarkers:d,fullscreenMap:b,onMarkerClick:u,onMarker2Click:p,onMarker3Click:m,showHeatmap:g,showTracks:O,showDistanceMarkers:j,groupWaypoints:f,focusOnMushers:v,geoJSONs:w,largeMarkers:x,isAnimatedMarkers:y,replaySpeed:k}=this.props,{tracks:S}=e,{publicHeatmap:I}=a,C=S[0];s.getTrackIdsByClass();return Object(i.h)(t,null,Object(i.h)(l.a,{stores:this.props.stores,heatmap:g?I:null,track:C,geojson:O&&C&&C.gpx?C.gpx.geoJSON:null,gpxInfo:O&&C&&(C.gpx||C.gpxInfo)?C.gpxInfo||C.gpx.gpxInfo:null,minZoom:2,maxZoom:18,height:600,waypoints:o,waypoints2:r,waypoints3:h,geoJSONs:w,zoomToMarkers:d,fullscreenMap:b,onMarkerClick:u,onMarker2Click:p,onMarker3Click:m,showTrackProfile:!1,distanceMarkerSteps:"long",showDistanceMarkers:j,groupWaypoints:f,focusOnMushers:v,showFullscreenControl:!1,largeMarkers:x,isAnimatedMarkers:y,replaySpeed:k}))}})||c;e.a=h}).call(this,s("hosL").Fragment)},HqZR:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){return.621371*t}var o,l=s("hosL"),r=s("Utv1"),h=s("/eY4"),d=s("cneo"),b=s("fh8t"),u=s.n(b),p=s("6FDT"),m=s.n(p),g=s("5QuX"),O=s.n(g),j=s("ABWa"),f=s.n(j),v=s("ZOvn"),w=s("g1rH"),x=s("LMBq"),y=s("ppmg"),k=s("PmTP"),S=s("svVU"),I=s("/PAx"),C=s("VsMb"),D=s("GdhX"),z=s("68RK"),T=(s("A1fj"),s("ivZ3")),A=s.n(T);const U={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},{BaseLayer:M,Overlay:P}=w.a;delete A.a.Icon.Default.prototype._getIconUrl,A.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});let R=Object(h.a)(o=class extends l.Component{constructor(t){super(t),this.mapRef=Object(l.createRef)(),this.polyRef=Object(l.createRef)(),this.handleViewportChanged=t=>{this.setState({mapCenter:t.center,mapZoom:t.zoom})},this.handleLocationFound=t=>{t.latlng&&this.setState({hasLocation:!0,latlng:t.latlng})},this.onEachFeature=(t,e)=>{const{gpxInfo:s={}}=this.props,n=`<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${r.a.format(s.totalDistance,2)} km</li>\n\t\t\t\t<li>Max speed: ${r.a.format(s.maxSpeed,1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${r.a.format(s.avgSpeed,1)} km/t</li>\n\t\t\t\t<li>Ascent: ${r.a.format(s.ascent||s.calculatedAscend,0)} m</li>\n\t\t\t\t<li>Descent: ${r.a.format(s.decent||s.calculatedDescend,0)} m</li>\n\t\t\t\t<li>Duration: ${r.a.secToHms(s.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`;e.bindPopup(n)},this.handleClick=t=>{const{appState:e}=this.props.stores;e.setLatlng(t.latlng)},this.zoomToGeoJSON=t=>{try{if(t.target){const e=this.mapRef;let s=t.target.getBounds();s&&s._northEast&&(this.setState({bounds:s}),e.fitBounds(s))}}catch(t){console.log(t)}},this.zoomToMarkers=(t=[],e=!1)=>{const{hasZoomedToMarkers:s}=this.state;try{if((e||!s)&&t.length&&t.length>0){const e=this.mapRef,s=A.a.latLngBounds([]);t.forEach(t=>{s.extend([t.lat,t.lng])}),e.fitBounds(s),this.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},this.zoomToAllMarkers=()=>{const{waypoints:t=[]}=this.props;this.zoomToMarkers(t,!0)},this.zoomToFirst10Markers=()=>{const{waypoints:t=[]}=this.props,e=t.slice(0,10);this.zoomToMarkers(e,!0)},this.zoomToFirst3Markers=()=>{const{waypoints:t=[]}=this.props,e=t.slice(0,3);this.zoomToMarkers(e,!0)},this.zoomToFavoriteMarkers=()=>{const{zoomToMarkers:t=[],waypoints:e=[]}=this.props;this.zoomToMarkers(t.length>0?t:e,!0)},this.overlayAdd=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!0,this.setState({visibleLayers:s})},this.overlayRemove=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!1,this.setState({visibleLayers:s})},this.polylineOptions=()=>{const{gpxInfo:t}=this.props,{rangeSteps:e}=this.state;let{maxHslColor:s}=this.state;const{appState:n}=this.props.stores,{mapColorMode:a,mapRangeMin:c,mapRangeMax:i}=n;let o=c,l=i;"speed"===a&&t&&t.speeds&&t.speeds.length>0&&(o=Math.floor(Math.min(...t.speeds.map(t=>3.6*t))),l=Math.ceil(Math.max(...t.speeds.map(t=>3.6*t))));const h=r.a.range(o,l,e),d=h.map(t=>{const e=function(t,e,s,n,a){return n+(t-e)*(a-n)/(s-e)}(t,o,l,0,s);let n;n=s-e;const{r:a,g:c,b:i}=r.a.hsl2Rgb(n,100,45);return{color:`rgb(${a}, ${c}, ${i})`}});return n.setMapRange(h,o,l),n.setMapColors(d),d},this.polylineOptionIdxFn=t=>{const{appState:e}=this.props.stores,{mapRange:s}=e;for(let e=0;e<s.length;++e)if(t.meta<=s[e])return e;return s.length},this.polylinetrackPointFactory=t=>{const{gpxInfo:e}=this.props,{appState:s}=this.props.stores,{mapColorMode:n,mapRangeMin:a,mapRangeMax:c}=s;let i=[];"speed"===n&&e.speeds&&e.speeds.length>0?i=e.speeds.map(t=>3.6*t):e&&e.climbs&&(i=e.climbs);return t.filter(t=>t[0]&&t[1]&&t[2]).map((t,e)=>{const s=A.a.latLng(t[1],t[0],t[2]);return i&&i.length>0?(s.meta=i[e]||0,s.meta>c&&(s.meta=c),s.meta<a&&(s.meta=a)):s.meta=0,s})},this.showSpeed=()=>{const{appState:t}=this.props.stores;t.setMapColorMode("speed")},this.handleMarkerClick=(t={})=>{const{onMarkerClick:e=(({title:t,bib:e})=>console.log({title:t,bib:e}))}=this.props;try{e(a({},t))}catch(t){console.log(t)}},this.handleMarker2Click=(t={})=>{const{onMarker2Click:e=(t=>console.log(t))}=this.props;try{e(a({},t))}catch(t){console.log(t)}},this.handleMarker3Click=(t={})=>{const{onMarker3Click:e=(t=>console.log(t))}=this.props;try{e(a({},t))}catch(t){console.log(t)}},this.baseLayerChange=t=>{const{name:e}=t;console.log("baseLayerChange event",t),console.log({name:e});const{appState:s}=this.props.stores;s.setMapChecked(e)},this.whenReadyHandler=t=>{const{target:e}=t;e.on("baselayerchange",this.baseLayerChange)},this.setMapRef=t=>{this.mapRef=t},this.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1}}geoJSONStyle(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}}geoJSONStyleList(t){const e=v.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}}componentWillReceiveProps(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)}componentWillUnmount(){}render(){const{userStore:e,appState:s}=this.props.stores,{mapChecked:n}=s,{user:c}=e,{settings:o={}}=c,{mapZoom:h,bounds:b=null}=this.state,{waypoints:p=[],waypoints2:g=[],waypoints3:j=[],geoJSONs:T=[],zoomToMarkers:R=[],geojson:L,gpxInfo:$,mapId:B=1,center:_=[61.0779066,9.800984],zoom:F=5,minZoom:H=4,maxZoom:E=18,darkmode:N,height:Z=500,heatmap:W=[],skipGeojson:q=!1,zoomToWaypoints:Y=!1,fullscreenMap:G=!1,showSearch:V=!0,showZoomControl:K=!0,showLayersControl:J=!0,showFullscreenControl:Q=!0,showScaleControl:X=!0,showRange:tt=!0,showTrackProfile:et=!0,distanceMarkerSteps:st="normal",showDistanceMarkers:nt=!0,groupWaypoints:at=!0,largeMarkers:ct,isAnimatedMarkers:it,replaySpeed:ot=1e3,layersControlPosition:lt="topright"}=this.props,{mapColorMode:rt,mapRange:ht,mapColors:dt,mapRangeMin:bt,mapRangeMax:ut}=s,pt=Object(d.i)(L),mt=r.a.asObject(pt,"features",0,"geometry","coordinates");let gt,Ot;const jt=[];if(mt&&mt[0]&&mt[0][0]&&(gt=mt[0][0]&&mt[0][0][0]?[mt[0][0][1],mt[0][0][0]]:[mt[0][1],mt[0][0]],Ot=mt[mt.length-1][0]&&mt[mt.length-1][0][0]?[mt[mt.length-1][0][1],mt[mt.length-1][0][0]]:[mt[mt.length-1][1],mt[mt.length-1][0]],$&&$.distances)){let t=0,e=0,s=10;switch(h){case 15:s="long"===st?3:1;break;case 14:s="long"===st?5:2;break;case 13:s="long"===st?7:3;break;case 12:s="long"===st?10:5;break;case 11:case 10:s="long"===st?15:10;break;case 9:s="long"===st?20:15;break;case 8:s="long"===st?30:20;break;case 7:s="long"===st?40:30;break;case 6:s="long"===st?70:50;break;case 5:s="long"===st?150:100;break;default:s="long"===st?200:150}$.distances.forEach((n,a)=>{t+=o.imperial?i(n):n,e+=o.imperial?i(n):n,e>=s&&(e=0,mt[a]&&Array.isArray(mt[a])&&jt.push({lat:mt[a][1],lng:mt[a][0],title:Math.floor(t),body:""}))})}const{isAdmin:ft}=e;return Object(l.h)(t,null,Object(l.h)("div",{class:f.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:v.a.captureAllEvents,onScroll:v.a.captureAllEvents},Object(l.h)(x.a,{bounds:b,whenCreated:this.setMapRef,onViewportChanged:this.handleViewportChanged,minZoom:H,maxZoom:E,center:_,onLocationfound:this.handleLocationFound,zoom:F,zoomControl:K,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:G||!A.a.Browser.mobile,tap:!A.a.Browser.mobile,touchZoom:!!A.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:`width: 100%; min-height: ${Z}px; height: 100%;`,className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},J&&Object(l.h)(w.a,{position:lt},Object(l.h)(M,{checked:"OpenStreetMap.Mapnik"===n,name:"OpenStreetMap.Mapnik"},Object(l.h)(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(l.h)(M,{checked:"OpenStreetMap.Dark"===n,name:"OpenStreetMap.Dark"},Object(l.h)(y.a,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(l.h)(M,{checked:"Norway Kartverket topo4"===n,name:"Norway Kartverket topo4"},Object(l.h)(y.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(l.h)(M,{checked:"Norway Kartverket topo4graatone"===n,name:"Norway Kartverket topo4graatone"},Object(l.h)(y.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(l.h)(M,{checked:"Google Satellite Text"===n,name:"Google Satellite Text"},Object(l.h)(y.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(l.h)(P,{name:"Windspeed"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(P,{name:"Temperature"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(P,{name:"Snow depth"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(P,{name:"Precipitation"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),ft&&Object(l.h)(P,{name:"Atmospheric pressure"},Object(l.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),X&&Object(l.h)(S.a,{metric:!0,imperial:!1}),et&&Object(l.h)(t,null,mt&&mt.length>0&&Object(l.h)(m.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(mt),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+rt})),T&&T.length>0&&T.map((t,e)=>Object(l.h)(I.a,{data:t,style:()=>this.geoJSONStyleList(e)})),!q&&L&&gt&&Object(l.h)(I.a,{data:L,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,eventHandlers:{add:t=>this.zoomToGeoJSON(t)}}),gt&&Object(l.h)(C.a,{position:gt,icon:z.a.get("marker")},Object(l.h)(D.a,null,"Start position: ",r.a.format(gt[0],4),", ",r.a.format(gt[1],4))),Ot&&Object(l.h)(C.a,{position:Ot,icon:z.a.get("flag")},Object(l.h)(D.a,null,"End position: ",r.a.format(Ot[0],4),", ",r.a.format(Ot[1],4))),nt&&jt&&jt.length>0&&Object(l.h)(t,null,jt.length>0&&jt.map(t=>Object(l.h)(C.a,{position:[t.lat,t.lng],draggable:!1,icon:z.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(l.h)(D.a,{position:[t.lat,t.lng]},Object(l.h)("h5",null,t.title),Object(l.h)(u.a,{markdown:t.body,markdownOpts:U}))))),j.length>0&&j.reverse().map((t,e)=>Object(l.h)(C.a,{position:[t.lat,t.lng],draggable:!1,icon:z.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:n}),eventHandlers:{click:e=>this.handleMarker3Click(a(a({},t),{},{e:e}))},zIndexOffset:100+e})),g.length>0&&g.reverse().map((t,e)=>Object(l.h)(C.a,{position:[t.lat,t.lng],draggable:!1,icon:z.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:ct?300:250,iconHeight:ct?30:20,iconAnchorX:ct?10:7,iconAnchorY:ct?10:7,imageCirlceRadius:ct?20:14,lineHeight:ct?"1.5em":"1.1em",fontSize:ct?"1.5em":"1.1em",paddingTop:ct?"2px":"3px",paddingBottom:ct?"2px":"3px",mapChecked:n}),eventHandlers:{click:e=>this.handleMarker2Click(a(a({},t),{},{e:e}))},zIndexOffset:200+e})),p.length>0&&p.reverse().map((e,s)=>Object(l.h)(t,null,it?Object(l.h)(t,null,Object(l.h)(O.a,{position:{lat:e.lat,lng:e.lng},duration:ot,draggable:!1,icon:z.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:ct?300:170,iconHeight:ct?30:15,iconAnchorX:ct?s%2==0?10:290:s%2==0?7:163,iconAnchorY:ct?10:5,imageCirlceRadius:ct?20:10,lineHeight:ct?"1.5em":"0.9em",fontSize:ct?"1.5em":"0.9em",paddingTop:ct?"1px":"3px",paddingBottom:ct?"2px":"3px",titlePrefix:"rest"===e.currentState?"💤":"",mapChecked:n,largeMarkers:ct}),eventHandlers:{click:t=>this.handleMarkerClick(a(a({},e),{},{e:t}))},zIndexOffset:300+s})):Object(l.h)(t,null,Object(l.h)(C.a,{position:[e.lat,e.lng],draggable:!1,icon:z.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:ct?300:170,iconHeight:ct?30:15,iconAnchorX:ct?s%2==0?10:290:s%2==0?7:163,iconAnchorY:ct?10:5,imageCirlceRadius:ct?20:10,lineHeight:ct?"1.5em":"0.9em",fontSize:ct?"1.5em":"0.9em",paddingTop:ct?"1px":"3px",paddingBottom:ct?"2px":"3px",titlePrefix:"rest"===e.currentState?"💤":"",mapChecked:n,largeMarkers:ct}),eventHandlers:{click:t=>this.handleMarkerClick(a(a({},e),{},{e:t}))},zIndexOffset:300+s}))))),p.length>0&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 65px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToAllMarkers},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-crosshairs"})))),p.length>=3&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 105px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst3Markers},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-crosshairs"})," 3"))),p.length>=10&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 145px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst10Markers},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-crosshairs"})," 10")))),tt&&ht&&ht.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"mb-4"},Object(l.h)("div",{class:"float-right mt-1"},Object(l.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(l.h)("small",null,Object(l.h)("small",null,r.a.format(bt,0),Object(l.h)("span",{class:"text-muted"},"speed"===rt?"km/t":"%")))),ht&&ht.length>0&&ht.map((t,e)=>Object(l.h)("div",{class:"float-left"},Object(l.h)("div",{style:`background-color: ${dt[e].color}; height: 13px; width: 10px;`}))),Object(l.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(l.h)("small",null,Object(l.h)("small",null,r.a.format(ut,0),Object(l.h)("span",{class:"text-muted"},"speed"===rt?"km/t":"%"))))))))}})||o;e.a=R}).call(this,s("hosL").Fragment)},LMwI:function(t){t.exports={pointerCursor:"pointerCursor__1W6mM"}},LbFk:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,o,l=s("hosL"),r=s("Utv1"),h=s("/eY4"),d=(s("OhSV"),s("fh8t"),s("go65"));s("ZOvn");const b=t=>(e,s)=>t.map(t=>{let n=1;return"-"===t[0]&&(n=-1,t=t.substring(1)),e[t]>s[t]?n:e[t]<s[t]?-n:0}).reduce((t,e)=>t||e,0);let u=Object(h.a)(i=class extends l.Component{render(){const{lastResults:e,currentClass:s,selectedMusher:n,selectResult:a=(()=>{})}=this.props,{userStore:c}=this.props.stores,{user:i={}}=c,{language:o="en"}=i;return Object(l.h)(t,null,Object(l.h)("table",{class:"table table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",{style:"width: 10%"},"Time"),Object(l.h)("th",{style:"width: 5%"},"Dir"),Object(l.h)("th",{style:"width: 75%"},"Checkpoint"),Object(l.h)("th",{style:"width: 10%"},"Dogs"))),Object(l.h)("tbody",null,e&&e.map(e=>{const c=s.checkpoints?s.checkpoints.find(t=>t.id===e.checkpoint):null,i="in"===e.direction&&c.requiredRestMinutes?c.timeEqualization?n.timeEqualization+c.requiredRestMinutes:c.requiredRestMinutes:null;new Date(new Date(e.timestamp).getTime()+6e4*i);return Object(l.h)(t,null,Object(l.h)("tr",{class:"resultLine","data-resultid":e.id,onClick:a},Object(l.h)("td",null,Object(l.h)("nobr",null,Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock"}))," ",r.a.formatDate(e.timestamp,{locale:o,year:"2-digit",month:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(l.h)("td",null,"in"===e.direction&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sign-in-alt mr-2 text-success"})),"out"===e.direction&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sign-out-alt mr-2 text-info"})),"scratched"===e.direction&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-times mr-2 text-danger"}))),Object(l.h)("td",null,Object(l.h)("span",{class:"text-muted"},c.sortOrder,":")," ",c.name),Object(l.h)("td",null,Object(l.h)("nobr",null,Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-dog ml-3"}))," ",e.dogs,Object(l.h)("br",null)))))}))))}})||i,p=Object(h.a)(o=class extends l.Component{constructor(t){var e;super(t),e=this,this.addResult=async function(t){const{raceStore:s,appState:n}=e.props.stores,{direction:c,classid:i}=t.target.closest("button").dataset,{checkpointId:o,selectedClassIds:l=[]}=n,r=s.getClassById(l[0]),h=r.checkpoints?r.checkpoints.find(t=>t.id===o):null,{result:d,showTimestamp:b}=e.state,{race:u}=s,p=u.id;d.timestamp=b&&d.timestamp?d.timestamp:new Date,"scratched"===c&&(await s.addResult({id:p,classId:i,showTimestamp:!1,newResult:a({direction:"in",checkpoint:o},d)}),await s.editContestant({id:p,classId:i,bib:d.bib,field:"raceStatus",value:"DNF"})),await s.addResult({id:p,classId:i,showTimestamp:!1,newResult:a({direction:c,checkpoint:o},d)}),e.setState({result:{bib:"",dogs:"",timestamp:""},selectedMusher:null,lastResults:null,message:`Added ${d.bib} with ${d.dogs} dogs ${c} ${"in"===c?"to":"of"} checkpoint ${h.name}.`}),clearTimeout(e.updateTimer.message),e.updateTimer.message=setTimeout((async function(){e.setState({message:""})}),3e3)},this.editResult=t=>{const{raceStore:e,appState:s}=this.props.stores,{race:n}=e,a=n.id,c=t.target.id,i=t.target.value,{classid:o,resultid:l}=t.target.dataset,{selectedClassIds:h=[]}=s,d=e.getClassById(h[0]),b={raceClassId:o,resultId:l,["raceClassResult"+r.a.ucfirst(c)]:i};clearTimeout(this.updateTimer[c]),this.updateTimer[c]=setTimeout((async function(){await e.editClass({id:a,data:b}),e.localUpdateSignup(c,i);const{checkpoints:t=[],contestants:s=[],results:n=[]}=d;e.sortContestantsByResult({contestants:s,results:n,checkpoints:t})}),500)},this.updateField=t=>{const{raceStore:e,appState:s}=this.props.stores,{race:n}=e,a=t.target.id,c=t.target.value,{selectedClassIds:i=[]}=s,o=e.getClassById(i[0]),{result:l,selectedResult:h,showTimestamp:d}=this.state;l[a]=c;const{checkpointId:u}=s,{sortedContestants:p=[]}=e,m=o.checkpoints?o.checkpoints.find(t=>t.id===u):null,g=p?p.find(t=>t.bib===parseInt(l.bib,10)):null;let O,j,f,v,w;o&&(O=o.results?o.results.slice().sort(b(["-timestamp","-direction"])).filter(t=>parseInt(t.bib,10)===parseInt(l.bib,10)):null,O&&O.length>0&&(j=O.find(t=>t.checkpoint===u&&"in"===t.direction),f=O.find(t=>t.checkpoint===u&&"out"===t.direction),v=O.find(t=>t.checkpoint===u&&"scratched"===t.direction)),w=o.results?o.results.find(t=>t.id===h):{});const x=O&&O[0]?O[0]:null;if(x){const t=O&&O[0]?O[0].timestamp:g&&g.startTime?g.startTime:o.startDate;d&&(l.timestamp=r.a.isoDate(t,!1,!1,!1)),l.dogs=x.dogs}this.setState({result:l,selectedCheckpoint:m,selectedMusher:g,isCheckedIn:j,isCheckedOut:f,isScratched:v,currentResult:w,lastResults:O})},this.deleteResult=async function(){const{selectedResult:t}=e.state,{appState:s,raceStore:n}=e.props.stores,{race:a}=n,c=a.id,{selectedClassIds:i=[]}=s,o=n.getClassById(i[0]),l={raceClassId:o.id,resultId:t,raceClassResultDelete:1};await n.editClass({id:c,data:l});const{checkpoints:r=[],contestants:h=[],results:d=[]}=o;n.sortContestantsByResult({contestants:h,results:d,checkpoints:r}),e.doneEditResult()},this.selectCheckpoint=t=>{const{result:e}=this.state,s=t.target.closest("button").dataset.id,{appState:n,raceStore:a}=this.props.stores;n.selectCheckpoint(s);const{selectedClassIds:c=[]}=n,i=a.getClassById(c[0]),o=i.checkpoints?i.checkpoints.find(t=>t.id===s):null,{sortedContestants:l=[]}=a,r=l?l.find(t=>t.bib===parseInt(e.bib,10)):null,h=i.results?i.results.slice().sort(b(["-timestamp","-direction"])).filter(t=>parseInt(t.bib,10)===parseInt(e.bib,10)):null,d=h.find(t=>t.checkpoint===s&&"in"===t.direction),u=h.find(t=>t.checkpoint===s&&"out"===t.direction),p=h.find(t=>t.checkpoint===s&&"scratched"===t.direction),m=a.getPreviousCheckpoint({currentClass:i,checkpointId:s}),g=h.find(t=>t.checkpoint===m.id&&"in"===t.direction),O=h.find(t=>t.checkpoint===m.id&&"out"===t.direction),j=h.find(t=>t.checkpoint===m.id&&"scratched"===t.direction);this.setState({selectedCheckpoint:o,selectedMusher:r,isCheckedIn:d,isCheckedOut:u,isScratched:p,isCheckedInPrev:g,isCheckedOutPrev:O,isScratchedPrev:j,lastResults:h})},this.toggleTimestamp=()=>{const{showTimestamp:t,result:e}=this.state,{appState:s,raceStore:n}=this.props.stores,{selectedClassIds:a=[]}=s,c=n.getClassById(a[0]),i=c.contestants?c.contestants.find(t=>t.bib===parseInt(e.bib,10)):null,o=c.results?c.results.slice().sort(b(["timestamp"])).reverse().filter(t=>parseInt(t.bib,10)===parseInt(e.bib,10)):null;e.timestamp=r.a.isoDate(o&&o[0]?o[0].timestamp:i&&i.startTime?i.startTime:c.startDate,!1,!1,!1),this.setState({showTimestamp:!t,result:e})},this.doneEditResult=()=>{const{raceStore:t,appState:e}=this.props.stores,{selectedClassIds:s=[]}=e,n=t.getClassById(s[0]),{checkpointId:a}=e,c=n.checkpoints?n.checkpoints.find(t=>t.id===a):null;this.setState({selectedResult:"",selectedCheckpoint:c,currentResult:null,result:{bib:"",dogs:"",timestamp:""}})},this.selectResult=t=>{const e=t.target.closest(".resultLine").dataset.resultid,{appState:s,raceStore:n}=this.props.stores,{selectedClassIds:a=[]}=s,c=n.getClassById(a[0]),i=c.results?c.results.find(t=>t.id===e):{};this.setState({selectedResult:e,currentResult:i})},this.state={result:{},message:""},this.updateTimer={}}componentWillReceiveProps(t){}componentDidMount(){this.doneEditResult()}render(){const{result:e,showTimestamp:s,message:n,selectedCheckpoint:a,selectedMusher:c,isCheckedIn:i,isCheckedOut:o,isScratched:h,isCheckedOutPrev:b,currentResult:p,lastResults:m=[]}=this.state,{appState:g,raceStore:O,userStore:j}=this.props.stores,{checkpointId:f}=g,{selectedClassIds:v=[]}=g,w=O.getClassById(v[0]),x=m&&m[0]?m[0]:{};let y=w.checkpoints?w.checkpoints.find(t=>t.id===x.checkpoint):null;y=y||{};const{user:k={}}=j,{language:S="en"}=k;return Object(l.h)(t,null,Object(l.h)("div",{class:"mt-2 pb-5",style:"height: 70vh;"},Object(l.h)("h3",null,"Admin timing - ",w.title),Object(l.h)("div",{class:"w-100 overflow-hidden"},Object(l.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},w.checkpoints&&w.checkpoints.map((e,s)=>{let n={},a={},i={};return m&&m.length>0&&(n=m.slice().find(t=>parseInt(t.bib,10)==c.bib&&t.checkpoint===e.id&&"in"===t.direction)||{},a=m.slice().find(t=>parseInt(t.bib,10)==c.bib&&t.checkpoint===e.id&&"out"===t.direction)||{},i=m.slice().find(t=>parseInt(t.bib,10)==c.bib&&t.checkpoint===e.id&&"scratched"===t.direction)||{}),Object(l.h)(t,null,Object(l.h)("div",{class:"col px-0 pt-2"},Object(l.h)("button",{type:"button",class:`btn btn-block ${0===s&&"rounded-pill-left"} ${s===w.checkpoints.length-1&&"rounded-pill-right"} rounded-none ${f===e.id?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.selectCheckpoint,"data-id":e.id},e.sortOrder,": ",e.name,a&&a.id?Object(l.h)("i",{class:"fas fa-check text-white ml-2"}):"",n&&n.id&&!a.id?Object(l.h)("i",{class:"fas fa-map-marker-alt text-white ml-2"}):"")))}))),Object(l.h)("div",{class:"w-100 overflow-hidden"},a&&Object(l.h)(t,null,Object(l.h)("h3",null,c&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-user text-muted"})," ",c.firstname," ",c.lastname)),p?Object(l.h)(t,null,["bib","dogs"].map(e=>Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:e},e),Object(l.h)("input",{type:"text",class:"form-control",id:e,"aria-describedby":e+"Help","data-classid":w.id,"data-resultid":p.id,"data-field":e,value:p[e],onInput:this.editResult})))),["timestamp"].map(e=>Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:e},Object(l.h)("i",{class:"fas fa-stopwatch"})," ",e),Object(l.h)("input",{type:"datetime-local",class:"form-control",id:e,"aria-describedby":e+"Help","data-classid":w.id,"data-resultid":p.id,"data-field":e,value:r.a.isoDate(p[e],!1,!1,!1),onInput:this.editResult}),Object(l.h)("button",{class:"btn btn-link",onClick:this.toggleTimestamp},"Hide timestamp")))),Object(l.h)("button",{class:"btn btn-lg btn-danger float-left",onClick:this.deleteResult},"Delete"),Object(l.h)("button",{class:"btn btn-lg btn-info float-right",onClick:this.doneEditResult},"Done")):Object(l.h)(t,null,a.sortOrder>y.sortOrder+1&&Object(l.h)(t,null,Object(l.h)("div",{class:"p-3 mb-2 bg-danger text-white clearfix"},Object(l.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),"Previous checkpoint is not logged yet.")),!b&&a.sortOrder===y.sortOrder+1&&Object(l.h)(t,null,Object(l.h)("div",{class:"p-3 mb-2 bg-danger text-white clearfix"},Object(l.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),"Not checked out of prev.")),["bib"].map(s=>Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},s),Object(l.h)("input",{type:"text",class:"form-control form-control-lg",id:s,"aria-describedby":s+"Help",onInput:this.updateField,value:e[s]})))),["dogs"].map(s=>Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},Object(l.h)("i",{class:"fas fa-dog"})," ",s),Object(l.h)("input",{type:"text",class:"form-control form-control-lg",id:s,"aria-describedby":s+"Help",onInput:Object(d.a)(this,"result."+s),value:e[s]})))),s?Object(l.h)(t,null,["timestamp"].map(s=>Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("label",{for:s},Object(l.h)("i",{class:"fas fa-stopwatch"})," ",s),Object(l.h)("input",{type:"datetime-local",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(d.a)(this,"result."+s),value:r.a.isoDate(e[s],!1,!1,!1),min:r.a.isoDate(x.timestamp)}),Object(l.h)("button",{class:"btn btn-link",onClick:this.toggleTimestamp},Object(l.h)("i",{class:"fas fa-stopwatch"})," Hide timestamp"))))):Object(l.h)(t,null,Object(l.h)("div",{class:"form-group"},Object(l.h)("button",{class:"btn btn-link",onClick:this.toggleTimestamp},Object(l.h)("i",{class:"fas fa-stopwatch"})," Show timestamp"))),i&&o&&Object(l.h)(t,null,Object(l.h)("div",{class:"alert alert-warning my-2 clearfix",role:"alert"},Object(l.h)("span",{class:"float-left",style:"font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-exclamation-triangle mr-3"})),c&&Object(l.h)(t,null,c.firstname," ",c.lastname)," Has checked in and out of this checkpoint!")),Object(l.h)("div",{class:"d-flex justify-content-between"},Object(l.h)("div",{class:"text-center"},Object(l.h)("h3",null,Object(l.h)("i",{class:"fas fa-campground text-muted"})," ",a.name))),Object(l.h)("div",{class:"d-flex justify-content-between"},Object(l.h)("button",{class:"btn btn-lg btn-success float-left",onClick:this.addResult,"data-direction":"in","data-classid":w.id,disabled:i?"disabled":""},"CP In ",Object(l.h)("i",{class:"fas fa-sign-in-alt ml-2"})),Object(l.h)("button",{class:"btn btn-lg btn-info float-right",onClick:this.addResult,"data-direction":"out","data-classid":w.id,disabled:o?"disabled":""},Object(l.h)("i",{class:"fas fa-sign-out-alt mr-2"})," CP Out"))))),n&&Object(l.h)("div",{class:"alert alert-success mt-3 clearfix",role:"alert"},n),Object(l.h)("div",{class:"overflow-hidden mb-5 mt-3"},Object(l.h)(u,{stores:this.props.stores,lastResults:m,currentClass:w,selectedMusher:c,selectResult:this.selectResult})),Object(l.h)("div",{class:"d-flex justify-content-center mt-3 mb-5"},Object(l.h)("button",{class:"btn btn-sm btn-block btn-danger",onClick:this.addResult,"data-direction":"scratched","data-classid":w.id,disabled:h?"disabled":""},"Scratch ",Object(l.h)("i",{class:"fas fa-times ml-2"})))))}})||o;e.a=p}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(i.a)(n=class extends a.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:n}=s,{settings:i={}}=n;return i.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(function(t){return 9*t/5+32}(e),0),"°F")):Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(e,1),"°C"))}})||n;e.a=o}).call(this,s("hosL").Fragment)},QuNB:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),o=(s("OhSV"),s("fh8t"),s("ZOvn")),l=s("gcyc");let r=Object(i.a)(n=class extends a.Component{render(){const{bib:e,onClickNav:s=(()=>{})}=this.props,{appState:n,raceStore:i,userStore:r}=this.props.stores,{user:h={},teams:d=[]}=r,{language:b="en"}=h,{checkpointId:u}=n,{sortedContestants:p=[]}=i,{selectedClassIds:m=[]}=n,g=i.getClassById(m[0])||{},{checkpoints:O=[],contestants:j=[],results:f=[]}=g;g.checkpoints&&g.checkpoints.find(t=>t.id===u);let v=p?p.find(t=>t.bib===parseInt(e,10)):null;v=v||{};const w=p?p.findIndex(t=>t.bib===parseInt(e,10)):null;g.results&&g.results.slice().sort((x=["-timestamp","-direction"],(t,e)=>x.map(s=>{let n=1;return"-"===s[0]&&(n=-1,s=s.substring(1)),t[s]>e[s]?n:t[s]<e[s]?-n:0}).reduce((t,e)=>t||e,0))).filter(t=>parseInt(t.bib,10)===parseInt(e,10));var x;const y=i.getTeamById(v.team),k=y.members?y.members.find(t=>t.email===v.email):{};o.a.getImage({user:k,team:y,priority:"user"}),o.a.displayNameShort(k)||o.a.displayNameShort(v);let S,I,C=0,D=0,z=0,T=g.startDate,A=0;const U=w>-1&&p[w+1]?p[w+1].bib:null,M=w>-1&&p[w-1]?p[w-1].bib:null;return Object(a.h)(t,null,U&&Object(a.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:()=>s(U)},Object(a.h)("i",{class:"fas fa-angle-right"})),M&&Object(a.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:()=>s(M)},Object(a.h)("i",{class:"fas fa-angle-left"})),Object(a.h)(l.a,{stores:this.props.stores,contestant:v,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick,onClickNav:s,rank:w+1},Object(a.h)("div",{class:"table-responsive"},Object(a.h)("table",{class:"table table-striped table-sm"},Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",null,"Checkpoint"),Object(a.h)("th",{class:"text-center"},"In"),Object(a.h)("th",{class:"text-center"},"Out"),Object(a.h)("th",{class:"text-center"},"Moving time"),Object(a.h)("th",{class:"text-center"},"Avg speed"),Object(a.h)("th",{class:"text-center"},"Total moving time"),Object(a.h)("th",{class:"text-center"},"Rest"),Object(a.h)("th",{class:"text-center"},"Total rest"),Object(a.h)("th",{class:"text-center"},"% rest"),Object(a.h)("th",{class:"text-center"},"Distance"),Object(a.h)("th",{class:"text-center"},"Total distance"))),Object(a.h)("tbody",null,O&&O.map(e=>{const s=f.slice().find(t=>parseInt(t.bib,10)==v.bib&&t.checkpoint===e.id&&"in"===t.direction)||{},n=f.slice().find(t=>parseInt(t.bib,10)==v.bib&&t.checkpoint===e.id&&"out"===t.direction)||{},i=f.slice().find(t=>parseInt(t.bib,10)==v.bib&&t.checkpoint===e.id&&"scratched"===t.direction)||{};let l=0;!e.isStartLine&&s&&n&&s.timestamp&&n.timestamp&&(l=o.a.deltaSec(s.timestamp,n.timestamp));let r=0;S&&s&&S.timestamp&&s.timestamp&&(r=o.a.deltaSec(S.timestamp,s.timestamp));let h=!1,d=0;s&&s.timestamp&&(h=!0,d=e.distanceFromPrev/(r/3600)),C+=e.distanceFromPrev?parseInt(e.distanceFromPrev,10):0,D+=r||0,z+=l||0;const b=D?z/D*100:0;let u;if(h){let h,p;n&&n.timestamp||(p=e.isStartLine?0:e.requiredRestMinutes&&e.timeEqualization&&v.timeEqualization?60*e.requiredRestMinutes+60*v.timeEqualization:e.requiredRestMinutes>0?60*e.requiredRestMinutes:10800,h=e.isStartLine?o.a.addDeltaSec(v.startTime||g.startDate,0):o.a.addDeltaSec(s.timestamp,p),T=h),u=Object(a.h)(t,null,Object(a.h)("tr",null,Object(a.h)("td",null,Object(a.h)("nobr",null,e.name)),Object(a.h)("td",{class:"text-center"},!e.isStartLine&&Object(a.h)("nobr",null,Object(a.h)("span",{class:"text-muted mr-1"},o.a.formatDate(s.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),o.a.formatDate(s.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}),s.dogs>0&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",s.dogs))),Object(a.h)("td",{class:"text-center"},n.timestamp&&Object(a.h)("nobr",null,Object(a.h)("span",{class:"text-muted mr-1"},o.a.formatDate(n.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),o.a.formatDate(n.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}),n.dogs>0&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",n.dogs)),!i.timestamp&&h&&Object(a.h)("nobr",{class:"text-muted font-weight-lighter"},Object(a.h)("span",{class:"text-muted mr-1"},o.a.formatDate(h,{locale:"en-GB",day:"numeric",month:"numeric"})),o.a.formatDate(h,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"})),i.timestamp&&Object(a.h)("nobr",{class:"text-danger"},Object(a.h)("i",{class:"fas fa-times"}),Object(a.h)("span",{class:"text-muted mr-1"},o.a.formatDate(i.timestamp,{locale:"en-GB",day:"numeric",month:"numeric"})),o.a.formatDate(i.timestamp,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(a.h)("td",{class:"text-center"},!e.isStartLine&&Object(a.h)("nobr",null,c.a.secToHms(r,!0))),Object(a.h)("td",{class:"text-center"},!e.isStartLine&&Object(a.h)("nobr",null,c.a.format(d||0,1)," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km/t"))),Object(a.h)("td",{class:"text-center"},!e.isStartLine&&Object(a.h)("nobr",null,c.a.secToHms(D,!0))),Object(a.h)("td",{class:"text-center"},!e.isStartLine&&Object(a.h)(t,null,p>0?Object(a.h)(t,null,Object(a.h)("nobr",{class:"text-muted font-weight-lighter"},c.a.secToHms(p,!0))):Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.secToHms(l,!0))))),Object(a.h)("td",{class:"text-center"},!e.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.secToHms(z,!0)))),Object(a.h)("td",{class:"text-center"},b>0&&Object(a.h)("nobr",null,c.a.format(b||0,0)," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"%"))),Object(a.h)("td",{class:"text-center"},Object(a.h)("nobr",null,e.distanceFromPrev||0," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km"))),Object(a.h)("td",{class:"text-center"},Object(a.h)("nobr",null,C," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km"))))),n&&n.timestamp&&(T=n.timestamp,A=d)}else{let t,s,n;const i=1e3*e.distanceFromPrev,l=A/3.6;let r=A?i/l/60:e.estTimeToCpMinutes||0;e.isStartLine?(t=v.startTime||g.startDate,n=0):T&&(t=o.a.addDeltaSec(T,60*r),n=e.isStartLine?0:e.requiredRestMinutes&&e.timeEqualization&&v.timeEqualization?60*e.requiredRestMinutes+60*v.timeEqualization:e.requiredRestMinutes>0?60*e.requiredRestMinutes:60*(e.estRestMinutes||180),s=o.a.addDeltaSec(t,n),T=s),d=A||e.distanceFromPrev/(60*r/3600),u=Object(a.h)("tr",null,Object(a.h)("td",null,e.name),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&t&&Object(a.h)("nobr",null,Object(a.h)("span",{class:"text-muted mr-1"},o.a.formatDate(t,{locale:"en-GB",day:"numeric",month:"numeric"})),o.a.formatDate(t,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isFinishLine&&s&&Object(a.h)("nobr",null,Object(a.h)("span",{class:"text-muted mr-1"},o.a.formatDate(s,{locale:"en-GB",day:"numeric",month:"numeric"})),o.a.formatDate(s,{locale:"en-GB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&Object(a.h)("nobr",null,c.a.secToHms(60*e.estTimeToCpMinutes,!0))),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&Object(a.h)("nobr",null,c.a.format(d||0,1)," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km/t"))),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"},!e.isStartLine&&!e.isFinishLine&&Object(a.h)("nobr",null,c.a.secToHms(n,!0))),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(a.h)("td",{class:"text-center"},Object(a.h)("nobr",null,e.distanceFromPrev||0," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km"))),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"}," "),Object(a.h)("td",{class:"text-center text-muted font-weight-lighter"}," "))}return S=n,I=s,u}))))))}})||n;e.a=r}).call(this,s("hosL").Fragment)},RMlE:function(t,e,s){"use strict";function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=s("ox/y"),l=(s("Utv1"),s("/eY4")),r=(s("go65"),s("Y3FI")),h=s("OhSV");s("LMwI");const d={menu:{profile:!1,main:!1},searchText:""};let b=Object(l.a)(c=class extends i.Component{constructor(t){var e;super(t),e=this,this.toggleDropdown=t=>{const{menu:e}=this.state;let s=t.target.dataset.name;!s&&t.target.parentNode&&(s=t.target.parentNode.dataset.name),s&&(e[s]=!e[s]),this.setState({menu:e})},this.toggleDarkmode=t=>{const{appState:e}=this.props.stores;e.toggleDarkmode(),this.toggleDropdown(t)},this.toggleViewmode=t=>{const{appState:e}=this.props.stores;let s=t.target.dataset.mode;!s&&t.target.parentNode&&(s=t.target.parentNode.dataset.mode),e.toggleViewmode(s),this.toggleDropdown(t)},this.reloadApp=()=>{window.location.reload(!0)},this.adminLoadAll=async function(){const{userStore:t}=e.props.stores;await t.getInfo(!0)},this.changeLanguage=t=>{const e=t.target.value;console.log("changeLanguage",e);const{appState:s,userStore:n}=this.props.stores,{user:a={}}=n;a.email&&n.setLanguage({email:a.email,language:e}),s.setLanguage(e)},this.search=()=>{const{searchText:t}=this.state;Object(r.route)("/search/"+t)},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{menu:t}=this.state,{appState:e,userStore:s}=this.props.stores,{darkmode:n}=e,{user:a,notifications:c=[]}=s,{language:l="en"}=(c.filter(t=>!t.read),a);return Object(i.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(i.h)("a",{class:"navbar-brand",href:"/race/"},Object(i.h)("img",{src:`./assets/homerun-race-logo-2-${n?"white-":""}small.png`,height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(i.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(i.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(i.h)("span",{class:"navbar-toggler-icon"})),Object(i.h)("div",{class:"collapse navbar-collapse "+(t.main?"show":""),id:"navbarSupportedContent"},Object(i.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(i.h)("li",{class:"nav-item"},Object(i.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(i.h)("i",{class:"fas fa-flag-checkered"})," ",Object(i.h)(h.c,{id:"header.races"},"Løpene"))),Object(i.h)("li",{class:"nav-item"},Object(i.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(i.h)("i",{class:"far fa-question-circle"})," ",Object(i.h)(h.c,{id:"header.support"},"Support"))),Object(i.h)("li",{class:"nav-item"},Object(i.h)(o.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(i.h)("i",{class:"fas fa-quote-right"})," ",Object(i.h)(h.c,{id:"header.news"},"Nyheter")))),Object(i.h)("ul",{class:"navbar-nav ml-auto "},Object(i.h)("li",{class:"nav-item mr-2"},Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(i.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(i.h)("option",{value:"no",selected:"no"===l},"🇳🇴 NO"),Object(i.h)("option",{value:"en",selected:"en"===l},"🇬🇧 EN"),Object(i.h)("option",{value:"es",selected:"es"===l},"🇪🇸 ES"),Object(i.h)("option",{value:"de",selected:"de"===l},"🇩🇪 DE"),Object(i.h)("option",{value:"fr",selected:"fr"===l},"🇫🇷 FR"),Object(i.h)("option",{value:"ru",selected:"ru"===l},"🇷🇺 RU"),Object(i.h)("option",{value:"se",selected:"se"===l},"🇸🇪 SE"))))),Object(i.h)("li",{class:"nav-item d-block d-lg-none"},Object(i.h)(o.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(i.h)("i",{class:(n?"fas text-warning":"far")+" fa-moon"})," ",Object(i.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(i.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(i.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(i.h)("i",{class:(n?"fas text-warning":"far")+" fa-moon"}))))))}})||c;e.a=b},UwwE:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(i.a)(n=class extends a.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:n}=s,{settings:i={}}=n;return i.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(e,0)," kg"))}})||n;e.a=o}).call(this,s("hosL").Fragment)},ZQlJ:function(t,e,s){"use strict";var n,a=s("hosL"),c=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("NDEG"));let o=Object(c.a)(n=class extends a.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,n=e/s,a=Math.round(n),c=Math.abs(a-n);(Number.isInteger(n)||c<.1)&&this.setState({imageIdx:a})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,n=s.find(e=>e.id===t),a=s.find(t=>t.id===e);return n&&a&&n.name>a.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:n=(()=>{})}=this.props;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(c=>{const o=e.find(t=>t.id===c);return o?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(a.h)(i.a,{stores:this.props.stores,dog:o,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:n}))):""})))}})||n;e.a=o},aGZh:function(t,e,s){"use strict";(function(t){function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,c=s("hosL"),i=s("/eY4");const o={};Object(i.a)(a=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},o)}render(){const{appState:e}=this.props.stores,{text:s}=this.props,{language:n="en"}=e;let a=s;const i=new RegExp(`/<${n}>(.*?)</${n}>/`);return s.replace(i,"$1")&&(a=s),Object(c.h)(t,null,a)}})}).call(this,s("hosL").Fragment)},aMCh:function(t,e,s){"use strict";(function(t){var n,a,c,i=s("hosL"),o=s("Utv1"),l=s("/eY4"),r=(s("OhSV"),s("fh8t"),s("ZOvn"));let h=Object(l.a)(n=class extends i.Component{render(){const{checkpoints:e,thClass:s,thStyle:n,selectedCheckpointId:a,width:c,widthCp:o,onClickCheckpoint:l=(()=>{}),dotColor:r}=this.props;return Object(i.h)(t,null,e&&e.map((e,h)=>Object(i.h)(t,null,h>0&&Object(i.h)("th",{class:s,style:n},Object(i.h)("div",{class:"",style:`width: ${c}px;`}," ")),Object(i.h)("th",{class:s,style:n},Object(i.h)("div",{class:"checkpoint position-relative "+(a===e.id?"text-primary":""),style:`width: ${o}px; font-size: 1.1em;`,onClick:l,"data-id":e.id},Object(i.h)("i",{class:"fas fa-campground"}),Object(i.h)("div",{class:`rounded-pill-both px-1 text-center position-absolute ${r?"":"bg-secondary"} font-weight-bold`,style:"bottom: 0px; right: -20px; font-size: 0.6em; "+(r?`background-color: ${r};`:"")},e.sortOrder&&"n/a"!==e.sortOrder&&Object(i.h)(t,null,e.sortOrder)))))))}})||n,d=Object(l.a)(a=class extends i.Component{render(){const{currentClass:e,contestants:s,limit:n,onClickMusher:a,tdClass:c,tdStyle:l,progressStyle:h,progressbarStyle:d}=this.props,{checkpoints:b=[],results:u=[]}=e,p=s&&n?s.slice(0,n):s;return Object(i.h)(t,null,p&&p.map((e,s)=>{let n,p,m,g,O=0;return Object(i.h)(t,null,Object(i.h)("tr",{class:"musher",onClick:a,"data-bib":e.bib},Object(i.h)("td",{class:c,style:l},e.startTime?o.a.isoTime(e.startTime):""),b&&b.map((s,a)=>{const o=u.slice().filter(t=>t.checkpoint===s.id).sort((r=["timestamp"],(t,e)=>r.map(s=>{let n=1;return"-"===s[0]&&(n=-1,s=s.substring(1)),t[s]>e[s]?n:t[s]<e[s]?-n:0}).reduce((t,e)=>t||e,0)));var r;const b=o.filter(t=>parseInt(t.bib,10)==e.bib),j=b.find(t=>"out"===t.direction),f=b.find(t=>"in"===t.direction),v=b.find(t=>"scratched"===t.direction),w=o.filter(t=>"in"===t.direction||"scratched"===t.direction).findIndex(t=>parseInt(t.bib,10)==e.bib),x=o.filter(t=>"out"===t.direction).findIndex(t=>parseInt(t.bib,10)==e.bib);if(g)return"";if(-1===w){if(n){const a=Math.floor((new Date).getTime()/1e3),o=Math.floor(new Date(n.timestamp).getTime()/1e3),r=Math.floor((a-o)/60);let u=r/m*100;u=u>95?95:u;const g=Object(i.h)(t,null,Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:l},Object(i.h)("div",{class:"progress",style:""+h},Object(i.h)("div",{class:"progress-bar progress-bar-striped",role:"progressbar",style:`width: ${u}%; ${d}`,"aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100","data-prevtimestamp":n.timestamp,"data-timeUsedOnStage":r,"data-estTimeToCpMinutesPrev":m,"data-nowEpoch":a,"data-prevCpOutEpoch":o},p+1>0?p+1:"")),e.cpId&&b.length>0&&Object(i.h)(t,null)));return p=x,n=j,m=s.estTimeToCpMinutes,g}return""}O=a,p=x,n=j,m=s.estTimeToCpMinutes;const y=Object(i.h)(t,null,(f||v)&&a>0&&Object(i.h)(t,null,Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:l},Object(i.h)("div",{class:"progress",style:""+h},Object(i.h)("div",{class:"progress-bar",role:"progressbar",style:"width: 100%; "+d,"aria-valuenow":"10","aria-valuemin":"0","aria-valuemax":"100"})),e.cpId&&b.length>0&&Object(i.h)(t,null))),Object(i.h)("td",{class:"text-center align-middle px-0 pr-1 "+c,style:l},Object(i.h)("div",{class:"progress",style:""+h},Object(i.h)("div",{class:"progress-bar "+(v?"bg-danger":"bg-success"),role:"progressbar",style:"width: 100%; "+d,"aria-valuenow":"10","aria-valuemin":"0","aria-valuemax":"100"},v?Object(i.h)("i",{class:"fas fa-times"}):Object(i.h)(t,null,w+1>0?w+1:""))),e.cpId&&b.length>0&&Object(i.h)(t,null)));return g=v,y}),Object(i.h)("td",{colspan:2*b.length-O,class:c,style:l},Object(i.h)("div",{class:"d-flex flex-nowrap"},Object(i.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${r.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(i.h)("div",null,Object(i.h)("nobr",null,e.flag," ",e.lastname))))))}))}})||a,b=Object(l.a)(c=class extends i.Component{componentWillReceiveProps(t){if(this.props.currentClass.id!==t.currentClass.id||this.props.reloadLastEpoch!==t.reloadLastEpoch){const{currentClass:t}=this.props,{raceStore:e}=this.props.stores,{checkpoints:s=[],contestants:n=[],results:a=[],sortOrderResults:c,startDate:i}=t;e.sortContestantsByResult({contestants:n,results:a,checkpoints:s,sortOrderResults:c,startDate:i})}}componentDidMount(){const{currentClass:t}=this.props,{raceStore:e}=this.props.stores,{checkpoints:s=[],contestants:n=[],results:a=[],sortOrderResults:c,startDate:i}=t;e.sortContestantsByResult({contestants:n,results:a,checkpoints:s,sortOrderResults:c,startDate:i})}render(){const{currentClass:e,onClickMusher:s=(()=>{}),onClickCheckpoint:n=(()=>{}),selectedCheckpointId:a,limit:c=100,tableClass:o="table-striped table-sm",thClass:l,thStyle:r,tdClass:b,tdStyle:u,progressStyle:p="height: 20px;",progressbarStyle:m}=this.props,{checkpoints:g=[]}=e,{raceStore:O}=this.props.stores,{sortedContestants:j=[]}=O;return Object(i.h)(t,null,Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table "+o},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{class:l,style:r},Object(i.h)("div",{class:"",style:"width: 40px;"},Object(i.h)("i",{class:"fas fa-flag"}))),Object(i.h)(h,{stores:this.props.stores,checkpoints:g,thClass:l,thStyle:r,selectedCheckpointId:a,width:40,widthCp:20,onClickCheckpoint:n,dotColor:"#808080"}),Object(i.h)("th",{class:l,style:r},Object(i.h)("div",{class:"",style:"width: 20px;"},Object(i.h)("i",{class:"fas fa-flag-checkered"}))))),Object(i.h)("tbody",null,Object(i.h)(d,{stores:this.props.stores,currentClass:e,contestants:j,limit:c,onClickMusher:s,tdClass:b,tdStyle:u,progressStyle:p,progressbarStyle:m})))))}})||c;e.a=b}).call(this,s("hosL").Fragment)},cH0S:function(t,e,s){"use strict";var n,a=s("hosL"),c=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("ZOvn"));i.a.marginTop(!1),i.a.marginBottom();let o=Object(c.a)(n=class extends a.Component{render(){const{appState:t}=this.props.stores,{darkmode:e}=t,{children:s,onCloseClick:n=(()=>{}),classNames:c="fixed-bottom",width:o="100vw"}=this.props;return Object(a.h)("div",{class:`${c} ${e?"bg-darkmode":"bg-lightmode"} border rounded rounded-lg pt-4 pb-3 px-2`,style:`\n                    bottom: 0;\n                    left: 0;\n                    width: ${o};\n                    max-height: 80vh;\n                    min-height: 10vh;\n                    overflow: auto;\n                    z-index: 999999;\n                    border-radius: 20px 20px 0 0 !important;\n                    border-top-width: 5px !important;\n                    box-shadow: 0px 0 5px rgba(0, 0, 0, 0.8);\n                `,onTouchmove:i.a.captureEvents,onScroll:i.a.captureEvents},Object(a.h)("button",{class:"btn btn-warning btn-sm float-right",onClick:n},Object(a.h)("i",{class:"fas fa-times"})),s)}})||n;e.a=o},cadc:function(t,e,s){"use strict";s.r(e),function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,o,l=s("hosL"),r=s("Utv1"),h=s("/eY4"),d=s("OhSV"),b=s("fh8t"),u=s.n(b),p=s("RMlE"),m=s("8gML"),g=s("3kDq"),O=(s("aGZh"),s("/DnB"),s("cH0S")),j=(s("wanP"),s("ZQlJ"),s("fVsX"),s("aMCh")),f=(s("gcyc"),s("LbFk")),v=s("QuNB"),w=s("zUny"),x=s("ZOvn");const y=x.a.marginTop(!0,!0),k=x.a.marginBottom(),S={isLoading:!1,contentIsNotLoaded:!0,email:"",submenu:"ads",jwtToken:r.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};let I=Object(h.a)(i=class extends l.Component{constructor(t){super(t),this.initComponent=()=>{const t=Math.floor((new Date).getTime()/1e3);this.setState({reloadIsActive:!0,reloadLastEpoch:t},()=>this.tickReloadTimeer())},this.state=a({},S),this.updateTimer={}}tickReloadTimeer(){const{reloadIsActive:t,reloadLastEpoch:e}=this.state;if(t){const t=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(t-e)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}componentDidMount(){this.initComponent()}componentWillUnmount(){clearTimeout(this.updateTimer.tick)}render(){const{reloadInSec:e}=this.state,s=Math.floor(r.a.normalizeBetween(e,0,60,0,100));return Object(l.h)(t,null,Object(l.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(l.h)("div",{class:"progress-bar",role:"progressbar",style:`width: ${s}%;`,"aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"})))}})||i,C=Object(h.a)(o=class extends l.Component{constructor(t){var e;super(t),e=this,this.loadLiveRaceResults=async function(t=e.props,{teamIds:s,focusOnMushers:n,bibs:a,classid:c,historySteps:i}){const{raceStore:o,userStore:l}=t.stores,{race:r}=o,{replayHistory:h,timerRunning:d}=e.state,{showDrawerReplay:b}=e.props,u=o.getClassById(c)||{},{isAdmin:p}=l;await o.getRaceTrackerData(r.raceTrackerRace,{historySteps:i,history:h||b,bibs:a,classid:c,startDate:u.startDate,endDate:u.endDate,isAdmin:p}),o.getRaceTrackerActiveTeams(s,n,a,!0),d&&(clearTimeout(e.updateTimer.reload),e.updateTimer.reload=setTimeout(()=>{console.log("loadLiveRaceResults.reloading...");const t=Math.floor((new Date).getTime()/1e3);e.setState({reloadLastEpoch:t}),e.loadLiveRaceResults(e.props,{teamIds:s,focusOnMushers:n,bibs:a,classid:c,historySteps:i})},6e4))},this.loadRaceResults=async function(t=e.props,s,n){const{raceStore:a}=t.stores,{raceid:c}=t,{timerRunning:i}=e.state;await a.loadWorkoutSummary(s,c),a.getWorkoutSummaryActiveTeams(s,n),i&&(clearTimeout(e.updateTimer.reload),e.updateTimer.reload=setTimeout(()=>{const t=Math.floor((new Date).getTime()/1e3);e.setState({reloadLastEpoch:t}),e.loadRaceResults(e.props,s,n)},6e4))},this.toggleDisplayDetails=t=>{const e=t.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleDisplayDetails(e)},this.adminToggleEditUser=t=>{t.stopPropagation();const e=t.target.closest("tr").dataset.email,{appState:s}=this.props.stores;s.toggleEditUserDetails(e)},this.adminSignupEdit=t=>{const{raceid:e}=this.props,{raceStore:s}=this.props.stores,n=t.target.id,a=t.target.value,{classid:c,contestantid:i}=t.target.dataset,o={raceClassId:c,contestantId:i,["raceClassContestant"+r.a.ucfirst(n)]:a};clearTimeout(this.updateTimer[n]),this.updateTimer[n]=setTimeout((async function(){s.editClass({id:e,data:o})}),500)},this.lockAllWorkoutsInRace=async function(){const{raceid:t}=e.props,{raceStore:s}=e.props.stores,n=await s.lockAllWorkoutsInRace({id:t});e.setState({lockMessage:n})},this.filterByClass=t=>{const e=t.target.closest("button").dataset.id,{appState:s}=this.props.stores;s.toggleSelectedClassId(e,!0)},this.toggleDrawer=()=>{const{showDrawer:t}=this.state;this.setState({showDrawer:!t,showDrawerCheckpoint:!1,showDrawerMusher:!1})},this.toggleDrawerMusher=t=>{const e=t.target.closest(".musher").dataset.bib;this.selectMusher(e)},this.selectMusher=t=>{this.setState({selectedMusherBib:t,showDrawerMusher:!0,showDrawerCheckpoint:!1,showDrawer:!1})},this.closeDrawerMusher=()=>{this.setState({selectedMusherBib:"",showDrawerMusher:!1})},this.toggleDrawerCheckpoint=t=>{const e=t.target.closest(".checkpoint").dataset.id;this.selectCheckpoint(e)},this.selectCheckpoint=t=>{this.setState({selectedCheckpointId:t,showDrawerCheckpoint:!0,showDrawerMusher:!1,showDrawer:!1})},this.closeDrawerCheckpoint=()=>{this.setState({selectedCheckpointId:"",showDrawerCheckpoint:!1})},this.state=a({},S),this.updateTimer={}}async loadRace(t=this.props){const{loadTimes:e=0}=this.state;this.setState({isLoading:!0});const{raceStore:s,appState:n}=t.stores,{raceid:a,classid:c,filterByBibs:i,historySteps:o}=t;await s.load(a),s.getAllClassesSortedBy();const{race:l}=s,{focusOnMushers:r}=n,{selectedClassIds:h=[]}=n,d=null==l?void 0:l.classes.map(t=>t.id);let b=h[0];-1===d.indexOf(b)&&(b=d[0],n.setSelectedClassId(b)),c&&n.toggleSelectedClassId(c,!0);const u=l.classes.filter(t=>t.id===b).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.team>0).map(t=>t.team)).flat(),p=i||l.classes.filter(t=>t.id===b).filter(t=>t.contestants&&t.contestants.length>0).map(t=>t.contestants.filter(t=>t.bib>0).map(t=>t.bib)).flat();u.length>0&&await s.loadTeams(u.join(","),!1,!0,!0),l.liveRace>0?await this.loadLiveRaceResults(this.props,{teamIds:u,focusOnMushers:r,bibs:p,classid:b,historySteps:o}):await this.loadRaceResults(this.props,u,r),this.setState({isLoading:!1,contentIsNotLoaded:!1,loadTimes:e+1})}componentWillUnmount(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)}componentDidMount(){this.loadRace()}componentWillReceiveProps(t){this.loadRace(t)}render(){const{appState:e,raceStore:s,userStore:n}=this.props.stores,{user:a={},isAdmin:c}=n,{raceid:i,path:o}=this.props,{displayDetails:h,editUserDetails:b,language:S="en",selectedClassIds:C=[]}=e,{race:D,classes:z}=s,{contentIsNotLoaded:T,lockMessage:A,showDrawer:U,showDrawerCheckpoint:M,showDrawerMusher:P,reloadLastEpoch:R,selectedCheckpointId:L,selectedMusherBib:$}=this.state,{activeTeams:B}=s,_=new Date(D.endDate);_.setHours(_.getHours()+2);const F=t=>!(C.length>0)||C.indexOf(t.id)>-1,H=1===D.liveRace;return Object(l.h)(t,null,Object(l.h)(p.a,{stores:this.props.stores}),Object(l.h)("div",{class:"container-fluid ",style:`margin-bottom: ${k}; margin-top: ${y};`},Object(l.h)(m.a,{stores:this.props.stores,path:o,raceid:i}),Object(l.h)("div",{class:"row border-bottom "},Object(l.h)("div",{class:"col-12"},Object(l.h)(d.b,null,Object(l.h)(g.a,{stores:this.props.stores,title:Object(l.h)(d.c,{id:"races.results"},"Resultater")})),c&&Object(l.h)(t,null,Object(l.h)("a",{href:`/race/${i}/resultsMain`},"New results demo")),Object(l.h)(I,{stores:this.props.stores}),H?Object(l.h)(t,null):Object(l.h)(t,null,a.email&&Object(l.h)("div",{class:"alert alert-primary",role:"alert"},"no"===S&&Object(l.h)(t,null,"Resultatene hentes direkte fra treningsøktene i QPaws appen.",Object(l.h)("br",null),Object(l.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(l.h)("ul",null,Object(l.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(l.h)("li",null,"Være markert som 'Konkurranse'."),Object(l.h)("li",null,"Være registrert på teamet som er påmeldt."))),"en"===S&&Object(l.h)(t,null,"The results are imported directly from the workouts inside QPaws app.",Object(l.h)("br",null),Object(l.h)("strong",null,"To make sure your workouts are registered check the following:"),Object(l.h)("ul",null,Object(l.h)("li",null,"Use the correct date on your workout. Has to be inside the race period."),Object(l.h)("li",null,"Mark the workout as 'Race'."),Object(l.h)("li",null,"Workout has to be on the same team as you signed up with."))))),D.resultsUrl?Object(l.h)("div",{class:"p-3 my-4 bg-light"},Object(l.h)("a",{href:D.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},D.resultsText?D.resultsText:Object(l.h)(t,null,Object(l.h)(d.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(l.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(l.h)(t,null),H?Object(l.h)(t,null):Object(l.h)(t,null,(T||!z||0===z.length)&&Object(l.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(l.h)("div",{class:"spinner-border text-primary",role:"status"},Object(l.h)("span",{class:"sr-only"},"Loading..."))))),H?Object(l.h)(t,null,!U&&Object(l.h)(t,null,Object(l.h)("div",{class:"col-12"},Object(l.h)("h1",null,Object(l.h)(d.c,{id:"races.classes"},"Classes")),Object(l.h)("nav",{class:"flex-column flex-sm-row"},D.classes&&D.classes.sort((t,e)=>t.distance-e.distance).map(e=>Object(l.h)(t,null,Object(l.h)("button",{type:"button",class:`btn btn-lg flex-sm-fill text-sm-center btn${C.indexOf(e.id)>-1?"":"-outline"}-primary mr-2 mb-2`,onClick:this.filterByClass,"data-id":e.id},e.title))))),Object(l.h)("div",{class:"col-12"},D.classes&&D.classes.filter(F).sort((t,e)=>t.distance-e.distance).map(t=>Object(l.h)("div",{class:"mt-5 mb-5"},Object(l.h)(j.a,{stores:this.props.stores,race:D,currentClass:t,reloadLastEpoch:R,key:"raceclass-"+t.id,onClickMusher:this.toggleDrawerMusher,onClickCheckpoint:this.toggleDrawerCheckpoint,selectedCheckpointId:L})))))):Object(l.h)(t,null,Object(l.h)("div",{class:"col-12 overflow-auto bg-light py-4 border rounded-lg mb-5",style:"max-height: 30vh;"},B&&B.length>0&&Object(l.h)(t,null,Object(l.h)("span",{class:"float-right"},Object(l.h)("span",{class:"text-muted"},Object(l.h)(d.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",B.length))),Object(l.h)("h5",null,Object(l.h)(d.c,{id:"races.on-trail"},"På sporet nå"),":"),Object(l.h)("div",{class:"table-responsive-md"},Object(l.h)("table",{class:"table table-sm table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",null,"#"),Object(l.h)("th",null,Object(l.h)(d.c,{id:"races.name"},"Navn")),Object(l.h)("th",null,Object(l.h)(d.c,{id:"races.start-date"},"Startdato")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.distance"},"Distanse")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.ascend"},"Høydemeter")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.avg-speed"},"Gj.snittsfart")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.race-time"},"Kjøretid")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.rest-time"},"Hviletid")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.load-index"},"B.index")),Object(l.h)("th",{class:"text-center"},Object(l.h)(d.c,{id:"races.current-speed"},"Fart nå")),Object(l.h)("th",null,Object(l.h)(d.c,{id:"races.elevation"},"Moh")),Object(l.h)("th",null,Object(l.h)(d.c,{id:"races.elevation-graph"},"Høydekurve")))),Object(l.h)("tbody",null,B&&B.length>0?B.map((e,n)=>{const a=s.getTeamById(e.team),c=s.getMusherByTeamId(a.id),i=r.a.format(3.6*e.currentLocation.coords.speed,1),o=e.secSinceLastUpdate>1800?"danger":e.secSinceLastUpdate>600?"warning":"success",h=e.currentLocation.timestamp;return Object(l.h)("tr",null,Object(l.h)("th",null,n+1),Object(l.h)("td",null,1===e.isInProgress&&Object(l.h)("div",{class:`spinner-grow text-${o} float-left`,role:"status"}),2===e.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning mr-2 float-left",style:"font-size: 1.8em;"}),c.firstname," ",c.lastname,a.name&&Object(l.h)(t,null," / ",Object(l.h)("span",{class:"text-muted"},a.name)),Object(l.h)("br",null),Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",e.avgDogs,Object(l.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2"})," ",r.a.format(100*e.currentLocation.battery.level,0),"%",Object(l.h)("i",{class:"fas fa-hourglass-half text-muted ml-2"})," Updated: ",r.a.formatDistance(h,new Date)," ago")),Object(l.h)("td",null,r.a.formatDate(e.date,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(l.h)("td",{class:"text-right"},r.a.format(e.distanceKm,1)," km"),Object(l.h)("td",{class:"text-right"},r.a.format(e.elevation,0)," m"),Object(l.h)("td",{class:"text-right"},r.a.format(e.speedAvg,1)," km/t"),Object(l.h)("td",{class:"text-center"},r.a.secToHms(e.duration)),Object(l.h)("td",{class:"text-center"},r.a.secToHms(e.rest)),Object(l.h)("td",{class:"text-right"},e.loadIndex),Object(l.h)("td",{class:"text-right"},i," km/t"),Object(l.h)("td",null,e.currentLocation.coords.altitude," moh"),Object(l.h)("td",null,Object(l.h)("svg",{viewBox:"0 0 300 100",style:"width: 100%; height: 50px;"},Object(l.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"}))))}):Object(l.h)("tr",null,Object(l.h)("td",{colspan:"11",class:"text-center py-4"},Object(l.h)("h5",null,Object(l.h)(d.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå...")))))))),Object(l.h)("div",{class:"col-12"},Object(l.h)("h1",null,Object(l.h)(d.c,{id:"races.classes"},"Classes")),Object(l.h)("nav",{class:"flex-column flex-sm-row"},D.classes&&D.classes.sort((t,e)=>t.distance-e.distance).map(e=>Object(l.h)(t,null,Object(l.h)("button",{type:"button",class:`btn btn-lg flex-sm-fill text-sm-center btn${C.indexOf(e.id)>-1?"":"-outline"}-primary mr-2 mb-2`,onClick:this.filterByClass,"data-id":e.id},e.title))))),Object(l.h)("div",{class:"col-12"},D.classes&&D.classes.filter(F).sort((t,e)=>t.distance-e.distance).map(e=>Object(l.h)("div",{class:"mt-5 mb-5"},D.resultDanger&&Object(l.h)("div",{class:"alert alert-danger",role:"alert"},Object(l.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(l.h)("span",{class:"sr-only"},"Loading...")),Object(l.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(u.a,{markdown:x.a.replaceImages(D.resultDanger,D.images,S),markdownOpts:x.a.getMarkdownOptions()})),D.resultWarning&&Object(l.h)("div",{class:"alert alert-warning",role:"alert"},Object(l.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(u.a,{markdown:x.a.replaceImages(D.resultWarning,D.images,S),markdownOpts:x.a.getMarkdownOptions()})),D.resultSuccess&&Object(l.h)("div",{class:"alert alert-success",role:"alert"},Object(l.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(u.a,{markdown:x.a.replaceImages(D.resultSuccess,D.images,S),markdownOpts:x.a.getMarkdownOptions()})),Object(l.h)("span",{class:"float-right"},Object(l.h)("span",{class:"text-muted"},Object(l.h)(d.c,{id:"races.mushers"},"Mushers"),": ",e.totalMushers||0),Object(l.h)("span",{class:"text-muted ml-4"},Object(l.h)(d.c,{id:"races.finished-mushers"},"Finished mushers"),": ",e.totalFinished||0," ")),Object(l.h)("h3",null,e.title," ",e.startDate&&Object(l.h)(t,null,": ",Object(l.h)("span",{class:"font-weight-lighter"},r.a.formatDate(`${e.startDate} ${e.startTime||"00:00:00"}`,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",r.a.formatDate(`${e.endDate} ${e.endTime||"00:00:00"}`,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("div",{class:"table-responsive-md"},Object(l.h)("table",{class:"table table-sm table-striped"},Object(l.h)("thead",null,Object(l.h)("tr",null,Object(l.h)("th",{scope:"col"},"#"),Object(l.h)("th",{scope:"col",style:"min-width: 200px;"},Object(l.h)(d.c,{id:"races.name"},"Navn")),c&&Object(l.h)(t,null,Object(l.h)("th",{scope:"col"},Object(l.h)("i",{class:"fas fa-user-shield"})," Cellphone"),Object(l.h)("th",{scope:"col"},Object(l.h)("i",{class:"fas fa-user-shield"})," Email")),c&&Object(l.h)("th",{scope:"col",class:"d-none d-sm-block",style:"min-width: 400px;"},Object(l.h)(d.c,{id:"races.stages"},"Etapper")),Object(l.h)("th",{scope:"col"},Object(l.h)(d.c,{id:"races.result"},"Resultat")))),Object(l.h)("tbody",null,z[e.id]&&z[e.id].contestants&&z[e.id].contestants.map((n,a)=>{const{musher:i,currentTeam:o,currentStages:d,currentResults:p,completed:m,normalizedDuration:g,weightedNormalizedDuration:O,isDone:j,finishedDate:f,totalWorkoutTimeUsedSec:v}=n,w=s.getTotalsByTeamId(o.id);return Object(l.h)(t,null,Object(l.h)("tr",{onClick:this.toggleDisplayDetails,"data-email":i.email},Object(l.h)("th",{scope:"row"},a+1,c&&p&&Object(l.h)(t,null,Object(l.h)("br",null),p.isLocked?Object(l.h)("i",{class:"fas fa-lock text-danger mr-2"}):Object(l.h)("i",{class:"fas fa-lock-open text-success mr-2"}))),Object(l.h)("td",{class:""+(h[i.email]?"font-weight-bold":""),style:""+(h[i.email]?"":"line-height: 0.8em;")},h[i.email]?Object(l.h)(t,null,i.firstname," ",i.lastname,Object(l.h)("br",null),Object(l.h)("span",{class:"text-muted"},o.name),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},i.sportsClub),Object(l.h)("br",null),i.facebook&&Object(l.h)("a",{class:"mr-2",href:x.a.asFacebookLink(i.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-facebook"})),i.instagram&&Object(l.h)("a",{class:"mr-2",href:x.a.asInstagramLink(i.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(l.h)("i",{class:"fab fa-instagram"})),i.price1&&Object(l.h)("div",{class:"font-weight-lighter"},Object(l.h)("i",{class:"fas fa-trophy text-warning"})," ",i.price1,i.priceSent&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-check text-success"}))),i.price2&&Object(l.h)("div",{class:"font-weight-lighter"},Object(l.h)("i",{class:"fas fa-trophy text-warning"})," ",i.price2),i.price3&&Object(l.h)("div",{class:"font-weight-lighter"},Object(l.h)("i",{class:"fas fa-trophy text-warning"})," ",i.price3)):Object(l.h)(t,null,i.price1&&Object(l.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(l.h)("i",{class:"fas fa-trophy"}),i.priceSent&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-check text-success"}))),Object(l.h)("nobr",null,i.firstname," ",i.lastname,Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},i.sportsClub),Object(l.h)("br",null)))),c&&Object(l.h)(t,null,Object(l.h)("td",null,i.cellphone),Object(l.h)("td",null,i.email)),c&&Object(l.h)("td",{class:"d-none d-md-block"},c&&Object(l.h)(t,null,Object(l.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:this.adminToggleEditUser},Object(l.h)("i",{class:"fas fa-user-edit"}))),c&&b[i.email]&&Object(l.h)(t,null,Object(l.h)("h5",null,"Admin edit:"),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(l.h)("div",{class:"col-sm-10"},i.email)),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{class:"col-sm-2 col-form-label text-right"},"Cellphone"),Object(l.h)("div",{class:"col-sm-10"},i.cellphone)),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.raceStatus},Object(l.h)("option",{value:""},"-- Choose race status --"),Object(l.h)("option",{value:"OK"},"OK - Everything ok"),Object(l.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(l.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(l.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(l.h)("option",{value:"DQ"},"DQ - Disqualified"),Object(l.h)("option",{value:"DC"},"DC - Data changed by user")))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.raceComment}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.gpxResultsApproved?r.a.isoDate(i.gpxResultsApproved,!1,!1,!0):null}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.price1}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.price2}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.price3}))),Object(l.h)("div",{class:"form-group row my-0"},Object(l.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(l.h)("div",{class:"col-sm-10"},Object(l.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":i.class,"data-contestantid":i.id,onInput:this.adminSignupEdit,value:i.priceSent?r.a.isoDate(i.priceSent,!1,!1,!0):null})))),c&&Object(l.h)("div",{class:"d-flex flex-wrap"},d&&d.map((s,n)=>{const a=s.distanceKm/e.distance*100,o=(a>100||parseInt(a,10),Math.floor(new Date(s.date).getTime()/1e3)),d=new Date(0);d.setUTCSeconds(o+parseInt(s.duration,10));s.images.flat();return h[i.email]?Object(l.h)(t,null,Object(l.h)("div",{class:"bg-light border rounded-lg  text-right position-relative mr-1 mb-1",style:"width: 350px; min-width: 320px;"},Object(l.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(l.h)("path",{d:""+s.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(l.h)("div",{class:"position-relative px-3"},Object(l.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},n+1),Object(l.h)("small",null,c&&Object(l.h)("span",{class:"position-absolute",style:"top: 0px; right: -5px;"},s.isLocked?Object(l.h)("i",{class:"fas fa-lock text-danger"}):Object(l.h)("i",{class:"fas fa-lock-open text-success"})),Object(l.h)("span",{class:"float-left"},Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt text-muted"})," ",r.a.formatDate(s.date,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt text-muted"})," ",r.a.formatDate(d,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(l.h)("span",{class:"float-right"},Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(s.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",r.a.format(s.elevation,0)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"m")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",r.a.format(s.speedAvg,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km/t")),Object(l.h)("br",null),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(s.duration)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",r.a.secToHms(s.rest)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",r.a.secToHms(s.duration-s.rest)||"n/a"),Object(l.h)("br",null),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",r.a.format(s.avgDogs,0)||"n/a")))))):Object(l.h)(t,null,Object(l.h)("div",{class:"bg-light border rounded-lg text-right position-relative px-3 mr-1 mb-1",style:"width: 300px; min-width: 300px;"},Object(l.h)("small",null,c&&Object(l.h)("span",{class:"position-absolute",style:"top: 2px; right: -5px;"},s.isLocked?Object(l.h)("i",{class:"fas fa-lock text-danger"}):Object(l.h)("i",{class:"fas fa-lock-open text-sucess"})),Object(l.h)("span",{class:"float-left"},n+1),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(s.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",r.a.format(s.speedAvg,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km/t")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(s.duration)||"n/a"))))}))),Object(l.h)("td",{class:"text-right position-relative pl-4"},function(e){switch(e.raceStatus){case"OK":return Object(l.h)(t,null,Object(l.h)("span",{class:"position-absolute rounded-lg",style:"top: 10px; left: 0px;"},Object(l.h)("i",{class:"fas fa-check text-success"})));case"DNS":case"DNF":case"DNQ":case"DQ":return Object(l.h)(t,null,Object(l.h)("span",{class:"position-absolute bg-danger text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -100px; width: 80px"},Object(l.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));case"DC":return Object(l.h)(t,null,Object(l.h)("span",{class:"position-absolute bg-warning text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -150px; width: 80px"},Object(l.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));default:return""}}(i),i.raceComment&&Object(l.h)(t,null,Object(l.h)("div",{class:"alert alert-warning text-left",role:"alert"},Object(l.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)(u.a,{markdown:x.a.replaceImages(i.raceComment,D.images,S),markdownOpts:x.a.getMarkdownOptions()}))),c&&p.lastUpdated>_&&Object(l.h)(t,null,Object(l.h)("div",{class:"alert alert-danger text-left d-none d-md-block",role:"alert"},Object(l.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(l.h)("i",{class:"fas fa-user-shield"})," Last changed: ",r.a.formatDate(p.lastUpdated,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"}))),m>=99?Object(l.h)("span",{class:"position-absolute",style:"top: 10px; left: 0px;"},Object(l.h)("i",{class:"fas fa-flag-checkered text-success"})):"",Object(l.h)("small",null,h[i.email]?Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(p.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",r.a.format(p.elevation,0)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"m")),Object(l.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(l.h)("div",{class:"progress-bar "+(m>=99?"bg-success":""),role:"progressbar",style:`width: ${m}%`,"aria-valuenow":""+m,"aria-valuemin":"0","aria-valuemax":"100"})),D.nonstop?Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(v)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",r.a.secToHms(w.totalRest)||"n/a"),Object(l.h)("br",null),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",r.a.isoDate(w.firstEpoch)," - ",Object(l.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",r.a.isoDate(f)),c&&Object(l.h)(t,null,Object(l.h)("br",null),Object(l.h)("div",{class:"text-danger"},w.firstGpxStartEpoch&&Object(l.h)(t,null,Object(l.h)("nobr",null,"firstGpxStartEpoch: ",r.a.isoDate(w.firstGpxStartEpoch)),Object(l.h)("br",null)),w.lastGpxStartEpoch&&Object(l.h)(t,null,Object(l.h)("nobr",null,"lastGpxStartEpoch: ",r.a.isoDate(w.lastGpxStartEpoch)),Object(l.h)("br",null)),Object(l.h)("nobr",null,"totalWorkoutTimeUsedSec: ",r.a.secToHms(w.totalWorkoutTimeUsedSec)),Object(l.h)("br",null),Object(l.h)("nobr",null,"rest: ",r.a.secToHms(w.rest)),Object(l.h)("br",null),Object(l.h)("nobr",null,"totalRest: ",r.a.secToHms(w.totalRest)),Object(l.h)("br",null),Object(l.h)("nobr",null,"duration: ",r.a.secToHms(w.duration)),Object(l.h)("br",null)))):Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(p.duration)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",r.a.secToHms(p.rest)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",r.a.secToHms(p.duration-p.rest)||"n/a"),Object(l.h)("br",null),1===j&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"font-weight-bold"},Object(l.h)("span",{class:"font-weight-lighter text-muted"},"Normalized to race distance:")," ",Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(g)||"n/a"),Object(l.h)("br",null)),1===j&&Object(l.h)(t,null,Object(l.h)("nobr",{class:"font-weight-bold"},Object(l.h)("span",{class:"font-weight-lighter text-muted"},"Normalized:")," ",Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(O)||"n/a"),Object(l.h)("br",null)))):Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",r.a.format(p.distanceKm,1)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"km")),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",r.a.format(p.elevation,0)||"n/a"," ",Object(l.h)("span",{class:"font-weight-lighter"},"m")),Object(l.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(l.h)("div",{class:"progress-bar "+(m>=99?"bg-success":""),role:"progressbar",style:`width: ${m}%`,"aria-valuenow":""+m,"aria-valuemin":"0","aria-valuemax":"100"})),D.nonstop?Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(v)||"n/a"),Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",r.a.secToHms(w.totalRest)||"n/a")):Object(l.h)(t,null,1===j?Object(l.h)(t,null,Object(l.h)("nobr",{class:"font-weight-bold"},Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(O)||"n/a"),Object(l.h)("br",null)):Object(l.h)(t,null,Object(l.h)("nobr",null,Object(l.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",r.a.secToHms(p.duration)||"n/a"),Object(l.h)("br",null))))))))})))),Object(l.h)("div",{class:"text-center text-muted"},Object(l.h)("small",null,"no"===S&&Object(l.h)(t,null,"OBS! Ref reglene så er det ikke lov til å endre treningsøktene som er med i konkurransen etter at løpet er ferdig.",Object(l.h)("br",null),"Forsøk på dette vil resultere i automatisk deplassering på listene."),"en"===S&&Object(l.h)(t,null,"IMPORTANT! According to the rules: It is NOT allowed to try alter the workouts related to the competition after the race has ended.",Object(l.h)("br",null),"Attempts will result in automatic deplacement on the resultlists."))))))))),!H&&c&&Object(l.h)(t,null,Object(l.h)("button",{class:"btn btn-danger btn-lg float-right m-4",onClick:this.lockAllWorkoutsInRace},"Lock all workouts in this race"),Object(l.h)("xmp",{class:"m-5"},JSON.stringify(A,null,4))),U&&Object(l.h)(t,null,Object(l.h)(O.a,{stores:this.props.stores,onCloseClick:this.toggleDrawer},Object(l.h)(f.a,{stores:this.props.stores}))),M&&Object(l.h)(t,null,Object(l.h)(O.a,{stores:this.props.stores,onCloseClick:this.closeDrawerCheckpoint},Object(l.h)(w.a,{stores:this.props.stores,id:L,onClickNav:this.selectCheckpoint}))),P&&Object(l.h)(t,null,Object(l.h)(O.a,{stores:this.props.stores,onCloseClick:this.closeDrawerMusher},Object(l.h)(v.a,{stores:this.props.stores,bib:$,onClickNav:this.selectMusher}))))}})||o;e.default=C}.call(this,s("hosL").Fragment)},e0EM:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=(s("QRet"),s("Utv1")),i=s("/eY4"),o=s("OhSV"),l=(s("Y3FI"),s("fh8t"),s("go65"),s("HQo+"),s("wanP")),r=(s("ZQlJ"),s("s4FZ"),s("q/oJ"),s("cH0S"),s("fVsX"),s("8n2v"),s("gWxU"),s("Nanz"),s("zUny"),s("bbv7")),h=s("ukv5"),d=(s("eQ6k"),s("ZOvn"));let b=Object(i.a)(n=class extends a.Component{constructor(t){super(t),this.state={}}render(){const{wp:e,musher:s}=this.props,{raceStore:n,userStore:i}=this.props.stores,{totalTrackLength:b}=n,u=n.getClassByBib(e.bib),p=n.getTeamById(s.team),m=p.members?p.members.find(t=>t.email===s.email):{},{user:g={}}=i,O=n.getTotalsByTeamId(s.team),j=(d.a.getImage({user:m,team:p,priority:"user",fallback:s.image1}),d.a.displayNameShort(m)||d.a.displayNameShort(s),c.a.format(e.totalDistanceOnTrack/b*100,0)),f=c.a.format(e.restTime/e.raceTime*100,0),v=[],w=[],x=[],y=[];if(e&&e.speeds&&e.speeds.length>0){const t=c.a.range(e.speeds[0].timestamp,e.speeds[e.speeds.length-1].timestamp,600),s=Math.ceil(t.length/5);Math.floor(t.length/s);for(let e=0,n=t.length;e<n;e+=s)v.push(d.a.formatDate(c.a.parseInputDate(t[e]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));v.push(d.a.formatDate(c.a.parseInputDate(t[t.length-1]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));const n=e.speeds.map(t=>({x:t.timestamp,y:3.6*t.speed}));w.push(n),x.push("Avg speed"),y.push("km/t")}p.members&&p.members.indexOf(g.id),p.followers&&p.followers.indexOf(g.id),p.followRequests&&p.followRequests.findIndex(t=>t.id===g.id);const k=Math.floor((new Date).getTime()/1e3);return Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-between"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-list"})," Ranking")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},e.rank)),e.finishTime<9999999999?Object(a.h)(t,null,e.diffToFirstFinishTime>0?Object(a.h)(t,null,Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," Diff to 1st")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(e.diffToFirstFinishTime)))):Object(a.h)(t,null,Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," Start time")),Object(a.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(s.startTime||u.startDate||e.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," Finish time")),Object(a.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(e.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(a.h)(t,null,Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," Current speed")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.format(e.speed||0,1)," ",Object(a.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km/h"))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-stopwatch"})," Last update")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(k-e.timestamp))))),Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-road"})," Total distance")),Object(a.h)("div",{class:"text-center mt-2"},Object(a.h)(l.a,{key:"gauge-reload-page",color:"primary",radius:40,showPercentText:!1,percent:j,showCenterText:!0,centerText:j+"%",centerTextSize:18,centerTextY:"55%"})),Object(a.h)("div",{class:"text-center"},Object(a.h)("small",null,c.a.format(e.totalDistanceOnTrack,1)," / ",c.a.format(b,1)," ",Object(a.h)("span",{class:"text-muted"},"km"),Object(a.h)("br",null),Object(a.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",c.a.secToHms(e.raceTime)))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-bed"})," Rest")),Object(a.h)("div",{class:"text-center mt-2"},Object(a.h)(l.a,{key:"gauge-reload-page",color:f<40?f<30?"danger":"warning":"success",radius:40,showPercentText:!1,percent:f,showCenterText:!0,centerText:f+"%",centerTextSize:18,centerTextY:"55%"})),Object(a.h)("div",{class:"text-center"},Object(a.h)("small",null,f," ",Object(a.h)("span",{class:"text-muted"},"%"),Object(a.h)("br",null),Object(a.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",c.a.secToHms(e.restTime))))),Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(a.h)(h.a,{stores:this.props.stores,states:e.states,duration:e.raceTime,key:"state-"+e.bib}))),e.finishTime<9999999999?Object(a.h)(t,null,e.diffToFirstFinishTime>0?Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," Start time")),Object(a.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(s.startTime||u.startDate||e.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," Finish time")),Object(a.h)("div",{class:"text-center",style:"font-size: 1.5em;"},c.a.formatDate(c.a.parseInputDate(e.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(a.h)(t,null)):Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-arrow-down"})," Behind")),Object(a.h)("div",{class:"text-center"},c.a.format(e.distanceToBehind,1)," ",Object(a.h)("span",{class:"text-muted"},"km"))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},"Team")),Object(a.h)("div",{class:"text-center"},Object(a.h)("i",{class:"fas fa-dog"}))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-arrow-up"})," In front")),Object(a.h)("div",{class:"text-center"},c.a.format(e.distanceToForward,1)," ",Object(a.h)("span",{class:"text-muted"},"km"))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-arrow-up"})," To first")),Object(a.h)("div",{class:"text-center"},c.a.format(e.distanceToFirst,1)," ",Object(a.h)("span",{class:"text-muted"},"km")))),Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.format(e.distanceToFinish,1)," ",Object(a.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km"))))),Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," Racetime")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(e.raceTime))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-bed"})," Resttime")),Object(a.h)("div",{class:"text-center",style:"font-size: 2.0em;"},c.a.secToHms(e.restTime)))),Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," Speed plot")),Object(a.h)("div",{class:"w-100 mt-2 overflow-auto"},Object(a.h)(r.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicks:v,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:w,legendLeft:x,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" km/t",unitLeft:y,avgWindowLeft:[0,0],smoothLeft:[0,0]})))),O&&O.distanceKm&&Object(a.h)(t,null,Object(a.h)("div",{class:"table-responsive-lg"},Object(a.h)("table",{class:"table table-borderless"},Object(a.h)("tbody",null,Object(a.h)("tr",null,Object(a.h)("td",{style:"width: 5%;"},Object(a.h)("i",{class:"fas fa-dog"})),Object(a.h)("td",{style:"width: 60%"},Object(a.h)(o.c,{id:"races.dogs"},"Dogs")),Object(a.h)("td",{style:"width: 5%;"}," "),Object(a.h)("td",{class:"text-right",style:"width: 30%;"},p.dogs.length)),Object(a.h)("tr",null,Object(a.h)("td",null,Object(a.h)("i",{class:"fas fa-road"})),Object(a.h)("td",null,Object(a.h)(o.c,{id:"races.distance"},"Distance")),Object(a.h)("td",null," "),Object(a.h)("td",{class:"text-right"},Object(a.h)("nobr",null,O.distanceKm?c.a.format(O.distanceKm,1)+" km":"n/a"))),Object(a.h)("tr",null,Object(a.h)("td",null,Object(a.h)("i",{class:"fas fa-mountain"})),Object(a.h)("td",null,Object(a.h)(o.c,{id:"races.ascend"},"Ascending")),Object(a.h)("td",null," "),Object(a.h)("td",{class:"text-right"},Object(a.h)("nobr",null,O.elevation?c.a.format(O.elevation,0)+" m":"n/a"))),Object(a.h)("tr",null,Object(a.h)("td",null,Object(a.h)("i",{class:"fas fa-stopwatch"})),Object(a.h)("td",null,Object(a.h)(o.c,{id:"races.race-time"},"Racetime")),Object(a.h)("td",null,Object(a.h)("i",{class:"fas fa-clock"})),Object(a.h)("td",{class:"text-right"},Object(a.h)("nobr",null,c.a.secToHms(O.duration)||"n/a"))),Object(a.h)("tr",null,Object(a.h)("td",null,Object(a.h)("i",{class:"fas fa-bed"})),Object(a.h)("td",null,Object(a.h)(o.c,{id:"races.rest-time"},"Rest")),Object(a.h)("td",null,Object(a.h)("i",{class:"fas fa-clock"})),Object(a.h)("td",{class:"text-right"},Object(a.h)("nobr",null,c.a.secToHms(O.rest)||"n/a"))))))))}})||n;e.a=b}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},fVsX:function(t,e,s){"use strict";var n,a=s("hosL"),c=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("ZOvn"));i.a.marginTop(!1),i.a.marginBottom();let o=Object(c.a)(n=class extends a.Component{render(){const{children:t,height:e="65px"}=this.props;return Object(a.h)("nav",{class:"navbar navbar-themed bg-light fixed-top py-0",style:`height: ${e};`},t)}})||n;e.a=o},gcyc:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),o=s("OhSV"),l=s("fh8t"),r=s.n(l),h=s("ZOvn"),d=s("ZQlJ"),b=s("s4FZ"),u=s("e0EM");let p=Object(i.a)(n=class extends a.Component{constructor(t){super(t),this.toggleAdminInfo=t=>{t.stopPropagation();const{showAdminInfo:e}=this.state;this.setState({showAdminInfo:!e})},this.toggleInfo=t=>{t.stopPropagation();const{showInfo:e}=this.state;this.setState({showInfo:!e})},this.onDogClick=(t,e,s)=>{t.preventDefault(),t.stopPropagation();const n=s.find(t=>t.uuidv4===e);return this.setState({currentDog:n,showDog:e,dogs:s}),!1},this.chooseSubmenu=t=>{const e=t.target.closest("button").dataset.submenu;this.setState({submenu:e})},this.state={}}render(){const{raceStore:e,userStore:s}=this.props.stores,{showAdminInfo:n,submenu:i="details",showDog:l,currentDog:p={}}=this.state,{totalTrackLength:m}=e,{contestant:g={},onMarkerClick:O=(()=>{}),children:j,rank:f}=this.props,v=e.findWaypointByBib(g.bib),{isAdmin:w}=s,x=(g.bib?e.getMusherByBibId(g.bib):e.getMusherByBibEmail(g.email))||{},y=e.getTeamById(x.team),k=y.members?y.members.find(t=>t.email===x.email):{},S=(e.getClassByBib(g.bib),e.getTotalsByTeamId(x.team));let I=h.a.getImage({user:k,team:y,priority:"user",fallback:x.image1});const C=h.a.displayNameShort(k)||h.a.displayNameShort(x),D=g.color,z=h.a.hasBirthday(p.birth),T=p.birth?Math.ceil(h.a.daysUntilNextBirthday(p.birth)):365,{inFront:A,behind:U}=(c.a.format(v.totalDistanceOnTrack/m*100,0),e.findNearestMushers(g.bib)),M=y&&y.imageHeader&&y.imageHeader.s3XXLargeLink?y.imageHeader:{s3XXLargeLink:x.topImage1||"./assets/homerun-race-logo.png"},P=y&&y.images?[...y.images]:[];for(let t=0,e=3;t<e;t+=1)x["image"+t]&&P.push({s3SmallLink:x["image"+t],s3LargeLink:x["image"+t]});return Object(a.h)(t,null,Object(a.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 30%; background-color: #a0a0a0; "+(M?`background-image: url("${M.s3XXLargeLink}");`:"")}),Object(a.h)("div",{class:"d-flex position-relative",style:"margin-top: 17vh;"},Object(a.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(I?`background-image: url("${I}"); background-size: cover;`:"background-color: #c0c0c0;")},!I&&Object(a.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},C),Object(a.h)("div",{class:`rounded-pill-both px-2 text-center position-absolute ${D?"":"bg-secondary"} font-weight-bold`,style:"bottom: -8px; right: 0; font-size: 1.2em; "+(D?`background-color: ${D};`:"")},f&&Object(a.h)(t,null,f))),Object(a.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-0",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"mb-0"},Object(a.h)("div",{class:"d-flex flex-nowrap"},Object(a.h)("div",{class:"text-white font-weight-bold pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${h.a.getRankingColor(f)}; width: 55px;`},x.bib),Object(a.h)("div",null,Object(a.h)("nobr",null,x.flag," ",x.firstname," ",x.lastname)))),Object(a.h)("span",{class:"mb-0",style:"margin-left: 93px;"},x.sportsClub||y.name||Object(a.h)(t,null," ")))),Object(a.h)("div",{class:"d-flex justify-content-center mb-3"},Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-pill-left rounded-none ${"details"===i?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"details"},"Details")),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-none ${"gpsdata"===i?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"gpsdata"},"GPS Data")),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-none ${"team"===i?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"team"},"Team")),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-pill-right rounded-none ${"dogs"===i?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"dogs"},"Dogs"))),Object(a.h)("div",{class:"w-100 overflow-auto position-relative"},"details"===i&&Object(a.h)(t,null,j),"gpsdata"===i&&Object(a.h)(t,null,Object(a.h)(u.a,{stores:this.props.stores,wp:v,musher:x})),"team"===i&&Object(a.h)(t,null,y.public>0?Object(a.h)(t,null,Object(a.h)("h3",null,y.name),Object(a.h)(r.a,{markdown:h.a.replaceImages(y.description,y.images),markdownOpts:h.a.getMarkdownOptions()}),Object(a.h)(b.a,{stores:this.props.stores,images:P})):Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-dog"})),Object(a.h)("h3",null,Object(a.h)(o.c,{id:"teams.no-public-team"},"No public team!")),Object(a.h)(o.c,{id:"teams.no-public-team"},"This team is not publicly visible."),P&&Object(a.h)("div",{class:"my-3"},Object(a.h)(b.a,{stores:this.props.stores,images:P}))))),"dogs"===i&&Object(a.h)(t,null,y.public>0?Object(a.h)(t,null,y.dogs&&Object(a.h)("div",{class:"w-100 container-fluid"},Object(a.h)("div",{class:"row pt-2"},Object(a.h)(d.a,{stores:this.props.stores,dogs:y.dogs.map(t=>t.id),allDogs:y.dogs,onDogClick:this.onDogClick}))),l&&Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex mb-0 mt-3 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedLarge text-muted pt-2",style:p.image?`background-image: url("${p.image.s3LargeLink}"); background-size: cover;`:""},!p.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},c.a.ucfirst(p.name,!0))),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(p.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(a.h)("h5",{class:"mb-1"},p.shortname||p.name," ",p.shortname&&""!==p.shortname&&Object(a.h)(t,null," - ",Object(a.h)("span",{class:"font-weight-lighter"},p.name)),z&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(a.h)("div",null,T<7&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted mr-2"},Object(a.h)("i",{class:"fas fa-birthday-cake"})," in ",T," days")),p.birth&&Object(a.h)("span",{class:"mr-2"},c.a.age(p.birth,p.deceased)),"female"===p.gender?Object(a.h)("i",{class:"fas fa-venus"}):Object(a.h)("i",{class:"fas fa-mars"})))))):Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-dog"})),Object(a.h)("h3",null,Object(a.h)(o.c,{id:"teams.no-public-team"},"No public team!")),Object(a.h)(o.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),w&&Object(a.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(a.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),n&&Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("xmp",null,"musher: ",JSON.stringify(x,null,4),Object(a.h)("br",null),"user: ",JSON.stringify(k,null,4),Object(a.h)("br",null),"team: ",JSON.stringify(y,null,4),Object(a.h)("br",null),"totals: ",JSON.stringify(S,null,4),Object(a.h)("br",null))))),Object(a.h)("div",{class:"d-flex position-absolute",style:"right: 10px; bottom: 10px;"},A.bib&&Object(a.h)("a",{class:"text-primary mx-2",onClick:()=>O(A),style:"line-height: 1.0em; font-size: 2.3em;"},Object(a.h)("i",{class:"fas fa-angle-left"})),U.bib&&Object(a.h)("a",{class:"text-primary mx-2",onClick:()=>O(U),style:"line-height: 1.0em; font-size: 2.3em;"},Object(a.h)("i",{class:"fas fa-angle-right"})))))}})||n;e.a=p}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(i.a)(n=class extends a.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:n}=this.props.stores,{user:i}=n,{settings:o={}}=i;return o.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(a.h)(t,null,"ft"))):Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(e,0)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"m")))):Object(a.h)(t,null,"m")))}})||n;e.a=o}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),o=s("OhSV");s("ZOvn");let l=Object(i.a)(n=class extends a.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:n}=this.props.stores,{user:i}=n,{settings:l={}}=i;return l.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(function(t){return.621371*t}(e),1)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(o.c,{id:"workouts.mph"},"mph"))))):Object(a.h)(t,null,Object(a.h)(o.c,{id:"workouts.mph"},"mph")))):Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(e,1)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(o.c,{id:"workouts.kmt"},"km/t"))))):Object(a.h)(t,null,Object(a.h)(o.c,{id:"workouts.kmt"},"km/t"))))}})||n;e.a=l}).call(this,s("hosL").Fragment)},ukv5:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function o(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var l,r=s("hosL"),h=s("Utv1"),d=s("/eY4"),b=(s("Y3FI"),s("OhSV")),u=(s("cneo"),s("fh8t"),s("ZOvn")),p=s("nHdA"),m=(s("irB3"),s("UwwE"),s("8Lgr"));s("QkTp");let g=Object(d.a)(l=class extends r.Component{constructor(...t){super(...t),this.hideDetail=t=>{t.preventDefault(),t.stopPropagation(),this.setState({stateDetail:{state:"",idx:0}})},this.showStateDetail=t=>{t.preventDefault(),t.stopPropagation();const e=t.target.closest("div").dataset;this.setState({stateDetail:a({},e)})},this.nextStateDetail=t=>{t.preventDefault(),t.stopPropagation();const{states:e,duration:s}=this.props,{stateDetail:n={}}=this.state,a=parseInt(n.idx,10)+1,c=e[a];c&&this.setState({stateDetail:{idx:a,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:h.a.normalizeBetween(c.duration,0,s,0,100)}})},this.prevStateDetail=t=>{t.preventDefault(),t.stopPropagation();const{states:e,duration:s}=this.props,{stateDetail:n={}}=this.state,a=parseInt(n.idx,10)-1,c=e[a];c&&this.setState({stateDetail:{idx:a,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:h.a.normalizeBetween(c.duration,0,s,0,100)}})}}render(){const{states:e,duration:s,height:n="20px",showText:a=!0}=this.props,{stateDetail:c={}}=this.state;return Object(r.h)(t,null,Object(r.h)("div",{class:"row"},e&&Object(r.h)("div",{class:"col-12 px-0"},Object(r.h)("div",{class:"progress",style:`height: ${c&&c.idx?"20px":n};`},e.map((e,n)=>{const o=Math.ceil(h.a.normalizeBetween(e.duration,0,s,0,100));let l=o;return c&&c.idx==n&&(l=o<10?10:o),Object(r.h)(t,null,Object(r.h)("div",{class:"progress-bar bg-"+i(e.state),role:"progressbar",style:`width: ${l}%`,"aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100","data-idx":n,"data-state":e.state,"data-duration":e.duration,"data-distance":e.distance,"data-avgspeed":e.avgSpeed,"data-statespeeds":e.stateSpeeds,"data-point":e.point,"data-start":e.start,"data-end":e.end,"data-percent":h.a.normalizeBetween(e.duration,0,s,0,100),onClick:this.showStateDetail},a?Object(r.h)(t,null,Object(r.h)("nobr",null,o>10&&Object(r.h)(t,null,"rest"===e.state?Object(r.h)(t,null,h.a.secToHms(e.duration,!0)):Object(r.h)(t,null,h.a.format(e.distance/1e3,0),"km")),c&&c.idx==n?Object(r.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")):Object(r.h)(t,null,c&&c.idx==n?Object(r.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")))})),c&&c.state&&Object(r.h)(t,null,Object(r.h)("div",{class:"card position-relative"},Object(r.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:o(c.state)})," ",h.a.format(c.percent,1),"%")),Object(r.h)("div",{class:"card-body"},"rest"===c.state?Object(r.h)(t,null,Object(r.h)("div",{class:"card-text row"},Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(b.c,{id:"workouts.duration"},"Vargihet")),Object(r.h)("h6",null,h.a.secToHms(c.duration,!0))),c.point&&Object(r.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fa-map-marked ml-2"})," ",Object(r.h)(b.c,{id:"workouts.position"},"Position")),Object(r.h)("h6",null,c.point))),Object(r.h)("div",{class:"card-text row"},c.start&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(b.c,{id:"workouts.starttime"},"Start")),Object(r.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),c.end&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(b.c,{id:"workouts.endtime"},"End")),Object(r.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(r.h)(t,null,Object(r.h)("div",{class:"card-text row"},Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-road ml-2"})," ",Object(r.h)(b.c,{id:"workouts.distance"},"Distanse")),Object(r.h)("h6",null,Object(r.h)(m.a,{stores:this.props.stores,value:c.distance/1e3}))),Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(b.c,{id:"workouts.duration"},"Vargihet")),Object(r.h)("h6",null,h.a.secToHms(c.duration,!0))),Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(r.h)(b.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(r.h)("h6",null,Object(r.h)(p.a,{stores:this.props.stores,value:c.distance/c.duration*3.6})))),Object(r.h)("div",{class:"card-text row"},c.start&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(b.c,{id:"workouts.starttime"},"Start")),Object(r.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),c.end&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(b.c,{id:"workouts.endtime"},"End")),Object(r.h)("h6",null,u.a.formatDate(h.a.parseInputDate(c.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(r.h)("div",{class:"float-right"},Object(r.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-times"})),c.idx<e.length-1&&Object(r.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-angle-right"})),c.idx>0&&Object(r.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-angle-left"}))))))))}})||l;e.a=g}).call(this,s("hosL").Fragment)},wanP:function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c,i=s("hosL"),o=(s("Utv1"),s("/eY4")),l=s("eK6s"),r=s.n(l);const h={mouseData:{}};let d=Object(o.a)(c=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.svgRef=null}render(){const{radius:e=50,heightAdd:s=0,color:n="success",showPercentText:a=!0,percent:c=0,prefix:o="",showCenterText:l=!1,centerText:h,centerTextSize:d,centerTextX:b,centerTextY:u,total:p="",totalY:m="90%",totalX:g="50%",totalTextAnchor:O="middle",completed:j="",completedY:f="65%",completedX:v="50%",completedTextAnchor:w="middle"}=this.props,x=.3*e,y=e-x/2,k=.3*e,S=2*y*Math.PI,I=.75*S,C=`${I} ${S}`,D=`rotate(135, ${e}, ${e})`,z=I-Math.min(Math.max(c,0),100)/100*I,T=d||e/2.5,A=e/5;return Object(i.h)(t,null,Object(i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:r.a.svg,width:2*e,height:2*e+s,preserveAspectRatio:"none",ref:t=>this.svgRef=t},Object(i.h)("circle",{class:""+r.a.gaugeBackground,cx:e,cy:e,r:y,strokeWidth:x,strokeDasharray:C,strokeLinecap:"round",transform:D}),Object(i.h)("circle",{class:`${r.a[n]} ${r.a.gauge}`,cx:e,cy:e,r:y,stroke:"url(#grad)",strokeDasharray:C,strokeDashoffset:z,strokeLinecap:"round",strokeWidth:k,style:{transition:"stroke-dashoffset 0.3s"},transform:D}),a&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[n]}`,x:b||"50%",y:u||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":T},c," ",o),l&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[n]}`,x:b||"50%",y:u||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":T},h),j&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[n]}`,x:v,y:f,"dominant-baseline":"middle","text-anchor":w,"font-size":A},j),Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a.secondary}`,x:g,y:m,"dominant-baseline":"middle","text-anchor":O,"font-size":A},p)))}})||c;e.a=d}).call(this,s("hosL").Fragment)},zUny:function(t,e,s){"use strict";(function(t){var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),o=(s("OhSV"),s("fh8t")),l=s.n(o),r=s("ZOvn");const h=t=>(e,s)=>t.map(t=>{let n=1;return"-"===t[0]&&(n=-1,t=t.substring(1)),e[t]>s[t]?n:e[t]<s[t]?-n:0}).reduce((t,e)=>t||e,0);let d=Object(i.a)(n=class extends a.Component{constructor(...t){super(...t),this.chooseSubmenu=t=>{const e=t.target.closest("button").dataset.submenu;this.setState({submenu:e})},this.toggleInfo=()=>{const{showInfo:t}=this.state;this.setState({showInfo:!t})}}render(){const{id:e,onClickNav:s=(()=>{})}=this.props,{submenu:n="detailsIn",showInfo:i}=this.state,{appState:o,raceStore:d,userStore:b}=this.props.stores,{user:u={},teams:p=[]}=b,{language:m="en"}=u,{selectedClassIds:g=[]}=o,O=d.getClassById(g[0]);let j=O.checkpoints?O.checkpoints.find(t=>t.id===e):null;j=j||{};const{sortedContestants:f=[]}=d,v=O.results?O.results.slice().sort(h(["timestamp","-direction"])).filter(t=>t.checkpoint===e):null,w=v?v.filter(t=>"in"===t.direction):null,x=v?v.filter(t=>"out"===t.direction):null,y=v?v.slice().sort(h(["legTime","timestamp"])).filter(t=>"in"===t.direction):null,k=v?v.filter(t=>"scratched"===t.direction):null,S=O.checkpoints?O.checkpoints.find(t=>t.sortOrder===j.sortOrder-1):null,I=O.checkpoints?O.checkpoints.find(t=>t.sortOrder===j.sortOrder+1):null,C=O.results&&S?O.results.slice().filter(t=>t.checkpoint===S.id&&"out"===t.direction):null,D=O.results&&I?O.results.slice().filter(t=>t.checkpoint===I.id&&"in"===t.direction):null,z=j.image,T=j.topImage,A=r.a.displayNameShort(j),U=T||"./assets/checkpoint.png";return Object(a.h)(t,null,Object(a.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(U?`background-image: url("${U}");`:"")}),I&&Object(a.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:()=>s(I.id)},Object(a.h)("i",{class:"fas fa-angle-right"})),S&&Object(a.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:()=>s(S.id)},Object(a.h)("i",{class:"fas fa-angle-left"})),Object(a.h)("div",{class:"d-flex position-relative",style:"margin-top: 16vh;"},Object(a.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(z?`background-image: url("${z}"); background-size: cover;`:"background-color: #c0c0c0;")},!z&&Object(a.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},A),Object(a.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute bg-secondary font-weight-bold",style:"bottom: -8px; right: 0; "},j.sortOrder&&"n/a"!==j.sortOrder&&Object(a.h)(t,null,j.sortOrder))),Object(a.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(a.h)("h3",{class:"mb-2"},j.name),Object(a.h)("div",null,j.cellphone&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-phone"}))," ",Object(a.h)("a",{href:"tel:"+j.cellphone},j.cellphone)),j.email&&Object(a.h)(t,null,Object(a.h)("a",{class:"ml-3",href:"mailto:"+j.email},Object(a.h)("i",{class:"fas fa-envelope"}))),j.facebook&&Object(a.h)(t,null,Object(a.h)("a",{class:"ml-3",href:""+r.a.asFacebookLink(j.facebook)},Object(a.h)("i",{class:"fab fa-facebook"}))),j.instagram&&Object(a.h)(t,null,Object(a.h)("a",{class:"ml-3",href:""+r.a.asInstagramLink(j.instagram)},Object(a.h)("i",{class:"fab fa-instagram"}))),j.description&&Object(a.h)(t,null,Object(a.h)("a",{class:"ml-3 text-primary",onCLick:this.toggleInfo},Object(a.h)("i",{class:"fas fa-info-circle"})))))),i&&j.description&&Object(a.h)("div",null,Object(a.h)(l.a,{markdown:r.a.replaceImages(j.description,j.images),markdownOpts:r.a.getMarkdownOptions()})),Object(a.h)("div",{class:""},Object(a.h)("div",{class:""},Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-flag"})," Start")),Object(a.h)("div",{class:"text-center"},c.a.format(j.totalDistance||0,0)," ",Object(a.h)("span",{class:"text-muted"},"km"))),!j.isStartLine&&Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-arrow-down"})," Prev")),Object(a.h)("div",{class:"text-center"},Object(a.h)("nobr",null,c.a.format(j.distanceFromPrev||0,0)," ",Object(a.h)("span",{class:"text-muted"},"km")))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-arrow-up"})," Next")),Object(a.h)("div",{class:"text-center"},c.a.format(j.distanceToNext||0,0)," ",Object(a.h)("span",{class:"text-muted"},"km"))),Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(a.h)("div",{class:"text-center"},Object(a.h)("nobr",null,c.a.format(j.distanceToFinish||0,0)," ",Object(a.h)("span",{class:"text-muted"},"km"))))),Object(a.h)("div",{class:"d-flex justify-content-between mt-2"},j.requiredRestMinutes&&Object(a.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-bed"})," Mandatory rest")),Object(a.h)("div",{class:"text-center"},Object(a.h)("nobr",null,c.a.secToHms(60*j.requiredRestMinutes,!0)),j.timeEqualization&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted ml-2"},"+")," ",Object(a.h)("i",{class:"fas fa-user-clock"})," Time Equalization")))))),j.hideResults?Object(a.h)(t,null):Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-center mb-3"},Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-pill-left rounded-none ${"detailsIn"===n?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsIn"},"Details in")),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-none ${"detailsOut"===n?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsOut"},"Detail out")),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{type:"button",class:`btn btn-block rounded-pill-right rounded-none ${"legTimes"===n?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"legTimes"},"Leg times"))),Object(a.h)("div",{class:"w-100 overflow-auto position-relative",style:"max-height: 60vh;"},Object(a.h)("div",{class:"table-responsive-lg"},Object(a.h)("table",{class:"table table-striped table-sm"},"detailsIn"===n&&Object(a.h)(t,null,Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",null,"#"),Object(a.h)("th",null,"Musher"),Object(a.h)("th",null,"Time in"),Object(a.h)("th",null,"Time out"),Object(a.h)("th",null,"Time used"),Object(a.h)("th",null,"Avg speed"),Object(a.h)("th",null,"Dogs in"))),Object(a.h)("tbody",null,w&&w.map((e,s)=>{const n=parseInt(e.bib,10);let i=n?d.getMusherByBibId(n):null;i=i||{};const o=x.find(t=>t.bib===parseInt(e.bib,10)),l=w.find(t=>t.bib===parseInt(e.bib,10)),h=k.find(t=>t.bib===parseInt(e.bib,10)),b=C&&C.find(t=>t.bib===parseInt(e.bib,10));let u,p,g=0;return b&&e&&(u=r.a.deltaSec(b.timestamp,e.timestamp),g=j.distanceFromPrev/(u/3600)),l&&o&&l.timestamp&&o.timestamp&&(p=r.a.deltaSec(l.timestamp,o.timestamp)),Object(a.h)(t,null,Object(a.h)("tr",null,Object(a.h)("td",{class:"text-center"},s+1),Object(a.h)("td",null,Object(a.h)("div",{class:"d-flex flex-nowrap"},Object(a.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${r.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(a.h)("div",null,Object(a.h)("nobr",null,i.flag," ",i.lastname)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(l.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(a.h)("td",{class:"text-center"},o&&Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(o.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),h&&Object(a.h)(t,null,Object(a.h)("nobr",{class:"text-danger"},Object(a.h)("i",{class:"fas fa-times"}),r.a.formatDate(h.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.secToHms(u,!0)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(g||0,1)," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(a.h)("td",{class:"text-center"},e.dogs)))}))),"detailsOut"===n&&Object(a.h)(t,null,Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",null,"#"),Object(a.h)("th",null,"Musher"),Object(a.h)("th",null,"Time in"),Object(a.h)("th",null,"Time out"),Object(a.h)("th",null,"Time used"),Object(a.h)("th",null,"Rest in cp"),Object(a.h)("th",null,"Avg speed"),Object(a.h)("th",null,"Dogs out"),Object(a.h)("th",null,"Next CP"))),Object(a.h)("tbody",null,x&&x.map((e,s)=>{const n=parseInt(e.bib,10);let i=n?d.getMusherByBibId(n):null;i=i||{};const o=w.find(t=>t.bib===parseInt(e.bib,10)),l=x.find(t=>t.bib===parseInt(e.bib,10)),h=k.find(t=>t.bib===parseInt(e.bib,10)),b=C&&C.find(t=>t.bib===parseInt(e.bib,10)),u=D&&D.find(t=>t.bib===parseInt(e.bib,10));let p,g,O,f=0;b&&e&&(p=r.a.deltaSec(b.timestamp,e.timestamp),f=j.distanceFromPrev/(p/3600)),o&&l&&o.timestamp&&l.timestamp&&(g=r.a.deltaSec(o.timestamp,l.timestamp));let v=j.estTimeToCpMinutes||0;return v&&i.cpSortOrder===j.sortOrder&&(O=r.a.addDeltaSec(l.timestamp,60*v)),Object(a.h)(t,null,Object(a.h)("tr",null,Object(a.h)("td",{class:"text-center"},s+1),Object(a.h)("td",null,Object(a.h)("div",{class:"d-flex flex-nowrap"},Object(a.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${r.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(a.h)("div",null,Object(a.h)("nobr",null,i.flag," ",i.lastname)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(o.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(a.h)("td",{class:"text-center"},l&&Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(l.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),h&&Object(a.h)(t,null,Object(a.h)("nobr",{class:"text-danger"},Object(a.h)("i",{class:"fas fa-times"}),r.a.formatDate(h.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.secToHms(p,!0)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&g&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.secToHms(g,!0)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(f||0,1)," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(a.h)("td",{class:"text-center"},l.dogs),Object(a.h)("td",{class:"text-center"},!j.isFinishLine&&u?Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(u.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))):Object(a.h)(t,null,O&&Object(a.h)(t,null,Object(a.h)("nobr",{class:"text-muted"},r.a.formatDate(O,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))))))}))),"legTimes"===n&&Object(a.h)(t,null,Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",null,"#"),Object(a.h)("th",null,"Musher"),Object(a.h)("th",null,"Time in"),Object(a.h)("th",null,"Time out"),Object(a.h)("th",null,"Time used"),Object(a.h)("th",null,"Avg speed"),Object(a.h)("th",null,"Dogs in"))),Object(a.h)("tbody",null,y&&y.map((e,s)=>{const n=parseInt(e.bib,10);let i=n?d.getMusherByBibId(n):null;i=i||{};const o=w.find(t=>t.bib===parseInt(e.bib,10)),l=x.find(t=>t.bib===parseInt(e.bib,10)),h=k.find(t=>t.bib===parseInt(e.bib,10)),b=C&&C.find(t=>t.bib===parseInt(e.bib,10));let u,p=0;return b&&e&&(u=r.a.deltaSec(b.timestamp,e.timestamp),p=j.distanceFromPrev/(u/3600)),Object(a.h)(t,null,Object(a.h)("tr",null,Object(a.h)("td",{class:"text-center"},s+1),Object(a.h)("td",null,Object(a.h)("div",{class:"d-flex flex-nowrap"},Object(a.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:`background-color: ${r.a.getRankingColor(s+1)}; width: 45px;`},e.bib),Object(a.h)("div",null,Object(a.h)("nobr",null,i.flag," ",i.lastname)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(o.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(a.h)("td",{class:"text-center"},l&&Object(a.h)(t,null,Object(a.h)("nobr",null,r.a.formatDate(l.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),h&&Object(a.h)(t,null,Object(a.h)("nobr",{class:"text-danger"},Object(a.h)("i",{class:"fas fa-times"}),r.a.formatDate(h.timestamp,{locale:m,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.secToHms(u,!0)))),Object(a.h)("td",{class:"text-center"},!j.isStartLine&&Object(a.h)(t,null,Object(a.h)("nobr",null,c.a.format(p||0,1)," ",Object(a.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(a.h)("td",{class:"text-center"},e.dogs)))}))))))))}})||n;e.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=63.chunk.ec9f3.esm.js.map