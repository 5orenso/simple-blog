(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),c=(s("Utv1"),s("/eY4"));const l={};let i=Object(c.a)(r=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(n.h)("div",{ref:t=>this.container=t}," ")}})||r;e.a=i},"3UPq":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV"),l=s("nHdA"),i=s("irB3"),h=(s("UwwE"),s("8Lgr")),d=(s("QkTp"),s("ZOvn"));const u=[0,6];let b=Object(n.a)(a=class extends o.Component{constructor(...t){super(...t),this.chooseDay=t=>{const{year:e,month:s,day:a}=this.state,{chooseDayFunction:o=(()=>{})}=this.props,r=t.target.parentElement.dataset.day||t.target.dataset.day,n=t.target.parentElement.dataset.month||t.target.dataset.month,c=t.target.parentElement.dataset.year||t.target.dataset.year;this.setState(c===e&&n===s&&r===a?{year:null,month:null,day:null}:{year:c,month:n,day:r}),o({day:r,month:n,year:c})}}async loadWorkoutSummary(t=this.props){if(this.setState({isLoading:!0}),t.skipLoadSummary)return!1;const{userStore:e,workoutStore:s}=this.props.stores,{currentTeam:a}=s,o=(new Date).getMonth()+1,{month:n=o,year:c=r.a.getYear(),team:l=a,dog:i={}}=t;i&&i.id?(await e.getWorkoutSummary({dog:i.id,year:c}),await e.getWorkoutSummaryDay({month:n,year:c,dog:i.id})):(await e.getWorkoutSummary({team:l,dog:i.id,year:c}),await e.getWorkoutSummaryDay({month:n,year:c,team:l,dog:i.id})),this.setState({isLoading:!1})}componentDidMount(){this.loadWorkoutSummary()}componentWillReceiveProps(t){t.month===this.props.month&&t.year===this.props.year&&t.dog===this.props.dog&&t.team===this.props.team||this.loadWorkoutSummary(t)}render(){const{appState:e,userStore:s,workoutPlanStore:a}=this.props.stores,{user:n}=s,{language:b="en"}=n,m=d.a.getDays(b),p=d.a.getMonths(b),{day:g,month:O,year:f}=this.state,{darkmode:j}=e,w=(new Date).getDate(),k=(new Date).getMonth()+1,v=(new Date).getFullYear(),{month:y=k,year:x=v,dog:S,basehref:D,hideSummary:T,hideTable:C}=this.props,I=parseInt(y<8?x-1:x,10),P=parseInt(y,10),W=parseInt(x,10),{month:L,year:M}=d.a.getNextMonth(P,W),{month:$,year:z}=d.a.getPrevMonth(P,W),U=(r.a.getDaysInMonth(y,x),r.a.getWeeksInMonth(y,x)),R=r.a.getDaysInWeek(U[0].week,x,y);let A=0,Y=0,E=0,B=0,J=[],q=0;return Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},Object(o.h)("a",{href:`${D||"/workouts/month/"}${L}/${M}/skipScroll`,class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(o.h)("i",{class:"fas fa-arrow-right"})),Object(o.h)("a",{href:`${D||"/workouts/month/"}${$}/${z}/skipScroll`,class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(o.h)("i",{class:"fas fa-arrow-left"})),Object(o.h)("h3",null,Object(o.h)(c.c,{id:"workout.calendar.month"},"Måned")," - ",p[y-1]," ",x),Object(o.h)("h5",{class:"text-muted font-weight-light"},Object(o.h)(c.c,{id:"workout.plan.season"},"Sesongen")," ",I," - ",I+1),S&&Object(o.h)("div",null,S.name)),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},!C&&Object(o.h)(t,null,Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(c.c,{id:"workout.calendar.week"},"Uke"))),R.map(t=>Object(o.h)("th",null,Object(o.h)("small",null,m[t.getDay()]))),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(c.c,{id:"workout.calendar.sum"},"Sum"))))),Object(o.h)("tbody",null,U&&U.map(t=>{const e=r.a.getDaysInWeek(t.week,x,y),n=a.findWorkoutPlanSummaryWeek(parseInt(x,10),t.week)||{};let c=0;return Object(o.h)("tr",null,Object(o.h)("td",{class:"text-right text-muted pt-3"},Object(o.h)("small",null,Object(o.h)("a",{href:`/workouts/week/${t.week}/${x}`,class:"text-muted"},t.week))),e.map(t=>{const e=s.findWorkoutSummaryWeekDay(t.getFullYear(),t.getMonth()+1,t.getDate(),P)||{},r=a.findWorkoutPlanSummaryDay(t.getFullYear(),t.getMonth()+1,t.getDate(),P)||{};e&&e.distanceKm&&(c+=e.distanceKm,A+=e.distanceKm,Y+=e.count,E+=e.elevation,B+=e.duration,J.push(e.speedAvg)),r&&r.distance&&(q+=r.distance);const n=g==t.getDate()&&O==t.getMonth()+1&&f===t.getFullYear(),l=w==t.getDate()&&k==t.getMonth()+1&&v==t.getFullYear(),i=u.indexOf(t.getDay())>-1;return Object(o.h)("td",{class:`text-center font-weight-light position-relative pt-3 pb-3 ${n?"calendarIsChosen":""} ${l?"calendarIsToday":""} ${i?"calendarIsWeekend":""}`,style:"font-size: 0.8em;",onClick:this.chooseDay,"data-day":t.getDate(),"data-month":t.getMonth()+1,"data-year":x},Object(o.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),e&&e.distanceKm?Object(o.h)("div",{class:"rounded-pill w-100 px-1",style:`background-color: ${d.a.getTrainingColor(e,j)};`},Object(o.h)(h.a,{stores:this.props.stores,value:e.distanceKm}),e.count>1&&Object(o.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},e.count)):"-",r.distance>0&&Object(o.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.9em;"},Object(o.h)(h.a,{stores:this.props.stores,value:r.distance})))}),Object(o.h)("td",{class:"text-right pt-3 pb-3 position-relative",style:"font-size: 0.8em;"},Object(o.h)(h.a,{stores:this.props.stores,value:c}),n.distance>0&&Object(o.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.9em;"},Object(o.h)(h.a,{stores:this.props.stores,value:n.distance}))))})),Object(o.h)("tfoot",null,Object(o.h)("tr",null,Object(o.h)("td",{colspan:"8",class:"text-right"},Object(o.h)(c.c,{id:"workout.calendar.totalKm"},"Totalt km")),Object(o.h)("td",{class:"text-right text-muted pb-3 position-relative"},Object(o.h)(h.a,{stores:this.props.stores,value:A}),q>0&&Object(o.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.8em;"},Object(o.h)(h.a,{stores:this.props.stores,value:q}))))))),!T&&Object(o.h)(t,null,Object(o.h)("h5",{class:"mt-4"},Object(o.h)(c.c,{id:"workout.calendar.summary"},"Oppsummering")," - ",p[y-1]," ",x),S&&Object(o.h)("div",null,S.name),Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("tbody",null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-muted"},Object(o.h)(c.c,{id:"workout.calendar.totalWorkouts"},"Antall økter")),Object(o.h)("td",{class:"text-right"},Y)),Object(o.h)("tr",null,Object(o.h)("td",{class:"text-muted"},Object(o.h)(c.c,{id:"workout.calendar.distance"},"Distanse")),Object(o.h)("td",{class:"text-right"},Object(o.h)(h.a,{stores:this.props.stores,value:A}))),Object(o.h)("tr",null,Object(o.h)("td",{class:"text-muted"},Object(o.h)(c.c,{id:"workout.calendar.ascend"},"Høydemeter")),Object(o.h)("td",{class:"text-right"},Object(o.h)(i.a,{stores:this.props.stores,value:E}))),Object(o.h)("tr",null,Object(o.h)("td",{class:"text-muted"},Object(o.h)(c.c,{id:"workout.calendar.duration"},"Varighet")),Object(o.h)("td",{class:"text-right"},r.a.secToHms(B))),Object(o.h)("tr",null,Object(o.h)("td",{class:"text-muted"},Object(o.h)(c.c,{id:"workout.calendar.avg-speed"},"Gjennomsnittsfart")),Object(o.h)("td",{class:"text-right"},Object(o.h)(l.a,{stores:this.props.stores,value:d.a.avgArr(J)}))))))))}})||a;e.a=b}).call(this,s("hosL").Fragment)},"6POc":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var r,n=s("hosL"),c=s("Utv1"),l=s("/eY4"),i=s("OhSV"),h=s("ZOvn"),d=s("JWe/"),u=s("3UPq"),b=s("pJjI");const m=h.a.marginTop(!0),p=h.a.marginBottom(),g=h.a.subMenuMarginTop(),O=["","Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],f={isLoading:!1};let j=Object(l.a)(r=class extends n.Component{constructor(t){var e;super(t),e=this,this.loadWorkouts=async function(){e.setState({isLoading:!0});const{workoutStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s}}),await e.loadWorkoutSummary(),e.setState({isLoading:!1})},this.loadDogs=async function(){const{dogStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s},addData:["workoutSummary"]})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},f)}async loadTracks(){const{trackStore:t}=this.props.stores;await t.load()}async loadWorkoutSummary(t=this.props){const{userStore:e,workoutStore:s}=this.props.stores,{currentTeam:a}=s,{month:o,year:r}=t;await e.getWorkoutSummary({team:a}),await e.getWorkoutSummaryDay({month:o,year:r,team:a})}componentDidMount(){this.loadWorkouts()}componentWillReceiveProps(t){t.month!==this.props.month&&this.loadWorkoutSummary(t)}render(){const{userStore:t,workoutStore:e,appState:s}=this.props.stores,{darkmode:a}=s,{currentTeam:o}=e,{month:r,year:l=c.a.getYear()}=this.props,{workoutsDay:h}=t;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${p}; margin-top: ${m};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${g}; background-color: ${a?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(i.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(i.c,{id:"workout.index.list"},"Liste")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-calendar-alt"})," ",Object(n.h)(i.c,{id:"workout.index.plan"},"Plan"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(b.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+o})),Object(n.h)(u.a,{stores:this.props.stores,month:r,year:l,team:o}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(n.h)("h5",null,Object(n.h)(i.c,{id:"workouts.month-workouts",fields:{month:O[r],year:l}},"Treningsturene - ",O[r]," ",l))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},h&&h.map(t=>Object(n.h)(d.a,{stores:this.props.stores,workout:t,showDate:!0})))))}})||r;e.default=j},"JWe/":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function c(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,i=s("hosL"),h=s("Utv1"),d=s("/eY4"),u=s("cneo"),b=s("OhSV"),m=s("fh8t"),p=s.n(m),g=(s("UJvz"),s("sqi2")),O=s("/922"),f=s("s4FZ"),j=s("ZQlJ"),w=s("q/oJ"),k=s("gWxU"),v=s("Nanz"),y=s("+JSK"),x=s("vY+r"),S=s("nHdA"),D=s("irB3"),T=s("UwwE"),C=s("8Lgr"),I=s("QkTp"),P=s("ZOvn");const W=P.a.getMaxLoadIndex(),L={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let M=Object(d.a)(l=class extends i.Component{constructor(t){var e;super(t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.likeWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=e.props,a=s.id,{likeWorkout:o}=e.state;o[a]=!0,e.setState({likeWorkout:o}),setTimeout(()=>{const{likeWorkout:t}=e.state;delete t[a],e.setState({likeWorkout:t})},1200);await t.likeWorkout({id:a})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[e]=s,this.setState({viewImageIdx:a})},this.shareLink=t=>{const{url:e,title:s,text:a}=t.target.closest("button").dataset,{appState:o}=this.props.stores;o.shareUrl({url:e,title:s,text:a})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=o({},L),this.updateTimer={},this.inputRef={}}render(){const{showDate:e,showAddComment:s,viewImageIdx:a={},likeWorkout:r,dogs:l,showTeam:d,showDog:m}=this.state,{workout:L,showDate:M,wrapperClasses:$="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:z="row"}=this.props,{userStore:U,appState:R,workoutStore:A}=this.props.stores,{viewmode:Y,hasShareApi:E}=R,{user:B,dogs:J}=U,{language:q="en"}=B,N=U.findIntensity({code:L.intensity,language:q})||{},F=U.findTeam(L.team,!0)||{},K=F.name,V=[];K&&V.push(K),L.teams&&L.teams.forEach(t=>{U.findTeam(t)&&V.push(U.findTeam(t))});const{likes:G=[],comments:H=[]}=L,Z=L.likes&&L.likes.findIndex(t=>t.user===B.id)>-1,{gpxInfo:Q={},mushers:_=[]}=L,{loadIndex:X=0}=Q,tt=U.findEquipment({equipment:L.equipment,language:q}),et=U.findEquipment({equipment:L.equipment,field:"icon"}),st=[];_.length>1&&_.slice(1,10).map(t=>{const e=A.findPublicUser(t)||{};e.images&&e.images[0]&&st.push(e.images[0])});const at=A.findPublicUser(_[0])||{};let ot;at&&at.images&&at.images[0]?ot=at.images[0]:F.image&&F.image.s3SmallLink?ot=F.image:F.images&&F.images[0]&&F.images[0].s3SmallLink?ot=F.images[0]:L.image&&L.image.s3SmallLink&&(ot=L.image);const rt=[];if(L.mapImage&&rt.push(o(o({},L.mapImage),{},{type:"map"})),L.images){const t=Object(u.i)(L.images);rt.push(...t)}let nt;L&&L.gpxInfo&&L.gpxInfo.battegryLevelStart&&(nt=100*(L.gpxInfo.battegryLevelStart-L.gpxInfo.battegryLevelEnd));const ct=P.a.getViews(L.statistics);return Object(i.h)(t,null,d&&Object(i.h)(w.a,null,Object(i.h)(k.default,{stores:this.props.stores,teamid:d,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),m&&Object(i.h)(w.a,null,Object(i.h)(v.default,{stores:this.props.stores,dogid:m,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:l})),Object(i.h)("div",{class:"w-100 mb-2"},Object(i.h)("div",{class:z},Object(i.h)("div",{class:$+" d-flex mb-0 position-relative"},Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+n(L),style:(ot?`background-image: url("${ot.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!ot&&Object(i.h)("i",{class:`${c(L)} text-${N.class?N.class:"muted"} mt-3`,style:"font-size: 40px;"}),st&&st.map((e,s)=>Object(i.h)(t,null,Object(i.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${e.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==L.temperature&&Object(i.h)(t,null,Object(i.h)("span",{class:"text-muted font-weight-light"},Object(i.h)(I.a,{stores:this.props.stores,value:L.temperature})))),Object(i.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(i.h)("span",{class:"float-right"},1===L.isLocked&&Object(i.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===L.isInProgress&&Object(i.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===L.isInProgress&&Object(i.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(i.h)("a",{class:"stretched-link",href:"/workouts/"+L.id},Object(i.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},L.name)),V&&V.length>0&&Object(i.h)("small",{class:"font-weight-lighter"},V.map((e,s)=>Object(i.h)(t,null,s>0?", ":"",e))),Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},L.date&&Object(i.h)("small",{onClick:this.toggleDate},M||e?h.a.formatDate(L.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance(L.date,new Date,{locale:"no-NB"})),Object(i.h)("span",{class:`badge badge-${N.class} ml-2`},N.name),X>0&&Object(i.h)("span",{class:"ml-2 text-"+P.a.getLoadIndexColor(h.a.normalizeBetween(X,0,W,0,100))},Object(i.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(h.a.normalizeBetween(X,0,W,0,100))," - ",P.a.getLoadIndexText(h.a.normalizeBetween(X,0,W,0,100))),Object(i.h)("br",null)),Object(i.h)("small",null,Object(i.h)("div",{class:"text-muted"},L.garminId>0&&Object(i.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),L.stravaId>0&&Object(i.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),L.equipment>0&&Object(i.h)(t,null,Object(i.h)("i",{class:et+" ml-2"})," ",tt),L.dogs>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",L.dogs.length),L.track>0&&Object(i.h)(t,null,Object(i.h)("i",{class:`fas fa-map-marked text-${L.track>0?"success":"danger"} ml-2`})),L.dogsLeft>0&&Object(i.h)(t,null,Object(i.h)("i",{class:`fas fa-crosshairs text-${L.dogsLeft&&L.dogsRight?"success":"danger"} ml-2`})),L.sledWeight>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:L.sledWeight})),nt>0&&Object(i.h)("span",{class:"text-muted ml-2"},Object(i.h)("i",{class:"fas fa-battery-three-quarters"})," ",h.a.format(nt,1),"% ",Object(i.h)(b.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(Y)>-1&&Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-balance-scale"})," ",h.a.format(L.kcalBurnedTotal)," ",Object(i.h)(b.c,{id:"workout.kcal"},"kcal"),Object(i.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:L.kcalMeatGramsTotal/1e3}),Object(i.h)("i",{class:"fas fa-fish ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:L.kcalSalmonGramsTotal/1e3}),Object(i.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:L.kcalFatGramsTotal/1e3}))))),Object(i.h)("div",{class:$+" position-relative mt-2"},Object(i.h)("strong",null,L.description)),Object(i.h)("div",{class:$+" position-relative"},Object(i.h)(p.a,{markdown:P.a.replaceImages(L.comment,L.images,q),markdownOpts:P.a.getMarkdownOptions()})),Object(i.h)("div",{class:$+" d-flex mb-0 position-relative"},Object(i.h)("div",{class:"container-fluid px-0"},Object(i.h)("div",{class:"row mt-1"},L.distanceKm>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(b.c,{id:"workout.calendar.distance"},"Distanse"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(C.a,{stores:this.props.stores,value:L.distanceKm}))),L.elevation>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(b.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(D.a,{stores:this.props.stores,value:L.elevation}))),L.duration>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(b.c,{id:"workout.calendar.duration"},"Varighet"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},h.a.secToHms(L.duration,!0))),L.speedAvg>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(b.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},L.gpxInfo&&L.gpxInfo.avgGpsMovingSpeed>0?Object(i.h)(t,null,Object(i.h)(S.a,{stores:this.props.stores,value:3.6*L.gpxInfo.avgGpsMovingSpeed})):Object(i.h)(t,null,Object(i.h)(S.a,{stores:this.props.stores,value:L.speedAvg}))))))),["beta","advanced","normal"].indexOf(Y)>-1&&Object(i.h)("div",{class:""+$},Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row"},Object(i.h)(f.a,{stores:this.props.stores,images:rt,id:L.id,dblClick:this.likeWorkout,likeRef:r})))),["beta","advanced","normal"].indexOf(Y)>-1&&Object(i.h)(t,null,L.dogs&&L.dogs.length>0&&Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row pt-2"},Object(i.h)(j.a,{stores:this.props.stores,dogs:L.dogs,allDogs:J,onDogClick:this.onDogClick}))),Object(i.h)("div",{class:"mt-2"},Object(i.h)(y.a,{stores:this.props.stores,likes:G,comments:H,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(Y)>-1&&Object(i.h)(t,null,Object(i.h)("div",{class:$+" mb-0 position-relative mt-2"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:`btn btn-sm btn-outline-${Z?"primary":"secondary"} btn-lg btn-block ${Z?"text-primary":""}`,onClick:this.likeWorkout},Object(i.h)("i",{class:(Z?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(i.h)(b.c,{id:"comments.like"},"Lik"))),Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":L.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," ",Object(i.h)(b.c,{id:"comments.comment-add"},"Kommentar"))),E?Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+L.uuidv4,"data-title":"title: "+L.name},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(b.c,{id:"workout.share"},"Del")))):Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+L.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(b.c,{id:"workout.share"},"Del")))))),Object(i.h)("div",{class:$+" mt-2 mb-3"},s&&Object(i.h)(O.a,{stores:this.props.stores,workout:L,inputRef:t=>this.inputRef[L.id]=t,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(i.h)(g.a,{stores:this.props.stores,workout:L,col:"10",offset:"2",compact:!0})),ct>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"mt-2"},Object(i.h)(x.a,{stores:this.props.stores,views:ct,object:L,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||l;e.a=M}).call(this,s("hosL").Fragment)},UJvz:function(t,e,s){"use strict";var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV");let l=Object(n.a)(a=class extends o.Component{constructor(...t){super(...t),this.toggleDate=()=>{const{showDate:t}=this.state;this.setState({showDate:!t})},this.touchStart=t=>{t.stopPropagation(),this.setState({startY:t.touches[0].pageY})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=t=>{t.stopPropagation();const{close:e}=this.props,{startY:s,refreshing:a}=this.state,o=t.touches[0].pageY;if(this.appContainer){const{scrollTop:t}=this.appContainer;0===t&&o>s+30&&!a&&e()}}}render(){const{showDate:t}=this.state,{image:e,imagexxl:s,close:a,thumb:n,name:l,title:i,date:h}=this.props;return Object(o.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(o.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:a},"X"),Object(o.h)("div",{class:"d-flex mb-2 px-2"},n&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:n?`background-image: url("${n}");`:""}," "),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},l&&Object(o.h)("strong",{class:"mr-2"},l,":"),i,Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},h&&Object(o.h)("small",{onClick:this.toggleDate},t?r.a.formatDate(h,{locale:"no-NB"}):r.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(o.h)("img",{src:e,class:"img-fluid align-middle mt-2 mb-2",onClick:a,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:t=>this.appContainer=t}),Object(o.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||e,download:s||e},Object(o.h)("i",{class:"fas fa-download"})," ",Object(o.h)(c.c,{id:"modal.download"},"Last ned bildet")))}})||a;e.a=l},ZQlJ:function(t,e,s){"use strict";var a,o=s("hosL"),r=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("NDEG"));let c=Object(r.a)(a=class extends o.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,a=e/s,o=Math.round(a),r=Math.abs(o-a);(Number.isInteger(a)||r<.1)&&this.setState({imageIdx:o})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,a=s.find(e=>e.id===t),o=s.find(t=>t.id===e);return a&&o&&a.name>o.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:a=(()=>{})}=this.props;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(r=>{const c=e.find(t=>t.id===r);return c?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(o.h)(n.a,{stores:this.props.stores,dog:c,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:a}))):""})))}})||a;e.a=c},pJjI:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV");s("/DnB");let l=Object(n.a)(a=class extends o.Component{constructor(...t){super(...t),this.toggleTeam=t=>{const{callback:e,unsetTeamIfSelected:s=!0}=this.props,{dogStore:a,workoutStore:o}=this.props.stores,{currentTeam:n}=a;s&&t===n?(a.setCurrentTeam(void 0),o.setCurrentTeam(void 0)):(a.setCurrentTeam(t),o.setCurrentTeam(t)),r.a.isDefined(e)&&e()},this.showAllTeams=()=>{const{callback:t}=this.props,{dogStore:e,workoutStore:s}=this.props.stores;e.setCurrentTeam(void 0),s.setCurrentTeam(void 0),r.a.isDefined(t)&&t()}}render(){const{userStore:e,dogStore:s}=this.props.stores,{teams:a}=e,{currentTeam:r}=s,{highlight:n,showAll:l=!0}=this.props;return Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"w-100 overflow-hidden"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},a&&a.map((e,s)=>Object(o.h)("div",{class:"col mb-0 px-0 clearfix",key:e.id},Object(o.h)("button",{class:`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===a.length?"rounded-pill-right":""}\n\t\t\t\t\t\t\t\t\t\t${r===e.id?"btn-success":"btn-outline-success"}\n\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:()=>this.toggleTeam(e.id)},Object(o.h)("i",{class:"fas fa-users"})," ",e.name,n&&n.indexOf(e.id)>-1&&Object(o.h)(t,null,r===e.id?Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-check float-right"})):Object(o.h)(t,null,Object(o.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(o.h)("span",{class:"sr-only"},"Loading...")),Object(o.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))))))),l&&Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(o.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(o.h)("i",{class:"fas fa-users"})," ",Object(o.h)(c.c,{id:"teams.show-all"},"Show all"))))))}})||a;e.a=l}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=57.chunk.e5436.esm.js.map