(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"8Lgr":function(t,e,s){"use strict";(function(t){function n(t){return l.a.format(t,t<5?2:1)}var r,a=s("hosL"),l=s("Utv1"),c=s("/eY4"),i=(s("OhSV"),s("ZOvn"),Object(c.a)(r=function(e){function s(){return e.apply(this,arguments)||this}var r,l;return l=e,(r=s).prototype=Object.create(l.prototype),r.prototype.constructor=r,r.__proto__=l,s.prototype.render=function(){var e=this.props,s=e.value,r=void 0===s?0:s,l=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,n(function(t){return.621371*t}(r))," ",l?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(t,null,"mi"))):Object(a.h)(t,null,Object(a.h)("nobr",null,n(r)," ",l?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(t,null,"km")))},s}(a.Component))||r);e.a=i}).call(this,s("hosL").Fragment)},"Gx/q":function(t,e,s){"use strict";(function(t){var n,r=s("hosL"),a=s("Utv1"),l=s("/eY4"),c=(s("OhSV"),s("nHdA")),i=s("irB3"),o=(s("UwwE"),s("8Lgr")),u=(s("QkTp"),s("ZOvn")),h=Object(l.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).removeUser=function(t){return new Promise((function(e,n){var r,a,l;return a=t.target.dataset.email,l=t.target.dataset.team,!(r=t.target.dataset.id)&&t.target.parentNode&&(r=t.target.parentNode.dataset.id,a=t.target.parentNode.dataset.email,l=t.target.parentNode.dataset.team),console.log("id, email, team",r,a,l),Promise.resolve(s.props.stores.teamStore.removeMember(l,{id:r,email:a})).then((function(){try{return e()}catch(t){return n(t)}}),n)}))},s.adminUpdateUser=function(t){var e=t.target.closest("input").dataset.email+"-"+t.target.name;clearTimeout(s.updateTimer[e]),s.updateTimer[e]=setTimeout((function(){s.doAdminUpdateUser(t)}),500)},s.doAdminUpdateUser=function(t){return new Promise((function(e,n){var r,a,l;return a=t.target.closest("input").dataset.email,l=t.target,Promise.resolve(s.props.stores.userStore.adminUpdateUser(a,(r={},r[l.name]=l.value,r))).then((function(){try{return e()}catch(t){return n(t)}}),n)}))},s.simulateUser=function(t){var e=t.target.closest("button").dataset.email;s.props.stores.userStore.getSimulateUser(e)},s.state={},s.updateTimer={},s}var n,l;return l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,s.prototype.render=function(){var e=this.props,s=e.user,n=e.team,l=void 0===n?{}:n,h=this.props.stores,b=h.userStore,m=h.teamStore,p=b.user,O=b.isAdmin,d=b.findTeams(s.teams),j=m.findMusherSummary(s.id,l.id)||{},f=l.user===p.id,v=u.a.getImage({user:s,team:l}),g=u.a.displayName(s);return Object(r.h)("div",{class:"w-100 mb-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded",style:v?"background-image: url('"+v+"'); background-size: cover;":""},!v&&Object(r.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(r.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(r.h)("h5",null,g),Object(r.h)("div",null,Object(r.h)("small",{class:"text-muted"},Object(r.h)("div",{class:"d-flex justify-content-left"},s.cellphone&&Object(r.h)("div",{class:"mr-2"},Object(r.h)("i",{class:"fas fa-mobile-alt"})," ",s.cellphone),s.email&&Object(r.h)("div",{class:"mr-2"},Object(r.h)("i",{class:"fas fa-envelope ml-3"})," ",s.email),s.url&&Object(r.h)("div",{class:"mr-2"},Object(r.h)("a",{href:u.a.asUrl(s.url),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fas fa-link"}))),s.facebook&&Object(r.h)("div",{class:"mr-2"},Object(r.h)("a",{href:u.a.asFacebookLink(s.facebook),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook"}))),s.instagram&&Object(r.h)("div",{class:"mr-2"},Object(r.h)("a",{href:u.a.asInstagramLink(s.instagram),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"}))),s.snapchat&&Object(r.h)("div",{class:"mr-2"},Object(r.h)("a",{href:u.a.asSnapchatLink(s.snapchat),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-snapchat"})))))),O&&Object(r.h)(t,null,Object(r.h)("button",{class:"btn btn-block btn-success",onClick:this.simulateUser,"data-email":s.email},"Simulate user"),Object(r.h)("small",null,Object(r.h)("details",null,Object(r.h)("summary",null,"settings"),Object(r.h)("xmp",null,JSON.stringify(s.settings,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"subscription"),Object(r.h)("xmp",null,JSON.stringify(s.subscription,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"deviceInfo"),Object(r.h)("xmp",null,JSON.stringify(s.deviceInfo,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"subscription"),Object(r.h)("xmp",null,JSON.stringify(s.subscription,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"notifications"),Object(r.h)("xmp",null,JSON.stringify(s.notifications,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"notificationTopics"),Object(r.h)("xmp",null,JSON.stringify(s.notificationTopics,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"applications"),Object(r.h)("xmp",null,JSON.stringify(s.applications,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"shadowTags"),Object(r.h)("xmp",null,JSON.stringify(s.shadowTags,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"garmin"),Object(r.h)("xmp",null,JSON.stringify(s.garmin,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"strava"),Object(r.h)("xmp",null,JSON.stringify(s.strava,null,4))),Object(r.h)("details",null,Object(r.h)("summary",null,"currentLocationGeocode"),Object(r.h)("xmp",null,JSON.stringify(s.currentLocationGeocode,null,4))),"lastActivityEpoch: ",a.a.isoDate(s.lastActivityEpoch),Object(r.h)("br",null),"activities: ",a.a.format(s.activities),Object(r.h)("br",null),Object(r.h)("div",{class:"form-check"},Object(r.h)("input",{class:"form-check-input",type:"checkbox",value:s.settings.veterinaryAllowed?0:1,id:"settings.veterinaryAllowed-"+s.id,name:"settings.veterinaryAllowed",checked:s.settings.veterinaryAllowed?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(r.h)("label",{class:"form-check-label",for:"settings.veterinaryAllowed-"+s.id},"settings.veterinaryAllowed")),Object(r.h)("div",{class:"form-check"},Object(r.h)("input",{class:"form-check-input",type:"checkbox",value:s.twoFactorLogin?0:1,id:"twoFactorLogin-"+s.id,name:"twoFactorLogin",checked:s.twoFactorLogin?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(r.h)("label",{class:"form-check-label",for:"twoFactorLogin-"+s.id},"twoFactorLogin")),Object(r.h)("div",{class:"form-check"},Object(r.h)("input",{class:"form-check-input",type:"checkbox",value:s.isVeterinary?0:1,id:"isVeterinary-"+s.id,name:"isVeterinary",checked:s.isVeterinary?"checked":"","data-email":s.email,onInput:this.adminUpdateUser}),Object(r.h)("label",{class:"form-check-label",for:"isVeterinary-"+s.id},"isVeterinary")),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{class:"col-sm-2 col-form-label",for:"cellphone-"+s.id},"cellphone"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",id:"cellphone-"+s.id,name:"cellphone",class:"form-control",value:s.cellphone,"data-email":s.email,onInput:this.adminUpdateUser}))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{class:"col-sm-2 col-form-label",for:"firstname-"+s.id},"firstname"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",id:"firstname-"+s.id,name:"firstname",class:"form-control",value:s.firstname,"data-email":s.email,onInput:this.adminUpdateUser}))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{class:"col-sm-2 col-form-label",for:"lastname-"+s.id},"lastname"),Object(r.h)("div",{class:"col-sm-10"},Object(r.h)("input",{type:"text",id:"lastname-"+s.id,name:"lastname",class:"form-control",value:s.lastname,"data-email":s.email,onInput:this.adminUpdateUser}))))),s.teams&&Object(r.h)(t,null,d.map((function(t){return Object(r.h)("span",{class:"badge badge-pill badge-info mr-2"},t.name)})),Object(r.h)("br",null)),l.id&&j&&Object(r.h)(t,null,Object(r.h)("small",{class:"text-muted"},"Total:",j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-road"})," ",Object(r.h)(o.a,{stores:this.props.stores,value:j.distanceKm})),j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-mountain"})," ",Object(r.h)(i.a,{stores:this.props.stores,value:j.elevation})),j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-clock"})," ",a.a.secToHms(j.duration||0))),Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},"Avg:",j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-road"})," ",Object(r.h)(o.a,{stores:this.props.stores,value:j.avgDistance})),j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-mountain"})," ",Object(r.h)(i.a,{stores:this.props.stores,value:j.avgElevation})),j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-clock"})," ",a.a.secToHms(j.avgDuration||0)),j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(r.h)(c.a,{stores:this.props.stores,value:j.speedAvg})),j&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-dog"})," ",a.a.format(j.avgDogs,1))))),Object(r.h)("div",null,f&&s.id!==p.id&&Object(r.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":s.email,"data-id":s.id,"data-team":l.id},Object(r.h)("i",{class:"fas fa-ban"})),!f&&s.id===p.id&&Object(r.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":s.email,"data-id":s.id,"data-team":l.id},Object(r.h)("i",{class:"fas fa-sign-out-alt"}),l.id)))))},s}(r.Component))||n;e.a=h}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var n,r=s("hosL"),a=s("Utv1"),l=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(l.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,l;return l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,l=this.props.stores.userStore.user.settings;return(void 0===l?{}:l).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(function(t){return 9*t/5+32}(n),0),"°F")):Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(n,1),"°C"))},s}(r.Component))||n);e.a=c}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var n,r=s("hosL"),a=s("Utv1"),l=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(l.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,l;return l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,l=this.props.stores.userStore.user.settings;return(void 0===l?{}:l).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(function(t){return 2.20462*t}(n),0)," lb")):Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(n,0)," kg"))},s}(r.Component))||n);e.a=c}).call(this,s("hosL").Fragment)},XPU5:function(t,e,s){"use strict";var n,r=s("hosL"),a=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("go65"),i=Object(a.a)(n=function(t){function e(){for(var e,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).inviteKennel=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.inviteKennel({email:e.state.friendEmail})).then((function(n){try{return e.setState({response:n,inviteSent:!0}),t()}catch(t){return s(t)}}),s)}))},e.inviteNew=function(){e.setState({inviteSent:!1})},e.hideInvite=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideInvite":1})).then((function(){try{return e.setState({hideInvite:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,n;return n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,e.prototype.render=function(){var t=this.state,e=this.props.forceShow,s=this.props.stores.userStore.user.settings;return!e&&(void 0===s?{}:s).hideInvite||t.hideInvite?"":t.inviteSent?Object(r.h)("div",{class:"col-12"},Object(r.h)(l.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til å bli flere 😃"),Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(r.h)(l.c,{id:"users.invite.more"},"Invitere flere"))):Object(r.h)("div",{class:"col-12 pb-4 clearfix"},Object(r.h)("h5",null,Object(r.h)(l.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(r.h)("p",null,Object(r.h)(l.c,{id:"users.invite.text"},"Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.")),Object(r.h)("div",null,Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-auto"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(r.h)(l.c,{id:"users.invite.email"},"E-post")),Object(r.h)(l.b,null,Object(r.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(r.h)(l.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(c.a)(this,"friendEmail")}))),Object(r.h)("div",{class:"col-auto"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(r.h)(l.c,{id:"users.invite.send"},"Send invitasjon"))))),!e&&Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(r.h)("i",{class:"fas fa-eye-slash"})," ",Object(r.h)(l.c,{id:"users.invite.hide"},"Skjul")))},e}(r.Component))||n;e.a=i},irB3:function(t,e,s){"use strict";(function(t){var n,r=s("hosL"),a=s("Utv1"),l=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(l.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,l;return l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,l=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(function(t){return 3.28084*t}(n),0)," ",l?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(r.h)(t,null,"ft"))):Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(n,0)," ",l?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"m")))):Object(r.h)(t,null,"m")))},s}(r.Component))||n);e.a=c}).call(this,s("hosL").Fragment)},k91x:function(t,e,s){"use strict";s.r(e);var n,r=s("hosL"),a=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("go65"),i=s("ZOvn"),o=s("tJLP"),u=s("Cjoz"),h=s("XPU5"),b=s("Gx/q"),m=i.a.marginTop(!1),p=i.a.marginBottom(),O=Object(a.a)(n=function(t){function e(e){var s;return(s=t.call(this,e)||this).search=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.userStore.searchUsers({search:s.state.searchText})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.state={time:Date.now(),count:10},s}var s,n;n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n;var a=e.prototype;return a.componentDidMount=function(){this.props.verifyEmailToken&&this.props.stores.userStore.verifyEmail({token:this.props.verifyEmailToken})},a.render=function(){var t=this,e=this.props.stores.userStore,s=e.emailMessage,n=e.emailError,a=e.emailMessageIcon,i=e.emailErrorIcon,O=e.searchUsersResult;return Object(r.h)("div",{class:"container-fluid",style:"margin-bottom: "+p+"; margin-top: "+m+";"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12"},Object(r.h)(o.a,{message:n,icon:i,remove:this.resetEmailError}),Object(r.h)(u.a,{message:s,icon:a,remove:this.resetEmailMessage}),Object(r.h)("h5",null,Object(r.h)(l.c,{id:"users.connect.title"},"Finn dine venner")),Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-auto w-75"},Object(r.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(r.h)(l.c,{id:"users.connect.search"},"Søk")),Object(r.h)(l.b,null,Object(r.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(r.h)(l.c,{id:"users.connect.search-placeholder"},"Søk etter venner og bekjente"),onInput:Object(c.a)(this,"searchText")}))),Object(r.h)("div",{class:"col-auto"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.search},Object(r.h)(l.c,{id:"users.connect.doSearch"},"Søk"))))),Object(r.h)("div",{class:"col-12 mt-3"},O&&O.map((function(e){return Object(r.h)(b.a,{stores:t.props.stores,user:e})}))),Object(r.h)(h.a,{stores:this.props.stores,forceShow:1})))},e}(r.Component))||n;e.default=O},nHdA:function(t,e,s){"use strict";(function(t){var n,r=s("hosL"),a=s("Utv1"),l=s("/eY4"),c=s("OhSV"),i=(s("ZOvn"),Object(l.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,l;return l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,l=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(function(t){return.621371*t}(n),1)," ",l?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},Object(r.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(r.h)(t,null,Object(r.h)(c.c,{id:"workouts.mph"},"mph")))):Object(r.h)(t,null,Object(r.h)("nobr",null,a.a.format(n,1)," ",l?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},Object(r.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(r.h)(t,null,Object(r.h)(c.c,{id:"workouts.kmt"},"km/t"))))},s}(r.Component))||n);e.a=i}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=51.chunk.762f6.js.map