{"version":3,"sources":["webpack:///./components/dog/miniViewGraph.js","webpack:///./routes/dogs/publicDetail.js","webpack:///./components/imageScroller/index.js"],"names":["MiniViewGraph","observer","render","this","props","legendLeft","legendRight","dataLeft","dataRight","showDebug","xTicksVal","val","util","isoDate","xTicksCnt","yTicksLeftVal","yTicksRightVal","firstData","xTicks","length","partSize","Math","ceil","parts","floor","console","log","i","l","push","epoch","class","stores","width","height","showXTicks","paddingTop","lineFromXzero","lineFromXmax","showYTicksLeft","avgWindowLeft","smoothLeft","showYTicksRight","avgWindowRight","smoothRight","scrollToRight","Component","MARGIN_TOP","mu","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","initialState","newTeam","DogsDetail","back","history","goBack","nextDog","dogs","state","nextDogIdx","uuidv4","loadPublicDog","dogid","prevDog","prevDogIdx","updateTimer","time","Date","getTime","apiServer","getApiServer","loadPublicView","setState","isLoading","dogStore","getPublicViews","loadAll","currentDogIdx","prevDogName","nextDogName","hasPrevDog","hasNextDog","loadPublicDetail","id","publicDog","findIndex","e","shortname","name","componentDidMount","appState","setSwipeRight","componentWillReceiveProps","nextProps","userStore","user","isAdmin","language","dogPublicTeam","publicTeam","publicViewsGraphData","isTeamAdmin","members","some","m","imageHeader","image","headerImage","s3XXLargeLink","teamImage","s3LargeLink","dogPosition","findTeamAmbition","ambition","ambitions","findTeamType","type","findDogposition","position","hasBirthday","birth","daysUntilBirthday","daysUntilNextBirthday","style","onClick","age","deceased","gender","icon","weight","format","markdown","replaceImages","description","images","markdownOpts","getMarkdownOptions","fields","total","achievements","map","file","date","url","href","asUrl","target","rel","native","trophys","reverse","img","getTrophyImage","textHeader","descriptionHeader","text","src","key","hasImage","isObject","ImageScroller","scrollImages","imageIdx","scrollLeft","clientWidth","nearestInt","round","diff","abs","Number","isInteger","distance","event","hypot","touches","pageX","pageY","pinchZoomOnTouchStart","preventDefault","stopPropagation","start","x","y","pinchZoomOnTouchMove","imageElementScale","imageElementMaxScale","scale","min","max","transform","transition","WebkitTransform","zIndex","pinchZoomOnTouchEnd","dblClick","likeRef","noimagestext","minHeight","onScroll","filter","onDblclick","data-id","onTouchstart","onTouchend","onTouchmove","s3SmallLink","updatedDate","loading","idx"],"mappings":"sLAUMA,EADLC,Y,kLAEGC,OAAA,WAAS,MAWDC,KAAKC,MAXJ,IAEDC,kBAFC,MAEY,GAFZ,MAGDC,mBAHC,MAGa,GAHb,MAIDC,gBAJC,MAIU,GAJV,MAKDC,iBALC,MAKW,GALX,EAMDC,EANC,EAMDA,UANC,IAODC,iBAPC,MAOW,SAAAC,GAAG,OAAIC,IAAKC,QAAQF,GAAK,GAAO,GAAO,IAPlD,MAQDG,UARC,IASDC,qBATC,MASe,SAAAJ,GAAG,OAAIA,GATtB,MAUDK,sBAVC,MAUgB,SAAAL,GAAG,OAAIA,GAVvB,EAaCM,EAAYV,GAAYA,EAAS,GAAKA,EAAS,GAAK,GACpDW,EAAS,GACf,GAAID,EAAUE,OAAQ,CAClB,IAAMC,EAAWC,KAAKC,KAAKL,EAAUE,cAhBpC,MAQW,EARX,GAgB0D,IACrDI,EAAQF,KAAKG,MAAMP,EAAUE,OAASC,GACxCX,GACAgB,QAAQC,IAAI,CAAET,YAAWM,QAAOH,aAEpC,IAAK,IAAIO,EAAI,EAAGC,EAAIX,EAAUE,OAAQQ,EAAIC,EAAGD,GAAKP,EAC9CF,EAAOW,KAAKZ,EAAUU,GAAGG,OAE7BZ,EAAOW,KAAKZ,EAAUA,EAAUE,OAAS,GAAGW,OAEhD,OACI,mBACI,mBAAKC,MAAM,mBAGP,YAAC,IAAD,CACIC,OAAQ7B,KAAKC,MAAM4B,OACnBC,MAAO,IACPC,OAAQ,IACRC,WAAY,EACZzB,UAAWA,EACXQ,OAAQA,EACRkB,WAAY,GACZC,eAAe,EACfC,cAAc,EAGd/B,SAAUA,EACVF,WAAYA,EAGZkC,eAAgB,EAGhBxB,cAAeA,EACfyB,cAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAClCC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG/BjC,UAAWA,EACXF,YAAaA,EAGboC,gBAAiBlC,EAAUW,OAAS,EAAI,EAAI,EAG5CH,eAAgBA,EAChB2B,eAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnCC,YAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEhCC,eAAe,O,GAnEXC,e,EA6Eb9C,Q,ijBC9ET+C,EAAaC,IAAGC,WAAU,GAC1BC,EAAkBF,IAAGG,eAAc,GACnCC,EAAgBJ,IAAGK,eAKnBC,EAAe,CACjBC,QAAS,IAIPC,EADLvD,Y,cAEG,WAAYG,GAAO,aACf,cAAMA,IAAN,MAyDJqD,KAAO,WACiB,EAAKrD,MAAM4B,OAAvB0B,QACAC,UA5DO,EA+DnBC,QAAU,WAAM,MAEkB,EAAKxD,MAFvB,IAEJyD,YAFI,MAEG,GAFH,EAIND,EAAUC,EAHO,EAAKC,MAApBC,YAIJH,GAAWA,EAAQI,QACnB,EAAKC,cAAc,CACfjC,OAPI,EAEOA,OAMX6B,OACAK,MAAON,EAAQI,UAxER,EA6EnBG,QAAU,WAAM,MAEkB,EAAK/D,MAFvB,IAEJyD,YAFI,MAEG,GAFH,EAINM,EAAUN,EAHO,EAAKC,MAApBM,YAIJD,GAAWA,EAAQH,QACnB,EAAKC,cAAc,CACfjC,OAPI,EAEOA,OAMX6B,OACAK,MAAOC,EAAQH,UApFvB,EAAKF,M,+VAAL,IACOR,GAEP,EAAKe,YAAc,GACnB,EAAKC,MAAO,IAAIC,MAAOC,UACvB,EAAKC,UAAY7D,IAAK8D,eAPP,E,0HAUbC,eAAN,SAAqBvE,GAArB,iCAII,OAHND,KAAKyE,SAAS,CAAEC,WAAW,IAGrB,gBADe1E,KAAKC,MAAM4B,OAAxB8C,SACaC,eAFG3E,EAAV8D,QAER,KAAoC,sBAC1C/D,KAAKyE,SAAS,CAAEC,WAAW,IADe,0CAJxC,a,EAQMG,QAAN,SAAc5E,GAAd,iCACI,YADJ,IAAcA,MAAQD,KAAKC,OACvB,gBAAMD,KAAK8D,cAAc7D,IAAzB,KAA+B,eAC/B,uBAAMD,KAAKwE,eAAevE,IAA1B,MAAgC,qDADD,sCADnC,a,EAKM6D,cAAN,SAAoB7D,GAApB,+CAMU6E,EACFb,EACAL,EACAmB,EACAC,EACAC,EACAC,EATJ,YAHJ,IAAoBjF,MAAQD,KAAKC,OAC3B0E,EAAa1E,EAAM4B,OAAnB8C,SACajB,OAFnB,UAEiCzD,GAAdyD,MAAO,GAF1B,EAGI,gBAAMiB,EAASQ,iBAAiB,CAAEC,GAHtC,EAEYrB,SACR,KAA8C,sBAE5CsB,EAAcV,EAAdU,UACIP,EAAgBpB,EAAK4B,WAAU,SAAAC,GAAC,OAAIA,EAAEH,KAAOC,EAAUD,MACzDnB,EAAa,KACbL,EAAa,KACbmB,EAAc,KACdC,EAAc,KACdC,GAAa,EACbC,GAAa,EACbJ,EAAgB,IAEhBC,EAAcrB,EADdO,EAAaa,EAAgB,GACEU,WAAa9B,EAAKO,GAAYwB,KAC7DR,GAAa,GAEbH,EAAgBpB,EAAK1C,OAAS,IAE9BgE,EAActB,EADdE,EAAakB,EAAgB,GACEU,WAAa9B,EAAKE,GAAY6B,KAC7DP,GAAa,GAEjBlF,KAAKyE,SAAS,CACVR,aACAc,cACAnB,aACAoB,cACAC,aACAC,aACAJ,kBA3B0C,0CAHlD,a,EAoEHY,kBAAA,WAAoB,MACgB1F,KAAKC,MAA1BqD,YADK,MACEtD,KAAKsD,KADP,EAELqC,EAAa3F,KAAKC,MAAM4B,OAAxB8D,SACRA,EAASC,eAAc,WACnBD,EAASC,gBACTtC,OAEJtD,KAAK6E,W,EAGTgB,0BAAA,SAA0BC,GAElBA,EAAU/B,QAAU/D,KAAKC,MAAM8D,OAC/B/D,KAAK6E,QAAQiB,I,EAIxB/F,OAAA,WAAS,MAC2DC,KAAK2D,MAA1DsB,EADN,EACMA,WAAYC,EADlB,EACkBA,WADlB,EAEmClF,KAAKC,MAAM4B,OAAnC8C,EAFX,EAEWA,SAAUoB,EAFrB,EAEqBA,UACfC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAHZ,EAI0BD,EAApBE,gBAJN,MAIiB,KAJjB,EAMAb,EAAuFV,EAAvFU,UAAuBc,EAAgExB,EAA5EyB,WAA2BC,EAAiD1B,EAAjD0B,qBAClCC,KAAeH,IAAiBA,EAAcI,UAAWJ,EAAcI,QAAQC,MAAK,SAAAC,GAAC,OAAIA,EAAErB,KAAOY,EAAKZ,MAGvGgB,EAAaD,GAAiB,GAVlC,EAW0DnG,KAAKC,MAAzD6C,EAXN,EAWMA,UAAWI,EAXjB,EAWiBA,aAXjB,IAW+BI,YAX/B,MAWsCtD,KAAKsD,KAX3C,EAgBkBoD,EAAgBN,EAAhBM,YACZC,EAAUtB,EAAVsB,MAEFC,EAAcF,GAAeA,EAAYG,cAAgBH,EAP1C,CACjBG,cAAe,kCAObC,EAAYH,GAASA,EAAMI,YAAcJ,EAAQ,KAIjDK,GAHejB,EAAUkB,iBAAiB,CAAEC,SAAUd,EAAWe,UAAWjB,aACjEH,EAAUqB,aAAa,CAAEC,KAAMjB,EAAWiB,KAAMnB,aAE7CH,EAAUuB,gBAAgB,CAAEC,SAAUlC,EAAUkC,SAAUrB,cACxEsB,EAAc3E,IAAG2E,YAAYnC,EAAUoC,OACvCC,EAAoBxG,KAAKC,KAAK0B,IAAG8E,sBAAsBtC,EAAUoC,QAE7E,OAAQ,mBACP,mBAAK7F,MAAM,uBAAuBgG,MAAK,mBAAoB1E,GAAgBD,GAApC,kBAAkEH,GAAaF,GAA/E,KAC1B,sBAAQhB,MAAM,2CACVgG,MAAK,QAAU7E,EAAV,8CACL8E,QAASvE,GACT,iBAAG1B,MAAM,8BAEb,mBAAKA,MAAM,YACP,mBAAKA,MAAM,0BACPgG,MAAK,iIAAkIhB,EAAc,0BAA0BA,EAAYC,cAAzC,MAA8D,MAEnO,mBAAKjF,MAAM,kEACQ,mBAAKA,MAAM,OACP,mBAAKA,MAAM,sDACP,mBACIA,MAAK,4IACLgG,MAAK,gBAAiBd,EAAY,0BAA0BA,EAAUC,YAAvC,0FAA8I,MAE3KD,GAAa,iBAAGlF,MAAM,+BAA+BgG,MAAM,sBALrE,KASA,mBAAKhG,MAAM,mCAAmCgG,MAAM,uBAChD,qBAAOhG,MAAM,qBACRwE,EAAWX,MACR,uBACPJ,EAAUoC,OAAS,mBAChB,kBAAI7F,MAAM,eACL8F,EAAoB,GAAK,mBACtB,oBAAM9F,MAAM,mBACR,iBAAGA,MAAM,yBADb,OAC2C8F,EAD3C,UAIHrC,EAAUoC,OAAS,oBAAM7F,MAAM,QAAQnB,IAAKqH,IAAIzC,EAAUoC,MAAOpC,EAAU0C,WACtD,WAArB1C,EAAU2C,OAAsB,iBAAGpG,MAAM,iBAAoB,iBAAGA,MAAM,kBAG/E,kBAAIA,MAAM,QACLyD,EAAUG,WAAaH,EAAUI,KACjC+B,GAAe,mBACZ,iBAAG5F,MAAM,gCAGhByD,EAAUG,WAAa,uBACnBH,EAAUI,MAEduB,GAAeA,EAAYpF,OAAS,mBACjC,oBAAMA,MAAK,gBAAiBoF,EAAYpF,OAAS,WAAtC,SAAyDoF,EAAYiB,MAAQ,iBAAGrG,MAAOoF,EAAYiB,OAA9G,IAAyHjB,EAAYvB,OAExIJ,EAAU6C,OAAS,GAAK,qBAAOtG,MAAM,cACjCyD,EAAU6C,QAAU,mBAAE,iBAAGtG,MAAM,8BAAX,IAA2CnB,IAAK0H,OAAO9C,EAAU6C,OAAQ,GAAzE,YAOrD,mBAAKtG,MAAM,YACK,mBAAKA,MAAM,6DACP,kBAAIA,MAAM,gDAA+C,YAAC,IAAD,CAAMwD,GAAG,oBAAT,iBAE7D,mBAAKxD,MAAM,6DACP,YAAC,IAAD,CAAUwG,SAAUvF,IAAGwF,cAAchD,EAAUiD,YAAajD,EAAUkD,OAAQrC,GAAWsC,aAAc3F,IAAG4F,yBAI7HpD,EAAUkD,QAAU,mBAAK3G,MAAM,YAChB,mBAAKA,MAAM,6DACP,kBAAIA,MAAM,gDAA+C,YAAC,IAAD,CAAMwD,GAAG,qBAAqBsD,OAAQ,CAAEC,MAAOtD,EAAUkD,OAAOvH,SAAhE,sBAA8FqE,EAAUkD,OAAOvH,OAA/G,UAE7D,mBAAKY,MAAK,gFACN,YAAC,IAAD,CAAeC,OAAQ7B,KAAKC,MAAM4B,OAAQ0G,OAAQlD,EAAUkD,WAInElD,EAAUuD,cAAgB,mBAAKhH,MAAM,YAClC,mBAAKA,MAAM,6DACP,kBAAIA,MAAM,gDAA+C,YAAC,IAAD,CAAMwD,GAAG,qBAAT,kBAE7D,mBAAKxD,MAAK,2EACN,mBAAKA,MAAM,OACNyD,EAAUuD,cAAgBvD,EAAUuD,aAAaC,KAAI,SAAAC,GAClD,OACI,mBAAKlH,MAAM,UACNkH,EAAKC,MAAQ,oBAAMnH,MAAM,4BAA4BnB,IAAKC,QAAQoI,EAAKC,MAAM,GAAO,GAAO,IAC5F,oBAAMnH,MAAM,yBAAyBkH,EAAKrD,MAC1C,oBAAM7D,MAAM,0BAA0BkH,EAAKR,aAC1CQ,EAAKE,KAAO,oBAAMpH,MAAM,QAAO,iBAAGqH,KAAMpG,IAAGqG,MAAMJ,EAAKE,KAAMG,OAAO,SAASC,IAAI,aAAaC,QAAM,GAAC,iBAAGzH,MAAM,yBAQjJyD,EAAUiE,SAAW,mBAAK1H,MAAM,YACjB,mBAAKA,MAAM,6DACP,kBAAIA,MAAM,gDAA+C,YAAC,IAAD,CAAMwD,GAAG,eAAT,aAE7D,mBAAKxD,MAAK,2EACN,mBAAKA,MAAM,OACNyD,EAAUiE,SAAWjE,EAAUiE,QAAQC,UAAUV,KAAI,SAAAC,GAClD,IAAMU,EAAM3G,IAAG4G,eAAeX,EAAKrD,MACnC,IAAK+D,EACD,MAAO,GAEX,IAAME,EAAaZ,EAAKa,mBAAqBb,EAAKa,kBAAkBzD,GAAY4C,EAAKa,kBAAkBzD,GAAY,GAC7G0D,EAAOd,EAAKR,aAAeQ,EAAKR,YAAYpC,GAAY4C,EAAKR,YAAYpC,GAAY,GAC3F,OACI,mBAAKtE,MAAM,cACP,mBAAKA,MAAM,QACP,mBAAKiI,IAAKL,EAAK5H,MAAM,eAEzB,0BAAS8H,GAIT,yBACI,2BACI,2BAAS,YAAC,IAAD,CAAMtE,GAAG,uBAAT,YACT,YAAC,IAAD,CAAUgD,SAAUvF,IAAGwF,cAAcuB,EAAMvE,EAAUkD,OAAQrC,GAAWsC,aAAc3F,IAAG4F,gCAUrI,mBAAK7G,MAAM,iBACK,mBAAKA,MAAM,6DACP,mBAAKA,MAAM,0BACP,mBAAKA,MAAM,aACP,iBAAGA,MAAM,uBAEb,mBAAKgG,MAAM,uBACP,yBACI,YAAC,IAAD,CAAMxC,GAAG,0BAAT,+EAOlBa,GAAWK,IAAgB,mBACzB,kBAAI1E,MAAM,gDAA+C,YAAC,IAAD,CAAMwD,GAAG,eAAT,oBACzD,YAAC,IAAD,CAAevD,OAAQ7B,KAAKC,MAAM4B,OAC9BzB,SAAUiG,EACVnG,WAAY,CAAC,OACb4J,IAAG,iBAAmBzE,EAAUxB,UAIvCqB,GAAc,oBAAMtD,MAAM,4BAA4BgG,MAAM,sFACzD,iBAAGhG,MAAM,4BAA4BiG,QAAS7H,KAAKyD,WAEtDwB,GAAc,oBAAMrD,MAAM,4BAA4BgG,MAAM,wEACzD,iBAAGhG,MAAM,2BAA2BiG,QAAS7H,KAAKgE,WAGrDqB,EAAUxB,QAAU,mBAAKgG,IAAQ7J,KAAKsE,UAAV,aAAgCe,EAAUxB,OAA1C,cAA8DmC,EAAKZ,GAAnE,SAA8EpF,KAAKmE,KAAQyD,MAAM,0C,GA1SrHjF,e,EAgTVU,a,8EChUf,SAAS0G,EAASP,GACd,OAAQ/I,IAAKuJ,SAASR,IAAQA,EAAIzC,Y,0CAKhCkD,G,UADLnK,Y,cAEG,WAAYG,GAAO,aACf,cAAMA,IAAN,MASJiK,aAAe,SAAC3E,GAAM,MAS+BA,EAAE4D,OAE7CgB,EAXY,EASVC,WATU,EASeC,YAK3BC,EAAapJ,KAAKqJ,MAAMJ,GACxBK,EAAOtJ,KAAKuJ,IAAIH,EAAaH,IAE/BO,OAAOC,UAAUR,IAAaK,EAAO,KACrC,EAAK/F,SAAS,CACV0F,SAAUG,KA7BH,EAkCnBM,SAAW,SAACC,GACR,OAAO3J,KAAK4J,MAAMD,EAAME,QAAQ,GAAGC,MAAQH,EAAME,QAAQ,GAAGC,MAAOH,EAAME,QAAQ,GAAGE,MAAQJ,EAAME,QAAQ,GAAGE,QAnC9F,EAsCnBC,sBAAwB,SAACL,GAErB,GAA6B,IAAzBA,EAAME,QAAQ/J,OAAc,CAC5B6J,EAAMM,iBACNN,EAAMO,kBAGN,IAAMC,EAAQ,GACdA,EAAMC,GAAKT,EAAME,QAAQ,GAAGC,MAAQH,EAAME,QAAQ,GAAGC,OAAS,EAC9DK,EAAME,GAAKV,EAAME,QAAQ,GAAGE,MAAQJ,EAAME,QAAQ,GAAGE,OAAS,EAC9DI,EAAMT,SAAW,EAAKA,SAASC,GAC/B,EAAKpG,SAAS,CAAE4G,YAjDL,EAqDnBG,qBAAuB,SAACX,GAAU,MAEoB,EAAKlH,MAAjD8H,EAFwB,EAExBA,kBAAmBC,EAFK,EAELA,qBACjBL,EAAU,EAAK1H,MAAf0H,MACR,GAA6B,IAAzBR,EAAME,QAAQ/J,OAAc,CAG5B,IAAI2K,EAIJ,GANAd,EAAMM,iBACNN,EAAMO,kBAKFP,EAAMc,MACNA,EAAQd,EAAMc,WAGdA,EADkB,EAAKf,SAASC,GACRQ,EAAMT,SAGlCa,EAAoBvK,KAAK0K,IAAI1K,KAAK2K,IAAI,EAAGF,GAAQD,GACjD,EAAKjH,SAAS,CAAEgH,sBAAqB,WAEjC,IAIMK,EAAY,eAJmE,IAAnEjB,EAAME,QAAQ,GAAGC,MAAQH,EAAME,QAAQ,GAAGC,OAAS,EAAKK,EAAMC,GAIjE,OAHsE,IAAnET,EAAME,QAAQ,GAAGE,MAAQJ,EAAME,QAAQ,GAAGE,OAAS,EAAKI,EAAME,GAGjE,gBAAqDE,EAArD,IACfZ,EAAM1B,OAAOvB,MAAMmE,WAAa,GAChClB,EAAM1B,OAAOvB,MAAMkE,UAAYA,EAC/BjB,EAAM1B,OAAOvB,MAAMoE,gBAAkBF,EACrCjB,EAAM1B,OAAOvB,MAAMqE,OAAS,cAlFrB,EA0FnBC,oBAAsB,SAACrB,GAGnB,EAAKpG,SAAS,CAAEgH,kBAAmB,IACnCZ,EAAM1B,OAAOvB,MAAMmE,WAAa,kBAChClB,EAAM1B,OAAOvB,MAAMkE,UAAY,GAC/BjB,EAAM1B,OAAOvB,MAAMoE,gBAAkB,GACrCnB,EAAM1B,OAAOvB,MAAMqE,OAAS,IA/F5B,EAAKtI,MAAQ,CACTwG,SAAU,EACVsB,kBAAmB,EACnBC,qBAAsB,EACtBL,MAAO,IANI,E,kHAsGnBtL,OAAA,WAAS,aACmCC,KAAK2D,MAArCwG,EADH,EACGA,SAAUsB,EADb,EACaA,kBADb,EAEwFzL,KAAKC,MAA1FsI,EAFH,EAEGA,OAAQnD,EAFX,EAEWA,GAFX,IAEe+G,gBAFf,MAE0B,aAF1B,MAEoCC,eAFpC,MAE8C,GAF9C,EAEkDC,EAFlD,EAEkDA,aAFlD,IAEgEC,iBAFhE,MAE4E,QAF5E,EAIL,OAAK/D,GAA4B,IAAlBA,EAAOvH,OAiBlB,mBAAKY,MAAM,2BACP,mBACIA,MAAM,6EACNgG,MAAK,0CACa6D,EAAoB,GAAuB,IAAlBlD,EAAOvH,OAAe,qBAAuB,QADnF,2CAEayK,EAAoB,EAAI,qBAAuB,QAF5D,kFAKLc,SAAUvM,KAAKkK,cAEd3B,GAAUA,EAAOiE,OAAOzC,GAAUlB,KAAI,SAACW,GAAD,OACnC,mBAAK5H,MAAM,uBACP,mBACIA,MAAK,wHACLgG,MAAK,0JAKL6E,WAAYN,EACZO,UAAStH,EACTuH,aAAc,SAACpH,GAAQA,EAAE6F,mBACzBwB,WAAY,SAACrH,GAAQA,EAAE6F,mBACvByB,YAAa,SAACtH,GAAQA,EAAE6F,oBAExB,mBACIxJ,MAAM,gCACNgG,MAAK,oEACwB4B,EAAIsD,YAD5B,0LAORtD,EAAIzC,YAAc,mBACfnF,MAAM,8BACNiI,IAAQL,EAAIzC,aAAcyC,EAAIuD,YAAJ,YAAiCvD,EAAIuD,YAAiB,IAChFC,QAAQ,OACRpF,MAAK,iCAAmC0E,EAAnC,KAELK,aAAc,EAAKzB,sBACnB0B,WAAY,EAAKV,oBACjBW,YAAa,EAAKrB,uBACjB,mBACD,oBAAM5J,MAAM,wBACR,iBAAGA,MAAM,qBAMpBwK,EAAQhH,IAAO,oBAAMxD,MAAM,mDAAmDgG,MAAM,+EACjF,iBAAGhG,MAAM,iCAKxB2G,GAAUA,EAAOvH,OAAS,GAAK,mBAC5B,mBAAKY,MAAM,qBACP,yBACI,yBACK2G,GAAUA,EAAOiE,OAAOzC,GAAUlB,KAAI,SAACW,EAAKyD,GAAN,OAAc,mBACjD,iBAAGrL,OAAUqL,IAAQ9C,EAAW,MAAQ,OAAhC,2BAKxB,mBACIvI,MAAM,wEACNgG,MAAM,qFAEN,yBAAQuC,EAAW,EAAnB,MAAyB5B,EAAOvH,WAvFxCqL,EACQ,mBACJ,mBAAKzK,MAAM,iCACP,mBAAKA,MAAM,aACP,iBAAGA,MAAM,mBAEb,kBAAIA,MAAM,uBACLyK,KAKV,qB,GAxHS1J,e,GA4MbsH,Q","file":"3.chunk.21b45.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nimport LineGraph from '../../components/lineGraph';\n\n@observer\nclass MiniViewGraph extends Component {\n    render() {\n        const {\n            legendLeft = [],\n            legendRight = [],\n            dataLeft = [],\n            dataRight = [],\n            showDebug,\n            xTicksVal = val => util.isoDate(val, false, false, true),\n            xTicksCnt = 5,\n            yTicksLeftVal = val => val,\n            yTicksRightVal = val => val,\n        } = this.props;\n\n        const firstData = dataLeft && dataLeft[0] ? dataLeft[0] : [];\n        const xTicks = [];\n        if (firstData.length) {\n            const partSize = Math.ceil(firstData.length / (xTicksCnt - 1));\n            const parts = Math.floor(firstData.length / partSize);\n            if (showDebug) {\n                console.log({ firstData, parts, partSize });\n            }\n            for (let i = 0, l = firstData.length; i < l; i += partSize) {\n                xTicks.push(firstData[i].epoch);\n            }\n            xTicks.push(firstData[firstData.length - 1].epoch);\n        }\n        return (\n            <>\n                <div class='w-100 mt-3 mb-4'>\n                    {/* <xmp>graphWorkoutSummaryWeekDistanceCurrent: {JSON.stringify(graphWorkoutSummaryWeekDistanceCurrent, null, 4)}</xmp>\n                    <xmp>graphWorkoutSummaryWeekDistancePrev: {JSON.stringify(graphWorkoutSummaryWeekDistancePrev, null, 4)}</xmp> */}\n                    <LineGraph\n                        stores={this.props.stores}\n                        width={1000}\n                        height={300}\n                        showXTicks={1}\n                        xTicksVal={xTicksVal}\n                        xTicks={xTicks}\n                        paddingTop={30}\n                        lineFromXzero={false}\n                        lineFromXmax={false}\n                        // xTicksLink={'/workouts/week/'}\n\n                        dataLeft={dataLeft}\n                        legendLeft={legendLeft}\n                        // yMaxLeft={30}\n                        // yMinLeft={0}\n                        showYTicksLeft={1}\n                        // yTicksLeftPostfix={'km'}\n                        // unitLeft={['km', 'km', 'km']}\n                        yTicksLeftVal={yTicksLeftVal}\n                        avgWindowLeft={[0, 0, 0, 0, 0, 0, 0]}\n                        smoothLeft={[0, 0, 0, 0, 0, 0, 0]}\n\n\n                        dataRight={dataRight}\n                        legendRight={legendRight}\n                        // dataRight={[graphWorkoutSummaryWeekElevationCurrent, graphWorkoutSummaryWeekElevationPrev]}\n                        // legendRight={[`${seasonStart} ${ascend}`, `${seasonStart - 1} ${ascend}`]}\n                        showYTicksRight={dataRight.length > 0 ? 1 : 0}\n                        // yTicksRightPostfix={'m'}\n                        // unitRight={['m', 'm']}\n                        yTicksRightVal={yTicksRightVal}\n                        avgWindowRight={[0, 0, 0, 0, 0, 0, 0]}\n                        smoothRight={[0, 0, 0, 0, 0, 0, 0]}\n\n                        scrollToRight={true}\n                        // marker={week}\n                    />\n                </div>\n\n            </>\n        );\n    }\n}\n\nexport default MiniViewGraph;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route, Router } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport PubSub, { topics } from '../../lib/pubsub';\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nimport ImageScroller from '../../components/imageScroller';\nimport MiniViewGraph from '../../components/dog/miniViewGraph';\n\nconst initialState = {\n    newTeam: {},\n};\n\n@observer\nclass DogsDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n        this.time = new Date().getTime();\n        this.apiServer = util.getApiServer();\n    }\n\n    async loadPublicView(props) {\n\t\tthis.setState({ isLoading: true });\n        const { dogid } = props;\n\t\tconst { dogStore } = this.props.stores;\n        await dogStore.getPublicViews(dogid);\n\t\tthis.setState({ isLoading: false });\n\t}\n\n    async loadAll(props = this.props) {\n        await this.loadPublicDog(props);\n        await this.loadPublicView(props);\n    }\n\n    async loadPublicDog(props = this.props) {\n\t\tconst { dogStore } = props.stores;\n        const { dogid, dogs = [] } = props;\n        await dogStore.loadPublicDetail({ id: dogid });\n\n\t\tconst { publicDog } = dogStore;\n        const currentDogIdx = dogs.findIndex(e => e.id === publicDog.id);\n        let prevDogIdx = null;\n        let nextDogIdx = null;\n        let prevDogName = null;\n        let nextDogName = null;\n        let hasPrevDog = false;\n        let hasNextDog = false;\n        if (currentDogIdx > 0) {\n            prevDogIdx = currentDogIdx - 1;\n            prevDogName = dogs[prevDogIdx].shortname || dogs[prevDogIdx].name;\n            hasPrevDog = true;\n        }\n        if (currentDogIdx < dogs.length - 1) {\n            nextDogIdx = currentDogIdx + 1;\n            nextDogName = dogs[nextDogIdx].shortname || dogs[nextDogIdx].name;\n            hasNextDog = true;\n        }\n        this.setState({\n            prevDogIdx,\n            prevDogName,\n            nextDogIdx,\n            nextDogName,\n            hasPrevDog,\n            hasNextDog,\n            currentDogIdx,\n        });\n        // console.log({ prevDogIdx, nextDogIdx, hasPrevDog, hasNextDog, currentDogIdx });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n    nextDog = () => {\n        const { nextDogIdx } = this.state;\n        const { dogs = [], stores } = this.props;\n\n        const nextDog = dogs[nextDogIdx];\n        if (nextDog && nextDog.uuidv4) {\n            this.loadPublicDog({\n                stores,\n                dogs,\n                dogid: nextDog.uuidv4, \n            });\n        }\n    }\n\n    prevDog = () => {\n        const { prevDogIdx } = this.state;\n        const { dogs = [], stores } = this.props;\n\n        const prevDog = dogs[prevDogIdx];\n        if (prevDog && prevDog.uuidv4) {\n            this.loadPublicDog({\n                stores,\n                dogs,\n                dogid: prevDog.uuidv4, \n            });\n        }\n    }\n    \n\tcomponentDidMount() {\n        const { back = this.back } = this.props;\n        const { appState } = this.props.stores;\n        appState.setSwipeRight(() => {\n            appState.setSwipeRight();\n            back();\n        });\n        this.loadAll();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.dogid !== this.props.dogid) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n        const { hasPrevDog, hasNextDog, prevDogName, nextDogName } = this.state;\n\t\tconst { teamStore, dogStore, userStore } = this.props.stores;\n        const { user, isAdmin } = userStore;\n        const { language = 'en' } = user;\n\t\tconst { publicTeam: teamPublicTeam } = teamStore;\n\t\tconst { publicDog, publicTeam: dogPublicTeam, publicViewsGraphData, publicViewsGraphLegend } = dogStore;\n        const isTeamAdmin = (dogPublicTeam && dogPublicTeam.members) ? dogPublicTeam.members.some(m => m.id === user.id) : false;\n\n        // const publicTeam = dogPublicTeam || teamPublicTeam;\n        const publicTeam = dogPublicTeam || {};\n        const { marginTop, marginBottom, back = this.back, dogs } = this.props;\n        const defaultImage = {\n            s3XXLargeLink: './assets/homerun-race-logo.png',\n        };\n\n        const { users = [], imageHeader } = publicTeam;\n        const { image } = publicDog;\n\n        const headerImage = imageHeader && imageHeader.s3XXLargeLink ? imageHeader : defaultImage;\n        const teamImage = image && image.s3LargeLink ? image : null;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: publicTeam.ambitions, language });\n        const teamType = userStore.findTeamType({ type: publicTeam.type, language });\n\n        const dogPosition = userStore.findDogposition({ position: publicDog.position, language });\n        const hasBirthday = mu.hasBirthday(publicDog.birth);\n        const daysUntilBirthday = Math.ceil(mu.daysUntilNextBirthday(publicDog.birth));\n\n\t\treturn (<>\n\t\t\t<div class='container-fluid pb-5' style={`margin-bottom: ${marginBottom || MARGIN_BOTTOM}; margin-top: ${marginTop || MARGIN_TOP};`}>\n                <button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 2.0em; width: 43px;`}\n                    onClick={back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n                <div class='row mb-0'>\n                    <div class='w-100 position-relative'\n                        style={`height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; ${headerImage ? `background-image: url(\"${headerImage.s3XXLargeLink}\");` : ''}`}\n                    />\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3'>\n                        <div class='row'>\n                            <div class='col-3 col-sm-4 col-md-3 col-lg-4 position-relative'>\n                                <div\n                                    class={`text-center border border-white rounded-circle position-absolute imageRoundedXLarge imageRoundedResponsive imageRoundedResponsivePosition`}\n                                    style={`left: 20px; ${teamImage ? `background-image: url(\"${teamImage.s3LargeLink}\"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;` : ''}`}\n                                >\n                                    {!teamImage && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                                </div>\n                                &nbsp;\n                            </div>\n                            <div class='col-9 col-sm-8 col-md-9 col-lg-8' style='line-height: 1.2em;'>\n                                <small class='font-weight-light'>\n                                    {publicTeam.name}\n                                </small><br />\n                                {publicDog.birth && <>\n                                    <h5 class='float-right'>\n                                        {daysUntilBirthday < 7 && <>\n                                            <span class='text-muted mr-2'>\n                                                <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                            </span>\n                                        </>}                                \n                                        {publicDog.birth && <span class='mr-2'>{util.age(publicDog.birth, publicDog.deceased)}</span>}\n                                        {publicDog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                                    </h5>\n                                </>}\n                                <h5 class='my-0'>\n                                    {publicDog.shortname || publicDog.name} \n                                    {hasBirthday && <>\n                                        <i class='fas fa-birthday-cake ml-3' />\n                                    </>}\n                                </h5>\n                                {publicDog.shortname && <div>\n                                    {publicDog.name}\n                                </div>}\n                                {dogPosition && dogPosition.class && <>\n                                    <span class={`badge badge-${dogPosition.class || 'primary'} mt-2`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>\n                                </>}\n                                {publicDog.weight > 0 && <small class='text-muted'>\n                                    {publicDog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(publicDog.weight, 1)} kg</>}\n                                </small>}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n\t\t\t\t<div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.description'>Beskrivelse</Text></h5>\n                    </div>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <Markdown markdown={mu.replaceImages(publicDog.description, publicDog.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                    </div>\n                </div>\n\n\t\t\t\t{publicDog.images && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.public-photos' fields={{ total: publicDog.images.length }}>Bilder av hunden - {publicDog.images.length} stk</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0`}>\n                        <ImageScroller stores={this.props.stores} images={publicDog.images} />\n                    </div>\n\t\t\t\t</div>}\n\n                {publicDog.achievements && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.achievements'>Achievements</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {publicDog.achievements && publicDog.achievements.map(file => {\n                                return (\n                                    <div class='col-12'>\n                                        {file.date && <span class='font-weight-lighter mr-2'>{util.isoDate(file.date, false, false, true)}</span>}\n                                        <span class='mr-2 font-weight-bold'>{file.name}</span>\n                                        <span class='mr-2 font-weight-light'>{file.description}</span>\n                                        {file.url && <span class='mr-2'><a href={mu.asUrl(file.url)} target='_blank' rel='noreferrer' native><i class='fas fa-link' /></a></span>}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\t\t\t\t</div>}\n\n\t\t\t\t{publicDog.trophys && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.trophy'>Trophys</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {publicDog.trophys && publicDog.trophys.reverse().map(file => {\n                                const img = mu.getTrophyImage(file.name);\n                                if (!img) {\n                                    return '';\n                                }\n                                const textHeader = file.descriptionHeader && file.descriptionHeader[language] ? file.descriptionHeader[language] : '';\n                                const text = file.description && file.description[language] ? file.description[language] : '';\n                                return (\n                                    <div class='col-4 mt-3'>\n                                        <div class='mb-2'>\n                                            <img src={img} class='img-fluid' />\n                                        </div>\n                                        <strong>{textHeader}</strong>\n                                        {/* <small class='font-weight-lighter mr-2'>\n                                            {util.isoDate(file.createdDate, false, false, true)}\n                                        </small> */}\n                                        <small>\n                                            <details>\n                                                <summary><Text id='dogs.trophy-details'>Details</Text></summary>\n                                                <Markdown markdown={mu.replaceImages(text, publicDog.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </details>\n                                        </small>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\t\t\t\t</div>}\n\n\t\t\t\t<div class='row mt-5 mb-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='text-center text-muted'>\n                            <div class='display-1'>\n                                <i class='fas fa-ellipsis-h' />\n                            </div>\n                            <div style='line-height: 0.9em;'>\n                                <small>\n                                    <Text id='dogs.something-missing'>Er det noe du savner på denne siden? Send oss en melding på Facebook.</Text>\n                                </small>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {(isAdmin || isTeamAdmin) && <>\n                    <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.visits'>Dog page visits</Text></h5>\n                    <MiniViewGraph stores={this.props.stores}\n                        dataLeft={publicViewsGraphData}\n                        legendLeft={['dog']}\n                        key={`minigraph-dog-${publicDog.uuidv4}`}\n                    />\n                </>}\n\n                {hasNextDog && <span class='fixed-bottom text-primary' style='bottom: 60px; left: auto; right: 12px; width: 43px; font-size: 3.0em; z-index: 10;'>\n                    <i class='fas fa-arrow-circle-right' onClick={this.nextDog} />\n                </span>}\n                {hasPrevDog && <span class='fixed-bottom text-primary' style='bottom: 60px; left: 5px; width: 43px; font-size: 3.0em; z-index: 10;'>\n                    <i class='fas fa-arrow-circle-left' onClick={this.prevDog} />\n                </span>}\n\n                {publicDog.uuidv4 && <img src={`${this.apiServer}/api/dogs/${publicDog.uuidv4}/view?user=${user.id}&time=${this.time}`} style='width: 1; height: 1; opacity: 0.1;' />}\n\t\t\t</div>\n\t\t</>);\n\t}\n}\n\nexport default DogsDetail;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nfunction hasImage(img) {\n    return (util.isObject(img) && img.s3LargeLink);\n}\n\n\n@observer\nclass ImageScroller extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageIdx: 0,\n            imageElementScale: 1,\n            imageElementMaxScale: 5,\n            start: {},\n        };\n    }\n\n    scrollImages = (e) => {\n        const { images } = this.props;\n        const totalImages = images.length - 1;\n\n        // scrollHeight: 705\n        // scrollLeft: 564\n        // scrollTop: 0\n        // scrollWidth: 1692\n\n        const { scrollLeft, scrollWidth, clientWidth } = e.target;\n        const imageStep = clientWidth;\n        const imageIdx = scrollLeft / imageStep;\n        // console.log({ e, imageStep, imageIdx, scrollLeft, scrollWidth, clientWidth });\n\n        const nearestInt = Math.round(imageIdx);\n        const diff = Math.abs(nearestInt - imageIdx);\n        // console.log({ nearestInt, diff });\n        if (Number.isInteger(imageIdx) || diff < 0.1) {\n            this.setState({\n                imageIdx: nearestInt,\n            });\n        }\n    }\n\n    distance = (event) => {\n        return Math.hypot(event.touches[0].pageX - event.touches[1].pageX, event.touches[0].pageY - event.touches[1].pageY);\n    }\n\n    pinchZoomOnTouchStart = (event) => {\n        // console.log('touchstart', event);\n        if (event.touches.length === 2) {\n            event.preventDefault(); // Prevent page scroll\n            event.stopPropagation();\n\n            // Calculate where the fingers have started on the X and Y axis\n            const start = {};\n            start.x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n            start.y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n            start.distance = this.distance(event);\n            this.setState({ start });\n        }    \n    }\n\n    pinchZoomOnTouchMove = (event) => {\n        // console.log('touchmove', event);\n        let { imageElementScale, imageElementMaxScale } = this.state;\n        const { start } = this.state;\n        if (event.touches.length === 2) {\n            event.preventDefault(); // Prevent page scroll\n            event.stopPropagation();\n            let scale;\n\n            // Safari provides event.scale as two fingers move on the screen\n            // For other browsers just calculate the scale manually\n            if (event.scale) {\n                scale = event.scale;\n            } else {\n            const deltaDistance = this.distance(event);\n                scale = deltaDistance / start.distance;\n            }\n\n            imageElementScale = Math.min(Math.max(1, scale), imageElementMaxScale);\n            this.setState({ imageElementScale }, () => {\n                // Calculate how much the fingers have moved on the X and Y axis\n                const deltaX = (((event.touches[0].pageX + event.touches[1].pageX) / 2) - start.x) * 2; // x2 for accelarated movement\n                const deltaY = (((event.touches[0].pageY + event.touches[1].pageY) / 2) - start.y) * 2; // x2 for accelarated movement\n\n                // Transform the image to make it grow and move with fingers\n                const transform = `translate3d(${deltaX}px, ${deltaY}px, 0) scale(${imageElementScale})`;\n                event.target.style.transition = '';\n                event.target.style.transform = transform;\n                event.target.style.WebkitTransform = transform;\n                event.target.style.zIndex = '100000';\n                // event.target.style.maxHeight = '';\n                // event.target.style.maxWidth = '';\n            });\n\n        }\n    }\n\n    pinchZoomOnTouchEnd = (event) => {\n        // console.log('touchend', event);\n        // Reset image to it's original format\n        this.setState({ imageElementScale: 1 });\n        event.target.style.transition = 'transform 250ms';\n        event.target.style.transform = '';\n        event.target.style.WebkitTransform = '';\n        event.target.style.zIndex = '';\n        // event.target.style.maxHeight = '75vh';\n        // event.target.style.maxWidth = '100%';\n    }\n\n    render() {\n        const { imageIdx, imageElementScale } = this.state;\n        const { images, id, dblClick = () => {}, likeRef = {}, noimagestext, minHeight = '100px' } = this.props;\n\n        if (!images || images.length === 0) {\n            if (noimagestext) {\n                return (<>            \n                    <div class='col-12 text-center text-muted'>\n                        <div class='display-1'>\n                            <i class='fas fa-camera' />\n                        </div>\n                        <h3 class='font-weight-lighter'>\n                            {noimagestext}\n                        </h3>\n                    </div>\n                </>);\n            }\n            return <></>;\n        }\n\n        return (\n            <div class='w-100 position-relative'>\n                <div\n                    class='d-flex flex-row flex-nowrap bg-light border-top border-bottom no-scrollbar'\n                    style={`\n                        overflow-x: ${imageElementScale > 1 && images.length === 1 ? 'visible !important' : 'auto'};\n                        overflow-y: ${imageElementScale > 1 ? 'visible !important' : 'auto'};\n                        scroll-snap-type: x mandatory;\n                    `}\n                    onScroll={this.scrollImages}\n                >\n                    {images && images.filter(hasImage).map((img, idx) => (\n                        <div class='col-12 clearfix p-0'>\n                            <div\n                                class={`w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center position-relative `}\n                                style={`\n                                    scroll-snap-align: start;\n                                    flex-wrap: wrap;\n                                `}\n                                // overflow: ${imageElementScale > 1 ? 'visible !important' : 'hidden'};\n                                onDblclick={dblClick}\n                                data-id={id}\n                                onTouchstart={(e) => { e.stopPropagation(); }}\n                                onTouchend={(e) => { e.stopPropagation(); }}\n                                onTouchmove={(e) => { e.stopPropagation(); }}\n                            >\t\t\t\t\t\n                                <div\n                                    class='position-absolute w-100 h-100'\n                                    style={`\n                                        background-image: url('${img.s3SmallLink}'); background-size: cover;\n                                        filter: blur(10px);\n                                        opacity: 0.5;\n                                    `}\n                                        // overflow-y: ${imageElementScale > 1 ? 'visible !important' : 'hidden'};\n                                />\n                                {img.s3LargeLink ? <img\n                                    class='img-fluid position-relative'\n                                    src={`${img.s3LargeLink}${img.updatedDate ? `?updated=${`${img.updatedDate}`}`: ''}`}\n                                    loading='lazy'\n                                    style={`max-height: 75vh; min-height: ${minHeight}; ${idx !== imageIdx ? '' : ''}`}\n\n                                    onTouchstart={this.pinchZoomOnTouchStart}\n                                    onTouchend={this.pinchZoomOnTouchEnd}\n                                    onTouchmove={this.pinchZoomOnTouchMove}\n                                /> : <>\n                                    <span class='display-1 text-muted'>\n                                        <i class='fas fa-camera' />\n                                    </span>\n                                </>}\n\n                                {/* <xmp>{JSON.stringify(img, null, 4)}</xmp> */}\n                            </div>\n                            {likeRef[id] && <span class='likeHeart position-absolute text-white display-1' style='top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;'>\n                                <i class='fas fa-heart likeStory' />\n                            </span>}\n                        </div>\n                    ))}\n                </div>\n                {images && images.length > 1 && <>\n                    <div class='w-100 text-center'>\n                        <small>\n                            <small>\n                                {images && images.filter(hasImage).map((img, idx) => <>\n                                    <i class={`${idx === imageIdx ? 'fas' : 'far'} fa-circle mr-1`} />\n                                </>)}\n                            </small>\n                        </small>\n                    </div>\n                    <div\n                        class='position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg'\n                        style='top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;'\n                    >\n                        <small>{imageIdx + 1} / {images.length}</small>\n                    </div>\n                </>}\n\n            </div>\n        );\n    }\n}\n\nexport default ImageScroller;\n"],"sourceRoot":""}