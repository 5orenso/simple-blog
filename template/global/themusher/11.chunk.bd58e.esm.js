(window.webpackJsonp=window.webpackJsonp||[]).push([[11,5,12],{"+JSK":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("OhSV"),h=s("ZOvn");const d={};let m=Object(l.a)(n=class extends i.Component{constructor(t){super(t),this.toggleLikes=()=>{const{showLikesList:t}=this.state;this.setState({showLikesList:!t})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{showLikesList:e}=this.state,{storyStore:s,teamStore:a,workoutStore:o,raceStore:n}=this.props.stores,{likes:l,comments:d,type:m="story",onTeamClick:b=(()=>{}),onUserClick:u=(()=>{})}=this.props;return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},l&&l.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(i.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",l.length),l.slice(0,1).map(e=>{let l,r,d;"story"===m?(l=s.findPublicUser(e.user),r=s.findPublicTeamByMembers(e.user)):"team"===m?(l=a.findPublicUser(e.user),r=a.findPublicTeamByMembers(e.user)):"workout"===m?(l=o.findPublicUser(e.user),r=o.findPublicTeamByMembers(e.user)):"race"===m&&(l=n.findPublicUser(e.user),r=n.findPublicTeamByMembers(e.user)),c.a.isArray(r)&&(d=r.find(t=>1===t.public));h.a.getImage({user:l,team:d,priority:"user"}),h.a.displayNameShort(l);const u=h.a.displayName(l);return Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-lighter"},d?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:t=>b(t,d.uuidv4)},u)):Object(i.h)(t,null,u)))}),l.length>1&&Object(i.h)(t,null,Object(i.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(i.h)(r.c,{id:"likes-comments.and",fields:{total:l.length-1}},"and ",l.length-1," others."))))),d&&d.length>0&&Object(i.h)("span",{class:"float-right text-muted"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",d.length)),e&&Object(i.h)("div",{class:"mt-3 mb-3"},l&&l.map(e=>{let l,r,d;"story"===m?(l=s.findPublicUser(e.user),r=s.findPublicTeamByMembers(e.user)):"team"===m?(l=a.findPublicUser(e.user),r=a.findPublicTeamByMembers(e.user)):"workout"===m?(l=o.findPublicUser(e.user),r=o.findPublicTeamByMembers(e.user)):"race"===m&&(l=n.findPublicUser(e.user),r=n.findPublicTeamByMembers(e.user)),c.a.isArray(r)&&(d=r.find(t=>1===t.public));const u=h.a.getImage({user:l,team:d,priority:"user"}),p=h.a.displayNameShort(l),g=h.a.displayName(l,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},d?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:t=>b(t,d.uuidv4),class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(u?`background-image: url("${u}"); background-size: cover;`:"")},!u&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},p))),Object(i.h)("div",{class:"ml-2 "},g," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",d.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?`background-image: url("${u}"); background-size: cover;`:"")+" opacity: 0.5;"},!u&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},p)),Object(i.h)("div",{class:"ml-2"},g)))})))}})||n;e.a=m}).call(this,s("hosL").Fragment)},"/922":function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),l=s("go65"),r=s("om2D"),h=(s("ETxl"),s("ZOvn"));let d=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentWorkout=async function(){const{sendButtonEnabled:t}=e.state;if(!t)return!1;const{callback:s=(()=>{}),inputRefObject:a={}}=e.props,{workout:o}=e.props,{workoutStore:n}=e.props.stores,{comment:i,showAddImage:c}=e.state;e.setState({sendButtonEnabled:!1});const l=await n.commentWorkout({id:o.id,comment:i});l&&200===l.status&&(e.setState({comment:{body:"",images:[]}},()=>{h.a.resizeTextarea(a[o.id]),c&&e.addImage()}),s({workout:o,response:l})),e.setState({sendButtonEnabled:!0})},this.addImages=({value:t})=>{const{comment:e}=this.state;e.images.push(...t),this.setState({comment:e})},this.addImage=()=>{const{showAddImage:t=!1}=this.state;this.setState({showAddImage:!t})},this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:e,col:s=12,offset:a=0,showAvatar:i=!0,extraClass:d="",workout:m}=this.props,{comment:b,showAddImage:u,sendButtonEnabled:p}=this.state,{userStore:g}=this.props.stores,{user:f={}}=g,O=f.firstname?`${n.a.ucfirst(f.firstname,!0)}${n.a.ucfirst(f.lastname,!0)}`:""+n.a.ucfirst(f.email||"",!0),j=f.image||(f.images?f.images[0]:void 0);return Object(o.h)("div",{class:`col-${s} offset-${a} ${d}`},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},i&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(j?`background-image: url('${j.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!f.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(c.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),onKeyUp:h.a.resizeTextarea,onFocus:h.a.resizeTextarea,style:"height: 2.3em;",value:b.body,ref:e})),Object(o.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-image pointerCursor","data-id":m.id,onClick:this.addImage})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${p?"primary":"secondary"} mb-2`,disabled:!p,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))),u&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},b.images&&b.images.map(t=>Object(o.h)("div",{class:"col-3 p-1"},Object(o.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(o.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(o.h)("i",{class:"fas fa-trash"}),"  ",Object(o.h)(c.c,{id:"comments.remove-image"},"Remove")))))),Object(o.h)(r.a,{object:b,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))}})||a;e.a=d}).call(this,s("hosL").Fragment)},"/DnB":function(t,e,s){"use strict";function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=(s("Utv1"),s("/eY4"));const l={};let r=Object(c.a)(n=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:t=>this.container=t},"Â ")}})||n;e.a=r},"1OK2":function(t,e,s){"use strict";var a,o=s("hosL"),n=(s("Utv1"),s("/eY4"));Object(n.a)(a=class extends o.Component{constructor(t){super(t),this.touchStart=t=>{t.stopPropagation(),this.setState({startX:t.touches[0].pageX})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=t=>{t.stopPropagation();const{totalImages:e}=this.state;if(e>1){const{startX:e,sliding:s}=this.state,a=50,o=t.touches[0].pageX;s||(o>e+a?(this.setState({sliding:!0}),this.prevImage()):o<e-a&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:e=[]}=t;this.state={imageContainer:1,currentImage1:e[0]||{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]}}nextImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state,o=1===a?2:1;let n=s+1;n>e-1&&(n=0),this.setState({["currentImage"+o]:t[n],currentIdx:n,imageContainer:o})}prevImage(){const{images:t}=this.props,{totalImages:e,currentIdx:s,imageContainer:a}=this.state;let o=s-1;o<0&&(o=e-1),this.setState({["currentImage"+(1===a?2:1)]:t[o],currentIdx:o,imageContainer:1===a?2:1})}componentWillReceiveProps(t){if(t.images!==this.props.images){const{images:e=[]}=t;this.setState({imageContainer:1,currentImage1:e.length>0?e[0]:{},currentImage2:{},currentIdx:0,totalImages:e.length||0,imageDots:[...Array(e.length||0).fill(1).map((t,e)=>t+e)]})}}render(){const{currentImage1:t,currentImage2:e,imageContainer:s,totalImages:a,imageDots:n,currentIdx:i}=this.state,c=this["image"+s],l=1===s?t:e,r=c&&c.height?c.width/c.height:4/3;let h,d;if(l.dimensions){const{width:t,height:e,orientation:s}=l.dimensions;s>4&&s<9?(h=t,d=e):(h=e,d=t)}const m=l.dimensions?d/h:r;return a<=0?"":Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${m}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},a>1&&Object(o.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(o.h)("small",null,i+1,"/",a)),t&&Object(o.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image1=t})),e&&Object(o.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:t=>this.image2=t}))),n.length>1&&Object(o.h)("div",{class:"w-100 text-center"},n.map(t=>Object(o.h)("span",{style:`color: ${t===i+1?"#ffffff":"#808080"};`},"â¢"))))}})},"3wGD":function(t,e,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),l=s("go65"),r=(s("ETxl"),s("ZOvn"));let h=Object(i.a)(a=class extends o.Component{constructor(t){var e;super(t),e=this,this.commentWorkout=async function(){const{sendButtonEnabled:t}=e.state;if(!t)return!1;const{callback:s=(()=>{}),commentId:a,inputRefObject:o={}}=e.props,{workout:n}=e.props,{workoutStore:i}=e.props.stores,{comment:c=""}=e.state;e.setState({sendButtonEnabled:!1});const l=await i.commentReplyWorkout({id:n.id,commentId:a,comment:c});l&&200===l.status&&(e.setState({comment:""},()=>{r.a.resizeTextarea(o[a])}),s({workout:n,response:l,commentId:a})),e.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t}=this.props,{comment:e,sendButtonEnabled:s}=this.state,{userStore:a}=this.props.stores,{user:i={}}=a,h=i.firstname?`${n.a.ucfirst(i.firstname,!0)}${n.a.ucfirst(i.lastname,!0)}`:""+n.a.ucfirst(i.email||"",!0),d=i.image||(i.images?i.images[0]:void 0);return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?`background-image: url('${d.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!d&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(c.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:r.a.resizeTextarea,style:"height: 2.3em;",value:e,ref:t})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;e.a=h},"68RK":function(t,e,s){"use strict";var a=s("ivZ3"),o=s("Utv1"),n=s("ZOvn");const i={adit:new a.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new a.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new a.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new a.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new a.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new a.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new a.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new a.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new a.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new a.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new a.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new a.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new a.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new a.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new a.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new a.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new a.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new a.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new a.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new a.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new a.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new a.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new a.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new a.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new a.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new a.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new a.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new a.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new a.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new a.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new a.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new a.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new a.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new a.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new a.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new a.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new a.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new a.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new a.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new a.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new a.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new a.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new a.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new a.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new a.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new a.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new a.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new a.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new a.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new a.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new a.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new a.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new a.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new a.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new a.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new a.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new a.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new a.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new a.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new a.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new a.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new a.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new a.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new a.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new a.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new a.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new a.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new a.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new a.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new a.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new a.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new a.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new a.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new a.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new a.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new a.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new a.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new a.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new a.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new a.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new a.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new a.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new a.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new a.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new a.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new a.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new a.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new a.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new a.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new a.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new a.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new a.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new a.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new a.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new a.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new a.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new a.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new a.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new a.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new a.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new a.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new a.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new a.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new a.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new a.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new a.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new a.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new a.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new a.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new a.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new a.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new a.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new a.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new a.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new a.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new a.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new a.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new a.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new a.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new a.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new a.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new a.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new a.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new a.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new a.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new a.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new a.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new a.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new a.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new a.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new a.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new a.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new a.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new a.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new a.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new a.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new a.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new a.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new a.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new a.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new a.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new a.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new a.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new a.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new a.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new a.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new a.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new a.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new a.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new a.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new a.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new a.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new a.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new a.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new a.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new a.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new a.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new a.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new a.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new a.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new a.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new a.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new a.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new a.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new a.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new a.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new a.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new a.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new a.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new a.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new a.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new a.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=class{static get(t){return i[t]}static list(){return Object.keys(i)}static getDiv({title:t,body:e,color:s,textColor:n="#333333",borderColor:i=0,iconWidth:c=150,iconHeight:l=70}){const r="img-"+o.a.randomPassword();o.a.hsl2Rgb(s,100,60),o.a.hsl2Rgb(100-i,100,50);return new a.DivIcon({iconSize:[c,l+30],iconAnchor:[15,l+30],className:"my-div-icon",html:`<div id='${r}' style='width: ${c}px; height: ${l+30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${r} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${s};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${n}; background-color: ${s}; height: ${l}px;'>\n\t\t\t\t\t<nobr><strong>${t}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${e}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`})}static getRaceMarker({bib:t,speed:e="",bearing:s="",rank:i,flag:c="",image:l,title:r,color:h,textColor:d="#333333",borderColor:m=0,iconWidth:b=180,iconHeight:u=15,iconAnchorX:p=5,iconAnchorY:g=5,imageCirlceRadius:f=10,lineHeight:O="0.9em",fontSize:j="0.9em",paddingTop:v="3px",paddingBottom:w="3px",largeMarkers:k,mapChecked:x,titlePrefix:y=""}){const S="img-"+o.a.randomPassword(),I=(o.a.hsl2Rgb(h,100,60),o.a.hsl2Rgb(100-m,100,50),n.a.getRankingColor(i)),z=/dark/i.test(x);let A=l?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${l}"); background-size: cover; border: 1px ${I} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return A=t||i?`\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: ${I||""}'\n\t\t\t>\n\t\t\t\t${t||i}\n\t\t\t</div>\n\t\t`:A,new a.DivIcon({iconSize:[b,u],iconAnchor:[p,g],className:"my-div-icon",html:p>100?`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='${S}' style='width: ${b}px; height: ${u}px; line-height: ${O}; font-size: ${j};'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${z?"text-white":"text-dark"} pl-3 pr-1 rounded-pill-left rounded-none ${z?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${y} <strong>${r}</strong> ${c}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder ${k?"pr-3 pl-2":"pr-2 pl-1"} rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${I||""}; padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t${A}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: ${f}px; height: ${f}px; background-color: ${I};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t`:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${S}' style='width: ${b}px; height: ${u}px; line-height: ${O}; font-size: ${j};'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${f}px; height: ${f}px; background-color: ${I};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder ${k?"pl-3 pr-2":"pl-2 pr-1"} rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${I||""}; padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t${A}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${z?"text-white":"text-dark"} pr-3 pl-1 rounded-pill-right rounded-none ${z?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${v}; padding-bottom: ${w};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${c} <strong>${r}</strong> ${y}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getDistanceMarker({title:t="",body:e="",textColor:s="#888",borderColor:n=0}){const i="img-"+o.a.randomPassword();return new a.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}static getMarker({bib:t,rank:e,flag:s="",image:i,title:c,color:l="#a0a0a0",textColor:r="#333333",borderColor:h=0,iconWidth:d=250,iconHeight:m=20,iconAnchorX:b=7,iconAnchorY:u=7,imageCirlceRadius:p=10,lineHeight:g="1.0em",fontSize:f="1.0em",paddingTop:O="3px",paddingBottom:j="3px",mapChecked:v}){const w="img-"+o.a.randomPassword(),k=(o.a.hsl2Rgb(l,100,60),o.a.hsl2Rgb(100-h,100,50),n.a.getRankingColor(t||e)||"#808080"),x=/dark/i.test(v);let y=i?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${i}"); background-size: cover; border: 1px ${k} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return y=t||e?`\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center ${k?"":"bg-primary"}' style='background-color: ${k||""}'\n\t\t\t>\n\t\t\t\t${t||e}\n\t\t\t</div>\n\t\t`:y,new a.DivIcon({iconSize:[d,m],iconAnchor:[b,u],className:"my-div-icon",html:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${w}' style='width: ${d}px; height: ${m}px; line-height: ${g}; font-size: ${f};'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${p}px; height: ${p}px; background-color: ${k};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${x?"text-white":"text-dark"} px-3 pl-1 rounded-pill-both rounded-none bg-info overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${O}; padding-bottom: ${j};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>${s} <strong>${c}</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getSmallMarker({title:t="",body:e="",textColor:s="#888",borderColor:n=0}){const i="img-"+o.a.randomPassword();return new a.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>${t}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${e}</span>\n\t\t\t</div>`})}}},"8Lgr":function(t,e,s){"use strict";(function(t){function a(t){return i.a.format(t,t<5?2:1)}var o,n=s("hosL"),i=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(c.a)(o=class extends n.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:i}=o,{settings:c={}}=i;return c.imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a(function(t){return.621371*t}(e))," ",s?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(t,null,"mi"))):Object(n.h)(t,null,Object(n.h)("nobr",null,a(e)," ",s?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(t,null,"km")))}})||o;e.a=l}).call(this,s("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},DTs7:function(t,e,s){"use strict";s.r(e),function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function c(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,r,h,d=s("hosL"),m=s("Utv1"),b=s("/eY4"),u=s("Y3FI"),p=s("OhSV"),g=s("cneo"),f=s("fh8t"),O=s.n(f),j=s("X9Km"),v=s("ZOvn"),w=s("HqZR"),k=(s("1OK2"),s("s4FZ")),x=s("KDoM"),y=s("wLBv"),S=s("YdX6"),I=s("GcMA"),z=s("sqi2"),A=s("/922"),T=s("wanP"),U=s("epqT"),C=s("om2D"),D=s("q/oJ"),$=s("gWxU"),P=s("Nanz"),L=s("+JSK"),M=s("vY+r"),R=s("nHdA"),_=s("irB3"),F=s("UwwE"),E=s("8Lgr"),B=s("QkTp"),H=s("ukv5"),W=s("/DnB");const G=v.a.marginTop(!1),N=v.a.marginTopBack(!1),K=v.a.marginBottom(),V=v.a.getMaxLoadIndex(),Y={newDog:{},submenu:"totals",showAddComment:!1,mapHeight:300,mapMaxHeight:600,reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1};Object(b.a)(l=class extends d.Component{constructor(...t){var e;super(...t),e=this,this.onInputDuration=t=>{const{field:e,updateField:s,workout:a}=this.props,o=parseInt(t.target.value,10),n=t.target.name;let i=Math.floor(a[e]/3600)||0,c=Math.floor(a[e]/3600)||0;n.match(/-hours/)&&(i=o),n.match(/-minutes/)&&(c=o);s({id:a.id,field:e,value:3600*i+60*c})},this.handleImageErrored=t=>{const e=t.target;e.onerror=null,setTimeout(()=>{e.src+="?"+new Date},1e3)},this.removeImage=async function(t){const{workoutStore:s}=e.props.stores,{workout:a}=e.props;s.removeImage({id:a.id,name:t.target.parentElement.dataset.name||t.target.dataset.name})},this.removeMainImage=()=>{const{workout:t,field:e,updateField:s}=this.props;s({id:t.id,field:e,value:{}})},this.setDateToNow=()=>{const{field:t,updateField:e,workout:s}=this.props,a=m.a.isoDate(void 0,!1,!1,!0);e({id:s.id,field:t,value:a})},this.setTimeToNow=()=>{const{field:t,updateField:e,workout:s}=this.props,a=m.a.isoTime();e({id:s.id,field:t,value:a})},this.setValue=t=>{const e=t.target.parentElement.dataset.value||t.target.dataset.value;if(e){const{field:t,updateField:s,workout:a}=this.props;s({id:a.id,field:t,value:e})}},this.setRightValue=()=>{const{field:t,updateField:e,workout:s,rightValueReal:a}=this.props;e({id:s.id,field:t,value:a})}}render(){const{saved:t,workout:e,type:s,datalist:a=[],min:o,max:n,step:i,elementtype:c,field:l,title:r,icon:h,help:b,onInput:u,updateField:f,rightValue:O}=this.props;let j,w,k=Object(g.i)(e[l]),x=n;if("date"===s&&(k&&(k=m.a.isoDate(e[l],!1,!1,!0)),"today"===n&&(x=m.a.isoDate(void 0,!1,!1,!0))),"duration"!==l&&"rest"!==l||(j=m.a.secToHms(k,!0)),"weather"===l&&m.a.checkNested(e,"yr","0","instant","details")){const t=Object(g.i)(e.yr[0].instant.details);m.a.isoDate(e.yr[0].date,!1,!1,!0)===m.a.isoDate(e.date,!1,!1,!0)&&(j=`Yr.no: ð¡ï¸ ${t.air_temperature}Â°C, ð¨ ${t.wind_speed}m/s ð§­ ${v.a.windDirection(t.wind_from_direction)}, âï¸ ${t.cloud_area_fraction}%, ${t.air_pressure_at_sea_level}mb, ð¦ ${t.relative_humidity}%`,w=j)}if("temperature"===l&&m.a.checkNested(e,"yr","0","instant","details")){const t=Object(g.i)(e.yr[0].instant.details);m.a.isoDate(e.yr[0].date,!1,!1,!0)===m.a.isoDate(e.date,!1,!1,!0)&&(j=`Yr.no: ð¡ï¸ ${t.air_temperature}Â°C`,w=m.a.asNumber(t.air_temperature))}if("file"===s)return Object(d.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(d.h)("label",{for:l+"Input"},h&&Object(d.h)("i",{class:h+" text-muted"})," ",r),Object(d.h)(Files,{saved:t,object:e,field:l,updateField:f}),t[`${l}.${e.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(p.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:l+"Help",class:"form-text text-muted"},b));if("image"===s)return Object(d.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(d.h)("label",{for:l+"Input"},h&&Object(d.h)("i",{class:h+" text-muted"})," ",r),Object(d.h)("div",{class:"container-fluid"},Object(d.h)("div",{class:"row"},e.image&&e.image.s3SmallLink&&Object(d.h)("div",{class:"col-3 p-1"},Object(d.h)("img",{loading:"lazy",src:e.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(d.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":e.image.name},Object(d.h)("i",{class:"fas fa-trash"})," Del"),Object(d.h)("span",{class:"badge badge-success"},"Main")),e.images&&e.images.map(t=>Object(d.h)("div",{class:"col-3 p-1"},Object(d.h)("img",{loading:"lazy",src:t.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(d.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":t.name},Object(d.h)("i",{class:"fas fa-trash"})," Del"))))),Object(d.h)(C.a,{saved:t,object:e,field:l,updateField:f,autoOpen:!1}),t[`${l}.${e.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(d.h)("small",{id:l+"Help",class:"form-text text-muted"},b));if("datalist"===s)return Object(d.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(d.h)("label",{for:l+"Input"},h&&Object(d.h)("i",{class:h+" text-muted"})," ",r),Object(d.h)("input",{list:"list-"+l,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",value:k,"data-id":e.id,"data-field":l,onInput:u}),Object(d.h)("datalist",{id:"list-"+l},a.map(t=>Object(d.h)("option",{value:t[0]},t[1]))),t[`${l}.${e.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(p.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:l+"Help",class:"form-text text-muted"},b));if("duration"===s){const t=Math.floor(e[l]/3600),s=Math.floor(e[l]%3600/60);return Object(d.h)("div",{class:"form-group mb-5 pb-1 border-bottom"},Object(d.h)("span",{class:"float-right"},Object(d.h)("strong",{onClick:this.setValue,"data-value":w},j)),Object(d.h)("label",{for:l+"Input"},h&&Object(d.h)("i",{class:h+" text-muted"})," ",r),Object(d.h)("div",{class:"form-row"},Object(d.h)("div",{class:"form-group col-3 offset-3"},Object(d.h)("input",{class:"form-control text-right",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-hours",value:t,type:"number",min:"0",max:"24"})),Object(d.h)("div",{class:"form-group col-3"},Object(d.h)("input",{class:"form-control",id:l+"Input","aria-describedby":l+"Help",onInput:this.onInputDuration,name:l+"-minutes",value:s,type:"number",min:"0",max:"59"}))),Object(d.h)("small",{id:l+"Help",class:"form-text text-muted"},b))}return"toggle"===s?Object(d.h)("div",{class:"form-group "+(t[`${l}.${e.id}`]?"is-valid":"")},Object(d.h)("label",{for:l+"Input"},h&&Object(d.h)("i",{class:h+" text-muted"})," ",r),Object(d.h)("div",{class:"custom-control custom-switch"},Object(d.h)("input",{type:"checkbox",class:"custom-control-input",id:l+"Input",value:1===k?0:1,"data-id":e.id,"data-field":l,onInput:u,checked:1==k?"checked":""}),Object(d.h)("label",{class:"custom-control-label",for:l+"Input"})),t[`${l}.${e.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(p.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:l+"Help",class:"form-text text-muted"},b)):Object(d.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${l}.${e.id}`]?"is-valid":"")},"date"===s&&Object(d.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(d.h)("i",{class:"far fa-check-circle"})),"time"===s&&Object(d.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"NÃ¥ ",Object(d.h)("i",{class:"far fa-check-circle"})),O&&Object(d.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},O),Object(d.h)("label",{for:l+"Input"},h&&Object(d.h)("i",{class:h+" text-muted"})," ",r),j&&Object(d.h)("span",{class:"float-right"},Object(d.h)("strong",{onClick:this.setValue,"data-value":w},j)),Object(d.h)("input",{type:s,class:"form-control "+(t[`${l}.${e.id}`]?"is-valid":""),id:l+"Input","aria-describedby":l+"Help",min:o,max:x,step:i,value:k,"data-id":e.id,"data-field":l,"data-type":s,"data-elementtype":c,onInput:u}),t[`${l}.${e.id}`]?Object(d.h)("div",{class:"valid-feedback",style:"display: block;"},Object(d.h)(p.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(d.h)("small",{id:l+"Help",class:"form-text text-muted"},b))}});let Z=Object(b.a)(r=class extends d.Component{render(){const{workoutStore:t}=this.props.stores,{workout:e={}}=t,s=v.a.getFirstPoint(e),a=v.a.getMidPoint(e,.5),o=v.a.getMidPoint(e,1),{tracks:n=[]}=e,i=n[0],c=n[n.length-1];let l;if(i&&c){const t=new Date(i.timestamp).getTime()/1e3;l=new Date(c.timestamp).getTime()/1e3-t}return Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"alert alert-warning"},Object(d.h)("h5",null,"Admin info"),Object(d.h)("xmp",null,"firstPoint: ",s.join(", "),Object(d.h)("br",null),"midPoint: ",a.join(", "),Object(d.h)("br",null),"endPoint: ",o.join(", "),Object(d.h)("br",null),Object(d.h)("br",null),"duration: ",m.a.secToHms(e.duration),Object(d.h)("br",null),Object(d.h)("br",null),Object(d.h)("strong",null,"Tracking info"),Object(d.h)("br",null),"duration: ",m.a.secToHms(l),Object(d.h)("br",null),Object(d.h)("br",null)),Object(d.h)("div",{class:"d-flex align-content-start flex-wrap"},n&&n.map(t=>Object(d.h)("span",{class:"ml-1"},t.coords.accuracy))),Object(d.h)("xmp",null,Object(d.h)("br",null),"firstTrackPoint:",Object(d.h)("br",null),JSON.stringify(i,null,4),Object(d.h)("br",null),Object(d.h)("br",null),"lastTrackPoint:",Object(d.h)("br",null),JSON.stringify(c,null,4),Object(d.h)("br",null),Object(d.h)("br",null))))}})||r,X=Object(b.a)(h=class extends d.Component{constructor(t){var e;super(t),e=this,this.loadWorkout=async function(t=e.props){const{workoutStore:s}=e.props.stores,{showAdminInfo:a}=e.state,o=["publicTeams","publicUsers"];a&&o.push("geocluster"),await s.load(t.workout,!1,{addData:o});s.plotGeocluster()},this.updateField=t=>{const{id:e,field:s,type:a,elementtype:o,isNew:n}=t.target.dataset,i=t.target.value;this.updateFieldValue({id:parseInt(e,10),field:s,value:i,type:a,elementtype:o,isNew:n})},this.updateFieldValue=async function({id:t,field:s,value:a,datatype:o,elementtype:n,isNew:i=!1,skipTimer:c=!1}){const{workoutStore:l}=e.props.stores;let r=a,h=a;const{workout:d}=l;if("images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"array"!==o||Array.isArray(a)||(r="number"===n?a.split(",").map(t=>parseFloat(t)||t):a.split(",")),i?l.updateObjectKeyValue("newWorkout",s,a):(l.updateField(t,s,h),c?await e.doUpdateField(t,s,r):(clearTimeout(e.updateTimer[s]),e.updateTimer[s]=setTimeout((async function(){e.doUpdateField(t,s,r)}),500))),"gpx"===s&&d&&m.a.checkNested(d,"gpx","gpxInfo")){const{totalDistance:e,maxSpeed:s,avgSpeed:a,ascent:o,decent:n,duration:i,rest:c,startLatlng:r,endLatlng:h}=d.gpx.gpxInfo,b={};i&&(l.updateField(t,"duration",i),b.duration=i),c&&(l.updateField(t,"rest",c),b.rest=c),e&&(l.updateField(t,"distanceKm",m.a.roundTo(e,10)),b.distanceKm=m.a.roundTo(e,10)),s&&(l.updateField(t,"speedmax",m.a.roundTo(s,10)),b.speedmax=m.a.roundTo(s,10)),a&&(l.updateField(t,"speedAvg",m.a.roundTo(a,10)),b.speedAvg=m.a.roundTo(a,10)),o&&(l.updateField(t,"elevation",o),b.elevation=o),n&&(l.updateField(t,"decent",n),b.decent=n),r&&(l.updateField(t,"startLatlng",r),b.startLatlng=r),h&&(l.updateField(t,"endLatlng",h),b.endLatlng=h),await l.save(b,d.id)}},this.showModal=t=>{t.stopPropagation(),t.preventDefault();this.setState({displayModal:!0,currentImage:t.target.dataset.image,currentImageXXL:t.target.dataset.imagexxl,thumb:t.target.dataset.thumb,name:t.target.dataset.name,title:t.target.dataset.title,date:t.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.deleteWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.saveField(s.id,"offline",1),j.a.publish(j.b.STATUS_MESSAGE,{message:"Workout was deleted",type:"success",icon:"fas fa-check"}),Object(u.route)("/workouts/list")},this.duplicateWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t,a=await t.duplicateWorkout({id:s.id});a&&a.id&&(j.a.publish(j.b.STATUS_MESSAGE,{message:"Workout was duplicated successfully",type:"success",icon:"fas fa-check"}),Object(u.route)("/workouts/"+a.id))},this.makeTrack=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t,a=await t.makeTrackFromWorkout({id:s.id});a&&a.id&&(j.a.publish(j.b.STATUS_MESSAGE,{message:"Track was created successfully",type:"success",icon:"fas fa-check"}),Object(u.route)("/tracks/edit/"+a.id))},this.likeWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.likeWorkout({id:s.id})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.toggleAdminInfo=()=>{const{userStore:t}=this.props.stores,{isAdmin:e}=t;if(e){const{showAdminInfo:t}=this.state;this.setState({showAdminInfo:!t},()=>{this.loadWorkout()})}},this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.showStateDetail=t=>{const e=t.target.closest("div").dataset;this.setState({stateDetail:o({},e)})},this.reimportStravaWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.reimportStravaWorkout(s.stravaId,s.id),e.loadWorkout()},this.reimportGarminWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.reimportGarminWorkout(s.garminId,s.id),e.loadWorkout()},this.reCalculateGpxData=async function(){const{recalculated:t}=e.state;if(t)return!0;const{workoutStore:s}=e.props.stores,{workout:a}=s;e.setState({recalculated:!0}),await s.reLoad(a.id)},this.toggleMapSize=()=>{const{mapHeight:t}=this.state;this.setState(t===Y.mapHeight?{mapHeight:Y.mapMaxHeight}:{mapHeight:Y.mapHeight})},this.finishWorkout=async function(){const{workoutStore:t}=e.props.stores;await t.cordovaSaveTracking();const{workout:s}=t;await t.save({isInProgress:0},s.id),e.loadWorkout()},this.sendGpxFile=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=t;await t.sendGpxFile(s.id),e.setState({gpxFileSent:!0})},this.shareLink=t=>{const{url:e,title:s,text:a}=t.target.closest("button").dataset,{appState:o}=this.props.stores;o.shareUrl({url:e,title:s,text:a})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=o(o({},Y),{},{submenu:t.submenu||"totals"}),this.updateTimer={},this.inputRef={}}tickReloadTimeer(){const{reloadIsActive:t,reloadLastEpoch:e}=this.state;if(t){const t=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(t-e)}),setTimeout(()=>this.tickReloadTimeer(),1e3)}return!1}async doUpdateField(t,e,s){const{workoutStore:a}=this.props.stores;t&&e&&await a.saveField(t,e,s)}componentDidMount(){this.loadWorkout()}componentWillReceiveProps(t){t.workout!==this.props.workout&&this.loadWorkout(t)}componentWillUnmount(){clearTimeout(this.updateTimer.reload)}render(){const{workoutStore:e,userStore:s,appState:a}=this.props.stores,{mapColorMode:n,mapRangeMin:l,mapRangeMax:r,isCordova:h,hasShareApi:b,viewmode:u}=a,{user:f,isAdmin:j}=s,{submenu:C,showAddComment:Y,showAdminInfo:X,mapHeight:q,reloadInSec:J,reloadLastEpoch:Q,gpxFileSent:tt,showTeam:et,showDog:st,recalculated:at}=this.state,{workout:ot,waypoints2:nt=[],waypoints3:it=[]}=(Math.floor(m.a.normalizeBetween(J,0,60,0,100)),e),{likes:ct=[],comments:lt=[]}=ot,{language:rt="en"}=f,ht=s.findTeam(ot.team,!0)||{},dt=s.findTeamAmbition({ambition:ht.ambitions,language:rt}),mt=s.findTeamType({type:ht.type,language:rt}),bt=s.findWorkoutType({type:ot.type,language:rt}),ut=s.findWorkoutType({type:ot.type,field:"icon"}),pt=s.findTrack(ot.track),gt=s.findEquipment({equipment:ot.equipment,language:rt}),ft=s.findEquipment({equipment:ot.equipment,field:"icon"}),Ot=s.findDogs(ot.dogs),jt=s.findMushers(ot.mushers),vt=s.findIntensity({code:ot.intensity,language:rt})||{},wt=e.getWorkoutNavigation(ot.id)||{},kt=ot.likes&&ot.likes.findIndex(t=>t.user===f.id)>-1,{gpxInfo:xt={},gpx:yt={gpxInfo:{}}}=ot,{weightedTotalKcal:St=0,loadIndex:It=0}=xt,zt=xt.totalKcalRelated/100,At=ot.teams?ot.teams.map(t=>s.findTeam(t)):[];let Tt;ot&&ot.gpxInfo&&ot.gpxInfo.battegryLevelStart&&(Tt=100*(ot.gpxInfo.battegryLevelStart-ot.gpxInfo.battegryLevelEnd));const Ut=[];if(ot.mapImage&&Ut.push(o(o({},ot.mapImage),{},{type:"map"})),ot.images){const t=Object(g.i)(ot.images);Ut.push(...t)}let Ct=!1;const Dt=v.a.getViews(ot.statistics),$t=[];let Pt;if(ot.mushers&&ot.mushers.length>1&&ot.mushers.slice(1,10).map(t=>{const e=s.findMusher(t);e&&e.images&&e.images[0]&&$t.push(e.images[0])}),ot.mushers&&ot.mushers[0]){let t=s.findMusher(ot.mushers[0]);t&&t.images&&t.images[0]&&(Pt=t.images[0])}else ht.image&&ht.image.s3SmallLink?Pt=ht.image:ht.images&&ht.images[0]&&ht.images[0].s3SmallLink?Pt=ht.images[0]:ot.image&&ot.image.s3SmallLink&&(Pt=ot.image);return Object(d.h)(t,null,et&&Object(d.h)(D.a,null,Object(d.h)($.default,{stores:this.props.stores,teamid:et,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),st&&Object(d.h)(D.a,null,Object(d.h)(P.default,{stores:this.props.stores,dogid:st,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:Ot})),Object(d.h)("div",{class:"container-fluid",style:`margin-bottom: ${K}; margin-top: ${G};`},Object(d.h)("div",{class:"d-flex justify-content-between mb-2"},Object(d.h)("div",null,Object(d.h)("button",{class:"btn btn-link float-left pl-0 fixed-top text-primary",style:`top: ${N}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(d.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(d.h)("div",null,Object(d.h)("h5",{class:"text-muted"},"Â ")),Object(d.h)("div",null,1===ot.isLocked?Object(d.h)(t,null,Object(d.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"}),j&&Object(d.h)(t,null,Object(d.h)("a",{class:"btn btn-primary float-right",href:"/workouts/edit/"+ot.id},Object(d.h)("i",{class:"fas fa-edit"})," ",Object(d.h)(p.c,{id:"workouts.admin-edit"},"Admin edit")))):Object(d.h)(t,null,Object(d.h)("a",{class:"btn btn btn-primary float-right mt-1",href:"/workouts/edit/"+ot.id},Object(d.h)("i",{class:"fas fa-edit"})," ",Object(d.h)(p.c,{id:"workouts.edit"},"Endre"))))),Object(d.h)("div",{class:"d-flex justify-content-between mb-2"},Object(d.h)("div",{class:"text-muted"},wt&&wt.previous&&Object(d.h)("a",{href:"/workouts/"+wt.previous.id,class:"text-muted"},Object(d.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(d.h)("div",{class:"text-muted"},wt.total>0&&Object(d.h)(t,null,wt.idx+1," / ",wt.total)),Object(d.h)("div",{class:"text-muted"},wt&&wt.next&&Object(d.h)("a",{href:"/workouts/"+wt.next.id,class:"text-muted"},Object(d.h)("i",{class:"fas fa-arrow-circle-right"})))),Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"d-flex mb-2"},Object(d.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+i(ot),style:(Pt?`background-image: url("${Pt.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!Pt&&Object(d.h)("i",{class:`${c(ot)} text-${vt.class?vt.class:"muted"} mt-3`,style:"font-size: 40px;"}),$t&&$t.map((e,s)=>Object(d.h)(t,null,Object(d.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${e.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),Object(d.h)("div",{class:"flex-grow-1 pl-3"},Object(d.h)("h5",{class:"my-0"},ot.name,ot.isInProgress>0&&Object(d.h)(t,null,Object(d.h)("span",{class:"position-relative ml-3"},1===ot.isInProgress&&Object(d.h)("div",{class:"spinner-grow text-success position-absolute",style:"top: -5px; left: -6px;",role:"status"})),Object(d.h)("i",{class:"fas fa-stop-circle float-right text-warning",style:"font-size: 1.5em; cursor: pointer; pointer-events: inherit;",onClick:this.finishWorkout})),h&&X&&j&&Object(d.h)(t,null,Object(d.h)("a",{href:"/workouts/tracking/"+ot.id,class:"ml-4"},Object(d.h)("i",{class:"far fa-play-circle"}),Object(d.h)(p.c,{id:"footer.workouts-continue"},"Continue")))),ot.garminId&&Object(d.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),ot.stravaId&&Object(d.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),ot.team&&s.findTeam(ot.team),At&&At.length>0&&Object(d.h)("small",{class:"font-weight-lighter"},", ",At.map((e,s)=>Object(d.h)(t,null,s>0?", ":"",e))),Object(d.h)("br",null),Object(d.h)("small",{class:"text-muted"},m.a.isoDate(ot.date,!1,!1,!1)),vt.class&&Object(d.h)("span",{class:`badge badge-${vt.class} ml-2`},vt.name),ot.sledWeight>0&&Object(d.h)("small",{class:"ml-3 text-muted"},Object(d.h)("i",{class:"fas fa-sleigh"})," ",Object(d.h)(p.c,{id:"workouts.sledWeight"},"Sledevekt"),": ",Object(d.h)(F.a,{stores:this.props.stores,value:ot.sledWeight})),Tt>0&&Object(d.h)("small",{class:"text-muted ml-3"},Object(d.h)("i",{class:"fas fa-battery-three-quarters"})," ",m.a.format(Tt,1),"% used")))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},ot.comment&&Object(d.h)("div",{class:"mb-3"},Object(d.h)(O.a,{markdown:v.a.replaceImages(ot.comment,ot.images,rt),markdownOpts:v.a.getMarkdownOptions()}))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"w-100 overflow-hidden"},Object(d.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},ot.isInProgress>0&&Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"current"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"current",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(d.h)(p.c,{id:"workouts.current"},"Akkurat nÃ¥")),"current"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block ${ot.isInProgress>0?"":"rounded-pill-left"} rounded-none ${"totals"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(d.h)(p.c,{id:"workouts.totals"},"Totaler")),"totals"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"map"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(d.h)(p.c,{id:"workouts.map"},"Map")),"map"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"analysis"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"analysis",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-chart-area"})," ",Object(d.h)(p.c,{id:"workouts.analysis"},"Analyser")),"analysis"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"images"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-images"})," ",Object(d.h)(p.c,{id:"workouts.images"},"Bilder")),"images"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"dogs"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-dog"})," ",Object(d.h)(p.c,{id:"workouts.dogs"},"Hunder")),"dogs"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"handlers"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"handlers",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-user"})," ",Object(d.h)(p.c,{id:"workouts.handlers"},"Handlere")),"handlers"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-none ${"gpx"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gpx",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-user"})," ",Object(d.h)(p.c,{id:"workouts.gpx"},"GPX")),"gpx"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===C?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(d.h)("i",{class:"fas fa-cogs"})," ",Object(d.h)(p.c,{id:"workouts.advanced"},"advanced")),"advanced"===C&&Object(d.h)(W.a,{horizontal:"center",vertical:"end"})))))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},j&&Object(d.h)(t,null,Object(d.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Show admin details"))),"map"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},ot&&ot.gpx&&Object(d.h)(t,null,Object(d.h)("button",{class:"btn btn-sm btn-link float-right",onClick:this.toggleMapSize},"Toggle map size"),Object(d.h)("div",{class:"clearfix"},Object(d.h)("div",{class:"",style:`height: ${q+40}px;`},Object(d.h)(w.a,{stores:this.props.stores,mapId:`${ot.id}-${q}`,geojson:ot.gpx.geoJSON,skipGeojson:!1,gpxInfo:ot.gpxInfo,height:q,mapColorMode:n,mapRangeMin:l,mapRangeMax:r,key:"workout-map-"+Q,waypoints2:nt,waypoints3:it,fullscreenMap:!0})))),pt&&pt.gpx&&!(ot&&ot.gpx)&&Object(d.h)(t,null,Object(d.h)("div",{class:"clearfix",style:`height: ${q}px;`},Object(d.h)(w.a,{stores:this.props.stores,mapId:`${pt.id}-${q}`,geojson:pt.gpx.geoJSON,skipGeojson:!1,gpxInfo:pt.gpx.gpxInfo,height:q,mapColorMode:n,mapRangeMin:l,mapRangeMax:r,key:"workout-map-"+Q,fullscreenMap:!0}))),Object(d.h)("div",{class:"text-center"},Object(d.h)("small",{class:"text-muted"},ot.weather,!ot.weather&&Object(d.h)(t,null,m.a.format(ot.temperature,1),"Â°C"))))),"current"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock ml-2"})," ",Object(d.h)(p.c,{id:"workouts.duration"},"Vargihet")),Object(d.h)("h3",null,m.a.secToHms(ot.duration))),Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock ml-2"})," ",Object(d.h)(p.c,{id:"workouts.rest"},"Hvile")),Object(d.h)("h3",{class:"text-muted"},m.a.secToHms(ot.rest)))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(d.h)(p.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(d.h)("h3",null,Object(d.h)(R.a,{stores:this.props.stores,value:ot.speedAvg}))),Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(d.h)(p.c,{id:"workouts.currentspeed"},"Fart")),Object(d.h)("h3",null,Object(d.h)(R.a,{stores:this.props.stores,value:ot.currentSpeed})))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-road ml-2"})," ",Object(d.h)(p.c,{id:"workouts.distance"},"Distanse")),Object(d.h)("h3",null,Object(d.h)(E.a,{stores:this.props.stores,value:ot.distanceKm})),xt.calculatedTotalDistance>0&&Math.abs(ot.distanceKm-xt.calculatedTotalDistance)>1&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(xt.calculatedTotalDistance,1)," km ",Object(d.h)("br",null)),j&&X&&xt.calculatedTotalDistance>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",m.a.format(xt.calculatedTotalDistance,2)," km ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.totalDistance>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",m.a.format(yt.gpxInfo.totalDistance,2)," km ",Object(d.h)("br",null))),Object(d.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(d.h)(p.c,{id:"workouts.ascend"},"Stigning")),Object(d.h)("h3",null,Object(d.h)(_.a,{stores:this.props.stores,value:ot.elevation})),xt.calculatedAscend>0&&Math.abs(ot.elevation-xt.calculatedAscend)>50&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(xt.calculatedAscend,0)," m ",Object(d.h)("br",null)),j&&X&&xt.calculatedAscend>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",m.a.format(xt.calculatedAscend,0)," m ",Object(d.h)("br",null)),j&&X&&xt.calculatedDescend>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",m.a.format(xt.calculatedDescend,0)," m ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.ascent>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",m.a.format(yt.gpxInfo.ascent,0)," m ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.descent>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",m.a.format(yt.gpxInfo.descent,0)," m ",Object(d.h)("br",null))))),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"totals"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},j&&X&&Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-user-shield ml-2"})," ",Object(d.h)(p.c,{id:"workouts.admin-info"},"Admin info")),Object(d.h)("h3",null,"Admin"),j&&X&&yt.gpxInfo&&yt.gpxInfo.startTime>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.startTime: ",m.a.isoDate(yt.gpxInfo.startTime)," ",Object(d.h)("br",null),"gpx.gpxInfo.endTime: ",m.a.isoDate(yt.gpxInfo.endTime)," ",Object(d.h)("br",null)))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock ml-2"})," ",Object(d.h)(p.c,{id:"workouts.duration"},"Vargihet")),Object(d.h)("h3",null,m.a.secToHms(ot.duration)),j&&X&&xt.minEpoch>0&&xt.maxEpoch>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",m.a.secToHms(xt.maxEpoch-xt.minEpoch)," ",Object(d.h)("br",null)),j&&X&&xt.duration>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",m.a.secToHms(xt.duration)," ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.endTime>0&&yt.gpxInfo.startTime>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",m.a.secToHms((yt.gpxInfo.endTime-yt.gpxInfo.startTime)/1e3)," ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.duration>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",m.a.secToHms(yt.gpxInfo.duration)," ",Object(d.h)("br",null))),Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock ml-2"})," ",Object(d.h)(p.c,{id:"workouts.rest"},"Hvile")),Object(d.h)("h3",{class:"text-muted"},m.a.secToHms(ot.rest)),j&&X&&xt.minEpoch>0&&xt.maxEpoch>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",m.a.secToHms(xt.rest)," ",Object(d.h)("br",null)),j&&X&&xt.rest>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",m.a.secToHms(xt.rest)," ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.rest>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",m.a.secToHms(yt.gpxInfo.rest)," ",Object(d.h)("br",null)))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(d.h)(p.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(d.h)("h3",null,Object(d.h)(R.a,{stores:this.props.stores,value:ot.speedAvg})),j&&X&&xt.avgMovingSpeeds>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",m.a.format(3.6*xt.avgMovingSpeeds,2)," km/t ",Object(d.h)("br",null)),j&&X&&xt.avgGpsSpeed>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",m.a.format(3.6*xt.avgGpsSpeed,2)," km/t ",Object(d.h)("br",null)),j&&X&&xt.avgGpsMovingSpeed>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",m.a.format(3.6*xt.avgGpsMovingSpeed,2)," km/t ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.avgSpeed>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",m.a.format(3.6*yt.gpxInfo.avgSpeed,2)," km/t ",Object(d.h)("br",null))),Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:""+ut})," ",Object(d.h)(p.c,{id:"workouts.type"},"Type")),Object(d.h)("h3",null,bt))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:""+ft})," ",Object(d.h)(p.c,{id:"workouts.equipment"},"Utstyr")),Object(d.h)("h3",null,gt)),Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-dog ml-2"})," ",Object(d.h)(p.c,{id:"workouts.dogs"},"Hunder")),Object(d.h)("h3",null,ot.dogs&&Object(d.h)("span",null,ot.dogs.length)))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-road ml-2"})," ",Object(d.h)(p.c,{id:"workouts.distance"},"Distanse")),Object(d.h)("h3",null,Object(d.h)(E.a,{stores:this.props.stores,value:ot.distanceKm})),xt.calculatedTotalDistance>0&&Math.abs(ot.distanceKm-xt.calculatedTotalDistance)>1&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(xt.calculatedTotalDistance,1)," km ",Object(d.h)("br",null)),j&&X&&xt.calculatedTotalDistance>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",m.a.format(xt.calculatedTotalDistance,2)," km ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.totalDistance>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",m.a.format(yt.gpxInfo.totalDistance,2)," km ",Object(d.h)("br",null))),Object(d.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(d.h)(p.c,{id:"workouts.ascend"},"Stigning")),Object(d.h)("h3",null,Object(d.h)(_.a,{stores:this.props.stores,value:ot.elevation})),xt.calculatedAscend>0&&Math.abs(ot.elevation-xt.calculatedAscend)>50&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(xt.calculatedAscend,0)," m ",Object(d.h)("br",null)),j&&X&&xt.calculatedAscend>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",m.a.format(xt.calculatedAscend,0)," m ",Object(d.h)("br",null)),j&&X&&xt.calculatedDescend>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",m.a.format(xt.calculatedDescend,0)," m ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.ascent>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",m.a.format(yt.gpxInfo.ascent,0)," m ",Object(d.h)("br",null)),j&&X&&yt.gpxInfo&&yt.gpxInfo.descent>0&&Object(d.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",m.a.format(yt.gpxInfo.descent,0)," m ",Object(d.h)("br",null)))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},1===ot.isLocked?Object(d.h)(t,null,Object(d.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"})):Object(d.h)(t,null,ot.stravaId&&!xt.reimported&&Object(d.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Ct=!0,Object(d.h)("i",{class:"fas fa-sync"})," Reimport Strava data"),ot.garminId&&!xt.reimported&&Object(d.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Ct=!0,Object(d.h)("i",{class:"fas fa-sync"})," Reimport Garmin data"),(j||!Ct)&&Object(d.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(d.h)("i",{class:"fas fa-sync"})," Recalculate GPX data")))),Object(d.h)(H.a,{stores:this.props.stores,states:xt.states,duration:ot.duration})),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"analysis"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},m.a.checkNested(ot,"gpxInfo","elevations")||m.a.checkNested(ot,"gpx","gpxInfo","elevations")?Object(d.h)(t,null,Object(d.h)(I.a,{stores:this.props.stores,key:"workout-elevation-"+ot.id})):Object(d.h)(t,null,Object(d.h)("div",{class:"text-center text-muted"},Object(d.h)("div",{class:"display-1"},Object(d.h)("i",{class:"fas fa-chart-area"})),Object(d.h)("h3",{class:"font-weight-lighter"},Object(d.h)(p.c,{id:"workout.no-elevation-data"},"No elevation data. If you use a GPS to track your workouts you will get a nice graph here and more correct analysis of the energy usage."))))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},It>0&&Object(d.h)("div",{class:"row mt-4"},Object(d.h)("div",{class:"col text-center"},Object(d.h)("h5",{onClick:this.toggleAdminInfo},Object(d.h)(p.c,{id:"workouts.load-index"},"Belastningsindex")),Object(d.h)(T.a,{key:"gauge-"+It,radius:100,showPercentText:!0,color:v.a.getLoadIndexColor(m.a.normalizeBetween(It,0,V,0,100)),percent:Math.floor(m.a.normalizeBetween(It,0,V,0,100)),completed:v.a.getLoadIndexText(m.a.normalizeBetween(It,0,V,0,100)),prefix:""}),Object(d.h)("div",null,mt&&Object(d.h)("a",{href:"/settings/team/"+ot.team},Object(d.h)("span",{class:"badge badge-pill badge-secondary"},mt)),dt&&Object(d.h)("a",{href:"/settings/team/"+ot.team},Object(d.h)("span",{class:"badge badge-pill badge-secondary ml-2"},dt)),Object(d.h)("br",null)),ot.stravaId&&!xt.reimported&&Object(d.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Object(d.h)("i",{class:"fas fa-sync"})," ",Object(d.h)(p.c,{id:"workouts.reimport-strava"},"Reimport Strava data")),ot.garminId&&!xt.reimported&&Object(d.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Object(d.h)("i",{class:"fas fa-sync"})," ",Object(d.h)(p.c,{id:"workouts.reimport-garmin"},"Reimport Garmin data")),j&&X&&Object(d.h)("div",null,Object(d.h)("small",null,Object(d.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",xt.loadIndex),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",V),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",m.a.format(xt.totalKcalRelated,1)),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"typeFactor: ",xt.typeFactor),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"ambitionFactor: ",xt.ambitionFactor),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeed: ",xt.normalSpeed),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"speedFactor: ",m.a.format(xt.speedFactor,2)),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",xt.normalDuration),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",m.a.format(xt.durationFactor,2)),Object(d.h)("span",{class:"badge badge-secondary mr-2"},"intensityFactor: ",m.a.format(xt.intensityFactor,2)),Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"row mt-4"},Object(d.h)("div",{class:"col text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)(p.c,{id:"workouts.energy-consumption-help"},"Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.")))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-total"},"Energiforbruk totalt")),Object(d.h)("h3",null,m.a.format(ot.kcalBurnedTotal,0)," ",Object(d.h)(p.c,{id:"workout.kcal"},"kcal")),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalBurnedTotal*zt,0)," ",Object(d.h)(p.c,{id:"workout.kcal"},"kcal")," ",Object(d.h)("br",null))),Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption"},"Energiforbruk pr hund")),Object(d.h)("h3",null,m.a.format(ot.kcalBurned,0)," kcal"),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(St,0)," ",Object(d.h)(p.c,{id:"workout.kcal"},"kcal")," ",Object(d.h)("br",null)))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-fat-total"},"Fett totalt")),Object(d.h)("h3",null,m.a.format(ot.kcalFatGramsTotal/1e3,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalFatGramsTotal/1e3*zt,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg"))),Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-fat"},"Fett pr hund")),Object(d.h)("h3",null,m.a.format(ot.kcalFatGrams/1e3,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalFatGrams/1e3*zt,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-meat-total"},"KjÃ¸tt totalt")),Object(d.h)("h3",null,m.a.format(ot.kcalMeatGramsTotal/1e3,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalMeatGramsTotal/1e3*zt,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg"))),Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-meat"},"KjÃ¸tt pr hund")),Object(d.h)("h3",null,m.a.format(ot.kcalMeatGrams/1e3,1)," kg"),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalMeatGrams/1e3*zt,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")))),Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-fish ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-salmon-total"},"KjÃ¸tt totalt")),Object(d.h)("h3",null,m.a.format(ot.kcalSalmonGramsTotal/1e3,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalSalmonGramsTotal/1e3*zt,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg"))),Object(d.h)("div",{class:"col  text-center"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-fish ml-2"})," ",Object(d.h)(p.c,{id:"workouts.energy-consumption-salmon"},"KjÃ¸tt pr hund")),Object(d.h)("h3",null,m.a.format(ot.kcalSalmonGrams/1e3,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg")),zt>0&&Object(d.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(d.h)(p.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ot.kcalSalmonGrams/1e3*zt,1)," ",Object(d.h)(p.c,{id:"workout.kg"},"kg"))))),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"images"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(d.h)("div",{class:"row"},Object(d.h)(k.a,{stores:this.props.stores,images:Ut}))),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"dogs"===C&&Object(d.h)(t,null,ot.dogsLeft&&Object(d.h)("div",{class:"offset-0 col-12 mt-4"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(d.h)("h5",null,Object(d.h)(p.c,{id:"workouts.dogs-positions"},"Posisjoner i spannet"))),Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col-6 p-0"},ot.dogsLeft&&ot.dogsLeft.map(t=>{const e=s.findDog(t);return Object(d.h)(S.a,{stores:this.props.stores,dog:e,className:"ml-auto"})})),Object(d.h)("div",{class:"col-6 p-0"},ot.dogsRight&&ot.dogsRight.map(t=>{const e=s.findDog(t);return Object(d.h)(S.a,{stores:this.props.stores,dog:e,className:"mr-auto"})}))))),"dogs"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"offset-0 col-12 mt-4"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(d.h)("h5",null,Object(d.h)(p.c,{id:"workouts.all-dogs",fields:{total:Ot.length}},"Hundene - ",Ot.length," stk"))),Ot&&Ot.map(t=>Object(d.h)(x.a,{stores:this.props.stores,dog:t}))),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"handlers"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"offset-0 col-12 mt-4"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(d.h)("h5",null,Object(d.h)(p.c,{id:"workouts.all-mushers",fields:{total:jt.length}},"Handlere - ",jt.length," stk"))),jt&&jt.map(t=>Object(d.h)(y.a,{stores:this.props.stores,musher:t}))),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"gpx"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"offset-0 col-12 mt-4"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(d.h)("h5",null,Object(d.h)(p.c,{id:"workouts.gpx-title"},"GPX")),Object(d.h)(p.c,{id:"workouts.gpx-description"},"Send GPX-file to your email address.")),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},tt?Object(d.h)(t,null,Object(d.h)("i",{class:"fas fa-check text-success"})," ",Object(d.h)(p.c,{id:"workouts.gpx-file-sent"},"GPX file sent via email.")):Object(d.h)(t,null,Object(d.h)("button",{class:"btn btn-success",onClick:this.sendGpxFile},Object(d.h)(p.c,{id:"workouts.gpx-send"},"Send GPX-file"))))),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"advanced"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"offset-0 col-12 mt-4"},Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(d.h)("h5",null,Object(d.h)(p.c,{id:"workouts.advanced"},"Advanced"))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},Object(d.h)("div",{class:"row mt-2"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-cloud-sun-rain ml-2"})," ",Object(d.h)(p.c,{id:"workouts.weather"},"The weather during this workout")),Object(d.h)("h3",{class:"font-weight-lighter"},ot.weather))),Object(d.h)("div",{class:"row mt-4"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(d.h)(p.c,{id:"workouts.temperature"},"Temperature")),Object(d.h)("h3",null,Object(d.h)(B.a,{stores:this.props.stores,value:ot.temperature}))),ot.sunPosition&&Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-sun ml-2"})," ",Object(d.h)(p.c,{id:"workouts.periode-of-day"},"Periode of day")),Object(d.h)("h3",null,ot.sunPosition.start," - ",ot.sunPosition.end))),Object(d.h)("div",{class:"row mt-4"},ot.moonPosition&&ot.moonPosition.start&&ot.moonPosition.start.altitudeDeg>0&&Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},ot.moonIllumination&&ot.moonIllumination.phaseIcon&&Object(d.h)(t,null,ot.moonIllumination.phaseIcon)," ",Object(d.h)(p.c,{id:"workouts.moon-position"},"Moon position")),Object(d.h)("h3",null,m.a.format(ot.moonPosition.start.altitudeDeg,0),"Â° ",ot.moonPosition.end&&ot.moonPosition.end.altitudeDeg>0&&Object(d.h)(t,null," - ",m.a.format(ot.moonPosition.end.altitudeDeg,0),"Â°")),ot.moonIllumination&&ot.moonIllumination.fraction&&Object(d.h)(t,null,Object(d.h)("div",{class:"progress"},Object(d.h)("div",{class:"progress-bar bg-warning",role:"progressbar",style:`width: ${100*ot.moonIllumination.fraction}%`,"aria-valuenow":100*ot.moonIllumination.fraction,"aria-valuemin":"0","aria-valuemax":"100"},m.a.format(100*ot.moonIllumination.fraction,0),"%"))))),["beta","advanced","normal"].indexOf(u)>-1&&Object(d.h)(t,null,Object(d.h)("div",{class:"row mt-4"},Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-dice ml-2"})," ",Object(d.h)(p.c,{id:"workouts.rating"},"Workout rating")),Object(d.h)("h3",null,m.a.format(ot.rating,0))),Object(d.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-dumbbell ml-2"})," ",Object(d.h)(p.c,{id:"workouts.intensity"},"Workout intensity")),Object(d.h)("h3",null,vt.class&&Object(d.h)("span",{class:`badge badge-${vt.class} ml-2`},vt.name))))))),j&&X&&Object(d.h)(t,null,Object(d.h)(Z,{stores:this.props.stores})),Object(d.h)("div",{class:"col-12"},Object(d.h)(U.a,{stores:this.props.stores,url:this.props.url,section:C}))),"advanced"!==C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(d.h)(L.a,{stores:this.props.stores,likes:ct,comments:lt,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(d.h)("div",{class:"row"},Object(d.h)("div",{class:"col text-center"},Object(d.h)("button",{type:"button",class:`btn btn-outline-${kt?"primary":"secondary"} btn-sm btn-block ${kt?"text-primary":""}`,onClick:this.likeWorkout},Object(d.h)("i",{class:(kt?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(d.h)(p.c,{id:"workouts.like"},"Like"))),Object(d.h)("div",{class:"col text-center"},Object(d.h)("button",{type:"button",class:"btn btn-outline-secondary btn-sm btn-block","data-id":ot.id,onClick:this.toggleAddComment},Object(d.h)("i",{class:"fas fa-comment"})," ",Object(d.h)(p.c,{id:"workouts.comment"},"Comment"))),ot.private?Object(d.h)(t,null,Object(d.h)("div",{class:"col text-center"},Object(d.h)(p.c,{id:"workouts.is-private"},"Workout is private"))):Object(d.h)(t,null,b?Object(d.h)(t,null,Object(d.h)("div",{class:"col text-center"},Object(d.h)("button",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+ot.uuidv4,"data-title":"title: "+ot.title},Object(d.h)("i",{class:"fas fa-share"})," ",Object(d.h)(p.c,{id:"story.share"},"Del")))):Object(d.h)(t,null,Object(d.h)("div",{class:"col text-center"},Object(d.h)("a",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",href:"https://themusher.app/share/workout/"+ot.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(d.h)("i",{class:"fas fa-share"})," ",Object(d.h)(p.c,{id:"story.share"},"Del"))))))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Y&&Object(d.h)(A.a,{stores:this.props.stores,workout:ot,inputRef:t=>this.inputRef[ot.id]=t,inputRefObject:this.inputRef}),Object(d.h)(z.a,{stores:this.props.stores,workout:ot}),Dt>0&&Object(d.h)(t,null,Object(d.h)("div",{class:"mt-2"},Object(d.h)(M.a,{stores:this.props.stores,views:Dt,object:ot,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))))),1===ot.isLocked?Object(d.h)(t,null):Object(d.h)(t,null,"advanced"===C&&Object(d.h)(t,null,Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(d.h)("h5",{class:"mt-5"},Object(d.h)(p.c,{id:"workouts.recalculate-title"},"Recalculate data")),Object(d.h)(p.c,{id:"workouts.recalculate-help"},"Click the button below if you want to recalculate this workout.",Object(d.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either."),Object(d.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(at?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(d.h)("i",{class:"fas fa-sync"})," ",Object(d.h)(p.c,{id:"workouts.recalculate"},"Recalculate data")),Object(d.h)("br",null)),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(d.h)("h5",{class:"mt-5"},Object(d.h)(p.c,{id:"workouts.duplicate-title"},"Duplicate workout")),Object(d.h)(p.c,{id:"workouts.duplicate-help"},"Click the button below if you want to duplicate this workout. After you have duplicated this workout you can edit it as a regular workout."),Object(d.h)("button",{class:"btn btn-block btn-secondary mt-2 float-left",onClick:this.duplicateWorkout},Object(d.h)("i",{class:"fas fa-copy"})," ",Object(d.h)(p.c,{id:"workouts.duplicate"},"Duplicate workout")),Object(d.h)("br",null)),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(d.h)("h5",{class:"mt-5"},Object(d.h)(p.c,{id:"workouts.make-track-title"},"Make track")),Object(d.h)(p.c,{id:"workouts.make-track-help"},"Use this workout to make a track. This track can shared and downloaded as a regular track."),Object(d.h)("button",{class:"btn btn-block btn-info mt-2 float-left",onClick:this.makeTrack},Object(d.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(d.h)(p.c,{id:"workouts.make-track"},"Make track"))),Object(d.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(d.h)("h5",{class:"mt-5"},Object(d.h)(p.c,{id:"workouts.delete-title"},"Delete workout")),Object(d.h)(p.c,{id:"workouts.delete-help"},"Click the button below to delete this workout. All data related to this workout will be lost. All team and dog statistics will also be affected."),Object(d.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteWorkout},Object(d.h)("i",{class:"fas fa-trash"})," ",Object(d.h)(p.c,{id:"workouts.delete"},"Delete")," ",ot.name)))))))}})||h;e.default=X}.call(this,s("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GcMA:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,c=s("hosL"),l=s("Utv1"),r=s("/eY4"),h=s("OhSV"),d=s("ZOvn"),m=s("bbv7");let b=Object(h.d)(()=>({week:Object(c.h)(h.c,{id:"workout.graph.week"}),distance:Object(c.h)(h.c,{id:"workout.graph.distance"}),ascend:Object(c.h)(h.c,{id:"workout.graph.ascend"}),plan:Object(c.h)(h.c,{id:"workout.graph.plan"})}))(i=Object(r.a)(i=class extends c.Component{render(){const{workoutStore:e}=this.props.stores,{workout:s={}}=e,{gpx:a={},gpxInfo:n}=s,{gpxInfo:i={}}=a,r=o(o({},i),n),{gpsSpeeds:h=[]}=r,{speeds:b=h,elevations:u=[],temperatures:p=[],climbs:g=[],distances:f=[],ecor:O=[]}=r;let j=[],v=[],w=[],k=[],x=[];const y=[],S=[],I=[],z=[],A=[],T=[],U=[],C=[],D=[],$=[];if(u.length>0){const t=d.a.smoothArray(u,5).map((t,e)=>({x:e,y:t}));j.push(t),y.push("Elevation"),T.push("m")}if(b.length>0){const t=d.a.smoothArray(b,3).map((t,e)=>({x:e,y:3.6*t}));k.push(t),z.push("Speed"),D.push("km/t")}if(p.length>0){const t=d.a.smoothArray(p,2).map((t,e)=>({x:e,y:t}));v.push(t),S.push("Temp"),U.push("Â°C")}if(g.length>0){const t=d.a.smoothArray(g,2).map((t,e)=>({x:e,y:t}));w.push(t),I.push("Climblevel"),C.push("%")}if(O.length>0){const t=d.a.smoothArray(O,1).map((t,e)=>({x:e,y:1e3*t}));x.push(t),A.push("ECOR (kcal/kg/km)"),$.push("kcal/kg/km")}const P=[];if(s.distanceKm>0){const t=l.a.range(0,Math.ceil(r.calculatedTotalDistance||s.distanceKm),1),e=Math.ceil(t.length/5);Math.floor(t.length/e);for(let s=0,a=t.length;s<a;s+=e)P.push(t[s]);P.push(t[t.length-1])}return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(m.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:t=>t+"km",xTicks:P,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:j,legendLeft:y,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" m",unitLeft:T,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:k,legendRight:z,showYTicksRight:k.length>0?1:0,yTicksRightPostfix:"km/t",unitRight:D,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),v.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(m.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:t=>t+"km",xTicks:P,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:v,legendLeft:S,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" Â°C",unitLeft:U,avgWindowLeft:[0],smoothLeft:[1]})),w.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(m.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:t=>t+"km",xTicks:P,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:w,legendLeft:I,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" %",unitLeft:C,avgWindowLeft:[0],smoothLeft:[1],dataRight:x,legendRight:A,showYTicksRight:x.length>0?1:0,yTicksRightVal:t=>l.a.format(t/1e3,2),unitRight:$,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))}})||i)||i;e.a=b}).call(this,s("hosL").Fragment)},HqZR:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){return.621371*t}var c,l=s("hosL"),r=s("Utv1"),h=s("/eY4"),d=s("cneo"),m=s("fh8t"),b=s.n(m),u=s("6FDT"),p=s.n(u),g=s("5QuX"),f=s.n(g),O=s("ABWa"),j=s.n(O),v=s("ZOvn"),w=s("g1rH"),k=s("LMBq"),x=s("ppmg"),y=s("PmTP"),S=s("svVU"),I=s("/PAx"),z=s("VsMb"),A=s("GdhX"),T=s("68RK"),U=(s("A1fj"),s("ivZ3")),C=s.n(U);const D={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},{BaseLayer:$,Overlay:P}=w.a;delete C.a.Icon.Default.prototype._getIconUrl,C.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});let L=Object(h.a)(c=class extends l.Component{constructor(t){super(t),this.mapRef=Object(l.createRef)(),this.polyRef=Object(l.createRef)(),this.handleViewportChanged=t=>{this.setState({mapCenter:t.center,mapZoom:t.zoom})},this.handleLocationFound=t=>{t.latlng&&this.setState({hasLocation:!0,latlng:t.latlng})},this.onEachFeature=(t,e)=>{const{gpxInfo:s={}}=this.props,a=`<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${r.a.format(s.totalDistance,2)} km</li>\n\t\t\t\t<li>Max speed: ${r.a.format(s.maxSpeed,1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${r.a.format(s.avgSpeed,1)} km/t</li>\n\t\t\t\t<li>Ascent: ${r.a.format(s.ascent||s.calculatedAscend,0)} m</li>\n\t\t\t\t<li>Descent: ${r.a.format(s.decent||s.calculatedDescend,0)} m</li>\n\t\t\t\t<li>Duration: ${r.a.secToHms(s.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`;e.bindPopup(a)},this.handleClick=t=>{const{appState:e}=this.props.stores;e.setLatlng(t.latlng)},this.zoomToGeoJSON=t=>{try{if(t.target){const e=this.mapRef;let s=t.target.getBounds();s&&s._northEast&&(this.setState({bounds:s}),e.fitBounds(s))}}catch(t){console.log(t)}},this.zoomToMarkers=(t=[],e=!1)=>{const{hasZoomedToMarkers:s}=this.state;try{if((e||!s)&&t.length&&t.length>0){const e=this.mapRef,s=C.a.latLngBounds([]);t.forEach(t=>{s.extend([t.lat,t.lng])}),e.fitBounds(s),this.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},this.zoomToAllMarkers=()=>{const{waypoints:t=[]}=this.props;this.zoomToMarkers(t,!0)},this.zoomToFirst10Markers=()=>{const{waypoints:t=[]}=this.props,e=t.slice(0,10);this.zoomToMarkers(e,!0)},this.zoomToFirst3Markers=()=>{const{waypoints:t=[]}=this.props,e=t.slice(0,3);this.zoomToMarkers(e,!0)},this.zoomToFavoriteMarkers=()=>{const{zoomToMarkers:t=[],waypoints:e=[]}=this.props;this.zoomToMarkers(t.length>0?t:e,!0)},this.overlayAdd=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!0,this.setState({visibleLayers:s})},this.overlayRemove=t=>{const{name:e}=t,{visibleLayers:s}=this.state;s[e]=!1,this.setState({visibleLayers:s})},this.polylineOptions=()=>{const{gpxInfo:t}=this.props,{rangeSteps:e}=this.state;let{maxHslColor:s}=this.state;const{appState:a}=this.props.stores,{mapColorMode:o,mapRangeMin:n,mapRangeMax:i}=a;let c=n,l=i;"speed"===o&&t&&t.speeds&&t.speeds.length>0&&(c=Math.floor(Math.min(...t.speeds.map(t=>3.6*t))),l=Math.ceil(Math.max(...t.speeds.map(t=>3.6*t))));const h=r.a.range(c,l,e),d=h.map(t=>{const e=function(t,e,s,a,o){return a+(t-e)*(o-a)/(s-e)}(t,c,l,0,s);let a;a=s-e;const{r:o,g:n,b:i}=r.a.hsl2Rgb(a,100,45);return{color:`rgb(${o}, ${n}, ${i})`}});return a.setMapRange(h,c,l),a.setMapColors(d),d},this.polylineOptionIdxFn=t=>{const{appState:e}=this.props.stores,{mapRange:s}=e;for(let e=0;e<s.length;++e)if(t.meta<=s[e])return e;return s.length},this.polylinetrackPointFactory=t=>{const{gpxInfo:e}=this.props,{appState:s}=this.props.stores,{mapColorMode:a,mapRangeMin:o,mapRangeMax:n}=s;let i=[];"speed"===a&&e.speeds&&e.speeds.length>0?i=e.speeds.map(t=>3.6*t):e&&e.climbs&&(i=e.climbs);return t.filter(t=>t[0]&&t[1]&&t[2]).map((t,e)=>{const s=C.a.latLng(t[1],t[0],t[2]);return i&&i.length>0?(s.meta=i[e]||0,s.meta>n&&(s.meta=n),s.meta<o&&(s.meta=o)):s.meta=0,s})},this.showSpeed=()=>{const{appState:t}=this.props.stores;t.setMapColorMode("speed")},this.handleMarkerClick=(t={})=>{const{onMarkerClick:e=(({title:t,bib:e})=>console.log({title:t,bib:e}))}=this.props;try{e(o({},t))}catch(t){console.log(t)}},this.handleMarker2Click=(t={})=>{const{onMarker2Click:e=(t=>console.log(t))}=this.props;try{e(o({},t))}catch(t){console.log(t)}},this.handleMarker3Click=(t={})=>{const{onMarker3Click:e=(t=>console.log(t))}=this.props;try{e(o({},t))}catch(t){console.log(t)}},this.baseLayerChange=t=>{const{name:e}=t;console.log("baseLayerChange event",t),console.log({name:e});const{appState:s}=this.props.stores;s.setMapChecked(e)},this.whenReadyHandler=t=>{const{target:e}=t;e.on("baselayerchange",this.baseLayerChange),this.mapRef=t.target},this.setMapRef=()=>{},this.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1}}geoJSONStyle(){return{color:"#0347A2",weight:8,fillOpacity:.5,fillColor:"#0347A2"}}geoJSONStyleList(t){const e=v.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}}componentWillReceiveProps(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)}componentWillUnmount(){}render(){const{userStore:e,appState:s}=this.props.stores,{mapChecked:a}=s,{user:n}=e,{settings:c={}}=n,{mapZoom:h,bounds:m=null}=this.state,{waypoints:u=[],waypoints2:g=[],waypoints3:O=[],geoJSONs:U=[],zoomToMarkers:L=[],geojson:M,gpxInfo:R,mapId:_=1,center:F=[61.0779066,9.800984],zoom:E=5,minZoom:B=4,maxZoom:H=18,darkmode:W,height:G=500,heatmap:N=[],skipGeojson:K=!1,zoomToWaypoints:V=!1,fullscreenMap:Y=!1,showSearch:Z=!0,showZoomControl:X=!0,showLayersControl:q=!0,showFullscreenControl:J=!0,showScaleControl:Q=!0,showRange:tt=!0,showTrackProfile:et=!0,distanceMarkerSteps:st="normal",showDistanceMarkers:at=!0,groupWaypoints:ot=!0,largeMarkers:nt,isAnimatedMarkers:it,replaySpeed:ct=1e3,layersControlPosition:lt="topright"}=this.props,{mapColorMode:rt,mapRange:ht,mapColors:dt,mapRangeMin:mt,mapRangeMax:bt}=s,ut=Object(d.i)(M),pt=r.a.asObject(ut,"features",0,"geometry","coordinates");let gt,ft;const Ot=[];if(pt&&pt[0]&&pt[0][0]&&(gt=pt[0][0]&&pt[0][0][0]?[pt[0][0][1],pt[0][0][0]]:[pt[0][1],pt[0][0]],ft=pt[pt.length-1][0]&&pt[pt.length-1][0][0]?[pt[pt.length-1][0][1],pt[pt.length-1][0][0]]:[pt[pt.length-1][1],pt[pt.length-1][0]],R&&R.distances)){let t=0,e=0,s=10;switch(h){case 15:s="long"===st?3:1;break;case 14:s="long"===st?5:2;break;case 13:s="long"===st?7:3;break;case 12:s="long"===st?10:5;break;case 11:case 10:s="long"===st?15:10;break;case 9:s="long"===st?20:15;break;case 8:s="long"===st?30:20;break;case 7:s="long"===st?40:30;break;case 6:s="long"===st?70:50;break;case 5:s="long"===st?150:100;break;default:s="long"===st?200:150}R.distances.forEach((a,o)=>{t+=c.imperial?i(a):a,e+=c.imperial?i(a):a,e>=s&&(e=0,pt[o]&&Array.isArray(pt[o])&&Ot.push({lat:pt[o][1],lng:pt[o][0],title:Math.floor(t),body:""}))})}const{isAdmin:jt}=e;return Object(l.h)(t,null,Object(l.h)("div",{class:j.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:v.a.captureAllEvents,onScroll:v.a.captureAllEvents},Object(l.h)(k.a,{bounds:m,whenCreated:this.setMapRef,onViewportChanged:this.handleViewportChanged,minZoom:B,maxZoom:H,center:F,onLocationfound:this.handleLocationFound,zoom:E,zoomControl:X,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:Y||!C.a.Browser.mobile,tap:!C.a.Browser.mobile,touchZoom:!!C.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:`width: 100%; min-height: ${G}px; height: 100%;`,className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},q&&Object(l.h)(w.a,{position:lt},Object(l.h)($,{checked:"OpenStreetMap.Mapnik"===a,name:"OpenStreetMap.Mapnik"},Object(l.h)(x.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(l.h)($,{checked:"OpenStreetMap.Dark"===a,name:"OpenStreetMap.Dark"},Object(l.h)(x.a,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Â© Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(l.h)($,{checked:"Norway Kartverket topo4"===a,name:"Norway Kartverket topo4"},Object(l.h)(x.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(l.h)($,{checked:"Norway Kartverket topo4graatone"===a,name:"Norway Kartverket topo4graatone"},Object(l.h)(x.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(l.h)($,{checked:"Google Satellite Text"===a,name:"Google Satellite Text"},Object(l.h)(x.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(l.h)(P,{name:"Windspeed"},Object(l.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(P,{name:"Temperature"},Object(l.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(P,{name:"Snow depth"},Object(l.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(l.h)(P,{name:"Precipitation"},Object(l.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),jt&&Object(l.h)(P,{name:"Atmospheric pressure"},Object(l.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),Q&&Object(l.h)(S.a,{metric:!0,imperial:!1}),U&&U.length>0&&U.map((t,e)=>Object(l.h)(I.a,{data:t,style:()=>this.geoJSONStyleList(e)})),!K&&M&&gt&&Object(l.h)(I.a,{data:M,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,eventHandlers:{add:t=>this.zoomToGeoJSON(t)}}),et&&Object(l.h)(t,null,pt&&pt.length>0&&Object(l.h)(p.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(pt),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:4,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+rt})),gt&&Object(l.h)(z.a,{position:gt,icon:T.a.get("marker")},Object(l.h)(A.a,null,"Start position: ",r.a.format(gt[0],4),", ",r.a.format(gt[1],4))),ft&&Object(l.h)(z.a,{position:ft,icon:T.a.get("flag")},Object(l.h)(A.a,null,"End position: ",r.a.format(ft[0],4),", ",r.a.format(ft[1],4))),at&&Ot&&Ot.length>0&&Object(l.h)(t,null,Ot.length>0&&Ot.map(t=>Object(l.h)(z.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(l.h)(A.a,{position:[t.lat,t.lng]},Object(l.h)("h5",null,t.title),Object(l.h)(b.a,{markdown:t.body,markdownOpts:D}))))),O.length>0&&O.reverse().map((t,e)=>Object(l.h)(z.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:a}),eventHandlers:{click:e=>this.handleMarker3Click(o(o({},t),{},{e:e}))},zIndexOffset:100+e})),g.length>0&&g.reverse().map((t,e)=>Object(l.h)(z.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:nt?300:250,iconHeight:nt?30:20,iconAnchorX:nt?10:7,iconAnchorY:nt?10:7,imageCirlceRadius:nt?20:14,lineHeight:nt?"1.5em":"1.1em",fontSize:nt?"1.5em":"1.1em",paddingTop:nt?"2px":"3px",paddingBottom:nt?"2px":"3px",mapChecked:a}),eventHandlers:{click:e=>this.handleMarker2Click(o(o({},t),{},{e:e}))},zIndexOffset:200+e})),u.length>0&&u.reverse().map((e,s)=>Object(l.h)(t,null,it?Object(l.h)(t,null,Object(l.h)(f.a,{position:{lat:e.lat,lng:e.lng},duration:ct,draggable:!1,icon:T.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:nt?300:170,iconHeight:nt?30:15,iconAnchorX:nt?s%2==0?10:290:s%2==0?7:163,iconAnchorY:nt?10:5,imageCirlceRadius:nt?20:10,lineHeight:nt?"1.5em":"0.9em",fontSize:nt?"1.5em":"0.9em",paddingTop:nt?"1px":"3px",paddingBottom:nt?"2px":"3px",titlePrefix:"rest"===e.currentState?"ð¤":"",mapChecked:a,largeMarkers:nt}),eventHandlers:{click:t=>this.handleMarkerClick(o(o({},e),{},{e:t}))},zIndexOffset:300+s})):Object(l.h)(t,null,Object(l.h)(z.a,{position:[e.lat,e.lng],draggable:!1,icon:T.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:nt?300:170,iconHeight:nt?30:15,iconAnchorX:nt?s%2==0?10:290:s%2==0?7:163,iconAnchorY:nt?10:5,imageCirlceRadius:nt?20:10,lineHeight:nt?"1.5em":"0.9em",fontSize:nt?"1.5em":"0.9em",paddingTop:nt?"1px":"3px",paddingBottom:nt?"2px":"3px",titlePrefix:"rest"===e.currentState?"ð¤":"",mapChecked:a,largeMarkers:nt}),eventHandlers:{click:t=>this.handleMarkerClick(o(o({},e),{},{e:t}))},zIndexOffset:300+s}))))),u.length>0&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 65px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToAllMarkers},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-crosshairs"})))),u.length>=3&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 105px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst3Markers},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-crosshairs"})," 3"))),u.length>=10&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 145px; right: 5px; z-index: 999999;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst10Markers},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-crosshairs"})," 10")))),tt&&ht&&ht.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"mb-4"},Object(l.h)("div",{class:"float-right mt-1"},Object(l.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(l.h)("small",null,Object(l.h)("small",null,r.a.format(mt,0),Object(l.h)("span",{class:"text-muted"},"speed"===rt?"km/t":"%")))),ht&&ht.length>0&&ht.map((t,e)=>Object(l.h)("div",{class:"float-left"},Object(l.h)("div",{style:`background-color: ${dt[e].color}; height: 13px; width: 10px;`}))),Object(l.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(l.h)("small",null,Object(l.h)("small",null,r.a.format(bt,0),Object(l.h)("span",{class:"text-muted"},"speed"===rt?"km/t":"%"))))))))}})||c;e.a=L}).call(this,s("hosL").Fragment)},KDoM:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),l=s("nHdA"),r=s("irB3"),h=s("UwwE"),d=s("8Lgr"),m=(s("QkTp"),s("ZOvn"));let b=Object(i.a)(a=class extends o.Component{render(){const{dog:e}=this.props,{userStore:s,dogStore:a,appState:i}=this.props.stores,{user:b}=s,{language:u="en"}=b,{viewmode:p}=i,g=(new Date).getMonth()+1,f=(new Date).getFullYear(),{month:O=g,year:j=f}=this.props,v=parseInt(O<8?j-1:j,10),w=a.findWorkoutSummary(e.id,v)||{},k=e.statuses?e.statuses.map(t=>s.findDogstatus({status:t,language:u})):[],x=a.findVaccineStatuses(e.id),y=a.findVaccineLogStatuses(e.chipId),S=a.findHistoryStatuses(e.id),I=s.findDogstatus({status:e.status,language:u}),z=s.findDogposition({position:e.position,language:u}),A=[];s.findTeam(e.team)&&A.push(s.findTeam(e.team)),e.teams&&e.teams.forEach(t=>{s.findTeam(t)&&A.push(s.findTeam(t))});const T=m.a.hasBirthday(e.birth),U=e.birth?Math.ceil(m.a.daysUntilNextBirthday(e.birth)):365,{url:C="/dogs/"+e.id}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:""},!e.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(e.name,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(e.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(o.h)("span",{class:"float-right"},z&&Object(o.h)("span",{class:`badge badge-${z.class||"primary"} mr-3`},z.icon&&Object(o.h)("i",{class:z.icon})," ",z.name),U<7&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",U," days")),e.birth&&Object(o.h)("span",{class:"mr-2"},n.a.age(e.birth,e.deceased)),"female"===e.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:C},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(o.h)(t,null," - ",Object(o.h)("span",{class:"font-weight-lighter"},e.name)),T&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(o.h)("div",null,A&&A.length>0&&Object(o.h)("small",{class:"font-weight-lighter"},A.map((e,s)=>Object(o.h)(t,null,s>0?", ":"",e))),Object(o.h)("br",null)),Object(o.h)("small",{class:"text-muted"},e.history>0&&Object(o.h)("span",{class:"ml-0"},Object(o.h)("i",{class:"fas fa-file-signature"})," ",e.history.length),e.images>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-image"})," ",e.images.length),w&&w.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(d.a,{stores:this.props.stores,value:w.distanceKm})),w&&w.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:w.elevation})),w&&w.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:w.speedAvg})),e.weight>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(o.h)(h.a,{stores:this.props.stores,value:e.weight})),e.bodyScore>0&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(e.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(o.h)(t,null,Object(o.h)("div",null,x&&x.map(t=>Object(o.h)("span",{class:"badge badge-success mr-2",title:n.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(o.h)("span",{class:"font-weight-light ml-3"},Object(o.h)("i",{class:"fas fa-calendar-check"})," ",n.a.isoDate(t.endDate,!1,!1,!0)))),S&&S.map(t=>Object(o.h)("span",{class:"badge badge-warning mr-2",title:n.a.isoDate(t.endDate,!1,!1,!0)},t.title)))),["beta","advanced"].indexOf(p)>-1&&Object(o.h)(t,null,e.positions&&e.positions.lead&&Object(o.h)("div",{class:""},e.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.lead.distanceKm})),e.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.point.distanceKm})),e.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.team.distanceKm})),e.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:e.positions.wheel.distanceKm})))),Object(o.h)("div",{class:"clearfix pb-0"},e.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),I&&Object(o.h)("span",{class:`badge badge-${I.class} ml-2 mt-1 float-right`},I.icon&&Object(o.h)("i",{class:I.icon})," ",I.name),k&&k.map(e=>Object(o.h)(t,null,Object(o.h)("span",{class:`badge badge-${e.class} ml-2 mt-1 float-right`},e.icon&&Object(o.h)("i",{class:e.icon})," ",e.lang&&e.lang[u]?e.lang[u]:e.name)))),y&&y.length>0&&Object(o.h)(t,null,Object(o.h)("div",{class:"mt-2"},y&&y.filter(t=>t.chipId===e.chipId).map(t=>Object(o.h)("span",{class:`badge badge-${t.inKarens?"warning":"success"} mr-2 mb-1`},Object(o.h)("i",{class:"fas fa-user-md"})," ",t.vaccineAgens.name))))))))}})||a;e.a=b}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return 9*t/5+32}(e),0),"Â°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,1),"Â°C"))}})||a;e.a=c}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,0)," kg"))}})||a;e.a=c}).call(this,s("hosL").Fragment)},YdX6:function(t,e,s){"use strict";(function(t){function a(t,e){if(e){if(r.indexOf(e.status)>-1)return"danger";if(h.indexOf(e.status)>-1)return"warning"}if(t){if(t.distanceKm>50)return"danger";if(t.distanceKm>30)return"warning"}return"success"}var o,n=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("ZOvn");const r=[2,9],h=[4,8];let d=Object(c.a)(o=class extends n.Component{render(){const{dog:e,showWorkout:s,showTeam:o,showNeeds:c,showInfo:r,showName:h=!0,showPosition:d=!0,showAge:m=!1,className:b,size:u}=this.props,{userStore:p,dogStore:g}=this.props.stores,{user:f}=p,{language:O="en"}=f;if(!e)return"small"===u?Object(n.h)("div",{class:"mb-1 position-relative "+b,style:"width: 50px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},"Â ")),h&&Object(n.h)("div",{class:"text-center"},"Â ")):"medium"===u?Object(n.h)("div",{class:"mb-1 position-relative "+b,style:"width: 60px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 25px;"},"Â ")),h&&Object(n.h)("div",{class:"text-center"},"Â ")):Object(n.h)("div",{class:"mb-2 position-relative "+b,style:"width: 92px;"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2  mx-auto"},Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},"Â ")),h&&Object(n.h)("div",{class:"text-center"},"Â "));const j=p.findDogstatus({status:e.status,language:O}),v=p.findDogposition({position:e.position,language:O}),w=g.findCurrentWorkoutSummary(e.id),k=l.a.hasBirthday(e.birth),x=Math.ceil(l.a.daysUntilNextBirthday(e.birth));return"small"===u?Object(n.h)("div",{class:"mb-1 position-relative "+b,style:"width: 50px;"},Object(n.h)("div",{class:`text-center border border-${a(w,e)} rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2`,style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(e.name,!0)))):"medium"===u?Object(n.h)("div",{class:"mb-1 position-relative "+b,style:"width: 60px;"},Object(n.h)("div",{class:`text-center border border-${a(w,e)} rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2`,style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(e.name,!0)))):Object(n.h)("div",{class:"mb-2 position-relative "+b,style:"width: 92px;"},d&&v&&Object(n.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(n.h)("span",{class:`badge badge-${v.class||"primary"} mr-3`},v.icon&&Object(n.h)("i",{class:v.icon})," ",v.name)),Object(n.h)("div",{class:`text-center border border-${a(w,e)} rounded-circle imageRounded mx-auto text-muted pt-2`,style:(e.image?`background-image: url("${e.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(e.name,!0))),Object(n.h)("div",{class:"text-center",style:"line-height: 1.0em;"},Object(n.h)("small",null,h&&Object(n.h)("a",{class:"stretched-link",href:"/dogs/"+e.id},Object(n.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},e.shortname||e.name,k&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))),e.birth&&m&&Object(n.h)(t,null,Object(n.h)("span",null,x<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",x," days")),e.birth&&Object(n.h)("span",{class:"mr-2"},i.a.age(e.birth,e.deceased)),"female"===e.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),o&&Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-light"},p.findTeam(e.team)),Object(n.h)("br",null)),s&&Object(n.h)("small",{class:"text-muted"},w&&w.distanceKm>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-road"})," ",i.a.format(w.distanceKm,0),"km"),w&&w.elevation>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-mountain"})," ",i.a.format(w.elevation,0),"m"),w&&w.duration>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",i.a.format(w.speedAvg,1),"km/t")),r&&Object(n.h)("small",{class:"text-muted"},e.weight&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",i.a.format(e.weight,1)," kg"),e.bodyScore&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",i.a.format(e.bodyScore,1))),c&&Object(n.h)("div",{class:"clearfix pb-0 pt-1"},e.specialNeeds&&Object(n.h)("span",{class:"badge badge-warning mr-2"},Object(n.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),j&&Object(n.h)("span",{class:`badge badge-${j.class} mr-2`},j.icon&&Object(n.h)("i",{class:j.icon})," ",j.name)))))}})||o;e.a=d}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},epqT:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("OhSV");s("ZOvn");const h={showAddComment:!1};let d=Object(r.d)(()=>({subject:Object(i.h)(r.c,{id:"ad.subject"},"AnnonseforespÃ¸rsel"),body:Object(i.h)(r.c,{id:"ad.body"},"Hei, Jeg Ã¸nsker Ã¥ vite mer om annonsering i appen The Musher.")}))(n=Object(l.a)(n=class extends i.Component{constructor(t){var e;super(t),e=this,this.logClick=async function(){const{adStore:t,userStore:s}=e.props.stores,{ads:a=[]}=t;let o=a.length>0?a[0].id:null;const{user:n={}}=s;await t.logClick({id:o,user:n.id})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.updateTimer={},this.inputRef={},this.apiServer=c.a.getApiServer()}async loadAd(t=this.props){this.setState({isLoading:!0});const{adStore:e,workoutStore:s,userStore:a,appState:o}=this.props.stores,{section:n}=this.props,{path:i=""}=o,{currentTeam:c}=s,{user:l}=a,{language:r="en"}=l;let h,d,m,b,u,p={};c&&(p=a.findTeam(c,!0),p&&p.id&&(h=a.findTeamAmbition({ambition:p.ambitions,language:r}),d=a.findTeamType({type:p.type,language:r}),m=p.postalcode,b=p.place,u=p.country));let g=i.replace(/\d+$/,"detail");g=i.replace(/\/\d+/,"/detail"),await e.load({query:{page:g,section:n}}),e.setTime(),this.setState({isLoading:!1})}componentDidMount(){this.loadAd()}componentWillReceiveProps(t){t.path!==this.props.path&&this.loadAd(t)}render(){const{adStore:e,userStore:s,appState:a}=this.props.stores,{subject:o,body:n,section:c}=this.props,{path:l}=a,{user:h={}}=s,{ads:d=[],time:m}=e;if(!h||!h.id||!d||0===d.length)return l.match(/\/(home)/i)?Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(r.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(r.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(r.b,null,Object(i.h)("a",{href:`mailto:post@themusher.no?subject=${o}: ${l}: ${c}&body=${n}`,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(r.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(t,null);const b=d[0];return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:`${this.apiServer}/api/ads/${b.id}/view?user=${h.id}&time=${m}`,style:"width: 1; height: 1; opacity: 0.1;"})))),b.target?Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+b.url,target:b.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},b.images&&b.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:b.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+b.url,onClick:this.logClick},b.images&&b.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:b.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))}})||n)||n;e.a=d}).call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:c={}}=i;return c.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,0)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))}})||a;e.a=c}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV");s("ZOvn");let l=Object(i.a)(a=class extends o.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:l={}}=i;return l.imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(function(t){return.621371*t}(e),1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(c.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,n.a.format(e,1)," ",s?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(c.c,{id:"workouts.kmt"},"km/t"))))}})||a;e.a=l}).call(this,s("hosL").Fragment)},om2D:function(t,e,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=(s("cneo"),s("Utv1"),s("u2zT"));let c=Object(n.a)(a=class extends o.Component{constructor(t){super(t),this.handleAddImage=t=>{const{addToImages:e=!0}=this.props,{updateField:s,object:a,field:o}=this.props;if(o&&s({id:a.id,field:o,value:t,skipTimer:!0}),e){const e=[];e.push(t),s({id:a.id,field:"images",value:e,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:t=(()=>{}),before:e=(()=>{}),after:s=(()=>{}),autoOpen:a=!0}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(i.a,{handleAddImage:this.handleAddImage,uploadStatus:t,apiUrl:"/api/fileupload",before:e,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;e.a=c},sqi2:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("cneo"),h=s("OhSV"),d=s("fh8t"),m=s.n(d),b=s("3wGD"),u=(s("ETxl"),s("ZOvn"));const p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}};let g=Object(l.a)(n=class extends i.Component{constructor(t){var e;super(t),e=this,this.likeComment=async function(t){const{callback:s=(()=>{})}=e.props,a=t.target.parentElement.dataset.id||t.target.dataset.id,{workout:o}=e.props,{workoutStore:n}=e.props.stores,i=await n.likeWorkoutComment({id:o.id,commentId:a});return i&&200===i.status&&s({type:"likeComment",workout:o,commentId:a,response:i}),!0},this.likeReply=async function(t){const{callback:s=(()=>{})}=e.props,a=t.target.parentElement.dataset.id||t.target.dataset.id,o=t.target.parentElement.dataset.comment||t.target.dataset.comment,{workout:n}=e.props,{workoutStore:i}=e.props.stores,c=await i.likeWorkoutCommentReply({id:n.id,replyId:a,commentId:o});c&&200===c.status&&s({type:"likeReply",workout:n,commentId:o,replyId:a,response:c})},this.replyComment=async function(t){const s=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:a}=e.state;a[s]=!a[s],e.setState({showAddComment:a},()=>{e.inputRef[s]&&e.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:t}=this.state;this.setState({showAllComments:!t})},this.toggleReplies=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAllReplies:s}=this.state;s[e]=!s[e],this.setState({showAllReplies:s})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[e]=s,this.setState({viewImageIdx:a})},this.translate=async function(t){t.preventDefault(),t.stopPropagation();const{replyid:s,commentid:a}=t.target.closest("button").dataset,{workout:o}=e.props,{userStore:n,teamStore:i}=e.props.stores,{user:c}=n,{showOriginal:l={},translatedText:r={}}=e.state,h=`${a}${s?"-"+s:""}`;l[h]=0,r[h]=s?await i.translateCommentReply({commentid:a,replyid:s,object:o,user:c}):await i.translateComment({commentid:a,object:o,user:c}),e.setState({showOriginal:l,translatedText:r})},this.showOriginal=t=>{const{replyid:e,commentid:s}=t.target.closest("button").dataset;t.preventDefault(),t.stopPropagation();const{showOriginal:a={}}=this.state;a[`${s}${e?"-"+e:""}`]=1,this.setState({showOriginal:a})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},p),this.inputRef={}}render(){const{showAddComment:e,showAllComments:s,showAllReplies:a,viewImageIdx:o,showOriginal:n={},translatedText:l={}}=this.state,{workout:d,callback:p=(()=>{}),col:g=12,offset:f=0,compact:O=!1}=this.props,{userStore:j,teamStore:v}=this.props.stores,{user:w,isAdmin:k}=j,{language:x="en"}=w;let y,S=[],I=0,z=0;return d.comments&&(I=d.comments.length,s?S=d.comments:(y=O?0:1,S=d.comments.slice(Math.max(I-y,0))),z=S.length),Object(i.h)("div",null,d&&S&&S.reverse().map(s=>{const{user:g={}}=s,f=v.findPublicTeamByMembers(g.id),O=u.a.displayNameShort(g),j=u.a.displayName(g),S=g.image||(g.images?g.images[0]:void 0),I=s.likes&&s.likes.findIndex(t=>t.user===w.id)>-1;let z=[],A=0,T=0;s.comments&&(A=s.comments.length,z=a[s.id]?s.comments:s.comments.slice(0,y),T=z.length);const U=[];if(s.images){const t=Object(r.i)(s.images);U.push(...t)}const C=o[s.id]?o[s.id]:0,D=U&&U[C]?U[C]:null,{currentLocationGeocode:$={}}=s,P=v.getCommentTranslations({object:d,commentid:s.id,targetLang:x})||l[s.id];let L=P||s.comment;return n[s.id]&&(L=s.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(S?`background-image: url("${S.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!g.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},j),f&&f.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},f.filter(t=>1===t.public).slice(0,2).map(e=>Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))))),Object(i.h)(m.a,{markdown:u.a.replaceImages(L,s.images,x),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"container-fluid px-3 mt-1"},D&&Object(i.h)("div",{class:"clearfix row"},Object(i.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:D.s3LargeLink}))),U&&U.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},U.map((e,a)=>Object(i.h)(t,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(I?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),s.language!==x&&Object(i.h)(t,null,"-",!n[s.id]&&P?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),k&&$&&$.formatted_address&&Object(i.h)(t,null,Object(i.h)("span",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",$.formatted_address)))),s.likes&&s.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},s&&z&&z.map(e=>{const{user:a={}}=e,o=v.findPublicTeamByMembers(a.id),r=a.firstname?`${c.a.ucfirst(a.firstname,!0)}${c.a.ucfirst(a.lastname,!0)}`:""+c.a.ucfirst(a.email||"",!0),b=a.firstname?`${a.firstname} ${a.lastname}`:""+a.email,p=a.image||(a.images?a.images[0]:void 0),g=e.likes&&e.likes.findIndex(t=>t.user===w.id)>-1,f=v.getCommentReplyTranslations({object:d,commentid:s.id,replyid:e.id,targetLang:x})||l[`${s.id}-${e.id}`];let O=f||e.comment;return n[`${s.id}-${e.id}`]&&(O=e.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},r)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},b),o&&o.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},o.filter(t=>1===t.public).slice(0,2).map(e=>Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))))),Object(i.h)(m.a,{markdown:u.a.replaceImages(O,e.images,x),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(g?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":e.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),e.language!==x&&Object(i.h)(t,null,"-",!n[`${s.id}-${e.id}`]&&f?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":e.id,onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id,"data-replyid":e.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))}),A-T>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:A-T}},"Vis ",A-T," flere kommentarer...")))),e[s.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(b.a,{stores:this.props.stores,workout:d,callback:p,commentId:s.id,inputRef:t=>this.inputRef[s.id]=t,inputRefObject:this.inputRef})))}),I-z>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:I-z}},"Vis ",I-z," flere kommentarer..."))),s&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||n;e.a=g}).call(this,s("hosL").Fragment)},u2zT:function(t,e,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=s("Utv1"),c=s("OhSV");let l=Object(n.a)(a=class extends o.Component{constructor(t){super(t),this.dropRef=Object(o.createRef)(),this.handleDrag=t=>{t.preventDefault(),t.stopPropagation()},this.handleDragIn=t=>{t.preventDefault(),t.stopPropagation(),this.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=t=>{t.preventDefault(),t.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=t=>{if(t.preventDefault(),t.stopPropagation(),this.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(let e=0,s=t.dataTransfer.files.length;e<s;e+=1){this.readLocalFile(t.dataTransfer.files[e])}this.dragCounter=0}},this.handleAddFiles=t=>{t.preventDefault();const e=t.target;for(let t=0,s=e.files.length;t<s;t+=1){this.readLocalFile(e.files[t])}},this.handleEvent=()=>{0},this.handleUpload=t=>{const{uploadStatus:e=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;e(!1),i.a.isFunction(s)&&s();const o=new FormData;o.append("files[]",t);const n={progress:1};n.xhr=new XMLHttpRequest,n.xhr.upload.addEventListener("progress",e=>{this.updateProgress(e,t)}),n.xhr.addEventListener("loadstart",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("load",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("loadend",e=>{const s=t;i.a.isFunction(a)&&a(),this.handleEvent(e,s)}),n.xhr.addEventListener("progress",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("error",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("abort",e=>{this.handleEvent(e,t)}),n.xhr.addEventListener("readystatechange",e=>{this.uploadDone(e,t)}),n.xhr.open("POST",`${i.a.getApiServer()}${this.props.apiUrl}`),n.xhr.setRequestHeader("Authorization","Bearer "+i.a.getJwtToken()),n.xhr.send(o);const c=t.name,l=this.state.uploadedFilesData;l[c]||(l[c]={}),l[c].uploadMeta=n,l[c].imageNum=this.state.imageNum,this.setState({uploadedFilesData:l})},this.readLocalFile=t=>new Promise((e,s)=>{const a=new FileReader;a.addEventListener("error",t=>{s(t)}),a.addEventListener("load",s=>{const a=t,o=a.name,n=this.state.uploadedFilesData;n[o]||(n[o]={}),n[o].event=s,this.setState({uploadedFilesData:n}),this.handleUpload(a),e(s)}),a.readAsDataURL(t)}),this.updateProgress=(t,e)=>{if(t.lengthComputable){const s=e.name,a=this.state.uploadedFilesData,o=t.loaded/t.total*100;0,a[s].uploadMeta.progress=o,this.setState({uploadedFilesData:a})}},this.uploadDone=(t,e)=>{const s=e.name,a=this.state.uploadedFilesData,o=a[s].uploadMeta;if(o&&4===o.xhr.readyState&&201===o.xhr.status){const t=JSON.parse(o.xhr.responseText).data.files;for(let e=0;e<t.length;e+=1){this.addFileToUpload(t[e]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(t){const{uploadedFilesData:e}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete e[t.name],this.setState({uploadedFilesData:e}),s(t),a(!0)}componentDidMount(){const t=this.dropRef.current;t.addEventListener("dragenter",this.handleDragIn),t.addEventListener("dragleave",this.handleDragOut),t.addEventListener("dragover",this.handleDrag),t.addEventListener("drop",this.handleDrop);const{autoOpen:e}=this.props;e&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:t}=this.state;return Object(o.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(o.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(o.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(o.h)("div",null,Object(o.h)(c.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(o.h)("div",null,Object(o.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:t=>{this.fileInput=t}})),Object(o.h)("div",null,Object.keys(t).length>0?Object(o.h)("h3",null,Object(o.h)(c.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(o.h)("ul",{class:"list-group"},Object.keys(t).map(e=>{const{uploadMeta:s={}}=t[e],a=e.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(o.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(o.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(o.h)("img",{class:"img-fluid mr-3",src:t[e].event.target.result,style:"max-height: 50px;"}),Object(o.h)("small",null,t[e].event.uploadDone),Object(o.h)(c.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(o.h)("small",null,i.a.formatBytes(t[e].event.total,2))),Object(o.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(o.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;e.a=l},ukv5:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function c(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var l,r=s("hosL"),h=s("Utv1"),d=s("/eY4"),m=(s("Y3FI"),s("OhSV")),b=(s("cneo"),s("fh8t"),s("ZOvn")),u=s("nHdA"),p=(s("irB3"),s("UwwE"),s("8Lgr"));s("QkTp");let g=Object(d.a)(l=class extends r.Component{constructor(...t){super(...t),this.hideDetail=t=>{t.preventDefault(),t.stopPropagation(),this.setState({stateDetail:{state:"",idx:0}})},this.showStateDetail=t=>{t.preventDefault(),t.stopPropagation();const e=t.target.closest("div").dataset;this.setState({stateDetail:o({},e)})},this.nextStateDetail=t=>{t.preventDefault(),t.stopPropagation();const{states:e,duration:s}=this.props,{stateDetail:a={}}=this.state,o=parseInt(a.idx,10)+1,n=e[o];n&&this.setState({stateDetail:{idx:o,state:n.state,duration:n.duration,distance:n.distance,avgspeed:n.avgSpeed,statespeeds:n.stateSpeeds,point:n.point,start:n.start,end:n.end,percent:h.a.normalizeBetween(n.duration,0,s,0,100)}})},this.prevStateDetail=t=>{t.preventDefault(),t.stopPropagation();const{states:e,duration:s}=this.props,{stateDetail:a={}}=this.state,o=parseInt(a.idx,10)-1,n=e[o];n&&this.setState({stateDetail:{idx:o,state:n.state,duration:n.duration,distance:n.distance,avgspeed:n.avgSpeed,statespeeds:n.stateSpeeds,point:n.point,start:n.start,end:n.end,percent:h.a.normalizeBetween(n.duration,0,s,0,100)}})}}render(){const{states:e,duration:s,height:a="20px",showText:o=!0}=this.props,{stateDetail:n={}}=this.state;return Object(r.h)(t,null,Object(r.h)("div",{class:"row"},e&&Object(r.h)("div",{class:"col-12 px-0"},Object(r.h)("div",{class:"progress",style:`height: ${n&&n.idx?"20px":a};`},e.map((e,a)=>{const c=Math.ceil(h.a.normalizeBetween(e.duration,0,s,0,100));let l=c;return n&&n.idx==a&&(l=c<10?10:c),Object(r.h)(t,null,Object(r.h)("div",{class:"progress-bar bg-"+i(e.state),role:"progressbar",style:`width: ${l}%`,"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100","data-idx":a,"data-state":e.state,"data-duration":e.duration,"data-distance":e.distance,"data-avgspeed":e.avgSpeed,"data-statespeeds":e.stateSpeeds,"data-point":e.point,"data-start":e.start,"data-end":e.end,"data-percent":h.a.normalizeBetween(e.duration,0,s,0,100),onClick:this.showStateDetail},o?Object(r.h)(t,null,Object(r.h)("nobr",null,c>10&&Object(r.h)(t,null,"rest"===e.state?Object(r.h)(t,null,h.a.secToHms(e.duration,!0)):Object(r.h)(t,null,h.a.format(e.distance/1e3,0),"km")),n&&n.idx==a?Object(r.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")):Object(r.h)(t,null,n&&n.idx==a?Object(r.h)("i",{class:`fas fa-hand-point-down text-${"rest"===e.state?"dark":"warning"} mx-2`}):"")))})),n&&n.state&&Object(r.h)(t,null,Object(r.h)("div",{class:"card position-relative"},Object(r.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:c(n.state)})," ",h.a.format(n.percent,1),"%")),Object(r.h)("div",{class:"card-body"},"rest"===n.state?Object(r.h)(t,null,Object(r.h)("div",{class:"card-text row"},Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(m.c,{id:"workouts.duration"},"Vargihet")),Object(r.h)("h6",null,h.a.secToHms(n.duration,!0))),n.point&&Object(r.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fa-map-marked ml-2"})," ",Object(r.h)(m.c,{id:"workouts.position"},"Position")),Object(r.h)("h6",null,n.point))),Object(r.h)("div",{class:"card-text row"},n.start&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(m.c,{id:"workouts.starttime"},"Start")),Object(r.h)("h6",null,b.a.formatDate(h.a.parseInputDate(n.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),n.end&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(m.c,{id:"workouts.endtime"},"End")),Object(r.h)("h6",null,b.a.formatDate(h.a.parseInputDate(n.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(r.h)(t,null,Object(r.h)("div",{class:"card-text row"},Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-road ml-2"})," ",Object(r.h)(m.c,{id:"workouts.distance"},"Distanse")),Object(r.h)("h6",null,Object(r.h)(p.a,{stores:this.props.stores,value:n.distance/1e3}))),Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(m.c,{id:"workouts.duration"},"Vargihet")),Object(r.h)("h6",null,h.a.secToHms(n.duration,!0))),Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(r.h)(m.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(r.h)("h6",null,Object(r.h)(u.a,{stores:this.props.stores,value:n.distance/n.duration*3.6})))),Object(r.h)("div",{class:"card-text row"},n.start&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(m.c,{id:"workouts.starttime"},"Start")),Object(r.h)("h6",null,b.a.formatDate(h.a.parseInputDate(n.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),n.end&&Object(r.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-clock ml-2"})," ",Object(r.h)(m.c,{id:"workouts.endtime"},"End")),Object(r.h)("h6",null,b.a.formatDate(h.a.parseInputDate(n.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(r.h)("div",{class:"float-right"},Object(r.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-times"})),n.idx<e.length-1&&Object(r.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-angle-right"})),n.idx>0&&Object(r.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-angle-left"}))))))))}})||l;e.a=g}).call(this,s("hosL").Fragment)},"vY+r":function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),r=s("OhSV"),h=s("ZOvn");const d={};let m=Object(l.a)(n=class extends i.Component{constructor(t){super(t),this.toggleViews=()=>{const{showViewList:t}=this.state,{isTeamAdmin:e,isAdmin:s}=this.props;(e||s)&&this.setState({showViewList:!t})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}render(){const{showViewList:e}=this.state,{storyStore:s,teamStore:a,workoutStore:o}=this.props.stores,{views:n,object:l,type:d="story",onTeamClick:m=(()=>{}),onUserClick:b=(()=>{})}=this.props,u=[];Object.entries(l.statistics).forEach(([t,e])=>{Object.entries(e).forEach(([t,e])=>{e.viewUsers&&u.push(e.viewUsers)})});const p=u.flat().slice(0,50);return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-end mb-2"},Object(i.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},n," ",Object(i.h)(r.c,{id:"story.views"},"views"))),e&&Object(i.h)("div",{class:"mt-3 mb-3"},p&&p.map(e=>{let n,l,r;if("story"===d?(n=s.findPublicUser(e),l=s.findPublicTeamByMembers(e)):"team"===d?(n=a.findPublicUser(e),l=a.findPublicTeamByMembers(e)):"workout"===d&&(n=o.findPublicUser(e),l=o.findPublicTeamByMembers(e)),!n)return"";c.a.isArray(l)&&(r=l.find(t=>1===t.public));const b=h.a.getImage({user:n,team:r,priority:"user"}),u=h.a.displayNameShort(n),p=h.a.displayName(n,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},r?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+r.uuidv4,title:r.name,onClick:t=>m(t,r.uuidv4),class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(b?`background-image: url("${b}"); background-size: cover;`:"")},!b&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},u))),Object(i.h)("div",{class:"ml-2 "},p," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",r.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(b?`background-image: url("${b}"); background-size: cover;`:"")+" opacity: 0.5;"},!b&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},u)),Object(i.h)("div",{class:"ml-2"},p)))}),n>p.length&&Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"story.limited-to"},"Limited to max 50 users.")))))}})||n;e.a=m}).call(this,s("hosL").Fragment)},wLBv:function(t,e,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");let c=Object(i.a)(a=class extends o.Component{render(){const{musher:t}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?`background-image: url("${t.image.s3SmallLink}");`:""},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(t.email,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(o.h)("span",{class:"float-right"}),Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.fname||t.email)))))}})||a;e.a=c},wanP:function(t,e,s){"use strict";(function(t){function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=(s("Utv1"),s("/eY4")),l=s("eK6s"),r=s.n(l);const h={mouseData:{}};let d=Object(c.a)(n=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),this.svgRef=null}render(){const{radius:e=50,heightAdd:s=0,color:a="success",showPercentText:o=!0,percent:n=0,prefix:c="",showCenterText:l=!1,centerText:h,centerTextSize:d,centerTextX:m,centerTextY:b,total:u="",totalY:p="90%",totalX:g="50%",totalTextAnchor:f="middle",completed:O="",completedY:j="65%",completedX:v="50%",completedTextAnchor:w="middle"}=this.props,k=.3*e,x=e-k/2,y=.3*e,S=2*x*Math.PI,I=.75*S,z=`${I} ${S}`,A=`rotate(135, ${e}, ${e})`,T=I-Math.min(Math.max(n,0),100)/100*I,U=d||e/2.5,C=e/5;return Object(i.h)(t,null,Object(i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:r.a.svg,width:2*e,height:2*e+s,preserveAspectRatio:"none",ref:t=>this.svgRef=t},Object(i.h)("circle",{class:""+r.a.gaugeBackground,cx:e,cy:e,r:x,strokeWidth:k,strokeDasharray:z,strokeLinecap:"round",transform:A}),Object(i.h)("circle",{class:`${r.a[a]} ${r.a.gauge}`,cx:e,cy:e,r:x,stroke:"url(#grad)",strokeDasharray:z,strokeDashoffset:T,strokeLinecap:"round",strokeWidth:y,style:{transition:"stroke-dashoffset 0.3s"},transform:A}),o&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:m||"50%",y:b||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":U},n," ",c),l&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:m||"50%",y:b||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":U},h),O&&Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a[a]}`,x:v,y:j,"dominant-baseline":"middle","text-anchor":w,"font-size":C},O),Object(i.h)("text",{class:`${r.a.gaugeText} ${r.a.secondary}`,x:g,y:p,"dominant-baseline":"middle","text-anchor":f,"font-size":C},u)))}})||n;e.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=11.chunk.bd58e.esm.js.map