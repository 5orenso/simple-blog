(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/DnB":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var l,d=s("hosL"),o=(s("Utv1"),s("/eY4"));const n={};let c=Object(o.a)(l=class extends d.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},n),this.container=null}componentDidMount(){const{horizontal:e,vertical:t=""}=this.props,s={behavior:"smooth"};e&&(s.inline=e),t&&(s.block=t),this.container.scrollIntoView(s)}render(){return Object(d.h)("div",{ref:e=>this.container=e},"")}})||l;t.a=c},"6GRK":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d,o=s("hosL"),n=s("/eY4"),c=(s("cneo"),s("Utv1")),r=s("OhSV"),h=s("go65");let p=Object(n.a)(d=class extends o.Component{constructor(e){var t;super(e),t=this,this.handleAdd=()=>{const{data:e}=this.state,{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:i({},e)}),this.setState({data:{name:"",url:""}})},this.removeLink=async function(e){const{dogStore:s}=t.props.stores,{object:a}=t.props,{name:i,id:l}=e.target.closest("button").dataset;s.removeLink({id:a.id,name:i,linkId:l})},this.state={data:{}}}render(){const{showFiles:t=!0,object:s={}}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 mt-3"},t&&Object(o.h)(e,null,Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},(!s.links||0===s.links.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-link"})),Object(o.h)("h3",null,Object(o.h)(r.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(o.h)(r.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),s.links&&s.links.map(e=>Object(o.h)("div",{class:"col-12 p-1"},Object(o.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(e.createdDate,!1,!1,!0)),Object(o.h)("span",{class:"mr-2"},e.name),Object(o.h)("span",{class:"mr-2"},e.url),Object(o.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeLink,"data-name":e.name,"data-id":e.id},Object(o.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(o.h)("div",{class:"col-12 mt-3"},Object(o.h)("details",null,Object(o.h)("summary",null,Object(o.h)(r.c,{id:"dogs.link-add"},"Add new link")),Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:"name"},Object(o.h)(r.c,{id:"dogs.link-name"},"Name")),Object(o.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(h.a)(this,"data.name")}),Object(o.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(o.h)(r.c,{id:"dogs.link-name-help"},"Name of link"))),Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:"url"},Object(o.h)(r.c,{id:"dogs.link-url"},"Url")),Object(o.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(h.a)(this,"data.url")}),Object(o.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(o.h)(r.c,{id:"dogs.link-url-help"},"URL of link"))),Object(o.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(o.h)(r.c,{id:"dogs.link-add"},"Add link")))))}})||d;t.a=p}).call(this,s("hosL").Fragment)},KOz6:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d,o=s("hosL"),n=s("/eY4"),c=(s("cneo"),s("Utv1")),r=s("OhSV"),h=s("go65");let p=Object(n.a)(d=class extends o.Component{constructor(e){var t;super(e),t=this,this.handleAdd=()=>{const{data:e}=this.state,{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:i({},e)}),this.setState({data:{name:"",description:"",url:""}})},this.removeAchievement=async function(e){const{dogStore:s}=t.props.stores,{object:a}=t.props,{name:i,id:l}=e.target.closest("button").dataset;s.removeAchievement({id:a.id,name:i,achievementId:l})},this.state={data:{}}}render(){const{data:t}=this.state,{showFiles:s=!0,object:a={}}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 mt-3"},s&&Object(o.h)(e,null,Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},(!a.achievements||0===a.achievements.length)&&Object(o.h)(e,null,Object(o.h)("div",{class:"text-center text-muted"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"fas fa-trophy"})),Object(o.h)("h3",null,Object(o.h)(r.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(o.h)(r.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),a.achievements&&a.achievements.map(e=>Object(o.h)("div",{class:"col-12 p-1"},Object(o.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(e.date,!1,!1,!0)),Object(o.h)("span",{class:"mr-2"},e.name),Object(o.h)("span",{class:"mr-2"},e.url),Object(o.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeAchievement,"data-name":e.name,"data-id":e.id},Object(o.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(o.h)("div",{class:"col-12 mt-3"},Object(o.h)("details",null,Object(o.h)("summary",null,Object(o.h)(r.c,{id:"dogs.achievement-add"},"Add new achievement")),Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:"name"},Object(o.h)(r.c,{id:"dogs.achievement-name"},"Name")),Object(o.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(h.a)(this,"data.name"),value:t.name}),Object(o.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(o.h)(r.c,{id:"dogs.achievement-name-help"},"Name of achievement"))),Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:"date"},Object(o.h)(r.c,{id:"dogs.achievement-date"},"Date")),Object(o.h)("input",{type:"date",class:"form-control",id:"date","aria-describedby":"dateHelp",onInput:Object(h.a)(this,"data.date"),value:t.date}),Object(o.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(o.h)(r.c,{id:"dogs.achievement-date-help"},"Date of achievement"))),Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:"description"},Object(o.h)(r.c,{id:"dogs.achievement-description"},"Description")),Object(o.h)("input",{type:"text",class:"form-control",id:"description","aria-describedby":"descriptionHelp",onInput:Object(h.a)(this,"data.description"),value:t.description}),Object(o.h)("small",{id:"descriptionHelp",class:"form-text text-muted"},Object(o.h)(r.c,{id:"dogs.achievement-description-help"},"Description of achievement"))),Object(o.h)("div",{class:"form-group"},Object(o.h)("label",{for:"url"},Object(o.h)(r.c,{id:"dogs.achievement-url"},"Url")),Object(o.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(h.a)(this,"data.url"),value:t.url}),Object(o.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(o.h)(r.c,{id:"dogs.achievement-url-help"},"URL of achievement"))),Object(o.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(o.h)(r.c,{id:"dogs.achievement-add"},"Add achievement")))))}})||d;t.a=p}).call(this,s("hosL").Fragment)},OMjx:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var l,d,o,n,c,r,h=s("hosL"),p=s("Utv1"),b=s("/eY4"),u=s("cneo"),m=s("go65"),O=s("Y3FI"),f=s("OhSV"),j=(s("fh8t"),s("ZOvn")),g=s("om2D"),v=s("TiXY"),y=s("KOz6"),x=s("6GRK"),w=s("/DnB");const k=j.a.marginTop(!1),F=j.a.marginTopBack(!1),I=j.a.marginBottom(!1);let D=Object(b.a)(l=class extends h.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;if(t.dataset.retry||(t.dataset.retry=0),t.dataset.retry=parseInt(t.dataset.retry,10)+1,t.dataset.retry>5)return!1;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{dogStore:s}=t.props.stores,{dog:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeFile=async function(e){const{dogStore:s}=t.props.stores,{dog:a}=t.props;s.removeFile({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})}}render(){const{saved:t,dog:s,type:a="text",datalist:i=[],min:l,max:d,step:o,field:n,title:c,icon:r,help:b,onInput:u,updateField:m,refName:O,showImages:j=!1,showFiles:w=!0}=this.props;let k=s[n]||"",F=d;return"date"===a&&(k&&(k=p.a.isoDate(s[n],!1,!1,!0)),"today"===d&&(F=p.a.isoDate(void 0,!1,!1,!0))),"file"===a?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r+" text-muted"})," ",c),w&&Object(h.h)(e,null,Object(h.h)("div",{class:"container-fluid"},Object(h.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(h.h)(e,null,Object(h.h)("div",{class:"text-center text-muted"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-file"})),Object(h.h)("h3",null,Object(h.h)(f.c,{id:"dogs.no-files-title"},"No files attached to this dog!")),Object(h.h)(f.c,{id:"dogs.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(e=>Object(h.h)("div",{class:"col-12 p-1"},Object(h.h)("span",{class:"font-weight-lighter mr-2"},p.a.isoDate(e.createdDate,!1,!1,!0)),Object(h.h)("span",{class:"mr-2"},e.name),Object(h.h)("span",{class:"font-weight-lighter mr-2"},p.a.formatBytes(e.size,1)),Object(h.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":e.name},Object(h.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(h.h)(v.a,{saved:t,object:s,field:n,updateField:m}),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):"textarea"===a?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r+" text-muted"})," ",c),Object(h.h)("textarea",{type:"text",class:"form-control "+(t[`${n}.${s.id}`]?"is-valid":""),id:n+"Input","aria-describedby":n+"Help",value:k,"data-id":s.id,"data-field":n,onInput:u,rows:10}),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):"links"===n?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r+" text-muted"})," ",c),Object(h.h)(x.a,{saved:t,stores:this.props.stores,object:s,field:n,updateField:m}),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):"achievements"===n?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r+" text-muted"})," ",c),Object(h.h)(y.a,{saved:t,stores:this.props.stores,object:s,field:n,updateField:m}),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):"image"===a?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r})," ",c),j&&Object(h.h)(e,null,Object(h.h)("div",{class:"container-fluid"},Object(h.h)("div",{class:"row"},(!s.images||0===s.images.length)&&Object(h.h)(e,null,Object(h.h)("div",{class:"text-center text-muted mb-3"},Object(h.h)("div",{class:"display-1"},Object(h.h)("i",{class:"fas fa-images"})),Object(h.h)("h3",null,Object(h.h)(f.c,{id:"dogs.no-images-title"},"No images for this dog!")),Object(h.h)(f.c,{id:"dogs.no-images-text"},"You can add more images to this dog. Puppy pictures, workout pictures, lazy summer pictures, etc. All is a nice way to create a better profile for this dog."))),"image"===n?Object(h.h)(e,null,s.image&&s.image.s3SmallLink&&Object(h.h)("div",{class:"col-3 p-1"},Object(h.h)("img",{src:s.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(h.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":s.image.name},Object(h.h)("i",{class:"fas fa-trash"})," Remove"),Object(h.h)("span",{class:"badge badge-success"},"Main"))):Object(h.h)(e,null,s.images&&s.images.map(e=>Object(h.h)("div",{class:"col-3 p-1"},Object(h.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(h.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(h.h)("i",{class:"fas fa-trash"})," Remove"))))))),"image"===n?Object(h.h)(e,null,Object(h.h)(g.a,{saved:t,object:s,field:n,updateField:m,autoOpen:!1,addToImages:!1})):Object(h.h)(e,null,Object(h.h)(g.a,{saved:t,object:s,field:n,updateField:m,autoOpen:!1})),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):"datalist"===a?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r})," ",c),Object(h.h)("input",{list:"list-"+n,class:"form-control "+(t[`${n}.${s.id}`]?"is-valid":""),id:n+"Input","aria-describedby":n+"Help",value:k,"data-id":s.id,"data-field":n,onInput:u}),Object(h.h)("datalist",{id:"list-"+n},i.map(e=>Object(h.h)("option",{value:e[0]},e[1]))),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):"select"===a?Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r})," ",c),Object(h.h)("select",{type:a,class:"form-control "+(t[`${n}.${s.id}`]?"is-valid":""),id:n+"Input","aria-describedby":n+"Help",value:k,"data-id":s.id,"data-field":n,onInput:u},Object(h.h)("option",{value:""},"-- Velg kj칮nn --"),i.map(e=>Object(h.h)("option",{value:e[0]},e[1]))),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b)):Object(h.h)("div",{class:"form-group "+(t[`${n}.${s.id}`]?"is-valid":"")},Object(h.h)("label",{for:n+"Input"},r&&Object(h.h)("i",{class:r})," ",c)," ",O,Object(h.h)("input",{type:a,class:"form-control "+(t[`${n}.${s.id}`]?"is-valid":""),id:n+"Input","aria-describedby":n+"Help",min:l,max:F,step:o,value:k,"data-id":s.id,"data-field":n,onInput:u}),t[`${n}.${s.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:n+"Help",class:"form-text text-muted"},b))}})||l,S=Object(b.a)(d=class extends h.Component{toggleType(e){const{dogStore:t}=this.props.stores,{object:s,type:a,field:i,updateField:l,isNew:d}=this.props;let o=Object(u.i)(s[i]);o=o===e?null:e,null===o?l({id:s.id,field:i,value:o,type:a,isNew:d}):s.teams.indexOf(o)>-1?t.removeTeam({id:s.id,team:o}):s.team?t.addTeam({id:s.id,team:o}):l({id:s.id,field:i,value:o,type:a,isNew:d})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:t}=this.props.stores,{teams:s}=t,{saved:a,object:i,field:l,title:d,icon:o,help:n}=this.props,c=Object(u.i)(i[l]),{highlight:r}=this.props;return Object(h.h)("div",{class:"form-group mb-1 pb-1 border-bottom "+(a[`${l}.${i.id}`]?"is-valid":"")},Object(h.h)("label",{for:l+"Input"},o&&Object(h.h)("i",{class:o+" text-muted"})," ",d),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},s&&s.map((t,a)=>{const l=c===t.id,d=i&&p.a.isArray(i.teams)&&i.teams.indexOf(t.id)>-1;return Object(h.h)("div",{class:"col mb-0 px-0",ref:l||d?e=>this.container=e:null},Object(h.h)("button",{class:`btn btn-block\n            \t\t\t\t\t\t\t\t\t\trounded-none ${0===a?"rounded-pill-left":a+1===s.length?"rounded-pill-right":""}\n                                                    btn${l||d?"":"-outline"}-${d?"info":"success"}\n                                                    text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleType(t.id)},i.hintTeam===t.id&&Object(h.h)("span",{class:"float-right text-primary"},Object(h.h)("i",{class:"fas fa-circle"})),Object(h.h)("i",{class:"fas fa-users mr-2"}),t.name,r&&r.indexOf(t.id)>-1&&Object(h.h)(e,null,c===t.id?Object(h.h)(e,null,Object(h.h)("i",{class:"fas fa-check float-right"})):Object(h.h)(e,null,Object(h.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(h.h)("span",{class:"sr-only"},"Loading...")),Object(h.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))),Object(h.h)("small",null,l&&Object(h.h)("span",{class:"badge badge-pill badge-primary"},"Primary"),d&&Object(h.h)("span",{class:"badge badge-pill badge-secondary"},"Secondary"))))}))))),a[`${l}.${i.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:l+"Help",class:"form-text text-muted"},n))}})||d,$=Object(b.a)(o=class extends h.Component{toggleType(e){const{object:t,type:s,field:a,updateField:i,isNew:l}=this.props;let d=Object(u.i)(t[a]);d=d===e?null:e,i({id:t.id,field:a,value:d,type:s,isNew:l})}render(){const{userStore:e}=this.props.stores,{harnesses:t,user:s}=e,{language:a="en"}=s,{saved:i,object:l,field:d,title:o,icon:n,help:c}=this.props,r=Object(u.i)(l[d]);return Object(h.h)("div",{class:"form-group "+(i[`${d}.${l.id}`]?"is-valid":"")},Object(h.h)("label",{for:d+"Input"},n&&Object(h.h)("i",{class:n})," ",o),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},t&&t.map((e,s)=>Object(h.h)("div",{class:"col px-0 mb-2",ref:r===e.id?e=>this.container=e:null},Object(h.h)("div",{class:`border\n                                            rounded-none ${0===s?"rounded-pill-left":s+1===t.length?"rounded-pill-right":""}\n                                            p-2 ${r===e.id?"bg-success":""}`,style:`border-bottom: 3px solid ${e.colorNonstop} !important;`,onClick:()=>this.toggleType(e.id)},e.lang&&e.lang[a]?e.lang[a]:e.name))))))),i[`${d}.${l.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:d+"Help",class:"form-text text-muted"},c))}})||o,E=Object(b.a)(n=class extends h.Component{toggleStatus(e){const{dogStore:t}=this.props.stores,{object:s,type:a,field:i,updateField:l,isNew:d}=this.props;let o=Object(u.i)(s[i]);o=o===e?0:e,0===o?l({id:s.id,field:i,value:o,type:a,isNew:d}):s.statuses.indexOf(o)>-1?t.removeStatus({id:s.id,status:o}):s.status?t.addStatus({id:s.id,status:o}):l({id:s.id,field:i,value:o,type:a,isNew:d})}componentDidMount(){this.container&&this.container.scrollIntoView({behavior:"smooth",block:"center"})}render(){const{userStore:e}=this.props.stores,{dogstatuses:t,user:s}=e,{language:a}=s,{saved:i,object:l,field:d,title:o,icon:n,help:c}=this.props,r=Object(u.i)(l[d]);return Object(h.h)("div",{class:"form-group  mb-4 pb-1 border-bottom "+(i[`${d}.${l.id}`]?"is-valid":"")},Object(h.h)("label",{for:d+"Input"},n&&Object(h.h)("i",{class:n+" text-muted"})," ",o),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},t&&t.map((e,s)=>{const i=r===e.id,d=l&&p.a.isArray(l.statuses)&&l.statuses.indexOf(e.id)>-1;return Object(h.h)("div",{class:"col mb-2 px-0",ref:i||d?e=>this.container=e:null},Object(h.h)("button",{class:`btn btn-block\n            \t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===t.length?"rounded-pill-right":""}\n                                                    btn${i||d?"":"-outline"}-${d?"info":"success"}\n                                                    text-nowrap overflow-hidden`,style:"text-overflow: ellipsis;",onClick:()=>this.toggleStatus(e.id)},a&&e.lang&&e.lang[a]?e.lang[a]:e.name))}))))),i[`${d}.${l.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:d+"Help",class:"form-text text-muted"},c))}})||n,C=Object(b.a)(c=class extends h.Component{toggleStatus(e){const{object:t,type:s,field:a,updateField:i,isNew:l}=this.props;let d=Object(u.i)(t[a]);d=d===e?null:e,i({id:t.id,field:a,value:d,type:s,isNew:l})}render(){const{userStore:e}=this.props.stores,{dogPositions:t}=e,{saved:s,object:a,field:i,title:l,icon:d,help:o}=this.props,n=Object(u.i)(a[i]);return Object(h.h)("div",{class:"form-group  mb-4 pb-1 border-bottom "+(s[`${i}.${a.id}`]?"is-valid":"")},Object(h.h)("label",{for:i+"Input"},d&&Object(h.h)("i",{class:d+" text-muted"})," ",l),Object(h.h)("div",{class:"container-fluid px-0"},Object(h.h)("div",{class:"row"},t&&t.map(e=>Object(h.h)("div",{class:"offset-2 col-8 mb-2"},Object(h.h)("div",{class:"border rounded rounded-pill px-3 py-1 bg-"+(n===e.id?e.class||"success":""),onClick:()=>this.toggleStatus(e.id),style:"line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},Object(h.h)("small",null,e.name)))))),s[`${i}.${a.id}`]?Object(h.h)("div",{class:"valid-feedback",style:"display: block;"},Object(h.h)(f.c,{id:"dogs.changes-saved"},"Endringene er lagret")):Object(h.h)("small",{id:i+"Help",class:"form-text text-muted"},o))}})||c,P=Object(b.a)(r=class extends h.Component{constructor(e){var t;super(e),t=this,this.insertDog=async function(){const{newDog:e}=t.state,{dogStore:s}=t.props.stores;await s.insert(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e)),t.resetDog(),Object(O.route)("/dogs/")},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:i,isNew:l}=e.target.dataset,{value:d,type:o,min:n,max:c}=e.target;"date"===o&&n&&c?d>=n&&d<=c&&this.updateFieldValue({id:parseInt(t,10),field:s,value:d,type:a,elementtype:i,isNew:l}):this.updateFieldValue({id:parseInt(t,10),field:s,value:d,type:a,elementtype:i,isNew:l})},this.updateFieldValue=({id:e,field:s,value:a,datatype:i,elementtype:l,isNew:d=!1,skipTimer:o=!1})=>{const{dogStore:n}=this.props.stores;let c=a,r=a;const{dog:h}=n;"images"===s&&Array.isArray(h.images)&&Array.isArray(a)&&(r=[...h.images,...a]),"files"===s&&Array.isArray(h.files)&&(r=Array.isArray(a)?[...h.files,...a]:[...h.files,a]),"achievements"===s&&Array.isArray(h.achievements)&&(r=Array.isArray(a)?[...h.achievements,...a]:[...h.achievements,a]),"links"===s&&Array.isArray(h.links)&&(r=Array.isArray(a)?[...h.links,...a]:[...h.links,a]),"array"!==i||Array.isArray(a)||(c="number"===l?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),d?n.updateObjectKeyValue("newDog",s,a):(n.updateField(e,s,r),o?this.doUpdateField(e,s,c):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,c)}),500)))},this.chooseMother=e=>{const{dogStore:t}=this.props.stores,{dog:s}=t,a=parseInt(e.target.value,10),i=t.findDog(a);i?(this.updateFieldValue({id:s.id,field:"mother",value:i.id,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"motherName",value:i.name,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"motherChipId",value:i.chipId,skipTimer:!0})):this.updateFieldValue({id:s.id,field:"mother",value:null,skipTimer:!0})},this.chooseFather=e=>{const{dogStore:t}=this.props.stores,{dog:s}=t,a=parseInt(e.target.value,10),i=t.findDog(a);i?(this.updateFieldValue({id:s.id,field:"father",value:i.id,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"fatherName",value:i.name,skipTimer:!0}),this.updateFieldValue({id:s.id,field:"fatherChipId",value:i.chipId,skipTimer:!0})):this.updateFieldValue({id:s.id,field:"father",value:null,skipTimer:!0})},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state={newDog:{},submenu:e.submenu||"info"},this.updateTimer={}}async loadDog(){const{dogStore:e}=this.props.stores;"new"===this.props.dog?this.setState({createNew:!0}):await e.load(this.props.dog,!1,{addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]})}resetDog(){this.setState({newDog:{},createNew:!1})}async doUpdateField(e,t,s){const{dogStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadDog()}render(){const{createNew:t,newDog:s,submenu:a}=this.state,{dogStore:i,userStore:l}=this.props.stores,{insertStatus:d,saved:o,dog:n}=i,c=i.findDogsByGender("female"),r=i.findDogsByGender("male"),b=j.a.hasBirthday(n.birth),u=n.birth?Math.ceil(j.a.daysUntilNextBirthday(n.birth)):365,{name:O}=n;return t?Object(h.h)("div",{class:"container-fluid",style:`margin-bottom: ${I}; margin-top: ${k};`},Object(h.h)("button",{class:"btn btn-link float-left pl-0 fixed-top text-primary",style:`top: ${F}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(h.h)("i",{class:"fas fa-arrow-circle-left"})),Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)("div",null,Object(h.h)("h5",{style:"padding-left: 35px;"},Object(h.h)(f.c,{id:"dogs.add-new"},"Legg til ny hund")),Object(h.h)("div",{class:"form-group"},Object(h.h)("label",{for:"nameInput"},Object(h.h)(f.c,{id:"dogs.name"},"Navn")),Object(h.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(m.a)(this,"newDog.name"),value:s.name}),Object(h.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(h.h)(f.c,{id:"dogs.name-of-dog"},"Fullt navn p친 hunden."))),Object(h.h)("button",{type:"button",class:"btn btn-primary",onClick:this.insertDog},Object(h.h)(f.c,{id:"dogs.save-new"},"Registrer ny hund")),d&&Object(h.h)("div",{class:"alert alert-success mt-4 col-12",role:"alert"},Object(h.h)(f.c,{id:"dogs.dog-saved"},"Hunden er lagret")," 游냇"))))):Object(h.h)("div",{class:"container-fluid",style:`margin-bottom: ${I}; margin-top: ${k};`},Object(h.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${F}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(h.h)("i",{class:"fas fa-arrow-circle-left"})),Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)("div",{class:"clearfix"},Object(h.h)("div",{class:"text-center border rounded-circle imageRounded float-right",style:n.image?`background-image: url("${n.image.s3SmallLink}");`:""},!n.image&&Object(h.h)("i",{class:"fas fa-dog text-muted mt-3",style:"font-size: 40px;"})),Object(h.h)("span",{class:"float-right"},u<7&&Object(h.h)(e,null,Object(h.h)("span",{class:"text-muted mr-2"},Object(h.h)("i",{class:"fas fa-birthday-cake"})," in ",u," days")),n.birth&&Object(h.h)("span",{class:"mr-2"},p.a.age(n.birth,n.deceased)),"female"===n.gender?Object(h.h)("i",{class:"fas fa-venus"}):Object(h.h)("i",{class:"fas fa-mars"})),Object(h.h)("h5",{style:"padding-left: 35px;"},Object(h.h)(f.c,{id:"dogs.edit"},"Endre"),": ",O,b&&Object(h.h)(e,null,Object(h.h)("i",{class:"fas fa-birthday-cake ml-3"}))))),Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"col-12 my-3"},Object(h.h)("div",{class:"row"},Object(h.h)("div",{class:"w-100 overflow-hidden"},Object(h.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"info"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"info",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-info-circle"})," ",Object(h.h)(f.c,{id:"dogs.info"},"Info")),"info"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"status"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"status",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-thermometer"})," ",Object(h.h)(f.c,{id:"dogs.status"},"Status")),"status"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"pictures"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-images"})," ",Object(h.h)(f.c,{id:"dogs.pictures"},"Pictures")),"pictures"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"team"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"team",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-users"})," ",Object(h.h)(f.c,{id:"dogs.team"},"Team")),"team"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"relations"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"relations",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-project-diagram"})," ",Object(h.h)(f.c,{id:"dogs.relations"},"Relations")),"relations"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"achievements"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-clock"})," ",Object(h.h)(f.c,{id:"dogs.achievements"},"Achievements")),"achievements"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-none ${"links"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"links",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-link"})," ",Object(h.h)(f.c,{id:"dogs.links"},"Links")),"links"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})),Object(h.h)("div",{class:"col px-0 pt-2"},Object(h.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===a?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(h.h)("i",{class:"fas fa-cogs"})," ",Object(h.h)(f.c,{id:"dogs.log"},"Advanced")),"advanced"===a&&Object(h.h)(w.a,{horizontal:"center",vertical:"end"})))))))),Object(h.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},"info"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"name",title:Object(h.h)(f.c,{id:"dogs.full-name"},"Fullt navn"),help:Object(h.h)(f.c,{id:"dogs.full-name-help"},"Fullt navn p친 hunden."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"shortname",title:Object(h.h)(f.c,{id:"dogs.short-name"},"Kallenavn"),help:Object(h.h)(f.c,{id:"dogs.short-name-help"},"Kallenavnet p친 hunden. Hva roper du p친 innkalling?"),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"gender",type:"select",datalist:[["male",Object(h.h)(f.c,{id:"dogs.gender-male"},"Male")],["female",Object(h.h)(f.c,{id:"dogs.gender-female"},"Female")]],title:Object(h.h)(f.c,{id:"dogs.gender"},"Kj칮nn"),help:Object(h.h)(f.c,{id:"dogs.gender-help"},"Kj칮nn p친 hunden."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"chipId",title:Object(h.h)(f.c,{id:"dogs.chip-id"},"Chip ID"),help:Object(h.h)(f.c,{id:"dogs.chip-id-help"},"Chip ID p친 hunden. St친r ofte i vetrin칝rh친ndbok eller passet."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"birth",type:"date",min:"2000-01-01",max:"today",title:Object(h.h)(f.c,{id:"dogs.birth"},"F칮dselsdato"),help:Object(h.h)(f.c,{id:"dogs.birth-help"},"F칮dselsdato p친 hunden."),onInput:this.updateField}),Object(h.h)($,{stores:this.props.stores,saved:o,object:n,type:"number",field:"harness",title:Object(h.h)(f.c,{id:"dogs.harness-size"},"Selest칮rrelse"),help:Object(h.h)(f.c,{id:"dogs.harness-size-help"},"Sele til hunden"),updateField:this.updateFieldValue}),Object(h.h)(D,{saved:o,dog:n,field:"description",icon:"fas fa-paragraph",type:"textarea",title:Object(h.h)(f.c,{id:"dogs.description"},"Beskrivelse"),help:Object(h.h)(f.c,{id:"dogs.description-help"},"Beskrivelse av hunden."),onInput:this.updateField}),Object(h.h)("div",{class:"mt-5 pt-5"},Object(h.h)(D,{saved:o,dog:n,field:"deceased",type:"date",min:"2000-01-01",max:"today",title:Object(h.h)(f.c,{id:"dogs.deceased"},"D칮d"),help:Object(h.h)(f.c,{id:"dogs.deceased-help"},"D칮dsdato for hunden."),onInput:this.updateField})))),"status"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(E,{stores:this.props.stores,saved:o,object:n,type:"number",field:"status",title:Object(h.h)(f.c,{id:"dogs.status"},"Status"),help:Object(h.h)(f.c,{id:"dogs.status-help"},"Status til hunden"),updateField:this.updateFieldValue}),Object(h.h)(D,{saved:o,dog:n,field:"specialNeeds",title:Object(h.h)(f.c,{id:"dogs.special-needs"},"Spesielle behov"),help:Object(h.h)(f.c,{id:"dogs.special-needs-help"},'Har hunden spesielle behov? Trenger ekstra mat, utstyr eller annet? Eks: "Ekstra fett", "Husk ulveklobandasje", etc.'),onInput:this.updateField}))),"pictures"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"imageOther",type:"image",icon:"fas fa-camera",stores:this.props.stores,title:Object(h.h)(f.c,{id:"dogs.photo"},"Bilde"),help:Object(h.h)(f.c,{id:"dogs.photo-help"},"Bilder av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!0}),Object(h.h)(D,{saved:o,dog:n,field:"image",type:"image",icon:"fas fa-portrait",stores:this.props.stores,title:Object(h.h)(f.c,{id:"dogs.profile-photo"},"Profilbilde"),help:Object(h.h)(f.c,{id:"dogs.profile-photo-help"},"Profilbilde av hunden."),onInput:this.updateField,updateField:this.updateFieldValue,showImages:!0}))),"team"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(S,{stores:this.props.stores,saved:o,object:n,type:"number",field:"team",title:Object(h.h)(f.c,{id:"dogs.team"},"Team"),help:Object(h.h)(f.c,{id:"dogs.team-help"},"Team som hunden er p친."),updateField:this.updateFieldValue}),Object(h.h)(C,{stores:this.props.stores,saved:o,object:n,type:"number",field:"position",title:Object(h.h)(f.c,{id:"dogs.position"},"Plass i spannet"),help:Object(h.h)(f.c,{id:"dogs.position-help"},"Foretrukket plass i spannet."),updateField:this.updateFieldValue}))),"relations"===a&&Object(h.h)(e,null,Object(h.h)("h5",{class:"mt-5"},Object(h.h)(f.c,{id:"dogs.mother"},"Mor")),Object(h.h)("select",{class:"form-control","aria-describedby":"fatherHelp",value:n.mother,onInput:this.chooseMother},Object(h.h)("option",{value:""},"-- ",Object(h.h)(f.c,{id:"dogs.choose-mother"},"Velg blant dine hunder")," --"),c&&c.map(e=>Object(h.h)("option",{value:e.id},e.name," - ",p.a.age(e.birth,e.deceased)))),Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"motherName",type:"text",title:Object(h.h)(f.c,{id:"dogs.mother-name"},"Navn p친 mor"),help:Object(h.h)(f.c,{id:"dogs.mother-name-help"},"Navn p친 moren til denne hunden."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"motherChipId",type:"text",title:Object(h.h)(f.c,{id:"dogs.mother-chipid"},"Chip ID p친 mor"),help:Object(h.h)(f.c,{id:"dogs.mother-chipid-help"},"Chip ID til moren til denne hunden. Dersom hunden finnes blant dine hunder, s친 vil den bli koblet sammen."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"motherComment",title:Object(h.h)(f.c,{id:"dogs.mother-comment"},"Kommentar til mor"),help:Object(h.h)(f.c,{id:"dogs.mother-comment-help"},"Kommentar til moren til denne hunden."),onInput:this.updateField})),Object(h.h)("h5",{class:"mt-5"},Object(h.h)(f.c,{id:"dogs.father"},"Far")),Object(h.h)("select",{class:"form-control","aria-describedby":"fatherHelp",value:n.father,onInput:this.chooseFather},Object(h.h)("option",{value:""},"-- ",Object(h.h)(f.c,{id:"dogs.choose-father"},"Velg blant dine hunder")," --"),r&&r.map(e=>Object(h.h)("option",{value:e.id},e.name," - ",p.a.age(e.birth,e.deceased)))),Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"fatherName",type:"text",title:Object(h.h)(f.c,{id:"dogs.father-name"},"Navn p친 far"),help:Object(h.h)(f.c,{id:"dogs.father-name-help"},"Navn p친 faren til denne hunden."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"fatherChipId",type:"text",title:Object(h.h)(f.c,{id:"dogs.father-chipid"},"Chip ID p친 far"),help:Object(h.h)(f.c,{id:"dogs.father-chipid-help"},"Chip ID til faren til denne hunden. Dersom hunden finnes blant dine hunder, s친 vil den bli koblet sammen."),onInput:this.updateField}),Object(h.h)(D,{saved:o,dog:n,field:"fatherComment",title:Object(h.h)(f.c,{id:"dogs.father-comment"},"Kommentar til far"),help:Object(h.h)(f.c,{id:"dogs.father-comment-help"},"Kommentar til faren til denne hunden."),onInput:this.updateField}))),"links"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"links",type:"text",icon:"fas fa-link",stores:this.props.stores,title:Object(h.h)(f.c,{id:"dogs.links"},"Linker"),help:Object(h.h)(f.c,{id:"dogs.links-help"},"Linker til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),"achievements"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"achievements",type:"text",icon:"fas fa-clock",stores:this.props.stores,title:Object(h.h)(f.c,{id:"dogs.achievements"},"Bragder"),help:Object(h.h)(f.c,{id:"dogs.achievements-help"},"Bragder til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))),"advanced"===a&&Object(h.h)(e,null,Object(h.h)(f.b,null,Object(h.h)(D,{saved:o,dog:n,field:"files",type:"file",icon:"fas fa-file",stores:this.props.stores,title:Object(h.h)(f.c,{id:"dogs.files"},"Files"),help:Object(h.h)(f.c,{id:"dogs.files-help"},"Filer til denne hunden."),onInput:this.updateField,updateField:this.updateFieldValue}))))))}})||r;t.default=P}.call(this,s("hosL").Fragment)},TiXY:function(e,t,s){"use strict";var a,i=s("hosL"),l=s("/eY4"),d=(s("cneo"),s("Utv1"),s("OhSV")),o=s("u2zT");let n=Object(l.a)(a=class extends i.Component{constructor(e){super(e),this.handleAddImage=e=>{const{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:e})},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:a=!1}=this.props;return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)(d.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(i.h)("br",null),Object(i.h)(o.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload",uploadStatus:e,before:t,after:s,autoOpen:a},Object(i.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=n},om2D:function(e,t,s){"use strict";var a,i=s("hosL"),l=s("/eY4"),d=(s("cneo"),s("Utv1"),s("u2zT"));let o=Object(l.a)(a=class extends i.Component{constructor(e){super(e),this.handleAddImage=e=>{const{addToImages:t=!0}=this.props,{updateField:s,object:a,field:i}=this.props;if(i&&s({id:a.id,field:i,value:e,skipTimer:!0}),t){const t=[];t.push(e),s({id:a.id,field:"images",value:t,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:a=!0}=this.props;return Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)(d.a,{handleAddImage:this.handleAddImage,uploadStatus:e,apiUrl:"/api/fileupload",before:t,after:s,autoOpen:a},Object(i.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=o},u2zT:function(e,t,s){"use strict";var a,i=s("hosL"),l=s("/eY4"),d=s("Utv1"),o=s("OhSV");let n=Object(l.a)(a=class extends i.Component{constructor(e){super(e),this.dropRef=Object(i.createRef)(),this.handleDrag=e=>{e.preventDefault(),e.stopPropagation()},this.handleDragIn=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=e=>{if(e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(let t=0,s=e.dataTransfer.files.length;t<s;t+=1){this.readLocalFile(e.dataTransfer.files[t])}this.dragCounter=0}},this.handleAddFiles=e=>{e.preventDefault();const t=e.target;for(let e=0,s=t.files.length;e<s;e+=1){this.readLocalFile(t.files[e])}},this.handleEvent=()=>{0},this.handleUpload=e=>{const{uploadStatus:t=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;t(!1),d.a.isFunction(s)&&s();const i=new FormData;i.append("files[]",e);const l={progress:1};l.xhr=new XMLHttpRequest,l.xhr.upload.addEventListener("progress",t=>{this.updateProgress(t,e)}),l.xhr.addEventListener("loadstart",t=>{this.handleEvent(t,e)}),l.xhr.addEventListener("load",t=>{this.handleEvent(t,e)}),l.xhr.addEventListener("loadend",t=>{const s=e;d.a.isFunction(a)&&a(),this.handleEvent(t,s)}),l.xhr.addEventListener("progress",t=>{this.handleEvent(t,e)}),l.xhr.addEventListener("error",t=>{this.handleEvent(t,e)}),l.xhr.addEventListener("abort",t=>{this.handleEvent(t,e)}),l.xhr.addEventListener("readystatechange",t=>{this.uploadDone(t,e)}),l.xhr.open("POST",`${d.a.getApiServer()}${this.props.apiUrl}`),l.xhr.setRequestHeader("Authorization","Bearer "+d.a.getJwtToken()),l.xhr.send(i);const o=e.name,n=this.state.uploadedFilesData;n[o]||(n[o]={}),n[o].uploadMeta=l,n[o].imageNum=this.state.imageNum,this.setState({uploadedFilesData:n})},this.readLocalFile=e=>new Promise((t,s)=>{const a=new FileReader;a.addEventListener("error",e=>{s(e)}),a.addEventListener("load",s=>{const a=e,i=a.name,l=this.state.uploadedFilesData;l[i]||(l[i]={}),l[i].event=s,this.setState({uploadedFilesData:l}),this.handleUpload(a),t(s)}),a.readAsDataURL(e)}),this.updateProgress=(e,t)=>{if(e.lengthComputable){const s=t.name,a=this.state.uploadedFilesData,i=e.loaded/e.total*100;0,a[s].uploadMeta.progress=i,this.setState({uploadedFilesData:a})}},this.uploadDone=(e,t)=>{const s=t.name,a=this.state.uploadedFilesData,i=a[s].uploadMeta;if(i&&4===i.xhr.readyState&&201===i.xhr.status){const e=JSON.parse(i.xhr.responseText).data.files;for(let t=0;t<e.length;t+=1){this.addFileToUpload(e[t]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(e){const{uploadedFilesData:t}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),a(!0)}componentDidMount(){const e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop);const{autoOpen:t}=this.props;t&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:e}=this.state;return Object(i.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(i.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(i.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(i.h)("div",null,Object(i.h)(o.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(i.h)("div",null,Object(i.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:e=>{this.fileInput=e}})),Object(i.h)("div",null,Object.keys(e).length>0?Object(i.h)("h3",null,Object(i.h)(o.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(i.h)("ul",{class:"list-group"},Object.keys(e).map(t=>{const{uploadMeta:s={}}=e[t],a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(i.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(i.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(i.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(i.h)("small",null,e[t].event.uploadDone),Object(i.h)(o.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(i.h)("small",null,d.a.formatBytes(e[t].event.total,2))),Object(i.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(i.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;t.a=n}}]);
//# sourceMappingURL=13.chunk.ffe52.esm.js.map