{"version":3,"sources":["webpack:///./components/feedback/likesAndComments.js","webpack:///./components/workout/commentAdd.js","webpack:///./components/util/scrollIntoView.js","webpack:///./components/imageSlider/index.js","webpack:///./components/workout/commentReply.js","webpack:///./lib/icons.js","webpack:///./components/data/distance.js","webpack:///./components/map/style.css","webpack:///./routes/workouts/detail.js","webpack:///./components/style.css","webpack:///./components/workout/infoGraph.js","webpack:///./components/map/index.js","webpack:///./components/dog/index.js","webpack:///./components/dog/simplePublic.js","webpack:///./components/data/temperature.js","webpack:///./components/data/weight.js","webpack:///./components/dog/simple.js","webpack:///./components/gauge/style.css","webpack:///./components/team/public.js","webpack:///./components/ad/index.js","webpack:///./routes/teams/publicDetail.js","webpack:///./components/data/elevation.js","webpack:///./components/team/publicLine.js","webpack:///./components/data/speed.js","webpack:///./components/form/images.js","webpack:///./components/overlay/index.js","webpack:///./components/workout/comments.js","webpack:///./components/form/dragNdropFileupload.js","webpack:///./components/states/index.js","webpack:///./components/feedback/views.js","webpack:///./components/user/musher.js","webpack:///./components/gauge/index.js"],"names":["initialState","DisplayLikesAndComments","observer","props","toggleLikes","setState","showLikesList","state","render","this","stores","storyStore","teamStore","workoutStore","raceStore","likes","comments","type","onTeamClick","class","length","style","onClick","slice","map","like","user","teams","publicTeam","findPublicUser","findPublicTeamByMembers","util","isArray","find","e","public","mu","getImage","team","priority","displayNameShort","name","displayName","href","uuidv4","title","id","fields","total","image","shortname","Component","WorkoutAdd","beforeImagesUploaded","sendButtonEnabled","afterImagesUploaded","commentWorkout","response","callback","inputRefObject","workout","comment","showAddImage","status","body","images","resizeTextarea","addImage","addImages","push","value","handleImageErrored","target","onerror","setTimeout","src","Date","inputRef","col","offset","showAvatar","extraClass","userStore","firstname","ucfirst","lastname","email","userImage","undefined","s3SmallLink","for","placeholder","onInput","linkState","onKeyUp","onFocus","ref","data-id","disabled","img","onError","removeImage","data-name","object","updateField","before","after","autoOpen","ScrollIntoView","container","componentDidMount","horizontal","vertical","behavior","inline","block","scrollIntoView","c","touchStart","stopPropagation","startX","touches","pageX","touchEnd","sliding","touchMove","totalImages","x","prevImage","nextImage","imageContainer","currentImage1","currentImage2","currentIdx","imageDots","Array","fill","y","nextImageContainer","nextIdx","componentWillReceiveProps","nextProps","nextImages","imgHeight","imgWidth","curImage","dimensions","width","height","orientation","imageRatio","onTouchstart","onTouchend","onTouchmove","loading","s3LargeLink","image1","image2","i","WorkoutCommentReply","commentId","commentReplyWorkout","ICONS","adit","Icon","iconUrl","iconSize","iconAnchor","airport","analyse","archaeological","architecture","arrow_up","arrow_up_double","atm","avatar","bag","bar","barracks","battlefield","beach","bicycle","boundary_stone","buddhism","building","burger","bus","bus_stop","cable_car","camera","camp_site","car","caravan_site","cartography","cash","castle","castle_defensive","cave_entrance","cemetery","chapel","christianism","cinema","cinema_alt","city","cityhall","clean","compass","compass_alt","construction","contour","court_house","crown","crucifix","data","database","dentist","dislike","download","drag_lift","drop","eye","facebook","fire","fishing","flag","forbidden","fort","fountain","fuel","fuel_alt","gallery","gear","github","go","golf","heart","helicopter","home","hospital","hostel","hotel","hotel_alt","ice_ring","information","internet","invisible","islamism","island","judaism","laptop","library","lighthouse","linkedin","lion","lock","magnifier","mall","mapkey","mapshakers","marina","marker","market_place","mine","monument","mountain","museum","music","nature","nocamera","nonsmoking","north","north_alt","north_alt_II","north_alt_III","oppositeway","parking","pharmacy","picnic_site","pitch","playground","playground_alt","police","post_office","pub","restaurant","rocks","ruins","saddle","sailboat","school","seal","shelter","sinkhole","skype","smartphone","smoking","sport_centre","spring","square","stadium","star","stop","stupa","supermarket","swimming_pool","telephone","theatre","ticket","toilet","tower","town","traffic_signal","train","tram","tram_stop","tree_cinofer","tree_leaf","triangle","underground","unesco","university","upload","viewpoint","viewtower","village","vineyard","volcano","water_tower","water_well","watermill","waterpark","waterwork","wayside_cross","wind_generator","windmill","zoo","Icons","get","icon","list","Object","keys","getDiv","color","textColor","borderColor","iconWidth","iconHeight","randomPassword","hsl2Rgb","DivIcon","className","html","getRaceMarker","bib","rank","iconAnchorX","iconAnchorY","imageCirlceRadius","lineHeight","fontSize","paddingTop","paddingBottom","mapChecked","titlePrefix","dotColor","getRankingColor","mapIsDark","test","imageCircle","getDistanceMarker","getMarker","getSmallMarker","displayDistance","distance","format","Distance","smallUnit","settings","imperial","kmToMiles","module","exports","getWorkoutColor","getWorkoutIcon","MARGIN_TOP","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","MAX_LOADINDEX","getMaxLoadIndex","newDog","submenu","showAddComment","mapHeight","mapMaxHeight","reloadInSec","reloadLastEpoch","reloadIsActive","AdminInfo","onInputDuration","field","parseInt","hh","Math","floor","mi","match","parentElement","dataset","removeMainImage","setDateToNow","isoDate","setTimeToNow","isoTime","setValue","setRightValue","rightValueReal","displayValue","insertValue","saved","datalist","min","max","step","elementtype","help","rightValue","toJS","maxValue","secToHms","checkNested","yr","instant","details","date","air_temperature","wind_speed","windDirection","wind_from_direction","cloud_area_fraction","air_pressure_at_sea_level","relative_humidity","asNumber","Files","aria-describedby","data-field","el","data-value","checked","data-type","data-elementtype","duration","firstPoint","getFirstPoint","midPoint","getMidPoint","endPoint","tracks","firstTrackPoint","lastTrackPoint","startTime","timestamp","getTime","join","t","coords","accuracy","JSON","stringify","WorkoutDetail","loadWorkout","addData","showAdminInfo","load","plotGeocluster","isNew","updateFieldValue","totalDistance","gpx","gpxInfo","maxSpeed","avgSpeed","ascent","decent","rest","startLatlng","endLatlng","updateObject","roundTo","distanceKm","speedmax","speedAvg","elevation","save","newValue","localObjectValue","datatype","skipTimer","split","parseFloat","updateObjectKeyValue","doUpdateField","clearTimeout","updateTimer","showModal","preventDefault","displayModal","currentImage","currentImageXXL","imagexxl","thumb","closeModal","deleteWorkout","saveField","PubSub","publish","topics","STATUS_MESSAGE","message","route","duplicateWorkout","makeTrack","makeTrackFromWorkout","likeWorkout","toggleAddComment","workoutId","focus","toggleAdminInfo","isAdmin","chooseSubmenu","menu","showStateDetail","closest","stateDetail","reimportStravaWorkout","stravaId","reimportGarminWorkout","garminId","reCalculateGpxData","recalculated","reLoad","toggleMapSize","finishWorkout","cordovaSaveTracking","isInProgress","sendGpxFile","gpxFileSent","shareLink","appState","shareUrl","url","text","teamid","showTeam","hideTeam","onUserClick","onDogClick","dogid","dogs","showDog","hideDog","back","history","goBack","tickReloadTimeer","now","componentWillUnmount","reload","batteryUsage","mapColorMode","mapRangeMin","mapRangeMax","isCordova","hasShareApi","viewmode","normalizeBetween","waypoints2","waypoints3","language","findTeam","teamAmbition","findTeamAmbition","ambition","ambitions","teamType","findTeamType","workoutType","findWorkoutType","workoutTypeIcon","track","findTrack","workoutEquipment","findEquipment","equipment","workoutEquipmentIcon","findDogs","mushers","findMushers","intensity","findIntensity","code","workoutNavigation","getWorkoutNavigation","hasLikedWorkout","findIndex","weightedTotalKcal","loadIndex","kcalMultiplier","totalKcalRelated","teamNames","battegryLevelStart","battegryLevelEnd","mapImage","imgs","showReimport","views","getViews","statistics","musherImages","musher","u","findMusher","firstMusher","isLocked","previous","idx","next","role","sledWeight","markdown","replaceImages","markdownOpts","getMarkdownOptions","data-menu","mapId","geojson","geoJSON","skipGeojson","key","fullscreenMap","weather","temperature","currentSpeed","calculatedTotalDistance","abs","calculatedAscend","calculatedDescend","descent","section","endTime","minEpoch","maxEpoch","avgMovingSpeeds","avgGpsSpeed","avgGpsMovingSpeed","reimported","states","radius","showPercentText","getLoadIndexColor","percent","completed","getLoadIndexText","prefix","typeFactor","ambitionFactor","normalSpeed","speedFactor","normalDuration","durationFactor","intensityFactor","kcalBurnedTotal","kcalBurned","kcalFatGramsTotal","kcalFatGrams","kcalMeatGramsTotal","kcalMeatGrams","kcalSalmonGramsTotal","kcalSalmonGrams","dogsLeft","dogId","dog","findDog","dogsRight","sunPosition","start","end","moonPosition","altitudeDeg","moonIllumination","phaseIcon","fraction","aria-valuenow","aria-valuemin","aria-valuemax","indexOf","rating","private","data-url","data-title","rel","data-native","isTeamAdmin","WorkoutInfoGraph","withText","week","ascend","plan","finalGpxInfo","gpsSpeeds","speeds","elevations","temperatures","climbs","ecor","dataLeft","dataLeft2","dataLeft3","dataRight","dataRight3","legendLeft","legendLeft2","legendLeft3","legendRight","legendRight3","unitLeft","unitLeft2","unitLeft3","unitRight","unitRight3","smoothArray","xTicks","xTicksRange","range","ceil","partSize","l","showXTicks","xTicksVal","val","lineFromXzero","lineFromXmax","dataFillLeft","showYTicksLeft","yTicksLeftPostfix","avgWindowLeft","smoothLeft","showYTicksRight","yTicksRightPostfix","avgWindowRight","smoothRight","yMaxMinLeftRound","yTicksRightVal","v","MARKDOWN_OPTIONS","pedantic","gfm","breaks","sanitize","smartLists","smartypants","xhtml","BaseLayer","LayersControl","Overlay","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","shadowUrl","createClusterCustomIcon","cluster","divIcon","getChildCount","point","App","mapRef","createRef","polyRef","handleViewportChanged","mapCenter","center","mapZoom","zoom","handleLocationFound","latlng","hasLocation","onEachFeature","feature","layer","popupContent","bindPopup","handleClick","setLatlng","zoomToGeoJSON","bounds","getBounds","_northEast","err","console","log","zoomToMarkers","markers","force","hasZoomedToMarkers","current","leafletElement","markerBounds","latLngBounds","forEach","extend","lat","lng","fitBounds","zoomToAllMarkers","waypoints","zoomToFirst10Markers","zoomToFirst3Markers","zoomToFavoriteMarkers","overlayAdd","visibleLayers","overlayRemove","polylineOptions","rangeSteps","maxHslColor","newRangeMin","newRangeMax","colors","newMin","newMax","normalizeRange","r","g","b","setMapRange","setMapColors","polylineOptionIdxFn","latLng","altThresholds","mapRange","meta","polylinetrackPointFactory","dataArray","filter","item","trkpt","showSpeed","setMapColorMode","handleMarkerClick","opt","onMarkerClick","handleMarker2Click","onMarker2Click","handleMarker3Click","onMarker3Click","baseLayerChange","setMapChecked","whenReadyHandler","on","Windspeed","geoJSONStyle","weight","fillOpacity","fillColor","geoJSONStyleList","startMarker","endMarker","geoJSONs","minZoom","maxZoom","heatmap","zoomToWaypoints","showZoomControl","showLayersControl","showScaleControl","showRange","showTrackProfile","distanceMarkerSteps","showDistanceMarkers","groupWaypoints","largeMarkers","layersControlPosition","mapColors","tempGeoJson","asObject","hasWaypoints","distanceMarkers","distances","currentDistance","steps","captureAllEvents","onScroll","onViewportChanged","onLocationfound","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","Browser","mobile","tap","touchZoom","animate","easeLinearity","onOverlayadd","onOverlayremove","whenReady","position","attribution","subdomains","metric","Temperature","Precipitation","fitBoundsOnLoad","fitBoundsOnUpdate","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","positions","optionIdxFn","options","lineCap","opacity","smoothFactor","zoomAnimation","gj","onAdd","icons","wp","draggable","reverse","zIndexOffset","maxClusterRadius","iconCreateFunction","speed","bearing","currentState","Dog","dogStore","currentMonth","getMonth","currentYear","getFullYear","month","year","seasonStart","workoutSummary","findWorkoutSummary","dogStatuses","statuses","findDogstatus","dogVaccines","findVaccineStatuses","dogVaccineLogStatuses","findVaccineLogStatuses","chipId","dogHistoryStatuses","findHistoryStatuses","dogStatus","dogPosition","findDogposition","hasBirthday","birth","daysUntilBirthday","daysUntilNextBirthday","findHarness","harness","age","deceased","gender","bodyScore","endDate","vaccineType","lead","wheel","specialNeeds","lang","vac","inKarens","vaccineAgens","showInfo","showName","showPosition","showAge","size","containerWidth","imageClasses","celciusToFahrenheit","Weight","kgToPounds","getFatigueLevel","wo","STOP_STATUSES","WARN_STATUSES","showWorkout","showNeeds","findCurrentWorkoutSummary","Team","requestFollowTeam","teamId","followRequest","requestSent","unFollowTeam","unollowTeam","unfollowed","getButton","skipHome","simple","classNames","isYourTeam","members","isFollowing","followers","isBlocked","blockedFollowers","hasRequestedFollow","followRequests","data-team","buttonOnly","place","country","Ad","subject","logClick","ads","adStore","apiServer","getApiServer","loadAd","page","isLoading","path","currentTeam","postalcode","replace","query","setTime","time","ad","native","newTeam","TeamsDetail","subscribeNotificationTopic","notificationTopics","setNotificationTopic","loadPublicView","getPublicViews","loadAll","loadPublicTeam","loadPublicDetail","setSwipeRight","publicViewsGraphData","some","imageHeader","publicTrophys","publicMemories","publicDogs","headerImage","s3XXLargeLink","teamImage","topic","asUrl","asFacebookLink","instagram","asInstagramLink","snapchat","asSnapchatLink","imagesSponsor","sponsors","description","descriptionWorkoutplan","achievements","file","trophys","getTrophyImage","textHeader","descriptionHeader","Elevation","meterToFeet","confirmed","deleted","TeamLine","confirmRequest","confirmFollowRequest","deleteRequest","deleteFollowRequest","getUnblockButton","userId","myTeamId","isConfirmed","data-user","username","showBlockButton","isDeleted","s3MediumLink","Speed","kmtToMph","Images","handleAddImage","addToImages","files","uploadStatus","apiUrl","children","showAllComments","showAllReplies","viewImageIdx","WorkoutComments","likeComment","likeWorkoutComment","likeReply","replyId","likeWorkoutCommentReply","replyComment","toggleComments","toggleReplies","viewImage","translate","showOriginal","translatedText","commentid","replyid","translateCommentReply","translateComment","max_comments","compact","currentUser","filteredComments","totalComments","diplayedComments","hasLikedComment","filteredReplises","totalReplies","diplayedReplies","imageIdx","currentLocationGeocode","translation","getCommentTranslations","targetLang","data-idx","data-commentid","formatDistance","createdDate","locale","updatedDate","formatted_address","reply","hasLikedReply","replyTranslation","getCommentReplyTranslations","replyBody","data-comment","data-replyid","more","DragNDropFileupload","dropRef","handleDrag","handleDragIn","dragCounter","dataTransfer","items","drag","handleDragOut","handleDrop","readLocalFile","handleAddFiles","event","handleEvent","handleUpload","fileObject","isFunction","formData","FormData","append","uploadMeta","progress","xhr","XMLHttpRequest","addEventListener","updateProgress","fileObj","uploadDone","open","setRequestHeader","getJwtToken","send","filename","uploadedFilesData","imageNum","Promise","resolve","reject","reader","FileReader","error","photo","readAsDataURL","lengthComputable","percentComplete","loaded","readyState","parse","responseText","addFileToUpload","fileInput","loadingProgress","uploadedFiles","div","click","removeEventListener","border","backgroundColor","top","bottom","left","right","zIndex","textAlign","multiple","onchange","isImage","result","formatBytes","getStateColor","getStateIcon","States","hideDetail","nextStateDetail","nextState","avgspeed","statespeeds","stateSpeeds","prevStateDetail","prevIdx","prevState","showText","currentWidth","data-state","data-duration","data-distance","data-avgspeed","data-statespeeds","data-point","data-start","data-end","data-percent","formatDate","parseInputDate","hour12","day","hour","minute","toggleViews","showViewList","viewUsersArrays","entries","weekObject","viewUsers","flat","Musher","fname","mouseData","Gauge","svgRef","heightAdd","showCenterText","centerText","centerTextSize","centerTextX","centerTextY","totalY","totalX","totalTextAnchor","completedY","completedX","completedTextAnchor","strokeWidth","innerRadius","strokeWidthGauge","circumference","PI","arc","dashArray","transform","textSize","textSizeSmall","xmlns","svg","preserveAspectRatio","gaugeBackground","cx","cy","strokeDasharray","strokeLinecap","gauge","stroke","strokeDashoffset","transition","gaugeText","dominant-baseline","text-anchor","font-size","secondary"],"mappings":"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","file":"12.chunk.526b7.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {};\n\nconst MAX_USERS_TO_DISPLAY = 1;\n\n@observer\nclass DisplayLikesAndComments extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    toggleLikes = () => {\n        const { showLikesList } = this.state;\n        this.setState({\n            showLikesList: !showLikesList,\n        });\n    }\n\n    render() {\n        const { showLikesList } = this.state;\n        const { storyStore, teamStore, workoutStore, raceStore } = this.props.stores;\n        const { likes, comments, type = 'story', onTeamClick = () => {}, onUserClick = () => {} } = this.props;\n\t\treturn (<>\n            <div class='d-flex justify-content-between mb-2'>\n                {likes && likes.length > 0 && <>\n                    <div class='d-flex flex-row flex-nowrap position-relative mr-3' style='overflow: auto;'>\n                        <span\n                            class='text-muted mr-2'\n                            onClick={this.toggleLikes}\n                        >\n                            <i class='fas fa-thumbs-up text-primary' /> {likes.length}\n                        </span>\n                        {likes.slice(0, MAX_USERS_TO_DISPLAY).map((like) => {\n                            let user;\n                            let teams;\n                            if (type === 'story') {\n                                user = storyStore.findPublicUser(like.user);\n                                teams = storyStore.findPublicTeamByMembers(like.user);\n                            } else if (type === 'team') {\n                                user = teamStore.findPublicUser(like.user);\n                                teams = teamStore.findPublicTeamByMembers(like.user);\n                            } else if (type === 'workout') {\n                                user = workoutStore.findPublicUser(like.user);\n                                teams = workoutStore.findPublicTeamByMembers(like.user);\n                            } else if (type === 'race') {\n                                user = raceStore.findPublicUser(like.user);\n                                teams = raceStore.findPublicTeamByMembers(like.user);\n                            }\n                            let publicTeam;\n                            if (util.isArray(teams)) {\n                                publicTeam = teams.find(e => e.public === 1);\n                            }\n                            const image = mu.getImage({ user, team: publicTeam, priority: 'user' });\n                            const shortname = mu.displayNameShort(user);\n                            const name = mu.displayName(user);\n                            return (<>\n                                <span class='font-weight-lighter'>\n                                    {publicTeam ? <>\n                                        <a href={`/teams/public/${publicTeam.uuidv4}`} title={publicTeam.name} onClick={(e) => onTeamClick(e, publicTeam.uuidv4)}>\n                                            {name}\n                                        </a>\n                                    </> : <>\n                                        {name}\n                                    </>}\n                                </span>\n                            </>);\n                            // return (<>\n                            //     {publicTeam ? <>\n                            //         <a href={`/teams/public/${publicTeam.uuidv4}`} title={publicTeam.name} onClick={(e) => onTeamClick(e, publicTeam.uuidv4)}>\n                            //             <div\n                            //                 class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                            //                 style={`${image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}`}\n                            //             >\n                            //                 {!image && <div class='' style='font-size: 12px; padding-top: 3px;'>{shortname}</div>}\n                            //             </div>\n                            //         </a>\n                            //     </> : <>\n                            //         <div\n                            //             class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                            //             style={`${image ? `background-image: url(\"${image}\"); background-size: cover;` : ''} opacity: 0.5;`}\n                            //         >\n                            //             {!image && <div class='text-muted' style='font-size: 12px; padding-top: 3px;'>{shortname}</div>}\n                            //         </div>\n                            //     </>}\n                            // </>);\n                        })}\n                        {likes.length > MAX_USERS_TO_DISPLAY && <>\n                            <span class='text-muted font-weight-lighter ml-2' onClick={this.toggleLikes}>\n                                <Text id='likes-comments.and' fields={{ total: likes.length - MAX_USERS_TO_DISPLAY }}>and {likes.length - MAX_USERS_TO_DISPLAY} others.</Text>\n                            </span>\n                        </>}\n                    </div>\n                </>}\n\n                {comments && comments.length > 0 && <span class='float-right text-muted'>\n                    <i class='fas fa-comment text-primary' /> {comments.length}\n                </span>}\n            </div>\n            {showLikesList && <div class='mt-3 mb-3'>\n                {likes && likes.map((like) => {\n                    let user;\n                    let teams;\n                    if (type === 'story') {\n                        user = storyStore.findPublicUser(like.user);\n                        teams = storyStore.findPublicTeamByMembers(like.user);\n                    } else if (type === 'team') {\n                        user = teamStore.findPublicUser(like.user);\n                        teams = teamStore.findPublicTeamByMembers(like.user);\n                    } else if (type === 'workout') {\n                        user = workoutStore.findPublicUser(like.user);\n                        teams = workoutStore.findPublicTeamByMembers(like.user);\n                    } else if (type === 'race') {\n                        user = raceStore.findPublicUser(like.user);\n                        teams = raceStore.findPublicTeamByMembers(like.user);\n                    }\n                    let publicTeam;\n                    if (util.isArray(teams)) {\n                        publicTeam = teams.find(e => e.public === 1);\n                    }\n                    const image = mu.getImage({ user, team: publicTeam, priority: 'user' });\n                    const shortname = mu.displayNameShort(user);\n                    const name = mu.displayName(user, true);\n                    return (<div class='d-flex flex-row position-relative font-weight-light mb-1'>\n                        {publicTeam ? <>\n                            <a href={`/teams/public/${publicTeam.uuidv4}`} title={publicTeam.name} onClick={(e) => onTeamClick(e, publicTeam.uuidv4)} class='stretched-link'>\n                                <div\n                                    class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                    style={`${image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}`}\n                                >\n                                    {!image && <div class='' style='font-size: 12px; padding-top: 3px;'>{shortname}</div>}\n                                </div>\n                            </a>\n                            <div class='ml-2 '>\n                                {name} <span class='font-weight-lighter'>- {publicTeam.name}</span>\n                            </div>\n                        </> : <>\n                            <div\n                                class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                style={`${image ? `background-image: url(\"${image}\"); background-size: cover;` : ''} opacity: 0.5;`}\n                            >\n                                {!image && <div class='text-muted' style='font-size: 12px; padding-top: 3px;'>{shortname}</div>}\n                            </div>\n                            <div class='ml-2'>\n                                {name}\n                            </div>\n                        </>}\n                    </div>);\n                })}\n            </div>}\n\t\t</>);\n\t}\n}\n\nexport default DisplayLikesAndComments;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport Images from '../form/images';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\n@observer\nclass WorkoutAdd extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            comment: {\n                body: '',\n                images: [],\n            },\n            showAddImage: false,\n            sendButtonEnabled: true,\n        };\n        this.inputRef = {};\n    }\n\n    beforeImagesUploaded = () => {\n        this.setState({ sendButtonEnabled: false });\n    }\n\n    afterImagesUploaded = () => {\n        this.setState({ sendButtonEnabled: true });\n    }\n    \n    commentWorkout = async () => {\n        const { sendButtonEnabled } = this.state;\n        if (!sendButtonEnabled) {\n            return false;\n        }\n        const { callback = () => {}, inputRefObject = {} } = this.props;\n        const { workout } = this.props;\n\t\tconst { workoutStore } = this.props.stores;\n        const { comment, showAddImage } = this.state;\n        this.setState({ sendButtonEnabled: false });\n\t\tconst response = await workoutStore.commentWorkout({ id: workout.id, comment });\n\t\tif (response && response.status === 200) {\n            this.setState({\n                comment: {\n                    body: '',\n                    images: [],\n                },\n            }, () => {\n                mu.resizeTextarea(inputRefObject[workout.id]);\n                if (showAddImage) {\n                    this.addImage();\n                }\n            });\n            callback({ workout, response });\n\t\t}\n        this.setState({ sendButtonEnabled: true });\n\t}\n\n    addImages = ({ value }) => {\n        // updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n        const { comment } = this.state;\n        comment.images.push(...value);\n        this.setState({ comment });\n    }\n\n    addImage = () => {\n        const { showAddImage = false } = this.state;\n        this.setState({\n            showAddImage: !showAddImage,\n        });\n    }\n\n    handleImageErrored = (e) => {\n        const image = e.target;\n        image.onerror = null;\n        setTimeout(() => {\n            image.src += `?${new Date()}`;\n        }, 1000);\n    }\n\n    render() {\n        const { inputRef, col = 12, offset = 0, showAvatar = true, extraClass = '', workout } = this.props;\n        const { comment, showAddImage, sendButtonEnabled } = this.state;\n        const { userStore } = this.props.stores;\n        const { user = {} } = userStore;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        // const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        return (\n            <div class={`col-${col} offset-${offset} ${extraClass}`}>\n                <div class='d-flex mb-0 position-relative w-100'>\n                    {showAvatar && <div \n                        class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                        style={`${userImage ? `background-image: url('${userImage.s3SmallLink}'); background-size: cover;` : ''} border-width: 3px !important;`}\n                    >\n                        {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                    </div>}\n                    <div class='col pl-3' style='line-height: 1.2em;'>\n\n                        <div class='d-flex bd-highlight'>\n                            <div class='p-0 w-100 bd-highlight'>\n                                <label class='sr-only' for='inlineFormInput'><Text id='comments.comment'>Kommentar</Text></label>\n                                <div class='border rounded rounded-lg position-relative'>\n                                    <Localizer>\n                                        <textarea\n                                            class='form-control-plaintext px-2'\n                                            type='text'\n                                            placeholder={<Text id='comments.write-comment'>Skriv en kommentar...</Text>}\n                                            onInput={linkState(this, 'comment.body')}\n                                            onKeyUp={mu.resizeTextarea}\n                                            onFocus={mu.resizeTextarea}\n                                            style='height: 2.3em;'\n                                            value={comment.body}\n                                            ref={inputRef}\n                                        />\n                                    </Localizer>\n                                    <div class='position-absolute' style='top: 8px; right: 10px; font-size: 1.2em;'>\n                                        <i class='fas fa-image pointerCursor'\n                                            data-id={workout.id}\n                                            onClick={this.addImage}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            <div class='p-0 pl-2 flex-shrink-1 bd-highlight'>\n                                <button type='button' class={`btn btn-${sendButtonEnabled ? 'primary' : 'secondary'} mb-2`} disabled={!sendButtonEnabled}\n                                    onClick={this.commentWorkout}\n                                ><i class='fas fa-paper-plane' /></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {showAddImage && <>\n                    <div class='col-12 text-center'>\n                        <div class='container-fluid'>\n                            <div class='row'>\n                                {comment.images && comment.images.map(img => (\n                                    <div class='col-3 p-1'>\n                                        <img src={img.s3SmallLink} class='img-fluid' onError={this.handleImageErrored} />\n                                        <button class='btn btn-sm btn-link'\n                                            onClick={this.removeImage}\n                                            data-name={img.name}\n                                        ><i class='fas fa-trash' />  <Text id='comments.remove-image'>Remove</Text></button>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                        <Images object={comment} updateField={this.addImages} before={this.beforeImagesUploaded} after={this.afterImagesUploaded} autoOpen={true} />\n                    </div>\n                </>}\n            </div>\n        );\n    }\n}\n\nexport default WorkoutAdd;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nconst initialState = {};\n\n@observer\nclass ScrollIntoView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.container = null;\n    }\n\n    componentDidMount() {\n        const { horizontal, vertical = '' } = this.props;\n        const props = {\n            behavior: 'smooth',\n        };\n        if (horizontal) {\n            props.inline = horizontal;\n        }\n        if (vertical) {\n            props.block = vertical;\n        }\n\t\tthis.container.scrollIntoView(props);\n\t}\n\n    render() {\n        return (\n            <div ref={c => this.container = c}>&nbsp;</div>\n        );\n    }\n}\n\nexport default ScrollIntoView;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\n@observer\nclass ImageSlider extends Component {\n    constructor(props) {\n        super(props);\n        const { images = [] } = props;\n        this.state = {\n            imageContainer: 1,\n            currentImage1: images[0] || {},\n            currentImage2: {},\n            currentIdx: 0,\n            totalImages: images.length || 0,\n            imageDots: [...Array(images.length || 0).fill(1).map((x, y) => x + y)],\n        };\n    }\n\n    nextImage() {\n        // console.log('next');\n        const { images } = this.props;\n        const { totalImages, currentIdx, imageContainer } = this.state;\n        const nextImageContainer = imageContainer === 1 ? 2 : 1;\n        let nextIdx = currentIdx + 1;\n        if (nextIdx > totalImages -1) {\n            nextIdx = 0;\n        }\n        this.setState({\n            [`currentImage${nextImageContainer}`]: images[nextIdx],\n            currentIdx: nextIdx,\n            imageContainer: nextImageContainer,\n        });\n    }\n\n    prevImage() {\n        // console.log('prev');\n        const { images } = this.props;\n        const { totalImages, currentIdx, imageContainer } = this.state;\n        const nextImageContainer = imageContainer === 1 ? 2 : 1;\n        let nextIdx = currentIdx - 1;\n        if (nextIdx < 0) {\n            nextIdx = totalImages - 1;\n        }\n        this.setState({\n            [`currentImage${nextImageContainer}`]: images[nextIdx],\n            currentIdx: nextIdx,\n            imageContainer: imageContainer === 1 ? 2 : 1,\n        });\n    }\n\n    touchStart = (e) => {\n        e.stopPropagation();\n        this.setState({\n            startX: e.touches[0].pageX,\n        })\n    }\n\n    touchEnd = (e) => {\n        e.stopPropagation();\n        this.setState({\n            startX: undefined,\n            sliding: false,\n        })\n    }\n\n    touchMove = (e) => {\n        e.stopPropagation();\n        // e.preventDefault();\n        const { totalImages } = this.state;\n        if (totalImages > 1) {\n            const { startX, sliding } = this.state;\n            const scrollDistance = 50;\n            const x = e.touches[0].pageX;\n            if (!sliding) {\n                if (x > startX + scrollDistance) {\n                    this.setState({ sliding: true })\n                    this.prevImage();\n                } else if (x < startX - scrollDistance) {\n                    this.setState({ sliding: true })\n                    this.nextImage();\n                }\n            }\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.images !== this.props.images) {\n            const { images: nextImages = [] } = nextProps;\n            this.setState({\n                imageContainer: 1,\n                currentImage1: nextImages.length > 0 ? nextImages[0] : {},\n                currentImage2: {},\n                currentIdx: 0,\n                totalImages: nextImages.length || 0,\n                imageDots: [...Array(nextImages.length || 0).fill(1).map((x, y) => x + y)],\n            });\n        }\n    }\n\n    render() {\n        const { currentImage1, currentImage2, imageContainer, totalImages, imageDots, currentIdx } = this.state;\n        const img = this[`image${imageContainer}`];\n        const curImage = imageContainer === 1 ? currentImage1 : currentImage2;\n        const htmlImageRatio = img && img.height ? img.width / img.height : 4 / 3;\n        let imgHeight;\n        let imgWidth;\n        if (curImage.dimensions) {\n            const { width, height, orientation } = curImage.dimensions;\n            if (orientation > 4 && orientation < 9) {\n                imgHeight = width;\n                imgWidth = height;\n            } else {\n                imgHeight = height;\n                imgWidth = width;\n            }\n        }\n        const imageRatio = curImage.dimensions ? imgWidth / imgHeight : htmlImageRatio;\n        if (totalImages <= 0) {\n            return '';\n        }\n\n        return (\n            <div class='w-100'>\n                <div class='border rounded position-relative w-100'\n                    style={`height: calc(85vw / ${imageRatio}); overflow: hidden; transition: all .3s ease-in-out;`}\n                    onTouchstart={this.touchStart}\n                    onTouchend={this.touchEnd}\n                    onTouchmove={this.touchMove}\n                >\n                    {totalImages > 1 && <span class='position-absolute' style='top:0px; right: 5px; z-index: 2000;'><small>{currentIdx + 1}/{totalImages}</small></span>}\n                    {currentImage1 && <div class='position-absolute' style={`${imageContainer === 1 ? 'opacity: 1;' :  'opacity: 0;'} transition: all .3s ease-in-out; top: 0; left: 0;`}>\n                        <img loading='lazy' src={currentImage1.s3LargeLink}\n                            class='img-fluid align-middle'\n                            ref={c => this.image1 = c}\n                        />\n                    </div>}\n                    {currentImage2 && <div class='position-absolute' style={`${imageContainer === 2 ? 'opacity: 1;' :  'opacity: 0;'} transition: all .3s ease-in-out; top: 0; left: 0;`}>\n                        <img loading='lazy' src={currentImage2.s3LargeLink}\n                            class='img-fluid align-middle'\n                            ref={c => this.image2 = c}\n                        />\n                    </div>}\n                </div>\n                {imageDots.length > 1 && <div class='w-100 text-center'>{imageDots.map(i => <span style={`color: ${i === currentIdx + 1 ? '#ffffff' : '#808080'};`}>&bull;</span>)}</div>}\n            </div>\n        );\n    }\n}\n\nexport default ImageSlider;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\n@observer\nclass WorkoutCommentReply extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sendButtonEnabled: true,\n        };\n        this.inputRef = {};\n    }\n\n    commentWorkout = async () => {\n        const { sendButtonEnabled } = this.state;\n        if (!sendButtonEnabled) {\n            return false;\n        }\n        const { callback = () => {}, commentId, inputRefObject = {} } = this.props;\n        const { workout } = this.props;\n\t\tconst { workoutStore } = this.props.stores;\n        const { comment = '' } = this.state;\n        this.setState({ sendButtonEnabled: false });\n\t\tconst response = await workoutStore.commentReplyWorkout({ id: workout.id, commentId, comment });\n\t\tif (response && response.status === 200) {\n            this.setState({\n                comment: '',\n            }, () => {\n                mu.resizeTextarea(inputRefObject[commentId]);\n            });\n            callback({ workout, response, commentId });\n\t\t}\n        this.setState({ sendButtonEnabled: true });\n\t}\n\n    render() {\n        const { inputRef } = this.props;\n        const { comment, sendButtonEnabled } = this.state;\n        const { userStore } = this.props.stores;\n        const { user = {} } = userStore;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        // const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        return (\n            <div class='w-100'>\n                <div class='d-flex mb-0 position-relative w-100'>\n                    <div \n                        class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                        style={`${userImage ? `background-image: url('${userImage.s3SmallLink}'); background-size: cover;` : ''} border-width: 3px !important;`}\n                    >\n                        {!userImage && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                    </div>\n                    <div class='col pl-3' style='line-height: 1.2em;'>\n\n                        <div class='d-flex bd-highlight'>\n                            <div class='p-0 w-100 bd-highlight'>\n                                <label class='sr-only' for='inlineFormInput'><Text id='comments.comment'>Kommentar</Text></label>\n                                <div class='border rounded rounded-lg position-relative'>\n                                    <Localizer>\n                                        <textarea\n                                            class='form-control-plaintext px-2'\n                                            type='text'\n                                            placeholder={<Text id='comments.write-comment'>Skriv en kommentar...</Text>}\n                                            onInput={linkState(this, 'comment')}\n                                            onKeyUp={mu.resizeTextarea}\n                                            style='height: 2.3em;'\n                                            value={comment}\n                                            ref={inputRef}\n                                        />\n                                    </Localizer>\n                                </div>\n                            </div>\n                            <div class='p-0 pl-2 flex-shrink-1 bd-highlight'>\n                                <button type='button' class={`btn btn-${sendButtonEnabled ? 'primary' : 'secondary'} mb-2`} disabled={!sendButtonEnabled}\n                                    onClick={this.commentWorkout}\n                                ><i class='fas fa-paper-plane' /></button>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default WorkoutCommentReply;\n","import { DivIcon, Icon } from 'leaflet';\nimport util from 'preact-util';\n\nimport mu from './musher-util';\n\nconst ICONS = {\n\tadit: new Icon({ iconUrl: './assets/svg/adit.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tairport: new Icon({ iconUrl: './assets/svg/airport.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tanalyse: new Icon({ iconUrl: './assets/svg/analyse.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tarchaeological: new Icon({ iconUrl: './assets/svg/archaeological.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tarchitecture: new Icon({ iconUrl: './assets/svg/architecture.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tarrow_up: new Icon({ iconUrl: './assets/svg/arrow_up.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tarrow_up_double: new Icon({ iconUrl: './assets/svg/arrow_up_double.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tatm: new Icon({ iconUrl: './assets/svg/atm.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tavatar: new Icon({ iconUrl: './assets/svg/avatar.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbag: new Icon({ iconUrl: './assets/svg/bag.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbar: new Icon({ iconUrl: './assets/svg/bar.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbarracks: new Icon({ iconUrl: './assets/svg/barracks.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbattlefield: new Icon({ iconUrl: './assets/svg/battlefield.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbeach: new Icon({ iconUrl: './assets/svg/beach.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbicycle: new Icon({ iconUrl: './assets/svg/bicycle.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tboundary_stone: new Icon({ iconUrl: './assets/svg/boundary_stone.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbuddhism: new Icon({ iconUrl: './assets/svg/buddhism.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbuilding: new Icon({ iconUrl: './assets/svg/building.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tburger: new Icon({ iconUrl: './assets/svg/burger.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbus: new Icon({ iconUrl: './assets/svg/bus.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tbus_stop: new Icon({ iconUrl: './assets/svg/bus_stop.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcable_car: new Icon({ iconUrl: './assets/svg/cable_car.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcamera: new Icon({ iconUrl: './assets/svg/camera.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcamp_site: new Icon({ iconUrl: './assets/svg/camp_site.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcar: new Icon({ iconUrl: './assets/svg/car.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcaravan_site: new Icon({ iconUrl: './assets/svg/caravan_site.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcartography: new Icon({ iconUrl: './assets/svg/cartography.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcash: new Icon({ iconUrl: './assets/svg/cash.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcastle: new Icon({ iconUrl: './assets/svg/castle.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcastle_defensive: new Icon({ iconUrl: './assets/svg/castle_defensive.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcave_entrance: new Icon({ iconUrl: './assets/svg/cave_entrance.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcemetery: new Icon({ iconUrl: './assets/svg/cemetery.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tchapel: new Icon({ iconUrl: './assets/svg/chapel.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tchristianism: new Icon({ iconUrl: './assets/svg/christianism.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcinema: new Icon({ iconUrl: './assets/svg/cinema.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcinema_alt: new Icon({ iconUrl: './assets/svg/cinema_alt.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcity: new Icon({ iconUrl: './assets/svg/city.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcityhall: new Icon({ iconUrl: './assets/svg/cityhall.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tclean: new Icon({ iconUrl: './assets/svg/clean.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcompass: new Icon({ iconUrl: './assets/svg/compass.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcompass_alt: new Icon({ iconUrl: './assets/svg/compass_alt.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tconstruction: new Icon({ iconUrl: './assets/svg/construction.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcontour: new Icon({ iconUrl: './assets/svg/contour.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcourt_house: new Icon({ iconUrl: './assets/svg/court_house.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcrown: new Icon({ iconUrl: './assets/svg/crown.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tcrucifix: new Icon({ iconUrl: './assets/svg/crucifix.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdata: new Icon({ iconUrl: './assets/svg/data.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdatabase: new Icon({ iconUrl: './assets/svg/database.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdentist: new Icon({ iconUrl: './assets/svg/dentist.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdisabled: new Icon({ iconUrl: './assets/svg/disabled.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdislike: new Icon({ iconUrl: './assets/svg/dislike.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdownload: new Icon({ iconUrl: './assets/svg/download.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdrag_lift: new Icon({ iconUrl: './assets/svg/drag_lift.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tdrop: new Icon({ iconUrl: './assets/svg/drop.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\teye: new Icon({ iconUrl: './assets/svg/eye.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfacebook: new Icon({ iconUrl: './assets/svg/facebook.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfire: new Icon({ iconUrl: './assets/svg/fire.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfishing: new Icon({ iconUrl: './assets/svg/fishing.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tflag: new Icon({ iconUrl: './assets/svg/flag.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tforbidden: new Icon({ iconUrl: './assets/svg/forbidden.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfort: new Icon({ iconUrl: './assets/svg/fort.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfountain: new Icon({ iconUrl: './assets/svg/fountain.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfuel: new Icon({ iconUrl: './assets/svg/fuel.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tfuel_alt: new Icon({ iconUrl: './assets/svg/fuel_alt.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tgallery: new Icon({ iconUrl: './assets/svg/gallery.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tgear: new Icon({ iconUrl: './assets/svg/gear.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tgithub: new Icon({ iconUrl: './assets/svg/github.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tgo: new Icon({ iconUrl: './assets/svg/go.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tgolf: new Icon({ iconUrl: './assets/svg/golf.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\theart: new Icon({ iconUrl: './assets/svg/heart.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\thelicopter: new Icon({ iconUrl: './assets/svg/helicopter.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\thome: new Icon({ iconUrl: './assets/svg/home.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\thospital: new Icon({ iconUrl: './assets/svg/hospital.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\thostel: new Icon({ iconUrl: './assets/svg/hostel.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\thotel: new Icon({ iconUrl: './assets/svg/hotel.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\thotel_alt: new Icon({ iconUrl: './assets/svg/hotel_alt.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tice_ring: new Icon({ iconUrl: './assets/svg/ice_ring.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tinformation: new Icon({ iconUrl: './assets/svg/information.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tinternet: new Icon({ iconUrl: './assets/svg/internet.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tinvisible: new Icon({ iconUrl: './assets/svg/invisible.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tislamism: new Icon({ iconUrl: './assets/svg/islamism.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tisland: new Icon({ iconUrl: './assets/svg/island.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tjudaism: new Icon({ iconUrl: './assets/svg/judaism.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlaptop: new Icon({ iconUrl: './assets/svg/laptop.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlibrary: new Icon({ iconUrl: './assets/svg/library.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlighthouse: new Icon({ iconUrl: './assets/svg/lighthouse.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlike: new Icon({ iconUrl: './assets/svg/like.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlinkedin: new Icon({ iconUrl: './assets/svg/linkedin.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlion: new Icon({ iconUrl: './assets/svg/lion.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tlock: new Icon({ iconUrl: './assets/svg/lock.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmagnifier: new Icon({ iconUrl: './assets/svg/magnifier.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmall: new Icon({ iconUrl: './assets/svg/mall.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmap: new Icon({ iconUrl: './assets/svg/map.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmapkey: new Icon({ iconUrl: './assets/svg/mapkey.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmapshakers: new Icon({ iconUrl: './assets/svg/mapshakers.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmarina: new Icon({ iconUrl: './assets/svg/marina.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmarker: new Icon({ iconUrl: './assets/svg/marker.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmarket_place: new Icon({ iconUrl: './assets/svg/market_place.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmine: new Icon({ iconUrl: './assets/svg/mine.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmonument: new Icon({ iconUrl: './assets/svg/monument.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmountain: new Icon({ iconUrl: './assets/svg/mountain.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmuseum: new Icon({ iconUrl: './assets/svg/museum.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tmusic: new Icon({ iconUrl: './assets/svg/music.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnature: new Icon({ iconUrl: './assets/svg/nature.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnocamera: new Icon({ iconUrl: './assets/svg/nocamera.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnonsmoking: new Icon({ iconUrl: './assets/svg/nonsmoking.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnorth: new Icon({ iconUrl: './assets/svg/north.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnorth_alt: new Icon({ iconUrl: './assets/svg/north_alt.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnorth_alt_II: new Icon({ iconUrl: './assets/svg/north_alt_II.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tnorth_alt_III: new Icon({ iconUrl: './assets/svg/north_alt_III.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\toppositeway: new Icon({ iconUrl: './assets/svg/oppositeway.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tparking: new Icon({ iconUrl: './assets/svg/parking.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tpharmacy: new Icon({ iconUrl: './assets/svg/pharmacy.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tpicnic_site: new Icon({ iconUrl: './assets/svg/picnic_site.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tpitch: new Icon({ iconUrl: './assets/svg/pitch.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tplayground: new Icon({ iconUrl: './assets/svg/playground.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tplayground_alt: new Icon({ iconUrl: './assets/svg/playground_alt.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tpolice: new Icon({ iconUrl: './assets/svg/police.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tpost_office: new Icon({ iconUrl: './assets/svg/post_office.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tpub: new Icon({ iconUrl: './assets/svg/pub.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\trestaurant: new Icon({ iconUrl: './assets/svg/restaurant.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\trocks: new Icon({ iconUrl: './assets/svg/rocks.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\truins: new Icon({ iconUrl: './assets/svg/ruins.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsaddle: new Icon({ iconUrl: './assets/svg/saddle.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsailboat: new Icon({ iconUrl: './assets/svg/sailboat.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tschool: new Icon({ iconUrl: './assets/svg/school.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tseal: new Icon({ iconUrl: './assets/svg/seal.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tshelter: new Icon({ iconUrl: './assets/svg/shelter.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsinkhole: new Icon({ iconUrl: './assets/svg/sinkhole.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tskype: new Icon({ iconUrl: './assets/svg/skype.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsmartphone: new Icon({ iconUrl: './assets/svg/smartphone.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsmoking: new Icon({ iconUrl: './assets/svg/smoking.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsport_centre: new Icon({ iconUrl: './assets/svg/sport_centre.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tspring: new Icon({ iconUrl: './assets/svg/spring.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsquare: new Icon({ iconUrl: './assets/svg/square.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tstadium: new Icon({ iconUrl: './assets/svg/stadium.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tstar: new Icon({ iconUrl: './assets/svg/star.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tstop: new Icon({ iconUrl: './assets/svg/stop.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tstupa: new Icon({ iconUrl: './assets/svg/stupa.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tsupermarket: new Icon({ iconUrl: './assets/svg/supermarket.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tswimming_pool: new Icon({ iconUrl: './assets/svg/swimming_pool.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttelephone: new Icon({ iconUrl: './assets/svg/telephone.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttheatre: new Icon({ iconUrl: './assets/svg/theatre.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tticket: new Icon({ iconUrl: './assets/svg/ticket.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttoilet: new Icon({ iconUrl: './assets/svg/toilet.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttower: new Icon({ iconUrl: './assets/svg/tower.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttown: new Icon({ iconUrl: './assets/svg/town.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttraffic_signal: new Icon({ iconUrl: './assets/svg/traffic_signal.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttrain: new Icon({ iconUrl: './assets/svg/train.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttram: new Icon({ iconUrl: './assets/svg/tram.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttram_stop: new Icon({ iconUrl: './assets/svg/tram_stop.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttree_cinofer: new Icon({ iconUrl: './assets/svg/tree_cinofer.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttree_leaf: new Icon({ iconUrl: './assets/svg/tree_leaf.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\ttriangle: new Icon({ iconUrl: './assets/svg/triangle.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tunderground: new Icon({ iconUrl: './assets/svg/underground.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tunesco: new Icon({ iconUrl: './assets/svg/unesco.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tuniversity: new Icon({ iconUrl: './assets/svg/university.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tupload: new Icon({ iconUrl: './assets/svg/upload.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tviewpoint: new Icon({ iconUrl: './assets/svg/viewpoint.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tviewtower: new Icon({ iconUrl: './assets/svg/viewtower.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tvillage: new Icon({ iconUrl: './assets/svg/village.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tvineyard: new Icon({ iconUrl: './assets/svg/vineyard.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tvolcano: new Icon({ iconUrl: './assets/svg/volcano.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twater_tower: new Icon({ iconUrl: './assets/svg/water_tower.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twater_well: new Icon({ iconUrl: './assets/svg/water_well.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twatermill: new Icon({ iconUrl: './assets/svg/watermill.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twaterpark: new Icon({ iconUrl: './assets/svg/waterpark.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twaterwork: new Icon({ iconUrl: './assets/svg/waterwork.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twayside_cross: new Icon({ iconUrl: './assets/svg/wayside_cross.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twind_generator: new Icon({ iconUrl: './assets/svg/wind_generator.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\twindmill: new Icon({ iconUrl: './assets/svg/windmill.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n\tzoo: new Icon({ iconUrl: './assets/svg/zoo.svg', iconSize: [30, 30], iconAnchor: [10, 30] }),\n}\n\nclass Icons {\n    static get(icon) {\n        return ICONS[icon];\n    }\n\n    static list() {\n        return Object.keys(ICONS);\n    }\n\n\tstatic getDiv({ icon, title, body, color, textColor = '#333333', borderColor = 0, iconWidth = 150, iconHeight = 70 }) {\n\t\tconst id = `img-${util.randomPassword()}`;\n\t\tconst { r, g, b } = util.hsl2Rgb(color, 100, 60);\n\t\tconst { r: wr, g: wg, b: wb } = util.hsl2Rgb(100 - borderColor, 100, 50);\n\t\treturn new DivIcon({\n\t\t\ticonSize: [iconWidth, iconHeight + 30],\n\t\t\ticonAnchor: [15, iconHeight + 30],\n\t\t\tclassName: 'my-div-icon',\n\t\t\thtml: `<div id='${id}' style='width: ${iconWidth}px; height: ${iconHeight + 30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${id} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${color};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${textColor}; background-color: ${color}; height: ${iconHeight}px;'>\n\t\t\t\t\t<nobr><strong>${title}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${body}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`,\n\t\t});\n    }\n\n\tstatic getRaceMarker({\n\t\ticon,\n\t\tbib,\n\t\tspeed = '',\n\t\tbearing = '',\n\t\trank,\n\t\tflag = '',\n\t\timage,\n\t\ttitle,\n\t\tbody,\n\t\tcolor,\n\t\ttextColor = '#333333',\n\t\tborderColor = 0,\n\t\ticonWidth = 180,\n\t\ticonHeight = 15,\n\t\ticonAnchorX = 5,\n\t\ticonAnchorY = 5,\n\t\timageCirlceRadius = 10,\n\n\t\tlineHeight = '0.9em',\n\t\tfontSize = '0.9em',\n\t\tpaddingTop = '3px',\n\t\tpaddingBottom = '3px',\n\n\t\tmapChecked,\n\t\ttitlePrefix = '',\n\t}) {\n\t\tconst id = `img-${util.randomPassword()}`;\n\t\tconst { r, g, b } = util.hsl2Rgb(color, 100, 60);\n\t\tconst { r: wr, g: wg, b: wb } = util.hsl2Rgb(100 - borderColor, 100, 50);\n\n\t\tconst dotColor = mu.getRankingColor(rank);\n\t\tconst mapIsDark = /dark/i.test(mapChecked);\n\n\n\t\tlet imageCircle = image ? `\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\"${image}\"); background-size: cover; border: 1px ${dotColor} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t` : '';\n\t\timageCircle = bib || rank ? `\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: ${dotColor ? dotColor : ''}'\n\t\t\t>\n\t\t\t\t${bib || rank}\n\t\t\t</div>\n\t\t` : imageCircle;\n\t\treturn new DivIcon({\n\t\t\ticonSize: [iconWidth, iconHeight],\n\t\t\ticonAnchor: [iconAnchorX, iconAnchorY],\n\t\t\tclassName: 'my-div-icon',\n\t\t\thtml: iconAnchorX > 100 ? `\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='${id}' style='width: ${iconWidth}px; height: ${iconHeight}px; line-height: ${lineHeight}; font-size: ${fontSize};'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${mapIsDark ? 'text-white' : 'text-dark'} pl-3 pr-1 rounded-pill-left rounded-none ${mapIsDark ? 'bg-dark' : 'bg-white'} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${paddingTop}; padding-bottom: ${paddingBottom};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${titlePrefix} <strong>${title}</strong> ${flag}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pr-2 pl-1 rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${dotColor ? dotColor : ''}; padding-top: ${paddingTop}; padding-bottom: ${paddingBottom};'\n\t\t\t\t\t>\n\t\t\t\t\t\t${imageCircle}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: ${imageCirlceRadius}px; height: ${imageCirlceRadius}px; background-color: ${dotColor};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t` : `\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${id}' style='width: ${iconWidth}px; height: ${iconHeight}px; line-height: ${lineHeight}; font-size: ${fontSize};'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${imageCirlceRadius}px; height: ${imageCirlceRadius}px; background-color: ${dotColor};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pl-2 pr-1 rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${dotColor ? dotColor : ''}; padding-top: ${paddingTop}; padding-bottom: ${paddingBottom};'\n\t\t\t\t\t>\n\t\t\t\t\t\t${imageCircle}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${mapIsDark ? 'text-white' : 'text-dark'} pr-3 pl-1 rounded-pill-right rounded-none ${mapIsDark ? 'bg-dark' : 'bg-white'} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${paddingTop}; padding-bottom: ${paddingBottom};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${flag} <strong>${title}</strong> ${titlePrefix}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t});\n\t\t// ${speed ? `${util.format(speed, 1)} km/t` : ''} ${bearing ? mu.windDirection(bearing) : ''}\n    }\n\n\tstatic getDistanceMarker({ title = '', body = '', color, textColor = '#888', borderColor = 0 }) {\n\t\tconst id = `img-${util.randomPassword()}`;\n\t\treturn new DivIcon({\n\t\t\ticonSize: [20, 20],\n\t\t\ticonAnchor: [10, 10],\n\t\t\tclassName: 'my-div-icon',\n\t\t\thtml: `<div id='${id}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${title}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${body}</span>\n\t\t\t</div>`,\n\t\t});\n    }\n\n\t// static getMarker({ title = '', body = '', color, textColor = '#888', borderColor = 0 }) {\n\t// \tconst id = `img-${util.randomPassword()}`;\n\t// \treturn new DivIcon({\n\t// \t\ticonSize: [10, 10],\n\t// \t\ticonAnchor: [5, 5],\n\t// \t\tclassName: 'my-div-icon',\n\t// \t\thtml: `<div id='${id}' class='rounded-circle bg-primary text-white text-center' style='width: 10px; height: 10px;'>\n\t// \t\t\t<strong>${title}</strong><br />\n\t// \t\t\t<span class='font-weight-light'>${body}</span>\n\t// \t\t</div>`,\n\t// \t});\n    // }\n\tstatic getMarker({\n\t\ticon,\n\t\tbib,\n\t\trank,\n\t\tflag = '',\n\t\timage,\n\t\ttitle,\n\t\tbody,\n\t\tcolor = '#a0a0a0',\n\t\ttextColor = '#333333',\n\t\tborderColor = 0,\n\n\t\ticonWidth = 250,\n\t\ticonHeight = 20,\n\t\ticonAnchorX = 7,\n\t\ticonAnchorY = 7,\n\n\t\timageCirlceRadius = 10,\n\n\t\tlineHeight = '1.0em',\n\t\tfontSize = '1.0em',\n\t\tpaddingTop = '3px',\n\t\tpaddingBottom = '3px',\n\n\t\tmapChecked,\n\t}) {\n\t\tconst id = `img-${util.randomPassword()}`;\n\t\tconst { r, g, b } = util.hsl2Rgb(color, 100, 60);\n\t\tconst { r: wr, g: wg, b: wb } = util.hsl2Rgb(100 - borderColor, 100, 50);\n\n\t\tconst dotColor = mu.getRankingColor(bib || rank) || '#808080';\n\t\tconst mapIsDark = /dark/i.test(mapChecked);\n\n\t\tlet imageCircle = image ? `\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\"${image}\"); background-size: cover; border: 1px ${dotColor} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t` : '';\n\t\timageCircle = bib || rank ? `\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center ${dotColor ? '' : 'bg-primary'}' style='background-color: ${dotColor ? dotColor : ''}'\n\t\t\t>\n\t\t\t\t${bib || rank}\n\t\t\t</div>\n\t\t` : imageCircle;\n\t\treturn new DivIcon({\n\t\t\ticonSize: [iconWidth, iconHeight],\n\t\t\ticonAnchor: [iconAnchorX, iconAnchorY],\n\t\t\tclassName: 'my-div-icon',\n\t\t\thtml: `\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${id}' style='width: ${iconWidth}px; height: ${iconHeight}px; line-height: ${lineHeight}; font-size: ${fontSize};'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${imageCirlceRadius}px; height: ${imageCirlceRadius}px; background-color: ${dotColor};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${mapIsDark ? 'text-white' : 'text-dark'} px-3 pl-1 rounded-pill-both rounded-none ${mapIsDark ? 'bg-info' : 'bg-info'} overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: ${paddingTop}; padding-bottom: ${paddingBottom};'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>${flag} <strong>${title}</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t});\n    }\n\n\n\tstatic getSmallMarker({ title = '', body = '', color, textColor = '#888', borderColor = 0 }) {\n\t\tconst id = `img-${util.randomPassword()}`;\n\t\treturn new DivIcon({\n\t\t\ticonSize: [6, 6],\n\t\t\ticonAnchor: [3, 3],\n\t\t\tclassName: 'my-div-icon',\n\t\t\thtml: `<div id='${id}' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>${title}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${body}</span>\n\t\t\t</div>`,\n\t\t});\n    }\n\n}\n\nexport default Icons;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pointerCursor\":\"pointerCursor__2Gpay\",\"marker-cluster-custom\":\"marker-cluster-custom__1z-5y\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport { toJS } from 'mobx';\nimport Markdown from 'preact-markdown';\n\nimport PubSub, { topics } from '../../lib/pubsub';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nconst MAX_LOADINDEX = mu.getMaxLoadIndex();\nconst RELOAD_INTERVAL_IN_SEC = 60;\n\nimport Map from '../../components/map';\nimport ImageSlider from '../../components/imageSlider';\nimport ImageScroller from '../../components/imageScroller';\nimport Dog from '../../components/dog';\nimport Musher from '../../components/user/musher';\nimport DogSimple from '../../components/dog/simple';\nimport WorkoutInfoGraph from '../../components/workout/infoGraph';\nimport WorkoutComments from '../../components/workout/comments';\nimport WorkoutAddComment from '../../components/workout/commentAdd';\nimport Gauge from '../../components/gauge';\nimport Ad from '../../components/ad/';\nimport Images from '../../components/form/images';\n\nimport Overlay from '../../components/overlay/';\nimport TeamsPublicDetail from '../../routes/teams/publicDetail';\nimport DogPublicDetail from '../../routes/dogs/publicDetail';\n\nimport LikesAndComments from '../../components/feedback/likesAndComments';\nimport Views from '../../components/feedback/views';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport States from '../../components/states';\n\nimport ScrollIntoView from '../../components/util/scrollIntoView';\n\nfunction getWorkoutColor(workout) {\n\tswitch (workout.type) {\n\t\tcase 1:\n\t\t\treturn 'border-primary';\n\t\tcase 2:\n\t\t\treturn 'border-danger';\n\t\tcase 3:\n\t\t\treturn 'border-success';\n\t\tcase 4:\n\t\t\treturn 'border-info';\n\t\tdefault:\n\t\t\treturn 'border-warning';\n\t}\n}\n\nfunction getWorkoutIcon(workout) {\n\tswitch (workout.type) {\n\t\tcase 1:\n\t\t\treturn 'fas fa-running';\n\t\tcase 2:\n\t\t\treturn 'fas fa-flag-checkered';\n\t\tcase 3:\n\t\t\treturn 'fas fa-hiking';\n\t\tcase 4:\n\t\t\treturn 'fas fa-futbol';\n\t\tdefault:\n\t\t\treturn 'fas fa-hiking';\n\t}\n}\n\nfunction getStateColor(state) {\n\tswitch (state) {\n\t\tcase 'running':\n\t\t\treturn 'primary';\n\t\tcase 'rest':\n\t\t\treturn 'warning';\n\t\tcase 'restTrail':\n\t\t\treturn 'danger';\n\t}\n}\n\nfunction getStateIcon(state) {\n\tswitch (state) {\n\t\tcase 'running':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'rest':\n\t\t\treturn 'fas fa-male';\n\t\tcase 'restTrail':\n\t\t\treturn 'fas fa-bed';\n\t}\n}\n\nfunction displayDistance(distanceKm) {\n\tif (distanceKm < 5) {\n\t\treturn util.format(distanceKm, 2);\n\t}\n\tif (distanceKm < 10) {\n\t\treturn util.format(distanceKm, 1);\n\t}\n\treturn util.format(distanceKm, 1);\n}\n\nconst initialState = {\n    newDog: {},\n\tsubmenu: 'totals',\n\tshowAddComment: false,\n\tmapHeight: 300,\n\tmapMaxHeight: 600,\n\treloadInSec: null,\n\treloadLastEpoch: null,\n\treloadIsActive: false,\n};\n\n@observer\nclass Input extends Component {\n    onInputDuration = (e) => {\n        const { field, updateField, workout } = this.props;\n        const value = parseInt(e.target.value, 10);\n        const name = e.target.name;\n        let hh = Math.floor(workout[field] / 3600) || 0;\n        let mi = Math.floor(workout[field] / 3600) || 0;\n        if (name.match(/-hours/)) {\n            hh = value;\n        }\n        if (name.match(/-minutes/)) {\n            mi = value;\n        }\n        const combinedValue = (hh * 3600) + (mi * 60);\n        updateField({ id: workout.id, field, value: combinedValue });\n    }\n\n    handleImageErrored = (e) => {\n        const image = e.target;\n        image.onerror = null;\n        setTimeout(() => {\n            image.src += `?${new Date()}`;\n        }, 1000);\n    }\n\n    removeImage = async (e) => {\n        const { workoutStore } = this.props.stores;\n        const { workout } = this.props;\n        const imageName = e.target.parentElement.dataset.name || e.target.dataset.name;\n        workoutStore.removeImage({\n            id: workout.id,\n            name: imageName,\n        });\n    }\n\n    removeMainImage = () => {\n        const { workout, field, updateField } = this.props;\n        updateField({ id: workout.id, field, value: {} });\n    }\n\n    setDateToNow = () => {\n        const { field, updateField, workout } = this.props;\n        const value = util.isoDate(undefined, false, false, true);\n        // updateFieldValue = ({ id, field, value, datatype, elementtype, type, isNew = false, skipTimer = false }) => {\n        updateField({ id: workout.id, field, value });\n    }\n\n    setTimeToNow = () => {\n        const { field, updateField, workout } = this.props;\n        const value = util.isoTime();\n        // updateFieldValue = ({ id, field, value, datatype, elementtype, type, isNew = false, skipTimer = false }) => {\n        updateField({ id: workout.id, field, value });\n    }\n\n    setValue = (e) => {\n        const value = e.target.parentElement.dataset.value || e.target.dataset.value;\n        if (value) {\n            const { field, updateField, workout } = this.props;\n            // updateFieldValue = ({ id, field, value, datatype, elementtype, type, isNew = false, skipTimer = false }) => {\n            updateField({ id: workout.id, field, value });\n        }\n    }\n\n    setRightValue = () => {\n        const { field, updateField, workout, rightValueReal } = this.props;\n        updateField({ id: workout.id, field, value: rightValueReal });\n    }\n\n    render() {\n        const { saved, workout, type, datalist = [], min, max, step, elementtype, field, title, icon, help, onInput, updateField, rightValue } = this.props;\n        let value = toJS(workout[field]);\n        let maxValue = max;\n        if (type === 'date') {\n            if (value) {\n                value = util.isoDate(workout[field], false, false, true);\n            }\n            if (max === 'today') {\n                maxValue = util.isoDate(undefined, false, false, true);\n            }\n        }\n        // if (type === 'time') {\n        //     if (value) {\n        //         value = util.isoTime(workout[field]);\n        //     }\n        // }\n        let displayValue;\n        let insertValue;\n        if (field === 'duration' || field === 'rest') {\n            displayValue = util.secToHms(value, true);\n        }\n        if (field === 'weather' && util.checkNested(workout, 'yr', '0', 'instant', 'details')) {\n            const yr = toJS(workout.yr[0].instant.details);\n            const yrDate = util.isoDate(workout.yr[0].date, false, false, true);\n            const workoutDate = util.isoDate(workout.date, false, false, true);\n            // air_pressure_at_sea_level, air_temperature, cloud_area_fraction, relative_humidity, wind_from_direction, wind_speed\n            if (yrDate === workoutDate) {\n                displayValue = `Yr.no:  ${yr.air_temperature}C,  ${yr.wind_speed}m/s  ${mu.windDirection(yr.wind_from_direction)},  ${yr.cloud_area_fraction}%, ${yr.air_pressure_at_sea_level}mb,  ${yr.relative_humidity}%`;\n                insertValue = displayValue;\n            }\n        }\n        if (field === 'temperature' && util.checkNested(workout, 'yr', '0', 'instant', 'details')) {\n            const yr = toJS(workout.yr[0].instant.details);\n            const yrDate = util.isoDate(workout.yr[0].date, false, false, true);\n            const workoutDate = util.isoDate(workout.date, false, false, true);\n            // air_pressure_at_sea_level, air_temperature, cloud_area_fraction, relative_humidity, wind_from_direction, wind_speed\n            if (yrDate === workoutDate) {\n                displayValue = `Yr.no:  ${yr.air_temperature}C`;\n                insertValue = util.asNumber(yr.air_temperature);\n            }\n        }\n        if (type === 'file') {\n            return (\n                <div class={`form-group ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`}>\n                    <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                    <Files saved={saved} object={workout} field={field} updateField={updateField} />\n                    {saved[`${field}.${workout.id}`] ? <div class={`valid-feedback`} style='display: block;'><Text id='workouts.changes-saved'>Endringene er lagret</Text></div> :\n                        <small id={`${field}Help`} class='form-text text-muted'>{help}</small>}\n                </div>\n            );\n        }\n        if (type === 'image') {\n            return (\n                <div class={`form-group  mb-5 pb-1 border-bottom ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`}>\n                    <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                    <div class='container-fluid'>\n                        <div class='row'>\n                            {workout.image && workout.image.s3SmallLink && <div class='col-3 p-1'>\n                                <img loading='lazy' src={workout.image.s3SmallLink} class='img-fluid border rounded-lg' onError={this.handleImageErrored} />\n                                <button class='btn btn-sm btn-link'\n                                    onClick={this.removeMainImage}\n                                    data-name={workout.image.name}\n                                ><i class='fas fa-trash' /> Del</button>\n                                <span class='badge badge-success'>Main</span>\n                            </div>}\n                            {workout.images && workout.images.map(img => (\n                                <div class='col-3 p-1'>\n                                    <img loading='lazy' src={img.s3SmallLink} class='img-fluid' onError={this.handleImageErrored} />\n                                    <button class='btn btn-sm btn-link'\n                                        onClick={this.removeImage}\n                                        data-name={img.name}\n                                    ><i class='fas fa-trash' /> Del</button>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                    <Images saved={saved} object={workout} field={field} updateField={updateField} autoOpen={false} />\n                    {saved[`${field}.${workout.id}`] ? <div class={`valid-feedback`} style='display: block;'>Endringene er lagret</div> :\n                        <small id={`${field}Help`} class='form-text text-muted'>{help}</small>}\n                </div>\n            );\n        }\n        if (type === 'datalist') {\n            return (\n                <div class={`form-group  mb-5 pb-1 border-bottom ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`}>\n                    <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                    <input list={`list-${field}`} class={`form-control ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`} id={`${field}Input`} aria-describedby={`${field}Help`}\n                        value={value}\n                        data-id={workout.id}\n                        data-field={field}\n                        onInput={onInput}\n                    />\n                    <datalist id={`list-${field}`} >\n                        {datalist.map(el => (\n                            <option value={el[0]}>{el[1]}</option>\n                        ))}\n                    </datalist>\n                    {saved[`${field}.${workout.id}`] ? <div class={`valid-feedback`} style='display: block;'><Text id='workouts.changes-saved'>Endringene er lagret</Text></div> :\n                        <small id={`${field}Help`} class='form-text text-muted'>{help}</small>}\n                </div>\n            );\n        }\n        if (type === 'duration') {\n            const hh = Math.floor(workout[field] / 3600);\n            const mi = Math.floor(workout[field] % 3600 / 60);\n            // const ss = Math.floor(newWorkout[field] % 3600 % 60);\n\n            return (\n                <div class={`form-group mb-5 pb-1 border-bottom`}>\n                    <span class='float-right'>\n                        <strong onClick={this.setValue} data-value={insertValue}>{displayValue}</strong>\n                    </span>\n                    <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                    <div class='form-row'>\n                        <div class='form-group col-3 offset-3'>\n                            <input class={`form-control text-right`} id={`${field}Input`} aria-describedby={`${field}Help`}\n                                onInput={this.onInputDuration}\n                                name={`${field}-hours`}\n                                value={hh}\n                                type='number'\n                                min='0'\n                                max='24'\n                            />\n                        </div>\n                        <div class='form-group col-3'>\n                            <input class={`form-control`} id={`${field}Input`} aria-describedby={`${field}Help`}\n                                onInput={this.onInputDuration}\n                                name={`${field}-minutes`}\n                                value={mi}\n                                type='number'\n                                min='0'\n                                max='59'\n                            />\n                        </div>\n                    </div>\n                    <small id={`${field}Help`} class='form-text text-muted'>{help}</small>\n                </div>\n            );\n        }\n        if (type === 'toggle') {\n            return (\n                <div class={`form-group ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`}>\n                    <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                    <div class='custom-control custom-switch'>\n                        <input type='checkbox'\n                            class='custom-control-input'\n                            id={`${field}Input`}\n                            value={value === 1 ? 0 : 1}\n                            data-id={workout.id}\n                            data-field={field}\n                            onInput={onInput}\n                            checked={value == 1 ? 'checked' : ''}\n                        />\n                        <label class='custom-control-label' for={`${field}Input`} />\n                    </div>\n                    {saved[`${field}.${workout.id}`] ? <div class={`valid-feedback`} style='display: block;'><Text id='workouts.changes-saved'>Endringene er lagret</Text></div> :\n                        <small id={`${field}Help`} class='form-text text-muted'>{help}</small>}\n                </div>\n            );\n        }\n\n        return (\n            <div class={`form-group  mb-5 pb-1 border-bottom ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`}>\n                {type === 'date' && <span class='float-right text-muted font-weight-lighter' onClick={this.setDateToNow}>I dag <i class='far fa-check-circle' /></span>}\n                {type === 'time' && <span class='float-right text-muted font-weight-lighter' onClick={this.setTimeToNow}>N <i class='far fa-check-circle' /></span>}\n                {rightValue && <span class='float-right text-muted font-weight-lighter' onClick={this.setRightValue}>{rightValue}</span>}\n\n                <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                {displayValue && <span class='float-right'>\n                    <strong onClick={this.setValue} data-value={insertValue}>{displayValue}</strong>\n                </span>}\n                <input type={type} class={`form-control ${saved[`${field}.${workout.id}`] ? 'is-valid' : ''}`} id={`${field}Input`} aria-describedby={`${field}Help`}\n                    min={min}\n                    max={maxValue}\n                    step={step}\n                    value={value}\n                    data-id={workout.id}\n                    data-field={field}\n                    data-type={type}\n                    data-elementtype={elementtype}\n                    onInput={onInput}\n                />\n                {saved[`${field}.${workout.id}`] ? <div class={`valid-feedback`} style='display: block;'><Text id='workouts.changes-saved'>Endringene er lagret</Text></div> :\n                    <small id={`${field}Help`} class='form-text text-muted'>{help}</small>}\n            </div>\n        );\n    }\n}\n\n@observer\nclass AdminInfo extends Component {\n    render() {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout = {} } = workoutStore;\n\n        const firstPoint = mu.getFirstPoint(workout);\n        const midPoint = mu.getMidPoint(workout, 0.5);\n        const endPoint = mu.getMidPoint(workout, 1);\n\n\t\tconst { tracks = [] } = workout;\n\t\tconst firstTrackPoint = tracks[0];\n\t\tconst lastTrackPoint = tracks[tracks.length - 1];\n\n\t\tlet duration;\n\t\tif (firstTrackPoint && lastTrackPoint) {\n\t\t\tconst startDate = new Date(firstTrackPoint.timestamp);\n\t\t\tconst startTime = startDate.getTime() / 1000;\n\t\t\tconst endDate = new Date(lastTrackPoint.timestamp);\n\t\t\tconst endTime = endDate.getTime() / 1000;\n\t\t\tduration = endTime - startTime;\n\t\t}\n\n        return (\n            <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                <div class='alert alert-warning'>\n                    <h5>Admin info</h5>\n\t\t\t\t\t<xmp>\n                        firstPoint: {firstPoint.join(', ')}<br />\n                        midPoint: {midPoint.join(', ')}<br />\n                        endPoint: {endPoint.join(', ')}<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tduration: {util.secToHms(workout.duration)}<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>Tracking info</strong><br />\n\t\t\t\t\t\tduration: {util.secToHms(duration)}<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</xmp>\n\t\t\t\t\t<div class='d-flex align-content-start flex-wrap'>\n\t\t\t\t\t\t{tracks && tracks.map(t => <span class='ml-1'>\n\t\t\t\t\t\t\t{t.coords.accuracy}\n\t\t\t\t\t\t</span>)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<xmp>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tfirstTrackPoint:<br />\n\t\t\t\t\t\t{JSON.stringify(firstTrackPoint, null, 4)}<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tlastTrackPoint:<br />\n\t\t\t\t\t\t{JSON.stringify(lastTrackPoint, null, 4)}<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</xmp>\n                </div>\n            </div>\n        );\n    }\n}\n\n@observer\nclass WorkoutDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n            submenu: props.submenu || 'totals',\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n    }\n\n    loadWorkout = async (props = this.props) => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { showAdminInfo } = this.state;\n\t\tconst addData = ['publicTeams', 'publicUsers'];\n\t\tif (showAdminInfo) {\n\t\t\taddData.push('geocluster');\n\t\t}\n        await workoutStore.load(props.workout, false, { addData });\n\t\tconst { workout } = workoutStore;\n\t\tworkoutStore.plotGeocluster();\n\n\t\t// if (workout.isInProgress > 0) {\n\t\t// \tconst reloadLastEpoch = Math.floor(new Date().getTime() / 1000);\n\t\t// \tthis.setState({\n\t\t// \t\treloadIsActive: true,\n\t\t// \t\treloadLastEpoch,\n\t\t// \t}, () => this.tickReloadTimeer());\n\t\t// \t// Set reload timer\n\t\t// \tthis.updateTimer.reload = setTimeout(async () => {\n\t\t// \t\tconst reloadLastEpoch = Math.floor(new Date().getTime() / 1000);\n\t\t// \t\tthis.setState({ reloadLastEpoch });\n\t\t// \t\tthis.loadWorkout();\n\t\t// \t}, RELOAD_INTERVAL_IN_SEC * 1000);\n\t\t// }\n    }\n\n\ttickReloadTimeer() {\n\t\tconst { reloadIsActive, reloadLastEpoch } = this.state;\n        if (reloadIsActive) {\n\t\t\tconst now = Math.floor(new Date().getTime() / 1000);\n\t\t\tconst reloadInSec = RELOAD_INTERVAL_IN_SEC - (now - reloadLastEpoch);\n\t\t\tthis.setState({ reloadInSec });\n\t\t\tsetTimeout(() => this.tickReloadTimeer(), 1000);\n        }\n\t\treturn false;\n    }\n\n    updateField = (e) => {\n        const { id, field, type, elementtype, isNew } = e.target.dataset;\n        const value = e.target.value;\n        this.updateFieldValue({ id: parseInt(id, 10), field, value, type, elementtype, isNew });\n    }\n\n    updateFieldValue = async ({ id, field, value, datatype, elementtype, type, isNew = false, skipTimer = false }) => {\n        const { workoutStore } = this.props.stores;\n        let newValue = value;\n        let localObjectValue = value;\n        const { workout } = workoutStore;\n        if (field === 'images') {\n            if (Array.isArray(workout.images) && Array.isArray(value)) {\n                localObjectValue = [...workout.images, ...value];\n            }\n        }\n        if (datatype === 'array' && !Array.isArray(value)) {\n            if (elementtype === 'number') {\n                newValue = value.split(',').map(e => parseFloat(e) || e);\n            } else  {\n                newValue = value.split(',');\n            }\n            // console.log('updateFieldValue', id, field, value, datatype, elementtype);\n        }\n        if (isNew) {\n            workoutStore.updateObjectKeyValue('newWorkout', field, value);\n        } else {\n            workoutStore.updateField(id, field, localObjectValue);\n            if (skipTimer) {\n                await this.doUpdateField(id, field, newValue);\n            } else {\n                clearTimeout(this.updateTimer[field]);\n                this.updateTimer[field] = setTimeout(async () => {\n                    this.doUpdateField(id, field, newValue);\n                }, 500);\n            }\n        }\n\n        // GPX update stuff\n        if (field === 'gpx' && workout && util.checkNested(workout, 'gpx', 'gpxInfo')) {\n            const { totalDistance, maxSpeed, avgSpeed, ascent, decent, duration, rest, startLatlng, endLatlng } = workout.gpx.gpxInfo;\n            const updateObject = {};\n            if (duration) {\n                workoutStore.updateField(id, 'duration', duration);\n                updateObject.duration = duration;\n            }\n            if (rest) {\n                workoutStore.updateField(id, 'rest', rest);\n                updateObject.rest = rest;\n            }\n            if (totalDistance) {\n                workoutStore.updateField(id, 'distanceKm', util.roundTo(totalDistance, 10));\n                updateObject.distanceKm = util.roundTo(totalDistance, 10);\n            }\n            if (maxSpeed) {\n                workoutStore.updateField(id, 'speedmax', util.roundTo(maxSpeed, 10));\n                updateObject.speedmax = util.roundTo(maxSpeed, 10);\n            }\n            if (avgSpeed) {\n                workoutStore.updateField(id, 'speedAvg', util.roundTo(avgSpeed, 10));\n                updateObject.speedAvg = util.roundTo(avgSpeed, 10);\n            }\n            if (ascent) {\n                workoutStore.updateField(id, 'elevation', ascent);\n                updateObject.elevation = ascent;\n            }\n            if (decent) {\n                workoutStore.updateField(id, 'decent', decent);\n                updateObject.decent = decent;\n            }\n            if (startLatlng) {\n                workoutStore.updateField(id, 'startLatlng', startLatlng);\n                updateObject.startLatlng = startLatlng;\n            }\n            if (endLatlng) {\n                workoutStore.updateField(id, 'endLatlng', endLatlng);\n                updateObject.endLatlng = endLatlng;\n            }\n            await workoutStore.save(updateObject, workout.id);\n        }\n    }\n\n    async doUpdateField(id, field, value) {\n        const { workoutStore } = this.props.stores;\n        if (id && field) {\n            await workoutStore.saveField(id, field, value);\n        }\n    }\n\n    // loadWorkoutDetail = async ({ workout }) => {\n\t// \tconst { workoutStore } = this.props.stores;\n    //     workoutStore.load(workout.id);\n    // }\n\n\tshowModal = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const img = e.target.dataset.image;\n        const imgXXL = e.target.dataset.imagexxl;\n\t\tconst thumb = e.target.dataset.thumb;\n        const name = e.target.dataset.name;\n        const title = e.target.dataset.title;\n        const date = e.target.dataset.date;\n        this.setState({\n            displayModal: true,\n            currentImage: img,\n            currentImageXXL: imgXXL,\n            thumb,\n            name,\n            title,\n            date,\n        });\n    }\n\n    closeModal = () => {\n        this.setState({\n            displayModal: false,\n        });\n    }\n\n\tdeleteWorkout = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n        await workoutStore.saveField(workout.id, 'offline', 1);\n\t\tPubSub.publish(topics.STATUS_MESSAGE, {\n\t\t\tmessage: 'Workout was deleted',\n\t\t\ttype: 'success',\n\t\t\ticon: 'fas fa-check',\n\t\t});\n        route(`/workouts/list`);\n\t}\n\n\tduplicateWorkout = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\t\tconst response = await workoutStore.duplicateWorkout({ id: workout.id });\n\t\tif (response && response.id) {\n\t\t\tPubSub.publish(topics.STATUS_MESSAGE, {\n\t\t\t\tmessage: 'Workout was duplicated successfully',\n\t\t\t\ttype: 'success',\n\t\t\t\ticon: 'fas fa-check',\n\t\t\t});\n\t\t\troute(`/workouts/${response.id}`);\n\t\t}\n\t}\n\n\tmakeTrack = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\t\tconst response = await workoutStore.makeTrackFromWorkout({ id: workout.id });\n\t\tif (response && response.id) {\n\t\t\tPubSub.publish(topics.STATUS_MESSAGE, {\n\t\t\t\tmessage: 'Track was created successfully',\n\t\t\t\ttype: 'success',\n\t\t\t\ticon: 'fas fa-check',\n\t\t\t});\n\t\t\troute(`/tracks/edit/${response.id}`);\n\t\t}\n\t}\n\n\tlikeWorkout = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\t\tconst response = await workoutStore.likeWorkout({ id: workout.id });\n\n        if (response && response.status === 200) {\n\t\t\t// this.loadWorkoutDetail({ workout });\n\t\t}\n\t}\n\n\ttoggleAddComment = (e) => {\n\t\tconst workoutId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAddComment } = this.state;\n\t\tthis.setState({\n\t\t\tshowAddComment: !showAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[workoutId]) {\n\t\t\t\tthis.inputRef[workoutId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggleAdminInfo = () => {\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { isAdmin } = userStore;\n\t\tif (isAdmin) {\n\t\t\tconst { showAdminInfo } = this.state;\n\t\t\tthis.setState({\n\t\t\t\tshowAdminInfo: !showAdminInfo,\n\t\t\t}, () => {\n\t\t\t\tthis.loadWorkout();\n\t\t\t});\n\t\t}\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n\tshowStateDetail = (e) => {\n\t\tconst data = e.target.closest('div').dataset;\n\t\tthis.setState({\n\t\t\tstateDetail: {\n\t\t\t\t...data,\n\t\t\t},\n\t\t});\n\t}\n\n\treimportStravaWorkout = async () => {\n        const { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\t\tawait workoutStore.reimportStravaWorkout(workout.stravaId, workout.id);\n        this.loadWorkout();\n    }\n\n\treimportGarminWorkout = async () => {\n        const { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\t\tawait workoutStore.reimportGarminWorkout(workout.garminId, workout.id);\n        this.loadWorkout();\n    }\n\n\treCalculateGpxData = async () => {\n\t\tconst { recalculated } = this.state;\n\t\tif (recalculated) {\n\t\t\treturn true;\n\t\t}\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\t\tthis.setState({ recalculated: true });\n        await workoutStore.reLoad(workout.id);\n    }\n\n\ttoggleMapSize = () => {\n\t\tconst { mapHeight } = this.state;\n\t\tif (mapHeight === initialState.mapHeight) {\n\t\t\tthis.setState({ mapHeight: initialState.mapMaxHeight });\n\t\t} else {\n\t\t\tthis.setState({ mapHeight: initialState.mapHeight });\n\t\t}\n\t}\n\n\tfinishWorkout = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tawait workoutStore.cordovaSaveTracking();\n\t\tconst { workout } = workoutStore;\n        const updateObject = {\n            isInProgress: 0,\n        };\n        await workoutStore.save(updateObject, workout.id);\n\t\tthis.loadWorkout();\n\t}\n\n\tsendGpxFile = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { workout } = workoutStore;\n\n\t\tawait workoutStore.sendGpxFile(workout.id);\n\t\tthis.setState({\n\t\t\tgpxFileSent: true,\n\t\t});\n\t}\n\n\tshareLink = (e) => {\n        const { url, title, text } = e.target.closest('button').dataset;\n        const { appState } = this.props.stores;\n        appState.shareUrl({ url, title, text });\n    }\n\n\t// Overlay functions\n    onTeamClick = (e, teamid) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n            showTeam: teamid,\n        });\n        return false;\n    }\n\n    hideTeam = () => {\n        this.setState({\n            showTeam: null,\n        });\n    }\n\n    onUserClick = (e, userid) => {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n    }\n\n    onDogClick = (e, dogid, dogs) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n            showDog: dogid,\n            dogs,\n        });\n        return false;\n    }\n\n    hideDog = () => {\n        this.setState({\n            showDog: null,\n        });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n    componentDidMount() {\n        this.loadWorkout();\n\t\t// this.addNavigation();\n    }\n\n\tcomponentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.workout !== this.props.workout) {\n            this.loadWorkout(nextProps);\n        }\n    }\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.updateTimer.reload);\n\t}\n\n    //     const { workoutStore } = this.props.stores;\n\t// \tworkoutStore.cleanupMemory();\n    // }\n\n\t// // Swipe navigation\n\t// addNavigation = () => {\n\t// \tconsole.log('addNavigation');\n    //     const { appState, workoutStore } = this.props.stores;\n\t// \tappState.setSwipeRight(() => {\n\t// \t\tconsole.log('swipeRight');\n\t// \t\tconst { workoutStore } = this.props.stores;\n\t// \t\tconst { workout } = this.props;\n\t// \t\tconst workoutNavigation = workoutStore.getWorkoutNavigation(parseInt(workout, 10)) || {};\n\t// \t\troute(`/workouts/${workoutNavigation.previous.id}`);\n\t// \t});\n\t// \tappState.setSwipeLeft(() => {\n\t// \t\tconsole.log('swipeLeft');\n\t// \t\tconst { workoutStore } = this.props.stores;\n\t// \t\tconst { workout } = this.props;\n\t// \t\tconst workoutNavigation = workoutStore.getWorkoutNavigation(parseInt(workout, 10)) || {};\n\t// \t\troute(`/workouts/${workoutNavigation.next.id}`);\n\t// \t});\n\t// }\n\n\t// componentWillUnmount() {\n\t// \tconsole.log('removeNavigation');\n\t// \tconst { appState } = this.props.stores;\n\t// \tappState.setSwipeRight();\n\t// \tappState.setSwipeLeft();\n\t// }\n\t// // /Swipe navigation\n\n\trender() {\n\t\tconst { workoutStore, userStore, appState } = this.props.stores;\n\t\tconst { mapColorMode, mapRangeMin, mapRangeMax, isCordova, hasShareApi, viewmode } = appState;\n\t\tconst { user, isAdmin } = userStore;\n\t\tconst { submenu, showAddComment, showAdminInfo, mapHeight, reloadInSec, reloadLastEpoch, stateDetail, gpxFileSent,\n            showTeam,\n            showDog,\n\t\t\trecalculated,\n\t\t} = this.state;\n\t\tconst reloadPercent = Math.floor(util.normalizeBetween(reloadInSec, 0, RELOAD_INTERVAL_IN_SEC, 0, 100));\n\t\tconst { workout, saved, waypoints2 = [], waypoints3 = [] } = workoutStore;\n\t\tconst { likes = [], comments = [] } = workout;\n        const { language = 'en' } = user;\n\t\tconst team = userStore.findTeam(workout.team, true) || {};\n\t\tconst teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n        const workoutType = userStore.findWorkoutType({ type: workout.type, language });\n\t\tconst workoutTypeIcon = userStore.findWorkoutType({ type: workout.type, field: 'icon' });\n\t\tconst track = userStore.findTrack(workout.track);\n\t\tconst workoutEquipment = userStore.findEquipment({ equipment: workout.equipment, language });\n\t\tconst workoutEquipmentIcon = userStore.findEquipment({ equipment: workout.equipment, field: 'icon' });\n\n\t\tconst dogs = userStore.findDogs(workout.dogs);\n\t\tconst mushers = userStore.findMushers(workout.mushers);\n\t\tconst intensity = userStore.findIntensity({ code: workout.intensity, language }) || {};\n\t\tconst workoutNavigation = workoutStore.getWorkoutNavigation(workout.id) || {};\n\t\tconst hasLikedWorkout = workout.likes && workout.likes.findIndex(e => e.user === user.id) > -1;\n\t\tconst { gpxInfo = {}, gpx = { gpxInfo: {} } } = workout;\n\t\tconst { weightedTotalKcal = 0, loadIndex = 0 } = gpxInfo;\n\t\tconst loadMultiplier = loadIndex / 100;\n\t\tconst kcalMultiplier = gpxInfo.totalKcalRelated / 100;\n        const teamNames = workout.teams ? workout.teams.map(e => userStore.findTeam(e)) : [];\n        let batteryUsage;\n        if (workout && workout.gpxInfo && workout.gpxInfo.battegryLevelStart) {\n            batteryUsage = (workout.gpxInfo.battegryLevelStart - workout.gpxInfo.battegryLevelEnd) * 100;\n        }\n\n\t\tconst images = [];\n        if (workout.mapImage) {\n            images.push({\n                ...workout.mapImage,\n                type: 'map',\n            });\n        }\n        if (workout.images) {\n            const imgs = toJS(workout.images);\n            images.push(...imgs);\n        }\n\n\t\tlet showReimport = false;\n\n\t\tconst views = mu.getViews(workout.statistics);\n\n\t\tconst musherImages = [];\n        if (workout.mushers && workout.mushers.length > 1) {\n            workout.mushers.slice(1, 10).map((musher) => {\n\t\t\t\tconst u = userStore.findMusher(musher);\n                if (u && u.images && u.images[0]) {\n                    musherImages.push(u.images[0]);\n                }\n            });\n        }\n\n        let image;\n\t\tif (workout.mushers && workout.mushers[0]) {\n\t\t\tlet firstMusher = userStore.findMusher(workout.mushers[0]);\n\t\t\tif (firstMusher && firstMusher.images && firstMusher.images[0]) {\n\t\t\t\timage = firstMusher.images[0];\n\t\t\t}\n        } else if (team.image && team.image.s3SmallLink) {\n            image = team.image;\n        } else if (team.images && team.images[0] && team.images[0].s3SmallLink) {\n            image = team.images[0];\n        } else if (workout.image && workout.image.s3SmallLink) {\n            image = workout.image;\n        }\n\n\t\treturn (<>\n\n            {showTeam && <Overlay>\n                <TeamsPublicDetail stores={this.props.stores} teamid={showTeam} marginTop={'0px;'} marginBottom={'0px;'} back={this.hideTeam} hideTeam={this.hideTeam} />\n            </Overlay>}\n\n            {showDog && <Overlay>\n                <DogPublicDetail stores={this.props.stores} dogid={showDog} marginTop={'0px;'} marginBottom={'0px;'} back={this.hideDog} dogs={dogs} />\n            </Overlay>}\n\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <div class='d-flex justify-content-between mb-2'>\n                    <div>\n\t\t\t\t\t\t<button class='btn btn-link float-left pl-0 fixed-top text-primary'\n                            style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n\t\t\t\t\t\t\tonClick={this.back}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class='fas fa-arrow-circle-left' />\n\t\t\t\t\t\t</button>\n                    </div>\n                    <div>\n                        <h5 class='text-muted'>&nbsp;</h5>\n                    </div>\n                    <div>\n                        {workout.isLocked === 1 ? <>\n\t\t\t\t\t\t\t<i class='fas fa-lock text-danger' style='font-size: 1.5em;' />\n\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t<a class='btn btn-primary float-right'\n\t\t\t\t\t\t\t\t\thref={`/workouts/edit/${workout.id}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-edit' /> <Text id='workouts.admin-edit'>Admin edit</Text>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t<a class='btn btn btn-primary float-right mt-1'\n\t\t\t\t\t\t\t\thref={`/workouts/edit/${workout.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-edit' /> <Text id='workouts.edit'>Endre</Text>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</>}\n                    </div>\n                </div>\n\n\t\t\t\t<div class='d-flex justify-content-between mb-2'>\n                    <div class='text-muted'>\n\t\t\t\t\t\t{workoutNavigation && workoutNavigation.previous && <a href={`/workouts/${workoutNavigation.previous.id}`} class='text-muted'>\n\t\t\t\t\t\t\t<i class='fas fa-arrow-circle-left' />\n\t\t\t\t\t\t</a>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='text-muted'>\n\t\t\t\t\t\t{workoutNavigation.total > 0 && <>\n\t\t\t\t\t\t\t{workoutNavigation.idx + 1} / {workoutNavigation.total}\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='text-muted'>\n\t\t\t\t\t\t{workoutNavigation && workoutNavigation.next && <a href={`/workouts/${workoutNavigation.next.id}`} class='text-muted'>\n\t\t\t\t\t\t\t<i class='fas fa-arrow-circle-right' />\n\t\t\t\t\t\t</a>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t<div class='d-flex mb-2'>\n\t\t\t\t\t\t\t<div class={`position-relative text-center border rounded-circle imageRounded ${getWorkoutColor(workout)}`}\n                                style={`${image ? `background-image: url(\"${image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{!image && <i class={`${getWorkoutIcon(workout)} text-${intensity.class ? intensity.class : 'muted'} mt-3`} style='font-size: 40px;' />}\n\n                                {musherImages && musherImages.map((img, idx) => <>\n                                    <div\n                                        class='position-absolute rounded-circle imageRounded border imageRoundedThumb border-white'\n                                        style={`\n                                            background-image: url(\"${img.s3SmallLink}\");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${-5 + (idx * 10)}px;\n                                        `}\n                                    />\n                                </>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='flex-grow-1 pl-3'>\n\t\t\t\t\t\t\t\t<h5 class='my-0'>\n\t\t\t\t\t\t\t\t\t{workout.name}\n\t\t\t\t\t\t\t\t\t{workout.isInProgress > 0 && <>\n\t\t\t\t\t\t\t\t\t\t<span class='position-relative ml-3'>\n\t\t\t\t\t\t\t\t\t\t\t{workout.isInProgress === 1 && <div class='spinner-grow text-success position-absolute' style='top: -5px; left: -6px;' role='status' />}\n\t\t\t\t\t\t\t\t\t\t\t{/* {workout.isInProgress === 2 && <i class='fas fa-stop-circle text-warning position-absolute' style='top: 0px; left: 0px;' />} */}\n\t\t\t\t\t\t\t\t\t\t\t{/* {reloadInSec > 0 && <div class='position-absolute' style='top: -5px; left: -5px;'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Gauge key={`gauge-reload-page`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\tradius={15}\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowPercentText={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpercent={reloadPercent}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>} */}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-stop-circle float-right text-warning' style='font-size: 1.5em; cursor: pointer; pointer-events: inherit;' onClick={this.finishWorkout} />\n\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t\t{isCordova && showAdminInfo && isAdmin && <>\n\t\t\t\t\t\t\t\t\t\t<a href={`/workouts/tracking/${workout.id}`} class='ml-4'>\n\t\t\t\t\t\t\t\t\t\t\t<i class='far fa-play-circle' />\n\t\t\t\t\t\t\t\t\t\t\t<Text id='footer.workouts-continue'>Continue</Text>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t{workout.garminId && <div class={`float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon`} style={`background-image: url('./assets/garmin-connect.png');`} />}\n\t\t\t\t\t\t\t\t{workout.stravaId && <div class={`float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon`} style={`background-image: url('./assets/strava-icon.png');`} />}\n\n\t\t\t\t\t\t\t\t{workout.team && userStore.findTeam(workout.team)}\n\t\t\t\t\t\t\t\t{teamNames && teamNames.length > 0 && <small class='font-weight-lighter'>\n                                    , {teamNames.map((name, idx) => <>{idx > 0 ? ', ' : ''}{name}</>)}\n                                </small>}\n\t\t\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t{util.isoDate(workout.date, false, false, false)}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{intensity.class && <span class={`badge badge-${intensity.class} ml-2`}>{intensity.name}</span>}\n\t\t\t\t\t\t\t\t{workout.sledWeight > 0 && <small class='ml-3 text-muted'>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-sleigh' /> <Text id='workouts.sledWeight'>Sledevekt</Text>: <Weight stores={this.props.stores} value={workout.sledWeight} />\n\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t{batteryUsage > 0 && <small class='text-muted ml-3'><i class='fas fa-battery-three-quarters' /> {util.format(batteryUsage, 1)}% used</small>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1'>\n\t\t\t\t\t\t{workout.comment && <div class='mb-3'>\n\t\t\t\t\t\t\t<Markdown markdown={mu.replaceImages(workout.comment, workout.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n                                <div\n                                    class='d-flex flex-row flex-nowrap pb-2 px-1'\n                                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                                >\n\t\t\t\t\t\t\t\t\t{workout.isInProgress > 0 && <div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-left rounded-none ${submenu === 'current' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='current'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-tachometer-alt' /> <Text id='workouts.current'>Akkurat n</Text></button>\n                                        {submenu === 'current' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block ${workout.isInProgress > 0 ? '' : 'rounded-pill-left'} rounded-none ${submenu === 'totals' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='totals'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-tachometer-alt' /> <Text id='workouts.totals'>Totaler</Text></button>\n                                        {submenu === 'totals' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'map' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='map'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-tachometer-alt' /> <Text id='workouts.map'>Map</Text></button>\n                                        {submenu === 'map' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'analysis' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='analysis'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-chart-area' /> <Text id='workouts.analysis'>Analyser</Text></button>\n                                        {submenu === 'analysis' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'images' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='images'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-images' /> <Text id='workouts.images'>Bilder</Text></button>\n                                        {submenu === 'images' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'dogs' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='dogs'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-dog' /> <Text id='workouts.dogs'>Hunder</Text></button>\n                                        {submenu === 'dogs' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'handlers' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='handlers'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-user' /> <Text id='workouts.handlers'>Handlere</Text></button>\n                                        {submenu === 'handlers' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'gpx' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='gpx'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-user' /> <Text id='workouts.gpx'>GPX</Text></button>\n                                        {submenu === 'gpx' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-right rounded-none ${submenu === 'advanced' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='advanced'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-cogs' /> <Text id='workouts.advanced'>advanced</Text></button>\n                                        {submenu === 'advanced' && <ScrollIntoView horizontal={'center'} vertical={'end'} />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass='btn btn-link btn-block'\n\t\t\t\t\t\t\t\tonClick={this.toggleAdminInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tShow admin details\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{submenu === 'map' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t\t{workout && workout.gpx && <>\n\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link float-right' onClick={this.toggleMapSize}>\n\t\t\t\t\t\t\t\t\tToggle map size\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div class='clearfix'>\n\t\t\t\t\t\t\t\t\t<div class='' style={`height: ${mapHeight + 40}px;`}>\n\t\t\t\t\t\t\t\t\t\t<Map\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tmapId={`${workout.id}-${mapHeight}`}\n\t\t\t\t\t\t\t\t\t\t\tgeojson={workout.gpx.geoJSON}\n\t\t\t\t\t\t\t\t\t\t\tskipGeojson={false}\n\t\t\t\t\t\t\t\t\t\t\tgpxInfo={workout.gpxInfo}\n\t\t\t\t\t\t\t\t\t\t\theight={mapHeight}\n\t\t\t\t\t\t\t\t\t\t\tmapColorMode={mapColorMode}\n\t\t\t\t\t\t\t\t\t\t\tmapRangeMin={mapRangeMin}\n\t\t\t\t\t\t\t\t\t\t\tmapRangeMax={mapRangeMax}\n\t\t\t\t\t\t\t\t\t\t\tkey={`workout-map-${reloadLastEpoch}`}\n\t\t\t\t\t\t\t\t\t\t\twaypoints2={waypoints2}\n\t\t\t\t\t\t\t\t\t\t\twaypoints3={waypoints3}\n\t\t\t\t\t\t\t\t\t\t\tfullscreenMap={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{track && track.gpx && !(workout && workout.gpx) && <>\n\t\t\t\t\t\t\t\t<div class='clearfix' style={`height: ${mapHeight}px;`}>\n\t\t\t\t\t\t\t\t\t<Map\n\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\tmapId={`${track.id}-${mapHeight}`}\n\t\t\t\t\t\t\t\t\t\tgeojson={track.gpx.geoJSON}\n\t\t\t\t\t\t\t\t\t\tskipGeojson={false}\n\t\t\t\t\t\t\t\t\t\tgpxInfo={track.gpx.gpxInfo}\n\t\t\t\t\t\t\t\t\t\theight={mapHeight}\n\t\t\t\t\t\t\t\t\t\tmapColorMode={mapColorMode}\n\t\t\t\t\t\t\t\t\t\tmapRangeMin={mapRangeMin}\n\t\t\t\t\t\t\t\t\t\tmapRangeMax={mapRangeMax}\n\t\t\t\t\t\t\t\t\t\tkey={`workout-map-${reloadLastEpoch}`}\n\t                                    fullscreenMap={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t<div class='text-center'>\n\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t{workout.weather}\n\t\t\t\t\t\t\t\t\t{!workout.weather && <>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.temperature, 1)}C\n\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'current' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-clock ml-2' /> <Text id='workouts.duration'>Vargihet</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.secToHms(workout.duration)}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-clock ml-2' /> <Text id='workouts.rest'>Hvile</Text></small>\n\t\t\t\t\t\t\t\t\t<h3 class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t{util.secToHms(workout.rest)}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-tachometer-alt ml-2' /> <Text id='workouts.avgspeed'>Gj.fart</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t<Speed stores={this.props.stores} value={workout.speedAvg} />\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-tachometer-alt ml-2' /> <Text id='workouts.currentspeed'>Fart</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t<Speed stores={this.props.stores} value={workout.currentSpeed} />\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col  text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-road ml-2' /> <Text id='workouts.distance'>Distanse</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={workout.distanceKm} />\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{gpxInfo.calculatedTotalDistance > 0 && Math.abs(workout.distanceKm - gpxInfo.calculatedTotalDistance) > 1 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(gpxInfo.calculatedTotalDistance, 1)} km <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.calculatedTotalDistance > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.calculatedTotalDistance: {util.format(gpxInfo.calculatedTotalDistance, 2)} km <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.totalDistance > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.totalDistance: {util.format(gpx.gpxInfo.totalDistance, 2)} km <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col  text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-mountain ml-2' /> <Text id='workouts.ascend'>Stigning</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t<Elevation stores={this.props.stores} value={workout.elevation} />\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{gpxInfo.calculatedAscend > 0 && Math.abs(workout.elevation - gpxInfo.calculatedAscend) > 50 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(gpxInfo.calculatedAscend, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.calculatedAscend > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.calculatedAscend: {util.format(gpxInfo.calculatedAscend, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.calculatedDescend > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.calculatedDescend: {util.format(gpxInfo.calculatedDescend, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.ascent > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.ascent: {util.format(gpx.gpxInfo.ascent, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.descent > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.descent: {util.format(gpx.gpxInfo.descent, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'totals' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t\t{isAdmin && showAdminInfo && <div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-user-shield ml-2' /> <Text id='workouts.admin-info'>Admin info</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>Admin</h3>\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.startTime > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.startTime: {util.isoDate(gpx.gpxInfo.startTime)} <br />\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.endTime: {util.isoDate(gpx.gpxInfo.endTime)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-clock ml-2' /> <Text id='workouts.duration'>Vargihet</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.secToHms(workout.duration)}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.minEpoch > 0 && gpxInfo.maxEpoch > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.maxEpoch-minEpoch: {util.secToHms(gpxInfo.maxEpoch - gpxInfo.minEpoch)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.duration > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.duration: {util.secToHms(gpxInfo.duration)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.endTime > 0 && gpx.gpxInfo.startTime > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.endTime-startTime: {util.secToHms((gpx.gpxInfo.endTime - gpx.gpxInfo.startTime) / 1000)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.duration > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.duration: {util.secToHms(gpx.gpxInfo.duration)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-clock ml-2' /> <Text id='workouts.rest'>Hvile</Text></small>\n\t\t\t\t\t\t\t\t\t<h3 class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t{util.secToHms(workout.rest)}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.minEpoch > 0 && gpxInfo.maxEpoch > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.maxEpoch-minEpoch: {util.secToHms(gpxInfo.rest)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.rest > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.rest: {util.secToHms(gpxInfo.rest)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.rest > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.rest: {util.secToHms(gpx.gpxInfo.rest)} <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-tachometer-alt ml-2' /> <Text id='workouts.avgspeed'>Gj.fart</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{/* {gpxInfo && gpxInfo.avgGpsMovingSpeed > 0 ? <>\n\t\t\t\t\t\t\t\t\t\t\t<Speed stores={this.props.stores} value={gpxInfo.avgMovingSpeeds * 3.6} />\n\t\t\t\t\t\t\t\t\t\t</> : <> */}\n\t\t\t\t\t\t\t\t\t\t<Speed stores={this.props.stores} value={workout.speedAvg} />\n\t\t\t\t\t\t\t\t\t\t{/* </>} */}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{/* avgGpsMovingSpeed */}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.avgMovingSpeeds > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.avgMovingSpeeds {util.format(gpxInfo.avgMovingSpeeds * 3.6, 2)} km/t <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.avgGpsSpeed > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.avgGpsSpeed {util.format(gpxInfo.avgGpsSpeed * 3.6, 2)} km/t <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.avgGpsMovingSpeed > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.avgGpsMovingSpeed {util.format(gpxInfo.avgGpsMovingSpeed * 3.6, 2)} km/t <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.avgSpeed > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.avgSpeed {util.format(gpx.gpxInfo.avgSpeed * 3.6, 2)} km/t <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class={`${workoutTypeIcon}`} /> <Text id='workouts.type'>Type</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t {workoutType}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class={`${workoutEquipmentIcon}`} /> <Text id='workouts.equipment'>Utstyr</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{workoutEquipment}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-dog ml-2' /> <Text id='workouts.dogs'>Hunder</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{workout.dogs && <span>{workout.dogs.length}</span>}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col  text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-road ml-2' /> <Text id='workouts.distance'>Distanse</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={workout.distanceKm} />\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{gpxInfo.calculatedTotalDistance > 0 && Math.abs(workout.distanceKm - gpxInfo.calculatedTotalDistance) > 1 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(gpxInfo.calculatedTotalDistance, 1)} km <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.calculatedTotalDistance > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.calculatedTotalDistance: {util.format(gpxInfo.calculatedTotalDistance, 2)} km <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.totalDistance > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.totalDistance: {util.format(gpx.gpxInfo.totalDistance, 2)} km <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col  text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-mountain ml-2' /> <Text id='workouts.ascend'>Stigning</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t                        <Elevation stores={this.props.stores} value={workout.elevation} />\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{gpxInfo.calculatedAscend > 0 && Math.abs(workout.elevation - gpxInfo.calculatedAscend) > 50 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(gpxInfo.calculatedAscend, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.calculatedAscend > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.calculatedAscend: {util.format(gpxInfo.calculatedAscend, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpxInfo.calculatedDescend > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpxInfo.calculatedDescend: {util.format(gpxInfo.calculatedDescend, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.ascent > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.ascent: {util.format(gpx.gpxInfo.ascent, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && gpx.gpxInfo && gpx.gpxInfo.descent > 0 && <small class='text-danger' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\tgpx.gpxInfo.descent: {util.format(gpx.gpxInfo.descent, 0)} m <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t{workout.isLocked === 1 ? <>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-lock text-danger' style='font-size: 1.5em;' />\n\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t{workout.stravaId && !gpxInfo.reimported && <button class='btn btn-sm btn-link text-muted'\n\t\t\t\t\t\t\t\t\t\t\tstyle='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.reimportStravaWorkout}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showReimport = true}\n\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-sync' /> Reimport Strava data\n\t\t\t\t\t\t\t\t\t\t</button>}\n\t\t\t\t\t\t\t\t\t\t{workout.garminId && !gpxInfo.reimported && <button class='btn btn-sm btn-link text-muted'\n\t\t\t\t\t\t\t\t\t\t\tstyle='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.reimportGarminWorkout}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showReimport = true}\n\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-sync' /> Reimport Garmin data\n\t\t\t\t\t\t\t\t\t\t</button>}\n\t\t\t\t\t\t\t\t\t\t{(isAdmin || !showReimport) && <button class={`btn btn-sm btn-link text-muted`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.reCalculateGpxData}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-sync' /> Recalculate GPX data\n\t\t\t\t\t\t\t\t\t\t</button>}\n\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<States stores={this.props.stores} states={gpxInfo.states} duration={workout.duration} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'analysis' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t\t{(util.checkNested(workout, 'gpxInfo', 'elevations') || util.checkNested(workout, 'gpx', 'gpxInfo', 'elevations')) ? <>\n\t\t\t\t\t\t\t\t<WorkoutInfoGraph stores={this.props.stores} key={`workout-elevation-${workout.id}`} />\n\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-chart-area' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workout.no-elevation-data'>No elevation data. If you use a GPS to track your workouts you will get a nice graph here and more correct analysis of the energy usage.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t\t{loadIndex > 0 && <div class='row mt-4'>\n\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t<h5 onClick={this.toggleAdminInfo}>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.load-index'>Belastningsindex</Text>\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t<Gauge key={`gauge-${loadIndex}`}\n\t\t\t\t\t\t\t\t\t\tradius={100}\n\t\t\t\t\t\t\t\t\t\tshowPercentText={true}\n\t\t\t\t\t\t\t\t\t\tcolor={mu.getLoadIndexColor(util.normalizeBetween(loadIndex, 0, MAX_LOADINDEX, 0, 100))}\n\t\t\t\t\t\t\t\t\t\tpercent={Math.floor(util.normalizeBetween(loadIndex, 0, MAX_LOADINDEX, 0, 100))}\n\t\t\t\t\t\t\t\t\t\tcompleted={mu.getLoadIndexText(util.normalizeBetween(loadIndex, 0, MAX_LOADINDEX, 0, 100))}\n\t\t\t\t\t\t\t\t\t\tprefix=''\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{teamType && <a href={`/settings/team/${workout.team}`}><span class='badge badge-pill badge-secondary'>{teamType}</span></a>}\n\t\t\t\t\t\t\t\t\t\t{teamAmbition && <a href={`/settings/team/${workout.team}`}><span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span></a>}<br />\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{workout.stravaId && !gpxInfo.reimported && <button class='btn btn-sm btn-link text-muted'\n\t\t\t\t\t\t\t\t\t\tstyle='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\t\tonClick={this.reimportStravaWorkout}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-sync' /> <Text id='workouts.reimport-strava'>Reimport Strava data</Text>\n\t\t\t\t\t\t\t\t\t</button>}\n\t\t\t\t\t\t\t\t\t{workout.garminId && !gpxInfo.reimported && <button class='btn btn-sm btn-link text-muted'\n\t\t\t\t\t\t\t\t\t\tstyle='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\t\tonClick={this.reimportGarminWorkout}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-sync' /> <Text id='workouts.reimport-garmin'>Reimport Garmin data</Text>\n\t\t\t\t\t\t\t\t\t</button>}\n\n\t\t\t\t\t\t\t\t\t{isAdmin && showAdminInfo && <div>\n\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>loadIndex: {gpxInfo.loadIndex}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>Max loadIndex: {MAX_LOADINDEX}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>totalKcalRelated: {util.format(gpxInfo.totalKcalRelated, 1)}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>typeFactor: {gpxInfo.typeFactor}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>ambitionFactor: {gpxInfo.ambitionFactor}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>normalSpeed: {gpxInfo.normalSpeed}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>speedFactor: {util.format(gpxInfo.speedFactor, 2)}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>normalDuration: {gpxInfo.normalDuration}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>durationFactor: {util.format(gpxInfo.durationFactor, 2)}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-secondary mr-2'>intensityFactor: {util.format(gpxInfo.intensityFactor, 2)}</span>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tloadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);\n\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.energy-consumption-help'>Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.</Text>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-balance-scale ml-2' /> <Text id='workouts.energy-consumption-total'>Energiforbruk totalt</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalBurnedTotal, 0)} <Text id='workout.kcal'>kcal</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalBurnedTotal * kcalMultiplier, 0)} <Text id='workout.kcal'>kcal</Text> <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-balance-scale ml-2' /> <Text id='workouts.energy-consumption'>Energiforbruk pr hund</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalBurned, 0)} kcal\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(weightedTotalKcal, 0)} <Text id='workout.kcal'>kcal</Text> <br />\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-piggy-bank ml-2' /> <Text id='workouts.energy-consumption-fat-total'>Fett totalt</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalFatGramsTotal / 1000, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalFatGramsTotal / 1000 * kcalMultiplier, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-piggy-bank ml-2' /> <Text id='workouts.energy-consumption-fat'>Fett pr hund</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalFatGrams / 1000, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalFatGrams / 1000 * kcalMultiplier, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-drumstick-bite ml-2' /> <Text id='workouts.energy-consumption-meat-total'>Kjtt totalt</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalMeatGramsTotal / 1000, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalMeatGramsTotal / 1000 * kcalMultiplier, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-drumstick-bite ml-2' /> <Text id='workouts.energy-consumption-meat'>Kjtt pr hund</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalMeatGrams / 1000, 1)} kg\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalMeatGrams / 1000 * kcalMultiplier, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-fish ml-2' /> <Text id='workouts.energy-consumption-salmon-total'>Kjtt totalt</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalSalmonGramsTotal / 1000, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalSalmonGramsTotal / 1000 * kcalMultiplier, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col  text-center'>\n\t\t\t\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-fish ml-2' /> <Text id='workouts.energy-consumption-salmon'>Kjtt pr hund</Text></small>\n\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t{util.format(workout.kcalSalmonGrams / 1000, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t{kcalMultiplier > 0 && <small class='text-muted' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.kcal-calculated'>Beregnet:</Text> {util.format(workout.kcalSalmonGrams / 1000 * kcalMultiplier, 1)} <Text id='workout.kg'>kg</Text>\n\t\t\t\t\t\t\t\t\t</small>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'images' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t<ImageScroller stores={this.props.stores} images={images} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5 bg-light py-4 border rounded-lg'>\n\t\t\t\t\t\t\t<Input saved={saved} workout={workout} field='image' type='image'\n\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\ttitle={<Text id='workouts.photos'>Bilder</Text>}\n\t\t\t\t\t\t\t\thelp={<Text id='workouts.photos-help'>Legg til bilde fra treningen.</Text>}\n\t\t\t\t\t\t\t\tonInput={this.updateField}\n\t\t\t\t\t\t\t\tupdateField={this.updateFieldValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'dogs' && <>\n\t\t\t\t\t\t{workout.dogsLeft && <div class='offset-0 col-12 mt-4'>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t\t<h5><Text id='workouts.dogs-positions'>Posisjoner i spannet</Text></h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t<div class='col-6 p-0'>\n\t\t\t\t\t\t\t\t\t{workout.dogsLeft && workout.dogsLeft.map(dogId => {\n\t\t\t\t\t\t\t\t\t\tconst dog = userStore.findDog(dogId);\n\t\t\t\t\t\t\t\t\t\treturn <DogSimple stores={this.props.stores} dog={dog} className='ml-auto' />;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col-6 p-0'>\n\t\t\t\t\t\t\t\t\t{workout.dogsRight && workout.dogsRight.map(dogId => {\n\t\t\t\t\t\t\t\t\t\tconst dog = userStore.findDog(dogId);\n\t\t\t\t\t\t\t\t\t\treturn <DogSimple stores={this.props.stores} dog={dog} className='mr-auto' />;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'dogs' && <>\n\t\t\t\t\t\t<div class='offset-0 col-12 mt-4'>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t\t<h5><Text id='workouts.all-dogs' fields={{ total: dogs.length }}>Hundene - {dogs.length} stk</Text></h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{dogs && dogs.map(dog => (\n\t\t\t\t\t\t\t\t<Dog stores={this.props.stores} dog={dog} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'handlers' && <>\n\t\t\t\t\t\t<div class='offset-0 col-12 mt-4'>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t\t<h5><Text id='workouts.all-mushers' fields={{ total: mushers.length }}>Handlere - {mushers.length} stk</Text></h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{mushers && mushers.map(musher => (\n\t\t\t\t\t\t\t\t<Musher stores={this.props.stores} musher={musher} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu === 'gpx' && <>\n\t\t\t\t\t\t<div class='offset-0 col-12 mt-4'>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3'>\n\t\t\t\t\t\t\t\t<h5><Text id='workouts.gpx-title'>GPX</Text></h5>\n\t\t\t\t\t\t\t\t<Text id='workouts.gpx-description'>Send GPX-file to your email address.</Text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5'>\n\t\t\t\t\t\t\t\t{gpxFileSent ? <>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' /> <Text id='workouts.gpx-file-sent'>GPX file sent via email.</Text>\n\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t<button class='btn btn-success' onClick={this.sendGpxFile}>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.gpx-send'>Send GPX-file</Text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\n\t\t\t\t\t {submenu === 'advanced' && <>\n\t\t\t\t\t\t<div class='offset-0 col-12 mt-4'>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3'>\n\t\t\t\t\t\t\t\t<h5><Text id='workouts.advanced'>Advanced</Text></h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5'>\n\t\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-cloud-sun-rain ml-2' /> <Text id='workouts.weather'>The weather during this workout</Text>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t\t{workout.weather}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-temperature-low ml-2' /> <Text id='workouts.temperature'>Temperature</Text>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t<Temperature stores={this.props.stores} value={workout.temperature} />\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{workout.sunPosition && <div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-sun ml-2' /> <Text id='workouts.periode-of-day'>Periode of day</Text>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t{workout.sunPosition.start} - {workout.sunPosition.end}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t\t\t\t\t{workout.moonPosition && workout.moonPosition.start && workout.moonPosition.start.altitudeDeg > 0 && <div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t{workout.moonIllumination && workout.moonIllumination.phaseIcon && <>{workout.moonIllumination.phaseIcon}</>} <Text id='workouts.moon-position'>Moon position</Text>\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t{util.format(workout.moonPosition.start.altitudeDeg, 0)} {workout.moonPosition.end && workout.moonPosition.end.altitudeDeg > 0 && <> - {util.format(workout.moonPosition.end.altitudeDeg, 0)}</>}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t{workout.moonIllumination && workout.moonIllumination.fraction && <>\n\t\t\t\t\t\t\t\t\t\t\t<div class='progress'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass='progress-bar bg-warning'\n\t\t\t\t\t\t\t\t\t\t\t\t\trole='progressbar'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`width: ${workout.moonIllumination.fraction * 100}%`}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-valuenow={workout.moonIllumination.fraction * 100}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-valuemin='0'\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-valuemax='100'>{util.format(workout.moonIllumination.fraction * 100, 0)}%</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{['beta', 'advanced', 'normal'].indexOf(viewmode) > -1 && <>\n\t\t\t\t\t\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-dice ml-2' /> <Text id='workouts.rating'>Workout rating</Text>\n\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{util.format(workout.rating, 0)}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class='col text-center' style='line-height: 1.0em;'>\n\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-dumbbell ml-2' /> <Text id='workouts.intensity'>Workout intensity</Text>\n\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{intensity.class && <span class={`badge badge-${intensity.class} ml-2`}>{intensity.name}</span>}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{isAdmin && showAdminInfo && <>\n\t\t\t\t\t\t\t<AdminInfo stores={this.props.stores} />\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t<Ad stores={this.props.stores} url={this.props.url} section={submenu} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{submenu !== 'advanced' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3'>\n\t\t\t\t\t\t\t<LikesAndComments\n\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\tlikes={likes}\n\t\t\t\t\t\t\t\tcomments={comments}\n\t\t\t\t\t\t\t\ttype='workout'\n\t\t\t\t\t\t\t\tonTeamClick={this.onTeamClick}\n\t\t\t\t\t\t\t\tonUserClick={this.onUserClick}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t<button type='button' class={`btn btn-outline-${hasLikedWorkout ? 'primary' : 'secondary'} btn-sm btn-block ${hasLikedWorkout ? 'text-primary' : ''}`}\n\t\t\t\t\t\t\t\t\t\tonClick={this.likeWorkout}\n\t\t\t\t\t\t\t\t\t\t// disabled={hasLikedWorkout}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class={`${hasLikedWorkout ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> <Text id='workouts.like'>Like</Text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t<button type='button' class='btn btn-outline-secondary btn-sm btn-block'\n\t\t\t\t\t\t\t\t\t\tdata-id={workout.id}\n\t\t\t\t\t\t\t\t\t\tonClick={this.toggleAddComment}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-comment' /> <Text id='workouts.comment'>Comment</Text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{workout.private ? <>\n\t\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t\t<Text id='workouts.is-private'>Workout is private</Text>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t{hasShareApi ? <>\n\t\t\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-outline-secondary btn-sm btn-block text-overflow'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.shareLink}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-url={`https://themusher.app/share/workout/${workout.uuidv4}`}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-title={`title: ${workout.title}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t<div class='col text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<a class='btn btn-outline-secondary btn-sm btn-block text-overflow'\n\t\t\t\t\t\t\t\t\t\t\t\thref={`https://themusher.app/share/workout/${workout.uuidv4}`}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\trel='noreferrer'\n\t\t\t\t\t\t\t\t\t\t\t\tdata-native\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n\t\t\t\t\t\t\t{showAddComment && <WorkoutAddComment\n\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\tworkout={workout}\n\t\t\t\t\t\t\t\t// callback={this.loadWorkoutDetail}\n\t\t\t\t\t\t\t\tinputRef={c => this.inputRef[workout.id] = c}\n\t\t\t\t\t\t\t\tinputRefObject={this.inputRef}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t<WorkoutComments\n\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\tworkout={workout}\n\t\t\t\t\t\t\t\t// callback={this.loadWorkoutDetail}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{views > 0 && <>\n\t\t\t\t\t\t\t\t<div class='mt-2'>\n\t\t\t\t\t\t\t\t\t<Views\n\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\tviews={views}\n\t\t\t\t\t\t\t\t\t\tobject={workout}\n\t\t\t\t\t\t\t\t\t\ttype='workout'\n\t\t\t\t\t\t\t\t\t\tisTeamAdmin={true}\n\t\t\t\t\t\t\t\t\t\tisAdmin={false}\n\t\t\t\t\t\t\t\t\t\tonTeamClick={this.onTeamClick}\n\t\t\t\t\t\t\t\t\t\tonUserClick={this.onUserClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\n\t\t\t\t\t{workout.isLocked === 1 ? <>\n\n\t\t\t\t\t</> : <>\n\t\t\t\t\t\t{submenu === 'advanced' && <>\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top'>\n\t\t\t\t\t\t\t\t<h5 class='mt-5'><Text id='workouts.recalculate-title'>Recalculate data</Text></h5>\n\t\t\t\t\t\t\t\t<Text id='workouts.recalculate-help'>\n\t\t\t\t\t\t\t\t\tClick the button below if you want to recalculate this workout.<br />\n\t\t\t\t\t\t\t\t\tPlease don't overuse this function. If the calculations is not changed after 1 try,\n\t\t\t\t\t\t\t\t\tthen it's not going to change the next time either.\n\t\t\t\t\t\t\t\t</Text>\n\n\t\t\t\t\t\t\t\t<button class={`btn btn-block btn-warning mt-2 float-left ${recalculated ? 'disabled': ''}`}\n\t\t\t\t\t\t\t\t\tstyle='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\tonClick={this.reCalculateGpxData}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-sync' /> <Text id='workouts.recalculate'>Recalculate data</Text>\n\t\t\t\t\t\t\t\t</button><br />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top'>\n\t\t\t\t\t\t\t\t<h5 class='mt-5'><Text id='workouts.duplicate-title'>Duplicate workout</Text></h5>\n\t\t\t\t\t\t\t\t<Text id='workouts.duplicate-help'>\n\t\t\t\t\t\t\t\t\tClick the button below if you want to duplicate this workout.\n\t\t\t\t\t\t\t\t\tAfter you have duplicated this workout you can edit it as a regular workout.\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t<button class='btn btn-block btn-secondary mt-2 float-left'\n\t\t\t\t\t\t\t\t\tonClick={this.duplicateWorkout}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-copy' /> <Text id='workouts.duplicate'>Duplicate workout</Text>\n\t\t\t\t\t\t\t\t</button><br />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top'>\n\t\t\t\t\t\t\t\t<h5 class='mt-5'><Text id='workouts.make-track-title'>Make track</Text></h5>\n\t\t\t\t\t\t\t\t<Text id='workouts.make-track-help'>\n\t\t\t\t\t\t\t\t\tUse this workout to make a track. This track can shared and downloaded as a regular track.\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t<button class='btn btn-block btn-info mt-2 float-left'\n\t\t\t\t\t\t\t\t\tonClick={this.makeTrack}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-map-marked-alt' /> <Text id='workouts.make-track'>Make track</Text>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top'>\n\t\t\t\t\t\t\t\t<h5 class='mt-5'><Text id='workouts.delete-title'>Delete workout</Text></h5>\n\t\t\t\t\t\t\t\t<Text id='workouts.delete-help'>\n\t\t\t\t\t\t\t\t\tClick the button below to delete this workout. All data related to this workout will be lost. All team and dog statistics will also be affected.\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t<button class='btn btn-block btn-sm btn-danger mt-2 float-right'\n\t\t\t\t\t\t\t\t\tonClick={this.deleteWorkout}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-trash' /> <Text id='workouts.delete'>Delete</Text> {workout.name}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</>}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>);\n\t}\n}\n\nexport default WorkoutDetail;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hoverelementonly\":\"hoverelementonly__1mJGJ\",\"hoverElement\":\"hoverElement__axh3O\",\"hoverelementhide\":\"hoverelementhide__1k_qH\",\"progress-bar-vertical\":\"progress-bar-vertical__1B2sC\",\"progress-bar\":\"progress-bar__pnsVj\",\"dragged\":\"dragged__QXO46\",\"over\":\"over__1re3x\",\"list\":\"list__q_emZ\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nimport LineGraph from '../../components/lineGraph';\n\n@withText((props) => ({\n    week: <Text id='workout.graph.week' />,\n    distance: <Text id='workout.graph.distance' />,\n    ascend: <Text id='workout.graph.ascend' />,\n    plan: <Text id='workout.graph.plan' />,\n}))\n@observer\nclass WorkoutInfoGraph extends Component {\n    render() {\n        const { showDebug } = this.props;\n        const { workoutStore } = this.props.stores;\n        const { workout = {} } = workoutStore;\n        const { gpx = {}, gpxInfo } = workout;\n        const { gpxInfo: subGpxInfo = {} } = gpx;\n\n        const finalGpxInfo = {\n            ...subGpxInfo,\n            ...gpxInfo,\n        };\n        const { gpsSpeeds = [] } = finalGpxInfo;\n        const { speeds = gpsSpeeds, elevations = [], temperatures = [], climbs = [], distances = [], ecor = [] } = finalGpxInfo;\n\n        let dataLeft = [];\n        let dataLeft2 = [];\n        let dataLeft3 = [];\n        let dataRight = [];\n        let dataRight3 = [];\n        const legendLeft = [];\n        const legendLeft2 = [];\n        const legendLeft3 = [];\n        const legendRight = [];\n        const legendRight3 = [];\n        const unitLeft = [];\n        const unitLeft2 = [];\n        const unitLeft3 = [];\n        const unitRight = [];\n        const unitRight3 = [];\n\n        if (elevations.length > 0) {\n            const smoothed = mu.smoothArray(elevations, 5);\n            const data = smoothed.map((e, idx) => ({\n                x: idx,\n                y: e,\n            }));\n            dataLeft.push(data);\n            legendLeft.push('Elevation');\n            unitLeft.push('m');\n        }\n        if (speeds.length > 0) {\n            const smoothed = mu.smoothArray(speeds, 3);\n            const data = smoothed.map((e, idx) => ({\n                x: idx,\n                y: e * 3.6,\n            }));\n            dataRight.push(data);\n            legendRight.push('Speed');\n            unitRight.push('km/t');\n        }\n        if (temperatures.length > 0) {\n            const smoothed = mu.smoothArray(temperatures, 2);\n            const data = smoothed.map((e, idx) => ({\n                x: idx,\n                y: e,\n            }));\n            dataLeft2.push(data);\n            legendLeft2.push('Temp');\n            unitLeft2.push('C');\n        }\n        if (climbs.length > 0) {\n            const smoothed = mu.smoothArray(climbs, 2);\n            const data = smoothed.map((e, idx) => ({\n                x: idx,\n                y: e,\n            }));\n            dataLeft3.push(data);\n            legendLeft3.push('Climblevel');\n            unitLeft3.push('%');\n        }\n        if (ecor.length > 0) {\n            const smoothed = mu.smoothArray(ecor, 1);\n            const data = smoothed.map((e, idx) => ({\n                x: idx,\n                y: e * 1000,\n            }));\n            dataRight3.push(data);\n            legendRight3.push('ECOR (kcal/kg/km)');\n            unitRight3.push('kcal/kg/km');\n        }\n        // if (distances.length > 0) {\n        //     const smoothed = mu.smoothArray(distances, 30);\n        //     const data = smoothed.map((e, idx) => ({\n        //         x: idx,\n        //         y: e * 1000,\n        //     }));\n        //     dataRight3.push(data);\n        //     legendRight3.push('Distance');\n        //     unitRight3.push('km');\n        // }\n\n        // const firstData = dataLeft[0] || [];\n        const xTicks = [];\n        if (workout.distanceKm > 0) {\n            const xTicksRange = util.range(0, Math.ceil(finalGpxInfo.calculatedTotalDistance || workout.distanceKm), 1);\n            const partSize = Math.ceil(xTicksRange.length / 5);\n            const parts = Math.floor(xTicksRange.length / partSize);\n            // if (showDebug) {\n                // console.log({ xTicksRange, parts, partSize });\n            // }\n            for (let i = 0, l = xTicksRange.length; i < l; i += partSize) {\n                xTicks.push(xTicksRange[i]);\n            }\n            xTicks.push(xTicksRange[xTicksRange.length - 1]);\n        }\n        // if (firstData.length) {\n        //     const partSize = Math.ceil(firstData.length / 4);\n        //     const parts = Math.floor(firstData.length / partSize);\n        //     if (showDebug) {\n        //         console.log({ firstData, parts, partSize });\n        //     }\n        //     for (let i = 0, l = firstData.length; i < l; i += partSize) {\n        //         xTicks.push(firstData[i].epoch);\n        //     }\n        //     xTicks.push(firstData[firstData.length - 1].epoch);\n        // }\n        return (\n            <>\n                <div class='w-100 mt-3 mb-4'>\n                    {/* <xmp>graphWorkoutSummaryWeekDistanceCurrent: {JSON.stringify(graphWorkoutSummaryWeekDistanceCurrent, null, 4)}</xmp>\n                    <xmp>graphWorkoutSummaryWeekDistancePrev: {JSON.stringify(graphWorkoutSummaryWeekDistancePrev, null, 4)}</xmp> */}\n                    <LineGraph\n                        stores={this.props.stores}\n                        width={1000}\n                        height={200}\n                        showXTicks={1}\n                        xTicksVal={val => `${val}km`}\n                        xTicks={xTicks}\n                        paddingTop={30}\n                        lineFromXzero={true}\n                        lineFromXmax={true}\n                        // xTicksLink={'/workouts/week/'}\n\n                        dataLeft={dataLeft}\n                        legendLeft={legendLeft}\n                        dataFillLeft={[1]}\n                        // yMaxLeft={30}\n                        // yMinLeft={0}\n                        showYTicksLeft={1}\n                        yTicksLeftPostfix={' m'}\n                        unitLeft={unitLeft}\n                        avgWindowLeft={[0, 0, 0]}\n                        smoothLeft={[1, 1, 1]}\n\n                        dataRight={dataRight}\n                        legendRight={legendRight}\n                        // dataRight={[graphWorkoutSummaryWeekElevationCurrent, graphWorkoutSummaryWeekElevationPrev]}\n                        // legendRight={[`${seasonStart} ${ascend}`, `${seasonStart - 1} ${ascend}`]}\n                        showYTicksRight={dataRight.length > 0 ? 1 : 0}\n                        yTicksRightPostfix={'km/t'}\n                        unitRight={unitRight}\n                        avgWindowRight={[0, 0, 0]}\n                        smoothRight={[1, 1, 1]}\n\n                        // marker={week}\n                    />\n                </div>\n\n                {dataLeft2.length > 0 && <div class='w-100 mt-3 mb-4'>\n                    {/* <xmp>graphWorkoutSummaryWeekDistanceCurrent: {JSON.stringify(graphWorkoutSummaryWeekDistanceCurrent, null, 4)}</xmp>\n                    <xmp>graphWorkoutSummaryWeekDistancePrev: {JSON.stringify(graphWorkoutSummaryWeekDistancePrev, null, 4)}</xmp> */}\n                    <LineGraph\n                        stores={this.props.stores}\n                        width={1000}\n                        height={100}\n                        showXTicks={1}\n                        xTicksVal={val => `${val}km`}\n                        xTicks={xTicks}\n                        paddingTop={30}\n                        lineFromXzero={true}\n                        lineFromXmax={true}\n                        // xTicksLink={'/workouts/week/'}\n\n                        dataLeft={dataLeft2}\n                        legendLeft={legendLeft2}\n                        dataFillLeft={[1]}\n                        // yMaxLeft={10}\n                        // yMinLeft={-20}\n                        yMaxMinLeftRound={false}\n                        showYTicksLeft={1}\n                        yTicksLeftPostfix={' C'}\n                        unitLeft={unitLeft2}\n                        avgWindowLeft={[0]}\n                        smoothLeft={[1]}\n                        // marker={week}\n                    />\n                </div>}\n\n                {dataLeft3.length > 0 && <div class='w-100 mt-3 mb-4'>\n                    {/* <xmp>graphWorkoutSummaryWeekDistanceCurrent: {JSON.stringify(graphWorkoutSummaryWeekDistanceCurrent, null, 4)}</xmp>\n                    <xmp>graphWorkoutSummaryWeekDistancePrev: {JSON.stringify(graphWorkoutSummaryWeekDistancePrev, null, 4)}</xmp> */}\n                    <LineGraph\n                        stores={this.props.stores}\n                        width={1000}\n                        height={200}\n                        showXTicks={1}\n                        xTicksVal={val => `${val}km`}\n                        xTicks={xTicks}\n                        paddingTop={30}\n                        lineFromXzero={true}\n                        lineFromXmax={true}\n                        // xTicksLink={'/workouts/week/'}\n\n                        dataLeft={dataLeft3}\n                        legendLeft={legendLeft3}\n                        dataFillLeft={[1]}\n                        // yMaxLeft={20}\n                        // yMinLeft={-20}\n                        yMaxMinLeftRound={false}\n                        showYTicksLeft={1}\n                        yTicksLeftPostfix={' %'}\n                        unitLeft={unitLeft3}\n                        avgWindowLeft={[0]}\n                        smoothLeft={[1]}\n                        // marker={week}\n\n                        dataRight={dataRight3}\n                        legendRight={legendRight3}\n                        // dataRight={[graphWorkoutSummaryWeekElevationCurrent, graphWorkoutSummaryWeekElevationPrev]}\n                        // legendRight={[`${seasonStart} ${ascend}`, `${seasonStart - 1} ${ascend}`]}\n                        showYTicksRight={dataRight3.length > 0 ? 1 : 0}\n                        yTicksRightVal={v => util.format(v / 1000, 2)}\n                        // yTicksRightPostfix={'kcal/kg/km'}\n                        unitRight={unitRight3}\n                        avgWindowRight={[0, 0, 0]}\n                        smoothRight={[1, 1, 1]}\n                    />\n                </div>}\n\n            </>\n        );\n    }\n}\n\nexport default WorkoutInfoGraph;\n","import { h, Component, createRef, useEffect } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport Markdown from 'preact-markdown';\n\nimport ReactLeafletMultiOptionsPolyline from 'react-leaflet-multi-options-polyline';\n\nimport style from './style.css';\n\nimport mu from '../../lib/musher-util';\n\nconst MARKDOWN_OPTIONS = {\n\tpedantic: false,\n\tgfm: true,\n\tbreaks: true,\n\tsanitize: false,\n\tsmartLists: true,\n\tsmartypants: true,\n\txhtml: true,\n};\n\nimport {\n\tCircle,\n\tFeatureGroup,\n\tLayerGroup,\n\tLayersControl,\n\tMap,\n\tMarker,\n\tPopup,\n\tRectangle,\n\tTileLayer,\n\tVideoOverlay,\n\tImageOverlay,\n\tGeoJSON,\n\tWMSTileLayer,\n    useLeaflet,\n\tScaleControl,\n\tPolyline,\n} from 'react-leaflet';\n\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\n\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport '../../../node_modules/react-leaflet-markercluster/dist/styles.min.css';\n\n// import FullscreenControl from 'react-leaflet-fullscreen';\n// import '../../../node_modules/react-leaflet-fullscreen/dist/styles.css';\n\nimport Control from 'react-leaflet-control';\n\nconst { BaseLayer, Overlay } = LayersControl;\n\nimport icons from '../../lib/icons';\nimport '../../../node_modules/leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('../../../node_modules/leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('../../../node_modules/leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('../../../node_modules/leaflet/dist/images/marker-shadow.png')\n});\n\nconst createClusterCustomIcon = function (cluster) {\n  return L.divIcon({\n    html: `<span>${cluster.getChildCount()}</span>`,\n    className: style['marker-cluster-custom'],\n    iconSize: L.point(40, 40, true),\n  });\n};\n\nfunction normalizeRange(val, min, max, newMin, newMax) {\n    return newMin + (val - min) * (newMax - newMin) / (max - min);\n}\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\nconst API_OPEN_WEATHERMAP_KEY = '75cd92317c98db6873031cd2d8de75c5';\nconst INCLINE_STEP = 1;\nconst MAX_HSL_COLOR = 230;\n\n@observer\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thasLocation: false,\n\t\t\tvisibleLayers: {\n\t\t\t\tWindspeed: false,\n\t\t\t},\n\t\t\tmapCenter: [],\n\t\t\tmapZoom: 10,\n\t\t\trangeSteps: INCLINE_STEP,\n\t\t\tmaxHslColor: MAX_HSL_COLOR,\n\t\t\thasZoomedToMarkers: false,\n\t\t};\n\t\t// const { waypointStore } = this.props.stores;\n\t\t// waypointStore.load();\n\t}\n\n\tmapRef = createRef();\n\tpolyRef = createRef();\n\n\thandleViewportChanged = (e) => {\n\t\t// console.log('onViewportChanged', e);\n\t\tthis.setState({\n\t\t\tmapCenter: e.center,\n\t\t\tmapZoom: e.zoom,\n\t\t})\n\t}\n\n\thandleLocationFound = (e) => {\n\t\tif (e.latlng) {\n\t\t\tthis.setState({\n\t\t\t\thasLocation: true,\n\t\t\t\tlatlng: e.latlng,\n\t\t\t});\n\t\t}\n\t}\n\n\tgeoJSONStyle() {\n\t\treturn {\n\t\t\tcolor: '#0347A2',\n\t\t\tweight: 5,\n\t\t\tfillOpacity: 0.5,\n\t\t\tfillColor: '#0347A2',\n\t\t}\n\t}\n\n\tgeoJSONStyleList(idx) {\n\t\tconst color = mu.getRankingColor(idx + 1);\n\t\treturn {\n\t\t\tcolor,\n\t\t\tweight: 3,\n\t\t\tfillOpacity: 0.5,\n\t\t\tfillColor: color,\n\t\t}\n\t}\n\n\tonEachFeature = (feature, layer) => {\n\t\tconst { gpxInfo = {} } = this.props;\n\t\tconst popupContent = `<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${util.format(gpxInfo.totalDistance, 2)} km</li>\n\t\t\t\t<li>Max speed: ${util.format(gpxInfo.maxSpeed, 1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${util.format(gpxInfo.avgSpeed, 1)} km/t</li>\n\t\t\t\t<li>Ascent: ${util.format(gpxInfo.ascent || gpxInfo.calculatedAscend, 0)} m</li>\n\t\t\t\t<li>Descent: ${util.format(gpxInfo.decent || gpxInfo.calculatedDescend, 0)} m</li>\n\t\t\t\t<li>Duration: ${util.secToHms(gpxInfo.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`\n\t\tlayer.bindPopup(popupContent)\n\t}\n\n\thandleClick = (e) => {\n\t\tconst { appState } = this.props.stores;\n\t\tappState.setLatlng(e.latlng);\n\t\t// this.setState({ currentPos: e.latlng });\n\t}\n\n\tzoomToGeoJSON = (e) => {\n\t\ttry {\n\t\t\tif (e.target) {\n\t\t\t\tlet bounds = e.target.getBounds();\n\n\t\t\t\tif (bounds && bounds._northEast) {\n\t\t\t\t\tthis.setState({ bounds });\n\t\t\t\t}\n\t\t\t\t// const map = this.mapRef.leafletElement;  //get native Map instance\n\t\t\t\t// map.fitBounds(bounds);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t\t// if (this.geoJSONRef.leafletElement) {\n\t\t// console.log(e);\n\t\t// \tconst map = this.mapRef.leafletElement;  //get native Map instance\n\t\t// \tconst group = this.geoJSONRef.leafletElement; //get native featureGroup instance\n\t\t// \tmap.fitBounds(group.getBounds());\n\t\t// }\n\t}\n\n\tzoomToMarkers = (markers = [], force = false) => {\n\t\tconst { hasZoomedToMarkers } = this.state;\n\t\ttry {\n\t\t\t// console.log('zoomToMarkers', hasZoomedToMarkers, { markers });\n\t\t\tif ((force || !hasZoomedToMarkers) && markers.length && markers.length > 0) {\n\t\t\t\tconst map = this.mapRef.current.leafletElement;  //get native Map instance\n\t\t\t\tconst markerBounds = L.latLngBounds([]);\n\t\t\t\tmarkers.forEach(marker => {\n\t// console.log({ marker });\n\t\t\t\t\tmarkerBounds.extend([marker.lat, marker.lng])\n\t\t\t\t});\n\t// console.log('map.fitBounds');\n\t\t\t\tmap.fitBounds(markerBounds);\n\t\t\t\tthis.setState({ hasZoomedToMarkers: true });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\tzoomToAllMarkers = () => {\n\t\tconst { waypoints = [] } = this.props;\n\t\tconst markers = waypoints;\n\t\tthis.zoomToMarkers(markers, true);\n\t}\n\n\tzoomToFirst10Markers = () => {\n\t\tconst { waypoints = [] } = this.props;\n\t\tconst markers = waypoints.slice(0, 10);\n\t\tthis.zoomToMarkers(markers, true);\n\t}\n\n\tzoomToFirst3Markers = () => {\n\t\tconst { waypoints = [] } = this.props;\n\t\tconst markers = waypoints.slice(0, 3);\n\t\tthis.zoomToMarkers(markers, true);\n\t}\n\t\n\tzoomToFavoriteMarkers = () => {\n\t\tconst { zoomToMarkers = [], waypoints = [] } = this.props;\n\t\tconst markers = zoomToMarkers.length > 0 ? zoomToMarkers : waypoints;\n\t\tthis.zoomToMarkers(markers, true);\n\t}\n\n\t// componentDidMount() {\n\t// }\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.props.zoomToMarkers !== nextProps.zoomToMarkers) {\n\t\t\t// console.log(nextProps.zoomToMarkers)\n\t\t\tthis.zoomToMarkers(nextProps.zoomToMarkers, true);\n        } else if (this.props.waypoints !== nextProps.waypoints) {\n\t\t\tthis.zoomToMarkers(nextProps.waypoints);\n\t\t}\n\n// \t\tconst { zoomToMarkers = [], waypoints = [] } = nextProps;\n// \t\tconst { zoomToMarkers: prevZoomToMarkers = [] } = this.props;\n// // console.log('componentWillReceiveProps', JSON.stringify(zoomToMarkers.length), JSON.stringify(prevZoomToMarkers.length));\n// \t\t// if (zoomToMarkers.length !== prevZoomToMarkers.length) {\n// \t\tconst markers = zoomToMarkers.length > 0 ? zoomToMarkers : waypoints;\n// \t\tthis.zoomToMarkers(markers);\n\t\t// }\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// try {\n\t\t// \tconst map = this.mapRef.current.leafletElement;  //get native Map instance\n\t\t// \tmap.remove()\n\t\t// } catch (err) {\n\t\t// \tconsole.log(err);\n\t\t// }\n\t}\n\n\toverlayAdd = (e) => {\n\t\t// console.log('overlayAdd', e);\n\t\tconst { name } = e;\n\t\tconst { visibleLayers } = this.state;\n\t\tvisibleLayers[name] = true;\n\t\tthis.setState({ visibleLayers });\n\t}\n\toverlayRemove = (e) => {\n\t\tconst { name } = e;\n\t\t// console.log('overlayRemove', e, name)\n\t\tconst { visibleLayers } = this.state;\n\t\tvisibleLayers[name] = false;\n\t\tthis.setState({ visibleLayers });\n\t}\n\n\tpolylineOptions = () => {\n\t\tconst { gpxInfo } = this.props;\n\t\tconst { rangeSteps } = this.state;\n\t\tlet { maxHslColor } = this.state;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { mapColorMode, mapRangeMin, mapRangeMax } = appState;\n\n\t\tlet newRangeMin = mapRangeMin;\n\t\tlet newRangeMax = mapRangeMax;\n\n\t\tif (mapColorMode === 'speed') {\n\t\t\tif (gpxInfo && gpxInfo.speeds && gpxInfo.speeds.length > 0) {\n\t\t\t\tnewRangeMin = Math.floor(Math.min(...gpxInfo.speeds.map(e => e * 3.6)));\n\t\t\t\tnewRangeMax = Math.ceil(Math.max(...gpxInfo.speeds.map(e => e * 3.6)));\n\t\t\t}\n\t\t}\n\n\t\tconst range = util.range(newRangeMin, newRangeMax, rangeSteps);\n\t\tconst colors = range.map((e) => {\n\t\t\tconst val = normalizeRange(e, newRangeMin, newRangeMax, 0, maxHslColor);\n\t\t\tlet colorValue;\n\t\t\tif (mapColorMode === 'speed') {\n\t\t\t\tcolorValue = maxHslColor - val;\n\t\t\t} else {\n\t\t\t\tcolorValue = maxHslColor - val;\n\t\t\t}\n\t\t\tconst { r, g, b } = util.hsl2Rgb(colorValue, 100, 45);\n\t\t\treturn { color: `rgb(${r}, ${g}, ${b})` };\n\t\t});\n\n\t\tappState.setMapRange(range, newRangeMin, newRangeMax);\n\t\tappState.setMapColors(colors);\n\t\treturn colors;\n\t}\n\n\tpolylineOptionIdxFn = (latLng) => {\n\t\tconst { appState } = this.props.stores;\n\t\tconst { mapRange: altThresholds } = appState;\n\t\t// const altThresholds = util.range(MIN_INCLINE, MAX_INCLINE, INCLINE_STEP);\n\t\tfor (let i = 0; i < altThresholds.length; ++i) {\n\t\t\tif (latLng.meta <= altThresholds[i]) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn altThresholds.length;\n\t}\n\n\tpolylinetrackPointFactory = (data) => {\n\t\tconst { gpxInfo } = this.props;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { mapColorMode, mapRangeMin, mapRangeMax } = appState;\n\n\n\t\tlet dataArray = [];\n\t\tif (mapColorMode === 'speed' && gpxInfo.speeds && gpxInfo.speeds.length > 0) {\n\t\t\tdataArray = gpxInfo.speeds.map(e => e * 3.6);\n\t\t} else if (gpxInfo && gpxInfo.climbs) {\n\t\t\tdataArray = gpxInfo.climbs;\n\t\t}\n\n\t\tconst points = data.filter(e => e[0] && e[1] && e[2]).map((item, idx) => {\n\t\t\tconst trkpt = L.latLng(item[1], item[0], item[2]);\n\t\t\tif (dataArray && dataArray.length > 0) {\n\t\t\t\ttrkpt.meta = dataArray[idx] || 0;\n\t\t\t\tif (trkpt.meta > mapRangeMax) {\n\t\t\t\t\ttrkpt.meta = mapRangeMax;\n\t\t\t\t}\n\t\t\t\tif (trkpt.meta < mapRangeMin) {\n\t\t\t\t\ttrkpt.meta = mapRangeMin;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttrkpt.meta = 0;\n\t\t\t}\n\t\t\treturn trkpt;\n\t\t});\n\t\treturn points;\n\t}\n\n\tshowSpeed = () => {\n\t\tconst { appState } = this.props.stores;\n\t\tappState.setMapColorMode('speed');\n\t}\n\n\t// handleMarkerClick = ({ title, bib, email, e }) => {\n\thandleMarkerClick = (opt = {}) => {\n\t\tconst { onMarkerClick = ({ title, bib }) => console.log({ title, bib }) } = this.props;\n\t\ttry {\n\t\t\tonMarkerClick({ ...opt });\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\thandleMarker2Click = (opt = {}) => {\n\t\tconst { onMarker2Click = (opt) => console.log(opt) } = this.props;\n\t\ttry {\n\t\t\tonMarker2Click({ ...opt });\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\thandleMarker3Click = (opt = {}) => {\n\t\tconst { onMarker3Click = (opt) => console.log(opt) } = this.props;\n\t\ttry {\n\t\t\tonMarker3Click({ ...opt });\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\tbaseLayerChange = (e) => {\n\t\tconst { name } = e;\n\t\tconsole.log('baseLayerChange event', e);\n\t\tconsole.log({ name });\n\t\tconst { appState } = this.props.stores;\n\t\tappState.setMapChecked(name);\n\t}\n\n\twhenReadyHandler = (e) => {\n\t\tconst { target } = e;\n\t\ttarget.on('baselayerchange', this.baseLayerChange);\n\t}\n\n\trender() {\n\t\tconst { userStore, appState } = this.props.stores;\n\t\tconst { mapChecked } = appState;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n\t\tconst { visibleLayers, mapZoom, bounds = null } = this.state;\n\t\tconst {\n\t\t\twaypoints = [],\n\t\t\twaypoints2 = [],\n\t\t\twaypoints3 = [],\n\t\t\tgeoJSONs = [],\n\t\t\tzoomToMarkers = [],\n\t\t\tgeojson,\n\t\t\tgpxInfo,\n\t\t\tmapId = 1,\n\t\t\tcenter = [61.0779066, 9.800984],\n\t\t\tzoom = 5,\n\t\t\tminZoom = 4,\n\t\t\tmaxZoom = 18,\n\t\t\tdarkmode,\n\t\t\theight = 500,\n\t\t\theatmap = [],\n\t\t\tskipGeojson = false,\n\t\t\tzoomToWaypoints = false,\n\t\t\tfullscreenMap = false,\n\n\t\t\tshowSearch = true,\n\t\t\tshowZoomControl = true,\n\t\t\tshowLayersControl = true,\n\t\t\tshowFullscreenControl = true,\n\t\t\tshowScaleControl = true,\n\t\t\tshowRange = true,\n\t\t\tshowTrackProfile = true,\n\t\t\tdistanceMarkerSteps = 'normal',\n\t\t\tshowDistanceMarkers = true,\n\t\t\tgroupWaypoints = true,\n\n\t\t\tlargeMarkers,\n\n\t\t\tlayersControlPosition = 'topright',\n\t\t} = this.props;\n\t\tconst { mapColorMode, mapRange: range, mapColors: colors, mapRangeMin, mapRangeMax } = appState;\n\n\t\tconst tempGeoJson = toJS(geojson);\n\t\tconst track = util.asObject(tempGeoJson, 'features', 0, 'geometry', 'coordinates');\n\t\tconst hasWaypoints = zoomToMarkers.length > 0 || waypoints.length > 0;\n\t\tconst hasWaypoints2 = waypoints2.length > 0;\n\n\t\tlet startMarker;\n\t\tlet endMarker;\n\t\tconst distanceMarkers = [];\n\t\tif (track && track[0] && track[0][0]) {\n\t\t\tstartMarker = track[0][0] && track[0][0][0] ?  [track[0][0][1], track[0][0][0]] : [track[0][1], track[0][0]];\n\t\t\tendMarker = track[track.length - 1][0] && track[track.length - 1][0][0] ? [track[track.length - 1][0][1], track[track.length - 1][0][0]] : [track[track.length - 1][1], track[track.length - 1][0]];\n\t\t\tif (gpxInfo && gpxInfo.distances) {\n\t\t\t\tlet totalDistance = 0;\n\t\t\t\tlet currentDistance = 0;\n\t\t\t\tlet steps = 10;\n\t\t\t\tswitch (mapZoom) {\n\t\t\t\t\tcase 15:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 3 : 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 14:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 5 : 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 13:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 7 : 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 12:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 10 : 5;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 11:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 15 : 10;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 10:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 15 : 10;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 9:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 20 : 15;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 30 : 20;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 40 : 30;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 70 : 50;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 150 : 100;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsteps = distanceMarkerSteps === 'long' ? 200 : 150;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// console.log({ mapZoom, steps });\n\t\t\t\tgpxInfo.distances.forEach((e, idx) => {\n\t\t\t\t\ttotalDistance += settings.imperial ? kmToMiles(e) : e;\n\t\t\t\t\tcurrentDistance += settings.imperial ? kmToMiles(e) : e;\n\t\t\t\t\tif (currentDistance >= steps) {\n\t\t\t\t\t\tcurrentDistance = 0;\n\t\t\t\t\t\tif (track[idx] && Array.isArray(track[idx])) {\n\t\t\t\t\t\t\tdistanceMarkers.push({\n\t\t\t\t\t\t\t\tlat: track[idx][1],\n\t\t\t\t\t\t\t\tlng: track[idx][0],\n\t\t\t\t\t\t\t\t// icon: wp.icon || 'marker',\n\t\t\t\t\t\t\t\ttitle: Math.floor(totalDistance),\n\t\t\t\t\t\t\t\tbody: '',\n\t\t\t\t\t\t\t\t// color: wp.color,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n        // const mapChecked = darkmode ? 'OpenStreetMap.Dark' : 'OpenStreetMap.Mapnik';\n\t\tconst { isAdmin } = userStore;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class={`${style.home} w-100 h-100 overflow-hidden position-relative`}\n\t\t\t\t\t// onTouchstart={mu.captureAllEvents}\n\t\t\t\t\t// onTouchend={mu.captureAllEvents}\n\t\t\t\t\tonTouchmove={mu.captureAllEvents}\n\t\t\t\t\tonScroll={mu.captureAllEvents}\n\t\t\t\t>\n\t\t\t\t\t<Map\n\t\t\t\t\t\t// key={mapId}\n\t\t\t\t\t\tbounds={bounds}\n\t\t\t\t\t\tref={this.mapRef}\n\t\t\t\t\t\t// onLoad={(e) => console.log(e)}\n\t\t\t\t\t\tonViewportChanged={this.handleViewportChanged}\n\t\t\t\t\t\tminZoom={minZoom}\n\t\t\t\t\t\tmaxZoom={maxZoom}\n\t\t\t\t\t\t// maxBounds={MAX_BOUNDS}\n\t\t\t\t\t\tcenter={center}\n\t\t\t\t\t\t// onClick={this.handleClick}\n\t\t\t\t\t\tonLocationfound={this.handleLocationFound}\n\t\t\t\t\t\t// onLayeradd={(e) => console.log(e)}\n\t\t\t\t\t\t// onOverlayadd={(e) => console.log(e)}\n\t\t\t\t\t\t// ref={(r) => { this.mapRef = r; }}\n\t\t\t\t\t\tzoom={zoom}\n\t\t\t\t\t\tzoomControl={showZoomControl}\n\t\t\t\t\t\tdoubleClickZoom={true}\n\t\t\t\t\t\tscrollWheelZoom={true}\n\t\t\t\t\t\tdragging={fullscreenMap || !L.Browser.mobile}\n\t\t\t\t\t\t// tap={fullscreenMap || !L.Browser.mobile}\n\t\t\t\t\t\t// tap={!L.Browser.mobile}\n\t\t\t\t\t\ttap={!L.Browser.mobile}\n\t\t\t\t\t\ttouchZoom={L.Browser.mobile ? 'center' : false}\n\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\teaseLinearity={0.35}\n\t\t\t\t\t\tstyle={`width: 100%; min-height: ${height}px; height: 100%;`} className='h-100'\n\t\t\t\t\t\tonOverlayadd={this.overlayAdd}\n\t\t\t\t\t\tonOverlayremove={this.overlayRemove}\n\t\t\t\t\t\twhenReady={this.whenReadyHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showLayersControl && <LayersControl position={layersControlPosition}>\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === 'OpenStreetMap.Mapnik'} name='OpenStreetMap.Mapnik'>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\t\t\t\t\t\turl='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === 'OpenStreetMap.Dark'}name='OpenStreetMap.Dark'>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, &copy; Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.'\n\t\t\t\t\t\t\t\t\turl='https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\n\t\t\t\t\t\t\t{/* {['matrikkel_bakgrunn', 'topo4', 'topo4graatone', 'europa', 'toporaster3', 'sjokartraster', 'norges_grunnkart',\n\t\t\t\t\t\t\t'norges_grunnkart_graatone', 'egk', 'terreng_norgeskart', 'havbunn_grunnkart', 'bakgrunnskart_forenklet'].map(layer => <>\t\t\t\t\t\t\t */}\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === `Norway Kartverket topo4`} name={`Norway Kartverket topo4`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['opencache', 'opencache2', 'opencache3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://kartverket.no\">Kartverket</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === `Norway Kartverket topo4graatone`} name={`Norway Kartverket topo4graatone`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['opencache', 'opencache2', 'opencache3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://kartverket.no\">Kartverket</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t{/* <BaseLayer checked={mapChecked === `Norway Kartverket terreng_norgeskart`} name={`Norway Kartverket terreng_norgeskart`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['opencache', 'opencache2', 'opencache3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://kartverket.no\">Kartverket</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=terreng_norgeskart&zoom={z}&x={x}&y={y}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === `Norway Kartverket norges_grunnkart`} name={`Norway Kartverket norges_grunnkart`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['opencache', 'opencache2', 'opencache3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://kartverket.no\">Kartverket</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=norges_grunnkart&zoom={z}&x={x}&y={y}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === `Norway Kartverket norges_grunnkart_graatone`} name={`Norway Kartverket norges_grunnkart_graatone`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['opencache', 'opencache2', 'opencache3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://kartverket.no\">Kartverket</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=norges_grunnkart_graatone&zoom={z}&x={x}&y={y}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer> */}\n\n\t\t\t\t\t\t\t{/* <BaseLayer checked={mapChecked === `Google Satellite`} name={`Google Satellite`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['mt0','mt1','mt2','mt3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://google.com\">Google</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === `Google Roadmap`} name={`Google Roadmap`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['mt0','mt1','mt2','mt3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://google.com\">Google</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer> */}\n\t\t\t\t\t\t\t<BaseLayer checked={mapChecked === `Google Satellite Text`} name={`Google Satellite Text`}>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tsubdomains={['mt0','mt1','mt2','mt3']}\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://google.com\">Google</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer>\n\t\t\t\t\t\t\t{/* <BaseLayer name='OpenStreetMap.BlackAndWhite'>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\t\t\t\t\t\turl='https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer> */}\n\t\t\t\t\t\t\t{/* <BaseLayer name='OpenStreetMap.Carto'>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/attribution\">CARTO</a>'\n\t\t\t\t\t\t\t\t\turl='https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer> */}\n\t\t\t\t\t\t\t{/* <BaseLayer name='OpenStreetMap.Hikemap'>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, &copy; wmflabs Hike & Bike'\n\t\t\t\t\t\t\t\t\turl='https://tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer> */}\n\t\t\t\t\t\t\t{/* <BaseLayer name='OpenStreetMap.Hiking'>\n\t\t\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, &copy; Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.'\n\t\t\t\t\t\t\t\t\turl=' http://{s}.tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</BaseLayer> */}\n\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t\t<Overlay checked name='Layer group with circles'>\n\t\t\t\t\t\t\t\t<LayerGroup>\n\t\t\t\t\t\t\t\t\t<Circle center={center} fillColor='blue' radius={200} />\n\t\t\t\t\t\t\t\t\t<Circle\n\t\t\t\t\t\t\t\t\t\tcenter={center}\n\t\t\t\t\t\t\t\t\t\tfillColor='red'\n\t\t\t\t\t\t\t\t\t\tradius={100}\n\t\t\t\t\t\t\t\t\t\tstroke={false}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<LayerGroup>\n\t\t\t\t\t\t\t\t\t\t<Circle\n\t\t\t\t\t\t\t\t\t\t\tcenter={circle2}\n\t\t\t\t\t\t\t\t\t\t\tcolor='green'\n\t\t\t\t\t\t\t\t\t\t\tfillColor='green'\n\t\t\t\t\t\t\t\t\t\t\tradius={100}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</LayerGroup>\n\t\t\t\t\t\t\t\t</LayerGroup>\n\t\t\t\t\t\t\t</Overlay>\n\t\t\t\t\t\t\t<Overlay name='Feature group'>\n\t\t\t\t\t\t\t\t<FeatureGroup color='purple'>\n\t\t\t\t\t\t\t\t\t<Popup>Popup in FeatureGroup</Popup>\n\t\t\t\t\t\t\t\t\t<Circle center={circle2} radius={200} />\n\t\t\t\t\t\t\t\t\t<Rectangle bounds={rectangle} />\n\t\t\t\t\t\t\t\t</FeatureGroup>\n\t\t\t\t\t\t\t</Overlay> */}\n\n\t\t\t\t\t\t\t{/* <Overlay name='Geoportal.gov.pl'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\tlayers={'Raster'}\n\t\t\t\t\t\t\t\t\tformat={'image/png'}\n\t\t\t\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\t\t\t\turl='http://mapy.geoportal.gov.pl/wss/service/img/guest/ORTO/MapServer/WMSServer?'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay>\n\t\t\t\t\t\t\t<Overlay name='Wildfire'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\tlayers={'GWIS'}\n\t\t\t\t\t\t\t\t\tformat={'image/png'}\n\t\t\t\t\t\t\t\t\ttransparent={true}\n\t\t\t\t\t\t\t\t\turl={'https://ies-ows.jrc.ec.europa.eu/gwis?language=eng&'}\n\t\t\t\t\t\t\t\t\tattribution={'European Commission, Joint Research Centre'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay> */}\n\n\n\t\t\t\t\t\t\t<Overlay name='Windspeed'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\t// layer={'wind_new'}\n\t\t\t\t\t\t\t\t\t// format={'image/png'}\n\t\t\t\t\t\t\t\t\t// transparent={true}\n\t\t\t\t\t\t\t\t\t// url={`https://tile.openweathermap.org/map/{layer}/{z}/{x}/{y}.png?appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\turl={`https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\tattribution={'Open weather maps'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay>\n\t\t\t\t\t\t\t{/* <Overlay checked name='Windspeed2'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\top={'WND'}\n\t\t\t\t\t\t\t\t\t// format={'image/png'}\n\t\t\t\t\t\t\t\t\t// transparent={true}\n\t\t\t\t\t\t\t\t\turl={`http://maps.openweathermap.org/maps/2.0/weather/{op}/{z}/{x}/{y}?appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\tattribution={'Open weather maps'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay> */}\n\t\t\t\t\t\t\t<Overlay name='Temperature'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\t// layer={'temp_new'}\n\t\t\t\t\t\t\t\t\t// format={'image/png'}\n\t\t\t\t\t\t\t\t\t// transparent={true}\n\t\t\t\t\t\t\t\t\t// url={`https://tile.openweathermap.org/map/{layer}/{z}/{x}/{y}.png?appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\turl={`https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\tattribution={'Open weather maps'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay>\n\t\t\t\t\t\t\t<Overlay name='Snow depth'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\t// layer={'precipitation_new'}\n\t\t\t\t\t\t\t\t\t// format={'image/png'}\n\t\t\t\t\t\t\t\t\t// transparent={true}\n\t\t\t\t\t\t\t\t\turl={`https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\tattribution={'Open weather maps'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay>\n\t\t\t\t\t\t\t<Overlay name='Precipitation'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\t// layer={'precipitation_new'}\n\t\t\t\t\t\t\t\t\t// format={'image/png'}\n\t\t\t\t\t\t\t\t\t// transparent={true}\n\t\t\t\t\t\t\t\t\turl={`https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\tattribution={'Open weather maps'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay>\n\t\t\t\t\t\t\t{isAdmin && <Overlay name='Atmospheric pressure'>\n\t\t\t\t\t\t\t\t<WMSTileLayer\n\t\t\t\t\t\t\t\t\t// layer={'precipitation_new'}\n\t\t\t\t\t\t\t\t\t// format={'image/png'}\n\t\t\t\t\t\t\t\t\t// transparent={true}\n\t\t\t\t\t\t\t\t\turl={`https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=${API_OPEN_WEATHERMAP_KEY}`}\n\t\t\t\t\t\t\t\t\tattribution={'Open weather maps'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Overlay>}\n\t\t\t\t\t\t</LayersControl>}\n\n\t\t\t\t\t\t{/* {showFullscreenControl && <FullscreenControl position='topright' />} */}\n\n\t\t\t\t\t\t{showScaleControl && <ScaleControl\n\t\t\t\t\t\t\tmetric={true}\n\t\t\t\t\t\t\timperial={false}\n\t\t\t\t\t\t/>}\n\n\t\t\t\t\t\t{visibleLayers.Windspeed && <Control position='bottomright'>\n\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\tcolor: #48484a;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\tpadding: 2pt 4pt;\n\t\t\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\t\t\tborder-radius: 4pt;\n\t\t\t\t\t\t\t\tbox-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t<div>Wind speed, m/s</div>\n\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t\t<div style=\"width: 260px; display: flex; justify-content: space-between;\" class=\"scale-dividers\" >\n\t\t\t\t\t\t\t\t\t\t<div>0</div>\n\t\t\t\t\t\t\t\t\t\t<div>2</div>\n\t\t\t\t\t\t\t\t\t\t<div>3</div>\n\t\t\t\t\t\t\t\t\t\t<div>6</div>\n\t\t\t\t\t\t\t\t\t\t<div>12</div>\n\t\t\t\t\t\t\t\t\t\t<div>25</div>\n\t\t\t\t\t\t\t\t\t\t<div>50</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\t\twidth: 260px;\n\t\t\t\t\t\t\t\t\t\theight: 5px;\n\t\t\t\t\t\t\t\t\t\t// background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%;\n\t\t\t\t\t\t\t\t\t\tbackground: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%;\n\t\t\t\t\t\t\t\t\t\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Control>}\n\n\t\t\t\t\t\t{visibleLayers.Temperature && <Control position='bottomright'>\n\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\tcolor: #48484a;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\tpadding: 2pt 4pt;\n\t\t\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\t\t\tborder-radius: 4pt;\n\t\t\t\t\t\t\t\tbox-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t<div>Temperature, C</div>\n\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t\t<div style=\"width: 260px; display: flex; justify-content: space-between;\" class=\"scale-dividers\" >\n\t\t\t\t\t\t\t\t\t\t<div>-40</div><div>-20</div><div>0</div><div>20</div><div>40</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\t\twidth: 260px;\n\t\t\t\t\t\t\t\t\t\theight: 5px;\n\t\t\t\t\t\t\t\t\t\tbackground-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%);\n\t\t\t\t\t\t\t\t\t\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Control>}\n\n\t\t\t\t\t\t{visibleLayers.Precipitation && <Control position='bottomright'>\n\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\tcolor: #48484a;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\tpadding: 2pt 4pt;\n\t\t\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\t\t\tborder-radius: 4pt;\n\t\t\t\t\t\t\t\tbox-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t<div>Precipitation, mm/h</div>\n\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t\t<div style=\"width: 260px; display: flex; justify-content: space-between;\" class=\"scale-dividers\" >\n\t\t\t\t\t\t\t\t\t\t<div>0</div><div>0.5</div><div>1</div><div>2</div><div>4</div><div>6</div><div>7</div><div>10</div><div>12</div><div>14</div><div>16</div><div>24</div><div>32</div><div>60</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\t\twidth: 260px;\n\t\t\t\t\t\t\t\t\t\theight: 5px;\n\t\t\t\t\t\t\t\t\t\tbackground: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%;\n\t\t\t\t\t\t\t\t\t\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Control>}\n\n\t\t\t\t\t\t{visibleLayers['Snow depth'] && <Control position='bottomright'>\n\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\tcolor: #48484a;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\tpadding: 2pt 4pt;\n\t\t\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\t\t\tborder-radius: 4pt;\n\t\t\t\t\t\t\t\tbox-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t<div>Snow depth (m)</div>\n\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t\t<div style=\"width: 260px; display: flex; justify-content: space-between;\" class=\"scale-dividers\" >\n\t\t\t\t\t\t\t\t\t\t<div>0.05</div>\n\t\t\t\t\t\t\t\t\t\t<div>0.4</div>\n\t\t\t\t\t\t\t\t\t\t<div>0.8</div>\n\t\t\t\t\t\t\t\t\t\t<div>1.8</div>\n\t\t\t\t\t\t\t\t\t\t<div>15</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\t\twidth: 260px;\n\t\t\t\t\t\t\t\t\t\theight: 5px;\n\t\t\t\t\t\t\t\t\t\tbackground: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%;\n\t\t\t\t\t\t\t\t\t\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Control>}\n\n\t\t\t\t\t\t{visibleLayers['Atmospheric pressure'] && <Control position='bottomright'>\n\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\tcolor: #48484a;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\tpadding: 2pt 4pt;\n\t\t\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\t\t\tborder-radius: 4pt;\n\t\t\t\t\t\t\t\tbox-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\ttransition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out;\n\t\t\t\t\t\t\t\tmargin-bottom: 10px;\n\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t<div>Atmospheric pressure (hPa)</div>\n\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t\t\t<div style=\"width: 260px; display: flex; justify-content: space-between;\" class=\"scale-dividers\" >\n\t\t\t\t\t\t\t\t\t\t<div>940</div>\n\t\t\t\t\t\t\t\t\t\t<div>980</div>\n\t\t\t\t\t\t\t\t\t\t<div>1010</div>\n\t\t\t\t\t\t\t\t\t\t<div>1040</div>\n\t\t\t\t\t\t\t\t\t\t<div>1080</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style=\"\n\t\t\t\t\t\t\t\t\t\twidth: 260px;\n\t\t\t\t\t\t\t\t\t\theight: 5px;\n\t\t\t\t\t\t\t\t\t\tbackground: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%;\n\t\t\t\t\t\t\t\t\t\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Control>}\n\n\n\t\t\t\t\t\t{/* <ImageOverlay\n\t\t\t\t\t\t\turl='./assets/515-overlay-v2.png'\n\t\t\t\t\t\t\tbounds={[\n\t\t\t\t\t\t\t\t[52.056765505175235, 15.068457126617433],\n\t\t\t\t\t\t\t\t[52.04421634105194, 15.105557441711428],\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t{heatmap && heatmap.length > 0 && <HeatmapLayer\n\t\t\t\t\t\t\tfitBoundsOnLoad={!hasWaypoints}\n\t\t\t\t\t\t\tfitBoundsOnUpdate={false}\n\t\t\t\t\t\t\tpoints={heatmap}\n\t\t\t\t\t\t\tlongitudeExtractor={m => m[1]}\n\t\t\t\t\t\t\tlatitudeExtractor={m => m[0]}\n\t\t\t\t\t\t\tintensityExtractor={m => parseFloat(m[2])}\n\t\t\t\t\t\t/>}\n\n\t\t\t\t\t\t{showTrackProfile && <>\n\t\t\t\t\t\t\t{track && track.length > 0 && <ReactLeafletMultiOptionsPolyline\n\t\t\t\t\t\t\t\tref={this.polyRef}\n\t\t\t\t\t\t\t\tpositions={this.polylinetrackPointFactory(track)}\n\t\t\t\t\t\t\t\toptionIdxFn={this.polylineOptionIdxFn}\n\t\t\t\t\t\t\t\toptions={this.polylineOptions()}\n\t\t\t\t\t\t\t\tweight={7}\n\t\t\t\t\t\t\t\tlineCap='butt'\n\t\t\t\t\t\t\t\topacity={0.75}\n\t\t\t\t\t\t\t\tsmoothFactor={1}\n\t\t\t\t\t\t\t\tzoomAnimation={true}\n\t\t\t\t\t\t\t\tkey={`${mapColorMode}`}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t{geoJSONs && geoJSONs.length > 0 && geoJSONs.map((gj, idx) => <GeoJSON\n\t\t\t\t\t\t\tdata={gj}\n\t\t\t\t\t\t\tstyle={() => this.geoJSONStyleList(idx)}\n\t\t\t\t\t\t/>)}\n\n\t\t\t\t\t\t{!skipGeojson && geojson && startMarker && <GeoJSON\n\t\t\t\t\t\t\tdata={geojson}\n\t\t\t\t\t\t\tstyle={this.geoJSONStyle}\n\t\t\t\t\t\t\tonEachFeature={this.onEachFeature}\n\t\t\t\t\t\t\tonAdd={zoomToMarkers && zoomToMarkers.length > 0 ? null : this.zoomToGeoJSON}\n\t\t\t\t\t\t/>}\n\n\n\t\t\t\t\t\t{startMarker && <Marker position={startMarker} icon={icons.get('marker')}>\n\t\t\t\t\t\t\t<Popup>\n\t\t\t\t\t\t\t\tStart position: {util.format(startMarker[0], 4)}, {util.format(startMarker[1], 4)}\n\t\t\t\t\t\t\t</Popup>\n\t\t\t\t\t\t</Marker>}\n\t\t\t\t\t\t{endMarker && <Marker position={endMarker} icon={icons.get('flag')}>\n\t\t\t\t\t\t\t<Popup>\n\t\t\t\t\t\t\t\tEnd position: {util.format(endMarker[0], 4)}, {util.format(endMarker[1], 4)}\n\t\t\t\t\t\t\t</Popup>\n\t\t\t\t\t\t</Marker>}\n\n\t\t\t\t\t\t{showDistanceMarkers && distanceMarkers && distanceMarkers.length > 0 && <>\n\t\t\t\t\t\t\t{distanceMarkers.length > 0 && distanceMarkers.map(wp => (\n\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\tposition={[wp.lat, wp.lng]}\n\t\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\t\ticon={icons.getDistanceMarker({\n\t\t\t\t\t\t\t\t\t\ttitle: wp.title,\n\t\t\t\t\t\t\t\t\t\tbody: wp.body,\n\t\t\t\t\t\t\t\t\t\tcolor: wp.color,\n\t\t\t\t\t\t\t\t\t\ttextColor: darkmode ? '#333' : '#333',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Popup position={[wp.lat, wp.lng]}>\n\t\t\t\t\t\t\t\t\t\t<h5>{wp.title}</h5>\n\t\t\t\t\t\t\t\t\t\t<Markdown markdown={wp.body} markdownOpts={MARKDOWN_OPTIONS} />\n\t\t\t\t\t\t\t\t\t</Popup>\n\t\t\t\t\t\t\t\t</Marker>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t{waypoints3.length > 0 && waypoints3.reverse().map((wp, idx) => (\n\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\tposition={[wp.lat, wp.lng]}\n\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\ticon={icons.getSmallMarker({\n\t\t\t\t\t\t\t\t\ticon: wp.icon || 'marker',\n\t\t\t\t\t\t\t\t\tbib: wp.bib,\n\t\t\t\t\t\t\t\t\tflag: wp.flag,\n\t\t\t\t\t\t\t\t\ttitle: wp.title,\n\t\t\t\t\t\t\t\t\tbody: wp.body,\n\t\t\t\t\t\t\t\t\tcolor: wp.color,\n\t\t\t\t\t\t\t\t\ttextColor: wp.textColor,\n\t\t\t\t\t\t\t\t\tmapChecked,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={(e) => this.handleMarker3Click({ ...wp, e })}\n\t\t\t\t\t\t\t\tzIndexOffset={100 + idx}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* <Popup position={[wp.lat, wp.lng]}>\n\t\t\t\t\t\t\t\t\t<h5><Markdown markdown={wp.title} markdownOpts={MARKDOWN_OPTIONS} /></h5>\n\t\t\t\t\t\t\t\t\t<Markdown markdown={wp.body} markdownOpts={MARKDOWN_OPTIONS} />\n\t\t\t\t\t\t\t\t</Popup> */}\n\t\t\t\t\t\t\t</Marker>\n\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t{groupWaypoints ? <>\n\t\t\t\t\t\t\t<MarkerClusterGroup\n\t\t\t\t\t\t\t\tmaxClusterRadius={10}\n\t\t\t\t\t\t\t\ticonCreateFunction={createClusterCustomIcon}\n\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\tfitBoundsOnLoad={zoomToWaypoints}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{waypoints2.length > 0 && waypoints2.reverse().map((wp, idx) => (\n\t\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\t\tposition={[wp.lat, wp.lng]}\n\t\t\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\t\t\ticon={icons.getMarker({\n\t\t\t\t\t\t\t\t\t\t\ticon: wp.icon || 'marker',\n\t\t\t\t\t\t\t\t\t\t\tbib: wp.bib,\n\t\t\t\t\t\t\t\t\t\t\tflag: wp.flag,\n\t\t\t\t\t\t\t\t\t\t\ttitle: wp.title,\n\t\t\t\t\t\t\t\t\t\t\tbody: wp.body,\n\t\t\t\t\t\t\t\t\t\t\tcolor: wp.color,\n\t\t\t\t\t\t\t\t\t\t\ttextColor: wp.textColor,\n\t\t\t\t\t\t\t\t\t\t\tmapChecked,\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleMarker2Click({ ...wp, e })}\n\t\t\t\t\t\t\t\t\t\tzIndexOffset={200 + idx}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{/* <Popup position={[wp.lat, wp.lng]}>\n\t\t\t\t\t\t\t\t\t\t\t<h5><Markdown markdown={wp.title} markdownOpts={MARKDOWN_OPTIONS} /></h5>\n\t\t\t\t\t\t\t\t\t\t\t<Markdown markdown={wp.body} markdownOpts={MARKDOWN_OPTIONS} />\n\t\t\t\t\t\t\t\t\t\t</Popup> */}\n\t\t\t\t\t\t\t\t\t</Marker>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</MarkerClusterGroup>\n\t\t\t\t\t\t\t<MarkerClusterGroup\n\t\t\t\t\t\t\t\tmaxClusterRadius={10}\n\t\t\t\t\t\t\t\ticonCreateFunction={createClusterCustomIcon}\n\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\tfitBoundsOnLoad={zoomToWaypoints}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{waypoints.length > 0 && waypoints.reverse().map((wp, idx) => (\n\t\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\t\tposition={[wp.lat, wp.lng]}\n\t\t\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\t\t\ticon={icons.getRaceMarker({\n\t\t\t\t\t\t\t\t\t\t\tlargeMarkers,\n\t\t\t\t\t\t\t\t\t\t\ticon: wp.icon || 'marker',\n\t\t\t\t\t\t\t\t\t\t\tbib: wp.bib,\n\t\t\t\t\t\t\t\t\t\t\trank: wp.rank,\n\t\t\t\t\t\t\t\t\t\t\tspeed: wp.speed,\n\t\t\t\t\t\t\t\t\t\t\tbearing: wp.bearing,\n\t\t\t\t\t\t\t\t\t\t\temail: wp.email,\n\t\t\t\t\t\t\t\t\t\t\timage: wp.image,\n\t\t\t\t\t\t\t\t\t\t\tflag: wp.flag,\n\t\t\t\t\t\t\t\t\t\t\ttitle: wp.title,\n\t\t\t\t\t\t\t\t\t\t\tbody: wp.body,\n\t\t\t\t\t\t\t\t\t\t\tcolor: wp.color,\n\t\t\t\t\t\t\t\t\t\t\ttextColor: wp.textColor,\n\t\t\t\t\t\t\t\t\t\t\ticonWidth: 170,\n\t\t\t\t\t\t\t\t\t\t\ticonAnchorX: (idx % 2 === 0 ? 7 : 163),\n\t\t\t\t\t\t\t\t\t\t\ttitlePrefix: wp.currentState === 'rest' ? '' : '',\n\t\t\t\t\t\t\t\t\t\t\tmapChecked,\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleMarkerClick({ ...wp, e })}\n\t\t\t\t\t\t\t\t\t\tzIndexOffset={300 + idx}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{/* <Popup position={[wp.lat, wp.lng]}> */}\n\t\t\t\t\t\t\t\t\t\t\t{/* <h5><Markdown markdown={wp.title} markdownOpts={MARKDOWN_OPTIONS} /></h5>\n\t\t\t\t\t\t\t\t\t\t\t<Markdown markdown={wp.body} markdownOpts={MARKDOWN_OPTIONS} /> */}\n\t\t\t\t\t\t\t\t\t\t{/* </Popup> */}\n\t\t\t\t\t\t\t\t\t</Marker>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</MarkerClusterGroup>\n\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t{waypoints2.length > 0 && waypoints2.reverse().map((wp, idx) => (\n\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\tposition={[wp.lat, wp.lng]}\n\t\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\t\ticon={icons.getMarker({\n\t\t\t\t\t\t\t\t\t\ticon: wp.icon || 'marker',\n\t\t\t\t\t\t\t\t\t\tbib: wp.bib,\n\t\t\t\t\t\t\t\t\t\tflag: wp.flag,\n\t\t\t\t\t\t\t\t\t\ttitle: wp.title,\n\t\t\t\t\t\t\t\t\t\tbody: wp.body,\n\t\t\t\t\t\t\t\t\t\tcolor: wp.color,\n\t\t\t\t\t\t\t\t\t\ttextColor: wp.textColor,\n\n\t\t\t\t\t\t\t\t\t\ticonWidth: largeMarkers ? 300 : 250,\n\t\t\t\t\t\t\t\t\t\ticonHeight: largeMarkers ? 30 : 20,\n\t\t\t\t\t\t\t\t\t\ticonAnchorX: largeMarkers ? 10 : 7,\n\t\t\t\t\t\t\t\t\t\ticonAnchorY: largeMarkers ? 10 : 7,\n\t\t\t\t\t\t\t\t\t\timageCirlceRadius: largeMarkers ? 20 : 14,\n\n\t\t\t\t\t\t\t\t\t\tlineHeight: largeMarkers ? '1.5em' : '1.1em',\n\t\t\t\t\t\t\t\t\t\tfontSize: largeMarkers ? '1.5em' : '1.1em',\n\t\t\t\t\t\t\t\t\t\tpaddingTop: largeMarkers ? '2px' : '3px',\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: largeMarkers ? '2px' : '3px',\n\n\t\t\t\t\t\t\t\t\t\tmapChecked,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleMarker2Click({ ...wp, e })}\n\t\t\t\t\t\t\t\t\tzIndexOffset={200 + idx}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* <Popup position={[wp.lat, wp.lng]}>\n\t\t\t\t\t\t\t\t\t\t<h5><Markdown markdown={wp.title} markdownOpts={MARKDOWN_OPTIONS} /></h5>\n\t\t\t\t\t\t\t\t\t\t<Markdown markdown={wp.body} markdownOpts={MARKDOWN_OPTIONS} />\n\t\t\t\t\t\t\t\t\t</Popup> */}\n\t\t\t\t\t\t\t\t</Marker>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{waypoints.length > 0 && waypoints.reverse().map((wp, idx) => (\n\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\tposition={[wp.lat, wp.lng]}\n\t\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\t\ticon={icons.getRaceMarker({\n\t\t\t\t\t\t\t\t\t\ticon: wp.icon || 'marker',\n\t\t\t\t\t\t\t\t\t\tbib: wp.bib,\n\t\t\t\t\t\t\t\t\t\tspeed: wp.speed,\n\t\t\t\t\t\t\t\t\t\tbearing: wp.bearing,\n\t\t\t\t\t\t\t\t\t\trank: wp.rank,\n\t\t\t\t\t\t\t\t\t\temail: wp.email,\n\t\t\t\t\t\t\t\t\t\timage: wp.image,\n\t\t\t\t\t\t\t\t\t\tflag: wp.flag,\n\t\t\t\t\t\t\t\t\t\ttitle: wp.title,\n\t\t\t\t\t\t\t\t\t\tbody: wp.body,\n\t\t\t\t\t\t\t\t\t\tcolor: wp.color,\n\t\t\t\t\t\t\t\t\t\ttextColor: wp.textColor,\n\n\t\t\t\t\t\t\t\t\t\ticonWidth: largeMarkers ? 300 : 170,\n\t\t\t\t\t\t\t\t\t\ticonHeight: largeMarkers ? 30 : 15,\n\t\t\t\t\t\t\t\t\t\ticonAnchorX: largeMarkers ? (idx % 2 === 0 ? 10 : 290) : (idx % 2 === 0 ? 7 : 163),\n\t\t\t\t\t\t\t\t\t\ticonAnchorY: largeMarkers ? 10 : 5,\n\t\t\t\t\t\t\t\t\t\timageCirlceRadius: largeMarkers ? 20 : 10,\n\n\t\t\t\t\t\t\t\t\t\tlineHeight: largeMarkers ? '1.5em' : '0.9em',\n\t\t\t\t\t\t\t\t\t\tfontSize: largeMarkers ? '1.5em' : '0.9em',\n\t\t\t\t\t\t\t\t\t\tpaddingTop: largeMarkers ? '2px' : '3px',\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: largeMarkers ? '2px' : '3px',\n\n\t\t\t\t\t\t\t\t\t\ttitlePrefix: wp.currentState === 'rest' ? '' : '',\n\t\t\t\t\t\t\t\t\t\tmapChecked,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleMarkerClick({ ...wp, e })}\n\t\t\t\t\t\t\t\t\tzIndexOffset={300 + idx}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* <Popup position={[wp.lat, wp.lng]}> */}\n\t\t\t\t\t\t\t\t\t\t{/* <h5><Markdown markdown={wp.title} markdownOpts={MARKDOWN_OPTIONS} /></h5>\n\t\t\t\t\t\t\t\t\t\t<Markdown markdown={wp.body} markdownOpts={MARKDOWN_OPTIONS} /> */}\n\t\t\t\t\t\t\t\t\t{/* </Popup> */}\n\t\t\t\t\t\t\t\t</Marker>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</Map>\n\n\t\t\t\t\t{/* {showSearch && <div class='position-absolute' style='bottom: 20px; right: 5px; z-index: 999999;'>\n\t\t\t\t\t\t<button type='button' class='btn btn-sm btn-info' onClick={this.zoomToAllMarkers}><i class='fas fa-search' /></button>\n\t\t\t\t\t\t<button type='button' class='btn btn-sm btn-success ml-1' onClick={this.zoomToFavoriteMarkers}><i class='fas fa-search-location' /></button>\n\t\t\t\t\t</div>} */}\n\t\t\t\t\t{waypoints.length > 0 && <div class='position-absolute' style='bottom: 20px; right: 5px; z-index: 999999;'>\n\t\t\t\t\t\t<button type='button' class='btn btn-sm btn-info' onClick={this.zoomToAllMarkers}><i class='fas fa-crosshairs' /></button>\n\t\t\t\t\t</div>}\n\t\t\t\t\t{waypoints.length >= 3 && <div class='position-absolute' style='bottom: 20px; right: 45px; z-index: 999999;'>\n\t\t\t\t\t\t<button type='button' class='btn btn-sm btn-info' onClick={this.zoomToFirst3Markers}><i class='fas fa-crosshairs' /> 3</button>\n\t\t\t\t\t</div>}\n\t\t\t\t\t{waypoints.length >= 10 && <div class='position-absolute' style='bottom: 20px; right: 105px; z-index: 999999;'>\n\t\t\t\t\t\t<button type='button' class='btn btn-sm btn-info' onClick={this.zoomToFirst10Markers}><i class='fas fa-crosshairs' /> 10</button>\n\t\t\t\t\t</div>}\n\n\t\t\t\t</div>\n\t\t\t\t{showRange && range && range.length > 0 && <>\n\t\t\t\t\t<div class='mb-4'>\n\t\t\t\t\t\t<div class='float-right mt-1'>\n\t\t\t\t\t\t\t<div class='px-1 py-0 float-left' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t{util.format(mapRangeMin, 0)}<span class='text-muted'>{mapColorMode === 'speed' ? 'km/t' : '%'}</span>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{range && range.length > 0 && range.map((val, idx) => (\n\t\t\t\t\t\t\t\t<div class='float-left'>\n\t\t\t\t\t\t\t\t\t<div style={`background-color: ${colors[idx].color}; height: 13px; width: 10px;`} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<div class='px-1 py-0 float-left' style='line-height: 0.8em;'>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t{util.format(mapRangeMax, 0)}<span class='text-muted'>{mapColorMode === 'speed' ? 'km/t' : '%'}</span>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <div class='float-right mt-1 clearfix'>\n\t\t\t\t\t\t\t<button class='btn btn-link' onClick={this.showSpeed}>Show speed</button>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default App;\n\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { dog } = this.props;\n\t\tconst { userStore, dogStore, appState } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n        const { viewmode } = appState;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = dogStore.findWorkoutSummary(dog.id, seasonStart) || {};\n        // {\"0\":{\"year\":2020,\"dog\":16,\"count\":1,\"distanceKm\":9.9,\"elevation\":202,\"duration\":0,\"speedAvg\":0}}\n        const dogStatuses = dog.statuses ? dog.statuses.map(e => userStore.findDogstatus({ status: e, language })) : [];\n        const dogVaccines = dogStore.findVaccineStatuses(dog.id);\n        const dogVaccineLogStatuses = dogStore.findVaccineLogStatuses(dog.chipId);\n        const dogHistoryStatuses = dogStore.findHistoryStatuses(dog.id);\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const teamNames = [];\n        if (userStore.findTeam(dog.team)) {\n            teamNames.push(userStore.findTeam(dog.team));\n        }\n        if (dog.teams) {\n            dog.teams.forEach((e) => {\n                if (userStore.findTeam(e)) {\n                    teamNames.push(userStore.findTeam(e));\n                }\n            });\n        }\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = dog.birth ? Math.ceil(mu.daysUntilNextBirthday(dog.birth)) : 365;\n\n        const { url = `/dogs/${dog.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded text-muted pt-2`} style={dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''}>\n                            {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                            {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'\n                            style={`border-right: 4px solid ${userStore.findHarness(dog.harness, 'colorNonstop')} !important; line-height: 1.2em;`}\n                        >\n                            <span class='float-right'>\n                                {dogPosition && <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>}\n                                {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                \n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                            <a class='stretched-link' href={url}>\n                                <h5 class='mb-1' style='line-height: 1.0em;'>\n                                    {dog.shortname || dog.name} {dog.shortname && dog.shortname !== '' && <> - <span class='font-weight-lighter'>{dog.name}</span></>}\n                                    {hasBirthday && <>\n                                        <i class='fas fa-birthday-cake ml-3' />\n                                    </>}\n                                </h5>\n                            </a>\n                            <div>\n                                {teamNames && teamNames.length > 0 && <small class='font-weight-lighter'>\n                                    {teamNames.map((name, idx) => <>{idx > 0 ? ', ' : ''}{name}</>)}\n                                </small>}\n                                <br />\n                            </div>\n\n                            <small class='text-muted'>\n                                {/* {dog.chipId && <span class='ml-0'><i class='fas fa-microchip' /> {dog.chipId}</span>} */}\n                                {dog.history > 0 && <span class='ml-0'><i class='fas fa-file-signature' /> {dog.history.length}</span>}\n                                {dog.images > 0 && <span class='ml-2'><i class='fas fa-image' /> {dog.images.length}</span>}\n\n                                {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                                {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n\n                                {dog.weight > 0 && <><i class='fas fa-balance-scale ml-2' /> <Weight stores={this.props.stores} value={dog.weight} /></>}\n                                {dog.bodyScore > 0 && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                            </small>\n\n                            {['beta', 'advanced', 'normal'].indexOf(viewmode) > -1 && <>\n                                <div>\n                                    {dogVaccines && dogVaccines.map(v => (\n                                        <span class={`badge badge-success mr-2`} title={util.isoDate(v.endDate, false, false, true)}>\n                                            {v.vaccineType}\n                                            <span class='font-weight-light ml-3'>\n                                                <i class='fas fa-calendar-check' /> {util.isoDate(v.endDate, false, false, true)}                                    \n                                            </span>\n                                        </span>\n                                    ))}\n                                    {dogHistoryStatuses && dogHistoryStatuses.map(v => (\n                                        <span class={`badge badge-warning mr-2`} title={util.isoDate(v.endDate, false, false, true)}>{v.title}</span>\n                                    ))}\n                                </div>\n                            </>}\n\n                            {['beta', 'advanced'].indexOf(viewmode) > -1 && <>\n                                {dog.positions && dog.positions.lead && <div class=''>\n                                    {dog.positions.lead.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-lead'>Lead</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.lead.distanceKm} />\n                                    </span>}\n                                    {dog.positions.point.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-point'>Point</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.point.distanceKm} />\n                                    </span>}\n                                    {dog.positions.team.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-team'>Team</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.team.distanceKm} />\n                                    </span>}\n                                    {dog.positions.wheel.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-wheel'>Wheel</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.wheel.distanceKm} />\n                                    </span>}\n                                </div>}\n                            </>}\n\n                            <div class='clearfix pb-0'>\n                                {dog.specialNeeds && <span class={`badge badge-warning ml-2 mt-1 float-right`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                                {dogStatus && <span class={`badge badge-${dogStatus.class} ml-2 mt-1 float-right`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                                {dogStatuses && dogStatuses.map(status => <>\n                                    <span class={`badge badge-${status.class} ml-2 mt-1 float-right`}>\n                                        {status.icon && <i class={status.icon} />} {status.lang && status.lang[language] ? status.lang[language] : status.name}\n                                    </span>\n                                </>)}\n                            </div>\n\n                            {dogVaccineLogStatuses && dogVaccineLogStatuses.length > 0 && <>\n                                <div class='mt-2'>\n                                    {dogVaccineLogStatuses && dogVaccineLogStatuses.filter(e => e.chipId === dog.chipId).map((vac) => {\n                                        return (\n                                            <span class={`badge badge-${vac.inKarens ? 'warning' : 'success'} mr-2 mb-1`}>\n                                                <i class='fas fa-user-md' /> {vac.vaccineAgens.name}\n                                                {/* <span class='font-weight-lighter ml-2'> */}\n                                                    {/* <i class='fas fa-calendar-check' /> {util.isoDate(vac.vaccineAgens.durationEnd, false, false, true)} */}\n                                                    {/* {vac.inKarens && <>\n                                                        <br />\n                                                        (karens: {util.format(vac.karensDaysLeft, 0)} days left)\n                                                    </>} */}\n                                                {/* </span> */}\n                                            </span>\n                                        );\n                                    })}\n                                </div>\n                            </>}\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport mu from '../../lib/musher-util';\n\nconst STOP_STATUSES = [2, 9];\nconst WARN_STATUSES = [4, 8];\n\n\nfunction getFatigueLevel(wo, dog) {\n    if (dog) {\n        if (STOP_STATUSES.indexOf(dog.status) > -1) {\n            return 'danger';\n        } else if (WARN_STATUSES.indexOf(dog.status) > -1) {\n            return 'warning';\n        }\n    }\n    if (wo) {\n        if (wo.distanceKm > 50) {\n            return 'danger';\n        } else if (wo.distanceKm > 30) {\n            return 'warning';\n        }\n    }\n    return 'success';\n}\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { \n            dog = {},\n            dogs = [],\n            showTeam,\n            showInfo,\n            showName = true,\n            showPosition = true,\n            showAge = false,\n            className,\n            size,\n            onDogClick = () => {},\n        } = this.props;\n\t\tconst { userStore } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = Math.ceil(mu.daysUntilNextBirthday(dog.birth));\n\n        let containerWidth = '92px';\n        let imageClasses = '';\n        let fontSize = '35px';\n        if (size === 'small') {\n            containerWidth = '50px';\n            imageClasses = 'imageRoundedSmall';\n            fontSize = '20px';\n        } else if (size === 'medium') {\n            containerWidth = '60px';\n            imageClasses = 'imageRoundedMedium';\n            fontSize = '25px';\n        }\n\n        return (\n            <div class={`mb-2 position-relative ${className} clearfix`} style={`width: ${containerWidth}`}\n                onTouchstart={(e) => { e.stopPropagation(); }}\n                onTouchend={(e) => { e.stopPropagation(); }}\n                onTouchmove={(e) => { e.stopPropagation(); }}\n            >\n                {/* {JSON.stringify(dog, null, 4)} */}\n                {showPosition && dogPosition && <small class='position-absolute' style='left:0px; top: 50px;'>\n                    <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>\n                </small>}\n                <div\n                    class={`text-center border rounded-circle imageRounded ${imageClasses} mx-auto text-muted pt-2`}\n                    style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                >\n                    {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                    {!dog.image && <span class='font-weight-lighter' style={`font-size: ${fontSize};`}>{util.ucfirst(dog.name, true)}</span>}\n                </div>\n                <div class='text-center text-overflow' style='line-height: 1.0em;'>\n                    <small>\n                        {/* <span class='float-right'>\n                            {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                            {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                        </span> */}\n                        <a href={`/dogs/public/${dog.uuidv4}`} onClick={(e) => onDogClick(e, dog.uuidv4, dogs)} class='stretched-link'>\n                            {showName && <>\n                                <span class='mb-1 font-weight-light'>\n                                    <nobr>\n                                        {dog.shortname || dog.name}\n                                        {hasBirthday && <>\n                                            <i class='fas fa-birthday-cake ml-3' />\n                                        </>}\n                                    </nobr>\n                                </span>\n                            </>}\n                        </a>\n                    </small>\n                </div>\n                <div class='text-center text-overflow' style='line-height: 1.0em;'>\n                    <small>\n                        {dog.birth && showAge && <>\n                            <span class='float-right'>\n                                {/* {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                 */}\n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                        </>}\n\n                        {showTeam && <><span class='font-weight-light'>{userStore.findTeam(dog.team)}</span><br /></>}\n\n                        {showInfo && <small class='text-muted'>\n                            {dog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(dog.weight, 1)} kg</>}\n                            {dog.bodyScore && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                        </small>}\n\n                    </small>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport mu from '../../lib/musher-util';\n\nconst STOP_STATUSES = [2, 9];\nconst WARN_STATUSES = [4, 8];\n\n\nfunction getFatigueLevel(wo, dog) {\n    if (dog) {\n        if (STOP_STATUSES.indexOf(dog.status) > -1) {\n            return 'danger';\n        } else if (WARN_STATUSES.indexOf(dog.status) > -1) {\n            return 'warning';\n        }\n    }\n    if (wo) {\n        if (wo.distanceKm > 50) {\n            return 'danger';\n        } else if (wo.distanceKm > 30) {\n            return 'warning';\n        }\n    }\n    return 'success';\n}\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { \n            dog,\n            showWorkout,\n            showTeam,\n            showNeeds,\n            showInfo,\n            showName = true,\n            showPosition = true,\n            showAge = false,\n            className,\n            size,\n        } = this.props;\n\t\tconst { userStore, dogStore } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n\n        if (!dog) {\n            if (size === 'small') {\n                return (\n                    <div class={`mb-1 position-relative ${className}`} style='width: 50px;'>\n                        <div class={`text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto`}>\n                            <span class='font-weight-lighter' style='font-size: 20px;'>&nbsp;</span>\n                        </div>\n                        {showName && <div class='text-center'>\n                            &nbsp;\n                        </div>}\n                    </div>\n                );\n            }\n            if (size === 'medium') {\n                return (\n                    <div class={`mb-1 position-relative ${className}`} style='width: 60px;'>\n                        <div class={`text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto`}>\n                            <span class='font-weight-lighter' style='font-size: 25px;'>&nbsp;</span>\n                        </div>\n                        {showName && <div class='text-center'>\n                            &nbsp;\n                        </div>}\n                    </div>\n                );\n            }\n            return (\n                <div class={`mb-2 position-relative ${className}`} style='width: 92px;'>\n                    <div class={`text-center border rounded-circle imageRounded text-muted pt-2  mx-auto`}>\n                        <span class='font-weight-lighter' style='font-size: 35px;'>&nbsp;</span>\n                    </div>\n                    {showName && <div class='text-center'>\n                        &nbsp;\n                    </div>}\n                </div>\n            );\n        }\n\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const workoutSummary = dogStore.findCurrentWorkoutSummary(dog.id);\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = Math.ceil(mu.daysUntilNextBirthday(dog.birth));\n\n        if (size === 'small') {\n            return (\n                <div class={`mb-1 position-relative ${className}`} style='width: 50px;'>\n                    <div\n                        class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2`}\n                        style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                    >\n                        {!dog.image && <span class='font-weight-lighter' style='font-size: 20px;'>{util.ucfirst(dog.name, true)}</span>}\n                    </div>\n                </div>\n            );\n        }\n        if (size === 'medium') {\n            return (\n                <div class={`mb-1 position-relative ${className}`} style='width: 60px;'>\n                    <div\n                        class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2`}\n                        style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                    >\n                        {!dog.image && <span class='font-weight-lighter' style='font-size: 20px;'>{util.ucfirst(dog.name, true)}</span>}\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div class={`mb-2 position-relative ${className}`} style='width: 92px;'>\n                {/* {JSON.stringify(dog, null, 4)} */}\n                {showPosition && dogPosition && <small class='position-absolute' style='left:0px; top: 50px;'>\n                    <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>\n                </small>}\n                <div\n                    class={`text-center border border-${getFatigueLevel(workoutSummary, dog)} rounded-circle imageRounded mx-auto text-muted pt-2`}\n                    style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                >\n                    {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                    {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                </div>\n                <div class='text-center' style='line-height: 1.0em;'>\n                    <small>\n                        {/* <span class='float-right'>\n                            {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                            {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                        </span> */}\n                        {showName && <a class='stretched-link' href={`/dogs/${dog.id}`}>\n                            <h5 class='mb-1 font-weight-light' style='line-height: 1.0em; font-size: 1.3em;'>\n                                {dog.shortname || dog.name}\n                                {hasBirthday && <>\n                                    <i class='fas fa-birthday-cake ml-3' />\n                                </>}\n                            </h5>\n                        </a>}\n\n                        {dog.birth && showAge && <>\n                            <span>\n                                {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                \n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                        </>}\n\n                        {showTeam && <><span class='font-weight-light'>{userStore.findTeam(dog.team)}</span><br /></>}\n\n                        {showWorkout && <small class='text-muted'>\n                            {workoutSummary && workoutSummary.distanceKm > 0 && <span class='mr-2'><i class='fas fa-road' /> {util.format(workoutSummary.distanceKm, 0)}km</span>}\n                            {workoutSummary && workoutSummary.elevation > 0 && <span class='mr-2'><i class='fas fa-mountain' /> {util.format(workoutSummary.elevation, 0)}m</span>}\n                            {workoutSummary && workoutSummary.duration > 0 && <span class='mr-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                            {workoutSummary && workoutSummary.speedAvg > 0 && <span class='mr-2'><i class='fas fa-tachometer-alt' /> {util.format(workoutSummary.speedAvg, 1)}km/t</span>}\n                        </small>}\n\n                        {showInfo && <small class='text-muted'>\n                            {dog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(dog.weight, 1)} kg</>}\n                            {dog.bodyScore && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                        </small>}\n\n                        {showNeeds && <div class='clearfix pb-0 pt-1'>\n                            {dog.specialNeeds && <span class={`badge badge-warning mr-2`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                            {dogStatus && <span class={`badge badge-${dogStatus.class} mr-2`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                        </div>}\n                    </small>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gaugeBackground\":\"gaugeBackground__1UGxt\",\"gauge\":\"gauge__2ZDxd\",\"success\":\"success__3UQxg\",\"primary\":\"primary__3pPV6\",\"secondary\":\"secondary__-Vrk_\",\"info\":\"info__3t5zs\",\"warning\":\"warning__1jHlR\",\"danger\":\"danger__BLVC9\",\"gaugeText\":\"gaugeText__1on-w\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\n@observer\nclass Team extends Component {\n    requestFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        this.setState({ requestSent: true });\n    }\n\n    unFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.unollowTeam(teamId);\n        this.setState({ unfollowed: true });\n    }\n\n    getButton = (text = '') => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { team, skipHome, simple, classNames } = this.props;\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            if (skipHome) {\n                return '';\n            }\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (isFollowing) {\n            return (<>\n                <button\n                    class={classNames || `btn btn-block btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Flger</Text> {!simple && <>{text}</>}\n                </button>\n                <button\n                    class={classNames || `btn btn-sm btn-block btn-danger float-right`}\n                    onClick={this.unFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='fas fa-unlink mr-2' />\n                    <Text id='teams.connect.unfollow'>Unfollow</Text>\n                </button>\n            </>);\n        }\n        if (isBlocked) {\n            return '';\n            // return (\n            //     <button\n            //         class={`btn btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text> {text}\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    class={classNames || `btn btn-block btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter p godkjenning</Text> {!simple && <>{text}</>}\n                </button>\n            );\n        }\n        if (team.public) {\n            return (\n                <button\n                    class={classNames || `btn btn-block btn-outline-success float-right`}\n                    onClick={this.requestFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='fas fa-plus mr-2' />\n                    <Text id='teams.connect.follow'>Flg</Text> {!simple && <>{text}</>}\n                </button>\n            );\n        }\n    }\n\n    render() {\n        const { unfollowed } = this.state;\n        const { team, buttonOnly } = this.props;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n        const image = team.image && team.image.s3SmallLink ? team.image : null;\n\n        if (buttonOnly) {\n            return (<>\n                {this.getButton(`${team.name}`)}\n            </>);\n        }\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3'\n                        style={`${unfollowed ? 'text-decoration: line-through; opacity: 0.3;' : ''}`}\n                    >\n                        {/* {JSON.stringify(team, null, 4)} */}\n                        <a href={`/teams/public/${team.uuidv4}`}>\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image.s3SmallLink}\");  background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        </a>\n                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                            <h5 class='mb-1' style='line-height: 1.0em;'>\n                                {team.public ? <>\n                                    <a href={`/teams/public/${team.uuidv4}`}>{team.name}</a>\n                                </> : <>\n                                    {team.name}\n                                </>}\n                            </h5>\n                            <div>\n                                {team.place} {team.country}\n                            </div>\n                            <div>\n                                {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                            </div>\n                            <small class='text-muted'>\n                                {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                {team && team.followers && <span class='ml-2'><i class='fas fa-user' /> {team.followers.length}</span>}\n                            </small>\n                        </div>\n                        <div>\n                            {this.getButton()}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n\tshowAddComment: false,\n};\n\n@withText(() => ({\n    subject: <Text id='ad.subject'>Annonseforesprsel</Text>,\n    body: <Text id='ad.body'>Hei, Jeg nsker  vite mer om annonsering i appen The Musher.</Text>,\n}))\n\n@observer\nclass Ad extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n        this.apiServer = util.getApiServer();\n    }\n\n\tasync loadAd(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { adStore, workoutStore, userStore, appState } = this.props.stores;\n        const { section } = this.props;\n        const { path: url = '' } = appState;\n        const { currentTeam } = workoutStore;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        let team = {};\n        let ambitions;\n        let type;\n        let postalcode;\n        let place;\n        let country;\n        if (currentTeam) {\n            team = userStore.findTeam(currentTeam, true);\n            if (team && team.id) {\n                ambitions = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n                type = userStore.findTeamType({ type: team.type, language });\n                postalcode = team.postalcode;\n                place = team.place;\n                country = team.country;\n            }\n        }\n        // console.log({ currentTeam, team, ambitions,  type, postalcode, place, country });\n        // const { url = '' } = this.props;\n        let page = url.replace(/\\d+$/, 'detail');\n        page = url.replace(/\\/\\d+/, '/detail');\n\n        // props: { \"url\": \"/\" }\n        // props: { \"url\": \"/workouts/\" }\n        // props: { \"url\": \"/workouts/4708\" }\n        // props: { \"url\": \"/dogs\" }\n        // props: { \"url\": \"/dogs/10\" }\n\n\t\tawait adStore.load({ query: { page, section }});\n        adStore.setTime();\n\t\tthis.setState({ isLoading: false });\n\t}\n\n    logClick = async () => {\n        const { adStore, userStore } = this.props.stores;\n        const { ads = [] } = adStore;\n        let id = ads.length > 0 ? ads[0].id : null;\n        const { user = {} } = userStore;\n        await adStore.logClick({ id, user: user.id });\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadAd();\n\t}\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.path !== this.props.path) {\n            this.loadAd(nextProps);\n        }\n    }\n\n    render() {\n        const { adStore, userStore, appState } = this.props.stores;\n        const { subject, body, section } = this.props;\n        const { path } = appState;\n        const { user = {} } = userStore;\n        const { ads = [], time, adViews, adClicks } = adStore;\n        if (!user || !user.id || !ads || ads.length === 0) {\n            if (path.match(/\\/(home)/i)) {\n                return <>\n                    <div class='w-100'>\n                        <div class='row'>\n                            <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative'>\n                                <div class='border rounded-lg p-4 my-3'>\n                                    <span class='float-right display-4 text-warning'>\n                                        <i class='far fa-smile-wink' />\n                                    </span>\n                                    <h5><Text id='ad.heading'>Vil du annonsere her?</Text></h5>\n                                    <div><Text id='ad.teaser'>Det er super enkelt :)</Text></div>\n                                    <Localizer>\n                                        <a href={`mailto:post@themusher.no?subject=${subject}: ${path}: ${section}&body=${body}`} target='_blank' rel='noreferrer'>\n                                            <i class='fas fa-paper-plane' /> <Text id='ad.linktext'>Ta kontakt med The Musher</Text>\n                                        </a>\n                                    </Localizer>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </>;\n            }\n            return <></>;\n        }\n        const ad = ads[0];\n        return (\n            <>\n                <div class='w-100'>\n                    <div class='row'>\n                        <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative'>\n                            <div>\n                                <small><small class='text-muted'>\n                                    <Text id='ad.ad'>Annonse</Text>:\n                                    <img src={`${this.apiServer}/api/ads/${ad.id}/view?user=${user.id}&time=${time}`} style='width: 1; height: 1; opacity: 0.1;' />\n                                </small></small>\n                            </div>\n                            {ad.target ? <>\n                                <a\n                                    class='stretched-link'\n                                    href={`${ad.url}`}\n                                    target={ad.target || '_blank'}\n                                    rel='noopener noreferrer'\n                                    onClick={this.logClick}\n                                    native\n                                >\n                                    {ad.images && ad.images[0] && <>\n                                        <img src={ad.images[0].s3LargeLink} class='img-fluid rounded-lg' />\n                                    </>}\n                                </a>                            \n                            </> : <>\n                                <a\n                                    class='stretched-link'\n                                    href={`${ad.url}`}\n                                    onClick={this.logClick}\n                                >\n                                    {ad.images && ad.images[0] && <>\n                                        <img src={ad.images[0].s3LargeLink} class='img-fluid rounded-lg' />\n                                    </>}\n                                </a>\n                            </>}\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default Ad;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route, Router } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport PubSub, { topics } from '../../lib/pubsub';\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nimport DogSimplePublic from '../../components/dog/simplePublic';\nimport ImageScroller from '../../components/imageScroller';\n// import TeamConnectConfirm from '../../components/team/connect-confirm';\nimport TeamLine from '../../components/team/publicLine';\nimport PublicTeam from '../../components/team/public';\n\nimport Overlay from '../../components/overlay/';\nimport DogPublicDetail from '../dogs/publicDetail';\n\nimport MiniViewGraph from '../../components/dog/miniViewGraph';\n\nconst initialState = {\n    newTeam: {},\n};\n\n@observer\nclass TeamsDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n        this.time = new Date().getTime();\n        this.apiServer = util.getApiServer();\n    }\n\n    async loadPublicView(props) {\n\t\tthis.setState({ isLoading: true });\n        const { teamid } = props;\n\t\tconst { teamStore } = this.props.stores;\n        await teamStore.getPublicViews(teamid);\n\t\tthis.setState({ isLoading: false });\n\t}\n\n    async loadAll(props = this.props) {\n        await this.loadPublicTeam(props);\n        await this.loadPublicView(props);\n    }\n\n    async loadPublicTeam(props = this.props) {\n\t\tconst { teamStore } = props.stores;\n        const { teamid } = props;\n        await teamStore.loadPublicDetail({ id: teamid });\n    }\n\n    // Overlay functions\n    onDogClick = (e, dogid) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n            showDog: dogid,\n        });\n        return false;\n    }\n\n    hideDog = () => {\n        this.setState({\n            showDog: null,\n        });\n    }\n\n    onUserClick = (e, userid) => {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n    }\n    // /Overlay functions\n\n    subscribeNotificationTopic = async (field) => {\n\t\tconst { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { notificationTopics = {} } = user;\n        const value = 1;\n        await userStore.setNotificationTopic({\n            field: `notificationTopics.${field}`,\n            value,\n        });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n    \n\tcomponentDidMount() {\n        const { back = this.back } = this.props;\n        const { appState } = this.props.stores;\n        appState.setSwipeRight(() => {\n            appState.setSwipeRight();\n            back();\n        });\n        this.loadAll();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.teamid !== this.props.teamid) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n        const { showDog } = this.state;\n\t\tconst { teamStore, userStore } = this.props.stores;\n        const { user, isAdmin } = userStore;\n        const { language = 'en' } = user;\n\t\tconst { publicTeam, publicTeamFollowers, publicViewsGraphData, publicViewsGraphLegend } = teamStore;\n        const isTeamAdmin = (publicTeam && publicTeam.members) ? publicTeam.members.some(m => m.id === user.id) : false;\n\n        const { marginTop, marginBottom, back = this.back, hideTeam = () => {} } = this.props;\n\n        const defaultImage = {\n            s3XXLargeLink: './assets/homerun-race-logo.png',\n        };\n\n        const {\n            dogs = [],\n            users = [],\n            image,\n            imageHeader,\n            publicWorkouts,\n            publicWorkoutDetails,\n            publicWorkoutSummary,\n            publicTrophys,\n            publicMemories,\n            publicDogs,\n        } = publicTeam;\n\n        const headerImage = imageHeader && imageHeader.s3XXLargeLink ? imageHeader : defaultImage;\n        const teamImage = image && image.s3LargeLink ? image : null;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: publicTeam.ambitions, language });\n        const teamType = userStore.findTeamType({ type: publicTeam.type, language });\n        const isYourTeam = publicTeam.members && publicTeam.members.findIndex(e => e.id === user.id) > -1;\n        const isFollowing = publicTeam && publicTeam.followers && publicTeam.followers.indexOf(user.id) > -1;\n        const hasRequestedFollow = publicTeam.followRequests && publicTeam.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        const { notificationTopics = {} } = user;\n        const topic = `team-${publicTeam.id}`;\n\n\t\treturn (<>\n            {showDog && <Overlay>\n                <DogPublicDetail stores={this.props.stores} dogid={showDog} marginTop={'0px;'} marginBottom={'0px;'} back={this.hideDog} dogs={dogs} />\n            </Overlay>}\n\n\t\t\t<div class='container-fluid pb-5' style={`margin-bottom: ${marginBottom || MARGIN_BOTTOM}; margin-top: ${marginTop || MARGIN_TOP};`}>\n                <button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n                    onClick={back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n\n                <div class='row mb-0'>\n                    <div class='w-100 position-relative'\n                        style={`height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; ${headerImage ? `background-image: url(\"${headerImage.s3XXLargeLink}\");` : ''}`}\n                    >\n                        {isYourTeam && <>\n                            <a class='btn btn-sm btn-primary position-absolute'\n                                style={`top: 5px; right: 10px;`}\n                                href={`/teams/edit/${publicTeam.id}`}\n                            >\n                                <i class='fas fa-edit' /> <Text id='teams.edit'>Endre</Text>\n                            </a>\n                        </>}                    \n                    </div>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3'>\n                        <div class='row'>\n                            <div class='col-3 col-sm-4 col-md-3 col-lg-4 position-relative'>\n                                <div\n                                    class={`text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition`}\n                                    style={`left: 20px; ${teamImage ? `background-image: url(\"${teamImage.s3LargeLink}\"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;` : ''}`}\n                                >\n                                    {!teamImage && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                                </div>\n                                &nbsp;\n                            </div>\n                            <div class='col-9 col-sm-8 col-md-9 col-lg-8' style='line-height: 1.2em;'>\n                                <h5 class='my-0'>{publicTeam.name}</h5>\n                                <small class='text-muted'>\n                                    {publicTeam.place ? `${publicTeam.place}, ` : ''}{publicTeam.country}\n                                </small><br />\n                                {teamType && <span class='badge badge-pill badge-secondary mt-2'>{teamType}</span>}\n                                {teamAmbition && <span class='badge badge-pill badge-secondary mt-2 ml-2'>{teamAmbition}</span>}\n                                <h6 class='mt-2'>\n                                    <span class='mr-3'><span class='font-weight-bolder'>{publicTeam.followers ? publicTeam.followers.length : 0}</span> <Text id='teams.followers'>followers</Text></span>\n                                    <span class='mr-3'><span class='font-weight-bolder'>{publicTeam.dogs ? publicTeam.dogs.length : 0}</span> <Text id='teams.dogs-menu'>dogs</Text></span>\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n                    {(!notificationTopics || !notificationTopics[topic]) && <>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3'>\n                            <button class='btn btn-block btn-primary btn-sm' onClick={() => this.subscribeNotificationTopic(topic)}>\n                                <Text id='team.notifications'>Subscribe to team notifications</Text>\n                            </button>                    \n                        </div>\n                    </>}\n                </div>\n\n\t\t\t\t<div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        {!isYourTeam && !isFollowing && !hasRequestedFollow && publicTeam.public > 0 && <div class='clearfix mb-2'>\n                            <PublicTeam stores={this.props.stores} team={publicTeam} buttonOnly={true} skipHome={true} />\n                        </div>}\n                    </div>\n                </div>\n\n                {/* <TeamConnectConfirm stores={this.props.stores} /> */}\n\n\t\t\t\t<div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.socialmedia'>Sosialemedier</Text></h5>\n                    </div>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='d-flex justify-content-center'>\n\n                            {isYourTeam && !publicTeam.facebook && <>\n                                <div class='text-center text-muted'>\n                                    <div class='display-1'>\n                                        <i class='fab fa-facebook' />\n                                    </div>\n                                    <h3 class='font-weight-lighter'>\n                                        <Text id='teams.add-sosialmedia'>G inn p endring av teamet for  legge inn en sosialemedier.</Text>\n                                    </h3>\n                                </div>\n                            </>}\n\n                            {publicTeam.url && <div class='mx-2'><h3><a href={mu.asUrl(publicTeam.url)} target='_blank' rel='noreferrer'><i class='fas fa-link' /></a></h3></div>}\n                            {publicTeam.facebook && <div class='mx-2'><h3><a href={mu.asFacebookLink(publicTeam.facebook)} target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a></h3></div>}\n                            {publicTeam.instagram && <div class='mx-2'><h3><a href={mu.asInstagramLink(publicTeam.instagram)} target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a></h3></div>}\n                            {publicTeam.snapchat && <div class='mx-2'><h3><a href={mu.asSnapchatLink(publicTeam.snapchat)} target='_blank' rel='noreferrer'><i class='fab fa-snapchat' /></a></h3></div>}\n                        </div>\n                        <div class='d-flex justify-content-center mt-3'>\n                            <div class='mx-2'><h3><a class='btn btn-outline-success' href={`/stories/team/${publicTeam.uuidv4}`}><i class='fas fa-rss' /> <Text id='story.all-stories'>Stories</Text></a></h3></div>\n                            <div class='mx-2'><h3><a class='btn btn-outline-primary' href={`/teams/workouts/team/${publicTeam.uuidv4}`} onClick={hideTeam}><i class='fas fa-running' /> <Text id='story.all-workouts'>All workouts</Text></a></h3></div>\n                        </div>\n                    </div>\n                </div>\n\n                {publicTeam.imagesSponsor && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.public-sponsor-images' fields={{ total: publicTeam.imagesSponsor.length }}>Sponsorer - {publicTeam.imagesSponsor.length} stk</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0`}>\n                        <ImageScroller stores={this.props.stores} images={publicTeam.imagesSponsor} />\n                    </div>\n                </div>}\n\n                {publicTeam.sponsors && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.sponsors'>Sponsors</Text></h5>\n                    </div>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        {isYourTeam && !publicTeam.sponsors && <>\n                            <div class='text-center text-muted'>\n                                <div class='display-1'>\n                                    <i class='fas fa-pen-nib' />\n                                </div>\n                                <h3 class='font-weight-lighter'>\n                                    <Text id='teams.add-sponsors'>G inn p endring av teamet for  legge inn sponsorer.</Text>\n                                </h3>\n                            </div>\n                        </>}\n                        <Markdown markdown={mu.replaceImages(publicTeam.sponsors, publicTeam.imagesSponsor, language)} markdownOpts={mu.getMarkdownOptions()} />\n                    </div>\n                </div>}\n\n\n\t\t\t\t<div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.description'>Beskrivelse</Text></h5>\n                    </div>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        {isYourTeam && !publicTeam.description && <>\n                            <div class='text-center text-muted'>\n                                <div class='display-1'>\n                                    <i class='fas fa-pen-nib' />\n                                </div>\n                                <h3 class='font-weight-lighter'>\n                                    <Text id='teams.add-description'>G inn p endring av teamet for  legge inn en beskrivelse.</Text>\n                                </h3>\n                            </div>\n                        </>}\n                        <Markdown markdown={mu.replaceImages(publicTeam.description, publicTeam.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                    </div>\n                </div>\n\n\t\t\t\t{publicTeam.descriptionWorkoutplan && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.description-workoutplan'>Workoutplan</Text></h5>\n                    </div>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        {isYourTeam && !publicTeam.descriptionWorkoutplan && <>\n                            <div class='text-center text-muted'>\n                                <div class='display-1'>\n                                    <i class='fas fa-pen-nib' />\n                                </div>\n                                <h3 class='font-weight-lighter'>\n                                    <Text id='teams.add-description-workoutplan'>G inn p endring av teamet for  legge inn en treningsplan.</Text>\n                                </h3>\n                            </div>\n                        </>}\n                        <Markdown markdown={mu.replaceImages(publicTeam.descriptionWorkoutplan, publicTeam.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                    </div>\n                </div>}\n\n\t\t\t\t{publicDogs && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.dogs' fields={{ total: dogs.length }}>Hundene - {dogs.length} stk</Text></h5>\n                    </div>\n\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='row'>\n                            {dogs && dogs.map(dog => (\n                                <DogSimplePublic stores={this.props.stores} dog={dog} showAge={true} className={'col'}\n                                    onDogClick={this.onDogClick} \n                                />\n                            ))}\n                        </div>\n                    </div>\n                </div>}\n\n\t\t\t\t{publicTeam.images && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.public-photos' fields={{ total: publicTeam.images.length }}>Teambilder - {publicTeam.images.length} stk</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0`}>\n                        <ImageScroller stores={this.props.stores} images={publicTeam.images} />\n                    </div>\n\t\t\t\t</div>}\n\n                {publicMemories && publicTeam.achievements && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.achievements'>Achievements</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {publicTeam.achievements && publicTeam.achievements.map(file => {\n                                return (\n                                    <div class='col-12'>\n                                        {file.date && <span class='font-weight-lighter mr-2'>{util.isoDate(file.date, false, false, true)}</span>}\n                                        <span class='mr-2 font-weight-bold'>{file.name}</span>\n                                        <span class='mr-2 font-weight-light'>{file.description}</span>\n                                        {file.url && <span class='mr-2'><a href={mu.asUrl(file.url)} target='_blank' rel='noreferrer' native><i class='fas fa-link' /></a></span>}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\t\t\t\t</div>}\n\n\t\t\t\t{publicTrophys && publicTeam.trophys && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.trophy'>Trophys</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {publicTeam.trophys && publicTeam.trophys.reverse().map(file => {\n                                const img = mu.getTrophyImage(file.name);\n                                if (!img) {\n                                    return '';\n                                }\n                                const textHeader = file.descriptionHeader && file.descriptionHeader[language] ? file.descriptionHeader[language] : '';\n                                const text = file.description && file.description[language] ? file.description[language] : '';\n                                return (\n                                    <div class='col-4 mt-3'>\n                                        <div class='mb-2'>\n                                            <img src={img} class='img-fluid' />\n                                        </div>\n                                        <strong>{textHeader}</strong>\n                                        {/* <small class='font-weight-lighter mr-2'>\n                                            {util.isoDate(file.createdDate, false, false, true)}\n                                        </small> */}\n                                        <small>\n                                            <details>\n                                                <summary><Text id='teams.trophy-details'>Details</Text></summary>\n                                                <Markdown markdown={mu.replaceImages(text, publicTeam.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </details>\n                                        </small>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\t\t\t\t</div>}\n\n                {/* {util.isArray(publicTeamFollowers) && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.followers'>Followers</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        {util.isArray(publicTeamFollowers) && publicTeamFollowers.map(t => \n                            <TeamLine stores={this.props.stores} team={t} myTeamId={publicTeam.id} showBlockButton={false} callback={this.loadTeam} />\n                        )}\n                    </div>\n                </div>} */}\n\n\t\t\t\t<div class='row mt-5 mb-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='text-center text-muted'>\n                            <div class='display-1'>\n                                <i class='fas fa-ellipsis-h' />\n                            </div>\n                            <div style='line-height: 0.9em;'>\n                                <small>\n                                    <Text id='teams.something-missing'>Er det noe du savner p denne siden? Send oss en melding p Facebook.</Text>\n                                </small>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {(isAdmin || isTeamAdmin) && <>\n                    <h5 class='font-weight-lighter text-muted border-bottom'><Text id='teams.visits'>Team page visits</Text></h5>\n                    <MiniViewGraph stores={this.props.stores}\n                        dataLeft={publicViewsGraphData}\n                        legendLeft={['team']}\n                        key={`minigraph-team-${publicTeam.uuidv4}`}\n                    />\n                </>}\n\n                {publicTeam.uuidv4 && <img src={`${this.apiServer}/api/teams/${publicTeam.uuidv4}/view?user=${user.id}&time=${this.time}`} style='width: 1; height: 1; opacity: 0.1;' />}\n\t\t\t</div>\n\t\t</>);\n\t}\n}\n\nexport default TeamsDetail;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n\trequestSent: {},\n    confirmed: {},\n    deleted: {},\n    submenu: 'notfollowing',\n};\n\n@observer\nclass TeamLine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n    }\n\n    requestFollowTeam = async (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        const { requestSent } = this.state;\n        requestSent[teamId] = true;\n        this.setState({ requestSent });\n    }\n\n    confirmRequest = async (e) => {\n        const { callback = () => {} } = this.props;\n        const { team, user } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        const { confirmed, deleted } = this.state;\n\t\tconfirmed[`${team}-${user}`] = true;\n        delete deleted[`${team}-${user}`];\n        this.setState({ confirmed, deleted });\n        await teamStore.confirmFollowRequest({\n            team: parseInt(team, 10),\n            user: parseInt(user, 10),\n        });\n        callback();\n    }\n\n    deleteRequest = async (e) => {\n        const { callback = () => {} } = this.props;\n        const { team, user } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        const { deleted, confirmed } = this.state;\n\t\tdeleted[`${team}-${user}`] = true;\n        delete confirmed[`${team}-${user}`];\n        this.setState({ deleted, confirmed });\n        await teamStore.deleteFollowRequest({\n            team: parseInt(team, 10),\n            user: parseInt(user, 10),\n        });\n        callback();\n    }\n\n    unFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.unollowTeam(teamId);\n        this.setState({ unfollowed: true });\n    }\n\n    getUnblockButton = (userId, myTeamId) => {\n        const { confirmed } = this.state;\n        const isConfirmed = confirmed[`${myTeamId}-${userId}`];\n        return <>\n            {isConfirmed ? <>\n                <small class='text-success'>\n                    <i class='fas fa-check' /> <Text id='teams.connect.confirmed'>Confirmed</Text>\n                </small>\n            </> : <>\n                <button class='btn btn-sm btn-block btn-success text-overflow mt-1'\n                    onClick={this.confirmRequest}\n                    data-team={myTeamId}\n                    data-user={userId}>\n                    <Text id='teams.connect.confirm'>Confirm</Text>\n                </button>\n            </>}\n        </>;\n    }\n\n    getButton = (team) => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent[team.id] || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (!team.public) {\n            return (<>\n                <small class='text-muted'>\n                    <Text id='teams.not-public'>Ikke offentlig</Text>\n                </small>\n            </>);\n        }\n        if (isFollowing) {\n            return (<>\n                <button\n                    class={`btn btn-sm btn-block btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Flger</Text>\n                </button>\n                <button\n                    class={`btn btn-sm btn-block btn-outline-danger float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <Text id='teams.connect.unfollow'>Unfollow</Text>\n                </button>\n            </>);\n        }\n        if (isBlocked) {\n            return (<></>);\n            // return (\n            //     <button\n            //         class={`btn btn-sm btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text>\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    class={`btn btn-sm btn-block btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter p godkjenning</Text>\n                </button>\n            );\n        }\n        return (\n            <button\n                class={`btn btn-sm btn-block btn-outline-success float-right`}\n                onClick={this.requestFollowTeam}\n                data-team={team.id}\n            >\n                <i class='far fa-hand-point-right mr-2' />\n                <Text id='teams.connect.follow'>Flg</Text>\n            </button>\n        );\n    }\n\n\trender() {\n        const { deleted = {}, unfollowed } = this.state;\n        const { team, isBlocked, myTeamId, showBlockButton } = this.props;\n        const { storyStore } = this.props.stores;\n\n        const user = storyStore.findPublicUser(team.user) || team.user || {};\n        let image;\n        if (team.image && team.image.s3SmallLink) {\n            image = team.image;\n        } else if (team.images && team.images[0] && team.images[0].s3SmallLink) {\n            image = team.images[0];\n        } else if (user.image && user.image.s3SmallLink) {\n            image = user.image;\n        } else if (user.images && user.images[0] && user.images[0].s3SmallLink) {\n            image = user.images[0];\n        }\n        let shortname;\n        let name;\n        let username;\n        if (team && team.name) {\n            shortname = mu.displayNameShort(team);\n            name = mu.displayName(team);\n            username = mu.displayName(user);\n        } else if (user && user.id) {\n            shortname = mu.displayNameShort(user);\n            name = mu.displayName(user);\n        }\n\n        const isDeleted = deleted[`${myTeamId}-${user.id}`];\n\n        return (\n            <div class='col-12 mb-2 pb-2 border-bottom'\n                style={`${unfollowed ? 'text-decoration: line-through; opacity: 0.3;' : ''}`}\n            >\n                <div class='d-flex position-relative'>\n                    <div\n                        class={`text-center border rounded-circle imageRounded imageRoundedMedium`}\n                        style={image ? `background-image: url(\"${image.s3MediumLink}\"); background-size: cover;` : ''}\n                    >\n                        {!image && <div class='text-muted' style='font-size: 20px; padding-top: 3px;'>{shortname}</div>}\n                    </div>\n                    <div class='flex-grow-1 pl-3 text-overflow' style='line-height: 1.2em;'>\n                        <h5 class='mb-0'>\n                            {team.public ? <>\n                                <a href={`/teams/public/${team.uuidv4}`}>{name}</a>\n                            </> : <>\n                                {name}\n                            </>}                                         \n                        </h5>\n                        <div>\n                            {team.place ? `${team.place}, ` : ''} {team.country} &nbsp;\n                        </div>\n                        <div>\n                            <small class='text-muted'>\n                                {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                {team && team.followers && <span class='ml-2'><i class='fas fa-user' /> {team.followers.length}</span>}\n                                {username && <>\n                                    <small class='ml-2 text-muted'>\n                                        {username}\n                                    </small>\n                                </>}\n                                {showBlockButton && <>\n                                    {isDeleted ? <>\n                                        <small class='text-danger ml-3'>\n                                            <i class='fas fa-ban' /> <Text id='teams.connect.deleted'>Deleted</Text>\n                                        </small>\n                                    </> : <>\n                                        <button class='btn btn-sm btn-link text-overflow p-0 text-muted ml-3'\n                                            style='font-size: 0.8em;'\n                                            onClick={this.deleteRequest}\n                                            data-team={myTeamId}\n                                            data-user={user.id}\n                                        >\n                                            <i class='fas fa-ban' /> <Text id='teams.connect.block'>Blokkere</Text>\n                                        </button>\n                                    </>}\n                                </>}\n                            </small>\n                        </div>\n                    </div>\n                    <div>\n                        {isBlocked ? <>\n                            {this.getUnblockButton(user.id, myTeamId)}\n                        </> : <>\n                            {this.getButton(team)}\n                        </>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TeamLine;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n","import { h, Component } from 'preact';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport util from 'preact-util';\n\nimport DragNDropFileupload from './dragNdropFileupload';\n\n@observer\nclass Images extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            files: [],\n        };\n    }\n    \n    handleAddImage = (file) => {\n        const { addToImages = true } = this.props;\n\n        // <Images saved={saved} object={dog} field={field} updateField={updateField} />\n        // updateFieldValue = ({ id, field, value, datatype, elementtype, isNew = false, skipTimer = false }) => {\n        const {\n            updateField,\n            object,\n            field,\n        } = this.props;\n\n        if (field) {\n            updateField({ id: object.id, field, value: file, skipTimer: true });\n        }\n\n        // let images = toJS(object.images);\n        // if (!util.isArray(images)) {\n        //     images = [];\n        // }\n        if (addToImages) {\n            const images = [];\n            images.push(file);\n            updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n        }\n        // const allImages = [];\n        // allImages.push(file);\n        // updateField({ id: object.id, field: 'allImages', value: allImages, skipTimer: true });\n    };\n\n    render() {\n        const { uploadStatus = () => {}, before = () => {}, after = () => {}, autoOpen = true } = this.props;\n        return (\n            <div class='row'>\n                <div class='col-12'>\n                    <DragNDropFileupload\n                        handleAddImage={this.handleAddImage}\n                        uploadStatus={uploadStatus}\n                        apiUrl={'/api/fileupload'}\n                        before={before}\n                        after={after}\n                        autoOpen={autoOpen}\n                    >\n                        <div style={{ height: 30, width: '100%' }}>\n                            {/* {files.map((file, idx) => (\n                                <div key={idx}>\n                                    {file.name}\n                                    Total: {util.asString(file, 'load', 'total')}\n                                    <img style='width: 48px;'\n                                        alt='Preview'\n                                        key={file.preview}\n                                        src={file.src}\n                                    />\n                                </div>\n                            ))} */}\n                        </div>\n                    </DragNDropFileupload>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Images;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\n@observer\nclass Overlay extends Component {\n    render() {\n        const { children } = this.props;\n        return (\n            <div\n                class='w-100 h-100 fixed-top bg-light skipRefresh'\n                style={`\n                    margin-bottom: ${MARGIN_BOTTOM};\n                    margin-top: ${MARGIN_TOP};\n                    height: calc(100vh - ${MARGIN_TOP}) !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                `}\n            >\n                {children}\n            </div>\n        );\n    }\n}\n\nexport default Overlay;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport WorkoutReplyComment from '../../components/workout/commentReply';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n    showAddComment: {},\n    showAllComments: false,\n    showAllReplies: {},\n    viewImageIdx: {},\n};\n\nconst MAX_COMMENTS = 1;\n\n@observer\nclass WorkoutComments extends Component {\n     constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.inputRef = {};\n    }\n\n    likeComment = async (e) => {\n        const { callback = () => {} } = this.props;\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\n        const { workout } = this.props;\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst response = await workoutStore.likeWorkoutComment({ id: workout.id, commentId });\n\n\t\tif (response && response.status === 200) {\n            callback({ type: 'likeComment', workout, commentId, response });\n\t\t}\n        return true;\n    }\n\n    likeReply = async (e) => {\n        const { callback = () => {} } = this.props;\n\n        const replyId = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const commentId = e.target.parentElement.dataset.comment || e.target.dataset.comment;\n\n        const { workout } = this.props;\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst response = await workoutStore.likeWorkoutCommentReply({ id: workout.id, replyId, commentId });\n\n        if (response && response.status === 200) {\n            callback({ type: 'likeReply', workout, commentId, replyId, response });\n\t\t}\n    }\n\n    replyComment = async (e) => {\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\n        const { showAddComment } = this.state;\n        showAddComment[commentId] = !showAddComment[commentId];\n\t\tthis.setState({\n\t\t\tshowAddComment,\n\t\t}, () => {\n            if (this.inputRef[commentId]) {\n                this.inputRef[commentId].focus();\n            }\n\t\t});\n    }\n\n    toggleComments = () => {\n\t\tconst { showAllComments } = this.state;\n\t\tthis.setState({\n\t\t\tshowAllComments: !showAllComments,\n\t\t});\n\t}\n\n    toggleReplies = (e) => {\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAllReplies } = this.state;\n        showAllReplies[commentId] = !showAllReplies[commentId];\n\t\tthis.setState({\n\t\t\tshowAllReplies,\n\t\t});\n\t}\n\n    viewImage = (e) => {\n\t\tconst { id, idx } = e.target.closest('img').dataset;\n        const { viewImageIdx } = this.state;\n        viewImageIdx[id] = idx;\n        this.setState({ viewImageIdx });\n    }\n\n    translate = async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { replyid, commentid } = e.target.closest('button').dataset;\n        const { workout } = this.props;\n        const { userStore, teamStore } = this.props.stores;\n        const { user } = userStore;\n        const { showOriginal = {}, translatedText = {} } = this.state;\n        const key = `${commentid}${replyid ? `-${replyid}`: ''}`;\n        showOriginal[key] = 0;\n        if (replyid) {\n            translatedText[key] = await teamStore.translateCommentReply({ commentid, replyid, object: workout, user });\n        } else {\n            translatedText[key] = await teamStore.translateComment({ commentid, object: workout, user });\n        }\n        this.setState({ showOriginal, translatedText });\n    }\n\n    showOriginal = (e) => {\n        const { replyid, commentid } = e.target.closest('button').dataset;\n        e.preventDefault();\n        e.stopPropagation();\n        const { showOriginal = {} } = this.state;\n        showOriginal[`${commentid}${replyid ? `-${replyid}`: ''}`] = 1;\n        this.setState({ showOriginal });\n    }\n\n    render() {\n        const { showAddComment, showAllComments, showAllReplies, viewImageIdx, showOriginal = {}, translatedText = {} } = this.state;\n\t\tconst { workout, callback = () => {}, col = 12, offset = 0, compact = false } = this.props;\n        const { userStore, teamStore } = this.props.stores;\n        const { user: currentUser, isAdmin } = userStore;\n        const { language = 'en' } = currentUser;\n\n        let filteredComments = [];\n        let totalComments = 0;\n        let diplayedComments = 0;\n        let max_comments;\n        if (workout.comments) {\n            totalComments = workout.comments.length;\n            if (showAllComments) {\n                filteredComments = workout.comments;\n            } else {\n                // filteredComments = workout.comments.slice(0, MAX_COMMENTS);\n                max_comments = compact ? 0 : MAX_COMMENTS;\n                filteredComments = workout.comments.slice(Math.max(totalComments - max_comments, 0));\n            }\n            diplayedComments = filteredComments.length;\n        }\n\n        return (\n            <div>\n                {/* {showAllComments && <div>\n                    <button class='btn btn-sm btn-link py-0 mb-2'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.hide-all-comments'>Skjul alle kommentarene.</Text>\n                    </button>\n                </div>} */}\n                {workout && filteredComments && filteredComments.reverse().map((comment) => {\n                    const { user = {} } = comment;\n                    const teams = teamStore.findPublicTeamByMembers(user.id);\n                    const displayNameShort = mu.displayNameShort(user);\n                    const displayName = mu.displayName(user);\n                    const userImage = user.image || (user.images ? user.images[0] : undefined);\n                    const hasLikedComment = comment.likes && comment.likes.findIndex(e => e.user === currentUser.id) > -1;\n\n                    let filteredReplises = [];\n                    let totalReplies = 0;\n                    let diplayedReplies = 0;\n                    if (comment.comments) {\n                        totalReplies = comment.comments.length;\n                        if (showAllReplies[comment.id]) {\n                            filteredReplises = comment.comments;\n                        } else {\n                            filteredReplises = comment.comments.slice(0, max_comments);\n                        }\n                        diplayedReplies = filteredReplises.length;\n                    }\n\n                    const images = [];\n                    if (comment.images) {\n                        const imgs = toJS(comment.images);\n                        images.push(...imgs);\n                    }\n                    const imageIdx = viewImageIdx[comment.id] ? viewImageIdx[comment.id] : 0;\n                    const currentImage = images && images[imageIdx] ? images[imageIdx] : null;\n\n                    const { currentLocationGeocode = {} } = comment;\n\n                   const translation = teamStore.getCommentTranslations({\n                        object: workout,\n                        commentid: comment.id,\n                        targetLang: language,\n                    }) || translatedText[comment.id];\n                    let body = translation || comment.comment;\n                    if (showOriginal[comment.id]) {\n                        body = comment.comment;\n                    }\n\n                    return (\n                        <div class='row'>\n                            <div class='col-12 d-flex mb-2 position-relative'>\n                                <div \n                                    class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                                    style={`${userImage ? `background-image: url(\"${userImage.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n                                >\n                                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                                </div>\n                                <div class='flex-grow-1 pl-3 pt-0' style='line-height: 1.2em;'>\n                                    <div class='bg-light p-2 rounded rounded-lg'>\n                                        <div>\n                                            <span style='font-size: 0.95em;'>\n                                                <h5 class='font-weight-bold mb-0' style='font-size: 1.0em;'>\n                                                    {displayName}\n                                                </h5>\n\n                                                {teams && teams.length > 0 && <div class='mb-2'>\n                                                    <small class='font-weight-lighter text-muted'>\n                                                        {teams.filter(e => e.public === 1).slice(0, 2).map(t => <>\n                                                            <a href={`/teams/public/${t.uuidv4}`} class='mr-2'><i class='fas fa-users text-muted' /> {t.name}</a>\n                                                        </>)}\n                                                    </small>\n                                                </div>}\n\n                                                <Markdown markdown={mu.replaceImages(body, comment.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </span>\n                                        </div>\n                                        <div class='container-fluid px-3 mt-1'>\n                                            {currentImage && <div class='clearfix row'>\n                                                <div\n                                                    class={`col-12 px-0 overflow-hidden`}\n                                                    style={`max-height: 30vh;`}                                                    \n                                                >\n                                                    <img loading='lazy' class={`img-fluid`} style='min-width: 100px;' src={currentImage.s3LargeLink} />\n                                                </div>\n                                            </div>}\n                                            {images && images.length > 1 && <div class='clearfix d-flex flex-wrap row'>\n                                                {images.map((img, idx) => {\n                                                    return (<>\n                                                        <div\n                                                            class={`col px-0 overflow-hidden`}\n                                                            style={`max-height: 100px; min-width: 100px;`}\n                                                        >\n                                                            <img loading='lazy' class={`img-fluid border`} style='min-width: 100px;' src={img.s3SmallLink} onClick={this.viewImage} data-id={comment.id} data-idx={idx} />\n                                                        </div>\n                                                    </>);\n                                                })}\n                                            </div>}\n                                        </div>\n                                    </div>\n                                    <small>\n                                        <button class={`btn btn-sm btn-link py-0 ${hasLikedComment ? 'text-primary' : ''}`}\n                                            onClick={this.likeComment}\n                                            data-id={comment.id}\n                                        >\n                                            <Text id='comments.like'>Lik</Text>\n                                        </button>\n                                        -\n                                        <button class='btn btn-sm btn-link py-0'\n                                            onClick={this.replyComment}\n                                            data-id={comment.id}\n                                        >\n                                            <Text id='comments.comment-add'>Kommentar</Text>\n                                        </button>\n                                        {comment.language !== language && <>\n                                            -\n                                            {!showOriginal[comment.id] && translation ? <>\n                                                <button\n                                                    type='button'\n                                                    class='btn btn-sm btn-link'\n                                                    data-commentid={comment.id}\n                                                    onClick={this.showOriginal}\n                                                >\n                                                    <i class='fas fa-cog' />  <Text id='home.translate-show-original'>Show original</Text>\n                                                </button>\n                                            </> : <>\n                                                <button\n                                                    type='button'\n                                                    class='btn btn-sm btn-link'\n                                                    onClick={this.translate}\n                                                    data-commentid={comment.id}\n                                                >\n                                                    <i class='fas fa-cog' /> <Text id='home.translate-to'>See translation</Text>\n                                                </button>\n                                            </>}\n                                        </>}\n                                        -\n                                        <button class='btn btn-sm btn-link py-0 disabled'>\n                                            {util.formatDistance(comment.createdDate, new Date(), { locale: 'no-NB' })}\n                                            {comment.updatedDate && <>\n                                                <span class='font-weight-light ml-2'>(Edited {util.formatDistance(comment.updatedDate, new Date(), { locale: 'no-NB' })})</span>\n                                            </>}\n                                        </button>\n                                        {isAdmin && currentLocationGeocode && currentLocationGeocode.formatted_address && <>\n                                            <span class='ml-2 text-muted'>\n                                                <i class='fas fa-map-marker-alt' /> {currentLocationGeocode.formatted_address}\n                                            </span>\n                                        </>}\n                                    </small>\n                                </div>\n                                {comment.likes && comment.likes.length > 0 && <small class='position-absolute bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                    <i class='fas fa-thumbs-up text-primary' /> {comment.likes.length}\n                                </small>}\n                            </div>\n                            <div class='col-11 offset-1 mb-2'>\n\n                                {comment && filteredReplises && filteredReplises.map((reply) => {\n                                    const { user = {} } = reply;\n                                    const teams = teamStore.findPublicTeamByMembers(user.id);\n                                    const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n                                    const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n                                    const userImage = user.image || (user.images ? user.images[0] : undefined);\n                                    const hasLikedReply = reply.likes && reply.likes.findIndex(e => e.user === currentUser.id) > -1;\n\n                                    const replyTranslation = teamStore.getCommentReplyTranslations({\n                                        object: workout,\n                                        commentid: comment.id,\n                                        replyid: reply.id,\n                                        targetLang: language,\n                                    }) || translatedText[`${comment.id}-${reply.id}`];\n                                    let replyBody = replyTranslation || reply.comment;\n                                    if (showOriginal[`${comment.id}-${reply.id}`]) {\n                                        replyBody = reply.comment;\n                                    }\n\n                                    return (\n                                        <div class='row'>\n                                            <div class='col-12 d-flex mb-2 position-relative'>\n                                                <div \n                                                    class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                                    style={`${userImage ? `background-image: url(\"${userImage.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n                                                >\n                                                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                                                </div>\n                                                <div class='flex-grow-1 pl-3 pt-0' style='line-height: 1.2em;'>\n                                                    <div class='bg-light p-2 rounded-lg'>\n                                                        <span style='font-size: 0.95em;'>\n                                                            <h5 class='font-weight-bold mb-0' style='font-size: 1.0em;'>\n                                                                {displayName}\n                                                            </h5>\n\n                                                            {teams && teams.length > 0 && <div class='mb-2'>\n                                                                <small class='font-weight-lighter text-muted'>\n                                                                    {teams.filter(e => e.public === 1).slice(0, 2).map(t => <>\n                                                                        <a href={`/teams/public/${t.uuidv4}`} class='mr-2'>\n                                                                            <i class='fas fa-users text-muted' /> {t.name}\n                                                                        </a>\n                                                                    </>)}\n                                                                </small>\n                                                            </div>}\n\n                                                            <Markdown markdown={mu.replaceImages(replyBody, reply.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                                        </span>\n                                                    </div>\n                                                    <small>\n                                                        <button class={`btn btn-sm btn-link py-0 ${hasLikedReply ? 'text-primary' : ''}`}\n                                                            onClick={this.likeReply}\n                                                            data-comment={comment.id}\n                                                            data-id={reply.id}\n                                                        >\n                                                            <Text id='comments.like'>Lik</Text>\n                                                        </button>\n                                                        -\n                                                        <button class='btn btn-sm btn-link py-0'\n                                                            onClick={this.replyComment}\n                                                            data-id={comment.id}\n                                                        >\n                                                            <Text id='comments.comment-add'>Kommentar</Text>\n                                                        </button>\n                                                        {reply.language !== language && <>\n                                                            -\n                                                            {!showOriginal[`${comment.id}-${reply.id}`] && replyTranslation ? <>\n                                                                <button\n                                                                    type='button'\n                                                                    class='btn btn-sm btn-link'\n                                                                    data-commentid={comment.id}\n                                                                    data-replyid={reply.id}\n                                                                    onClick={this.showOriginal}\n                                                                >\n                                                                    <i class='fas fa-cog' />  <Text id='home.translate-show-original'>Show original</Text>\n                                                                </button>\n                                                            </> : <>\n                                                                <button\n                                                                    type='button'\n                                                                    class='btn btn-sm btn-link'\n                                                                    onClick={this.translate}\n                                                                    data-commentid={comment.id}\n                                                                    data-replyid={reply.id}\n                                                                >\n                                                                    <i class='fas fa-cog' /> <Text id='home.translate-to'>See translation</Text>\n                                                                </button>\n                                                            </>}\n                                                        </>}\n                                                        -\n                                                        <button class='btn btn-sm btn-link py-0 disabled'>\n                                                            {util.formatDistance(reply.createdDate, new Date(), { locale: 'no-NB' })}\n                                                        </button>\n                                                    </small>\n                                                </div>\n                                                {reply.likes && <small class='position-absolute bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                                    <i class='fas fa-thumbs-up text-primary' /> {reply.likes.length}\n                                                </small>}\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                                {totalReplies - diplayedReplies > 0 && <div>\n                                    <button class='btn btn-sm btn-link py-0'\n                                        onClick={this.toggleReplies}\n                                        data-id={comment.id}\n                                    >\n                                        <Text id='comments.show-more' fields={{ more: totalReplies - diplayedReplies }}>\n                                            Vis {totalReplies - diplayedReplies} flere kommentarer...\n                                        </Text>\n                                    </button>\n                                </div>}\n\n                            </div>\n                            {showAddComment[comment.id] && <div class='col-11 offset-1 d-flex mb-2 position-relative'>\n                                <WorkoutReplyComment stores={this.props.stores} workout={workout}\n                                    callback={callback}\n                                    commentId={comment.id}\n                                    inputRef={c => this.inputRef[comment.id] = c}\n                                    inputRefObject={this.inputRef}\n                                />\n                            </div>}\n                        </div>\n                    );\n                })}\n                {totalComments - diplayedComments > 0 && <div>\n                    <button class='btn btn-sm btn-link py-0'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.show-more' fields={{ more: totalComments - diplayedComments }}>\n                            Vis {totalComments - diplayedComments} flere kommentarer...\n                        </Text>\n                    </button>\n                </div>}\n                {showAllComments && <div>\n                    <button class='btn btn-sm btn-link py-0'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.hide-all-comments'>Skjul alle kommentarene.</Text>\n                    </button>\n                </div>}\n            </div>\n        );\n    }\n}\n\nexport default WorkoutComments;\n","import { h, Component, createRef } from 'preact';\nimport { observer } from 'mobx-preact';\nimport util from 'preact-util';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nconst debug = false;\nconst debugName = 'Images';\n\n@observer\nclass DragNDropFileupload extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            drag: false,\n            loadingProgress: 0,\n            uploadedFiles: [],\n            uploadedFilesData: {},\n        };\n    }\n\n    dropRef = createRef();\n\n    handleDrag = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    handleDragIn = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.dragCounter++;\n        if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n            this.setState({ drag: true });\n        }\n    }\n\n    handleDragOut = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.dragCounter--;\n        if (this.dragCounter === 0) {\n            this.setState({ drag: false });\n        }\n    }\n\n    handleDrop = (e) => {\n        if (debug) {\n            console.log(`${debugName}.handleDrop: event`, e);\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({ drag: false });\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n            // this.props.handleDrop(e.dataTransfer.files);\n            // e.dataTransfer.clearData();\n            for (let i = 0, l = e.dataTransfer.files.length; i < l; i += 1) {\n                const photo = e.dataTransfer.files[i];\n                // if (photo.type.match('image.*')) {\n                this.readLocalFile(photo);\n                // }\n            }\n            this.dragCounter = 0;\n        }\n    }\n\n    // Upload\n    handleAddFiles = (event) => {\n        event.preventDefault();\n        const el = event.target;\n        if (debug) {\n            console.log(`${debugName}.handleAddFiles: event, el`, event, el);\n        }\n        for (let i = 0, l = el.files.length; i < l; i += 1) {\n            const photo = el.files[i];\n            // if (photo.type.match('image.*')) {\n            this.readLocalFile(photo);\n            // }\n        }\n    }\n\n    handleEvent = (e, fileObject) => {\n        if (debug) {\n            console.log(`${debugName}.handleEvent[${fileObject.name}]: ${e.type}: `\n                + `${e.loaded} bytes transferred of ${e.total}. Is lengthComputable: ${e.lengthComputable}: `\n                + `${JSON.stringify(e)}`);\n        }\n    }\n\n    handleUpload = (fileObject) => {\n        if (debug) {\n            console.log(`${debugName}.handleUpload[${fileObject.name}]`);\n        }\n\n        const { uploadStatus = () => {}, before = () => {}, after = () => {} } = this.props;\n        uploadStatus(false);\n\n        if (util.isFunction(before)) {\n            before();\n        }\n\n        const formData = new FormData();\n        formData.append('files[]', fileObject);\n        const uploadMeta = {\n            progress: 1,\n        };\n\n        uploadMeta.xhr = new XMLHttpRequest();\n\n        uploadMeta.xhr.upload.addEventListener('progress', (event) => {\n            const fileObj = fileObject;\n            this.updateProgress(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('loadstart', (event) => {\n            const fileObj = fileObject;\n            this.handleEvent(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('load', (event) => {\n            const fileObj = fileObject;\n            this.handleEvent(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('loadend', (event) => {\n            const fileObj = fileObject;\n            if (util.isFunction(after)) {\n                after();\n            }\n            this.handleEvent(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('progress', (event) => {\n            const fileObj = fileObject;\n            this.handleEvent(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('error', (event) => {\n            const fileObj = fileObject;\n            this.handleEvent(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('abort', (event) => {\n            const fileObj = fileObject;\n            this.handleEvent(event, fileObj);\n        });\n        uploadMeta.xhr.addEventListener('readystatechange', (event) => {\n            const fileObj = fileObject;\n            this.uploadDone(event, fileObj);\n        });\n\n        uploadMeta.xhr.open('POST', `${util.getApiServer()}${this.props.apiUrl}`);\n        uploadMeta.xhr.setRequestHeader('Authorization', `Bearer ${util.getJwtToken()}`);\n        uploadMeta.xhr.send(formData);\n\n        const filename = fileObject.name;\n        const uploadedFilesData = this.state.uploadedFilesData;\n        if (!uploadedFilesData[filename]) {\n            uploadedFilesData[filename] = {};\n        }\n        uploadedFilesData[filename].uploadMeta = uploadMeta;\n        uploadedFilesData[filename].imageNum = this.state.imageNum;\n        this.setState({ uploadedFilesData });\n    }\n\n    // eslint-disable-next-line\n    readLocalFile = (fileObject) => {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n\n            reader.addEventListener('error', (error) => {\n                if (debug) {\n                    console.log(`${debugName}.FileReader: Error occurred reading file: ${fileObject.name}: ${error}`);\n                }\n                reject(error);\n            });\n\n            reader.addEventListener('load', (event) => {\n                if (debug) {\n                    console.log(`${debugName}.FileReader: File: ${fileObject.name} read successfully: `\n                        + `${JSON.stringify(event)}`);\n                }\n                const photo = fileObject;\n                const filename = photo.name;\n                const uploadedFilesData = this.state.uploadedFilesData;\n                if (!uploadedFilesData[filename]) {\n                    uploadedFilesData[filename] = {};\n                }\n                uploadedFilesData[filename].event = event;\n                this.setState({ uploadedFilesData });\n                this.handleUpload(photo);\n                resolve(event);\n            });\n\n            reader.readAsDataURL(fileObject);\n        });\n    }\n\n    updateProgress = (event, fileObject) => {\n        if (event.lengthComputable) {\n            const filename = fileObject.name;\n            const uploadedFilesData = this.state.uploadedFilesData;\n            const percentComplete = (event.loaded / event.total) * 100;\n            if (debug) {\n                console.log(`${debugName}.updateProgress[${filename}].progress`, percentComplete);\n            }\n            uploadedFilesData[filename].uploadMeta.progress = percentComplete;\n            this.setState({ uploadedFilesData });\n        }\n    }\n\n    uploadDone = (event, fileObject) => {\n        const filename = fileObject.name;\n        const uploadedFilesData = this.state.uploadedFilesData;\n        const uploadMeta = uploadedFilesData[filename].uploadMeta;\n        if (debug) {\n            console.log(`${debugName}.uploadDone[${filename}].uploadedFilesData`, uploadedFilesData);\n            console.log(`${debugName}.uploadDone[${filename}].uploadMeta`, uploadMeta);\n            console.log(`${debugName}.uploadDone.event`, event);\n        }\n\n        if (uploadMeta && uploadMeta.xhr.readyState === 4 && uploadMeta.xhr.status === 201) {\n            const response = JSON.parse(uploadMeta.xhr.responseText);\n            const files = response.data.files;\n            for (let i = 0; i < files.length; i += 1) {\n                const file = files[i];\n                this.addFileToUpload(file);\n                this.fileInput.value = '';\n            }\n        }\n    }\n\n    addFileToUpload(file) {\n        if (debug) {\n            console.log(`${debugName}.addFileToUpload[${file.name}]`);\n        }\n        const { uploadedFilesData } = this.state;\n        const { handleAddImage, uploadStatus = () => {} } = this.props;\n\n        delete uploadedFilesData[file.name];\n        this.setState({ uploadedFilesData });\n        handleAddImage(file);\n        uploadStatus(true);\n    }\n    // /Upload\n\n    componentDidMount() {\n        const div = this.dropRef.current;\n        div.addEventListener('dragenter', this.handleDragIn);\n        div.addEventListener('dragleave', this.handleDragOut);\n        div.addEventListener('dragover', this.handleDrag);\n        div.addEventListener('drop', this.handleDrop);\n\n        const { autoOpen } = this.props;\n\n        if (autoOpen) {\n            setTimeout(() => {\n                // console.log('[setTimeout]');\n                this.fileInput.click();\n            }, 10);\n        }\n    }\n\n    componentWillUnmount() {\n        const div = this.dropRef.current;\n        div.removeEventListener('dragenter', this.handleDragIn);\n        div.removeEventListener('dragleave', this.handleDragOut);\n        div.removeEventListener('dragover', this.handleDrag);\n        div.removeEventListener('drop', this.handleDrop);\n    }\n\n    render() {\n        const { uploadedFilesData } = this.state;\n\n        return (\n            <div style={{ position: 'relative' }} ref={this.dropRef}>\n                {this.state.drag &&\n                <div style={{\n                    border: 'dashed grey 4px',\n                    backgroundColor: 'rgba(255,255,255,.8)',\n                    position: 'absolute',\n                    top: 0,\n                    bottom: 0,\n                    left: 0,\n                    right: 0,\n                    zIndex: 9999,\n                }}>\n                    <div\n                        style={{\n                            position: 'absolute',\n                            top: '50%',\n                            right: 0,\n                            left: 0,\n                            textAlign: 'center',\n                            color: 'grey',\n                            fontSize: 36,\n                        }}\n                    >\n                        <div><Text id='imageupload.drag-files-here'>drop your files here :)</Text></div>\n                    </div>\n                </div>}\n\n                <div>\n                    <input class='btn btn-info col-sm-12' multiple\n                        type='file'\n                        id='image-file'\n                        onchange={this.handleAddFiles}\n                        ref={(c) => {\n                            this.fileInput = c;\n                        }}\n                    />\n                </div>\n                <div>\n                    {Object.keys(uploadedFilesData).length > 0 ? (<h3><Text id='imageupload.upload-images'>Uploaded images</Text></h3>) : ''}\n                    <ul class='list-group'>\n                        {Object.keys(uploadedFilesData).map((key) => {\n                            const { uploadMeta = {} } = uploadedFilesData[key];\n                            const isImage = key.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);\n                            return (\n                                <li class='list-group-item list-group-item-action flex-column align-items-start'>\n                                    <div class='d-flex w-100 justify-content-between'>\n                                        {isImage && <img class='img-fluid mr-3'\n                                            src={uploadedFilesData[key].event.target.result}\n                                            style='max-height: 50px;'\n                                        />}\n                                        <small>{uploadedFilesData[key].event.uploadDone}</small>\n                                        <Text id='imageupload.uploading-image'>Laster opp bilde...</Text>\n                                        <small>{util.formatBytes(uploadedFilesData[key].event.total, 2)}</small>\n                                    </div>\n                                    <div class='progress mt-1' style='height: 4px;'>\n                                        <div\n                                            class='progress-bar progress-bar-striped progress-bar-animated bg-success'\n                                            role='progressbar'\n                                            style={`width: ${uploadMeta.progress}%; height: 4px;`}\n                                            aria-valuenow={uploadMeta.progress}\n                                            aria-valuemin='0'\n                                            aria-valuemax='100'\n                                        />\n                                    </div>\n                                </li>\n                            );\n                        })}\n                    </ul>\n                </div>\n\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default DragNDropFileupload;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport { toJS } from 'mobx';\nimport Markdown from 'preact-markdown';\n\nimport mu from '../../lib/musher-util';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nfunction getStateColor(state) {\n\tswitch (state) {\n\t\tcase 'running':\n\t\t\treturn 'primary';\n\t\tcase 'rest':\n\t\t\treturn 'warning';\n\t\tcase 'restTrail':\n\t\t\treturn 'danger';\n\t}\n}\n\nfunction getStateIcon(state) {\n\tswitch (state) {\n\t\tcase 'running':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'rest':\n\t\t\treturn 'fas fa-male';\n\t\tcase 'restTrail':\n\t\t\treturn 'fas fa-bed';\n\t}\n}\n\n@observer\nclass States extends Component {\n    hideDetail = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n\t\t\tstateDetail: {\n\t\t\t\tstate: '',\n                idx: 0,\n\t\t\t},\n\t\t});\n    }\n\n\tshowStateDetail = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\t\tconst data = e.target.closest('div').dataset;\n\t\tthis.setState({\n\t\t\tstateDetail: {\n\t\t\t\t...data,\n\t\t\t},\n\t\t});\n\t}\n\n    nextStateDetail = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { states, duration } = this.props;\n        const { stateDetail = {} } = this.state;\n        const currentIdx = parseInt(stateDetail.idx, 10);\n        const nextIdx = currentIdx + 1;\n        const nextState = states[nextIdx];\n        if (nextState) {\n            this.setState({\n                stateDetail: {\n                    idx: nextIdx,\n                    state: nextState.state,\n                    duration: nextState.duration,\n                    distance: nextState.distance,\n                    avgspeed: nextState.avgSpeed,\n                    statespeeds: nextState.stateSpeeds,\n                    point: nextState.point,\n                    start: nextState.start,\n                    end: nextState.end,\n                    percent: util.normalizeBetween(nextState.duration, 0, duration, 0, 100),\n                },\n            });\n        }\n    }\n\n   prevStateDetail = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { states, duration } = this.props;\n        const { stateDetail = {} } = this.state;\n        const currentIdx = parseInt(stateDetail.idx, 10);\n        const prevIdx = currentIdx - 1;\n        const prevState = states[prevIdx];\n        if (prevState) {\n            this.setState({\n                stateDetail: {\n                    idx: prevIdx,\n                    state: prevState.state,\n                    duration: prevState.duration,\n                    distance: prevState.distance,\n                    avgspeed: prevState.avgSpeed,\n                    statespeeds: prevState.stateSpeeds,\n                    point: prevState.point,\n                    start: prevState.start,\n                    end: prevState.end,\n                    percent: util.normalizeBetween(prevState.duration, 0, duration, 0, 100),\n                },\n            });\n        }\n    }\n\n    render() {\n        const { states, duration, height = '20px', showText = true } = this.props;\n        const { stateDetail = {} } = this.state;\n        const locale = 'en-GB';\n\n        return (<>\n            <div class='row'>\n                {states && <div class='col-12 px-0'>\n                    <div class='progress' style={`height: ${(stateDetail && stateDetail.idx) ? '20px' : height};`}>\n                        {states.map((state, idx) => {\n                            const value = Math.ceil(util.normalizeBetween(state.duration, 0, duration, 0, 100));\n                            let currentWidth = value;\n                            if (stateDetail && stateDetail.idx == idx) {\n                                currentWidth = value < 10 ? 10 : value;\n                            }\n                            return (<>\n                                <div\n                                    class={`progress-bar bg-${getStateColor(state.state)}`}\n                                    role='progressbar'\n                                    style={`width: ${currentWidth}%`}\n                                    aria-valuenow={value}\n                                    aria-valuemin='0'\n                                    aria-valuemax='100'\n                                    data-idx={idx}\n                                    data-state={state.state}\n                                    data-duration={state.duration}\n                                    data-distance={state.distance}\n                                    data-avgspeed={state.avgSpeed}\n                                    data-statespeeds={state.stateSpeeds}\n                                    data-point={state.point}\n                                    data-start={state.start}\n                                    data-end={state.end}\n                                    data-percent={util.normalizeBetween(state.duration, 0, duration, 0, 100)}\n                                    onClick={this.showStateDetail}\n                                >\n                                    {showText ? <>\n                                        <nobr>\n                                            {value > 10 && <>\n                                                {state.state === 'rest' ? <>\n                                                    {util.secToHms(state.duration, true)}\n                                                </> : <>\n                                                    {util.format(state.distance / 1000, 0)}km\n                                                </>}\n                                            </>}\n                                            {(stateDetail && stateDetail.idx == idx) ? <i class={`fas fa-hand-point-down text-${state.state === 'rest' ? 'dark' : 'warning'} mx-2`} /> : ''}\n                                        </nobr>\n                                    </> : <>\n                                        {(stateDetail && stateDetail.idx == idx) ? <i class={`fas fa-hand-point-down text-${state.state === 'rest' ? 'dark' : 'warning'} mx-2`} /> : ''}\n                                    </>}\n                                </div>\n                            </>);\n                        })}\n                    </div>\n                    {stateDetail && stateDetail.state && <>\n                        <div class='card position-relative'>\n                            <span class='position-absolute' style='top: 0px; right: 5px;'>\n                                <small class='text-muted'>\n                                    <i class={getStateIcon(stateDetail.state)} /> {util.format(stateDetail.percent, 1)}%\n                                </small>\n                            </span>\n                            <div class='card-body'>\n                                {stateDetail.state === 'rest' ? <>\n                                    <div class='card-text row'>\n                                        <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-clock ml-2' /> <Text id='workouts.duration'>Vargihet</Text>\n                                            </small>\n                                            <h6>\n                                                {util.secToHms(stateDetail.duration, true)}\n                                            </h6>\n                                        </div>\n                                        {stateDetail.point && <div class='col-8 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fa-map-marked ml-2' /> <Text id='workouts.position'>Position</Text>\n                                            </small>\n                                            <h6>\n                                                {stateDetail.point}\n                                            </h6>\n                                        </div>}\n                                    </div>\n                                    <div class='card-text row'>\n                                        {stateDetail.start && <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-clock ml-2' /> <Text id='workouts.starttime'>Start</Text>\n                                            </small>\n                                            <h6>\n                                                {mu.formatDate(util.parseInputDate(stateDetail.start), { locale, hour12: false, day: 'numeric', month: 'numeric', hour: '2-digit', minute: '2-digit' })}\n                                            </h6>\n                                        </div>}\n                                        {stateDetail.end && <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-clock ml-2' /> <Text id='workouts.endtime'>End</Text>\n                                            </small>\n                                            <h6>\n                                                {mu.formatDate(util.parseInputDate(stateDetail.end), { locale, hour12: false, day: 'numeric', month: 'numeric', hour: '2-digit', minute: '2-digit' })}\n                                            </h6>\n                                        </div>}\n                                    </div>\n                                </> : <>\n                                    <div class='card-text row'>\n                                        <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-road ml-2' /> <Text id='workouts.distance'>Distanse</Text>\n                                            </small>\n                                            <h6>\n                                                <Distance stores={this.props.stores} value={stateDetail.distance / 1000} />\n                                            </h6>\n                                        </div>\n\n                                        <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-clock ml-2' /> <Text id='workouts.duration'>Vargihet</Text>\n                                            </small>\n                                            <h6>\n                                                {util.secToHms(stateDetail.duration, true)}\n                                            </h6>\n                                        </div>\n\n                                        <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-tachometer-alt ml-2' /> <Text id='workouts.avgspeed'>Gj.fart</Text>\n                                            </small>\n                                            <h6>\n                                                <Speed stores={this.props.stores} value={stateDetail.distance / stateDetail.duration * 3.6} />\n                                            </h6>\n                                        </div>\n                                    </div>\n                                    <div class='card-text row'>\n                                        {stateDetail.start && <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-clock ml-2' /> <Text id='workouts.starttime'>Start</Text>\n                                            </small>\n                                            <h6>\n                                                {mu.formatDate(util.parseInputDate(stateDetail.start), { locale, hour12: false, day: 'numeric', month: 'numeric', hour: '2-digit', minute: '2-digit' })}\n                                            </h6>\n                                        </div>}\n                                        {stateDetail.end && <div class='col-4 text-nowrap text-overflow'>\n                                            <small class='text-muted'>\n                                                <i class='fas fa-clock ml-2' /> <Text id='workouts.endtime'>End</Text>\n                                            </small>\n                                            <h6>\n                                                {mu.formatDate(util.parseInputDate(stateDetail.end), { locale, hour12: false, day: 'numeric', month: 'numeric', hour: '2-digit', minute: '2-digit' })}\n                                            </h6>\n                                        </div>}\n                                    </div>\n                                </>}\n                            </div>\n                            <div class='float-right'>\n\n                            <button class='btn btn-link text-primary mx-2 py-0 float-right' onClick={this.hideDetail} style='line-height: 1.0em; font-size: 2.0em;'>\n                                <i class='fas fa-times' />\n                            </button>\n\n                            {stateDetail.idx < states.length - 1 && <button class='btn btn-link text-primary mx-2 py-0 float-right' onClick={this.nextStateDetail} style='line-height: 1.0em; font-size: 2.0em;'>\n                                <i class='fas fa-angle-right' />\n                            </button>}\n                            {stateDetail.idx > 0 && <button class='btn btn-link text-primary mx-2 py-0 float-right' onClick={this.prevStateDetail} style='line-height: 1.0em; font-size: 2.0em;'>\n                                <i class='fas fa-angle-left' />\n                            </button>}\n\n                            </div>\n                        </div>\n                    </>}\n                </div>}\n            </div>\n        </>);\n    }\n}\n\nexport default States;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {};\n\n@observer\nclass DisplayLikesAndComments extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    toggleViews = () => {\n        const { showViewList } = this.state;\n        const { isTeamAdmin, isAdmin } = this.props;\n        if (isTeamAdmin || isAdmin) {\n            this.setState({\n                showViewList: !showViewList,\n            });\n        }\n    }\n\n    render() {\n        const { showViewList } = this.state;\n        const { storyStore, teamStore, workoutStore } = this.props.stores;\n        const { views, object, isTeamAdmin, isAdmin,\n            type = 'story', onTeamClick = () => {}, onUserClick = () => {} } = this.props;\n\n        const viewUsersArrays = [];\n        Object.entries(object.statistics).forEach(([year, yearObject]) => {\n            // console.log({ year, yearObject });\n            Object.entries(yearObject).forEach(([week, weekObject]) => {\n                // console.log({ week, weekObject });\n                if (weekObject.viewUsers) {\n                    viewUsersArrays.push(weekObject.viewUsers);\n                }\n            });\n        });\n        const viewUsers = viewUsersArrays.flat().slice(0, 50);\n\n\t\treturn (<>\n            <div class='d-flex justify-content-end mb-2'>\n                <span class='ml-2 text-muted font-weight-lighter'\n                    onClick={this.toggleViews}\n                >\n                    {views} <Text id='story.views'>views</Text>\n                </span>\n            </div>\n            {showViewList && <div class='mt-3 mb-3'>\n                {viewUsers && viewUsers.map((userId) => {\n                    let user;\n                    let teams;\n                    if (type === 'story') {\n                        user = storyStore.findPublicUser(userId);\n                        teams = storyStore.findPublicTeamByMembers(userId);\n                    } else if (type === 'team') {\n                        user = teamStore.findPublicUser(userId);\n                        teams = teamStore.findPublicTeamByMembers(userId);\n                    } else if (type === 'workout') {\n                        user = workoutStore.findPublicUser(userId);\n                        teams = workoutStore.findPublicTeamByMembers(userId);\n                    }\n                    if (!user) {\n                        return '';\n                    }\n                    let publicTeam;\n                    if (util.isArray(teams)) {\n                        publicTeam = teams.find(e => e.public === 1);\n                    }\n                    const image = mu.getImage({ user, team: publicTeam, priority: 'user' });\n                    const shortname = mu.displayNameShort(user);\n                    const name = mu.displayName(user, true);\n                    return (<div class='d-flex flex-row position-relative font-weight-light mb-1'>\n                        {publicTeam ? <>\n                            <a href={`/teams/public/${publicTeam.uuidv4}`} title={publicTeam.name} onClick={(e) => onTeamClick(e, publicTeam.uuidv4)} class='stretched-link'>\n                                <div\n                                    class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                    style={`${image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}`}\n                                >\n                                    {!image && <div class='' style='font-size: 12px; padding-top: 3px;'>{shortname}</div>}\n                                </div>\n                            </a>\n                            <div class='ml-2 '>\n                                {name} <span class='font-weight-lighter'>- {publicTeam.name}</span>\n                            </div>\n                        </> : <>\n                            <div\n                                class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                style={`${image ? `background-image: url(\"${image}\"); background-size: cover;` : ''} opacity: 0.5;`}\n                            >\n                                {!image && <div class='text-muted' style='font-size: 12px; padding-top: 3px;'>{shortname}</div>}\n                            </div>\n                            <div class='ml-2'>\n                                {name}\n                            </div>\n                        </>}\n                    </div>);\n                })}\n                {views > viewUsers.length && <>\n                    <small class='text-muted'>\n                        <Text id='story.limited-to'>Limited to max 50 users.</Text>\n                    </small>\n                </>}\n            </div>}\n\t\t</>);\n\t}\n}\n\nexport default DisplayLikesAndComments;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\n@observer\nclass Musher extends Component {\n    render() {\n        const { musher } = this.props;\n\t\t// const { userStore, dogStore } = this.props.stores;\n        // const workoutSummary = dogStore.findWorkoutSummary(dog.id, 2020) || {};\n        // // {\"0\":{\"year\":2020,\"dog\":16,\"count\":1,\"distanceKm\":9.9,\"elevation\":202,\"duration\":0,\"speedAvg\":0}}\n        // const dogVaccines = dogStore.findVaccineStatuses(dog.id);\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded text-muted pt-2`} style={musher.image ? `background-image: url(\"${musher.image.s3SmallLink}\");` : ''}>\n                            {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                            {!musher.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(musher.email, true)}</span>}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'>\n                            <span class='float-right'>\n                                {/* {musher.birth && <span class='mr-2'>{util.age(musher.birth, musher.deceased)}</span>}\n                                {musher.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />} */}\n                            </span>\n                            {/* <a class='stretched-link' href={`/dogs/${musher.id}`}> */}\n                                <h5 class='mb-1' style='line-height: 1.0em;'>{musher.fname || musher.email}</h5>\n                            {/* </a> */}\n                            {/* <span class='font-weight-light'>{userStore.findTeam(dog.team)}</span><br /> */}\n\n                            {/* <small class='text-muted'> */}\n                                {/* {dog.chipId && <span class='ml-0'><i class='fas fa-microchip' /> {dog.chipId}</span>} */}\n                                {/* {dog.history && <span class='ml-0'><i class='fas fa-file-signature' /> {dog.history.length}</span>}\n                                {dog.images && <span class='ml-2'><i class='fas fa-image' /> {dog.images.length}</span>}\n\n                                {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> {util.format(workoutSummary.distanceKm, 0)}km</span>}\n                                {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> {util.format(workoutSummary.elevation, 0)}m</span>}\n                                {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                                {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> {util.format(workoutSummary.speedAvg, 1)}km/t</span>}\n                                <div>\n                                    {dogVaccines && dogVaccines.map(v => (\n                                        <span class={`badge badge-success mr-2`} title={util.isoDate(v.endDate, false, false, true)}>{v.vaccineType}</span>\n                                    ))}\n                                </div> */}\n                            {/* </small> */}\n                            {/* <div class='clearfix pb-0'>\n                                {dog.specialNeeds && <span class={`badge badge-warning ml-2 float-right`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                                {dogStatus && <span class={`badge badge-${dogStatus.class} ml-2 float-right`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                            </div> */}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Musher;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport style from './style.css';\n\nconst initialState = {\n    mouseData: {},\n};\n\n@observer\nclass Gauge extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.svgRef = null;\n    }\n\n    render() {\n        const {\n            radius = 50,\n            heightAdd = 0,\n            color = 'success',\n\n            showPercentText = true,\n            percent = 0,\n            prefix = '',\n\n            showCenterText= false,\n            centerText,\n            centerTextSize,\n            centerTextX,\n            centerTextY,\n\n            total = '',\n            totalY = '90%',\n            totalX = '50%',\n            totalTextAnchor = 'middle',\n                        \n            completed = '',\n            completedY = '65%',\n            completedX = '50%',\n            completedTextAnchor = 'middle',\n        } = this.props;\n        const strokeWidth = radius * 0.3;\n        const innerRadius = radius - strokeWidth / 2;\n\n        const strokeWidthGauge = radius * 0.3;\n\n        const circumference = innerRadius * 2 * Math.PI;\n        const arc = circumference * (270 / 360);\n        const dashArray = `${arc} ${circumference}`;\n        const transform = `rotate(135, ${radius}, ${radius})`;\n\n        const percentNormalized = Math.min(Math.max(percent, 0), 100);\n        const offset = arc - (percentNormalized / 100) * arc;\n\n        const textSize = centerTextSize || radius / 2.5;\n        const textSizeSmall = radius / 5;\n\n        return (\n            <>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg}\n                    // viewBox={`0 0 ${radius * 2} ${radius * 2}`}\n                    width={radius * 2}\n                    height={radius * 2 + heightAdd}\n                    preserveAspectRatio='none'\n                    ref={c => this.svgRef = c}\n                >\n\n                    <circle\n                        class={`${style.gaugeBackground}`}\n                        cx={radius}\n                        cy={radius}\n                        r={innerRadius}\n                        strokeWidth={strokeWidth}\n                        strokeDasharray={dashArray}\n                        strokeLinecap='round'\n                        transform={transform}\n                    />\n                    \n                    <circle\n                        class={`${style[color]} ${style.gauge}`}\n                        cx={radius}\n                        cy={radius}\n                        r={innerRadius}\n                        stroke='url(#grad)'\n                        strokeDasharray={dashArray}\n                        strokeDashoffset={offset}\n                        strokeLinecap='round'\n                        strokeWidth={strokeWidthGauge}\n                        style={{\n                            transition: 'stroke-dashoffset 0.3s',\n                        }}\n                        transform={transform}\n                    />\n                     \n                    {showPercentText && <text\n                        class={`${style.gaugeText} ${style[color]}`}\n                        x={centerTextX || '50%'}\n                        y={centerTextY || '50%'}\n                        dominant-baseline='middle'\n                        text-anchor='middle'\n                        font-size={textSize}\n                    >{percent} {prefix}</text>}\n\n                    {showCenterText && <text\n                        class={`${style.gaugeText} ${style[color]}`}\n                        x={centerTextX || '50%'}\n                        y={centerTextY || '50%'}\n                        dominant-baseline='middle'\n                        text-anchor='middle'\n                        font-size={textSize}\n                    >{centerText}</text>}\n\n                    {completed && <text\n                        class={`${style.gaugeText} ${style[color]}`}\n                        x={completedX}\n                        y={completedY}\n                        dominant-baseline='middle'\n                        text-anchor={completedTextAnchor}\n                        font-size={textSizeSmall}\n                    >{completed}</text>}\n\n                    <text\n                        class={`${style.gaugeText} ${style.secondary}`}\n                        x={totalX}\n                        y={totalY}\n                        dominant-baseline='middle'\n                        text-anchor={totalTextAnchor}\n                        font-size={textSizeSmall}\n                    >{total}</text>\n\n                </svg>\n            </>\n        );\n    }\n}\n\nexport default Gauge;\n"],"sourceRoot":""}