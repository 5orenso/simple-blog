(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{B7Gj:function(t,e,o){"use strict";function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.r(e);var a,n=o("hosL"),c=o("Utv1"),l=o("/eY4"),h=o("OhSV"),i=o("ZOvn"),b=o.n(i),u=o("JWe/"),d=(o("3pQw"),o("WAWY")),p=o("azdc"),O=o("3UPq"),m=o("pJjI");const j=b.a.marginTop(!0),f=b.a.marginBottom(),g=b.a.subMenuMarginTop(),k={isLoading:!1};let w=Object(l.a)(a=class extends n.Component{constructor(t){var e;super(t),e=this,this.loadWorkouts=async function(t=e.props){e.setState({isLoading:!0});const{workoutStore:o,userStore:r}=t.stores;await e.loadWorkoutSummary(t),await e.loadWorkoutPlans(t),await r.getNotifications(),e.setState({isLoading:!1})},this.loadWorkoutPlans=async function(t=e.props){e.setState({isLoading:!0});const{year:o}=t,r=(new Date).getMonth()+1,s=c.a.getYear(),a=parseInt(o||(r<6?s-1:s),10),{workoutPlanStore:n,workoutStore:l}=t.stores,{currentTeam:h}=l;if(n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),n.resetGraphPlanWeekDistanceCurrent(),h){await n.load({query:{team:h,seasonYear:a,seasonMonth:6}});const{workoutPlans:t}=n,e=t[0]||{};e.id&&(await n.load(e.id),n.prepareWeekGraphs({year:o}))}e.setState({isLoading:!1})},this.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},k)}async loadWorkoutSummary(t=this.props){const{userStore:e,workoutStore:o}=t.stores,{year:r}=t,{currentTeam:s}=o;await e.getWorkoutSummary({team:s,year:r})}componentDidMount(){this.loadWorkouts()}componentWillReceiveProps(t){t.month===this.props.month&&t.year===this.props.year&&t.team===this.props.team||this.loadWorkouts(t)}render(){const{isLoading:t}=this.state,{userStore:e,appState:o,workoutStore:r,workoutPlanStore:s}=this.props.stores,{workoutPlan:a,workoutPlans:c}=s,{month:l,year:i}=this.props,{currentTeam:b}=r,{darkmode:k}=o,w=r.getLatests(),{workoutSummaryWeek:y=[]}=e;return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${f}; margin-top: ${j};`},Object(n.h)("div",{class:"row mb-4 fixed-top",style:`margin-top: ${g}; background-color: ${k?"#191d21":"#f8f9fa"};`},Object(n.h)("div",{class:"col text-center border-bottom border-primary"},Object(n.h)("a",{href:"/workouts/",class:"text-primary stretched-link"},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(h.c,{id:"workout.index.dashboard"},"Oversikt"))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(h.c,{id:"workout.index.list"},"Liste"))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(n.h)("i",{class:"fas fa-calendar-alt"})," ",Object(n.h)(h.c,{id:"workout.index.plan"},"Plan")))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(m.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+b})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-2"},Object(n.h)("a",{class:"btn btn-primary btn-sm float-right",href:"/workouts/edit/new"},Object(n.h)("i",{class:"fas fa-plus"})," ",Object(n.h)(h.c,{id:"workout.index.add-workout"},"Legg til treningstur"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(p.a,{stores:this.props.stores,isLoading:t,year:i,key:`table-${a.id}-${c.length}`}),Object(n.h)(d.a,{stores:this.props.stores,isLoading:t,year:i,key:`graph-${a.id}-${c.length}`})),Object(n.h)(O.a,{stores:this.props.stores,team:b,basehref:"/workouts/",month:l,year:i,key:`calendar-${a.id}-${c.length}`})),Object(n.h)("div",{class:"row"},w&&w.length>0&&Object(n.h)("div",{class:"col-12 mb-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(n.h)("h5",null,Object(n.h)(h.c,{id:"workout.index.last-workouts",fields:{total:w.length}},"Nyeste treningsturer - ",w.length," stk"))),w&&w.map(t=>Object(n.h)(u.a,{stores:this.props.stores,workout:t})))),!1)}})||a;e.default=w},azdc:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),c=o("OhSV"),l=o("ZOvn"),h=o.n(l);let i=Object(c.d)(()=>({week:Object(s.h)(c.c,{id:"workout.graph.week"}),distance:Object(s.h)(c.c,{id:"workout.graph.distance"}),ascend:Object(s.h)(c.c,{id:"workout.graph.ascend"}),plan:Object(s.h)(c.c,{id:"workout.graph.plan"})}))(r=Object(n.a)(r=class extends s.Component{render(){const{userStore:e}=this.props.stores,{year:o}=this.props,{user:r}=e,{language:n="no"}=r,l=h.a.getMonths(n),i=(new Date).getMonth()+1,b=a.a.getYear(),u=parseInt(o||(i<6?b-1:b),10),d=a.a.monthRange(u+"-06-01",u+1+"-05-31"),p=a.a.monthRange(u-1+"-06-01",u+"-05-31"),O=a.a.weekRange(u+"-06-01",u+1+"-05-31").map(t=>t.week),m=Math.floor(O.length/(O.length%6)),j=[];for(let t=0,e=O.length;t<e;t+=m)j.push(O[t]);return Object(s.h)(t,null,Object(s.h)("h5",null,Object(s.h)(c.c,{id:"workout.graph.title"},"Treningsstatistikk")," ",u," - ",u+1),Object(s.h)("div",{class:"w-100 mt-3 mb-4"},Object(s.h)("small",{class:"mb-4"},Object(s.h)("small",null,Object(s.h)("table",{class:"table table-sm font-weigth-lighter border-bottom"},Object(s.h)("thead",null,Object(s.h)("tr",null,Object(s.h)("th",{style:"padding: .15rem;"},Object(s.h)(c.c,{id:"workout.graph.season"},"Sesong")),d.map(t=>Object(s.h)("th",{class:"text-right",style:"padding: .15rem;"},Object(s.h)("a",{href:`/workouts/month/${t.month}/${t.year}`},l[t.month-1]))))),Object(s.h)("tbody",null,Object(s.h)("tr",null,Object(s.h)("th",{scope:"row",style:"padding: .15rem;"},u-1," - ",u),p.map(o=>Object(s.h)(t,null,Object(s.h)("td",{class:"text-right",style:"padding: .15rem;"},Object(s.h)("nobr",null,e.findWorkoutSummaryMonth(o.year,o.month)),Object(s.h)("br",null),Object(s.h)("nobr",null,e.findWorkoutSummaryMonth(o.year,o.month,"elevation")),Object(s.h)("br",null)))),Object(s.h)("td",{class:"text-muted",style:"padding: .15rem;"},Object(s.h)("nobr",null,Object(s.h)("i",{class:"fas fa-road"})," km"),Object(s.h)("br",null),Object(s.h)("nobr",null,Object(s.h)("i",{class:"fas fa-mountain"})," m"),Object(s.h)("br",null))),Object(s.h)("tr",null,Object(s.h)("th",{scope:"row",style:"padding: .15rem;"},u," - ",u+1),d.map(o=>Object(s.h)(t,null,Object(s.h)("td",{class:"text-right",style:"padding: .15rem;"},Object(s.h)("nobr",null,e.findWorkoutSummaryMonth(o.year,o.month)),Object(s.h)("br",null),Object(s.h)("nobr",null,e.findWorkoutSummaryMonth(o.year,o.month,"elevation")),Object(s.h)("br",null)))),Object(s.h)("td",{class:"text-muted",style:"padding: .15rem;"},Object(s.h)("nobr",null,Object(s.h)("i",{class:"fas fa-road"})," km"),Object(s.h)("br",null),Object(s.h)("nobr",null,Object(s.h)("i",{class:"fas fa-mountain"})," m"),Object(s.h)("br",null)))))))))}})||r)||r;e.a=i}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=route-workouts.chunk.4bf73.esm.js.map