{"version":3,"sources":["webpack:///./components/user/index.js","webpack:///./components/dog/index.js","webpack:///./components/team/index.js","webpack:///./routes/search/index.js"],"names":["User","observer","props","removeUser","e","id","email","team","target","dataset","parentNode","console","log","stores","teamStore","removeMember","adminUpdateUser","field","closest","name","clearTimeout","updateTimer","setTimeout","doAdminUpdateUser","userStore","value","simulateUser","getSimulateUser","state","render","this","user","currentUser","isAdmin","teams","findTeams","summary","findMusherSummary","isTeamAdmin","image","mu","getImage","displayName","class","style","cellphone","url","href","asUrl","rel","facebook","asFacebookLink","instagram","asInstagramLink","snapchat","asSnapchatLink","onClick","data-email","JSON","stringify","settings","subscription","deviceInfo","notifications","notificationTopics","applications","shadowTags","garmin","strava","currentLocationGeocode","util","isoDate","lastActivityEpoch","format","activities","type","veterinaryAllowed","checked","onInput","for","twoFactorLogin","isVeterinary","firstname","lastname","map","distanceKm","elevation","secToHms","duration","avgDistance","avgElevation","avgDuration","speedAvg","avgDogs","data-id","data-team","Component","Dog","dog","dogStore","language","viewmode","appState","currentMonth","Date","getMonth","currentYear","getFullYear","month","year","seasonStart","parseInt","workoutSummary","findWorkoutSummary","dogStatuses","statuses","findDogstatus","status","dogVaccines","findVaccineStatuses","dogVaccineLogStatuses","findVaccineLogStatuses","chipId","dogHistoryStatuses","findHistoryStatuses","dogStatus","dogPosition","findDogposition","position","teamNames","findTeam","push","forEach","hasBirthday","birth","daysUntilBirthday","Math","ceil","daysUntilNextBirthday","s3SmallLink","ucfirst","findHarness","harness","icon","age","deceased","gender","shortname","length","idx","history","images","weight","bodyScore","indexOf","v","title","endDate","vaccineType","positions","lead","point","wheel","specialNeeds","lang","filter","vac","inKarens","vaccineAgens","Team","requestFollowTeam","preventDefault","stopPropagation","teamId","parentElement","followRequest","setState","requestSent","getButton","text","skipHome","isYourTeam","members","isFollowing","followers","isBlocked","blockedFollowers","hasRequestedFollow","followRequests","findIndex","unFollowTeam","disabled","public","showButton","publicUsers","showLocation","showMembers","teamAmbition","findTeamAmbition","ambition","ambitions","teamType","findTeamType","teamUser","find","teamUserDisplayName","priority","place","country","dogs","initialState","submenu","hits","searchText","Search","loadAll","allData","names","storyStore","search","getSearch","localUpdateField","publicTeams","searchResultStories","searchResultDogs","searchResultWorkouts","searchResultTeams","searchResultTracks","a","max","reduce","partialSum","route","chooseSubmenu","menu","componentDidMount","componentWillReceiveProps","nextProps","fields","placeholder","linkState","data-menu","uuidv4","workout","feed","track","story","key"],"mappings":"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","file":"route-search.chunk.568c6.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass User extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this.updateTimer = {};\n    }\n    \n    removeUser = async (e) => {\n        let id =  e.target.dataset.id;\n        let email =  e.target.dataset.email;\n        let team =  e.target.dataset.team;\n        if (!id && e.target.parentNode) {\n            id =  e.target.parentNode.dataset.id;\n            email =  e.target.parentNode.dataset.email;\n            team =  e.target.parentNode.dataset.team;\n\t\t}\n        console.log('id, email, team', id, email, team);\n        const { teamStore } = this.props.stores;\n        await teamStore.removeMember(team, { id, email });\n    }\n\n    adminUpdateUser = (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name } = e.target;\n        const field = `${email}-${name}`;\n\n        clearTimeout(this.updateTimer[field]);\n        this.updateTimer[field] = setTimeout(() => {\n            this.doAdminUpdateUser(e);\n        }, 500);\n    }\n\n    doAdminUpdateUser = async (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name, value } = e.target;\n\n        // console.log({ email, name, value });\n\t\tconst { userStore } = this.props.stores;\n        await userStore.adminUpdateUser(email, { [name]: value });\n    }\n\n    simulateUser = (e) => {\n        const { email } = e.target.closest('button').dataset;\n        const { userStore } = this.props.stores;\n\t\tuserStore.getSimulateUser(email);\n    }\n\n    render() {\n        const { user, team = {} } = this.props;\n\t\tconst { userStore, teamStore } = this.props.stores;\n        const { user: currentUser, isAdmin } = userStore;\n        const teams = userStore.findTeams(user.teams);\n        const summary = teamStore.findMusherSummary(user.id, team.id) || {};\n        const isTeamAdmin = team.user === currentUser.id;\n        const image = mu.getImage({ user, team });\n        const name = mu.displayName(user);\n\n        // const workoutSummary = dogStore.findWorkoutSummary(dog.id, 2020) || {};\n        // {'0':{'year':2020,'dog':16,'count':1,'distanceKm':9.9,'elevation':202,'duration':0,'speedAvg':0}}\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url('${image}'); background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-user text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'>\n                            {/* <span class='float-right'>\n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span> */}\n                            \n                            <h5>{name}</h5>\n                            <div>\n                                <small class='text-muted'>\n                                    <div class='d-flex justify-content-left'>\n                                        {user.cellphone && <div class='mr-2'><i class='fas fa-mobile-alt' /> {user.cellphone}</div>}\n                                        {user.email && <div class='mr-2'><i class='fas fa-envelope ml-3' /> {user.email}</div>}\n                                        {user.url && <div class='mr-2'><a href={mu.asUrl(user.url)} target='_blank' rel='noreferrer'><i class='fas fa-link' /></a></div>}\n                                        {user.facebook && <div class='mr-2'><a href={mu.asFacebookLink(user.facebook)} target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a></div>}\n                                        {user.instagram && <div class='mr-2'><a href={mu.asInstagramLink(user.instagram)} target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a></div>}\n                                        {user.snapchat && <div class='mr-2'><a href={mu.asSnapchatLink(user.snapchat)} target='_blank' rel='noreferrer'><i class='fab fa-snapchat' /></a></div>}\n                                    </div>\n                                </small>\n                            </div>\n                            {isAdmin && <>\n                                <button class='btn btn-block btn-success' onClick={this.simulateUser} data-email={user.email}>\n                                    Simulate user\n                                </button>\n\n                                <small>\n                                    <details>\n                                        <summary>settings</summary>\n                                        <xmp>{JSON.stringify(user.settings, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>deviceInfo</summary>\n                                        <xmp>{JSON.stringify(user.deviceInfo, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notifications</summary>\n                                        <xmp>{JSON.stringify(user.notifications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notificationTopics</summary>\n                                        <xmp>{JSON.stringify(user.notificationTopics, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>applications</summary>\n                                        <xmp>{JSON.stringify(user.applications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>shadowTags</summary>\n                                        <xmp>{JSON.stringify(user.shadowTags, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>garmin</summary>\n                                        <xmp>{JSON.stringify(user.garmin, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>strava</summary>\n                                        <xmp>{JSON.stringify(user.strava, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>currentLocationGeocode</summary>\n                                        <xmp>{JSON.stringify(user.currentLocationGeocode, null, 4)}</xmp>\n                                    </details>\n                                    lastActivityEpoch: {util.isoDate(user.lastActivityEpoch)}<br />\n                                    activities: {util.format(user.activities)}<br />\n\n                                    {user.settings && <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.settings.veterinaryAllowed ? 0 : 1} id={`settings.veterinaryAllowed-${user.id}`} name='settings.veterinaryAllowed' checked={user.settings.veterinaryAllowed ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`settings.veterinaryAllowed-${user.id}`}>\n                                            settings.veterinaryAllowed\n                                        </label>\n                                    </div>}\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.twoFactorLogin ? 0 : 1} id={`twoFactorLogin-${user.id}`} name='twoFactorLogin' checked={user.twoFactorLogin ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`twoFactorLogin-${user.id}`}>\n                                            twoFactorLogin\n                                        </label>\n                                    </div>\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.isVeterinary ? 0 : 1} id={`isVeterinary-${user.id}`} name='isVeterinary' checked={user.isVeterinary ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`isVeterinary-${user.id}`}>\n                                            isVeterinary\n                                        </label>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`cellphone-${user.id}`}>cellphone</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`cellphone-${user.id}`} name='cellphone' class='form-control' value={user.cellphone} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`firstname-${user.id}`}>firstname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`firstname-${user.id}`} name='firstname' class='form-control' value={user.firstname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`lastname-${user.id}`}>lastname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`lastname-${user.id}`} name='lastname' class='form-control' value={user.lastname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                </small>\n                            </>}\n                            {user.teams && <>\n                                {teams.map(team => (\n                                    <span class='badge badge-pill badge-info mr-2'>{team.name}</span>\n                                ))}<br />\n                            </>}\n                            {team.id && summary && <>\n                                <small class='text-muted'>\n                                    Total:\n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.distanceKm} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.elevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.duration || 0)}</span>}\n                                </small><br />\n                                <small class='text-muted'>\n                                    Avg: \n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.avgDistance} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.avgElevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.avgDuration || 0)}</span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={summary.speedAvg} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-dog' /> {util.format(summary.avgDogs, 1)}</span>}\n                                </small>\n                            </>}\n                        </div>\n                        <div>\n                            {isTeamAdmin && user.id !== currentUser.id && <button class='btn btn-sm btn-danger'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-ban' /></button>}\n                            {!isTeamAdmin && user.id === currentUser.id && <button class='btn btn-sm btn-secondary'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-sign-out-alt' />{team.id}</button>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default User;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { dog } = this.props;\n\t\tconst { userStore, dogStore, appState } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n        const { viewmode } = appState;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = dogStore.findWorkoutSummary(dog.id, seasonStart) || {};\n        // {\"0\":{\"year\":2020,\"dog\":16,\"count\":1,\"distanceKm\":9.9,\"elevation\":202,\"duration\":0,\"speedAvg\":0}}\n        const dogStatuses = dog.statuses ? dog.statuses.map(e => userStore.findDogstatus({ status: e, language })) : [];\n        const dogVaccines = dogStore.findVaccineStatuses(dog.id);\n        const dogVaccineLogStatuses = dogStore.findVaccineLogStatuses(dog.chipId);\n        const dogHistoryStatuses = dogStore.findHistoryStatuses(dog.id);\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const teamNames = [];\n        if (userStore.findTeam(dog.team)) {\n            teamNames.push(userStore.findTeam(dog.team));\n        }\n        if (dog.teams) {\n            dog.teams.forEach((e) => {\n                if (userStore.findTeam(e)) {\n                    teamNames.push(userStore.findTeam(e));\n                }\n            });\n        }\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = dog.birth ? Math.ceil(mu.daysUntilNextBirthday(dog.birth)) : 365;\n\n        const { url = `/dogs/${dog.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded text-muted pt-2`} style={dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''}>\n                            {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                            {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'\n                            style={`border-right: 4px solid ${userStore.findHarness(dog.harness, 'colorNonstop')} !important; line-height: 1.2em;`}\n                        >\n                            <span class='float-right'>\n                                {dogPosition && <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>}\n                                {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                \n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                            <a class='stretched-link' href={url}>\n                                <h5 class='mb-1' style='line-height: 1.0em;'>\n                                    {dog.shortname || dog.name} {dog.shortname && dog.shortname !== '' && <> - <span class='font-weight-lighter'>{dog.name}</span></>}\n                                    {hasBirthday && <>\n                                        <i class='fas fa-birthday-cake ml-3' />\n                                    </>}\n                                </h5>\n                            </a>\n                            <div>\n                                {teamNames && teamNames.length > 0 && <small class='font-weight-lighter'>\n                                    {teamNames.map((name, idx) => <>{idx > 0 ? ', ' : ''}{name}</>)}\n                                </small>}\n                                <br />\n                            </div>\n\n                            <small class='text-muted'>\n                                {/* {dog.chipId && <span class='ml-0'><i class='fas fa-microchip' /> {dog.chipId}</span>} */}\n                                {dog.history > 0 && <span class='ml-0'><i class='fas fa-file-signature' /> {dog.history.length}</span>}\n                                {dog.images > 0 && <span class='ml-2'><i class='fas fa-image' /> {dog.images.length}</span>}\n\n                                {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                                {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n\n                                {dog.weight > 0 && <><i class='fas fa-balance-scale ml-2' /> <Weight stores={this.props.stores} value={dog.weight} /></>}\n                                {dog.bodyScore > 0 && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                            </small>\n\n                            {['beta', 'advanced', 'normal'].indexOf(viewmode) > -1 && <>\n                                <div>\n                                    {dogVaccines && dogVaccines.map(v => (\n                                        <span class={`badge badge-success mr-2`} title={util.isoDate(v.endDate, false, false, true)}>\n                                            {v.vaccineType}\n                                            <span class='font-weight-light ml-3'>\n                                                <i class='fas fa-calendar-check' /> {util.isoDate(v.endDate, false, false, true)}                                    \n                                            </span>\n                                        </span>\n                                    ))}\n                                    {dogHistoryStatuses && dogHistoryStatuses.map(v => (\n                                        <span class={`badge badge-warning mr-2`} title={util.isoDate(v.endDate, false, false, true)}>{v.title}</span>\n                                    ))}\n                                </div>\n                            </>}\n\n                            {['beta', 'advanced'].indexOf(viewmode) > -1 && <>\n                                {dog.positions && dog.positions.lead && <div class=''>\n                                    {dog.positions.lead.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-lead'>Lead</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.lead.distanceKm} />\n                                    </span>}\n                                    {dog.positions.point.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-point'>Point</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.point.distanceKm} />\n                                    </span>}\n                                    {dog.positions.team.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-team'>Team</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.team.distanceKm} />\n                                    </span>}\n                                    {dog.positions.wheel.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-wheel'>Wheel</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.wheel.distanceKm} />\n                                    </span>}\n                                </div>}\n                            </>}\n\n                            <div class='clearfix pb-0'>\n                                {dog.specialNeeds && <span class={`badge badge-warning ml-2 mt-1 float-right`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                                {dogStatus && <span class={`badge badge-${dogStatus.class} ml-2 mt-1 float-right`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                                {dogStatuses && dogStatuses.map(status => <>\n                                    <span class={`badge badge-${status.class} ml-2 mt-1 float-right`}>\n                                        {status.icon && <i class={status.icon} />} {status.lang && status.lang[language] ? status.lang[language] : status.name}\n                                    </span>\n                                </>)}\n                            </div>\n\n                            {dogVaccineLogStatuses && dogVaccineLogStatuses.length > 0 && <>\n                                <div class='mt-2'>\n                                    {dogVaccineLogStatuses && dogVaccineLogStatuses.filter(e => e.chipId === dog.chipId).map((vac) => {\n                                        return (\n                                            <span class={`badge badge-${vac.inKarens ? 'warning' : 'success'} mr-2 mb-1`}>\n                                                <i class='fas fa-user-md' /> {vac.vaccineAgens.name}\n                                                {/* <span class='font-weight-lighter ml-2'> */}\n                                                    {/* <i class='fas fa-calendar-check' /> {util.isoDate(vac.vaccineAgens.durationEnd, false, false, true)} */}\n                                                    {/* {vac.inKarens && <>\n                                                        <br />\n                                                        (karens: {util.format(vac.karensDaysLeft, 0)} days left)\n                                                    </>} */}\n                                                {/* </span> */}\n                                            </span>\n                                        );\n                                    })}\n                                </div>\n                            </>}\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass Team extends Component {\n    requestFollowTeam = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        this.setState({ requestSent: true });\n    }\n\n    getButton = (text = '') => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { team, skipHome } = this.props;\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            if (skipHome) {\n                return '';\n            }\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (isFollowing) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Følger</Text> {text}\n                </button>\n            );\n        }\n        if (isBlocked) {\n            return '';\n            // return (\n            //     <button\n            //         class={`btn btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text> {text}\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter på godkjenning</Text> {text}\n                </button>\n            );\n        }\n        if (team.public) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-success float-right`}\n                    onClick={this.requestFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='far fa-hand-point-right mr-2' />\n                    <Text id='teams.connect.follow'>Følg</Text> {text}\n                </button>\n            );\n        }\n    }\n\n    render() {\n        const { team, showButton, publicUsers = [], showLocation, showMembers } = this.props;\n        const { teamStore, userStore } = this.props.stores;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = teamStore.findWorkoutSummary(team.id, seasonStart) || {};\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n\n        const teamUser = publicUsers.find(e => e.id === team.user);\n        const teamUserDisplayName = mu.displayName(teamUser);\n        const image = mu.getImage({ user: teamUser, team, priority: 'user' });\n\n        const { url = `/teams/${team.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        <div class='position-relative d-flex flex-grow-1'>\n                            {/* {JSON.stringify(team, null, 4)} */}\n                            <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}>\n                                {!image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                            </div>\n                            <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                                <a class='stretched-link' href={url}>\n                                    <h5 class='mb-1' style='line-height: 1.0em;'>{team.name}</h5>\n                                </a>\n                                {showLocation && <div>\n                                    {(team.place || team.country) && <span class='mr-3'>\n                                        <i class='fas fa-map-marker-alt' />  {team.place} {team.place ? `, ${team.country}` : team.country}\n                                    </span>}\n                                </div>}\n                                {showMembers && <div>\n                                    {teamUser && <span class='mr-2'>\n                                        <i class='fas fa-user' /> {teamUserDisplayName}\n                                    </span>}\n\n                                    {/* {team.members && team.members.length > 1 && team.members.slice(1, 10).map(member => {\n                                        const u = publicUsers.find(e => e.id === member);\n                                        const teamUserDisplayName = mu.displayName(u);\n                                        return (<span class='badge badge-secondary font-weight-light mr-2'>\n                                            <i class='fas fa-user' /> {teamUserDisplayName}\n                                        </span>);\n                                    })} */}\n                                </div>}\n                                <div>\n                                    {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                    {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                                </div>\n                                <small class='text-muted'>\n                                    {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                    {team && team.members && <span class='ml-2'><i class='fas fa-user' /> {team.members.length}</span>}\n\n                                    {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                    {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                    {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration)}</span>}\n                                    {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n                                </small>\n                            </div>\n                        </div>\n                        {showButton && <div>\n                            {this.getButton()}\n                        </div>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport { route } from 'preact-router';\n\nimport Dog from '../../components/dog';\nimport Workout from '../../components/workout';\nimport Team from '../../components/team';\nimport Track from '../../components/track';\nimport User from '../../components/user';\nimport Story from '../../components/story/publicStory';\n\nimport TeamPublicFeedLine from '../../components/team/publicFeedLine';\n\nconst initialState = {\n\tsubmenu: 'dogs',\n\thits: 0,\n\tsearchText: '',\n};\n\n@observer\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tloadAll = async (props = this.props) => {\n\t\tconst { appState, storyStore, teamStore } = this.props.stores;\n\t\tconst { search } = props;\n\t    await appState.getSearch(search);\n\t\tconst { publicTeams, publicUsers } = appState;\n\t\tstoryStore.localUpdateField('publicTeams', publicTeams);\n\t\tstoryStore.localUpdateField('publicUsers', publicUsers);\n\t\tteamStore.localUpdateField('publicTeams', publicTeams);\n\t\tteamStore.localUpdateField('publicUsers', publicUsers);\n\n\t\tconst { searchResultStories, searchResultDogs, searchResultWorkouts = [], searchResultTeams, searchResultTracks } = appState;\n\t\tconst allData = [searchResultStories, searchResultDogs, searchResultWorkouts, searchResultTeams, searchResultTracks];\n\t\tconst names = ['stories', 'dogs', 'workouts', 'teams', 'tracks', 'users'];\n\t\tconst idx = allData\n\t\t\t.map(a => a.length)\n\t\t\t.indexOf(Math.max(...allData.map(a => a.length)));\n\t\tconst hits = allData.map(a => a.length).reduce((partialSum, a) => partialSum + a, 0);\n\t\tthis.setState({\n\t\t\tsearchText: search,\n\t\t\tsubmenu: names[idx],\n\t\t\thits,\n\t\t});\n\t}\n\n\tsearch = () => {\n\t\tconst { searchText } = this.state;\n\t\troute(`/search/${searchText}`);\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadAll();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.search !== this.props.search) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n\t\tconst { appState, userStore } = this.props.stores;\n\t\tconst { search } = this.props;\n\n\t\tconst { isAdmin } = userStore;\n\t\tconst { searchResultStories, searchResultDogs, searchResultWorkouts = [], searchResultTeams, searchResultTracks, publicUsers, publicTeams } = appState;\n\t\tconst { submenu, hits, searchText } = this.state;\n\t\treturn (\n\t\t\t<div class='container-fluid' style='margin-bottom: 200px; margin-top: 60px;'>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t<h1><Text id='search.title'>Search</Text></h1>\n\t\t\t\t\t\t<h5 class='my-3'><Text id='search.search-for' fields={{ search, hits }}>{hits} in your search for \"{search}\"</Text></h5>\n\n\t\t\t\t\t\t<div class='d-flex justify-content-center py-3'>\n\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t<input class='form-control form-control mr-2' type='search' placeholder={<Text id='header.search-placeholder'>Søk etter det meste...</Text>}\n\t\t\t\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'searchText')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Localizer>\n\t\t\t\t\t\t\t<button class='btn btn-outline-success' type='button'\n\t\t\t\t\t\t\t\tonClick={this.search}\n\t\t\t\t\t\t\t><Text id='header.search'>Søk</Text></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n                                <div\n                                    class='d-flex flex-row flex-nowrap pb-2 px-1'\n                                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                                >\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-left rounded-none ${submenu === 'dogs' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='dogs'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-dog' /> <Text id='search.dogs'>Dogs</Text> ({searchResultDogs.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/* <div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'workouts' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='workouts'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-running' /> <Text id='search.workouts'>Workouts</Text> ({searchResultWorkouts.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'teams' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='teams'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-users' /> <Text id='search.teams'>Teams</Text> ({searchResultTeams.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'tracks' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='tracks'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-map-marked-alt' /> <Text id='search.tracks'>Tracks</Text> ({searchResultTracks.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-right rounded-none ${submenu === 'stories' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='stories'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-comments' /> <Text id='search.stories'>Stories</Text> ({searchResultStories.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{submenu === 'dogs' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultDogs || searchResultDogs.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-dog' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-dogs-found'>No dogs found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultDogs && searchResultDogs.map(dog => (\n\t\t\t\t\t\t\t\t<Dog stores={this.props.stores} dog={dog} url={`/dogs/public/${dog.uuidv4}`} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'workouts' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t\t{(!searchResultWorkouts || searchResultWorkouts.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-running' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-workouts-found'>No workouts found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultWorkouts && searchResultWorkouts.map((workout, idx) => (\n\t\t\t\t\t\t\t\t<div class='row mb-4'>\n\t\t\t\t\t\t\t\t\t<div class='col-12 py-3'>\n\t\t\t\t\t\t\t\t\t\t<TeamPublicFeedLine\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tfeed={workout}\n\t\t\t\t\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'teams' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultTeams || searchResultTeams.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-users' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-teams-found'>No teams found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultTeams && searchResultTeams.map(team => <>\n\t\t\t\t\t\t\t\t<Team\n\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\tteam={team}\n\t\t\t\t\t\t\t\t\turl={`/teams/public/${team.uuidv4}`}\n\t\t\t\t\t\t\t\t\tshowButton={true}\n\t\t\t\t\t\t\t\t\tpublicUsers={publicUsers}\n\t\t\t\t\t\t\t\t\tshowMembers={1}\n\t\t\t\t\t\t\t\t\tshowLocation={1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'tracks' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultTracks || searchResultTracks.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-map-marked-alt' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-tracks-found'>No tracks found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultTracks && searchResultTracks.map(track => (\n\t\t\t\t\t\t\t\t<Track stores={this.props.stores} track={track} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'stories' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t\t{(!searchResultStories || searchResultStories.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-comments' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-stories-found'>No stories found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultStories && searchResultStories.map(story => (\n\t\t\t\t\t\t\t\t<div class='row mb-4'>\n\t\t\t\t\t\t\t\t\t<div class='col-12 py-3'>\n\t\t\t\t\t\t\t\t\t\t<Story\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tstory={story}\n\t\t\t\t\t\t\t\t\t\t\tkey={`story-detail-${story.id}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Search;\n"],"sourceRoot":""}