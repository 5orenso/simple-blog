(window.webpackJsonp=window.webpackJsonp||[]).push([[57,6,10,22,75],{"+I+c":function(e,t,o){"use strict";function s(e,t){if(null==e)return{};var o,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)t.indexOf(o=a[s])>=0||(n[o]=e[o]);return n}o.d(t,"a",(function(){return s}))},"+JSK":function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,r=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),u={},h=Object(c.a)(a=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleLikes=function(){o.setState({showLikesList:!o.state.showLikesList})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},u),o}var a,c;return c=t,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var t=this.state.showLikesList,o=this.props.stores,s=o.storyStore,n=o.teamStore,a=o.workoutStore,c=o.raceStore,u=this.props,h=u.likes,p=u.comments,b=u.type,m=void 0===b?"story":b,f=u.onTeamClick,g=void 0===f?function(){}:f;return Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex justify-content-between mb-2"},h&&h.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(r.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(r.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",h.length),h.slice(0,3).map((function(t){var o,l,u;"story"===m?(o=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===m?(o=n.findPublicUser(t.user),l=n.findPublicTeamByMembers(t.user)):"workout"===m?(o=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"race"===m&&(o=c.findPublicUser(t.user),l=c.findPublicTeamByMembers(t.user)),i.a.isArray(l)&&(u=l.find((function(e){return 1===e.public})));var h=d.a.getImage({user:o,team:u,priority:"user"}),p=d.a.displayNameShort(o);return Object(r.h)(e,null,u?Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+u.uuidv4,title:u.name,onClick:function(e){return g(e,u.uuidv4)}},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(r.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},p)))):Object(r.h)(e,null,Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(r.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},p))))})),h.length>3&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(r.h)(l.c,{id:"likes-comments.and",fields:{total:h.length-3}},"and ",h.length-3," others."))))),p&&p.length>0&&Object(r.h)("span",{class:"float-right text-muted"},Object(r.h)("i",{class:"fas fa-comment text-primary"})," ",p.length)),t&&Object(r.h)("div",{class:"mt-3 mb-3"},h&&h.map((function(t){var o,l,u;"story"===m?(o=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===m?(o=n.findPublicUser(t.user),l=n.findPublicTeamByMembers(t.user)):"workout"===m?(o=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"race"===m&&(o=c.findPublicUser(t.user),l=c.findPublicTeamByMembers(t.user)),i.a.isArray(l)&&(u=l.find((function(e){return 1===e.public})));var h=d.a.getImage({user:o,team:u,priority:"user"}),p=d.a.displayNameShort(o),b=d.a.displayName(o,!0);return Object(r.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},u?Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+u.uuidv4,title:u.name,onClick:function(e){return g(e,u.uuidv4)},class:"stretched-link"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(r.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},p))),Object(r.h)("div",{class:"ml-2 "},b," ",Object(r.h)("span",{class:"font-weight-lighter"},"- ",u.name))):Object(r.h)(e,null,Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(r.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},p)),Object(r.h)("div",{class:"ml-2"},b)))}))))},o}(r.Component))||a;t.a=h}).call(this,o("hosL").Fragment)},"/922":function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=o("OhSV"),c=o("go65"),l=o("om2D"),d=(o("ETxl"),o("ZOvn")),u=Object(r.a)(s=function(t){function o(e){var o;return(o=t.call(this,e)||this).beforeImagesUploaded=function(){o.setState({sendButtonEnabled:!1})},o.afterImagesUploaded=function(){o.setState({sendButtonEnabled:!0})},o.commentWorkout=function(){return new Promise((function(e,t){var s,n,a,r,i,c,l,u,h,p,b;return o.state.sendButtonEnabled?(a=void 0===(n=(s=o.props).callback)?function(){}:n,i=void 0===(r=s.inputRefObject)?{}:r,c=o.props.workout,l=o.props.stores.workoutStore,h=(u=o.state).comment,p=u.showAddImage,o.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:c.id,comment:h})).then((function(s){try{return(b=s)&&200===b.status&&(o.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(i[c.id]),p&&o.addImage()})),a({workout:c,response:b})),o.setState({sendButtonEnabled:!0}),e()}catch(e){return t(e)}}),t)):e(!1)}))},o.addImages=function(e){var t,s=o.state.comment;(t=s.images).push.apply(t,e.value),o.setState({comment:s})},o.addImage=function(){var e=o.state.showAddImage;o.setState({showAddImage:!(void 0!==e&&e)})},o.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},o.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},o.inputRef={},o}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this,o=this.props,s=o.inputRef,r=o.col,u=void 0===r?12:r,h=o.offset,p=void 0===h?0:h,b=o.showAvatar,m=void 0===b||b,f=o.extraClass,g=void 0===f?"":f,O=o.workout,j=this.state,v=j.comment,y=j.showAddImage,w=j.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+a.a.ucfirst(x.firstname,!0)+a.a.ucfirst(x.lastname,!0):""+a.a.ucfirst(x.email||"",!0),_=x.image||(x.images?x.images[0]:void 0);return Object(n.h)("div",{class:"col-"+u+" offset-"+p+" "+g},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},m&&Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(_?"background-image: url('"+_.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(i.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:v.body,ref:s})),Object(n.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" mb-2",disabled:!w,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))),y&&Object(n.h)(e,null,Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},v.images&&v.images.map((function(e){return Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:t.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:t.removeImage,"data-name":e.name},Object(n.h)("i",{class:"fas fa-trash"}),"  ",Object(n.h)(i.c,{id:"comments.remove-image"},"Remove")))})))),Object(n.h)(l.a,{object:v,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},o}(n.Component))||s;t.a=u}).call(this,o("hosL").Fragment)},"1OK2":function(e,t,o){"use strict";var s,n=o("hosL"),a=(o("Utv1"),o("/eY4"));Object(a.a)(s=function(e){function t(t){var o;(o=e.call(this,t)||this).touchStart=function(e){e.stopPropagation(),o.setState({startX:e.touches[0].pageX})},o.touchEnd=function(e){e.stopPropagation(),o.setState({startX:void 0,sliding:!1})},o.touchMove=function(e){if(e.stopPropagation(),o.state.totalImages>1){var t=o.state,s=t.startX,n=e.touches[0].pageX;t.sliding||(n>s+50?(o.setState({sliding:!0}),o.prevImage()):n<s-50&&(o.setState({sliding:!0}),o.nextImage()))}};var s=t.images,n=void 0===s?[]:s;return o.state={imageContainer:1,currentImage1:n[0]||{},currentImage2:{},currentIdx:0,totalImages:n.length||0,imageDots:[].concat(Array(n.length||0).fill(1).map((function(e,t){return e+t})))},o}var o,s;s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var a=t.prototype;return a.nextImage=function(){var e,t=this.state,o=1===t.imageContainer?2:1,s=t.currentIdx+1;s>t.totalImages-1&&(s=0),this.setState(((e={})["currentImage"+o]=this.props.images[s],e.currentIdx=s,e.imageContainer=o,e))},a.prevImage=function(){var e,t=this.state,o=t.imageContainer,s=t.currentIdx-1;s<0&&(s=t.totalImages-1),this.setState(((e={})["currentImage"+(1===o?2:1)]=this.props.images[s],e.currentIdx=s,e.imageContainer=1===o?2:1,e))},a.componentWillReceiveProps=function(e){if(e.images!==this.props.images){var t=e.images,o=void 0===t?[]:t;this.setState({imageContainer:1,currentImage1:o.length>0?o[0]:{},currentImage2:{},currentIdx:0,totalImages:o.length||0,imageDots:[].concat(Array(o.length||0).fill(1).map((function(e,t){return e+t})))})}},a.render=function(){var e,t,o=this,s=this.state,a=s.currentImage1,r=s.currentImage2,i=s.imageContainer,c=s.totalImages,l=s.imageDots,d=s.currentIdx,u=this["image"+i],h=1===i?a:r;if(h.dimensions){var p=h.dimensions,b=p.width,m=p.height,f=p.orientation;f>4&&f<9?(e=b,t=m):(e=m,t=b)}var g=h.dimensions?t/e:u&&u.height?u.width/u.height:4/3;return c<=0?"":Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"border rounded position-relative w-100",style:"height: calc(85vw / "+g+"); overflow: hidden; transition: all .3s ease-in-out;",onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},c>1&&Object(n.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(n.h)("small",null,d+1,"/",c)),a&&Object(n.h)("div",{class:"position-absolute",style:(1===i?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:a.s3LargeLink,class:"img-fluid align-middle",ref:function(e){return o.image1=e}})),r&&Object(n.h)("div",{class:"position-absolute",style:(2===i?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:r.s3LargeLink,class:"img-fluid align-middle",ref:function(e){return o.image2=e}}))),l.length>1&&Object(n.h)("div",{class:"w-100 text-center"},l.map((function(e){return Object(n.h)("span",{style:"color: "+(e===d+1?"#ffffff":"#808080")+";"},"•")}))))},t}(n.Component))},"2X7c":function(e,t,o){"use strict";function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var r,i=o("hosL"),c=o("Utv1"),l=o("/eY4"),d=(o("cneo"),o("go65")),u=o("OhSV"),h=o("ZOvn"),p=o("X9Km"),b=o("om2D"),m=o("3on9"),f=h.a.getVaccineTypes(),g={showLog:!1,okToAddLog:!0},O=Object(l.a)(r=function(e){function t(t){var o;return(o=e.call(this,t)||this).toggleLog=function(){o.setState({showLog:!o.state.showLog})},o.resetLog=function(){o.setState({newHistory:{date:c.a.isoDate(new Date,!1,!1,!0),time:c.a.isoTime(new Date),dogs:[]},showLog:!1})},o.addImages=function(e){if(Array.isArray(e.value)){var t=o.state.newHistory;t.images=Array.isArray(t.images)?[].concat(t.images,e.value):e.value,o.setState({newHistory:t})}},o.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},o.imageUploadStatus=function(e){o.setState({okToAddLog:e})},o.insertLog=function(){return new Promise((function(e,t){var s,a,r,i,l,d;return i=o.props.callback,l=(r=(a=o.props.stores).dogStore).dog,d=a.userStore.user,(s=o.state.newHistory).title||s.comment?s.id||0!==s.dogs.length?(s.date=s.date+" "+s.time,Promise.resolve(r.save({id:l.id||s.dogs[0],history:n({user:{id:d.id,email:d.email,firstname:d.firstname,lastname:d.lastname}},s)})).then((function(){try{return o.resetLog(),Promise.resolve(o.loadDog()).then((function(){try{return Promise.resolve(o.loadFeed()).then((function(){try{return c.a.isDefined(i)&&i(),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler hunder til logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),e(!1)):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler tittel på logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),e(!1))}))},o.updateField=function(e){var t=o.state.newHistory;t[e.field]=e.value,o.setState({newHistory:t})},o.setHistoryType=function(e){var t=o.props.stores.userStore.user.language,s=h.a.getHistoryMap(void 0===t?"en":t),n=o.state.newHistory,a=e.target.value;n.historyType=a,n.title||(n.title=s[a]),"maturity"===n.historyType&&(n.endDate=c.a.isoDate(c.a.addDays(n.date,21),!1,!1,!0)),"mating"!==n.historyType&&"unwantedMating"!==n.historyType||(n.endDate=c.a.isoDate(c.a.addDays(n.date,63),!1,!1,!0)),o.setState({newHistory:n})},o.setVaccineType=function(e){var t=o.state.newHistory,s=e.target.value;t.vaccineType=s,t.title+=" - "+f[s].name,t.endDate=c.a.isoDate(c.a.addDays(t.date,f[s].duration),!1,!1,!0),o.setState({newHistory:t})},o.state=n({newHistory:{date:c.a.isoDate(new Date,!1,!1,!0),time:c.a.isoTime(new Date),dogs:[]}},g),o}var o,s;s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var a=t.prototype;return a.loadDog=function(e){return new Promise(function(t){void 0===e&&(e=this.props);var o=e.dog;if(o&&o.id){var s=this.state.newHistory;s.dogs=[o.id],this.setState({newHistory:s})}return t()}.bind(this))},a.loadFeed=function(){return new Promise(function(e,t){return Promise.resolve(this.props.stores.userStore.getFeed({})).then((function(){try{return e()}catch(e){return t(e)}}),t)}.bind(this))},a.componentWillMount=function(){this.resetLog(),this.loadDog()},a.componentWillReceiveProps=function(e){e.dog.id!==this.props.dog.id&&(this.resetLog(),this.loadDog(e))},a.render=function(){var e=this,t=this.state,o=t.newHistory,s=t.showLog,n=t.okToAddLog,a=this.props,r=a.dog,c=a.className,l=void 0===c?"btn-sm btn-secondary float-left":c,h=this.props.stores,p=h.userStore.findTeam(h.workoutStore.currentTeam,!0);return s?Object(i.h)("div",{class:"col-12 px-0 border rounded "},Object(i.h)("button",{class:"'btn "+l,onClick:this.toggleLog},Object(i.h)("i",{class:"fas fa-plus"})," ",s?Object(i.h)(u.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(i.h)(u.c,{id:"dog.addlog.newlog"},"Ny logg")),Object(i.h)("br",null),s&&Object(i.h)("div",{class:"mb-2 py-4 px-2"},Object(i.h)("h5",null,Object(i.h)(u.c,{id:"dog.addlog.addlog"},"Legg til logg")),Object(i.h)(u.b,null,Object(i.h)(m.a,{stores:this.props.stores,object:o,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(i.h)(u.c,{id:"dog.addlog.dogs"},"Hunder"),help:Object(i.h)(u.c,{id:"dog.addlog.dogs-help"},"Hvilke hunder gjelder dette?"),updateField:this.updateField,filter:function(e){return r.id===e.id||o.dogs.indexOf(e.id)>-1},currentTeam:p})),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"form-group col"},Object(i.h)("label",{for:"dateInput"},Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(u.c,{id:"dog.addlog.date"},"Dato")),Object(i.h)("input",{type:"date",class:"form-control",id:"dateInput","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"newHistory.date"),value:o.date,autocomplete:"off"}),Object(i.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.date-help"},"Dato for logglinje."))),Object(i.h)("div",{class:"form-group col"},Object(i.h)("label",{for:"timeInput"},Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(u.c,{id:"dog.addlog.time"},"Klokka")),Object(i.h)("input",{type:"time",class:"form-control",id:"timeInput","aria-describedby":"timeHelp",onInput:Object(d.a)(this,"newHistory.time"),value:o.time,autocomplete:"off"}),Object(i.h)("small",{id:"timeHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.time-help"},"Tid for logglinje.")))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"typeInput"},Object(i.h)("i",{class:"fas fa-folder-open"})," ",Object(i.h)(u.c,{id:"dog.addlog.type"},"Type hendelse")),Object(i.h)("select",{class:"form-control",id:"typeInput","aria-describedby":"typeHelp",onInput:this.setHistoryType,value:o.historyType,autocomplete:"off"},Object(i.h)("option",{value:""},"-- ",Object(i.h)(u.c,{id:"dog.addlog.choose-type"},"Velg type")," --"),Object(i.h)("option",{value:"other"},Object(i.h)(u.c,{id:"dog.addlog.other"},"Annet")),Object(i.h)("option",{value:"stoolProblem"},Object(i.h)(u.c,{id:"dog.addlog.stoolProblem"},"Avføringsproblem")),Object(i.h)("option",{value:"bodyScore"},Object(i.h)(u.c,{id:"dog.addlog.bodyScore"},"Bodyscore")),Object(i.h)("option",{value:"diarrhea"},Object(i.h)(u.c,{id:"dog.addlog.diarrhea"},"Diarè")),Object(i.h)("option",{value:"foodLeftover"},Object(i.h)(u.c,{id:"dog.addlog.foodLeftover"},"Ikke spist opp maten")),Object(i.h)("option",{value:"animalchiropractor"},Object(i.h)(u.c,{id:"dog.addlog.animalchiropractor"},"Dyrekiropraktor")),Object(i.h)("option",{value:"clawClip"},Object(i.h)(u.c,{id:"dog.addlog.clawClip"},"Kloklipp")),Object(i.h)("option",{value:"maturity"},Object(i.h)(u.c,{id:"dog.addlog.maturity"},"Løpetid")),Object(i.h)("option",{value:"massage"},Object(i.h)(u.c,{id:"dog.addlog.massage"},"Massasje")),Object(i.h)("option",{value:"newStraw"},Object(i.h)(u.c,{id:"dog.addlog.newStraw"},"Ny halm/treull")),Object(i.h)("option",{value:"update"},Object(i.h)(u.c,{id:"dog.addlog.update"},"Oppdatering")),Object(i.h)("option",{value:"deworming"},Object(i.h)(u.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(i.h)("option",{value:"mating"},Object(i.h)(u.c,{id:"dog.addlog.mating"},"Parring")),Object(i.h)("option",{value:"injury"},Object(i.h)(u.c,{id:"dog.addlog.injury"},"Skade")),Object(i.h)("option",{value:"fight"},Object(i.h)(u.c,{id:"dog.addlog.fight"},"Slåsskamp")),Object(i.h)("option",{value:"sick"},Object(i.h)(u.c,{id:"dog.addlog.sick"},"Syk")),Object(i.h)("option",{value:"unwantedMating"},Object(i.h)(u.c,{id:"dog.addlog.unwantedMating"},"Tjuvparring")),Object(i.h)("option",{value:"vaccine"},Object(i.h)(u.c,{id:"dog.addlog.vaccine"},"Vaksine")),Object(i.h)("option",{value:"weight"},Object(i.h)(u.c,{id:"dog.addlog.weight"},"Veiing")),Object(i.h)("option",{value:"veterinarianVisit"},Object(i.h)(u.c,{id:"dog.addlog.veterinarianVisit"},"Vetrinær besøk")," ")),Object(i.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.type-help"},"Type hendelse. Vetrinær besøk, vaksinering, syk, løpetid, etc."))),["vaccine"].indexOf(o.historyType)>-1&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"vaccineTypeInput"},Object(i.h)("i",{class:"fas fa-hourglass-end"})," ",Object(i.h)(u.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(i.h)("select",{class:"form-control",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:this.setVaccineType,value:o.vaccineType,autocomplete:"off"},Object(i.h)("option",{value:""},"-- ",Object(i.h)(u.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(i.h)("option",{value:"rabies"},Object(i.h)(u.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(i.h)("option",{value:"deworming"},Object(i.h)(u.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(i.h)("option",{value:"BbPi"},Object(i.h)(u.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(i.h)("option",{value:"DHP"},Object(i.h)(u.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(i.h)("option",{value:"DHPPi"},Object(i.h)(u.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)"))),Object(i.h)("small",{id:"vaccineTypeHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.vaccine-help"},"Hvilken vaksinetype er dette?"))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"nameInput"},Object(i.h)(u.c,{id:"dog.addlog.title"},"Tittel")),Object(i.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"newHistory.title"),value:o.title,autocomplete:"off",required:!0}),Object(i.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.title-help"},"Tittel på logglinje. Vetrinær besøk, Vaksinering, Syk, Profilbilde, etc."))),["vaccine","maturity","unwantedMating","mating"].indexOf(o.historyType)>-1&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"endDateInput"},Object(i.h)("i",{class:"fas fa-hourglass-end"})," ",Object(i.h)(u.c,{id:"dog.addlog.duration"},"Varighet")),Object(i.h)("input",{type:"date",class:"form-control",id:"endDateInput","aria-describedby":"endDateHelp",onInput:Object(d.a)(this,"newHistory.endDate"),value:o.endDate,autocomplete:"off"}),Object(i.h)("small",{id:"endDateHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.duration-help"},"Når går denne vaksinen ut?"))),("weight"===o.historyType||"bodyScore"===o.historyType)&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"weightInput"},Object(i.h)("i",{class:"fas fa-balance-scale"})," ",Object(i.h)(u.c,{id:"dog.addlog.weight-of-dog"},"Vekt")),Object(i.h)("input",{type:"text",class:"form-control",id:"weightInput","aria-describedby":"weightHelp",onInput:Object(d.a)(this,"newHistory.weight"),value:o.weight,autocomplete:"off"}),Object(i.h)("small",{id:"weightHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.weight-of-dog-help"},"Vekten til hunden."))),("weight"===o.historyType||"bodyScore"===o.historyType)&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"bodyScoreInput"},Object(i.h)("i",{class:"fas fa-balance-scale"})," ",Object(i.h)(u.c,{id:"dog.addlog.bodyscore"},"Bodyscore")),Object(i.h)("input",{type:"text",class:"form-control",id:"bodyScoreInput","aria-describedby":"bodyScoreHelp",onInput:Object(d.a)(this,"newHistory.bodyScore"),value:o.bodyScore,autocomplete:"off"}),Object(i.h)("small",{id:"bodyScoreHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.bodyscore-help"},"Bodyscore til hunden."))),("veterinarianVisit"===o.historyType||"vaccine"===o.historyType)&&Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"costInput"},Object(i.h)("i",{class:"fas fa-money-bill-alt"})," ",Object(i.h)(u.c,{id:"dog.addlog.cost"},"Kostnad")),Object(i.h)("input",{type:"text",class:"form-control",id:"costInput","aria-describedby":"costHelp",onInput:Object(d.a)(this,"newHistory.cost"),value:o.cost,autocomplete:"off",pattern:"[0-9]{3}",title:"Kun tall. Ikke noen andre tegn eller symboler."}),Object(i.h)("small",{id:"costHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.cost-help"},"Kostnad for denne hendelsen."))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"commentInput"},Object(i.h)("i",{class:"fas fa-quote-right"})," ",Object(i.h)(u.c,{id:"dog.addlog.commet"},"Kommentar")),Object(i.h)("input",{type:"text",class:"form-control",id:"commentInput","aria-describedby":"commentHelp",onInput:Object(d.a)(this,"newHistory.comment"),value:o.comment,autocomplete:"off"}),Object(i.h)("small",{id:"commentHelp",class:"form-text text-muted"},Object(i.h)(u.c,{id:"dog.addlog.comment-help"},"Kommentar til loggen. Skriv mer om hva som hendte."))),Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"row-12"},Object(i.h)("label",{for:"imageInput"},Object(i.h)("i",{class:"fas fa-camera"})," ",Object(i.h)(u.c,{id:"dog.addlog.images"},"Bilder")))),Object(i.h)("div",{class:"row"},o.images&&o.images.map((function(t){return Object(i.h)("div",{class:"col-3 p-1"},Object(i.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}))})))),Object(i.h)(b.a,{object:o,field:"images",updateField:this.addImages,uploadStatus:this.imageUploadStatus,autoOpen:!1}),Object(i.h)("button",{type:"button",class:"btn btn-success",onClick:this.insertLog,disabled:!n},n?Object(i.h)(u.c,{id:"dog.addlog.addlog"},"Legg til logg"):Object(i.h)(u.c,{id:"dog.addlog.please-wait"},"vent litt...")),Object(i.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.resetLog},Object(i.h)(u.c,{id:"dog.addlog.cancel"},"Glem det")))):Object(i.h)("button",{class:"'btn "+l,onClick:this.toggleLog},Object(i.h)("i",{class:"fas fa-plus"})," ",s?Object(i.h)(u.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(i.h)(u.c,{id:"dog.addlog.newlog"},"Ny logg"))},t}(i.Component))||r;t.a=O},"3on9":function(e,t,o){"use strict";(function(e){function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c,l=o("hosL"),d=o("Utv1"),u=o("/eY4"),h=o("cneo"),p=o("go65"),b=(o("Y3FI"),o("OhSV")),m=o("dVCl"),f={id:0,name:"empty"},g=function(){var e=r({},f);return e.unique=(new Date).getTime()+"-"+d.a.randomPassword(),e},O=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t=this.props,o=t.provided,n=t.snapshot,a=t.innerRef,r=t.children,i=t.className;return Object(l.h)("div",s({class:"h-100 border "+i},o.droppableProps,{ref:a,style:(e=n.isDraggingOver,{borderStyle:e?"dashed":"",width:110})}),r)},t}(l.Component),j=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).removeThisPlaceholder=function(){var t=e.props,o=t.removePlaceholder;(void 0===o?function(){}:o)({idx:t.idx,list:t.list})},e}return n(o,t),o.prototype.render=function(){var t,o,n=this.props,a=n.provided,i=n.snapshot,c=n.innerRef,u=n.dog;return Object(l.h)("div",s({},a.draggableProps,a.dragHandleProps,{ref:c,class:"mx-2 my-2 p-2",style:(t=i.isDragging,o=a.draggableProps.style,r({userSelect:"none",background:t?"#808080":"",maxWidth:92,height:100},o))}),0===u.id?Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2"},Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"}," ")),Object(l.h)("div",{class:"text-center"},Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeThisPlaceholder},Object(l.h)("i",{class:"fas fa-trash-alt"}))," "))):Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:u.image?'background-image: url("'+u.image.s3ThumbLink+'");':""},!u.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},d.a.ucfirst(u.name,!0))),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,u.shortname||u.name,Object(l.h)("br",null))))))},o}(l.Component),v={filterby:d.a.get("dogs-filter")},y=Object(u.a)(c=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleDog=function(e){return new Promise((function(t,s){var n,a,r,i,c,l,d,u,p,b,m,f,g;return n=e.target.closest("#dogContainer").dataset.id,a=parseInt(n,10),i=(r=o.props).object,c=r.type,l=r.elementtype,d=r.field,u=r.updateField,p=r.isNew,b=r.showPositions,(f=(m=Object(h.i)(i[d])||[]).indexOf(a))>-1?(m.splice(f,1),g="remove"):(m.push(a),g="add"),Promise.resolve(u({id:i.id,field:d,value:m,type:c,elementtype:l,isNew:p,skipTimer:!0,singleValue:a})).then((function(){try{return o.setState({filterText:""}),b&&o.dndDogs({dogId:a,action:g}),t()}catch(e){return s(e)}}),s)}))},o.findAllDogsInTeams=function(){var e=o.props.stores.dogStore.dogs,t=void 0===e?[]:e,s=o.props,n=s.object,a=s.currentTeam,r=void 0===a?{}:a,i=Object(h.i)(n.teams||[]),c=r.id;return t.filter((function(e){return!!(e.team===c||e.teams&&e.teams.indexOf(c)>-1)||(i.indexOf(e.team)>-1||!!e.teams&&e.teams.some((function(e){return i.indexOf(e)>=0})))})).map((function(e){return e.id}))},o.addAllDogsInTeam=function(){return new Promise((function(e,t){var s,n,a,r,i,c,l,d;return n=(s=o.props).object,a=s.type,r=s.elementtype,i=s.field,c=s.updateField,l=s.isNew,d=o.findAllDogsInTeams(),Promise.resolve(c({id:n.id,field:i,value:d,type:a,elementtype:r,isNew:l,skipTimer:!0})).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},o.dndDogs=function(e){var t=e.dogId,s=e.action,n=o.props.stores.dogStore.dogs,a=void 0===n?[]:n,r=o.props.object,i=r.dogs?function(e){return r.dogs.indexOf(e.id)>-1}:function(){return!1},c=Object(h.i)(a),l=c.filter(i),d=Math.ceil(l.length/2),u=l.splice(0,d),p=[];r.dogsLeft&&r.dogsLeft.length>0&&(p=r.dogsLeft.filter((function(e){return 0===e||c.find((function(t){return t.id===e}))&&-1===r.dogsRight.indexOf(e)})).map((function(e){return c.find((function(t){return t.id===e}))||g()})));var b=[];if(r.dogsRight&&r.dogsRight.length>0&&(b=r.dogsRight.filter((function(e){return 0===e||c.find((function(t){return t.id===e}))&&-1===r.dogsLeft.indexOf(e)})).map((function(e){return c.find((function(t){return t.id===e}))||g()}))),"add"===s){var m=a.find((function(e){return e.id===t}));m&&(p.length>b.length?b.push(m):p.push(m))}if("remove"===s){var f=p.findIndex((function(e){return e.id===t}));f>-1&&p.splice(f,1);var O=b.findIndex((function(e){return e.id===t}));O>-1&&b.splice(O,1)}0===p.length&&0===b.length&&(p=u,b=l),s?o.setState({dogsLeft:p,dogsRight:b,dogPositionUpdated:!0},(function(){return o.updateDogPositions()})):o.setState({dogsLeft:p,dogsRight:b})},o.addPlaceholderLeft=function(){var e=o.state.dogsLeft,t=void 0===e?[]:e;t.push(g()),o.setState({dogsLeft:t,dogPositionUpdated:!0})},o.addPlaceholderRight=function(){var e=o.state.dogsRight,t=void 0===e?[]:e;t.push(g()),o.setState({dogsRight:t,dogPositionUpdated:!0})},o.removePlaceholder=function(e){var t=e.idx,s=e.list;if("dogsLeft"===s){var n=o.state.dogsLeft,a=void 0===n?[]:n;a.splice(t,1),o.setState({dogsLeft:a,dogPositionUpdated:!0})}if("dogsRight"===s){var r=o.state.dogsRight,i=void 0===r?[]:r;i.splice(t,1),o.setState({dogsRight:i,dogPositionUpdated:!0})}},o.clearAllDogs=function(){return new Promise((function(e,t){var s;return s=o.props,Promise.resolve((0,s.updateField)({id:s.object.id,field:s.field,value:[],type:s.type,elementtype:s.elementtype,isNew:s.isNew,skipTimer:!0})).then((function(){try{return o.resetDogPositions(),e()}catch(e){return t(e)}}),t)}))},o.toggleSearchField=function(){o.setState({showSearchField:o.state.showSearchField?null:1})},o.getList=function(e){return o.state[e]},o.onDragEnd=function(e){var t=e.source,s=e.destination;if(s)if(t.droppableId===s.droppableId){var n,a=function(e,t,o){var s=Array.from(e),n=s.splice(t,1);return s.splice(o,0,n[0]),s}(o.getList(t.droppableId),t.index,s.index);o.setState(((n={})[t.droppableId]=a,n.dogPositionUpdated=!0,n))}else{var r=function(e,t,o,s){var n=Array.from(e),a=Array.from(t),r=n.splice(o.index,1);a.splice(s.index,0,r[0]);var i={};return i[o.droppableId]=n,i[s.droppableId]=a,i}(o.getList(t.droppableId),o.getList(s.droppableId),t,s);o.setState({dogsLeft:r.dogsLeft,dogsRight:r.dogsRight,dogPositionUpdated:!0})}},o.updateDogPositions=function(){return new Promise((function(e,t){var s,n,a,r,i,c,l,d;return n=(s=o.state).dogsLeft,r=void 0===(a=s.dogsRight)?[]:a,c=(i=o.props).object,l=i.updateField,d=i.isNew,Promise.resolve(l({id:c.id,field:"dogsLeft",value:(void 0===n?[]:n).map((function(e){return e.id})),isNew:d,datatype:"array"})).then((function(){try{return Promise.resolve(l({id:c.id,field:"dogsRight",value:r.map((function(e){return e.id})),isNew:d,datatype:"array"})).then((function(){try{return o.setState({dogPositionUpdated:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},o.resetDogPositions=function(){return new Promise((function(e,t){var s,n,a,r,i,c,l,d,u,p,b;return n=void 0===(s=o.props.stores.dogStore.dogs)?[]:s,r=(a=o.props).object,i=a.updateField,c=a.isNew,l=function(e){return r.dogs.indexOf(e.id)>-1},d=Object(h.i)(n),u=d.filter(l),p=Math.ceil(u.length/2),b=u.splice(0,p),Promise.resolve(i({id:r.id,field:"dogsLeft",value:b.map((function(e){return e.id})),isNew:c,datatype:"array"})).then((function(){try{return Promise.resolve(i({id:r.id,field:"dogsRight",value:u.map((function(e){return e.id})),isNew:c,datatype:"array"})).then((function(){try{return o.setState({dogsLeft:b,dogsRight:u,dogPositionUpdated:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},o.clearDogPositions=function(){return new Promise((function(e,t){var s,n,a,r,i,c;return n=(s=o.props).object,a=s.updateField,r=s.isNew,i=[],c=[],Promise.resolve(a({id:n.id,field:"dogsLeft",value:c,isNew:r,datatype:"array"})).then((function(){try{return Promise.resolve(a({id:n.id,field:"dogsRight",value:i,isNew:r,datatype:"array"})).then((function(){try{return o.setState({dogsLeft:c,dogsRight:i,dogPositionUpdated:!1}),e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},o.changeFilter=function(e){var t=e.target.value;o.setState({filterby:t}),d.a.set("dogs-filter",t),o.loadDog()},o.getFilteredDogs=function(e){void 0===e&&(e=o.props);var t=o.state,s=t.filterText,n=e.object,a=e.filter,r=o.props.stores.dogStore.dogs,i=void 0===r?[]:r,c=void 0===a?function(){return!0}:a;if(n.dogs)switch(t.filterby){case"all":c=s?function(e){return e.name.match(new RegExp(s,"i"))||n.dogs.indexOf(e.id)>-1}:function(){return!0};break;case"onlySelected":c=s?function(e){return e.name.match(new RegExp(s,"i"))||n.dogs.indexOf(e.id)>-1}:function(e){return n.dogs.indexOf(e.id)>-1};break;case"onlyTeam":c=s?function(e){return e.name.match(new RegExp(s,"i"))||n.dogs.indexOf(e.id)>-1}:function(e){return n.team===e.team||n.dogs.indexOf(e.id)>-1};break;case"leadOnly":c=function(e){return n.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.lead.distanceKm")>0};break;case"pointOnly":c=function(e){return n.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.point.distanceKm")>0};break;case"teamOnly":c=function(e){return n.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.team.distanceKm")>0};break;case"wheelOnly":c=function(e){return n.dogs.indexOf(e.id)>-1||d.a.getNestedValue(e,"positions.wheel.distanceKm")>0}}var l=i.filter(c);o.setState({filteredDogs:l})},o.state=r({dogsLeft:[],dogsRight:[]},v),o}n(o,t);var s=o.prototype;return s.loadDog=function(e){return new Promise(function(t,o){var s;return void 0===e&&(e=this.props),s=this.props.showPositions,Promise.resolve(e.stores.dogStore.load({query:{deceased:0},addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]})).then(function(){try{return s&&this.dndDogs({}),this.getFilteredDogs(),t()}catch(e){return o(e)}}.bind(this),o)}.bind(this))},s.componentWillReceiveProps=function(e){e.filter!==this.props.filter&&this.getFilteredDogs(e)},s.componentDidMount=function(){this.loadDog()},s.render=function(){var t=this,o=this.state,s=o.filterby,n=o.filterText,a=o.showSearchField,r=o.dogsLeft,i=void 0===r?[]:r,c=o.dogsRight,u=void 0===c?[]:c,f=o.dogPositionUpdated,g=o.filteredDogs,v=void 0===g?[]:g,y=this.props.stores,w=y.userStore,k=y.dogStore,x=k.dogs,S=void 0===x?[]:x,_=w.user.language,P=void 0===_?"en":_,D=this.props,T=D.saved,I=void 0===T?{}:T,C=D.object,L=D.field,R=D.title,E=D.icon,F=D.help,U=D.showPositions,A=void 0!==U&&U,N=D.currentTeam,V=void 0===N?{}:N,z=Object(h.i)(C[L])||[],B=this.findAllDogsInTeams(),H=C.teams?C.teams.map((function(e){return w.findTeam(e)})):[];return Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(I[L+"."+C.id]?"is-valid":"")},Object(l.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(l.h)("i",{class:"fas fa-search"})),Object(l.h)("button",{class:"btn btn-sm btn-link float-right mr-5",onClick:this.clearAllDogs},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(b.c,{id:"dog.dogs.remove-all-dogs"},"Fjern alle hundene")),Object(l.h)("label",{for:L+"Input"},E&&Object(l.h)("i",{class:E+" text-muted"})," ",R),Object(l.h)("div",{class:"container-fluid px-0"},a&&Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)(b.b,null,Object(l.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:Object(l.h)(b.c,{id:"dog.dogs.search-for-dogs"},"Søk etter hund"),value:n,onInput:Object(p.a)(this,"filterText")})))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto my-2 mx-auto"},Object(l.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding-top: 0; padding-bottom: 0; height: 1.4em; font-size: 0.8em;",onInput:this.changeFilter},Object(l.h)("option",{value:"",selected:!s},"-- ",Object(l.h)(b.c,{id:"dog.dogs.choose-filter"},"Choose filter")," ---"),Object(l.h)("option",{value:"all",selected:"all"===s},Object(l.h)(b.c,{id:"dog.dogs.show-all"},"Vis alle")),Object(l.h)("option",{value:"onlySelected",selected:"onlySelected"===s},Object(l.h)(b.c,{id:"dog.dogs.show-only-selected"},"Vis kun valgte")),Object(l.h)("option",{value:"onlyTeam",selected:"onlyTeam"===s},Object(l.h)(b.c,{id:"dog.dogs.show-only-team-dogs"},"Vis kun hundene i teamet")),Object(l.h)("option",{value:"leadOnly",selected:"leadOnly"===s},Object(l.h)(b.c,{id:"dog.dogs.show-lead-dogs-only"},"Vis kun lederhunder")),Object(l.h)("option",{value:"pointOnly",selected:"pointOnly"===s},Object(l.h)(b.c,{id:"dog.dogs.show-point-dogs-only"},"Vis kun pointhunder")),Object(l.h)("option",{value:"teamOnly",selected:"teamOnly"===s},Object(l.h)(b.c,{id:"dog.dogs.show-team-dogs-only"},"Vis kun teamhunder")),Object(l.h)("option",{value:"wheelOnly",selected:"wheelOnly"===s},Object(l.h)(b.c,{id:"dog.dogs.show-wheel-dogs-only"},"Vis kun wheelhunder"))))))),Object(l.h)("div",{class:"row"},B.length>0&&Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-primary btn-block",onClick:this.addAllDogsInTeam},Object(l.h)("i",{class:"fas fa-plus mr-2"})," ",Object(l.h)(b.c,{id:"dog.dogs.add-all-in-team",fields:{total:B.length}},"Add all dogs in team"),V.name?": "+V.name:"",H&&H.length>0&&Object(l.h)("span",{class:"font-weight-lighter"},", ",H.map((function(t,o){return Object(l.h)(e,null,o>0?", ":"",t)}))))),d.a.isArray(S)&&v.map((function(e){var o=w.findDogstatus({status:e.status,language:P}),n=w.findDogposition({position:e.position,language:P}),a=k.findHistoryStatuses(e.id);return Object(l.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-1"},Object(l.h)("div",{class:"border rounded px-3 pt-2 pb-1 "+(z.indexOf(e.id)>-1?"bg-success":"")+" position-relative",onClick:t.toggleDog,id:"dogContainer","data-id":e.id,style:"padding: .3rem !important; line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},n&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-"+(n.class||"primary")+" mr-3"},n.icon&&Object(l.h)("i",{class:n.icon})," ",n.name)),"leadOnly"===s&&d.a.getNestedValue(e,"positions.lead.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(b.c,{id:"dogs.sort-lead"},"Lead"),": ",d.a.format(d.a.getNestedValue(e,"positions.lead.distanceKm"),0),"km")),"pointOnly"===s&&d.a.getNestedValue(e,"positions.point.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(b.c,{id:"dogs.sort-point"},"Point"),": ",d.a.format(d.a.getNestedValue(e,"positions.point.distanceKm"),0),"km")),"teamOnly"===s&&d.a.getNestedValue(e,"positions.team.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(b.c,{id:"dogs.sort-team"},"Team"),": ",d.a.format(d.a.getNestedValue(e,"positions.team.distanceKm"),0),"km")),"wheelOnly"===s&&d.a.getNestedValue(e,"positions.wheel.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(b.c,{id:"dogs.sort-wheel"},"Wheel"),": ",d.a.format(d.a.getNestedValue(e,"positions.wheel.distanceKm"),0),"km")),Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2",style:e.image?'background-image: url("'+e.image.s3ThumbLink+'");':""},!e.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},d.a.ucfirst(e.name,!0))),Object(l.h)("div",{class:"flex-grow-1 pl-2 pr-1",style:"border-right: 4px solid "+w.findHarness(e.harness,"colorNonstop")+" !important; line-height: 0.9em;"},Object(l.h)("small",null,Object(l.h)("small",{class:"float-right"},e.birth&&Object(l.h)("span",{class:"mr-1"},d.a.age(e.birth,e.deceased)),"female"===e.gender?Object(l.h)("i",{class:"fas fa-venus"}):Object(l.h)("i",{class:"fas fa-mars"})),e.shortname||e.name,Object(l.h)("br",null),Object(l.h)("div",{style:"line-height: 0.8em;"},Object(l.h)("small",null,w.findTeam(e.team)))),Object(l.h)("small",{class:"float-right"},o&&o.id&&Object(l.h)("span",{class:"badge badge-"+o.class+" mr-2 font-weight-light"},o.icon&&Object(l.h)("i",{class:o.icon})," ",o.name),e.specialNeeds&&Object(l.h)("span",{class:"badge badge-warning mr-2 font-weight-light"},Object(l.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),a&&a.map((function(e){return Object(l.h)("span",{class:"badge badge-warning mr-2",title:d.a.isoDate(e.endDate,!1,!1,!0)},e.title)})))))))})))),I[L+"."+C.id]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(b.c,{id:"dog.dogs.saved-changes"},"Endringene er lagret")):Object(l.h)("small",{id:L+"Help",class:"form-text text-muted"},F),A&&Object(l.h)(e,null,Object(l.h)("div",{class:"container-fluid px-0 clearfix"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,Object(l.h)(b.c,{id:"dog.dogs.dogs-positions"},"Posisjoner i spannet")))),Object(l.h)(m.a,{onDragEnd:this.onDragEnd},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6 pr-0",style:"min-height: 100px;"},Object(l.h)(m.c,{droppableId:"dogsLeft"},(function(e,o){return Object(l.h)(O,{provided:e,snapshot:o,innerRef:e.innerRef,className:"ml-auto"},i&&i.map((function(e,s){return Object(l.h)(m.b,{key:e.id+"-"+e.unique,draggableId:"dragId-"+e.id+"-"+e.unique,index:s},(function(n){return Object(l.h)(j,{provided:n,snapshot:o,innerRef:n.innerRef,dog:e,removePlaceholder:t.removePlaceholder,idx:s,list:"dogsLeft"})}))})),e.placeholder)}))),Object(l.h)("div",{class:"col-6 pl-0",style:"min-height: 100px;"},Object(l.h)(m.c,{droppableId:"dogsRight"},(function(e,o){return Object(l.h)(O,{provided:e,snapshot:o,innerRef:e.innerRef,className:"mr-auto"},u&&u.map((function(e,s){return Object(l.h)(m.b,{key:e.id+"-"+e.unique,draggableId:"dragId-"+e.id+"-"+e.unique,index:s},(function(n){return Object(l.h)(j,{provided:n,snapshot:o,innerRef:n.innerRef,dog:e,removePlaceholder:t.removePlaceholder,idx:s,list:"dogsRight"})}))})),e.placeholder)}))))),Object(l.h)("div",{class:"row mb-3 mt-2"},Object(l.h)("div",{class:"col-6 pr-0"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderLeft},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(b.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))),Object(l.h)("div",{class:"col-6 pl-0"},Object(l.h)("button",{class:"float-right btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderRight},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(b.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))))),Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"btn btn-sm btn-"+(f?"primary":"secondary"),onClick:this.updateDogPositions},Object(l.h)("i",{class:"fas fa-save"})," ",Object(l.h)(b.c,{id:"dog.dogs.saveDogPositions"},"Save dog positions"))),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-warning",onClick:this.resetDogPositions},Object(l.h)("i",{class:"fas fa-sync"})," ",Object(l.h)(b.c,{id:"dog.dogs.resetDogPositions"},"Reset dog positions")))),Object(l.h)("div",{class:"row mt-2"},Object(l.h)("div",{class:"col-6"}," "),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-link",onClick:this.clearDogPositions},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(b.c,{id:"dog.dogs.clearDogPositions"},"Clear dog positions")))))))},o}(l.Component))||c;t.a=y}).call(this,o("hosL").Fragment)},"3pQw":function(e,t,o){"use strict";var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4");o("OhSV"),Object(r.a)(s=function(e){function t(){return e.apply(this,arguments)||this}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props.summary,t=void 0===e?{}:e;return Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded"},Object(n.h)("div",{class:"text-muted mt-2",style:"font-size: 40px; line-height: 1;"},t.week),Object(n.h)("div",{class:"text-muted",style:"font-size: 10px; line-height: 0.8em;"},t.year)),Object(n.h)("div",{class:"flex-grow-1 pl-3"},Object(n.h)("h5",{class:"my-0"},t.week," - ",t.year),Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-wave-square"})," ",t.count,Object(n.h)("i",{class:"fas fa-road ml-2"})," ",a.a.format(t.distanceKm,0),"km",Object(n.h)("i",{class:"fas fa-mountain ml-2"})," ",a.a.format(t.elevation,0),"m",Object(n.h)("i",{class:"fas fa-stopwatch ml-2"})," ",a.a.secToHms(t.duration),Object(n.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",a.a.format(t.speedAvg,1),"km/t")))))},t}(n.Component))},"3wGD":function(e,t,o){"use strict";var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=o("OhSV"),c=o("go65"),l=(o("ETxl"),o("ZOvn")),d=Object(r.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).commentWorkout=function(){return new Promise((function(e,t){var s,n,a,r,i,c,d,u,h,p,b;return o.state.sendButtonEnabled?(a=void 0===(n=(s=o.props).callback)?function(){}:n,r=s.commentId,c=void 0===(i=s.inputRefObject)?{}:i,d=o.props.workout,u=o.props.stores.workoutStore,p=void 0===(h=o.state.comment)?"":h,o.setState({sendButtonEnabled:!1}),Promise.resolve(u.commentReplyWorkout({id:d.id,commentId:r,comment:p})).then((function(s){try{return(b=s)&&200===b.status&&(o.setState({comment:""},(function(){l.a.resizeTextarea(c[r])})),a({workout:d,response:b,commentId:r})),o.setState({sendButtonEnabled:!0}),e()}catch(e){return t(e)}}),t)):e(!1)}))},o.state={sendButtonEnabled:!0},o.inputRef={},o}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props.inputRef,t=this.state,o=t.comment,s=t.sendButtonEnabled,r=this.props.stores.userStore.user,d=void 0===r?{}:r,u=d.firstname?""+a.a.ucfirst(d.firstname,!0)+a.a.ucfirst(d.lastname,!0):""+a.a.ucfirst(d.email||"",!0),h=d.image||(d.images?d.images[0]:void 0);return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?"background-image: url('"+h.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!h&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},u)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(i.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:o,ref:e})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(s?"primary":"secondary")+" mb-2",disabled:!s,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))))},t}(n.Component))||s;t.a=d},"7L9N":function(e,t,o){"use strict";function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}o.d(t,"a",(function(){return n}))},"7g1v":function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=(o("cneo"),o("OhSV")),c=o("wanP"),l=o("ZOvn"),d=Object(r.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.dog,s=t.showWorkout,r=t.showInfo,d=t.hideTeam,u=void 0!==d&&d,h=t.fullWidth,p=void 0!==h&&h,b=t.daysBack,m=void 0===b?7:b,f=t.filterBy,g=void 0===f?"":f,O=this.props.stores,j=O.userStore,v=O.dogStore,y=O.workoutPlanStore;if(!o)return"";var w=j.user.language,k=void 0===w?"en":w,x=j.findDogstatus({status:o.status,language:k}),S=o.statuses?o.statuses.map((function(e){return j.findDogstatus({status:e,language:k})})):[],_=j.findDogposition({position:o.position,language:k}),P=v.findCurrentWorkoutSummary(o.id)||{},D=a.a.getWeek(new Date),T=a.a.getYear(),I=(new Date).getMonth()+1,C=parseInt(I<8?T-1:T,10),L=this.props,R=L.week,E=void 0===R?D:R,F=L.year,U=y.sumWorkoutPlanDaysBack(parseInt(void 0===F?C:F,10),parseInt(E,10),m)||0,A=a.a.format(P.distanceKm||0,0),N=l.a.hasBirthday(o.birth),V=!1,z=0;return A&&U&&(z=A/U*100,V=!0),Object(n.h)("div",{class:(p?"":"col-4")+" mb-3 "+(V?"mt-2":"")+" position-relative"},Object(n.h)("div",{class:"text-center border border-secondary rounded-circle imageRounded mx-auto text-muted pt-2 position-relative",style:(o.image?'background-image: url("'+o.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!o.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a.a.ucfirst(o.name,!0)),V&&Object(n.h)("div",{class:"position-absolute",style:"top: -12px; left: -12px;"},Object(n.h)(c.a,{key:"gauge-"+z,radius:48,heightAdd:15,showPercentText:!1,percent:z,prefix:"%",total:U+" km",totalY:"95%",completed:A+" km",completedY:"85%"}))),Object(n.h)("div",{class:V?"mt-4":"",style:"line-height: 1.0em;"},Object(n.h)("small",null,Object(n.h)("span",{class:"float-right"},o.birth&&Object(n.h)("span",{class:"mr-2"},a.a.age(o.birth,o.deceased)),"female"===o.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"})),Object(n.h)("a",{class:"stretched-link",href:"/dogs/"+o.id},Object(n.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},o.shortname||o.name,N&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))),!u&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-light"},j.findTeam(o.team)),Object(n.h)("br",null))),g&&o.positions&&o.positions.lead&&Object(n.h)("div",{class:""},"leadOnly"===g&&o.positions.lead.distanceKm>0&&Object(n.h)("span",{class:"badge badge-success mr-2"},Object(n.h)("span",null,Object(n.h)(i.c,{id:"dogs.sort-lead"},"Lead"),":")," ",a.a.format(o.positions.lead.distanceKm,0)," km"),"pointOnly"===g&&o.positions.point.distanceKm>0&&Object(n.h)("span",{class:"badge badge-success mr-2"},Object(n.h)("span",null,Object(n.h)(i.c,{id:"dogs.sort-point"},"Point"),":")," ",a.a.format(o.positions.point.distanceKm,0)," km"),"teamOnly"===g&&o.positions.team.distanceKm>0&&Object(n.h)("span",{class:"badge badge-success mr-2"},Object(n.h)("span",null,Object(n.h)(i.c,{id:"dogs.sort-team"},"Team"),":")," ",a.a.format(o.positions.team.distanceKm,0)," km"),"wheelOnly"===g&&o.positions.wheel.distanceKm>0&&Object(n.h)("span",{class:"badge badge-success mr-2"},Object(n.h)("span",null,Object(n.h)(i.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",a.a.format(o.positions.wheel.distanceKm,0)," km")),Object(n.h)("small",null,s&&Object(n.h)("small",{class:"text-muted"},P&&P.distanceKm>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-road"})," ",a.a.format(P.distanceKm,0),"km"),P&&P.elevation>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-mountain"})," ",a.a.format(P.elevation,0),"m"),P&&P.duration>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-clock"})," ",a.a.secToHms(P.duration,!0)),P&&P.speedAvg>0&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",a.a.format(P.speedAvg,1),"km/t")),r&&Object(n.h)("small",{class:"text-muted"},o.weight&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",a.a.format(o.weight,1)," kg"),o.bodyScore&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(o.bodyScore,1))),Object(n.h)("div",{class:"clearfix pb-0 pt-1"},_&&_.class&&Object(n.h)("span",{class:"badge badge-"+(_.class||"primary")+" mr-2"},_.icon&&Object(n.h)("i",{class:_.icon})," ",_.name),o.specialNeeds&&Object(n.h)("span",{class:"badge badge-warning mr-2"},Object(n.h)("i",{class:"fas fa-exclamation-triangle"})," ",o.specialNeeds),x&&x.class&&Object(n.h)("span",{class:"badge badge-"+x.class+" mr-2 mt-1"},x.icon&&Object(n.h)("i",{class:x.icon})," ",x.name),S&&S.map((function(t){return Object(n.h)(e,null,t&&t.class&&Object(n.h)("span",{class:"badge badge-"+t.class+" mr-2 mt-1"},t.icon&&Object(n.h)("i",{class:t.icon})," ",t.name))}))))))},o}(n.Component))||s;t.a=d}).call(this,o("hosL").Fragment)},"8Lgr":function(e,t,o){"use strict";(function(e){function s(e){return r.a.format(e,e<5?2:1)}var n,a=o("hosL"),r=o("Utv1"),i=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(i.a)(n=function(t){function o(){return t.apply(this,arguments)||this}var n,r;return r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.value,n=void 0===o?0:o,r=t.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(a.h)(e,null,Object(a.h)("nobr",null,s(function(e){return.621371*e}(n))," ",r?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(e,null,"mi"))):Object(a.h)(e,null,Object(a.h)("nobr",null,s(n)," ",r?Object(a.h)(e,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(e,null,"km")))},o}(a.Component))||n);t.a=c}).call(this,o("hosL").Fragment)},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},ETxl:function(e){e.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GeWT:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s=Object.defineProperty,n=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,r=Object.getOwnPropertyDescriptor,i=Object.getPrototypeOf,c=i&&i(Object);e.exports=function e(l,d,u){if("string"!=typeof d){if(c){var h=i(d);h&&h!==c&&e(l,h,u)}var p=n(d);a&&(p=p.concat(a(d)));for(var b=0;b<p.length;++b){var m=p[b];if(!(t[m]||o[m]||u&&u[m])){var f=r(d,m);try{s(l,m,f)}catch(e){}}}return l}return l}},"JWe/":function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function i(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var c,l=o("hosL"),d=o("Utv1"),u=o("/eY4"),h=o("cneo"),p=o("OhSV"),b=o("fh8t"),m=o.n(b),f=(o("UJvz"),o("sqi2")),g=o("/922"),O=o("s4FZ"),j=o("ZQlJ"),v=o("q/oJ"),y=o("gWxU"),w=o("Nanz"),k=o("+JSK"),x=o("vY+r"),S=o("nHdA"),_=o("irB3"),P=o("UwwE"),D=o("8Lgr"),T=o("QkTp"),I=o("ZOvn"),C=I.a.getMaxLoadIndex(),L={showAddComment:!1,viewImageIdx:{},likeWorkout:{}},R=Object(u.a)(c=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleDate=function(e){e.stopPropagation(),e.preventDefault(),o.setState({showDate:!o.state.showDate})},o.likeWorkout=function(){return new Promise((function(e,t){var s,n,a;return s=o.props.stores.workoutStore,(a=o.state.likeWorkout)[n=o.props.workout.id]=!0,o.setState({likeWorkout:a}),setTimeout((function(){var e=o.state.likeWorkout;delete e[n],o.setState({likeWorkout:e})}),1200),Promise.resolve(s.likeWorkout({id:n})).then((function(o){try{return o,e()}catch(e){return t(e)}}),t)}))},o.toggleAddComment=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id;o.setState({showAddComment:!o.state.showAddComment},(function(){o.inputRef[t]&&o.inputRef[t].focus()}))},o.viewImage=function(e){var t=e.target.closest("img").dataset,s=o.state.viewImageIdx;s[t.id]=t.idx,o.setState({viewImageIdx:s})},o.shareLink=function(e){var t=e.target.closest("button").dataset;o.props.stores.appState.shareUrl({url:t.url,title:t.title,text:t.text})},o.onTeamClick=function(e,t){return e.preventDefault(),e.stopPropagation(),o.setState({showTeam:t}),!1},o.hideTeam=function(){o.setState({showTeam:null})},o.onUserClick=function(e){return e.preventDefault(),e.stopPropagation(),!1},o.onDogClick=function(e,t,s){return e.preventDefault(),e.stopPropagation(),o.setState({showDog:t,dogs:s}),!1},o.hideDog=function(){o.setState({showDog:null})},o.state=n({},L),o.updateTimer={},o.inputRef={},o}var s,a;return a=t,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,o.prototype.render=function(){var t=this,o=this.state,s=o.showDate,a=o.showAddComment,c=o.likeWorkout,u=o.dogs,b=o.showTeam,L=o.showDog,R=this.props,E=R.workout,F=R.showDate,U=R.wrapperClasses,A=void 0===U?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3":U,N=R.wrapperClassesRow,V=void 0===N?"row":N,z=this.props.stores,B=z.userStore,H=z.appState,M=z.workoutStore,W=H.viewmode,Y=H.hasShareApi,q=B.user,K=B.dogs,X=q.language,Z=void 0===X?"en":X,G=B.findIntensity({code:E.intensity,language:Z})||{},J=B.findTeam(E.team,!0)||{},Q=J.name,$=[];Q&&$.push(Q),E.teams&&E.teams.forEach((function(e){B.findTeam(e)&&$.push(B.findTeam(e))}));var ee=E.likes,te=void 0===ee?[]:ee,oe=E.comments,se=void 0===oe?[]:oe,ne=E.likes&&E.likes.findIndex((function(e){return e.user===q.id}))>-1,ae=E.gpxInfo,re=E.mushers,ie=void 0===re?[]:re,ce=(void 0===ae?{}:ae).loadIndex,le=void 0===ce?0:ce,de=B.findEquipment({equipment:E.equipment,language:Z}),ue=B.findEquipment({equipment:E.equipment,field:"icon"}),he=[];ie.length>1&&ie.slice(1,10).map((function(e){var t=M.findPublicUser(e)||{};t.images&&t.images[0]&&he.push(t.images[0])}));var pe,be=M.findPublicUser(ie[0])||{};be&&be.images&&be.images[0]?pe=be.images[0]:J.image&&J.image.s3SmallLink?pe=J.image:J.images&&J.images[0]&&J.images[0].s3SmallLink?pe=J.images[0]:E.image&&E.image.s3SmallLink&&(pe=E.image);var me=[];if(E.mapImage&&me.push(n(n({},E.mapImage),{},{type:"map"})),E.images){var fe=Object(h.i)(E.images);me.push.apply(me,fe)}var ge;E&&E.gpxInfo&&E.gpxInfo.battegryLevelStart&&(ge=100*(E.gpxInfo.battegryLevelStart-E.gpxInfo.battegryLevelEnd));var Oe=I.a.getViews(E.statistics);return Object(l.h)(e,null,b&&Object(l.h)(v.a,null,Object(l.h)(y.default,{stores:this.props.stores,teamid:b,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),L&&Object(l.h)(v.a,null,Object(l.h)(w.default,{stores:this.props.stores,dogid:L,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:u})),Object(l.h)("div",{class:"w-100 mb-2"},Object(l.h)("div",{class:V},Object(l.h)("div",{class:A+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+r(E),style:(pe?'background-image: url("'+pe.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!pe&&Object(l.h)("i",{class:i(E)+" text-"+(G.class?G.class:"muted")+" mt-3",style:"font-size: 40px;"}),he&&he.map((function(t,o){return Object(l.h)(e,null,Object(l.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:'\n                                            background-image: url("'+t.s3SmallLink+'");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: '+(10*o-5)+"px;\n                                        "}))}))),0!==E.temperature&&Object(l.h)(e,null,Object(l.h)("span",{class:"text-muted font-weight-light"},Object(l.h)(T.a,{stores:this.props.stores,value:E.temperature})))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("span",{class:"float-right"},1===E.isLocked&&Object(l.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===E.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===E.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(l.h)("a",{class:"stretched-link",href:"/workouts/"+E.id},Object(l.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},E.name)),$&&$.length>0&&Object(l.h)("small",{class:"font-weight-lighter"},$.map((function(t,o){return Object(l.h)(e,null,o>0?", ":"",t)}))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},E.date&&Object(l.h)("small",{onClick:this.toggleDate},F||s?d.a.formatDate(E.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):d.a.formatDistance(E.date,new Date,{locale:"no-NB"})),Object(l.h)("span",{class:"badge badge-"+G.class+" ml-2"},G.name),le>0&&Object(l.h)("span",{class:"ml-2 text-"+I.a.getLoadIndexColor(d.a.normalizeBetween(le,0,C,0,100))},Object(l.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(d.a.normalizeBetween(le,0,C,0,100))," - ",I.a.getLoadIndexText(d.a.normalizeBetween(le,0,C,0,100))),Object(l.h)("br",null)),Object(l.h)("small",null,Object(l.h)("div",{class:"text-muted"},E.garminId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),E.stravaId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),E.equipment>0&&Object(l.h)(e,null,Object(l.h)("i",{class:ue+" ml-2"})," ",de),E.dogs>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",E.dogs.length),E.track>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-map-marked text-"+(E.track>0?"success":"danger")+" ml-2"})),E.dogsLeft>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-crosshairs text-"+(E.dogsLeft&&E.dogsRight?"success":"danger")+" ml-2"})),E.sledWeight>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:E.sledWeight})),ge>0&&Object(l.h)("span",{class:"text-muted ml-2"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",d.a.format(ge,1),"% ",Object(l.h)(p.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(W)>-1&&Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-balance-scale"})," ",d.a.format(E.kcalBurnedTotal)," ",Object(l.h)(p.c,{id:"workout.kcal"},"kcal"),Object(l.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:E.kcalMeatGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-fish ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:E.kcalSalmonGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:E.kcalFatGramsTotal/1e3}))))),Object(l.h)("div",{class:A+" position-relative mt-2"},Object(l.h)("strong",null,E.description)),Object(l.h)("div",{class:A+" position-relative"},Object(l.h)(m.a,{markdown:I.a.replaceImages(E.comment,E.images,Z),markdownOpts:I.a.getMarkdownOptions()})),Object(l.h)("div",{class:A+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row mt-1"},E.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(p.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(D.a,{stores:this.props.stores,value:E.distanceKm}))),E.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(p.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(_.a,{stores:this.props.stores,value:E.elevation}))),E.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(p.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},d.a.secToHms(E.duration,!0))),E.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(p.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},E.gpxInfo&&E.gpxInfo.avgGpsMovingSpeed>0?Object(l.h)(e,null,Object(l.h)(S.a,{stores:this.props.stores,value:3.6*E.gpxInfo.avgGpsMovingSpeed})):Object(l.h)(e,null,Object(l.h)(S.a,{stores:this.props.stores,value:E.speedAvg}))))))),["beta","advanced","normal"].indexOf(W)>-1&&Object(l.h)("div",{class:""+A},Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row"},Object(l.h)(O.a,{stores:this.props.stores,images:me,id:E.id,dblClick:this.likeWorkout,likeRef:c})))),["beta","advanced","normal"].indexOf(W)>-1&&Object(l.h)(e,null,E.dogs&&E.dogs.length>0&&Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row pt-2"},Object(l.h)(j.a,{stores:this.props.stores,dogs:E.dogs,allDogs:K,onDogClick:this.onDogClick}))),Object(l.h)("div",{class:"mt-2"},Object(l.h)(k.a,{stores:this.props.stores,likes:te,comments:se,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(W)>-1&&Object(l.h)(e,null,Object(l.h)("div",{class:A+" mb-0 position-relative mt-2"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(ne?"primary":"secondary")+" btn-lg btn-block "+(ne?"text-primary":""),onClick:this.likeWorkout},Object(l.h)("i",{class:(ne?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(p.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":E.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(p.c,{id:"comments.comment-add"},"Kommentar"))),Y?Object(l.h)(e,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+E.uuidv4,"data-title":"title: "+E.name},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(p.c,{id:"workout.share"},"Del")))):Object(l.h)(e,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+E.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(p.c,{id:"workout.share"},"Del")))))),Object(l.h)("div",{class:A+" mt-2 mb-3"},a&&Object(l.h)(g.a,{stores:this.props.stores,workout:E,inputRef:function(e){return t.inputRef[E.id]=e},inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(l.h)(f.a,{stores:this.props.stores,workout:E,col:"10",offset:"2",compact:!0})),Oe>0&&Object(l.h)(e,null,Object(l.h)("div",{class:"mt-2"},Object(l.h)(x.a,{stores:this.props.stores,views:Oe,object:E,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))},o}(l.Component))||c;t.a=R}).call(this,o("hosL").Fragment)},NDEG:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=o("ZOvn"),c=Object(r.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.dog,s=void 0===o?{}:o,r=t.dogs,c=void 0===r?[]:r,l=t.showTeam,d=t.showInfo,u=t.showName,h=void 0===u||u,p=t.showPosition,b=void 0===p||p,m=t.showAge,f=void 0!==m&&m,g=t.className,O=t.size,j=t.onDogClick,v=void 0===j?function(){}:j,y=this.props.stores.userStore,w=y.user.language,k=y.findDogposition({position:s.position,language:void 0===w?"en":w}),x=i.a.hasBirthday(s.birth),S=(Math.ceil(i.a.daysUntilNextBirthday(s.birth)),"92px"),_="",P="35px";return"small"===O?(S="50px",_="imageRoundedSmall",P="20px"):"medium"===O&&(S="60px",_="imageRoundedMedium",P="25px"),Object(n.h)("div",{class:"mb-2 position-relative "+g+" clearfix",style:"width: "+S,onTouchstart:function(e){e.stopPropagation()},onTouchend:function(e){e.stopPropagation()},onTouchmove:function(e){e.stopPropagation()}},b&&k&&Object(n.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(n.h)("span",{class:"badge badge-"+(k.class||"primary")+" mr-3"},k.icon&&Object(n.h)("i",{class:k.icon})," ",k.name)),Object(n.h)("div",{class:"text-center border rounded-circle imageRounded "+_+" mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: "+P+";"},a.a.ucfirst(s.name,!0))),Object(n.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(n.h)("small",null,Object(n.h)("a",{href:"/dogs/public/"+s.uuidv4,onClick:function(e){return v(e,s.uuidv4,c)},class:"stretched-link"},h&&Object(n.h)(e,null,Object(n.h)("span",{class:"mb-1 font-weight-light"},Object(n.h)("nobr",null,s.shortname||s.name,x&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(n.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(n.h)("small",null,s.birth&&f&&Object(n.h)(e,null,Object(n.h)("span",{class:"float-right"},s.birth&&Object(n.h)("span",{class:"mr-2"},a.a.age(s.birth,s.deceased)),"female"===s.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),l&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-light"},y.findTeam(s.team)),Object(n.h)("br",null)),d&&Object(n.h)("small",{class:"text-muted"},s.weight&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",a.a.format(s.weight,1)," kg"),s.bodyScore&&Object(n.h)(e,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(s.bodyScore,1))))))},o}(n.Component))||s;t.a=c}).call(this,o("hosL").Fragment)},NS33:function(e,t,o){"use strict";function s(){}function n(){}var a=o("E02R");n.resetWarningCache=s,e.exports=function(){function e(e,t,o,s,n,r){if(r!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:s};return o.PropTypes=o,o}},QkTp:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(r.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(function(e){return 9*e/5+32}(s),0),"°F")):Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(s,1),"°C"))},o}(n.Component))||s);t.a=i}).call(this,o("hosL").Fragment)},UJvz:function(e,t,o){"use strict";var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=o("OhSV"),c=Object(r.a)(s=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).toggleDate=function(){t.setState({showDate:!t.state.showDate})},t.touchStart=function(e){e.stopPropagation(),t.setState({startY:e.touches[0].pageY})},t.touchEnd=function(e){e.stopPropagation(),t.setState({startY:void 0,readyToRefresh:!1})},t.touchMove=function(e){e.stopPropagation();var o=t.state;t.appContainer&&(0===t.appContainer.scrollTop&&e.touches[0].pageY>o.startY+30&&!o.refreshing&&(0,t.props.close)())},t}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this,t=this.state.showDate,o=this.props,s=o.image,r=o.imagexxl,c=o.close,l=o.thumb,d=o.name,u=o.title,h=o.date;return Object(n.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(n.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:c},"X"),Object(n.h)("div",{class:"d-flex mb-2 px-2"},l&&Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:l?'background-image: url("'+l+'");':""}," "),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},d&&Object(n.h)("strong",{class:"mr-2"},d,":"),u,Object(n.h)("br",null),Object(n.h)("small",{class:"text-muted"},h&&Object(n.h)("small",{onClick:this.toggleDate},t?a.a.formatDate(h,{locale:"no-NB"}):a.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(n.h)("img",{src:s,class:"img-fluid align-middle mt-2 mb-2",onClick:c,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:function(t){return e.appContainer=t}}),Object(n.h)("a",{target:"_blank",rel:"noopener noreferrer",href:r||s,download:r||s},Object(n.h)("i",{class:"fas fa-download"})," ",Object(n.h)(i.c,{id:"modal.download"},"Last ned bildet")))},t}(n.Component))||s;t.a=c},UwwE:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(r.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(function(e){return 2.20462*e}(s),0)," lb")):Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(s,0)," kg"))},o}(n.Component))||s);t.a=i}).call(this,o("hosL").Fragment)},W0B4:function(e,t,o){e.exports=o("NS33")()},ZQlJ:function(e,t,o){"use strict";var s,n=o("hosL"),a=(o("Utv1"),o("/eY4")),r=(o("OhSV"),o("NDEG")),i=Object(a.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).scrollImages=function(e){var t=e.target,s=t.scrollLeft/t.clientWidth,n=Math.round(s),a=Math.abs(n-s);(Number.isInteger(s)||a<.1)&&o.setState({imageIdx:n})},o.sortByName=function(e,t){var s=o.props.allDogs,n=void 0===s?[]:s,a=n.find((function(t){return t.id===e})),r=n.find((function(e){return e.id===t}));return a&&r&&a.name>r.name?1:-1},o.state={imageIdx:0},o}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this,t=this.props,o=t.dogs,s=t.allDogs,a=void 0===s?[]:s,i=t.size,c=void 0===i?"medium":i,l=t.onDogClick,d=void 0===l?function(){}:l;return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},o&&o.sort(this.sortByName).map((function(t){var s=a.find((function(e){return e.id===t}));return s?Object(n.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(n.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(e){e.stopPropagation()},onTouchend:function(e){e.stopPropagation()},onTouchmove:function(e){e.stopPropagation()}},Object(n.h)(r.a,{stores:e.props.stores,dog:s,dogs:a.filter((function(e){return o.indexOf(e.id)>-1})).sort((function(e,t){return e.name>t.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:c,onDogClick:d}))):""}))))},t}(n.Component))||s;t.a=i},eK6s:function(e){e.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},eQ6k:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=(o("Utv1"),o("/eY4")),r=o("OhSV"),i=Object(a.a)(s=function(t){function o(){for(var o,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(o=t.call.apply(t,[this].concat(a))||this).requestFollowTeam=function(e){var t=o.props.stores,s=t.teamStore,n=t.userStore.user,a=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);s.followRequest(a,n),o.setState({requestSent:!0})},o.unFollowTeam=function(e){var t=o.props.stores,s=t.teamStore,n=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);s.unollowTeam(n),o.setState({unfollowed:!0})},o.getButton=function(t){void 0===t&&(t="");var s=o.state.requestSent,a=o.props.stores.userStore.user,i=o.props,c=i.team,l=i.skipHome,d=c.members&&c.members.indexOf(a.id)>-1,u=c.followers&&c.followers.indexOf(a.id)>-1,h=c.blockedFollowers&&c.blockedFollowers.indexOf(a.id)>-1,p=s||c.followRequests&&c.followRequests.findIndex((function(e){return e.id===a.id}))>-1;return d?l?"":Object(n.h)("i",{class:"fas fa-home"}):u?Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-block btn-outline-secondary float-right",onClick:o.unFollowTeam,disabled:"true","data-team":c.id},Object(n.h)("i",{class:"fas fa-link mr-2"}),Object(n.h)(r.c,{id:"teams.connect.is-following"},"Følger")," ",t),Object(n.h)("button",{class:"btn btn-sm btn-block btn-danger float-right",onClick:o.unFollowTeam,"data-team":c.id},Object(n.h)("i",{class:"fas fa-unlink mr-2"}),Object(n.h)(r.c,{id:"teams.connect.unfollow"},"Unfollow"))):h?"":p?Object(n.h)("button",{class:"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(n.h)(r.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",t):c.public?Object(n.h)("button",{class:"btn btn-block btn-outline-success float-right",onClick:o.requestFollowTeam,"data-team":c.id},Object(n.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(n.h)(r.c,{id:"teams.connect.follow"},"Følg")," ",t):void 0},o}var s,a;return a=t,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,o.prototype.render=function(){var t=this.state.unfollowed,o=this.props,s=o.team,a=o.buttonOnly,r=this.props.stores.userStore,i=r.user.language,c=void 0===i?"en":i,l=r.findTeamAmbition({ambition:s.ambitions,language:c}),d=r.findTeamType({type:s.type,language:c}),u=s.image&&s.image.s3SmallLink?s.image:null;return a?Object(n.h)(e,null,this.getButton(""+s.name)):Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:t?"text-decoration: line-through; opacity: 0.3;":""},Object(n.h)("a",{href:"/teams/public/"+s.uuidv4},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:u?'background-image: url("'+u.s3SmallLink+'");  background-size: cover;':""},!u&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(n.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(n.h)(e,null,s.name)),Object(n.h)("div",null,s.place," ",s.country),Object(n.h)("div",null,d&&Object(n.h)("span",{class:"badge badge-pill badge-secondary"},d),l&&Object(n.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(n.h)("small",{class:"text-muted"},s&&s.dogs&&Object(n.h)("span",{class:""},Object(n.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(n.h)("div",null,this.getButton()))))},o}(n.Component))||s;t.a=i}).call(this,o("hosL").Fragment)},gWxU:function(e,t,o){"use strict";o.r(t),function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,r=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=(o("Y3FI"),o("OhSV")),d=o("fh8t"),u=o.n(d),h=(o("X9Km"),o("ZOvn")),p=o("NDEG"),b=o("s4FZ"),m=(o("jtG4"),o("eQ6k")),f=o("q/oJ"),g=o("Nanz"),O=o("1/9N"),j=h.a.marginTop(!1),v=h.a.marginTopBack(!1),y=h.a.marginBottom(),w={newTeam:{}},k=Object(c.a)(a=function(t){function o(e){var o;return(o=t.call(this,e)||this).onDogClick=function(e,t){return e.preventDefault(),e.stopPropagation(),o.setState({showDog:t}),!1},o.hideDog=function(){o.setState({showDog:null})},o.onUserClick=function(e){return e.preventDefault(),e.stopPropagation(),!1},o.subscribeNotificationTopic=function(e){return new Promise((function(t,s){var n,a;return void 0===(a=(n=o.props.stores.userStore).user.notificationTopics)?{}:a,1,Promise.resolve(n.setNotificationTopic({field:"notificationTopics."+e,value:1})).then((function(){try{return t()}catch(e){return s(e)}}),s)}))},o.back=function(){o.props.stores.history.goBack()},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},w),o.updateTimer={},o.time=(new Date).getTime(),o.apiServer=i.a.getApiServer(),o}var a,c;c=t,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c;var d=o.prototype;return d.loadPublicView=function(e){return new Promise(function(t,o){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(e.teamid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(e){return o(e)}}.bind(this),o)}.bind(this))},d.loadAll=function(e){return new Promise(function(t,o){return void 0===e&&(e=this.props),Promise.resolve(this.loadPublicTeam(e)).then(function(){try{return Promise.resolve(this.loadPublicView(e)).then((function(){try{return t()}catch(e){return o(e)}}),o)}catch(e){return o(e)}}.bind(this),o)}.bind(this))},d.loadPublicTeam=function(e){return new Promise(function(t,o){return void 0===e&&(e=this.props),Promise.resolve(e.stores.teamStore.loadPublicDetail({id:e.teamid})).then((function(){try{return t()}catch(e){return o(e)}}),o)}.bind(this))},d.componentDidMount=function(){var e=this.props.back,t=void 0===e?this.back:e,o=this.props.stores.appState;o.setSwipeRight((function(){o.setSwipeRight(),t()})),this.loadAll()},d.componentWillReceiveProps=function(e){e.teamid!==this.props.teamid&&this.loadAll(e)},d.render=function(){var t=this,o=this.state.showDog,s=this.props.stores,n=s.teamStore,a=s.userStore,c=a.user,d=a.isAdmin,w=c.language,k=void 0===w?"en":w,x=n.publicTeam,S=n.publicViewsGraphData,_=!(!x||!x.members)&&x.members.some((function(e){return e.id===c.id})),P=this.props,D=P.marginTop,T=P.marginBottom,I=P.back,C=void 0===I?this.back:I,L=P.hideTeam,R=void 0===L?function(){}:L,E=x.dogs,F=void 0===E?[]:E,U=x.image,A=x.imageHeader,N=x.publicTrophys,V=x.publicMemories,z=x.publicDogs,B=A&&A.s3XXLargeLink?A:{s3XXLargeLink:"./assets/homerun-race-logo.png"},H=U&&U.s3LargeLink?U:null,M=a.findTeamAmbition({ambition:x.ambitions,language:k}),W=a.findTeamType({type:x.type,language:k}),Y=x.members&&x.members.findIndex((function(e){return e.id===c.id}))>-1,q=x&&x.followers&&x.followers.indexOf(c.id)>-1,K=x.followRequests&&x.followRequests.findIndex((function(e){return e.id===c.id}))>-1,X=c.notificationTopics,Z=void 0===X?{}:X,G="team-"+x.id;return Object(r.h)(e,null,o&&Object(r.h)(f.a,null,Object(r.h)(g.default,{stores:this.props.stores,dogid:o,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:F})),Object(r.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(T||y)+"; margin-top: "+(D||j)+";"},Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+v+"; left: 5px; font-size: 35px; width: 45px;",onClick:C},Object(r.h)("i",{class:"fas fa-arrow-circle-left"})),Object(r.h)("div",{class:"row mb-0"},Object(r.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(B?'background-image: url("'+B.s3XXLargeLink+'");':"")},Y&&Object(r.h)(e,null,Object(r.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+x.id},Object(r.h)("i",{class:"fas fa-edit"})," ",Object(r.h)(l.c,{id:"teams.edit"},"Endre")))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(r.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(H?'background-image: url("'+H.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!H&&Object(r.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(r.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"my-0"},x.name),Object(r.h)("small",{class:"text-muted"},x.place?x.place+", ":"",x.country),Object(r.h)("br",null),W&&Object(r.h)("span",{class:"badge badge-pill badge-secondary mt-2"},W),M&&Object(r.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},M),Object(r.h)("h6",{class:"mt-2"},Object(r.h)("span",{class:"mr-3"},Object(r.h)("span",{class:"font-weight-bolder"},x.followers?x.followers.length:0)," ",Object(r.h)(l.c,{id:"teams.followers"},"followers")),Object(r.h)("span",{class:"mr-3"},Object(r.h)("span",{class:"font-weight-bolder"},x.dogs?x.dogs.length:0)," ",Object(r.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!Z||!Z[G])&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return t.subscribeNotificationTopic(G)}},Object(r.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!Y&&!q&&!K&&x.public>0&&Object(r.h)("div",{class:"clearfix mb-2"},Object(r.h)(m.a,{stores:this.props.stores,team:x,buttonOnly:!0,skipHome:!0})))),Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"d-flex justify-content-center"},Y&&!x.facebook&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fab fa-facebook"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),x.url&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:h.a.asUrl(x.url),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fas fa-link"})))),x.facebook&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:h.a.asFacebookLink(x.facebook),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook"})))),x.instagram&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:h.a.asInstagramLink(x.instagram),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"})))),x.snapchat&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:h.a.asSnapchatLink(x.snapchat),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-snapchat"}))))),Object(r.h)("div",{class:"d-flex justify-content-center mt-3"},Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+x.uuidv4},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+x.uuidv4,onClick:R},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),x.imagesSponsor&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:x.imagesSponsor.length}},"Sponsorer - ",x.imagesSponsor.length," stk"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(r.h)(b.a,{stores:this.props.stores,images:x.imagesSponsor}))),x.sponsors&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Y&&!x.sponsors&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-sponsors"},"Gå inn på endring av teamet for å legge inn sponsorer.")))),Object(r.h)(u.a,{markdown:h.a.replaceImages(x.sponsors,x.imagesSponsor,k),markdownOpts:h.a.getMarkdownOptions()}))),Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Y&&!x.description&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(r.h)(u.a,{markdown:h.a.replaceImages(x.description,x.images,k),markdownOpts:h.a.getMarkdownOptions()}))),x.descriptionWorkoutplan&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Y&&!x.descriptionWorkoutplan&&Object(r.h)(e,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-description-workoutplan"},"Gå inn på endring av teamet for å legge inn en treningsplan.")))),Object(r.h)(u.a,{markdown:h.a.replaceImages(x.descriptionWorkoutplan,x.images,k),markdownOpts:h.a.getMarkdownOptions()}))),z&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.dogs",fields:{total:F.length}},"Hundene - ",F.length," stk"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"row"},F&&F.map((function(e){return Object(r.h)(p.a,{stores:t.props.stores,dog:e,showAge:!0,className:"col",onDogClick:t.onDogClick})}))))),x.images&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.public-photos",fields:{total:x.images.length}},"Teambilder - ",x.images.length," stk"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(r.h)(b.a,{stores:this.props.stores,images:x.images}))),V&&x.achievements&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(r.h)("div",{class:"row"},x.achievements&&x.achievements.map((function(e){return Object(r.h)("div",{class:"col-12"},e.date&&Object(r.h)("span",{class:"font-weight-lighter mr-2"},i.a.isoDate(e.date,!1,!1,!0)),Object(r.h)("span",{class:"mr-2 font-weight-bold"},e.name),Object(r.h)("span",{class:"mr-2 font-weight-light"},e.description),e.url&&Object(r.h)("span",{class:"mr-2"},Object(r.h)("a",{href:h.a.asUrl(e.url),target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fas fa-link"}))))}))))),N&&x.trophys&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(r.h)("div",{class:"row"},x.trophys&&x.trophys.reverse().map((function(e){var t=h.a.getTrophyImage(e.name);if(!t)return"";var o=e.descriptionHeader&&e.descriptionHeader[k]?e.descriptionHeader[k]:"",s=e.description&&e.description[k]?e.description[k]:"";return Object(r.h)("div",{class:"col-4 mt-3"},Object(r.h)("div",{class:"mb-2"},Object(r.h)("img",{src:t,class:"img-fluid"})),Object(r.h)("strong",null,o),Object(r.h)("small",null,Object(r.h)("details",null,Object(r.h)("summary",null,Object(r.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(r.h)(u.a,{markdown:h.a.replaceImages(s,x.images,k),markdownOpts:h.a.getMarkdownOptions()}))))}))))),Object(r.h)("div",{class:"row mt-5 mb-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-ellipsis-h"})),Object(r.h)("div",{style:"line-height: 0.9em;"},Object(r.h)("small",null,Object(r.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(d||_)&&Object(r.h)(e,null,Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(r.h)(O.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+x.uuidv4})),x.uuidv4&&Object(r.h)("img",{src:this.apiServer+"/api/teams/"+x.uuidv4+"/view?user="+c.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},o}(r.Component))||a;t.default=k}.call(this,o("hosL").Fragment)},irB3:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(r.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,r=t.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(function(e){return 3.28084*e}(s),0)," ",r?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(n.h)(e,null,"ft"))):Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(s,0)," ",r?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"m")))):Object(n.h)(e,null,"m")))},o}(n.Component))||s);t.a=i}).call(this,o("hosL").Fragment)},jtG4:function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,r=o("hosL"),i=(o("Utv1"),o("/eY4")),c=(o("Y3FI"),o("OhSV")),l=o("ZOvn"),d={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},u=Object(i.a)(a=function(t){function o(o){var a;return(a=t.call(this,o)||this).requestFollowTeam=function(e){return new Promise((function(t){var o=a.props.stores,s=o.teamStore,n=o.userStore.user,r=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);s.followRequest(r,n);var i=a.state.requestSent;return i[r]=!0,a.setState({requestSent:i}),t()}))},a.confirmRequest=function(e){return new Promise((function(t,o){var s,n,r,i,c,l,d,u,h;return n=void 0===(s=a.props.callback)?function(){}:s,r=e.target.closest("button").dataset,l=a.props.stores.teamStore,h=(d=a.state).deleted,(u=d.confirmed)[(i=r.team)+"-"+(c=r.user)]=!0,delete h[i+"-"+c],a.setState({confirmed:u,deleted:h}),Promise.resolve(l.confirmFollowRequest({team:parseInt(i,10),user:parseInt(c,10)})).then((function(){try{return n(),t()}catch(e){return o(e)}}),o)}))},a.deleteRequest=function(e){return new Promise((function(t,o){var s,n,r,i,c,l,d,u,h;return n=void 0===(s=a.props.callback)?function(){}:s,r=e.target.closest("button").dataset,l=a.props.stores.teamStore,h=(d=a.state).confirmed,(u=d.deleted)[(i=r.team)+"-"+(c=r.user)]=!0,delete h[i+"-"+c],a.setState({deleted:u,confirmed:h}),Promise.resolve(l.deleteFollowRequest({team:parseInt(i,10),user:parseInt(c,10)})).then((function(){try{return n(),t()}catch(e){return o(e)}}),o)}))},a.unFollowTeam=function(e){var t=a.props.stores,o=t.teamStore,s=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);o.unollowTeam(s),a.setState({unfollowed:!0})},a.getUnblockButton=function(t,o){var s=a.state.confirmed[o+"-"+t];return Object(r.h)(e,null,s?Object(r.h)(e,null,Object(r.h)("small",{class:"text-success"},Object(r.h)("i",{class:"fas fa-check"})," ",Object(r.h)(c.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:a.confirmRequest,"data-team":o,"data-user":t},Object(r.h)(c.c,{id:"teams.connect.confirm"},"Confirm"))))},a.getButton=function(t){var o=a.state.requestSent,s=a.props.stores.userStore.user,n=t.members&&t.members.indexOf(s.id)>-1,i=t.followers&&t.followers.indexOf(s.id)>-1,l=t.blockedFollowers&&t.blockedFollowers.indexOf(s.id)>-1,d=o[t.id]||t.followRequests&&t.followRequests.findIndex((function(e){return e.id===s.id}))>-1;return n?Object(r.h)("i",{class:"fas fa-home"}):t.public?i?Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:a.unFollowTeam,disabled:"true","data-team":t.id},Object(r.h)("i",{class:"fas fa-link mr-2"}),Object(r.h)(c.c,{id:"teams.connect.is-following"},"Følger")),Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:a.unFollowTeam,disabled:"true","data-team":t.id},Object(r.h)(c.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(r.h)(e,null):d?Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(r.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(r.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:a.requestFollowTeam,"data-team":t.id},Object(r.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(r.h)(c.c,{id:"teams.connect.follow"},"Følg")):Object(r.h)(e,null,Object(r.h)("small",{class:"text-muted"},Object(r.h)(c.c,{id:"teams.not-public"},"Ikke offentlig")))},a.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},d),a.updateTimer={},a}var a,i;return i=t,(a=o).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,o.prototype.render=function(){var t,o,s,n,a=this.state,i=a.deleted,d=void 0===i?{}:i,u=a.unfollowed,h=this.props,p=h.team,b=h.isBlocked,m=h.myTeamId,f=h.showBlockButton,g=this.props.stores.storyStore.findPublicUser(p.user)||p.user||{};p.image&&p.image.s3SmallLink?t=p.image:p.images&&p.images[0]&&p.images[0].s3SmallLink?t=p.images[0]:g.image&&g.image.s3SmallLink?t=g.image:g.images&&g.images[0]&&g.images[0].s3SmallLink&&(t=g.images[0]),p&&p.name?(o=l.a.displayNameShort(p),s=l.a.displayName(p),n=l.a.displayName(g)):g&&g.id&&(o=l.a.displayNameShort(g),s=l.a.displayName(g));var O=d[m+"-"+g.id];return Object(r.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:u?"text-decoration: line-through; opacity: 0.3;":""},Object(r.h)("div",{class:"d-flex position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:t?'background-image: url("'+t.s3MediumLink+'"); background-size: cover;':""},!t&&Object(r.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},o)),Object(r.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"mb-0"},p.public?Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+p.uuidv4},s)):Object(r.h)(e,null,s)),Object(r.h)("div",null,p.place?p.place+", ":""," ",p.country,"  "),Object(r.h)("div",null,Object(r.h)("small",{class:"text-muted"},p&&p.dogs&&Object(r.h)("span",{class:""},Object(r.h)("i",{class:"fas fa-dog"})," ",p.dogs.length),p&&p.followers&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-user"})," ",p.followers.length),n&&Object(r.h)(e,null,Object(r.h)("small",{class:"ml-2 text-muted"},n)),f&&Object(r.h)(e,null,O?Object(r.h)(e,null,Object(r.h)("small",{class:"text-danger ml-3"},Object(r.h)("i",{class:"fas fa-ban"})," ",Object(r.h)(c.c,{id:"teams.connect.deleted"},"Deleted"))):Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":m,"data-user":g.id},Object(r.h)("i",{class:"fas fa-ban"})," ",Object(r.h)(c.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(r.h)("div",null,b?Object(r.h)(e,null,this.getUnblockButton(g.id,m)):Object(r.h)(e,null,this.getButton(p)))))},o}(r.Component))||a;t.a=u}).call(this,o("hosL").Fragment)},l8WD:function(e,t,o){"use strict";function s(e,t){for(var o in t)e[o]=t[o];return e}function n(e,t){for(var o in e)if("__source"!==o&&!(o in t))return!0;for(var s in t)if("__source"!==s&&e[s]!==t[s])return!0;return!1}function a(e){this.props=e}function r(e,t){function o(e){var o=this.props.ref,s=o==e.ref;return!s&&o&&(o.call?o(null):o.current=null),t?!t(this.props,e)||!s:n(this.props,e)}function s(t){return this.shouldComponentUpdate=o,Object(D.createElement)(e,t)}return s.displayName="Memo("+(e.displayName||e.name)+")",s.prototype.isReactComponent=!0,s.__f=!0,s}function i(e){function t(t,o){var n=s({},t);return delete n.ref,e(n,(o=t.ref||o)&&("object"!=typeof o||"current"in o)?o:null)}return t.$$typeof=I,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function c(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=s({},e)).__c=null,e.__k=e.__k&&e.__k.map(c)),e}function l(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(l)),e}function d(){this.__u=0,this.t=null,this.__b=null}function u(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function h(e){function t(t){if(o||(o=e()).then((function(e){s=e.default||e}),(function(e){n=e})),n)throw n;if(!s)throw o;return Object(D.createElement)(s,t)}var o,s,n;return t.displayName="Lazy",t.__f=!0,t}function p(){this.u=null,this.o=null}function b(e){return this.getChildContext=function(){return e.context},e.children}function m(e){var t=this,o=e.i;t.componentWillUnmount=function(){Object(D.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==o&&t.componentWillUnmount(),e.__v?(t.l||(t.i=o,t.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(D.render)(Object(D.createElement)(b,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function f(e,t){return Object(D.createElement)(m,{__v:e,i:t})}function g(e,t,o){return null==t.__k&&(t.textContent=""),Object(D.render)(e,t),"function"==typeof o&&o(),e?e.__c:null}function O(e,t,o){return Object(D.hydrate)(e,t),"function"==typeof o&&o(),e?e.__c:null}function j(){}function v(){return this.cancelBubble}function y(){return this.defaultPrevented}function w(e){return D.createElement.bind(null,e)}function k(e){return!!e&&e.$$typeof===F}function x(e){return k(e)?D.cloneElement.apply(null,arguments):e}function S(e){return!!e.__k&&(Object(D.render)(null,e),!0)}function _(e){return e&&(e.base||1===e.nodeType&&e)||null}o.r(t),o.d(t,"version",(function(){return W})),o.d(t,"Children",(function(){return L})),o.d(t,"render",(function(){return g})),o.d(t,"hydrate",(function(){return O})),o.d(t,"unmountComponentAtNode",(function(){return S})),o.d(t,"createPortal",(function(){return f})),o.d(t,"createFactory",(function(){return w})),o.d(t,"cloneElement",(function(){return x})),o.d(t,"isValidElement",(function(){return k})),o.d(t,"findDOMNode",(function(){return _})),o.d(t,"PureComponent",(function(){return a})),o.d(t,"memo",(function(){return r})),o.d(t,"forwardRef",(function(){return i})),o.d(t,"unstable_batchedUpdates",(function(){return Y})),o.d(t,"StrictMode",(function(){return q})),o.d(t,"Suspense",(function(){return d})),o.d(t,"SuspenseList",(function(){return p})),o.d(t,"lazy",(function(){return h})),o.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return M}));var P=o("QRet");o.d(t,"useState",(function(){return P.k})),o.d(t,"useReducer",(function(){return P.i})),o.d(t,"useEffect",(function(){return P.d})),o.d(t,"useLayoutEffect",(function(){return P.g})),o.d(t,"useRef",(function(){return P.j})),o.d(t,"useImperativeHandle",(function(){return P.f})),o.d(t,"useMemo",(function(){return P.h})),o.d(t,"useCallback",(function(){return P.a})),o.d(t,"useContext",(function(){return P.b})),o.d(t,"useDebugValue",(function(){return P.c})),o.d(t,"useErrorBoundary",(function(){return P.e}));var D=o("hosL");o.d(t,"createElement",(function(){return D.createElement})),o.d(t,"createContext",(function(){return D.createContext})),o.d(t,"createRef",(function(){return D.createRef})),o.d(t,"Fragment",(function(){return D.Fragment})),o.d(t,"Component",(function(){return D.Component})),(a.prototype=new D.Component).isPureReactComponent=!0,a.prototype.shouldComponentUpdate=function(e,t){return n(this.props,e)||n(this.state,t)};var T=D.options.__b;D.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),T&&T(e)};var I="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,C=function(e,t){return null==e?null:Object(D.toChildArray)(Object(D.toChildArray)(e).map(t))},L={map:C,forEach:C,count:function(e){return e?Object(D.toChildArray)(e).length:0},only:function(e){var t=Object(D.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:D.toChildArray},R=D.options.__e;D.options.__e=function(e,t,o){if(e.then)for(var s,n=t;n=n.__;)if((s=n.__c)&&s.__c)return null==t.__e&&(t.__e=o.__e,t.__k=o.__k),s.__c(e,t);R(e,t,o)},(d.prototype=new D.Component).__c=function(e,t){var o=t.__c,s=this;null==s.t&&(s.t=[]),s.t.push(o);var n=u(s.__v),a=!1,r=function(){a||(a=!0,o.componentWillUnmount=o.__c,n?n(i):i())};o.__c=o.componentWillUnmount,o.componentWillUnmount=function(){r(),o.__c&&o.__c()};var i=function(){var e;if(!--s.__u)for(s.state.__e&&(s.__v.__k[0]=l(s.state.__e)),s.setState({__e:s.__b=null});e=s.t.pop();)e.forceUpdate()},c=!0===t.__h;s.__u++||c||s.setState({__e:s.__b=s.__v.__k[0]}),e.then(r,r)},d.prototype.componentWillUnmount=function(){this.t=[]},d.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=c(this.__b)),this.__b=null);var o=t.__e&&Object(D.createElement)(D.Fragment,null,e.fallback);return o&&(o.__h=null),[Object(D.createElement)(D.Fragment,null,t.__e?null:e.children),o]};var E=function(e,t,o){if(++o[1]===o[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(o=e.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;e.u=o=o[2]}};(p.prototype=new D.Component).__e=function(e){var t=this,o=u(t.__v),s=t.o.get(e);return s[0]++,function(n){var a=function(){t.props.revealOrder?(s.push(n),E(t,e,s)):n()};o?o(a):a()}},p.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(D.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var o=t.length;o--;)this.o.set(t[o],this.u=[1,0,this.u]);return e.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,o){E(e,o,t)}))};var F="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,U=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,A=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};D.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(D.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var N=D.options.event;D.options.event=function(e){return N&&(e=N(e)),e.persist=j,e.isPropagationStopped=v,e.isDefaultPrevented=y,e.nativeEvent=e};var V,z={configurable:!0,get:function(){return this.class}},B=D.options.vnode;D.options.vnode=function(e){var t=e.type,o=e.props,s=o;if("string"==typeof t){for(var n in s={},o){var a=o[n];"defaultValue"===n&&"value"in o&&null==o.value?n="value":"download"===n&&!0===a?a="":/ondoubleclick/i.test(n)?n="ondblclick":/^onchange(textarea|input)/i.test(n+t)&&!A(o.type)?n="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(n)?n=n.toLowerCase():U.test(n)?n=n.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),s[n]=a}"select"==t&&s.multiple&&Array.isArray(s.value)&&(s.value=Object(D.toChildArray)(o.children).forEach((function(e){e.props.selected=-1!=s.value.indexOf(e.props.value)}))),"select"==t&&null!=s.defaultValue&&(s.value=Object(D.toChildArray)(o.children).forEach((function(e){e.props.selected=s.multiple?-1!=s.defaultValue.indexOf(e.props.value):s.defaultValue==e.props.value}))),e.props=s}t&&o.class!=o.className&&(z.enumerable="className"in o,null!=o.className&&(s.class=o.className),Object.defineProperty(s,"className",z)),e.$$typeof=F,B&&B(e)};var H=D.options.__r;D.options.__r=function(e){H&&H(e),V=e.__c};var M={ReactCurrentDispatcher:{current:{readContext:function(e){return V.__n[e.__c].props.value}}}},W="16.8.0",Y=function(e,t){return e(t)},q=D.Fragment;t.default={useState:P.k,useReducer:P.i,useEffect:P.d,useLayoutEffect:P.g,useRef:P.j,useImperativeHandle:P.f,useMemo:P.h,useCallback:P.a,useContext:P.b,useDebugValue:P.c,version:"16.8.0",Children:L,render:g,hydrate:O,unmountComponentAtNode:S,createPortal:f,createElement:D.createElement,createContext:D.createContext,createFactory:w,cloneElement:x,createRef:D.createRef,Fragment:D.Fragment,isValidElement:k,findDOMNode:_,Component:D.Component,PureComponent:a,memo:r,forwardRef:i,unstable_batchedUpdates:Y,StrictMode:D.Fragment,Suspense:d,SuspenseList:p,lazy:h,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:M}},laT9:function(e,t,o){"use strict";function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(t);var a,r=o("hosL"),i=(o("Utv1"),o("/eY4")),c=o("OhSV"),l=o("ZOvn"),d=(o("JWe/"),o("3pQw"),o("xDik"),o("2X7c"),o("7g1v")),u=l.a.marginTop(!0),h=l.a.marginBottom(),p=l.a.subMenuMarginTop(),b={isLoading:!1},m=Object(i.a)(a=function(e){function t(t){var o;return(o=e.call(this,t)||this).loadDogs=function(){return new Promise((function(e,t){var s;return o.setState({isLoading:!0}),s=o.props.stores.dogStore,Promise.resolve(s.load({query:{team:s.currentTeam},addData:["workoutSummary"]})).then((function(){try{return o.setState({isLoading:!1}),e()}catch(e){return t(e)}}),t)}))},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},b),o}var o,a;a=e,(o=t).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a;var i=t.prototype;return i.loadAll=function(){return new Promise(function(e,t){return this.setState({isLoading:!0}),Promise.resolve(this.loadDogs()).then(function(){try{return this.setState({isLoading:!1}),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},i.componentDidMount=function(){this.loadAll()},i.render=function(){var e=this,t=this.props.stores,o=t.dogStore,s=t.appState.darkmode,n=t.userStore.isAdmin,a=o.findDogsByStatus(10),i=o.findDogsByStatus([2,4,8,9]),l=o.findDogsWithNeeds();return Object(r.h)("div",{class:"container-fluid",style:"margin-bottom: "+h+"; margin-top: "+u+";"},Object(r.h)("div",{class:"row fixed-top",style:"margin-top: "+p+"; background-color: "+(s?"#191d21":"#f8f9fa")+";"},n&&Object(r.h)("div",{class:"col text-center subtopmenu"},Object(r.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-user-shield"})," ",Object(r.h)(c.c,{id:"home.admin"},"Admin")))),Object(r.h)("div",{class:"col text-center subtopmenu"},Object(r.h)("a",{href:"/",class:"text-secondary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-chart-line"})," ",Object(r.h)(c.c,{id:"todo.dashboard"},"Dashboard")))),Object(r.h)("div",{class:"col text-center subtopmenu"},Object(r.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(c.c,{id:"todo.feed"},"Feed")))),Object(r.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(r.h)("a",{href:"/todo",class:"text-primary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-list"})," ",Object(r.h)(c.c,{id:"todo.todo"},"Todo"))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(r.h)("h5",null,Object(r.h)(c.c,{id:"todo.dogs-follow-up"},"Hunder som trenger oppfølging")),Object(r.h)("div",{class:"row"},i&&i.map((function(t){return Object(r.h)(d.a,{stores:e.props.stores,dog:t})})),!i||0===i.length&&Object(r.h)("div",{class:"col-12 text-center text-muted"},Object(r.h)("h3",null,Object(r.h)("i",{class:"fas fa-thumbs-up"})),Object(r.h)(c.c,{id:"todo.no-dogs-follow-up"},"Ingen hunder som trenger ekstra oppfølging.")))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(r.h)("h5",null,Object(r.h)(c.c,{id:"todo.dogs-special-needs"},"Hunder med spesielle behov")),Object(r.h)("div",{class:"row"},l&&l.map((function(t){return Object(r.h)(d.a,{stores:e.props.stores,dog:t})})),!l||0===l.length&&Object(r.h)("div",{class:"col-12 text-center text-muted"},Object(r.h)("h3",null,Object(r.h)("i",{class:"fas fa-thumbs-up"})),Object(r.h)(c.c,{id:"todo.no-dogs-special-needs"},"Ingen hunder med spesielle behov.")))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(r.h)("h5",null,Object(r.h)(c.c,{id:"todo.dogs-with-maturity"},"Hunder med løpetid")),Object(r.h)("div",{class:"row"},a&&a.map((function(t){return Object(r.h)(d.a,{stores:e.props.stores,dog:t})})),!a||0===a.length&&Object(r.h)("div",{class:"col-12 text-center text-muted"},Object(r.h)("h3",null,Object(r.h)("i",{class:"fas fa-thumbs-up"})),Object(r.h)(c.c,{id:"todo.no-dogs-with-maturity"},"Ingen hunder med løpetid."))))))},t}(r.Component))||a;t.default=m},nHdA:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=o("OhSV"),c=(o("ZOvn"),Object(r.a)(s=function(t){function o(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,o.prototype.render=function(){var t=this.props,o=t.value,s=void 0===o?0:o,r=t.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(function(e){return.621371*e}(s),1)," ",r?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(n.h)(e,null,Object(n.h)(i.c,{id:"workouts.mph"},"mph")))):Object(n.h)(e,null,Object(n.h)("nobr",null,a.a.format(s,1)," ",r?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(n.h)(e,null,Object(n.h)(i.c,{id:"workouts.kmt"},"km/t"))))},o}(n.Component))||s);t.a=c}).call(this,o("hosL").Fragment)},om2D:function(e,t,o){"use strict";var s,n=o("hosL"),a=o("/eY4"),r=(o("cneo"),o("Utv1"),o("u2zT")),i=Object(a.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).handleAddImage=function(e){var t=o.props.addToImages,s=void 0===t||t,n=o.props,a=n.updateField,r=n.object,i=n.field;if(i&&a({id:r.id,field:i,value:e,skipTimer:!0}),s){var c=[];c.push(e),a({id:r.id,field:"images",value:c,skipTimer:!0})}},o.state={files:[]},o}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props,t=e.uploadStatus,o=void 0===t?function(){}:t,s=e.before,a=void 0===s?function(){}:s,i=e.after,c=void 0===i?function(){}:i,l=e.autoOpen,d=void 0===l||l;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)(r.a,{handleAddImage:this.handleAddImage,uploadStatus:o,apiUrl:"/api/fileupload",before:a,after:c,autoOpen:d},Object(n.h)("div",{style:{height:30,width:"100%"}}))))},t}(n.Component))||s;t.a=i},"q/oJ":function(e,t,o){"use strict";var s,n=o("hosL"),a=(o("Utv1"),o("/eY4")),r=(o("OhSV"),o("ZOvn")),i=r.a.marginTop(!1),c=r.a.marginBottom(),l=Object(a.a)(s=function(e){function t(){return e.apply(this,arguments)||this}var o,s;return s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,t.prototype.render=function(){var e=this.props.children;return Object(n.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+c+";\n                    margin-top: "+i+";\n                    height: calc(100vh - "+i+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},e)},t}(n.Component))||s;t.a=l},sqi2:function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,r=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("cneo"),d=o("OhSV"),u=o("fh8t"),h=o.n(u),p=o("3wGD"),b=(o("ETxl"),o("ZOvn")),m={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},f=Object(c.a)(a=function(t){function o(e){var o;return(o=t.call(this,e)||this).likeComment=function(e){return new Promise((function(t,s){var n,a,r,i,c;return a=void 0===(n=o.props.callback)?function(){}:n,r=e.target.parentElement.dataset.id||e.target.dataset.id,i=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutComment({id:i.id,commentId:r})).then((function(e){try{return(c=e)&&200===c.status&&a({type:"likeComment",workout:i,commentId:r,response:c}),t(!0)}catch(e){return s(e)}}),s)}))},o.likeReply=function(e){return new Promise((function(t,s){var n,a,r,i,c,l;return a=void 0===(n=o.props.callback)?function(){}:n,r=e.target.parentElement.dataset.id||e.target.dataset.id,i=e.target.parentElement.dataset.comment||e.target.dataset.comment,c=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutCommentReply({id:c.id,replyId:r,commentId:i})).then((function(e){try{return(l=e)&&200===l.status&&a({type:"likeReply",workout:c,commentId:i,replyId:r,response:l}),t()}catch(e){return s(e)}}),s)}))},o.replyComment=function(e){return new Promise((function(t){var s=e.target.parentElement.dataset.id||e.target.dataset.id,n=o.state.showAddComment;return n[s]=!n[s],o.setState({showAddComment:n},(function(){o.inputRef[s]&&o.inputRef[s].focus()})),t()}))},o.toggleComments=function(){o.setState({showAllComments:!o.state.showAllComments})},o.toggleReplies=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id,s=o.state.showAllReplies;s[t]=!s[t],o.setState({showAllReplies:s})},o.viewImage=function(e){var t=e.target.closest("img").dataset,s=o.state.viewImageIdx;s[t.id]=t.idx,o.setState({viewImageIdx:s})},o.translate=function(e){return new Promise((function(t,s){function n(){return o.setState({showOriginal:b,translatedText:f}),t()}var a,r,i,c,l,d,u,h,p,b,m,f,g;return e.preventDefault(),e.stopPropagation(),a=e.target.closest("button").dataset,c=o.props.workout,d=(l=o.props.stores).teamStore,u=l.userStore.user,f=void 0===(m=(h=o.state).translatedText)?{}:m,(b=void 0===(p=h.showOriginal)?{}:p)[g=(i=a.commentid)+((r=a.replyid)?"-"+r:"")]=0,r?Promise.resolve(d.translateCommentReply({commentid:i,replyid:r,object:c,user:u})).then(function(e){try{return f[g]=e,n.call(this)}catch(e){return s(e)}}.bind(this),s):Promise.resolve(d.translateComment({commentid:i,object:c,user:u})).then(function(e){try{return f[g]=e,n.call(this)}catch(e){return s(e)}}.bind(this),s)}))},o.showOriginal=function(e){var t=e.target.closest("button").dataset,s=t.replyid,n=t.commentid;e.preventDefault(),e.stopPropagation();var a=o.state.showOriginal,r=void 0===a?{}:a;r[n+(s?"-"+s:"")]=1,o.setState({showOriginal:r})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},m),o.inputRef={},o}var a,c;return c=t,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var t,o=this,s=this.state,n=s.showAddComment,a=s.showAllComments,c=s.showAllReplies,u=s.viewImageIdx,m=s.showOriginal,f=void 0===m?{}:m,g=s.translatedText,O=void 0===g?{}:g,j=this.props,v=j.workout,y=j.callback,w=void 0===y?function(){}:y,k=j.compact,x=this.props.stores,S=x.userStore,_=x.teamStore,P=S.user,D=S.isAdmin,T=P.language,I=void 0===T?"en":T,C=[],L=0,R=0;return v.comments&&(L=v.comments.length,a?C=v.comments:(t=void 0!==k&&k?0:1,C=v.comments.slice(Math.max(L-t,0))),R=C.length),Object(r.h)("div",null,v&&C&&C.reverse().map((function(s){var a=s.user,m=void 0===a?{}:a,g=_.findPublicTeamByMembers(m.id),j=b.a.displayNameShort(m),y=b.a.displayName(m),k=m.image||(m.images?m.images[0]:void 0),x=s.likes&&s.likes.findIndex((function(e){return e.user===P.id}))>-1,S=[],T=0,C=0;s.comments&&(T=s.comments.length,C=(S=c[s.id]?s.comments:s.comments.slice(0,t)).length);var L=[];if(s.images){var R=Object(l.i)(s.images);L.push.apply(L,R)}var E=u[s.id]?u[s.id]:0,F=L&&L[E]?L[E]:null,U=s.currentLocationGeocode,A=void 0===U?{}:U,N=_.getCommentTranslations({object:v,commentid:s.id,targetLang:I})||O[s.id],V=N||s.comment;return f[s.id]&&(V=s.comment),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!m.image&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},j)),Object(r.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(r.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(r.h)("div",null,Object(r.h)("span",{style:"font-size: 0.95em;"},Object(r.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},y),g&&g.length>0&&Object(r.h)("div",{class:"mb-2"},Object(r.h)("small",{class:"font-weight-lighter text-muted"},g.filter((function(e){return 1===e.public})).slice(0,2).map((function(t){return Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(r.h)("i",{class:"fas fa-users text-muted"})," ",t.name))})))),Object(r.h)(h.a,{markdown:b.a.replaceImages(V,s.images,I),markdownOpts:b.a.getMarkdownOptions()}))),Object(r.h)("div",{class:"container-fluid px-3 mt-1"},F&&Object(r.h)("div",{class:"clearfix row"},Object(r.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(r.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:F.s3LargeLink}))),L&&L.length>1&&Object(r.h)("div",{class:"clearfix d-flex flex-wrap row"},L.map((function(t,n){return Object(r.h)(e,null,Object(r.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(r.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:o.viewImage,"data-id":s.id,"data-idx":n})))}))))),Object(r.h)("small",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:o.likeComment,"data-id":s.id},Object(r.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":s.id},Object(r.h)(d.c,{id:"comments.comment-add"},"Kommentar")),s.language!==I&&Object(r.h)(e,null,"-",!f[s.id]&&N?Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:o.showOriginal},Object(r.h)("i",{class:"fas fa-cog"}),"  ",Object(r.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":s.id},Object(r.h)("i",{class:"fas fa-cog"})," ",Object(r.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-light ml-2"},"(Edited ",i.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),D&&A&&A.formatted_address&&Object(r.h)(e,null,Object(r.h)("span",{class:"ml-2 text-muted"},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",A.formatted_address)))),s.likes&&s.likes.length>0&&Object(r.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(r.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(r.h)("div",{class:"col-11 offset-1 mb-2"},s&&S&&S.map((function(t){var n=t.user,a=void 0===n?{}:n,c=_.findPublicTeamByMembers(a.id),l=a.firstname?""+i.a.ucfirst(a.firstname,!0)+i.a.ucfirst(a.lastname,!0):""+i.a.ucfirst(a.email||"",!0),u=a.firstname?a.firstname+" "+a.lastname:""+a.email,p=a.image||(a.images?a.images[0]:void 0),m=t.likes&&t.likes.findIndex((function(e){return e.user===P.id}))>-1,g=_.getCommentReplyTranslations({object:v,commentid:s.id,replyid:t.id,targetLang:I})||O[s.id+"-"+t.id],j=g||t.comment;return f[s.id+"-"+t.id]&&(j=t.comment),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?'background-image: url("'+p.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!a.image&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(r.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(r.h)("div",{class:"bg-light p-2 rounded-lg"},Object(r.h)("span",{style:"font-size: 0.95em;"},Object(r.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},u),c&&c.length>0&&Object(r.h)("div",{class:"mb-2"},Object(r.h)("small",{class:"font-weight-lighter text-muted"},c.filter((function(e){return 1===e.public})).slice(0,2).map((function(t){return Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(r.h)("i",{class:"fas fa-users text-muted"})," ",t.name))})))),Object(r.h)(h.a,{markdown:b.a.replaceImages(j,t.images,I),markdownOpts:b.a.getMarkdownOptions()}))),Object(r.h)("small",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0 "+(m?"text-primary":""),onClick:o.likeReply,"data-comment":s.id,"data-id":t.id},Object(r.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":s.id},Object(r.h)(d.c,{id:"comments.comment-add"},"Kommentar")),t.language!==I&&Object(r.h)(e,null,"-",!f[s.id+"-"+t.id]&&g?Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":t.id,onClick:o.showOriginal},Object(r.h)("i",{class:"fas fa-cog"}),"  ",Object(r.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(r.h)(e,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":s.id,"data-replyid":t.id},Object(r.h)("i",{class:"fas fa-cog"})," ",Object(r.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(r.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(r.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(r.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))})),T-C>0&&Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.toggleReplies,"data-id":s.id},Object(r.h)(d.c,{id:"comments.show-more",fields:{more:T-C}},"Vis ",T-C," flere kommentarer...")))),n[s.id]&&Object(r.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(r.h)(p.a,{stores:o.props.stores,workout:v,callback:w,commentId:s.id,inputRef:function(e){return o.inputRef[s.id]=e},inputRefObject:o.inputRef})))})),L-R>0&&Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(r.h)(d.c,{id:"comments.show-more",fields:{more:L-R}},"Vis ",L-R," flere kommentarer..."))),a&&Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(r.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},o}(r.Component))||a;t.a=f}).call(this,o("hosL").Fragment)},u2zT:function(e,t,o){"use strict";var s,n=o("hosL"),a=o("/eY4"),r=o("Utv1"),i=o("OhSV"),c=Object(a.a)(s=function(e){function t(t){var o;return(o=e.call(this,t)||this).dropRef=Object(n.createRef)(),o.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},o.handleDragIn=function(e){e.preventDefault(),e.stopPropagation(),o.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&o.setState({drag:!0})},o.handleDragOut=function(e){e.preventDefault(),e.stopPropagation(),o.dragCounter--,0===o.dragCounter&&o.setState({drag:!1})},o.handleDrop=function(e){if(e.preventDefault(),e.stopPropagation(),o.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(var t=0,s=e.dataTransfer.files.length;t<s;t+=1){o.readLocalFile(e.dataTransfer.files[t])}o.dragCounter=0}},o.handleAddFiles=function(e){e.preventDefault();var t=e.target;for(var s=0,n=t.files.length;s<n;s+=1){o.readLocalFile(t.files[s])}},o.handleEvent=function(){0},o.handleUpload=function(e){var t=o.props,s=t.uploadStatus,n=t.before,a=void 0===n?function(){}:n,i=t.after,c=void 0===i?function(){}:i;(void 0===s?function(){}:s)(!1),r.a.isFunction(a)&&a();var l=new FormData;l.append("files[]",e);var d={progress:1};d.xhr=new XMLHttpRequest,d.xhr.upload.addEventListener("progress",(function(t){o.updateProgress(t,e)})),d.xhr.addEventListener("loadstart",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("load",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("loadend",(function(t){var s=e;r.a.isFunction(c)&&c(),o.handleEvent(t,s)})),d.xhr.addEventListener("progress",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("error",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("abort",(function(t){o.handleEvent(t,e)})),d.xhr.addEventListener("readystatechange",(function(t){o.uploadDone(t,e)})),d.xhr.open("POST",""+r.a.getApiServer()+o.props.apiUrl),d.xhr.setRequestHeader("Authorization","Bearer "+r.a.getJwtToken()),d.xhr.send(l);var u=e.name,h=o.state.uploadedFilesData;h[u]||(h[u]={}),h[u].uploadMeta=d,h[u].imageNum=o.state.imageNum,o.setState({uploadedFilesData:h})},o.readLocalFile=function(e){return new Promise((function(t,s){var n=new FileReader;n.addEventListener("error",(function(e){s(e)})),n.addEventListener("load",(function(s){var n=e,a=n.name,r=o.state.uploadedFilesData;r[a]||(r[a]={}),r[a].event=s,o.setState({uploadedFilesData:r}),o.handleUpload(n),t(s)})),n.readAsDataURL(e)}))},o.updateProgress=function(e,t){if(e.lengthComputable){var s=t.name,n=o.state.uploadedFilesData,a=e.loaded/e.total*100;0,n[s].uploadMeta.progress=a,o.setState({uploadedFilesData:n})}},o.uploadDone=function(e,t){var s=t.name,n=o.state.uploadedFilesData,a=n[s].uploadMeta;if(a&&4===a.xhr.readyState&&201===a.xhr.status)for(var r=JSON.parse(a.xhr.responseText).data.files,i=0;i<r.length;i+=1){o.addFileToUpload(r[i]),o.fileInput.value=""}},o.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},o}var o,s;s=e,(o=t).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var a=t.prototype;return a.addFileToUpload=function(e){var t=this.state.uploadedFilesData,o=this.props,s=o.handleAddImage,n=o.uploadStatus,a=void 0===n?function(){}:n;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),a(!0)},a.componentDidMount=function(){var e=this,t=this.dropRef.current;t.addEventListener("dragenter",this.handleDragIn),t.addEventListener("dragleave",this.handleDragOut),t.addEventListener("dragover",this.handleDrag),t.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){e.fileInput.click()}),10)},a.componentWillUnmount=function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)},a.render=function(){var e=this,t=this.state.uploadedFilesData;return Object(n.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(n.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(n.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(n.h)("div",null,Object(n.h)(i.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(n.h)("div",null,Object(n.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(t){e.fileInput=t}})),Object(n.h)("div",null,Object.keys(t).length>0?Object(n.h)("h3",null,Object(n.h)(i.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(n.h)("ul",{class:"list-group"},Object.keys(t).map((function(e){var o=t[e].uploadMeta,s=void 0===o?{}:o,a=e.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(n.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(n.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(n.h)("img",{class:"img-fluid mr-3",src:t[e].event.target.result,style:"max-height: 50px;"}),Object(n.h)("small",null,t[e].event.uploadDone),Object(n.h)(i.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(n.h)("small",null,r.a.formatBytes(t[e].event.total,2))),Object(n.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(n.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+s.progress+"%; height: 4px;","aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},t}(n.Component))||s;t.a=c},"vY+r":function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,r=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),u={},h=Object(c.a)(a=function(t){function o(e){var o;return(o=t.call(this,e)||this).toggleViews=function(){var e=o.props;(e.isTeamAdmin||e.isAdmin)&&o.setState({showViewList:!o.state.showViewList})},o.state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},u),o}var a,c;return c=t,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var t=this.state.showViewList,o=this.props.stores,s=o.storyStore,n=o.teamStore,a=o.workoutStore,c=this.props,u=c.views,h=c.type,p=void 0===h?"story":h,b=c.onTeamClick,m=void 0===b?function(){}:b,f=[];Object.entries(c.object.statistics).forEach((function(e){Object.entries(e[1]).forEach((function(e){var t=e[1];t.viewUsers&&f.push(t.viewUsers)}))}));var g=f.flat().slice(0,50);return Object(r.h)(e,null,Object(r.h)("div",{class:"d-flex justify-content-between mb-2"},Object(r.h)("small",{class:"ml-2 text-muted",onClick:this.toggleViews},u," ",Object(r.h)(l.c,{id:"story.views"},"views"))),t&&Object(r.h)("div",{class:"mt-3 mb-3"},g&&g.map((function(t){var o,c,l;if("story"===p?(o=s.findPublicUser(t),c=s.findPublicTeamByMembers(t)):"team"===p?(o=n.findPublicUser(t),c=n.findPublicTeamByMembers(t)):"workout"===p&&(o=a.findPublicUser(t),c=a.findPublicTeamByMembers(t)),!o)return"";i.a.isArray(c)&&(l=c.find((function(e){return 1===e.public})));var u=d.a.getImage({user:o,team:l,priority:"user"}),h=d.a.displayNameShort(o),b=d.a.displayName(o,!0);return Object(r.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(r.h)(e,null,Object(r.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(e){return m(e,l.uuidv4)},class:"stretched-link"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:u?'background-image: url("'+u+'"); background-size: cover;':""},!u&&Object(r.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},h))),Object(r.h)("div",{class:"ml-2 "},b," ",Object(r.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(r.h)(e,null,Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?'background-image: url("'+u+'"); background-size: cover;':"")+" opacity: 0.5;"},!u&&Object(r.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},h)),Object(r.h)("div",{class:"ml-2"},b)))})),u>g.length&&Object(r.h)(e,null,Object(r.h)("small",{class:"text-muted"},Object(r.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},o}(r.Component))||a;t.a=h}).call(this,o("hosL").Fragment)},wanP:function(e,t,o){"use strict";(function(e){function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,r=o("hosL"),i=(o("Utv1"),o("/eY4")),c=o("eK6s"),l=o.n(c),d={mouseData:{}},u=Object(i.a)(a=function(t){function o(e){var o;return(o=t.call(this,e)||this).state=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},d),o.svgRef=null,o}var a,i;return i=t,(a=o).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,o.prototype.render=function(){var t=this,o=this.props,s=o.radius,n=void 0===s?50:s,a=o.heightAdd,i=void 0===a?0:a,c=o.color,d=void 0===c?"success":c,u=o.showPercentText,h=void 0===u||u,p=o.percent,b=void 0===p?0:p,m=o.prefix,f=void 0===m?"":m,g=o.showCenterText,O=void 0!==g&&g,j=o.centerText,v=o.centerTextSize,y=o.centerTextX,w=o.centerTextY,k=o.total,x=void 0===k?"":k,S=o.totalY,_=void 0===S?"90%":S,P=o.totalX,D=void 0===P?"50%":P,T=o.totalTextAnchor,I=void 0===T?"middle":T,C=o.completed,L=void 0===C?"":C,R=o.completedY,E=void 0===R?"65%":R,F=o.completedX,U=void 0===F?"50%":F,A=o.completedTextAnchor,N=void 0===A?"middle":A,V=.3*n,z=n-V/2,B=.3*n,H=2*z*Math.PI,M=.75*H,W=M+" "+H,Y="rotate(135, "+n+", "+n+")",q=M-Math.min(Math.max(b,0),100)/100*M,K=v||n/2.5,X=n/5;return Object(r.h)(e,null,Object(r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*n,height:2*n+i,preserveAspectRatio:"none",ref:function(e){return t.svgRef=e}},Object(r.h)("circle",{class:""+l.a.gaugeBackground,cx:n,cy:n,r:z,strokeWidth:V,strokeDasharray:W,strokeLinecap:"round",transform:Y}),Object(r.h)("circle",{class:l.a[d]+" "+l.a.gauge,cx:n,cy:n,r:z,stroke:"url(#grad)",strokeDasharray:W,strokeDashoffset:q,strokeLinecap:"round",strokeWidth:B,style:{transition:"stroke-dashoffset 0.3s"},transform:Y}),h&&Object(r.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:y||"50%",y:w||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":K},b," ",f),O&&Object(r.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:y||"50%",y:w||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":K},j),L&&Object(r.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:U,y:E,"dominant-baseline":"middle","text-anchor":N,"font-size":X},L),Object(r.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:D,y:_,"dominant-baseline":"middle","text-anchor":I,"font-size":X},x)))},o}(r.Component))||a;t.a=u}).call(this,o("hosL").Fragment)},xDik:function(e,t,o){"use strict";(function(e){var s,n=o("hosL"),a=o("Utv1"),r=o("/eY4"),i=o("OhSV"),c=o("ZOvn"),l=(o("UJvz"),o("1OK2"),o("s4FZ")),d=o("ETxl"),u=o.n(d),h=c.a.getVaccineTypes(),p=Object(r.a)(s=function(t){function o(e){var o;return(o=t.call(this,e)||this).showModal=function(e){e.stopPropagation(),e.preventDefault(),o.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},o.closeModal=function(){o.setState({displayModal:!1})},o.toggleDate=function(){o.setState({showDate:!o.state.showDate})},o.touchStart=function(e){o.state.eventFired||o.setState({startY:e.touches[0].pageY,startX:e.touches[0].pageX,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},o.touchEnd=function(){o.setState(o.state.eventFired?{startY:void 0,startX:void 0}:{startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},o.touchMove=function(e){if(o.state.eventFired)return!1;var t=o.state,s=t.startY,n=t.startX,a=e.touches[0].pageY,r=e.touches[0].pageX;o.setState({diffY:a-s,diffX:r-n}),a>s+130||a<s-130||r>n+130||r<n-130&&o.setState({eventFired:!0})},o.reset=function(e){e&&(e.stopPropagation(),e.preventDefault()),o.setState({deleted:!1,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},o.deleteHistoryRequest=function(e){return new Promise((function(t){return e.stopPropagation(),o.setState({deleteVerify:!0}),t()}))},o.deleteHistory=function(e){return new Promise((function(t,s){var n;return e.stopPropagation(),n=o.props.line,Promise.resolve(o.props.stores.dogStore.save({id:n.dogId,$pull:{history:{_id:n.id||n._id}}})).then((function(){try{return o.setState({deleted:!0,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1}),t()}catch(e){return s(e)}}),s)}))},o.swipeLeft=function(e){var t=o.state.eventFired;e.stopPropagation(),t?o.reset():o.setState({eventFired:!0,diffX:-130})},o.state={showDate:!1},o}var s,r;r=t,(s=o).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var d=o.prototype;return d.componentWillReceiveProps=function(e){e.line.id!==this.props.line.id&&this.reset()},d.render=function(){var t=this.props.stores.userStore.user.language,o=c.a.getHistoryMap(void 0===t?"en":t),s=this.state,r=s.showDate,d=this.props.line,p=this.state,b=p.diffX,m=p.deleted,f=p.deleteVerify,g=d.images&&d.images.length>0,O=b<0;return Object(n.h)("div",{class:"w-100 mb-4 position-relative "+u.a.hoverElement,onTouchstart:m?function(){}:this.touchStart,onTouchend:m?function(){}:this.touchEnd,onTouchmove:m?function(){}:this.touchMove,onClick:!m&&O?this.reset:function(){},style:"opacity: "+(m?.3:1)+";"},!O&&!m&&Object(n.h)("div",{class:"position-absolute "+u.a.hoverelementonly,style:"top: 0px; right: 0px; z-index: 1000;"},Object(n.h)("button",{class:"btn btn-sm btn-secondary",type:"button",onClick:this.swipeLeft},Object(n.h)("i",{class:"fas fa-ellipsis-h"}))),O&&!m&&Object(n.h)("div",{class:"position-absolute",style:"right: 0px; top: 10%; overflow: hidden; width: "+(Math.abs(b)||0)+"px; line-height: 0.8em;"},!d.grouped&&Object(n.h)(e,null,f?Object(n.h)(e,null,Object(n.h)("button",{class:"btn btn-sm btn-secondary float-right ml-3 mb-3",onClick:this.reset},Object(n.h)("i",{class:"fas fa-times"})," ",Object(n.h)(i.c,{id:"dog.history.no"},"Nei")),Object(n.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.deleteHistory},Object(n.h)("i",{class:"fas fa-check"})," ",Object(n.h)(i.c,{id:"dog.history.yes"},"Ja"))):Object(n.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteHistoryRequest},Object(n.h)("i",{class:"fas fa-trash"})," ",Object(n.h)(i.c,{id:"dog.history.delete"},"Slett"))),d.grouped&&Object(n.h)("small",null,Object(n.h)(i.c,{id:"dog.history.cant-delete-groups"},"Kan ikke slette grupperinger. Gå inn på hundene og slett der."),Object(n.h)("br",null),Object(n.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.reset},Object(n.h)("i",{class:"fas fa-check"})," Ok"))),Object(n.h)("div",{class:"row position-relative",style:"left: "+(O?b:0)+"px;"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},d.dogImage?Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:d.dogImage?'background-image: url("'+d.dogImage.s3SmallLink+'"); background-size: cover;':""}," "):Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:d.images&&d.images[0]?'background-image: url("'+d.images[0].s3SmallLink+'"); background-size: cover;':""},!g&&Object(n.h)("i",{class:"fas fa-rss text-muted mt-2",style:"font-size: 20px;"})),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"line-height: 1.0em;"},!d.grouped&&d.dogId&&Object(n.h)("a",{class:"stretched-link",href:"/dogs/"+d.dogId},Object(n.h)("strong",{class:"mr-2"},d.dogShortname||d.dogName,": ")),d.title,Object(n.h)("br",null),d.grouped&&Object(n.h)(e,null,Object(n.h)("div",{class:"w-100 clearfix mt-2"},d.grouped.map((function(t){return Object(n.h)(e,null,Object(n.h)("a",{href:"/dogs/"+t.dogId},t.dogImage?Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left",style:"margin-right: 2px; "+(t.dogImage?'background-image: url("'+t.dogImage.s3SmallLink+'");':"")}," "):Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left text-muted pt-1",style:"margin-right: 2px; "+(t.images&&t.images[0]?'background-image: url("'+t.images[0].s3SmallLink+'");':"")},!g&&Object(n.h)("span",{style:"font-size: 15px;"},a.a.ucfirst(t.dogName,!0)))))}))),Object(n.h)("div",{class:"w-100 clearfix mt-2"},Object(n.h)("small",null,d.grouped.map((function(e){return Object(n.h)("span",{class:"float-left mr-2 text-muted"},Object(n.h)("a",{href:"/dogs/"+e.dogId},e.dogShortname||e.dogName))}))))),Object(n.h)("div",{class:"w-100 clearfix"},Object(n.h)("small",{class:"text-muted"},d.date&&Object(n.h)("small",{onClick:this.toggleDate},r?a.a.formatDate(d.date,{locale:"no-NB"}):a.a.formatDistance(d.date,new Date,{locale:"no-NB"}),d.endDate&&Object(n.h)("span",{class:"ml-3"},Object(n.h)("i",{class:"fas fa-hourglass-end"})," ",a.a.formatDate(d.endDate,{locale:"no-NB"})),d.historyType&&Object(n.h)("span",{class:"ml-3"},Object(n.h)("i",{class:"fas fa-folder-open"})," ",o[d.historyType]," ",d.vaccineType?" - "+h[d.vaccineType].name:""),d.weight&&Object(n.h)("span",{class:"ml-3"},Object(n.h)("i",{class:"fas fa-balance-scale"})," ",d.weight," kg"),d.bodyScore&&Object(n.h)("span",{class:"ml-3"},Object(n.h)("i",{class:"fas fa-dog"})," ",d.bodyScore),d.user&&d.user.email&&Object(n.h)("span",{class:"ml-3"},Object(n.h)("i",{class:"fas fa-user"})," ",d.user.email)))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12"},Object(n.h)("span",{class:"font-weight-normal"},d.comment),Object(n.h)("span",{class:"float-right"},d.cost?"Kr. "+a.a.format(d.cost,2):""))))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1"},Object(n.h)("div",{class:"row"},Object(n.h)(l.a,{stores:this.props.stores,images:d.images})))))},o}(n.Component))||s;t.a=p}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=57.chunk.18753.js.map