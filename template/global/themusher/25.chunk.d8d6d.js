(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+JSK":function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var n,a=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),u=o("ZOvn"),d={},h=Object(c.a)(n=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleLikes=function(){o.setState({showLikesList:!o.state.showLikesList})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},d),o}var n,c;return c=e,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var e=this.state.showLikesList,o=this.props.stores,r=o.storyStore,s=o.teamStore,n=o.workoutStore,c=o.raceStore,d=this.props,h=d.likes,m=d.comments,b=d.type,p=void 0===b?"story":b,f=d.onTeamClick,g=void 0===f?function(){}:f;return Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-between mb-2"},h&&h.length>0&&Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(a.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(a.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",h.length),h.slice(0,1).map((function(e){var o,l,d;"story"===p?(o=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)):"team"===p?(o=s.findPublicUser(e.user),l=s.findPublicTeamByMembers(e.user)):"workout"===p?(o=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"race"===p&&(o=c.findPublicUser(e.user),l=c.findPublicTeamByMembers(e.user)),i.a.isArray(l)&&(d=l.find((function(t){return 1===t.public})));u.a.getImage({user:o,team:d,priority:"user"}),u.a.displayNameShort(o);var h=u.a.displayName(o);return Object(a.h)(t,null,Object(a.h)("span",{class:"font-weight-lighter"},d?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:function(t){return g(t,d.uuidv4)}},h)):Object(a.h)(t,null,h)))})),h.length>1&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(a.h)(l.c,{id:"likes-comments.and",fields:{total:h.length-1}},"and ",h.length-1," others."))))),m&&m.length>0&&Object(a.h)("span",{class:"float-right text-muted"},Object(a.h)("i",{class:"fas fa-comment text-primary"})," ",m.length)),e&&Object(a.h)("div",{class:"mt-3 mb-3"},h&&h.map((function(e){var o,l,d;"story"===p?(o=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)):"team"===p?(o=s.findPublicUser(e.user),l=s.findPublicTeamByMembers(e.user)):"workout"===p?(o=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"race"===p&&(o=c.findPublicUser(e.user),l=c.findPublicTeamByMembers(e.user)),i.a.isArray(l)&&(d=l.find((function(t){return 1===t.public})));var h=u.a.getImage({user:o,team:d,priority:"user"}),m=u.a.displayNameShort(o),b=u.a.displayName(o,!0);return Object(a.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},d?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:function(t){return g(t,d.uuidv4)},class:"stretched-link"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(a.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m))),Object(a.h)("div",{class:"ml-2 "},b," ",Object(a.h)("span",{class:"font-weight-lighter"},"- ",d.name))):Object(a.h)(t,null,Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(a.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m)),Object(a.h)("div",{class:"ml-2"},b)))}))))},o}(a.Component))||n;e.a=h}).call(this,o("hosL").Fragment)},"/922":function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=o("OhSV"),c=o("go65"),l=o("om2D"),u=(o("ETxl"),o("ZOvn")),d=Object(a.a)(r=function(e){function o(t){var o;return(o=e.call(this,t)||this).beforeImagesUploaded=function(){o.setState({sendButtonEnabled:!1})},o.afterImagesUploaded=function(){o.setState({sendButtonEnabled:!0})},o.commentWorkout=function(){return new Promise((function(t,e){var r,s,n,a,i,c,l,d,h,m,b;return o.state.sendButtonEnabled?(n=void 0===(s=(r=o.props).callback)?function(){}:s,i=void 0===(a=r.inputRefObject)?{}:a,c=o.props.workout,l=o.props.stores.workoutStore,h=(d=o.state).comment,m=d.showAddImage,o.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:c.id,comment:h})).then((function(r){try{return(b=r)&&200===b.status&&(o.setState({comment:{body:"",images:[]}},(function(){u.a.resizeTextarea(i[c.id]),m&&o.addImage()})),n({workout:c,response:b})),o.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},o.addImages=function(t){var e,r=o.state.comment;(e=r.images).push.apply(e,t.value),o.setState({comment:r})},o.addImage=function(){var t=o.state.showAddImage;o.setState({showAddImage:!(void 0!==t&&t)})},o.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},o.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},o.inputRef={},o}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this,o=this.props,r=o.inputRef,a=o.col,d=void 0===a?12:a,h=o.offset,m=void 0===h?0:h,b=o.showAvatar,p=void 0===b||b,f=o.extraClass,g=void 0===f?"":f,O=o.workout,j=this.state,v=j.comment,y=j.showAddImage,w=j.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+n.a.ucfirst(x.firstname,!0)+n.a.ucfirst(x.lastname,!0):""+n.a.ucfirst(x.email||"",!0),D=x.image||(x.images?x.images[0]:void 0);return Object(s.h)("div",{class:"col-"+d+" offset-"+m+" "+g},Object(s.h)("div",{class:"d-flex mb-0 position-relative w-100"},p&&Object(s.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(D?"background-image: url('"+D.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(s.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(s.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(s.h)("div",{class:"d-flex bd-highlight"},Object(s.h)("div",{class:"p-0 w-100 bd-highlight"},Object(s.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(s.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(s.h)("div",{class:"border rounded rounded-lg position-relative"},Object(s.h)(i.b,null,Object(s.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(s.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),onKeyUp:u.a.resizeTextarea,onFocus:u.a.resizeTextarea,style:"height: 2.3em;",value:v.body,ref:r})),Object(s.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(s.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage})))),Object(s.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(s.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" mb-2",disabled:!w,onClick:this.commentWorkout},Object(s.h)("i",{class:"fas fa-paper-plane"})))))),y&&Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 text-center"},Object(s.h)("div",{class:"container-fluid"},Object(s.h)("div",{class:"row"},v.images&&v.images.map((function(t){return Object(s.h)("div",{class:"col-3 p-1"},Object(s.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(s.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(s.h)("i",{class:"fas fa-trash"}),"  ",Object(s.h)(i.c,{id:"comments.remove-image"},"Remove")))})))),Object(s.h)(l.a,{object:v,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},o}(s.Component))||r;e.a=d}).call(this,o("hosL").Fragment)},"/DnB":function(t,e,o){"use strict";function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var n,a=o("hosL"),i=(o("Utv1"),o("/eY4")),c={},l=Object(i.a)(n=function(t){function e(e){var o;return(o=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},c),o.container=null,o}var o,n;n=t,(o=e).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,o=t.vertical,r=void 0===o?"":o,s={behavior:"smooth"};e&&(s.inline=e),r&&(s.block=r),this.container.scrollIntoView(s)},i.render=function(){var t=this;return Object(a.h)("div",{ref:function(e){return t.container=e}},"Â ")},e}(a.Component))||n;e.a=l},"3wGD":function(t,e,o){"use strict";var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=o("OhSV"),c=o("go65"),l=(o("ETxl"),o("ZOvn")),u=Object(a.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).commentWorkout=function(){return new Promise((function(t,e){var r,s,n,a,i,c,u,d,h,m,b;return o.state.sendButtonEnabled?(n=void 0===(s=(r=o.props).callback)?function(){}:s,a=r.commentId,c=void 0===(i=r.inputRefObject)?{}:i,u=o.props.workout,d=o.props.stores.workoutStore,m=void 0===(h=o.state.comment)?"":h,o.setState({sendButtonEnabled:!1}),Promise.resolve(d.commentReplyWorkout({id:u.id,commentId:a,comment:m})).then((function(r){try{return(b=r)&&200===b.status&&(o.setState({comment:""},(function(){l.a.resizeTextarea(c[a])})),n({workout:u,response:b,commentId:a})),o.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},o.state={sendButtonEnabled:!0},o.inputRef={},o}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this.props.inputRef,e=this.state,o=e.comment,r=e.sendButtonEnabled,a=this.props.stores.userStore.user,u=void 0===a?{}:a,d=u.firstname?""+n.a.ucfirst(u.firstname,!0)+n.a.ucfirst(u.lastname,!0):""+n.a.ucfirst(u.email||"",!0),h=u.image||(u.images?u.images[0]:void 0);return Object(s.h)("div",{class:"w-100"},Object(s.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(s.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?"background-image: url('"+h.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!h&&Object(s.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(s.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(s.h)("div",{class:"d-flex bd-highlight"},Object(s.h)("div",{class:"p-0 w-100 bd-highlight"},Object(s.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(s.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(s.h)("div",{class:"border rounded rounded-lg position-relative"},Object(s.h)(i.b,null,Object(s.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(s.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:o,ref:t})))),Object(s.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(s.h)("button",{type:"button",class:"btn btn-"+(r?"primary":"secondary")+" mb-2",disabled:!r,onClick:this.commentWorkout},Object(s.h)("i",{class:"fas fa-paper-plane"})))))))},e}(s.Component))||r;e.a=u},"8Lgr":function(t,e,o){"use strict";(function(t){function r(t){return a.a.format(t,t<5?2:1)}var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,a;return a=e,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,o.prototype.render=function(){var e=this.props,o=e.value,s=void 0===o?0:o,a=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,r(function(t){return.621371*t}(s))," ",a?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(t,null,"mi"))):Object(n.h)(t,null,Object(n.h)("nobr",null,r(s)," ",a?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(t,null,"km")))},o}(n.Component))||s);e.a=c}).call(this,o("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},"JWe/":function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function a(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function i(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var c,l=o("hosL"),u=o("Utv1"),d=o("/eY4"),h=o("cneo"),m=o("OhSV"),b=o("fh8t"),p=o.n(b),f=(o("UJvz"),o("sqi2")),g=o("/922"),O=o("s4FZ"),j=o("ZQlJ"),v=o("q/oJ"),y=o("gWxU"),w=o("Nanz"),k=o("+JSK"),x=o("vY+r"),S=o("nHdA"),D=o("irB3"),P=o("UwwE"),C=o("8Lgr"),T=o("QkTp"),L=o("ZOvn"),I=L.a.getMaxLoadIndex(),_={showAddComment:!1,viewImageIdx:{},likeWorkout:{}},E=Object(d.a)(c=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleDate=function(t){t.stopPropagation(),t.preventDefault(),o.setState({showDate:!o.state.showDate})},o.likeWorkout=function(){return new Promise((function(t,e){var r,s,n;return r=o.props.stores.workoutStore,(n=o.state.likeWorkout)[s=o.props.workout.id]=!0,o.setState({likeWorkout:n}),setTimeout((function(){var t=o.state.likeWorkout;delete t[s],o.setState({likeWorkout:t})}),1200),Promise.resolve(r.likeWorkout({id:s})).then((function(o){try{return o,t()}catch(t){return e(t)}}),e)}))},o.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;o.setState({showAddComment:!o.state.showAddComment},(function(){o.inputRef[e]&&o.inputRef[e].focus()}))},o.viewImage=function(t){var e=t.target.closest("img").dataset,r=o.state.viewImageIdx;r[e.id]=e.idx,o.setState({viewImageIdx:r})},o.shareLink=function(t){var e=t.target.closest("button").dataset;o.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},o.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),o.setState({showTeam:e}),!1},o.hideTeam=function(){o.setState({showTeam:null})},o.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},o.onDogClick=function(t,e,r){return t.preventDefault(),t.stopPropagation(),o.setState({showDog:e,dogs:r}),!1},o.hideDog=function(){o.setState({showDog:null})},o.state=s({},_),o.updateTimer={},o.inputRef={},o}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this,o=this.state,r=o.showDate,n=o.showAddComment,c=o.likeWorkout,d=o.dogs,b=o.showTeam,_=o.showDog,E=this.props,R=E.workout,U=E.showDate,A=E.wrapperClasses,z=void 0===A?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3":A,B=E.wrapperClassesRow,F=void 0===B?"row":B,W=this.props.stores,M=W.userStore,Y=W.appState,V=W.workoutStore,N=Y.viewmode,Z=Y.hasShareApi,q=M.user,J=M.dogs,K=q.language,G=void 0===K?"en":K,H=M.findIntensity({code:R.intensity,language:G})||{},Q=M.findTeam(R.team,!0)||{},X=Q.name,$=[];X&&$.push(X),R.teams&&R.teams.forEach((function(t){M.findTeam(t)&&$.push(M.findTeam(t))}));var tt=R.likes,et=void 0===tt?[]:tt,ot=R.comments,rt=void 0===ot?[]:ot,st=R.likes&&R.likes.findIndex((function(t){return t.user===q.id}))>-1,nt=R.gpxInfo,at=R.mushers,it=void 0===at?[]:at,ct=(void 0===nt?{}:nt).loadIndex,lt=void 0===ct?0:ct,ut=M.findEquipment({equipment:R.equipment,language:G}),dt=M.findEquipment({equipment:R.equipment,field:"icon"}),ht=[];it.length>1&&it.slice(1,10).map((function(t){var e=V.findPublicUser(t)||{};e.images&&e.images[0]&&ht.push(e.images[0])}));var mt,bt=V.findPublicUser(it[0])||{};bt&&bt.images&&bt.images[0]?mt=bt.images[0]:Q.image&&Q.image.s3SmallLink?mt=Q.image:Q.images&&Q.images[0]&&Q.images[0].s3SmallLink?mt=Q.images[0]:R.image&&R.image.s3SmallLink&&(mt=R.image);var pt=[];if(R.mapImage&&pt.push(s(s({},R.mapImage),{},{type:"map"})),R.images){var ft=Object(h.i)(R.images);pt.push.apply(pt,ft)}var gt;R&&R.gpxInfo&&R.gpxInfo.battegryLevelStart&&(gt=100*(R.gpxInfo.battegryLevelStart-R.gpxInfo.battegryLevelEnd));var Ot=L.a.getViews(R.statistics);return Object(l.h)(t,null,b&&Object(l.h)(v.a,null,Object(l.h)(y.default,{stores:this.props.stores,teamid:b,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),_&&Object(l.h)(v.a,null,Object(l.h)(w.default,{stores:this.props.stores,dogid:_,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:d})),Object(l.h)("div",{class:"w-100 mb-2"},Object(l.h)("div",{class:F},Object(l.h)("div",{class:z+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+a(R),style:(mt?'background-image: url("'+mt.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!mt&&Object(l.h)("i",{class:i(R)+" text-"+(H.class?H.class:"muted")+" mt-3",style:"font-size: 40px;"}),ht&&ht.map((function(e,o){return Object(l.h)(t,null,Object(l.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:'\n                                            background-image: url("'+e.s3SmallLink+'");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: '+(10*o-5)+"px;\n                                        "}))}))),0!==R.temperature&&Object(l.h)(t,null,Object(l.h)("span",{class:"text-muted font-weight-light"},Object(l.h)(T.a,{stores:this.props.stores,value:R.temperature})))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("span",{class:"float-right"},1===R.isLocked&&Object(l.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===R.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===R.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(l.h)("a",{class:"stretched-link",href:"/workouts/"+R.id},Object(l.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},R.name)),$&&$.length>0&&Object(l.h)("small",{class:"font-weight-lighter"},$.map((function(e,o){return Object(l.h)(t,null,o>0?", ":"",e)}))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},R.date&&Object(l.h)("small",{onClick:this.toggleDate},U||r?u.a.formatDate(R.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):u.a.formatDistance(R.date,new Date,{locale:"no-NB"})),Object(l.h)("span",{class:"badge badge-"+H.class+" ml-2"},H.name),lt>0&&Object(l.h)("span",{class:"ml-2 text-"+L.a.getLoadIndexColor(u.a.normalizeBetween(lt,0,I,0,100))},Object(l.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(u.a.normalizeBetween(lt,0,I,0,100))," -Â ",L.a.getLoadIndexText(u.a.normalizeBetween(lt,0,I,0,100))),Object(l.h)("br",null)),Object(l.h)("small",null,Object(l.h)("div",{class:"text-muted"},R.garminId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),R.stravaId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),R.equipment>0&&Object(l.h)(t,null,Object(l.h)("i",{class:dt+" ml-2"})," ",ut),R.dogs>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",R.dogs.length),R.track>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-map-marked text-"+(R.track>0?"success":"danger")+" ml-2"})),R.dogsLeft>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-crosshairs text-"+(R.dogsLeft&&R.dogsRight?"success":"danger")+" ml-2"})),R.sledWeight>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:R.sledWeight})),gt>0&&Object(l.h)("span",{class:"text-muted ml-2"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",u.a.format(gt,1),"% ",Object(l.h)(m.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(N)>-1&&Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-balance-scale"})," ",u.a.format(R.kcalBurnedTotal)," ",Object(l.h)(m.c,{id:"workout.kcal"},"kcal"),Object(l.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:R.kcalMeatGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-fish ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:R.kcalSalmonGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(l.h)(P.a,{stores:this.props.stores,value:R.kcalFatGramsTotal/1e3}))))),Object(l.h)("div",{class:z+" position-relative mt-2"},Object(l.h)("strong",null,R.description)),Object(l.h)("div",{class:z+" position-relative"},Object(l.h)(p.a,{markdown:L.a.replaceImages(R.comment,R.images,G),markdownOpts:L.a.getMarkdownOptions()})),Object(l.h)("div",{class:z+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row mt-1"},R.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(m.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(C.a,{stores:this.props.stores,value:R.distanceKm}))),R.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(m.c,{id:"workout.calendar.ascend"},"HÃ¸ydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(D.a,{stores:this.props.stores,value:R.elevation}))),R.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(m.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},u.a.secToHms(R.duration,!0))),R.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(m.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},R.gpxInfo&&R.gpxInfo.avgGpsMovingSpeed>0?Object(l.h)(t,null,Object(l.h)(S.a,{stores:this.props.stores,value:3.6*R.gpxInfo.avgGpsMovingSpeed})):Object(l.h)(t,null,Object(l.h)(S.a,{stores:this.props.stores,value:R.speedAvg}))))))),["beta","advanced","normal"].indexOf(N)>-1&&Object(l.h)("div",{class:""+z},Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row"},Object(l.h)(O.a,{stores:this.props.stores,images:pt,id:R.id,dblClick:this.likeWorkout,likeRef:c})))),["beta","advanced","normal"].indexOf(N)>-1&&Object(l.h)(t,null,R.dogs&&R.dogs.length>0&&Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row pt-2"},Object(l.h)(j.a,{stores:this.props.stores,dogs:R.dogs,allDogs:J,onDogClick:this.onDogClick}))),Object(l.h)("div",{class:"mt-2"},Object(l.h)(k.a,{stores:this.props.stores,likes:et,comments:rt,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(N)>-1&&Object(l.h)(t,null,Object(l.h)("div",{class:z+" mb-0 position-relative mt-2"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(st?"primary":"secondary")+" btn-lg btn-block "+(st?"text-primary":""),onClick:this.likeWorkout},Object(l.h)("i",{class:(st?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(m.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":R.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(m.c,{id:"comments.comment-add"},"Kommentar"))),Z?Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+R.uuidv4,"data-title":"title: "+R.name},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(m.c,{id:"workout.share"},"Del")))):Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+R.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(m.c,{id:"workout.share"},"Del")))))),Object(l.h)("div",{class:z+" mt-2 mb-3"},n&&Object(l.h)(g.a,{stores:this.props.stores,workout:R,inputRef:function(t){return e.inputRef[R.id]=t},inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(l.h)(f.a,{stores:this.props.stores,workout:R,col:"10",offset:"2",compact:!0})),Ot>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"mt-2"},Object(l.h)(x.a,{stores:this.props.stores,views:Ot,object:R,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))},o}(l.Component))||c;e.a=E}).call(this,o("hosL").Fragment)},QkTp:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(a.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,a=this.props.stores.userStore.user.settings;return(void 0===a?{}:a).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return 9*t/5+32}(r),0),"Â°F")):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(r,1),"Â°C"))},o}(s.Component))||r);e.a=i}).call(this,o("hosL").Fragment)},UJvz:function(t,e,o){"use strict";var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=o("OhSV"),c=Object(a.a)(r=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).toggleDate=function(){e.setState({showDate:!e.state.showDate})},e.touchStart=function(t){t.stopPropagation(),e.setState({startY:t.touches[0].pageY})},e.touchEnd=function(t){t.stopPropagation(),e.setState({startY:void 0,readyToRefresh:!1})},e.touchMove=function(t){t.stopPropagation();var o=e.state;e.appContainer&&(0===e.appContainer.scrollTop&&t.touches[0].pageY>o.startY+30&&!o.refreshing&&(0,e.props.close)())},e}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this,e=this.state.showDate,o=this.props,r=o.image,a=o.imagexxl,c=o.close,l=o.thumb,u=o.name,d=o.title,h=o.date;return Object(s.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(s.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:c},"X"),Object(s.h)("div",{class:"d-flex mb-2 px-2"},l&&Object(s.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:l?'background-image: url("'+l+'");':""},"Â "),Object(s.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},u&&Object(s.h)("strong",{class:"mr-2"},u,":"),d,Object(s.h)("br",null),Object(s.h)("small",{class:"text-muted"},h&&Object(s.h)("small",{onClick:this.toggleDate},e?n.a.formatDate(h,{locale:"no-NB"}):n.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(s.h)("img",{src:r,class:"img-fluid align-middle mt-2 mb-2",onClick:c,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:function(e){return t.appContainer=e}}),Object(s.h)("a",{target:"_blank",rel:"noopener noreferrer",href:a||r,download:a||r},Object(s.h)("i",{class:"fas fa-download"})," ",Object(s.h)(i.c,{id:"modal.download"},"Last ned bildet")))},e}(s.Component))||r;e.a=c},UwwE:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(a.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,a=this.props.stores.userStore.user.settings;return(void 0===a?{}:a).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return 2.20462*t}(r),0)," lb")):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(r,0)," kg"))},o}(s.Component))||r);e.a=i}).call(this,o("hosL").Fragment)},ZiYL:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=o("OhSV"),c=o("ZOvn"),l=Object(a.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this.props.stores,o=e.userStore,r=e.appState,a=o.user.language,l=c.a.getDays(void 0===a?"en":a),u=r.darkmode,d=this.props,h=d.week,m=d.year,b=n.a.getDaysInWeek(h,m),p=0,f=0,g=0,O=0,j=[],v=parseInt(h,10),y=parseInt(m,10),w=c.a.getNextWeek(v,y),k=w.week,x=w.year,S=c.a.getPrevWeek(v,y),D=S.week,P=S.year;return Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(s.h)("a",{href:"/workouts/week/"+k+"/"+x,class:"float-right btn btn-sm btn-link"},Object(s.h)("i",{class:"fas fa-arrow-right"})),Object(s.h)("a",{href:"/workouts/week/"+D+"/"+P,class:"float-left btn btn-sm btn-link"},Object(s.h)("i",{class:"fas fa-arrow-left"})),Object(s.h)("h5",null,Object(s.h)(i.c,{id:"workouts.week-workouts",fields:{week:h,year:m}},"Treningsturene - Uke - ",h," ",m)),Object(s.h)("small",null,Object(s.h)("a",{href:"/workouts/month/"+(b[0].getMonth()+1)+"/"+b[0].getFullYear()},n.a.isoDate(b[0],!1,!1,!0))," - ",Object(s.h)("a",{href:"/workouts/month/"+(b[b.length-1].getMonth()+1)+"/"+b[b.length-1].getFullYear()},n.a.isoDate(b[b.length-1],!1,!1,!0)))),Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(s.h)("table",{class:"table table-striped table-sm"},Object(s.h)("thead",null,Object(s.h)("tr",null,Object(s.h)("th",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.week"},"Uke")),b.map((function(t){return Object(s.h)("th",null,l[t.getDay()])})),Object(s.h)("th",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.sum"},"Sum")))),Object(s.h)("tbody",null,Object(s.h)("tr",null,Object(s.h)("td",{class:"text-right text-muted pt-3"},h),b.map((function(t){var e=t.getFullYear(),r=t.getMonth()+1,a=t.getDate(),i=o.findWorkoutSummaryWeekDay(e,r,a)||{};return i&&i.distanceKm&&(p+=i.distanceKm,f+=i.count,g+=i.elevation,O+=i.duration,j.push(i.speedAvg)),Object(s.h)("td",{class:"text-center font-weight-light position-relative pt-3",style:"background-color: "+c.a.getDayColor(t.getDay(),u)+";"},Object(s.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),i&&i.distanceKm?Object(s.h)("div",{class:"rounded-pill w-100 px-1",style:"background-color: "+c.a.getTrainingColor(i,u)},n.a.format(i.distanceKm,1),i.count>1&&Object(s.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},i.count)):"-")})),Object(s.h)("td",{class:"text-right pt-3"},p)))),Object(s.h)("h5",{class:"mt-4"},Object(s.h)(i.c,{id:"workout.calendar.summary"},"Oppsummering")," - ",h," ",m),Object(s.h)("table",{class:"table table-striped table-sm"},Object(s.h)("tbody",null,Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.totalWorkouts"},"Antall Ã¸kter")),Object(s.h)("td",{class:"text-right"},f)),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.distance"},"Distanse")),Object(s.h)("td",{class:"text-right"},n.a.format(p,1)," km")),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.ascend"},"HÃ¸ydemeter")),Object(s.h)("td",{class:"text-right"},n.a.format(g,0)," m")),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.duration"},"Varighet")),Object(s.h)("td",{class:"text-right"},n.a.secToHms(O))),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.avg-speed"},"Gjennomsnittsfart")),Object(s.h)("td",{class:"text-right"},n.a.format(c.a.avgArr(j),1)," km/t"))))))},o}(s.Component))||r;e.a=l}).call(this,o("hosL").Fragment)},irB3:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(a.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,a=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return 3.28084*t}(r),0)," ",a?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(s.h)(t,null,"ft"))):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(r,0)," ",a?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},"m")))):Object(s.h)(t,null,"m")))},o}(s.Component))||r);e.a=i}).call(this,o("hosL").Fragment)},nHdA:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=o("OhSV"),c=(o("ZOvn"),Object(a.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,a=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return.621371*t}(r),1)," ",a?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},Object(s.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(s.h)(t,null,Object(s.h)(i.c,{id:"workouts.mph"},"mph")))):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(r,1)," ",a?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},Object(s.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(s.h)(t,null,Object(s.h)(i.c,{id:"workouts.kmt"},"km/t"))))},o}(s.Component))||r);e.a=c}).call(this,o("hosL").Fragment)},na1C:function(t,e,o){"use strict";function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.r(e);var n,a=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),u=o("ZOvn"),d=o("JWe/"),h=o("ZiYL"),m=o("pJjI"),b=u.a.marginTop(!0),p=u.a.marginBottom(),f=u.a.subMenuMarginTop(),g={isLoading:!1},O=Object(c.a)(n=function(t){function e(e){var o;return(o=t.call(this,e)||this).loadWorkouts=function(){return new Promise((function(t,e){return o.setState({isLoading:!0}),Promise.resolve(o.loadWorkoutSummary()).then((function(){try{return o.setState({isLoading:!1}),t()}catch(t){return e(t)}}),e)}))},o.loadDogs=function(){return new Promise((function(t,e){var r;return r=o.props.stores.dogStore,Promise.resolve(r.load({query:{team:r.currentTeam},addData:["workoutSummary"]})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},g),o}var o,n;n=t,(o=e).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n;var c=e.prototype;return c.loadTracks=function(){return new Promise(function(t,e){return Promise.resolve(this.props.stores.trackStore.load()).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},c.loadWorkoutSummary=function(t){return new Promise(function(e,o){var r,s,n,a,i,c;return void 0===t&&(t=this.props),s=(r=this.props.stores).userStore,n=r.workoutStore.currentTeam,i=(a=t).week,c=a.year,Promise.resolve(s.getWorkoutSummary({team:n})).then((function(){try{return Promise.resolve(s.getWorkoutSummaryDay({week:i,year:c,team:n})).then((function(){try{return e()}catch(t){return o(t)}}),o)}catch(t){return o(t)}}),o)}.bind(this))},c.componentDidMount=function(){this.loadWorkouts()},c.componentWillReceiveProps=function(t){t.week!==this.props.week&&this.loadWorkoutSummary(t)},c.shouldComponentUpdate=function(t){if(t.week!==this.props.week)return!0},c.render=function(){var t=this,e=this.props.stores,o=e.userStore,r=e.workoutStore.currentTeam,s=e.appState.darkmode,n=this.props,c=n.week,u=n.year,g=void 0===u?i.a.getYear():u,O=o.workoutsDay;return Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+p+"; margin-top: "+b+";"},Object(a.h)("div",{class:"row fixed-top",style:"margin-top: "+f+"; background-color: "+(s?"#191d21":"#f8f9fa")+";"},Object(a.h)("div",{class:"col text-center subtopmenu"},Object(a.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(a.h)("nobr",null,Object(a.h)("i",{class:"fas fa-chart-line"})," ",Object(a.h)(l.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(a.h)("div",{class:"col text-center subtopmenu"},Object(a.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(a.h)("nobr",null,Object(a.h)("i",{class:"fas fa-list"})," ",Object(a.h)(l.c,{id:"workout.index.list"},"Liste")))),Object(a.h)("div",{class:"col text-center subtopmenu"},Object(a.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(a.h)("nobr",null,Object(a.h)("i",{class:"fas fa-calendar-alt"})," ",Object(a.h)(l.c,{id:"workout.index.plan"},"Plan"))))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(a.h)(m.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+r})),Object(a.h)(h.a,{stores:this.props.stores,team:r,week:c,year:g,key:g+"-"+c+"-"+r}),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(a.h)("h5",null,Object(a.h)(l.c,{id:"workouts.week-workouts",fields:{week:c,year:g}},"Treningsturene - Uke - ",c," ",g))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},O&&O.map((function(e){return Object(a.h)(d.a,{stores:t.props.stores,workout:e,showDate:!0})})))))},e}(a.Component))||n;e.default=O},om2D:function(t,e,o){"use strict";var r,s=o("hosL"),n=o("/eY4"),a=(o("cneo"),o("Utv1"),o("u2zT")),i=Object(n.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).handleAddImage=function(t){var e=o.props.addToImages,r=void 0===e||e,s=o.props,n=s.updateField,a=s.object,i=s.field;if(i&&n({id:a.id,field:i,value:t,skipTimer:!0}),r){var c=[];c.push(t),n({id:a.id,field:"images",value:c,skipTimer:!0})}},o.state={files:[]},o}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,o=void 0===e?function(){}:e,r=t.before,n=void 0===r?function(){}:r,i=t.after,c=void 0===i?function(){}:i,l=t.autoOpen,u=void 0===l||l;return Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12"},Object(s.h)(a.a,{handleAddImage:this.handleAddImage,uploadStatus:o,apiUrl:"/api/fileupload",before:n,after:c,autoOpen:u},Object(s.h)("div",{style:{height:30,width:"100%"}}))))},e}(s.Component))||r;e.a=i},pJjI:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),n=o("Utv1"),a=o("/eY4"),i=o("OhSV"),c=(o("/DnB"),Object(a.a)(r=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).toggleTeam=function(e){var o=t.props,r=o.callback,s=o.unsetTeamIfSelected,a=t.props.stores,i=a.dogStore,c=a.workoutStore;(void 0===s||s)&&e===i.currentTeam?(i.setCurrentTeam(void 0),c.setCurrentTeam(void 0)):(i.setCurrentTeam(e),c.setCurrentTeam(e)),n.a.isDefined(r)&&r()},t.showAllTeams=function(){var e=t.props.callback,o=t.props.stores,r=o.workoutStore;o.dogStore.setCurrentTeam(void 0),r.setCurrentTeam(void 0),n.a.isDefined(e)&&e()},t}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this,o=this.props.stores,r=o.userStore.teams,n=o.dogStore.currentTeam,a=this.props,c=a.highlight,l=a.showAll,u=void 0===l||l;return Object(s.h)("div",{class:"row mt-2"},Object(s.h)("div",{class:"w-100 overflow-hidden"},Object(s.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;"},r&&r.map((function(o,a){var i;return 1===r.length?i="rounded-pill-both":0===a?i="rounded-pill-left":a+1===r.length&&(i="rounded-pill-right"),Object(s.h)("div",{class:"col mb-0 px-0 clearfix",key:o.id},Object(s.h)("button",{class:"btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none "+i+"\n\t\t\t\t\t\t\t\t\t\t\t"+(n===o.id?"btn-success":"btn-outline-success")+"\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:function(){return e.toggleTeam(o.id)}},Object(s.h)("i",{class:"fas fa-users"})," ",o.name,c&&c.indexOf(o.id)>-1&&Object(s.h)(t,null,n===o.id?Object(s.h)(t,null,Object(s.h)("i",{class:"fas fa-check float-right"})):Object(s.h)(t,null,Object(s.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(s.h)("span",{class:"sr-only"},"Loading...")),Object(s.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))}))),u&&Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(s.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(s.h)("i",{class:"fas fa-users"})," ",Object(s.h)(i.c,{id:"teams.show-all"},"Show all"))))))},o}(s.Component))||r);e.a=c}).call(this,o("hosL").Fragment)},sqi2:function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var n,a=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("cneo"),u=o("OhSV"),d=o("fh8t"),h=o.n(d),m=o("3wGD"),b=(o("ETxl"),o("ZOvn")),p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},f=Object(c.a)(n=function(e){function o(t){var o;return(o=e.call(this,t)||this).likeComment=function(t){return new Promise((function(e,r){var s,n,a,i,c;return n=void 0===(s=o.props.callback)?function(){}:s,a=t.target.parentElement.dataset.id||t.target.dataset.id,i=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutComment({id:i.id,commentId:a})).then((function(t){try{return(c=t)&&200===c.status&&n({type:"likeComment",workout:i,commentId:a,response:c}),e(!0)}catch(t){return r(t)}}),r)}))},o.likeReply=function(t){return new Promise((function(e,r){var s,n,a,i,c,l;return n=void 0===(s=o.props.callback)?function(){}:s,a=t.target.parentElement.dataset.id||t.target.dataset.id,i=t.target.parentElement.dataset.comment||t.target.dataset.comment,c=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutCommentReply({id:c.id,replyId:a,commentId:i})).then((function(t){try{return(l=t)&&200===l.status&&n({type:"likeReply",workout:c,commentId:i,replyId:a,response:l}),e()}catch(t){return r(t)}}),r)}))},o.replyComment=function(t){return new Promise((function(e){var r=t.target.parentElement.dataset.id||t.target.dataset.id,s=o.state.showAddComment;return s[r]=!s[r],o.setState({showAddComment:s},(function(){o.inputRef[r]&&o.inputRef[r].focus()})),e()}))},o.toggleComments=function(){o.setState({showAllComments:!o.state.showAllComments})},o.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,r=o.state.showAllReplies;r[e]=!r[e],o.setState({showAllReplies:r})},o.viewImage=function(t){var e=t.target.closest("img").dataset,r=o.state.viewImageIdx;r[e.id]=e.idx,o.setState({viewImageIdx:r})},o.translate=function(t){return new Promise((function(e,r){function s(){return o.setState({showOriginal:b,translatedText:f}),e()}var n,a,i,c,l,u,d,h,m,b,p,f,g;return t.preventDefault(),t.stopPropagation(),n=t.target.closest("button").dataset,c=o.props.workout,u=(l=o.props.stores).teamStore,d=l.userStore.user,f=void 0===(p=(h=o.state).translatedText)?{}:p,(b=void 0===(m=h.showOriginal)?{}:m)[g=(i=n.commentid)+((a=n.replyid)?"-"+a:"")]=0,a?Promise.resolve(u.translateCommentReply({commentid:i,replyid:a,object:c,user:d})).then(function(t){try{return f[g]=t,s.call(this)}catch(t){return r(t)}}.bind(this),r):Promise.resolve(u.translateComment({commentid:i,object:c,user:d})).then(function(t){try{return f[g]=t,s.call(this)}catch(t){return r(t)}}.bind(this),r)}))},o.showOriginal=function(t){var e=t.target.closest("button").dataset,r=e.replyid,s=e.commentid;t.preventDefault(),t.stopPropagation();var n=o.state.showOriginal,a=void 0===n?{}:n;a[s+(r?"-"+r:"")]=1,o.setState({showOriginal:a})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},p),o.inputRef={},o}var n,c;return c=e,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var e,o=this,r=this.state,s=r.showAddComment,n=r.showAllComments,c=r.showAllReplies,d=r.viewImageIdx,p=r.showOriginal,f=void 0===p?{}:p,g=r.translatedText,O=void 0===g?{}:g,j=this.props,v=j.workout,y=j.callback,w=void 0===y?function(){}:y,k=j.compact,x=this.props.stores,S=x.userStore,D=x.teamStore,P=S.user,C=S.isAdmin,T=P.language,L=void 0===T?"en":T,I=[],_=0,E=0;return v.comments&&(_=v.comments.length,n?I=v.comments:(e=void 0!==k&&k?0:1,I=v.comments.slice(Math.max(_-e,0))),E=I.length),Object(a.h)("div",null,v&&I&&I.reverse().map((function(r){var n=r.user,p=void 0===n?{}:n,g=D.findPublicTeamByMembers(p.id),j=b.a.displayNameShort(p),y=b.a.displayName(p),k=p.image||(p.images?p.images[0]:void 0),x=r.likes&&r.likes.findIndex((function(t){return t.user===P.id}))>-1,S=[],T=0,I=0;r.comments&&(T=r.comments.length,I=(S=c[r.id]?r.comments:r.comments.slice(0,e)).length);var _=[];if(r.images){var E=Object(l.i)(r.images);_.push.apply(_,E)}var R=d[r.id]?d[r.id]:0,U=_&&_[R]?_[R]:null,A=r.currentLocationGeocode,z=void 0===A?{}:A,B=D.getCommentTranslations({object:v,commentid:r.id,targetLang:L})||O[r.id],F=B||r.comment;return f[r.id]&&(F=r.comment),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!p.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},j)),Object(a.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(a.h)("div",null,Object(a.h)("span",{style:"font-size: 0.95em;"},Object(a.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},y),g&&g.length>0&&Object(a.h)("div",{class:"mb-2"},Object(a.h)("small",{class:"font-weight-lighter text-muted"},g.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(a.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(a.h)(h.a,{markdown:b.a.replaceImages(F,r.images,L),markdownOpts:b.a.getMarkdownOptions()}))),Object(a.h)("div",{class:"container-fluid px-3 mt-1"},U&&Object(a.h)("div",{class:"clearfix row"},Object(a.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(a.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:U.s3LargeLink}))),_&&_.length>1&&Object(a.h)("div",{class:"clearfix d-flex flex-wrap row"},_.map((function(e,s){return Object(a.h)(t,null,Object(a.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(a.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:o.viewImage,"data-id":r.id,"data-idx":s})))}))))),Object(a.h)("small",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:o.likeComment,"data-id":r.id},Object(a.h)(u.c,{id:"comments.like"},"Lik")),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":r.id},Object(a.h)(u.c,{id:"comments.comment-add"},"Kommentar")),r.language!==L&&Object(a.h)(t,null,"-",!f[r.id]&&B?Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":r.id,onClick:o.showOriginal},Object(a.h)("i",{class:"fas fa-cog"}),"  ",Object(a.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":r.id},Object(a.h)("i",{class:"fas fa-cog"})," ",Object(a.h)(u.c,{id:"home.translate-to"},"See translation")))),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(r.createdDate,new Date,{locale:"no-NB"}),r.updatedDate&&Object(a.h)(t,null,Object(a.h)("span",{class:"font-weight-light ml-2"},"(Edited ",i.a.formatDistance(r.updatedDate,new Date,{locale:"no-NB"}),")"))),C&&z&&z.formatted_address&&Object(a.h)(t,null,Object(a.h)("span",{class:"ml-2 text-muted"},Object(a.h)("i",{class:"fas fa-map-marker-alt"})," ",z.formatted_address)))),r.likes&&r.likes.length>0&&Object(a.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(a.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",r.likes.length)),Object(a.h)("div",{class:"col-11 offset-1 mb-2"},r&&S&&S.map((function(e){var s=e.user,n=void 0===s?{}:s,c=D.findPublicTeamByMembers(n.id),l=n.firstname?""+i.a.ucfirst(n.firstname,!0)+i.a.ucfirst(n.lastname,!0):""+i.a.ucfirst(n.email||"",!0),d=n.firstname?n.firstname+" "+n.lastname:""+n.email,m=n.image||(n.images?n.images[0]:void 0),p=e.likes&&e.likes.findIndex((function(t){return t.user===P.id}))>-1,g=D.getCommentReplyTranslations({object:v,commentid:r.id,replyid:e.id,targetLang:L})||O[r.id+"-"+e.id],j=g||e.comment;return f[r.id+"-"+e.id]&&(j=e.comment),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(m?'background-image: url("'+m.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!n.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(a.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"bg-light p-2 rounded-lg"},Object(a.h)("span",{style:"font-size: 0.95em;"},Object(a.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},d),c&&c.length>0&&Object(a.h)("div",{class:"mb-2"},Object(a.h)("small",{class:"font-weight-lighter text-muted"},c.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(a.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(a.h)(h.a,{markdown:b.a.replaceImages(j,e.images,L),markdownOpts:b.a.getMarkdownOptions()}))),Object(a.h)("small",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0 "+(p?"text-primary":""),onClick:o.likeReply,"data-comment":r.id,"data-id":e.id},Object(a.h)(u.c,{id:"comments.like"},"Lik")),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":r.id},Object(a.h)(u.c,{id:"comments.comment-add"},"Kommentar")),e.language!==L&&Object(a.h)(t,null,"-",!f[r.id+"-"+e.id]&&g?Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":r.id,"data-replyid":e.id,onClick:o.showOriginal},Object(a.h)("i",{class:"fas fa-cog"}),"  ",Object(a.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(a.h)(t,null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":r.id,"data-replyid":e.id},Object(a.h)("i",{class:"fas fa-cog"})," ",Object(a.h)(u.c,{id:"home.translate-to"},"See translation")))),"-",Object(a.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(a.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(a.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),T-I>0&&Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.toggleReplies,"data-id":r.id},Object(a.h)(u.c,{id:"comments.show-more",fields:{more:T-I}},"Vis ",T-I," flere kommentarer...")))),s[r.id]&&Object(a.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(a.h)(m.a,{stores:o.props.stores,workout:v,callback:w,commentId:r.id,inputRef:function(t){return o.inputRef[r.id]=t},inputRefObject:o.inputRef})))})),_-E>0&&Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(a.h)(u.c,{id:"comments.show-more",fields:{more:_-E}},"Vis ",_-E," flere kommentarer..."))),n&&Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(a.h)(u.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},o}(a.Component))||n;e.a=f}).call(this,o("hosL").Fragment)},u2zT:function(t,e,o){"use strict";var r,s=o("hosL"),n=o("/eY4"),a=o("Utv1"),i=o("OhSV"),c=Object(n.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).dropRef=Object(s.createRef)(),o.handleDrag=function(t){t.preventDefault(),t.stopPropagation()},o.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),o.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&o.setState({drag:!0})},o.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),o.dragCounter--,0===o.dragCounter&&o.setState({drag:!1})},o.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),o.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(var e=0,r=t.dataTransfer.files.length;e<r;e+=1){o.readLocalFile(t.dataTransfer.files[e])}o.dragCounter=0}},o.handleAddFiles=function(t){t.preventDefault();var e=t.target;for(var r=0,s=e.files.length;r<s;r+=1){o.readLocalFile(e.files[r])}},o.handleEvent=function(){0},o.handleUpload=function(t){var e=o.props,r=e.uploadStatus,s=e.before,n=void 0===s?function(){}:s,i=e.after,c=void 0===i?function(){}:i;(void 0===r?function(){}:r)(!1),a.a.isFunction(n)&&n();var l=new FormData;l.append("files[]",t);var u={progress:1};u.xhr=new XMLHttpRequest,u.xhr.upload.addEventListener("progress",(function(e){o.updateProgress(e,t)})),u.xhr.addEventListener("loadstart",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("load",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("loadend",(function(e){var r=t;a.a.isFunction(c)&&c(),o.handleEvent(e,r)})),u.xhr.addEventListener("progress",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("error",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("abort",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("readystatechange",(function(e){o.uploadDone(e,t)})),u.xhr.open("POST",""+a.a.getApiServer()+o.props.apiUrl),u.xhr.setRequestHeader("Authorization","Bearer "+a.a.getJwtToken()),u.xhr.send(l);var d=t.name,h=o.state.uploadedFilesData;h[d]||(h[d]={}),h[d].uploadMeta=u,h[d].imageNum=o.state.imageNum,o.setState({uploadedFilesData:h})},o.readLocalFile=function(t){return new Promise((function(e,r){var s=new FileReader;s.addEventListener("error",(function(t){r(t)})),s.addEventListener("load",(function(r){var s=t,n=s.name,a=o.state.uploadedFilesData;a[n]||(a[n]={}),a[n].event=r,o.setState({uploadedFilesData:a}),o.handleUpload(s),e(r)})),s.readAsDataURL(t)}))},o.updateProgress=function(t,e){if(t.lengthComputable){var r=e.name,s=o.state.uploadedFilesData,n=t.loaded/t.total*100;0,s[r].uploadMeta.progress=n,o.setState({uploadedFilesData:s})}},o.uploadDone=function(t,e){var r=e.name,s=o.state.uploadedFilesData,n=s[r].uploadMeta;if(n&&4===n.xhr.readyState&&201===n.xhr.status)for(var a=JSON.parse(n.xhr.responseText).data.files,i=0;i<a.length;i+=1){o.addFileToUpload(a[i]),o.fileInput.value=""}},o.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},o}var o,r;r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var n=e.prototype;return n.addFileToUpload=function(t){var e=this.state.uploadedFilesData,o=this.props,r=o.handleAddImage,s=o.uploadStatus,n=void 0===s?function(){}:s;delete e[t.name],this.setState({uploadedFilesData:e}),r(t),n(!0)},n.componentDidMount=function(){var t=this,e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){t.fileInput.click()}),10)},n.componentWillUnmount=function(){var t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)},n.render=function(){var t=this,e=this.state.uploadedFilesData;return Object(s.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(s.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(s.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(s.h)("div",null,Object(s.h)(i.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(s.h)("div",null,Object(s.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(e){t.fileInput=e}})),Object(s.h)("div",null,Object.keys(e).length>0?Object(s.h)("h3",null,Object(s.h)(i.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(s.h)("ul",{class:"list-group"},Object.keys(e).map((function(t){var o=e[t].uploadMeta,r=void 0===o?{}:o,n=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(s.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(s.h)("div",{class:"d-flex w-100 justify-content-between"},n&&Object(s.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(s.h)("small",null,e[t].event.uploadDone),Object(s.h)(i.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(s.h)("small",null,a.a.formatBytes(e[t].event.total,2))),Object(s.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(s.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+r.progress+"%; height: 4px;","aria-valuenow":r.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},e}(s.Component))||r;e.a=c},"vY+r":function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var n,a=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),u=o("ZOvn"),d={},h=Object(c.a)(n=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleViews=function(){var t=o.props;(t.isTeamAdmin||t.isAdmin)&&o.setState({showViewList:!o.state.showViewList})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},d),o}var n,c;return c=e,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var e=this.state.showViewList,o=this.props.stores,r=o.storyStore,s=o.teamStore,n=o.workoutStore,c=this.props,d=c.views,h=c.type,m=void 0===h?"story":h,b=c.onTeamClick,p=void 0===b?function(){}:b,f=[];Object.entries(c.object.statistics).forEach((function(t){Object.entries(t[1]).forEach((function(t){var e=t[1];e.viewUsers&&f.push(e.viewUsers)}))}));var g=f.flat().slice(0,50);return Object(a.h)(t,null,Object(a.h)("div",{class:"d-flex justify-content-end mb-2"},Object(a.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},d," ",Object(a.h)(l.c,{id:"story.views"},"views"))),e&&Object(a.h)("div",{class:"mt-3 mb-3"},g&&g.map((function(e){var o,c,l;if("story"===m?(o=r.findPublicUser(e),c=r.findPublicTeamByMembers(e)):"team"===m?(o=s.findPublicUser(e),c=s.findPublicTeamByMembers(e)):"workout"===m&&(o=n.findPublicUser(e),c=n.findPublicTeamByMembers(e)),!o)return"";i.a.isArray(c)&&(l=c.find((function(t){return 1===t.public})));var d=u.a.getImage({user:o,team:l,priority:"user"}),h=u.a.displayNameShort(o),b=u.a.displayName(o,!0);return Object(a.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(t){return p(t,l.uuidv4)},class:"stretched-link"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:d?'background-image: url("'+d+'"); background-size: cover;':""},!d&&Object(a.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},h))),Object(a.h)("div",{class:"ml-2 "},b," ",Object(a.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(a.h)(t,null,Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?'background-image: url("'+d+'"); background-size: cover;':"")+" opacity: 0.5;"},!d&&Object(a.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},h)),Object(a.h)("div",{class:"ml-2"},b)))})),d>g.length&&Object(a.h)(t,null,Object(a.h)("small",{class:"text-muted"},Object(a.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},o}(a.Component))||n;e.a=h}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=25.chunk.d8d6d.js.map