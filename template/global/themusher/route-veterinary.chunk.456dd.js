(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"6a5D":function(e,t,a){"use strict";function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,o=a("hosL"),c=a("ox/y"),l=(a("Utv1"),a("/eY4")),i=(a("go65"),a("Y3FI")),h=a("OhSV"),b={menu:{profile:!1,main:!1},searchText:""},u=Object(l.a)(r=function(e){function t(t){var a;return(a=e.call(this,t)||this).toggleDropdown=function(e){var t=a.state.menu,s=e.target.dataset.name;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.name),s&&(t[s]=!t[s]),a.setState({menu:t})},a.toggleDarkmode=function(e){a.props.stores.appState.toggleDarkmode(),a.toggleDropdown(e)},a.toggleViewmode=function(e){var t=e.target.dataset.mode;!t&&e.target.parentNode&&(t=e.target.parentNode.dataset.mode),a.props.stores.appState.toggleViewmode(t),a.toggleDropdown(e)},a.reloadApp=function(){window.location.reload(!0)},a.adminLoadAll=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.userStore.getInfo(!0)).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},a.changeLanguage=function(e){var t=e.target.value;console.log("changeLanguage",t);var s=a.props.stores,n=s.appState,r=s.userStore,o=r.user,c=void 0===o?{}:o;c.email&&r.setLanguage({email:c.email,language:t}),n.setLanguage(t)},a.search=function(){var e=a.state.searchText;Object(i.route)("/search/"+e,!0)},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},b),a}var a,r;return r=e,(a=t).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,t.prototype.render=function(){var e=this.state,t=e.menu,a=this.props.stores,s=a.appState,n=a.userStore,r=s.darkmode,l=n.user,i=n.notifications,b=((void 0===i?[]:i).filter((function(e){return!e.read})),l.language),u=void 0===b?"no":b;return Object(o.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top",style:"z-index: 99999;"},Object(o.h)("a",{class:"navbar-brand",href:"/veterinary"},Object(o.h)("img",{src:"./assets/logo.png",height:"37",class:"position-absolute",style:"top: 10px; left: 6px"}),Object(o.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 25px;"},"The Musher")),Object(o.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(o.h)("span",{class:"navbar-toggler-icon"})),Object(o.h)("div",{class:"collapse navbar-collapse "+(t.main?"show":""),id:"navbarSupportedContent"},Object(o.h)("ul",{class:"navbar-nav mr-auto ml-5"}),Object(o.h)("ul",{class:"navbar-nav ml-auto "},Object(o.h)("li",{class:"nav-item mr-2"},Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(o.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(o.h)("option",{value:"no",selected:"no"===u},"🇳🇴 NO"),Object(o.h)("option",{value:"en",selected:"en"===u},"🇬🇧 EN"),Object(o.h)("option",{value:"de",selected:"de"===u},"🇩🇪 DE"))))),Object(o.h)("li",{class:"nav-item d-block d-lg-none"},Object(o.h)(c.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(o.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"})," ",Object(o.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(o.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(o.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(o.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"}))))))},t}(o.Component))||r;t.a=u},atwK:function(e,t,a){"use strict";a.r(t),function(e){function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o,c,l,i=a("hosL"),h=(a("QRet"),a("Utv1")),b=a("/eY4"),u=a("OhSV"),p=a("go65"),d=(a("fh8t"),a("6a5D")),g=a("ZOvn"),O=g.a.marginTop(!0),m=g.a.marginBottom(),f=(g.a.subMenuMarginTop(),g.a.getVaccineTypes(),{isLoading:!1,email:"",submenu:"ads",jwtToken:h.a.getJwtToken()}),j=Object(b.a)(o=function(t){function a(){for(var e,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).selectTeam=function(t){return new Promise((function(a){t.preventDefault();var s=t.target.closest("li").dataset.id;return e.setState({displayTeam:parseInt(s,10)}),a()}))},e}return r(a,t),a.prototype.render=function(){var t=this,a=this.props.teams,s=void 0===a?[]:a,n=this.state.displayTeam,r=void 0===n?(s[0]?s[0]:{}).id:n;return Object(i.h)("div",{class:"bg-light p-4"},Object(i.h)("ul",{class:"nav nav-pills nav-fill"},s&&s.map((function(a){return Object(i.h)(e,null,Object(i.h)("li",{class:"nav-item","data-id":a.id},Object(i.h)("a",{class:"nav-link "+(a.id===r?"active":""),href:"#",onClick:t.selectTeam},a.name)))}))),s&&s.map((function(a){return Object(i.h)(e,null,r===a.id&&Object(i.h)(e,null,Object(i.h)(v,{stores:t.props.stores,dogs:a.dogs})))})))},a}(i.Component))||o,v=Object(b.a)(c=function(t){function a(e){var a;return(a=t.call(this,e)||this).selectDog=function(e){var t=e.target.closest("tr").dataset.id,s=a.state.selectedDogs,n=parseInt(t,10),r=s.indexOf(n);-1===r?s.push(n):s.splice(r,1),a.setState({selectedDogs:s})},a.selectAllDogs=function(){var e=a.props.dogs.map((function(e){return e.id}));a.setState({selectedDogs:e})},a.removeAllDogs=function(){a.setState({selectedDogs:[]})},a.state={selectedDogs:[]},a}return r(a,t),a.prototype.render=function(){var t=this,a=this.state.selectedDogs,s=this.props.stores.userStore,n=s.vaccineStatuses,r=this.props.dogs;return Object(i.h)("div",{class:"table-responsive"},a&&a.length>0&&Object(i.h)(e,null,Object(i.h)("div",{class:"form-row align-items-center p-5"},Object(i.h)("div",{class:"col-8"},Object(i.h)("label",{for:"vaccineTypeInput"},Object(i.h)("i",{class:"fas fa-syringe"})," ",Object(i.h)(u.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(i.h)("select",{class:"form-control form-control-lg mb-2",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:Object(p.a)(this,"vaccineType"),autocomplete:"off"},Object(i.h)("option",{value:""},"-- ",Object(i.h)(u.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(i.h)("option",{value:"rabies"},Object(i.h)(u.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(i.h)("option",{value:"deworming"},Object(i.h)(u.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(i.h)("option",{value:"BbPi"},Object(i.h)(u.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(i.h)("option",{value:"DHP"},Object(i.h)(u.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(i.h)("option",{value:"DHPPi"},Object(i.h)(u.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)")))),Object(i.h)("div",{class:"col-4 pt-4"},Object(i.h)("button",{type:"button",class:"btn btn-lg btn-danger mb-2",onClick:this.searchForMusher},"Add vaccine")))),Object(i.h)("button",{class:"btn btn-lg btn-block btn-outline-success mt-3",onClick:this.selectAllDogs},"Select all dogs"),a&&a.length>0&&Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-link",onClick:this.removeAllDogs},"Remove all dogs")),Object(i.h)("table",{class:"table table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{scope:"col",style:"width: 100px;"}," "),Object(i.h)("th",{scope:"col"},"Name"))),Object(i.h)("tbody",null,r&&r.map((function(s){var r;s.images&&s.images[0]&&(r=s.images[0]),s.image&&(r=s.image);var o=a.indexOf(s.id)>-1;return Object(i.h)(e,null,Object(i.h)("tr",{class:"pointerCursor",onClick:t.selectDog,"data-id":s.id},Object(i.h)("td",{class:"position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:r?"background-image: url('"+r.s3ThumbLink+"');":""},!r&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},h.a.ucfirst(s.name,!0))),o&&Object(i.h)("span",{class:"position-absolute display-4",style:"top: 0px; left: 0px;"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("td",null,Object(i.h)("span",{class:"float-right"},s.birth&&Object(i.h)("span",{class:"mr-2"},h.a.age(s.birth,s.deceased)),"female"===s.gender?Object(i.h)("i",{class:"fas fa-venus"}):Object(i.h)("i",{class:"fas fa-mars"})),Object(i.h)("h5",null,s.name," ",s.shortname&&Object(i.h)("span",{class:"font-weight-lighter"}," - '",s.shortname,"'")),Object(i.h)("div",null,s.chipId&&Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-microchip"})," ",s.chipId)),Object(i.h)("div",null,n&&n.filter((function(e){return e.dogId===s.id})).map((function(e){return Object(i.h)("span",{class:"badge badge-success mr-2",title:h.a.isoDate(e.endDate,!1,!1,!0)},e.vaccineType)}))))))})))))},a}(i.Component))||c,y=Object(b.a)(l=function(t){function a(e){var a;return(a=t.call(this,e)||this).searchForMusher=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.userStore.searchUsers({search:a.state.search})).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},a.selectMusher=function(e){return new Promise((function(t,s){function n(){return t()}var r,o;return r=e.target.closest("tr").dataset.id,a.state.displayUser===(o=parseInt(r,10))?(a.setState({displayUser:null}),n.call(this)):(a.setState({displayUser:o}),Promise.resolve(a.props.stores.userStore.getDogs({id:o})).then(function(){try{return n.call(this)}catch(e){return s(e)}}.bind(this),s))}))},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},f),a}r(a,t);var o=a.prototype;return o.componentDidMount=function(){},o.componentWillReceiveProps=function(){},o.render=function(){var t=this,a=this.state.displayUser,s=this.props.stores,n=s.userStore,r=n.searchUsersResult,o=n.searchUserTeams,c=this.props,l=c.col,b=void 0===l?12:l,u=c.offset,f=void 0===u?0:u;return Object(i.h)(e,null,Object(i.h)(d.a,{stores:this.props.stores}),Object(i.h)("div",{class:"container-fluid",style:"margin-bottom: "+m+"; margin-top: "+O+";"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-"+b+" offset-"+f+" col-sm-8 col-lg-8 offset-sm-2 offset-lg-2"},Object(i.h)("h1",null,"Veterinary search"),Object(i.h)("form",{onSubmit:this.searchForMusher},Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-10"},Object(i.h)("label",{class:"sr-only",for:"vetSearch"},"Name"),Object(i.h)("input",{type:"text",class:"form-control form-control-lg mb-2",id:"vetSearch",placeholder:"Search for musher by email, cellphone or name...",onInput:Object(p.a)(this,"search")})),Object(i.h)("div",{class:"col-2"},Object(i.h)("button",{type:"button",class:"btn btn-lg btn-primary mb-2",onClick:this.searchForMusher},"Search"))))),Object(i.h)("div",{class:"col-"+b+" offset-"+f+" col-sm-8 col-lg-8 offset-sm-2 offset-lg-2"},r&&0!==r.length?Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{scope:"col",style:"width: 100px;"}," "),Object(i.h)("th",{scope:"col"},"Name"),Object(i.h)("th",{scope:"col"},"Cellphone"),Object(i.h)("th",{scope:"col"},"Email"))),Object(i.h)("tbody",null,r&&r.filter((function(e){return!a||e.id===a})).map((function(s){var n;return s.images&&s.images[0]&&(n=s.images[0]),s.image&&(n=s.image),Object(i.h)(e,null,Object(i.h)("tr",{class:"pointerCursor",onClick:t.selectMusher,"data-id":s.id},Object(i.h)("td",null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:n?"background-image: url('"+n.s3ThumbLink+"');":""},!n&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},s.firstname?Object(i.h)(e,null,h.a.ucfirst(s.firstname,!0),h.a.ucfirst(s.lastname,!0)):Object(i.h)(e,null,h.a.ucfirst(s.email,!0))))),Object(i.h)("td",null,s.firstname," ",s.lastname,Object(i.h)("br",null),s.facebook&&Object(i.h)("a",{class:"mr-2",href:g.a.asFacebookLink(s.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook-square"})),s.instagram&&Object(i.h)("a",{class:"mr-2",href:g.a.asInstagramLink(s.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"}))),Object(i.h)("td",null,s.cellphone),Object(i.h)("td",null,s.email)),a===s.id&&Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("td",{colspan:"4"},Object(i.h)(j,{stores:t.props.stores,teams:o})))))}))))):Object(i.h)(e,null," ")))))},a}(i.Component))||l;t.default=y}.call(this,a("hosL").Fragment)}}]);
//# sourceMappingURL=route-veterinary.chunk.456dd.js.map