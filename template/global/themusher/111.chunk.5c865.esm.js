(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{"1pd0":function(s,e,t){"use strict";function a(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),t.push.apply(t,a)}return t}function r(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}t.r(e);var o,c=t("hosL"),i=t("Utv1"),n=t("/eY4"),p=(t("Y3FI"),t("OhSV")),d=t("go65"),l=t("ZOvn");const b=l.a.marginTop(!1),h=l.a.marginTopBack(!1),u=l.a.marginBottom(),w={isCapsLock:!1,passwordType:"password",password:"",passwordConfirm:""};let O=Object(n.a)(o=class extends c.Component{constructor(s){var e;super(s),e=this,this.togglePassword=()=>{let{passwordType:s}=this.state;s="password"===s?"text":"password",this.setState({passwordType:s})},this.updateCapsLockStatus=s=>{this.setState({isCapsLock:s})},this.changePassword=async function(){const{password:s,passwordConfirm:t}=e.state,{userStore:a}=e.props.stores,r=await a.changePassword({password:s,passwordConfirm:t});e.setState(200===r.status?{password:"",passwordConfirm:"",passwordChanged:!0,passwordChangeFailed:!1}:{passwordChanged:!1,passwordChangeFailed:!0})},this.back=()=>{const{history:s}=this.props.stores;s.goBack()},this.state=function(s){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){r(s,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(t,e))}))}return s}({},w),this.updateTimer={}}async loadUser(){const{userStore:s}=this.props.stores;s.getInfo()}componentDidMount(){this.loadUser()}render(){const{password:s,passwordConfirm:e,passwordType:t,isCapsLock:a,passwordChanged:r}=this.state,{userStore:o}=this.props.stores,{user:n}=o,{email:l}=n,w=i.a.scorePassword(s),O=i.a.normalizeBetween(w,0,80,0,100,100),f=i.a.checkPassStrength(s,["bg-danger","bg-warning","bg-success","bg-success"]),g=s===e,j=g&&O>30;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${u}; margin-top: ${b};`},Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${h}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"offset-0 col-12 offset-sm-2 col-sm-8 offset-lg-4 col-lg-4",style:"padding-left: 35px;"},r?Object(c.h)("div",null,Object(c.h)("h5",null,Object(c.h)(p.c,{id:"users.edit-password-changed"},"Passord er endret"),": ",l),Object(c.h)("a",{href:"/users/"},Object(c.h)("i",{class:"fas fa-arrow-circle-left"}),Object(c.h)(p.c,{id:"users.back-to-profile"},"Tilbake til profilen"))):Object(c.h)("div",null,Object(c.h)("h5",null,Object(c.h)(p.c,{id:"users.edit-password"},"Endre passord"),": ",l),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"passwordInput"},Object(c.h)("i",{class:"fas fa-key"})," ",Object(c.h)(p.c,{id:"login.password"},"Passord")),Object(c.h)("div",{class:"input-group"},Object(c.h)("input",{type:t,class:"form-control",id:"passwordInput",autoComplete:"new-password",onInput:Object(d.a)(this,"password"),value:s,onKeypress:s=>{i.a.isCapsLock(s,this.updateCapsLockStatus)}}),Object(c.h)("div",{class:"input-group-append"},Object(c.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(c.h)("i",{class:"fas fa-eye"+("text"===t?"-slash":"")})))),Object(c.h)("div",{class:"progress",style:"height: 2px;"},Object(c.h)("div",{class:"progress-bar "+f,role:"progressbar",style:`width: ${O}%;`})),Object(c.h)("div",{class:"invalid-feedback",style:""+(O>0&&O<30?"display: block":"")},Object(c.h)(p.c,{id:"register.password-too-weak"},"Passordet ditt er for svakt. Forsøk et annet passord eller legg til flere bokstaver.")),Object(c.h)("div",{class:"valid-feedback text-warning",style:""+(O>=30&&O<70?"display: block":"")},Object(c.h)(p.c,{id:"register.password-weak"},"Passordet ditt er svakt, men vis skal gjøre vårt beste for å passe på deg.")),Object(c.h)("div",{class:"valid-feedback",style:""+(O>=70?"display: block":"")},Object(c.h)(p.c,{id:"register.password-ok"},"Passordet ditt ser bra ut."))),a&&Object(c.h)("div",{class:"alert alert-danger",role:"alert"},Object(c.h)(p.c,{id:"login.caps-lock-on"},"CAPS LOCK er på!")),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"passwordInput"},Object(c.h)("i",{class:"fas fa-key"})," ",Object(c.h)(p.c,{id:"login.password-confirm"},"Confirm passord")),Object(c.h)("div",{class:"input-group"},Object(c.h)("input",{type:t,class:"form-control",id:"passwordInput",autoComplete:"new-password",onInput:Object(d.a)(this,"passwordConfirm"),value:e,onKeypress:s=>{i.a.isCapsLock(s,this.updateCapsLockStatus)}}),Object(c.h)("div",{class:"input-group-append"},Object(c.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(c.h)("i",{class:"fas fa-eye"+("text"===t?"-slash":"")})))),Object(c.h)("div",{class:"valid-feedback",style:""+(s&&g?"display: block":"")},Object(c.h)(p.c,{id:"users.passwords-matches"},"Passordene er like."))),Object(c.h)("button",{class:`btn btn-${j?"":"outline-"}success`,disabled:!j,onClick:this.changePassword},Object(c.h)(p.c,{id:"users.edit-password"},"Endre passord"))))))}})||o;e.default=O}}]);
//# sourceMappingURL=111.chunk.5c865.esm.js.map