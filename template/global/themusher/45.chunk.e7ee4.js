(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{gbHB:function(e,t,s){"use strict";s.r(t),function(e){var r,o=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=s("Y3FI"),n=s("go65"),l=s("OhSV"),p=s("tJLP"),u=s("Cjoz"),d=Object(i.a)(r=function(t){function s(e){var s;return(s=t.call(this,e)||this).handleEmailInput=function(e){return new Promise((function(t){var r=s.props.stores.userStore,o=e.target.value;return s.setState({email:o}),clearTimeout(s.checkEmailTimer),s.checkEmailTimer=setTimeout((function(){return r.checkEmail(o)}),1e3),t()}))},s.register=function(){return new Promise((function(e,t){var r,o,a,i,c;return r=s.state,a=(o=s.props.stores).userStore,c=(i=o.appState).language,Promise.resolve(a.registerUser({email:r.email,password:r.password,fingerprint:i.fingerprint,jwtToken:i.jwtToken,skipPubSub:s.props.skipPubSub,language:void 0===c?"en":c})).then((function(){try{return Promise.resolve(a.getInfo()).then((function(){try{return e()}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},s.removeError=function(){s.setState({error:"",errorIcon:""})},s.removeMessage=function(){s.setState({message:"",messageIcon:""})},s.togglePassword=function(){var e=s.state.passwordType;s.setState({passwordType:e="password"===e?"text":"password"})},s.updateCapsLockStatus=function(e){s.setState({isCapsLock:e})},s.login=function(){var e=s.state.email,t=s.props.routeLogin,r=void 0===t?"/"+(void 0===e?"":e):t;Object(c.route)(r)},s.forgotten=function(){var e=s.state.email,t=s.props.routeLoginForgot,r=void 0===t?"/forgotten/"+(void 0===e?"":e):t;Object(c.route)(r)},s.changeLanguage=function(e){s.props.stores.appState.setLanguage(e.target.value)},s.state={isCapsLock:!1,email:s.props.email,passwordType:"password",emailIsAvailable:!1},s}var r,i;i=t,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var d=s.prototype;return d.componentDidMount=function(){var e=this,t=this.props.stores.userStore;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout((function(){return t.checkEmail(e.props.email)}),1e3))},d.render=function(){var t=this,s=this.state,r=s.isCapsLock,i=s.email,c=s.password,d=s.passwordType,h=this.props.stores,b=h.userStore,m=this.props.showLogo,g=void 0===m||m,v=b.emailIsAvailable,f=b.emailMessage,j=b.login,O=j.message,k=j.messageIcon,w=j.error,y=j.errorIcon,T=a.a.validateEmail(i),L=a.a.scorePassword(c),S=a.a.normalizeBetween(L,0,80,0,100,100),P=a.a.checkPassStrength(c,["bg-danger","bg-warning","bg-success","bg-success"]),C=S>30,I=T&&v&&C;return Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},g&&Object(o.h)(e,null,Object(o.h)("div",{class:"d-flex justify-content-center mb-5 mt-5"},Object(o.h)(e,null,Object(o.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"})))),Object(o.h)(p.a,{message:w,icon:y,remove:this.removeError}),Object(o.h)(u.a,{message:O,icon:k,remove:this.removeMessage}),Object(o.h)("div",{class:"form-group"},Object(o.h)(l.b,null,Object(o.h)("input",{type:"email",class:"form-control form-control-lg "+(i?T&&v?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:i,onKeypress:function(e){a.a.isCapsLock(e,t.updateCapsLockStatus)},placeholder:Object(o.h)(l.c,{id:"register.email"},"E-post")})),i&&T&&v&&Object(o.h)("div",{class:"valid-feedback",style:"display: block;"},f),i&&!T&&Object(o.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(o.h)(l.c,{id:"register.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut.")),i&&T&&!v&&Object(o.h)("div",{class:"invalid-feedback",style:"display: block;"},f)),Object(o.h)("div",{class:"form-group"},Object(o.h)("div",{class:"input-group"},Object(o.h)(l.b,null,Object(o.h)("input",{type:d,class:"form-control form-control-lg "+(c?C?"is-valid":"is-invalid":""),id:"passwordInput",onInput:Object(n.a)(this,"password"),value:c,onKeypress:function(e){a.a.isCapsLock(e,t.updateCapsLockStatus)},placeholder:Object(o.h)(l.c,{id:"register.password"},"Passord")})),Object(o.h)("div",{class:"input-group-append"},Object(o.h)("button",{class:"btn btn-primary",type:"button",onClick:this.togglePassword},Object(o.h)("i",{class:"fas fa-eye"+("text"===d?"-slash":"")})))),Object(o.h)("div",{class:"progress",style:"height: 2px;"},Object(o.h)("div",{class:"progress-bar "+P,role:"progressbar",style:"width: "+S+"%;"})),Object(o.h)("div",{class:"invalid-feedback",style:S>0&&S<30?"display: block":""},Object(o.h)(l.c,{id:"register.password-too-weak"},"Passordet ditt er for svakt. Forsøk et annet passord eller legg til flere bokstaver.")),Object(o.h)("div",{class:"valid-feedback text-warning",style:S>=30&&S<70?"display: block":""},Object(o.h)(l.c,{id:"register.password-weak"},"Passordet ditt er svakt, men vis skal gjøre vårt beste for å passe på deg.")),Object(o.h)("div",{class:"valid-feedback",style:S>=70?"display: block":""},Object(o.h)(l.c,{id:"register.password-ok"},"Passordet ditt ser bra ut."))),r&&Object(o.h)("div",{class:"alert alert-danger",role:"alert"},Object(o.h)(l.c,{id:"register.caps-lock-on"},"CAPS LOCK er på!")),Object(o.h)("button",{class:"btn btn-lg btn-block btn-primary",type:"button",onClick:this.register,disabled:!I},Object(o.h)("i",{class:"far fa-save mr-2"}),Object(o.h)(l.c,{id:"register.register"},"Registrer meg")),Object(o.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(o.h)("button",{class:"btn btn-small btn-link text-white",onClick:this.login},Object(o.h)(l.c,{id:"register.i-have-an-account"},"Jeg har visst konto likevel. Gå til login siden."))))))},s}(o.Component))||r;t.default=d}.call(this,s("hosL").Fragment)},tJLP:function(e,t,s){"use strict";var r,o=s("hosL"),a=s("/eY4"),i=Object(a.a)(r=function(e){function t(){return e.apply(this,arguments)||this}var s,r;r=e,(s=t).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var a=t.prototype;return a.componentDidUpdate=function(){var e=this.props.remove,t=void 0===e?function(){}:e;clearTimeout(this.removeTimer),this.removeTimer=setTimeout((function(){return t()}),1e4)},a.componentWillUnmount=function(){clearTimeout(this.removeTimer)},a.render=function(){var e=this.props,t=e.message,s=e.icon,r=e.remove,a=void 0===r?function(){}:r;return t?Object(o.h)("div",{class:"container"},Object(o.h)("div",{class:"alert alert-danger row"},Object(o.h)("div",{class:"col-12"},Object(o.h)("a",{href:"#",onclick:a,class:"float-right"},Object(o.h)("i",{className:"fas fa-times"})),s&&Object(o.h)("h1",{class:"float-left mr-3"},Object(o.h)("i",{class:s})),t&&Object(o.h)("span",null,t)))):""},t}(o.Component))||r;t.a=i}}]);
//# sourceMappingURL=45.chunk.e7ee4.js.map