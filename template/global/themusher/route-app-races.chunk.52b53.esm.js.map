{"version":3,"sources":["webpack:///./routes/app-races/index.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","initialState","subMenuMarginTop","isLoading","submenu","showAdminSendMessage","newRaceArticle","newRaceUserImage","message","subject","body","AppRaceDetailSignup","observer","Component","constructor","props","super","signupToRace","async","raceStore","userStore","stores","user","signup","raceid","addContestant","id","classId","class","newContestant","team","firstname","lastname","sportsClub","email","cellphone","facebook","instagram","updateSignup","e","key","target","value","this","updateObjectKeyValue","editSignup","field","classid","contestantid","dataset","data","raceClassId","contestantId","util","ucfirst","clearTimeout","updateTimer","setTimeout","editClass","likeRace","race","toggleAddComment","raceId","parentElement","showAddComment","state","setState","inputRef","focus","chooseSubmenu","menu","toggleDisplayDetails","closest","appState","editUserDetails","adminToggleEditUser","stopPropagation","toggleEditUserDetails","adminSignupEdit","toggleAdminSendMessage","sendEmail","to","raceclassid","emailResponse","resetEmail","addRaceArticle","addArticle","newArticle","addRaceUserImage","addUserImage","newUserImage","updateUserImageUpload","updateArticleUpload","removeRaceArticle","removeArticle","articleId","removeRaceUserImage","removeUserImage","userImageId","editRaceArticle","raceArticleId","editArticle","resizeTextarea","editRaceUserImage","raceUserImageId","editUserImage","resizeAllTextareas","textareaList","document","getElementsByTagName","i","l","length","el","element","scrollHeight","style","height","handleImageErrored","image","onerror","src","Date","back","route","load","classes","currentClass","contestants","idx","findIndex","updateKeyValue","componentDidMount","loadRace","componentWillReceiveProps","nextProps","render","teams","isAdmin","language","displayDetails","likes","comments","hasLikedRace","signupClass","getRaceClassById","today","status","startDate","endDate","signupStartDate","signupEndDate","onClick","images","s3LargeLink","href","title","formatDate","locale","hour12","hour","minute","data-menu","veterinaryInfo","checkpoints","trailDescription","program","prices","markdown","replaceImages","ingress","markdownOpts","getMarkdownOptions","articles","reverse","map","currentArticle","date","for","type","aria-describedby","data-id","data-field","onInput","onError","linkstate","onKeyUp","saved","object","updateField","userImages","currentUserImage","rules","sort","a","b","distance","startTime","endTime","scope","musher","currentTeam","getTeamById","data-email","paidSignupfee","raceStatus","raceComment","gpxResultsApproved","name","asFacebookLink","native","rel","asInstagramLink","price1","priceSent","price2","price3","data-classid","data-contestantid","isoDate","startOrder","signupfee","emails","dangerouslySetInnerHTML","__html","$str","replace","rows","role","JSON","stringify","data-to","data-raceclassid","data-class","signuppayment","placeholder","disabled","checked","termsAndAgreement","c","cols"],"mappings":"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","file":"route-app-races.chunk.52b53.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport { route } from 'preact-router';\nimport Markdown from 'preact-markdown';\nimport linkstate from 'linkstate';\n\nimport RaceComments from '../public/race/comments';\nimport RaceAddComment from '../public/race/commentAdd';\nimport RaceText from '../public/race/raceText';\nimport Images from '../../components/form/images';\nimport LikesAndComments from '../../components/feedback/likesAndComments';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nfunction nl2br($str) {\n\tif (typeof $str === 'string') {\n\t\treturn $str.replace(/[\\n]/g, '<br>');\n\t}\n\treturn $str;\n}\n\nconst initialState = {\n\tisLoading: false,\n    submenu: 'about',\n    showAdminSendMessage: {},\n\tnewRaceArticle: {},\n\tnewRaceUserImage: {},\n\tmessage: {\n\t\tsubject: '',\n\t\tbody: '',\n\t},\n};\n\n@observer\nclass AppRaceDetailSignup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n            showAdminSendMessage: {},\n            newRaceArticle: {},\n            newRaceUserImage: {},\n            message: {\n                subject: '',\n                body: '',\n            },\n        };\n\t\tthis.inputRef = {};\n        this.updateTimer = {};\n    }\n\n\tasync loadRace(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { raceStore, userStore } = props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tconst { raceid } = props;\n\t\tawait raceStore.load(raceid);\n\t\tthis.setState({ isLoading: false });\n\n\t\tlet signup = {};\n\t\tconst { race } = raceStore;\n\t\tif (race.classes && user && user.email) {\n\t\t\tfor (let i = 0, l = race.classes.length; i < l; i += 1) {\n\t\t\t\tconst currentClass = race.classes[i];\n\t\t\t\tif (currentClass.contestants) {\n\t\t\t\t\tconst idx = currentClass.contestants.findIndex(e => e.email === user.email);\n\t\t\t\t\tif (idx > -1) {\n\t\t\t\t\t\tsignup = { ...currentClass.contestants[idx] };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\traceStore.updateKeyValue('signup', signup);\n\t}\n\n\tsignupToRace = async () => {\n\t\tconst { raceStore, userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n        const { signup } = raceStore;\n\t\tconst { raceid } = this.props;\n\n\t\tawait raceStore.addContestant({\n\t\t\tid: raceid,\n\t\t\tclassId: signup.class,\n\t\t\tnewContestant: {\n\t\t\t\tteam: user.team,\n\t\t\t\tfirstname: user.firstname,\n\t\t\t\tlastname: user.lastname,\n\t\t\t\tsportsClub: user.sportsClub,\n\t\t\t\temail: user.email,\n\t\t\t\tcellphone: user.cellphone,\n\t\t\t\tfacebook: user.facebook,\n\t\t\t\tinstagram: user.instagram,\n\t\t\t\t ...signup\n\t\t\t}\n        });\n\t}\n\n    updateSignup = (e) => {\n        const key = e.target.id;\n        const value = e.target.value;\n        const { raceStore } = this.props.stores;\n        raceStore.updateObjectKeyValue('signup', key, value);\n    }\n\n    editSignup = (e) => {\n        const { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n        const field = e.target.id;\n        const value = e.target.value;\n        const { classid, contestantid } = e.target.dataset;\n        raceStore.updateObjectKeyValue('signup', field, value);\n\n        // console.log({ raceid, field, value, classid });\n        // const { raceStore } = this.props.stores;\n        // raceStore.updateObjectKeyValue('signup', key, value);\n\n        const data = {\n\t\t\traceClassId: classid,\n            contestantId: contestantid,\n\t\t\t[`raceClassContestant${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[field]);\n\t\tthis.updateTimer[field] = setTimeout(async () => {\n\t\t\traceStore.editClass({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 500);\n    }\n\n\t// editRaceClass = async (e) => {\n\t// \tconst { id, field } = e.target.dataset;\n\t// \tconst { value } = e.target;\n\t// \tconst { raceid } = this.props;\n\t// \tconst { raceStore } = this.props.stores;\n\t// \tconst data = {\n\t// \t\traceClassId: id,\n\t// \t\t[`raceClass${util.ucfirst(field)}`]: value,\n\t// \t};\n\t// \tclearTimeout(this.updateTimer[field]);\n\t// \tthis.updateTimer[field] = setTimeout(async () => {\n\t// \t\traceStore.editClass({\n\t// \t\t\tid: raceid,\n\t// \t\t\tdata,\n\t// \t\t});\n\t// \t}, 500);\n\t// }\n\n\t// editSignupToRaceasync = async () => {\n\t// \tconst { raceStore, userStore } = this.props.stores;\n\t// \tconst { user } = userStore;\n    //     const { signup } = raceStore;\n\t// \tconst { raceid } = this.props;\n\n\t// \tawait raceStore.editContestant({\n\t// \t\tid: raceid,\n\t// \t\tclassId: signup.class,\n\t// \t\tnewContestant: {\n\t// \t\t\tteam: user.team,\n\t// \t\t\tfirstname: user.firstname,\n\t// \t\t\tlastname: user.lastname,\n\t// \t\t\tsportsClub: user.sportsClub,\n\t// \t\t\temail: user.email,\n\t// \t\t\tcellphone: user.cellphone,\n\t// \t\t\tfacebook: user.facebook,\n\t// \t\t\tinstagram: user.instagram,\n\t// \t\t\t ...signup\n\t// \t\t} });\n\t// }\n\n    likeRace = async () => {\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst { race } = raceStore;\n\t\tconst response = await raceStore.likeRace({ id: race.id });\n\n        if (response && response.status === 200) {\n\t\t\t// this.loadRaceDetail({ race });\n\t\t}\n\t}\n\n\ttoggleAddComment = (e) => {\n\t\tconst raceId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAddComment } = this.state;\n\t\tthis.setState({\n\t\t\tshowAddComment: !showAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[raceId]) {\n\t\t\t\tthis.inputRef[raceId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n    toggleDisplayDetails = (e) => {\n\t\tconst email = e.target.closest('tr').dataset.email;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { editUserDetails } = appState;\n\t\tif (!editUserDetails[email]) {\n\t\t\tappState.toggleDisplayDetails(email)\n\t\t}\n\t}\n\n    adminToggleEditUser = (e) => {\n\t\te.stopPropagation();\n\t\tconst email = e.target.closest('tr').dataset.email;\n\t\tconst { appState } = this.props.stores;\n\t\tappState.toggleEditUserDetails(email)\n\t}\n\n    adminSignupEdit = (e) => {\n        const { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n        const field = e.target.id;\n        const value = e.target.value;\n        const { classid, contestantid } = e.target.dataset;\n\n        // console.log({ raceid, field, value, classid });\n        // const { raceStore } = this.props.stores;\n        // raceStore.updateObjectKeyValue('signup', key, value);\n\n        const data = {\n\t\t\traceClassId: classid,\n            contestantId: contestantid,\n\t\t\t[`raceClassContestant${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[field]);\n\t\tthis.updateTimer[field] = setTimeout(async () => {\n\t\t\traceStore.editClass({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 500);\n\t}\n\n\ttoggleAdminSendMessage = (e) => {\n\t\tconst classId = e.target.closest('button').dataset.class;\n\t\tconst { showAdminSendMessage } = this.state;\n\t\tshowAdminSendMessage[classId] = !showAdminSendMessage[classId];\n\t\tthis.setState({ showAdminSendMessage });\n\t}\n\n\tsendEmail = async (e) => {\n\t\tconst { raceid: raceId } = this.props;\n\t\tconst to = e.target.closest('button').dataset.to;\n\t\tconst raceClassId = e.target.closest('button').dataset.raceclassid;\n\t\tconst { appState } = this.props.stores;\n\t\tconst { message } = this.state;\n\t\tconst { subject, body } = message;\n\t\tconst emailResponse = await appState.sendEmail({\n\t\t\tto,\n\t\t\tsubject,\n\t\t\tbody,\n\t\t\traceId,\n\t\t\traceClassId,\n\t\t});\n\t\tthis.setState({ emailResponse });\n\t}\n\n\tresetEmail = () => {\n\t\tthis.setState({\n\t\t\temailResponse: null,\n\t\t\tmessage: {\n\t\t\t\tsubject: '',\n\t\t\t\tbody: '',\n\t\t\t},\n\t\t});\n\t}\n\n    addRaceArticle = async () => {\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tconst { newRaceArticle } = this.state;\n\t\tawait raceStore.addArticle({ id: raceid, newArticle: newRaceArticle });\n\t\tthis.setState({\n\t\t\tnewRaceArticle: {},\n\t\t});\n\t}\n\n\taddRaceUserImage = async () => {\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tconst { newRaceUserImage } = this.state;\n\t\tawait raceStore.addUserImage({ id: raceid, newUserImage: newRaceUserImage });\n\t\tthis.setState({\n\t\t\tnewRaceUserImage: {},\n\t\t});\n\t}\n\n\tupdateUserImageUpload = ({ field, value }) => {\n\t\t// updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n\t\tconst { newRaceUserImage } = this.state;\n\t\tnewRaceUserImage[field] = value;\n\t\tthis.setState({ newRaceUserImage });\n\t}\n\n\tupdateArticleUpload = ({ field, value }) => {\n\t\t// updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n\t\tconst { newRaceArticle } = this.state;\n\t\tnewRaceArticle[field] = value;\n\t\tthis.setState({ newRaceArticle });\n\t}\n\n\tremoveRaceArticle = async (e) => {\n\t\tconst id = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tawait raceStore.removeArticle({\n\t\t\tid: raceid,\n\t\t\tarticleId: id,\n\t\t});\n\t}\n\n\tremoveRaceUserImage = async (e) => {\n\t\tconst id = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { raceid } = this.props;\n        const { raceStore } = this.props.stores;\n\t\tawait raceStore.removeUserImage({\n\t\t\tid: raceid,\n\t\t\tuserImageId: id,\n\t\t});\n\t}\n\n\teditRaceArticle = async (e) => {\n\t\tconst { id, field } = e.target.dataset;\n\t\tconst { value } = e.target;\n\t\tconst { raceid } = this.props;\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst data = {\n\t\t\traceArticleId: id,\n\t\t\t[`raceArticle${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[`${raceid}-${id}-${field}`]);\n\t\tthis.updateTimer[`${raceid}-${id}-${field}`] = setTimeout(async () => {\n\t\t\traceStore.editArticle({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 1500);\n\n\t\tthis.resizeTextarea(e.target);\n\t}\n\n\teditRaceUserImage = async (e) => {\n\t\tconst { id, field } = e.target.dataset;\n\t\tconst { value } = e.target;\n\t\tconst { raceid } = this.props;\n\t\tconst { raceStore } = this.props.stores;\n\t\tconst data = {\n\t\t\traceUserImageId: id,\n\t\t\t[`raceUserImage${util.ucfirst(field)}`]: value,\n\t\t};\n\t\tclearTimeout(this.updateTimer[`${raceid}-${id}-${field}`]);\n\t\tthis.updateTimer[`${raceid}-${id}-${field}`] = setTimeout(async () => {\n\t\t\traceStore.editUserImage({\n\t\t\t\tid: raceid,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}, 1500);\n\n\t\tthis.resizeTextarea(e.target);\n\t}\n\n\tresizeAllTextareas = () => {\n\t\tconst textareaList = document.getElementsByTagName('textarea');\n\t\tfor(let i = 0, l = textareaList.length; i < l; i += 1){\n\t\t\tconst textarea = textareaList[i];\n\t\t\tthis.resizeTextarea(textarea);\n\t\t}\n\t}\n\n\tresizeTextarea = (el) => {\n\t\tlet element = el;\n\t\tif (element.target) {\n\t\t\telement = el.target;\n\t\t}\n\t\tconst { scrollHeight } = element;\n\t\telement.style.height = `${scrollHeight}px`;\n\t}\n\n\thandleImageErrored = (e) => {\n        const image = e.target;\n        image.onerror = null;\n        setTimeout(() => {\n            image.src += `?${new Date()}`;\n        }, 1000);\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadRace();\n        this.resizeAllTextareas();\n\t}\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.raceid !== this.props.raceid) {\n            this.loadRace(nextProps);\n        }\n\t}\n\n    back = () => {\n        route(`/`);\n    }\n\n\trender() {\n        const { submenu } = this.state;\n        const { showAdminSendMessage, message, emailResponse } = this.state;\n        const { showAddComment, newRaceArticle, newRaceUserImage } = this.state;\n\n\t\tconst { userStore, raceStore, appState } = this.props.stores;\n\t\tconst { user = {}, teams = [], isAdmin } = userStore;\n\n\t\tconst { raceid, subsection } = this.props;\n\t\tconst { race, signup } = raceStore;\n        const { darkmode, language = 'en', displayDetails, editUserDetails } = appState;\n\n\t\tconst { likes = [], comments = [] } = race;\n\t\tconst hasLikedRace = race.likes && race.likes.findIndex(e => e.user === user.id) > -1;\n\n        let signupClass = {};\n        if (signup.class) {\n            signupClass = raceStore.getRaceClassById(signup.class);\n        }\n\t\tconst today = new Date();\n        let status = '';\n        if (today >= new Date(race.startDate) && today <= new Date(race.endDate)) {\n            status = 'race';\n        } else if (today >= new Date(race.signupStartDate) && today <= new Date(race.signupEndDate)) {\n            status = 'signup';\n        }\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n                    onClick={this.back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n\n                <div class='row m-0'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2 p-0'>\n                        <div class='row d-flex align-items-center position-relative'>\n                            <h5 class='position-absolute' style='top: 3px; right: 5px;'>\n                                {status === 'signup' && <>\n                                    <span class='badge badge-primary border border-white ml-2'><Text id='races.signup-open'>Påmelding åpen</Text></span>\n                                </>}\n                                {status === 'race' && <>\n                                    <span class='badge badge-danger border border-white ml-2'><Text id='races.race-in-progress'>Løp pågår</Text></span>\n                                </>}\n                                {status === 'done' && <>\n                                    <span class='badge badge-success border border-white ml-2'><Text id='races.race-finished'>Løp avsluttet</Text></span>\n                                </>}\n                            </h5>\n                            {(race.images && race.images[0]) ? <img src={race.images[0].s3LargeLink} class='img-fluid' /> : ''}\n                        </div>\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        {isAdmin && <>\n                            <a class='btn btn-primary float-right' href={`https://homerunrace.no/index#/race/${race.id}/edit`}>Edit</a>\n                        </>}\n                        <h3>{race.title}</h3>\n                        {race.startDate && <><Text id='races.periode'>Periode</Text>: {util.formatDate(race.startDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n                        {race.endDate && <> - {util.formatDate(race.endDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</>}\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='row'>\n                            <div class='w-100 overflow-hidden'>\n                                <div\n                                    class='d-flex flex-row flex-nowrap pb-2 px-1'\n                                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                                >\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-pill-left rounded-none ${submenu === 'about' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='about'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-info-circle' /> <Text id='race.about'>About</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'news' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='news'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.news'>News</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'results' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='results'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.results'>Results</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'tracking' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='tracking'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.tracking'>Tracking</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'userImages' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='userImages'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-rss' /> <Text id='race.user-images'>User images</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'rules' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='rules'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-gavel' /> <Text id='race.rules'>Rules</Text></button>\n                                    </div>\n                                    {race.veterinaryInfo && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'veterinary' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='veterinary'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-stethoscope' /> <Text id='race.veterinary'>Veterinary info</Text></button>\n                                    </div>}\n                                    {race.checkpoints && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'checkpoints' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='checkpoints'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-marker-alt' /> <Text id='race.checkpoints'>Checkpoints</Text></button>\n                                    </div>}\n                                    {race.trailDescription && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'track' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='track'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-map-signs' /> <Text id='race.track-description'>Track description</Text></button>\n                                    </div>}\n                                    {race.program && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'program' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='program'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-list-alt' /> <Text id='race.program'>Program</Text></button>\n                                    </div>}\n                                    {race.prices && <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'prices' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='prices'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-award' /> <Text id='race.prices'>Premier</Text></button>\n                                    </div>}\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'classes' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='classes'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='race.classes'>Classes</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-none ${submenu === 'mushers' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='mushers'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='races.mushers'>Mushers</Text></button>\n                                    </div>\n                                    <div class='col px-0 pt-2'>\n                                        <button\n                                            class={`btn btn-block rounded-pill-right rounded-none ${submenu === 'signup' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                            style='text-overflow: ellipsis; overflow: hidden;'\n                                            data-menu='signup'\n                                            onClick={this.chooseSubmenu}\n                                        ><i class='fas fa-folder-open' /> <Text id='race.signup'>Sign up</Text></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {submenu === 'about' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.about'>Om løpet</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <p class='clearfix'>\n                                <strong>\n                                    <Markdown markdown={mu.replaceImages(race.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                </strong>\n                            </p>\n                            <Markdown markdown={mu.replaceImages(race.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'results' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.results'>Results</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <a class='btn btn-lg btn-block btn-primary' href={`https://homerunrace.no/index#/race/${race.id}/results`}>All results</a>\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'tracking' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.tracking'>Tracking</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <a class='btn btn-lg btn-block btn-primary' href={`https://homerunrace.no/index#/race/${race.id}/tracking`}>Tracking</a>\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'news' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.news'>Nyheter</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <div class='row'>\n                                {race.articles && race.articles.reverse().map(currentArticle => <>\n                                    <div class='col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3'>\n                                        <h5 class='mb-0'>{mu.replaceImages(currentArticle.title, race.images, language, false)}</h5>\n                                        <small class='text-muted'> {util.formatDate(currentArticle.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</small><br />\n                                        {currentArticle.image && <img src={currentArticle.image.s3LargeLink} class='float-right w-50 rounded-lg ml-2' />}\n                                        <div class='font-weight-bold'>\n                                            <Markdown markdown={mu.replaceImages(currentArticle.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                        </div>\n                                        <div class='clearfix'>\n                                            <Markdown markdown={mu.replaceImages(currentArticle.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                        </div>\n\n                                        {isAdmin && <>\n                                            <div class='border-top border-bottom mb-5'>\n                                                <details>\n                                                    <summary>Admin edit</summary>\n                                                    <h5 class='border-bottom'>Admin News Edit</h5>\n                                                    {['title'].map(field => <>\n                                                        <div class='form-group'>\n                                                            <label for={field}>{field}</label>\n                                                            <input type='text' class='form-control font-weight-bold' id={field} aria-describedby={`${field}Help`}\n                                                                style='font-size: 1.5em;'\n                                                                data-id={currentArticle.id}\n                                                                data-field={field}\n                                                                value={currentArticle[field]}\n                                                                onInput={this.editRaceArticle}\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                    {['ingress', 'body'].map(field => <>\n                                                        <div class='form-group'>\n                                                            <label for={field}>{field}</label>\n                                                            <textarea type='textarea' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                                data-id={currentArticle.id}\n                                                                data-field={field}\n                                                                value={currentArticle[field]}\n                                                                onInput={this.editRaceArticle}\n                                                                style='height: 3em;'\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                </details>\n                                            </div>\n                                        </>}\n                                    </div>\n                                </>)}\n                            </div>\n                        </div>\n                        {isAdmin && <>\n                            <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                                <h5>Add new article</h5>\n                                {newRaceArticle && newRaceArticle.image && <img src={newRaceArticle.image.s3LargeLink} class='float-right w-50'  onError={this.handleImageErrored} />}\n\n                                {['title'].map(field => <>\n                                    <div class='form-group'>\n                                        <label for={field}>{field}</label>\n                                        <input type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                            onInput={linkstate(this, `newRaceArticle.${field}`)}\n                                            value={newRaceArticle[field]}\n                                        />\n                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                </>)}\n                                {['ingress', 'body'].map(field => <>\n                                    <div class='form-group'>\n                                        <label for={field}>{field}</label>\n                                        <textarea type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                            onInput={linkstate(this, `newRaceArticle.${field}`)}\n                                            onKeyUp={this.resizeTextarea}\n                                            style='height: 3em;'\n                                            value={newRaceArticle[field]}\n                                        />\n                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                </>)}\n                                <Images saved={{}} object={{}} field={'image'} updateField={this.updateArticleUpload} />\n                                <button class='btn btn-info' onClick={this.addRaceArticle}>Add race article</button>\n                            </div>\n                        </>}\n                    </div>\n                </>}\n                {submenu === 'userImages' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.user-images'>User images</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <div class='row'>\n                                {race.userImages && race.userImages.reverse().map(currentUserImage => <>\n                                    <div class='col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3'>\n                                        {isAdmin && <>\n                                            <button class='btn btn-danger position-absolute' style='top:5px; right: 5px;' data-id={currentUserImage.id} onClick={this.removeRaceUserImage}>\n                                                <i class='fas fa-times' />\n                                            </button>\n                                        </>}\n\n                                        <div class='clearfix'>\n                                            <img src={currentUserImage.image.s3LargeLink} class='img-fluid rounded-lg mb-2' />\n                                        </div>\n                                        <div class='clearfix'>\n                                            <h5 class='mb-0'>{currentUserImage.title}</h5>\n                                            <small class='text-muted'> {util.formatDate(currentUserImage.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}</small><br />\n                                        </div>\n                                        <div class='clearfix'>\n                                            <Markdown markdown={mu.replaceImages(currentUserImage.body, currentUserImage.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                        </div>\n\n                                        {isAdmin && <>\n                                            <div class='border-top border-bottom mb-5'>\n                                                <details>\n                                                    <summary>Admin edit</summary>\n                                                    <h5 class='border-bottom'>Admin UserImage Edit</h5>\n                                                    {['title'].map(field => <>\n                                                        <div class='form-group '>\n                                                            <label for={field}>{field}</label>\n                                                            <input type='text' class='form-control font-weight-bold' id={field} aria-describedby={`${field}Help`}\n                                                                style='font-size: 1.5em;'\n                                                                data-id={currentUserImage.id}\n                                                                data-field={field}\n                                                                value={currentUserImage[field]}\n                                                                onInput={this.editRaceUserImage}\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                    {['body'].map(field => <>\n                                                        <div class='form-group'>\n                                                            <label for={field}>{field}</label>\n                                                            <textarea type='textarea' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                                data-id={currentUserImage.id}\n                                                                data-field={field}\n                                                                value={currentUserImage[field]}\n                                                                onInput={this.editRaceUserImage}\n                                                                style='height: 3em;'\n                                                            />\n                                                        </div>\n                                                    </>)}\n                                                </details>\n                                            </div>\n                                        </>}\n                                    </div>\n                                </>)}\n                                {isAdmin && <>\n                                    <div class='col-12 border rounded-lg m-2 p-3 bg-light'>\n                                        <h5>Add new user image</h5>\n                                        <div class='row'>\n                                            <div class='col'>\n                                                {newRaceUserImage && newRaceUserImage.image && <img src={newRaceUserImage.image.s3LargeLink} class='float-right w-50'  onError={this.handleImageErrored} />}\n                                                {['title'].map(field => <>\n                                                    <div class='form-group'>\n                                                        <label for={field}>{field}</label>\n                                                        <input type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                            onInput={linkstate(this, `newRaceUserImage.${field}`)}\n                                                            value={newRaceUserImage[field]}\n                                                        />\n                                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                                </>)}\n                                                {['body'].map(field => <>\n                                                    <div class='form-group'>\n                                                        <label for={field}>{field}</label>\n                                                        <textarea type='text' class='form-control' id={field} aria-describedby={`${field}Help`}\n                                                            onInput={linkstate(this, `newRaceUserImage.${field}`)}\n                                                            onKeyUp={this.resizeTextarea}\n                                                            style='height: 3em;'\n                                                            value={newRaceUserImage[field]}\n                                                        />\n                                                    </div>\t\t\t\t\t\t\t\t\t\t\n                                                </>)}\n                                            </div>\n                                        </div>\n                                        <Images saved={{}} object={{}} field={'image'} updateField={this.updateUserImageUpload} />\n                                        <button class='btn btn-info' onClick={this.addRaceUserImage}>Add race user image</button>\n                                    </div>\n                                </>}\n                            </div>\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'rules' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.rules'>Regler</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.rules, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'veterinary' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.veterinary'>Veterinærinfo</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.veterinaryInfo, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'checkpoints' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.checkpoints'>Sjekkpunkter</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.checkpoints, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'track' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.track-description'>Løypebeskrivelse</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.trailDescription, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'program' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.program'>Program</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.program, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'prices' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.prices'>Premier</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <Markdown markdown={mu.replaceImages(race.prices, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'mushers' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='races.mushers'>Deltakere</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            {race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n\t\t\t\t\t\t\t\t<h5>{currentClass.title} {currentClass.startDate && <>\n\t\t\t\t\t\t\t\t\t: <span class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t{util.formatDate(`${currentClass.startDate} ${currentClass.startTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })} - {util.formatDate(`${currentClass.endDate} ${currentClass.endTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>}</h5>\n\t\t\t\t\t\t\t\t<div class='table-responsive'>\n\t\t\t\t\t\t\t\t\t<table class='table table-sm table-striped'>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col'>#</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col' style='min-width: 95%;'><Text id='races.name'>Navn</Text></th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{currentClass.contestants && currentClass.contestants.map((musher, idx) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst currentTeam = raceStore.getTeamById(musher.team);\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn (<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr onClick={this.toggleDisplayDetails} data-email={musher.email}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope='row'>{idx + 1}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`${displayDetails[musher.email] ? 'font-weight-bold' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`${displayDetails[musher.email] ? '' : 'line-height: 0.8em;'}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-primary btn-sm float-right' onClick={this.adminToggleEditUser}><i class='fas fa-user-edit' /></button>\n                                                                {musher.paidSignupfee && <>\n                                                                    <span class='float-right'>\n                                                                        <i class='fas fa-check text-success' /><br />\n                                                                    </span>\n                                                                </>}\n                                                                <small class='float-right'>\n                                                                    {musher.raceStatus && <><span class='text-muted'>raceStatus:</span><br /> {musher.raceStatus}<br /></>}\n                                                                    {musher.raceComment && <><span class='text-muted'>raceComment:</span><br /> {musher.raceComment}<br /></>}\n                                                                    {musher.gpxResultsApproved && <><span class='text-muted'>gpxResultsApproved:</span><br /> {musher.gpxResultsApproved}<br /></>}\n                                                                </small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{displayDetails[musher.email] ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.firstname} {musher.lastname}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'>{currentTeam.name}</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>{musher.sportsClub}</small><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.facebook && <a class='mr-2' href={mu.asFacebookLink(musher.facebook)} native target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.instagram && <a class='mr-2' href={mu.asInstagramLink(musher.instagram)} native target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a>}<br />\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price1 && <div class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-trophy text-warning' /> {musher.price1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.priceSent && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price2 && <div class='font-weight-lighter'><i class='fas fa-trophy text-warning' /> {musher.price2}</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price3 && <div class='font-weight-lighter'><i class='fas fa-trophy text-warning' /> {musher.price3}</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.price1 && <span class='float-right text-warning' style='font-size: 1.2em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-trophy' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.priceSent && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.firstname} {musher.lastname}<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class='text-muted'>{musher.sportsClub}</small><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</nobr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(isAdmin && editUserDetails[musher.email]) && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>Admin edit:</h5>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class='col-4 col-form-label text-right'>Email</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{musher.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Race status</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='raceStatus'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.raceStatus}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Choose race status --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='OK'>OK - Everything ok</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNS'>DNS - Did Not Start</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNF'>DNF - Did Not Finish</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DNQ'>DNQ - Did not qualify</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='DQ'>DQ - Disqualified</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='raceComment' class='col-4 col-form-label text-right'>Race comment</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='raceComment'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.raceComment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='gpxResultsApproved' class='col-4 col-form-label text-right'>GPX Results approved (date)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='gpxResultsApproved'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.gpxResultsApproved ? util.isoDate(musher.gpxResultsApproved, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='paidSignupfee' class='col-4 col-form-label text-right'>paidSignupfee (date)</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='paidSignupfee'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.paidSignupfee ? util.isoDate(musher.paidSignupfee, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='startOrder' class='col-4 col-form-label text-right'>startOrder</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' class='form-control' id='startOrder'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.startOrder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='cellphone' class='col-4 col-form-label text-right'>Mobil</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='cellphone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.cellphone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='firstname' class='col-4 col-form-label text-right'>Fornavn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='firstname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.firstname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='lastname' class='col-4 col-form-label text-right'>Etternavn</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='lastname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.lastname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='sportsClub' class='col-4 col-form-label text-right'>Klubb</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='sportsClub'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.sportsClub}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='facebook' class='col-4 col-form-label text-right'>Facebook</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='facebook'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.facebook}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='instagram' class='col-4 col-form-label text-right'>Instagram</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='instagram'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.instagram}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Team</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='team' aria-describedby='teamHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.team}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Velg team --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{teams.map(team =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={team.id}>{team.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='team' class='col-4 col-form-label text-right'>Klasse</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class='form-control' id='class' aria-describedby='classHelp'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>-- Choose race class --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price1' class='col-4 col-form-label text-right'>Price 1</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price2' class='col-4 col-form-label text-right'>Price 2</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='price3' class='col-4 col-form-label text-right'>Price 3</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='price3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.price3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='priceSent' class='col-4 col-form-label text-right'>Price sent</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' class='form-control' id='priceSent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={musher.priceSent ? util.isoDate(musher.priceSent, false, false, true) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row my-5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' class='btn btn-danger float-right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='deleteUser'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.adminSignupEdit}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-classid={musher.class}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-contestantid={musher.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete user from this class\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</>);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{isAdmin && <>\n\t\t\t\t\t\t\t\t\t{showAdminSendMessage[currentClass.id] ? <>\n\t\t\t\t\t\t\t\t\t\t<div class='container'>\n\t\t\t\t\t\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>Message to all mushers in {currentClass.title}</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='overflow-auto p-5' style='max-height: 30vh;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentClass.emails && currentClass.emails.map((email) => <div class='border rounded-lg p-3 mb-3'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDate:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{util.formatDate(email.date, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTo:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.to.map(e => <span class='badge badge-info px-2 py-1 mr-2'>{e}</span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row bg-light'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubject:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='row mt-2'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-3 text-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBody:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-9'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: nl2br(email.body) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='subject' class='col-2 col-form-label text-right font-weight-lighter'>To</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentClass.contestants && currentClass.contestants.map((musher) => <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='badge badge-info px-2 py-1 mr-2'>{musher.firstname} {musher.lastname} ({musher.email})</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='subject' class='col-2 col-form-label text-right font-weight-lighter'>Subject</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-10'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' class='form-control' id='subject'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={linkstate(this, 'message.subject')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={message.subject}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='form-group row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='body' class='col-2 col-form-label text-right font-weight-lighter'>Message</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea type='text' class='form-control' id='body'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows='10'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInput={linkstate(this, 'message.body')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={message.body}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-5 contain-images'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Markdown markdown={message.body} markdownOpts={mu.getMarkdownOptions()} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{emailResponse && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class={`alert alert-${emailResponse && emailResponse.status >= 300 ? 'danger' : 'success'}`} role='alert'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<xmp>{JSON.stringify(emailResponse, null, 4)}</xmp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-success float-right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-to={currentClass.contestants && currentClass.contestants.map(musher => musher.email)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-raceclassid={currentClass.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.sendEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-paper-plane' /> Send email to all mushers\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-danger float-right mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.resetEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-times' /> Reset email\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link' type='button' onClick={this.toggleAdminSendMessage} data-class={currentClass.id}>Hide email form</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<button class='btn btn-sm btn-link' type='button' onClick={this.toggleAdminSendMessage} data-class={currentClass.id}>Send message to all in this class</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t</>}\n\n\n\t\t\t\t\t\t\t</>)}\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'classes' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='race.classes'>Klasser</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            <div class='row'>\n                                {race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n                                    <div class='col-12 col-sm-6 col-lg-4 mb-4'>\n                                        <div class='border rounded rounded-lg p-3'>\n                                            <h5>{currentClass.title}</h5>\n\n                                            <small>\n                                                {currentClass.startDate && <div>\n                                                    <span class='font-weight-lighter'><Text id='race.startdate'>Start</Text>:</span> {util.formatDate(`${currentClass.startDate} ${currentClass.startTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n                                                </div>}\n                                                {currentClass.endDate && <div>\n                                                    <span class='font-weight-lighter'><Text id='race.enddate'>End</Text>:</span> {util.formatDate(`${currentClass.endDate} ${currentClass.endTime || '00:00:00'}`, { locale: language, hour12: false, hour: '2-digit', minute: '2-digit' })}\n                                                </div>}\n                                            </small>\n\n                                            <div><span class='font-weight-lighter'><Text id='race.distance'>Distanse</Text>:</span> {currentClass.distance} km</div>\n                                            <div><span class='font-weight-lighter'><Text id='race.signup'>Påmelding</Text>:</span> {currentClass.signupfee || race.signupfee} NOK</div>\n                                            <p class='clearfix'>\n                                                <Markdown markdown={mu.replaceImages(currentClass.ingress, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </p>\n                                            <small>\n                                                <Markdown markdown={mu.replaceImages(currentClass.body, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </small>\n                                            {currentClass.rules && <>\n                                                <h5><Text id='race.rules'>Regler</Text></h5>\n                                                <Markdown markdown={mu.replaceImages(currentClass.rules, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </>}\n                                        </div>\n                                    </div>\n                                </>)}\n                            </div>\n                        </div>\n                    </div>\n                </>}\n                {submenu === 'signup' && <>\n                    <div class='row'>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                            <h2 class='mb-0'><Text id='races.signup'>Påmelding</Text></h2>\n                        </div>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2'>\n                            {today >= new Date(race.signupStartDate) && today <= new Date(race.signupEndDate) ? <>\n                                <span class='font-weight-lighter'><Text id='races.signed-in-as'>Logget inn som</Text>:</span> {user.email}<br /><br />\n\n                                {signup.id ? <>\n                                    <div class='font-weight-bold mb-4'>\n                                        <i class='fas fa-check text-success' /> <Text id='races.signed-up'>Din bruker er påmeldt!</Text><br />\n                                        {/* {JSON.stringify(signup)} */}\n                                    </div>\n\n                                    {race.signuppayment && <>\n                                        <div class='form-group row my-0'>\n                                            <label for='cellphone' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.signup'>Påmelding</Text></label>\n                                            <div class='col-10'>\n                                                {signup.paidSignupfee ? <div class='py-2'>\n                                                    <Text id='races.paid'>Betalt</Text>: {util.formatDate(signup.paidSignupfee)}\n                                                    <i class='fas fa-check text-success ml-3' />\n                                                </div> : <>\n                                                    <div class='alert alert-danger mb-1' role='alert'>\n                                                        <h5>\n                                                            <span class='font-weight-lighter'><Text id='races.payment-info'>Betaling påmelding</Text>:</span><br />\n                                                            <Markdown markdown={mu.replaceImages(race.signuppayment, race.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                                            {signupClass.signupfee || race.signupfee} NOK\n                                                        </h5>\n                                                    </div>\n                                                </>}\n                                            </div>\n                                        </div>\n                                    </>}\n\n                                    <div class='clearfix mt-2'>\n                                        <span class='font-weight-lighter float-right'><Text id='races.click-to-change'>Click the fields to edit.</Text></span>\n                                    </div>\n\n                                    <div class='form-group row my-0'>\n                                        <label for='cellphone' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.cellphone'>Mobil</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='cellphone'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.cellphone}\n                                                    placeholder={<Text id='races.cellphone-help'>Hva er mobilnummer ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='firstname' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.firstname'>Fornavn</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='firstname'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.firstname}\n                                                    placeholder={<Text id='races.firstname-help'>Hva er fornavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='lastname' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.lastname'>Etternavn</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='lastname'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.lastname}\n                                                    placeholder={<Text id='races.lastname-help'>Hva er etternavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='sportsClub' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.sportsclub'>Klubb</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='sportsClub'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.sportsClub}\n                                                    placeholder={<Text id='races.sportsClub-help'>Hvilken klubb tilhører du?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='facebook' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.facebook'>Facebook</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='facebook'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.facebook}\n                                                    placeholder={<Text id='races.facebook-help'>Hva er Facebook brukernavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='instagram' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.instagram'>Instagram</Text></label>\n                                        <div class='col-10'>\n                                            <Localizer>\n                                                <input type='text' class='form-control' id='instagram'\n                                                    data-classid={signup.class}\n                                                    data-contestantid={signup.id}\n                                                    onInput={this.editSignup}\n                                                    value={signup.instagram}\n                                                    placeholder={<Text id='races.instagram-help'>Hva er Instagram brukernavnet ditt?</Text>}\n                                                />\n                                            </Localizer>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='team' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.team'>Team</Text></label>\n                                        <div class='col-10'>\n                                            <select class='form-control' id='team' aria-describedby='teamHelp'\n                                                data-classid={signup.class}\n                                                data-contestantid={signup.id}\n                                                onInput={this.editSignup}\n                                                value={signup.team}\n                                            >\n                                                <option value=''>-- <Text id='races.choose-team'>Velg team</Text> --</option>\n                                                {teams.map(team =>\n                                                    <option value={team.id}>{team.name}</option>\n                                                )}\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class='form-group row my-0'>\n                                        <label for='team' class='col-2 col-form-label text-right font-weight-lighter'><Text id='races.class'>Klasse</Text></label>\n                                        <div class='col-10'>\n                                            <select class='form-control' id='class' aria-describedby='classHelp'\n                                                onInput={this.editSignup}\n                                                value={signup.class}\n                                                disabled\n                                            >\n                                                <option value=''>-- <Text id='races.choose-class'>Velg klasse</Text> --</option>\n                                                {race.classes && race.classes.sort((a, b) => a.distance - b.distance).map(currentClass => <>\n                                                    <option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n                                                </>)}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                </> : <>\n\n                                    <div class='form-group'>\n                                        <label for='cellphone'><Text id='races.cellphone'>Mobil</Text></label>\n                                        <input type='text' class='form-control' id='cellphone' aria-describedby='cellphoneHelp'\n                                            placeholder={user.cellphone}\n                                            onInput={this.updateSignup}\n                                            value={signup.cellphone}\n                                        />\n                                        <small id='cellphoneHelp' class='form-text text-muted'><Text id='races.cellphone-help'>'Hva er mobilnummer ditt?'</Text></small>\n                                    </div>\n\n                                    <div class='row'>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='firstname'><Text id='races.firstname'>Fornavn</Text></label>\n                                                <input type='text' class='form-control' id='firstname' aria-describedby='firstnameHelp'\n                                                    placeholder={user.firstname}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.firstname}\n                                                />\n                                                <small id='firstnameHelp' class='form-text text-muted'><Text id='races.firstname-help'>Hva er fornavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='lastname'><Text id='races.lastname'>Etternavn</Text></label>\n                                                <input type='text' class='form-control' id='lastname' aria-describedby='lastnameHelp'\n                                                    placeholder={user.lastname}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.lastname}\n                                                />\n                                                <small id='lastnameHelp' class='form-text text-muted'><Text id='races.lastname-help'>Hva er etternavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class='form-group'>\n                                        <label for='sportsClub'><Text id='races.sportsclub'>Klubb</Text></label>\n                                        <input type='text' class='form-control' id='sportsClub' aria-describedby='sportsClubHelp'\n                                            placeholder={user.sportsClub}\n                                            onInput={this.updateSignup}\n                                            value={signup.sportsClub}\n                                        />\n                                        <small id='sportsClubHelp' class='form-text text-muted'><Text id='races.sportsClub-help'>Hvilken klubb tilhører du?</Text></small>\n                                    </div>\n\n                                    <div class='row'>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='facebook'><Text id='races.facebook'>Facebook</Text></label>\n                                                <input type='text' class='form-control' id='facebook' aria-describedby='facebookHelp'\n                                                    placeholder={user.facebook}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.facebook}\n                                                />\n                                                <small id='facebookHelp' class='form-text text-muted'><Text id='races.facebook-help'>Hva er Facebook brukernavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                        <div class='col'>\n                                            <div class='form-group'>\n                                                <label for='instagram'><Text id='races.instagram'>Instagram</Text></label>\n                                                <input type='text' class='form-control' id='instagram' aria-describedby='instagramHelp'\n                                                    placeholder={user.instagram}\n                                                    onInput={this.updateSignup}\n                                                    value={signup.instagram}\n                                                />\n                                                <small id='instagramHelp' class='form-text text-muted'><Text id='races.instagram-help'>Hva er Instagram brukernavnet ditt?</Text></small>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class='form-group'>\n                                        <label for='team'><Text id='races.team'>Team</Text></label>\n                                        <select class='form-control' id='team' aria-describedby='teamHelp'\n                                            onInput={this.updateSignup}\n                                            value={signup.team}\n                                        >\n                                            <option value=''>-- <Text id='races.choose-team'>Velg team</Text> --</option>\n                                            {teams.map(team =>\n                                                <option value={team.id}>{team.name}</option>\n                                            )}\n                                        </select>\n                                        <small id='teamHelp' class='form-text text-muted'><Text id='races.choose-team-help'>Velg fra dine team</Text></small>\n                                    </div>\n\n                                    <div class='form-group'>\n                                        <label for='class'><Text id='races.class'>Klasse</Text></label>\n                                        <select class='form-control' id='class' aria-describedby='classHelp'\n                                            onInput={this.updateSignup}\n                                            value={signup.class}\n                                        >\n                                            <option value=''>-- <Text id='races.choose-class'>Velg klasse</Text> --</option>\n                                            {race.classes && race.classes.map(currentClass => <>\n                                                <option value={currentClass.id}>{currentClass.title} - {currentClass.distance} km - Påmelding: {currentClass.signupfee || race.signupfee} NOK</option>\n                                            </>)}\n                                        </select>\n                                        <small id='classHelp' class='form-text text-muted'><Text id='races.choose-class-help'>Velg ønsket klasse.</Text></small>\n                                    </div>\n\n                                    <div class='form-group form-check'>\n                                        <input type='checkbox' class='form-check-input' id='termsAndAgreement'\n                                            onInput={this.updateSignup}\n                                            checked={signup.termsAndAgreement}\n                                            value={true}\n                                        />\n                                        <label class='form-check-label' for='termsAndAgreement'><Text id='races.agreement-accept'>Jeg har lest og godtar reglene for løpet.</Text></label>\n                                    </div>\n                                    <button type='button' class='btn btn-primary' onClick={this.signupToRace}><Text id='races.do-signup'>Meld meg på</Text></button>\n                                </>}\n\n                            </> : <>\n                                {today < new Date(race.signupStartDate) ? <>\n                                    <h5 class='mt-4'>\n                                        <i class='fas fa-exclamation-circle' /> <Text id='races.signup-not-open-yet'>Påmeldingen har ikke åpnet ennå!</Text>\n                                    </h5>\n                                    <p class='mt-4'>\n                                        <Text id='races.signup-opening'>Påmeldingen åpner</Text>:<br />\n                                        <span class='display-4'>{util.formatDate(race.signupStartDate, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' })}</span>\n                                    </p>\n                                </> : <>\n                                    <h5 class='mt-4 mb-4'>\n                                        <i class='fas fa-exclamation-circle' /> <Text id='races.signup-closed'>Påmeldingen er stengt!</Text>\n                                    </h5>\n                                </>}\n                            </>}\n                        </div>\n                    </div>\n                </>}\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n                        <div class=''>\n                            <LikesAndComments\n                                stores={this.props.stores}\n                                likes={likes}\n                                comments={comments}\n                                type='story'\n                                // onTeamClick={onTeamClick}\n                                // onUserClick={onUserClick}\n                            />\n                        </div>\n                    </div>\n\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n                        <div class='row'>\n                            <div class='col-6 text-center'>\n                                <button type='button' class={`btn btn-outline-${hasLikedRace ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedRace ? 'text-primary' : ''}`}\n                                    onClick={this.likeRace}\n                                    // disabled={hasLikedRace}\n                                >\n                                    <i class={`${hasLikedRace ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> {hasLikedRace ? <Text id='comments.has-liked'>Liked</Text> : <Text id='comments.like'>Lik</Text>}\n                                </button>\n                            </div>\n                            <div class='col-6 text-center'>\n                                <button type='button' class='btn btn-outline-secondary btn-lg btn-block'\n                                    data-id={race.id}\n                                    onClick={this.toggleAddComment}\n                                >\n                                    <i class='fas fa-comment' /> <Text id='comments.comment-add'>Comment</Text>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    {showAddComment && user.email && <RaceAddComment\n                        stores={this.props.stores}\n                        race={race}\n                        // callback={this.loadRaceDetail}\n                        inputRef={c => this.inputRef[race.id] = c}\n                    />}\n                    <RaceComments\n                        stores={this.props.stores}\n                        race={race}\n                        cols='12'\n                        // callback={this.loadRaceDetail}\n                    />\n\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default AppRaceDetailSignup;\n"],"sourceRoot":""}