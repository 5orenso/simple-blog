(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{"/V/i":function(t,e,r){"use strict";(function(t){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n,o=r("hosL"),c=(r("QRet"),r("Utv1")),l=r("/eY4"),i=(r("OhSV"),{}),h=Object(l.a)(n=function(e){function r(t){var r;return(r=e.call(this,t)||this).toggleFocusOnMusher=function(t){var e=r.props.stores,a=e.appState,s=e.raceStore;a.toggleFocusOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10)),s.getWorkoutSummaryActiveTeams(a.focusOnMushers)},r.toggleInfoOnMusher=function(t){r.props.stores.appState.toggleInfoOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10))},r.state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},i),r}var n,l;return l=e,(n=r).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,r.prototype.render=function(){var e,r,a,s=this.props.stores,n=s.raceStore,l=s.appState,i=this.props,h=i.team,u=void 0===h?{}:h,b=i.idx,p=l.focusOnMushers,d=void 0===p?[]:p,O=l.infoOnMushers,m=void 0===O?[]:O,j=n.getActiveTeamById(u.id),f=n.getWorkoutSummaryByTeam(u.id),g=n.getClassByTeamId(u.id),v=n.getWorkoutResultsByTeam(f,g.distance),y=n.getMusherByTeamId(u.id),w=u.images&&u.images.length>0?u.images[0]:{},x=n.getClassByTeamId(u.id),k=v.distanceKm/g.distance*100,S=k>0?1:0;j&&j.currentLocation&&j.currentLocation.coords&&(e=3.6*j.currentLocation.coords.speed,r=j.currentLocation.timestamp,a=!0);var P=x.distance-v.distanceKm;return P<0&&(P=0),Object(o.h)(t,null,Object(o.h)("div",{class:"row border-top mt-2",style:"font-size: 0.7em;"},Object(o.h)("div",{class:"col-2 p-0 text-center"},Object(o.h)("h2",null,b+1)),Object(o.h)("div",{class:"col-2 p-0 text-center"},Object(o.h)("div",{class:"text-center text-muted pt-2 h-100",style:'background-image: url("'+w.s3SmallLink+'"); background-size: cover;',onClick:this.toggleInfoOnMusher,"data-musherid":u.id},!w.s3SmallLink&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},c.a.ucfirst(String(y.firstname),!0),c.a.ucfirst(String(y.lastname),!0))))),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-6 px-1"},Object(o.h)("span",{class:"font-weight-bold"},y.firstname," ",y.lastname),Object(o.h)("br",null),Object(o.h)("span",{class:"font-weight-lighter"},u.name),Object(o.h)("br",null),x&&x.title&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-lighter"},x.title))),Object(o.h)("div",{class:"col-3 p-0 text-center"},Object(o.h)("span",{class:"font-weight-lighter"},"km"),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 2.0em;"},c.a.format(v.distanceKm,0))),Object(o.h)("div",{class:"col-3 p-0 text-center"},Object(o.h)("span",{class:"font-weight-lighter"},"to finish"),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 2.0em;"},0===P?Object(o.h)("i",{class:"fas fa-flag-checkered text-success"}):Object(o.h)(t,null,c.a.format(P,0))))),Object(o.h)("div",{class:"row border-top"},Object(o.h)("div",{class:"col-3 p-0 text-center"},Object(o.h)("span",{class:"font-weight-lighter"},"Rest"),Object(o.h)("br",null),c.a.secToHms(v.rest)),Object(o.h)("div",{class:"col-3 p-0 text-center"},Object(o.h)("span",{class:"font-weight-lighter"},"Speed"),Object(o.h)("br",null),e?Object(o.h)(t,null,c.a.format(e,1)," km/t"):"-"),Object(o.h)("div",{class:"col-3 p-0 text-center"},Object(o.h)("span",{class:"font-weight-lighter"},"Status"),Object(o.h)("br",null),1===j.isInProgress?Object(o.h)("span",{class:"text-primary"},"running"):"",2===j.isInProgress?Object(o.h)("span",{class:"text-danger"},"resting"):"",0===P?Object(o.h)(t,null,j.isInProgress?"":Object(o.h)("span",{class:"text-success"},"FINISH")):Object(o.h)(t,null,j.isInProgress?"":Object(o.h)(t,null,S?Object(o.h)("span",{class:"text-danger"},"resting"):Object(o.h)("span",{class:"text-muted"},"NYS")))),Object(o.h)("div",{class:"col-3 p-0 text-center align-bottom"},Object(o.h)("h5",null,u.dogs&&u.dogs?c.a.format(u.dogs.length,0):"-"," ",Object(o.h)("i",{class:"fas fa-dog text-muted ml-2"})))))),Object(o.h)("div",{class:"row bg-secondary text-white",style:"font-size: 0.8em;"},Object(o.h)("div",{class:"col-6 text-left",style:"font-size: 0.8em;"},a&&Object(o.h)(t,null,"Updated: ",c.a.formatDistance(r,new Date)," ago")),Object(o.h)("div",{class:"col-6 text-right"},Object(o.h)("span",{class:"float-right",onClick:this.toggleFocusOnMusher,"data-musherid":u.id},d.indexOf(u.id)>-1?Object(o.h)("i",{class:"fas fa-star text-warning"}):Object(o.h)("i",{class:"far fa-star"})),Object(o.h)("span",{class:"float-right mr-2",onClick:this.toggleInfoOnMusher,"data-musherid":u.id},m.indexOf(u.id)>-1?Object(o.h)("i",{class:"fas fa-info-circle text-warning"}):Object(o.h)("i",{class:"fas fa-info-circle"})),a&&j.currentLocation.battery.level>0&&Object(o.h)(t,null,Object(o.h)("span",{class:"float-right mr-2"},Object(o.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2 mr-1"}),c.a.format(100*j.currentLocation.battery.level,0),"%")))))},r}(o.Component))||n;e.a=h}).call(this,r("hosL").Fragment)},"3kDq":function(t,e,r){"use strict";(function(t){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n,o=r("hosL"),c=r("QRet"),l=r("Utv1"),i=r("/eY4"),h=r("OhSV"),u={},b=Object(i.a)(n=function(e){function r(t){var r;return(r=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},u),r}var n,i;return i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r.prototype.render=function(){var e=this.props.stores,r=e.appState,a=this.props.title,s=r.language,n=void 0===s?"en":s,i=e.raceStore.race,u=new Date,b="";return u>=new Date(i.startDate)&&u<=new Date(i.endDate)?b="race":u>=new Date(i.signupStartDate)&&u<=new Date(i.signupEndDate)?b="signup":u>new Date(i.endDate)&&(b="done"),Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex"},Object(o.h)("div",{class:"flex-fill"},function(t,e){return void 0===e&&(e=""),Object(c.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(o.h)("h1",{class:e},t)}(a,"mb-0")),Object(o.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(o.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(o.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},i.title)),Object(o.h)("small",{class:""},i.startDate&&Object(o.h)(t,null,l.a.formatDate(i.startDate,{locale:n,hour12:!1,hour:"2-digit",minute:"2-digit"})),i.endDate&&Object(o.h)(t,null," - ",l.a.formatDate(i.endDate,{locale:n,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("div",{class:"flex-fill"},Object(o.h)("h3",{class:"float-right"},"signup"===b&&!i.liveRace&&Object(o.h)(t,null,Object(o.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(o.h)("span",{class:"badge badge-primary ml-2"},Object(o.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===b&&Object(o.h)(t,null,Object(o.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(o.h)("span",{class:"badge badge-danger ml-2"},Object(o.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===b&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-check text-success"}),Object(o.h)("span",{class:"badge badge-success ml-2"},Object(o.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(o.h)("div",{class:"d-block d-md-none"},Object(o.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(o.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},i.title)),Object(o.h)("small",null,i.startDate&&Object(o.h)(t,null,l.a.formatDate(i.startDate,{locale:n,hour12:!1,hour:"2-digit",minute:"2-digit"})),i.endDate&&Object(o.h)(t,null," - ",l.a.formatDate(i.endDate,{locale:n,hour12:!1,hour:"2-digit",minute:"2-digit"})))))},r}(o.Component))||n;e.a=b}).call(this,r("hosL").Fragment)},"5l0g":function(t,e,r){"use strict";(function(t){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n,o=r("hosL"),c=(r("Utv1"),r("/eY4")),l=(r("OhSV"),r("cneo"),r("HqZR")),i=(r("ZOvn"),{showAddComment:!1}),h=Object(c.a)(n=function(e){function r(t){var r;return(r=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},i),r.updateTimer={},r.inputRef={},r}var n,c;c=e,(n=r).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var h=r.prototype;return h.loadHeatmap=function(){return new Promise(function(t,e){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.adminStore.getPublicHeatmap(this.props.raceid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadHeatmap()},h.render=function(){var e=this.props,r=e.waypoints,a=e.zoomToMarkers,s=e.mapid,n=e.fullscreenMap,c=this.props.stores.adminStore.publicHeatmap;return Object(o.h)(t,null,Object(o.h)(l.a,{stores:this.props.stores,mapId:c.length,heatmap:c,minZoom:2,maxZoom:18,height:600,waypoints:r,zoomToMarkers:a,fullscreenMap:n,key:"map-"+s}))},r}(o.Component))||n;e.a=h}).call(this,r("hosL").Fragment)},"8Lgr":function(t,e,r){"use strict";(function(t){function a(t){return o.a.format(t,t<5?2:1)}var s,n=r("hosL"),o=r("Utv1"),c=r("/eY4"),l=(r("OhSV"),r("ZOvn"),Object(c.a)(s=function(e){function r(){return e.apply(this,arguments)||this}var s,o;return o=e,(s=r).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,r.prototype.render=function(){var e=this.props,r=e.value,s=void 0===r?0:r,o=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a(function(t){return.621371*t}(s))," ",o?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(t,null,"mi"))):Object(n.h)(t,null,Object(n.h)("nobr",null,a(s)," ",o?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(t,null,"km")))},r}(n.Component))||s);e.a=l}).call(this,r("hosL").Fragment)},"8gML":function(t,e,r){"use strict";(function(t){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n,o=r("hosL"),c=r("Utv1"),l=r("/eY4"),i=r("OhSV"),h=(r("go65"),r("RMlE"),r("5l0g"),r("ZOvn")),u=(h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:c.a.getJwtToken()}),b=Object(l.a)(n=function(e){function r(t){var r;return(r=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},u),r}var n,c;return c=e,(n=r).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,r.prototype.render=function(){var e=this.props,r=e.raceid,a=e.path,s=this.props.stores.appState.darkmode,n="default";return a.match(/\/race\/:raceid$/)?n="default":a.match(/\/race\/:raceid\/mushers$/)?n="mushers":a.match(/\/race\/:raceid\/results$/)?n="results":a.match(/\/race\/:raceid\/media$/)?n="media":a.match(/\/race\/:raceid\/tracking$/)&&(n="tracking"),Object(o.h)(t,null,Object(o.h)("div",{class:"row fixed-top pr-3",style:"margin-top: 40px; background-color: "+(s?"#191d21":"#f8f9fa")+";"},Object(o.h)("div",{class:"col-12 my-2 mx-2"},Object(o.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(o.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(o.h)("a",{href:"/race/"+r,class:"text-overflow nav-link "+("default"===n?"active":"")},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-info-circle"})," ",Object(o.h)(i.c,{id:"race.therace"},"Løpet")))),Object(o.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(o.h)("a",{href:"/race/"+r+"/mushers",class:"text-overflow nav-link "+("mushers"===n?"active":"")},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-users"})," ",Object(o.h)(i.c,{id:"race.mushers"},"Deltakere")))),Object(o.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(o.h)("a",{href:"/race/"+r+"/results",class:"text-overflow nav-link "+("results"===n?"active":"")},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-poll"})," ",Object(o.h)(i.c,{id:"race.results"},"Resultater")))),Object(o.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(o.h)("a",{href:"/race/"+r+"/media",class:"text-overflow nav-link "+("media"===n?"active":"")},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-images"})," ",Object(o.h)(i.c,{id:"race.media"},"Bilder")))),Object(o.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(o.h)("a",{href:"/race/"+r+"/tracking",class:"text-overflow nav-link "+("tracking"===n?"active":"")},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(o.h)(i.c,{id:"race.tracking"},"Tracking"))))))))},r}(o.Component))||n;e.a=b}).call(this,r("hosL").Fragment)},LMwI:function(t){t.exports={pointerCursor:"pointerCursor__1W6mM"}},QkTp:function(t,e,r){"use strict";(function(t){var a,s=r("hosL"),n=r("Utv1"),o=r("/eY4"),c=(r("OhSV"),r("ZOvn"),Object(o.a)(a=function(e){function r(){return e.apply(this,arguments)||this}var a,o;return o=e,(a=r).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,r.prototype.render=function(){var e=this.props,r=e.value,a=void 0===r?0:r,o=this.props.stores.userStore.user.settings;return(void 0===o?{}:o).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return 9*t/5+32}(a),0),"°F")):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(a,1),"°C"))},r}(s.Component))||a);e.a=c}).call(this,r("hosL").Fragment)},RMlE:function(t,e,r){"use strict";function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n,o=r("hosL"),c=r("ox/y"),l=(r("Utv1"),r("/eY4")),i=(r("go65"),r("Y3FI")),h=r("OhSV"),u=(r("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),b=Object(l.a)(n=function(t){function e(e){var r;return(r=t.call(this,e)||this).toggleDropdown=function(t){var e=r.state.menu,a=t.target.dataset.name;!a&&t.target.parentNode&&(a=t.target.parentNode.dataset.name),a&&(e[a]=!e[a]),r.setState({menu:e})},r.toggleDarkmode=function(t){r.props.stores.appState.toggleDarkmode(),r.toggleDropdown(t)},r.toggleViewmode=function(t){var e=t.target.dataset.mode;!e&&t.target.parentNode&&(e=t.target.parentNode.dataset.mode),r.props.stores.appState.toggleViewmode(e),r.toggleDropdown(t)},r.reloadApp=function(){window.location.reload(!0)},r.adminLoadAll=function(){return new Promise((function(t,e){return Promise.resolve(r.props.stores.userStore.getInfo(!0)).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},r.changeLanguage=function(t){var e=t.target.value;console.log("changeLanguage",e);var a=r.props.stores,s=a.appState,n=a.userStore,o=n.user,c=void 0===o?{}:o;c.email&&n.setLanguage({email:c.email,language:e}),s.setLanguage(e)},r.search=function(){var t=r.state.searchText;Object(i.route)("/search/"+t)},r.state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},u),r}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype.render=function(){var t=this.state,e=t.menu,r=this.props.stores,a=r.appState,s=r.userStore,n=a.darkmode,l=s.user,i=s.notifications,u=((void 0===i?[]:i).filter((function(t){return!t.read})),l.language),b=void 0===u?"en":u;return Object(o.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(o.h)("a",{class:"navbar-brand",href:"/race/"},Object(o.h)("img",{src:"./assets/homerun-race-logo-2-"+(n?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(o.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(o.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(o.h)("span",{class:"navbar-toggler-icon"})),Object(o.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(o.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(o.h)("li",{class:"nav-item"},Object(o.h)(c.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(o.h)("i",{class:"fas fa-flag-checkered"})," ",Object(o.h)(h.c,{id:"header.races"},"Løpene"))),Object(o.h)("li",{class:"nav-item"},Object(o.h)(c.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(o.h)("i",{class:"far fa-question-circle"})," ",Object(o.h)(h.c,{id:"header.support"},"Support"))),Object(o.h)("li",{class:"nav-item"},Object(o.h)(c.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(o.h)("i",{class:"fas fa-quote-right"})," ",Object(o.h)(h.c,{id:"header.news"},"Nyheter")))),Object(o.h)("ul",{class:"navbar-nav ml-auto "},Object(o.h)("li",{class:"nav-item mr-2"},Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(o.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(o.h)("option",{value:"no",selected:"no"===b},"🇳🇴 NO"),Object(o.h)("option",{value:"en",selected:"en"===b},"🇬🇧 EN"),Object(o.h)("option",{value:"es",selected:"es"===b},"🇪🇸 ES"),Object(o.h)("option",{value:"de",selected:"de"===b},"🇩🇪 DE"),Object(o.h)("option",{value:"fr",selected:"fr"===b},"🇫🇷 FR"),Object(o.h)("option",{value:"ru",selected:"ru"===b},"🇷🇺 RU"),Object(o.h)("option",{value:"se",selected:"se"===b},"🇸🇪 SE"))))),Object(o.h)("li",{class:"nav-item d-block d-lg-none"},Object(o.h)(c.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(o.h)("i",{class:(n?"fas text-warning":"far")+" fa-moon"})," ",Object(o.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(o.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(o.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(o.h)("i",{class:(n?"fas text-warning":"far")+" fa-moon"}))))))},e}(o.Component))||n;e.a=b},UwwE:function(t,e,r){"use strict";(function(t){var a,s=r("hosL"),n=r("Utv1"),o=r("/eY4"),c=(r("OhSV"),r("ZOvn"),Object(o.a)(a=function(e){function r(){return e.apply(this,arguments)||this}var a,o;return o=e,(a=r).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,r.prototype.render=function(){var e=this.props,r=e.value,a=void 0===r?0:r,o=this.props.stores.userStore.user.settings;return(void 0===o?{}:o).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return 2.20462*t}(a),0)," lb")):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(a,0)," kg"))},r}(s.Component))||a);e.a=c}).call(this,r("hosL").Fragment)},ZC4H:function(t,e,r){"use strict";r.r(e),function(t){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var c,l,i=r("hosL"),h=r("QRet"),u=r("Utv1"),b=r("/eY4"),p=r("OhSV"),d=r("fh8t"),O=r.n(d),m=(r("RMlE"),r("8gML"),r("5l0g")),j=(r("3kDq"),r("aGZh"),r("vme8")),f=r("/V/i"),g=r("wanP"),v=r("zYNi"),y=r("ZOvn"),w=y.a.marginTop(!0,!0),x=(y.a.marginBottom(),{pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0}),k={isLoading:!1,email:"",submenu:"ads",jwtToken:u.a.getJwtToken(),reloadInSec:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0},S=Object(b.a)(c=function(e){function r(t){var r;return(r=e.call(this,t)||this).initComponent=function(){r.setState({reloadIsActive:!0},(function(){return r.tickReloadTimeer()}))},r.tickReloadTimeer=function(){var t=r.props.reloadLastEpoch;if(r.state.reloadIsActive){var e=Math.floor((new Date).getTime()/1e3);r.setState({reloadInSec:60-(e-t)}),clearTimeout(r.updateTimer.tick),r.updateTimer.tick=setTimeout((function(){return r.tickReloadTimeer()}),1e3)}return!1},r.state=s({},k),r.updateTimer={},r}o(r,e);var a=r.prototype;return a.componentDidMount=function(){this.initComponent()},a.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},a.render=function(){var e=this.state.reloadInSec,r=this.props,a=r.radius,s=void 0===a?13:a,n=r.fontSize,o=void 0===n?11:n,c=r.classNames,l=void 0===c?"":c,h=Math.floor(u.a.normalizeBetween(e,0,60,0,100));return Object(i.h)(t,null,Object(i.h)("span",{class:l},Object(i.h)(g.a,{key:"gauge-reload-page",color:"primary",radius:s,showPercentText:!1,percent:h,showCenterText:!0,centerText:e,centerTextSize:o,centerTextY:"55%"})))},r}(i.Component))||c,P=Object(b.a)(l=function(e){function r(t){var r;return(r=e.call(this,t)||this).loadLiveRaceResults=function(t){return new Promise((function(e,a){var s;return void 0===t&&(t=r.props),s=t.stores.raceStore,Promise.resolve(s.getRaceTrackerData(s.race.raceTrackerRace)).then((function(){try{return s.getRaceTrackerActiveTeams(),e()}catch(t){return a(t)}}),a)}))},r.loadRaceResults=function(t,e,a){return new Promise((function(s,n){var o;return void 0===t&&(t=r.props),o=t.stores.raceStore,Promise.resolve(o.loadWorkoutSummary(e,t.raceid)).then((function(){try{return o.getWorkoutSummaryActiveTeams(a),s()}catch(t){return n(t)}}),n)}))},r.setLeaderboardMode=function(t){r.setState({leaderboardMode:t.target.parentElement.dataset.mode||t.target.dataset.mode})},r.chooseRaceClass=function(t){r.setState({filterByraceClass:t.target.value})},r.toggleShowLeaderBoard=function(t){r.setState(!0===t?{showLeaderBoard:!1}:{showLeaderBoard:!r.state.showLeaderBoard})},r.toggleShowNews=function(t){r.setState(!0===t?{showNews:!1}:{showNews:!r.state.showNews})},r.state=s(s({},k),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3)}),r.updateTimer={},r}o(r,e);var a=r.prototype;return a.loadRace=function(t){return new Promise(function(e,r){var a,s,n,o,c,l,i,h;return a=this,void 0===t&&(t=this.props),this.setState({isLoading:!0}),n=(s=t.stores).raceStore,o=s.appState,Promise.resolve(n.load(t.raceid)).then(function(){try{if(i=void 0===(l=o.focusOnMushers)?[]:l,h=(c=n.race).classes.filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),i.filter((function(t){return h.indexOf(t)>-1})),this.setState({allTeamIds:h}),h.length>0)return Promise.resolve(n.loadTeams(h.join(","))).then(function(){try{return c.liveRace>0?Promise.resolve(this.loadLiveRaceResults(t,i)).then(function(){try{return e.call(this)}catch(t){return r(t)}}.bind(this),r):Promise.resolve(this.loadRaceResults(t,h.join(","),i)).then(function(){try{return e.call(this)}catch(t){return r(t)}}.bind(this),r);function e(){return s.call(this)}}catch(t){return r(t)}}.bind(this),r);function s(){return n.getAllClassesSortedBy(),1===c.liveRace||(clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((function(){return new Promise((function(t){var e=Math.floor((new Date).getTime()/1e3);return a.setState({reloadLastEpoch:e}),a.loadRace(),t()}))}),6e4)),this.setState({isLoading:!1}),e()}return s.call(this)}catch(t){return r(t)}}.bind(this),r)}.bind(this))},a.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},a.componentDidMount=function(){this.loadRace();var t,e={width:(t=window).innerWidth,height:t.innerHeight};e.width<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))},a.componentWillReceiveProps=function(t){this.loadRace(t)},a.render=function(){var e=this,r=this.props.stores,a=r.appState,s=r.raceStore,n=this.props,o=n.raceid,c=a.language,l=void 0===c?"en":c,b=a.focusOnMushers,d=a.infoOnMushers,g=void 0===d?[]:d,k=this.state,P=k.leaderboardMode,D=k.filterByraceClass,L=k.showLeaderBoard,T=k.showNews,I=k.reloadLastEpoch,C=k.allTeamIds,M=void 0===C?[]:C,_=(void 0===b?[]:b).filter((function(t){return M.indexOf(t)>-1})),z=s.activeTeams,R=s.teamList,E=s.waypoints,N=s.zoomToMarkers,B=s.race,F=s.classes;return 1===B.liveRace?Object(i.h)("div",{class:"container-fluid position-relative p-0",style:"margin-top: 0; height: calc(100vh - "+w+"); z-index: 9999;"},Object(i.h)(v.a,{stores:this.props.stores,raceid:o,linkBase:"/race/"})):Object(i.h)(t,null,Object(i.h)("div",{class:"container-fluid h-100 position-relative p-0"},Object(i.h)(m.a,{stores:this.props.stores,raceid:o,waypoints:E,zoomToMarkers:N,fullscreenMap:!0}),Object(i.h)("div",{class:"position-absolute",style:"top: 15px; left: 5px; z-index: 99999999;"},Object(i.h)("div",{class:"logo ml-3 clearfix text-white"},Object(i.h)("img",{src:"./assets/homerun-race-logo-2-small.png",height:"37",class:"float-left"}),Object(i.h)("a",{href:"/race/"+B.id},Object(i.h)("span",{class:"font-weight-bold text-dark",style:"font-size: 1.4em;"},"Homerun Race")))),!L&&Object(i.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 99999999; width: 150px; height: 50px;"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-light",onClick:this.toggleShowLeaderBoard},Object(i.h)(S,{stores:this.props.stores,classNames:"float-right ml-2",reloadLastEpoch:I}),Object(i.h)("span",{class:"float-left"},"Leaderboard"))),!T&&Object(i.h)("div",{class:"position-absolute",style:"bottom: 40px; right: 5px; z-index: 99999999; width: 150px; height: 50px;"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-primary float-right",onClick:this.toggleShowNews},Object(i.h)("span",{class:"float-left"},"News"))),T&&B&&B.articles&&B.articles&&B.articles.length>0&&Object(i.h)("div",{class:"position-absolute",style:"bottom: 50px; right: 5px; z-index: 99999999; width: 350px; height: 40vh;"},Object(i.h)("div",{class:"container-fluid bg-light rounded-lg py-2 overflow-auto mt-2",style:"opacity: 0.9; height: 90%;"},Object(i.h)("div",{class:"row bg-light"},Object(i.h)("div",{class:"col-12 bg-primary text-white"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-danger float-right",onClick:this.toggleShowNews},"X"),"News"),Object(i.h)("div",{class:"col-12 bg-light"},B&&B.articles&&B.articles.reverse().map((function(t){return Object(i.h)("div",{class:"border-bottom mb-2 pb-2 clearfix"},Object(i.h)("small",{class:"text-muted float-right"},u.a.formatDate(t.date,{locale:l,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("h5",null,y.a.replaceImages(t.title,t.images,l,!1)),t.image&&Object(i.h)("img",{src:t.image.s3LargeLink,class:"float-right rounded-lg ml-2",style:"height: 100px;"}),t.ingress&&Object(i.h)("strong",null,Object(i.h)(O.a,{markdown:y.a.replaceImages(t.ingress,t.images,l),markdownOpts:x})),t.body&&Object(i.h)("p",null,Object(i.h)(O.a,{markdown:y.a.replaceImages(t.body,t.images,l),markdownOpts:x})))})))))),L&&Object(i.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 99999999; width: 350px; height: 90vh;"},Object(i.h)("div",{class:"container-fluid bg-light rounded-lg py-2 overflow-auto mt-2",style:"opacity: 0.9; height: 90%;"},Object(i.h)("div",{class:"row bg-light"},Object(i.h)("div",{class:"col-12"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link float-right",onClick:this.toggleShowLeaderBoard},"X"),Object(i.h)(S,{stores:this.props.stores,classNames:"float-right",radius:15,fontSize:13,reloadLastEpoch:I}),Object(i.h)("h5",{class:"mb-0"},"Leaderboard"),function(t,e,r){return void 0===e&&(e=""),void 0===r&&(r=""),Object(h.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(i.h)("span",{class:e,style:r},t)}(B.title,"font-weight-normal text-dark","font-size: 1.0em;"),Object(i.h)("select",{class:"form-control-plaintext","aria-describedby":"classHelp",onInput:this.chooseRaceClass},Object(i.h)("option",{value:""},"-- Choose class --"),B.classes&&B.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(i.h)(t,null,Object(i.h)("option",{value:e.id},e.title," (",e.totalMushers,")"))}))),Object(i.h)("ul",{class:"mt-2 nav nav-tabs nav-justified tracking-nav"},Object(i.h)("li",{class:"nav-item",style:"width: 33%;"},Object(i.h)("a",{class:"nav-link "+("mushers"===P?"active":""),onClick:this.setLeaderboardMode,"data-mode":"mushers"},Object(i.h)(p.c,{id:"races.mushers"},"Deltakere"))),Object(i.h)("li",{class:"nav-item",style:"width: 33%;"},Object(i.h)("a",{class:"nav-link "+("onTrail"===P?"active":""),onClick:this.setLeaderboardMode,"data-mode":"onTrail"},Object(i.h)(p.c,{id:"races.on-trail"},"På sporet nå"))),Object(i.h)("li",{class:"nav-item",style:"width: 33%;"},Object(i.h)("a",{class:"nav-link "+("favorites"===P?"active":""),onClick:this.setLeaderboardMode,"data-mode":"favorites"},Object(i.h)(p.c,{id:"races.favorites"},"Favoritter")))))),"mushers"===P&&Object(i.h)(t,null,B.classes&&B.classes.sort((function(t,e){return t.distance-e.distance})).filter((function(t){return!D||D===t.id})).map((function(r){return Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-2 bg-primary text-white"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",{class:"m-0"},r.title))),F[r.id]&&F[r.id].contestants&&F[r.id].contestants.map((function(r,a){var s=r.currentTeam;return Object(i.h)(t,null,Object(i.h)(f.a,{stores:e.props.stores,team:s,idx:a}))})))}))),"favorites"===P&&Object(i.h)(t,null,_&&_.length>0?_.map((function(t,r){var a=s.getTeamById(t);return Object(i.h)(f.a,{stores:e.props.stores,team:a,idx:r})})):Object(i.h)(t,null,Object(i.h)("div",{class:"p-2 text-center"},Object(i.h)("h5",null,Object(i.h)(p.c,{id:"races.no-teams-signed-up"},"Ingen team påmeldt ennå..."))))),"onTrail"===P&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-muted text-center bg-light"},Object(i.h)(p.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",z.length),z&&z.length>0?z.filter((function(t){if(D){var e=s.getClassByTeamId(t.team);return D===e.id}return!0})).map((function(t,r){var a=s.getTeamById(t.team);return Object(i.h)(f.a,{stores:e.props.stores,team:a,idx:r})})):Object(i.h)(t,null,Object(i.h)("div",{class:"p-2 text-center"},Object(i.h)("h5",null,Object(i.h)(p.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå..."))))))),g&&g.length>0&&R&&R.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"position-absolute overflow-auto",style:"top: 15px; right: 55px; z-index: 99999999; max-width: 830px; max-height: 90%;"},Object(i.h)("div",{class:""},Object(i.h)("div",{class:"d-flex flex-wrap"},g.map((function(t){return Object(i.h)(j.a,{stores:e.props.stores,teamId:t})}))))))))},r}(i.Component))||l;e.default=P}.call(this,r("hosL").Fragment)},aGZh:function(t,e,r){"use strict";(function(t){function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s,n=r("hosL"),o=r("/eY4"),c={};Object(o.a)(s=function(r){function s(t){var s;return(s=r.call(this,t)||this).state=function(t){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?e(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},c),s}var o,l;return l=r,(o=s).prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l,s.prototype.render=function(){var e=this.props.stores.appState,r=this.props.text,a=e.language,s=void 0===a?"en":a,o=r,c=new RegExp("/<"+s+">(.*?)</"+s+">/");return r.replace(c,"$1")&&(o=r),Object(n.h)(t,null,o)},s}(n.Component))}).call(this,r("hosL").Fragment)},irB3:function(t,e,r){"use strict";(function(t){var a,s=r("hosL"),n=r("Utv1"),o=r("/eY4"),c=(r("OhSV"),r("ZOvn"),Object(o.a)(a=function(e){function r(){return e.apply(this,arguments)||this}var a,o;return o=e,(a=r).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,r.prototype.render=function(){var e=this.props,r=e.value,a=void 0===r?0:r,o=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return 3.28084*t}(a),0)," ",o?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(s.h)(t,null,"ft"))):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(a,0)," ",o?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},"m")))):Object(s.h)(t,null,"m")))},r}(s.Component))||a);e.a=c}).call(this,r("hosL").Fragment)},nHdA:function(t,e,r){"use strict";(function(t){var a,s=r("hosL"),n=r("Utv1"),o=r("/eY4"),c=r("OhSV"),l=(r("ZOvn"),Object(o.a)(a=function(e){function r(){return e.apply(this,arguments)||this}var a,o;return o=e,(a=r).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,r.prototype.render=function(){var e=this.props,r=e.value,a=void 0===r?0:r,o=e.smallUnit,l=this.props.stores.userStore.user.settings;return(void 0===l?{}:l).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(function(t){return.621371*t}(a),1)," ",o?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},Object(s.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(s.h)(t,null,Object(s.h)(c.c,{id:"workouts.mph"},"mph")))):Object(s.h)(t,null,Object(s.h)("nobr",null,n.a.format(a,1)," ",o?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},Object(s.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(s.h)(t,null,Object(s.h)(c.c,{id:"workouts.kmt"},"km/t"))))},r}(s.Component))||a);e.a=l}).call(this,r("hosL").Fragment)},vme8:function(t,e,r){"use strict";(function(t){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n,o=r("hosL"),c=(r("QRet"),r("Utv1")),l=r("/eY4"),i=(r("OhSV"),{}),h=Object(l.a)(n=function(e){function r(t){var r;return(r=e.call(this,t)||this).toggleFocusOnMusher=function(t){var e=r.props.stores,a=e.appState,s=e.raceStore;a.toggleFocusOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10)),s.getWorkoutSummaryActiveTeams(a.focusOnMushers)},r.toggleInfoOnMusher=function(t){r.props.stores.appState.toggleInfoOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10))},r.state=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},i),r}var n,l;return l=e,(n=r).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l,r.prototype.render=function(){var e=this.props.stores,r=e.raceStore,a=e.appState,s=a.language,n=void 0===s?"en":s,l=r.getTeamById(this.props.teamId);if(!l||!l.id)return Object(o.h)(t,null);var i,h,u,b=r.getActiveTeamById(l.id),p=r.getWorkoutSummaryByTeam(l.id).reverse(),d=r.getClassByTeamId(l.id),O=r.getWorkoutResultsByTeam(p,d.distance),m=r.getMusherByTeamId(l.id),j=l.images&&l.images.length>0?l.images[0]:{},f=r.getClassByTeamId(l.id),g=O.distanceKm/d.distance*100,v=g>0?1:0;b&&b.currentLocation&&b.currentLocation.coords&&(i=3.6*b.currentLocation.coords.speed,h=b.currentLocation.timestamp,u=!0);var y=f.distance-O.distanceKm;return y<0&&(y=0),Object(o.h)(t,null,Object(o.h)("div",{class:"mr-2 mb-2 overflow-auto",style:"width: 350px !important; max-height: 350px; overflow-x: hidden !important;"},Object(o.h)("div",{class:"p-2 bg-light rounded-lg"},Object(o.h)("div",{class:"row mt-2",style:"font-size: 0.9em;"},Object(o.h)("div",{class:"col-4 text-center"},Object(o.h)("div",{class:"text-center text-muted pt-2 h-100",style:'background-image: url("'+j.s3SmallLink+'"); background-size: cover;',onClick:this.toggleFocusOnMusher,"data-musherid":l.id},!j.s3SmallLink&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 55px;"},c.a.ucfirst(String(m.firstname),!0),c.a.ucfirst(String(m.lastname),!0))))),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12",style:"font-size: 1.5em; line-height: 1.0em;"},Object(o.h)("button",{type:"button",class:"btn btn-sm float-right",onClick:this.toggleInfoOnMusher,"data-musherid":l.id},"X"),Object(o.h)("span",{class:"font-weight-bold"},m.firstname," ",m.lastname),Object(o.h)("br",null),Object(o.h)("span",{class:"font-weight-lighter"},l.name),Object(o.h)("br",null),f&&f.title&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-lighter mr-2",style:"font-size: 0.8em;"},f.title," -")),Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 0.8em;"},c.a.format(O.avgDogs,1)," ",Object(o.h)("i",{class:"fas fa-dog text-muted ml-1"})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(o.h)("span",{class:"text-muted"},"km/t"),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 2.0em;"},c.a.format(O.speedAvg,1))),Object(o.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(o.h)("span",{class:"text-muted"},"km"),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 2.0em;"},c.a.format(O.distanceKm))),Object(o.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(o.h)("span",{class:"text-muted"},"to finish"),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 2.0em;"},0===y?Object(o.h)("i",{class:"fas fa-flag-checkered text-success"}):Object(o.h)(t,null,c.a.format(y,0))))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-6 text-center",style:"line-height: 1.4em;"},Object(o.h)("span",{class:"text-muted"},0===y?Object(o.h)(t,null,"Calc.Duration"):Object(o.h)(t,null,"Duration")),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 1.5em;"},0===y?Object(o.h)(t,null,c.a.secToHms(O.weightedNormalizedDuration||O.duration)):Object(o.h)(t,null,c.a.secToHms(O.duration)))),Object(o.h)("div",{class:"col-6 text-center",style:"line-height: 1.4em;"},Object(o.h)("span",{class:"text-muted"},"Status"),Object(o.h)("br",null),Object(o.h)("span",{style:"font-size: 1.5em;"},u?Object(o.h)(t,null,1===b.isInProgress?Object(o.h)("span",{class:"text-primary"},"running"):"",2===b.isInProgress?Object(o.h)("span",{class:"text-danger"},"resting"):"",0===y?Object(o.h)(t,null,b.isInProgress?"":Object(o.h)("span",{class:"text-success"},"FINISH")):Object(o.h)(t,null,b.isInProgress?"-":Object(o.h)(t,null,v?Object(o.h)("span",{class:"text-danger"},"resting"):Object(o.h)("span",{class:"text-muted"},"NYS")))):Object(o.h)(t,null,0===y?Object(o.h)("span",{class:"text-success"},"FINISH"):Object(o.h)(t,null,v?Object(o.h)("span",{class:"text-danger"},"resting"):Object(o.h)("span",{class:"text-muted"},"NYS")))))))),Object(o.h)("div",{class:"row mt-2",style:"font-size: 0.9em;"},Object(o.h)("div",{class:"col-6"},Object(o.h)("table",{class:"table table-sm table-striped"},Object(o.h)("tbody",null,Object(o.h)("tr",null,Object(o.h)("td",null,"Current speed"),Object(o.h)("td",null,i?Object(o.h)(t,null,c.a.format(i,1)," km/t"):"-")),Object(o.h)("tr",null,Object(o.h)("td",null,"Avg speed"),Object(o.h)("td",null,c.a.format(O.speedAvg,1)," km/t")),Object(o.h)("tr",null,Object(o.h)("td",null,"Duration"),Object(o.h)("td",null,c.a.secToHms(O.duration))),Object(o.h)("tr",null,Object(o.h)("td",null,"Calculated duration"),Object(o.h)("td",null,c.a.secToHms(O.weightedNormalizedDuration))),Object(o.h)("tr",null,Object(o.h)("td",null,"Rest"),Object(o.h)("td",null,c.a.secToHms(O.rest))),Object(o.h)("tr",null,Object(o.h)("td",null,"Elevation"),Object(o.h)("td",null,c.a.format(O.elevation,0)," m")),Object(o.h)("tr",null,Object(o.h)("td",null,"Altitude"),Object(o.h)("td",null,u?Object(o.h)(t,null,b.currentLocation.coords.altitude," moh"):"-")),Object(o.h)("tr",null,Object(o.h)("td",null,"Load index"),Object(o.h)("td",null,O.loadIndex)),Object(o.h)("tr",null,Object(o.h)("td",null,"Updated:"),Object(o.h)("td",null,u?Object(o.h)(t,null,c.a.formatDistance(h,new Date)," ago"):"-"))))),Object(o.h)("div",{class:"col-6"},Object(o.h)("span",null,"Elevation profile:"),Object(o.h)("br",null),u?Object(o.h)("svg",{viewBox:"0 0 300 100",style:"width: 180px; height: 60px; top: 0; left: 0;"},Object(o.h)("path",{d:""+b.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})):Object(o.h)("div",null,"-"),Object(o.h)("span",null,"Map profile:"),Object(o.h)("br",null),u?Object(o.h)("svg",{viewBox:"0 0 300 300",style:"width: 180px; height: 180px; top: 0; left: 0;"},Object(o.h)("path",{d:""+b.svgMap,style:"fill: none; stroke: #FF6300; stroke-width: 5; opacity: 0.2;"})):Object(o.h)("div",null,"-"))),Object(o.h)("div",{class:"mt-2",style:"font-size: 0.9em;"},Object(o.h)("div",{class:"d-flex flex-wrap"},p&&p.map((function(e,r){var a=e.distanceKm/d.distance*100,s=(a>100||parseInt(a,10),Math.floor(new Date(e.date).getTime()/1e3)),l=new Date(0);l.setUTCSeconds(s+parseInt(e.duration,10));var i=e.images.flat();return Object(o.h)(t,null,Object(o.h)("div",{class:"bg-light border rounded-lg text-right position-relative mr-1 mb-1"},Object(o.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(o.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(o.h)("div",{class:"position-relative px-3"},Object(o.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},r+1),Object(o.h)("small",null,Object(o.h)("span",{class:"float-left"},Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt"})," ",c.a.formatDate(e.date,{locale:n,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt"})," ",c.a.formatDate(l,{locale:n,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("span",{class:"float-right"},Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-road"})," ",c.a.format(e.distanceKm,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-mountain"})," ",c.a.format(e.elevation,0)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"m")),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt"})," ",c.a.format(e.speedAvg,1)||"n/a"," ",Object(o.h)("span",{class:"font-weight-lighter"},"km/t")),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-clock"})," ",c.a.secToHms(e.duration)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-moon"})," ",c.a.secToHms(e.rest)||"n/a"),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-dog"})," ",c.a.format(e.avgDogs,0)||"n/a"),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-balance-scale"})," ",c.a.format(e.loadIndex,0)||"n/a"),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{style:"width: 20px;",class:"fas fa-images"})," ",i.length),Object(o.h)("br",null))))))})))))))},r}(o.Component))||n;e.a=h}).call(this,r("hosL").Fragment)}}]);
//# sourceMappingURL=69.chunk.9e6d4.js.map