(window.webpackJsonp=window.webpackJsonp||[]).push([[12,5,11,80],{"+JSK":function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=o("Utv1"),r=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),h={},u=Object(r.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleLikes=function(){o.setState({showLikesList:!o.state.showLikesList})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),o}var a,r;return r=e,(a=o).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,o.prototype.render=function(){var e=this.state.showLikesList,o=this.props.stores,s=o.storyStore,n=o.teamStore,a=o.workoutStore,r=o.raceStore,h=this.props,u=h.likes,b=h.comments,m=h.type,p=void 0===m?"story":m,g=h.onTeamClick,f=void 0===g?function(){}:g;return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},u&&u.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(i.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",u.length),u.slice(0,1).map((function(e){var o,l,h;"story"===p?(o=s.findPublicUser(e.user),l=s.findPublicTeamByMembers(e.user)):"team"===p?(o=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"workout"===p?(o=a.findPublicUser(e.user),l=a.findPublicTeamByMembers(e.user)):"race"===p&&(o=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)),c.a.isArray(l)&&(h=l.find((function(t){return 1===t.public})));d.a.getImage({user:o,team:h,priority:"user"}),d.a.displayNameShort(o);var u=d.a.displayName(o);return Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-lighter"},h?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(t){return f(t,h.uuidv4)}},u)):Object(i.h)(t,null,u)))})),u.length>1&&Object(i.h)(t,null,Object(i.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(i.h)(l.c,{id:"likes-comments.and",fields:{total:u.length-1}},"and ",u.length-1," others."))))),b&&b.length>0&&Object(i.h)("span",{class:"float-right text-muted"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",b.length)),e&&Object(i.h)("div",{class:"mt-3 mb-3"},u&&u.map((function(e){var o,l,h;"story"===p?(o=s.findPublicUser(e.user),l=s.findPublicTeamByMembers(e.user)):"team"===p?(o=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"workout"===p?(o=a.findPublicUser(e.user),l=a.findPublicTeamByMembers(e.user)):"race"===p&&(o=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)),c.a.isArray(l)&&(h=l.find((function(t){return 1===t.public})));var u=d.a.getImage({user:o,team:h,priority:"user"}),b=d.a.displayNameShort(o),m=d.a.displayName(o,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},h?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(t){return f(t,h.uuidv4)},class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:u?'background-image: url("'+u+'"); background-size: cover;':""},!u&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},b))),Object(i.h)("div",{class:"ml-2 "},m," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",h.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?'background-image: url("'+u+'"); background-size: cover;':"")+" opacity: 0.5;"},!u&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},b)),Object(i.h)("div",{class:"ml-2"},m)))}))))},o}(i.Component))||a;e.a=u}).call(this,o("hosL").Fragment)},"/922":function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=o("OhSV"),r=o("go65"),l=o("om2D"),d=(o("ETxl"),o("ZOvn")),h=Object(i.a)(s=function(e){function o(t){var o;return(o=e.call(this,t)||this).beforeImagesUploaded=function(){o.setState({sendButtonEnabled:!1})},o.afterImagesUploaded=function(){o.setState({sendButtonEnabled:!0})},o.commentWorkout=function(){return new Promise((function(t,e){var s,n,a,i,c,r,l,h,u,b,m;return o.state.sendButtonEnabled?(a=void 0===(n=(s=o.props).callback)?function(){}:n,c=void 0===(i=s.inputRefObject)?{}:i,r=o.props.workout,l=o.props.stores.workoutStore,u=(h=o.state).comment,b=h.showAddImage,o.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:r.id,comment:u})).then((function(s){try{return(m=s)&&200===m.status&&(o.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(c[r.id]),b&&o.addImage()})),a({workout:r,response:m})),o.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},o.addImages=function(t){var e,s=o.state.comment;(e=s.images).push.apply(e,t.value),o.setState({comment:s})},o.addImage=function(){var t=o.state.showAddImage;o.setState({showAddImage:!(void 0!==t&&t)})},o.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},o.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},o.inputRef={},o}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this,o=this.props,s=o.inputRef,i=o.col,h=void 0===i?12:i,u=o.offset,b=void 0===u?0:u,m=o.showAvatar,p=void 0===m||m,g=o.extraClass,f=void 0===g?"":g,O=o.workout,v=this.state,j=v.comment,w=v.showAddImage,y=v.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+a.a.ucfirst(x.firstname,!0)+a.a.ucfirst(x.lastname,!0):""+a.a.ucfirst(x.email||"",!0),I=x.image||(x.images?x.images[0]:void 0);return Object(n.h)("div",{class:"col-"+h+" offset-"+b+" "+f},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},p&&Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(I?"background-image: url('"+I.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(r.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:j.body,ref:s})),Object(n.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(y?"primary":"secondary")+" mb-2",disabled:!y,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))),w&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},j.images&&j.images.map((function(t){return Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(n.h)("i",{class:"fas fa-trash"}),"  ",Object(n.h)(c.c,{id:"comments.remove-image"},"Remove")))})))),Object(n.h)(l.a,{object:j,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},o}(n.Component))||s;e.a=h}).call(this,o("hosL").Fragment)},"/DnB":function(t,e,o){"use strict";function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=(o("Utv1"),o("/eY4")),r={},l=Object(c.a)(a=function(t){function e(e){var o;return(o=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},r),o.container=null,o}var o,a;a=t,(o=e).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a;var c=e.prototype;return c.componentDidMount=function(){var t=this.props,e=t.horizontal,o=t.vertical,s=void 0===o?"":o,n={behavior:"smooth"};e&&(n.inline=e),s&&(n.block=s),this.container.scrollIntoView(n)},c.render=function(){var t=this;return Object(i.h)("div",{ref:function(e){return t.container=e}},"Â ")},e}(i.Component))||a;e.a=l},"1OK2":function(t,e,o){"use strict";var s,n=o("hosL"),a=(o("Utv1"),o("/eY4"));Object(a.a)(s=function(t){function e(e){var o;(o=t.call(this,e)||this).touchStart=function(t){t.stopPropagation(),o.setState({startX:t.touches[0].pageX})},o.touchEnd=function(t){t.stopPropagation(),o.setState({startX:void 0,sliding:!1})},o.touchMove=function(t){if(t.stopPropagation(),o.state.totalImages>1){var e=o.state,s=e.startX,n=t.touches[0].pageX;e.sliding||(n>s+50?(o.setState({sliding:!0}),o.prevImage()):n<s-50&&(o.setState({sliding:!0}),o.nextImage()))}};var s=e.images,n=void 0===s?[]:s;return o.state={imageContainer:1,currentImage1:n[0]||{},currentImage2:{},currentIdx:0,totalImages:n.length||0,imageDots:[].concat(Array(n.length||0).fill(1).map((function(t,e){return t+e})))},o}var o,s;s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var a=e.prototype;return a.nextImage=function(){var t,e=this.state,o=1===e.imageContainer?2:1,s=e.currentIdx+1;s>e.totalImages-1&&(s=0),this.setState(((t={})["currentImage"+o]=this.props.images[s],t.currentIdx=s,t.imageContainer=o,t))},a.prevImage=function(){var t,e=this.state,o=e.imageContainer,s=e.currentIdx-1;s<0&&(s=e.totalImages-1),this.setState(((t={})["currentImage"+(1===o?2:1)]=this.props.images[s],t.currentIdx=s,t.imageContainer=1===o?2:1,t))},a.componentWillReceiveProps=function(t){if(t.images!==this.props.images){var e=t.images,o=void 0===e?[]:e;this.setState({imageContainer:1,currentImage1:o.length>0?o[0]:{},currentImage2:{},currentIdx:0,totalImages:o.length||0,imageDots:[].concat(Array(o.length||0).fill(1).map((function(t,e){return t+e})))})}},a.render=function(){var t,e,o=this,s=this.state,a=s.currentImage1,i=s.currentImage2,c=s.imageContainer,r=s.totalImages,l=s.imageDots,d=s.currentIdx,h=this["image"+c],u=1===c?a:i;if(u.dimensions){var b=u.dimensions,m=b.width,p=b.height,g=b.orientation;g>4&&g<9?(t=m,e=p):(t=p,e=m)}var f=u.dimensions?e/t:h&&h.height?h.width/h.height:4/3;return r<=0?"":Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"border rounded position-relative w-100",style:"height: calc(85vw / "+f+"); overflow: hidden; transition: all .3s ease-in-out;",onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},r>1&&Object(n.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(n.h)("small",null,d+1,"/",r)),a&&Object(n.h)("div",{class:"position-absolute",style:(1===c?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:a.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return o.image1=t}})),i&&Object(n.h)("div",{class:"position-absolute",style:(2===c?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:i.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return o.image2=t}}))),l.length>1&&Object(n.h)("div",{class:"w-100 text-center"},l.map((function(t){return Object(n.h)("span",{style:"color: "+(t===d+1?"#ffffff":"#808080")+";"},"â¢")}))))},e}(n.Component))},"3wGD":function(t,e,o){"use strict";var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=o("OhSV"),r=o("go65"),l=(o("ETxl"),o("ZOvn")),d=Object(i.a)(s=function(t){function e(e){var o;return(o=t.call(this,e)||this).commentWorkout=function(){return new Promise((function(t,e){var s,n,a,i,c,r,d,h,u,b,m;return o.state.sendButtonEnabled?(a=void 0===(n=(s=o.props).callback)?function(){}:n,i=s.commentId,r=void 0===(c=s.inputRefObject)?{}:c,d=o.props.workout,h=o.props.stores.workoutStore,b=void 0===(u=o.state.comment)?"":u,o.setState({sendButtonEnabled:!1}),Promise.resolve(h.commentReplyWorkout({id:d.id,commentId:i,comment:b})).then((function(s){try{return(m=s)&&200===m.status&&(o.setState({comment:""},(function(){l.a.resizeTextarea(r[i])})),a({workout:d,response:m,commentId:i})),o.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},o.state={sendButtonEnabled:!0},o.inputRef={},o}var o,s;return s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,e.prototype.render=function(){var t=this.props.inputRef,e=this.state,o=e.comment,s=e.sendButtonEnabled,i=this.props.stores.userStore.user,d=void 0===i?{}:i,h=d.firstname?""+a.a.ucfirst(d.firstname,!0)+a.a.ucfirst(d.lastname,!0):""+a.a.ucfirst(d.email||"",!0),u=d.image||(d.images?d.images[0]:void 0);return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?"background-image: url('"+u.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!u&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(r.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:o,ref:t})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(s?"primary":"secondary")+" mb-2",disabled:!s,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))))},e}(n.Component))||s;e.a=d},"68RK":function(t,e,o){"use strict";var s=o("ivZ3"),n=o("Utv1"),a=o("ZOvn"),i={adit:new s.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new s.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new s.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new s.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new s.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new s.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new s.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new s.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new s.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new s.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new s.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new s.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new s.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new s.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new s.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new s.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new s.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new s.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new s.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new s.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new s.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new s.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new s.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new s.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new s.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new s.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new s.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new s.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new s.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new s.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new s.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new s.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new s.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new s.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new s.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new s.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new s.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new s.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new s.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new s.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new s.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new s.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new s.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new s.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new s.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new s.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new s.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new s.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new s.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new s.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new s.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new s.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new s.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new s.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new s.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new s.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new s.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new s.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new s.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new s.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new s.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new s.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new s.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new s.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new s.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new s.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new s.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new s.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new s.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new s.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new s.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new s.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new s.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new s.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new s.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new s.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new s.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new s.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new s.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new s.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new s.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new s.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new s.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new s.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new s.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new s.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new s.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new s.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new s.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new s.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new s.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new s.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new s.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new s.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new s.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new s.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new s.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new s.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new s.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new s.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new s.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new s.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new s.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new s.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new s.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new s.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new s.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new s.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new s.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new s.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new s.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new s.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new s.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new s.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new s.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new s.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new s.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new s.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new s.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new s.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new s.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new s.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new s.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new s.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new s.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new s.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new s.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new s.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new s.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new s.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new s.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new s.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new s.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new s.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new s.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new s.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new s.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new s.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new s.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new s.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new s.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new s.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new s.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new s.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new s.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new s.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new s.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new s.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new s.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new s.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new s.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new s.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new s.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new s.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new s.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new s.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new s.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new s.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new s.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new s.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new s.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new s.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new s.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new s.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new s.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new s.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new s.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new s.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new s.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new s.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new s.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new s.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=function(){function t(){}return t.get=function(t){return i[t]},t.list=function(){return Object.keys(i)},t.getDiv=function(t){var e=t.title,o=t.body,a=t.color,i=t.textColor,c=void 0===i?"#333333":i,r=t.borderColor,l=void 0===r?0:r,d=t.iconWidth,h=void 0===d?150:d,u=t.iconHeight,b=void 0===u?70:u,m="img-"+n.a.randomPassword();n.a.hsl2Rgb(a,100,60),n.a.hsl2Rgb(100-l,100,50);return new s.DivIcon({iconSize:[h,b+30],iconAnchor:[15,b+30],className:"my-div-icon",html:"<div id='"+m+"' style='width: "+h+"px; height: "+(b+30)+"px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#"+m+" .map-marker:after {\n\t\t\t\t\t\tborder-top-color: "+a+";\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: "+c+"; background-color: "+a+"; height: "+b+"px;'>\n\t\t\t\t\t<nobr><strong>"+e+"</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>"+o+"</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>"})},t.getRaceMarker=function(t){var e=t.bib,o=t.rank,i=t.flag,c=void 0===i?"":i,r=t.image,l=t.title,d=t.color,h=t.borderColor,u=void 0===h?0:h,b=t.iconWidth,m=void 0===b?180:b,p=t.iconHeight,g=void 0===p?15:p,f=t.iconAnchorX,O=void 0===f?5:f,v=t.iconAnchorY,j=void 0===v?5:v,w=t.imageCirlceRadius,y=void 0===w?10:w,k=t.lineHeight,x=void 0===k?"0.9em":k,S=t.fontSize,I=void 0===S?"0.9em":S,A=t.paddingTop,z=void 0===A?"3px":A,T=t.paddingBottom,D=void 0===T?"3px":T,C=t.mapChecked,P=t.titlePrefix,U=void 0===P?"":P,_="img-"+n.a.randomPassword(),L=(n.a.hsl2Rgb(d,100,60),n.a.hsl2Rgb(100-u,100,50),a.a.getRankingColor(o)),R=/dark/i.test(C),M=r?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+r+'"); background-size: cover; border: 1px '+L+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return M=e||o?"\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: "+(L||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||o)+"\n\t\t\t</div>\n\t\t":M,new s.DivIcon({iconSize:[m,g],iconAnchor:[O,j],className:"my-div-icon",html:O>100?"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='"+_+"' style='width: "+m+"px; height: "+g+"px; line-height: "+x+"; font-size: "+I+";'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(R?"text-white":"text-dark")+" pl-3 pr-1 rounded-pill-left rounded-none "+(R?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+z+"; padding-bottom: "+D+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+U+" <strong>"+l+"</strong> "+c+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pr-2 pl-1 rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(L||"")+"; padding-top: "+z+"; padding-bottom: "+D+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+M+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+L+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t":"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+_+"' style='width: "+m+"px; height: "+g+"px; line-height: "+x+"; font-size: "+I+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+L+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pl-2 pr-1 rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(L||"")+"; padding-top: "+z+"; padding-bottom: "+D+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+M+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(R?"text-white":"text-dark")+" pr-3 pl-1 rounded-pill-right rounded-none "+(R?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+z+"; padding-bottom: "+D+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+c+" <strong>"+l+"</strong> "+U+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getDistanceMarker=function(t){var e=t.title,o=void 0===e?"":e,a=t.body,i=void 0===a?"":a,c="img-"+n.a.randomPassword();return new s.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:"<div id='"+c+"' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>"+o+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+i+"</span>\n\t\t\t</div>"})},t.getMarker=function(t){var e=t.bib,o=t.rank,i=t.flag,c=void 0===i?"":i,r=t.image,l=t.title,d=t.color,h=void 0===d?"#a0a0a0":d,u=t.borderColor,b=void 0===u?0:u,m=t.iconWidth,p=void 0===m?250:m,g=t.iconHeight,f=void 0===g?20:g,O=t.iconAnchorX,v=void 0===O?7:O,j=t.iconAnchorY,w=void 0===j?7:j,y=t.imageCirlceRadius,k=void 0===y?10:y,x=t.lineHeight,S=void 0===x?"1.0em":x,I=t.fontSize,A=void 0===I?"1.0em":I,z=t.paddingTop,T=void 0===z?"3px":z,D=t.paddingBottom,C=void 0===D?"3px":D,P=t.mapChecked,U="img-"+n.a.randomPassword(),_=(n.a.hsl2Rgb(h,100,60),n.a.hsl2Rgb(100-b,100,50),a.a.getRankingColor(e||o)||"#808080"),L=/dark/i.test(P),R=r?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+r+'"); background-size: cover; border: 1px '+_+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return R=e||o?"\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center "+(_?"":"bg-primary")+"' style='background-color: "+(_||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||o)+"\n\t\t\t</div>\n\t\t":R,new s.DivIcon({iconSize:[p,f],iconAnchor:[v,w],className:"my-div-icon",html:"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+U+"' style='width: "+p+"px; height: "+f+"px; line-height: "+S+"; font-size: "+A+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+k+"px; height: "+k+"px; background-color: "+_+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(L?"text-white":"text-dark")+" px-3 pl-1 rounded-pill-both rounded-none bg-info overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+T+"; padding-bottom: "+C+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>"+c+" <strong>"+l+"</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getSmallMarker=function(t){var e=t.title,o=void 0===e?"":e,a=t.body,i=void 0===a?"":a,c="img-"+n.a.randomPassword();return new s.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:"<div id='"+c+"' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>"+o+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+i+"</span>\n\t\t\t</div>"})},t}()},"8Lgr":function(t,e,o){"use strict";(function(t){function s(t){return i.a.format(t,t<5?2:1)}var n,a=o("hosL"),i=o("Utv1"),c=o("/eY4"),r=(o("OhSV"),o("ZOvn"),Object(c.a)(n=function(e){function o(){return e.apply(this,arguments)||this}var n,i;return i=e,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,o.prototype.render=function(){var e=this.props,o=e.value,n=void 0===o?0:o,i=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,s(function(t){return.621371*t}(n))," ",i?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(t,null,"mi"))):Object(a.h)(t,null,Object(a.h)("nobr",null,s(n)," ",i?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(t,null,"km")))},o}(a.Component))||n);e.a=r}).call(this,o("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},DTs7:function(t,e,o){"use strict";o.r(e),function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function c(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,d,h,u=o("hosL"),b=o("Utv1"),m=o("/eY4"),p=o("Y3FI"),g=o("OhSV"),f=o("cneo"),O=o("fh8t"),v=o.n(O),j=o("X9Km"),w=o("ZOvn"),y=o("HqZR"),k=(o("1OK2"),o("s4FZ")),x=o("KDoM"),S=o("wLBv"),I=o("YdX6"),A=o("GcMA"),z=o("sqi2"),T=o("/922"),D=o("wanP"),C=o("epqT"),P=o("om2D"),U=o("q/oJ"),_=o("gWxU"),L=o("Nanz"),R=o("+JSK"),M=o("vY+r"),F=o("nHdA"),E=o("irB3"),B=o("UwwE"),W=o("8Lgr"),N=o("QkTp"),H=o("ukv5"),G=o("/DnB"),V=w.a.marginTop(!1),K=w.a.marginTopBack(!1),Y=w.a.marginBottom(),q=w.a.getMaxLoadIndex(),Z={newDog:{},submenu:"totals",showAddComment:!1,mapHeight:300,mapMaxHeight:600,reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1},X=(Object(m.a)(l=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).onInputDuration=function(t){var o=e.props,s=o.field,n=o.updateField,a=o.workout,i=parseInt(t.target.value,10),c=t.target.name,r=Math.floor(a[s]/3600)||0,l=Math.floor(a[s]/3600)||0;c.match(/-hours/)&&(r=i),c.match(/-minutes/)&&(l=i),n({id:a.id,field:s,value:3600*r+60*l})},e.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},e.removeImage=function(t){return new Promise((function(o){return e.props.stores.workoutStore.removeImage({id:e.props.workout.id,name:t.target.parentElement.dataset.name||t.target.dataset.name}),o()}))},e.removeMainImage=function(){var t=e.props;(0,t.updateField)({id:t.workout.id,field:t.field,value:{}})},e.setDateToNow=function(){var t=e.props,o=t.field,s=t.updateField,n=t.workout,a=b.a.isoDate(void 0,!1,!1,!0);s({id:n.id,field:o,value:a})},e.setTimeToNow=function(){var t=e.props,o=t.field,s=t.updateField,n=t.workout,a=b.a.isoTime();s({id:n.id,field:o,value:a})},e.setValue=function(t){var o=t.target.parentElement.dataset.value||t.target.dataset.value;if(o){var s=e.props;(0,s.updateField)({id:s.workout.id,field:s.field,value:o})}},e.setRightValue=function(){var t=e.props;(0,t.updateField)({id:t.workout.id,field:t.field,value:t.rightValueReal})},e}return i(e,t),e.prototype.render=function(){var t,e,o=this,s=this.props,n=s.saved,a=s.workout,i=s.type,c=s.datalist,r=void 0===c?[]:c,l=s.min,d=s.max,h=s.step,m=s.elementtype,p=s.field,O=s.title,v=s.icon,j=s.help,y=s.onInput,k=s.updateField,x=s.rightValue,S=Object(f.i)(a[p]),I=d;if("date"===i&&(S&&(S=b.a.isoDate(a[p],!1,!1,!0)),"today"===d&&(I=b.a.isoDate(void 0,!1,!1,!0))),"duration"!==p&&"rest"!==p||(t=b.a.secToHms(S,!0)),"weather"===p&&b.a.checkNested(a,"yr","0","instant","details")){var A=Object(f.i)(a.yr[0].instant.details);b.a.isoDate(a.yr[0].date,!1,!1,!0)===b.a.isoDate(a.date,!1,!1,!0)&&(e=t="Yr.no: ð¡ï¸ "+A.air_temperature+"Â°C, ð¨ "+A.wind_speed+"m/s ð§­ "+w.a.windDirection(A.wind_from_direction)+", âï¸ "+A.cloud_area_fraction+"%, "+A.air_pressure_at_sea_level+"mb, ð¦ "+A.relative_humidity+"%")}if("temperature"===p&&b.a.checkNested(a,"yr","0","instant","details")){var z=Object(f.i)(a.yr[0].instant.details);b.a.isoDate(a.yr[0].date,!1,!1,!0)===b.a.isoDate(a.date,!1,!1,!0)&&(t="Yr.no: ð¡ï¸ "+z.air_temperature+"Â°C",e=b.a.asNumber(z.air_temperature))}if("file"===i)return Object(u.h)("div",{class:"form-group "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)(Files,{saved:n,object:a,field:p,updateField:k}),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j));if("image"===i)return Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("div",{class:"container-fluid"},Object(u.h)("div",{class:"row"},a.image&&a.image.s3SmallLink&&Object(u.h)("div",{class:"col-3 p-1"},Object(u.h)("img",{loading:"lazy",src:a.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(u.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":a.image.name},Object(u.h)("i",{class:"fas fa-trash"})," Del"),Object(u.h)("span",{class:"badge badge-success"},"Main")),a.images&&a.images.map((function(t){return Object(u.h)("div",{class:"col-3 p-1"},Object(u.h)("img",{loading:"lazy",src:t.s3SmallLink,class:"img-fluid",onError:o.handleImageErrored}),Object(u.h)("button",{class:"btn btn-sm btn-link",onClick:o.removeImage,"data-name":t.name},Object(u.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(u.h)(P.a,{saved:n,object:a,field:p,updateField:k,autoOpen:!1}),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j));if("datalist"===i)return Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("input",{list:"list-"+p,class:"form-control "+(n[p+"."+a.id]?"is-valid":""),id:p+"Input","aria-describedby":p+"Help",value:S,"data-id":a.id,"data-field":p,onInput:y}),Object(u.h)("datalist",{id:"list-"+p},r.map((function(t){return Object(u.h)("option",{value:t[0]},t[1])}))),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j));if("duration"===i){var T=Math.floor(a[p]/3600),D=Math.floor(a[p]%3600/60);return Object(u.h)("div",{class:"form-group mb-5 pb-1 border-bottom"},Object(u.h)("span",{class:"float-right"},Object(u.h)("strong",{onClick:this.setValue,"data-value":e},t)),Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("div",{class:"form-row"},Object(u.h)("div",{class:"form-group col-3 offset-3"},Object(u.h)("input",{class:"form-control text-right",id:p+"Input","aria-describedby":p+"Help",onInput:this.onInputDuration,name:p+"-hours",value:T,type:"number",min:"0",max:"24"})),Object(u.h)("div",{class:"form-group col-3"},Object(u.h)("input",{class:"form-control",id:p+"Input","aria-describedby":p+"Help",onInput:this.onInputDuration,name:p+"-minutes",value:D,type:"number",min:"0",max:"59"}))),Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j))}return"toggle"===i?Object(u.h)("div",{class:"form-group "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("div",{class:"custom-control custom-switch"},Object(u.h)("input",{type:"checkbox",class:"custom-control-input",id:p+"Input",value:1===S?0:1,"data-id":a.id,"data-field":p,onInput:y,checked:1==S?"checked":""}),Object(u.h)("label",{class:"custom-control-label",for:p+"Input"})),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j)):Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(n[p+"."+a.id]?"is-valid":"")},"date"===i&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(u.h)("i",{class:"far fa-check-circle"})),"time"===i&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"NÃ¥ ",Object(u.h)("i",{class:"far fa-check-circle"})),x&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},x),Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),t&&Object(u.h)("span",{class:"float-right"},Object(u.h)("strong",{onClick:this.setValue,"data-value":e},t)),Object(u.h)("input",{type:i,class:"form-control "+(n[p+"."+a.id]?"is-valid":""),id:p+"Input","aria-describedby":p+"Help",min:l,max:I,step:h,value:S,"data-id":a.id,"data-field":p,"data-type":i,"data-elementtype":m,onInput:y}),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j))},e}(u.Component)),Object(m.a)(d=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t,e=this.props.stores.workoutStore.workout,o=void 0===e?{}:e,s=w.a.getFirstPoint(o),n=w.a.getMidPoint(o,.5),a=w.a.getMidPoint(o,1),i=o.tracks,c=void 0===i?[]:i,r=c[0],l=c[c.length-1];if(r&&l){var d=new Date(r.timestamp).getTime()/1e3;t=new Date(l.timestamp).getTime()/1e3-d}return Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"alert alert-warning"},Object(u.h)("h5",null,"Admin info"),Object(u.h)("xmp",null,"firstPoint: ",s.join(", "),Object(u.h)("br",null),"midPoint: ",n.join(", "),Object(u.h)("br",null),"endPoint: ",a.join(", "),Object(u.h)("br",null),Object(u.h)("br",null),"duration: ",b.a.secToHms(o.duration),Object(u.h)("br",null),Object(u.h)("br",null),Object(u.h)("strong",null,"Tracking info"),Object(u.h)("br",null),"duration: ",b.a.secToHms(t),Object(u.h)("br",null),Object(u.h)("br",null)),Object(u.h)("div",{class:"d-flex align-content-start flex-wrap"},c&&c.map((function(t){return Object(u.h)("span",{class:"ml-1"},t.coords.accuracy)}))),Object(u.h)("xmp",null,Object(u.h)("br",null),"firstTrackPoint:",Object(u.h)("br",null),JSON.stringify(r,null,4),Object(u.h)("br",null),Object(u.h)("br",null),"lastTrackPoint:",Object(u.h)("br",null),JSON.stringify(l,null,4),Object(u.h)("br",null),Object(u.h)("br",null))))},e}(u.Component))||d),J=Object(m.a)(h=function(e){function o(t){var o;return(o=e.call(this,t)||this).loadWorkout=function(t){return new Promise((function(e,s){var n,a;return void 0===t&&(t=o.props),n=o.props.stores.workoutStore,a=["publicTeams","publicUsers"],o.state.showAdminInfo&&a.push("geocluster"),Promise.resolve(n.load(t.workout,!1,{addData:a})).then((function(){try{return n.workout,n.plotGeocluster(),e()}catch(t){return s(t)}}),s)}))},o.updateField=function(t){var e=t.target.dataset,s=e.field,n=e.type,a=e.elementtype,i=e.isNew,c=t.target.value;o.updateFieldValue({id:parseInt(e.id,10),field:s,value:c,type:n,elementtype:a,isNew:i})},o.updateFieldValue=function(t){return new Promise((function(e,s){function n(){function t(){return e()}return"gpx"===i&&O&&b.a.checkNested(O,"gpx","gpxInfo")?(j=(v=O.gpx.gpxInfo).totalDistance,w=v.maxSpeed,y=v.avgSpeed,k=v.ascent,x=v.decent,I=v.rest,A=v.startLatlng,z=v.endLatlng,T={},(S=v.duration)&&(p.updateField(a,"duration",S),T.duration=S),I&&(p.updateField(a,"rest",I),T.rest=I),j&&(p.updateField(a,"distanceKm",b.a.roundTo(j,10)),T.distanceKm=b.a.roundTo(j,10)),w&&(p.updateField(a,"speedmax",b.a.roundTo(w,10)),T.speedmax=b.a.roundTo(w,10)),y&&(p.updateField(a,"speedAvg",b.a.roundTo(y,10)),T.speedAvg=b.a.roundTo(y,10)),k&&(p.updateField(a,"elevation",k),T.elevation=k),x&&(p.updateField(a,"decent",x),T.decent=x),A&&(p.updateField(a,"startLatlng",A),T.startLatlng=A),z&&(p.updateField(a,"endLatlng",z),T.endLatlng=z),Promise.resolve(p.save(T,O.id)).then(function(){try{return t.call(this)}catch(t){return s(t)}}.bind(this),s)):t.call(this)}var a,i,c,r,l,d,h,u,m,p,g,f,O,v,j,w,y,k,x,S,I,A,z,T;if(a=t.id,r=t.datatype,l=t.elementtype,t.type,h=void 0!==(d=t.isNew)&&d,m=void 0!==(u=t.skipTimer)&&u,g=c=t.value,f=c,O=(p=o.props.stores.workoutStore).workout,"images"===(i=t.field)&&Array.isArray(O.images)&&Array.isArray(c)&&(f=[].concat(O.images,c)),"array"!==r||Array.isArray(c)||(g="number"===l?c.split(",").map((function(t){return parseFloat(t)||t})):c.split(",")),h)return p.updateObjectKeyValue("newWorkout",i,c),n.call(this);{return p.updateField(a,i,f),m?Promise.resolve(o.doUpdateField(a,i,g)).then(function(){try{return D.call(this)}catch(t){return s(t)}}.bind(this),s):(clearTimeout(o.updateTimer[i]),o.updateTimer[i]=setTimeout((function(){return new Promise((function(t){return o.doUpdateField(a,i,g),t()}))}),500),D.call(this));function D(){return n.call(this)}}}))},o.showModal=function(t){t.stopPropagation(),t.preventDefault(),o.setState({displayModal:!0,currentImage:t.target.dataset.image,currentImageXXL:t.target.dataset.imagexxl,thumb:t.target.dataset.thumb,name:t.target.dataset.name,title:t.target.dataset.title,date:t.target.dataset.date})},o.closeModal=function(){o.setState({displayModal:!1})},o.deleteWorkout=function(){return new Promise((function(t,e){var s;return s=o.props.stores.workoutStore,Promise.resolve(s.saveField(s.workout.id,"offline",1)).then((function(){try{return j.a.publish(j.b.STATUS_MESSAGE,{message:"Workout was deleted",type:"success",icon:"fas fa-check"}),Object(p.route)("/workouts/list"),t()}catch(t){return e(t)}}),e)}))},o.duplicateWorkout=function(){return new Promise((function(t,e){var s,n;return s=o.props.stores.workoutStore,Promise.resolve(s.duplicateWorkout({id:s.workout.id})).then((function(o){try{return(n=o)&&n.id&&(j.a.publish(j.b.STATUS_MESSAGE,{message:"Workout was duplicated successfully",type:"success",icon:"fas fa-check"}),Object(p.route)("/workouts/"+n.id)),t()}catch(t){return e(t)}}),e)}))},o.makeTrack=function(){return new Promise((function(t,e){var s,n;return s=o.props.stores.workoutStore,Promise.resolve(s.makeTrackFromWorkout({id:s.workout.id})).then((function(o){try{return(n=o)&&n.id&&(j.a.publish(j.b.STATUS_MESSAGE,{message:"Track was created successfully",type:"success",icon:"fas fa-check"}),Object(p.route)("/tracks/edit/"+n.id)),t()}catch(t){return e(t)}}),e)}))},o.likeWorkout=function(){return new Promise((function(t,e){var s;return s=o.props.stores.workoutStore,Promise.resolve(s.likeWorkout({id:s.workout.id})).then((function(o){try{return o,t()}catch(t){return e(t)}}),e)}))},o.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;o.setState({showAddComment:!o.state.showAddComment},(function(){o.inputRef[e]&&o.inputRef[e].focus()}))},o.toggleAdminInfo=function(){o.props.stores.userStore.isAdmin&&o.setState({showAdminInfo:!o.state.showAdminInfo},(function(){o.loadWorkout()}))},o.chooseSubmenu=function(t){o.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},o.showStateDetail=function(t){var e=t.target.closest("div").dataset;o.setState({stateDetail:n({},e)})},o.reimportStravaWorkout=function(){return new Promise((function(t,e){var s,n;return n=(s=o.props.stores.workoutStore).workout,Promise.resolve(s.reimportStravaWorkout(n.stravaId,n.id)).then((function(){try{return o.loadWorkout(),t()}catch(t){return e(t)}}),e)}))},o.reimportGarminWorkout=function(){return new Promise((function(t,e){var s,n;return n=(s=o.props.stores.workoutStore).workout,Promise.resolve(s.reimportGarminWorkout(n.garminId,n.id)).then((function(){try{return o.loadWorkout(),t()}catch(t){return e(t)}}),e)}))},o.reCalculateGpxData=function(){return new Promise((function(t,e){var s,n;return o.state.recalculated?t(!0):(n=(s=o.props.stores.workoutStore).workout,o.setState({recalculated:!0}),Promise.resolve(s.reLoad(n.id)).then((function(){try{return t()}catch(t){return e(t)}}),e))}))},o.toggleMapSize=function(){o.setState(o.state.mapHeight===Z.mapHeight?{mapHeight:Z.mapMaxHeight}:{mapHeight:Z.mapHeight})},o.finishWorkout=function(){return new Promise((function(t,e){var s;return s=o.props.stores.workoutStore,Promise.resolve(s.cordovaSaveTracking()).then((function(){try{return Promise.resolve(s.save({isInProgress:0},s.workout.id)).then((function(){try{return o.loadWorkout(),t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},o.sendGpxFile=function(){return new Promise((function(t,e){var s;return s=o.props.stores.workoutStore,Promise.resolve(s.sendGpxFile(s.workout.id)).then((function(){try{return o.setState({gpxFileSent:!0}),t()}catch(t){return e(t)}}),e)}))},o.shareLink=function(t){var e=t.target.closest("button").dataset;o.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},o.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),o.setState({showTeam:e}),!1},o.hideTeam=function(){o.setState({showTeam:null})},o.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},o.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),o.setState({showDog:e,dogs:s}),!1},o.hideDog=function(){o.setState({showDog:null})},o.back=function(){o.props.stores.history.goBack()},o.state=n(n({},Z),{},{submenu:t.submenu||"totals"}),o.updateTimer={},o.inputRef={},o}i(o,e);var s=o.prototype;return s.tickReloadTimeer=function(){var t=this,e=this.state,o=e.reloadLastEpoch;if(e.reloadIsActive){var s=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(s-o)}),setTimeout((function(){return t.tickReloadTimeer()}),1e3)}return!1},s.doUpdateField=function(t,e,o){return new Promise(function(s,n){function a(){return s()}return t&&e?Promise.resolve(this.props.stores.workoutStore.saveField(t,e,o)).then(function(){try{return a.call(this)}catch(t){return n(t)}}.bind(this),n):a.call(this)}.bind(this))},s.componentDidMount=function(){this.loadWorkout()},s.componentWillReceiveProps=function(t){t.workout!==this.props.workout&&this.loadWorkout(t)},s.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload)},s.render=function(){var e,o=this,s=this.props.stores,a=s.workoutStore,i=s.userStore,l=s.appState,d=l.mapColorMode,h=l.mapRangeMin,m=l.mapRangeMax,p=l.isCordova,O=l.hasShareApi,j=l.viewmode,P=i.user,Z=i.isAdmin,J=this.state,Q=J.submenu,$=J.showAddComment,tt=J.showAdminInfo,et=J.mapHeight,ot=J.reloadLastEpoch,st=J.gpxFileSent,nt=J.showTeam,at=J.showDog,it=J.recalculated,ct=(Math.floor(b.a.normalizeBetween(J.reloadInSec,0,60,0,100)),a.workout),rt=a.waypoints2,lt=void 0===rt?[]:rt,dt=a.waypoints3,ht=void 0===dt?[]:dt,ut=ct.likes,bt=void 0===ut?[]:ut,mt=ct.comments,pt=void 0===mt?[]:mt,gt=P.language,ft=void 0===gt?"en":gt,Ot=i.findTeam(ct.team,!0)||{},vt=i.findTeamAmbition({ambition:Ot.ambitions,language:ft}),jt=i.findTeamType({type:Ot.type,language:ft}),wt=i.findWorkoutType({type:ct.type,language:ft}),yt=i.findWorkoutType({type:ct.type,field:"icon"}),kt=i.findTrack(ct.track),xt=i.findEquipment({equipment:ct.equipment,language:ft}),St=i.findEquipment({equipment:ct.equipment,field:"icon"}),It=i.findDogs(ct.dogs),At=i.findMushers(ct.mushers),zt=i.findIntensity({code:ct.intensity,language:ft})||{},Tt=a.getWorkoutNavigation(ct.id)||{},Dt=ct.likes&&ct.likes.findIndex((function(t){return t.user===P.id}))>-1,Ct=ct.gpxInfo,Pt=void 0===Ct?{}:Ct,Ut=ct.gpx,_t=void 0===Ut?{gpxInfo:{}}:Ut,Lt=Pt.weightedTotalKcal,Rt=void 0===Lt?0:Lt,Mt=Pt.loadIndex,Ft=void 0===Mt?0:Mt,Et=Pt.totalKcalRelated/100,Bt=ct.teams?ct.teams.map((function(t){return i.findTeam(t)})):[];ct&&ct.gpxInfo&&ct.gpxInfo.battegryLevelStart&&(e=100*(ct.gpxInfo.battegryLevelStart-ct.gpxInfo.battegryLevelEnd));var Wt=[];if(ct.mapImage&&Wt.push(n(n({},ct.mapImage),{},{type:"map"})),ct.images){var Nt=Object(f.i)(ct.images);Wt.push.apply(Wt,Nt)}var Ht,Gt=!1,Vt=w.a.getViews(ct.statistics),Kt=[];if(ct.mushers&&ct.mushers.length>1&&ct.mushers.slice(1,10).map((function(t){var e=i.findMusher(t);e&&e.images&&e.images[0]&&Kt.push(e.images[0])})),ct.mushers&&ct.mushers[0]){var Yt=i.findMusher(ct.mushers[0]);Yt&&Yt.images&&Yt.images[0]&&(Ht=Yt.images[0])}else Ot.image&&Ot.image.s3SmallLink?Ht=Ot.image:Ot.images&&Ot.images[0]&&Ot.images[0].s3SmallLink?Ht=Ot.images[0]:ct.image&&ct.image.s3SmallLink&&(Ht=ct.image);return Object(u.h)(t,null,nt&&Object(u.h)(U.a,null,Object(u.h)(_.default,{stores:this.props.stores,teamid:nt,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),at&&Object(u.h)(U.a,null,Object(u.h)(L.default,{stores:this.props.stores,dogid:at,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:It})),Object(u.h)("div",{class:"container-fluid",style:"margin-bottom: "+Y+"; margin-top: "+V+";"},Object(u.h)("div",{class:"d-flex justify-content-between mb-2"},Object(u.h)("div",null,Object(u.h)("button",{class:"btn btn-link float-left pl-0 fixed-top text-primary",style:"top: "+K+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(u.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(u.h)("div",null,Object(u.h)("h5",{class:"text-muted"},"Â ")),Object(u.h)("div",null,1===ct.isLocked?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"}),Z&&Object(u.h)(t,null,Object(u.h)("a",{class:"btn btn-primary float-right",href:"/workouts/edit/"+ct.id},Object(u.h)("i",{class:"fas fa-edit"})," ",Object(u.h)(g.c,{id:"workouts.admin-edit"},"Admin edit")))):Object(u.h)(t,null,Object(u.h)("a",{class:"btn btn btn-primary float-right mt-1",href:"/workouts/edit/"+ct.id},Object(u.h)("i",{class:"fas fa-edit"})," ",Object(u.h)(g.c,{id:"workouts.edit"},"Endre"))))),Object(u.h)("div",{class:"d-flex justify-content-between mb-2"},Object(u.h)("div",{class:"text-muted"},Tt&&Tt.previous&&Object(u.h)("a",{href:"/workouts/"+Tt.previous.id,class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(u.h)("div",{class:"text-muted"},Tt.total>0&&Object(u.h)(t,null,Tt.idx+1," / ",Tt.total)),Object(u.h)("div",{class:"text-muted"},Tt&&Tt.next&&Object(u.h)("a",{href:"/workouts/"+Tt.next.id,class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-circle-right"})))),Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"d-flex mb-2"},Object(u.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+c(ct),style:(Ht?'background-image: url("'+Ht.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!Ht&&Object(u.h)("i",{class:r(ct)+" text-"+(zt.class?zt.class:"muted")+" mt-3",style:"font-size: 40px;"}),Kt&&Kt.map((function(e,o){return Object(u.h)(t,null,Object(u.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:'\n                                            background-image: url("'+e.s3SmallLink+'");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: '+(10*o-5)+"px;\n                                        "}))}))),Object(u.h)("div",{class:"flex-grow-1 pl-3"},Object(u.h)("h5",{class:"my-0"},ct.name,ct.isInProgress>0&&Object(u.h)(t,null,Object(u.h)("span",{class:"position-relative ml-3"},1===ct.isInProgress&&Object(u.h)("div",{class:"spinner-grow text-success position-absolute",style:"top: -5px; left: -6px;",role:"status"})),Object(u.h)("i",{class:"fas fa-stop-circle float-right text-warning",style:"font-size: 1.5em; cursor: pointer; pointer-events: inherit;",onClick:this.finishWorkout})),p&&tt&&Z&&Object(u.h)(t,null,Object(u.h)("a",{href:"/workouts/tracking/"+ct.id,class:"ml-4"},Object(u.h)("i",{class:"far fa-play-circle"}),Object(u.h)(g.c,{id:"footer.workouts-continue"},"Continue")))),ct.garminId&&Object(u.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),ct.stravaId&&Object(u.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),ct.team&&i.findTeam(ct.team),Bt&&Bt.length>0&&Object(u.h)("small",{class:"font-weight-lighter"},", ",Bt.map((function(e,o){return Object(u.h)(t,null,o>0?", ":"",e)}))),Object(u.h)("br",null),Object(u.h)("small",{class:"text-muted"},b.a.isoDate(ct.date,!1,!1,!1)),zt.class&&Object(u.h)("span",{class:"badge badge-"+zt.class+" ml-2"},zt.name),ct.sledWeight>0&&Object(u.h)("small",{class:"ml-3 text-muted"},Object(u.h)("i",{class:"fas fa-sleigh"})," ",Object(u.h)(g.c,{id:"workouts.sledWeight"},"Sledevekt"),": ",Object(u.h)(B.a,{stores:this.props.stores,value:ct.sledWeight})),e>0&&Object(u.h)("small",{class:"text-muted ml-3"},Object(u.h)("i",{class:"fas fa-battery-three-quarters"})," ",b.a.format(e,1),"% used")))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},ct.comment&&Object(u.h)("div",{class:"mb-3"},Object(u.h)(v.a,{markdown:w.a.replaceImages(ct.comment,ct.images,ft),markdownOpts:w.a.getMarkdownOptions()}))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"w-100 overflow-hidden"},Object(u.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},ct.isInProgress>0&&Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("current"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"current",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(g.c,{id:"workouts.current"},"Akkurat nÃ¥")),"current"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block "+(ct.isInProgress>0?"":"rounded-pill-left")+" rounded-none "+("totals"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(g.c,{id:"workouts.totals"},"Totaler")),"totals"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("map"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(g.c,{id:"workouts.map"},"Map")),"map"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("analysis"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"analysis",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-chart-area"})," ",Object(u.h)(g.c,{id:"workouts.analysis"},"Analyser")),"analysis"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("images"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-images"})," ",Object(u.h)(g.c,{id:"workouts.images"},"Bilder")),"images"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("dogs"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-dog"})," ",Object(u.h)(g.c,{id:"workouts.dogs"},"Hunder")),"dogs"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("handlers"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"handlers",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)(g.c,{id:"workouts.handlers"},"Handlere")),"handlers"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("gpx"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gpx",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)(g.c,{id:"workouts.gpx"},"GPX")),"gpx"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("advanced"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-cogs"})," ",Object(u.h)(g.c,{id:"workouts.advanced"},"advanced")),"advanced"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Z&&Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Show admin details"))),"map"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},ct&&ct.gpx&&Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-sm btn-link float-right",onClick:this.toggleMapSize},"Toggle map size"),Object(u.h)("div",{class:"clearfix"},Object(u.h)("div",{class:"",style:"height: "+(et+40)+"px;"},Object(u.h)(y.a,{stores:this.props.stores,mapId:ct.id+"-"+et,geojson:ct.gpx.geoJSON,skipGeojson:!1,gpxInfo:ct.gpxInfo,height:et,mapColorMode:d,mapRangeMin:h,mapRangeMax:m,key:"workout-map-"+ot,waypoints2:lt,waypoints3:ht,fullscreenMap:!0})))),kt&&kt.gpx&&!(ct&&ct.gpx)&&Object(u.h)(t,null,Object(u.h)("div",{class:"clearfix",style:"height: "+et+"px;"},Object(u.h)(y.a,{stores:this.props.stores,mapId:kt.id+"-"+et,geojson:kt.gpx.geoJSON,skipGeojson:!1,gpxInfo:kt.gpx.gpxInfo,height:et,mapColorMode:d,mapRangeMin:h,mapRangeMax:m,key:"workout-map-"+ot,fullscreenMap:!0}))),Object(u.h)("div",{class:"text-center"},Object(u.h)("small",{class:"text-muted"},ct.weather,!ct.weather&&Object(u.h)(t,null,b.a.format(ct.temperature,1),"Â°C"))))),"current"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h3",null,b.a.secToHms(ct.duration))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.rest"},"Hvile")),Object(u.h)("h3",{class:"text-muted"},b.a.secToHms(ct.rest)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(g.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h3",null,Object(u.h)(F.a,{stores:this.props.stores,value:ct.speedAvg}))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(g.c,{id:"workouts.currentspeed"},"Fart")),Object(u.h)("h3",null,Object(u.h)(F.a,{stores:this.props.stores,value:ct.currentSpeed})))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(g.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h3",null,Object(u.h)(W.a,{stores:this.props.stores,value:ct.distanceKm})),Pt.calculatedTotalDistance>0&&Math.abs(ct.distanceKm-Pt.calculatedTotalDistance)>1&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(Pt.calculatedTotalDistance,1)," km ",Object(u.h)("br",null)),Z&&tt&&Pt.calculatedTotalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",b.a.format(Pt.calculatedTotalDistance,2)," km ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.totalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",b.a.format(_t.gpxInfo.totalDistance,2)," km ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(u.h)(g.c,{id:"workouts.ascend"},"Stigning")),Object(u.h)("h3",null,Object(u.h)(E.a,{stores:this.props.stores,value:ct.elevation})),Pt.calculatedAscend>0&&Math.abs(ct.elevation-Pt.calculatedAscend)>50&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(Pt.calculatedAscend,0)," m ",Object(u.h)("br",null)),Z&&tt&&Pt.calculatedAscend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",b.a.format(Pt.calculatedAscend,0)," m ",Object(u.h)("br",null)),Z&&tt&&Pt.calculatedDescend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",b.a.format(Pt.calculatedDescend,0)," m ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.ascent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",b.a.format(_t.gpxInfo.ascent,0)," m ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.descent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",b.a.format(_t.gpxInfo.descent,0)," m ",Object(u.h)("br",null))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"totals"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&tt&&Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-user-shield ml-2"})," ",Object(u.h)(g.c,{id:"workouts.admin-info"},"Admin info")),Object(u.h)("h3",null,"Admin"),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.startTime>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.startTime: ",b.a.isoDate(_t.gpxInfo.startTime)," ",Object(u.h)("br",null),"gpx.gpxInfo.endTime: ",b.a.isoDate(_t.gpxInfo.endTime)," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h3",null,b.a.secToHms(ct.duration)),Z&&tt&&Pt.minEpoch>0&&Pt.maxEpoch>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",b.a.secToHms(Pt.maxEpoch-Pt.minEpoch)," ",Object(u.h)("br",null)),Z&&tt&&Pt.duration>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",b.a.secToHms(Pt.duration)," ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.endTime>0&&_t.gpxInfo.startTime>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",b.a.secToHms((_t.gpxInfo.endTime-_t.gpxInfo.startTime)/1e3)," ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.duration>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",b.a.secToHms(_t.gpxInfo.duration)," ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.rest"},"Hvile")),Object(u.h)("h3",{class:"text-muted"},b.a.secToHms(ct.rest)),Z&&tt&&Pt.minEpoch>0&&Pt.maxEpoch>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",b.a.secToHms(Pt.rest)," ",Object(u.h)("br",null)),Z&&tt&&Pt.rest>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",b.a.secToHms(Pt.rest)," ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.rest>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",b.a.secToHms(_t.gpxInfo.rest)," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(g.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h3",null,Object(u.h)(F.a,{stores:this.props.stores,value:ct.speedAvg})),Z&&tt&&Pt.avgMovingSpeeds>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",b.a.format(3.6*Pt.avgMovingSpeeds,2)," km/t ",Object(u.h)("br",null)),Z&&tt&&Pt.avgGpsSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",b.a.format(3.6*Pt.avgGpsSpeed,2)," km/t ",Object(u.h)("br",null)),Z&&tt&&Pt.avgGpsMovingSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",b.a.format(3.6*Pt.avgGpsMovingSpeed,2)," km/t ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.avgSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",b.a.format(3.6*_t.gpxInfo.avgSpeed,2)," km/t ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:""+yt})," ",Object(u.h)(g.c,{id:"workouts.type"},"Type")),Object(u.h)("h3",null,wt))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:""+St})," ",Object(u.h)(g.c,{id:"workouts.equipment"},"Utstyr")),Object(u.h)("h3",null,xt)),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dog ml-2"})," ",Object(u.h)(g.c,{id:"workouts.dogs"},"Hunder")),Object(u.h)("h3",null,ct.dogs&&Object(u.h)("span",null,ct.dogs.length)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(g.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h3",null,Object(u.h)(W.a,{stores:this.props.stores,value:ct.distanceKm})),Pt.calculatedTotalDistance>0&&Math.abs(ct.distanceKm-Pt.calculatedTotalDistance)>1&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(Pt.calculatedTotalDistance,1)," km ",Object(u.h)("br",null)),Z&&tt&&Pt.calculatedTotalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",b.a.format(Pt.calculatedTotalDistance,2)," km ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.totalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",b.a.format(_t.gpxInfo.totalDistance,2)," km ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(u.h)(g.c,{id:"workouts.ascend"},"Stigning")),Object(u.h)("h3",null,Object(u.h)(E.a,{stores:this.props.stores,value:ct.elevation})),Pt.calculatedAscend>0&&Math.abs(ct.elevation-Pt.calculatedAscend)>50&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(Pt.calculatedAscend,0)," m ",Object(u.h)("br",null)),Z&&tt&&Pt.calculatedAscend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",b.a.format(Pt.calculatedAscend,0)," m ",Object(u.h)("br",null)),Z&&tt&&Pt.calculatedDescend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",b.a.format(Pt.calculatedDescend,0)," m ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.ascent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",b.a.format(_t.gpxInfo.ascent,0)," m ",Object(u.h)("br",null)),Z&&tt&&_t.gpxInfo&&_t.gpxInfo.descent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",b.a.format(_t.gpxInfo.descent,0)," m ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},1===ct.isLocked?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"})):Object(u.h)(t,null,ct.stravaId&&!Pt.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Gt=!0,Object(u.h)("i",{class:"fas fa-sync"})," Reimport Strava data"),ct.garminId&&!Pt.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Gt=!0,Object(u.h)("i",{class:"fas fa-sync"})," Reimport Garmin data"),(Z||!Gt)&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(u.h)("i",{class:"fas fa-sync"})," Recalculate GPX data")))),Object(u.h)(H.a,{stores:this.props.stores,states:Pt.states,duration:ct.duration})),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"analysis"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},b.a.checkNested(ct,"gpxInfo","elevations")||b.a.checkNested(ct,"gpx","gpxInfo","elevations")?Object(u.h)(t,null,Object(u.h)(A.a,{stores:this.props.stores,key:"workout-elevation-"+ct.id})):Object(u.h)(t,null,Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-chart-area"})),Object(u.h)("h3",{class:"font-weight-lighter"},Object(u.h)(g.c,{id:"workout.no-elevation-data"},"No elevation data. If you use a GPS to track your workouts you will get a nice graph here and more correct analysis of the energy usage."))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Ft>0&&Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("h5",{onClick:this.toggleAdminInfo},Object(u.h)(g.c,{id:"workouts.load-index"},"Belastningsindex")),Object(u.h)(D.a,{key:"gauge-"+Ft,radius:100,showPercentText:!0,color:w.a.getLoadIndexColor(b.a.normalizeBetween(Ft,0,q,0,100)),percent:Math.floor(b.a.normalizeBetween(Ft,0,q,0,100)),completed:w.a.getLoadIndexText(b.a.normalizeBetween(Ft,0,q,0,100)),prefix:""}),Object(u.h)("div",null,jt&&Object(u.h)("a",{href:"/settings/team/"+ct.team},Object(u.h)("span",{class:"badge badge-pill badge-secondary"},jt)),vt&&Object(u.h)("a",{href:"/settings/team/"+ct.team},Object(u.h)("span",{class:"badge badge-pill badge-secondary ml-2"},vt)),Object(u.h)("br",null)),ct.stravaId&&!Pt.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(g.c,{id:"workouts.reimport-strava"},"Reimport Strava data")),ct.garminId&&!Pt.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(g.c,{id:"workouts.reimport-garmin"},"Reimport Garmin data")),Z&&tt&&Object(u.h)("div",null,Object(u.h)("small",null,Object(u.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",Pt.loadIndex),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",q),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",b.a.format(Pt.totalKcalRelated,1)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"typeFactor: ",Pt.typeFactor),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"ambitionFactor: ",Pt.ambitionFactor),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeed: ",Pt.normalSpeed),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"speedFactor: ",b.a.format(Pt.speedFactor,2)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",Pt.normalDuration),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",b.a.format(Pt.durationFactor,2)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"intensityFactor: ",b.a.format(Pt.intensityFactor,2)),Object(u.h)("div",null,Object(u.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)(g.c,{id:"workouts.energy-consumption-help"},"Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-total"},"Energiforbruk totalt")),Object(u.h)("h3",null,b.a.format(ct.kcalBurnedTotal,0)," ",Object(u.h)(g.c,{id:"workout.kcal"},"kcal")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalBurnedTotal*Et,0)," ",Object(u.h)(g.c,{id:"workout.kcal"},"kcal")," ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption"},"Energiforbruk pr hund")),Object(u.h)("h3",null,b.a.format(ct.kcalBurned,0)," kcal"),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(Rt,0)," ",Object(u.h)(g.c,{id:"workout.kcal"},"kcal")," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-fat-total"},"Fett totalt")),Object(u.h)("h3",null,b.a.format(ct.kcalFatGramsTotal/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalFatGramsTotal/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-fat"},"Fett pr hund")),Object(u.h)("h3",null,b.a.format(ct.kcalFatGrams/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalFatGrams/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-meat-total"},"KjÃ¸tt totalt")),Object(u.h)("h3",null,b.a.format(ct.kcalMeatGramsTotal/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalMeatGramsTotal/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-meat"},"KjÃ¸tt pr hund")),Object(u.h)("h3",null,b.a.format(ct.kcalMeatGrams/1e3,1)," kg"),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalMeatGrams/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-fish ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-salmon-total"},"KjÃ¸tt totalt")),Object(u.h)("h3",null,b.a.format(ct.kcalSalmonGramsTotal/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalSalmonGramsTotal/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-fish ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-salmon"},"KjÃ¸tt pr hund")),Object(u.h)("h3",null,b.a.format(ct.kcalSalmonGrams/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",b.a.format(ct.kcalSalmonGrams/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"images"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row"},Object(u.h)(k.a,{stores:this.props.stores,images:Wt}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"dogs"===Q&&Object(u.h)(t,null,ct.dogsLeft&&Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.dogs-positions"},"Posisjoner i spannet"))),Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col-6 p-0"},ct.dogsLeft&&ct.dogsLeft.map((function(t){var e=i.findDog(t);return Object(u.h)(I.a,{stores:o.props.stores,dog:e,className:"ml-auto"})}))),Object(u.h)("div",{class:"col-6 p-0"},ct.dogsRight&&ct.dogsRight.map((function(t){var e=i.findDog(t);return Object(u.h)(I.a,{stores:o.props.stores,dog:e,className:"mr-auto"})})))))),"dogs"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.all-dogs",fields:{total:It.length}},"Hundene - ",It.length," stk"))),It&&It.map((function(t){return Object(u.h)(x.a,{stores:o.props.stores,dog:t})}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"handlers"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.all-mushers",fields:{total:At.length}},"Handlere - ",At.length," stk"))),At&&At.map((function(t){return Object(u.h)(S.a,{stores:o.props.stores,musher:t})}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"gpx"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.gpx-title"},"GPX")),Object(u.h)(g.c,{id:"workouts.gpx-description"},"Send GPX-file to your email address.")),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},st?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-check text-success"})," ",Object(u.h)(g.c,{id:"workouts.gpx-file-sent"},"GPX file sent via email.")):Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-success",onClick:this.sendGpxFile},Object(u.h)(g.c,{id:"workouts.gpx-send"},"Send GPX-file"))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"advanced"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.advanced"},"Advanced"))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-cloud-sun-rain ml-2"})," ",Object(u.h)(g.c,{id:"workouts.weather"},"The weather during this workout")),Object(u.h)("h3",{class:"font-weight-lighter"},ct.weather))),Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(u.h)(g.c,{id:"workouts.temperature"},"Temperature")),Object(u.h)("h3",null,Object(u.h)(N.a,{stores:this.props.stores,value:ct.temperature}))),ct.sunPosition&&Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-sun ml-2"})," ",Object(u.h)(g.c,{id:"workouts.periode-of-day"},"Periode of day")),Object(u.h)("h3",null,ct.sunPosition.start," - ",ct.sunPosition.end))),Object(u.h)("div",{class:"row mt-4"},ct.moonPosition&&ct.moonPosition.start&&ct.moonPosition.start.altitudeDeg>0&&Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},ct.moonIllumination&&ct.moonIllumination.phaseIcon&&Object(u.h)(t,null,ct.moonIllumination.phaseIcon)," ",Object(u.h)(g.c,{id:"workouts.moon-position"},"Moon position")),Object(u.h)("h3",null,b.a.format(ct.moonPosition.start.altitudeDeg,0),"Â° ",ct.moonPosition.end&&ct.moonPosition.end.altitudeDeg>0&&Object(u.h)(t,null," - ",b.a.format(ct.moonPosition.end.altitudeDeg,0),"Â°")),ct.moonIllumination&&ct.moonIllumination.fraction&&Object(u.h)(t,null,Object(u.h)("div",{class:"progress"},Object(u.h)("div",{class:"progress-bar bg-warning",role:"progressbar",style:"width: "+100*ct.moonIllumination.fraction+"%","aria-valuenow":100*ct.moonIllumination.fraction,"aria-valuemin":"0","aria-valuemax":"100"},b.a.format(100*ct.moonIllumination.fraction,0),"%"))))),["beta","advanced","normal"].indexOf(j)>-1&&Object(u.h)(t,null,Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dice ml-2"})," ",Object(u.h)(g.c,{id:"workouts.rating"},"Workout rating")),Object(u.h)("h3",null,b.a.format(ct.rating,0))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dumbbell ml-2"})," ",Object(u.h)(g.c,{id:"workouts.intensity"},"Workout intensity")),Object(u.h)("h3",null,zt.class&&Object(u.h)("span",{class:"badge badge-"+zt.class+" ml-2"},zt.name))))))),Z&&tt&&Object(u.h)(t,null,Object(u.h)(X,{stores:this.props.stores})),Object(u.h)("div",{class:"col-12"},Object(u.h)(C.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"advanced"!==Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(u.h)(R.a,{stores:this.props.stores,likes:bt,comments:pt,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"btn btn-outline-"+(Dt?"primary":"secondary")+" btn-sm btn-block "+(Dt?"text-primary":""),onClick:this.likeWorkout},Object(u.h)("i",{class:(Dt?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(u.h)(g.c,{id:"workouts.like"},"Like"))),Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"btn btn-outline-secondary btn-sm btn-block","data-id":ct.id,onClick:this.toggleAddComment},Object(u.h)("i",{class:"fas fa-comment"})," ",Object(u.h)(g.c,{id:"workouts.comment"},"Comment"))),ct.private?Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)(g.c,{id:"workouts.is-private"},"Workout is private"))):Object(u.h)(t,null,O?Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+ct.uuidv4,"data-title":"title: "+ct.title},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(g.c,{id:"story.share"},"Del")))):Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("a",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",href:"https://themusher.app/share/workout/"+ct.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(g.c,{id:"story.share"},"Del"))))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},$&&Object(u.h)(T.a,{stores:this.props.stores,workout:ct,inputRef:function(t){return o.inputRef[ct.id]=t},inputRefObject:this.inputRef}),Object(u.h)(z.a,{stores:this.props.stores,workout:ct}),Vt>0&&Object(u.h)(t,null,Object(u.h)("div",{class:"mt-2"},Object(u.h)(M.a,{stores:this.props.stores,views:Vt,object:ct,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))))),1===ct.isLocked?Object(u.h)(t,null):Object(u.h)(t,null,"advanced"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.recalculate-title"},"Recalculate data")),Object(u.h)(g.c,{id:"workouts.recalculate-help"},"Click the button below if you want to recalculate this workout.",Object(u.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either."),Object(u.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(it?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(g.c,{id:"workouts.recalculate"},"Recalculate data")),Object(u.h)("br",null)),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.duplicate-title"},"Duplicate workout")),Object(u.h)(g.c,{id:"workouts.duplicate-help"},"Click the button below if you want to duplicate this workout. After you have duplicated this workout you can edit it as a regular workout."),Object(u.h)("button",{class:"btn btn-block btn-secondary mt-2 float-left",onClick:this.duplicateWorkout},Object(u.h)("i",{class:"fas fa-copy"})," ",Object(u.h)(g.c,{id:"workouts.duplicate"},"Duplicate workout")),Object(u.h)("br",null)),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.make-track-title"},"Make track")),Object(u.h)(g.c,{id:"workouts.make-track-help"},"Use this workout to make a track. This track can shared and downloaded as a regular track."),Object(u.h)("button",{class:"btn btn-block btn-info mt-2 float-left",onClick:this.makeTrack},Object(u.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(u.h)(g.c,{id:"workouts.make-track"},"Make track"))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.delete-title"},"Delete workout")),Object(u.h)(g.c,{id:"workouts.delete-help"},"Click the button below to delete this workout. All data related to this workout will be lost. All team and dog statistics will also be affected."),Object(u.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteWorkout},Object(u.h)("i",{class:"fas fa-trash"})," ",Object(u.h)(g.c,{id:"workouts.delete"},"Delete")," ",ct.name)))))))},o}(u.Component))||h;e.default=J}.call(this,o("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GcMA:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,c=o("hosL"),r=o("Utv1"),l=o("/eY4"),d=o("OhSV"),h=o("ZOvn"),u=o("bbv7"),b=Object(d.d)((function(){return{week:Object(c.h)(d.c,{id:"workout.graph.week"}),distance:Object(c.h)(d.c,{id:"workout.graph.distance"}),ascend:Object(c.h)(d.c,{id:"workout.graph.ascend"}),plan:Object(c.h)(d.c,{id:"workout.graph.plan"})}}))(i=Object(l.a)(i=function(e){function o(){return e.apply(this,arguments)||this}var s,a;return a=e,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,o.prototype.render=function(){var e=this.props.stores.workoutStore.workout,o=void 0===e?{}:e,s=o.gpx,a=o.gpxInfo,i=(void 0===s?{}:s).gpxInfo,l=n(n({},void 0===i?{}:i),a),d=l.gpsSpeeds,b=l.speeds,m=void 0===b?void 0===d?[]:d:b,p=l.elevations,g=void 0===p?[]:p,f=l.temperatures,O=void 0===f?[]:f,v=l.climbs,j=void 0===v?[]:v,w=l.ecor,y=void 0===w?[]:w,k=[],x=[],S=[],I=[],A=[],z=[],T=[],D=[],C=[],P=[],U=[],_=[],L=[],R=[],M=[];if(g.length>0){var F=h.a.smoothArray(g,5).map((function(t,e){return{x:e,y:t}}));k.push(F),z.push("Elevation"),U.push("m")}if(m.length>0){var E=h.a.smoothArray(m,3).map((function(t,e){return{x:e,y:3.6*t}}));I.push(E),C.push("Speed"),R.push("km/t")}if(O.length>0){var B=h.a.smoothArray(O,2).map((function(t,e){return{x:e,y:t}}));x.push(B),T.push("Temp"),_.push("Â°C")}if(j.length>0){var W=h.a.smoothArray(j,2).map((function(t,e){return{x:e,y:t}}));S.push(W),D.push("Climblevel"),L.push("%")}if(y.length>0){var N=h.a.smoothArray(y,1).map((function(t,e){return{x:e,y:1e3*t}}));A.push(N),P.push("ECOR (kcal/kg/km)"),M.push("kcal/kg/km")}var H=[];if(o.distanceKm>0){for(var G=r.a.range(0,Math.ceil(l.calculatedTotalDistance||o.distanceKm),1),V=Math.ceil(G.length/5),K=(Math.floor(G.length/V),0),Y=G.length;K<Y;K+=V)H.push(G[K]);H.push(G[G.length-1])}return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(u.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:function(t){return t+"km"},xTicks:H,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:k,legendLeft:z,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" m",unitLeft:U,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:I,legendRight:C,showYTicksRight:I.length>0?1:0,yTicksRightPostfix:"km/t",unitRight:R,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),x.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(u.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:function(t){return t+"km"},xTicks:H,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:x,legendLeft:T,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" Â°C",unitLeft:_,avgWindowLeft:[0],smoothLeft:[1]})),S.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(u.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:function(t){return t+"km"},xTicks:H,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:S,legendLeft:D,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" %",unitLeft:L,avgWindowLeft:[0],smoothLeft:[1],dataRight:A,legendRight:P,showYTicksRight:A.length>0?1:0,yTicksRightVal:function(t){return r.a.format(t/1e3,2)},unitRight:M,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))},o}(c.Component))||i)||i;e.a=b}).call(this,o("hosL").Fragment)},HqZR:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function i(t){return.621371*t}var c,r=o("hosL"),l=o("Utv1"),d=o("/eY4"),h=o("cneo"),u=o("fh8t"),b=o.n(u),m=o("6FDT"),p=o.n(m),g=o("ABWa"),f=o.n(g),O=o("ZOvn"),v=o("5eBG"),j=o("/mwY"),w=o("8bLb"),y=o("P2xA"),k=o("FTgN"),x=o("/kKD"),S=o("+5/p"),I=o("9rGW"),A=o("zHmd"),z=o.n(A),T=o("Dq2H"),D=o.n(T),C=(o("yDvG"),o("G5DU")),P=o.n(C),U=o("68RK"),_=(o("A1fj"),o("ivZ3")),L=o.n(_),R={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},M=v.b.BaseLayer,F=v.b.Overlay;delete L.a.Icon.Default.prototype._getIconUrl,L.a.Icon.Default.mergeOptions({iconRetinaUrl:o("sqja"),iconUrl:o("Drvj"),shadowUrl:o("K5o1")});var E=function(t){return L.a.divIcon({html:"<span>"+t.getChildCount()+"</span>",className:f.a["marker-cluster-custom"],iconSize:L.a.point(40,40,!0)})},B=Object(d.a)(c=function(e){function o(t){var o;return(o=e.call(this,t)||this).mapRef=Object(r.createRef)(),o.polyRef=Object(r.createRef)(),o.handleViewportChanged=function(t){o.setState({mapCenter:t.center,mapZoom:t.zoom})},o.handleLocationFound=function(t){t.latlng&&o.setState({hasLocation:!0,latlng:t.latlng})},o.onEachFeature=function(t,e){var s=o.props.gpxInfo,n=void 0===s?{}:s,a="<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: "+l.a.format(n.totalDistance,2)+" km</li>\n\t\t\t\t<li>Max speed: "+l.a.format(n.maxSpeed,1)+" km/t</li>\n\t\t\t\t<li>Avg speed: "+l.a.format(n.avgSpeed,1)+" km/t</li>\n\t\t\t\t<li>Ascent: "+l.a.format(n.ascent||n.calculatedAscend,0)+" m</li>\n\t\t\t\t<li>Descent: "+l.a.format(n.decent||n.calculatedDescend,0)+" m</li>\n\t\t\t\t<li>Duration: "+l.a.secToHms(n.duration)+"</li>\n\t\t\t</ul>\n\t\t</Popup>";e.bindPopup(a)},o.handleClick=function(t){o.props.stores.appState.setLatlng(t.latlng)},o.zoomToGeoJSON=function(t){try{if(t.target){var e=t.target.getBounds();e&&e._northEast&&o.setState({bounds:e})}}catch(t){console.log(t)}},o.zoomToMarkers=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var s=o.state.hasZoomedToMarkers;try{if((e||!s)&&t.length&&t.length>0){var n=o.mapRef.current.leafletElement,a=L.a.latLngBounds([]);t.forEach((function(t){a.extend([t.lat,t.lng])})),n.fitBounds(a),o.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},o.zoomToAllMarkers=function(){var t=o.props.waypoints;o.zoomToMarkers(void 0===t?[]:t,!0)},o.zoomToFirst10Markers=function(){var t=o.props.waypoints,e=(void 0===t?[]:t).slice(0,10);o.zoomToMarkers(e,!0)},o.zoomToFirst3Markers=function(){var t=o.props.waypoints,e=(void 0===t?[]:t).slice(0,3);o.zoomToMarkers(e,!0)},o.zoomToFavoriteMarkers=function(){var t=o.props,e=t.zoomToMarkers,s=void 0===e?[]:e,n=t.waypoints;o.zoomToMarkers(s.length>0?s:void 0===n?[]:n,!0)},o.overlayAdd=function(t){var e=o.state.visibleLayers;e[t.name]=!0,o.setState({visibleLayers:e})},o.overlayRemove=function(t){var e=o.state.visibleLayers;e[t.name]=!1,o.setState({visibleLayers:e})},o.polylineOptions=function(){var t=o.props.gpxInfo,e=o.state.rangeSteps,s=o.state.maxHslColor,n=o.props.stores.appState,a=n.mapColorMode,i=n.mapRangeMin,c=n.mapRangeMax;"speed"===a&&t&&t.speeds&&t.speeds.length>0&&(i=Math.floor(Math.min.apply(Math,t.speeds.map((function(t){return 3.6*t})))),c=Math.ceil(Math.max.apply(Math,t.speeds.map((function(t){return 3.6*t})))));var r=l.a.range(i,c,e),d=r.map((function(t){var e=function(t,e,o,s,n){return s+(t-e)*(n-s)/(o-e)}(t,i,c,0,s),o=l.a.hsl2Rgb(s-e,100,45);return{color:"rgb("+o.r+", "+o.g+", "+o.b+")"}}));return n.setMapRange(r,i,c),n.setMapColors(d),d},o.polylineOptionIdxFn=function(t){for(var e=o.props.stores.appState.mapRange,s=0;s<e.length;++s)if(t.meta<=e[s])return s;return e.length},o.polylinetrackPointFactory=function(t){var e=o.props.gpxInfo,s=o.props.stores.appState,n=s.mapRangeMin,a=s.mapRangeMax,i=[];return"speed"===s.mapColorMode&&e.speeds&&e.speeds.length>0?i=e.speeds.map((function(t){return 3.6*t})):e&&e.climbs&&(i=e.climbs),t.filter((function(t){return t[0]&&t[1]&&t[2]})).map((function(t,e){var o=L.a.latLng(t[1],t[0],t[2]);return i&&i.length>0?(o.meta=i[e]||0,o.meta>a&&(o.meta=a),o.meta<n&&(o.meta=n)):o.meta=0,o}))},o.showSpeed=function(){o.props.stores.appState.setMapColorMode("speed")},o.handleMarkerClick=function(t){void 0===t&&(t={});var e=o.props.onMarkerClick,s=void 0===e?function(t){return console.log({title:t.title,bib:t.bib})}:e;try{s(n({},t))}catch(t){console.log(t)}},o.handleMarker2Click=function(t){void 0===t&&(t={});var e=o.props.onMarker2Click,s=void 0===e?function(t){return console.log(t)}:e;try{s(n({},t))}catch(t){console.log(t)}},o.handleMarker3Click=function(t){void 0===t&&(t={});var e=o.props.onMarker3Click,s=void 0===e?function(t){return console.log(t)}:e;try{s(n({},t))}catch(t){console.log(t)}},o.baseLayerChange=function(t){var e=t.name;console.log("baseLayerChange event",t),console.log({name:e}),o.props.stores.appState.setMapChecked(e)},o.whenReadyHandler=function(t){t.target.on("baselayerchange",o.baseLayerChange)},o.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1},o}var s,a;a=e,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var c=o.prototype;return c.geoJSONStyle=function(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}},c.geoJSONStyleList=function(t){var e=O.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}},c.componentWillReceiveProps=function(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)},c.componentWillUnmount=function(){},c.render=function(){var e,o,s=this,a=this.props.stores,c=a.userStore,d=a.appState,u=d.mapChecked,m=c.user.settings,g=void 0===m?{}:m,A=this.state,T=A.visibleLayers,C=A.mapZoom,_=A.bounds,B=void 0===_?null:_,W=this.props,N=W.waypoints,H=void 0===N?[]:N,G=W.waypoints2,V=void 0===G?[]:G,K=W.waypoints3,Y=void 0===K?[]:K,q=W.geoJSONs,Z=void 0===q?[]:q,X=W.zoomToMarkers,J=void 0===X?[]:X,Q=W.geojson,$=W.gpxInfo,tt=W.center,et=void 0===tt?[61.0779066,9.800984]:tt,ot=W.zoom,st=void 0===ot?5:ot,nt=W.minZoom,at=void 0===nt?4:nt,it=W.maxZoom,ct=void 0===it?18:it,rt=W.height,lt=void 0===rt?500:rt,dt=W.heatmap,ht=void 0===dt?[]:dt,ut=W.skipGeojson,bt=void 0!==ut&&ut,mt=W.zoomToWaypoints,pt=void 0!==mt&&mt,gt=W.fullscreenMap,ft=void 0!==gt&&gt,Ot=W.showZoomControl,vt=void 0===Ot||Ot,jt=W.showLayersControl,wt=void 0===jt||jt,yt=W.showScaleControl,kt=void 0===yt||yt,xt=W.showRange,St=void 0===xt||xt,It=W.showTrackProfile,At=void 0===It||It,zt=W.distanceMarkerSteps,Tt=void 0===zt?"normal":zt,Dt=W.showDistanceMarkers,Ct=void 0===Dt||Dt,Pt=W.groupWaypoints,Ut=void 0===Pt||Pt,_t=W.largeMarkers,Lt=W.layersControlPosition,Rt=void 0===Lt?"topright":Lt,Mt=d.mapColorMode,Ft=d.mapRange,Et=d.mapColors,Bt=d.mapRangeMin,Wt=d.mapRangeMax,Nt=Object(h.i)(Q),Ht=l.a.asObject(Nt,"features",0,"geometry","coordinates"),Gt=J.length>0||H.length>0,Vt=[];if(Ht&&Ht[0]&&Ht[0][0]&&(e=Ht[0][0]&&Ht[0][0][0]?[Ht[0][0][1],Ht[0][0][0]]:[Ht[0][1],Ht[0][0]],o=Ht[Ht.length-1][0]&&Ht[Ht.length-1][0][0]?[Ht[Ht.length-1][0][1],Ht[Ht.length-1][0][0]]:[Ht[Ht.length-1][1],Ht[Ht.length-1][0]],$&&$.distances)){var Kt=0,Yt=0,qt=10;switch(C){case 15:qt="long"===Tt?3:1;break;case 14:qt="long"===Tt?5:2;break;case 13:qt="long"===Tt?7:3;break;case 12:qt="long"===Tt?10:5;break;case 11:case 10:qt="long"===Tt?15:10;break;case 9:qt="long"===Tt?20:15;break;case 8:qt="long"===Tt?30:20;break;case 7:qt="long"===Tt?40:30;break;case 6:qt="long"===Tt?70:50;break;case 5:qt="long"===Tt?150:100;break;default:qt="long"===Tt?200:150}$.distances.forEach((function(t,e){Kt+=g.imperial?i(t):t,(Yt+=g.imperial?i(t):t)>=qt&&(Yt=0,Ht[e]&&Array.isArray(Ht[e])&&Vt.push({lat:Ht[e][1],lng:Ht[e][0],title:Math.floor(Kt),body:""}))}))}var Zt=c.isAdmin;return Object(r.h)(t,null,Object(r.h)("div",{class:f.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:O.a.captureAllEvents,onScroll:O.a.captureAllEvents},Object(r.h)(j.a,{bounds:B,ref:this.mapRef,onViewportChanged:this.handleViewportChanged,minZoom:at,maxZoom:ct,center:et,onLocationfound:this.handleLocationFound,zoom:st,zoomControl:vt,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:ft||!L.a.Browser.mobile,tap:!L.a.Browser.mobile,touchZoom:!!L.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:"width: 100%; min-height: "+lt+"px; height: 100%;",className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},wt&&Object(r.h)(v.b,{position:Rt},Object(r.h)(M,{checked:"OpenStreetMap.Mapnik"===u,name:"OpenStreetMap.Mapnik"},Object(r.h)(w.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(r.h)(M,{checked:"OpenStreetMap.Dark"===u,name:"OpenStreetMap.Dark"},Object(r.h)(w.a,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Â© Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(r.h)(M,{checked:"Norway Kartverket topo4"===u,name:"Norway Kartverket topo4"},Object(r.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(r.h)(M,{checked:"Norway Kartverket topo4graatone"===u,name:"Norway Kartverket topo4graatone"},Object(r.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(r.h)(M,{checked:"Google Satellite Text"===u,name:"Google Satellite Text"},Object(r.h)(w.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(r.h)(F,{name:"Windspeed"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(F,{name:"Temperature"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(F,{name:"Snow depth"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(F,{name:"Precipitation"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Zt&&Object(r.h)(F,{name:"Atmospheric pressure"},Object(r.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),kt&&Object(r.h)(k.a,{metric:!0,imperial:!1}),T.Windspeed&&Object(r.h)(P.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Wind speed, m/s"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0"),Object(r.h)("div",null,"2"),Object(r.h)("div",null,"3"),Object(r.h)("div",null,"6"),Object(r.h)("div",null,"12"),Object(r.h)("div",null,"25"),Object(r.h)("div",null,"50")),Object(r.h)("div",{style:" width: 260px; height: 5px; // background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),T.Temperature&&Object(r.h)(P.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Temperature, Â°C"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"-40"),Object(r.h)("div",null,"-20"),Object(r.h)("div",null,"0"),Object(r.h)("div",null,"20"),Object(r.h)("div",null,"40")),Object(r.h)("div",{style:" width: 260px; height: 5px; background-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%); "})))),T.Precipitation&&Object(r.h)(P.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Precipitation, mm/h"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0"),Object(r.h)("div",null,"0.5"),Object(r.h)("div",null,"1"),Object(r.h)("div",null,"2"),Object(r.h)("div",null,"4"),Object(r.h)("div",null,"6"),Object(r.h)("div",null,"7"),Object(r.h)("div",null,"10"),Object(r.h)("div",null,"12"),Object(r.h)("div",null,"14"),Object(r.h)("div",null,"16"),Object(r.h)("div",null,"24"),Object(r.h)("div",null,"32"),Object(r.h)("div",null,"60")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%; "})))),T["Snow depth"]&&Object(r.h)(P.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Snow depth (m)"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0.05"),Object(r.h)("div",null,"0.4"),Object(r.h)("div",null,"0.8"),Object(r.h)("div",null,"1.8"),Object(r.h)("div",null,"15")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%; "})))),T["Atmospheric pressure"]&&Object(r.h)(P.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Atmospheric pressure (hPa)"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"940"),Object(r.h)("div",null,"980"),Object(r.h)("div",null,"1010"),Object(r.h)("div",null,"1040"),Object(r.h)("div",null,"1080")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),ht&&ht.length>0&&Object(r.h)(z.a,{fitBoundsOnLoad:!Gt,fitBoundsOnUpdate:!1,points:ht,longitudeExtractor:function(t){return t[1]},latitudeExtractor:function(t){return t[0]},intensityExtractor:function(t){return parseFloat(t[2])}}),At&&Object(r.h)(t,null,Ht&&Ht.length>0&&Object(r.h)(p.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(Ht),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+Mt})),Z&&Z.length>0&&Z.map((function(t,e){return Object(r.h)(x.a,{data:t,style:function(){return s.geoJSONStyleList(e)}})})),!bt&&Q&&e&&Object(r.h)(x.a,{data:Q,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,onAdd:J&&J.length>0?null:this.zoomToGeoJSON}),e&&Object(r.h)(S.a,{position:e,icon:U.a.get("marker")},Object(r.h)(I.a,null,"Start position: ",l.a.format(e[0],4),", ",l.a.format(e[1],4))),o&&Object(r.h)(S.a,{position:o,icon:U.a.get("flag")},Object(r.h)(I.a,null,"End position: ",l.a.format(o[0],4),", ",l.a.format(o[1],4))),Ct&&Vt&&Vt.length>0&&Object(r.h)(t,null,Vt.length>0&&Vt.map((function(t){return Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:U.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(r.h)(I.a,{position:[t.lat,t.lng]},Object(r.h)("h5",null,t.title),Object(r.h)(b.a,{markdown:t.body,markdownOpts:R})))}))),Y.length>0&&Y.reverse().map((function(t,e){return Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:U.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:u}),onClick:function(e){return s.handleMarker3Click(n(n({},t),{},{e:e}))},zIndexOffset:100+e})})),Ut?Object(r.h)(t,null,Object(r.h)(D.a,{maxClusterRadius:10,iconCreateFunction:E,animate:!0,fitBoundsOnLoad:pt},V.length>0&&V.reverse().map((function(t,e){return Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:U.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:u}),onClick:function(e){return s.handleMarker2Click(n(n({},t),{},{e:e}))},zIndexOffset:200+e})}))),Object(r.h)(D.a,{maxClusterRadius:10,iconCreateFunction:E,animate:!0,fitBoundsOnLoad:pt},H.length>0&&H.reverse().map((function(t,e){return Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:U.a.getRaceMarker({largeMarkers:_t,icon:t.icon||"marker",bib:t.bib,rank:t.rank,speed:t.speed,bearing:t.bearing,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:170,iconAnchorX:e%2==0?7:163,titlePrefix:"rest"===t.currentState?"ð¤":"",mapChecked:u}),onClick:function(e){return s.handleMarkerClick(n(n({},t),{},{e:e}))},zIndexOffset:300+e})})))):Object(r.h)(t,null,V.length>0&&V.reverse().map((function(t,e){return Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:U.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:_t?300:250,iconHeight:_t?30:20,iconAnchorX:_t?10:7,iconAnchorY:_t?10:7,imageCirlceRadius:_t?20:14,lineHeight:_t?"1.5em":"1.1em",fontSize:_t?"1.5em":"1.1em",paddingTop:_t?"2px":"3px",paddingBottom:_t?"2px":"3px",mapChecked:u}),onClick:function(e){return s.handleMarker2Click(n(n({},t),{},{e:e}))},zIndexOffset:200+e})})),H.length>0&&H.reverse().map((function(t,e){return Object(r.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:U.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,speed:t.speed,bearing:t.bearing,rank:t.rank,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:_t?300:170,iconHeight:_t?30:15,iconAnchorX:_t?e%2==0?10:290:e%2==0?7:163,iconAnchorY:_t?10:5,imageCirlceRadius:_t?20:10,lineHeight:_t?"1.5em":"0.9em",fontSize:_t?"1.5em":"0.9em",paddingTop:_t?"2px":"3px",paddingBottom:_t?"2px":"3px",titlePrefix:"rest"===t.currentState?"ð¤":"",mapChecked:u}),onClick:function(e){return s.handleMarkerClick(n(n({},t),{},{e:e}))},zIndexOffset:300+e})})))),H.length>0&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 20px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info",onClick:this.zoomToAllMarkers},Object(r.h)("i",{class:"fas fa-crosshairs"}))),H.length>=10&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 20px; right: 45px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info",onClick:this.zoomToFirst10Markers},Object(r.h)("i",{class:"fas fa-crosshairs"})," 10")),H.length>=3&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 20px; right: 105px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info",onClick:this.zoomToFirst3Markers},Object(r.h)("i",{class:"fas fa-crosshairs"})," 3"))),St&&Ft&&Ft.length>0&&Object(r.h)(t,null,Object(r.h)("div",{class:"mb-4"},Object(r.h)("div",{class:"float-right mt-1"},Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(Bt,0),Object(r.h)("span",{class:"text-muted"},"speed"===Mt?"km/t":"%")))),Ft&&Ft.length>0&&Ft.map((function(t,e){return Object(r.h)("div",{class:"float-left"},Object(r.h)("div",{style:"background-color: "+Et[e].color+"; height: 13px; width: 10px;"}))})),Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(Wt,0),Object(r.h)("span",{class:"text-muted"},"speed"===Mt?"km/t":"%"))))))))},o}(r.Component))||c;e.a=B}).call(this,o("hosL").Fragment)},KDoM:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=o("OhSV"),r=o("nHdA"),l=o("irB3"),d=o("UwwE"),h=o("8Lgr"),u=(o("QkTp"),o("ZOvn")),b=Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this.props.dog,o=this.props.stores,s=o.userStore,i=o.dogStore,b=s.user.language,m=void 0===b?"en":b,p=o.appState.viewmode,g=(new Date).getMonth()+1,f=(new Date).getFullYear(),O=this.props,v=O.month,j=O.year,w=void 0===j?f:j,y=parseInt((void 0===v?g:v)<8?w-1:w,10),k=i.findWorkoutSummary(e.id,y)||{},x=e.statuses?e.statuses.map((function(t){return s.findDogstatus({status:t,language:m})})):[],S=i.findVaccineStatuses(e.id),I=i.findVaccineLogStatuses(e.chipId),A=i.findHistoryStatuses(e.id),z=s.findDogstatus({status:e.status,language:m}),T=s.findDogposition({position:e.position,language:m}),D=[];s.findTeam(e.team)&&D.push(s.findTeam(e.team)),e.teams&&e.teams.forEach((function(t){s.findTeam(t)&&D.push(s.findTeam(t))}));var C=u.a.hasBirthday(e.birth),P=e.birth?Math.ceil(u.a.daysUntilNextBirthday(e.birth)):365,U=this.props.url,_=void 0===U?"/dogs/"+e.id:U;return Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?'background-image: url("'+e.image.s3SmallLink+'"); background-size: cover;':""},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a.a.ucfirst(e.name,!0))),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+s.findHarness(e.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(n.h)("span",{class:"float-right"},T&&Object(n.h)("span",{class:"badge badge-"+(T.class||"primary")+" mr-3"},T.icon&&Object(n.h)("i",{class:T.icon})," ",T.name),P<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",P," days")),e.birth&&Object(n.h)("span",{class:"mr-2"},a.a.age(e.birth,e.deceased)),"female"===e.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"})),Object(n.h)("a",{class:"stretched-link",href:_},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(n.h)(t,null," - ",Object(n.h)("span",{class:"font-weight-lighter"},e.name)),C&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(n.h)("div",null,D&&D.length>0&&Object(n.h)("small",{class:"font-weight-lighter"},D.map((function(e,o){return Object(n.h)(t,null,o>0?", ":"",e)}))),Object(n.h)("br",null)),Object(n.h)("small",{class:"text-muted"},e.history>0&&Object(n.h)("span",{class:"ml-0"},Object(n.h)("i",{class:"fas fa-file-signature"})," ",e.history.length),e.images>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-image"})," ",e.images.length),k&&k.distanceKm>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-road"})," ",Object(n.h)(h.a,{stores:this.props.stores,value:k.distanceKm})),k&&k.elevation>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(l.a,{stores:this.props.stores,value:k.elevation})),k&&k.duration>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-clock"})," ",a.a.secToHms(k.duration,!0)),k&&k.speedAvg>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(r.a,{stores:this.props.stores,value:k.speedAvg})),e.weight>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(n.h)(d.a,{stores:this.props.stores,value:e.weight})),e.bodyScore>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(e.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(n.h)(t,null,Object(n.h)("div",null,S&&S.map((function(t){return Object(n.h)("span",{class:"badge badge-success mr-2",title:a.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(n.h)("span",{class:"font-weight-light ml-3"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",a.a.isoDate(t.endDate,!1,!1,!0)))})),A&&A.map((function(t){return Object(n.h)("span",{class:"badge badge-warning mr-2",title:a.a.isoDate(t.endDate,!1,!1,!0)},t.title)})))),["beta","advanced"].indexOf(p)>-1&&Object(n.h)(t,null,e.positions&&e.positions.lead&&Object(n.h)("div",{class:""},e.positions.lead.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.lead.distanceKm})),e.positions.point.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.point.distanceKm})),e.positions.team.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.team.distanceKm})),e.positions.wheel.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.wheel.distanceKm})))),Object(n.h)("div",{class:"clearfix pb-0"},e.specialNeeds&&Object(n.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(n.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),z&&Object(n.h)("span",{class:"badge badge-"+z.class+" ml-2 mt-1 float-right"},z.icon&&Object(n.h)("i",{class:z.icon})," ",z.name),x&&x.map((function(e){return Object(n.h)(t,null,Object(n.h)("span",{class:"badge badge-"+e.class+" ml-2 mt-1 float-right"},e.icon&&Object(n.h)("i",{class:e.icon})," ",e.lang&&e.lang[m]?e.lang[m]:e.name))}))),I&&I.length>0&&Object(n.h)(t,null,Object(n.h)("div",{class:"mt-2"},I&&I.filter((function(t){return t.chipId===e.chipId})).map((function(t){return Object(n.h)("span",{class:"badge badge-"+(t.inKarens?"warning":"success")+" mr-2 mb-1"},Object(n.h)("i",{class:"fas fa-user-md"})," ",t.vaccineAgens.name)}))))))))},o}(n.Component))||s;e.a=b}).call(this,o("hosL").Fragment)},NDEG:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=o("ZOvn"),r=Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this.props,o=e.dog,s=void 0===o?{}:o,i=e.dogs,r=void 0===i?[]:i,l=e.showTeam,d=e.showInfo,h=e.showName,u=void 0===h||h,b=e.showPosition,m=void 0===b||b,p=e.showAge,g=void 0!==p&&p,f=e.className,O=e.size,v=e.onDogClick,j=void 0===v?function(){}:v,w=this.props.stores.userStore,y=w.user.language,k=w.findDogposition({position:s.position,language:void 0===y?"en":y}),x=c.a.hasBirthday(s.birth),S=(Math.ceil(c.a.daysUntilNextBirthday(s.birth)),"92px"),I="",A="35px";return"small"===O?(S="50px",I="imageRoundedSmall",A="20px"):"medium"===O&&(S="60px",I="imageRoundedMedium",A="25px"),Object(n.h)("div",{class:"mb-2 position-relative "+f+" clearfix",style:"width: "+S,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},m&&k&&Object(n.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(n.h)("span",{class:"badge badge-"+(k.class||"primary")+" mr-3"},k.icon&&Object(n.h)("i",{class:k.icon})," ",k.name)),Object(n.h)("div",{class:"text-center border rounded-circle imageRounded "+I+" mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: "+A+";"},a.a.ucfirst(s.name,!0))),Object(n.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(n.h)("small",null,Object(n.h)("a",{href:"/dogs/public/"+s.uuidv4,onClick:function(t){return j(t,s.uuidv4,r)},class:"stretched-link"},u&&Object(n.h)(t,null,Object(n.h)("span",{class:"mb-1 font-weight-light"},Object(n.h)("nobr",null,s.shortname||s.name,x&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(n.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(n.h)("small",null,s.birth&&g&&Object(n.h)(t,null,Object(n.h)("span",{class:"float-right"},s.birth&&Object(n.h)("span",{class:"mr-2"},a.a.age(s.birth,s.deceased)),"female"===s.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),l&&Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-light"},w.findTeam(s.team)),Object(n.h)("br",null)),d&&Object(n.h)("small",{class:"text-muted"},s.weight&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",a.a.format(s.weight,1)," kg"),s.bodyScore&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(s.bodyScore,1))))))},o}(n.Component))||s;e.a=r}).call(this,o("hosL").Fragment)},QkTp:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this.props,o=e.value,s=void 0===o?0:o,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return 9*t/5+32}(s),0),"Â°F")):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(s,1),"Â°C"))},o}(n.Component))||s);e.a=c}).call(this,o("hosL").Fragment)},UwwE:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this.props,o=e.value,s=void 0===o?0:o,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return 2.20462*t}(s),0)," lb")):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(s,0)," kg"))},o}(n.Component))||s);e.a=c}).call(this,o("hosL").Fragment)},YdX6:function(t,e,o){"use strict";(function(t){function s(t,e){if(e){if(l.indexOf(e.status)>-1)return"danger";if(d.indexOf(e.status)>-1)return"warning"}if(t){if(t.distanceKm>50)return"danger";if(t.distanceKm>30)return"warning"}return"success"}var n,a=o("hosL"),i=o("Utv1"),c=o("/eY4"),r=o("ZOvn"),l=[2,9],d=[4,8],h=Object(c.a)(n=function(e){function o(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=o).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,o.prototype.render=function(){var e=this.props,o=e.dog,n=e.showWorkout,c=e.showTeam,l=e.showNeeds,d=e.showInfo,h=e.showName,u=void 0===h||h,b=e.showPosition,m=void 0===b||b,p=e.showAge,g=void 0!==p&&p,f=e.className,O=e.size,v=this.props.stores,j=v.userStore,w=v.dogStore,y=j.user.language,k=void 0===y?"en":y;if(!o)return"small"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 50px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto"},Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},"Â ")),u&&Object(a.h)("div",{class:"text-center"},"Â ")):"medium"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 60px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto"},Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 25px;"},"Â ")),u&&Object(a.h)("div",{class:"text-center"},"Â ")):Object(a.h)("div",{class:"mb-2 position-relative "+f,style:"width: 92px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2  mx-auto"},Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},"Â ")),u&&Object(a.h)("div",{class:"text-center"},"Â "));var x=j.findDogstatus({status:o.status,language:k}),S=j.findDogposition({position:o.position,language:k}),I=w.findCurrentWorkoutSummary(o.id),A=r.a.hasBirthday(o.birth),z=Math.ceil(r.a.daysUntilNextBirthday(o.birth));return"small"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 50px;"},Object(a.h)("div",{class:"text-center border border-"+s(I,o)+" rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2",style:(o.image?'background-image: url("'+o.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!o.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(o.name,!0)))):"medium"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 60px;"},Object(a.h)("div",{class:"text-center border border-"+s(I,o)+" rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2",style:(o.image?'background-image: url("'+o.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!o.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(o.name,!0)))):Object(a.h)("div",{class:"mb-2 position-relative "+f,style:"width: 92px;"},m&&S&&Object(a.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(a.h)("span",{class:"badge badge-"+(S.class||"primary")+" mr-3"},S.icon&&Object(a.h)("i",{class:S.icon})," ",S.name)),Object(a.h)("div",{class:"text-center border border-"+s(I,o)+" rounded-circle imageRounded mx-auto text-muted pt-2",style:(o.image?'background-image: url("'+o.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!o.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(o.name,!0))),Object(a.h)("div",{class:"text-center",style:"line-height: 1.0em;"},Object(a.h)("small",null,u&&Object(a.h)("a",{class:"stretched-link",href:"/dogs/"+o.id},Object(a.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},o.shortname||o.name,A&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-birthday-cake ml-3"})))),o.birth&&g&&Object(a.h)(t,null,Object(a.h)("span",null,z<7&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted mr-2"},Object(a.h)("i",{class:"fas fa-birthday-cake"})," in ",z," days")),o.birth&&Object(a.h)("span",{class:"mr-2"},i.a.age(o.birth,o.deceased)),"female"===o.gender?Object(a.h)("i",{class:"fas fa-venus"}):Object(a.h)("i",{class:"fas fa-mars"}))),c&&Object(a.h)(t,null,Object(a.h)("span",{class:"font-weight-light"},j.findTeam(o.team)),Object(a.h)("br",null)),n&&Object(a.h)("small",{class:"text-muted"},I&&I.distanceKm>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-road"})," ",i.a.format(I.distanceKm,0),"km"),I&&I.elevation>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-mountain"})," ",i.a.format(I.elevation,0),"m"),I&&I.duration>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(I.duration,!0)),I&&I.speedAvg>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",i.a.format(I.speedAvg,1),"km/t")),d&&Object(a.h)("small",{class:"text-muted"},o.weight&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-balance-scale ml-2"})," ",i.a.format(o.weight,1)," kg"),o.bodyScore&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-dog ml-2"})," ",i.a.format(o.bodyScore,1))),l&&Object(a.h)("div",{class:"clearfix pb-0 pt-1"},o.specialNeeds&&Object(a.h)("span",{class:"badge badge-warning mr-2"},Object(a.h)("i",{class:"fas fa-exclamation-triangle"})," ",o.specialNeeds),x&&Object(a.h)("span",{class:"badge badge-"+x.class+" mr-2"},x.icon&&Object(a.h)("i",{class:x.icon})," ",x.name)))))},o}(a.Component))||n;e.a=h}).call(this,o("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},eQ6k:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=(o("Utv1"),o("/eY4")),i=o("OhSV"),c=Object(a.a)(s=function(e){function o(){for(var o,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(o=e.call.apply(e,[this].concat(a))||this).requestFollowTeam=function(t){var e=o.props.stores,s=e.teamStore,n=e.userStore.user,a=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.followRequest(a,n),o.setState({requestSent:!0})},o.unFollowTeam=function(t){var e=o.props.stores,s=e.teamStore,n=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.unollowTeam(n),o.setState({unfollowed:!0})},o.getButton=function(e){void 0===e&&(e="");var s=o.state.requestSent,a=o.props.stores.userStore.user,c=o.props,r=c.team,l=c.skipHome,d=c.simple,h=c.classNames,u=r.members&&r.members.indexOf(a.id)>-1,b=r.followers&&r.followers.indexOf(a.id)>-1,m=r.blockedFollowers&&r.blockedFollowers.indexOf(a.id)>-1,p=s||r.followRequests&&r.followRequests.findIndex((function(t){return t.id===a.id}))>-1;return u?l?"":Object(n.h)("i",{class:"fas fa-home"}):b?Object(n.h)(t,null,Object(n.h)("button",{class:h||"btn btn-block btn-outline-secondary float-right",onClick:o.unFollowTeam,disabled:"true","data-team":r.id},Object(n.h)("i",{class:"fas fa-link mr-2"}),Object(n.h)(i.c,{id:"teams.connect.is-following"},"FÃ¸lger")," ",!d&&Object(n.h)(t,null,e)),Object(n.h)("button",{class:h||"btn btn-sm btn-block btn-danger float-right",onClick:o.unFollowTeam,"data-team":r.id},Object(n.h)("i",{class:"fas fa-unlink mr-2"}),Object(n.h)(i.c,{id:"teams.connect.unfollow"},"Unfollow"))):m?"":p?Object(n.h)("button",{class:h||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(n.h)(i.c,{id:"teams.connect.has-requested"},"Venter pÃ¥ godkjenning")," ",!d&&Object(n.h)(t,null,e)):r.public?Object(n.h)("button",{class:h||"btn btn-block btn-outline-success float-right",onClick:o.requestFollowTeam,"data-team":r.id},Object(n.h)("i",{class:"fas fa-plus mr-2"}),Object(n.h)(i.c,{id:"teams.connect.follow"},"FÃ¸lg")," ",!d&&Object(n.h)(t,null,e)):void 0},o}var s,a;return a=e,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,o.prototype.render=function(){var e=this.state.unfollowed,o=this.props,s=o.team,a=o.buttonOnly,i=this.props.stores.userStore,c=i.user.language,r=void 0===c?"en":c,l=i.findTeamAmbition({ambition:s.ambitions,language:r}),d=i.findTeamType({type:s.type,language:r}),h=s.image&&s.image.s3SmallLink?s.image:null;return a?Object(n.h)(t,null,this.getButton(""+s.name)):Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:e?"text-decoration: line-through; opacity: 0.3;":""},Object(n.h)("a",{href:"/teams/public/"+s.uuidv4},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:h?'background-image: url("'+h.s3SmallLink+'");  background-size: cover;':""},!h&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(n.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(n.h)(t,null,s.name)),Object(n.h)("div",null,s.place," ",s.country),Object(n.h)("div",null,d&&Object(n.h)("span",{class:"badge badge-pill badge-secondary"},d),l&&Object(n.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(n.h)("small",{class:"text-muted"},s&&s.dogs&&Object(n.h)("span",{class:""},Object(n.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(n.h)("div",null,this.getButton()))))},o}(n.Component))||s;e.a=c}).call(this,o("hosL").Fragment)},epqT:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=o("Utv1"),r=o("/eY4"),l=o("OhSV"),d=(o("ZOvn"),{showAddComment:!1}),h=Object(l.d)((function(){return{subject:Object(i.h)(l.c,{id:"ad.subject"},"AnnonseforespÃ¸rsel"),body:Object(i.h)(l.c,{id:"ad.body"},"Hei, Jeg Ã¸nsker Ã¥ vite mer om annonsering i appen The Musher.")}}))(a=Object(r.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).logClick=function(){return new Promise((function(t,e){var s,n,a,i,c;return i=void 0===(a=(n=(s=o.props.stores).adStore).ads)?[]:a,c=s.userStore.user,Promise.resolve(n.logClick({id:i.length>0?i[0].id:null,user:(void 0===c?{}:c).id})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},d),o.updateTimer={},o.inputRef={},o.apiServer=c.a.getApiServer(),o}var a,r;r=e,(a=o).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var h=o.prototype;return h.loadAd=function(t){return new Promise(function(e,o){var s,n,a,i,c,r,l,d,h,u,b;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),n=(s=this.props.stores).adStore,i=this.props.section,r=void 0===(c=s.appState.path)?"":c,h=void 0===(d=(a=s.userStore).user.language)?"en":d,u={},(l=s.workoutStore.currentTeam)&&(u=a.findTeam(l,!0))&&u.id&&(a.findTeamAmbition({ambition:u.ambitions,language:h}),a.findTeamType({type:u.type,language:h}),u.postalcode,u.place,u.country),r.replace(/\d+$/,"detail"),b=r.replace(/\/\d+/,"/detail"),Promise.resolve(n.load({query:{page:b,section:i}})).then(function(){try{return n.setTime(),this.setState({isLoading:!1}),e()}catch(t){return o(t)}}.bind(this),o)}.bind(this))},h.componentDidMount=function(){this.loadAd()},h.componentWillReceiveProps=function(t){t.path!==this.props.path&&this.loadAd(t)},h.render=function(){var e=this.props.stores,o=e.adStore,s=this.props,n=s.subject,a=s.body,c=s.section,r=e.appState.path,d=e.userStore.user,h=void 0===d?{}:d,u=o.ads,b=void 0===u?[]:u,m=o.time;if(!h||!h.id||!b||0===b.length)return r.match(/\/(home)/i)?Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(l.b,null,Object(i.h)("a",{href:"mailto:post@themusher.no?subject="+n+": "+r+": "+c+"&body="+a,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(t,null);var p=b[0];return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:this.apiServer+"/api/ads/"+p.id+"/view?user="+h.id+"&time="+m,style:"width: 1; height: 1; opacity: 0.1;"})))),p.target?Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+p.url,target:p.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},p.images&&p.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+p.url,onClick:this.logClick},p.images&&p.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))},o}(i.Component))||a)||a;e.a=h}).call(this,o("hosL").Fragment)},gWxU:function(t,e,o){"use strict";o.r(e),function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=o("Utv1"),r=o("/eY4"),l=(o("Y3FI"),o("OhSV")),d=o("fh8t"),h=o.n(d),u=(o("X9Km"),o("ZOvn")),b=o("NDEG"),m=o("s4FZ"),p=(o("jtG4"),o("eQ6k")),g=o("q/oJ"),f=o("Nanz"),O=o("1/9N"),v=u.a.marginTop(!1),j=u.a.marginTopBack(!1),w=u.a.marginBottom(),y={newTeam:{}},k=Object(r.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).onDogClick=function(t,e){return t.preventDefault(),t.stopPropagation(),o.setState({showDog:e}),!1},o.hideDog=function(){o.setState({showDog:null})},o.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},o.subscribeNotificationTopic=function(t){return new Promise((function(e,s){var n,a;return void 0===(a=(n=o.props.stores.userStore).user.notificationTopics)?{}:a,1,Promise.resolve(n.setNotificationTopic({field:"notificationTopics."+t,value:1})).then((function(){try{return e()}catch(t){return s(t)}}),s)}))},o.back=function(){o.props.stores.history.goBack()},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},y),o.updateTimer={},o.time=(new Date).getTime(),o.apiServer=c.a.getApiServer(),o}var a,r;r=e,(a=o).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var d=o.prototype;return d.loadPublicView=function(t){return new Promise(function(e,o){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(t.teamid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return o(t)}}.bind(this),o)}.bind(this))},d.loadAll=function(t){return new Promise(function(e,o){return void 0===t&&(t=this.props),Promise.resolve(this.loadPublicTeam(t)).then(function(){try{return Promise.resolve(this.loadPublicView(t)).then((function(){try{return e()}catch(t){return o(t)}}),o)}catch(t){return o(t)}}.bind(this),o)}.bind(this))},d.loadPublicTeam=function(t){return new Promise(function(e,o){return void 0===t&&(t=this.props),Promise.resolve(t.stores.teamStore.loadPublicDetail({id:t.teamid})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},d.componentDidMount=function(){var t=this.props.back,e=void 0===t?this.back:t,o=this.props.stores.appState;o.setSwipeRight((function(){o.setSwipeRight(),e()})),this.loadAll()},d.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},d.render=function(){var e=this,o=this.state.showDog,s=this.props.stores,n=s.teamStore,a=s.userStore,r=a.user,d=a.isAdmin,y=r.language,k=void 0===y?"en":y,x=n.publicTeam,S=n.publicViewsGraphData,I=!(!x||!x.members)&&x.members.some((function(t){return t.id===r.id})),A=this.props,z=A.marginTop,T=A.marginBottom,D=A.back,C=void 0===D?this.back:D,P=A.hideTeam,U=void 0===P?function(){}:P,_=x.dogs,L=void 0===_?[]:_,R=x.image,M=x.imageHeader,F=x.publicTrophys,E=x.publicMemories,B=x.publicDogs,W=M&&M.s3XXLargeLink?M:{s3XXLargeLink:"./assets/homerun-race-logo.png"},N=R&&R.s3LargeLink?R:null,H=a.findTeamAmbition({ambition:x.ambitions,language:k}),G=a.findTeamType({type:x.type,language:k}),V=x.members&&x.members.findIndex((function(t){return t.id===r.id}))>-1,K=x&&x.followers&&x.followers.indexOf(r.id)>-1,Y=x.followRequests&&x.followRequests.findIndex((function(t){return t.id===r.id}))>-1,q=r.notificationTopics,Z=void 0===q?{}:q,X="team-"+x.id;return Object(i.h)(t,null,o&&Object(i.h)(g.a,null,Object(i.h)(f.default,{stores:this.props.stores,dogid:o,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:L})),Object(i.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(T||w)+"; margin-top: "+(z||v)+";"},Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+j+"; left: 5px; font-size: 35px; width: 45px;",onClick:C},Object(i.h)("i",{class:"fas fa-arrow-circle-left"})),Object(i.h)("div",{class:"row mb-0"},Object(i.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(W?'background-image: url("'+W.s3XXLargeLink+'");':"")},V&&Object(i.h)(t,null,Object(i.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+x.id},Object(i.h)("i",{class:"fas fa-edit"})," ",Object(i.h)(l.c,{id:"teams.edit"},"Endre")))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(i.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(N?'background-image: url("'+N.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!N&&Object(i.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),"Â "),Object(i.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"my-0"},x.name),Object(i.h)("small",{class:"text-muted"},x.place?x.place+", ":"",x.country),Object(i.h)("br",null),G&&Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2"},G),H&&Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},H),Object(i.h)("h6",{class:"mt-2"},Object(i.h)("span",{class:"mr-3"},Object(i.h)("span",{class:"font-weight-bolder"},x.followers?x.followers.length:0)," ",Object(i.h)(l.c,{id:"teams.followers"},"followers")),Object(i.h)("span",{class:"mr-3"},Object(i.h)("span",{class:"font-weight-bolder"},x.dogs?x.dogs.length:0)," ",Object(i.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!Z||!Z[X])&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return e.subscribeNotificationTopic(X)}},Object(i.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!V&&!K&&!Y&&x.public>0&&Object(i.h)("div",{class:"clearfix mb-2"},Object(i.h)(p.a,{stores:this.props.stores,team:x,buttonOnly:!0,skipHome:!0})))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"d-flex justify-content-center"},V&&!x.facebook&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fab fa-facebook"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-sosialmedia"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en sosialemedier.")))),x.url&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asUrl(x.url),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-link"})))),x.facebook&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asFacebookLink(x.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"})))),x.instagram&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asInstagramLink(x.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"})))),x.snapchat&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asSnapchatLink(x.snapchat),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-snapchat"}))))),Object(i.h)("div",{class:"d-flex justify-content-center mt-3"},Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+x.uuidv4},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+x.uuidv4,onClick:U},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),x.imagesSponsor&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:x.imagesSponsor.length}},"Sponsorer - ",x.imagesSponsor.length," stk"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(i.h)(m.a,{stores:this.props.stores,images:x.imagesSponsor}))),x.sponsors&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!x.sponsors&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-sponsors"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn sponsorer.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.sponsors,x.imagesSponsor,k),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!x.description&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-description"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en beskrivelse.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.description,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))),x.descriptionWorkoutplan&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!x.descriptionWorkoutplan&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-description-workoutplan"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en treningsplan.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.descriptionWorkoutplan,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))),B&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.dogs",fields:{total:L.length}},"Hundene - ",L.length," stk"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"row"},L&&L.map((function(t){return Object(i.h)(b.a,{stores:e.props.stores,dog:t,showAge:!0,className:"col",onDogClick:e.onDogClick})}))))),x.images&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.public-photos",fields:{total:x.images.length}},"Teambilder - ",x.images.length," stk"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(i.h)(m.a,{stores:this.props.stores,images:x.images}))),E&&x.achievements&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},x.achievements&&x.achievements.map((function(t){return Object(i.h)("div",{class:"col-12"},t.date&&Object(i.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(t.date,!1,!1,!0)),Object(i.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(i.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("a",{href:u.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fas fa-link"}))))}))))),F&&x.trophys&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},x.trophys&&x.trophys.reverse().map((function(t){var e=u.a.getTrophyImage(t.name);if(!e)return"";var o=t.descriptionHeader&&t.descriptionHeader[k]?t.descriptionHeader[k]:"",s=t.description&&t.description[k]?t.description[k]:"";return Object(i.h)("div",{class:"col-4 mt-3"},Object(i.h)("div",{class:"mb-2"},Object(i.h)("img",{src:e,class:"img-fluid"})),Object(i.h)("strong",null,o),Object(i.h)("small",null,Object(i.h)("details",null,Object(i.h)("summary",null,Object(i.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(i.h)(h.a,{markdown:u.a.replaceImages(s,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))))}))))),Object(i.h)("div",{class:"row mt-5 mb-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-ellipsis-h"})),Object(i.h)("div",{style:"line-height: 0.9em;"},Object(i.h)("small",null,Object(i.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner pÃ¥ denne siden? Send oss en melding pÃ¥ Facebook.")))))),(d||I)&&Object(i.h)(t,null,Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(i.h)(O.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+x.uuidv4})),x.uuidv4&&Object(i.h)("img",{src:this.apiServer+"/api/teams/"+x.uuidv4+"/view?user="+r.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},o}(i.Component))||a;e.default=k}.call(this,o("hosL").Fragment)},irB3:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this.props,o=e.value,s=void 0===o?0:o,i=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return 3.28084*t}(s),0)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(n.h)(t,null,"ft"))):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(s,0)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"m")))):Object(n.h)(t,null,"m")))},o}(n.Component))||s);e.a=c}).call(this,o("hosL").Fragment)},jtG4:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=(o("Utv1"),o("/eY4")),r=(o("Y3FI"),o("OhSV")),l=o("ZOvn"),d={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},h=Object(c.a)(a=function(e){function o(o){var a;return(a=e.call(this,o)||this).requestFollowTeam=function(t){return new Promise((function(e){var o=a.props.stores,s=o.teamStore,n=o.userStore.user,i=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.followRequest(i,n);var c=a.state.requestSent;return c[i]=!0,a.setState({requestSent:c}),e()}))},a.confirmRequest=function(t){return new Promise((function(e,o){var s,n,i,c,r,l,d,h,u;return n=void 0===(s=a.props.callback)?function(){}:s,i=t.target.closest("button").dataset,l=a.props.stores.teamStore,u=(d=a.state).deleted,(h=d.confirmed)[(c=i.team)+"-"+(r=i.user)]=!0,delete u[c+"-"+r],a.setState({confirmed:h,deleted:u}),Promise.resolve(l.confirmFollowRequest({team:parseInt(c,10),user:parseInt(r,10)})).then((function(){try{return n(),e()}catch(t){return o(t)}}),o)}))},a.deleteRequest=function(t){return new Promise((function(e,o){var s,n,i,c,r,l,d,h,u;return n=void 0===(s=a.props.callback)?function(){}:s,i=t.target.closest("button").dataset,l=a.props.stores.teamStore,u=(d=a.state).confirmed,(h=d.deleted)[(c=i.team)+"-"+(r=i.user)]=!0,delete u[c+"-"+r],a.setState({deleted:h,confirmed:u}),Promise.resolve(l.deleteFollowRequest({team:parseInt(c,10),user:parseInt(r,10)})).then((function(){try{return n(),e()}catch(t){return o(t)}}),o)}))},a.unFollowTeam=function(t){var e=a.props.stores,o=e.teamStore,s=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);o.unollowTeam(s),a.setState({unfollowed:!0})},a.getUnblockButton=function(e,o){var s=a.state.confirmed[o+"-"+e];return Object(i.h)(t,null,s?Object(i.h)(t,null,Object(i.h)("small",{class:"text-success"},Object(i.h)("i",{class:"fas fa-check"})," ",Object(i.h)(r.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:a.confirmRequest,"data-team":o,"data-user":e},Object(i.h)(r.c,{id:"teams.connect.confirm"},"Confirm"))))},a.getButton=function(e){var o=a.state.requestSent,s=a.props.stores.userStore.user,n=e.members&&e.members.indexOf(s.id)>-1,c=e.followers&&e.followers.indexOf(s.id)>-1,l=e.blockedFollowers&&e.blockedFollowers.indexOf(s.id)>-1,d=o[e.id]||e.followRequests&&e.followRequests.findIndex((function(t){return t.id===s.id}))>-1;return n?Object(i.h)("i",{class:"fas fa-home"}):e.public?c?Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(i.h)("i",{class:"fas fa-link mr-2"}),Object(i.h)(r.c,{id:"teams.connect.is-following"},"FÃ¸lger")),Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(i.h)(r.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(i.h)(t,null):d?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(i.h)(r.c,{id:"teams.connect.has-requested"},"Venter pÃ¥ godkjenning")):Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:a.requestFollowTeam,"data-team":e.id},Object(i.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(i.h)(r.c,{id:"teams.connect.follow"},"FÃ¸lg")):Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"teams.not-public"},"Ikke offentlig")))},a.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},d),a.updateTimer={},a}var a,c;return c=e,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var e,o,s,n,a=this.state,c=a.deleted,d=void 0===c?{}:c,h=a.unfollowed,u=this.props,b=u.team,m=u.isBlocked,p=u.myTeamId,g=u.showBlockButton,f=this.props.stores.storyStore.findPublicUser(b.user)||b.user||{};b.image&&b.image.s3SmallLink?e=b.image:b.images&&b.images[0]&&b.images[0].s3SmallLink?e=b.images[0]:f.image&&f.image.s3SmallLink?e=f.image:f.images&&f.images[0]&&f.images[0].s3SmallLink&&(e=f.images[0]),b&&b.name?(o=l.a.displayNameShort(b),s=l.a.displayName(b),n=l.a.displayName(f)):f&&f.id&&(o=l.a.displayNameShort(f),s=l.a.displayName(f));var O=d[p+"-"+f.id];return Object(i.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:h?"text-decoration: line-through; opacity: 0.3;":""},Object(i.h)("div",{class:"d-flex position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:e?'background-image: url("'+e.s3MediumLink+'"); background-size: cover;':""},!e&&Object(i.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},o)),Object(i.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"mb-0"},b.public?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+b.uuidv4},s)):Object(i.h)(t,null,s)),Object(i.h)("div",null,b.place?b.place+", ":""," ",b.country," Â "),Object(i.h)("div",null,Object(i.h)("small",{class:"text-muted"},b&&b.dogs&&Object(i.h)("span",{class:""},Object(i.h)("i",{class:"fas fa-dog"})," ",b.dogs.length),b&&b.followers&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-user"})," ",b.followers.length),n&&Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},n)),g&&Object(i.h)(t,null,O?Object(i.h)(t,null,Object(i.h)("small",{class:"text-danger ml-3"},Object(i.h)("i",{class:"fas fa-ban"})," ",Object(i.h)(r.c,{id:"teams.connect.deleted"},"Deleted"))):Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":p,"data-user":f.id},Object(i.h)("i",{class:"fas fa-ban"})," ",Object(i.h)(r.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(i.h)("div",null,m?Object(i.h)(t,null,this.getUnblockButton(f.id,p)):Object(i.h)(t,null,this.getButton(b)))))},o}(i.Component))||a;e.a=h}).call(this,o("hosL").Fragment)},nHdA:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=o("OhSV"),r=(o("ZOvn"),Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,i;return i=e,(s=o).prototype=Object.create(i.prototype),s.prototype.constructor=s,s.__proto__=i,o.prototype.render=function(){var e=this.props,o=e.value,s=void 0===o?0:o,i=e.smallUnit,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return.621371*t}(s),1)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(n.h)(t,null,Object(n.h)(c.c,{id:"workouts.mph"},"mph")))):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(s,1)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(n.h)(t,null,Object(n.h)(c.c,{id:"workouts.kmt"},"km/t"))))},o}(n.Component))||s);e.a=r}).call(this,o("hosL").Fragment)},om2D:function(t,e,o){"use strict";var s,n=o("hosL"),a=o("/eY4"),i=(o("cneo"),o("Utv1"),o("u2zT")),c=Object(a.a)(s=function(t){function e(e){var o;return(o=t.call(this,e)||this).handleAddImage=function(t){var e=o.props.addToImages,s=void 0===e||e,n=o.props,a=n.updateField,i=n.object,c=n.field;if(c&&a({id:i.id,field:c,value:t,skipTimer:!0}),s){var r=[];r.push(t),a({id:i.id,field:"images",value:r,skipTimer:!0})}},o.state={files:[]},o}var o,s;return s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,o=void 0===e?function(){}:e,s=t.before,a=void 0===s?function(){}:s,c=t.after,r=void 0===c?function(){}:c,l=t.autoOpen,d=void 0===l||l;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)(i.a,{handleAddImage:this.handleAddImage,uploadStatus:o,apiUrl:"/api/fileupload",before:a,after:r,autoOpen:d},Object(n.h)("div",{style:{height:30,width:"100%"}}))))},e}(n.Component))||s;e.a=c},"q/oJ":function(t,e,o){"use strict";var s,n=o("hosL"),a=(o("Utv1"),o("/eY4")),i=(o("OhSV"),o("ZOvn")),c=i.a.marginTop(!1),r=i.a.marginBottom(),l=Object(a.a)(s=function(t){function e(){return t.apply(this,arguments)||this}var o,s;return s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,e.prototype.render=function(){var t=this.props.children;return Object(n.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+r+";\n                    margin-top: "+c+";\n                    height: calc(100vh - "+c+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},t)},e}(n.Component))||s;e.a=l},sqi2:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=o("Utv1"),r=o("/eY4"),l=o("cneo"),d=o("OhSV"),h=o("fh8t"),u=o.n(h),b=o("3wGD"),m=(o("ETxl"),o("ZOvn")),p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},g=Object(r.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).likeComment=function(t){return new Promise((function(e,s){var n,a,i,c,r;return a=void 0===(n=o.props.callback)?function(){}:n,i=t.target.parentElement.dataset.id||t.target.dataset.id,c=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutComment({id:c.id,commentId:i})).then((function(t){try{return(r=t)&&200===r.status&&a({type:"likeComment",workout:c,commentId:i,response:r}),e(!0)}catch(t){return s(t)}}),s)}))},o.likeReply=function(t){return new Promise((function(e,s){var n,a,i,c,r,l;return a=void 0===(n=o.props.callback)?function(){}:n,i=t.target.parentElement.dataset.id||t.target.dataset.id,c=t.target.parentElement.dataset.comment||t.target.dataset.comment,r=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutCommentReply({id:r.id,replyId:i,commentId:c})).then((function(t){try{return(l=t)&&200===l.status&&a({type:"likeReply",workout:r,commentId:c,replyId:i,response:l}),e()}catch(t){return s(t)}}),s)}))},o.replyComment=function(t){return new Promise((function(e){var s=t.target.parentElement.dataset.id||t.target.dataset.id,n=o.state.showAddComment;return n[s]=!n[s],o.setState({showAddComment:n},(function(){o.inputRef[s]&&o.inputRef[s].focus()})),e()}))},o.toggleComments=function(){o.setState({showAllComments:!o.state.showAllComments})},o.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,s=o.state.showAllReplies;s[e]=!s[e],o.setState({showAllReplies:s})},o.viewImage=function(t){var e=t.target.closest("img").dataset,s=o.state.viewImageIdx;s[e.id]=e.idx,o.setState({viewImageIdx:s})},o.translate=function(t){return new Promise((function(e,s){function n(){return o.setState({showOriginal:m,translatedText:g}),e()}var a,i,c,r,l,d,h,u,b,m,p,g,f;return t.preventDefault(),t.stopPropagation(),a=t.target.closest("button").dataset,r=o.props.workout,d=(l=o.props.stores).teamStore,h=l.userStore.user,g=void 0===(p=(u=o.state).translatedText)?{}:p,(m=void 0===(b=u.showOriginal)?{}:b)[f=(c=a.commentid)+((i=a.replyid)?"-"+i:"")]=0,i?Promise.resolve(d.translateCommentReply({commentid:c,replyid:i,object:r,user:h})).then(function(t){try{return g[f]=t,n.call(this)}catch(t){return s(t)}}.bind(this),s):Promise.resolve(d.translateComment({commentid:c,object:r,user:h})).then(function(t){try{return g[f]=t,n.call(this)}catch(t){return s(t)}}.bind(this),s)}))},o.showOriginal=function(t){var e=t.target.closest("button").dataset,s=e.replyid,n=e.commentid;t.preventDefault(),t.stopPropagation();var a=o.state.showOriginal,i=void 0===a?{}:a;i[n+(s?"-"+s:"")]=1,o.setState({showOriginal:i})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},p),o.inputRef={},o}var a,r;return r=e,(a=o).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,o.prototype.render=function(){var e,o=this,s=this.state,n=s.showAddComment,a=s.showAllComments,r=s.showAllReplies,h=s.viewImageIdx,p=s.showOriginal,g=void 0===p?{}:p,f=s.translatedText,O=void 0===f?{}:f,v=this.props,j=v.workout,w=v.callback,y=void 0===w?function(){}:w,k=v.compact,x=this.props.stores,S=x.userStore,I=x.teamStore,A=S.user,z=S.isAdmin,T=A.language,D=void 0===T?"en":T,C=[],P=0,U=0;return j.comments&&(P=j.comments.length,a?C=j.comments:(e=void 0!==k&&k?0:1,C=j.comments.slice(Math.max(P-e,0))),U=C.length),Object(i.h)("div",null,j&&C&&C.reverse().map((function(s){var a=s.user,p=void 0===a?{}:a,f=I.findPublicTeamByMembers(p.id),v=m.a.displayNameShort(p),w=m.a.displayName(p),k=p.image||(p.images?p.images[0]:void 0),x=s.likes&&s.likes.findIndex((function(t){return t.user===A.id}))>-1,S=[],T=0,C=0;s.comments&&(T=s.comments.length,C=(S=r[s.id]?s.comments:s.comments.slice(0,e)).length);var P=[];if(s.images){var U=Object(l.i)(s.images);P.push.apply(P,U)}var _=h[s.id]?h[s.id]:0,L=P&&P[_]?P[_]:null,R=s.currentLocationGeocode,M=void 0===R?{}:R,F=I.getCommentTranslations({object:j,commentid:s.id,targetLang:D})||O[s.id],E=F||s.comment;return g[s.id]&&(E=s.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!p.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},v)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},w),f&&f.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},f.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(i.h)(u.a,{markdown:m.a.replaceImages(E,s.images,D),markdownOpts:m.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"container-fluid px-3 mt-1"},L&&Object(i.h)("div",{class:"clearfix row"},Object(i.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:L.s3LargeLink}))),P&&P.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},P.map((function(e,n){return Object(i.h)(t,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:o.viewImage,"data-id":s.id,"data-idx":n})))}))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:o.likeComment,"data-id":s.id},Object(i.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":s.id},Object(i.h)(d.c,{id:"comments.comment-add"},"Kommentar")),s.language!==D&&Object(i.h)(t,null,"-",!g[s.id]&&F?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:o.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":s.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),z&&M&&M.formatted_address&&Object(i.h)(t,null,Object(i.h)("span",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",M.formatted_address)))),s.likes&&s.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},s&&S&&S.map((function(e){var n=e.user,a=void 0===n?{}:n,r=I.findPublicTeamByMembers(a.id),l=a.firstname?""+c.a.ucfirst(a.firstname,!0)+c.a.ucfirst(a.lastname,!0):""+c.a.ucfirst(a.email||"",!0),h=a.firstname?a.firstname+" "+a.lastname:""+a.email,b=a.image||(a.images?a.images[0]:void 0),p=e.likes&&e.likes.findIndex((function(t){return t.user===A.id}))>-1,f=I.getCommentReplyTranslations({object:j,commentid:s.id,replyid:e.id,targetLang:D})||O[s.id+"-"+e.id],v=f||e.comment;return g[s.id+"-"+e.id]&&(v=e.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(b?'background-image: url("'+b.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!a.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},h),r&&r.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},r.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(i.h)(u.a,{markdown:m.a.replaceImages(v,e.images,D),markdownOpts:m.a.getMarkdownOptions()}))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(p?"text-primary":""),onClick:o.likeReply,"data-comment":s.id,"data-id":e.id},Object(i.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":s.id},Object(i.h)(d.c,{id:"comments.comment-add"},"Kommentar")),e.language!==D&&Object(i.h)(t,null,"-",!g[s.id+"-"+e.id]&&f?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":e.id,onClick:o.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":s.id,"data-replyid":e.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),T-C>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.toggleReplies,"data-id":s.id},Object(i.h)(d.c,{id:"comments.show-more",fields:{more:T-C}},"Vis ",T-C," flere kommentarer...")))),n[s.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(b.a,{stores:o.props.stores,workout:j,callback:y,commentId:s.id,inputRef:function(t){return o.inputRef[s.id]=t},inputRefObject:o.inputRef})))})),P-U>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(d.c,{id:"comments.show-more",fields:{more:P-U}},"Vis ",P-U," flere kommentarer..."))),a&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},o}(i.Component))||a;e.a=g}).call(this,o("hosL").Fragment)},u2zT:function(t,e,o){"use strict";var s,n=o("hosL"),a=o("/eY4"),i=o("Utv1"),c=o("OhSV"),r=Object(a.a)(s=function(t){function e(e){var o;return(o=t.call(this,e)||this).dropRef=Object(n.createRef)(),o.handleDrag=function(t){t.preventDefault(),t.stopPropagation()},o.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),o.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&o.setState({drag:!0})},o.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),o.dragCounter--,0===o.dragCounter&&o.setState({drag:!1})},o.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),o.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(var e=0,s=t.dataTransfer.files.length;e<s;e+=1){o.readLocalFile(t.dataTransfer.files[e])}o.dragCounter=0}},o.handleAddFiles=function(t){t.preventDefault();var e=t.target;for(var s=0,n=e.files.length;s<n;s+=1){o.readLocalFile(e.files[s])}},o.handleEvent=function(){0},o.handleUpload=function(t){var e=o.props,s=e.uploadStatus,n=e.before,a=void 0===n?function(){}:n,c=e.after,r=void 0===c?function(){}:c;(void 0===s?function(){}:s)(!1),i.a.isFunction(a)&&a();var l=new FormData;l.append("files[]",t);var d={progress:1};d.xhr=new XMLHttpRequest,d.xhr.upload.addEventListener("progress",(function(e){o.updateProgress(e,t)})),d.xhr.addEventListener("loadstart",(function(e){o.handleEvent(e,t)})),d.xhr.addEventListener("load",(function(e){o.handleEvent(e,t)})),d.xhr.addEventListener("loadend",(function(e){var s=t;i.a.isFunction(r)&&r(),o.handleEvent(e,s)})),d.xhr.addEventListener("progress",(function(e){o.handleEvent(e,t)})),d.xhr.addEventListener("error",(function(e){o.handleEvent(e,t)})),d.xhr.addEventListener("abort",(function(e){o.handleEvent(e,t)})),d.xhr.addEventListener("readystatechange",(function(e){o.uploadDone(e,t)})),d.xhr.open("POST",""+i.a.getApiServer()+o.props.apiUrl),d.xhr.setRequestHeader("Authorization","Bearer "+i.a.getJwtToken()),d.xhr.send(l);var h=t.name,u=o.state.uploadedFilesData;u[h]||(u[h]={}),u[h].uploadMeta=d,u[h].imageNum=o.state.imageNum,o.setState({uploadedFilesData:u})},o.readLocalFile=function(t){return new Promise((function(e,s){var n=new FileReader;n.addEventListener("error",(function(t){s(t)})),n.addEventListener("load",(function(s){var n=t,a=n.name,i=o.state.uploadedFilesData;i[a]||(i[a]={}),i[a].event=s,o.setState({uploadedFilesData:i}),o.handleUpload(n),e(s)})),n.readAsDataURL(t)}))},o.updateProgress=function(t,e){if(t.lengthComputable){var s=e.name,n=o.state.uploadedFilesData,a=t.loaded/t.total*100;0,n[s].uploadMeta.progress=a,o.setState({uploadedFilesData:n})}},o.uploadDone=function(t,e){var s=e.name,n=o.state.uploadedFilesData,a=n[s].uploadMeta;if(a&&4===a.xhr.readyState&&201===a.xhr.status)for(var i=JSON.parse(a.xhr.responseText).data.files,c=0;c<i.length;c+=1){o.addFileToUpload(i[c]),o.fileInput.value=""}},o.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},o}var o,s;s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var a=e.prototype;return a.addFileToUpload=function(t){var e=this.state.uploadedFilesData,o=this.props,s=o.handleAddImage,n=o.uploadStatus,a=void 0===n?function(){}:n;delete e[t.name],this.setState({uploadedFilesData:e}),s(t),a(!0)},a.componentDidMount=function(){var t=this,e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){t.fileInput.click()}),10)},a.componentWillUnmount=function(){var t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)},a.render=function(){var t=this,e=this.state.uploadedFilesData;return Object(n.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(n.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(n.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(n.h)("div",null,Object(n.h)(c.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(n.h)("div",null,Object(n.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(e){t.fileInput=e}})),Object(n.h)("div",null,Object.keys(e).length>0?Object(n.h)("h3",null,Object(n.h)(c.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(n.h)("ul",{class:"list-group"},Object.keys(e).map((function(t){var o=e[t].uploadMeta,s=void 0===o?{}:o,a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(n.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(n.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(n.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(n.h)("small",null,e[t].event.uploadDone),Object(n.h)(c.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(n.h)("small",null,i.a.formatBytes(e[t].event.total,2))),Object(n.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(n.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+s.progress+"%; height: 4px;","aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},e}(n.Component))||s;e.a=r},ukv5:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function i(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function c(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var r,l=o("hosL"),d=o("Utv1"),h=o("/eY4"),u=(o("Y3FI"),o("OhSV")),b=(o("cneo"),o("fh8t"),o("ZOvn")),m=o("nHdA"),p=(o("irB3"),o("UwwE"),o("8Lgr")),g=(o("QkTp"),Object(h.a)(r=function(e){function o(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).hideDetail=function(e){e.preventDefault(),e.stopPropagation(),t.setState({stateDetail:{state:"",idx:0}})},t.showStateDetail=function(e){e.preventDefault(),e.stopPropagation();var o=e.target.closest("div").dataset;t.setState({stateDetail:n({},o)})},t.nextStateDetail=function(e){e.preventDefault(),e.stopPropagation();var o=t.props,s=o.states,n=o.duration,a=t.state.stateDetail,i=parseInt((void 0===a?{}:a).idx,10)+1,c=s[i];c&&t.setState({stateDetail:{idx:i,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:d.a.normalizeBetween(c.duration,0,n,0,100)}})},t.prevStateDetail=function(e){e.preventDefault(),e.stopPropagation();var o=t.props,s=o.states,n=o.duration,a=t.state.stateDetail,i=parseInt((void 0===a?{}:a).idx,10)-1,c=s[i];c&&t.setState({stateDetail:{idx:i,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:d.a.normalizeBetween(c.duration,0,n,0,100)}})},t}var s,a;return a=e,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,o.prototype.render=function(){var e=this,o=this.props,s=o.states,n=o.duration,a=o.height,r=void 0===a?"20px":a,h=o.showText,g=void 0===h||h,f=this.state.stateDetail,O=void 0===f?{}:f;return Object(l.h)(t,null,Object(l.h)("div",{class:"row"},s&&Object(l.h)("div",{class:"col-12 px-0"},Object(l.h)("div",{class:"progress",style:"height: "+(O&&O.idx?"20px":r)+";"},s.map((function(o,s){var a=Math.ceil(d.a.normalizeBetween(o.duration,0,n,0,100)),c=a;return O&&O.idx==s&&(c=a<10?10:a),Object(l.h)(t,null,Object(l.h)("div",{class:"progress-bar bg-"+i(o.state),role:"progressbar",style:"width: "+c+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100","data-idx":s,"data-state":o.state,"data-duration":o.duration,"data-distance":o.distance,"data-avgspeed":o.avgSpeed,"data-statespeeds":o.stateSpeeds,"data-point":o.point,"data-start":o.start,"data-end":o.end,"data-percent":d.a.normalizeBetween(o.duration,0,n,0,100),onClick:e.showStateDetail},g?Object(l.h)(t,null,Object(l.h)("nobr",null,a>10&&Object(l.h)(t,null,"rest"===o.state?Object(l.h)(t,null,d.a.secToHms(o.duration,!0)):Object(l.h)(t,null,d.a.format(o.distance/1e3,0),"km")),O&&O.idx==s?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===o.state?"dark":"warning")+" mx-2"}):"")):Object(l.h)(t,null,O&&O.idx==s?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===o.state?"dark":"warning")+" mx-2"}):"")))}))),O&&O.state&&Object(l.h)(t,null,Object(l.h)("div",{class:"card position-relative"},Object(l.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:c(O.state)})," ",d.a.format(O.percent,1),"%")),Object(l.h)("div",{class:"card-body"},"rest"===O.state?Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,d.a.secToHms(O.duration,!0))),O.point&&Object(l.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fa-map-marked ml-2"})," ",Object(l.h)(u.c,{id:"workouts.position"},"Position")),Object(l.h)("h6",null,O.point))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,b.a.formatDate(d.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,b.a.formatDate(d.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-road ml-2"})," ",Object(l.h)(u.c,{id:"workouts.distance"},"Distanse")),Object(l.h)("h6",null,Object(l.h)(p.a,{stores:this.props.stores,value:O.distance/1e3}))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,d.a.secToHms(O.duration,!0))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(l.h)(u.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(l.h)("h6",null,Object(l.h)(m.a,{stores:this.props.stores,value:O.distance/O.duration*3.6})))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,b.a.formatDate(d.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,b.a.formatDate(d.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(l.h)("div",{class:"float-right"},Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-times"})),O.idx<s.length-1&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-right"})),O.idx>0&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-left"}))))))))},o}(l.Component))||r);e.a=g}).call(this,o("hosL").Fragment)},"vY+r":function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=o("Utv1"),r=o("/eY4"),l=o("OhSV"),d=o("ZOvn"),h={},u=Object(r.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleViews=function(){var t=o.props;(t.isTeamAdmin||t.isAdmin)&&o.setState({showViewList:!o.state.showViewList})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),o}var a,r;return r=e,(a=o).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,o.prototype.render=function(){var e=this.state.showViewList,o=this.props.stores,s=o.storyStore,n=o.teamStore,a=o.workoutStore,r=this.props,h=r.views,u=r.type,b=void 0===u?"story":u,m=r.onTeamClick,p=void 0===m?function(){}:m,g=[];Object.entries(r.object.statistics).forEach((function(t){Object.entries(t[1]).forEach((function(t){var e=t[1];e.viewUsers&&g.push(e.viewUsers)}))}));var f=g.flat().slice(0,50);return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-end mb-2"},Object(i.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},h," ",Object(i.h)(l.c,{id:"story.views"},"views"))),e&&Object(i.h)("div",{class:"mt-3 mb-3"},f&&f.map((function(e){var o,r,l;if("story"===b?(o=s.findPublicUser(e),r=s.findPublicTeamByMembers(e)):"team"===b?(o=n.findPublicUser(e),r=n.findPublicTeamByMembers(e)):"workout"===b&&(o=a.findPublicUser(e),r=a.findPublicTeamByMembers(e)),!o)return"";c.a.isArray(r)&&(l=r.find((function(t){return 1===t.public})));var h=d.a.getImage({user:o,team:l,priority:"user"}),u=d.a.displayNameShort(o),m=d.a.displayName(o,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(t){return p(t,l.uuidv4)},class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},u))),Object(i.h)("div",{class:"ml-2 "},m," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},u)),Object(i.h)("div",{class:"ml-2"},m)))})),h>f.length&&Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},o}(i.Component))||a;e.a=u}).call(this,o("hosL").Fragment)},wLBv:function(t,e,o){"use strict";var s,n=o("hosL"),a=o("Utv1"),i=o("/eY4"),c=Object(i.a)(s=function(t){function e(){return t.apply(this,arguments)||this}var o,s;return s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,e.prototype.render=function(){var t=this.props.musher;return Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?'background-image: url("'+t.image.s3SmallLink+'");':""},!t.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a.a.ucfirst(t.email,!0))),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(n.h)("span",{class:"float-right"}),Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.fname||t.email)))))},e}(n.Component))||s;e.a=c},wanP:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,i=o("hosL"),c=(o("Utv1"),o("/eY4")),r=o("eK6s"),l=o.n(r),d={mouseData:{}},h=Object(c.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},d),o.svgRef=null,o}var a,c;return c=e,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var e=this,o=this.props,s=o.radius,n=void 0===s?50:s,a=o.heightAdd,c=void 0===a?0:a,r=o.color,d=void 0===r?"success":r,h=o.showPercentText,u=void 0===h||h,b=o.percent,m=void 0===b?0:b,p=o.prefix,g=void 0===p?"":p,f=o.showCenterText,O=void 0!==f&&f,v=o.centerText,j=o.centerTextSize,w=o.centerTextX,y=o.centerTextY,k=o.total,x=void 0===k?"":k,S=o.totalY,I=void 0===S?"90%":S,A=o.totalX,z=void 0===A?"50%":A,T=o.totalTextAnchor,D=void 0===T?"middle":T,C=o.completed,P=void 0===C?"":C,U=o.completedY,_=void 0===U?"65%":U,L=o.completedX,R=void 0===L?"50%":L,M=o.completedTextAnchor,F=void 0===M?"middle":M,E=.3*n,B=n-E/2,W=.3*n,N=2*B*Math.PI,H=.75*N,G=H+" "+N,V="rotate(135, "+n+", "+n+")",K=H-Math.min(Math.max(m,0),100)/100*H,Y=j||n/2.5,q=n/5;return Object(i.h)(t,null,Object(i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*n,height:2*n+c,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(i.h)("circle",{class:""+l.a.gaugeBackground,cx:n,cy:n,r:B,strokeWidth:E,strokeDasharray:G,strokeLinecap:"round",transform:V}),Object(i.h)("circle",{class:l.a[d]+" "+l.a.gauge,cx:n,cy:n,r:B,stroke:"url(#grad)",strokeDasharray:G,strokeDashoffset:K,strokeLinecap:"round",strokeWidth:W,style:{transition:"stroke-dashoffset 0.3s"},transform:V}),u&&Object(i.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":Y},m," ",g),O&&Object(i.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":Y},v),P&&Object(i.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:R,y:_,"dominant-baseline":"middle","text-anchor":F,"font-size":q},P),Object(i.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:z,y:I,"dominant-baseline":"middle","text-anchor":D,"font-size":q},x)))},o}(i.Component))||a;e.a=h}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=12.chunk.ca4b8.js.map