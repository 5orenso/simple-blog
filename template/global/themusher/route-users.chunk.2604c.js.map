{"version":3,"sources":["webpack:///./routes/users/index.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","Profile","observer","props","resetEmailMessage","userStore","stores","updateField","resetEmailError","toggleSetting","field","user","settings","updateSetting","subscriptionCreate","paypalStore","setState","paypalLoading","getInfo","subscriptionCancel","e","id","target","closest","dataset","planId","subscriptionDetail","subscription","payPalSubscriptionId","setSubscriptionPaypal","data","toggleCancel","showCancel","state","toggleDetails","showDetails","time","Date","now","count","getPaypalButton","this","subscriptionPaypal","isActive","subscriber","billing_info","name","last_payment","class","email_address","given_name","surname","util","isoDate","next_billing_time","amount","currency_code","value","type","onClick","disabled","data-id","role","aria-hidden","startDate","approveLinkObject","href","rel","componentDidMount","verifyEmailToken","verifyEmail","token","render","emailMessage","emailError","emailMessageIcon","emailErrorIcon","isAdmin","allTeams","findTeams","teams","apiServer","getApiServer","jwtToken","getJwtToken","style","message","icon","remove","email","team","findTeam","map","username","firstname","lastname","cellphone","url","facebook","instagram","snapchat","onInput","checked","hideProfile","for","hideInvite","hideSettings","summaryEmails","infoEmails","partnerEmails","src","strava","access_token","athlete","profile","native","garmin","access","oauth_token","Component"],"mappings":"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","file":"route-users.chunk.2604c.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nimport Error from '../../components/error';\nimport Message from '../../components/message';\n\n@observer\nclass Profile extends Component {\n\tconstructor(props) {\n        super(props);\n        this.state = {\n            time: Date.now(),\n\t\t\tcount: 10\n        };\n    }\n\n\tresetEmailMessage = () => {\n\t\tconst { userStore } = this.props.stores;\n\t\tuserStore.updateField('emailMessage', '');\n\t\tuserStore.updateField('emailMessageIcon', '');\n\t}\n\n\tresetEmailError = () => {\n\t\tconst { userStore } = this.props.stores;\n\t\tuserStore.updateField('emailError', '');\n\t\tuserStore.updateField('emailErrorIcon', '');\n\t}\n\n\ttoggleSetting= async (field) => {\n        const { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n        await userStore.updateSetting({ [`settings.${field}`]: settings[field] === 1 ? 0 : 1 });\n    }\n\n\tsubscriptionCreate = async () => {\n\t\tconst { paypalStore, userStore } = this.props.stores;\n\t\tthis.setState({ paypalLoading: true });\n\t\tawait paypalStore.subscriptionCreate({});\n\t\tawait userStore.getInfo();\n\t\tthis.setState({ paypalLoading: false });\n\t}\n\n\tsubscriptionCancel = async (e) => {\n\t\tconst { id } = e.target.closest('button').dataset;\n\t\tconst { paypalStore, userStore } = this.props.stores;\n\t\tawait paypalStore.subscriptionCancel({ planId: id });\n\t\tawait userStore.getInfo();\n\t}\n\n\tsubscriptionDetail = async () => {\n\t\tconst { paypalStore, userStore } = this.props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tconst { subscription } = user;\n\n\t\tif (subscription.payPalSubscriptionId) {\n\t\t\tconst response = await paypalStore.subscriptionDetail({ id: subscription.payPalSubscriptionId });\n\t\t\tuserStore.setSubscriptionPaypal(response.data);\n\t\t\tawait userStore.getInfo();\n\t\t}\n\t}\n\n\ttoggleCancel = () => {\n\t\tconst { showCancel } = this.state;\n\t\tthis.setState({\n\t\t\tshowCancel: !showCancel,\n\t\t});\n\t}\n\ttoggleDetails = () => {\n\t\tconst { showDetails } = this.state;\n\t\tif (!showDetails) {\n\t\t\tthis.subscriptionDetail();\n\t\t}\n\t\tthis.setState({\n\t\t\tshowDetails: !showDetails,\n\t\t});\n\t}\n\n\tgetPaypalButton() {\n\t\tconst { paypalLoading, showCancel, showDetails } = this.state;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user = {}, subscriptionPaypal = {} } = userStore;\n\t\tconst { subscription = {} } = user;\n\n\t\tif (subscription && subscription.isActive) {\n\t\t\tif (showDetails) {\n\t\t\t\tconst { subscriber = {}, billing_info = {} } = subscriptionPaypal;\n\t\t\t\tconst { name = {} } = subscriber;\n\t\t\t\tconst { last_payment = {} } = billing_info;\n\t\t\t\treturn (<>\n\t\t\t\t\t<h5>Subscriber</h5>\n\t\t\t\t\t<table class='table table-sm table-striped'>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr><th>Email</th><td>{subscriber.email_address}</td></tr>\n\t\t\t\t\t\t\t<tr><th>Name</th><td>{name.given_name} {name.surname}</td></tr>\n\t\t\t\t\t\t\t<tr><th>Next billing</th><td>{util.isoDate(billing_info.next_billing_time)}</td></tr>\n\t\t\t\t\t\t\t<tr><th>Last payment</th><td>\n\t\t\t\t\t\t\t\t{util.isoDate(last_payment.time)} {last_payment.amount && <>\n\t\t\t\t\t\t\t\t\t{last_payment.amount.currency_code} {last_payment.amount.value}\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</td></tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t{showCancel ? <>\n\t\t\t\t\t\t<button type='submit' class='btn btn-danger btn-lg' onClick={this.subscriptionCancel} disabled={paypalLoading} data-id={subscription.payPalSubscriptionId}>\n\t\t\t\t\t\t\tCancel subscription {paypalLoading && <>\n\t\t\t\t\t\t\t\t<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true' />\n\t\t\t\t\t\t\t\t<span class='sr-only'>Loading...</span>\n  \t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</> : <>\n\t\t\t\t\t\t<small class='font-weight-lighter' onClick={this.toggleCancel}>\n\t\t\t\t\t\t\tCancel subscription\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</>}\n\t\t\t\t</>);\n\t\t\t}\n\t\t\treturn (<>\n\t\t\t\t<div class='d-flex'>\n\t\t\t\t\t<div class='display-4 text-success float-left'>\n\t\t\t\t\t\t<i class='fas fa-check' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='align-self-stretch ml-3 pt-3'>\n\t\t\t\t\t\tActive premium subscription since {util.isoDate(subscription.startDate)}<br />\n\t\t\t\t\t\t<small class='font-weight-lighter' onClick={this.toggleDetails}>\n\t\t\t\t\t\t\tSubscription details \n\t\t\t\t\t\t</small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>);\n\t\t}\n\n\t\tif (subscription && subscription.approveLinkObject) {\n\t\t\tconst { href } = subscription.approveLinkObject;\n\t\t\treturn (<>\n\t\t\t\t<a class='btn btn-primary btn-lg' href={href} target='_blank' rel='noreferrer'>\n\t\t\t\t\tApprove payment at PayPal\n\t\t\t\t</a>\n\t\t\t</>);\n\t\t}\n\n\t\treturn (<>\n\t\t\t<button type='submit' class='btn btn-success btn-lg' onClick={this.subscriptionCreate} disabled={paypalLoading}>\n\t\t\t\tSubscripe to Premium / Monthly $5 {paypalLoading && <>\n\t\t\t\t\t<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true' />\n\t\t\t\t\t<span class='sr-only'>Loading...</span>\n\t\t\t\t</>}\n\t\t\t</button>\t\t\t\t\t\t\t\t\n\t\t</>);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { userStore } = this.props.stores;\n\n\t\tif (this.props.verifyEmailToken) {\n\t\t\tuserStore.verifyEmail({ token: this.props.verifyEmailToken });\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user, emailMessage, emailError, emailMessageIcon, emailErrorIcon, isAdmin } = userStore;\n\t\tconst { teams, settings = {} } = user;\n\t\tconst allTeams = userStore.findTeams(teams);\n\t\tconst apiServer = util.getApiServer();\n\t\tconst jwtToken = util.getJwtToken();\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<Error message={emailError} icon={emailErrorIcon} remove={this.resetEmailError} />\n                        <Message message={emailMessage} icon={emailMessageIcon} remove={this.resetEmailMessage}  />\n\n\t\t\t\t\t\t<a href='/users/edit' class='btn btn-primary btn-sm float-right'>\n\t\t\t\t\t\t\t<Text id='users.edit'>Endre</Text>\n\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t<h5><Text id='users.title'>Din profil</Text></h5>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-4 text-muted text-right'><Text id='users.email'>E-post</Text></div><div class='col-8'>{user.email}</div>\n\n\t\t\t\t\t<div class='col-4 text-muted text-right'><Text id='users.password'>Passord</Text></div><div class='col-8'>\n\t\t\t\t\t\t<a href='/users/edit-password' class='btn btn-primary btn-sm'>\n\t\t\t\t\t\t\t<Text id='users.change-password'>Endre passord</Text>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t{user.team && <><div class='col-4 text-muted text-right'><Text id='users.main-team'>Hovedteam</Text></div><div class='col-8'>{userStore.findTeam(user.team)}</div></>}\n\t\t\t\t\t{user.teams && <><div class='col-4 text-muted text-right'><Text id='users.all-teams'>Alle teamene</Text></div><div class='col-8'>{allTeams.map(team => (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{team.name}\n\t\t\t\t\t\t\t{/* <span class='text-muted'>\n\t\t\t\t\t\t\t\t<i class='fas fa-dog ml-3' /> {team.dogs.length}\n\t\t\t\t\t\t\t\t<i class='fas fa-users ml-3' /> {team.members.length}\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}</div></>}\n\t\t\t\t\t{user.username && <><div class='col-4 text-muted text-right'><Text id='users.username'>Brukernavn</Text></div><div class='col-8'>{user.username}</div></>}\n\t\t\t\t\t{user.firstname && <><div class='col-4 text-muted text-right'><Text id='users.firstname'>Fornavn</Text></div><div class='col-8'>{user.firstname}</div></>}\n\t\t\t\t\t{user.lastname && <><div class='col-4 text-muted text-right'><Text id='users.lastname'>Etternavn</Text></div><div class='col-8'>{user.lastname}</div></>}\n\t\t\t\t\t{user.cellphone && <><div class='col-4 text-muted text-right'><Text id='users.cellphone'>Mobil</Text></div><div class='col-8'>{user.cellphone}</div></>}\n\t\t\t\t\t{user.url && <><div class='col-4 text-muted text-right'><Text id='users.homepage'>Hjemmeside</Text></div><div class='col-8'>{user.url}</div></>}\n\t\t\t\t\t{user.facebook && <><div class='col-4 text-muted text-right'><Text id='users.facebook'>Facebook</Text></div><div class='col-8'>{user.facebook}</div></>}\n\t\t\t\t\t{user.instagram && <><div class='col-4 text-muted text-right'><Text id='users.instagram'>Instagram</Text></div><div class='col-8'>{user.instagram}</div></>}\n\t\t\t\t\t{user.snapchat && <><div class='col-4 text-muted text-right'><Text id='users.snapchat'>Snapchat</Text></div><div class='col-8'>{user.snapchat}</div></>}\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t<div class='col-4 text-muted text-right'>\n\t\t\t\t\t\t<Text id='users.settings-hide-profile'>Skjul profilen</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t<div class='custom-control custom-switch'>\n\t\t\t\t\t\t\t<input type='checkbox' class='custom-control-input' id='settingsHideProfile' onInput={() => this.toggleSetting('hideProfile')} checked={settings.hideProfile} />\n\t\t\t\t\t\t\t<label class='custom-control-label' for='settingsHideProfile' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<small class='text-muted'><Text id='users.settings-hide-profile-help'>Det vil snart være mulig å bli venner med andre her på The Musher. Dersom du ikke vil at andre skal kunne finne deg, så kan du skjule profilen din her.</Text></small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t<div class='col-4 text-muted text-right'>\n\t\t\t\t\t\t<Text id='users.settings-hide-invite'>Skjul invitasjonsboks</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t<div class='custom-control custom-switch'>\n\t\t\t\t\t\t\t<input type='checkbox' class='custom-control-input' id='settingsHideInvitation' onInput={() => this.toggleSetting('hideInvite')} checked={settings.hideInvite} />\n\t\t\t\t\t\t\t<label class='custom-control-label' for='settingsHideInvitation' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<small class='text-muted'><Text id='users.settings-hide-invite-help'>Skjul invitasjonsboksen på forsiden.</Text></small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t<div class='col-4 text-muted text-right'>\n\t\t\t\t\t\t<Text id='users.settings-hide-settings'>Skjul innstillinger</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t<div class='custom-control custom-switch'>\n\t\t\t\t\t\t\t<input type='checkbox' class='custom-control-input' id='settingsHideSettings' onInput={() => this.toggleSetting('hideSettings')} checked={settings.hideSettings} />\n\t\t\t\t\t\t\t<label class='custom-control-label' for='settingsHideSettings' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<small class='text-muted'><Text id='users.settings-hide-settings-help'>Skjul innstillinger på forsiden.</Text></small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t<div class='col-4 text-muted text-right'>\n\t\t\t\t\t\t<Text id='users.settings-summary-email'>Oppsummeringer</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t<div class='custom-control custom-switch'>\n\t\t\t\t\t\t\t<input type='checkbox' class='custom-control-input' id='settingsSummaryEmails' onInput={() => this.toggleSetting('summaryEmails')} checked={settings.summaryEmails} />\n\t\t\t\t\t\t\t<label class='custom-control-label' for='settingsSummaryEmails' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<small class='text-muted'><Text id='users.settings-receive-summary-email'>Motta oppsummeringer via e-post</Text></small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t<div class='col-4 text-muted text-right'>\n\t\t\t\t\t\t<Text id='users.settings-info-email'>Info</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t<div class='custom-control custom-switch'>\n\t\t\t\t\t\t\t<input type='checkbox' class='custom-control-input' id='settingsInfoEmails' onInput={() => this.toggleSetting('infoEmails')} checked={settings.infoEmails} />\n\t\t\t\t\t\t\t<label class='custom-control-label' for='settingsInfoEmails' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<small class='text-muted'><Text id='users.settings-receive-info-email'>Motta info via e-post</Text></small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row mt-4'>\n\t\t\t\t\t<div class='col-4 text-muted text-right'>\n\t\t\t\t\t\t<Text id='users.settings-partner-email'>Partners</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-8'>\n\t\t\t\t\t\t<div class='custom-control custom-switch'>\n\t\t\t\t\t\t\t<input type='checkbox' class='custom-control-input' id='settingsPartnerEmails' onInput={() => this.toggleSetting('partnerEmails')} checked={settings.partnerEmails} />\n\t\t\t\t\t\t\t<label class='custom-control-label' for='settingsPartnerEmails' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<small class='text-muted'><Text id='users.settings-receive-partner-email'>Motta tilbud fra våre partnere via e-post</Text></small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{isAdmin && <div class='row border-top mt-5 pt-5'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t{this.getPaypalButton()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>}\n\n\t\t\t\t<div class='row border-top mt-5 pt-5'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src='./assets/strava_logo_orange.png' style='max-height: 100px;' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{user.strava && user.strava.access_token ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12'><h5><i class='fas fa-thumbs-up text-success' /> <Text id='users.strava-connected'>Connected to Strava!</Text></h5></div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'><Text id='users.strava-id'>id</Text>:</div><div class='col-8'> {user.strava.athlete.id}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'><Text id='users.strava-username'>username</Text>:</div><div class='col-8'> {user.strava.athlete.username}</div>\n\t\t\t\t\t\t\t{/* <div class='col-4 text-right text-muted'>resource_state:</div><div class='col-8'> {user.strava.athlete.resource_state}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>firstname:</div><div class='col-8'> {user.strava.athlete.firstname}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>lastname:</div><div class='col-8'> {user.strava.athlete.lastname}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>city:</div><div class='col-8'> {user.strava.athlete.city}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>state:</div><div class='col-8'> {user.strava.athlete.state}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>country:</div><div class='col-8'> {user.strava.athlete.country}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>sex:</div><div class='col-8'> {user.strava.athlete.sex}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>premium:</div><div class='col-8'> {user.strava.athlete.premium}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>summit:</div><div class='col-8'> {user.strava.athlete.summit}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>created_at:</div><div class='col-8'> {user.strava.athlete.created_at}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>updated_at:</div><div class='col-8'> {user.strava.athlete.updated_at}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>badge_type_id:</div><div class='col-8'> {user.strava.athlete.badge_type_id}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>profile_medium:</div><div class='col-8'> <img src={user.strava.athlete.profile_medium} /></div> */}\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'><Text id='users.strava-profile'>profile</Text>:</div><div class='col-8'> <img src={user.strava.athlete.profile} /></div>\n\t\t\t\t\t\t\t{/* <div class='col-4 text-right text-muted'>friend:</div><div class='col-8'> {user.strava.athlete.friend}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>follower:</div><div class='col-8'> {user.strava.athlete.follower}</div> */}\n\n\t\t\t\t\t\t\t{/* {isAdmin && <div class='col-12'>\n\t\t\t\t\t\t\t\t<button class='btn btn-primary' onclick={userStore.stravaGetActivityStream}><Text id='users.strava-get-activities'>Get activity streams</Text></button>\n\t\t\t\t\t\t\t</div>} */}\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<div class='display-1 text-success'>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-check' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t<Text id='users.strava-reconnect-help'>Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt</Text>:<br />\n\t\t\t\t\t\t\t\t\t\t<a href={`${apiServer}/api/strava/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\t\t<Text id='users.strava-reconnect'>Reconnect to Strava</Text>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<a class='btn btn-primary' href={`${apiServer}/api/strava/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'><Text id='users.strava-connect'>Connect to Strava</Text></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row border-top mt-5 pt-5'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src='./assets/garmin-connect.png' style='height: 100px;' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{user.garmin && user.garmin.access && user.garmin.access.oauth_token ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t\t<h5><i class='fas fa-thumbs-up text-success' /> <Text id='users.garmin-connected'>Connected to Garmin Connect!</Text></h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<div class='display-1 text-success'>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-check' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t<Text id='users.garmin-reconnect-help'>Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt</Text>:<br />\n\t\t\t\t\t\t\t\t\t\t<a href={`${apiServer}/api/garmin/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\t\t<Text id='users.garmin-reconnect'>Reconnect to Garmin Connect</Text>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<a class='btn btn-primary' href={`${apiServer}/api/garmin/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'><Text id='users.garmin-connect'>Connect to Garmin Connect</Text></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row border-top mt-5 pt-5'>\n\t\t\t\t\t<div class='col-12 text-center'>\n\t\t\t\t\t\t<a href='/logout' class='btn btn-block btn-lg btn-warning'>\n\t\t\t\t\t\t\t<i class='fas fa-sign-out-alt' /> <Text id='header.logout'>Logg ut</Text>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Profile;\n"],"sourceRoot":""}