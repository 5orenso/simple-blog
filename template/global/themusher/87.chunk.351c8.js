(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{LMwI:function(e){e.exports={pointerCursor:"pointerCursor__1W6mM"}},RMlE:function(e,t,a){"use strict";function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,s=a("hosL"),i=a("ox/y"),c=(a("Utv1"),a("/eY4")),l=(a("go65"),a("Y3FI")),p=a("OhSV"),u=(a("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),h=Object(c.a)(r=function(e){function t(t){var a;return(a=e.call(this,t)||this).toggleDropdown=function(e){var t=a.state.menu,n=e.target.dataset.name;!n&&e.target.parentNode&&(n=e.target.parentNode.dataset.name),n&&(t[n]=!t[n]),a.setState({menu:t})},a.toggleDarkmode=function(e){a.props.stores.appState.toggleDarkmode(),a.toggleDropdown(e)},a.toggleViewmode=function(e){var t=e.target.dataset.mode;!t&&e.target.parentNode&&(t=e.target.parentNode.dataset.mode),a.props.stores.appState.toggleViewmode(t),a.toggleDropdown(e)},a.reloadApp=function(){window.location.reload(!0)},a.adminLoadAll=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.userStore.getInfo(!0)).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},a.changeLanguage=function(e){var t=e.target.value;console.log("changeLanguage",t);var n=a.props.stores,o=n.appState,r=n.userStore,s=r.user,i=void 0===s?{}:s;i.email&&r.setLanguage({email:i.email,language:t}),o.setLanguage(t)},a.search=function(){var e=a.state.searchText;Object(l.route)("/search/"+e)},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},u),a}var a,r;return r=e,(a=t).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,t.prototype.render=function(){var e=this.state,t=e.menu,a=this.props.stores,n=a.appState,o=a.userStore,r=n.darkmode,c=o.user,l=o.notifications,u=((void 0===l?[]:l).filter((function(e){return!e.read})),c.language),h=void 0===u?"en":u;return Object(s.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(s.h)("a",{class:"navbar-brand",href:"/race/"},Object(s.h)("img",{src:"./assets/homerun-race-logo-2-"+(r?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(s.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(s.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(s.h)("span",{class:"navbar-toggler-icon"})),Object(s.h)("div",{class:"collapse navbar-collapse "+(t.main?"show":""),id:"navbarSupportedContent"},Object(s.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(s.h)("li",{class:"nav-item"},Object(s.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(s.h)("i",{class:"fas fa-flag-checkered"})," ",Object(s.h)(p.c,{id:"header.races"},"LÃ¸pene"))),Object(s.h)("li",{class:"nav-item"},Object(s.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(s.h)("i",{class:"far fa-question-circle"})," ",Object(s.h)(p.c,{id:"header.support"},"Support"))),Object(s.h)("li",{class:"nav-item"},Object(s.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(s.h)("i",{class:"fas fa-quote-right"})," ",Object(s.h)(p.c,{id:"header.news"},"Nyheter")))),Object(s.h)("ul",{class:"navbar-nav ml-auto "},Object(s.h)("li",{class:"nav-item mr-2"},Object(s.h)("div",{class:"form-row align-items-center"},Object(s.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(s.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(s.h)("option",{value:"no",selected:"no"===h},"ðŸ‡³ðŸ‡´ NO"),Object(s.h)("option",{value:"en",selected:"en"===h},"ðŸ‡¬ðŸ‡§ EN"),Object(s.h)("option",{value:"es",selected:"es"===h},"ðŸ‡ªðŸ‡¸ ES"),Object(s.h)("option",{value:"de",selected:"de"===h},"ðŸ‡©ðŸ‡ª DE"),Object(s.h)("option",{value:"fr",selected:"fr"===h},"ðŸ‡«ðŸ‡· FR"),Object(s.h)("option",{value:"ru",selected:"ru"===h},"ðŸ‡·ðŸ‡º RU"),Object(s.h)("option",{value:"se",selected:"se"===h},"ðŸ‡¸ðŸ‡ª SE"))))),Object(s.h)("li",{class:"nav-item d-block d-lg-none"},Object(s.h)(i.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(s.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"})," ",Object(s.h)(p.c,{id:"header.darkmode"},"Nattmodus"))),Object(s.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(s.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(s.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"}))))))},t}(s.Component))||r;t.a=h},pjEN:function(e,t,a){"use strict";a.r(t),function(e){function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,s=a("hosL"),i=a("QRet"),c=a("Utv1"),l=a("/eY4"),p=a("OhSV"),u=a("fh8t"),h=a.n(u),d=a("RMlE"),b=a("ZOvn"),m=b.a.marginTop(!1,!1),g=b.a.marginBottom(),f={isLoading:!1,email:"",submenu:"ads",jwtToken:c.a.getJwtToken(),newRaceArticle:{},newRaceUserImage:{}},O=Object(l.a)(r=function(t){function a(e){var a;return(a=t.call(this,e)||this).toggleShowNews=function(){a.setState({showNews:!a.state.showNews})},a.jumpTo=function(e){e.preventDefault(),document.getElementById(e.target.parentElement.dataset.id||e.target.dataset.id).scrollIntoView({behavior:"smooth",block:"start"})},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},f),a.inputRef={},a.updateTimer={},a}var r,c;c=t,(r=a).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var l=a.prototype;return l.loadRace=function(e){return new Promise(function(t,a){return void 0===e&&(e=this.props),this.setState({isLoading:!0}),Promise.resolve(e.stores.raceStore.load({query:{}})).then(function(){try{return this.setState({isLoading:!1}),t()}catch(e){return a(e)}}.bind(this),a)}.bind(this))},l.loadNews=function(e){return new Promise(function(t,a){var n,o,r;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),o=(n=e.stores).newsStore,r={tag:e.tag},n.userStore.isAdmin&&(r.showall=1),Promise.resolve(o.load({query:r})).then(function(){try{return this.setState({isLoading:!1}),t()}catch(e){return a(e)}}.bind(this),a)}.bind(this))},l.componentDidMount=function(){this.loadRace(),this.loadNews()},l.componentWillReceiveProps=function(e){this.loadRace(e),this.loadNews(e)},l.render=function(){var t,a=this,n=this.props.stores,o=n.userStore,r=o.isAdmin,c=this.props,l=c.col,u=void 0===l?12:l,f=c.offset,O=void 0===f?0:f,j=n.appState.language,v=void 0===j?"en":j,w=n.newsStore.newsList.reverse(),y=w&&w[0]?w[0]:null;return Object(s.h)(e,null,Object(s.h)(d.a,{stores:this.props.stores}),Object(s.h)("div",{class:"container-fluid position-relative",style:"margin-bottom: "+g+"; margin-top: "+m+";"},!y&&Object(s.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(s.h)("div",{class:"spinner-border text-primary",role:"status"},Object(s.h)("span",{class:"sr-only"},"Loading..."))),y&&Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12",id:"newslist"},Object(s.h)("div",{class:"jumbotron-thumb d-flex align-items-center"},y.images&&y.images[0]?Object(s.h)("img",{src:y.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(s.h)("div",{class:"jumbotron py-2"},Object(s.h)("h1",{class:"display-4"},r&&Object(s.h)("i",{class:"fas fa-eye"+(y.active?" text-success":"-slash text-danger")+" float-right"})," ",(t=y.title,Object(i.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(s.h)("h1",null,t))),Object(s.h)("p",{class:"lead"},Object(s.h)(h.a,{markdown:b.a.replaceImages(y.ingress,y.images,v),markdownOpts:b.a.getMarkdownOptions()})),Object(s.h)("p",null,Object(s.h)("ul",null,w&&w.map((function(e){return Object(s.h)("li",null,Object(s.h)("a",{href:"#",onClick:a.jumpTo,"data-id":"news-"+e.id},b.a.replaceImages(e.title,e.images,v,!1)))})))))),Object(s.h)("div",{class:"col-"+u+" offset-"+O+" col-sm-8 col-lg-8 offset-sm-2 offset-lg-2"},w&&w.map((function(e,t){return Object(s.h)("div",{class:"row",id:"news-"+e.id},t>0&&Object(s.h)("div",{class:"col-12 mt-5"},Object(s.h)("small",{class:"float-right font-weight-light"},Object(s.h)("a",{href:"#",onClick:a.jumpTo,"data-id":"newslist",class:"text-muted"},Object(s.h)(p.c,{id:"race.to-top"},"Til toppen")," ",Object(s.h)("i",{class:"far fa-arrow-alt-circle-up"}))),Object(s.h)("h2",null,r&&Object(s.h)("i",{class:"fas fa-eye"+(e.active?" text-success":"-slash text-danger")+" float-right"})," ",b.a.replaceImages(e.title,e.images,v,!1))),Object(s.h)("div",{class:"col-12 pb-5 mb-5 border-bottom"},Object(s.h)(h.a,{markdown:b.a.replaceImages(e.body,e.images,v),markdownOpts:b.a.getMarkdownOptions()})))}))))))},a}(s.Component))||r;t.default=O}.call(this,a("hosL").Fragment)}}]);
//# sourceMappingURL=87.chunk.351c8.js.map