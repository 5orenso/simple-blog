(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"07/T":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=s("Gblv"),a=s("/eY4"),l=s("ZOvn"),b=s.n(l),h=s("4dUO"),p=s("PWmE");const d={showAddComment:!1};let m=Object(a.a)(r=class extends c.Component{constructor(t){var e;super(t),e=this,this.likeNews=async function(){const{newsStore:t}=e.props.stores,{news:s}=e.props;await t.likeNews({id:s.id})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),this.updateTimer={},this.inputRef={}}render(){const{showAddComment:e}=this.state,{news:s={}}=this.props,{userStore:o}=this.props.stores,{user:n}=o,{likes:r=[],comments:a=[]}=s,l=s.likes&&s.likes.findIndex(t=>t.user===n.id)>-1;return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded",style:s.images&&s.images[0]?`background-image: url("${s.images[0].s3SmallLink}");`:""},!(s.images&&s.images[0])&&Object(c.h)("i",{class:"fas fa-paragraph text-muted mt-3",style:"font-size: 40px;"})),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("a",{class:"stretched-link",href:"/news/"+s.id},Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.title)),Object(c.h)("div",null,Object(c.h)("small",{class:"text-muted"},i.a.isoDate(s.createdDate))),b.a.maxLength(s.ingress?s.ingress:s.body,50))),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},r&&r.length>0&&Object(c.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",r.length),a&&a.length>0&&Object(c.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-comment text-primary"})," ",a.length)),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:`btn btn-sm btn-outline-${l?"primary":"secondary"} btn-lg btn-block ${l?"text-primary":""}`,onClick:this.likeNews},Object(c.h)("i",{class:(l?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":s.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," Comment")))),e&&Object(c.h)(p.a,{stores:this.props.stores,news:s,inputRef:t=>this.inputRef[s.id]=t}),Object(c.h)(h.a,{stores:this.props.stores,news:s,col:10,offset:2}))))}})||r;e.a=m}).call(this,s("hosL").Fragment)},AxFz:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var r,c=s("hosL"),i=(s("Gblv"),s("/eY4")),a=s("OhSV"),l=s("07/T"),b=s("ZOvn"),h=s.n(b);const p=h.a.marginTop(!1),d=h.a.marginBottom(),m={isLoading:!1};let f=Object(i.a)(r=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},m)}async loadNews(){this.setState({isLoading:!0});const{newsStore:t}=this.props.stores;await t.load(),this.setState({isLoading:!1})}componentDidMount(){this.loadNews()}render(){const{newsStore:t}=this.props.stores,{newsList:e}=t;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${d}; margin-top: ${p};`},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,Object(c.h)(a.c,{id:"news.heading"},"Siste nytt"))),e&&e.map(t=>Object(c.h)(l.a,{stores:this.props.stores,news:t})))))}})||r;e.default=f}}]);
//# sourceMappingURL=route-news.chunk.b1577.esm.js.map