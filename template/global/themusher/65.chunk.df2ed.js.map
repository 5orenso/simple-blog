{"version":3,"sources":["webpack:///./routes/users/notifications.js","webpack:///./components/admin/notification.js","webpack:///./components/header/subnavigation.js","webpack:///./components/data/distance.js","webpack:///./components/user/index.js","webpack:///./components/data/temperature.js","webpack:///./components/data/weight.js","webpack:///./components/user/invite.js","webpack:///./components/data/elevation.js","webpack:///./components/data/speed.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","UserNotifications","marginTopBack","observer","props","search","stores","userStore","searchUsers","state","searchText","toggleDate","e","stopPropagation","preventDefault","setState","showDate","back","history","goBack","time","Date","now","count","loadAll","this","loadNotifications","markNotificationsAsRead","messageStore","getNotifications","getUnReadMessages","ids","notifications","map","id","componentDidMount","render","class","style","title","notification","Component","getIcon","type","AdminNotification","confirmRequest","teamStore","confirmFollowRequest","team","user","addedBy","deleteRequest","deleteFollowRequest","displayNameShort","firstname","util","ucfirst","lastname","email","displayName","userImage","image","images","undefined","dogIds","dogs","grouped","forEach","dog","indexOf","push","isDimmed","read","isLinked","length","s3ThumbLink","href","url","message","onClick","date","formatDate","locale","formatDistance","d","name","SUB_MENU_MARGIN_TOP","subMenuMarginTop","initialState","SubNavigation","appState","previousPath","route","backtext","darkmode","displayDistance","distance","format","Distance","value","smallUnit","settings","imperial","kmToMiles","User","removeUser","target","dataset","parentNode","console","log","removeMember","adminUpdateUser","field","closest","clearTimeout","updateTimer","setTimeout","doAdminUpdateUser","simulateUser","getSimulateUser","currentUser","isAdmin","teams","findTeams","summary","findMusherSummary","isTeamAdmin","getImage","cellphone","asUrl","rel","facebook","asFacebookLink","instagram","asInstagramLink","snapchat","asSnapchatLink","data-email","JSON","stringify","subscription","deviceInfo","notificationTopics","applications","shadowTags","garmin","strava","currentLocationGeocode","isoDate","lastActivityEpoch","activities","veterinaryAllowed","checked","onInput","for","twoFactorLogin","isVeterinary","distanceKm","elevation","secToHms","duration","avgDistance","avgElevation","avgDuration","speedAvg","avgDogs","data-id","data-team","Temperature","celciusToFahrenheit","Weight","kgToPounds","Invite","inviteKennel","friendEmail","response","inviteSent","inviteNew","hideInvite","updateSetting","forceShow","placeholder","linkState","Elevation","meterToFeet","Speed","kmtToMph"],"mappings":"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","file":"65.chunk.df2ed.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\n\nimport Error from '../../components/error';\nimport Message from '../../components/message';\nimport InviteFriend from '../../components/user/invite';\nimport User from '../../components/user';\nimport AdminNotification from '../../components/admin/notification';\nimport SubNavigation from '../../components/header/subnavigation';\n\n@observer\nclass UserNotifications extends Component {\n\tconstructor(props) {\n        super(props);\n        this.state = {\n            time: Date.now(),\n\t\t\tcount: 10\n        };\n    }\n    async loadAll() {\n        await this.loadNotifications();\n        await this.markNotificationsAsRead();\n    }\n\n    async loadNotifications() {\n        const { userStore, messageStore } = this.props.stores;\n        await userStore.getNotifications();\n        await messageStore.getUnReadMessages();\n    }\n\n    async markNotificationsAsRead() {\n        const { userStore } = this.props.stores;\n        const { notifications } = userStore;\n        const ids = notifications.map(e => e.id);\n        await userStore.markNotificationsAsRead({ ids });\n    }\n\n\tsearch = async () => {\n        const { userStore } = this.props.stores;\n        const { searchText } = this.state;\n        await userStore.searchUsers({ search: searchText });\n    }\n\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n\tcomponentDidMount() {\n        this.loadAll();\n\t}\n\n\trender() {\n        const { showDate } = this.state;\n\t\tconst { userStore, appState } = this.props.stores;\n\t\tconst { darkmode } = appState;\n\t\tconst { notifications } = userStore;\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <Localizer>\n                    <SubNavigation stores={this.props.stores}\n                        title={<Text id='home.notifications'>Notifications</Text>}\n                    />\n                </Localizer>\n                <div class='row'>\n                    {notifications && notifications.map(notification => \n                        <AdminNotification stores={this.props.stores} notification={notification} showDate={showDate} />\n                    )}\n                </div>\n            </div>\n        );\n\t}\n}\n\nexport default UserNotifications;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction getIcon(type) {\n\tswitch (type) {\n\t\tcase 'dogHistory':\n\t\t\treturn 'fas fa-rss';\n\t\tcase 'dogStatus':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'dogSpecialNeeds':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'dogImage':\n\t\t\treturn 'fas fa-image';\n\t\tcase 'dog':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'dogChanged':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'track':\n\t\t\treturn 'fas fa-map-marked-alt';\n\t\tcase 'trackChanged':\n\t\t\treturn 'fas fa-map-marked-alt';\n\t\tcase 'workoutPlan':\n\t\t\treturn 'fas fa-calendar-alt';\n\t\tcase 'workout':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'newGarminWorkout':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'newStravaWorkout':\n\t\t\treturn 'fab fa-strava';\n\t\tcase 'workoutChanged':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'teamMember':\n\t\t\treturn 'fas fa-user';\n\t\tcase 'team':\n\t\t\treturn 'fas fa-users';\n\n        case 'newsLiked':\n            return 'fas fa-thumbs-up';\n        case 'newsCommentLiked':\n        case 'newsCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'newsCommentReplyLiked':\n        case 'newsCommentedReplyLiked':\n            return 'fas fa-thumbs-up'\n        case 'newsComment':\n        case 'newsCommented':\n            return 'fas fa-comment';\n        case 'newsCommentReply':\n        case 'newsCommentedReply':\n            return 'fas fa-comments';\n\n        case 'trackLiked':\n            return 'fas fa-thumbs-up';\n        case 'trackCommentLiked':\n        case 'trackCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'trackCommentReplyLiked':\n        case 'trackCommentedReplyLiked':\n            return 'fas fa-thumbs-up'\n        case 'trackComment':\n        case 'trackCommented':\n            return 'fas fa-comment';\n        case 'trackCommentReply':\n        case 'trackCommentedReply':\n            return 'fas fa-comments';\n\n        case 'workoutComment':\n        case 'workoutCommented':\n            return 'fas fa-comment';\n        case 'workoutCommentReply':\n        case 'workoutCommentedReply':\n            return 'fas fa-comments'\n        case 'workoutLiked':\n            return 'fas fa-thumbs-up';\n        case 'workoutCommentLiked':\n        case 'workoutCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'workoutCommentReplyLiked':\n        case 'workoutCommentedReplyLiked':\n            return 'fas fa-thumbs-up'; \n\n        case 'story':\n            return 'fas fa-rss';\n        case 'storyComment':\n        case 'storyCommented':\n            return 'fas fa-comment';\n        case 'storyCommentReply':\n        case 'storyCommentedReply':\n            return 'fas fa-comments'\n        case 'storyLiked':\n            return 'fas fa-thumbs-up';\n        case 'storyCommentLiked':\n        case 'storyCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'storyCommentReplyLiked':\n        case 'storyCommentedReplyLiked':\n            return 'fas fa-thumbs-up'; \n\n        case 'teamFollowRequest':\n            return 'fas fa-project-diagram';\n        case 'happyBirthday':\n            return 'fas fa-birthday-cake';\n\n        case 'trophy':\n            return 'fas fa-trophy';\n\t\tdefault:\n\t\t\treturn 'fas fa-rss';\n\t}\n}\n\n@observer\nclass AdminNotification extends Component {\n    confirmRequest = () => {\n        const { notification } = this.props;\n        const { teamStore } = this.props.stores;\n        teamStore.confirmFollowRequest({\n            team: notification.team,\n            user: notification.addedBy.id,\n        });\n    }\n\n    deleteRequest = () => {\n        const { notification } = this.props;\n        const { teamStore } = this.props.stores;\n        teamStore.deleteFollowRequest({\n            team: notification.team,\n            user: notification.addedBy.id,\n        });\n    }\n\n    render() {\n        const { notification, showDate } = this.props;\n        const { addedBy: user  = {} } = notification;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        const dogIds = [];\n        const dogs = [];\n        if (notification.grouped) {\n            notification.grouped.forEach((e) => {\n                if (e.dog && e.dog.id && dogIds.indexOf(e.dog.id) === -1) {\n                    dogs.push(e.dog);\n                    dogIds.push(e.dog.id);\n                }\n            });\n        }\n        const hasMultiElements = dogs.length > 0;\n        const isDimmed = notification.read && notification.type !== 'teamFollowRequest';\n        const isLinked =!hasMultiElements && notification.type !== 'teamFollowRequest';\n        return (\n            <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-2 position-relative' style={`opacity: ${isDimmed ? 0.6: 1};`}>\n                <div \n                    class={`text-center border rounded-circle imageRoundedSmall imageRounded`} \n                    style={`padding-top: 7px; ${userImage ? `background-image: url(\"${userImage.s3ThumbLink}\"); background-size: cover;` : ''}`}\n                >\n                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                </div>\n\n                <div class='flex-grow-1 pl-3 pr-2'>\n                    <span class='float-right ml-2'>\n                        {notification.type && <span class='mr-2' style='font-size: 2.0em;'><i class={getIcon(notification.type)} /></span>}\n                    </span>\n                    <div style='font-size: 0.8em;'>\n                        {isLinked ? <a href={notification.url}>\n                            {notification.message}{notification.title ? `: ${notification.title}` : ''}\n                        </a> : <>\n                            {notification.message}\n                        </>}\n                        {notification.type === 'teamFollowRequest' && <>\n                            <button class='btn btn-sm btn-danger float-right' onClick={this.deleteRequest}>\n                                <Text id='notifications.delete'>Del</Text>\n                            </button>\n                            <button class='btn btn-sm btn-success float-right mr-2' onClick={this.confirmRequest}>\n                                <Text id='notifications.confirm'>Confirm</Text>\n                            </button>\n                        </>}\n                    </div>\n                    <small class='text-muted'>\n                        {notification.date && <span onClick={this.toggleDate} class='mr-2'>\n                            {showDate ? util.formatDate(notification.date, { locale: 'no-NB' }) : util.formatDistance(notification.date, new Date(), { locale: 'no-NB' })}\n                        </span>}\n                        <i class='far fa-user' /> {displayName}\n                        <br />\n                        {dogs && dogs.map(d => <span class='mr-2'>\n                            <a href={`/dogs/${d.id}`}><i class='fas fa-dog' /> {d.name}</a>\n                        </span>)}\n                        <br />\n                    </small>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AdminNotification;","import { h, Component } from 'preact';\nimport { Link } from 'preact-router/match';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n};\n\n@observer\nclass SubNavigation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    back = () => {\n        const { appState } = this.props.stores;\n        const { previousPath = '/' } = appState;\n        route(previousPath);\n    }\n\n    render() {\n        const { title, backtext } = this.props;\n        const { appState } = this.props.stores;\n        const { darkmode } = appState;\n\t\treturn (\n            <div class='row fixed-top border-bottom' style={`margin-top: ${SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'};`}>\n                <div class={`col text-center subtopmenu position-relative`}>\n                    <div class={`text-left subtopmenu position-absolute`} style='top: 0px; left: 20px; line-height: 1.8em;'>\n                        <button\n                            class='btn btn-link text-secondary p-0'\n                            onClick={this.back}\n                        >\n                            <nobr>\n                                <i class='fas fa-chevron-left font-weight-bold' /> {backtext ? <>\n                                    {backtext}\n                                </> : <>\n                                    <Text id='home.home'>Home</Text>\n                                </>}\n                            </nobr>\n                        </button>\n                    </div>\n                    <nobr>\n                        <strong>\n                            {title}\n                        </strong>\n                    </nobr>\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default SubNavigation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass User extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this.updateTimer = {};\n    }\n    \n    removeUser = async (e) => {\n        let id =  e.target.dataset.id;\n        let email =  e.target.dataset.email;\n        let team =  e.target.dataset.team;\n        if (!id && e.target.parentNode) {\n            id =  e.target.parentNode.dataset.id;\n            email =  e.target.parentNode.dataset.email;\n            team =  e.target.parentNode.dataset.team;\n\t\t}\n        console.log('id, email, team', id, email, team);\n        const { teamStore } = this.props.stores;\n        await teamStore.removeMember(team, { id, email });\n    }\n\n    adminUpdateUser = (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name } = e.target;\n        const field = `${email}-${name}`;\n\n        clearTimeout(this.updateTimer[field]);\n        this.updateTimer[field] = setTimeout(() => {\n            this.doAdminUpdateUser(e);\n        }, 500);\n    }\n\n    doAdminUpdateUser = async (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name, value } = e.target;\n\n        // console.log({ email, name, value });\n\t\tconst { userStore } = this.props.stores;\n        await userStore.adminUpdateUser(email, { [name]: value });\n    }\n\n    simulateUser = (e) => {\n        const { email } = e.target.closest('button').dataset;\n        const { userStore } = this.props.stores;\n\t\tuserStore.getSimulateUser(email);\n    }\n\n    render() {\n        const { user, team = {} } = this.props;\n\t\tconst { userStore, teamStore } = this.props.stores;\n        const { user: currentUser, isAdmin } = userStore;\n        const teams = userStore.findTeams(user.teams);\n        const summary = teamStore.findMusherSummary(user.id, team.id) || {};\n        const isTeamAdmin = team.user === currentUser.id;\n        const image = mu.getImage({ user, team });\n        const name = mu.displayName(user);\n\n        // const workoutSummary = dogStore.findWorkoutSummary(dog.id, 2020) || {};\n        // {'0':{'year':2020,'dog':16,'count':1,'distanceKm':9.9,'elevation':202,'duration':0,'speedAvg':0}}\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url('${image}'); background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-user text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'>\n                            {/* <span class='float-right'>\n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span> */}\n                            \n                            <h5>{name}</h5>\n                            <div>\n                                <small class='text-muted'>\n                                    <div class='d-flex justify-content-left'>\n                                        {user.cellphone && <div class='mr-2'><i class='fas fa-mobile-alt' /> {user.cellphone}</div>}\n                                        {user.email && <div class='mr-2'><i class='fas fa-envelope ml-3' /> {user.email}</div>}\n                                        {user.url && <div class='mr-2'><a href={mu.asUrl(user.url)} target='_blank' rel='noreferrer'><i class='fas fa-link' /></a></div>}\n                                        {user.facebook && <div class='mr-2'><a href={mu.asFacebookLink(user.facebook)} target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a></div>}\n                                        {user.instagram && <div class='mr-2'><a href={mu.asInstagramLink(user.instagram)} target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a></div>}\n                                        {user.snapchat && <div class='mr-2'><a href={mu.asSnapchatLink(user.snapchat)} target='_blank' rel='noreferrer'><i class='fab fa-snapchat' /></a></div>}\n                                    </div>\n                                </small>\n                            </div>\n                            {isAdmin && <>\n                                <button class='btn btn-block btn-success' onClick={this.simulateUser} data-email={user.email}>\n                                    Simulate user\n                                </button>\n\n                                <small>\n                                    <details>\n                                        <summary>settings</summary>\n                                        <xmp>{JSON.stringify(user.settings, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>deviceInfo</summary>\n                                        <xmp>{JSON.stringify(user.deviceInfo, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notifications</summary>\n                                        <xmp>{JSON.stringify(user.notifications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notificationTopics</summary>\n                                        <xmp>{JSON.stringify(user.notificationTopics, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>applications</summary>\n                                        <xmp>{JSON.stringify(user.applications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>shadowTags</summary>\n                                        <xmp>{JSON.stringify(user.shadowTags, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>garmin</summary>\n                                        <xmp>{JSON.stringify(user.garmin, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>strava</summary>\n                                        <xmp>{JSON.stringify(user.strava, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>currentLocationGeocode</summary>\n                                        <xmp>{JSON.stringify(user.currentLocationGeocode, null, 4)}</xmp>\n                                    </details>\n                                    lastActivityEpoch: {util.isoDate(user.lastActivityEpoch)}<br />\n                                    activities: {util.format(user.activities)}<br />\n\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.settings.veterinaryAllowed ? 0 : 1} id={`settings.veterinaryAllowed-${user.id}`} name='settings.veterinaryAllowed' checked={user.settings.veterinaryAllowed ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`settings.veterinaryAllowed-${user.id}`}>\n                                            settings.veterinaryAllowed\n                                        </label>\n                                    </div>\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.twoFactorLogin ? 0 : 1} id={`twoFactorLogin-${user.id}`} name='twoFactorLogin' checked={user.twoFactorLogin ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`twoFactorLogin-${user.id}`}>\n                                            twoFactorLogin\n                                        </label>\n                                    </div>\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.isVeterinary ? 0 : 1} id={`isVeterinary-${user.id}`} name='isVeterinary' checked={user.isVeterinary ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`isVeterinary-${user.id}`}>\n                                            isVeterinary\n                                        </label>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`cellphone-${user.id}`}>cellphone</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`cellphone-${user.id}`} name='cellphone' class='form-control' value={user.cellphone} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`firstname-${user.id}`}>firstname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`firstname-${user.id}`} name='firstname' class='form-control' value={user.firstname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`lastname-${user.id}`}>lastname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`lastname-${user.id}`} name='lastname' class='form-control' value={user.lastname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                </small>\n                            </>}\n                            {user.teams && <>\n                                {teams.map(team => (\n                                    <span class='badge badge-pill badge-info mr-2'>{team.name}</span>\n                                ))}<br />\n                            </>}\n                            {team.id && summary && <>\n                                <small class='text-muted'>\n                                    Total:\n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.distanceKm} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.elevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.duration || 0)}</span>}\n                                </small><br />\n                                <small class='text-muted'>\n                                    Avg: \n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.avgDistance} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.avgElevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.avgDuration || 0)}</span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={summary.speedAvg} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-dog' /> {util.format(summary.avgDogs, 1)}</span>}\n                                </small>\n                            </>}\n                        </div>\n                        <div>\n                            {isTeamAdmin && user.id !== currentUser.id && <button class='btn btn-sm btn-danger'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-ban' /></button>}\n                            {!isTeamAdmin && user.id === currentUser.id && <button class='btn btn-sm btn-secondary'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-sign-out-alt' />{team.id}</button>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default User;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}춿F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}춿C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\n@observer\nclass Invite extends Component {\n    inviteKennel = async () => {\n        const { friendEmail: email } = this.state;\n\t\tconst { userStore } = this.props.stores;\n        const response = await userStore.inviteKennel({ email });\n        this.setState({\n            response,\n            inviteSent: true,\n        });\n    }\n\n    inviteNew = () => {\n        this.setState({\n            inviteSent: false,\n        });\n    }\n\n    hideInvite = async () => {\n        const { userStore } = this.props.stores;\n        await userStore.updateSetting({ 'settings.hideInvite': 1 });\n        this.setState({\n            hideInvite: true,\n        });\n    }\n\n    render() {\n        const { inviteSent, hideInvite } = this.state;\n\t\tconst { userStore } = this.props.stores;\n        const { forceShow } = this.props;\n        const { user } = userStore;\n        const { settings = {} } = user;\n        if (!forceShow && settings.hideInvite || hideInvite) {\n            return '';\n        }\n        if (inviteSent) {\n            return (\n                <div class='col-12'>\n                    <Text id='users.invite.thanks'>Takk for at du hjelper oss til 친 bli flere 游땎</Text>\n                    <button type='button' class='btn btn-sm btn-link mb-2' onClick={this.inviteNew}>\n                        <Text id='users.invite.more'>Invitere flere</Text>\n                    </button>\n                </div>\n            );\n        }\n        return (\n            <div class='col-12 pb-4 clearfix'>\n                <h5><Text id='users.invite.title'>Inviter ny kennel til The Musher</Text></h5>\n                <p>\n                    <Text id='users.invite.text'>Jeg h친per du vil hjelpe oss til 친 bli flere. Appen vil bli lansert veldig snart og det er p친tide 친 invitere inn flere brukere.</Text>\n                </p>\n                <div>\n                    <div class='form-row align-items-center'>\n                        <div class='col-auto'>\n                            <label class='sr-only' for='inlineFormInput'><Text id='users.invite.email'>E-post</Text></label>\n                            <Localizer>\n                                <input type='text' class='form-control form-control-sm mb-2' id='inlineFormInput'\n                                    placeholder={<Text id='users.invite.email-placeholder'>E-post til ny kennel</Text>}\n                                    onInput={linkState(this, 'friendEmail')}\n                                />\n                            </Localizer>\n                        </div>\n                        <div class='col-auto'>\n                            <button type='button' class='btn btn-sm btn-primary mb-2' onClick={this.inviteKennel}>\n                                <Text id='users.invite.send'>Send invitasjon</Text>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                {!forceShow && <button type='button' class='btn btn-sm btn-link mb-2 float-left' onClick={this.hideInvite}>\n                    <i class='fas fa-eye-slash' /> <Text id='users.invite.hide'>Skjul</Text>\n                </button>}\n            </div>\n        );\n    }\n}\n\nexport default Invite;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n"],"sourceRoot":""}