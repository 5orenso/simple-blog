{"version":3,"sources":["webpack:///./components/dog/miniViewGraph.js","webpack:///./routes/dogs/publicDetail.js","webpack:///./components/imageScroller/index.js"],"names":["MiniViewGraph","observer","Component","render","legendLeft","legendRight","dataLeft","dataRight","showDebug","xTicksVal","val","util","isoDate","xTicksCnt","yTicksLeftVal","yTicksRightVal","this","props","firstData","xTicks","length","partSize","Math","ceil","parts","floor","console","log","i","l","push","epoch","class","stores","width","height","showXTicks","paddingTop","lineFromXzero","lineFromXmax","showYTicksLeft","avgWindowLeft","smoothLeft","showYTicksRight","avgWindowRight","smoothRight","scrollToRight","MARGIN_TOP","mu","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","initialState","newTeam","DogsDetail","constructor","super","back","history","goBack","nextDog","nextDogIdx","state","dogs","uuidv4","loadPublicDog","dogid","prevDog","prevDogIdx","updateTimer","time","Date","getTime","apiServer","getApiServer","setState","isLoading","dogStore","getPublicViews","loadPublicView","loadPublicDetail","id","publicDog","currentDogIdx","findIndex","e","prevDogName","nextDogName","hasPrevDog","hasNextDog","shortname","name","componentDidMount","appState","setSwipeRight","loadAll","componentWillReceiveProps","nextProps","teamStore","userStore","user","isAdmin","language","publicTeam","dogPublicTeam","publicViewsGraphData","isTeamAdmin","members","some","m","users","imageHeader","image","headerImage","s3XXLargeLink","teamImage","s3LargeLink","dogPosition","findTeamAmbition","ambition","ambitions","findTeamType","type","findDogposition","position","hasBirthday","birth","daysUntilBirthday","daysUntilNextBirthday","style","onClick","age","deceased","gender","icon","weight","format","markdown","replaceImages","description","images","markdownOpts","getMarkdownOptions","fields","total","achievements","map","file","date","url","href","asUrl","target","rel","native","trophys","reverse","img","getTrophyImage","textHeader","descriptionHeader","text","src","key","hasImage","isObject","ImageScroller","scrollImages","scrollLeft","clientWidth","imageIdx","nearestInt","round","diff","abs","Number","isInteger","distance","event","hypot","touches","pageX","pageY","pinchZoomOnTouchStart","preventDefault","stopPropagation","start","x","y","pinchZoomOnTouchMove","imageElementScale","imageElementMaxScale","scale","min","max","transform","transition","WebkitTransform","zIndex","pinchZoomOnTouchEnd","dblClick","likeRef","noimagestext","minHeight","onScroll","filter","onDblclick","data-id","onTouchstart","onTouchend","onTouchmove","s3SmallLink","updatedDate","loading","idx"],"mappings":"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","file":"88.chunk.6ceec.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nimport LineGraph from '../../components/lineGraph';\n\n@observer\nclass MiniViewGraph extends Component {\n    render() {\n        const {\n            legendLeft = [],\n            legendRight = [],\n            dataLeft = [],\n            dataRight = [],\n            showDebug,\n            xTicksVal = val => util.isoDate(val, false, false, true),\n            xTicksCnt = 5,\n            yTicksLeftVal = val => val,\n            yTicksRightVal = val => val,\n        } = this.props;\n\n        const firstData = dataLeft && dataLeft[0] ? dataLeft[0] : [];\n        const xTicks = [];\n        if (firstData.length) {\n            const partSize = Math.ceil(firstData.length / (xTicksCnt - 1));\n            const parts = Math.floor(firstData.length / partSize);\n            if (showDebug) {\n                console.log({ firstData, parts, partSize });\n            }\n            for (let i = 0, l = firstData.length; i < l; i += partSize) {\n                xTicks.push(firstData[i].epoch);\n            }\n            xTicks.push(firstData[firstData.length - 1].epoch);\n        }\n        return (\n            <>\n                <div class='w-100 mt-3 mb-4'>\n                    {/* <xmp>graphWorkoutSummaryWeekDistanceCurrent: {JSON.stringify(graphWorkoutSummaryWeekDistanceCurrent, null, 4)}</xmp>\n                    <xmp>graphWorkoutSummaryWeekDistancePrev: {JSON.stringify(graphWorkoutSummaryWeekDistancePrev, null, 4)}</xmp> */}\n                    <LineGraph\n                        stores={this.props.stores}\n                        width={1000}\n                        height={300}\n                        showXTicks={1}\n                        xTicksVal={xTicksVal}\n                        xTicks={xTicks}\n                        paddingTop={30}\n                        lineFromXzero={false}\n                        lineFromXmax={false}\n                        // xTicksLink={'/workouts/week/'}\n\n                        dataLeft={dataLeft}\n                        legendLeft={legendLeft}\n                        // yMaxLeft={30}\n                        // yMinLeft={0}\n                        showYTicksLeft={1}\n                        // yTicksLeftPostfix={'km'}\n                        // unitLeft={['km', 'km', 'km']}\n                        yTicksLeftVal={yTicksLeftVal}\n                        avgWindowLeft={[0, 0, 0, 0, 0, 0, 0]}\n                        smoothLeft={[0, 0, 0, 0, 0, 0, 0]}\n\n\n                        dataRight={dataRight}\n                        legendRight={legendRight}\n                        // dataRight={[graphWorkoutSummaryWeekElevationCurrent, graphWorkoutSummaryWeekElevationPrev]}\n                        // legendRight={[`${seasonStart} ${ascend}`, `${seasonStart - 1} ${ascend}`]}\n                        showYTicksRight={dataRight.length > 0 ? 1 : 0}\n                        // yTicksRightPostfix={'m'}\n                        // unitRight={['m', 'm']}\n                        yTicksRightVal={yTicksRightVal}\n                        avgWindowRight={[0, 0, 0, 0, 0, 0, 0]}\n                        smoothRight={[0, 0, 0, 0, 0, 0, 0]}\n\n                        scrollToRight={true}\n                        // marker={week}\n                    />\n                </div>\n\n            </>\n        );\n    }\n}\n\nexport default MiniViewGraph;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route, Router } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport PubSub, { topics } from '../../lib/pubsub';\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nimport ImageScroller from '../../components/imageScroller';\nimport MiniViewGraph from '../../components/dog/miniViewGraph';\n\nconst initialState = {\n    newTeam: {},\n};\n\n@observer\nclass DogsDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n        this.time = new Date().getTime();\n        this.apiServer = util.getApiServer();\n    }\n\n    async loadPublicView(props) {\n\t\tthis.setState({ isLoading: true });\n        const { dogid } = props;\n\t\tconst { dogStore } = this.props.stores;\n        await dogStore.getPublicViews(dogid);\n\t\tthis.setState({ isLoading: false });\n\t}\n\n    async loadAll(props = this.props) {\n        await this.loadPublicDog(props);\n        await this.loadPublicView(props);\n    }\n\n    async loadPublicDog(props = this.props) {\n\t\tconst { dogStore } = props.stores;\n        const { dogid, dogs = [] } = props;\n        await dogStore.loadPublicDetail({ id: dogid });\n\n\t\tconst { publicDog } = dogStore;\n        const currentDogIdx = dogs.findIndex(e => e.id === publicDog.id);\n        let prevDogIdx = null;\n        let nextDogIdx = null;\n        let prevDogName = null;\n        let nextDogName = null;\n        let hasPrevDog = false;\n        let hasNextDog = false;\n        if (currentDogIdx > 0) {\n            prevDogIdx = currentDogIdx - 1;\n            prevDogName = dogs[prevDogIdx].shortname || dogs[prevDogIdx].name;\n            hasPrevDog = true;\n        }\n        if (currentDogIdx < dogs.length - 1) {\n            nextDogIdx = currentDogIdx + 1;\n            nextDogName = dogs[nextDogIdx].shortname || dogs[nextDogIdx].name;\n            hasNextDog = true;\n        }\n        this.setState({\n            prevDogIdx,\n            prevDogName,\n            nextDogIdx,\n            nextDogName,\n            hasPrevDog,\n            hasNextDog,\n            currentDogIdx,\n        });\n        // console.log({ prevDogIdx, nextDogIdx, hasPrevDog, hasNextDog, currentDogIdx });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n    nextDog = () => {\n        const { nextDogIdx } = this.state;\n        const { dogs = [], stores } = this.props;\n\n        const nextDog = dogs[nextDogIdx];\n        if (nextDog && nextDog.uuidv4) {\n            this.loadPublicDog({\n                stores,\n                dogs,\n                dogid: nextDog.uuidv4, \n            });\n        }\n    }\n\n    prevDog = () => {\n        const { prevDogIdx } = this.state;\n        const { dogs = [], stores } = this.props;\n\n        const prevDog = dogs[prevDogIdx];\n        if (prevDog && prevDog.uuidv4) {\n            this.loadPublicDog({\n                stores,\n                dogs,\n                dogid: prevDog.uuidv4, \n            });\n        }\n    }\n    \n\tcomponentDidMount() {\n        const { back = this.back } = this.props;\n        const { appState } = this.props.stores;\n        appState.setSwipeRight(() => {\n            appState.setSwipeRight();\n            back();\n        });\n        this.loadAll();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.dogid !== this.props.dogid) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n        const { hasPrevDog, hasNextDog, prevDogName, nextDogName } = this.state;\n\t\tconst { teamStore, dogStore, userStore } = this.props.stores;\n        const { user, isAdmin } = userStore;\n        const { language = 'en' } = user;\n\t\tconst { publicTeam: teamPublicTeam } = teamStore;\n\t\tconst { publicDog, publicTeam: dogPublicTeam, publicViewsGraphData, publicViewsGraphLegend } = dogStore;\n        const isTeamAdmin = (dogPublicTeam && dogPublicTeam.members) ? dogPublicTeam.members.some(m => m.id === user.id) : false;\n\n        // const publicTeam = dogPublicTeam || teamPublicTeam;\n        const publicTeam = dogPublicTeam || {};\n        const { marginTop, marginBottom, back = this.back, dogs } = this.props;\n        const defaultImage = {\n            s3XXLargeLink: './assets/homerun-race-logo.png',\n        };\n\n        const { users = [], imageHeader } = publicTeam;\n        const { image } = publicDog;\n\n        const headerImage = imageHeader && imageHeader.s3XXLargeLink ? imageHeader : defaultImage;\n        const teamImage = image && image.s3LargeLink ? image : null;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: publicTeam.ambitions, language });\n        const teamType = userStore.findTeamType({ type: publicTeam.type, language });\n\n        const dogPosition = userStore.findDogposition({ position: publicDog.position, language });\n        const hasBirthday = mu.hasBirthday(publicDog.birth);\n        const daysUntilBirthday = Math.ceil(mu.daysUntilNextBirthday(publicDog.birth));\n\n\t\treturn (<>\n\t\t\t<div class='container-fluid pb-5' style={`margin-bottom: ${marginBottom || MARGIN_BOTTOM}; margin-top: ${marginTop || MARGIN_TOP};`}>\n                <button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 2.0em; width: 43px;`}\n                    onClick={back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n                <div class='row mb-0'>\n                    <div class='w-100 position-relative'\n                        style={`height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; ${headerImage ? `background-image: url(\"${headerImage.s3XXLargeLink}\");` : ''}`}\n                    />\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3'>\n                        <div class='row'>\n                            <div class='col-3 col-sm-4 col-md-3 col-lg-4 position-relative'>\n                                <div\n                                    class={`text-center border border-white rounded-circle position-absolute imageRoundedXLarge imageRoundedResponsive imageRoundedResponsivePosition`}\n                                    style={`left: 20px; ${teamImage ? `background-image: url(\"${teamImage.s3LargeLink}\"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;` : ''}`}\n                                >\n                                    {!teamImage && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                                </div>\n                                &nbsp;\n                            </div>\n                            <div class='col-9 col-sm-8 col-md-9 col-lg-8' style='line-height: 1.2em;'>\n                                <small class='font-weight-light'>\n                                    {publicTeam.name}\n                                </small><br />\n                                {publicDog.birth && <>\n                                    <h5 class='float-right'>\n                                        {daysUntilBirthday < 7 && <>\n                                            <span class='text-muted mr-2'>\n                                                <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                            </span>\n                                        </>}                                \n                                        {publicDog.birth && <span class='mr-2'>{util.age(publicDog.birth, publicDog.deceased)}</span>}\n                                        {publicDog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                                    </h5>\n                                </>}\n                                <h5 class='my-0'>\n                                    {publicDog.shortname || publicDog.name} \n                                    {hasBirthday && <>\n                                        <i class='fas fa-birthday-cake ml-3' />\n                                    </>}\n                                </h5>\n                                {publicDog.shortname && <div>\n                                    {publicDog.name}\n                                </div>}\n                                {dogPosition && dogPosition.class && <>\n                                    <span class={`badge badge-${dogPosition.class || 'primary'} mt-2`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>\n                                </>}\n                                {publicDog.weight > 0 && <small class='text-muted'>\n                                    {publicDog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(publicDog.weight, 1)} kg</>}\n                                </small>}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n\t\t\t\t<div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.description'>Beskrivelse</Text></h5>\n                    </div>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <Markdown markdown={mu.replaceImages(publicDog.description, publicDog.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                    </div>\n                </div>\n\n\t\t\t\t{publicDog.images && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.public-photos' fields={{ total: publicDog.images.length }}>Bilder av hunden - {publicDog.images.length} stk</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0`}>\n                        <ImageScroller stores={this.props.stores} images={publicDog.images} />\n                    </div>\n\t\t\t\t</div>}\n\n                {publicDog.achievements && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.achievements'>Achievements</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {publicDog.achievements && publicDog.achievements.map(file => {\n                                return (\n                                    <div class='col-12'>\n                                        {file.date && <span class='font-weight-lighter mr-2'>{util.isoDate(file.date, false, false, true)}</span>}\n                                        <span class='mr-2 font-weight-bold'>{file.name}</span>\n                                        <span class='mr-2 font-weight-light'>{file.description}</span>\n                                        {file.url && <span class='mr-2'><a href={mu.asUrl(file.url)} target='_blank' rel='noreferrer' native><i class='fas fa-link' /></a></span>}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\t\t\t\t</div>}\n\n\t\t\t\t{publicDog.trophys && <div class='row mt-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.trophy'>Trophys</Text></h5>\n                    </div>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {publicDog.trophys && publicDog.trophys.reverse().map(file => {\n                                const img = mu.getTrophyImage(file.name);\n                                if (!img) {\n                                    return '';\n                                }\n                                const textHeader = file.descriptionHeader && file.descriptionHeader[language] ? file.descriptionHeader[language] : '';\n                                const text = file.description && file.description[language] ? file.description[language] : '';\n                                return (\n                                    <div class='col-4 mt-3'>\n                                        <div class='mb-2'>\n                                            <img src={img} class='img-fluid' />\n                                        </div>\n                                        <strong>{textHeader}</strong>\n                                        {/* <small class='font-weight-lighter mr-2'>\n                                            {util.isoDate(file.createdDate, false, false, true)}\n                                        </small> */}\n                                        <small>\n                                            <details>\n                                                <summary><Text id='dogs.trophy-details'>Details</Text></summary>\n                                                <Markdown markdown={mu.replaceImages(text, publicDog.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                            </details>\n                                        </small>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\t\t\t\t</div>}\n\n\t\t\t\t<div class='row mt-5 mb-5'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='text-center text-muted'>\n                            <div class='display-1'>\n                                <i class='fas fa-ellipsis-h' />\n                            </div>\n                            <div style='line-height: 0.9em;'>\n                                <small>\n                                    <Text id='dogs.something-missing'>Er det noe du savner på denne siden? Send oss en melding på Facebook.</Text>\n                                </small>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {(isAdmin || isTeamAdmin) && <>\n                    <h5 class='font-weight-lighter text-muted border-bottom'><Text id='dogs.visits'>Dog page visits</Text></h5>\n                    <MiniViewGraph stores={this.props.stores}\n                        dataLeft={publicViewsGraphData}\n                        legendLeft={['dog']}\n                        key={`minigraph-dog-${publicDog.uuidv4}`}\n                    />\n                </>}\n\n                {hasNextDog && <span class='fixed-bottom text-primary' style='bottom: 60px; left: auto; right: 12px; width: 43px; font-size: 3.0em; z-index: 10;'>\n                    <i class='fas fa-arrow-circle-right' onClick={this.nextDog} />\n                </span>}\n                {hasPrevDog && <span class='fixed-bottom text-primary' style='bottom: 60px; left: 5px; width: 43px; font-size: 3.0em; z-index: 10;'>\n                    <i class='fas fa-arrow-circle-left' onClick={this.prevDog} />\n                </span>}\n\n                {publicDog.uuidv4 && <img src={`${this.apiServer}/api/dogs/${publicDog.uuidv4}/view?user=${user.id}&time=${this.time}`} style='width: 1; height: 1; opacity: 0.1;' />}\n\t\t\t</div>\n\t\t</>);\n\t}\n}\n\nexport default DogsDetail;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nfunction hasImage(img) {\n    return (util.isObject(img) && img.s3LargeLink);\n}\n\n\n@observer\nclass ImageScroller extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageIdx: 0,\n            imageElementScale: 1,\n            imageElementMaxScale: 5,\n            start: {},\n        };\n    }\n\n    scrollImages = (e) => {\n        const { images } = this.props;\n        const totalImages = images.length - 1;\n\n        // scrollHeight: 705\n        // scrollLeft: 564\n        // scrollTop: 0\n        // scrollWidth: 1692\n\n        const { scrollLeft, scrollWidth, clientWidth } = e.target;\n        const imageStep = clientWidth;\n        const imageIdx = scrollLeft / imageStep;\n        // console.log({ e, imageStep, imageIdx, scrollLeft, scrollWidth, clientWidth });\n\n        const nearestInt = Math.round(imageIdx);\n        const diff = Math.abs(nearestInt - imageIdx);\n        // console.log({ nearestInt, diff });\n        if (Number.isInteger(imageIdx) || diff < 0.1) {\n            this.setState({\n                imageIdx: nearestInt,\n            });\n        }\n    }\n\n    distance = (event) => {\n        return Math.hypot(event.touches[0].pageX - event.touches[1].pageX, event.touches[0].pageY - event.touches[1].pageY);\n    }\n\n    pinchZoomOnTouchStart = (event) => {\n        // console.log('touchstart', event);\n        if (event.touches.length === 2) {\n            event.preventDefault(); // Prevent page scroll\n            event.stopPropagation();\n\n            // Calculate where the fingers have started on the X and Y axis\n            const start = {};\n            start.x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n            start.y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n            start.distance = this.distance(event);\n            this.setState({ start });\n        }    \n    }\n\n    pinchZoomOnTouchMove = (event) => {\n        // console.log('touchmove', event);\n        let { imageElementScale, imageElementMaxScale } = this.state;\n        const { start } = this.state;\n        if (event.touches.length === 2) {\n            event.preventDefault(); // Prevent page scroll\n            event.stopPropagation();\n            let scale;\n\n            // Safari provides event.scale as two fingers move on the screen\n            // For other browsers just calculate the scale manually\n            if (event.scale) {\n                scale = event.scale;\n            } else {\n            const deltaDistance = this.distance(event);\n                scale = deltaDistance / start.distance;\n            }\n\n            imageElementScale = Math.min(Math.max(1, scale), imageElementMaxScale);\n            this.setState({ imageElementScale }, () => {\n                // Calculate how much the fingers have moved on the X and Y axis\n                const deltaX = (((event.touches[0].pageX + event.touches[1].pageX) / 2) - start.x) * 2; // x2 for accelarated movement\n                const deltaY = (((event.touches[0].pageY + event.touches[1].pageY) / 2) - start.y) * 2; // x2 for accelarated movement\n\n                // Transform the image to make it grow and move with fingers\n                const transform = `translate3d(${deltaX}px, ${deltaY}px, 0) scale(${imageElementScale})`;\n                event.target.style.transition = '';\n                event.target.style.transform = transform;\n                event.target.style.WebkitTransform = transform;\n                event.target.style.zIndex = '100000';\n                // event.target.style.maxHeight = '';\n                // event.target.style.maxWidth = '';\n            });\n\n        }\n    }\n\n    pinchZoomOnTouchEnd = (event) => {\n        // console.log('touchend', event);\n        // Reset image to it's original format\n        this.setState({ imageElementScale: 1 });\n        event.target.style.transition = 'transform 250ms';\n        event.target.style.transform = '';\n        event.target.style.WebkitTransform = '';\n        event.target.style.zIndex = '';\n        // event.target.style.maxHeight = '75vh';\n        // event.target.style.maxWidth = '100%';\n    }\n\n    render() {\n        const { imageIdx, imageElementScale } = this.state;\n        const { images, id, dblClick = () => {}, likeRef = {}, noimagestext, minHeight = '100px' } = this.props;\n\n        if (!images || images.length === 0) {\n            if (noimagestext) {\n                return (<>            \n                    <div class='col-12 text-center text-muted'>\n                        <div class='display-1'>\n                            <i class='fas fa-camera' />\n                        </div>\n                        <h3 class='font-weight-lighter'>\n                            {noimagestext}\n                        </h3>\n                    </div>\n                </>);\n            }\n            return <></>;\n        }\n\n        return (\n            <div class='w-100 position-relative'>\n                <div\n                    class='d-flex flex-row flex-nowrap bg-light border-top border-bottom'\n                    style={`\n                        overflow-x: ${imageElementScale > 1 && images.length === 1 ? 'visible !important' : 'auto'};\n                        overflow-y: ${imageElementScale > 1 ? 'visible !important' : 'auto'};\n                        scroll-snap-type: x mandatory;\n                    `}\n                    onScroll={this.scrollImages}\n                >\n                    {images && images.filter(hasImage).map((img, idx) => (\n                        <div class='col-12 clearfix p-0'>\n                            <div\n                                class={`w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center position-relative `}\n                                style={`\n                                    scroll-snap-align: start;\n                                    flex-wrap: wrap;\n                                `}\n                                // overflow: ${imageElementScale > 1 ? 'visible !important' : 'hidden'};\n                                onDblclick={dblClick}\n                                data-id={id}\n                                onTouchstart={(e) => { e.stopPropagation(); }}\n                                onTouchend={(e) => { e.stopPropagation(); }}\n                                onTouchmove={(e) => { e.stopPropagation(); }}\n                            >\t\t\t\t\t\n                                <div\n                                    class='position-absolute w-100 h-100'\n                                    style={`\n                                        background-image: url('${img.s3SmallLink}'); background-size: cover;\n                                        filter: blur(10px);\n                                        opacity: 0.5;\n                                    `}\n                                        // overflow-y: ${imageElementScale > 1 ? 'visible !important' : 'hidden'};\n                                />\n                                {img.s3LargeLink ? <img\n                                    class='img-fluid position-relative'\n                                    src={`${img.s3LargeLink}${img.updatedDate ? `?updated=${`${img.updatedDate}`}`: ''}`}\n                                    loading='lazy'\n                                    style={`max-height: 75vh; min-height: ${minHeight}; ${idx !== imageIdx ? '' : ''}`}\n\n                                    onTouchstart={this.pinchZoomOnTouchStart}\n                                    onTouchend={this.pinchZoomOnTouchEnd}\n                                    onTouchmove={this.pinchZoomOnTouchMove}\n                                /> : <>\n                                    <span class='display-1 text-muted'>\n                                        <i class='fas fa-camera' />\n                                    </span>\n                                </>}\n\n                                {/* <xmp>{JSON.stringify(img, null, 4)}</xmp> */}\n                            </div>\n                            {likeRef[id] && <span class='likeHeart position-absolute text-white display-1' style='top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;'>\n                                <i class='fas fa-heart likeStory' />\n                            </span>}\n                        </div>\n                    ))}\n                </div>\n                {images && images.length > 1 && <>\n                    <div class='w-100 text-center'>\n                        <small>\n                            <small>\n                                {images && images.filter(hasImage).map((img, idx) => <>\n                                    <i class={`${idx === imageIdx ? 'fas' : 'far'} fa-circle mr-1`} />\n                                </>)}\n                            </small>\n                        </small>\n                    </div>\n                    <div\n                        class='position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg'\n                        style='top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;'\n                    >\n                        <small>{imageIdx + 1} / {images.length}</small>\n                    </div>\n                </>}\n\n            </div>\n        );\n    }\n}\n\nexport default ImageScroller;\n"],"sourceRoot":""}