(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"/DnB":function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),n=(s("Utv1"),s("/eY4"));const l={};let i=Object(n.a)(r=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(c.h)("div",{ref:t=>this.container=t}," ")}})||r;e.a=i},"JWe/":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function n(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,i=s("hosL"),h=s("Utv1"),d=s("/eY4"),b=s("cneo"),u=s("OhSV"),m=s("fh8t"),p=s.n(m),f=(s("UJvz"),s("sqi2")),g=s("/922"),O=s("s4FZ"),j=s("ZQlJ"),k=s("q/oJ"),w=s("gWxU"),v=s("Nanz"),x=s("+JSK"),y=s("vY+r"),S=s("nHdA"),D=s("irB3"),T=s("UwwE"),C=s("8Lgr"),P=s("QkTp"),I=s("ZOvn");const L=I.a.getMaxLoadIndex(),W={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let $=Object(d.a)(l=class extends i.Component{constructor(t){var e;super(t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.likeWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=e.props,o=s.id,{likeWorkout:a}=e.state;a[o]=!0,e.setState({likeWorkout:a}),setTimeout(()=>{const{likeWorkout:t}=e.state;delete t[o],e.setState({likeWorkout:t})},1200);await t.likeWorkout({id:o})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:o}=this.state;o[e]=s,this.setState({viewImageIdx:o})},this.shareLink=t=>{const{url:e,title:s,text:o}=t.target.closest("button").dataset,{appState:a}=this.props.stores;a.shareUrl({url:e,title:s,text:o})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=a({},W),this.updateTimer={},this.inputRef={}}render(){const{showDate:e,showAddComment:s,viewImageIdx:o={},likeWorkout:r,dogs:l,showTeam:d,showDog:m}=this.state,{workout:W,showDate:$,wrapperClasses:U="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:R="row"}=this.props,{userStore:z,appState:Y,workoutStore:A}=this.props.stores,{viewmode:M,hasShareApi:B}=Y,{user:E,dogs:J}=z,{language:N="en"}=E,q=z.findIntensity({code:W.intensity,language:N})||{},V=z.findTeam(W.team,!0)||{},F=V.name,K=[];F&&K.push(F),W.teams&&W.teams.forEach(t=>{z.findTeam(t)&&K.push(z.findTeam(t))});const{likes:Z=[],comments:G=[]}=W,H=W.likes&&W.likes.findIndex(t=>t.user===E.id)>-1,{gpxInfo:Q={},mushers:_=[]}=W,{loadIndex:X=0}=Q,tt=z.findEquipment({equipment:W.equipment,language:N}),et=z.findEquipment({equipment:W.equipment,field:"icon"}),st=[];_.length>1&&_.slice(1,10).map(t=>{const e=A.findPublicUser(t)||{};e.images&&e.images[0]&&st.push(e.images[0])});const ot=A.findPublicUser(_[0])||{};let at;ot&&ot.images&&ot.images[0]?at=ot.images[0]:V.image&&V.image.s3SmallLink?at=V.image:V.images&&V.images[0]&&V.images[0].s3SmallLink?at=V.images[0]:W.image&&W.image.s3SmallLink&&(at=W.image);const rt=[];if(W.mapImage&&rt.push(a(a({},W.mapImage),{},{type:"map"})),W.images){const t=Object(b.i)(W.images);rt.push(...t)}let ct;W&&W.gpxInfo&&W.gpxInfo.battegryLevelStart&&(ct=100*(W.gpxInfo.battegryLevelStart-W.gpxInfo.battegryLevelEnd));const nt=I.a.getViews(W.statistics);return Object(i.h)(t,null,d&&Object(i.h)(k.a,null,Object(i.h)(w.default,{stores:this.props.stores,teamid:d,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),m&&Object(i.h)(k.a,null,Object(i.h)(v.default,{stores:this.props.stores,dogid:m,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:l})),Object(i.h)("div",{class:"w-100 mb-2"},Object(i.h)("div",{class:R},Object(i.h)("div",{class:U+" d-flex mb-0 position-relative"},Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+c(W),style:(at?`background-image: url("${at.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!at&&Object(i.h)("i",{class:`${n(W)} text-${q.class?q.class:"muted"} mt-3`,style:"font-size: 40px;"}),st&&st.map((e,s)=>Object(i.h)(t,null,Object(i.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${e.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==W.temperature&&Object(i.h)(t,null,Object(i.h)("span",{class:"text-muted font-weight-light"},Object(i.h)(P.a,{stores:this.props.stores,value:W.temperature})))),Object(i.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(i.h)("span",{class:"float-right"},1===W.isLocked&&Object(i.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===W.isInProgress&&Object(i.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===W.isInProgress&&Object(i.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(i.h)("a",{class:"stretched-link",href:"/workouts/"+W.id},Object(i.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},W.name)),K&&K.length>0&&Object(i.h)("small",{class:"font-weight-lighter"},K.map((e,s)=>Object(i.h)(t,null,s>0?", ":"",e))),Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},W.date&&Object(i.h)("small",{onClick:this.toggleDate},$||e?h.a.formatDate(W.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance(W.date,new Date,{locale:"no-NB"})),Object(i.h)("span",{class:`badge badge-${q.class} ml-2`},q.name),X>0&&Object(i.h)("span",{class:"ml-2 text-"+I.a.getLoadIndexColor(h.a.normalizeBetween(X,0,L,0,100))},Object(i.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(h.a.normalizeBetween(X,0,L,0,100))," - ",I.a.getLoadIndexText(h.a.normalizeBetween(X,0,L,0,100))),Object(i.h)("br",null)),Object(i.h)("small",null,Object(i.h)("div",{class:"text-muted"},W.garminId>0&&Object(i.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),W.stravaId>0&&Object(i.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),W.equipment>0&&Object(i.h)(t,null,Object(i.h)("i",{class:et+" ml-2"})," ",tt),W.dogs>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",W.dogs.length),W.track>0&&Object(i.h)(t,null,Object(i.h)("i",{class:`fas fa-map-marked text-${W.track>0?"success":"danger"} ml-2`})),W.dogsLeft>0&&Object(i.h)(t,null,Object(i.h)("i",{class:`fas fa-crosshairs text-${W.dogsLeft&&W.dogsRight?"success":"danger"} ml-2`})),W.sledWeight>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:W.sledWeight})),ct>0&&Object(i.h)("span",{class:"text-muted ml-2"},Object(i.h)("i",{class:"fas fa-battery-three-quarters"})," ",h.a.format(ct,1),"% ",Object(i.h)(u.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(M)>-1&&Object(i.h)("span",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-balance-scale"})," ",h.a.format(W.kcalBurnedTotal)," ",Object(i.h)(u.c,{id:"workout.kcal"},"kcal"),Object(i.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:W.kcalMeatGramsTotal/1e3}),Object(i.h)("i",{class:"fas fa-fish ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:W.kcalSalmonGramsTotal/1e3}),Object(i.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:W.kcalFatGramsTotal/1e3}))))),Object(i.h)("div",{class:U+" position-relative mt-2"},Object(i.h)("strong",null,W.description)),Object(i.h)("div",{class:U+" position-relative"},Object(i.h)(p.a,{markdown:I.a.replaceImages(W.comment,W.images,N),markdownOpts:I.a.getMarkdownOptions()})),Object(i.h)("div",{class:U+" d-flex mb-0 position-relative"},Object(i.h)("div",{class:"container-fluid px-0"},Object(i.h)("div",{class:"row mt-1"},W.distanceKm>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(u.c,{id:"workout.calendar.distance"},"Distanse"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(C.a,{stores:this.props.stores,value:W.distanceKm}))),W.elevation>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(u.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(D.a,{stores:this.props.stores,value:W.elevation}))),W.duration>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(u.c,{id:"workout.calendar.duration"},"Varighet"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},h.a.secToHms(W.duration,!0))),W.speedAvg>0&&Object(i.h)("div",{class:"col-3"},Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},W.gpxInfo&&W.gpxInfo.avgGpsMovingSpeed>0?Object(i.h)(t,null,Object(i.h)(S.a,{stores:this.props.stores,value:3.6*W.gpxInfo.avgGpsMovingSpeed})):Object(i.h)(t,null,Object(i.h)(S.a,{stores:this.props.stores,value:W.speedAvg}))))))),["beta","advanced","normal"].indexOf(M)>-1&&Object(i.h)("div",{class:""+U},Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row"},Object(i.h)(O.a,{stores:this.props.stores,images:rt,id:W.id,dblClick:this.likeWorkout,likeRef:r})))),["beta","advanced","normal"].indexOf(M)>-1&&Object(i.h)(t,null,W.dogs&&W.dogs.length>0&&Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row pt-2"},Object(i.h)(j.a,{stores:this.props.stores,dogs:W.dogs,allDogs:J,onDogClick:this.onDogClick}))),Object(i.h)("div",{class:"mt-2"},Object(i.h)(x.a,{stores:this.props.stores,likes:Z,comments:G,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(M)>-1&&Object(i.h)(t,null,Object(i.h)("div",{class:U+" mb-0 position-relative mt-2"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:`btn btn-sm btn-outline-${H?"primary":"secondary"} btn-lg btn-block ${H?"text-primary":""}`,onClick:this.likeWorkout},Object(i.h)("i",{class:(H?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(i.h)(u.c,{id:"comments.like"},"Lik"))),Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":W.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," ",Object(i.h)(u.c,{id:"comments.comment-add"},"Kommentar"))),B?Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+W.uuidv4,"data-title":"title: "+W.name},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(u.c,{id:"workout.share"},"Del")))):Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+W.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(u.c,{id:"workout.share"},"Del")))))),Object(i.h)("div",{class:U+" mt-2 mb-3"},s&&Object(i.h)(g.a,{stores:this.props.stores,workout:W,inputRef:t=>this.inputRef[W.id]=t,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(i.h)(f.a,{stores:this.props.stores,workout:W,col:"10",offset:"2",compact:!0})),nt>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"mt-2"},Object(i.h)(y.a,{stores:this.props.stores,views:nt,object:W,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||l;e.a=$}).call(this,s("hosL").Fragment)},UJvz:function(t,e,s){"use strict";var o,a=s("hosL"),r=s("Utv1"),c=s("/eY4"),n=s("OhSV");let l=Object(c.a)(o=class extends a.Component{constructor(...t){super(...t),this.toggleDate=()=>{const{showDate:t}=this.state;this.setState({showDate:!t})},this.touchStart=t=>{t.stopPropagation(),this.setState({startY:t.touches[0].pageY})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=t=>{t.stopPropagation();const{close:e}=this.props,{startY:s,refreshing:o}=this.state,a=t.touches[0].pageY;if(this.appContainer){const{scrollTop:t}=this.appContainer;0===t&&a>s+30&&!o&&e()}}}render(){const{showDate:t}=this.state,{image:e,imagexxl:s,close:o,thumb:c,name:l,title:i,date:h}=this.props;return Object(a.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(a.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:o},"X"),Object(a.h)("div",{class:"d-flex mb-2 px-2"},c&&Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:c?`background-image: url("${c}");`:""}," "),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},l&&Object(a.h)("strong",{class:"mr-2"},l,":"),i,Object(a.h)("br",null),Object(a.h)("small",{class:"text-muted"},h&&Object(a.h)("small",{onClick:this.toggleDate},t?r.a.formatDate(h,{locale:"no-NB"}):r.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(a.h)("img",{src:e,class:"img-fluid align-middle mt-2 mb-2",onClick:o,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:t=>this.appContainer=t}),Object(a.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||e,download:s||e},Object(a.h)("i",{class:"fas fa-download"})," ",Object(a.h)(n.c,{id:"modal.download"},"Last ned bildet")))}})||o;e.a=l},ZQlJ:function(t,e,s){"use strict";var o,a=s("hosL"),r=(s("Utv1"),s("/eY4")),c=(s("OhSV"),s("NDEG"));let n=Object(r.a)(o=class extends a.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,o=e/s,a=Math.round(o),r=Math.abs(a-o);(Number.isInteger(o)||r<.1)&&this.setState({imageIdx:a})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,o=s.find(e=>e.id===t),a=s.find(t=>t.id===e);return o&&a&&o.name>a.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:o=(()=>{})}=this.props;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(r=>{const n=e.find(t=>t.id===r);return n?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(a.h)(c.a,{stores:this.props.stores,dog:n,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:o}))):""})))}})||o;e.a=n},ZiYL:function(t,e,s){"use strict";(function(t){var o,a=s("hosL"),r=s("Utv1"),c=s("/eY4"),n=s("OhSV"),l=s("ZOvn");let i=Object(c.a)(o=class extends a.Component{render(){const{userStore:e,appState:s,workoutStore:o}=this.props.stores,{user:c}=e,{language:i="en"}=c,h=l.a.getDays(i),{darkmode:d}=s,{week:b,year:u}=this.props,m=r.a.getDaysInWeek(b,u);let p=0,f=0,g=0,O=0,j=[];const k=parseInt(b,10),w=parseInt(u,10),{week:v,year:x}=l.a.getNextWeek(k,w),{week:y,year:S}=l.a.getPrevWeek(k,w);return Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(a.h)("a",{href:`/workouts/week/${v}/${x}`,class:"float-right btn btn-sm btn-link"},Object(a.h)("i",{class:"fas fa-arrow-right"})),Object(a.h)("a",{href:`/workouts/week/${y}/${S}`,class:"float-left btn btn-sm btn-link"},Object(a.h)("i",{class:"fas fa-arrow-left"})),Object(a.h)("h5",null,Object(a.h)(n.c,{id:"workouts.week-workouts",fields:{week:b,year:u}},"Treningsturene - Uke - ",b," ",u)),Object(a.h)("small",null,Object(a.h)("a",{href:`/workouts/month/${m[0].getMonth()+1}/${m[0].getFullYear()}`},r.a.isoDate(m[0],!1,!1,!0))," - ",Object(a.h)("a",{href:`/workouts/month/${m[m.length-1].getMonth()+1}/${m[m.length-1].getFullYear()}`},r.a.isoDate(m[m.length-1],!1,!1,!0)))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(a.h)("table",{class:"table table-striped table-sm"},Object(a.h)("thead",null,Object(a.h)("tr",null,Object(a.h)("th",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.week"},"Uke")),m.map(t=>Object(a.h)("th",null,h[t.getDay()])),Object(a.h)("th",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.sum"},"Sum")))),Object(a.h)("tbody",null,Object(a.h)("tr",null,Object(a.h)("td",{class:"text-right text-muted pt-3"},b),m.map(t=>{const s=t.getFullYear(),o=t.getMonth()+1,c=t.getDate(),n=e.findWorkoutSummaryWeekDay(s,o,c)||{};return n&&n.distanceKm&&(p+=n.distanceKm,f+=n.count,g+=n.elevation,O+=n.duration,j.push(n.speedAvg)),Object(a.h)("td",{class:"text-center font-weight-light position-relative pt-3",style:`background-color: ${l.a.getDayColor(t.getDay(),d)};`},Object(a.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),n&&n.distanceKm?Object(a.h)("div",{class:"rounded-pill w-100 px-1",style:"background-color: "+l.a.getTrainingColor(n,d)},r.a.format(n.distanceKm,1),n.count>1&&Object(a.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},n.count)):"-")}),Object(a.h)("td",{class:"text-right pt-3"},p)))),Object(a.h)("h5",{class:"mt-4"},Object(a.h)(n.c,{id:"workout.calendar.summary"},"Oppsummering")," - ",b," ",u),Object(a.h)("table",{class:"table table-striped table-sm"},Object(a.h)("tbody",null,Object(a.h)("tr",null,Object(a.h)("td",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.totalWorkouts"},"Antall økter")),Object(a.h)("td",{class:"text-right"},f)),Object(a.h)("tr",null,Object(a.h)("td",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.distance"},"Distanse")),Object(a.h)("td",{class:"text-right"},r.a.format(p,1)," km")),Object(a.h)("tr",null,Object(a.h)("td",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.ascend"},"Høydemeter")),Object(a.h)("td",{class:"text-right"},r.a.format(g,0)," m")),Object(a.h)("tr",null,Object(a.h)("td",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.duration"},"Varighet")),Object(a.h)("td",{class:"text-right"},r.a.secToHms(O))),Object(a.h)("tr",null,Object(a.h)("td",{class:"text-muted"},Object(a.h)(n.c,{id:"workout.calendar.avg-speed"},"Gjennomsnittsfart")),Object(a.h)("td",{class:"text-right"},r.a.format(l.a.avgArr(j),1)," km/t"))))))}})||o;e.a=i}).call(this,s("hosL").Fragment)},na1C:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var r,c=s("hosL"),n=s("Utv1"),l=s("/eY4"),i=s("OhSV"),h=s("ZOvn"),d=s("JWe/"),b=s("ZiYL"),u=s("pJjI");const m=h.a.marginTop(!0),p=h.a.marginBottom(),f=h.a.subMenuMarginTop(),g={isLoading:!1};let O=Object(l.a)(r=class extends c.Component{constructor(t){var e;super(t),e=this,this.loadWorkouts=async function(){e.setState({isLoading:!0}),await e.loadWorkoutSummary(),e.setState({isLoading:!1})},this.loadDogs=async function(){const{dogStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s},addData:["workoutSummary"]})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},g)}async loadTracks(){const{trackStore:t}=this.props.stores;await t.load()}async loadWorkoutSummary(t=this.props){const{userStore:e,workoutStore:s}=this.props.stores,{currentTeam:o}=s,{week:a,year:r}=t;await e.getWorkoutSummary({team:o}),await e.getWorkoutSummaryDay({week:a,year:r,team:o})}componentDidMount(){this.loadWorkouts()}componentWillReceiveProps(t){t.week!==this.props.week&&this.loadWorkoutSummary(t)}shouldComponentUpdate(t){if(t.week!==this.props.week)return!0}render(){const{userStore:t,appState:e,workoutStore:s}=this.props.stores,{currentTeam:o}=s,{darkmode:a}=e,{week:r,year:l=n.a.getYear()}=this.props,{workoutsDay:h}=t;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${p}; margin-top: ${m};`},Object(c.h)("div",{class:"row fixed-top",style:`margin-top: ${f}; background-color: ${a?"#191d21":"#f8f9fa"};`},Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-chart-line"})," ",Object(c.h)(i.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-list"})," ",Object(c.h)(i.c,{id:"workout.index.list"},"Liste")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-calendar-alt"})," ",Object(c.h)(i.c,{id:"workout.index.plan"},"Plan"))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)(u.a,{stores:this.props.stores,callback:this.loadWorkouts,key:"teams-"+o})),Object(c.h)(b.a,{stores:this.props.stores,team:o,week:r,year:l,key:`${l}-${r}-${o}`}),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(c.h)("h5",null,Object(c.h)(i.c,{id:"workouts.week-workouts",fields:{week:r,year:l}},"Treningsturene - Uke - ",r," ",l))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},h&&h.map(t=>Object(c.h)(d.a,{stores:this.props.stores,workout:t,showDate:!0})))))}})||r;e.default=O},pJjI:function(t,e,s){"use strict";(function(t){var o,a=s("hosL"),r=s("Utv1"),c=s("/eY4"),n=s("OhSV");s("/DnB");let l=Object(c.a)(o=class extends a.Component{constructor(...t){super(...t),this.toggleTeam=t=>{const{callback:e,unsetTeamIfSelected:s=!0}=this.props,{dogStore:o,workoutStore:a}=this.props.stores,{currentTeam:c}=o;s&&t===c?(o.setCurrentTeam(void 0),a.setCurrentTeam(void 0)):(o.setCurrentTeam(t),a.setCurrentTeam(t)),r.a.isDefined(e)&&e()},this.showAllTeams=()=>{const{callback:t}=this.props,{dogStore:e,workoutStore:s}=this.props.stores;e.setCurrentTeam(void 0),s.setCurrentTeam(void 0),r.a.isDefined(t)&&t()}}render(){const{userStore:e,dogStore:s}=this.props.stores,{teams:o}=e,{currentTeam:r}=s,{highlight:c,showAll:l=!0}=this.props;return Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"w-100 overflow-hidden"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;"},o&&o.map((e,s)=>{let n;return 1===o.length?n="rounded-pill-both":0===s?n="rounded-pill-left":s+1===o.length&&(n="rounded-pill-right"),Object(a.h)("div",{class:"col mb-0 px-0 clearfix",key:e.id},Object(a.h)("button",{class:`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none ${n}\n\t\t\t\t\t\t\t\t\t\t\t${r===e.id?"btn-success":"btn-outline-success"}\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:()=>this.toggleTeam(e.id)},Object(a.h)("i",{class:"fas fa-users"})," ",e.name,c&&c.indexOf(e.id)>-1&&Object(a.h)(t,null,r===e.id?Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-check float-right"})):Object(a.h)(t,null,Object(a.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")),Object(a.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))})),l&&Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(a.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(n.c,{id:"teams.show-all"},"Show all"))))))}})||o;e.a=l}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=25.chunk.d158c.esm.js.map