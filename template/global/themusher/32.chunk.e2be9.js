(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"/DnB":function(t,e,a){"use strict";function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,n=a("hosL"),i=(a("Utv1"),a("/eY4")),c={},l=Object(i.a)(r=function(t){function e(e){var a;return(a=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},c),a.container=null,a}var a,r;r=t,(a=e).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,a=t.vertical,s=void 0===a?"":a,o={behavior:"smooth"};e&&(o.inline=e),s&&(o.block=s),this.container.scrollIntoView(o)},i.render=function(){var t=this;return Object(n.h)("div",{ref:function(e){return t.container=e}}," ")},e}(n.Component))||r;e.a=l},"1OK2":function(t,e,a){"use strict";var s,o=a("hosL"),r=(a("Utv1"),a("/eY4"));Object(r.a)(s=function(t){function e(e){var a;(a=t.call(this,e)||this).touchStart=function(t){t.stopPropagation(),a.setState({startX:t.touches[0].pageX})},a.touchEnd=function(t){t.stopPropagation(),a.setState({startX:void 0,sliding:!1})},a.touchMove=function(t){if(t.stopPropagation(),a.state.totalImages>1){var e=a.state,s=e.startX,o=t.touches[0].pageX;e.sliding||(o>s+50?(a.setState({sliding:!0}),a.prevImage()):o<s-50&&(a.setState({sliding:!0}),a.nextImage()))}};var s=e.images,o=void 0===s?[]:s;return a.state={imageContainer:1,currentImage1:o[0]||{},currentImage2:{},currentIdx:0,totalImages:o.length||0,imageDots:[].concat(Array(o.length||0).fill(1).map((function(t,e){return t+e})))},a}var a,s;s=t,(a=e).prototype=Object.create(s.prototype),a.prototype.constructor=a,a.__proto__=s;var r=e.prototype;return r.nextImage=function(){var t,e=this.state,a=1===e.imageContainer?2:1,s=e.currentIdx+1;s>e.totalImages-1&&(s=0),this.setState(((t={})["currentImage"+a]=this.props.images[s],t.currentIdx=s,t.imageContainer=a,t))},r.prevImage=function(){var t,e=this.state,a=e.imageContainer,s=e.currentIdx-1;s<0&&(s=e.totalImages-1),this.setState(((t={})["currentImage"+(1===a?2:1)]=this.props.images[s],t.currentIdx=s,t.imageContainer=1===a?2:1,t))},r.componentWillReceiveProps=function(t){if(t.images!==this.props.images){var e=t.images,a=void 0===e?[]:e;this.setState({imageContainer:1,currentImage1:a.length>0?a[0]:{},currentImage2:{},currentIdx:0,totalImages:a.length||0,imageDots:[].concat(Array(a.length||0).fill(1).map((function(t,e){return t+e})))})}},r.render=function(){var t,e,a=this,s=this.state,r=s.currentImage1,n=s.currentImage2,i=s.imageContainer,c=s.totalImages,l=s.imageDots,h=s.currentIdx,d=this["image"+i],u=1===i?r:n;if(u.dimensions){var m=u.dimensions,p=m.width,b=m.height,f=m.orientation;f>4&&f<9?(t=p,e=b):(t=b,e=p)}var g=u.dimensions?e/t:d&&d.height?d.width/d.height:4/3;return c<=0?"":Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"border rounded position-relative w-100",style:"height: calc(85vw / "+g+"); overflow: hidden; transition: all .3s ease-in-out;",onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},c>1&&Object(o.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(o.h)("small",null,h+1,"/",c)),r&&Object(o.h)("div",{class:"position-absolute",style:(1===i?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:r.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return a.image1=t}})),n&&Object(o.h)("div",{class:"position-absolute",style:(2===i?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:n.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return a.image2=t}}))),l.length>1&&Object(o.h)("div",{class:"w-100 text-center"},l.map((function(t){return Object(o.h)("span",{style:"color: "+(t===h+1?"#ffffff":"#808080")+";"},"•")}))))},e}(o.Component))},"8Lgr":function(t,e,a){"use strict";(function(t){function s(t){return n.a.format(t,t<5?2:1)}var o,r=a("hosL"),n=a("Utv1"),i=a("/eY4"),c=(a("OhSV"),a("ZOvn"),Object(i.a)(o=function(e){function a(){return e.apply(this,arguments)||this}var o,n;return n=e,(o=a).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,a.prototype.render=function(){var e=this.props,a=e.value,o=void 0===a?0:a,n=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(r.h)(t,null,Object(r.h)("nobr",null,s(function(t){return.621371*t}(o))," ",n?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(r.h)(t,null,"mi"))):Object(r.h)(t,null,Object(r.h)("nobr",null,s(o)," ",n?Object(r.h)(t,null,Object(r.h)("small",null,Object(r.h)("small",null,Object(r.h)("small",{class:"ml-0 text-muted"},"km")))):Object(r.h)(t,null,"km")))},a}(r.Component))||o);e.a=c}).call(this,a("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},K5BL:function(t,e,a){"use strict";var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=a("OhSV"),c=a("go65"),l=(a("ETxl"),a("ZOvn"),Object(n.a)(s=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).commentTrack=function(){return new Promise((function(t,a){var s,o,r,n,i,c;return r=void 0===(o=(s=e.props).callback)?function(){}:o,n=e.props.track,i=e.state.comment,Promise.resolve(e.props.stores.trackStore.commentReplyTrack({id:n.id,commentId:s.commentId,comment:void 0===i?"":i})).then((function(s){try{return(c=s)&&200===c.status&&(e.setState({comment:""}),r({track:n,response:c})),t()}catch(t){return a(t)}}),a)}))},e}var a,s;return s=t,(a=e).prototype=Object.create(s.prototype),a.prototype.constructor=a,a.__proto__=s,e.prototype.render=function(){var t=this.props.inputRef,e=this.state.comment,a=this.props.stores.userStore.user,s=void 0===a?{}:a,n=s.firstname?""+r.a.ucfirst(s.firstname,!0)+r.a.ucfirst(s.lastname,!0):""+r.a.ucfirst(s.email||"",!0),l=s.image||(s.images?s.images[0]:void 0);return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(l?"background-image: url('"+l.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!l&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},n)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(i.b,null,Object(o.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment"),value:e,ref:t})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.commentTrack},Object(o.h)("i",{class:"fas fa-paper-plane"})))))))},e}(o.Component))||s);e.a=l},NPbb:function(t,e,a){"use strict";(function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n,i=a("hosL"),c=a("Utv1"),l=a("/eY4"),h=(a("OhSV"),a("ZOvn")),d=a("bbv7"),u=(a("nHdA"),a("irB3"),a("UwwE"),a("8Lgr"),a("QkTp"),Object(l.a)(n=function(e){function a(){return e.apply(this,arguments)||this}var s,r;return r=e,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,a.prototype.render=function(){var e=this.props,a=e.showTemperatur,s=void 0===a||a,r=this.props.stores,n=r.trackStore.track,l=void 0===n?{}:n,u=r.userStore.user.settings,m=void 0===u?{}:u,p=l.gpx,b=l.gpxInfo,f=(void 0===p?{}:p).gpxInfo,g=o(o({},void 0===f?{}:f),b),O=g.elevations,v=void 0===O?[]:O,j=g.temperatures,y=void 0===j?[]:j,k=g.climbs,x=void 0===k?[]:k,w=g.ecor,T=void 0===w?[]:w,L=[],S=[],_=[],D=[],R=[],P=[],I=[],C=[],E=[],A=[],F=[],W=[],z=[];if(v.length>0){var Y=h.a.smoothArray(v,5).map((function(t,e){return{x:e,y:m.imperial?(a=t,3.28084*a):t};var a}));L.push(Y),P.push("Elevation"),A.push("m")}if(s&&y.length>0){var M=h.a.smoothArray(y,2).map((function(t,e){return{x:e,y:m.imperial?(a=t,9*a/5+32):t};var a}));S.push(M),I.push("Temp"),F.push("°C")}if(x.length>0){var V=h.a.smoothArray(x,2).map((function(t,e){return{x:e,y:t}}));_.push(V),C.push("Climblevel"),W.push("%")}if(T.length>0){var X=h.a.smoothArray(T,2).map((function(t,e){return{x:e,y:1e3*t}}));R.push(X),E.push("ECOR (kcal/kg/km)"),z.push("kcal/kg/km")}var U=[];if(l.distanceKm>0){for(var B=m.imperial?.621371*l.distanceKm:l.distanceKm,N=c.a.range(0,Math.ceil(B),1),Z=Math.ceil(N.length/5),K=(Math.floor(N.length/Z),0),H=N.length;K<H;K+=Z)U.push(N[K]);U.push(N[N.length-1])}return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(d.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:function(t){return m.imperial?t+"mi":t+"km"},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:L,legendLeft:P,showYTicksLeft:1,yTicksLeftPostfix:m.imperial?"ft":"m",unitLeft:A,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:D,legendRight:[],showYTicksRight:D.length>0?1:0,yTicksRightPostfix:m.imperial?"mph":"km/t",unitRight:[],avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),S.length>0&&Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(d.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:function(t){return m.imperial?t+"mi":t+"km"},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:S,legendLeft:I,yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:"°C",unitLeft:F,avgWindowLeft:[0],smoothLeft:[1]})),_.length>0&&Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(d.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:function(t){return m.imperial?t+"mi":t+"km"},xTicks:U,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:_,legendLeft:C,yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:"%",unitLeft:W,avgWindowLeft:[0],smoothLeft:[1],dataRight:R,legendRight:E,showYTicksRight:R.length>0?1:0,yTicksRightVal:function(t){return c.a.format(t/1e3,2)},unitRight:z,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))},a}(i.Component))||n);e.a=u}).call(this,a("hosL").Fragment)},QkTp:function(t,e,a){"use strict";(function(t){var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=(a("OhSV"),a("ZOvn"),Object(n.a)(s=function(e){function a(){return e.apply(this,arguments)||this}var s,n;return n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,a.prototype.render=function(){var e=this.props,a=e.value,s=void 0===a?0:a,n=this.props.stores.userStore.user.settings;return(void 0===n?{}:n).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(function(t){return 9*t/5+32}(s),0),"°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(s,1),"°C"))},a}(o.Component))||s);e.a=i}).call(this,a("hosL").Fragment)},UwwE:function(t,e,a){"use strict";(function(t){var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=(a("OhSV"),a("ZOvn"),Object(n.a)(s=function(e){function a(){return e.apply(this,arguments)||this}var s,n;return n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,a.prototype.render=function(){var e=this.props,a=e.value,s=void 0===a?0:a,n=this.props.stores.userStore.user.settings;return(void 0===n?{}:n).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(function(t){return 2.20462*t}(s),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(s,0)," kg"))},a}(o.Component))||s);e.a=i}).call(this,a("hosL").Fragment)},WAWY:function(t,e,a){"use strict";(function(t){var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=a("OhSV"),c=(a("ZOvn"),a("bbv7")),l=Object(i.d)((function(){return{week:Object(o.h)(i.c,{id:"workout.graph.week"}),distance:Object(o.h)(i.c,{id:"workout.graph.distance"}),duration:Object(o.h)(i.c,{id:"workout.graph.duration"},"Duration"),rest:Object(o.h)(i.c,{id:"workout.graph.rest"},"Rest"),ascend:Object(o.h)(i.c,{id:"workout.graph.ascend"}),plan:Object(o.h)(i.c,{id:"workout.graph.plan"}),speedAvg:Object(o.h)(i.c,{id:"workout.graph.speedavg"},"Speed"),loadIndex:Object(o.h)(i.c,{id:"workout.graph.loadindex"},"Loadindex"),avgDogs:Object(o.h)(i.c,{id:"workout.graph.avgdogs"},"Avg dogs"),avgImages:Object(o.h)(i.c,{id:"workout.graph.avgimages"},"Avg images"),sledWeight:Object(o.h)(i.c,{id:"workout.graph.sledweight"},"Sled weight"),rating:Object(o.h)(i.c,{id:"workout.graph.rating"},"Rating"),temperature:Object(o.h)(i.c,{id:"workout.graph.temperature"},"Temperature")}}))(s=Object(n.a)(s=function(e){function a(){return e.apply(this,arguments)||this}var s,n;return n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,a.prototype.render=function(){for(var e=this.props.stores,a=e.userStore,s=a.graphWorkoutSummaryWeekDistanceCurrent,n=a.graphWorkoutSummaryWeekDistancePrev,l=a.graphWorkoutSummaryWeekElevationCurrent,h=a.graphWorkoutSummaryWeekElevationPrev,d=a.avgDayDistance,u=a.avgDayElevation,m=a.avgDayDuration,p=a.avgDaySpeedAvg,b=a.avgDayLoadIndex,f=a.avgDayAvgDogs,g=a.avgDayAvgImages,O=a.avgDaySledWeight,v=a.avgDayRest,j=a.avgDayRating,y=a.avgDayTemperature,k=a.user.settings,x=void 0===k?{}:k,w=e.workoutPlanStore.graphPlanWeekDistanceCurrent,T=(new Date).getMonth()+1,L=(new Date).getFullYear(),S=this.props,_=S.isLoading,D=S.week,R=S.distance,P=S.duration,I=S.rest,C=S.ascend,E=S.plan,A=S.speedAvg,F=S.loadIndex,W=S.avgDogs,z=S.avgImages,Y=S.sledWeight,M=S.rating,V=S.temperature,X=S.year,U=void 0===X?L:X,B=S.month,N=S.showExtra,Z=void 0!==N&&N,K=parseInt((void 0===B?T:B)<8?U-1:U,10),H=r.a.weekRange(K+"-08-01",K+1+"-07-31"),J=r.a.dayRange(K+"-08-01",K+1+"-07-31"),q=H.map((function(t){return t.week})),Q=Math.floor(q.length/5),G=[],$=0,tt=q.length;$<tt;$+=Q)G.push(q[$]);for(var et=J.map((function(t){return t.day+"."+t.month})),at=Math.floor(et.length/5),st=[],ot=0,rt=et.length;ot<rt;ot+=at)st.push(et[ot]);return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 border-top pt-5"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(i.c,{id:"workout.graph.total-distance"},"Total distance")),Object(o.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return D+" "+t},xTicks:G,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[s,n,w],legendLeft:[K+" "+R,K-1+" "+R,K+" "+E],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:x.imperial?"mi":"km",unitLeft:x.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[l,h],legendRight:[K+" "+C,K-1+" "+C],showYTicksRight:1,yTicksRightPostfix:x.imperial?"ft":"m",unitRight:x.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!_&&s&&s.length<3&&Object(o.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(o.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(o.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(o.h)("i",{class:"fas fa-paw"})),Object(o.h)("small",null,Object(o.h)(i.c,{id:"workout.graph.too-little-data"},"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.")))),Z&&Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(i.c,{id:"workout.graph.avg-rating"},"Average rating/day")),Object(o.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:st,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[j],legendLeft:[K+" "+M],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[y],legendRight:[K+" "+V],showYTicksRight:1,yTicksRightPostfix:x.imperial?"°F":"°C",avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(i.c,{id:"workout.graph.avg-distance"},"Average distance/day")),Object(o.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:st,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[d],legendLeft:[K+" "+R],showYTicksLeft:1,yTicksLeftPostfix:x.imperial?"mi":"km",unitLeft:x.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[u],legendRight:[K+" "+C],showYTicksRight:1,yTicksRightPostfix:x.imperial?"ft":"m",unitRight:x.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(i.c,{id:"workout.graph.avg-duration"},"Average duration/day")),Object(o.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:st,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:[m],legendLeft:[K+" "+P],yTicksLeftVal:function(t){return""+r.a.secToHms(t)},showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[v],legendRight:[K+" "+I],showYTicksRight:1,yTicksRightVal:function(t){return""+r.a.secToHms(t)},avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(i.c,{id:"workout.graph.avg-speed"},"Average speed/day")),Object(o.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:st,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[p],legendLeft:[K+" "+A],showYTicksLeft:1,yTicksLeftPostfix:x.imperial?"mph":"km/t",unitLeft:x.imperial?["mph","mph","mph"]:["km/t","km/t","km/t"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[b],legendRight:[K+" "+F],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(i.c,{id:"workout.graph.avg-dogs"},"Average dogs/day")),Object(o.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:st,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[f,g],legendLeft:[K+" "+W,K+" "+z],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[O],legendRight:[K+" "+Y],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]}))))},a}(o.Component))||s)||s;e.a=l}).call(this,a("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},ePpR:function(t,e,a){"use strict";(function(t){var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=a("OhSV"),c=a("go65"),l=a("om2D"),h=a("ZOvn"),d=Object(n.a)(s=function(e){function a(t){var a;return(a=e.call(this,t)||this).commentTrack=function(){return new Promise((function(t,e){var s,o,r,n,i,c,l,d,u;return r=void 0===(o=(s=a.props).callback)?function(){}:o,i=void 0===(n=s.inputRefObject)?{}:n,c=a.props.track,d=(l=a.state).showAddImage,Promise.resolve(a.props.stores.trackStore.commentTrack({id:c.id,comment:l.comment})).then((function(s){try{return(u=s)&&200===u.status&&(a.setState({comment:{body:"",images:[]}},(function(){h.a.resizeTextarea(i[c.id]),d&&a.addImage()})),r({track:c,response:u})),t()}catch(t){return e(t)}}),e)}))},a.addImages=function(t){var e,s=a.state.comment;(e=s.images).push.apply(e,t.value),a.setState({comment:s})},a.addImage=function(){var t=a.state.showAddImage;a.setState({showAddImage:!(void 0!==t&&t)})},a.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},a.state={comment:{body:"",images:[]},showAddImage:!1},a.inputRef={},a}var s,n;return n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,a.prototype.render=function(){var e=this,a=this.props,s=a.inputRef,n=a.track,h=this.state,d=h.comment,u=h.showAddImage,m=this.props.stores.userStore.user,p=void 0===m?{}:m,b=p.firstname?""+r.a.ucfirst(p.firstname,!0)+r.a.ucfirst(p.lastname,!0):""+r.a.ucfirst(p.email||"",!0),f=p.image||(p.images?p.images[0]:void 0);return Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-3 position-relative"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(f?"background-image: url('"+f.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!f&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},b)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(i.b,null,Object(o.h)("input",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),value:d.body,ref:s})),Object(o.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-image pointerCursor","data-id":n.id,onClick:this.addImage})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:"btn btn-primary mb-2",onClick:this.commentTrack},Object(o.h)("i",{class:"fas fa-paper-plane"})))))),u&&Object(o.h)(t,null,Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},r.a.isArray(d.images)&&d.images.map((function(t){return Object(o.h)("div",{class:"col-3 p-1"},Object(o.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(o.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(o.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(o.h)(l.a,{object:d,updateField:this.addImages,autoOpen:!0}))))},a}(o.Component))||s;e.a=d}).call(this,a("hosL").Fragment)},irB3:function(t,e,a){"use strict";(function(t){var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=(a("OhSV"),a("ZOvn"),Object(n.a)(s=function(e){function a(){return e.apply(this,arguments)||this}var s,n;return n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,a.prototype.render=function(){var e=this.props,a=e.value,s=void 0===a?0:a,n=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(function(t){return 3.28084*t}(s),0)," ",n?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(s,0)," ",n?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))},a}(o.Component))||s);e.a=i}).call(this,a("hosL").Fragment)},lcEk:function(t,e,a){"use strict";(function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,n=a("hosL"),i=a("Utv1"),c=a("/eY4"),l=a("cneo"),h=a("OhSV"),d=a("fh8t"),u=a.n(d),m=a("K5BL"),p=(a("ETxl"),a("ZOvn")),b={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{},likeComment:{},likeReply:{}},f=Object(c.a)(r=function(e){function a(t){var a;return(a=e.call(this,t)||this).likeComment=function(t){return new Promise((function(e,s){var o,r,n,i,c;return r=void 0===(o=a.props.callback)?function(){}:o,n=t.target.parentElement.dataset.id||t.target.dataset.id,i=a.props.track,Promise.resolve(a.props.stores.trackStore.likeTrackComment({id:i.id,commentId:n})).then((function(t){try{return(c=t)&&200===c.status&&r({track:i,commentId:n,response:c}),e(!0)}catch(t){return s(t)}}),s)}))},a.likeReply=function(t){return new Promise((function(e,s){var o,r,n,i,c;return r=void 0===(o=a.props.callback)?function(){}:o,n=t.target.parentElement.dataset.comment||t.target.dataset.comment,i=a.props.track,Promise.resolve(a.props.stores.trackStore.likeTrackCommentReply({id:i.id,replyId:t.target.parentElement.dataset.id||t.target.dataset.id,commentId:n})).then((function(t){try{return(c=t)&&200===c.status&&r({track:i,commentId:n,response:c}),e()}catch(t){return s(t)}}),s)}))},a.replyComment=function(t){return new Promise((function(e){var s=t.target.parentElement.dataset.id||t.target.dataset.id,o=a.state.showAddComment;return o[s]=!o[s],a.setState({showAddComment:o},(function(){a.inputRef[s]&&a.inputRef[s].focus()})),e()}))},a.toggleComments=function(){a.setState({showAllComments:!a.state.showAllComments})},a.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,s=a.state.showAllReplies;s[e]=!s[e],a.setState({showAllReplies:s})},a.state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},b),a.inputRef={},a}var r,c;return c=e,(r=a).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c,a.prototype.render=function(){var e=this,a=this.state,s=a.showAddComment,o=a.showAllComments,r=a.showAllReplies,c=a.viewImageIdx,d=a.likeComment,b=this.props,f=b.track,g=b.callback,O=void 0===g?function(){}:g,v=b.col,j=void 0===v?12:v,y=b.offset,k=void 0===y?0:y,x=b.compact,w=this.props.stores.userStore,T=w.user,L=w.language,S=void 0===L?"en":L,_=[],D=0,R=0;if(f.comments){if(D=f.comments.length,o)_=f.comments;else _=f.comments.slice(Math.max(D-(void 0!==x&&x?0:2),0));R=_.length}return Object(n.h)("div",{class:"col-"+j+" offset-"+k+" col-sm-8 col-lg-6 offset-sm-2 offset-lg-3"},o&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 mb-2",onClick:this.toggleComments},Object(n.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))),f&&_&&_.reverse().map((function(a){var o=a.user,b=void 0===o?{}:o,g=b.firstname?""+i.a.ucfirst(b.firstname,!0)+i.a.ucfirst(b.lastname,!0):""+i.a.ucfirst(b.email||"",!0),v=b.firstname?b.firstname+" "+b.lastname:""+b.email,j=b.image||(b.images?b.images[0]:void 0),y=a.likes&&a.likes.findIndex((function(t){return t.user===T.id}))>-1,k=[],x=0,w=0;a.comments&&(x=a.comments.length,w=(k=r[a.id]?a.comments:a.comments.slice(0,void 0)).length);var L=[];if(a.images){var _=Object(l.i)(a.images);L.push.apply(L,_)}var D=c[a.id]?c[a.id]:0,R=L&&L[D]?L[D]:null;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(j?'background-image: url("'+j.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!b.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},g)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},v),Object(n.h)(u.a,{markdown:p.a.replaceImages(a.comment,a.images,S),markdownOpts:p.a.getMarkdownOptions()})),Object(n.h)("div",null,Object(n.h)("div",{class:"container-fluid px-3 mt-1"},R&&Object(n.h)("div",{class:"clearfix row position-relative"},Object(n.h)("div",{class:"commentContainer col-12 px-0 overflow-hidden",style:"max-height: 60vh;",onDblclick:e.addLikeComment,"data-id":a.id},Object(n.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:R.s3LargeLink})),d[a.id]&&Object(n.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(n.h)("i",{class:"fas fa-heart likeStory"}))),L&&L.length>1&&Object(n.h)("div",{class:"clearfix d-flex flex-wrap row"},i.a.isArray(L)&&L.map((function(s,o){return Object(n.h)(t,null,Object(n.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:s.s3SmallLink,onClick:e.viewImage,"data-id":a.id,"data-idx":o})))}))))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(y?"text-primary":""),onClick:e.likeComment,"data-id":a.id},Object(n.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:e.replyComment,"data-id":a.id},Object(n.h)(h.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(a.createdDate,new Date,{locale:"no-NB"})))),a.likes&&a.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",a.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},a&&k&&k.map((function(t){var s=t.user,o=void 0===s?{}:s,r=o.firstname?""+i.a.ucfirst(o.firstname,!0)+i.a.ucfirst(o.lastname,!0):""+i.a.ucfirst(o.email||"",!0),c=o.firstname?o.firstname+" "+o.lastname:""+o.email,l=o.image||(o.images?o.images[0]:void 0),d=t.likes&&t.likes.findIndex((function(t){return t.user===T.id}))>-1;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(l?'background-image: url("'+l.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!o.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},r)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},c),t.comment),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(d?"text-primary":""),onClick:e.likeReply,"data-comment":a.id,"data-id":t.id},Object(n.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:e.replyComment,"data-id":a.id},Object(n.h)(h.c,{id:"comments.comment-add"},"Kommentar")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))})),x-w>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:e.toggleReplies,"data-id":a.id},Object(n.h)(h.c,{id:"comments.show-more",fields:{more:x-w}},"Vis ",x-w," flere kommentarer...")))),s[a.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(m.a,{stores:e.props.stores,track:f,callback:O,commentId:a.id,inputRef:function(t){return e.inputRef[a.id]=t}})))})),D-R>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(h.c,{id:"comments.show-more",fields:{more:D-R}},"Vis ",D-R," flere kommentarer..."))),o&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},a}(n.Component))||r;e.a=f}).call(this,a("hosL").Fragment)},nHdA:function(t,e,a){"use strict";(function(t){var s,o=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=a("OhSV"),c=(a("ZOvn"),Object(n.a)(s=function(e){function a(){return e.apply(this,arguments)||this}var s,n;return n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,a.prototype.render=function(){var e=this.props,a=e.value,s=void 0===a?0:a,n=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(function(t){return.621371*t}(s),1)," ",n?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,r.a.format(s,1)," ",n?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))},a}(o.Component))||s);e.a=c}).call(this,a("hosL").Fragment)},om2D:function(t,e,a){"use strict";var s,o=a("hosL"),r=a("/eY4"),n=(a("cneo"),a("Utv1"),a("u2zT")),i=Object(r.a)(s=function(t){function e(e){var a;return(a=t.call(this,e)||this).handleAddImage=function(t){var e=a.props.addToImages,s=void 0===e||e,o=a.props,r=o.updateField,n=o.object,i=o.field;if(i&&r({id:n.id,field:i,value:t,skipTimer:!0}),s){var c=[];c.push(t),r({id:n.id,field:"images",value:c,skipTimer:!0})}},a.state={files:[]},a}var a,s;return s=t,(a=e).prototype=Object.create(s.prototype),a.prototype.constructor=a,a.__proto__=s,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,a=void 0===e?function(){}:e,s=t.before,r=void 0===s?function(){}:s,i=t.after,c=void 0===i?function(){}:i,l=t.autoOpen,h=void 0===l||l;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(n.a,{handleAddImage:this.handleAddImage,uploadStatus:a,apiUrl:"/api/fileupload",before:r,after:c,autoOpen:h},Object(o.h)("div",{style:{height:30,width:"100%"}}))))},e}(o.Component))||s;e.a=i},qwZb:function(t,e,a){"use strict";a.r(e),function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,n=a("hosL"),i=a("Utv1"),c=a("/eY4"),l=a("Y3FI"),h=a("OhSV"),d=a("X9Km"),u=a("ZOvn"),m=a("HqZR"),p=(a("1OK2"),a("s4FZ")),b=a("WAWY"),f=a("NPbb"),g=a("wanP"),O=a("lcEk"),v=a("ePpR"),j=a("nHdA"),y=a("irB3"),k=(a("UwwE"),a("8Lgr")),x=(a("QkTp"),a("/DnB")),w=u.a.marginTop(!1),T=u.a.marginTopBack(!1),L=u.a.marginBottom(),S=u.a.getMaxLoadIndex(),_={weather:[],newTrack:{},showAdminInfo:!1,showWeatherDetails:!1,submenu:"map"},D=Object(c.a)(r=function(e){function a(t){var a;return(a=e.call(this,t)||this).deleteTrack=function(){return new Promise((function(t,e){var s;return s=a.props.stores.trackStore,Promise.resolve(s.saveField(s.track.id,"offline",1)).then((function(){try{return d.a.publish(d.b.STATUS_MESSAGE,{message:"Runden er slettet",type:"success",icon:"fas fa-check"}),Object(l.route)("/tracks/"),t()}catch(t){return e(t)}}),e)}))},a.toggleAdminInfo=function(){a.props.stores.userStore.isAdmin&&a.setState({showAdminInfo:!a.state.showAdminInfo})},a.likeTrack=function(){return new Promise((function(t,e){var s;return s=a.props.stores.trackStore,Promise.resolve(s.likeTrack({id:s.track.id})).then((function(a){try{return a,t()}catch(t){return e(t)}}),e)}))},a.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;a.setState({showAddComment:!a.state.showAddComment},(function(){a.inputRef[e]&&a.inputRef[e].focus()}))},a.toggleShowWeatherDetails=function(){a.setState({showWeatherDetails:!a.state.showWeatherDetails})},a.chooseSubmenu=function(t){a.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},a.back=function(){a.props.stores.history.goBack()},a.state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},_),a.updateTimer={},a.inputRef={},a}var r,c;c=e,(r=a).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var D=a.prototype;return D.loadTrack=function(t){return new Promise(function(e,a){var s,o,r,n,i;return void 0===t&&(t=this.props),o=(s=this.props.stores).trackStore,r=s.userStore,n=s.workoutPlanStore,Promise.resolve(o.load(t.track)).then(function(){try{if((i=o.track).firstPoint)return Promise.resolve(r.getWeather({lat:i.firstPoint[1],lon:i.firstPoint[0],altitude:i.firstPoint[2],force:1})).then(function(e){try{return this.setState({weather:e}),t.call(this)}catch(t){return a(t)}}.bind(this),a);function t(){return n.updateItem("workoutPlans",[]),n.updateItem("workoutPlan",{}),n.resetGraphPlanWeekDistanceCurrent(),Promise.resolve(r.getWorkoutSummary({track:i.id})).then((function(){try{return e()}catch(t){return a(t)}}),a)}return t.call(this)}catch(t){return a(t)}}.bind(this),a)}.bind(this))},D.componentDidMount=function(){this.loadTrack()},D.componentWillReceiveProps=function(t){t.track!==this.props.track&&this.loadTrack(t)},D.render=function(){var e=this,a=this.props.stores,s=a.userStore,o=this.state,r=o.submenu,c=o.showAdminInfo,l=o.showAddComment,d=o.weather,_=o.showWeatherDetails,D=this.props.isPublic,R=s.isAdmin,P=s.graphWorkoutSummaryWeekDistanceCurrentTotal,I=s.user,C=void 0===I?{}:I,E=C.teams,A=a.trackStore.track,F=void 0===A?{}:A,W=F.gpxInfo,z=void 0===W?{}:W,Y=z.loadIndex,M=void 0===Y?0:Y,V=F.user===C.id||(void 0===E?[]:E).indexOf(F.team)>-1,X=F.likes,U=void 0===X?[]:X,B=F.comments,N=void 0===B?[]:B,Z=F.likes&&F.likes.findIndex((function(t){return t.user===C.id}))>-1;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: "+L+"; margin-top: "+w+";"},Object(n.h)("div",{class:"d-flex justify-content-between"},Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+T+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(n.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(n.h)("div",null,Object(n.h)("h5",{class:"text-muted"}," ")),Object(n.h)("div",null,V&&Object(n.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/tracks/edit/"+F.id},Object(n.h)("i",{class:"fas fa-edit"})," ",Object(n.h)(h.c,{id:"tracks.edit"},"Endre")))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"d-flex mb-2"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:F.image?'background-image: url("'+F.image.s3SmallLink+'");':""},!F.image&&Object(n.h)("i",{class:"fas fa-map-marked text-muted mt-3",style:"font-size: 40px;"})),Object(n.h)("div",{class:"flex-grow-1 pl-3"},Object(n.h)("h5",null,F.name),Object(n.h)("div",null,F.place),Object(n.h)("i",{class:"fas fa-calendar-alt mr-1"}),F.gpx&&F.gpx.s3Link&&Object(n.h)("span",{class:"float-right font-weight-lighter"},Object(n.h)("a",{href:F.gpx.s3Link,native:!0},Object(n.h)("i",{class:"fas fa-download"})," ",i.a.formatBytes(F.gpx.bytes,0))),i.a.isoDate(F.date||F.updatedDate||F.createdDate),Object(n.h)("br",null),1===F.public&&Object(n.h)("span",{class:"badge badge-success"},"Is public"),D&&F.userObject&&Object(n.h)("span",{class:"text-muted font-weight-lighter ml-3"},u.a.displayName(F.userObject)))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("map"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(n.h)(h.c,{id:"tracks.map"},"Map")),"map"===r&&Object(n.h)(x.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-block rounded-none "+("stats"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(h.c,{id:"tracks.stats"},"Your stats")),"stats"===r&&Object(n.h)(x.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-block rounded-none "+("weather"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"weather",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-cloud-sun-rain"})," ",Object(n.h)(h.c,{id:"tracks.weather"},"Weather")),"weather"===r&&Object(n.h)(x.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-block rounded-none "+("summary"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"summary",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-info-circle"})," ",Object(n.h)(h.c,{id:"tracks.summary"},"Summary")),"summary"===r&&Object(n.h)(x.a,{horizontal:"center",vertical:"end"})),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("photos"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"photos",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-camera"})," ",Object(n.h)(h.c,{id:"tracks.photos"},"Photos")),"photos"===r&&Object(n.h)(x.a,{horizontal:"center",vertical:"end"}))))))),"map"===r&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 p-0"},F.gpx&&Object(n.h)("div",{class:"mb-4",style:"height: 500px;"},Object(n.h)(m.a,{stores:this.props.stores,mapId:F.id,geojson:F.gpx.geoJSON,gpxInfo:F.gpxInfo||F.gpx.gpxInfo,fullscreenMap:!0}))))),"stats"===r&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(h.c,{id:"tracks.your-workout-summary"},"Your workout summary")),P>0?Object(n.h)(t,null,Object(n.h)(b.a,{stores:this.props.stores,isLoading:!1})):Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-chart-line"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(h.c,{id:"tracks.no-workout-summary"},"You have no workout summary for this track. You can choose track inside your workouts to have the summary calculated."))))))),"weather"===r&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(h.c,{id:"tracks.weather-start"},"Weather at the start position")),Object(n.h)("div",{class:"row"},d&&d.length>0?d.slice(0,4).map((function(t){return Object(n.h)("div",{class:"col-3 text-center"},Object(n.h)("img",{loading:"lazy",src:"./assets/svg/"+i.a.getNestedValue(t,"next_1_hours.summary.symbol_code")+".svg"}),Object(n.h)("br",null),Object(n.h)("nobr",null,Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-temperature-low text-muted ml-1"}))," ",i.a.getNestedValue(t,"instant.details.air_temperature")," ",Object(n.h)("span",{class:"text-muted"},"°C")),Object(n.h)("br",null),Object(n.h)("small",null,Object(n.h)("i",{class:"fas fa-compass text-muted ml-1"})," ",u.a.windDirection(i.a.getNestedValue(t,"instant.details.wind_from_direction")),Object(n.h)("br",null),Object(n.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",i.a.getNestedValue(t,"instant.details.wind_speed")," ",Object(n.h)("span",{class:"text-muted"},"m/s"),Object(n.h)("br",null),Object(n.h)("i",{class:"fas fa-cloud-rain text-muted ml-1"})," ",i.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")," ",Object(n.h)("span",{class:"text-muted"},"mm"),Object(n.h)("br",null),Object(n.h)("i",{class:"fas fa-tint text-muted ml-1"})," ",i.a.getNestedValue(t,"instant.details.relative_humidity")," ",Object(n.h)("span",{class:"text-muted"},"%"),Object(n.h)("br",null)),Object(n.h)("span",{class:"font-weight-strong"},i.a.isoTime(t.time)),Object(n.h)("br",null))})):Object(n.h)(t,null,Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-cloud-sun-rain"})),Object(n.h)("h3",{class:"font-weight-lighter"},Object(n.h)(h.c,{id:"tracks.no-weather"},"Can't find weather for this track."))))),Object(n.h)("small",null,_?Object(n.h)(t,null,Object(n.h)("table",{class:"table table-sm table-striped mt-4"},d&&d.length>0&&d.slice(4,70).map((function(t){return Object(n.h)("tr",null,Object(n.h)("td",null,Object(n.h)("img",{loading:"lazy",src:"./assets/svg/"+(i.a.getNestedValue(t,"next_1_hours.summary.symbol_code")||i.a.getNestedValue(t,"next_6_hours.summary.symbol_code"))+".svg",style:"height: 20px;"})),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-temperature-low text-muted ml-1"})," ",i.a.getNestedValue(t,"instant.details.air_temperature")," ",Object(n.h)("span",{class:"text-muted"},"°C")),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-compass text-muted ml-1"})," ",u.a.windDirection(i.a.getNestedValue(t,"instant.details.wind_from_direction"))),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",i.a.getNestedValue(t,"instant.details.wind_speed")," ",Object(n.h)("span",{class:"text-muted"},"m/s")),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-cloud-rain text-muted ml-1"})," ",i.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")||i.a.getNestedValue(t,"next_6_hours.details.precipitation_amount")||0," ",Object(n.h)("span",{class:"text-muted"},"mm")),Object(n.h)("td",{class:"text-center"},Object(n.h)("i",{class:"fas fa-tint text-muted ml-1"})," ",i.a.getNestedValue(t,"instant.details.relative_humidity")," ",Object(n.h)("span",{class:"text-muted"},"%")),Object(n.h)("td",{class:"font-weight-strong text-right"},i.a.isoDate(new Date,!1,!1,!0)!==i.a.isoDate(t.time,!1,!1,!0)?i.a.formatDate(t.time,{year:void 0,weekday:"short",localeMatcher:"lookup"}):""," ",i.a.isoTime(t.time)))}))),Object(n.h)("button",{class:"btn btn-link",onClick:this.toggleShowWeatherDetails},Object(n.h)("i",{class:"fas fa-eye-slash"})," ",Object(n.h)(h.c,{id:"tracks.weather-hide-details"},"Hide details"))):Object(n.h)("button",{class:"btn btn-link",onClick:this.toggleShowWeatherDetails},Object(n.h)("i",{class:"fas fa-eye"})," ",Object(n.h)(h.c,{id:"tracks.weather-show-details"},"Show details")))))),"summary"===r&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(h.c,{id:"tracks.summary"},"Track summary")),Object(n.h)("p",null,Object(n.h)(h.c,{id:"tracks.summary-info"},"The summary for this track is estimated based on the tracks profile and your team settings.")))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-road"})," ",Object(n.h)(h.c,{id:"tracks.distance"},"Distance")),Object(n.h)("h3",null,Object(n.h)(k.a,{stores:this.props.stores,value:F.distanceKm})),z.calculatedTotalDistance>0&&Object(n.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(n.h)(h.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(n.h)(k.a,{stores:this.props.stores,value:z.calculatedTotalDistance}),Object(n.h)("br",null))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(h.c,{id:"tracks.elevation"},"Elevation")),Object(n.h)("h3",null,Object(n.h)(y.a,{stores:this.props.stores,value:F.elevation})),z.calculatedAscend>0&&Object(n.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(n.h)(h.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(n.h)(y.a,{stores:this.props.stores,value:z.calculatedAscend}),Object(n.h)("br",null))),Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(h.c,{id:"tracks.downhill"},"Downhill")),Object(n.h)("h3",null,Object(n.h)(y.a,{stores:this.props.stores,value:F.decent})),z.calculatedDescend>0&&Object(n.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(n.h)(h.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",Object(n.h)(y.a,{stores:this.props.stores,value:z.calculatedDescend}),Object(n.h)("br",null)))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-clock"})," ",Object(n.h)(h.c,{id:"tracks.duration"},"Duration")),Object(n.h)("h3",null,i.a.secToHms(z.duration))),z.normalSpeedMs>0?Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(h.c,{id:"tracks.speed"},"Speed")),Object(n.h)("h3",null,Object(n.h)(j.a,{stores:this.props.stores,value:3.6*z.normalSpeedMs}))):Object(n.h)("div",{class:"col text-center"},Object(n.h)("small",{class:"text-muted"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(h.c,{id:"tracks.speed"},"Speed")),Object(n.h)("h3",null,Object(n.h)(j.a,{stores:this.props.stores,value:z.normalSpeed})))))),Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(i.a.checkNested(F,"gpxInfo","elevations")||i.a.checkNested(F,"gpx","gpxInfo","elevations"))&&Object(n.h)(f.a,{stores:this.props.stores,showTemperatur:!1,key:"track-elevation-"+F.id}))),M>0&&Object(n.h)("div",{class:"row mt-2"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{onClick:this.toggleAdminInfo},Object(n.h)(h.c,{id:"workouts.load-index"},"Belastningsindex"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-center"},Object(n.h)(g.a,{key:"gauge-"+M,radius:100,showPercentText:!0,color:u.a.getLoadIndexColor(i.a.normalizeBetween(M,0,S,0,100)),percent:Math.floor(i.a.normalizeBetween(M,0,S,0,100)),completed:u.a.getLoadIndexText(i.a.normalizeBetween(M,0,S,0,100)),prefix:""}),Object(n.h)("div",null,Object(n.h)("span",{class:"badge badge-pill badge-secondary"},"Long distance"),Object(n.h)("span",{class:"badge badge-pill badge-secondary ml-2"},"Serious amature"),Object(n.h)("br",null)),R&&c&&Object(n.h)("div",null,Object(n.h)("small",null,Object(n.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",z.loadIndex),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",S),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",i.a.format(z.totalKcalRelated,1)),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeedMs: ",z.normalSpeedMs),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",z.normalDuration),Object(n.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",i.a.format(z.durationFactor,2)),Object(n.h)("div",null,Object(n.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),"photos"===r&&Object(n.h)(t,null,Object(n.h)("div",{class:"row mt-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",null,Object(n.h)(h.c,{id:"tracks.photos"},"Photos from this track")))),Object(n.h)("div",{class:"row"},Object(n.h)(h.b,null,Object(n.h)(p.a,{stores:this.props.stores,images:F.images,noimagestext:Object(n.h)(h.c,{id:"tracks.no-photos"},"No photos for this track.")})))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},U&&U.length>0&&Object(n.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",U.length),N&&N.length>0&&Object(n.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",N.length)),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:"btn btn-outline-"+(Z?"primary":"secondary")+" btn-lg btn-block "+(Z?"text-primary":""),onClick:this.likeTrack},Object(n.h)("i",{class:(Z?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(n.h)("div",{class:"col-6 text-center"},Object(n.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":F.id,onClick:this.toggleAddComment},Object(n.h)("i",{class:"fas fa-comment"})," Comment")))),l&&Object(n.h)(v.a,{stores:this.props.stores,track:F,inputRef:function(t){return e.inputRef[F.id]=t},inputRefObject:this.inputRef}),Object(n.h)(O.a,{stores:this.props.stores,track:F,cols:"12"}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5"},V&&Object(n.h)("button",{class:"btn btn-sm btn-danger mt-5 float-right",onClick:this.deleteTrack},Object(n.h)("i",{class:"fas fa-trash"})," ",Object(n.h)(h.c,{id:"tracks.delete"},"Slett")," ",F.name))))},a}(n.Component))||r;e.default=D}.call(this,a("hosL").Fragment)},s4FZ:function(t,e,a){"use strict";(function(t){function s(t){return n.a.isObject(t)&&t.s3LargeLink}var o,r=a("hosL"),n=a("Utv1"),i=a("/eY4"),c=(a("OhSV"),Object(i.a)(o=function(e){function a(t){var a;return(a=e.call(this,t)||this).scrollImages=function(t){var e=a.props,s=e.callback,o=void 0===s?function(){}:s,r=t.target,n=r.scrollLeft/r.clientWidth,i=Math.round(n),c=Math.abs(i-n);(Number.isInteger(n)||c<.1)&&(a.setState({imageIdx:i}),o(i))},a.onClickScrollLeft=function(){var t=a.imageScrollerRef;t.scrollBy({top:0,left:0-t.clientWidth,behavior:"smooth"})},a.onClickScrollRight=function(){var t=a.imageScrollerRef;t.scrollBy({top:0,left:t.clientWidth,behavior:"smooth"})},a.distance=function(t){return Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY)},a.pinchZoomOnTouchStart=function(t){if(2===t.touches.length){t.preventDefault(),t.stopPropagation();var e={};e.x=(t.touches[0].pageX+t.touches[1].pageX)/2,e.y=(t.touches[0].pageY+t.touches[1].pageY)/2,e.distance=a.distance(t),a.setState({start:e})}},a.pinchZoomOnTouchMove=function(t){var e=a.state,s=e.imageElementScale,o=e.imageElementMaxScale,r=a.state.start;if(2===t.touches.length){var n;if(t.preventDefault(),t.stopPropagation(),t.scale)n=t.scale;else n=a.distance(t)/r.distance;s=Math.min(Math.max(1,n),o),a.setState({imageElementScale:s},(function(){var e="translate3d("+2*((t.touches[0].pageX+t.touches[1].pageX)/2-r.x)+"px, "+2*((t.touches[0].pageY+t.touches[1].pageY)/2-r.y)+"px, 0) scale("+s+")";t.target.style.transition="",t.target.style.transform=e,t.target.style.WebkitTransform=e,t.target.style.zIndex="100000"}))}},a.pinchZoomOnTouchEnd=function(t){a.setState({imageElementScale:1}),t.target.style.transition="transform 250ms",t.target.style.transform="",t.target.style.WebkitTransform="",t.target.style.zIndex=""},a.state={imageIdx:0,imageElementScale:1,imageElementMaxScale:5,start:{}},a}var o,n;return n=e,(o=a).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,a.prototype.render=function(){var e=this,a=this.state,o=a.imageIdx,n=a.imageElementScale,i=this.props,c=i.images,l=i.id,h=i.dblClick,d=void 0===h?function(){}:h,u=i.likeRef,m=void 0===u?{}:u,p=i.noimagestext,b=i.minHeight,f=void 0===b?"100px":b,g=this.props.stores.appState.isCordova,O=o>0,v=o<c.length-1;return c&&0!==c.length?Object(r.h)("div",{class:"w-100 position-relative"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom no-scrollbar",style:"\n                        overflow-x: "+(n>1&&1===c.length?"visible !important":"auto")+";\n                        overflow-y: "+(n>1?"visible !important":"auto")+";\n                        scroll-snap-type: x mandatory;\n                    ",onScroll:this.scrollImages,ref:function(t){return e.imageScrollerRef=t}},c&&c.filter(s).map((function(a){return Object(r.h)("div",{class:"col-12 clearfix p-0"},Object(r.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center position-relative ",style:"\n                                    scroll-snap-align: start;\n                                    flex-wrap: wrap;\n                                ",onDblclick:d,"data-id":l,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(r.h)("div",{class:"position-absolute w-100 h-100",style:"\n                                        background-image: url('"+a.s3SmallLink+"'); background-size: cover;\n                                        filter: blur(10px);\n                                        opacity: 0.5;\n                                    "}),a.s3LargeLink?Object(r.h)("img",{class:"img-fluid position-relative",src:a.s3LargeLink+(a.updatedDate?"?updated="+a.updatedDate:""),loading:"lazy",style:"max-height: 75vh; min-height: "+f+"; ",onTouchstart:e.pinchZoomOnTouchStart,onTouchend:e.pinchZoomOnTouchEnd,onTouchmove:e.pinchZoomOnTouchMove}):Object(r.h)(t,null,Object(r.h)("span",{class:"display-1 text-muted"},Object(r.h)("i",{class:"fas fa-camera"}))),a.title&&Object(r.h)("div",{class:"position-absolute w-100 text-center",style:"bottom: 0px; background-color: rgba(0, 0, 0, 0.5);"},a.title)),m[l]&&Object(r.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(r.h)("i",{class:"fas fa-heart likeStory"})))}))),c&&c.length>1&&Object(r.h)(t,null,Object(r.h)("div",{class:"w-100 text-center"},Object(r.h)("small",null,Object(r.h)("small",null,c&&c.filter(s).map((function(e,a){return Object(r.h)(t,null,Object(r.h)("i",{class:(a===o?"fas":"far")+" fa-circle mr-1"}))}))))),Object(r.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(r.h)("small",null,o+1," / ",c.length))),g?Object(r.h)(t,null):Object(r.h)(t,null,O&&Object(r.h)("div",{class:"position-absolute d-none d-lg-block",style:"top: 50%; left: 5px;"},Object(r.h)("button",{type:"button",class:"btn btn-link text-secondary",style:"font-size: 3.0em; opacity: 0.7;",onClick:this.onClickScrollLeft},Object(r.h)("i",{class:"fas fa-arrow-circle-left"}))),v&&Object(r.h)("div",{class:"position-absolute d-none d-lg-block",style:"top: 50%; right: 5px;"},Object(r.h)("button",{type:"button",class:"btn btn-link text-secondary",style:"font-size: 3.0em; opacity: 0.7;",onClick:this.onClickScrollRight},Object(r.h)("i",{class:"fas fa-arrow-circle-right"}))))):p?Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-camera"})),Object(r.h)("h3",{class:"font-weight-lighter"},p))):Object(r.h)(t,null)},a}(r.Component))||o);e.a=c}).call(this,a("hosL").Fragment)},u2zT:function(t,e,a){"use strict";var s,o=a("hosL"),r=a("/eY4"),n=a("Utv1"),i=a("OhSV"),c=Object(r.a)(s=function(t){function e(e){var a;return(a=t.call(this,e)||this).dropRef=Object(o.createRef)(),a.handleDrag=function(t){t.preventDefault(),t.stopPropagation()},a.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),a.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&a.setState({drag:!0})},a.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),a.dragCounter--,0===a.dragCounter&&a.setState({drag:!1})},a.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),a.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(var e=0,s=t.dataTransfer.files.length;e<s;e+=1){a.readLocalFile(t.dataTransfer.files[e])}a.dragCounter=0}},a.handleAddFiles=function(t){t.preventDefault();var e=t.target;for(var s=0,o=e.files.length;s<o;s+=1){a.readLocalFile(e.files[s])}},a.handleEvent=function(){0},a.handleUpload=function(t){var e=a.props,s=e.uploadStatus,o=e.before,r=void 0===o?function(){}:o,i=e.after,c=void 0===i?function(){}:i;(void 0===s?function(){}:s)(!1),n.a.isFunction(r)&&r();var l=new FormData;l.append("files[]",t);var h={progress:1};h.xhr=new XMLHttpRequest,h.xhr.upload.addEventListener("progress",(function(e){a.updateProgress(e,t)})),h.xhr.addEventListener("loadstart",(function(e){a.handleEvent(e,t)})),h.xhr.addEventListener("load",(function(e){a.handleEvent(e,t)})),h.xhr.addEventListener("loadend",(function(e){var s=t;n.a.isFunction(c)&&c(),a.handleEvent(e,s)})),h.xhr.addEventListener("progress",(function(e){a.handleEvent(e,t)})),h.xhr.addEventListener("error",(function(e){a.handleEvent(e,t)})),h.xhr.addEventListener("abort",(function(e){a.handleEvent(e,t)})),h.xhr.addEventListener("readystatechange",(function(e){a.uploadDone(e,t)})),h.xhr.open("POST",""+n.a.getApiServer()+a.props.apiUrl),h.xhr.setRequestHeader("Authorization","Bearer "+n.a.getJwtToken()),h.xhr.send(l);var d=t.name,u=a.state.uploadedFilesData;u[d]||(u[d]={}),u[d].uploadMeta=h,u[d].imageNum=a.state.imageNum,a.setState({uploadedFilesData:u})},a.readLocalFile=function(t){return new Promise((function(e,s){var o=new FileReader;o.addEventListener("error",(function(t){s(t)})),o.addEventListener("load",(function(s){var o=t,r=o.name,n=a.state.uploadedFilesData;n[r]||(n[r]={}),n[r].event=s,a.setState({uploadedFilesData:n}),a.handleUpload(o),e(s)})),o.readAsDataURL(t)}))},a.updateProgress=function(t,e){if(t.lengthComputable){var s=e.name,o=a.state.uploadedFilesData,r=t.loaded/t.total*100;0,o[s].uploadMeta.progress=r,a.setState({uploadedFilesData:o})}},a.uploadDone=function(t,e){var s=e.name,o=a.state.uploadedFilesData,r=o[s].uploadMeta;if(r&&4===r.xhr.readyState&&201===r.xhr.status)for(var n=JSON.parse(r.xhr.responseText).data.files,i=0;i<n.length;i+=1){a.addFileToUpload(n[i]),a.fileInput.value=""}},a.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},a}var a,s;s=t,(a=e).prototype=Object.create(s.prototype),a.prototype.constructor=a,a.__proto__=s;var r=e.prototype;return r.addFileToUpload=function(t){var e=this.state.uploadedFilesData,a=this.props,s=a.handleAddImage,o=a.uploadStatus,r=void 0===o?function(){}:o;delete e[t.name],this.setState({uploadedFilesData:e}),s(t),r(!0)},r.componentDidMount=function(){var t=this,e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){t.fileInput.click()}),10)},r.componentWillUnmount=function(){var t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)},r.render=function(){var t=this,e=this.state.uploadedFilesData;return Object(o.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(o.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(o.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(o.h)("div",null,Object(o.h)(i.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(o.h)("div",null,Object(o.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(e){t.fileInput=e}})),Object(o.h)("div",null,Object.keys(e).length>0?Object(o.h)("h3",null,Object(o.h)(i.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(o.h)("ul",{class:"list-group"},Object.keys(e).map((function(t){var a=e[t].uploadMeta,s=void 0===a?{}:a,r=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(o.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(o.h)("div",{class:"d-flex w-100 justify-content-between"},r&&Object(o.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(o.h)("small",null,e[t].event.uploadDone),Object(o.h)(i.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(o.h)("small",null,n.a.formatBytes(e[t].event.total,2))),Object(o.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(o.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+s.progress+"%; height: 4px;","aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},e}(o.Component))||s;e.a=c},wanP:function(t,e,a){"use strict";(function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,n=a("hosL"),i=(a("Utv1"),a("/eY4")),c=a("eK6s"),l=a.n(c),h={mouseData:{}},d=Object(i.a)(r=function(e){function a(t){var a;return(a=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},h),a.svgRef=null,a}var r,i;return i=e,(r=a).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,a.prototype.render=function(){var e=this,a=this.props,s=a.radius,o=void 0===s?50:s,r=a.heightAdd,i=void 0===r?0:r,c=a.color,h=void 0===c?"success":c,d=a.showPercentText,u=void 0===d||d,m=a.percent,p=void 0===m?0:m,b=a.prefix,f=void 0===b?"":b,g=a.showCenterText,O=void 0!==g&&g,v=a.centerText,j=a.centerTextSize,y=a.centerTextX,k=a.centerTextY,x=a.total,w=void 0===x?"":x,T=a.totalY,L=void 0===T?"90%":T,S=a.totalX,_=void 0===S?"50%":S,D=a.totalTextAnchor,R=void 0===D?"middle":D,P=a.completed,I=void 0===P?"":P,C=a.completedY,E=void 0===C?"65%":C,A=a.completedX,F=void 0===A?"50%":A,W=a.completedTextAnchor,z=void 0===W?"middle":W,Y=.3*o,M=o-Y/2,V=.3*o,X=2*M*Math.PI,U=.75*X,B=U+" "+X,N="rotate(135, "+o+", "+o+")",Z=U-Math.min(Math.max(p,0),100)/100*U,K=j||o/2.5,H=o/5;return Object(n.h)(t,null,Object(n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*o,height:2*o+i,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(n.h)("circle",{class:""+l.a.gaugeBackground,cx:o,cy:o,r:M,strokeWidth:Y,strokeDasharray:B,strokeLinecap:"round",transform:N}),Object(n.h)("circle",{class:l.a[h]+" "+l.a.gauge,cx:o,cy:o,r:M,stroke:"url(#grad)",strokeDasharray:B,strokeDashoffset:Z,strokeLinecap:"round",strokeWidth:V,style:{transition:"stroke-dashoffset 0.3s"},transform:N}),u&&Object(n.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:y||"50%",y:k||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":K},p," ",f),O&&Object(n.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:y||"50%",y:k||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":K},v),I&&Object(n.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:F,y:E,"dominant-baseline":"middle","text-anchor":z,"font-size":H},I),Object(n.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:_,y:L,"dominant-baseline":"middle","text-anchor":R,"font-size":H},w)))},a}(n.Component))||r;e.a=d}).call(this,a("hosL").Fragment)}}]);
//# sourceMappingURL=32.chunk.e2be9.js.map