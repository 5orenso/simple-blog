{"version":3,"sources":["webpack:///./routes/users/integrations.js","webpack:///./components/error/index.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","SUB_MENU_MARGIN_TOP","subMenuMarginTop","MARGIN_TOP_BACK","marginTopBack","Profile","observer","props","resetEmailMessage","userStore","stores","updateField","resetEmailError","toggleSetting","field","user","settings","updateSetting","subscriptionCreate","paypalStore","setState","paypalLoading","getInfo","subscriptionCancel","e","id","target","closest","dataset","planId","subscriptionDetail","subscription","payPalSubscriptionId","setSubscriptionPaypal","data","toggleCancel","showCancel","state","toggleDetails","showDetails","back","history","goBack","time","Date","now","count","componentDidMount","this","verifyEmailToken","verifyEmail","token","render","scrolledDown","darkmode","appState","isAdmin","apiServer","findTeams","teams","util","getApiServer","jwtToken","getJwtToken","class","style","onClick","href","src","strava","access_token","athlete","username","profile","native","rel","garmin","access","oauth_token","Component","Error","componentDidUpdate","remove","clearTimeout","removeTimer","setTimeout","componentWillUnmount","message","icon","onclick","className"],"mappings":"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","file":"90.chunk.5e83a.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport { route } from 'preact-router';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\nconst MARGIN_TOP_BACK = mu.marginTopBack(true);\n\nimport Error from '../../components/error';\nimport Message from '../../components/message';\n\n@observer\nclass Profile extends Component {\n\tconstructor(props) {\n        super(props);\n        this.state = {\n            time: Date.now(),\n\t\t\tcount: 10\n        };\n    }\n\n\tresetEmailMessage = () => {\n\t\tconst { userStore } = this.props.stores;\n\t\tuserStore.updateField('emailMessage', '');\n\t\tuserStore.updateField('emailMessageIcon', '');\n\t}\n\n\tresetEmailError = () => {\n\t\tconst { userStore } = this.props.stores;\n\t\tuserStore.updateField('emailError', '');\n\t\tuserStore.updateField('emailErrorIcon', '');\n\t}\n\n\ttoggleSetting= async (field) => {\n        const { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n        await userStore.updateSetting({ [`settings.${field}`]: settings[field] === 1 ? 0 : 1 });\n    }\n\n\tsubscriptionCreate = async () => {\n\t\tconst { paypalStore, userStore } = this.props.stores;\n\t\tthis.setState({ paypalLoading: true });\n\t\tawait paypalStore.subscriptionCreate({});\n\t\tawait userStore.getInfo();\n\t\tthis.setState({ paypalLoading: false });\n\t}\n\n\tsubscriptionCancel = async (e) => {\n\t\tconst { id } = e.target.closest('button').dataset;\n\t\tconst { paypalStore, userStore } = this.props.stores;\n\t\tawait paypalStore.subscriptionCancel({ planId: id });\n\t\tawait userStore.getInfo();\n\t}\n\n\tsubscriptionDetail = async () => {\n\t\tconst { paypalStore, userStore } = this.props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tconst { subscription } = user;\n\n\t\tif (subscription.payPalSubscriptionId) {\n\t\t\tconst response = await paypalStore.subscriptionDetail({ id: subscription.payPalSubscriptionId });\n\t\t\tuserStore.setSubscriptionPaypal(response.data);\n\t\t\tawait userStore.getInfo();\n\t\t}\n\t}\n\n\ttoggleCancel = () => {\n\t\tconst { showCancel } = this.state;\n\t\tthis.setState({\n\t\t\tshowCancel: !showCancel,\n\t\t});\n\t}\n\ttoggleDetails = () => {\n\t\tconst { showDetails } = this.state;\n\t\tif (!showDetails) {\n\t\t\tthis.subscriptionDetail();\n\t\t}\n\t\tthis.setState({\n\t\t\tshowDetails: !showDetails,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { userStore } = this.props.stores;\n\n\t\tif (this.props.verifyEmailToken) {\n\t\t\tuserStore.verifyEmail({ token: this.props.verifyEmailToken });\n\t\t}\n\t}\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n\trender() {\n\t\tconst { scrolledDown } = this.props;\n\t\tconst { userStore, appState } = this.props.stores;\n\t\tconst { darkmode } = appState;\n\t\tconst { user, emailMessage, emailError, emailMessageIcon, emailErrorIcon, isAdmin } = userStore;\n\t\tconst { teams, settings = {} } = user;\n\t\tconst allTeams = userStore.findTeams(teams);\n\t\tconst apiServer = util.getApiServer();\n\t\tconst jwtToken = util.getJwtToken();\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<button class='btn btn-link pl-0 fixed-top text-primary'\n                    style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n                    onClick={this.back}>\n                    <i class='fas fa-arrow-circle-left' />\n                </button>\n\t\t\t\t<div class='row fixed-top' style={`margin-top: ${scrolledDown > 0 ? 0 : SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'}; transition: all 0.3s ease-in-out;`}>\n\t\t\t\t\t<div class='col text-center subtopmenu text-overflow'>\n\t\t\t\t\t\t<nobr><a href='/users' class='text-secondary stretched-link'><i class='fas fa-user' /> <Text id='users.title'>Din profil</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center subtopmenu text-overflow'>\n\t\t\t\t\t\t<nobr><a href='/users/settings' class='text-secondary stretched-link'><i class='fas fa-sliders-h' /> <Text id='users.settings'>Innstillinger</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t{isAdmin && <div class='col text-center subtopmenu text-overflow'>\n\t\t\t\t\t\t<nobr><a href='/users/subscription' class='text-secondary stretched-link'><i class='fas fa-signature' /> <Text id='users.subscriptions'>Abonnement</Text></a></nobr>\n\t\t\t\t\t</div>}\n\t\t\t\t\t<div class='col text-center subtopmenu text-overflow border-bottom border-primary'>\n\t\t\t\t\t\t<nobr><a href='/users/integrations' class='text-primary stretched-link'><i class='fas fa-plug' /> <Text id='users.integrations'>Integrasjoner</Text></a></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row border-top mt-5'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src='./assets/strava_logo_orange.png' style='max-height: 100px;' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{user.strava && user.strava.access_token ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12'><h5><i class='fas fa-thumbs-up text-success' /> <Text id='users.strava-connected'>Connected to Strava!</Text></h5></div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'><Text id='users.strava-id'>id</Text>:</div><div class='col-8'> {user.strava.athlete.id}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'><Text id='users.strava-username'>username</Text>:</div><div class='col-8'> {user.strava.athlete.username}</div>\n\t\t\t\t\t\t\t{/* <div class='col-4 text-right text-muted'>resource_state:</div><div class='col-8'> {user.strava.athlete.resource_state}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>firstname:</div><div class='col-8'> {user.strava.athlete.firstname}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>lastname:</div><div class='col-8'> {user.strava.athlete.lastname}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>city:</div><div class='col-8'> {user.strava.athlete.city}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>state:</div><div class='col-8'> {user.strava.athlete.state}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>country:</div><div class='col-8'> {user.strava.athlete.country}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>sex:</div><div class='col-8'> {user.strava.athlete.sex}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>premium:</div><div class='col-8'> {user.strava.athlete.premium}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>summit:</div><div class='col-8'> {user.strava.athlete.summit}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>created_at:</div><div class='col-8'> {user.strava.athlete.created_at}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>updated_at:</div><div class='col-8'> {user.strava.athlete.updated_at}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>badge_type_id:</div><div class='col-8'> {user.strava.athlete.badge_type_id}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>profile_medium:</div><div class='col-8'> <img src={user.strava.athlete.profile_medium} /></div> */}\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'><Text id='users.strava-profile'>profile</Text>:</div><div class='col-8'> <img src={user.strava.athlete.profile} /></div>\n\t\t\t\t\t\t\t{/* <div class='col-4 text-right text-muted'>friend:</div><div class='col-8'> {user.strava.athlete.friend}</div>\n\t\t\t\t\t\t\t<div class='col-4 text-right text-muted'>follower:</div><div class='col-8'> {user.strava.athlete.follower}</div> */}\n\n\t\t\t\t\t\t\t{/* {isAdmin && <div class='col-12'>\n\t\t\t\t\t\t\t\t<button class='btn btn-primary' onclick={userStore.stravaGetActivityStream}><Text id='users.strava-get-activities'>Get activity streams</Text></button>\n\t\t\t\t\t\t\t</div>} */}\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<div class='display-1 text-success'>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t<Text id='users.strava-reconnect-help'>Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt</Text>:<br />\n\t\t\t\t\t\t\t\t\t\t<a href={`${apiServer}/api/strava/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\t\t<Text id='users.strava-reconnect'>Reconnect to Strava</Text>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<a class='btn btn-primary' href={`${apiServer}/api/strava/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'><Text id='users.strava-connect'>Connect to Strava</Text></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row border-top mt-5 pt-5'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src='./assets/garmin-connect.png' style='height: 100px;' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{user.garmin && user.garmin.access && user.garmin.access.oauth_token ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t\t<h5><i class='fas fa-thumbs-up text-success' /> <Text id='users.garmin-connected'>Connected to Garmin Connect!</Text></h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<div class='display-1 text-success'>\n\t\t\t\t\t\t\t\t\t<i class='fas fa-check text-success' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small class='text-muted'>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t<Text id='users.garmin-reconnect-help'>Hvis du opplever problemer med integrasjoen så kan du prøve å koble til på nytt</Text>:<br />\n\t\t\t\t\t\t\t\t\t\t<a href={`${apiServer}/api/garmin/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\t\t<Text id='users.garmin-reconnect'>Reconnect to Garmin Connect</Text>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='col-12 mt-2'>\n\t\t\t\t\t\t\t\t<a class='btn btn-primary' href={`${apiServer}/api/garmin/request-access?token=${jwtToken}`} native target='_blank' rel='noreferrer'><Text id='users.garmin-connect'>Connect to Garmin Connect</Text></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Profile;\n","import { h, Component } from 'preact';\nimport { observer } from 'mobx-preact';\n\nconst ERROR_DISPLAY_MS = 10000;\n\n@observer\nclass Error extends Component {\n    componentDidUpdate() {\n        const { remove = () => {} } = this.props;\n        clearTimeout(this.removeTimer);\n        this.removeTimer = setTimeout(() => remove(), ERROR_DISPLAY_MS);\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.removeTimer);\n    }\n\n    render() {\n        const { message, icon, remove = () => {} } = this.props;\n\n        if (!message) {\n            return '';\n        }\n        return (\n            <div class='container'>\n                <div class='alert alert-danger row'>\n                    <div class={`col-12`}>\n                        <a href='#' onclick={remove} class='float-right'>\n                            <i className='fas fa-times' />\n                        </a>\n                        {icon && <h1 class='float-left mr-3'><i class={icon} /></h1>}\n                        {message && <span>{message}</span>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Error;\n"],"sourceRoot":""}