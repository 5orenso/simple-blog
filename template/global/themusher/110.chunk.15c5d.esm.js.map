{"version":3,"sources":["webpack:///./routes/teams/addMember.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","initialState","newMember","TeamsDetail","observer","Component","constructor","props","super","insertTeamMember","async","state","teamStore","stores","team","addMember","id","setState","back","history","this","goBack","updateTimer","userStore","load","addData","getWorkoutSummary","componentDidMount","loadTeam","render","class","style","onClick","name","for","type","aria-describedby","onInput","linkState","value","email","role"],"mappings":"u3BAQA,MAAMA,EAAaC,IAAGC,WAAU,GAC1BC,EAAkBF,IAAGG,eAAc,GACnCC,EAAgBJ,IAAGK,eAEnBC,EAAe,CACjBC,UAAW,I,IAITC,EADLC,Y,EAAD,cAC0BC,YACtBC,YAAYC,GAAO,MACfC,MAAMD,GADS,YAenBE,iBAAmBC,iBACf,MAAM,UAAER,GAAc,EAAKS,OACrB,UAAEC,GAAc,EAAKL,MAAMM,QACjC,KAAEC,GAASF,QACLA,EAAUG,UAAUD,EAAKE,GAAzB,KAAkCd,IACxC,EAAKe,SAAS,CACVf,UAAW,MArBA,KAyBnBgB,KAAO,KACH,MAAM,QAAEC,GAAYC,KAAKb,MAAMM,OAC/BM,EAAQE,UAzBRD,KAAKT,MAAL,KACOV,GAEPmB,KAAKE,YAAc,GAGvB,iBACF,MAAM,UAAEV,EAAF,UAAaW,GAAcH,KAAKb,MAAMM,aAChCD,EAAUY,KAAKJ,KAAKb,MAAMO,MAAM,EAAO,CAAEW,QAAS,CAAC,UACzD,MAAM,KAAEX,GAASF,QACXW,EAAUG,kBAAkB,CAAEZ,KAAMA,EAAKE,KAkBtDW,oBACOP,KAAKQ,WAGZC,SACO,MAAM,UAAE3B,GAAckB,KAAKT,OAC3B,UAAEC,GAAcQ,KAAKb,MAAMM,QAC3B,KAAEC,GAASF,EAEjB,OACC,mBAAKkB,MAAM,kBAAkBC,MAAQ,kBAAiBhC,kBAA8BL,MACvE,mBAAKoC,MAAM,uCACP,uBACI,sBAAQA,MAAM,2CACVC,MAAQ,QAAOlC,8CACfmC,QAASZ,KAAKF,MACd,iBAAGY,MAAM,+BAGjB,uBACI,kBAAIA,MAAM,cAAa,YAAC,IAAD,CAAMd,GAAG,yBAAT,4BAE3B,gCAKhB,mBAAKc,MAAM,OACV,mBAAKA,MAAM,6DACQ,sBAAI,YAAC,IAAD,CAAMd,GAAG,2BAAT,2BAAkEF,EAAKmB,MAC3E,mBAAKH,MAAM,cACP,qBAAOI,IAAI,cAAa,YAAC,IAAD,CAAMlB,GAAG,yBAAT,WACxB,qBAAOmB,KAAK,OAAOL,MAAM,eAAed,GAAG,aAAaoB,mBAAiB,YACrEC,QAASC,YAAUlB,KAAM,mBACzBmB,MAAOrC,EAAUsC,QAErB,qBAAOxB,GAAG,YAAYc,MAAM,wBAAuB,YAAC,IAAD,CAAMd,GAAG,8BAAT,qCAEvD,mBAAKc,MAAM,sBAAsBW,KAAK,SAClC,qBACI,iBAAGX,MAAM,8CACT,YAAC,IAAD,CAAMd,GAAG,0BAAT,sGAEJ,qBACI,YAAC,IAAD,CAAMA,GAAG,0BAAT,4DAGR,sBAAQmB,KAAK,SAASL,MAAM,kBACxBE,QAASZ,KAAKX,kBAEd,YAAC,IAAD,CAAMO,GAAG,4BAAT,iC,EAUbb","file":"110.chunk.15c5d.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport linkState from 'linkstate';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nconst initialState = {\n    newMember: {},\n};\n\n@observer\nclass TeamsDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n    }\n\n    async loadTeam() {\n\t\tconst { teamStore, userStore } = this.props.stores;\n        await teamStore.load(this.props.team, false, { addData: ['dogs'] });\n        const { team } = teamStore;\n        await userStore.getWorkoutSummary({ team: team.id });\n    }\n\n    insertTeamMember = async () => {\n        const { newMember } = this.state;\n        const { teamStore } = this.props.stores;\n\t\tconst { team } = teamStore;\n        await teamStore.addMember(team.id, { ...newMember });\n        this.setState({\n            newMember: {},\n        });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n\tcomponentDidMount() {\n        this.loadTeam();\n    }\n\n\trender() {\n        const { newMember } = this.state;\n\t\tconst { teamStore } = this.props.stores;\n\t\tconst { team } = teamStore;\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <div class='d-flex justify-content-between mb-2'>\n                    <div>\n                        <button class='btn btn-link pl-0 fixed-top text-primary'\n                            style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n                            onClick={this.back}>\n                            <i class='fas fa-arrow-circle-left' />\n                        </button>\n                    </div>\n                    <div>\n                        <h5 class='text-muted'><Text id='teams.addmember.title'>Team - Legg til medlem</Text></h5>\n                    </div>\n                    <div>\n                        &nbsp;&nbsp;&nbsp;&nbsp;\n                    </div>\n                </div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <h5><Text id='teams.addmember.add-new'>Legg til nytt medlem i </Text>{team.name}</h5>\n                        <div class='form-group'>\n                            <label for='emailInput'><Text id='teams.addmember.email'>E-post</Text></label>\n                            <input type='text' class='form-control' id='emailInput' aria-describedby='emailHelp'\n                                onInput={linkState(this, 'newMember.email')}\n                                value={newMember.email}\n                            />\n                            <small id='emailHelp' class='form-text text-muted'><Text id='teams.addmember.email-help'>E-postadressen til nytt medlem.</Text></small>\n                        </div>\n                        <div class='alert alert-warning' role='alert'>\n                            <p>\n                                <i class='fas fa-exclamation-circle float-left mr-3' />                    \n                                <Text id='teams.addmember.info-1'>Medlemmer som legges til vil få full tilgang på hundene, treningene og løypene til dette teamet. </Text>\n                            </p>\n                            <p>\n                                <Text id='teams.addmember.info-2'>Vi anbefaler at du kun legger til folk du stoler på :)</Text>\n                            </p>\n                        </div>\n                        <button type='button' class='btn btn-primary'\n                            onClick={this.insertTeamMember}\n                        >\n                            <Text id='teams.addmember.save-new'>Registrer nytt medlem</Text>\n                        </button>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TeamsDetail;\n"],"sourceRoot":""}