(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"+JSK":function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,n=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),u=o("ZOvn"),h={},d=Object(c.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleLikes=function(){o.setState({showLikesList:!o.state.showLikesList})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),o}var a,c;return c=e,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var e=this.state.showLikesList,o=this.props.stores,r=o.storyStore,s=o.teamStore,a=o.workoutStore,c=o.raceStore,h=this.props,d=h.likes,p=h.comments,m=h.type,b=void 0===m?"story":m,f=h.onTeamClick,g=void 0===f?function(){}:f;return Object(n.h)(t,null,Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},d&&d.length>0&&Object(n.h)(t,null,Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(n.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",d.length),d.slice(0,1).map((function(e){var o,l,h;"story"===b?(o=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)):"team"===b?(o=s.findPublicUser(e.user),l=s.findPublicTeamByMembers(e.user)):"workout"===b?(o=a.findPublicUser(e.user),l=a.findPublicTeamByMembers(e.user)):"race"===b&&(o=c.findPublicUser(e.user),l=c.findPublicTeamByMembers(e.user)),i.a.isArray(l)&&(h=l.find((function(t){return 1===t.public})));u.a.getImage({user:o,team:h,priority:"user"}),u.a.displayNameShort(o);var d=u.a.displayName(o);return Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-lighter"},h?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(t){return g(t,h.uuidv4)}},d)):Object(n.h)(t,null,d)))})),d.length>1&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(n.h)(l.c,{id:"likes-comments.and",fields:{total:d.length-1}},"and ",d.length-1," others."))))),p&&p.length>0&&Object(n.h)("span",{class:"float-right text-muted"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",p.length)),e&&Object(n.h)("div",{class:"mt-3 mb-3"},d&&d.map((function(e){var o,l,h;"story"===b?(o=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)):"team"===b?(o=s.findPublicUser(e.user),l=s.findPublicTeamByMembers(e.user)):"workout"===b?(o=a.findPublicUser(e.user),l=a.findPublicTeamByMembers(e.user)):"race"===b&&(o=c.findPublicUser(e.user),l=c.findPublicTeamByMembers(e.user)),i.a.isArray(l)&&(h=l.find((function(t){return 1===t.public})));var d=u.a.getImage({user:o,team:h,priority:"user"}),p=u.a.displayNameShort(o),m=u.a.displayName(o,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},h?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(t){return g(t,h.uuidv4)},class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:d?'background-image: url("'+d+'"); background-size: cover;':""},!d&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},p))),Object(n.h)("div",{class:"ml-2 "},m," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",h.name))):Object(n.h)(t,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?'background-image: url("'+d+'"); background-size: cover;':"")+" opacity: 0.5;"},!d&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},p)),Object(n.h)("div",{class:"ml-2"},m)))}))))},o}(n.Component))||a;e.a=d}).call(this,o("hosL").Fragment)},"/922":function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=o("go65"),l=o("om2D"),u=(o("ETxl"),o("ZOvn")),h=Object(n.a)(r=function(e){function o(t){var o;return(o=e.call(this,t)||this).beforeImagesUploaded=function(){o.setState({sendButtonEnabled:!1})},o.afterImagesUploaded=function(){o.setState({sendButtonEnabled:!0})},o.commentWorkout=function(){return new Promise((function(t,e){var r,s,a,n,i,c,l,h,d,p,m;return o.state.sendButtonEnabled?(a=void 0===(s=(r=o.props).callback)?function(){}:s,i=void 0===(n=r.inputRefObject)?{}:n,c=o.props.workout,l=o.props.stores.workoutStore,d=(h=o.state).comment,p=h.showAddImage,o.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:c.id,comment:d})).then((function(r){try{return(m=r)&&200===m.status&&(o.setState({comment:{body:"",images:[]}},(function(){u.a.resizeTextarea(i[c.id]),p&&o.addImage()})),a({workout:c,response:m})),o.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},o.addImages=function(t){var e,r=o.state.comment;(e=r.images).push.apply(e,t.value),o.setState({comment:r})},o.addImage=function(){var t=o.state.showAddImage;o.setState({showAddImage:!(void 0!==t&&t)})},o.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},o.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},o.inputRef={},o}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this,o=this.props,r=o.inputRef,n=o.col,h=void 0===n?12:n,d=o.offset,p=void 0===d?0:d,m=o.showAvatar,b=void 0===m||m,f=o.extraClass,g=void 0===f?"":f,O=o.workout,v=this.state,j=v.comment,y=v.showAddImage,w=v.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+a.a.ucfirst(x.firstname,!0)+a.a.ucfirst(x.lastname,!0):""+a.a.ucfirst(x.email||"",!0),D=x.image||(x.images?x.images[0]:void 0);return Object(s.h)("div",{class:"col-"+h+" offset-"+p+" "+g},Object(s.h)("div",{class:"d-flex mb-0 position-relative w-100"},b&&Object(s.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(D?"background-image: url('"+D.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(s.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(s.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(s.h)("div",{class:"d-flex bd-highlight"},Object(s.h)("div",{class:"p-0 w-100 bd-highlight"},Object(s.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(s.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(s.h)("div",{class:"border rounded rounded-lg position-relative"},Object(s.h)(i.b,null,Object(s.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(s.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment.body"),onKeyUp:u.a.resizeTextarea,onFocus:u.a.resizeTextarea,style:"height: 2.3em;",value:j.body,ref:r})),Object(s.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(s.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage})))),Object(s.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(s.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" mb-2",disabled:!w,onClick:this.commentWorkout},Object(s.h)("i",{class:"fas fa-paper-plane"})))))),y&&Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 text-center"},Object(s.h)("div",{class:"container-fluid"},Object(s.h)("div",{class:"row"},j.images&&j.images.map((function(t){return Object(s.h)("div",{class:"col-3 p-1"},Object(s.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(s.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(s.h)("i",{class:"fas fa-trash"}),"  ",Object(s.h)(i.c,{id:"comments.remove-image"},"Remove")))})))),Object(s.h)(l.a,{object:j,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},o}(s.Component))||r;e.a=h}).call(this,o("hosL").Fragment)},"/DnB":function(t,e,o){"use strict";function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,n=o("hosL"),i=(o("Utv1"),o("/eY4")),c={},l=Object(i.a)(a=function(t){function e(e){var o;return(o=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},c),o.container=null,o}var o,a;a=t,(o=e).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a;var i=e.prototype;return i.componentDidMount=function(){var t=this.props,e=t.horizontal,o=t.vertical,r=void 0===o?"":o,s={behavior:"smooth"};e&&(s.inline=e),r&&(s.block=r),this.container.scrollIntoView(s)},i.render=function(){var t=this;return Object(n.h)("div",{ref:function(e){return t.container=e}}," ")},e}(n.Component))||a;e.a=l},"0SNj":function(t,e,o){"use strict";var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=(o("OhSV"),o("ETxl"),o("ZOvn"),o("nHdA")),c=o("irB3"),l=(o("UwwE"),o("8Lgr")),u=(o("QkTp"),Object(n.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).state={},o}var o,r;r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var n=e.prototype;return n.loadAll=function(t){return new Promise(function(e,o){return void 0===t&&(t=this.props),Promise.resolve(this.loadTeams(t)).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},n.loadTeams=function(t){return new Promise(function(e,o){var r,s,a,n,i,c;return void 0===t&&(t=this.props),r=t.stores.teamStore,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),i=(n=t).month,c=n.year,Promise.resolve(r.load({query:{team:n.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===c?a:c,month:void 0===i?s:i},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},n.componentDidMount=function(){this.loadAll()},n.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},n.render=function(){var t=this.props.stores.teamStore,e=(new Date).getMonth()+1,o=(new Date).getFullYear(),r=this.props,n=r.month,u=r.year,h=void 0===u?o:u,d=r.currentTeam,p=r.currentSeason,m=r.prevSeason,b=parseInt((void 0===n?e:n)<8?h-1:h,10),f=m||(d?t.findWorkoutSummary(d,b-1):t.findWorkoutSummaryTotal(b-1))||{},g=p||(d?t.findWorkoutSummary(d,b):t.findWorkoutSummaryTotal(b))||{};return Object(s.h)("div",{class:"container-fluid mb-2"},Object(s.h)("div",{class:"row mt-2 border-top"},Object(s.h)("div",{class:"col text-center"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road"})," ",b,"-",b+1),Object(s.h)("h3",null,Object(s.h)(l.a,{stores:this.props.stores,value:g.distanceKm||0,smallUnit:!0}))),Object(s.h)("div",{class:"col text-center border-left"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road"})," ",b-1,"-",b),Object(s.h)("h3",{class:"text-muted"},Object(s.h)(l.a,{stores:this.props.stores,value:f.distanceKm||0,smallUnit:!0})))),Object(s.h)("div",{class:"row mt-2"},Object(s.h)("div",{class:"col text-center"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-mountain"})," ",b,"-",b+1),Object(s.h)("h3",null,Object(s.h)(c.a,{stores:this.props.stores,value:g.elevation||0,smallUnit:!0}))),Object(s.h)("div",{class:"col text-center border-left"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-mountain"})," ",b-1,"-",b),Object(s.h)("h3",{class:"text-muted"},Object(s.h)(c.a,{stores:this.props.stores,value:f.elevation||0,smallUnit:!0})))),Object(s.h)("div",{class:"row mt-2"},Object(s.h)("div",{class:"col text-center"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-clock"})," ",b,"-",b+1),Object(s.h)("h3",null,a.a.secToHms(g.duration||0))),Object(s.h)("div",{class:"col text-center border-left"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-clock"})," ",b-1,"-",b),Object(s.h)("h3",{class:"text-muted"},a.a.secToHms(f.duration||0)))),Object(s.h)("div",{class:"row mt-2 border-bottom"},Object(s.h)("div",{class:"col text-center"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-tachometer-alt"})," ",b,"-",b+1),Object(s.h)("h3",null,Object(s.h)(i.a,{stores:this.props.stores,value:g.speedAvg||0,smallUnit:!0}))),Object(s.h)("div",{class:"col text-center border-left"},Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-tachometer-alt"})," ",b-1,"-",b),Object(s.h)("h3",{class:"text-muted"},Object(s.h)(i.a,{stores:this.props.stores,value:f.speedAvg||0,smallUnit:!0})))))},e}(s.Component))||r);e.a=u},"3UPq":function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=o("nHdA"),l=o("irB3"),u=(o("UwwE"),o("8Lgr")),h=(o("QkTp"),o("ZOvn")),d=[0,6],p=Object(n.a)(r=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).chooseDay=function(e){var o=t.state,r=t.props.chooseDayFunction,s=void 0===r?function(){}:r,a=e.target.parentElement.dataset.day||e.target.dataset.day,n=e.target.parentElement.dataset.month||e.target.dataset.month,i=e.target.parentElement.dataset.year||e.target.dataset.year;t.setState(i===o.year&&n===o.month&&a===o.day?{year:null,month:null,day:null}:{year:i,month:n,day:a}),s({day:a,month:n,year:i})},t}var r,n;n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var p=o.prototype;return p.loadWorkoutSummary=function(t){return new Promise(function(e,o){function r(){return this.setState({isLoading:!1}),e()}var s,n,i,c,l,u,h,d,p,m,b,f,g;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),t.skipLoadSummary?e(!1):(n=(s=this.props.stores).userStore,i=s.workoutStore.currentTeam,c=(new Date).getMonth()+1,h=void 0===(u=(l=t).month)?c:u,p=void 0===(d=l.year)?a.a.getYear():d,b=void 0===(m=l.team)?i:m,(g=void 0===(f=l.dog)?{}:f)&&g.id?Promise.resolve(n.getWorkoutSummary({dog:g.id,year:p})).then(function(){try{return Promise.resolve(n.getWorkoutSummaryDay({month:h,year:p,dog:g.id})).then(function(){try{return r.call(this)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),o):Promise.resolve(n.getWorkoutSummary({team:b,dog:g.id,year:p})).then(function(){try{return Promise.resolve(n.getWorkoutSummaryDay({month:h,year:p,team:b,dog:g.id})).then(function(){try{return r.call(this)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),o))}.bind(this))},p.componentDidMount=function(){this.loadWorkoutSummary()},p.componentWillReceiveProps=function(t){t.month===this.props.month&&t.year===this.props.year&&t.dog===this.props.dog&&t.team===this.props.team||this.loadWorkoutSummary(t)},p.render=function(){var e=this,o=this.props.stores,r=o.appState,n=o.userStore,p=o.workoutPlanStore,m=n.user.language,b=void 0===m?"en":m,f=h.a.getDays(b),g=h.a.getMonths(b),O=this.state,v=O.day,j=O.month,y=O.year,w=r.darkmode,k=(new Date).getDate(),x=(new Date).getMonth()+1,S=(new Date).getFullYear(),D=this.props,T=D.month,P=void 0===T?x:T,I=D.year,L=void 0===I?S:I,C=D.dog,_=D.basehref,W=D.hideSummary,R=D.hideTable,A=parseInt(P<8?L-1:L,10),M=parseInt(P,10),E=parseInt(L,10),F=h.a.getNextMonth(M,E),U=F.month,z=F.year,Y=h.a.getPrevMonth(M,E),B=Y.month,V=Y.year,N=(a.a.getDaysInMonth(P,L),a.a.getWeeksInMonth(P,L)),H=a.a.getDaysInWeek(N[0].week,L,P),K=0,q=0,G=0,X=0,Z=[],J=0;return Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},Object(s.h)("a",{href:""+(_||"/workouts/month/")+U+"/"+z+"/skipScroll",class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(s.h)("i",{class:"fas fa-arrow-right"})),Object(s.h)("a",{href:""+(_||"/workouts/month/")+B+"/"+V+"/skipScroll",class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(s.h)("i",{class:"fas fa-arrow-left"})),Object(s.h)("h3",null,Object(s.h)(i.c,{id:"workout.calendar.month"},"Måned")," - ",g[P-1]," ",L),Object(s.h)("h5",{class:"text-muted font-weight-light"},Object(s.h)(i.c,{id:"workout.plan.season"},"Sesongen")," ",A," - ",A+1),C&&Object(s.h)("div",null,C.name)),Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},!R&&Object(s.h)(t,null,Object(s.h)("table",{class:"table table-striped table-sm"},Object(s.h)("thead",null,Object(s.h)("tr",null,Object(s.h)("th",{class:"text-muted"},Object(s.h)("small",null,Object(s.h)(i.c,{id:"workout.calendar.week"},"Uke"))),H.map((function(t){return Object(s.h)("th",null,Object(s.h)("small",null,f[t.getDay()]))})),Object(s.h)("th",{class:"text-muted"},Object(s.h)("small",null,Object(s.h)(i.c,{id:"workout.calendar.sum"},"Sum"))))),Object(s.h)("tbody",null,N&&N.map((function(t){var o=a.a.getDaysInWeek(t.week,L,P),r=p.findWorkoutPlanSummaryWeek(parseInt(L,10),t.week)||{},i=0;return Object(s.h)("tr",null,Object(s.h)("td",{class:"text-right text-muted pt-3"},Object(s.h)("small",null,Object(s.h)("a",{href:"/workouts/week/"+t.week+"/"+L,class:"text-muted"},t.week))),o.map((function(t){var o=n.findWorkoutSummaryWeekDay(t.getFullYear(),t.getMonth()+1,t.getDate(),M)||{},r=p.findWorkoutPlanSummaryDay(t.getFullYear(),t.getMonth()+1,t.getDate(),M)||{};o&&o.distanceKm&&(i+=o.distanceKm,K+=o.distanceKm,q+=o.count,G+=o.elevation,X+=o.duration,Z.push(o.speedAvg)),r&&r.distance&&(J+=r.distance);var a=v==t.getDate()&&j==t.getMonth()+1&&y===t.getFullYear(),c=k==t.getDate()&&x==t.getMonth()+1&&S==t.getFullYear(),l=d.indexOf(t.getDay())>-1;return Object(s.h)("td",{class:"text-center font-weight-light position-relative pt-3 pb-3 "+(a?"calendarIsChosen":"")+" "+(c?"calendarIsToday":"")+" "+(l?"calendarIsWeekend":""),style:"font-size: 0.8em;",onClick:e.chooseDay,"data-day":t.getDate(),"data-month":t.getMonth()+1,"data-year":L},Object(s.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),o&&o.distanceKm?Object(s.h)("div",{class:"rounded-pill w-100 px-1",style:"background-color: "+h.a.getTrainingColor(o,w)+";"},Object(s.h)(u.a,{stores:e.props.stores,value:o.distanceKm}),o.count>1&&Object(s.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},o.count)):"-",r.distance>0&&Object(s.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.9em;"},Object(s.h)(u.a,{stores:e.props.stores,value:r.distance})))})),Object(s.h)("td",{class:"text-right pt-3 pb-3 position-relative",style:"font-size: 0.8em;"},Object(s.h)(u.a,{stores:e.props.stores,value:i}),r.distance>0&&Object(s.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.9em;"},Object(s.h)(u.a,{stores:e.props.stores,value:r.distance}))))}))),Object(s.h)("tfoot",null,Object(s.h)("tr",null,Object(s.h)("td",{colspan:"8",class:"text-right"},Object(s.h)(i.c,{id:"workout.calendar.totalKm"},"Totalt km")),Object(s.h)("td",{class:"text-right text-muted pb-3 position-relative"},Object(s.h)(u.a,{stores:this.props.stores,value:K}),J>0&&Object(s.h)("span",{class:"position-absolute text-primary",style:"bottom: 0; left: 0px; font-size: 0.8em;"},Object(s.h)(u.a,{stores:this.props.stores,value:J}))))))),!W&&Object(s.h)(t,null,Object(s.h)("h5",{class:"mt-4"},Object(s.h)(i.c,{id:"workout.calendar.summary"},"Oppsummering")," - ",g[P-1]," ",L),C&&Object(s.h)("div",null,C.name),Object(s.h)("table",{class:"table table-striped table-sm"},Object(s.h)("tbody",null,Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.totalWorkouts"},"Antall økter")),Object(s.h)("td",{class:"text-right"},q)),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.distance"},"Distanse")),Object(s.h)("td",{class:"text-right"},Object(s.h)(u.a,{stores:this.props.stores,value:K}))),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.ascend"},"Høydemeter")),Object(s.h)("td",{class:"text-right"},Object(s.h)(l.a,{stores:this.props.stores,value:G}))),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.duration"},"Varighet")),Object(s.h)("td",{class:"text-right"},a.a.secToHms(X))),Object(s.h)("tr",null,Object(s.h)("td",{class:"text-muted"},Object(s.h)(i.c,{id:"workout.calendar.avg-speed"},"Gjennomsnittsfart")),Object(s.h)("td",{class:"text-right"},Object(s.h)(c.a,{stores:this.props.stores,value:h.a.avgArr(Z)}))))))))},o}(s.Component))||r;e.a=p}).call(this,o("hosL").Fragment)},"3pQw":function(t,e,o){"use strict";var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4");o("OhSV"),Object(n.a)(r=function(t){function e(){return t.apply(this,arguments)||this}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this.props.summary,e=void 0===t?{}:t;return Object(s.h)("div",{class:"w-100 mb-3"},Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(s.h)("div",{class:"text-center border rounded-circle imageRounded"},Object(s.h)("div",{class:"text-muted mt-2",style:"font-size: 40px; line-height: 1;"},e.week),Object(s.h)("div",{class:"text-muted",style:"font-size: 10px; line-height: 0.8em;"},e.year)),Object(s.h)("div",{class:"flex-grow-1 pl-3"},Object(s.h)("h5",{class:"my-0"},e.week," - ",e.year),Object(s.h)("small",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-wave-square"})," ",e.count,Object(s.h)("i",{class:"fas fa-road ml-2"})," ",a.a.format(e.distanceKm,0),"km",Object(s.h)("i",{class:"fas fa-mountain ml-2"})," ",a.a.format(e.elevation,0),"m",Object(s.h)("i",{class:"fas fa-stopwatch ml-2"})," ",a.a.secToHms(e.duration),Object(s.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",a.a.format(e.speedAvg,1),"km/t")))))},e}(s.Component))},"3wGD":function(t,e,o){"use strict";var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=o("go65"),l=(o("ETxl"),o("ZOvn")),u=Object(n.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).commentWorkout=function(){return new Promise((function(t,e){var r,s,a,n,i,c,u,h,d,p,m;return o.state.sendButtonEnabled?(a=void 0===(s=(r=o.props).callback)?function(){}:s,n=r.commentId,c=void 0===(i=r.inputRefObject)?{}:i,u=o.props.workout,h=o.props.stores.workoutStore,p=void 0===(d=o.state.comment)?"":d,o.setState({sendButtonEnabled:!1}),Promise.resolve(h.commentReplyWorkout({id:u.id,commentId:n,comment:p})).then((function(r){try{return(m=r)&&200===m.status&&(o.setState({comment:""},(function(){l.a.resizeTextarea(c[n])})),a({workout:u,response:m,commentId:n})),o.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},o.state={sendButtonEnabled:!0},o.inputRef={},o}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this.props.inputRef,e=this.state,o=e.comment,r=e.sendButtonEnabled,n=this.props.stores.userStore.user,u=void 0===n?{}:n,h=u.firstname?""+a.a.ucfirst(u.firstname,!0)+a.a.ucfirst(u.lastname,!0):""+a.a.ucfirst(u.email||"",!0),d=u.image||(u.images?u.images[0]:void 0);return Object(s.h)("div",{class:"w-100"},Object(s.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(s.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?"background-image: url('"+d.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!d&&Object(s.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(s.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(s.h)("div",{class:"d-flex bd-highlight"},Object(s.h)("div",{class:"p-0 w-100 bd-highlight"},Object(s.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(s.h)(i.c,{id:"comments.comment"},"Kommentar")),Object(s.h)("div",{class:"border rounded rounded-lg position-relative"},Object(s.h)(i.b,null,Object(s.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(s.h)(i.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(c.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:o,ref:t})))),Object(s.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(s.h)("button",{type:"button",class:"btn btn-"+(r?"primary":"secondary")+" mb-2",disabled:!r,onClick:this.commentWorkout},Object(s.h)("i",{class:"fas fa-paper-plane"})))))))},e}(s.Component))||r;e.a=u},"4imK":function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=o("nHdA"),l=o("irB3"),u=(o("UwwE"),o("8Lgr")),h=(o("QkTp"),Object(n.a)(r=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).toggleDate=function(e){e.stopPropagation(),e.preventDefault(),t.setState({showDate:!t.state.showDate})},t.ignoreGarminWorkout=function(e){return new Promise((function(o,r){return e.stopPropagation(),Promise.resolve(t.props.stores.garminActivityDetailsStore.ignoreWorkout(e.target.parentElement.dataset.id||e.target.dataset.id)).then((function(){try{return t.loadGarminActivities(),o()}catch(t){return r(t)}}),r)}))},t.importGarminWorkout=function(e){return new Promise((function(o,r){function s(){return t.loadGarminActivities(),t.loadWorkouts(),o()}var a,n,i,c;return e.stopPropagation(),a=e.target.parentElement.dataset.id||e.target.dataset.id,i=(n=t.props.stores).garminActivityDetailsStore,c=n.workoutStore.currentTeam,t.props.asTrack?Promise.resolve(i.importTrack(a,c)).then(function(){try{return s.call(this)}catch(t){return r(t)}}.bind(this),r):Promise.resolve(i.importWorkout(a,c)).then(function(){try{return s.call(this)}catch(t){return r(t)}}.bind(this),r)}))},t.loadWorkouts=function(){return new Promise((function(e,o){var r;return r=t.props.stores.workoutStore,Promise.resolve(r.load({query:{team:r.currentTeam}})).then((function(){try{return e()}catch(t){return o(t)}}),o)}))},t.toggleDetail=function(){var e=t.state.showDetail;t.setState({showDetail:!(void 0!==e&&e)})},t}var r,n;n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var h=o.prototype;return h.loadGarminActivities=function(){return new Promise(function(t){return this.props.stores.garminActivityDetailsStore.load({query:{hideImported:1}}),t()}.bind(this))},h.componentDidMount=function(){this.loadGarminActivities()},h.render=function(){var e=this,o=this.state,r=o.showDate,n=o.showDetail,h=void 0!==n&&n,d=this.props,p=d.activities,m=void 0===p?[]:p,b=d.showDate,f=d.asTrack,g=void 0!==f&&f,O=this.props.stores,v=O.userStore,j=v.findTeam(O.workoutStore.currentTeam||v.team.id);return h?Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 mb-3"},Object(s.h)("div",{class:"row"},m&&m.length>0&&Object(s.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(s.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(s.h)("i",{class:"fas fa-caret-up"})," ",Object(s.h)(i.c,{id:"garmin.hide-list"},"Hide list")),Object(s.h)("h5",null,Object(s.h)(i.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",m.length),m&&m.map((function(o){var n=o.summary,h=void 0===n?{}:n,d=a.a.parseInputDate(h.startTimeInSeconds);return Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(s.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/garmin-connect.png"); border-width: 3px !important;'}," "),Object(s.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(s.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},h.deviceName),h.activityType,Object(s.h)("br",null),Object(s.h)("small",{class:"text-muted"},d&&Object(s.h)("small",{onClick:e.toggleDate},b||r?a.a.formatDate(d,{locale:"no-NB"}):a.a.formatDistance(d,new Date,{locale:"no-NB"})),Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road ml-2"})," ",Object(s.h)(u.a,{stores:e.props.stores,value:h.distanceInMeters/1e3}),Object(s.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(s.h)(l.a,{stores:e.props.stores,value:h.totalElevationGainInMeters}),Object(s.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(s.h)(c.a,{stores:e.props.stores,value:3.6*h.averageSpeedInMetersPerSecond}),Object(s.h)("i",{class:"fas fa-stopwatch ml-2"})," ",a.a.secToHms(h.durationInSeconds))),Object(s.h)("br",null),Object(s.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:e.importGarminWorkout,"data-id":o.id},Object(s.h)("i",{class:"fas fa-file-import"})," ",g?Object(s.h)(i.c,{id:"garmin.import-track"},"Import as track"):Object(s.h)(t,null,Object(s.h)(i.c,{id:"garmin.import"},"Import workout")," ",Object(s.h)("i",{class:"fas fa-arrow-right"})," ",j)),Object(s.h)("button",{class:"btn btn-sm btn-link",onClick:e.ignoreGarminWorkout,"data-id":o.id},Object(s.h)("i",{class:"fas fa-trash-alt"})," ",Object(s.h)(i.c,{id:"garmin.ignore"},"Ignore workout")))))})),Object(s.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(s.h)("i",{class:"fas fa-caret-up"})," ",Object(s.h)(i.c,{id:"garmin.hide-list"},"Hide list")))))):m&&m.length>0?Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 mb-3"},Object(s.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(s.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),Object(s.h)(i.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",m.length))):Object(s.h)(t,null)},o}(s.Component))||r);e.a=h}).call(this,o("hosL").Fragment)},"8Lgr":function(t,e,o){"use strict";(function(t){function r(t){return n.a.format(t,t<5?2:1)}var s,a=o("hosL"),n=o("Utv1"),i=o("/eY4"),c=(o("OhSV"),o("ZOvn"),Object(i.a)(s=function(e){function o(){return e.apply(this,arguments)||this}var s,n;return n=e,(s=o).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,o.prototype.render=function(){var e=this.props,o=e.value,s=void 0===o?0:o,n=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,r(function(t){return.621371*t}(s))," ",n?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(t,null,"mi"))):Object(a.h)(t,null,Object(a.h)("nobr",null,r(s)," ",n?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(t,null,"km")))},o}(a.Component))||s);e.a=c}).call(this,o("hosL").Fragment)},"9Bb9":function(t,e,o){"use strict";var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=o("ETxl"),l=o.n(c),u=o("ZOvn"),h=Object(n.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).loadWorkoutPlans=function(t){return new Promise((function(e,r){function s(){return e()}var a,n,i,c,l,u,h,d,p,m;return void 0===t&&(t=o.props),a=t.stores.workoutPlanStore,n=(new Date).getMonth()+1,i=(new Date).getFullYear(),u=void 0===(l=(c=t).year)?i:l,h=c.month,d=c.currentTeam,p=parseInt(u||((void 0===h?n:h)<8?u-1:u),10),d?Promise.resolve(a.load({query:{team:d,seasonYear:p,seasonMonth:6}})).then(function(){try{if((m=a.workoutPlans[0]||{}).id)return Promise.resolve(a.load(m.id)).then(function(){try{return t.call(this)}catch(t){return r(t)}}.bind(this),r);function t(){return s.call(this)}return t.call(this)}catch(t){return r(t)}}.bind(this),r):s.call(this)}))},o.state={},o}var o,r;r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var n=e.prototype;return n.loadAll=function(t){return new Promise(function(e){return void 0===t&&(t=this.props),e()}.bind(this))},n.loadTeams=function(t){return new Promise(function(e,o){var r,s,a,n,i,c;return void 0===t&&(t=this.props),r=t.stores.teamStore,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),i=(n=t).month,c=n.year,Promise.resolve(r.load({query:{team:n.currentTeam,skipMusherWorkoutSummary:!0,year:void 0===c?a:c,month:void 0===i?s:i},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},n.loadWorkoutSummary=function(t){return new Promise(function(e,o){var r;return void 0===t&&(t=this.props),r=t,Promise.resolve(t.stores.userStore.getWorkoutSummary({team:r.currentTeam,year:r.year,dog:r.dog})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},n.componentDidMount=function(){this.loadAll()},n.componentWillReceiveProps=function(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)},n.render=function(){var t,e=this.props,o=e.currentTeam,r=this.props.stores,n=r.userStore,c=r.workoutPlanStore,h=r.teamStore,d=c.workoutPlan,p=n.user.language,m=u.a.getMonths(void 0===p?"en":p),b=h.findTeam(o)||{},f=(new Date).getMonth()+1,g=(new Date).getFullYear(),O=this.props,v=O.year,j=void 0===v?g:v,y=O.month,w=parseInt((void 0===y?f:y)<8?j-1:j,10),k=a.a.monthRange(w+"-08-01",w+1+"-07-31");return Object(s.h)("div",{class:"container-fluid mb-2"},Object(s.h)("div",{class:"row mt-2"},Object(s.h)("div",{class:"col-12"},Object(s.h)("h5",null,Object(s.h)("span",{style:"display: none;"},d.id),Object(s.h)(i.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(s.h)("div",{class:"row mt-2 border-bottom pb-2"},k&&k.map((function(e){if(e.year>j||e.year===j&&e.month>=e)return"";var o=c.sumWorkoutPlanMonth(e.year,e.month+1);if(!o)return"";t=o;var r=n.findWorkoutSummaryMonth(e.year,e.month+1)/o*100,i=r>100?100:a.a.format(r,0);return Object(s.h)("div",{class:"col-3 text-center"},Object(s.h)("div",{class:"px-auto w-100 clearfix"},Object(s.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(s.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+i+"%; width: 40px;","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},a.a.format(r,0),"%"))),Object(s.h)("div",{class:"w-100 mt-1"},m[e.month]," ",e.year))})),!t&&Object(s.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(s.h)("div",{class:"display-1"},Object(s.h)("i",{class:"far fa-sad-tear"})),Object(s.h)("h3",{class:"font-weight-lighter"},Object(s.h)(i.c,{id:"workout.plan.no-workout-plan-found",fields:{name:b.name}},"Ingen treningsplaner funnet for team ",b.name,".")),Object(s.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(s.h)("i",{class:"fas fa-calendar-alt"})," ",Object(s.h)(i.c,{id:"workout.plan.new"},"New workoutplan")))))},e}(s.Component))||r;e.a=h},B7Gj:function(t,e,o){"use strict";o.r(e),function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function a(t){return c.a.format(.621371*t,1)}var n,i=o("hosL"),c=o("Utv1"),l=o("/eY4"),u=o("OhSV"),h=o("ZOvn"),d=o("JWe/"),p=(o("3pQw"),o("0SNj")),m=o("9Bb9"),b=o("WAWY"),f=o("azdc"),g=o("3UPq"),O=o("pJjI"),v=o("wanP"),j=o("K9Qx"),y=o("bUJL"),w=o("4imK"),k=o("epqT"),x=o("nHdA"),S=(o("irB3"),o("UwwE"),o("8Lgr")),D=(o("QkTp"),o("/DnB")),T=o("yHBq"),P=h.a.marginTop(!0),I=h.a.marginBottom(),L=h.a.subMenuMarginTop(),C={loadedTime:0,isLoading:!1,offset:0,limit:5,submenu:"totals",workoutFilter:function(){return!0},sessionid:(new Date).getTime()},_=["id","type","user","team","title"],W=Object(l.a)(n=function(e){function o(o){var a;return(a=e.call(this,o)||this).loadAll=function(t){return new Promise((function(e,o){var r,s,n,i,c,l,u,h,d,p,m,b;return void 0===t&&(t=a.props),s=(r=a.state).limit,n=r.offset,a.setState({isLoading:!0}),c=(i=t.stores).userStore,l=i.messageStore,u=i.workoutStore.currentTeam,h=(new Date).getMonth()+1,d=(new Date).getFullYear(),m=(p=t).month,b=p.year,Promise.resolve(Promise.all([a.loadWorkouts({team:u,year:void 0===b?d:b,month:void 0===m?h:m,limit:s,offset:n}),a.loadWorkoutSummary(t),a.loadWorkoutPlans(t),c.getNotifications(),l.getUnReadMessages(),a.loadStravaActivities(),a.loadGarminActivities(),a.loadTeams(t)])).then((function(){try{return a.setState({loadedTime:(new Date).getTime(),isLoading:!1}),e()}catch(t){return o(t)}}),o)}))},a.changeTeam=function(){a.loadAll()},a.loadWorkouts=function(t){var e=t.offset;a.props.stores.workoutStore.load({query:{team:t.team,year:t.year,month:t.month},limit:t.limit,offset:e,addData:["publicTeams","publicUsers"]},e>0)},a.setLoadMore=function(){var t=a.props.stores.workoutStore,e=t.currentTeam,o=(new Date).getMonth()+1,r=(new Date).getFullYear(),s=a.props,n=s.month,i=void 0===n?o:n,c=s.year,l=void 0===c?r:c;t.setLoadMore((function(){var t=a.state,o=t.limit,r=t.offset;a.setState({offset:r+=o}),a.loadWorkouts({team:e,year:l,month:i,limit:o,offset:r})}))},a.unsetLoadMore=function(){a.props.stores.workoutStore.setLoadMore((function(){}))},a.loadWorkoutPlans=function(t){return new Promise((function(e,o){function r(){return a.setState({isLoading:!1}),e()}var s,n,i,c,l,u,h,d,p,m,b,f;return void 0===t&&(t=a.props),a.setState({isLoading:!0}),s=(new Date).getMonth()+1,n=(new Date).getFullYear(),l=void 0===(c=(i=t).year)?n:c,u=i.month,d=(h=t.stores).workoutPlanStore,b=(void 0===(m=h.userStore.user.settings)?{}:m).imperial,(p=h.workoutStore.currentTeam)?Promise.resolve(d.load({query:{team:p,seasonYear:(void 0===u?s:u)<8?l-1:l},addData:["tips"]})).then(function(){try{return(f=d.workoutPlans[0]||{}).id?Promise.resolve(d.load(f.id)).then(function(){try{return d.prepareWeekGraphs({year:l,imperial:b}),t.call(this)}catch(t){return o(t)}}.bind(this),o):(d.updateKeyValue("workoutPlan",{}),d.updateKeyValue("workoutPlans",[]),d.resetGraphPlanWeekDistanceCurrent(),t.call(this));function t(){return r.call(this)}}catch(t){return o(t)}}.bind(this),o):r.call(this)}))},a.chooseSubmenu=function(t){a.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},a.chooseDay=function(t){var e=t.day,o=t.month,r=t.year,s=a.state;if(s.dd===e&&s.mm===o&&s.yyyy===r)return a.setState({workoutFilter:function(){return!0},dd:null,mm:null,yyyy:null});a.setState({dd:e,mm:o,yyyy:r,workoutFilter:function(t){var s=new Date(t.date),a=s.getDate(),n=s.getMonth()+1,i=s.getFullYear();return a===parseInt(e,10)&&n===parseInt(o,10)&&i===parseInt(r,10)}})},a.renderContent=function(e){var o=e.obj;return Object(i.h)(t,null,Object(i.h)(d.a,{stores:a.props.stores,workout:o,showDate:!0,wrapperClasses:"w-100",wrapperClassesRow:""}))},a.setupIntersection=function(){a.setState({handleIntersection:h.a.intersectionObserverCallback});var t=a.props.stores.workoutStore;a.scrollViewTimer=setInterval((function(){return t.postScrollview(h.a.getIntersectionObserverHistory())}),3e4)},a.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},C),a}var n,l;l=e,(n=o).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var W=o.prototype;return W.loadTeams=function(t){return new Promise(function(e,o){var r,s,a,n,i,c,l,u;return void 0===t&&(t=this.props),s=(r=t.stores).teamStore,a=r.workoutStore.currentTeam,n=(new Date).getMonth()+1,i=(new Date).getFullYear(),l=(c=t).month,u=c.year,Promise.resolve(s.load({query:{team:a,skipMusherWorkoutSummary:!0,year:void 0===u?i:u,month:void 0===l?n:l},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},W.loadStravaActivities=function(){return new Promise(function(t){return this.props.stores.stravaActivityStore.load({query:{hideImported:1}}),t()}.bind(this))},W.loadGarminActivities=function(){return new Promise(function(t){return this.props.stores.garminActivityDetailsStore.load({query:{hideImported:1}}),t()}.bind(this))},W.loadWorkoutSummary=function(t){return new Promise(function(e,o){var r,s,a,n,i,c,l,u,h;return void 0===t&&(t=this.props),s=(r=t.stores).userStore,a=r.workoutStore,n=(new Date).getMonth()+1,i=(new Date).getFullYear(),l=(c=t).month,u=c.year,h=a.currentTeam,Promise.resolve(s.getWorkoutSummary({team:h,year:void 0===u?i:u,month:void 0===l?n:l})).then((function(){try{return Promise.resolve(s.getWorkoutSummaryDay({daysBack:500,team:h})).then((function(){try{return e()}catch(t){return o(t)}}),o)}catch(t){return o(t)}}),o)}.bind(this))},W.componentWillMount=function(){this.setupIntersection()},W.componentWillUnmount=function(){var t=this.props.stores;t.workoutStore.postScrollview(h.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),this.unsetLoadMore()},W.componentDidMount=function(){var t=this.props.stores.appState;this.loadAll(),t.checkCordova(),this.setLoadMore()},W.componentWillReceiveProps=function(t){t.month===this.props.month&&t.year===this.props.year&&t.team===this.props.team||this.loadAll(t)},W.render=function(){var e,o=this.props.scrolledDown,r=this.state,s=r.isLoading,n=r.submenu,l=r.handleIntersection,d=r.sessionid,C=r.loadedTime,W=this.props.stores,R=W.userStore,A=W.appState,M=W.workoutStore,E=W.workoutPlanStore,F=W.stravaActivityStore,U=W.garminActivityDetailsStore,z=E.workoutPlan,Y=E.workoutPlans,B=R.user,V=R.workoutSummaryWeekDay,N=void 0===V?[]:V,H=B.language,K=B.settings,q=void 0===K?{}:K,G=h.a.getMonths(void 0===H?"en":H),X=(new Date).getMonth()+1,Z=(new Date).getFullYear(),J=this.props,Q=J.month,$=void 0===Q?X:Q,tt=J.year,et=void 0===tt?Z:tt,ot=parseInt($<8?et-1:et,10),rt=M.currentTeam,st=R.findTeam(rt,!0),at=A.darkmode,nt=M.workouts,it=M.cordovaActiveTrackingParams,ct=M.isRunning,lt=M.totalDistance,ut=M.currentSpeed,ht=M.totalTime,dt=nt.filter(this.state.workoutFilter),pt=E.sumWorkoutPlanMonth(parseInt(et,10),parseInt($,10))||0,mt=R.findWorkoutSummaryMonth(parseInt(et,10),parseInt($,10),"distanceKm",!0)||0;pt&&(e=Math.floor(mt/pt*100));var bt=R.findWorkoutSummaryMonth(parseInt(et,10),parseInt($,10),"count",!0)||0,ft=R.findWorkoutSummaryMonth(parseInt(et,10),parseInt($,10),"distanceKm",!0)||0,gt=R.findWorkoutSummaryMonth(parseInt(et,10),parseInt($,10),"duration",!0)||0,Ot=R.findWorkoutSummaryMonth(parseInt(et,10),parseInt($,10),"speedAvg",!0)||0,vt=(R.findWorkoutSummaryMonth(parseInt(et,10),parseInt($,10),"elevation",!0),F.stravaActivities),jt=void 0===vt?[]:vt,yt=U.garminActivityDetails,wt=void 0===yt?[]:yt;return Object(i.h)("div",{class:"container-fluid",style:"margin-bottom: "+I+"; margin-top: "+P+";"},Object(i.h)("div",{class:"row fixed-top pt-2",style:"margin-top: "+(o>0?0:L)+"; background-color: "+(at?"#191d21":"#f8f9fa")+"; transition: all 0.3s ease-in-out;"},Object(i.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(i.h)("a",{href:"/workouts/",class:"text-primary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(u.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/workouts/list",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-list"})," ",Object(i.h)(u.c,{id:"workout.index.list"},"Liste")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(u.c,{id:"workout.index.plan"},"Plan"))))),ct&&it&&Object(i.h)(t,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(i.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(i.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(i.h)("div",{class:"row mb-3"},Object(i.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},c.a.secToHms(ht)),Object(i.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},Object(i.h)(x.a,{stores:this.props.stores,value:3.6*ut})),Object(i.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},Object(i.h)(S.a,{stores:this.props.stores,value:lt/1e3}))),Object(i.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(i.h)(u.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(i.h)(O.a,{stores:this.props.stores,callback:this.changeTeams,key:"teams-"+rt})),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-2"},Object(i.h)("a",{class:"btn btn-primary btn-sm float-right",href:"/workouts/edit/new"},Object(i.h)("i",{class:"fas fa-plus"})," ",Object(i.h)(u.c,{id:"workout.index.add-workout"},"Legg til treningstur"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 overflow-hidden"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("totals"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"workouts.totals"},"Totaler")),"totals"===n&&Object(i.h)(D.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("seasontotals"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"seasontotals",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"workouts.seasontotals"},"Season totals")),"seasontotals"===n&&Object(i.h)(D.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("analysis"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"analysis",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-chart-area"})," ",Object(i.h)(u.c,{id:"workouts.analysis"},"Analyser")),"analysis"===n&&Object(i.h)(D.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("table"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"table",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-table"})," ",Object(i.h)(u.c,{id:"workouts.table"},"Tabell")),"table"===n&&Object(i.h)(D.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-none "+("workoutplan"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplan",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(u.c,{id:"workouts.workoutplan"},"Treningsplan")),"workoutplan"===n&&Object(i.h)(D.a,{horizontal:"center",vertical:"end"})),Object(i.h)("div",{class:"col px-0 pt-2"},Object(i.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("calendar"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"calendar",onClick:this.chooseSubmenu},Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(u.c,{id:"workouts.calendar"},"Kalender")),"calendar"===n&&Object(i.h)(D.a,{horizontal:"center",vertical:"end"})))))),"totals"===n&&Object(i.h)(t,null,Object(i.h)(g.a,{stores:this.props.stores,isLoading:s,year:et,month:$,chooseDayFunction:this.chooseDay,key:"calendar-header-"+et+"-"+$+"-"+rt+"-"+C+"-"+N.length,hideTable:"calendar"===n?0:1,hideSummary:"calendar"===n?0:1,skipLoadSummary:"calendar"===n?0:1}),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-2"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-4 text-center"},pt>=0&&Object(i.h)(v.a,{key:"gauge-"+e,radius:55,percent:e,prefix:"%",total:q.imperial?a(pt)+" mi":c.a.format(pt,0)+" km",completed:q.imperial?a(mt)+" mi":c.a.format(mt,0)+" km"}),Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},Object(i.h)(u.c,{id:"workout.index.plan"},"Treningsplan"))),Object(i.h)("div",{class:"col-4 text-center"},Object(i.h)("h5",null,Object(i.h)("span",{class:"text-muted font-weight-lighter"},Object(i.h)("i",{class:"fas fa-road"}))),Object(i.h)("h3",null,Object(i.h)(S.a,{stores:this.props.stores,value:ft,smallUnit:!0})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(u.c,{id:"workout.calendar.distance"},"Distanse"))),Object(i.h)("div",{class:"col-4 text-center"},Object(i.h)("h5",null,Object(i.h)("span",{class:"text-muted font-weight-lighter"},Object(i.h)("i",{class:"fas fa-tachometer-alt ml-3"}))),Object(i.h)("h3",null,Object(i.h)(x.a,{stores:this.props.stores,value:Ot,smallUnit:!0})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(u.c,{id:"workout.calendar.avg-speed"},"Gj.snittsfart"))),Object(i.h)("div",{class:"col-12 text-center"},Object(i.h)("span",{class:"text-muted font-weight-lighter"},Object(i.h)("i",{class:"fas fa-running"})," ")," ",bt,Object(i.h)("span",{class:"text-muted font-weight-lighter"},Object(i.h)("i",{class:"fas fa-clock ml-3"}))," ",c.a.secToHms(gt)))),Object(i.h)("div",{class:"col-12"},Object(i.h)(k.a,{stores:this.props.stores,url:this.props.url,section:n}))),"seasontotals"===n&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 text-center"},Object(i.h)("h3",null,Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"workouts.seasontotals"},"Season totals"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)(p.a,{stores:this.props.stores,currentTeam:rt,year:et,month:$}),Object(i.h)(m.a,{stores:this.props.stores,currentTeam:rt,year:et,month:$})),Object(i.h)("div",{class:"col-12"},Object(i.h)(k.a,{stores:this.props.stores,url:this.props.url,section:n}))),"analysis"===n&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 text-center"},Object(i.h)("h3",null,Object(i.h)("i",{class:"fas fa-chart-area"})," ",Object(i.h)(u.c,{id:"workouts.analysis"},"Analyser"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)(b.a,{stores:this.props.stores,isLoading:s,year:et,month:$,key:"graph-"+z.id+"-"+Y.length+"-"+q.imperial,showExtra:!0})),Object(i.h)("div",{class:"col-12"},Object(i.h)(k.a,{stores:this.props.stores,url:this.props.url,section:n}))),"table"===n&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3 text-center"},Object(i.h)("h3",null,Object(i.h)("i",{class:"fas fa-table"})," ",Object(i.h)(u.c,{id:"workouts.table"},"Tabell"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)(f.a,{stores:this.props.stores,isLoading:s,year:et,month:$,key:"table-"+z.id+"-"+Y.length})),Object(i.h)("div",{class:"col-12"},Object(i.h)(k.a,{stores:this.props.stores,url:this.props.url,section:n}))),"calendar"===n&&Object(i.h)(t,null,Object(i.h)(g.a,{stores:this.props.stores,isLoading:s,year:et,month:$,chooseDayFunction:this.chooseDay,key:"calendar-header-"+et+"-"+$+"-"+rt+"-"+C+"-"+N.length,hideTable:"calendar"===n?0:1,hideSummary:"calendar"===n?0:1,skipLoadSummary:"calendar"===n?0:1}),Object(i.h)("div",{class:"col-12"},Object(i.h)(k.a,{stores:this.props.stores,url:this.props.url,section:n}))),"workoutplan"===n&&Object(i.h)(t,null,Object(i.h)(j.a,{stores:this.props.stores,basehref:"/workouts/",month:$,year:et,key:(z.id||ot)+"-"+rt+"-"+$+"-"+et+"-"+C,showNavigation:!0,showHeader:!0,currentTeam:rt}),Object(i.h)("div",{class:"col-12"},Object(i.h)(k.a,{stores:this.props.stores,url:this.props.url,section:n})))),"totals"===n&&Object(i.h)(t,null,Object(i.h)("div",{class:"row mt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4"},Object(i.h)("div",{class:"row"},B&&B.strava&&Object(i.h)(t,null,Object(i.h)(y.a,{stores:this.props.stores,activities:jt,key:"strava-"+rt+"-"+jt.length})),B&&B.garmin&&Object(i.h)(t,null,Object(i.h)(w.a,{stores:this.props.stores,activities:wt,key:"garmin-"+rt+"-"+wt.length}))))),Object(i.h)("div",{class:"row"},dt&&dt.length>0&&Object(i.h)("div",{class:"col-12 mb-4"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(i.h)("h5",null,st&&st.name&&Object(i.h)("div",null,Object(i.h)("small",{class:"font-weight-lighter"},"(",Object(i.h)(u.c,{id:"workout.index.filtered-by"},"Filtered by"),": ",st.name,")")))),Object(i.h)(T.a,{data:dt,wrapperClassNames:"row pb-4",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(at?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:_,dataValues:{type:"11"},handleIntersection:l,sessionid:d})),!nt||0===nt.length&&Object(i.h)("div",{class:"col-12 mb-4 text-center pt-5 pb-5"},Object(i.h)("h1",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-running"})),Object(i.h)("h5",{class:"text-muted font-weight-lighter"},Object(i.h)(u.c,{id:"workouts.no-workouts",fields:{month:G[$-1],year:et}},"Ingen treningsturer registrert..."))))))},o}(i.Component))||n;e.default=W}.call(this,o("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},"JWe/":function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function n(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function i(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var c,l=o("hosL"),u=o("Utv1"),h=o("/eY4"),d=o("cneo"),p=o("OhSV"),m=o("fh8t"),b=o.n(m),f=(o("UJvz"),o("sqi2")),g=o("/922"),O=o("s4FZ"),v=o("ZQlJ"),j=o("q/oJ"),y=o("gWxU"),w=o("Nanz"),k=o("+JSK"),x=o("vY+r"),S=o("nHdA"),D=o("irB3"),T=o("UwwE"),P=o("8Lgr"),I=o("QkTp"),L=o("ZOvn"),C=L.a.getMaxLoadIndex(),_={showAddComment:!1,viewImageIdx:{},likeWorkout:{}},W=Object(h.a)(c=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleDate=function(t){t.stopPropagation(),t.preventDefault(),o.setState({showDate:!o.state.showDate})},o.likeWorkout=function(){return new Promise((function(t,e){var r,s,a;return r=o.props.stores.workoutStore,(a=o.state.likeWorkout)[s=o.props.workout.id]=!0,o.setState({likeWorkout:a}),setTimeout((function(){var t=o.state.likeWorkout;delete t[s],o.setState({likeWorkout:t})}),1200),Promise.resolve(r.likeWorkout({id:s})).then((function(o){try{return o,t()}catch(t){return e(t)}}),e)}))},o.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;o.setState({showAddComment:!o.state.showAddComment},(function(){o.inputRef[e]&&o.inputRef[e].focus()}))},o.viewImage=function(t){var e=t.target.closest("img").dataset,r=o.state.viewImageIdx;r[e.id]=e.idx,o.setState({viewImageIdx:r})},o.shareLink=function(t){var e=t.target.closest("button").dataset;o.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},o.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),o.setState({showTeam:e}),!1},o.hideTeam=function(){o.setState({showTeam:null})},o.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},o.onDogClick=function(t,e,r){return t.preventDefault(),t.stopPropagation(),o.setState({showDog:e,dogs:r}),!1},o.hideDog=function(){o.setState({showDog:null})},o.state=s({},_),o.updateTimer={},o.inputRef={},o}var r,a;return a=e,(r=o).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a,o.prototype.render=function(){var e=this,o=this.state,r=o.showDate,a=o.showAddComment,c=o.likeWorkout,h=o.dogs,m=o.showTeam,_=o.showDog,W=this.props,R=W.workout,A=W.showDate,M=W.wrapperClasses,E=void 0===M?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3":M,F=W.wrapperClassesRow,U=void 0===F?"row":F,z=this.props.stores,Y=z.userStore,B=z.appState,V=z.workoutStore,N=B.viewmode,H=B.hasShareApi,K=Y.user,q=Y.dogs,G=K.language,X=void 0===G?"en":G,Z=Y.findIntensity({code:R.intensity,language:X})||{},J=Y.findTeam(R.team,!0)||{},Q=J.name,$=[];Q&&$.push(Q),R.teams&&R.teams.forEach((function(t){Y.findTeam(t)&&$.push(Y.findTeam(t))}));var tt=R.likes,et=void 0===tt?[]:tt,ot=R.comments,rt=void 0===ot?[]:ot,st=R.likes&&R.likes.findIndex((function(t){return t.user===K.id}))>-1,at=R.gpxInfo,nt=R.mushers,it=void 0===nt?[]:nt,ct=(void 0===at?{}:at).loadIndex,lt=void 0===ct?0:ct,ut=Y.findEquipment({equipment:R.equipment,language:X}),ht=Y.findEquipment({equipment:R.equipment,field:"icon"}),dt=[];it.length>1&&it.slice(1,10).map((function(t){var e=V.findPublicUser(t)||{};e.images&&e.images[0]&&dt.push(e.images[0])}));var pt,mt=V.findPublicUser(it[0])||{};mt&&mt.images&&mt.images[0]?pt=mt.images[0]:J.image&&J.image.s3SmallLink?pt=J.image:J.images&&J.images[0]&&J.images[0].s3SmallLink?pt=J.images[0]:R.image&&R.image.s3SmallLink&&(pt=R.image);var bt=[];if(R.mapImage&&bt.push(s(s({},R.mapImage),{},{type:"map"})),R.images){var ft=Object(d.i)(R.images);bt.push.apply(bt,ft)}var gt;R&&R.gpxInfo&&R.gpxInfo.battegryLevelStart&&(gt=100*(R.gpxInfo.battegryLevelStart-R.gpxInfo.battegryLevelEnd));var Ot=L.a.getViews(R.statistics);return Object(l.h)(t,null,m&&Object(l.h)(j.a,null,Object(l.h)(y.default,{stores:this.props.stores,teamid:m,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),_&&Object(l.h)(j.a,null,Object(l.h)(w.default,{stores:this.props.stores,dogid:_,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:h})),Object(l.h)("div",{class:"w-100 mb-2"},Object(l.h)("div",{class:U},Object(l.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+n(R),style:(pt?'background-image: url("'+pt.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!pt&&Object(l.h)("i",{class:i(R)+" text-"+(Z.class?Z.class:"muted")+" mt-3",style:"font-size: 40px;"}),dt&&dt.map((function(e,o){return Object(l.h)(t,null,Object(l.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:'\n                                            background-image: url("'+e.s3SmallLink+'");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: '+(10*o-5)+"px;\n                                        "}))}))),0!==R.temperature&&Object(l.h)(t,null,Object(l.h)("span",{class:"text-muted font-weight-light"},Object(l.h)(I.a,{stores:this.props.stores,value:R.temperature})))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("span",{class:"float-right"},1===R.isLocked&&Object(l.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===R.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===R.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(l.h)("a",{class:"stretched-link",href:"/workouts/"+R.id},Object(l.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},R.name)),$&&$.length>0&&Object(l.h)("small",{class:"font-weight-lighter"},$.map((function(e,o){return Object(l.h)(t,null,o>0?", ":"",e)}))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},R.date&&Object(l.h)("small",{onClick:this.toggleDate},A||r?u.a.formatDate(R.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):u.a.formatDistance(R.date,new Date,{locale:"no-NB"})),Object(l.h)("span",{class:"badge badge-"+Z.class+" ml-2"},Z.name),lt>0&&Object(l.h)("span",{class:"ml-2 text-"+L.a.getLoadIndexColor(u.a.normalizeBetween(lt,0,C,0,100))},Object(l.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(u.a.normalizeBetween(lt,0,C,0,100))," - ",L.a.getLoadIndexText(u.a.normalizeBetween(lt,0,C,0,100))),Object(l.h)("br",null)),Object(l.h)("small",null,Object(l.h)("div",{class:"text-muted"},R.garminId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),R.stravaId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),R.equipment>0&&Object(l.h)(t,null,Object(l.h)("i",{class:ht+" ml-2"})," ",ut),R.dogs>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",R.dogs.length),R.track>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-map-marked text-"+(R.track>0?"success":"danger")+" ml-2"})),R.dogsLeft>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-crosshairs text-"+(R.dogsLeft&&R.dogsRight?"success":"danger")+" ml-2"})),R.sledWeight>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(l.h)(T.a,{stores:this.props.stores,value:R.sledWeight})),gt>0&&Object(l.h)("span",{class:"text-muted ml-2"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",u.a.format(gt,1),"% ",Object(l.h)(p.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(N)>-1&&Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-balance-scale"})," ",u.a.format(R.kcalBurnedTotal)," ",Object(l.h)(p.c,{id:"workout.kcal"},"kcal"),Object(l.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(l.h)(T.a,{stores:this.props.stores,value:R.kcalMeatGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-fish ml-2"})," ",Object(l.h)(T.a,{stores:this.props.stores,value:R.kcalSalmonGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(l.h)(T.a,{stores:this.props.stores,value:R.kcalFatGramsTotal/1e3}))))),Object(l.h)("div",{class:E+" position-relative mt-2"},Object(l.h)("strong",null,R.description)),Object(l.h)("div",{class:E+" position-relative"},Object(l.h)(b.a,{markdown:L.a.replaceImages(R.comment,R.images,X),markdownOpts:L.a.getMarkdownOptions()})),Object(l.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row mt-1"},R.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(p.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(P.a,{stores:this.props.stores,value:R.distanceKm}))),R.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(p.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(D.a,{stores:this.props.stores,value:R.elevation}))),R.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(p.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},u.a.secToHms(R.duration,!0))),R.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(p.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},R.gpxInfo&&R.gpxInfo.avgGpsMovingSpeed>0?Object(l.h)(t,null,Object(l.h)(S.a,{stores:this.props.stores,value:3.6*R.gpxInfo.avgGpsMovingSpeed})):Object(l.h)(t,null,Object(l.h)(S.a,{stores:this.props.stores,value:R.speedAvg}))))))),["beta","advanced","normal"].indexOf(N)>-1&&Object(l.h)("div",{class:""+E},Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row"},Object(l.h)(O.a,{stores:this.props.stores,images:bt,id:R.id,dblClick:this.likeWorkout,likeRef:c})))),["beta","advanced","normal"].indexOf(N)>-1&&Object(l.h)(t,null,R.dogs&&R.dogs.length>0&&Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row pt-2"},Object(l.h)(v.a,{stores:this.props.stores,dogs:R.dogs,allDogs:q,onDogClick:this.onDogClick}))),Object(l.h)("div",{class:"mt-2"},Object(l.h)(k.a,{stores:this.props.stores,likes:et,comments:rt,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(N)>-1&&Object(l.h)(t,null,Object(l.h)("div",{class:E+" mb-0 position-relative mt-2"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(st?"primary":"secondary")+" btn-lg btn-block "+(st?"text-primary":""),onClick:this.likeWorkout},Object(l.h)("i",{class:(st?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(p.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":R.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(p.c,{id:"comments.comment-add"},"Kommentar"))),H?Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+R.uuidv4,"data-title":"title: "+R.name},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(p.c,{id:"workout.share"},"Del")))):Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+R.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(p.c,{id:"workout.share"},"Del")))))),Object(l.h)("div",{class:E+" mt-2 mb-3"},a&&Object(l.h)(g.a,{stores:this.props.stores,workout:R,inputRef:function(t){return e.inputRef[R.id]=t},inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(l.h)(f.a,{stores:this.props.stores,workout:R,col:"10",offset:"2",compact:!0})),Ot>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"mt-2"},Object(l.h)(x.a,{stores:this.props.stores,views:Ot,object:R,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))},o}(l.Component))||c;e.a=W}).call(this,o("hosL").Fragment)},K9Qx:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("go65"),c=o("OhSV"),l=(o("nHdA"),o("irB3"),o("UwwE"),o("8Lgr")),u=(o("QkTp"),o("ZOvn")),h=[0,6],d=Object(n.a)(r=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).setFocus=function(){t.inputRef&&t.inputRef.focus()},t.editMonth=function(e){t.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:null,inputWeek:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},(function(){return t.setFocus()}))},t.editWeek=function(e){t.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,inputMonth:null,inputDay:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},(function(){return t.setFocus()}))},t.editDay=function(e){t.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:e.target.parentElement.dataset.day||e.target.dataset.day,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},(function(){return t.setFocus()}))},t.saveDistance=function(){return new Promise((function(e,o){function r(){return y=n.workoutPlan.id,p&&(w=f?"days":"weeks"),Promise.resolve(n.saveField(y,w,{year:p,month:m,day:f,week:b,distance:g})).then((function(){try{return Promise.resolve(n.load(y)).then((function(){try{return t.resetInput(!0),e()}catch(t){return o(t)}}),o)}catch(t){return o(t)}}),o)}var s,n,i,c,l,u,h,d,p,m,b,f,g,O,v,j,y,w;return n=(s=t.props.stores).workoutPlanStore,c=s.userStore.findTeam(i=s.workoutStore.currentTeam)||"",u=(l=t.props).year,h=n.workoutPlans[0]||{},p=(d=t.state).inputYear,m=d.inputMonth,b=d.inputWeek,f=d.inputDay,g=d.newDistance,O=l.month||(new Date).getMonth()+1,v=u||a.a.getYear(),j=parseInt(O<8?v-1:v,10),h.id?Promise.resolve(n.load(h.id)).then(function(){try{return r.call(this)}catch(t){return o(t)}}.bind(this),o):Promise.resolve(n.insert({title:"Workout plan for "+j+" - "+(j+1)+": "+c,team:i,seasonYear:j,seasonMonth:6})).then(function(t){try{return Promise.resolve(n.load(t.data.id)).then(function(){try{return r.call(this)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),o)}))},t.resetInput=function(e){if(e){var o=t.state,r=a.a.addDays(new Date(o.inputYear,o.inputMonth-1,o.inputDay,0,0,0,0),1);t.setState({showInput:!0,inputYear:r.getFullYear(),inputMonth:r.getMonth()+1,inputDay:r.getDate(),inputWeek:a.a.getWeek(r),newDistance:null}),t.setFocus()}else t.setState({showInput:!1,inputYear:null,inputMonth:null,inputDay:null,inputWeek:null,newDistance:null})},t.checkKeydown=function(e){switch(e.key){case"Enter":t.saveDistance();break;case"Escape":t.resetInput()}},t.updateWorkoutPlanTips=function(){var e=t.props.stores.userStore.user,o=(void 0===e?{}:e).settings;t.setState({hideWorkoutPlanTips:(void 0===o?{}:o).hideWorkoutPlanTips})},t.toggleTips=function(){return new Promise((function(e,o){var r,s;return r=t.props.stores.userStore,t.setState({hideWorkoutPlanTips:s=1===t.state.hideWorkoutPlanTips?0:1}),Promise.resolve(r.updateSetting({"settings.hideWorkoutPlanTips":s},{hideWorkoutPlanTips:s})).then((function(){try{return e()}catch(t){return o(t)}}),o)}))},t}var r,n;n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var d=o.prototype;return d.componentDidMount=function(){this.updateWorkoutPlanTips()},d.render=function(){var e=this,o=this.state.hideWorkoutPlanTips,r=this.props.stores,n=r.workoutPlanStore,d=r.userStore,p=r.teamStore,m=d.user.language,b=void 0===m?"en":m,f=r.appState.darkmode,g=u.a.getDays(b),O=u.a.getMonths(b),v=this.state,j=v.showInput,y=v.inputYear,w=v.inputMonth,k=v.inputWeek,x=v.inputDay,S=v.newDistance,D=(new Date).getDate(),T=(new Date).getMonth()+1,P=(new Date).getFullYear(),I=(new Date).getTime(),L=this.props,C=L.month,_=void 0===C?T:C,W=L.year,R=void 0===W?P:W,A=L.dog,M=L.basehref,E=L.showNavigation,F=void 0===E||E,U=L.showHeader,z=void 0===U||U,Y=L.currentTeam,B=parseInt(_<8?R-1:R,10),V=parseInt(_,10),N=parseInt(R,10),H=u.a.getNextMonth(V,N),K=H.month,q=H.year,G=u.a.getPrevMonth(V,N),X=G.month,Z=G.year,J=a.a.getDaysInMonth(_,R),Q=a.a.getWeeksInMonth(_,R),$=a.a.getDaysInWeek(Q[0].week,R,_),tt=0,et=0,ot=0,rt=J[J.length-1].getTime()>I,st=n.findWorkoutPlanSummaryMonth(R,V)||{},at=n.workoutPlan,nt=n.tips,it=nt[R+"-"+a.a.padDate(_)],ct=it&&(it.comments.length>0||it.distance),lt=p.findTeam(Y)||{};return Object(s.h)(t,null,z&&Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},F&&Object(s.h)("a",{href:""+(M||"/workouts/month/")+K+"/"+q+"/skipScroll",class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(s.h)("i",{class:"fas fa-arrow-right"})),F&&Object(s.h)("a",{href:""+(M||"/workouts/month/")+X+"/"+Z+"/skipScroll",class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(s.h)("i",{class:"fas fa-arrow-left"})),Object(s.h)("h3",null,Object(s.h)(c.c,{id:"workout.plan.month"},"Måned")," - ",O[_-1]," ",R," ",st.distance?"- "+a.a.format(st.distance,0)+" km":""),Object(s.h)("h5",{class:"text-muted font-weight-light"},Object(s.h)(c.c,{id:"workout.plan.season"},"Sesongen")," ",B," - ",B+1),Object(s.h)("div",null,at.id?Object(s.h)(t,null,Object(s.h)("small",null,at.title)):Object(s.h)(t,null,Object(s.h)("div",{class:"display-4"},Object(s.h)("i",{class:"far fa-sad-tear text-muted"})),Object(s.h)("h5",{class:"font-weight-lighter text-muted"},Object(s.h)(c.c,{id:"workout.plan.no-workout-plan-found",fields:{name:lt}},"Ingen plan")),Object(s.h)("div",{class:"text-muted"},Object(s.h)(c.c,{id:"workout.plan.click-to-start"},"Click on a date to get started.")))),A&&Object(s.h)("div",null,A.name))),Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!(!(j&&y&&k)||x)&&Object(s.h)(t,null,Object(s.h)("div",{class:"form-inline w-100"},Object(s.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(s.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:"Enter distance for "+y+" w"+k,ref:function(t){return e.inputRef=t},onInput:Object(i.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:S||""})),Object(s.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(s.h)(c.c,{id:"workout.plan.save"},"Lagre")))),!!(j&&y&&w)&&Object(s.h)(t,null,Object(s.h)("div",{class:"form-inline w-100"},Object(s.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(s.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:"Enter distance for "+y+"-"+a.a.padDate(w)+" "+(x?"-"+a.a.padDate(x):""),ref:function(t){return e.inputRef=t},onInput:Object(i.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:S||""})),Object(s.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(s.h)(c.c,{id:"workout.plan.save"},"Lagre"))))),"no"===b&&Object(s.h)(t,null,o?Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(s.h)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:this.toggleTips},Object(s.h)("i",{class:"fas fa-eye"})," ",Object(s.h)(c.c,{id:"workout.plan.show-tips"},"Show tips")))):Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(s.h)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:this.toggleTips},Object(s.h)("i",{class:"fas fa-eye-slash"})," ",Object(s.h)(c.c,{id:"workout.plan.hide-tips"},"Hide tips"))))),Object(s.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(s.h)("div",{class:"table-responsive"},Object(s.h)("table",{class:"table table-striped table-sm"},Object(s.h)("thead",null,Object(s.h)("tr",null,Object(s.h)("th",{class:"text-muted"},Object(s.h)("small",null,Object(s.h)(c.c,{id:"workout.plan.week"},"Uke"))),$.map((function(t){return Object(s.h)("th",null,Object(s.h)("small",null,g[t.getDay()]))})),Object(s.h)("th",{class:"text-muted"},Object(s.h)("small",null,Object(s.h)(c.c,{id:"workout.plan.sum"},"Sum"))),Object(s.h)("th",{class:"text-muted"},Object(s.h)("small",null,Object(s.h)(c.c,{id:"workout.plan.planned"},"Plan"))))),Object(s.h)("tbody",null,Q&&Q.map((function(r){var i=a.a.getDaysInWeek(r.week,R,_),c=n.findWorkoutPlanSummaryWeek(a.a.asNumber(R),r.week)||{},p=i[6].getTime()>I,m=0,g=0;c.distance>0&&(et+=c.distance);var O=nt[R+"-"+a.a.padDate(_)+"-w"+a.a.padDate(r.week)],v=O&&(O.comments.length>0||O.distance);return Object(s.h)(t,null,Object(s.h)("tr",null,Object(s.h)("td",{class:"text-right text-muted pt-3 border-right "+(x||y!=R||k!=r.week?"":"border rounded border-primary")},Object(s.h)("small",{onClick:e.editWeek,"data-week":r.week,"data-year":R,"data-distance":c.distance},r.week)),i.map((function(t){var o=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),c=t.getTime()>I,p=d.findWorkoutSummaryWeekDay(c?o-1:o,a,i,V)||{},b=n.findWorkoutPlanSummaryDay(o,a,i,V)||{};b&&b.distance&&(m+=b.distance,tt+=b.distance),p.distanceKm&&(g+=p.distanceKm,ot+=p.distanceKm);var O=y==o&&w==a&&x==i,v=P==o&&T==a&&D==i,j=h.indexOf(t.getDay())>-1;return Object(s.h)("td",{class:"text-center overflow-hidden font-weight-light position-relative pt-3 pb-3 border-right "+(O?"calendarIsChosen":"")+" "+(v?"calendarIsToday":"")+" "+(j?"calendarIsWeekend":""),style:"font-size: 0.8em; min-width: 3rem;",onClick:e.editDay,"data-day":t.getDate(),"data-month":t.getMonth()+1,"data-year":R,"data-week":r.week,"data-distance":b.distance},Object(s.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},t.getDate()),b&&b.distance?Object(s.h)("div",{class:"rounded-pill w-100 px-1",style:"background-color: "+u.a.getPlanColor(b,f)+";"},Object(s.h)(l.a,{stores:e.props.stores,value:b.distance}),b.count>1&&Object(s.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},b.count)):"-",p.distanceKm>0&&Object(s.h)("span",{class:"position-absolute font-weight-bold",style:"bottom: 0; left: 0px; font-size: 0.85em; color: "+(c?"#393DB1":"#2BAAA9")+";"},Object(s.h)(l.a,{stores:e.props.stores,value:p.distanceKm})))})),Object(s.h)("td",{class:"text-right pt-3 pb-3 position-relative border-right",style:"font-size: 0.8em;"},Object(s.h)(l.a,{stores:e.props.stores,value:m}),g>0&&Object(s.h)("span",{class:"position-absolute",style:"bottom: 0; left: 0px; font-size: 0.85em; color: "+(p?"#393DB1":"#2BAAA9")+";"},Object(s.h)(l.a,{stores:e.props.stores,value:g}))),Object(s.h)("td",{class:"text-right pt-3 pb-3 text-muted border-right",style:"font-size: 0.8em;",onClick:e.editWeek,"data-week":r.week,"data-year":R,"data-distance":c.distance},c.distance>0&&Object(s.h)(t,null,Object(s.h)("div",{class:"rounded-pill w-100 px-1 text-white text-center",style:"background-color: "+u.a.getPlanColor(c,f)+";"},Object(s.h)(l.a,{stores:e.props.stores,value:c.distance}))))),!o&&"no"===b&&O&&v&&Object(s.h)("tr",null,Object(s.h)("td",{colspan:"10",class:"pb-3"},Object(s.h)("h5",null,Object(s.h)("span",{class:"font-weight-lighter"},"Uke ",r.week," ",R,":"),"Tips fra Femundløpet"),O.totalDistance>0&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road"})," Distanse"),": ",O.totalDistance," km"),O.distance>0&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",O.distance),O.time&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",O.time),O.totalWorkouts>0&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",O.totalWorkouts),O.avgSpeed&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",O.avgSpeed),O.comments&&Object(s.h)("div",null,O.comments.map((function(t){return Object(s.h)("p",null,t)}))))))}))),Object(s.h)("tfoot",null,Object(s.h)("tr",null,Object(s.h)("td",{colspan:"8",class:"text-right pb-3"},Object(s.h)(c.c,{id:"workout.plan.totalkm"},"Totalt km")),Object(s.h)("td",{class:"text-right position-relative pb-3"},Object(s.h)(l.a,{stores:this.props.stores,value:tt}),ot>0&&Object(s.h)("span",{class:"position-absolute",style:"bottom: 0; left: 0px; font-size: 0.65em; color: "+(rt?"#393DB1":"#2BAAA9")+";"},Object(s.h)(l.a,{stores:this.props.stores,value:ot}))),Object(s.h)("td",{class:"text-right text-muted"},Object(s.h)(l.a,{stores:this.props.stores,value:et}))),!o&&"no"===b&&it&&ct&&Object(s.h)("tr",null,Object(s.h)("td",{colspan:"10",class:"pb-3"},Object(s.h)("h5",null,Object(s.h)("span",{class:"font-weight-lighter"},O[_-1]," ",R,":")," Tips fra Femundløpet"),it.totalDistance>0&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road"})," Distanse"),": ",it.totalDistance," km"),it.distance>0&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road"})," Distanse pr økt"),": ",it.distance),it.time&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-clock"})," Tid pr økt"),": ",it.time),it.totalWorkouts>0&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-list-ol"})," Antall økter"),": ",it.totalWorkouts),it.avgSpeed&&Object(s.h)("div",null,Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",it.avgSpeed),it.comments&&Object(s.h)("div",null,it.comments.map((function(t){return Object(s.h)("p",null,t)}))))))))))},o}(s.Component))||r;e.a=d}).call(this,o("hosL").Fragment)},QkTp:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(n.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,n=this.props.stores.userStore.user.settings;return(void 0===n?{}:n).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(function(t){return 9*t/5+32}(r),0),"°F")):Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(r,1),"°C"))},o}(s.Component))||r);e.a=i}).call(this,o("hosL").Fragment)},UJvz:function(t,e,o){"use strict";var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=Object(n.a)(r=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).toggleDate=function(){e.setState({showDate:!e.state.showDate})},e.touchStart=function(t){t.stopPropagation(),e.setState({startY:t.touches[0].pageY})},e.touchEnd=function(t){t.stopPropagation(),e.setState({startY:void 0,readyToRefresh:!1})},e.touchMove=function(t){t.stopPropagation();var o=e.state;e.appContainer&&(0===e.appContainer.scrollTop&&t.touches[0].pageY>o.startY+30&&!o.refreshing&&(0,e.props.close)())},e}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this,e=this.state.showDate,o=this.props,r=o.image,n=o.imagexxl,c=o.close,l=o.thumb,u=o.name,h=o.title,d=o.date;return Object(s.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(s.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:c},"X"),Object(s.h)("div",{class:"d-flex mb-2 px-2"},l&&Object(s.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:l?'background-image: url("'+l+'");':""}," "),Object(s.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},u&&Object(s.h)("strong",{class:"mr-2"},u,":"),h,Object(s.h)("br",null),Object(s.h)("small",{class:"text-muted"},d&&Object(s.h)("small",{onClick:this.toggleDate},e?a.a.formatDate(d,{locale:"no-NB"}):a.a.formatDistance(d,new Date,{locale:"no-NB"}))))),Object(s.h)("img",{src:r,class:"img-fluid align-middle mt-2 mb-2",onClick:c,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:function(e){return t.appContainer=e}}),Object(s.h)("a",{target:"_blank",rel:"noopener noreferrer",href:n||r,download:n||r},Object(s.h)("i",{class:"fas fa-download"})," ",Object(s.h)(i.c,{id:"modal.download"},"Last ned bildet")))},e}(s.Component))||r;e.a=c},UwwE:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(n.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,n=this.props.stores.userStore.user.settings;return(void 0===n?{}:n).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(function(t){return 2.20462*t}(r),0)," lb")):Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(r,0)," kg"))},o}(s.Component))||r);e.a=i}).call(this,o("hosL").Fragment)},WAWY:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=(o("ZOvn"),o("bbv7")),l=Object(i.d)((function(){return{week:Object(s.h)(i.c,{id:"workout.graph.week"}),distance:Object(s.h)(i.c,{id:"workout.graph.distance"}),duration:Object(s.h)(i.c,{id:"workout.graph.duration"},"Duration"),rest:Object(s.h)(i.c,{id:"workout.graph.rest"},"Rest"),ascend:Object(s.h)(i.c,{id:"workout.graph.ascend"}),plan:Object(s.h)(i.c,{id:"workout.graph.plan"}),speedAvg:Object(s.h)(i.c,{id:"workout.graph.speedavg"},"Speed"),loadIndex:Object(s.h)(i.c,{id:"workout.graph.loadindex"},"Loadindex"),avgDogs:Object(s.h)(i.c,{id:"workout.graph.avgdogs"},"Avg dogs"),avgImages:Object(s.h)(i.c,{id:"workout.graph.avgimages"},"Avg images"),sledWeight:Object(s.h)(i.c,{id:"workout.graph.sledweight"},"Sled weight"),rating:Object(s.h)(i.c,{id:"workout.graph.rating"},"Rating"),temperature:Object(s.h)(i.c,{id:"workout.graph.temperature"},"Temperature")}}))(r=Object(n.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){for(var e=this.props.stores,o=e.userStore,r=o.graphWorkoutSummaryWeekDistanceCurrent,n=o.graphWorkoutSummaryWeekDistancePrev,l=o.graphWorkoutSummaryWeekElevationCurrent,u=o.graphWorkoutSummaryWeekElevationPrev,h=o.avgDayDistance,d=o.avgDayElevation,p=o.avgDayDuration,m=o.avgDaySpeedAvg,b=o.avgDayLoadIndex,f=o.avgDayAvgDogs,g=o.avgDayAvgImages,O=o.avgDaySledWeight,v=o.avgDayRest,j=o.avgDayRating,y=o.avgDayTemperature,w=o.user.settings,k=void 0===w?{}:w,x=e.workoutPlanStore.graphPlanWeekDistanceCurrent,S=(new Date).getMonth()+1,D=(new Date).getFullYear(),T=this.props,P=T.isLoading,I=T.week,L=T.distance,C=T.duration,_=T.rest,W=T.ascend,R=T.plan,A=T.speedAvg,M=T.loadIndex,E=T.avgDogs,F=T.avgImages,U=T.sledWeight,z=T.rating,Y=T.temperature,B=T.year,V=void 0===B?D:B,N=T.month,H=T.showExtra,K=void 0!==H&&H,q=parseInt((void 0===N?S:N)<8?V-1:V,10),G=a.a.weekRange(q+"-08-01",q+1+"-07-31"),X=a.a.dayRange(q+"-08-01",q+1+"-07-31"),Z=G.map((function(t){return t.week})),J=Math.floor(Z.length/5),Q=[],$=0,tt=Z.length;$<tt;$+=J)Q.push(Z[$]);for(var et=X.map((function(t){return t.day+"."+t.month})),ot=Math.floor(et.length/5),rt=[],st=0,at=et.length;st<at;st+=ot)rt.push(et[st]);return Object(s.h)(t,null,Object(s.h)("div",{class:"w-100 mt-3 mb-4 border-top pt-5"},Object(s.h)("h5",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.total-distance"},"Total distance")),Object(s.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return I+" "+t},xTicks:Q,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[r,n,x],legendLeft:[q+" "+L,q-1+" "+L,q+" "+R],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:k.imperial?"mi":"km",unitLeft:k.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[l,u],legendRight:[q+" "+W,q-1+" "+W],showYTicksRight:1,yTicksRightPostfix:k.imperial?"ft":"m",unitRight:k.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!P&&r&&r.length<3&&Object(s.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(s.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(s.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(s.h)("i",{class:"fas fa-paw"})),Object(s.h)("small",null,Object(s.h)(i.c,{id:"workout.graph.too-little-data"},"Foreløpig er det litt lite data for å kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger så vil dette bli en fin tabell og graf som viser progresjonen din.")))),K&&Object(s.h)(t,null,Object(s.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(s.h)("h5",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.avg-rating"},"Average rating/day")),Object(s.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:rt,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[j],legendLeft:[q+" "+z],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[y],legendRight:[q+" "+Y],showYTicksRight:1,yTicksRightPostfix:k.imperial?"°F":"°C",avgWindowRight:[0,0],smoothRight:[0,0]})),Object(s.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(s.h)("h5",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.avg-distance"},"Average distance/day")),Object(s.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:rt,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[h],legendLeft:[q+" "+L],showYTicksLeft:1,yTicksLeftPostfix:k.imperial?"mi":"km",unitLeft:k.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[d],legendRight:[q+" "+W],showYTicksRight:1,yTicksRightPostfix:k.imperial?"ft":"m",unitRight:k.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[0,0]})),Object(s.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(s.h)("h5",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.avg-duration"},"Average duration/day")),Object(s.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:rt,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:[p],legendLeft:[q+" "+C],yTicksLeftVal:function(t){return""+a.a.secToHms(t)},showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[v],legendRight:[q+" "+_],showYTicksRight:1,yTicksRightVal:function(t){return""+a.a.secToHms(t)},avgWindowRight:[0,0],smoothRight:[0,0]})),Object(s.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(s.h)("h5",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.avg-speed"},"Average speed/day")),Object(s.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:rt,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[m],legendLeft:[q+" "+A],showYTicksLeft:1,yTicksLeftPostfix:k.imperial?"mph":"km/t",unitLeft:k.imperial?["mph","mph","mph"]:["km/t","km/t","km/t"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[b],legendRight:[q+" "+M],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]})),Object(s.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(s.h)("h5",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.avg-dogs"},"Average dogs/day")),Object(s.h)(c.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:function(t){return""+t},xTicks:rt,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[f,g],legendLeft:[q+" "+E,q+" "+F],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[O],legendRight:[q+" "+U],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]}))))},o}(s.Component))||r)||r;e.a=l}).call(this,o("hosL").Fragment)},ZQlJ:function(t,e,o){"use strict";var r,s=o("hosL"),a=(o("Utv1"),o("/eY4")),n=(o("OhSV"),o("NDEG")),i=Object(a.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).scrollImages=function(t){var e=t.target,r=e.scrollLeft/e.clientWidth,s=Math.round(r),a=Math.abs(s-r);(Number.isInteger(r)||a<.1)&&o.setState({imageIdx:s})},o.sortByName=function(t,e){var r=o.props.allDogs,s=void 0===r?[]:r,a=s.find((function(e){return e.id===t})),n=s.find((function(t){return t.id===e}));return a&&n&&a.name>n.name?1:-1},o.state={imageIdx:0},o}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this,e=this.props,o=e.dogs,r=e.allDogs,a=void 0===r?[]:r,i=e.size,c=void 0===i?"medium":i,l=e.onDogClick,u=void 0===l?function(){}:l;return Object(s.h)("div",{class:"w-100"},Object(s.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},o&&o.sort(this.sortByName).map((function(e){var r=a.find((function(t){return t.id===e}));return r?Object(s.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(s.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(s.h)(n.a,{stores:t.props.stores,dog:r,dogs:a.filter((function(t){return o.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:c,onDogClick:u}))):""}))))},e}(s.Component))||r;e.a=i},azdc:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=(o("nHdA"),o("irB3")),l=(o("UwwE"),o("8Lgr")),u=(o("QkTp"),o("ZOvn")),h=Object(i.d)((function(){return{week:Object(s.h)(i.c,{id:"workout.graph.week"}),distance:Object(s.h)(i.c,{id:"workout.graph.distance"}),ascend:Object(s.h)(i.c,{id:"workout.graph.ascend"}),plan:Object(s.h)(i.c,{id:"workout.graph.plan"})}}))(r=Object(n.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){for(var e=this,o=this.props.stores.userStore,r=(new Date).getMonth()+1,n=(new Date).getFullYear(),h=this.props,d=h.year,p=void 0===d?n:d,m=h.month,b=h.showHeader,f=void 0===b||b,g=parseInt((void 0===m?r:m)<8?p-1:p,10),O=o.user.language,v=u.a.getMonths(void 0===O?"en":O),j=a.a.monthRange(g+"-08-01",g+1+"-07-31"),y=a.a.monthRange(g-1+"-08-01",g+"-07-31"),w=a.a.weekRange(g+"-08-01",g+1+"-07-31").map((function(t){return t.week})),k=Math.floor(w.length/(w.length%6)),x=[],S=0,D=w.length;S<D;S+=k)x.push(w[S]);return Object(s.h)(t,null,f&&Object(s.h)("h5",null,Object(s.h)(i.c,{id:"workout.graph.title"},"Treningsstatistikk")," ",g," - ",g+1),Object(s.h)("div",{class:"w-100 mt-3 mb-4"},Object(s.h)("div",{class:"table-responsive-lg"},Object(s.h)("table",{class:"table table-sm table-striped font-weigth-lighter border-bottom"},Object(s.h)("thead",null,Object(s.h)("tr",null,Object(s.h)("th",{class:"text-center"},Object(s.h)(i.c,{id:"workout.graph.season"},"Sesong")),j.map((function(t){return Object(s.h)("th",{class:"text-center"},Object(s.h)("a",{href:"/workouts/month/"+t.month+"/"+t.year},v[t.month-1]))})))),Object(s.h)("tbody",null,Object(s.h)("tr",null,Object(s.h)("th",{scope:"row",style:"padding: .15rem;"},Object(s.h)("nobr",null,g-1," - ",g)),y.map((function(r){return Object(s.h)(t,null,Object(s.h)("td",{class:"text-right px-3"},Object(s.h)("nobr",null,Object(s.h)(l.a,{stores:e.props.stores,value:o.findWorkoutSummaryMonth(r.year,r.month),smallUnit:!0})),Object(s.h)("br",null),Object(s.h)("nobr",null,Object(s.h)(c.a,{stores:e.props.stores,value:o.findWorkoutSummaryMonth(r.year,r.month,"elevation"),smallUnit:!0})),Object(s.h)("br",null)))}))),Object(s.h)("tr",null,Object(s.h)("th",{scope:"row",style:"padding: .15rem;"},Object(s.h)("nobr",null,g," - ",g+1)),j.map((function(r){return Object(s.h)(t,null,Object(s.h)("td",{class:"text-right px-3"},Object(s.h)("nobr",null,Object(s.h)(l.a,{stores:e.props.stores,value:o.findWorkoutSummaryMonth(r.year,r.month),smallUnit:!0})),Object(s.h)("br",null),Object(s.h)("nobr",null,Object(s.h)(c.a,{stores:e.props.stores,value:o.findWorkoutSummaryMonth(r.year,r.month,"elevation"),smallUnit:!0})),Object(s.h)("br",null)))}))))))))},o}(s.Component))||r)||r;e.a=h}).call(this,o("hosL").Fragment)},bUJL:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=o("nHdA"),l=o("irB3"),u=(o("UwwE"),o("8Lgr")),h=(o("QkTp"),Object(n.a)(r=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).toggleDate=function(e){e.stopPropagation(),e.preventDefault(),t.setState({showDate:!t.state.showDate})},t.ignoreStravaWorkout=function(e){return new Promise((function(o,r){return e.stopPropagation(),Promise.resolve(t.props.stores.stravaActivityStore.ignoreWorkout(e.target.parentElement.dataset.id||e.target.dataset.id)).then((function(){try{return t.loadStravaActivities(),o()}catch(t){return r(t)}}),r)}))},t.importStravaWorkout=function(e){return new Promise((function(o,r){var s;return e.stopPropagation(),s=t.props.stores,Promise.resolve(s.stravaActivityStore.importWorkout(e.target.parentElement.dataset.id||e.target.dataset.id,s.workoutStore.currentTeam)).then((function(){try{return t.loadStravaActivities(),t.loadWorkouts(),o()}catch(t){return r(t)}}),r)}))},t.loadWorkouts=function(){return new Promise((function(e,o){var r;return r=t.props.stores.workoutStore,Promise.resolve(r.load({query:{team:r.currentTeam}})).then((function(){try{return e()}catch(t){return o(t)}}),o)}))},t.toggleDetail=function(){var e=t.state.showDetail;t.setState({showDetail:!(void 0!==e&&e)})},t}var r,n;n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var h=o.prototype;return h.loadStravaActivities=function(){return new Promise(function(t){return this.props.stores.stravaActivityStore.load({query:{hideImported:1}}),t()}.bind(this))},h.componentDidMount=function(){this.loadStravaActivities()},h.render=function(){var e=this,o=this.state,r=o.showDate,n=o.showDetail,h=void 0!==n&&n,d=this.props,p=d.activities,m=d.showDate,b=this.props.stores,f=b.userStore,g=f.findTeam(b.workoutStore.currentTeam||f.team.id);return h?Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 mb-3"},Object(s.h)("div",{class:"row"},p&&p.length>0&&Object(s.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(s.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(s.h)("i",{class:"fas fa-caret-up"})," ",Object(s.h)(i.c,{id:"strava.hide-list"},"Hide list")),Object(s.h)("h5",null,Object(s.h)(i.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",p.length),p&&p.map((function(o){var n=o.summary;a.a.parseInputDate((void 0===n?{}:n).startTimeInSeconds);return Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(s.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/strava-icon.png"); border-width: 3px !important;'}," "),Object(s.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(s.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},o.name),o.type,Object(s.h)("br",null),Object(s.h)("small",{class:"text-muted"},o.start_date&&Object(s.h)("small",{onClick:e.toggleDate},m||r?a.a.formatDate(o.start_date,{locale:"no-NB"}):a.a.formatDistance(o.start_date,new Date,{locale:"no-NB"})),Object(s.h)("span",{class:"text-muted"},Object(s.h)("i",{class:"fas fa-road ml-2"})," ",Object(s.h)(u.a,{stores:e.props.stores,value:o.distance/1e3}),Object(s.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(s.h)(l.a,{stores:e.props.stores,value:o.total_elevation_gain}),Object(s.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(s.h)(c.a,{stores:e.props.stores,value:3.6*o.average_speed}),Object(s.h)("i",{class:"fas fa-stopwatch ml-2"})," ",a.a.secToHms(o.elapsed_time))),Object(s.h)("br",null),Object(s.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:e.importStravaWorkout,"data-id":o.id},Object(s.h)("i",{class:"fas fa-file-import"})," ",Object(s.h)(i.c,{id:"strava.import"},"Import workout")," ",Object(s.h)("i",{class:"fas fa-arrow-right"})," ",g),Object(s.h)("button",{class:"btn btn-sm btn-link",onClick:e.ignoreStravaWorkout,"data-id":o.id},Object(s.h)("i",{class:"fas fa-trash-alt"})," ",Object(s.h)(i.c,{id:"strava.ignore"},"Ignore workout")))))})),Object(s.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(s.h)("i",{class:"fas fa-caret-up"})," ",Object(s.h)(i.c,{id:"strava.hide-list"},"Hide list")))))):p&&p.length>0?Object(s.h)(t,null,Object(s.h)("div",{class:"col-12 mb-3"},Object(s.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(s.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),Object(s.h)(i.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",p.length))):Object(s.h)(t,null)},o}(s.Component))||r);e.a=h}).call(this,o("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},epqT:function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,n=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),u=(o("ZOvn"),{showAddComment:!1}),h=Object(l.d)((function(){return{subject:Object(n.h)(l.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(n.h)(l.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}}))(a=Object(c.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).logClick=function(){return new Promise((function(t,e){var r,s,a,n,i;return n=void 0===(a=(s=(r=o.props.stores).adStore).ads)?[]:a,i=r.userStore.user,Promise.resolve(s.logClick({id:n.length>0?n[0].id:null,user:(void 0===i?{}:i).id})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},u),o.updateTimer={},o.inputRef={},o.apiServer=i.a.getApiServer(),o}var a,c;c=e,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c;var h=o.prototype;return h.loadAd=function(t){return new Promise(function(e,o){var r,s,a,n,i,c,l,u,h,d,p;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),s=(r=this.props.stores).adStore,n=this.props.section,c=void 0===(i=r.appState.path)?"":i,h=void 0===(u=(a=r.userStore).user.language)?"en":u,d={},(l=r.workoutStore.currentTeam)&&(d=a.findTeam(l,!0))&&d.id&&(a.findTeamAmbition({ambition:d.ambitions,language:h}),a.findTeamType({type:d.type,language:h}),d.postalcode,d.place,d.country),c.replace(/\d+$/,"detail"),p=c.replace(/\/\d+/,"/detail"),Promise.resolve(s.load({query:{page:p,section:n}})).then(function(){try{return s.setTime(),this.setState({isLoading:!1}),e()}catch(t){return o(t)}}.bind(this),o)}.bind(this))},h.componentDidMount=function(){this.loadAd()},h.componentWillReceiveProps=function(t){t.path!==this.props.path&&this.loadAd(t)},h.render=function(){var e=this.props.stores,o=e.adStore,r=this.props,s=r.subject,a=r.body,i=r.section,c=e.appState.path,u=e.userStore.user,h=void 0===u?{}:u,d=o.ads,p=void 0===d?[]:d,m=o.time;if(!h||!h.id||!p||0===p.length)return c.match(/\/(home)/i)?Object(n.h)(t,null,Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"border rounded-lg p-4 my-3"},Object(n.h)("span",{class:"float-right display-4 text-warning"},Object(n.h)("i",{class:"far fa-smile-wink"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(n.h)("div",null,Object(n.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(n.h)(l.b,null,Object(n.h)("a",{href:"mailto:post@themusher.no?subject="+s+": "+c+": "+i+"&body="+a,target:"_blank",rel:"noreferrer"},Object(n.h)("i",{class:"fas fa-paper-plane"})," ",Object(n.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(n.h)(t,null);var b=p[0];return Object(n.h)(t,null,Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",null,Object(n.h)("small",null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(n.h)("img",{src:this.apiServer+"/api/ads/"+b.id+"/view?user="+h.id+"&time="+m,style:"width: 1; height: 1; opacity: 0.1;"})))),b.target?Object(n.h)(t,null,Object(n.h)("a",{class:"stretched-link",href:""+b.url,target:b.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},b.images&&b.images[0]&&Object(n.h)(t,null,Object(n.h)("img",{src:b.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(n.h)(t,null,Object(n.h)("a",{class:"stretched-link",href:""+b.url,onClick:this.logClick},b.images&&b.images[0]&&Object(n.h)(t,null,Object(n.h)("img",{src:b.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))},o}(n.Component))||a)||a;e.a=h}).call(this,o("hosL").Fragment)},irB3:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=(o("OhSV"),o("ZOvn"),Object(n.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,n=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(function(t){return 3.28084*t}(r),0)," ",n?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(s.h)(t,null,"ft"))):Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(r,0)," ",n?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},"m")))):Object(s.h)(t,null,"m")))},o}(s.Component))||r);e.a=i}).call(this,o("hosL").Fragment)},nHdA:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=(o("ZOvn"),Object(n.a)(r=function(e){function o(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this.props,o=e.value,r=void 0===o?0:o,n=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(function(t){return.621371*t}(r),1)," ",n?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},Object(s.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(s.h)(t,null,Object(s.h)(i.c,{id:"workouts.mph"},"mph")))):Object(s.h)(t,null,Object(s.h)("nobr",null,a.a.format(r,1)," ",n?Object(s.h)(t,null,Object(s.h)("small",null,Object(s.h)("small",null,Object(s.h)("small",{class:"ml-0 text-muted"},Object(s.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(s.h)(t,null,Object(s.h)(i.c,{id:"workouts.kmt"},"km/t"))))},o}(s.Component))||r);e.a=c}).call(this,o("hosL").Fragment)},om2D:function(t,e,o){"use strict";var r,s=o("hosL"),a=o("/eY4"),n=(o("cneo"),o("Utv1"),o("u2zT")),i=Object(a.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).handleAddImage=function(t){var e=o.props.addToImages,r=void 0===e||e,s=o.props,a=s.updateField,n=s.object,i=s.field;if(i&&a({id:n.id,field:i,value:t,skipTimer:!0}),r){var c=[];c.push(t),a({id:n.id,field:"images",value:c,skipTimer:!0})}},o.state={files:[]},o}var o,r;return r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,o=void 0===e?function(){}:e,r=t.before,a=void 0===r?function(){}:r,i=t.after,c=void 0===i?function(){}:i,l=t.autoOpen,u=void 0===l||l;return Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12"},Object(s.h)(n.a,{handleAddImage:this.handleAddImage,uploadStatus:o,apiUrl:"/api/fileupload",before:a,after:c,autoOpen:u},Object(s.h)("div",{style:{height:30,width:"100%"}}))))},e}(s.Component))||r;e.a=i},pJjI:function(t,e,o){"use strict";(function(t){var r,s=o("hosL"),a=o("Utv1"),n=o("/eY4"),i=o("OhSV"),c=(o("/DnB"),Object(n.a)(r=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).toggleTeam=function(e){var o=t.props,r=o.callback,s=o.unsetTeamIfSelected,n=t.props.stores,i=n.dogStore,c=n.workoutStore;(void 0===s||s)&&e===i.currentTeam?(i.setCurrentTeam(void 0),c.setCurrentTeam(void 0)):(i.setCurrentTeam(e),c.setCurrentTeam(e)),a.a.isDefined(r)&&r()},t.showAllTeams=function(){var e=t.props.callback,o=t.props.stores,r=o.workoutStore;o.dogStore.setCurrentTeam(void 0),r.setCurrentTeam(void 0),a.a.isDefined(e)&&e()},t}var r,n;return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.render=function(){var e=this,o=this.props.stores,r=o.userStore.teams,a=o.dogStore.currentTeam,n=this.props,c=n.highlight,l=n.showAll,u=void 0===l||l;return Object(s.h)("div",{class:"row mt-2"},Object(s.h)("div",{class:"w-100 overflow-hidden"},Object(s.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;"},r&&r.map((function(o,n){var i;return 1===r.length?i="rounded-pill-both":0===n?i="rounded-pill-left":n+1===r.length&&(i="rounded-pill-right"),Object(s.h)("div",{class:"col mb-0 px-0 clearfix",key:o.id},Object(s.h)("button",{class:"btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none "+i+"\n\t\t\t\t\t\t\t\t\t\t\t"+(a===o.id?"btn-success":"btn-outline-success")+"\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:function(){return e.toggleTeam(o.id)}},Object(s.h)("i",{class:"fas fa-users"})," ",o.name,c&&c.indexOf(o.id)>-1&&Object(s.h)(t,null,a===o.id?Object(s.h)(t,null,Object(s.h)("i",{class:"fas fa-check float-right"})):Object(s.h)(t,null,Object(s.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(s.h)("span",{class:"sr-only"},"Loading...")),Object(s.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))}))),u&&Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(s.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(s.h)("i",{class:"fas fa-users"})," ",Object(s.h)(i.c,{id:"teams.show-all"},"Show all"))))))},o}(s.Component))||r);e.a=c}).call(this,o("hosL").Fragment)},sqi2:function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,n=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("cneo"),u=o("OhSV"),h=o("fh8t"),d=o.n(h),p=o("3wGD"),m=(o("ETxl"),o("ZOvn")),b={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},f=Object(c.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).likeComment=function(t){return new Promise((function(e,r){var s,a,n,i,c;return a=void 0===(s=o.props.callback)?function(){}:s,n=t.target.parentElement.dataset.id||t.target.dataset.id,i=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutComment({id:i.id,commentId:n})).then((function(t){try{return(c=t)&&200===c.status&&a({type:"likeComment",workout:i,commentId:n,response:c}),e(!0)}catch(t){return r(t)}}),r)}))},o.likeReply=function(t){return new Promise((function(e,r){var s,a,n,i,c,l;return a=void 0===(s=o.props.callback)?function(){}:s,n=t.target.parentElement.dataset.id||t.target.dataset.id,i=t.target.parentElement.dataset.comment||t.target.dataset.comment,c=o.props.workout,Promise.resolve(o.props.stores.workoutStore.likeWorkoutCommentReply({id:c.id,replyId:n,commentId:i})).then((function(t){try{return(l=t)&&200===l.status&&a({type:"likeReply",workout:c,commentId:i,replyId:n,response:l}),e()}catch(t){return r(t)}}),r)}))},o.replyComment=function(t){return new Promise((function(e){var r=t.target.parentElement.dataset.id||t.target.dataset.id,s=o.state.showAddComment;return s[r]=!s[r],o.setState({showAddComment:s},(function(){o.inputRef[r]&&o.inputRef[r].focus()})),e()}))},o.toggleComments=function(){o.setState({showAllComments:!o.state.showAllComments})},o.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,r=o.state.showAllReplies;r[e]=!r[e],o.setState({showAllReplies:r})},o.viewImage=function(t){var e=t.target.closest("img").dataset,r=o.state.viewImageIdx;r[e.id]=e.idx,o.setState({viewImageIdx:r})},o.translate=function(t){return new Promise((function(e,r){function s(){return o.setState({showOriginal:m,translatedText:f}),e()}var a,n,i,c,l,u,h,d,p,m,b,f,g;return t.preventDefault(),t.stopPropagation(),a=t.target.closest("button").dataset,c=o.props.workout,u=(l=o.props.stores).teamStore,h=l.userStore.user,f=void 0===(b=(d=o.state).translatedText)?{}:b,(m=void 0===(p=d.showOriginal)?{}:p)[g=(i=a.commentid)+((n=a.replyid)?"-"+n:"")]=0,n?Promise.resolve(u.translateCommentReply({commentid:i,replyid:n,object:c,user:h})).then(function(t){try{return f[g]=t,s.call(this)}catch(t){return r(t)}}.bind(this),r):Promise.resolve(u.translateComment({commentid:i,object:c,user:h})).then(function(t){try{return f[g]=t,s.call(this)}catch(t){return r(t)}}.bind(this),r)}))},o.showOriginal=function(t){var e=t.target.closest("button").dataset,r=e.replyid,s=e.commentid;t.preventDefault(),t.stopPropagation();var a=o.state.showOriginal,n=void 0===a?{}:a;n[s+(r?"-"+r:"")]=1,o.setState({showOriginal:n})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},b),o.inputRef={},o}var a,c;return c=e,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var e,o=this,r=this.state,s=r.showAddComment,a=r.showAllComments,c=r.showAllReplies,h=r.viewImageIdx,b=r.showOriginal,f=void 0===b?{}:b,g=r.translatedText,O=void 0===g?{}:g,v=this.props,j=v.workout,y=v.callback,w=void 0===y?function(){}:y,k=v.compact,x=this.props.stores,S=x.userStore,D=x.teamStore,T=S.user,P=S.isAdmin,I=T.language,L=void 0===I?"en":I,C=[],_=0,W=0;return j.comments&&(_=j.comments.length,a?C=j.comments:(e=void 0!==k&&k?0:1,C=j.comments.slice(Math.max(_-e,0))),W=C.length),Object(n.h)("div",null,j&&C&&C.reverse().map((function(r){var a=r.user,b=void 0===a?{}:a,g=D.findPublicTeamByMembers(b.id),v=m.a.displayNameShort(b),y=m.a.displayName(b),k=b.image||(b.images?b.images[0]:void 0),x=r.likes&&r.likes.findIndex((function(t){return t.user===T.id}))>-1,S=[],I=0,C=0;r.comments&&(I=r.comments.length,C=(S=c[r.id]?r.comments:r.comments.slice(0,e)).length);var _=[];if(r.images){var W=Object(l.i)(r.images);_.push.apply(_,W)}var R=h[r.id]?h[r.id]:0,A=_&&_[R]?_[R]:null,M=r.currentLocationGeocode,E=void 0===M?{}:M,F=D.getCommentTranslations({object:j,commentid:r.id,targetLang:L})||O[r.id],U=F||r.comment;return f[r.id]&&(U=r.comment),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!b.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},v)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(n.h)("div",null,Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},y),g&&g.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},g.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(n.h)(d.a,{markdown:m.a.replaceImages(U,r.images,L),markdownOpts:m.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"container-fluid px-3 mt-1"},A&&Object(n.h)("div",{class:"clearfix row"},Object(n.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:A.s3LargeLink}))),_&&_.length>1&&Object(n.h)("div",{class:"clearfix d-flex flex-wrap row"},_.map((function(e,s){return Object(n.h)(t,null,Object(n.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:o.viewImage,"data-id":r.id,"data-idx":s})))}))))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:o.likeComment,"data-id":r.id},Object(n.h)(u.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":r.id},Object(n.h)(u.c,{id:"comments.comment-add"},"Kommentar")),r.language!==L&&Object(n.h)(t,null,"-",!f[r.id]&&F?Object(n.h)(t,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":r.id,onClick:o.showOriginal},Object(n.h)("i",{class:"fas fa-cog"}),"  ",Object(n.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(n.h)(t,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":r.id},Object(n.h)("i",{class:"fas fa-cog"})," ",Object(n.h)(u.c,{id:"home.translate-to"},"See translation")))),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(r.createdDate,new Date,{locale:"no-NB"}),r.updatedDate&&Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-light ml-2"},"(Edited ",i.a.formatDistance(r.updatedDate,new Date,{locale:"no-NB"}),")"))),P&&E&&E.formatted_address&&Object(n.h)(t,null,Object(n.h)("span",{class:"ml-2 text-muted"},Object(n.h)("i",{class:"fas fa-map-marker-alt"})," ",E.formatted_address)))),r.likes&&r.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",r.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},r&&S&&S.map((function(e){var s=e.user,a=void 0===s?{}:s,c=D.findPublicTeamByMembers(a.id),l=a.firstname?""+i.a.ucfirst(a.firstname,!0)+i.a.ucfirst(a.lastname,!0):""+i.a.ucfirst(a.email||"",!0),h=a.firstname?a.firstname+" "+a.lastname:""+a.email,p=a.image||(a.images?a.images[0]:void 0),b=e.likes&&e.likes.findIndex((function(t){return t.user===T.id}))>-1,g=D.getCommentReplyTranslations({object:j,commentid:r.id,replyid:e.id,targetLang:L})||O[r.id+"-"+e.id],v=g||e.comment;return f[r.id+"-"+e.id]&&(v=e.comment),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?'background-image: url("'+p.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!a.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},h),c&&c.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},c.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(n.h)(d.a,{markdown:m.a.replaceImages(v,e.images,L),markdownOpts:m.a.getMarkdownOptions()}))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(b?"text-primary":""),onClick:o.likeReply,"data-comment":r.id,"data-id":e.id},Object(n.h)(u.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.replyComment,"data-id":r.id},Object(n.h)(u.c,{id:"comments.comment-add"},"Kommentar")),e.language!==L&&Object(n.h)(t,null,"-",!f[r.id+"-"+e.id]&&g?Object(n.h)(t,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":r.id,"data-replyid":e.id,onClick:o.showOriginal},Object(n.h)("i",{class:"fas fa-cog"}),"  ",Object(n.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(n.h)(t,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:o.translate,"data-commentid":r.id,"data-replyid":e.id},Object(n.h)("i",{class:"fas fa-cog"})," ",Object(n.h)(u.c,{id:"home.translate-to"},"See translation")))),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},i.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),I-C>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:o.toggleReplies,"data-id":r.id},Object(n.h)(u.c,{id:"comments.show-more",fields:{more:I-C}},"Vis ",I-C," flere kommentarer...")))),s[r.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(p.a,{stores:o.props.stores,workout:j,callback:w,commentId:r.id,inputRef:function(t){return o.inputRef[r.id]=t},inputRefObject:o.inputRef})))})),_-W>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(u.c,{id:"comments.show-more",fields:{more:_-W}},"Vis ",_-W," flere kommentarer..."))),a&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(u.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},o}(n.Component))||a;e.a=f}).call(this,o("hosL").Fragment)},u2zT:function(t,e,o){"use strict";var r,s=o("hosL"),a=o("/eY4"),n=o("Utv1"),i=o("OhSV"),c=Object(a.a)(r=function(t){function e(e){var o;return(o=t.call(this,e)||this).dropRef=Object(s.createRef)(),o.handleDrag=function(t){t.preventDefault(),t.stopPropagation()},o.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),o.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&o.setState({drag:!0})},o.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),o.dragCounter--,0===o.dragCounter&&o.setState({drag:!1})},o.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),o.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(var e=0,r=t.dataTransfer.files.length;e<r;e+=1){o.readLocalFile(t.dataTransfer.files[e])}o.dragCounter=0}},o.handleAddFiles=function(t){t.preventDefault();var e=t.target;for(var r=0,s=e.files.length;r<s;r+=1){o.readLocalFile(e.files[r])}},o.handleEvent=function(){0},o.handleUpload=function(t){var e=o.props,r=e.uploadStatus,s=e.before,a=void 0===s?function(){}:s,i=e.after,c=void 0===i?function(){}:i;(void 0===r?function(){}:r)(!1),n.a.isFunction(a)&&a();var l=new FormData;l.append("files[]",t);var u={progress:1};u.xhr=new XMLHttpRequest,u.xhr.upload.addEventListener("progress",(function(e){o.updateProgress(e,t)})),u.xhr.addEventListener("loadstart",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("load",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("loadend",(function(e){var r=t;n.a.isFunction(c)&&c(),o.handleEvent(e,r)})),u.xhr.addEventListener("progress",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("error",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("abort",(function(e){o.handleEvent(e,t)})),u.xhr.addEventListener("readystatechange",(function(e){o.uploadDone(e,t)})),u.xhr.open("POST",""+n.a.getApiServer()+o.props.apiUrl),u.xhr.setRequestHeader("Authorization","Bearer "+n.a.getJwtToken()),u.xhr.send(l);var h=t.name,d=o.state.uploadedFilesData;d[h]||(d[h]={}),d[h].uploadMeta=u,d[h].imageNum=o.state.imageNum,o.setState({uploadedFilesData:d})},o.readLocalFile=function(t){return new Promise((function(e,r){var s=new FileReader;s.addEventListener("error",(function(t){r(t)})),s.addEventListener("load",(function(r){var s=t,a=s.name,n=o.state.uploadedFilesData;n[a]||(n[a]={}),n[a].event=r,o.setState({uploadedFilesData:n}),o.handleUpload(s),e(r)})),s.readAsDataURL(t)}))},o.updateProgress=function(t,e){if(t.lengthComputable){var r=e.name,s=o.state.uploadedFilesData,a=t.loaded/t.total*100;0,s[r].uploadMeta.progress=a,o.setState({uploadedFilesData:s})}},o.uploadDone=function(t,e){var r=e.name,s=o.state.uploadedFilesData,a=s[r].uploadMeta;if(a&&4===a.xhr.readyState&&201===a.xhr.status)for(var n=JSON.parse(a.xhr.responseText).data.files,i=0;i<n.length;i+=1){o.addFileToUpload(n[i]),o.fileInput.value=""}},o.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},o}var o,r;r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var a=e.prototype;return a.addFileToUpload=function(t){var e=this.state.uploadedFilesData,o=this.props,r=o.handleAddImage,s=o.uploadStatus,a=void 0===s?function(){}:s;delete e[t.name],this.setState({uploadedFilesData:e}),r(t),a(!0)},a.componentDidMount=function(){var t=this,e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){t.fileInput.click()}),10)},a.componentWillUnmount=function(){var t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)},a.render=function(){var t=this,e=this.state.uploadedFilesData;return Object(s.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(s.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(s.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(s.h)("div",null,Object(s.h)(i.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(s.h)("div",null,Object(s.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(e){t.fileInput=e}})),Object(s.h)("div",null,Object.keys(e).length>0?Object(s.h)("h3",null,Object(s.h)(i.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(s.h)("ul",{class:"list-group"},Object.keys(e).map((function(t){var o=e[t].uploadMeta,r=void 0===o?{}:o,a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(s.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(s.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(s.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(s.h)("small",null,e[t].event.uploadDone),Object(s.h)(i.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(s.h)("small",null,n.a.formatBytes(e[t].event.total,2))),Object(s.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(s.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+r.progress+"%; height: 4px;","aria-valuenow":r.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},e}(s.Component))||r;e.a=c},"vY+r":function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,n=o("hosL"),i=o("Utv1"),c=o("/eY4"),l=o("OhSV"),u=o("ZOvn"),h={},d=Object(c.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleViews=function(){var t=o.props;(t.isTeamAdmin||t.isAdmin)&&o.setState({showViewList:!o.state.showViewList})},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),o}var a,c;return c=e,(a=o).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,o.prototype.render=function(){var e=this.state.showViewList,o=this.props.stores,r=o.storyStore,s=o.teamStore,a=o.workoutStore,c=this.props,h=c.views,d=c.type,p=void 0===d?"story":d,m=c.onTeamClick,b=void 0===m?function(){}:m,f=[];Object.entries(c.object.statistics).forEach((function(t){Object.entries(t[1]).forEach((function(t){var e=t[1];e.viewUsers&&f.push(e.viewUsers)}))}));var g=f.flat().slice(0,50);return Object(n.h)(t,null,Object(n.h)("div",{class:"d-flex justify-content-end mb-2"},Object(n.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},h," ",Object(n.h)(l.c,{id:"story.views"},"views"))),e&&Object(n.h)("div",{class:"mt-3 mb-3"},g&&g.map((function(e){var o,c,l;if("story"===p?(o=r.findPublicUser(e),c=r.findPublicTeamByMembers(e)):"team"===p?(o=s.findPublicUser(e),c=s.findPublicTeamByMembers(e)):"workout"===p&&(o=a.findPublicUser(e),c=a.findPublicTeamByMembers(e)),!o)return"";i.a.isArray(c)&&(l=c.find((function(t){return 1===t.public})));var h=u.a.getImage({user:o,team:l,priority:"user"}),d=u.a.displayNameShort(o),m=u.a.displayName(o,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(t){return b(t,l.uuidv4)},class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},d))),Object(n.h)("div",{class:"ml-2 "},m," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(n.h)(t,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},d)),Object(n.h)("div",{class:"ml-2"},m)))})),h>g.length&&Object(n.h)(t,null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},o}(n.Component))||a;e.a=d}).call(this,o("hosL").Fragment)},wanP:function(t,e,o){"use strict";(function(t){function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a,n=o("hosL"),i=(o("Utv1"),o("/eY4")),c=o("eK6s"),l=o.n(c),u={mouseData:{}},h=Object(i.a)(a=function(e){function o(t){var o;return(o=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},u),o.svgRef=null,o}var a,i;return i=e,(a=o).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,o.prototype.render=function(){var e=this,o=this.props,r=o.radius,s=void 0===r?50:r,a=o.heightAdd,i=void 0===a?0:a,c=o.color,u=void 0===c?"success":c,h=o.showPercentText,d=void 0===h||h,p=o.percent,m=void 0===p?0:p,b=o.prefix,f=void 0===b?"":b,g=o.showCenterText,O=void 0!==g&&g,v=o.centerText,j=o.centerTextSize,y=o.centerTextX,w=o.centerTextY,k=o.total,x=void 0===k?"":k,S=o.totalY,D=void 0===S?"90%":S,T=o.totalX,P=void 0===T?"50%":T,I=o.totalTextAnchor,L=void 0===I?"middle":I,C=o.completed,_=void 0===C?"":C,W=o.completedY,R=void 0===W?"65%":W,A=o.completedX,M=void 0===A?"50%":A,E=o.completedTextAnchor,F=void 0===E?"middle":E,U=.3*s,z=s-U/2,Y=.3*s,B=2*z*Math.PI,V=.75*B,N=V+" "+B,H="rotate(135, "+s+", "+s+")",K=V-Math.min(Math.max(m,0),100)/100*V,q=j||s/2.5,G=s/5;return Object(n.h)(t,null,Object(n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*s,height:2*s+i,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(n.h)("circle",{class:""+l.a.gaugeBackground,cx:s,cy:s,r:z,strokeWidth:U,strokeDasharray:N,strokeLinecap:"round",transform:H}),Object(n.h)("circle",{class:l.a[u]+" "+l.a.gauge,cx:s,cy:s,r:z,stroke:"url(#grad)",strokeDasharray:N,strokeDashoffset:K,strokeLinecap:"round",strokeWidth:Y,style:{transition:"stroke-dashoffset 0.3s"},transform:H}),d&&Object(n.h)("text",{class:l.a.gaugeText+" "+l.a[u],x:y||"50%",y:w||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":q},m," ",f),O&&Object(n.h)("text",{class:l.a.gaugeText+" "+l.a[u],x:y||"50%",y:w||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":q},v),_&&Object(n.h)("text",{class:l.a.gaugeText+" "+l.a[u],x:M,y:R,"dominant-baseline":"middle","text-anchor":F,"font-size":G},_),Object(n.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:P,y:D,"dominant-baseline":"middle","text-anchor":L,"font-size":G},x)))},o}(n.Component))||a;e.a=h}).call(this,o("hosL").Fragment)},yHBq:function(t,e,o){"use strict";(function(t){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t}).apply(this,arguments)}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var a,n,i=o("hosL"),c=o("/eY4"),l=o("Utv1"),u=Object(c.a)(a=function(t){function e(e){var o;return(o=t.call(this,e)||this).state={},o.containerRef=null,o}s(e,t);var o=e.prototype;return o.componentWillUnmount=function(){var t=this.props.removeIntersectionObserver;t&&t(this.containerRef)},o.componentDidMount=function(){var t=this.props.addIntersectionObserver;t&&t(this.containerRef)},o.render=function(){var t=this,e=this.props,o=e.wrapperClassNames,s=void 0===o?"":o,a=e.contentClassNames,n=void 0===a?"":a,c=e.renderContent,l=e.obj,u=void 0===l?{}:l,h=e.idx,d=e.dataFields,p=e.dataValues,m=e.sessionid,b={};return m&&(b.sessionid=m),d.forEach((function(t){return b["data-"+t]=encodeURI(p[t]||u[t])})),Object(i.h)("div",r({class:""+s,ref:function(e){return t.containerRef=e},"data-idx":h},b),Object(i.h)("div",{class:""+n,style:"display: block;"},c({obj:u,idx:h})))},e}(i.Component))||a,h=Object(c.a)(n=function(e){function o(t){var o;return(o=e.call(this,t)||this).deleteIntersectionObserver=function(){o.intersectionObserver=null},o.handleIntersection=function(t){var e=o.props.handleIntersection;"function"==typeof e&&e(t),t.forEach((function(t){var e=t.isIntersecting,o=t.target.dataset.height,r=void 0===o?0:o,s=Math.max(t.target.childNodes[0].offsetHeight,t.target.offsetHeight,t.target.scrollHeight);e?(t.target.childNodes[0].style.display="block",t.target.style.minHeight=(s>r?s:r)+"px"):t.target.style.minHeight&&(t.target.style.minHeight=(s>r?s:r)+"px",t.target.childNodes[0].style.display="none")}))},o.setupIntersectionObserver=function(){if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;o.intersectionObserver=new IntersectionObserver(o.handleIntersection,{root:null,rootMargin:"100px",threshold:.1})},o.addIntersectionObserver=function(t){o.intersectionObserver&&t&&o.intersectionObserver.observe(t)},o.removeIntersectionObserver=function(t){o.intersectionObserver&&t&&o.intersectionObserver.unobserve(t)},o.state={},o}s(o,e);var r=o.prototype;return r.componentWillMount=function(){this.setupIntersectionObserver()},r.componentWillUnmount=function(){this.deleteIntersectionObserver()},r.render=function(){var e=this,o=this.props,r=o.data,s=void 0===r?[]:r,a=o.wrapperClassNames,n=void 0===a?"row pb-4 bg-light":a,c=o.contentClassNames,h=void 0===c?"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 shadow-sm":c,d=o.renderContent,p=void 0===d?function(){return Object(i.h)(t,null,"Missing render function!")}:d,m=o.dataFields,b=void 0===m?[]:m,f=o.dataValues,g=void 0===f?{}:f;return Object(i.h)("div",{class:"w-100"},s&&s.filter((function(t){return l.a.isObject(t)})).map((function(o,r){var s=o.hasOwnProperty("wrapperClassNames")?o.wrapperClassNames:n,a=o.hasOwnProperty("contentClassNames")?o.contentClassNames:h;return Object(i.h)(t,null,Object(i.h)(u,{key:"fastline-"+r+"-"+o.id,obj:o,idx:r,addIntersectionObserver:e.addIntersectionObserver,removeIntersectionObserver:e.removeIntersectionObserver,wrapperClassNames:s,contentClassNames:a,renderContent:p,dataFields:b,dataValues:g}))})))},o}(i.Component))||n;e.a=h}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=route-workouts.chunk.61825.js.map