(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{AEg1:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),u=s("go65"),h=s("om2D"),d=s("ZOvn"),p={showAddImage:!1,showTeamChange:!1,showChangeVisibility:!1,showChangeType:!1,sendButtonEnabled:!0},b=Object(i.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).beforeImagesUploaded=function(){s.setState({sendButtonEnabled:!1})},s.afterImagesUploaded=function(){s.setState({sendButtonEnabled:!0})},s.addStory=function(){return new Promise((function(t,e){var o,r,n,a,c,i,l,u,h,p,b,m,f,g,O;return n=void 0===(r=(o=s.state).story)?{}:r,a=o.showAddImage,l=void 0===(i=(c=s.props).callback)?function(){}:i,h=void 0===(u=c.hashTags)?[]:u,p=c.postfix,m=void 0===(b=c.topic)?"team-"+n.team:b,f=s.props.stores.storyStore,o.sendButtonEnabled&&n.body?(s.setState({sendButtonEnabled:!1}),g=n.body,p&&(g+="\n\n"+p),h&&h.length>0&&(g+="\n\n"+h.map((function(t){return"#"+t})).join(" ")),Promise.resolve(f.insert({type:n.type,title:n.title,body:g,pinned:n.pinned,images:n.images,public:n.public?1:0,team:n.team,urlText:n.urlText,url:n.url,currency:n.currency,price:n.price,code:n.code,country:n.country,region:n.region,startDate:n.startDate,endDate:n.endDate,topic:m})).then(function(o){try{if((O=o)&&201===O.status)return Promise.resolve(f.loadPublicFeed({hashtags:h})).then(function(){try{return s.setState({story:{type:1,title:"",body:"",pinned:null,images:[],public:1,urlText:"",url:"",currency:"",price:null,code:"",country:"",region:"",startDate:null,endDate:null}},(function(){d.a.resizeTextarea(s.inputRef.newStoryBody),a&&s.addImage()})),l(O.data),r.call(this)}catch(t){return e(t)}}.bind(this),e);function r(){return s.setState({sendButtonEnabled:!0}),t()}return r.call(this)}catch(t){return e(t)}}.bind(this),e)):t(!1)}))},s.addImages=function(t){var e,o=s.state.story;(e=o.images).push.apply(e,t.value),s.setState({story:o})},s.removeImage=function(t){return new Promise((function(e){var o=s.state.story,r=t.target.parentElement.dataset.name||t.target.dataset.name;if(c.a.isArray(o.images)){var n=o.images.findIndex((function(t){return t.name===r}));n>-1&&o.images.splice(n,1)}return s.setState({story:o}),e()}))},s.addImage=function(){s.setState({showAddImage:!s.state.showAddImage})},s.changeVisibility=function(){s.setState({showChangeVisibility:!s.state.showChangeVisibility})},s.changePinned=function(){s.setState({showChangeVisibility:!s.state.showChangeVisibility})},s.changeType=function(){s.setState({showChangeType:!s.state.showChangeType})},s.toggleTeamChange=function(){s.setState({showTeamChange:!s.state.showTeamChange})},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.setPublicTeam=function(){var t=s.props.stores.userStore.findPublicTeams();if(c.a.isArray(t)&&t.length>0){var e=s.state.story;e.team=t[0].id,s.setState({story:e})}},s.setFocus=function(t){s.setState({hasFocus:!0}),d.a.resizeTextarea(t.target)},s.removeFocus=function(){s.setState({hasFocus:!1})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({story:{type:1,title:"",body:"",images:[],public:1,urlText:"",url:"",currency:"",price:0,code:"",country:"",region:"",startDate:"",endDate:""}},p),s.inputRef={},s}var n,i;i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var b=s.prototype;return b.componentDidMount=function(){this.setPublicTeam()},b.render=function(){var e=this,s=this.props,o=s.col,r=void 0===o?12:o,n=s.offset,i=void 0===n?0:n,p=s.hashTags,b=void 0===p?[]:p,m=this.state,f=m.story,g=void 0===f?{}:f,O=m.showAddImage,j=m.showTeamChange,y=m.showChangeVisibility,v=m.showChangeType,w=m.sendButtonEnabled,x=m.hasFocus,S=this.props.stores,C=S.userStore,P=S.appState,_=C.user,k=void 0===_?{}:_,T=C.isAdmin,I=k.firstname?""+c.a.ucfirst(k.firstname,!0)+c.a.ucfirst(k.lastname,!0):""+c.a.ucfirst(k.email||"",!0),N=k.image||(k.images?k.images[0]:void 0);if(g.team){var F=parseInt(g.team,10),D=C.findTeam(F,!0);N=D.image||(D.images?D.images[0]:void 0)}var V=P.darkmode;return Object(a.h)("div",{class:"w-100 px-0"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-"+r+" offset-"+i+" col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 rounded rounded-lg pt-3 pb-1 bg-"+(V?"black":"white")+" shadow-sm mb-1"},Object(a.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(a.h)("div",{class:"position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall pointerCursor",style:(N?"background-image: url('"+N.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;",onClick:this.toggleTeamChange},!N&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},I)),Object(a.h)("div",{class:"position-absolute",style:"top: 16px; right: 0px;"},Object(a.h)("small",{class:"text-white",style:"font-size: 1.5em;"},Object(a.h)("i",{class:"fas fa-caret-down pointerCursor",onClick:this.toggleTeamChange})))),Object(a.h)("div",{class:"col pl-3 pr-0",style:"line-height: 1.2em;"},Object(a.h)("div",{class:"d-flex bd-highlight"},Object(a.h)("div",{class:"p-0 w-100 bd-highlight"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(l.c,{id:"story.body"},"Story")),Object(a.h)("div",{class:"border rounded rounded-lg position-relative"},Object(a.h)(l.b,null,Object(a.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(a.h)(l.c,{id:"story.write-body"},"Hva tenker du pÃ¥?.."),onInput:Object(u.a)(this,"story.body"),onKeyUp:d.a.resizeTextarea,onFocus:this.setFocus,style:"height: 2.3em;",value:g.body,ref:function(t){return e.inputRef.newStoryBody=t}})),x&&Object(a.h)("div",{class:"position-absolute",style:"bottom: 8px; right: 10px; font-size: 1.2em;"},Object(a.h)("i",{class:"fas fa-image pointerCursor","data-id":g.id,onClick:this.addImage}),Object(a.h)("i",{class:"fas fa-"+(1===g.public?"globe-europe":"users")+" pointerCursor ml-2","data-id":g.id,onClick:this.changeVisibility}),T&&Object(a.h)("i",{class:"fas fa-cog pointerCursor ml-2","data-id":g.id,onClick:this.changeType}))),b&&b.length>0&&Object(a.h)(t,null,b.map((function(e){return Object(a.h)(t,null,Object(a.h)("span",{class:"badge badge-secondary mr-2 my-1"},Object(a.h)("a",{href:"/stories/tag/"+e,class:"text-white"},"#",e)))})))),Object(a.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight pt-auto"},Object(a.h)("button",{type:"button",class:"btn btn-"+(w?"primary":"secondary")+" ml-1",disabled:!w,onClick:this.addStory},Object(a.h)("i",{class:"fas fa-paper-plane"})))))),Object(a.h)("div",null,Object(a.h)("div",{class:"row"},j&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(u.a)(this,"story.team"),onChange:this.toggleTeamChange},Object(a.h)("option",{value:""},"-- ",Object(a.h)(l.c,{id:"story.team-choose"},"Velg team")," --"),c.a.isArray(k.teams)&&k.teams.map((function(t){var e=C.findTeam(t,!0);return e&&e.public?Object(a.h)("option",{value:e.id,selected:g.team==e.id?"selected":""},e.name):""})),!k.teams&&Object(a.h)(t,null,Object(a.h)("option",{value:""},"No public teams"))))))),y&&Object(a.h)(t,null,T&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("label",{for:"pinned"},"Pinned to top:"),Object(a.h)("input",{id:"pinned",type:"checkbox",onInput:Object(u.a)(this,"story.pinned"),value:1,checked:g.pinned?1:0}))))),Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(u.a)(this,"story.public"),value:g.public,onChange:this.changeVisibility},Object(a.h)("option",{value:0,selected:0==g.public?"selected":""},"ðŸ‘¥ ",Object(a.h)(l.c,{id:"story.visibility-followers"},"Kun synlig for de som fÃ¸lger deg.")),Object(a.h)("option",{value:1,selected:1==g.public?"selected":""},"ðŸŒ ",Object(a.h)(l.c,{id:"story.visibility-public"},"Synlig for alle som bruker appen."))))))),v&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("select",{class:"custom-select custom-select-sm",id:"team",onInput:Object(u.a)(this,"story.type"),value:g.type,onChange:this.changeType},Object(a.h)("option",{value:""},"-- ",Object(a.h)(l.c,{id:"story.type-choose"},"Velg type")," --"),Object(a.h)("option",{value:1,selected:1==g.type?"selected":""},"âœï¸ ",Object(a.h)(l.c,{id:"story.type-regular"},"Vanlig")),Object(a.h)("option",{value:2,selected:2==g.type?"selected":""},"ðŸš€ ",Object(a.h)(l.c,{id:"story.type-ad"},"Annonse")),Object(a.h)("option",{value:3,selected:3==g.type?"selected":""},"ðŸ“„ ",Object(a.h)(l.c,{id:"story.type-article"},"Artikkel"))))))),O&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center mt-2"},Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},c.a.isArray(g.images)&&g.images.map((function(t){return Object(a.h)("div",{class:"col-3 p-1"},Object(a.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(a.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(a.h)(h.a,{object:g,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))),g.type>1&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.url-text"},"URL text")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"urlText",onInput:Object(u.a)(this,"story.urlText"),value:g.urlText})))),Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.url"},"URL")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"url",onInput:Object(u.a)(this,"story.url"),value:g.url}))))),2==g.type&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mt-3"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.code"},"Code")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"code",onInput:Object(u.a)(this,"story.code"),value:g.code})))),Object(a.h)("div",{class:"col-12"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.region"},"Region")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"region",onInput:Object(u.a)(this,"story.region"),value:g.region})))),Object(a.h)("div",{class:"col-12"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.country"},"Country")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"country",onInput:Object(u.a)(this,"story.country"),value:g.country})))),Object(a.h)("div",{class:"col-4"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.currency"},"Currency")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"currency",onInput:Object(u.a)(this,"story.currency"),value:g.currency})))),Object(a.h)("div",{class:"col-8"},Object(a.h)("label",null,Object(a.h)(l.c,{id:"story.price"},"Price")),Object(a.h)("div",{class:"form-group"},Object(a.h)("small",null,Object(a.h)("input",{class:"form-control",type:"text",name:"price",onInput:Object(u.a)(this,"story.price"),value:g.price}))))))))))},s}(a.Component))||n;e.a=b}).call(this,s("hosL").Fragment)},AJN2:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("NMoA"),l=(s("ZOvn"),{}),u=Object(c.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),s.inputRef={},s}var n,c;c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var u=s.prototype;return u.loadStoriesPublicFeed=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(t.stores.storyStore.loadPublicFeed({story:t.story})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},u.componentDidMount=function(){this.loadStoriesPublicFeed()},u.componentWillReceiveProps=function(t){t.story!==this.props.story&&this.loadStoriesPublicFeed(t)},u.render=function(){var e=this,s=this.props.stores,o=s.storyStore.publicFeed,r=s.appState.darkmode;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"row pb-4 bg-light"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(r?"black":"white")+" shadow-sm"},!o||0===o.length&&Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted mt-5"},Object(a.h)("div",{class:"display-1 text-center mb-5"},Object(a.h)("i",{class:"fas fa-comment"})),Object(a.h)("h3",null,"No story found!"))),o&&o.map((function(s){return Object(a.h)(t,null,Object(a.h)(i.a,{stores:e.props.stores,story:s,showAllComments:!0}))})))))},s}(a.Component))||n;e.a=u}).call(this,s("hosL").Fragment)},B813:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("OhSV"),l=s("ZOvn"),u=s("AEg1"),h=(s("gOLw"),s("AJN2")),d=s("epqT"),p=s("w93r"),b=l.a.marginTop(!1),m=l.a.marginBottom(),f=l.a.marginTopBack(!1),g={isLoading:!1,submenu:"lastWorkouts",viewmenu:"wall"},O=Object(c.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).reloadFeeds=function(t){return new Promise((function(e,o){return t.preventDefault(),s.setState({isLoading:!0}),Promise.resolve(s.loadStoriesPublicFeed()).then((function(){try{return s.setState({isLoading:!1}),e()}catch(t){return o(t)}}),o)}))},s.back=function(){s.props.stores.history.goBack()},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},g),s}var n,c;c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c;var l=s.prototype;return l.loadAll=function(){return new Promise(function(t,e){var s,o,r,n,a,c;return o=(s=this.props.stores).appState,r=s.userStore,n=s.messageStore,this.setState({isLoading:!0}),Promise.resolve(o.getFingerprint()).then(function(){try{return Promise.resolve(r.getInfo()).then(function(){try{return Promise.resolve(r.getNotifications()).then(function(){try{return Promise.resolve(n.getUnReadMessages()).then(function(){try{return(a=r.user).currentLocationInfo&&a.currentLocationInfo.coords&&r.getWeatherUser({lat:(c=a.currentLocationInfo.coords).latitude,lon:c.longitude,altitude:c.altitude}),this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},l.loadStoriesPublicFeed=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(t.stores.storyStore.loadPublicFeed({story:t.story})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},l.componentDidMount=function(){this.loadAll()},l.render=function(){var e=this.state.isLoading,s=this.props.story,o=this.props.stores.userStore.user,r=o.yrWeather,n=o.currentLocationGeocode,c=(void 0===n?{}:n).formatted_address;return Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+m+"; margin-top: "+b+";"},Object(a.h)("div",null,Object(a.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+f+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(a.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(a.h)(d.a,{stores:this.props.stores,url:this.props.url}),Object(a.h)("div",{class:"bg-light"},Object(a.h)(p.a,{stores:this.props.stores,data:r,place:c})),Object(a.h)(u.a,{stores:this.props.stores}),Object(a.h)("div",{class:"row bg-light"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("div",{class:"float-right"},e?Object(a.h)(t,null,Object(a.h)("div",{class:"spinner-border text-primary",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading..."))):Object(a.h)(t,null,Object(a.h)("a",{href:"#",style:"font-size: 1.8em;",onClick:this.reloadFeeds},Object(a.h)("i",{class:"fas fa-sync-alt"}))))),Object(a.h)("span",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-rss"})," ",Object(a.h)(i.c,{id:"home.wall"},"Veggen"))))),Object(a.h)(h.a,{stores:this.props.stores,story:s}))},s}(a.Component))||n;e.default=O}.call(this,s("hosL").Fragment)},ZQlJ:function(t,e,s){"use strict";var o,r=s("hosL"),n=(s("Utv1"),s("/eY4")),a=(s("OhSV"),s("NDEG")),c=Object(n.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).scrollImages=function(t){var e=t.target,o=e.scrollLeft/e.clientWidth,r=Math.round(o),n=Math.abs(r-o);(Number.isInteger(o)||n<.1)&&s.setState({imageIdx:r})},s.sortByName=function(t,e){var o=s.props.allDogs,r=void 0===o?[]:o,n=r.find((function(e){return e.id===t})),a=r.find((function(t){return t.id===e}));return n&&a&&n.name>a.name?1:-1},s.state={imageIdx:0},s}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this,e=this.props,s=e.dogs,o=e.allDogs,n=void 0===o?[]:o,c=e.size,i=void 0===c?"medium":c,l=e.onDogClick,u=void 0===l?function(){}:l;return Object(r.h)("div",{class:"w-100"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},s&&s.sort(this.sortByName).map((function(e){var o=n.find((function(t){return t.id===e}));return o?Object(r.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(r.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(r.h)(a.a,{stores:t.props.stores,dog:o,dogs:n.filter((function(t){return s.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:i,onDogClick:u}))):""}))))},e}(r.Component))||o;e.a=c},gOLw:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,a=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=(s("X9Km"),s("NMoA")),u=s("VKmm"),h=s("rWES"),d=s("epqT"),p=s("yHBq"),b=s("q/oJ"),m=s("gWxU"),f=s("Nanz"),g=s("ISGx"),O=s("ZOvn"),j=O.a.marginTop(!1),y={loading:!1,limit:10,offset:0,idxConfirm:0,idxSuggestion:1,idxAd:5,sessionid:(new Date).getTime()},v=["id","type","user","team","title"],w=Object(i.a)(n=function(e){function s(s){var n;return(n=e.call(this,s)||this).reloadStories=function(){return new Promise((function(t,e){var s,o,r;return s=n.props.stores.appState,r=(o=n.state).limit,o.offset,0,n.setState({offset:0}),Promise.resolve(n.loadStoriesPublicFeed({props:n.props,limit:r,offset:0})).then((function(){try{return s.appContainerScrollTop(),t()}catch(t){return e(t)}}),e)}))},n.setCheckForNewStories=function(t){void 0===t&&(t=n.props),n.checkForNewStoriesTimer=setInterval((function(){return n.checkForNewStories({props:t})}),6e4)},n.clearCheckForNewStories=function(){clearInterval(n.checkForNewStoriesTimer)},n.insertTopRanked=function(){var t=n.props.stores.storyStore,e=t.publicFeed,s=c.a.shuffleArray(t.topRankedStories),o=[].concat(e),r=0,a=new Date;o.forEach((function(t,e){var s=c.a.parseInputDate(t.date);Math.floor((a.getTime()-s.getTime())/1e3)<86400&&(r=e+1)}));var i=o.length;if(i>r+3){for(var l=0;l<3;l+=1){var u=O.a.randomInt(r,i);c.a.isObject(s[l])&&o.splice(u,0,s[l])}t.localUpdateField("publicFeed",o)}},n.insertAds=function(){var t=n.state.idxAd,e=n.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"ad",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},n.insertTeamConfirm=function(){var t=n.state.idxConfirm,e=n.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"teamConfirm",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},n.insertTeamSuggestions=function(){var t=n.state.idxSuggestion,e=n.props.stores.storyStore,s=[].concat(e.publicFeed);s.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"row",contentClassNames:"col-12"}),e.localUpdateField("publicFeed",s)},n.setLoadMore=function(){n.props.stores.storyStore.setLoadMore((function(){var t=n.state,e=t.limit,s=t.offset;n.setState({offset:s+=e}),n.loadStoriesPublicFeed({limit:e,offset:s})}))},n.unsetLoadMore=function(){n.props.stores.storyStore.setLoadMore((function(){}))},n.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showTeam:e}),!1},n.hideTeam=function(){n.setState({showTeam:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e,dogs:s}),!1},n.hideDog=function(){n.setState({showDog:null})},n.setupIntersection=function(){n.setState({handleIntersection:O.a.intersectionObserverCallback});var t=n.props.stores.storyStore;n.scrollViewTimer=setInterval((function(){return t.postScrollview(O.a.getIntersectionObserverHistory())}),3e4)},n.renderContent=function(e){var s=e.obj,o=e.idx,r=n.props.stores.appState.path,c=n.props.hashtag;return"ad"===s.type?Object(a.h)(t,null,Object(a.h)(d.a,{stores:n.props.stores,path:r})):"teamConfirm"===s.type?Object(a.h)(t,null,Object(a.h)(h.a,{stores:n.props.stores})):"teamSuggestions"===s.type?Object(a.h)(t,null,Object(a.h)(u.a,{stores:n.props.stores})):"workout"===s.type?Object(a.h)(t,null,Object(a.h)(g.a,{stores:n.props.stores,feed:s,idx:o,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick,onDogClick:n.onDogClick,holdingStore:"story"})):Object(a.h)(t,null,Object(a.h)(l.a,{stores:n.props.stores,story:s,hashtag:c,key:"story-detail-"+s.id,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick}))},n.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},y),n.inputRef={},n.ref={},n}var n,i;i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var w=s.prototype;return w.loadStoriesPublicFeed=function(t){return new Promise(function(e,s){var o,r,n;return n=t.offset,(r=void 0===(o=t.props)?this.props:o).path,Promise.resolve(r.stores.storyStore.loadPublicFeed({hashtag:r.hashtag,hashtags:r.hashtags,teamid:r.teamid,limit:t.limit,offset:n,sort:void 0})).then(function(){try{return n||(this.insertTopRanked(),this.insertTeamConfirm()),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},w.checkForNewStories=function(t){return new Promise(function(e,s){var o,r;return t.limit,t.offset,(r=void 0===(o=t.props)?this.props:o).path,Promise.resolve(r.stores.storyStore.checkForNewStories({hashtag:r.hashtag,hashtags:r.hashtags,teamid:r.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},w.componentWillMount=function(){this.setupIntersection()},w.componentDidMount=function(){this.loadStoriesPublicFeed({limit:this.state.limit,offset:0}),this.setLoadMore(),this.setCheckForNewStories()},w.componentWillUnmount=function(){this.unsetLoadMore(),this.props.stores.storyStore.postScrollview(O.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),this.clearCheckForNewStories()},w.componentWillReceiveProps=function(t){t.hashtag===this.props.hashtag&&t.path===this.props.path||this.loadStoriesPublicFeed({props:t,limit:this.state.limit,offset:0})},w.render=function(){var e=this.state,s=e.loading,o=e.handleIntersection,r=e.sessionid,n=e.showTeam,c=e.showDog,i=this.props.stores,l=i.storyStore,u=l.publicFeed,h=l.hasNewStories,d=l.publicDogs,g=i.appState.darkmode;return Object(a.h)(t,null,n&&Object(a.h)(b.a,null,Object(a.h)(m.default,{stores:this.props.stores,teamid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam})),c&&Object(a.h)(b.a,null,Object(a.h)(f.default,{stores:this.props.stores,dogid:c,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:d})),Object(a.h)("div",{class:"w-100"},h&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 d-flex justify-content-center fixed-top",style:"margin-top: "+j+";"},Object(a.h)("button",{class:"btn btn-sm btn-primary rounded-pill",onClick:this.reloadStories},"New stories"))),Object(a.h)(p.a,{data:u,wrapperClassNames:"row pb-1",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(g?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:v,handleIntersection:o,sessionid:r}),s&&Object(a.h)("div",{class:"d-flex justify-content-center"},Object(a.h)("div",{class:"spinner-border text-primary",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")))))},s}(a.Component))||n;e.a=w}).call(this,s("hosL").Fragment)},w93r:function(t,e,s){"use strict";(function(t){var o,r=s("hosL"),n=s("/eY4"),a=s("Utv1"),c=s("OhSV"),i=(s("X9Km"),s("QkTp")),l=s("ZOvn"),u=Object(n.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleyrWeather=function(){s.setState({showWeather:!s.state.showWeather})},s.state={},s.inputRef={},s}var o,n;n=e,(o=s).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n;var u=s.prototype;return u.loadWeather=function(){return new Promise(function(t){var e=this.props.stores.userStore;this.setState({isLoading:!0});var s=e.user;if(s.currentLocationInfo&&s.currentLocationInfo.coords){var o=s.currentLocationInfo.coords;e.getWeatherUser({lat:o.latitude,lon:o.longitude,altitude:o.altitude}),e.formatWeather()}return t()}.bind(this))},u.componentDidMount=function(){this.loadWeather()},u.render=function(){var e=this,s=this.props.stores.userStore,o=s.yrWeather,n=s.yrWeatherKeys,u=s.yrWeatherFormatted,h=s.user.currentLocationGeocode;return o&&this.props.place?this.state.showWeather?Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4"},h&&h.formatted_address&&Object(r.h)("h5",null,h.formatted_address),Object(r.h)("div",{class:"table-responsive",onTouchstart:l.a.captureEvents,onTouchend:l.a.captureEvents,onTouchmove:l.a.captureEvents,onScroll:l.a.captureEvents},Object(r.h)("table",{class:"table table-striped table-sm"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{class:"text-center"},"Â "),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.night"},"Night")),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.morning"},"Morning")),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.afternoon"},"Afternoon")),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.evening"},"Evening")),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.temp"},"Temp")),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.rainfall"},"Rainfall")),Object(r.h)("th",{class:"text-center"},Object(r.h)(c.c,{id:"weather.wind"},"Wind")))),Object(r.h)("tbody",null,n&&n.map((function(s){return Object(r.h)(t,null,Object(r.h)("tr",null,Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,s)),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,a.a.getNestedValue(u[s].night,"next_6_hours.summary.symbol_code")&&Object(r.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].night,"next_6_hours.summary.symbol_code")+".svg"}))),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,a.a.getNestedValue(u[s].morning,"next_6_hours.summary.symbol_code")&&Object(r.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].morning,"next_6_hours.summary.symbol_code")+".svg"}))),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,a.a.getNestedValue(u[s].day,"next_6_hours.summary.symbol_code")&&Object(r.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].day,"next_6_hours.summary.symbol_code")+".svg"}))),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,a.a.getNestedValue(u[s].evening,"next_6_hours.summary.symbol_code")&&Object(r.h)("img",{style:"width: 40px;",src:"./assets/svg/"+a.a.getNestedValue(u[s].evening,"next_6_hours.summary.symbol_code")+".svg"}))),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-temperature-low text-muted ml-1 mr-2"}),Object(r.h)("span",{class:l.a.getTemperatureColor(a.a.getNestedValue(u[s],"air_temperatures_min"))},Object(r.h)(i.a,{stores:e.props.stores,value:a.a.getNestedValue(u[s],"air_temperatures_min")})),Object(r.h)("span",{class:"text-muted font-weight-lighter mx-1"},"-"),Object(r.h)("span",{class:l.a.getTemperatureColor(a.a.getNestedValue(u[s],"air_temperatures_max"))},Object(r.h)(i.a,{stores:e.props.stores,value:a.a.getNestedValue(u[s],"air_temperatures_max")})))),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,a.a.format(a.a.getNestedValue(u[s],"precipitation_amount"),1)," ",Object(r.h)("span",{class:"text-muted font-weight-lighter"},"mm"))),Object(r.h)("td",{class:"text-center"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-wind text-muted ml-1"})," ",Object(r.h)("span",{class:l.a.getWindSpeedColor(a.a.getNestedValue(u[s],"wind_speeds_min"))},a.a.format(a.a.getNestedValue(u[s],"wind_speeds_min"),1))," ",Object(r.h)("span",{class:"text-muted font-weight-lighter"},"-")," ",Object(r.h)("span",{class:l.a.getWindSpeedColor(a.a.getNestedValue(u[s],"wind_speeds_max"))},a.a.format(a.a.getNestedValue(u[s],"wind_speeds_max"),1))," ",Object(r.h)("span",{class:"text-muted font-weight-lighter"},"m/s")))))}))))),Object(r.h)("button",{type:"button",class:"btn btn-block btn-primary btn-sm",onClick:this.toggleyrWeather},Object(r.h)("i",{class:"fas fa-times-circle"})," ",Object(r.h)(c.c,{id:"weather.close"},"Close"))):Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},o&&o.length>0&&Object(r.h)("div",{class:"container-fluid px-0"},Object(r.h)("div",{class:"row",onClick:this.toggleyrWeather},o&&o.length>0&&o.slice(0,1).map((function(t){return Object(r.h)("div",{class:"col-12 text-right"},Object(r.h)("nobr",null,Object(r.h)("small",{class:"font-weight-light text-muted"},a.a.isoTime(t.time)),":",Object(r.h)("img",{src:"./assets/svg/"+a.a.getNestedValue(t,"next_1_hours.summary.symbol_code")+".svg",class:"ml-2",style:"height: 20px;"}),a.a.getNestedValue(t,"next_1_hours.details.precipitation_amount")>0&&Object(r.h)("small",{class:"ml-2"},a.a.getNestedValue(t,"next_1_hours.details.precipitation_amount"),Object(r.h)("span",{class:"text-muted font-weight-lighter"},"mm")),Object(r.h)("small",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-temperature-low text-muted"})," ",Object(r.h)(i.a,{stores:e.props.stores,value:a.a.getNestedValue(t,"instant.details.air_temperature")})),Object(r.h)("small",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-wind text-muted"})," ",a.a.getNestedValue(t,"instant.details.wind_speed"),Object(r.h)("span",{class:"text-muted font-weight-lighter"},"m/s")," ",Object(r.h)("span",{class:"text-muted font-weight-lighter"},l.a.windDirection(a.a.getNestedValue(t,"instant.details.wind_from_direction"))))),Object(r.h)("br",null))}))))):""},s}(r.Component))||o;e.a=u}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=82.chunk.a667d.js.map