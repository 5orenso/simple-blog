(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"+1Jk":function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),h=s("Y3FI"),p=(s("X9Km"),s("ZOvn")),d=(s("XPU5"),s("ZWUU"),s("CE5K"),s("0SNj")),b=s("9Bb9"),u=s("pJjI"),m=s("L3gU"),O=s("AEg1"),f=s("gOLw"),j=(s("w93r"),s("qv+O"));const g=p.a.marginTop(!1),v=p.a.marginBottom(),w=(p.a.subMenuMarginTop(),{isLoading:!1,submenu:"lastWorkouts"});let y=Object(c.a)(r=class extends n.Component{constructor(t){var e;super(t),e=this,this.chooseSubmenu=t=>{this.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},this.addNavigation=(t=this.props)=>{const{viewmenu:e}=t,{appState:s}=this.props.stores;"wall"===e&&(s.setSwipeRight(),s.setSwipeLeft(()=>{s.setSwipeLeft(),Object(h.route)("/home-workout")})),"workout"===e&&(s.setSwipeLeft(),s.setSwipeRight(()=>{s.setSwipeRight(),Object(h.route)("/")}))},this.destroyLog=async function(){const{workoutStore:t}=e.props.stores;t.cordovaDestroyLog()},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},w)}async loadAll(){const{appState:t,userStore:e,messageStore:s}=this.props.stores;this.setState({isLoading:!0}),await t.getFingerprint(),await e.getInfo(),await e.getNotifications(),await s.getUnReadMessages(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}componentWillUnmount(){const{appState:t}=this.props.stores;t.setSwipeRight(),t.setSwipeLeft()}componentWillReceiveProps(t){}render(){const{viewmenu:e,path:s,teamid:o}=this.props,{userStore:a,appState:r,workoutStore:c}=this.props.stores,{user:h}=a,{currentLocationGeocode:p={},yrWeatherKeys:w=[]}=h,{currentTeam:y,cordovaActiveTrackingParams:x,isRunning:S,totalDistance:k,currentSpeed:T,totalTime:P}=c;return Object(n.h)(t,null,Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${v}; margin-top: ${g};`},S&&x&&Object(n.h)(t,null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(n.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(n.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(n.h)("div",{class:"row mb-3"},Object(n.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.secToHms(P)),Object(n.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(3.6*T,1)," km/t"),Object(n.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},i.a.format(k/1e3,2)," km")),Object(n.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(n.h)(l.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),h.id&&Object(n.h)(O.a,{stores:this.props.stores}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"w-100 overflow-hidden"},Object(n.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("a",{class:`btn btn-block rounded-pill-left rounded-none ${"wall"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wall",href:"/"},Object(n.h)("i",{class:"fas fa-comments"})," ",Object(n.h)(l.c,{id:"home.wall"},"Veggen"))),Object(n.h)("div",{class:"col px-0 pt-2"},Object(n.h)("a",{class:`btn btn-block rounded-pill-right rounded-none ${"workout"===e?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workout",href:"/home-workout"},Object(n.h)("i",{class:"fas fa-running"}),"  ",Object(n.h)(l.c,{id:"home.feed"},"Feed"))))))),"wall"===e&&Object(n.h)(t,null,Object(n.h)(j.a,{stores:this.props.stores}),Object(n.h)(f.a,{stores:this.props.stores,path:s})),"workout"===e&&Object(n.h)(t,null,Object(n.h)(m.a,{stores:this.props.stores,teamid:o})),"totals"===e&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(u.a,{stores:this.props.stores}),Object(n.h)(d.a,{stores:this.props.stores,currentTeam:y}),Object(n.h)(b.a,{stores:this.props.stores,currentTeam:y})))))}})||r;e.default=y}.call(this,s("hosL").Fragment)},"/DnB":function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),i=(s("Utv1"),s("/eY4"));const c={};let l=Object(i.a)(r=class extends n.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},c),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(n.h)("div",{ref:t=>this.container=t},"Â ")}})||r;e.a=l},"0SNj":function(t,e,s){"use strict";var o,a=s("hosL"),r=s("Utv1"),n=s("/eY4"),i=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),c=s("irB3"),l=(s("UwwE"),s("8Lgr"));s("QkTp");let h=Object(n.a)(o=class extends a.Component{constructor(t){super(t),this.state={}}async loadAll(t=this.props){await this.loadTeams(t)}async loadTeams(t=this.props){const{teamStore:e}=t.stores,s=(new Date).getMonth()+1,o=(new Date).getFullYear(),{month:a=s,year:r=o,currentTeam:n}=t;await e.load({query:{team:n,skipMusherWorkoutSummary:!0,year:r,month:a},addData:["workoutSummary"]})}componentDidMount(){this.loadAll()}componentWillReceiveProps(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)}render(){const{teamStore:t}=this.props.stores,e=(new Date).getMonth()+1,s=(new Date).getFullYear(),{month:o=e,year:n=s,currentTeam:h,currentSeason:p,prevSeason:d}=this.props,b=parseInt(o<8?n-1:n,10),u=d||(h?t.findWorkoutSummary(h,b-1):t.findWorkoutSummaryTotal(b-1))||{},m=p||(h?t.findWorkoutSummary(h,b):t.findWorkoutSummaryTotal(b))||{};return Object(a.h)("div",{class:"container-fluid mb-2"},Object(a.h)("div",{class:"row mt-2 border-top"},Object(a.h)("div",{class:"col text-center"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-road"})," ",b,"-",b+1),Object(a.h)("h3",null,Object(a.h)(l.a,{stores:this.props.stores,value:m.distanceKm||0,smallUnit:!0}))),Object(a.h)("div",{class:"col text-center border-left"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-road"})," ",b-1,"-",b),Object(a.h)("h3",{class:"text-muted"},Object(a.h)(l.a,{stores:this.props.stores,value:u.distanceKm||0,smallUnit:!0})))),Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"col text-center"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-mountain"})," ",b,"-",b+1),Object(a.h)("h3",null,Object(a.h)(c.a,{stores:this.props.stores,value:m.elevation||0,smallUnit:!0}))),Object(a.h)("div",{class:"col text-center border-left"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-mountain"})," ",b-1,"-",b),Object(a.h)("h3",{class:"text-muted"},Object(a.h)(c.a,{stores:this.props.stores,value:u.elevation||0,smallUnit:!0})))),Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"col text-center"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," ",b,"-",b+1),Object(a.h)("h3",null,r.a.secToHms(m.duration||0))),Object(a.h)("div",{class:"col text-center border-left"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-clock"})," ",b-1,"-",b),Object(a.h)("h3",{class:"text-muted"},r.a.secToHms(u.duration||0)))),Object(a.h)("div",{class:"row mt-2 border-bottom"},Object(a.h)("div",{class:"col text-center"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",b,"-",b+1),Object(a.h)("h3",null,Object(a.h)(i.a,{stores:this.props.stores,value:m.speedAvg||0,smallUnit:!0}))),Object(a.h)("div",{class:"col text-center border-left"},Object(a.h)("small",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",b-1,"-",b),Object(a.h)("h3",{class:"text-muted"},Object(a.h)(i.a,{stores:this.props.stores,value:u.speedAvg||0,smallUnit:!0})))))}})||o;e.a=h},"9Bb9":function(t,e,s){"use strict";var o,a=s("hosL"),r=s("Utv1"),n=s("/eY4"),i=s("OhSV"),c=s("ETxl"),l=s.n(c),h=s("ZOvn");let p=Object(n.a)(o=class extends a.Component{constructor(t){var e;super(t),e=this,this.loadWorkoutPlans=async function(t=e.props){const{workoutPlanStore:s}=t.stores,o=(new Date).getMonth()+1,a=(new Date).getFullYear(),{year:r=a,month:n=o,currentTeam:i}=t,c=parseInt(r||(n<8?r-1:r),10);if(i){await s.load({query:{team:i,seasonYear:c,seasonMonth:6}});const{workoutPlans:t}=s,e=t[0]||{};e.id&&await s.load(e.id)}},this.state={}}async loadAll(t=this.props){}async loadTeams(t=this.props){const{teamStore:e}=t.stores,s=(new Date).getMonth()+1,o=(new Date).getFullYear(),{month:a=s,year:r=o,currentTeam:n}=t;await e.load({query:{team:n,skipMusherWorkoutSummary:!0,year:r,month:a},addData:["workoutSummary"]})}async loadWorkoutSummary(t=this.props){const{year:e,currentTeam:s,dog:o}=t,{userStore:a}=t.stores;await a.getWorkoutSummary({team:s,year:e,dog:o})}componentDidMount(){this.loadAll()}componentWillReceiveProps(t){t.year===this.props.year&&t.currentTeam===this.props.currentTeam||this.loadAll(t)}render(){const{currentTeam:t}=this.props,{userStore:e,workoutPlanStore:s,teamStore:o}=this.props.stores,{workoutPlan:n}=s,{user:c}=e,{language:p="en"}=c,d=h.a.getMonths(p),b=o.findTeam(t)||{},u=(new Date).getMonth()+1,m=(new Date).getFullYear(),{year:O=m,month:f=u}=this.props,j=parseInt(f<8?O-1:O,10),g=r.a.monthRange(j+"-08-01",j+1+"-07-31");let v;return Object(a.h)("div",{class:"container-fluid mb-2"},Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"col-12"},Object(a.h)("h5",null,Object(a.h)("span",{style:"display: none;"},n.id),Object(a.h)(i.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(a.h)("div",{class:"row mt-2 border-bottom pb-2"},g&&g.map(t=>{if(t.year>O||t.year===O&&t.month>=t)return"";const o=s.sumWorkoutPlanMonth(t.year,t.month+1);if(!o)return"";v=o;const n=e.findWorkoutSummaryMonth(t.year,t.month+1)/o*100,i=n>100?100:r.a.format(n,0);return Object(a.h)("div",{class:"col-3 text-center"},Object(a.h)("div",{class:"px-auto w-100 clearfix"},Object(a.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(a.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:`height: ${i}%; width: 40px;`,"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},r.a.format(n,0),"%"))),Object(a.h)("div",{class:"w-100 mt-1"},d[t.month]," ",t.year))}),!v&&Object(a.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"far fa-sad-tear"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(i.c,{id:"workout.plan.no-workout-plan-found",fields:{name:b.name}},"Ingen treningsplaner funnet for team ",b.name,".")),Object(a.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(a.h)("i",{class:"fas fa-calendar-alt"})," ",Object(a.h)(i.c,{id:"workout.plan.new"},"New workoutplan")))))}})||o;e.a=p},CE5K:function(t,e,s){"use strict";function o(){try{if(window)return window}catch(t){return}}function a(){let t=o();return t&&(!(!t.matchMedia||!t.matchMedia("(display-mode: standalone)").matches)||t.navigator&&!0===t.navigator.standalone)||!1}function r(){p.onPrompts.forEach(t=>t(p.prompt))}function n(t){if(!p.installPromptListener){let t=o();if(!t||a())return null;p.installPromptListener=e=>{e.preventDefault();let s=e;p.prompt=()=>new Promise(e=>{p.appInstalledListener=()=>{e(!0)},t.addEventListener("appinstalled",p.appInstalledListener),s.prompt(),s.userChoice.then(t=>{"accepted"!==t.outcome&&e(!1)})}).then(e=>(s=null,p.appInstalledListener&&t.removeEventListener("appinstalled",p.appInstalledListener),e&&(p.prompt=null,r()),e)),r()},t.addEventListener("beforeinstallprompt",p.installPromptListener)}return t?(p.onPrompts.push(t),p.prompt&&t(p.prompt),()=>{return e=t,void(p.onPrompts=p.onPrompts.filter(t=>t!==e));var e}):()=>function(){let t=o();p.installPromptListener&&(t&&t.removeEventListener&&t.removeEventListener("beforeinstallprompt",p.installPromptListener),p.installPromptListener=null),p.appInstalledListener&&(t&&t.removeEventListener&&t.removeEventListener("appinstalled",p.appInstalledListener),p.appInstalledListener=null),p.prompt=null,p.onPrompts=[]}()}function i(){const[t]=Object(h.k)(a()),[e,s]=Object(h.k)(null);return Object(h.d)(()=>n((t,e)=>{s({prompt:()=>t().then(t=>(t&&e(),t))})})),{isStandalone:t,installPrompt:e&&e.prompt}}function c(){const{installPrompt:t,isStandalone:e}=i();return t&&Object(l.h)("div",{class:"text-center"},Object(l.h)("a",{class:"btn btn-success",href:"#",onclick:t},Object(l.h)(d.c,{id:"install.install-app"},"Install The Musher")))||e&&""}s.d(e,"a",(function(){return c}));var l=s("hosL"),h=s("QRet");const p={prompt:null,installPromptListener:null,appInstalledListener:null,onPrompts:[]};var d=s("OhSV")},L3gU:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,n=s("hosL"),i=s("Utv1"),c=s("/eY4"),l=s("OhSV"),h=s("VKmm"),p=s("rWES"),d=s("epqT"),b=s("yHBq"),u=s("q/oJ"),m=s("gWxU"),O=s("Nanz"),f=s("ISGx"),j=s("ZOvn");const g={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:10,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},v=["id","type","user","team","title"];let w=Object(c.a)(r=class extends n.Component{constructor(e){super(e),this.setLoadMore=()=>{const{teamStore:t}=this.props.stores;t.setLoadMore(()=>{const{teamid:t}=this.props;let{limit:e,offset:s}=this.state;s+=e,this.setState({offset:s}),this.loadTeamsPublicFeed({limit:e,offset:s,teamid:t})})},this.unsetLoadMore=()=>{const{teamStore:t}=this.props.stores;t.setLoadMore(()=>{})},this.insertTopRanked=()=>{const{teamStore:t}=this.props.stores,{publicTeamsFeed:e,topRankedWorkouts:s}=t,o=i.a.shuffleArray(s),a=[...e];for(let t=0,e=3;t<e;t+=1){const e=j.a.randomInt(0,7);i.a.isObject(o[t])&&a.splice(e,0,o[t])}t.localUpdateField("publicTeamsFeed",a)},this.insertAds=()=>{const{idxAd:t}=this.state,{teamStore:e}=this.props.stores,{publicTeamsFeed:s}=e,o=[...s];o.splice(t,0,{type:"ad",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",o)},this.insertTeamConfirm=()=>{const{idxConfirm:t}=this.state,{teamStore:e}=this.props.stores,{publicTeamsFeed:s}=e,o=[...s];o.splice(t,0,{type:"teamConfirm",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",o)},this.insertTeamSuggestions=()=>{const{idxSuggestion:t}=this.state,{teamStore:e}=this.props.stores,{publicTeamsFeed:s}=e,o=[...s];o.splice(t,0,{type:"teamSuggestions",wrapperClassNames:"",contentClassNames:""}),e.localUpdateField("publicTeamsFeed",o)},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.setupIntersection=()=>{this.setState({handleIntersection:j.a.intersectionObserverCallback});const{teamStore:t}=this.props.stores;this.scrollViewTimer=setInterval(()=>t.postScrollview(j.a.getIntersectionObserverHistory()),3e4)},this.renderContent=({obj:e,idx:s})=>{const{appState:o}=this.props.stores,{path:a}=o;return"ad"===e.type?Object(n.h)(t,null,Object(n.h)(d.a,{stores:this.props.stores,path:a})):"teamConfirm"===e.type?Object(n.h)(t,null,Object(n.h)(p.a,{stores:this.props.stores})):"teamSuggestions"===e.type?Object(n.h)(t,null,Object(n.h)(h.a,{stores:this.props.stores})):Object(n.h)(t,null,Object(n.h)(f.a,{stores:this.props.stores,feed:e,idx:s,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},g)}async loadTeamsPublicFeed({props:t=this.props,limit:e,offset:s}){const{teamStore:o}=t.stores,{teamid:a}=t;await o.loadPublicFeed({limit:e,offset:s,sort:"-createdDate",teamid:a})}async loadAll(t=this.props){const{limit:e}=this.state,{teamid:s}=t;await this.loadTeamsPublicFeed({props:t,limit:e,offset:0,teamid:s})}componentWillMount(){this.setupIntersection()}componentWillUnmount(){this.unsetLoadMore();const{teamStore:t}=this.props.stores;t.postScrollview(j.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer)}componentDidMount(){this.loadAll(),this.setLoadMore()}componentWillReceiveProps(t){t.teamid!==this.props.teamid&&this.loadAll(t)}render(){const{showTeam:e,showDog:s,handleIntersection:o,sessionid:a,dogs:r}=this.state,{teamStore:i,appState:c}=this.props.stores,{publicTeamsFeed:h}=i,{darkmode:d}=c,{teamid:f}=this.props,g=i.findPublicTeamByUuidv4(f),w=j.a.getImage({team:g});let y,x;return g&&g.name&&(y=j.a.displayNameShort(g),x=j.a.displayName(g)),Object(n.h)(t,null,e&&Object(n.h)(u.a,null,Object(n.h)(m.default,{stores:this.props.stores,teamid:e,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),s&&Object(n.h)(u.a,null,Object(n.h)(O.default,{stores:this.props.stores,dogid:s,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:r})),Object(n.h)("div",{class:"w-100"},g?Object(n.h)(t,null,Object(n.h)("div",{class:"row pb-3 pt-3"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)("div",{class:"row"},Object(n.h)("h3",null,Object(n.h)("div",{class:"d-flex position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:w?`background-image: url("${w}"); background-size: cover;`:""},!w&&Object(n.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},y)),Object(n.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(n.h)("h3",{class:"mb-1"},g.public?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+g.uuidv4,class:"stretched-link"},x)):Object(n.h)(t,null,x))))))))):Object(n.h)(t,null,Object(n.h)(p.a,{stores:this.props.stores})),(!h||0===h.length)&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-chart-area"})),Object(n.h)("h3",null,Object(n.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(n.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(n.h)("div",{class:"text-center mt-3"},Object(n.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(n.h)(b.a,{data:h,wrapperClassNames:"row pb-1",contentClassNames:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${d?"black":"white"} shadow-sm`,renderContent:this.renderContent,dataFields:v,dataValues:{type:"10"},handleIntersection:o,sessionid:a})))}})||r;e.a=w}).call(this,s("hosL").Fragment)},XPU5:function(t,e,s){"use strict";var o,a=s("hosL"),r=(s("Utv1"),s("/eY4")),n=s("OhSV"),i=s("go65");let c=Object(r.a)(o=class extends a.Component{constructor(...t){var e;super(...t),e=this,this.inviteKennel=async function(){const{friendEmail:t}=e.state,{userStore:s}=e.props.stores,o=await s.inviteKennel({email:t});e.setState({response:o,inviteSent:!0})},this.inviteNew=()=>{this.setState({inviteSent:!1})},this.hideInvite=async function(){const{userStore:t}=e.props.stores;await t.updateSetting({"settings.hideInvite":1}),e.setState({hideInvite:!0})}}render(){const{inviteSent:t,hideInvite:e}=this.state,{userStore:s}=this.props.stores,{forceShow:o}=this.props,{user:r}=s,{settings:c={}}=r;return!o&&c.hideInvite||e?"":t?Object(a.h)("div",{class:"col-12"},Object(a.h)(n.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til Ã¥ bli flere ð"),Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(a.h)(n.c,{id:"users.invite.more"},"Invitere flere"))):Object(a.h)("div",{class:"col-12 pb-4 clearfix"},Object(a.h)("h5",null,Object(a.h)(n.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(a.h)("p",null,Object(a.h)(n.c,{id:"users.invite.text"},"Jeg hÃ¥per du vil hjelpe oss til Ã¥ bli flere. Appen vil bli lansert veldig snart og det er pÃ¥tide Ã¥ invitere inn flere brukere.")),Object(a.h)("div",null,Object(a.h)("div",{class:"form-row align-items-center"},Object(a.h)("div",{class:"col-auto"},Object(a.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(a.h)(n.c,{id:"users.invite.email"},"E-post")),Object(a.h)(n.b,null,Object(a.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(a.h)(n.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(i.a)(this,"friendEmail")}))),Object(a.h)("div",{class:"col-auto"},Object(a.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(a.h)(n.c,{id:"users.invite.send"},"Send invitasjon"))))),!o&&Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(a.h)("i",{class:"fas fa-eye-slash"})," ",Object(a.h)(n.c,{id:"users.invite.hide"},"Skjul")))}})||o;e.a=c},ZWUU:function(t,e,s){"use strict";var o,a=s("hosL"),r=(s("Utv1"),s("/eY4")),n=s("OhSV");s("go65");Object(r.a)(o=class extends a.Component{constructor(...t){var e;super(...t),e=this,this.toggleSetting=async function(t){const{userStore:s}=e.props.stores,{user:o}=s,{settings:a={}}=o;await s.updateSetting({["settings."+t]:1===a[t]?0:1})},this.hideSettings=async function(){const{userStore:t}=e.props.stores;await t.updateSetting({"settings.hideSettings":1}),e.setState({hideSettings:!0})}}render(){const{hideSettings:t}=this.state,{userStore:e}=this.props.stores,{forceShow:s}=this.props,{user:o}=e,{settings:r={}}=o;return t||r.hideSettings||!s&&r.summaryEmails&&r.infoEmails&&r.partnerEmails?"":Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(a.h)("h5",null,Object(a.h)(n.c,{id:"users.settings"},"Brukerinnstillinger")),!r.summaryEmails&&Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-4 text-muted text-right"},Object(a.h)(n.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(a.h)("div",{class:"col-8"},Object(a.h)("div",{class:"custom-control custom-switch"},Object(a.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:()=>this.toggleSetting("summaryEmails"),checked:r.summaryEmails}),Object(a.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(a.h)("small",{class:"text-muted"},Object(a.h)(n.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!r.infoEmails&&Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-4 text-muted text-right"},Object(a.h)(n.c,{id:"users.settings-info-email"},"Info")),Object(a.h)("div",{class:"col-8"},Object(a.h)("div",{class:"custom-control custom-switch"},Object(a.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:()=>this.toggleSetting("infoEmails"),checked:r.infoEmails}),Object(a.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(a.h)("small",{class:"text-muted"},Object(a.h)(n.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!r.partnerEmails&&Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-4 text-muted text-right"},Object(a.h)(n.c,{id:"users.settings-partner-email"},"Partners")),Object(a.h)("div",{class:"col-8"},Object(a.h)("div",{class:"custom-control custom-switch"},Object(a.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:()=>this.toggleSetting("partnerEmails"),checked:r.partnerEmails}),Object(a.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(a.h)("small",{class:"text-muted"},Object(a.h)(n.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra vÃ¥re partnere via e-post")))),Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-12 text-muted"},Object(a.h)("small",null,Object(a.h)("a",{href:"/users"},Object(a.h)("i",{class:"fas fa-sliders-h"})," ",Object(a.h)(n.c,{id:"users.settings-text-info"},"Innstillingene finner du inne pÃ¥ profilen din."))))),Object(a.h)("div",{class:"row mt-4"},Object(a.h)("div",{class:"col-12 text-muted text-right"},Object(a.h)("small",null,Object(a.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(a.h)("i",{class:"fas fa-eye-slash"})," ",Object(a.h)(n.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))}})},pJjI:function(t,e,s){"use strict";(function(t){var o,a=s("hosL"),r=s("Utv1"),n=s("/eY4"),i=s("OhSV");s("/DnB");let c=Object(n.a)(o=class extends a.Component{constructor(...t){super(...t),this.toggleTeam=t=>{const{callback:e,unsetTeamIfSelected:s=!0}=this.props,{dogStore:o,workoutStore:a}=this.props.stores,{currentTeam:n}=o;s&&t===n?(o.setCurrentTeam(void 0),a.setCurrentTeam(void 0)):(o.setCurrentTeam(t),a.setCurrentTeam(t)),r.a.isDefined(e)&&e()},this.showAllTeams=()=>{const{callback:t}=this.props,{dogStore:e,workoutStore:s}=this.props.stores;e.setCurrentTeam(void 0),s.setCurrentTeam(void 0),r.a.isDefined(t)&&t()}}render(){const{userStore:e,dogStore:s}=this.props.stores,{teams:o}=e,{currentTeam:r}=s,{highlight:n,showAll:c=!0}=this.props;return Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"w-100 overflow-hidden"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;"},o&&o.map((e,s)=>{let i;return 1===o.length?i="rounded-pill-both":0===s?i="rounded-pill-left":s+1===o.length&&(i="rounded-pill-right"),Object(a.h)("div",{class:"col mb-0 px-0 clearfix",key:e.id},Object(a.h)("button",{class:`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none ${i}\n\t\t\t\t\t\t\t\t\t\t\t${r===e.id?"btn-success":"btn-outline-success"}\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:()=>this.toggleTeam(e.id)},Object(a.h)("i",{class:"fas fa-users"})," ",e.name,n&&n.indexOf(e.id)>-1&&Object(a.h)(t,null,r===e.id?Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-check float-right"})):Object(a.h)(t,null,Object(a.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")),Object(a.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"})))))})),c&&Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(a.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(i.c,{id:"teams.show-all"},"Show all"))))))}})||o;e.a=c}).call(this,s("hosL").Fragment)},"qv+O":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),c=s("Utv1"),l=s("/eY4"),h=s("OhSV"),p=s("fh8t"),d=s.n(p),b=s("ZOvn");const u={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},m={isLoading:!1};let O=Object(l.a)(n=class extends i.Component{constructor(t){var e;super(t),e=this,this.toggleRaces=async function(){const{userStore:t}=e.props.stores,{user:s}=t,{toggleFeature:o={}}=s,a=o.racesFrontpage?0:1;e.setState({hideRaces:a}),await t.setToggleFeature({field:"toggleFeature.racesFrontpage",value:a})},this.scrollRaces=t=>{const{scrollLeft:e,clientWidth:s}=t.target,o=e/s,a=Math.round(o),r=Math.abs(a-o);(Number.isInteger(o)||r<.5)&&this.setState({raceIdx:a})},this.state=a(a({},m),{},{raceIdx:0})}async loadRace(t=this.props){this.setState({isLoading:!0});const{raceStore:e}=t.stores;await e.load({query:{relevant:1}}),this.setState({isLoading:!1})}componentDidMount(){this.loadRace()}render(){const{appState:e,userStore:s,raceStore:o,newsStore:a}=this.props.stores,{isAdmin:r,user:n,notifications:l=[]}=s,{races:p=[]}=o,{newsList:m}=a,{darkmode:O}=e,{hideRaces:f,raceIdx:j}=this.state,{toggleFeature:g={},language:v="en"}=n,w=new Date;return p&&0!==p.length?Object(i.h)("div",{class:"row"},f||g.racesFrontpage?Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:`col-12 bg-${O?"black":"white"} rounded-lg position-relative px-0`},Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-lg btn-block btn-link",onClick:this.toggleRaces},Object(i.h)("i",{class:"fas fa-flag-checkered"})," ",Object(i.h)(h.c,{id:"races.show-races"},"Show Races")," ",p.length>1&&Object(i.h)(t,null,"- ",p.length))))))):Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-1"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"w-100 position-relative"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollRaces},p&&p.map((e,s)=>{let o="";return w>=new Date(e.startDate)&&w<=new Date(e.endDate)?o="race":w>=new Date(e.signupStartDate)&&w<=new Date(e.signupEndDate)?o="signup":w>new Date(e.endDate)&&(o="done"),Object(i.h)(t,null,Object(i.h)("div",{class:`col-${1===p.length?"12":"8 ml-4"} ${p.length===s+1?"mr-5":""} mb-0 bg-${O?"black":"white"} rounded-lg position-relative`,style:"\n                                                    scroll-snap-align: center;\n                                                    flex-wrap: wrap;\n                                                    overflow-y: hidden;\n                                                ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(i.h)("div",{class:"row d-flex align-items-center position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===o&&!e.liveRace&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(i.h)(h.c,{id:"races.signup-open"},"PÃ¥melding Ã¥pen"))),"race"===o&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(i.h)(h.c,{id:"races.race-in-progress"},"LÃ¸p pÃ¥gÃ¥r"))),"done"===o&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-success border border-white ml-2"},Object(i.h)(h.c,{id:"races.race-finished"},"LÃ¸p avsluttet")))),e.images&&e.images[0]&&Object(i.h)(t,null,Object(i.h)("div",{class:"w-100",style:`background-image: url("${e.images[0].s3LargeLink}"); background-size: cover; height: 100px; background-repeat: no-repeat; background-position: 50% 50%;`,onClick:()=>route("/app-races/"+e.id)}))),Object(i.h)("div",{class:"position-relative"},Object(i.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===o&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===o&&Object(i.h)(t,null,Object(i.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===o&&Object(i.h)(t,null,Object(i.h)("span",null,Object(i.h)("i",{class:"fas fa-check text-success"})))),Object(i.h)("h5",{class:"pt-2"},r&&Object(i.h)("i",{class:`fas fa-eye${e.active?" text-success":"-slash text-danger"} float-right`}),Object(i.h)("a",{href:"/app-races/"+e.id},e.title))),Object(i.h)("div",{class:"w-100"},Object(i.h)(d.a,{markdown:b.a.replaceImages(e.ingress,e.images,v),markdownOpts:u})),Object(i.h)("div",{class:"w-100"},e.classes&&Object(i.h)(t,null,Object(i.h)("div",{class:"mb-3"},Object(i.h)("small",{class:"font-weight-lighter mr-2"},Object(i.h)(h.c,{id:"races.classes"},"Klasser"),": "),Object(i.h)("br",null),Object(i.h)("div",{class:"w-100 position-relative"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;"},e.classes.sort((t,e)=>t.distance-e.distance).map(e=>Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},e.title)))))))),Object(i.h)("div",{class:"w-100 d-flex justify-content-between"},Object(i.h)("a",{href:`/app-races/${e.id}/tracking`,class:"btn btn-primary"},Object(i.h)(h.c,{id:"races.tracking"},"Tracking"),Object(i.h)("i",{class:"fas fa-map-marked ml-2"})),Object(i.h)("a",{href:"/app-races/"+e.id,class:"btn btn-primary"},Object(i.h)(h.c,{id:"races.read-more"},"Les mer"),Object(i.h)("i",{class:"fas fa-angle-double-right ml-2"}))),Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("small",{class:"text-muted"},Object(i.h)(h.c,{id:"races.race-days"},"LÃ¸psdager"),": ",e.startDate&&Object(i.h)(t,null,c.a.formatDate(e.startDate,{locale:v})),e.endDate&&Object(i.h)(t,null," - ",c.a.formatDate(e.endDate,{locale:v}))))))}))),p&&p.length>1&&Object(i.h)(t,null,Object(i.h)("div",{class:"w-100 text-center"},Object(i.h)("small",null,Object(i.h)("small",null,p&&p.map((e,s)=>Object(i.h)(t,null,Object(i.h)("i",{class:(s===j?"fas":"far")+" fa-circle mr-1"})))))),Object(i.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(i.h)("small",null,j+1," / ",p.length))),Object(i.h)("div",{class:`col-12 mb-1 bg-${O?"black":"white"} rounded-lg position-relative`},Object(i.h)("div",{class:"w-100 d-flex justify-content-center"},Object(i.h)("button",{class:"btn btn-link",onClick:this.toggleRaces},Object(i.h)("i",{class:"fas fa-angle-up"})," ",Object(i.h)(h.c,{id:"races.hide"},"Hide Races")))))))):""}})||n;e.a=O}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-home.chunk.a6192.esm.js.map