{"version":3,"sources":["webpack:///./components/garmin/index.js","webpack:///./components/data/distance.js","webpack:///./components/style.css","webpack:///./components/data/temperature.js","webpack:///./components/modal/index.js","webpack:///./components/data/weight.js","webpack:///./components/strava/index.js","webpack:///./components/data/elevation.js","webpack:///./components/data/speed.js","webpack:///./routes/tracks/index.js"],"names":["Garmin","observer","toggleDate","e","stopPropagation","preventDefault","setState","showDate","state","ignoreGarminWorkout","props","stores","garminActivityDetailsStore","ignoreWorkout","target","parentElement","dataset","id","loadGarminActivities","importGarminWorkout","loadWorkouts","currentTeam","workoutStore","asTrack","importTrack","importWorkout","load","query","team","toggleDetail","showDetail","this","hideImported","componentDidMount","render","activities","forceShowDate","userStore","selectedTeam","findTeam","class","length","type","onClick","map","activity","summary","startDate","util","parseInputDate","startTimeInSeconds","style","deviceName","activityType","formatDate","locale","formatDistance","Date","value","distanceInMeters","totalElevationGainInMeters","averageSpeedInMetersPerSecond","secToHms","durationInSeconds","data-id","Component","displayDistance","distance","format","Distance","smallUnit","user","settings","imperial","kmToMiles","module","exports","Temperature","celciusToFahrenheit","Modal","touchStart","startY","touches","pageY","touchEnd","undefined","readyToRefresh","touchMove","appContainer","scrollTop","refreshing","close","image","imagexxl","thumb","name","title","date","src","onTouchstart","onTouchend","onTouchmove","ref","c","rel","href","download","Weight","kgToPounds","Strava","ignoreStravaWorkout","stravaActivityStore","loadStravaActivities","importStravaWorkout","start_date","total_elevation_gain","average_speed","elapsed_time","Elevation","meterToFeet","Speed","kmtToMph","MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","SUB_MENU_MARGIN_TOP","subMenuMarginTop","initialState","isLoading","Tracks","loadTracks","messageStore","trackStore","getNotifications","getUnReadMessages","scrolledDown","searchText","tracks","darkmode","appState","garminActivityDetails","fields","total","garmin","key","placeholder","onInput","linkState","filter","RegExp","test","track"],"mappings":"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","file":"route-tracks.chunk.124b3.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\n@observer\nclass Garmin extends Component {\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n    ignoreGarminWorkout = async (e) => {\n        e.stopPropagation();\n        const id = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const { garminActivityDetailsStore } = this.props.stores;\n\t\tawait garminActivityDetailsStore.ignoreWorkout(id);\n        this.loadGarminActivities();\n    }\n\n    importGarminWorkout = async (e) => {\n        e.stopPropagation();\n        const id = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const { asTrack } = this.props;\n        const { garminActivityDetailsStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n        if (asTrack) {\n            await garminActivityDetailsStore.importTrack(id, currentTeam);\n        } else {\n            await garminActivityDetailsStore.importWorkout(id, currentTeam);\n        }\n        this.loadGarminActivities();\n        this.loadWorkouts();\n    }\n\n    async loadGarminActivities() {\n\t\tconst { garminActivityDetailsStore } = this.props.stores;\n\t\tgarminActivityDetailsStore.load({ query: { hideImported: 1 }});\n\t}\n\n    loadWorkouts = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\t\tawait workoutStore.load({ query: { team: currentTeam } });\n\t}\n\n    toggleDetail = () => {\n        const { showDetail = false } = this.state;\n        this.setState({\n            showDetail: !showDetail,\n        });\n    }\n\n    componentDidMount() {\n\t\tthis.loadGarminActivities();\n\t}\n\n    render() {\n        const { showDate, showDetail = false } = this.state;\n        const { activities = [], showDate: forceShowDate, asTrack = false } = this.props;\n\t\tconst { userStore, workoutStore } = this.props.stores;\n        const { currentTeam } = workoutStore;\n        const { team } = userStore;\n\n        const selectedTeam = userStore.findTeam(currentTeam || team.id);\n\n        if (!showDetail) {\n            if (activities && activities.length > 0) {\n                return (<>\n                    <div class='col-12 mb-3'>\n                        <button type='button' class='btn btn-block btn-outline-info' onClick={this.toggleDetail}>\n                            <div class={`float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon`} style={`background-image: url('./assets/garmin-connect.png');`} />\n                            <Text id='workout.index.garmin-workouts'>Garmin workouts / not imported</Text> {activities.length}\n                        </button>\n                    </div>\n                </>);\n            }\n            return (<></>);\n        }\n\n        return (<>\n            <div class='col-12 mb-3'>\n                <div class='row'>\n                    {activities && activities.length > 0 && (\n                        <div\n                            class='col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light'\n                        >\n                            <button type='button' class='float-right btn btn-sm btn-link' onClick={this.toggleDetail}>\n                                <i class='fas fa-caret-up' /> <Text id='garmin.hide-list'>Hide list</Text>\n                            </button>\n                            <h5><Text id='workout.index.garmin-workouts'>Garmin workouts / not imported</Text> {activities.length}</h5>\n                            {activities && activities.map(activity => {\n                                const { summary = {} } = activity;\n                                const startDate = util.parseInputDate(summary.startTimeInSeconds);\n\n                                return (<>\n                                    {/* <td>{util.secToHms(activity.moving_time)}</td> */}\n                                    {/* <td>{util.secToHms(activity.elapsed_time)}</td> */}\n\n                                    {/* {\n                                        \"durationInSeconds\": 616,\n                                        \"startTimeInSeconds\": 1602065947,\n                                        \"startTimeOffsetInSeconds\": 7200,\n                                        \"activityType\": \"ROAD_BIKING\",\n                                        \"averageSpeedInMetersPerSecond\": 0.152,\n                                        \"averagePaceInMinutesPerKilometer\": 109.649124, \n                                        \"activeKilocalories\": 1, \n                                        \"deviceName\": \"edge1000\", \n                                        \"distanceInMeters\": 94.02, \n                                        \"maxPaceInMinutesPerKilometer\": 14.6455765, \n                                        \"maxSpeedInMetersPerSecond\": 1.138, \n                                        \"startingLatitudeInDegree\": 61.00674974732101, \n                                        \"startingLongitudeInDegree\": 9.975536987185478, \n                                        \"totalElevationLossInMeters\": 2\n                                    } */}\n\n                                    <div class='col-12 d-flex mb-4 position-relative'>\n                                        <div class={`text-center border rounded-circle imageRounded`} style={`background-image: url(\"./assets/garmin-connect.png\"); border-width: 3px !important;`}>\n                                            &nbsp;\n                                        </div>\n                                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                                            <h5 class='my-0 mb-1' style='line-height: 1.0em;'>{summary.deviceName}</h5>\n                                            {summary.activityType}<br />\n                                            <small class='text-muted'>\n                                                {startDate && <small onClick={this.toggleDate}>\n                                                    {forceShowDate || showDate ? util.formatDate(startDate, { locale: 'no-NB' }) : util.formatDistance(startDate, new Date(), { locale: 'no-NB' })}\n                                                </small>}\n                                                <span class='text-muted'>\n                                                    <i class='fas fa-road ml-2' /> <Distance stores={this.props.stores} value={summary.distanceInMeters / 1000} />\n                                                    <i class='fas fa-mountain ml-2' /> <Elevation stores={this.props.stores} value={summary.totalElevationGainInMeters} />\n                                                    <i class='fas fa-tachometer-alt ml-2' /> <Speed stores={this.props.stores} value={summary.averageSpeedInMetersPerSecond * 3.6} />\n                                                    <i class='fas fa-stopwatch ml-2' /> {util.secToHms(summary.durationInSeconds)}\n                                                </span>\n                                            </small>\n                                            <br />\n                                            <button class='btn btn-sm btn-block btn-primary' onClick={this.importGarminWorkout} data-id={activity.id}>\n                                                <i class='fas fa-file-import' /> {asTrack ? <Text id='garmin.import-track'>Import as track</Text> : <><Text id='garmin.import'>Import workout</Text> <i class='fas fa-arrow-right' /> {selectedTeam}</>} \n                                            </button>\n                                            <button class='btn btn-sm btn-link' onClick={this.ignoreGarminWorkout} data-id={activity.id}>\n                                                <i class='fas fa-trash-alt' /> <Text id='garmin.ignore'>Ignore workout</Text>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </>);\n                            })}\n\n                            <button type='button' class='btn btn-block btn-primary mt-3' onClick={this.toggleDetail}>\n                                <i class='fas fa-caret-up' /> <Text id='garmin.hide-list'>Hide list</Text>\n                            </button>\n                        </div>\n                    )}\n\n                </div>\n            </div>\n        </>);\n    }\n}\n\nexport default Garmin;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hoverelementonly\":\"hoverelementonly__1mJGJ\",\"hoverElement\":\"hoverElement__axh3O\",\"hoverelementhide\":\"hoverelementhide__1k_qH\",\"progress-bar-vertical\":\"progress-bar-vertical__1B2sC\",\"progress-bar\":\"progress-bar__pnsVj\",\"dragged\":\"dragged__QXO46\",\"over\":\"over__1re3x\",\"list\":\"list__q_emZ\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}°F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}°C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\n@observer\nclass Modal extends Component {\n    toggleDate = () => {\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n    touchStart = (e) => {\n        e.stopPropagation();\n        this.setState({\n            startY: e.touches[0].pageY,\n        })\n    }\n\n    touchEnd = (e) => {\n        e.stopPropagation();\n        this.setState({\n            startY: undefined,\n            readyToRefresh: false,\n        })\n    }\n\n    touchMove = (e) => {\n        e.stopPropagation();\n        const { close } = this.props;\n        const { startY, refreshing } = this.state;\n        const scrollDistance = 30;\n        const y = e.touches[0].pageY;\n        if (this.appContainer) {\n            const { scrollTop } = this.appContainer;\n            if (scrollTop === 0 && y > startY + scrollDistance && !refreshing) {\n                close();\n            }\n        }\n    }\n\n    render() {\n        const { showDate } = this.state;\n        const { image, imagexxl, close, thumb, name, title, date } = this.props;\n        return (\n            <div class='fixed-top bg-dark text-center pt-2' style='width: 100vw; height: 100vh;'>\n                <button class='btn btn-secondary float-right mr-2' onClick={close}>X</button>\n\n                    <div class='d-flex mb-2 px-2'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        {thumb && <div class={`text-center border rounded-circle imageRounded imageRoundedSmall`} style={thumb ? `background-image: url(\"${thumb}\");` : ''}>\n                            &nbsp;\n                        </div>}\n                        <div class='flex-grow-1 pl-3 pr-2 text-left' style='line-height: 1.3em;'>\n                            {name && <strong class='mr-2'>{name}:</strong>}\n                            {title}<br />\n                            <small class='text-muted'>\n                                {date && <small onClick={this.toggleDate}>\n                                    {showDate ? util.formatDate(date, { locale: 'no-NB' }) : util.formatDistance(date, new Date(), { locale: 'no-NB' })}\n                                </small>}\n                            </small>\n                        </div>\n                    </div>\n\n\n                <img src={image}\n                    class='img-fluid align-middle mt-2 mb-2'\n                    onClick={close}\n                    onTouchstart={this.touchStart}\n                    onTouchend={this.touchEnd}\n                    onTouchmove={this.touchMove}\n                    ref={c => this.appContainer = c}\n                />\n\n                <a target='_blank' rel='noopener noreferrer' href={imagexxl || image} download={imagexxl || image}>\n                    <i class='fas fa-download' /> <Text id='modal.download'>Last ned bildet</Text>\n                </a>\n            </div>\n        );\n    }\n}\n\nexport default Modal;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\n@observer\nclass Strava extends Component {\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n    ignoreStravaWorkout = async (e) => {\n        e.stopPropagation();\n        const id = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const { stravaActivityStore } = this.props.stores;\n\t\tawait stravaActivityStore.ignoreWorkout(id);\n        this.loadStravaActivities();\n    }\n\n    importStravaWorkout = async (e) => {\n        e.stopPropagation();\n        const id = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const { stravaActivityStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\t\tawait stravaActivityStore.importWorkout(id, currentTeam);\n        this.loadStravaActivities();\n        this.loadWorkouts();\n    }\n\n    async loadStravaActivities() {\n\t\tconst { stravaActivityStore } = this.props.stores;\n\t\tstravaActivityStore.load({ query: { hideImported: 1 }});\n\t}\n\n    loadWorkouts = async () => {\n\t\tconst { workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\t\tawait workoutStore.load({ query: { team: currentTeam } });\n\t}\n\n    toggleDetail = () => {\n        const { showDetail = false } = this.state;\n        this.setState({\n            showDetail: !showDetail,\n        });\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadStravaActivities();\n\t}\n\n    render() {\n        const { showDate, showDetail = false } = this.state;\n        const { activities, showDate: forceShowDate } = this.props;\n\t\tconst { userStore, workoutStore } = this.props.stores;\n        const { currentTeam } = workoutStore;\n        const { team } = userStore;\n\n        const selectedTeam = userStore.findTeam(currentTeam || team.id);\n\n         if (!showDetail) {\n            if (activities && activities.length > 0) {\n                return (<>\n                    <div class='col-12 mb-3'>\n                        <button type='button' class='btn btn-block btn-outline-info' onClick={this.toggleDetail}>\n                            <div class={`float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon`} style={`background-image: url('./assets/strava-icon.png');`} />\n                            <Text id='workout.index.strava-workouts'>Strava workouts / not imported</Text> {activities.length}\n                        </button>\n                    </div>\n                </>);\n            }\n            return (<></>);\n        }\n\n        return (<>\n            <div class='col-12 mb-3'>\n                <div class='row'>\n                    {activities && activities.length > 0 && (\n                        <div\n                            class='col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light'\n                        >\n                            <button type='button' class='float-right btn btn-sm btn-link' onClick={this.toggleDetail}>\n                                <i class='fas fa-caret-up' /> <Text id='strava.hide-list'>Hide list</Text>\n                            </button>\n                            <h5><Text id='workout.index.strava-workouts'>Strava workouts / not imported</Text> {activities.length}</h5>\n                            {activities && activities.map(activity => {\n                                const { summary = {} } = activity;\n                                const startDate = util.parseInputDate(summary.startTimeInSeconds);\n\n                                return (<>\n                                    {/* <td>{util.secToHms(activity.moving_time)}</td> */}\n                                    {/* <td>{util.secToHms(activity.elapsed_time)}</td> */}\n\n                                    <div class='col-12 d-flex mb-4 position-relative'>\n                                        <div class={`text-center border rounded-circle imageRounded`} style={`background-image: url(\"./assets/strava-icon.png\"); border-width: 3px !important;`}>\n                                            &nbsp;\n                                        </div>\n                                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                                            <h5 class='my-0 mb-1' style='line-height: 1.0em;'>{activity.name}</h5>\n                                            {activity.type}<br />\n                                            <small class='text-muted'>\n                                                {activity.start_date && <small onClick={this.toggleDate}>\n                                                    {forceShowDate || showDate ? util.formatDate(activity.start_date, { locale: 'no-NB' }) : util.formatDistance(activity.start_date, new Date(), { locale: 'no-NB' })}\n                                                </small>}\n                                                <span class='text-muted'>\n                                                    <i class='fas fa-road ml-2' /> <Distance stores={this.props.stores} value={activity.distance / 1000} />\n                                                    <i class='fas fa-mountain ml-2' /> <Elevation stores={this.props.stores} value={activity.total_elevation_gain} />\n                                                    <i class='fas fa-tachometer-alt ml-2' /> <Speed stores={this.props.stores} value={activity.average_speed * 3.6} />\n                                                    <i class='fas fa-stopwatch ml-2' /> {util.secToHms(activity.elapsed_time)}\n                                                </span>\n                                            </small>\n                                            <br />\n                                            <button class='btn btn-sm btn-block btn-primary' onClick={this.importStravaWorkout} data-id={activity.id}>\n                                                <i class='fas fa-file-import' /> <Text id='strava.import'>Import workout</Text> <i class='fas fa-arrow-right' /> {selectedTeam}\n                                            </button>\n                                            <button class='btn btn-sm btn-link' onClick={this.ignoreStravaWorkout} data-id={activity.id}>\n                                                <i class='fas fa-trash-alt' /> <Text id='strava.ignore'>Ignore workout</Text>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </>);\n                            })}\n\n                            <button type='button' class='btn btn-block btn-primary mt-3' onClick={this.toggleDetail}>\n                                <i class='fas fa-caret-up' /> <Text id='strava.hide-list'>Hide list</Text>\n                            </button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </>);\n    }\n}\n\nexport default Strava;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport Track from '../../components/track';\nimport Strava from '../../components/strava';\nimport Garmin from '../../components/garmin';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n\tisLoading: false,\n};\n\n@observer\nclass Tracks extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tasync loadTracks() {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { trackStore, userStore, messageStore } = this.props.stores;\n\t\tawait trackStore.load();\n\t\tawait userStore.getNotifications();\n        await messageStore.getUnReadMessages();\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\tasync loadStravaActivities() {\n\t\tconst { stravaActivityStore } = this.props.stores;\n\t\tstravaActivityStore.load({ query: { hideImported: 1 }});\n\t}\n\n\tasync loadGarminActivities() {\n\t\tconst { garminActivityDetailsStore } = this.props.stores;\n\t\tgarminActivityDetailsStore.load({ query: { hideImported: 1 }});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadTracks();\n\t\t// this.loadStravaActivities(),\n\t\tthis.loadGarminActivities();\n\t}\n\n\trender() {\n        const { scrolledDown } = this.props;\n\t\tconst { isLoading, searchText } = this.state;\n\t\tconst { trackStore, userStore, appState, workoutStore, stravaActivityStore, garminActivityDetailsStore } = this.props.stores;\n\t\tconst { tracks } = trackStore;\n\t\tconst { user } = userStore;\n\t\tconst { darkmode } = appState;\n\t\tconst { currentTeam } = workoutStore;\n\n\n\t\tconst { stravaActivities = [] } = stravaActivityStore;\n\t\tconst { garminActivityDetails = [] } = garminActivityDetailsStore;\n\n\t\tconst filterBySearch = e => searchText ? new RegExp(searchText, 'i').test(e.name) : true;\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row fixed-top pt-2' style={`margin-top: ${scrolledDown > 0 ? 0 : SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'}; transition: all 0.3s ease-in-out;`}>\n\t\t\t\t\t<div class='col text-center border-bottom border-primary subtopmenu'>\n\t\t\t\t\t\t<a href='/tracks/' class='text-primary stretched-link'><nobr><i class='fas fa-map-marked' /> <Text id='tracks.your-tracks'>Dine runder</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<a href='/tracks/public' class='text-secondary stretched-link'><nobr><i class='fas fa-map-marked' /> <Text id='tracks.public-tracks'>Offentlige runder</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t<h5><Text id='tracks.all-tracks' fields={{ total: tracks.length }}>Treningsrundene dine - {tracks.length} stk</Text></h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-2'>\n\t\t\t\t\t\t\t<a class='btn btn-sm btn-primary float-right'\n\t\t\t\t\t\t\t\thref='/tracks/edit/new'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-plus' /> <Text id='tracks.add-new'>Legg til runde</Text>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{!isLoading && tracks && tracks.length === 0 && (\n\t\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted'>\n\t\t\t\t\t\t\t\t<div class='text-center mb-5'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-map-marked' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t<Text id='tracks.no-tracks-yet'>Ingen runder er registrert ennå.</Text>\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p class='text-center'>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<Text id='tracks.no-tracks-info-1'>Du har mulighet til å laste opp GPX-filer fra rundene dine.</Text>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<Text id='tracks.no-tracks-info-2'>Det finnes mange apper som lar deg lage GPX-filer, men vi anbefaler</Text>:\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\tViewRanger for <a href='https://apps.apple.com/gb/app/viewranger-hike-ride-or-walk/id404581674'>iOS</a> and\n\t\t\t\t\t\t\t\t\t&nbsp;<a href='https://play.google.com/store/apps/details?id=com.augmentra.viewranger.android&hl=en'>Android</a>.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<Text id='tracks.howto-title'>Slik kommer du i gang</Text>:\n\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t<li><Text id='tracks.howto-1'>Trykk på knappen \"Legg til runde\" rett nedenfor.</Text></li>\n\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{user && user.garmin &&<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3'>\n\t\t\t\t\t\t<div class='row mt-3'>\n\t\t\t\t\t\t\t{/* {user && user.strava && <>\n\t\t\t\t\t\t\t\t<Strava stores={this.props.stores} activities={stravaActivities} key={`strava-${currentTeam}-${stravaActivities.length}`} />\n\t\t\t\t\t\t\t</>} */}\n\t\t\t\t\t\t\t{user && user.garmin && <>\n\t\t\t\t\t\t\t\t<Garmin stores={this.props.stores} activities={garminActivityDetails} asTrack={true} key={`garmin-${currentTeam}-${garminActivityDetails.length}`} />\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>}\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3'>\n\t\t\t\t\t\t<div class='d-flex justify-content-center py-3'>\n\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t<input class='form-control form-control mr-2' type='search' placeholder={<Text id='header.search-placeholder'>Søk etter det meste...</Text>}\n\t\t\t\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'searchText')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Localizer>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\n\t\t\t\t\t\t{tracks && tracks.filter(filterBySearch).map(track => (\n\t\t\t\t\t\t\t<Track stores={this.props.stores} track={track} />\n\t\t\t\t\t\t))}\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Tracks;\n"],"sourceRoot":""}