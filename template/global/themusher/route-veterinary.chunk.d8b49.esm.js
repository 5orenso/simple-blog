(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"6a5D":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var l,n=s("hosL"),i=s("ox/y"),o=(s("Utv1"),s("/eY4")),r=(s("go65"),s("Y3FI")),h=s("OhSV");const d={menu:{profile:!1,main:!1},searchText:""};Object(o.a)(l=class extends n.Component{constructor(e){var t;super(e),t=this,this.toggleDropdown=e=>{const{menu:t}=this.state;let s=e.target.dataset.name;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.name),s&&(t[s]=!t[s]),this.setState({menu:t})},this.toggleDarkmode=e=>{const{appState:t}=this.props.stores;t.toggleDarkmode(),this.toggleDropdown(e)},this.toggleViewmode=e=>{const{appState:t}=this.props.stores;let s=e.target.dataset.mode;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.mode),t.toggleViewmode(s),this.toggleDropdown(e)},this.reloadApp=()=>{window.location.reload(!0)},this.adminLoadAll=async function(){const{userStore:e}=t.props.stores;await e.getInfo(!0)},this.changeLanguage=e=>{const t=e.target.value;console.log("changeLanguage",t);const{appState:s,userStore:a}=this.props.stores,{user:c={}}=a;c.email&&a.setLanguage({email:c.email,language:t}),s.setLanguage(t)},this.search=()=>{const{searchText:e}=this.state;Object(r.route)("/search/"+e)},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d)}render(){const{menu:e}=this.state,{appState:t,userStore:s}=this.props.stores,{darkmode:a}=t,{user:c,notifications:l=[]}=s,{language:o="en"}=(l.filter(e=>!e.read),c);return Object(n.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top",style:"z-index: 99999;"},Object(n.h)("a",{class:"navbar-brand",href:"/"},Object(n.h)("img",{src:"./assets/logo.png",height:"37",class:"position-absolute",style:"top: 10px; left: 6px"}),Object(n.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 25px;"},"The Musher")),Object(n.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(n.h)("span",{class:"navbar-toggler-icon"})),Object(n.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(n.h)("ul",{class:"navbar-nav mr-auto ml-5"}),Object(n.h)("ul",{class:"navbar-nav ml-auto "},Object(n.h)("li",{class:"nav-item mr-2"},Object(n.h)("div",{class:"form-row align-items-center"},Object(n.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(n.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(n.h)("option",{value:"no",selected:"no"===o},"ðŸ‡³ðŸ‡´ NO"),Object(n.h)("option",{value:"en",selected:"en"===o},"ðŸ‡¬ðŸ‡§ EN"),Object(n.h)("option",{value:"es",selected:"es"===o},"ðŸ‡ªðŸ‡¸ ES"),Object(n.h)("option",{value:"de",selected:"de"===o},"ðŸ‡©ðŸ‡ª DE"),Object(n.h)("option",{value:"fr",selected:"fr"===o},"ðŸ‡«ðŸ‡· FR"),Object(n.h)("option",{value:"ru",selected:"ru"===o},"ðŸ‡·ðŸ‡º RU"),Object(n.h)("option",{value:"se",selected:"se"===o},"ðŸ‡¸ðŸ‡ª SE"))))),Object(n.h)("li",{class:"nav-item d-block d-lg-none"},Object(n.h)(i.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(n.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"})," ",Object(n.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(n.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(n.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(n.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"}))))))}})},atwK:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i,o,r=s("hosL"),h=(s("QRet"),s("Utv1")),d=s("/eY4"),b=s("OhSV"),g=s("go65"),p=(s("fh8t"),s("cneo"),s("6a5D"),s("s4FZ")),u=s("ZOvn");const m=u.a.marginTop(!0),O=u.a.marginBottom(),j=(u.a.subMenuMarginTop(),u.a.getVaccineTypesVet()),f=h.a.getApiServer(),v={isLoading:!1,email:"",submenu:"ads",jwtToken:h.a.getJwtToken()};let y=Object(d.a)(n=class extends r.Component{constructor(...e){var t;super(...e),t=this,this.selectTeam=async function(e){e.preventDefault();t.setState({displayTeam:parseInt(e.target.value,10)})}}render(){const{teams:t=[],displayUser:s}=this.props,{userStore:a}=this.props.stores,{isLoading:c}=a,l=t[0]?t[0]:{},{displayTeam:n=l.id}=this.state;return Object(r.h)("div",{class:"bg-light p-0"},c.getDogs?Object(r.h)(e,null,"Loading..."):Object(r.h)(e,null,Object(r.h)("label",{for:"team"},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(b.c,{id:"dog.veterinary.team"},"Team")),Object(r.h)("select",{class:"form-control form-control-lg mb-2",id:"team",onChange:this.selectTeam},Object(r.h)("option",{value:""},"-- ",Object(r.h)(b.c,{id:"dog.veterinary.choose-team"},"Choose team")," --"),t&&t.map(t=>Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.name)))),t&&t.map(t=>Object(r.h)(e,null,n===t.id&&Object(r.h)(e,null,Object(r.h)(x,{stores:this.props.stores,dogs:t.dogs,displayUser:s}))))))}})||n,x=Object(d.a)(i=class extends r.Component{constructor(e){var t;super(e),t=this,this.selectDog=e=>{const{id:t}=e.target.closest("tr").dataset,{selectedDogs:s,missingChipId:a}=this.state,c=parseInt(t,10),l=s.indexOf(c),{dogs:n}=this.props;if(n.find(e=>e.id===c).chipId.length<10)return a[c]=!a[c],this.setState({missingChipId:a}),"";-1===l?s.push(c):s.splice(l,1),this.setState({selectedDogs:s})},this.selectDogSection=e=>{const{id:t}=e.target.closest("i").dataset,{selectedDogs:s,missingChipId:a}=this.state,c=parseInt(t,10),l=s.indexOf(c),{dogs:n}=this.props;if(n.find(e=>e.id===c).chipId.length<10)return a[c]=!a[c],this.setState({missingChipId:a}),"";-1===l?s.push(c):s.splice(l,1),this.setState({selectedDogs:s})},this.selectAllDogs=()=>{const{dogs:e}=this.props,t=e.filter(e=>e.chipId.length>10).map(e=>e.id),s=e.filter(e=>e.chipId.length<10).map(e=>e.id),{missingChipId:a}=this.state;for(let e=0,t=s.length;e<t;e+=1){const t=s[e];a[t]=!a[t]}this.setState({selectedDogs:t,missingChipId:a})},this.removeAllDogs=()=>{this.setState({selectedDogs:[]})},this.selectVaccine=e=>{const{id:t}=e.target.closest("tr").dataset,{selectedVaccines:s}=this.state,a=parseInt(t,10),c=s.indexOf(a);-1===c?s.push(a):s.splice(c,1),this.setState({selectedVaccines:s})},this.addVaccinesToDogs=async function(){const{selectedDogs:e,selectedVaccines:s,vaccineDate:a}=t.state,{userStore:l,vaccineLogStore:n}=t.props.stores,{user:i}=l,o=[],{dogs:r}=t.props,h={id:i.id,firstname:i.firstname,lastname:i.lastname,email:i.email,image:i.image};for(let t=0,l=e.length;t<l;t+=1){const l=e[t],n=r.find(e=>e.id===l),i={id:n.id,user:n.user,team:n.team,name:n.name,shortname:n.shortname,chipId:n.chipId};for(let e=0,t=s.length;e<t;e+=1){const t=s[e],l=j.find(e=>e.id===t),n={date:a,id:l.id,name:l.name,agens:l.agens,comment:l.comment};o.push({dog:c({},i),vaccine:c({},n),veterinary:c({},h)})}}await n.insert({data:o}),t.setState({data:o,selectedDogs:[],selectedVaccines:[]}),l.addVaccineLogStatuses(o)},this.toggleShowAddVaccineToDogs=()=>{const{showAddVaccineToDogs:e=!1}=this.state;this.setState({showAddVaccineToDogs:!e})},this.state={missingChipId:{},selectedDogs:[],selectedVaccines:[],vaccineDate:h.a.isoDate(new Date,!1,!1,!0)}}render(){const{selectedDogs:t,selectedVaccines:s,missingChipId:a,data:c,showAddVaccineToDogs:l=!1,vaccineDate:n}=this.state,{userStore:i}=this.props.stores,{isAdmin:o,vaccineLogStatuses:d}=i,{dogs:u}=this.props,m=j.filter(e=>s.indexOf(e.id)>-1).map(e=>e.agens.map(e=>e.name)).flat();return Object(r.h)(e,null,Object(r.h)("div",{class:"table-responsive mt-3"},Object(r.h)("button",{class:"btn btn-lg btn-block btn-outline-success mt-5",onClick:this.selectAllDogs},Object(r.h)(b.c,{id:"dog.veterinary.select-all-dogs"},"Select all dogs")),t&&t.length>0&&Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-sm btn-block btn-link",onClick:this.removeAllDogs},Object(r.h)(b.c,{id:"dog.veterinary.remove-all-dogs"},"Remove all dogs"))),Object(r.h)("table",{class:"table table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{scope:"col",style:"width: 100px;"},"Â "),Object(r.h)("th",{scope:"col"},Object(r.h)(b.c,{id:"dog.veterinary.name"},"Name")))),Object(r.h)("tbody",null,u&&u.map(s=>{let c;s.images&&s.images[0]&&(c=s.images[0]),s.image&&(c=s.image);const l=t.indexOf(s.id)>-1,n=a[s.id];return Object(r.h)(e,null,Object(r.h)("tr",{class:"pointerCursor",onClick:this.selectDog,"data-id":s.id},Object(r.h)("td",{class:"position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:""+(c?`background-image: url('${c.s3ThumbLink}'); background-size: cover;`:"")},!c&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},h.a.ucfirst(s.name,!0))),l&&Object(r.h)("span",{class:"position-absolute display-4",style:"top: 0px; left: 0px;"},Object(r.h)("i",{class:"fas fa-check text-success"})),n&&Object(r.h)("span",{class:"position-absolute display-4",style:"top: 0px; left: 0px;"},Object(r.h)("i",{class:"fas fa-hand-paper text-danger"}))),Object(r.h)("td",null,Object(r.h)("span",{class:"float-right"},s.birth&&Object(r.h)("span",{class:"mr-2"},h.a.age(s.birth,s.deceased)),"female"===s.gender?Object(r.h)("i",{class:"fas fa-venus"}):Object(r.h)("i",{class:"fas fa-mars"})),Object(r.h)("h5",null,s.name," ",s.shortname&&Object(r.h)("span",{class:"font-weight-lighter"}," - '",s.shortname,"'")),Object(r.h)("div",null,Object(r.h)("span",{class:"text-muted"},s.chipId&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-microchip"})," ",s.chipId))),Object(r.h)("div",null,d&&d.filter(e=>e.chipId===s.chipId).map(t=>Object(r.h)("span",{class:`badge badge-${t.inKarens?"warning":"success"} mr-2 mb-1`},t.vaccineAgens.name,Object(r.h)("span",{class:"font-weight-lighter ml-2"},Object(r.h)("i",{class:"fas fa-calendar-check"})," ",h.a.isoDate(t.vaccineAgens.durationEnd,!1,!1,!0),t.inKarens&&Object(r.h)(e,null,Object(r.h)("br",null),"(karens: ",h.a.format(t.karensDaysLeft,0)," days left)"))))),o&&Object(r.h)(e,null,Object(r.h)("h5",null,"Uploaded files for this dog:"),s.files&&s.files.length>0?Object(r.h)(e,null,Object(r.h)(p.a,{stores:this.props.stores,images:s.files.filter(e=>e.s3LargeLink)})):Object(r.h)(e,null)))))})))),Object(r.h)("div",{class:"mt-5"},t&&t.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-12"},Object(r.h)("label",{for:"vaccineTypeInput"},Object(r.h)("i",{class:"fas fa-syringe"})," ",Object(r.h)(b.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(r.h)("table",{class:"table table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{scope:"col",style:"width: 100px;"},"Â "),Object(r.h)("th",{scope:"col"},Object(r.h)(b.c,{id:"dog.veterinary.name"},"Name")),Object(r.h)("th",{scope:"col",style:"width: 130px;"},Object(r.h)(b.c,{id:"dog.veterinary.image"},"Image")))),Object(r.h)("tbody",null,j&&j.map(t=>{const a=s.indexOf(t.id)>-1;return Object(r.h)("tr",{"data-id":t.id,onClick:this.selectVaccine},Object(r.h)("td",null,a?Object(r.h)(e,null,Object(r.h)("div",{class:"display-4 text-center"},Object(r.h)("i",{class:"fas fa-check text-success"}))):Object(r.h)(e,null,Object(r.h)("div",{class:"display-4 border rounded-lg text-center"},Object(r.h)("i",{class:"fas fa-radio text-success"})))),Object(r.h)("td",null,t.name,Object(r.h)("br",null),Object(r.h)("small",null,t.agens.map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-dark mr-2 mt-1"},t.name," (",t.durationMonths," months, ",t.karensDays," days)"))))),Object(r.h)("td",null,t.image&&Object(r.h)("img",{class:"img-fluid",src:`${f}${t.image}`})))})))),Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("label",{for:"team"},Object(r.h)("i",{class:"fas fa-dog"})," ",Object(r.h)(b.c,{id:"dog.veterinary.choosen-dogs"},"Valgte hunder")),Object(r.h)("div",{class:"d-flex flex-wrap"},u&&u.map(s=>{let a;s.images&&s.images[0]&&(a=s.images[0]),s.image&&(a=s.image);if(!(t.indexOf(s.id)>-1))return"";const c=d.filter(e=>e.chipId===s.chipId).map(e=>e.vaccineAgens.name).flat();return Object(r.h)(e,null,Object(r.h)("section",{class:"p-2 position-relative",style:"width: 120px;"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:""+(a?`background-image: url('${a.s3ThumbLink}');`:"")},!a&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},h.a.ucfirst(s.name,!0))),Object(r.h)("small",null,s.name),Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},s.birth&&Object(r.h)("span",{class:"mr-2"},h.a.age(s.birth,s.deceased)),"female"===s.gender?Object(r.h)("i",{class:"fas fa-venus"}):Object(r.h)("i",{class:"fas fa-mars"})),m&&Object(r.h)(e,null,m.filter(e=>c.indexOf(e)>-1).map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-danger mr-2 mb-1"},Object(r.h)("i",{class:"fas fa-exclamation-triangle"})," ",t)))),Object(r.h)("div",{class:"position-absolute",style:"top: 0px; right: 0px; font-size: 2.0em;"},Object(r.h)("i",{class:"fas fa-times-circle text-danger",onClick:this.selectDogSection,"data-id":s.id}))))}))),Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("label",null,Object(r.h)("i",{class:"fas fa-syringe"})," ",Object(r.h)(b.c,{id:"dog.veterinary.chosen-vaccines"},"Valgte vaksiner")),j&&j.map(t=>s.indexOf(t.id)>-1?Object(r.h)("div",{class:"mb-3"},Object(r.h)("span",{class:"font-weight-lighter"},"+")," ",t.name,Object(r.h)("br",null),Object(r.h)("small",null,t.agens.map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-dark mr-2 mt-1"},t.name," (",t.durationMonths," months, ",t.karensDays," days)"))))):"")),s&&s.length>0?Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("label",null,Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(b.c,{id:"dog.veterinary.vaccine-date"},"Dato for vaksine")),Object(r.h)(b.b,null,Object(r.h)("input",{type:"date",class:"form-control form-control-lg mb-2",id:"vetSearch",placeholder:Object(r.h)(b.c,{id:"dog.veterinary.vaccine-date-placeholder"},"Velg dato for vaksine. Dersom vaksine er dagens dato, sÃ¥ trenger du ikke velge."),onInput:Object(g.a)(this,"vaccineDate"),value:n}))),l?Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("h5",null,Object(r.h)(b.c,{id:"dog.veterinary.are-you-sure",fields:{dogs:t.length}},"Are you sure you want to add vaccine to ",t.length," dog?")),Object(r.h)("button",{type:"button",class:"btn btn-lg btn-block btn-success mb-2",onClick:this.addVaccinesToDogs},Object(r.h)(b.c,{id:"dog.veterinary.yes-iam-sure"},"Yes, I'm sure!")),Object(r.h)("button",{type:"button",class:"btn btn-lg btn-block btn-danger mb-2",onClick:this.toggleShowAddVaccineToDogs},Object(r.h)(b.c,{id:"dog.veterinary.cancel"},"Cancel")))):Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("button",{type:"button",class:"btn btn-lg btn-block btn-success mb-2",onClick:this.toggleShowAddVaccineToDogs},Object(r.h)(b.c,{id:"dog.veterinary.add-vaccine-to-dogs",fields:{dogs:t.length}},"Add vaccine to ",t.length," dogs"))))):Object(r.h)(e,null,Object(r.h)("h3",{class:"text-muted mt-4"},Object(r.h)(b.c,{id:"dog.veterinary.choose-vaccines"},"Velg vaksiner i listen over")))))),c&&Object(r.h)(e,null,Object(r.h)("div",{class:"mt-5"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 pt-4"},Object(r.h)("h5",null,Object(r.h)(b.c,{id:"dog.veterinary.recepipt"},"Receipt")),Object(r.h)("table",{class:"table table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{scope:"col"},Object(r.h)(b.c,{id:"dog.veterinary.dog"},"Dog")),Object(r.h)("th",{scope:"col"},Object(r.h)(b.c,{id:"dog.veterinary.vaccine"},"Vaccine")))),Object(r.h)("tbody",null,c&&c.map(t=>{const s=t.dog,a=t.vaccine;return Object(r.h)(e,null,Object(r.h)("tr",null,Object(r.h)("td",null,s.name,Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},s.chipId)),Object(r.h)("td",null,a.name,Object(r.h)("small",null,a.agens.map(t=>Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-dark mr-2 mt-1"},t.name," (",t.durationMonths," months, ",t.karensDays," days)")))))))}))))))))}})||i,k=Object(d.a)(o=class extends r.Component{constructor(e){var t;super(e),t=this,this.searchForMusher=async function(e){e.preventDefault();const{userStore:s}=t.props.stores,{search:a}=t.state;t.setState({isSearcing:!0,displayUser:null}),await s.searchUsers({search:a}),t.setState({isSearcing:!1})},this.selectMusher=async function(e){const{id:s}=e.target.closest("tr").dataset,{displayUser:a}=t.state,c=parseInt(s,10);if(a===c)t.setState({displayUser:null});else{t.setState({displayUser:c});const{userStore:e}=t.props.stores;await e.getDogs({id:c})}},this.state=c({},v)}componentDidMount(){}componentWillReceiveProps(e){}render(){const{displayUser:t,isSearcing:s}=this.state,{appState:a,userStore:c}=this.props.stores,{isVeterinary:l,searchUsersResult:n,searchUserTeams:i,user:o}=c,{language:d="en"}=a,{col:p=12,offset:j=0}=this.props;if(!l)return Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid h-100"},Object(r.h)("div",{class:"row h-100"},Object(r.h)("div",{class:"col-12 text-center my-auto"},Object(r.h)("div",{class:"display-1 text-danger"},Object(r.h)("i",{class:"fas fa-hand-paper"})),Object(r.h)("h5",null,Object(r.h)(b.c,{id:"dog.veterinary.no-access"},"No access!")),Object(r.h)("p",null,Object(r.h)(b.c,{id:"dog.veterinary.attempts-logged"},"All attempts are logged and reported.")),Object(r.h)("a",{class:"mt-3 btn btn-lg btn-primary",href:"/"},Object(r.h)(b.c,{id:"dog.veterinary.goto-frontpage"},"Go to the frontpage"))))));const f=u.a.getImage({user:o}),v=u.a.displayNameShort(o),x=u.a.displayName(o,!0);return Object(r.h)(e,null,Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${O}; margin-top: ${m};`},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:`col-${p} offset-${j} col-sm-8 col-lg-8 offset-sm-2 offset-lg-2`},Object(r.h)("div",{class:"d-flex position-relative mb-3"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:f?`background-image: url("${f}"); background-size: cover;`:""},!f&&Object(r.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},v)),Object(r.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 0.9em;"},Object(r.h)("h1",{class:"mb-0"},Object(r.h)(b.c,{id:"dog.veterinary.title"},"Veterinary search")),Object(r.h)("small",{class:"text-muted"},x))),Object(r.h)("form",{onSubmit:this.searchForMusher},Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-10"},Object(r.h)("label",{class:"sr-only",for:"vetSearch"},Object(r.h)(b.c,{id:"dog.veterinary.name"},"Name")),Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control form-control-lg mb-2",id:"vetSearch",placeholder:Object(r.h)(b.c,{id:"dog.veterinary.search-placeholder"},"Search for musher by email, cellphone or name..."),onInput:Object(g.a)(this,"search")}))),Object(r.h)("div",{class:"col-2"},Object(r.h)("button",{type:"button",class:"btn btn-lg btn-primary mb-2",onClick:this.searchForMusher},Object(r.h)(b.c,{id:"dog.veterinary.search"},"Search")))))),Object(r.h)("div",{class:`col-${p} offset-${j} col-sm-8 col-lg-8 offset-sm-2 offset-lg-2`},s&&Object(r.h)(e,null,Object(r.h)("div",{class:"spinner-border text-primary",role:"status"},Object(r.h)("span",{class:"sr-only"},Object(r.h)(b.c,{id:"dog.veterinary.searching"},"Searcing...")))),n&&0!==n.length?Object(r.h)("div",{class:"table-responsive"},Object(r.h)("table",{class:"table table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{scope:"col",style:"width: 100px;"},"Â "),Object(r.h)("th",{scope:"col"},Object(r.h)(b.c,{id:"dog.veterinary.name"},"Name")))),Object(r.h)("tbody",null,n&&n.filter(e=>!t||e.id===t).map(s=>{let a;return s.images&&s.images[0]&&(a=s.images[0]),s.image&&(a=s.image),Object(r.h)(e,null,Object(r.h)("tr",{class:"pointerCursor",onClick:this.selectMusher,"data-id":s.id},Object(r.h)("td",null,Object(r.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:""+(a?`background-image: url('${a.s3ThumbLink}');`:"")},!a&&Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},s.firstname?Object(r.h)(e,null,h.a.ucfirst(s.firstname,!0),h.a.ucfirst(s.lastname,!0)):Object(r.h)(e,null,h.a.ucfirst(s.email,!0))))),Object(r.h)("td",null,s.firstname," ",s.lastname,Object(r.h)("br",null),Object(r.h)("div",null,s.facebook&&Object(r.h)("a",{class:"mr-2",href:u.a.asFacebookLink(s.facebook),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook-square"})),s.instagram&&Object(r.h)("a",{class:"mr-2",href:u.a.asInstagramLink(s.instagram),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"}))),Object(r.h)("i",{class:"fas fa-mobile-alt"})," ",s.cellphone,Object(r.h)("i",{class:"fas fa-envelope ml-3"})," ",s.email)),t===s.id&&Object(r.h)(e,null,Object(r.h)("tr",null,Object(r.h)("td",{colspan:"2"},Object(r.h)(y,{stores:this.props.stores,teams:i,displayUser:t})))))})))):Object(r.h)(e,null,"Â ")))))}})||o;t.default=k}.call(this,s("hosL").Fragment)},s4FZ:function(e,t,s){"use strict";(function(e){function a(e){return n.a.isObject(e)&&e.s3LargeLink}var c,l=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV");let o=Object(i.a)(c=class extends l.Component{constructor(e){super(e),this.scrollImages=e=>{const{images:t,callback:s=(()=>{})}=this.props,{scrollLeft:a,clientWidth:c}=e.target,l=a/c,n=Math.round(l),i=Math.abs(n-l);(Number.isInteger(l)||i<.1)&&(this.setState({imageIdx:n}),s(n))},this.onClickScrollLeft=()=>{const e=this.imageScrollerRef;e.scrollBy({top:0,left:0-e.clientWidth,behavior:"smooth"})},this.onClickScrollRight=()=>{const e=this.imageScrollerRef;e.scrollBy({top:0,left:e.clientWidth,behavior:"smooth"})},this.distance=e=>Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY),this.pinchZoomOnTouchStart=e=>{if(2===e.touches.length){e.preventDefault(),e.stopPropagation();const t={};t.x=(e.touches[0].pageX+e.touches[1].pageX)/2,t.y=(e.touches[0].pageY+e.touches[1].pageY)/2,t.distance=this.distance(e),this.setState({start:t})}},this.pinchZoomOnTouchMove=e=>{let{imageElementScale:t,imageElementMaxScale:s}=this.state;const{start:a}=this.state;if(2===e.touches.length){let c;if(e.preventDefault(),e.stopPropagation(),e.scale)c=e.scale;else{c=this.distance(e)/a.distance}t=Math.min(Math.max(1,c),s),this.setState({imageElementScale:t},()=>{const s=`translate3d(${2*((e.touches[0].pageX+e.touches[1].pageX)/2-a.x)}px, ${2*((e.touches[0].pageY+e.touches[1].pageY)/2-a.y)}px, 0) scale(${t})`;e.target.style.transition="",e.target.style.transform=s,e.target.style.WebkitTransform=s,e.target.style.zIndex="100000"})}},this.pinchZoomOnTouchEnd=e=>{this.setState({imageElementScale:1}),e.target.style.transition="transform 250ms",e.target.style.transform="",e.target.style.WebkitTransform="",e.target.style.zIndex=""},this.state={imageIdx:0,imageElementScale:1,imageElementMaxScale:5,start:{}}}render(){const{imageIdx:t,imageElementScale:s}=this.state,{images:c,id:n,dblClick:i=(()=>{}),likeRef:o={},noimagestext:r,minHeight:h="100px"}=this.props,{appState:d}=this.props.stores,{isCordova:b}=d,g=t>0,p=t<c.length-1;return c&&0!==c.length?Object(l.h)("div",{class:"w-100 position-relative"},Object(l.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom no-scrollbar",style:`\n                        overflow-x: ${s>1&&1===c.length?"visible !important":"auto"};\n                        overflow-y: ${s>1?"visible !important":"auto"};\n                        scroll-snap-type: x mandatory;\n                    `,onScroll:this.scrollImages,ref:e=>this.imageScrollerRef=e},c&&c.filter(a).map(t=>Object(l.h)("div",{class:"col-12 clearfix p-0"},Object(l.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center position-relative ",style:"\n                                    scroll-snap-align: start;\n                                    flex-wrap: wrap;\n                                ",onDblclick:i,"data-id":n,onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},Object(l.h)("div",{class:"position-absolute w-100 h-100",style:`\n                                        background-image: url('${t.s3SmallLink}'); background-size: cover;\n                                        filter: blur(10px);\n                                        opacity: 0.5;\n                                    `}),t.s3LargeLink?Object(l.h)("img",{class:"img-fluid position-relative",src:`${t.s3LargeLink}${t.updatedDate?"?updated="+(""+t.updatedDate):""}`,loading:"lazy",style:`max-height: 75vh; min-height: ${h}; `,onTouchstart:this.pinchZoomOnTouchStart,onTouchend:this.pinchZoomOnTouchEnd,onTouchmove:this.pinchZoomOnTouchMove}):Object(l.h)(e,null,Object(l.h)("span",{class:"display-1 text-muted"},Object(l.h)("i",{class:"fas fa-camera"}))),t.title&&Object(l.h)("div",{class:"position-absolute w-100 text-center",style:"bottom: 0px; background-color: rgba(0, 0, 0, 0.5);"},t.title)),o[n]&&Object(l.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(l.h)("i",{class:"fas fa-heart likeStory"}))))),c&&c.length>1&&Object(l.h)(e,null,Object(l.h)("div",{class:"w-100 text-center"},Object(l.h)("small",null,Object(l.h)("small",null,c&&c.filter(a).map((s,a)=>Object(l.h)(e,null,Object(l.h)("i",{class:(a===t?"fas":"far")+" fa-circle mr-1"})))))),Object(l.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(l.h)("small",null,t+1," / ",c.length))),b?Object(l.h)(e,null):Object(l.h)(e,null,g&&Object(l.h)("div",{class:"position-absolute d-none d-lg-block",style:"top: 50%; left: 5px;"},Object(l.h)("button",{type:"button",class:"btn btn-link text-secondary",style:"font-size: 3.0em; opacity: 0.7;",onClick:this.onClickScrollLeft},Object(l.h)("i",{class:"fas fa-arrow-circle-left"}))),p&&Object(l.h)("div",{class:"position-absolute d-none d-lg-block",style:"top: 50%; right: 5px;"},Object(l.h)("button",{type:"button",class:"btn btn-link text-secondary",style:"font-size: 3.0em; opacity: 0.7;",onClick:this.onClickScrollRight},Object(l.h)("i",{class:"fas fa-arrow-circle-right"}))))):r?Object(l.h)(e,null,Object(l.h)("div",{class:"col-12 text-center text-muted"},Object(l.h)("div",{class:"display-1"},Object(l.h)("i",{class:"fas fa-camera"})),Object(l.h)("h3",{class:"font-weight-lighter"},r))):Object(l.h)(e,null)}})||c;t.a=o}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-veterinary.chunk.d8b49.esm.js.map