(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{RUc2:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),r=s("Utv1"),l=s("/eY4"),i=(s("cneo"),s("OhSV")),d=s("ZOvn"),b=(s("KDoM"),s("2X7c")),h=s("7g1v"),u=(s("mPUg"),s("pJjI")),p=s("epqT"),g=d.a.marginTop(!0),f=d.a.marginBottom(),O=d.a.subMenuMarginTop(),j={isLoading:!1,submenu:"all",showDaysBackEdit:!1,showAllDogs:!1},m=Object(l.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadDogs=function(t){return new Promise((function(e,o){var a,n,c,r,l,i;return void 0===t&&(t=s.props),a=s.state.showAllDogs,s.setState({isLoading:!0}),r=(n=s.props.stores).userStore,l=(c=n.dogStore).daysBack,i={team:c.currentTeam},a&&(i.deceased=1),Promise.resolve(Promise.all([s.loadWorkoutPlans(t),c.load({query:i,addData:["workoutSummary","vaccineStatuses","historyStatuses"]}),c.getDogsWithTraining({daysBack:l}),r.getNotifications()])).then((function(){try{return s.setState({isLoading:!1}),e()}catch(t){return o(t)}}),o)}))},s.loadWorkoutPlans=function(t){return new Promise((function(e,o){function a(){return s.setState({isLoading:!1}),e()}var n,c,l,i,d,b,h,u;return void 0===t&&(t=s.props),s.setState({isLoading:!0}),n=t.year,c=(new Date).getMonth()+1,l=r.a.getYear(),i=parseInt(n||(c<8?l-1:l),10),h=(d=t.stores).workoutStore.currentTeam,(b=d.workoutPlanStore).updateItem("workoutPlans",[]),b.updateItem("workoutPlan",{}),b.resetGraphPlanWeekDistanceCurrent(),h?Promise.resolve(b.load({query:{team:h,seasonYear:i,seasonMonth:6}})).then(function(){try{if((u=b.workoutPlans[0]||{}).id)return Promise.resolve(b.load(u.id)).then(function(){try{return b.prepareWeekGraphs({year:n}),t.call(this)}catch(t){return o(t)}}.bind(this),o);function t(){return a.call(this)}return t.call(this)}catch(t){return o(t)}}.bind(this),o):a.call(this)}))},s.toggleDaysBackEdit=function(){s.setState({showDaysBackEdit:!s.state.showDaysBackEdit})},s.toggleShowAllDogs=function(){s.setState({showAllDogs:!s.state.showAllDogs},(function(){return s.loadDogs()}))},s.setHistoryType=function(t){s.setState({historyType:t})},s.chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.chooseDaysBack=function(t){var e=parseInt(t.target.parentElement.dataset.daysback||t.target.dataset.daysback,10),o=s.props.stores.dogStore;o.setDaysBack(e),o.getDogsWithTraining({daysBack:e}),s.toggleDaysBackEdit()},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},j),s}var n,l;l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var m=s.prototype;return m.componentDidMount=function(){this.loadDogs()},m.render=function(){var e=this,s=this.state,o=s.isLoading,a=s.historyType,n=s.submenu,r=s.showDaysBackEdit,l=s.showAllDogs,j=this.props.stores,m=j.dogStore,y=j.appState,w=m.daysBack,k=m.currentTeam,v=j.userStore.user.language,x=d.a.getHistoryMap(void 0===v?"no":v),D=y.darkmode,S=m.dogs,P=m.workoutSummaryCurrent,B=function(){return!0};if(S)switch(n){case"all":B=function(){return!0};break;case"leadOnly":B=function(t){return!!(t.positions&&t.positions.lead&&t.positions.lead.distanceKm>0)};break;case"pointOnly":B=function(t){return!!(t.positions&&t.positions.point&&t.positions.point.distanceKm>0)};break;case"teamOnly":B=function(t){return!!(t.positions&&t.positions.team&&t.positions.team.distanceKm>0)};break;case"wheelOnly":B=function(t){return!!(t.positions&&t.positions.wheel&&t.positions.wheel.distanceKm>0)}}var C=S.filter(B);return Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+f+"; margin-top: "+g+";"},Object(c.h)("div",{class:"row mb-4 fixed-top",style:"margin-top: "+O+"; background-color: "+(D?"#191d21":"#f8f9fa")+";"},Object(c.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs",class:"text-primary stretched-link"},Object(c.h)("i",{class:"fas fa-chart-line"})," ",Object(c.h)(i.c,{id:"dogs.dashboard"},"Oversikt")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs/list",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-list"})," ",Object(c.h)(i.c,{id:"dogs.list"},"Liste")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs/feed",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-rss"})," ",Object(c.h)(i.c,{id:"dogs.feed"},"Feed")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("nobr",null,Object(c.h)("a",{href:"/dogs/todo",class:"text-secondary stretched-link"},Object(c.h)("i",{class:"fas fa-calendar-check"})," ",Object(c.h)(i.c,{id:"dogs.todo"},"Todo"))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-2 border-bottom"},Object(c.h)(u.a,{stores:this.props.stores,callback:this.loadDogs})),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 pb-2 clearfix"},Object(c.h)("span",{class:"float-right"},Object(c.h)("a",{class:"btn btn-sm btn-primary ml-2",href:"/dogs/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(i.c,{id:"dogs.add-dogs"},"Legg til hunder"))),Object(c.h)(b.a,{stores:this.props.stores,dog:{},callback:this.loadDogs})),!o&&S&&0===S.length&&Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},Object(c.h)("div",{class:"text-center mb-5"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-dog"})),Object(c.h)("h5",null,Object(c.h)(i.c,{id:"dogs.no-dogs-registered"},"Ingen hunder er registrert ennå."))),Object(c.h)(i.c,{id:"dogs.howto-add-1"},"Slik kommer du i gang:"),Object(c.h)("ol",null,Object(c.h)("li",null,Object(c.h)(i.c,{id:"dogs.howto-add-2"},'Trykk på knappen "Legg til hunder" rett nedenfor.')))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("all"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(i.c,{id:"dogs.all"},"Alle"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("leadOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"leadOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-crosshairs"})," ",Object(c.h)(i.c,{id:"dogs.leadOnly"},"Leder"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("pointOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pointOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-crosshairs"})," ",Object(c.h)(i.c,{id:"dogs.pointOnly"},"Point"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("teamOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"teamOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-crosshairs"})," ",Object(c.h)(i.c,{id:"dogs.teamOnly"},"Team"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+("wheelOnly"===n?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"wheelOnly",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-crosshairs"})," ",Object(c.h)(i.c,{id:"dogs.wheelOnly"},"Wheel")))))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},r&&Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(0===w?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-daysback":"0",onClick:this.chooseDaysBack},Object(c.h)(i.c,{id:"dogs.d1"},"Dag"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(1===w?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-daysback":"1",onClick:this.chooseDaysBack},Object(c.h)(i.c,{id:"dogs.d2"},"2 dager"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(7===w?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-daysback":"7",onClick:this.chooseDaysBack},Object(c.h)(i.c,{id:"dogs.d7"},"7 dager"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(14===w?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-daysback":"14",onClick:this.chooseDaysBack},Object(c.h)(i.c,{id:"dogs.d14"},"14 dager"))),Object(c.h)("div",{class:"col px-1 pt-2"},Object(c.h)("button",{class:"btn btn-block "+(30===w?"btn-warning":"btn-outline-warning")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-daysback":"30",onClick:this.chooseDaysBack},Object(c.h)(i.c,{id:"dogs.d30"},"30 dager"))))),Object(c.h)(p.a,{stores:this.props.stores,url:this.props.url}),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-4 clearfix"},Object(c.h)("h5",{class:"font-weight-light"},Object(c.h)("span",{class:"float-right",onClick:this.toggleDaysBackEdit},Object(c.h)("span",{class:"text-muted mr-2"},Object(c.h)(i.c,{id:"dogs.days-back"},"Siste"),":"),0===w?Object(c.h)(i.c,{id:"dogs.d1"},"Dag"):"",1===w?Object(c.h)(i.c,{id:"dogs.d2"},"2 dager"):"",7===w?Object(c.h)(i.c,{id:"dogs.d7"},"7 dager"):"",14===w?Object(c.h)(i.c,{id:"dogs.d14"},"14 dager"):"",30===w?Object(c.h)(i.c,{id:"dogs.d30"},"30 dager"):""),a?Object(c.h)("span",null,Object(c.h)(i.c,{id:"dogs.dogs-filtered-by"},"Filtrert på:")," ",x[a]):Object(c.h)("span",null,Object(c.h)(i.c,{id:"dogs.all-dogs",fields:{total:C.length}},"Alle hundene - ",C.length," stk"))),Object(c.h)("div",{class:"row"},C&&C.map((function(t){var s=(m.findCurrentWorkoutSummary(t.id)||{}).distanceKm;return Object(c.h)(h.a,{stores:e.props.stores,key:"dog-"+t.id+"-"+k+"-"+P.length+"-"+s,dog:t,hideTeam:!0,showWorkout:!1,daysBack:w,filterBy:n})}))),Object(c.h)("span",{class:"pointerCursor ml-2 font-weight-lighter float-right",onClick:this.toggleShowAllDogs},l?Object(c.h)(t,null,Object(c.h)(i.c,{id:"dogs.hide-deceased"},"Vis kun nåværende team")):Object(c.h)(t,null,Object(c.h)(i.c,{id:"dogs.absolutely-all"},"Vis absolutt alle")))))))},s}(c.Component))||n;e.default=m}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-dogs.chunk.832a6.js.map