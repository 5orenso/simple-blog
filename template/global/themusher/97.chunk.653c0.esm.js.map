{"version":3,"sources":["webpack:///./routes/teams/connect.js","webpack:///./components/team/public.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginTopBack","marginBottom","SUB_MENU_MARGIN_TOP","subMenuMarginTop","initialState","isLoading","limit","offset","submenu","Teams","observer","Component","constructor","props","super","setLoadMore","teamStore","this","stores","search","state","setState","loadTeams","unsetLoadMore","searchForTeams","chooseSubmenu","e","target","parentElement","dataset","menu","opts","notfollowing","following","loadPublic","componentDidMount","componentWillUnmount","render","scrolledDown","userStore","appState","publicTeamsToFollow","darkmode","class","style","href","id","data-menu","onClick","fields","total","length","for","type","onInput","linkState","map","team","Team","requestFollowTeam","user","teamId","parseInt","followRequest","requestSent","unFollowTeam","unollowTeam","unfollowed","getButton","text","skipHome","simple","classNames","isYourTeam","members","indexOf","isFollowing","followers","isBlocked","blockedFollowers","hasRequestedFollow","followRequests","findIndex","disabled","data-team","public","buttonOnly","language","teamAmbition","findTeamAmbition","ambition","ambitions","teamType","findTeamType","image","s3SmallLink","name","uuidv4","place","country","dogs"],"mappings":"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","file":"97.chunk.653c0.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nimport PublicTeam from '../../components/team/public';\n\nconst initialState = {\n\tisLoading: false,\n\tlimit: 25,\n\toffset: 0,\n\tsubmenu: 'notfollowing',\n};\n\n@observer\nclass Teams extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tasync loadTeams({ limit, offset, search }) {\n\t\tconst { submenu } = this.state;\n\t\tthis.setState({ isLoading: true });\n\t\tconst { teamStore } = this.props.stores;\n\t\tconst opts = {};\n\t\tif (submenu === 'notfollowing') {\n\t\t\topts.notfollowing = 1;\n\t\t}\n\t\tif (submenu === 'following') {\n\t\t\topts.following = 1;\n\t\t}\n\t\tawait teamStore.loadPublic({ limit, offset, search, opts });\n\t\tthis.setState({ isLoading: false });\n\t}\n\n    setLoadMore = () => {\n        const { teamStore } = this.props.stores;\n        teamStore.setLoadMore(() => {\n            let { limit, offset, search } = this.state;\n            offset += limit;\n            this.setState({ offset });\n            this.loadTeams({ limit, offset, search });\n        });\n    }\n\n\tunsetLoadMore = () => {\n        const { teamStore } = this.props.stores;\n        teamStore.setLoadMore(() => {});\n    }\n\n\tsearchForTeams = () => {\n\t\tconst { search, limit } = this.state;\n\t\tthis.setState({\n\t\t\toffset: 0,\n\t\t});\n\t\tthis.loadTeams({ search, limit });\n\t}\n\n    chooseSubmenu = (e) => {\n\t\tconst { limit } = this.state;\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({\n\t\t\tsubmenu,\n\t\t\toffset: 0,\n\t\t}, () => {\n\t\t\tthis.loadTeams({\n\t\t\t\tlimit,\n\t\t\t\toffset: 0,\n\t\t\t});\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n        const { limit, offset } = this.state;\n\t\tthis.loadTeams({ limit, offset });\n        this.setLoadMore();\n\t}\n\n    componentWillUnmount() {\n        this.unsetLoadMore();\n    }\n\n\trender() {\n        const { scrolledDown } = this.props;\n\t\tconst { isLoading, submenu } = this.state;\n\t\tconst { teamStore, userStore, appState } = this.props.stores;\n\t\tconst { publicTeamsToFollow = [] } = teamStore;\n\t\tconst { user } = userStore;\n\t\tconst { darkmode } = appState;\n\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row fixed-top pt-2' style={`margin-top: ${scrolledDown > 0 ? 0 : SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'}; transition: all 0.3s ease-in-out;`}>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<a href='/teams/' class='text-secondary stretched-link'><nobr><i class='fas fa-users' /> <Text id='teams.your-teams'>Your teams</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center border-bottom border-primary subtopmenu'>\n\t\t\t\t\t\t<a href='/teams/connect' class='text-primary stretched-link'><nobr><i class='fas fa-users' /> <Text id='teams.public-teams'>Public teams</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1'\n\t\t\t\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-left rounded-none ${submenu === 'all' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='all'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-users' /> <Text id='teams.all'>All</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'notfollowing' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='notfollowing'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-unlink' /> <Text id='teams.notfollowing'>Not following</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-right rounded-none ${submenu === 'following' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='following'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-link' /> <Text id='teams.following'>Following</Text></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t<h5><Text id='teams.connect.all-teams' fields={{ total: publicTeamsToFollow.length }}>Alle offentlige team - {publicTeamsToFollow.length} stk</Text></h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t                        <div class='d-flex flex-row flex-nowrap position-relative' style='overflow: auto;'>\n\t\t\t\t\t\t\t\t<div class='flex-grow-1'>\n\t\t\t\t\t\t\t\t\t<label class='sr-only' for='teamSearch'><Text id='search.title'>Search</Text></label>\n\t\t\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tclass='form-control form-control-lg mb-2'\n\t\t\t\t\t\t\t\t\t\t\tid='teamSearch'\n\t\t\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'search')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Localizer>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='align-self-end ml-1'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tclass='btn btn-lg btn-primary mb-2'\n\t\t\t\t\t\t\t\t\t\tonClick={this.searchForTeams}\n\t\t\t\t\t\t\t\t\t><Text id='dog.veterinary.search'>Search</Text></button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{publicTeamsToFollow && publicTeamsToFollow.map(team => (\n\t\t\t\t\t\t\t<PublicTeam stores={this.props.stores} team={team} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Teams;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\n@observer\nclass Team extends Component {\n    requestFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        this.setState({ requestSent: true });\n    }\n\n    unFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.unollowTeam(teamId);\n        this.setState({ unfollowed: true });\n    }\n\n    getButton = (text = '') => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { team, skipHome, simple, classNames } = this.props;\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            if (skipHome) {\n                return '';\n            }\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (isFollowing) {\n            return (<>\n                <button\n                    class={classNames || `btn btn-block btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Følger</Text> {!simple && <>{text}</>}\n                </button>\n                <button\n                    class={classNames || `btn btn-sm btn-block btn-danger float-right`}\n                    onClick={this.unFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='fas fa-unlink mr-2' />\n                    <Text id='teams.connect.unfollow'>Unfollow</Text>\n                </button>\n            </>);\n        }\n        if (isBlocked) {\n            return '';\n            // return (\n            //     <button\n            //         class={`btn btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text> {text}\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    class={classNames || `btn btn-block btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter på godkjenning</Text> {!simple && <>{text}</>}\n                </button>\n            );\n        }\n        if (team.public) {\n            return (\n                <button\n                    class={classNames || `btn btn-block btn-outline-success float-right`}\n                    onClick={this.requestFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='fas fa-plus mr-2' />\n                    <Text id='teams.connect.follow'>Følg</Text> {!simple && <>{text}</>}\n                </button>\n            );\n        }\n    }\n\n    render() {\n        const { unfollowed } = this.state;\n        const { team, buttonOnly } = this.props;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n        const image = team.image && team.image.s3SmallLink ? team.image : null;\n\n        if (buttonOnly) {\n            return (<>\n                {this.getButton(`${team.name}`)}\n            </>);\n        }\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3'\n                        style={`${unfollowed ? 'text-decoration: line-through; opacity: 0.3;' : ''}`}\n                    >\n                        {/* {JSON.stringify(team, null, 4)} */}\n                        <a href={`/teams/public/${team.uuidv4}`}>\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image.s3SmallLink}\");  background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        </a>\n                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                            <h5 class='mb-1' style='line-height: 1.0em;'>\n                                {team.public ? <>\n                                    <a href={`/teams/public/${team.uuidv4}`}>{team.name}</a>\n                                </> : <>\n                                    {team.name}\n                                </>}\n                            </h5>\n                            <div>\n                                {team.place} {team.country}\n                            </div>\n                            <div>\n                                {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                            </div>\n                            <small class='text-muted'>\n                                {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                {team && team.followers && <span class='ml-2'><i class='fas fa-user' /> {team.followers.length}</span>}\n                            </small>\n                        </div>\n                        <div>\n                            {this.getButton()}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n"],"sourceRoot":""}