{"version":3,"sources":["webpack:///./components/user/index.js","webpack:///./components/track/commentReply.js","webpack:///./components/dog/index.js","webpack:///./components/team/index.js","webpack:///./components/track/commentAdd.js","webpack:///./components/track/comments.js","webpack:///./components/track/index.js","webpack:///./routes/search/index.js"],"names":["User","observer","props","removeUser","e","id","email","team","target","dataset","parentNode","console","log","stores","teamStore","removeMember","adminUpdateUser","field","closest","name","clearTimeout","updateTimer","setTimeout","doAdminUpdateUser","userStore","value","simulateUser","getSimulateUser","state","render","this","user","currentUser","isAdmin","teams","findTeams","summary","findMusherSummary","isTeamAdmin","image","mu","getImage","displayName","class","style","cellphone","url","href","asUrl","rel","facebook","asFacebookLink","instagram","asInstagramLink","snapchat","asSnapchatLink","onClick","data-email","JSON","stringify","settings","subscription","deviceInfo","notifications","notificationTopics","applications","shadowTags","garmin","strava","currentLocationGeocode","util","isoDate","lastActivityEpoch","format","activities","type","veterinaryAllowed","checked","onInput","for","twoFactorLogin","isVeterinary","firstname","lastname","map","distanceKm","elevation","secToHms","duration","avgDistance","avgElevation","avgDuration","speedAvg","avgDogs","data-id","data-team","Component","TrackCommentReply","commentTrack","response","callback","track","comment","trackStore","commentReplyTrack","commentId","status","setState","inputRef","displayNameShort","ucfirst","userImage","images","undefined","s3SmallLink","placeholder","linkState","ref","Dog","dog","dogStore","language","viewmode","appState","currentMonth","Date","getMonth","currentYear","getFullYear","month","year","seasonStart","parseInt","workoutSummary","findWorkoutSummary","dogStatuses","statuses","findDogstatus","dogVaccines","findVaccineStatuses","dogVaccineLogStatuses","findVaccineLogStatuses","chipId","dogHistoryStatuses","findHistoryStatuses","dogStatus","dogPosition","findDogposition","position","teamNames","findTeam","push","forEach","hasBirthday","birth","daysUntilBirthday","Math","ceil","daysUntilNextBirthday","findHarness","harness","icon","age","deceased","gender","shortname","length","idx","history","weight","bodyScore","indexOf","v","title","endDate","vaccineType","positions","lead","point","wheel","specialNeeds","lang","filter","vac","inKarens","vaccineAgens","Team","requestFollowTeam","preventDefault","stopPropagation","teamId","parentElement","followRequest","requestSent","getButton","text","skipHome","isYourTeam","members","isFollowing","followers","isBlocked","blockedFollowers","hasRequestedFollow","followRequests","findIndex","unFollowTeam","disabled","public","showButton","publicUsers","showLocation","showMembers","teamAmbition","findTeamAmbition","ambition","ambitions","teamType","findTeamType","teamUser","find","teamUserDisplayName","priority","place","country","dogs","TrackAdd","inputRefObject","showAddImage","body","resizeTextarea","addImage","addImages","handleImageErrored","onerror","src","isArray","img","onError","removeImage","data-name","object","updateField","autoOpen","initialState","showAddComment","showAllComments","showAllReplies","viewImageIdx","likeComment","likeReply","TrackComments","likeTrackComment","likeTrackCommentReply","replyId","replyComment","focus","toggleComments","toggleReplies","col","offset","compact","filteredComments","totalComments","diplayedComments","comments","slice","max","reverse","hasLikedComment","likes","filteredReplises","totalReplies","diplayedReplies","max_comments","imgs","toJS","imageIdx","currentImage","markdown","replaceImages","markdownOpts","getMarkdownOptions","onDblclick","addLikeComment","loading","s3LargeLink","viewImage","data-idx","formatDistance","createdDate","locale","reply","hasLikedReply","data-comment","fields","more","c","MAX_LOADINDEX","getMaxLoadIndex","Track","likeTrack","toggleAddComment","showModal","displayModal","currentImageXXL","imagexxl","thumb","date","closeModal","toggleDate","showDate","showUser","isPublic","gpxInfo","loadIndex","hasLikedNews","close","getLoadIndexColor","normalizeBetween","floor","getLoadIndexText","users","formatDate","garminId","stravaId","gpx","data-image","data-imagexxl","s3XXLargeLink","data-thumb","data-title","data-date","submenu","hits","searchText","Search","loadAll","allData","names","storyStore","search","getSearch","localUpdateField","publicTeams","searchResultStories","searchResultDogs","searchResultWorkouts","searchResultTeams","searchResultTracks","a","reduce","partialSum","route","chooseSubmenu","menu","componentDidMount","componentWillReceiveProps","nextProps","data-menu","uuidv4","workout","feed","story","key"],"mappings":"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","file":"route-search.chunk.6607f.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass User extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this.updateTimer = {};\n    }\n    \n    removeUser = async (e) => {\n        let id =  e.target.dataset.id;\n        let email =  e.target.dataset.email;\n        let team =  e.target.dataset.team;\n        if (!id && e.target.parentNode) {\n            id =  e.target.parentNode.dataset.id;\n            email =  e.target.parentNode.dataset.email;\n            team =  e.target.parentNode.dataset.team;\n\t\t}\n        console.log('id, email, team', id, email, team);\n        const { teamStore } = this.props.stores;\n        await teamStore.removeMember(team, { id, email });\n    }\n\n    adminUpdateUser = (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name } = e.target;\n        const field = `${email}-${name}`;\n\n        clearTimeout(this.updateTimer[field]);\n        this.updateTimer[field] = setTimeout(() => {\n            this.doAdminUpdateUser(e);\n        }, 500);\n    }\n\n    doAdminUpdateUser = async (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name, value } = e.target;\n\n        // console.log({ email, name, value });\n\t\tconst { userStore } = this.props.stores;\n        await userStore.adminUpdateUser(email, { [name]: value });\n    }\n\n    simulateUser = (e) => {\n        const { email } = e.target.closest('button').dataset;\n        const { userStore } = this.props.stores;\n\t\tuserStore.getSimulateUser(email);\n    }\n\n    render() {\n        const { user, team = {} } = this.props;\n\t\tconst { userStore, teamStore } = this.props.stores;\n        const { user: currentUser, isAdmin } = userStore;\n        const teams = userStore.findTeams(user.teams);\n        const summary = teamStore.findMusherSummary(user.id, team.id) || {};\n        const isTeamAdmin = team.user === currentUser.id;\n        const image = mu.getImage({ user, team });\n        const name = mu.displayName(user);\n\n        // const workoutSummary = dogStore.findWorkoutSummary(dog.id, 2020) || {};\n        // {'0':{'year':2020,'dog':16,'count':1,'distanceKm':9.9,'elevation':202,'duration':0,'speedAvg':0}}\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url('${image}'); background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-user text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'>\n                            {/* <span class='float-right'>\n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span> */}\n                            \n                            <h5>{name}</h5>\n                            <div>\n                                <small class='text-muted'>\n                                    <div class='d-flex justify-content-left'>\n                                        {user.cellphone && <div class='mr-2'><i class='fas fa-mobile-alt' /> {user.cellphone}</div>}\n                                        {user.email && <div class='mr-2'><i class='fas fa-envelope ml-3' /> {user.email}</div>}\n                                        {user.url && <div class='mr-2'><a href={mu.asUrl(user.url)} target='_blank' rel='noreferrer'><i class='fas fa-link' /></a></div>}\n                                        {user.facebook && <div class='mr-2'><a href={mu.asFacebookLink(user.facebook)} target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a></div>}\n                                        {user.instagram && <div class='mr-2'><a href={mu.asInstagramLink(user.instagram)} target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a></div>}\n                                        {user.snapchat && <div class='mr-2'><a href={mu.asSnapchatLink(user.snapchat)} target='_blank' rel='noreferrer'><i class='fab fa-snapchat' /></a></div>}\n                                    </div>\n                                </small>\n                            </div>\n                            {isAdmin && <>\n                                <button class='btn btn-block btn-success' onClick={this.simulateUser} data-email={user.email}>\n                                    Simulate user\n                                </button>\n\n                                <small>\n                                    <details>\n                                        <summary>settings</summary>\n                                        <xmp>{JSON.stringify(user.settings, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>deviceInfo</summary>\n                                        <xmp>{JSON.stringify(user.deviceInfo, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notifications</summary>\n                                        <xmp>{JSON.stringify(user.notifications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notificationTopics</summary>\n                                        <xmp>{JSON.stringify(user.notificationTopics, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>applications</summary>\n                                        <xmp>{JSON.stringify(user.applications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>shadowTags</summary>\n                                        <xmp>{JSON.stringify(user.shadowTags, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>garmin</summary>\n                                        <xmp>{JSON.stringify(user.garmin, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>strava</summary>\n                                        <xmp>{JSON.stringify(user.strava, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>currentLocationGeocode</summary>\n                                        <xmp>{JSON.stringify(user.currentLocationGeocode, null, 4)}</xmp>\n                                    </details>\n                                    lastActivityEpoch: {util.isoDate(user.lastActivityEpoch)}<br />\n                                    activities: {util.format(user.activities)}<br />\n\n                                    {user.settings && <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.settings.veterinaryAllowed ? 0 : 1} id={`settings.veterinaryAllowed-${user.id}`} name='settings.veterinaryAllowed' checked={user.settings.veterinaryAllowed ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`settings.veterinaryAllowed-${user.id}`}>\n                                            settings.veterinaryAllowed\n                                        </label>\n                                    </div>}\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.twoFactorLogin ? 0 : 1} id={`twoFactorLogin-${user.id}`} name='twoFactorLogin' checked={user.twoFactorLogin ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`twoFactorLogin-${user.id}`}>\n                                            twoFactorLogin\n                                        </label>\n                                    </div>\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.isVeterinary ? 0 : 1} id={`isVeterinary-${user.id}`} name='isVeterinary' checked={user.isVeterinary ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`isVeterinary-${user.id}`}>\n                                            isVeterinary\n                                        </label>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`cellphone-${user.id}`}>cellphone</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`cellphone-${user.id}`} name='cellphone' class='form-control' value={user.cellphone} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`firstname-${user.id}`}>firstname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`firstname-${user.id}`} name='firstname' class='form-control' value={user.firstname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`lastname-${user.id}`}>lastname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`lastname-${user.id}`} name='lastname' class='form-control' value={user.lastname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                </small>\n                            </>}\n                            {user.teams && <>\n                                {teams.map(team => (\n                                    <span class='badge badge-pill badge-info mr-2'>{team.name}</span>\n                                ))}<br />\n                            </>}\n                            {team.id && summary && <>\n                                <small class='text-muted'>\n                                    Total:\n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.distanceKm} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.elevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.duration || 0)}</span>}\n                                </small><br />\n                                <small class='text-muted'>\n                                    Avg: \n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.avgDistance} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.avgElevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.avgDuration || 0)}</span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={summary.speedAvg} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-dog' /> {util.format(summary.avgDogs, 1)}</span>}\n                                </small>\n                            </>}\n                        </div>\n                        <div>\n                            {isTeamAdmin && user.id !== currentUser.id && <button class='btn btn-sm btn-danger'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-ban' /></button>}\n                            {!isTeamAdmin && user.id === currentUser.id && <button class='btn btn-sm btn-secondary'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-sign-out-alt' />{team.id}</button>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default User;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\n@observer\nclass TrackCommentReply extends Component {\n    commentTrack = async () => {\n        const { callback = () => {}, commentId } = this.props;\n        const { track } = this.props;\n\t\tconst { trackStore } = this.props.stores;\n        const { comment = '' } = this.state;\n\t\tconst response = await trackStore.commentReplyTrack({ id: track.id, commentId, comment });\n\t\tif (response && response.status === 200) {\n            this.setState({\n                comment: '',\n            });\n            callback({ track, response });\n\t\t}\n\t}\n\n    render() {\n        const { inputRef } = this.props;\n        const { comment } = this.state;\n        const { userStore } = this.props.stores;\n        const { user = {} } = userStore;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        // const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        return (\n            <div class='w-100'>\n                <div class='d-flex mb-0 position-relative w-100'>\n                    <div \n                        class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                        style={`${userImage ? `background-image: url('${userImage.s3SmallLink}'); background-size: cover;` : ''} border-width: 3px !important;`}\n                    >\n                        {!userImage && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                    </div>\n                    <div class='col pl-3' style='line-height: 1.2em;'>\n\n                        <div class='d-flex bd-highlight'>\n                            <div class='p-0 w-100 bd-highlight'>\n                                <label class='sr-only' for='inlineFormInput'><Text id='comments.comment'>Kommentar</Text></label>\n                                <div class='border rounded rounded-lg position-relative'>\n                                    <Localizer>\n                                        <input\n                                            class='form-control-plaintext px-2'\n                                            type='text'\n                                            placeholder={<Text id='comments.write-comment'>Skriv en kommentar...</Text>}\n                                            onInput={linkState(this, 'comment')}\n                                            value={comment}\n                                            ref={inputRef}\n                                        />\n                                    </Localizer>\n                                </div>\n                            </div>\n                            <div class='p-0 pl-2 flex-shrink-1 bd-highlight'>\n                                <button type='button' class='btn btn-sm btn-primary mb-2'\n                                    onClick={this.commentTrack}\n                                ><i class='fas fa-paper-plane' /></button>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TrackCommentReply;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { dog } = this.props;\n\t\tconst { userStore, dogStore, appState } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n        const { viewmode } = appState;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = dogStore.findWorkoutSummary(dog.id, seasonStart) || {};\n        // {\"0\":{\"year\":2020,\"dog\":16,\"count\":1,\"distanceKm\":9.9,\"elevation\":202,\"duration\":0,\"speedAvg\":0}}\n        const dogStatuses = dog.statuses ? dog.statuses.map(e => userStore.findDogstatus({ status: e, language })) : [];\n        const dogVaccines = dogStore.findVaccineStatuses(dog.id);\n        const dogVaccineLogStatuses = dogStore.findVaccineLogStatuses(dog.chipId);\n        const dogHistoryStatuses = dogStore.findHistoryStatuses(dog.id);\n        const dogStatus = userStore.findDogstatus({ status: dog.status, language });\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const teamNames = [];\n        if (userStore.findTeam(dog.team)) {\n            teamNames.push(userStore.findTeam(dog.team));\n        }\n        if (dog.teams) {\n            dog.teams.forEach((e) => {\n                if (userStore.findTeam(e)) {\n                    teamNames.push(userStore.findTeam(e));\n                }\n            });\n        }\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = dog.birth ? Math.ceil(mu.daysUntilNextBirthday(dog.birth)) : 365;\n\n        const { url = `/dogs/${dog.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded text-muted pt-2`} style={dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''}>\n                            {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                            {!dog.image && <span class='font-weight-lighter' style='font-size: 35px;'>{util.ucfirst(dog.name, true)}</span>}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'\n                            style={`border-right: 4px solid ${userStore.findHarness(dog.harness, 'colorNonstop')} !important; line-height: 1.2em;`}\n                        >\n                            <span class='float-right'>\n                                {dogPosition && <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>}\n                                {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                \n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                            <a class='stretched-link' href={url}>\n                                <h5 class='mb-1' style='line-height: 1.0em;'>\n                                    {dog.shortname || dog.name} {dog.shortname && dog.shortname !== '' && <> - <span class='font-weight-lighter'>{dog.name}</span></>}\n                                    {hasBirthday && <>\n                                        <i class='fas fa-birthday-cake ml-3' />\n                                    </>}\n                                </h5>\n                            </a>\n                            <div>\n                                {teamNames && teamNames.length > 0 && <small class='font-weight-lighter'>\n                                    {teamNames.map((name, idx) => <>{idx > 0 ? ', ' : ''}{name}</>)}\n                                </small>}\n                                <br />\n                            </div>\n\n                            <small class='text-muted'>\n                                {/* {dog.chipId && <span class='ml-0'><i class='fas fa-microchip' /> {dog.chipId}</span>} */}\n                                {dog.history > 0 && <span class='ml-0'><i class='fas fa-file-signature' /> {dog.history.length}</span>}\n                                {dog.images > 0 && <span class='ml-2'><i class='fas fa-image' /> {dog.images.length}</span>}\n\n                                {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration, true)}</span>}\n                                {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n\n                                {dog.weight > 0 && <><i class='fas fa-balance-scale ml-2' /> <Weight stores={this.props.stores} value={dog.weight} /></>}\n                                {dog.bodyScore > 0 && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                            </small>\n\n                            {['beta', 'advanced', 'normal'].indexOf(viewmode) > -1 && <>\n                                <div>\n                                    {dogVaccines && dogVaccines.map(v => (\n                                        <span class={`badge badge-success mr-2`} title={util.isoDate(v.endDate, false, false, true)}>\n                                            {v.vaccineType}\n                                            <span class='font-weight-light ml-3'>\n                                                <i class='fas fa-calendar-check' /> {util.isoDate(v.endDate, false, false, true)}                                    \n                                            </span>\n                                        </span>\n                                    ))}\n                                    {dogHistoryStatuses && dogHistoryStatuses.map(v => (\n                                        <span class={`badge badge-warning mr-2`} title={util.isoDate(v.endDate, false, false, true)}>{v.title}</span>\n                                    ))}\n                                </div>\n                            </>}\n\n                            {['beta', 'advanced'].indexOf(viewmode) > -1 && <>\n                                {dog.positions && dog.positions.lead && <div class=''>\n                                    {dog.positions.lead.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-lead'>Lead</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.lead.distanceKm} />\n                                    </span>}\n                                    {dog.positions.point.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-point'>Point</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.point.distanceKm} />\n                                    </span>}\n                                    {dog.positions.team.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-team'>Team</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.team.distanceKm} />\n                                    </span>}\n                                    {dog.positions.wheel.distanceKm > 0 && <span class='badge badge-secondary mr-2'>\n                                        <span class='font-weight-lighter'><Text id='dogs.sort-wheel'>Wheel</Text>:</span> <Distance stores={this.props.stores} value={dog.positions.wheel.distanceKm} />\n                                    </span>}\n                                </div>}\n                            </>}\n\n                            <div class='clearfix pb-0'>\n                                {dog.specialNeeds && <span class={`badge badge-warning ml-2 mt-1 float-right`}><i class='fas fa-exclamation-triangle' /> {dog.specialNeeds}</span>}\n                                {dogStatus && <span class={`badge badge-${dogStatus.class} ml-2 mt-1 float-right`}>{dogStatus.icon && <i class={dogStatus.icon} />} {dogStatus.name}</span>}\n                                {dogStatuses && dogStatuses.map(status => <>\n                                    <span class={`badge badge-${status.class} ml-2 mt-1 float-right`}>\n                                        {status.icon && <i class={status.icon} />} {status.lang && status.lang[language] ? status.lang[language] : status.name}\n                                    </span>\n                                </>)}\n                            </div>\n\n                            {dogVaccineLogStatuses && dogVaccineLogStatuses.length > 0 && <>\n                                <div class='mt-2'>\n                                    {dogVaccineLogStatuses && dogVaccineLogStatuses.filter(e => e.chipId === dog.chipId).map((vac) => {\n                                        return (\n                                            <span class={`badge badge-${vac.inKarens ? 'warning' : 'success'} mr-2 mb-1`}>\n                                                <i class='fas fa-user-md' /> {vac.vaccineAgens.name}\n                                                {/* <span class='font-weight-lighter ml-2'> */}\n                                                    {/* <i class='fas fa-calendar-check' /> {util.isoDate(vac.vaccineAgens.durationEnd, false, false, true)} */}\n                                                    {/* {vac.inKarens && <>\n                                                        <br />\n                                                        (karens: {util.format(vac.karensDaysLeft, 0)} days left)\n                                                    </>} */}\n                                                {/* </span> */}\n                                            </span>\n                                        );\n                                    })}\n                                </div>\n                            </>}\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass Team extends Component {\n    requestFollowTeam = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        this.setState({ requestSent: true });\n    }\n\n    getButton = (text = '') => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { team, skipHome } = this.props;\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            if (skipHome) {\n                return '';\n            }\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (isFollowing) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Flger</Text> {text}\n                </button>\n            );\n        }\n        if (isBlocked) {\n            return '';\n            // return (\n            //     <button\n            //         class={`btn btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text> {text}\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter p godkjenning</Text> {text}\n                </button>\n            );\n        }\n        if (team.public) {\n            return (\n                <button\n                    type='button'\n                    class={`btn btn-sm btn-outline-success float-right`}\n                    onClick={this.requestFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='far fa-hand-point-right mr-2' />\n                    <Text id='teams.connect.follow'>Flg</Text> {text}\n                </button>\n            );\n        }\n    }\n\n    render() {\n        const { team, showButton, publicUsers = [], showLocation, showMembers } = this.props;\n        const { teamStore, userStore } = this.props.stores;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst { month = currentMonth, year = currentYear } = this.props;\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const workoutSummary = teamStore.findWorkoutSummary(team.id, seasonStart) || {};\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n\n        const teamUser = publicUsers.find(e => e.id === team.user);\n        const teamUserDisplayName = mu.displayName(teamUser);\n        const image = mu.getImage({ user: teamUser, team, priority: 'user' });\n\n        const { url = `/teams/${team.id}` } = this.props;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        <div class='position-relative d-flex flex-grow-1'>\n                            {/* {JSON.stringify(team, null, 4)} */}\n                            <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}>\n                                {!image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                            </div>\n                            <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                                <a class='stretched-link' href={url}>\n                                    <h5 class='mb-1' style='line-height: 1.0em;'>{team.name}</h5>\n                                </a>\n                                {showLocation && <div>\n                                    {(team.place || team.country) && <span class='mr-3'>\n                                        <i class='fas fa-map-marker-alt' />  {team.place} {team.place ? `, ${team.country}` : team.country}\n                                    </span>}\n                                </div>}\n                                {showMembers && <div>\n                                    {teamUser && <span class='mr-2'>\n                                        <i class='fas fa-user' /> {teamUserDisplayName}\n                                    </span>}\n\n                                    {/* {team.members && team.members.length > 1 && team.members.slice(1, 10).map(member => {\n                                        const u = publicUsers.find(e => e.id === member);\n                                        const teamUserDisplayName = mu.displayName(u);\n                                        return (<span class='badge badge-secondary font-weight-light mr-2'>\n                                            <i class='fas fa-user' /> {teamUserDisplayName}\n                                        </span>);\n                                    })} */}\n                                </div>}\n                                <div>\n                                    {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                    {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                                </div>\n                                <small class='text-muted'>\n                                    {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                    {team && team.members && <span class='ml-2'><i class='fas fa-user' /> {team.members.length}</span>}\n\n                                    {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={workoutSummary.distanceKm} /></span>}\n                                    {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={workoutSummary.elevation} /></span>}\n                                    {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration)}</span>}\n                                    {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={workoutSummary.speedAvg} /></span>}\n                                </small>\n                            </div>\n                        </div>\n                        {showButton && <div>\n                            {this.getButton()}\n                        </div>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport Images from '../form/images';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass TrackAdd extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            comment: {\n                body: '',\n                images: [],\n            },\n            showAddImage: false,\n        };\n        this.inputRef = {};\n    }\n\n    commentTrack = async () => {\n        const { callback = () => {}, inputRefObject = {} } = this.props;\n        const { track } = this.props;\n\t\tconst { trackStore } = this.props.stores;\n        const { comment, showAddImage } = this.state;\n\n\t\tconst response = await trackStore.commentTrack({ id: track.id, comment });\n\t\tif (response && response.status === 200) {\n            this.setState({\n                comment: {\n                    body: '',\n                    images: [],\n                },\n            }, () => {\n                mu.resizeTextarea(inputRefObject[track.id]);\n                if (showAddImage) {\n                    this.addImage();\n                }\n            });\n            callback({ track, response });\n\t\t}\n\t}\n\n    addImages = ({ value }) => {\n        // updateField({ id: object.id, field: 'images', value: images, skipTimer: true });\n        const { comment } = this.state;\n        comment.images.push(...value);\n        this.setState({ comment });\n    }\n\n    addImage = () => {\n        const { showAddImage = false } = this.state;\n        this.setState({\n            showAddImage: !showAddImage,\n        });\n    }\n\n    handleImageErrored = (e) => {\n        const image = e.target;\n        image.onerror = null;\n        setTimeout(() => {\n            image.src += `?${new Date()}`;\n        }, 1000);\n    }\n\n    render() {\n        const { inputRef, track } = this.props;\n        const { comment, showAddImage } = this.state;\n        const { userStore } = this.props.stores;\n        const { user = {} } = userStore;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        // const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        return (\n            <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-3 position-relative'>\n                <div class='d-flex mb-0 position-relative w-100'>\n                    <div \n                        class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                        style={`${userImage ? `background-image: url('${userImage.s3SmallLink}'); background-size: cover;` : ''} border-width: 3px !important;`}\n                    >\n                        {!userImage && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                    </div>\n                    <div class='col pl-3' style='line-height: 1.2em;'>\n\n                        <div class='d-flex bd-highlight'>\n                            <div class='p-0 w-100 bd-highlight'>\n                                <label class='sr-only' for='inlineFormInput'><Text id='comments.comment'>Kommentar</Text></label>\n                                <div class='border rounded rounded-lg position-relative'>\n                                    <Localizer>\n                                        <input\n                                            class='form-control-plaintext px-2'\n                                            type='text'\n                                            placeholder={<Text id='comments.write-comment'>Skriv en kommentar...</Text>}\n                                            onInput={linkState(this, 'comment.body')}\n                                            value={comment.body}\n                                            ref={inputRef}\n                                        />\n                                    </Localizer>\n\n                                    <div class='position-absolute' style='top: 8px; right: 10px; font-size: 1.2em;'>\n                                        <i class='fas fa-image pointerCursor'\n                                            data-id={track.id}\n                                            onClick={this.addImage}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            <div class='p-0 pl-2 flex-shrink-1 bd-highlight'>\n                                <button type='button' class='btn btn-primary mb-2'\n                                    onClick={this.commentTrack}\n                                ><i class='fas fa-paper-plane' /></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {showAddImage && <>\n                    <div class='col-12 text-center'>\n                        <div class='container-fluid'>\n                            <div class='row'>\n                                {util.isArray(comment.images) && comment.images.map(img => (\n                                    <div class='col-3 p-1'>\n                                        <img src={img.s3SmallLink} class='img-fluid' onError={this.handleImageErrored} />\n                                        <button class='btn btn-sm btn-link'\n                                            onClick={this.removeImage}\n                                            data-name={img.name}\n                                        ><i class='fas fa-trash' /> Del</button>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                        <Images object={comment} updateField={this.addImages} autoOpen={true} />\n                    </div>\n                </>}\n            </div>\n        );\n    }\n}\n\nexport default TrackAdd;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport TrackReplyComment from '../../components/track/commentReply';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n    showAddComment: {},\n    showAllComments: false,\n    showAllReplies: {},\n    viewImageIdx: {},\n    likeComment: {},\n    likeReply: {},\n};\n\nconst MAX_COMMENTS = 2;\n\n@observer\nclass TrackComments extends Component {\n     constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.inputRef = {};\n    }\n\n    likeComment = async (e) => {\n        const { callback = () => {} } = this.props;\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\n        const { track } = this.props;\n\t\tconst { trackStore } = this.props.stores;\n\t\tconst response = await trackStore.likeTrackComment({ id: track.id, commentId });\n\n\t\tif (response && response.status === 200) {\n            callback({ track, commentId, response });\n\t\t}\n        return true;\n    }\n\n    likeReply = async (e) => {\n        const { callback = () => {} } = this.props;\n\n        const replyId = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const commentId = e.target.parentElement.dataset.comment || e.target.dataset.comment;\n\n        const { track } = this.props;\n\t\tconst { trackStore } = this.props.stores;\n\t\tconst response = await trackStore.likeTrackCommentReply({ id: track.id, replyId, commentId });\n\n        if (response && response.status === 200) {\n            callback({ track, commentId, response });\n\t\t}\n    }\n\n    replyComment = async (e) => {\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\n        const { showAddComment } = this.state;\n        showAddComment[commentId] = !showAddComment[commentId];\n\t\tthis.setState({\n\t\t\tshowAddComment,\n\t\t}, () => {\n            if (this.inputRef[commentId]) {\n                this.inputRef[commentId].focus();\n            }\n\t\t});\n    }\n\n    toggleComments = () => {\n\t\tconst { showAllComments } = this.state;\n\t\tthis.setState({\n\t\t\tshowAllComments: !showAllComments,\n\t\t});\n\t}\n\n    toggleReplies = (e) => {\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAllReplies } = this.state;\n        showAllReplies[commentId] = !showAllReplies[commentId];\n\t\tthis.setState({\n\t\t\tshowAllReplies,\n\t\t});\n\t}\n\n    render() {\n        const { showAddComment, showAllComments, showAllReplies, viewImageIdx, likeComment } = this.state;\n\t\tconst { track, callback = () => {}, col = 12, offset = 0, compact = false  } = this.props;\n        const { userStore } = this.props.stores;\n        const { user: currentUser, language = 'en', isAdmin } = userStore;\n\n        let filteredComments = [];\n        let totalComments = 0;\n        let diplayedComments = 0;\n        let max_comments;\n        if (track.comments) {\n            totalComments = track.comments.length;\n            if (showAllComments) {\n                filteredComments = track.comments;\n            } else {\n                // filteredComments = track.comments.slice(0, MAX_COMMENTS);\n                const max_comments = compact ? 0 : MAX_COMMENTS;\n                filteredComments = track.comments.slice(Math.max(totalComments - max_comments, 0));\n            }\n            diplayedComments = filteredComments.length;\n        }\n\n        return (\n            <div class={`col-${col} offset-${offset} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3`}>\n                {showAllComments && <div>\n                    <button class='btn btn-sm btn-link py-0 mb-2'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.hide-all-comments'>Skjul alle kommentarene.</Text>\n                    </button>\n                </div>}\n                {track && filteredComments && filteredComments.reverse().map((comment) => {\n                    const { user = {} } = comment;\n                    const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n                    const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n                    const userImage = user.image || (user.images ? user.images[0] : undefined);\n                    const hasLikedComment = comment.likes && comment.likes.findIndex(e => e.user === currentUser.id) > -1;\n\n                    let filteredReplises = [];\n                    let totalReplies = 0;\n                    let diplayedReplies = 0;\n                    if (comment.comments) {\n                        totalReplies = comment.comments.length;\n                        if (showAllReplies[comment.id]) {\n                            filteredReplises = comment.comments;\n                        } else {\n                            filteredReplises = comment.comments.slice(0, max_comments);\n                        }\n                        diplayedReplies = filteredReplises.length;\n                    }\n\n                    const images = [];\n                    if (comment.images) {\n                        const imgs = toJS(comment.images);\n                        images.push(...imgs);\n                    }\n                    const imageIdx = viewImageIdx[comment.id] ? viewImageIdx[comment.id] : 0;\n                    const currentImage = images && images[imageIdx] ? images[imageIdx] : null;\n    \n                    const { currentLocationGeocode = {} } = comment;\n\n                    return (\n                        <div class='row'>\n                            <div class='col-12 d-flex mb-2 position-relative'>\n                                <div \n                                    class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                                    style={`${userImage ? `background-image: url(\"${userImage.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n                                >\n                                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                                </div>\n                                <div class='flex-grow-1 pl-3 pt-0' style='line-height: 1.2em;'>\n                                    <div class='bg-light p-2 rounded-lg'>\n                                        <h5 class='font-weight-bold mb-0' style='font-size: 1.0em;'>{displayName}</h5>\n                                        <Markdown markdown={mu.replaceImages(comment.comment, comment.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                                    </div>\n                                    <div>\n                                        <div class='container-fluid px-3 mt-1'>\n                                            {currentImage && <div class='clearfix row position-relative'>\n                                                <div\n                                                    class={`commentContainer col-12 px-0 overflow-hidden`}\n                                                    style={`max-height: 60vh;`}\n                                                    onDblclick={this.addLikeComment}\n                                                    data-id={comment.id}\n                                                >\n                                                    <img loading='lazy' class={`img-fluid`} style='min-width: 100px;' src={currentImage.s3LargeLink} />\n                                                </div>\n                                                {likeComment[comment.id] && <span class='likeHeart position-absolute text-white display-1' style='top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;'>\n                                                    <i class='fas fa-heart likeStory' />\n                                                </span>}\n                                            </div>}\n                                            {images && images.length > 1 && <div class='clearfix d-flex flex-wrap row'>\n                                                {util.isArray(images) && images.map((img, idx) => {\n                                                    return (<>\n                                                        <div\n                                                            class={`col px-0 overflow-hidden`}\n                                                            style={`max-height: 100px; min-width: 100px;`}\n                                                        >\n                                                            <img loading='lazy' class={`img-fluid border`} style='min-width: 100px;' src={img.s3SmallLink} onClick={this.viewImage} data-id={comment.id} data-idx={idx} />\n                                                        </div>\n                                                    </>);\n                                                })}\n                                            </div>}\n                                        </div>\n                                    </div>\n\n                                    <small>\n                                        <button class={`btn btn-sm btn-link py-0 ${hasLikedComment ? 'text-primary' : ''}`}\n                                            onClick={this.likeComment}\n                                            data-id={comment.id}\n                                        >\n                                            <Text id='comments.like'>Lik</Text>\n                                        </button>\n                                        -\n                                        <button class='btn btn-sm btn-link py-0'\n                                            onClick={this.replyComment}\n                                            data-id={comment.id}\n                                        >\n                                            <Text id='comments.comment-add'>Kommentar</Text>\n                                        </button>\n                                        -\n                                        <button class='btn btn-sm btn-link py-0 disabled'>\n                                            {util.formatDistance(comment.createdDate, new Date(), { locale: 'no-NB' })}\n                                        </button>\n                                    </small>\n                                </div>\n                                {comment.likes && comment.likes.length > 0 && <small class='position-absolute bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                    <i class='fas fa-thumbs-up text-primary' /> {comment.likes.length}\n                                </small>}\n                            </div>\n                            <div class='col-11 offset-1 mb-2'>\n\n                                {comment && filteredReplises && filteredReplises.map((reply) => {\n                                    const { user = {} } = reply;\n                                    const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n                                    const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n                                    const userImage = user.image || (user.images ? user.images[0] : undefined);\n                                    const hasLikedReply = reply.likes && reply.likes.findIndex(e => e.user === currentUser.id) > -1;\n\n                                    return (\n                                        <div class='row'>\n                                            <div class='col-12 d-flex mb-2 position-relative'>\n                                                <div \n                                                    class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                                    style={`${userImage ? `background-image: url(\"${userImage.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n                                                >\n                                                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                                                </div>\n                                                <div class='flex-grow-1 pl-3 pt-0' style='line-height: 1.2em;'>\n                                                    <div class='bg-light p-2 rounded-lg'>\n                                                        <h5 class='font-weight-bold mb-0' style='font-size: 1.0em;'>{displayName}</h5>\n                                                        {reply.comment}\n                                                    </div>\n                                                    <small>\n                                                        <button class={`btn btn-sm btn-link py-0 ${hasLikedReply ? 'text-primary' : ''}`}\n                                                            onClick={this.likeReply}\n                                                            data-comment={comment.id}\n                                                            data-id={reply.id}\n                                                        >\n                                                            <Text id='comments.like'>Lik</Text>\n                                                        </button>\n                                                        -\n                                                        <button class='btn btn-sm btn-link py-0'\n                                                            onClick={this.replyComment}\n                                                            data-id={comment.id}\n                                                        >\n                                                            <Text id='comments.comment-add'>Kommentar</Text>\n                                                        </button>\n                                                        -\n                                                        <button class='btn btn-sm btn-link py-0 disabled'>\n                                                            {util.formatDistance(reply.createdDate, new Date(), { locale: 'no-NB' })}\n                                                        </button>\n                                                    </small>\n                                                </div>\n                                                {reply.likes && <small class='position-absolute bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                                    <i class='fas fa-thumbs-up text-primary' /> {reply.likes.length}\n                                                </small>}\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                                {totalReplies - diplayedReplies > 0 && <div>\n                                    <button class='btn btn-sm btn-link py-0'\n                                        onClick={this.toggleReplies}\n                                        data-id={comment.id}\n                                    >\n                                        <Text id='comments.show-more' fields={{ more: totalReplies - diplayedReplies }}>\n                                            Vis {totalReplies - diplayedReplies} flere kommentarer...\n                                        </Text>\n                                    </button>\n                                </div>}\n\n                            </div>\n                            {showAddComment[comment.id] && <div class='col-11 offset-1 d-flex mb-2 position-relative'>\n                                <TrackReplyComment stores={this.props.stores} track={track}\n                                    callback={callback}\n                                    commentId={comment.id}\n                                    inputRef={c => this.inputRef[comment.id] = c}\n                                />\n                            </div>}\n                        </div>\n                    );\n                })}\n                {totalComments - diplayedComments > 0 && <div>\n                    <button class='btn btn-sm btn-link py-0'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.show-more' fields={{ more: totalComments - diplayedComments }}>\n                            Vis {totalComments - diplayedComments} flere kommentarer...\n                        </Text>\n                    </button>\n                </div>}\n                {showAllComments && <div>\n                    <button class='btn btn-sm btn-link py-0'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.hide-all-comments'>Skjul alle kommentarene.</Text>\n                    </button>\n                </div>}\n            </div>\n        );\n    }\n}\n\nexport default TrackComments;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport Modal from '../modal';\nimport TrackComments from '../../components/track/comments';\nimport TrackAddComment from '../../components/track/commentAdd';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\nconst MAX_LOADINDEX = mu.getMaxLoadIndex();\n\nconst initialState = {\n\tshowAddComment: false,\n};\n\n@observer\nclass Track extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n    }\n\n    likeTrack = async () => {\n\t\tconst { trackStore } = this.props.stores;\n        const { track } = this.props;\n\t\tconst response = await trackStore.likeTrack({ id: track.id });\n\n        if (response.status === 200) {\n\t\t\t\n\t\t}\n\t}\n\n\ttoggleAddComment = (e) => {\n\t\tconst id = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAddComment } = this.state;\n\t\tthis.setState({\n\t\t\tshowAddComment: !showAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[id]) {\n\t\t\t\tthis.inputRef[id].focus();\n\t\t\t}\n\t\t});\n\t}\n\n    showModal = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const img = e.target.dataset.image;\n        const imgXXL = e.target.dataset.imagexxl;\n        const thumb = e.target.dataset.thumb;\n        const name = e.target.dataset.name;\n        const title = e.target.dataset.title;\n        const date = e.target.dataset.date;\n        this.setState({\n            displayModal: true,\n            currentImage: img,\n            currentImageXXL: imgXXL,\n            thumb,\n            name,\n            title,\n            date,\n        });\n    }\n\n    closeModal = () => {\n        this.setState({\n            displayModal: false,\n        });\n    }\n\n    toggleDate = () => {\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n    render() {\n        const { displayModal, currentImage, currentImageXXL, showDate, thumb, name, title, date, showAddComment } = this.state;\n\n        const { track, showUser = false, isPublic = false } = this.props;\n        const image = track.image && track.image.s3SmallLink ? track.image : null;\n        const { gpxInfo = {} } = track;\n\t\tconst { loadIndex = 0 } = gpxInfo;\n\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { likes = [], comments = [] } = track;\n\t\tconst hasLikedNews = track.likes && track.likes.findIndex(e => e.user === user.id) > -1;\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    {displayModal && <Modal close={this.closeModal} image={currentImage} imagexxl={currentImageXXL} thumb={thumb} name={name} title={title} date={date} />}\n\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(track, null, 4)} */}\n\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image.s3SmallLink}\");` : ''}>\n                            {!image && <i class='fas fa-map-marked text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                            <a class='stretched-link' href={`/tracks/${track.id}${isPublic ? '/public' : ''}`}>\n                                <h5 class='mb-1' style='line-height: 1.0em;'>{track.name}</h5>\n                                <div class='text-muted font-weight-lighter'><small>{track.place}</small></div>\n                            </a>\n                            <div>\n                                <small>\n                                    {loadIndex > 0 && <span class={`ml-2 text-${mu.getLoadIndexColor(util.normalizeBetween(loadIndex, 0, MAX_LOADINDEX, 0, 100))}`}>\n                                        <i class='fas fa-hand-rock mr-1' />\n                                        {Math.floor(util.normalizeBetween(loadIndex, 0, MAX_LOADINDEX, 0, 100))} -&nbsp;\n                                        {mu.getLoadIndexText(util.normalizeBetween(loadIndex, 0, MAX_LOADINDEX, 0, 100))}\n                                    </span>}\n                                </small>\n                            </div>\n                            <div>\n                                {track.public === 1 && <span class='badge badge-success'>Is public</span>}\n                                {showUser && <span class='text-muted font-weight-lighter ml-3'>{mu.displayName(track.users)}</span>}\n                            </div>\n                            <small class='text-muted'>\n                                {track.date && <small onClick={this.toggleDate}>\n                                    {showDate ? util.formatDate(track.date, { locale: 'no-NB' }) : util.formatDistance(track.date, new Date(), { locale: 'no-NB' })}<br />\n                                </small>}\n                            </small>\n                            <small class='text-muted'>\n                                {track.garminId > 0 && <div class={`float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon`} style={`background-image: url(\"./assets/garmin-connect.png\");`} />}\n                                {track.stravaId > 0&& <div class={`float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon`} style={`background-image: url(\"./assets/strava-icon.png\");`} />}\n\n                                <i class='fas fa-road' /> <Distance stores={this.props.stores} value={track.distanceKm} />\n                                <i class='fas fa-mountain ml-2' /> <Elevation stores={this.props.stores} value={track.elevation} />\n                                {track.gpx && <i class='fas fa-map-marked-alt ml-2' />}\n                            </small>\n                        </div>\n                    </div>\n\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1' style='padding-left: 122px;'>\n                        <div class='row'>\n                            {track.images && track.images.map(img => (\n                                <div class={`text-center border rounded imageRounded imageRoundedSmall`}\n                                    style={img ? `background-image: url(\"${img.s3SmallLink}\");` : ''}\n                                    onClick={this.showModal}\n                                    data-image={img.s3LargeLink}\n                                    data-imagexxl={img.s3XXLargeLink}\n                                    data-thumb={track.image && track.image.s3SmallLink}\n                                    data-title={track.name}\n                                    data-date={track.date}\n                                >\n                                    &nbsp;\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                        <div class='col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3'>\n                            {likes && likes.length > 0 && <small class='bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                <i class='fas fa-thumbs-up text-primary' /> {likes.length}\n                            </small>}\n                            {comments && comments.length > 0 && <small class='float-right bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                <i class='fas fa-comment text-primary' /> {comments.length}\n                            </small>}\n                        </div>\n\n                        <div class='col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3'>\n                            <div class='row'>\n                                <div class='col-6 text-center'>\n                                    <button type='button' class={`btn btn-sm btn-outline-${hasLikedNews ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedNews ? 'text-primary' : ''}`}\n                                        onClick={this.likeTrack}\n                                        // disabled={hasLikedNews}\n                                    >\n                                        <i class={`${hasLikedNews ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> Like\n                                    </button>\n                                </div>\n                                <div class='col-6 text-center'>\n                                    <button type='button' class='btn btn-sm btn-outline-secondary btn-lg btn-block'\n                                        data-id={track.id}\n                                        onClick={this.toggleAddComment}\n                                    >\n                                        <i class='fas fa-comment' /> Comment\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n\n                        {showAddComment && <TrackAddComment\n                            stores={this.props.stores}\n                            track={track}\n                            inputRef={c => this.inputRef[track.id] = c}\n                        />}\n                        <TrackComments stores={this.props.stores} track={track} col={10} offset={2} compact={true} />\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Track;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport { route } from 'preact-router';\n\nimport Dog from '../../components/dog';\nimport Workout from '../../components/workout';\nimport Team from '../../components/team';\nimport Track from '../../components/track';\nimport User from '../../components/user';\nimport Story from '../../components/story/publicStory';\n\nimport TeamPublicFeedLine from '../../components/team/publicFeedLine';\n\nconst initialState = {\n\tsubmenu: 'dogs',\n\thits: 0,\n\tsearchText: '',\n};\n\n@observer\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tloadAll = async (props = this.props) => {\n\t\tconst { appState, storyStore, teamStore } = this.props.stores;\n\t\tconst { search } = props;\n\t    await appState.getSearch(search);\n\t\tconst { publicTeams, publicUsers } = appState;\n\t\tstoryStore.localUpdateField('publicTeams', publicTeams);\n\t\tstoryStore.localUpdateField('publicUsers', publicUsers);\n\t\tteamStore.localUpdateField('publicTeams', publicTeams);\n\t\tteamStore.localUpdateField('publicUsers', publicUsers);\n\n\t\tconst { searchResultStories, searchResultDogs, searchResultWorkouts = [], searchResultTeams, searchResultTracks } = appState;\n\t\tconst allData = [searchResultStories, searchResultDogs, searchResultWorkouts, searchResultTeams, searchResultTracks];\n\t\tconst names = ['stories', 'dogs', 'workouts', 'teams', 'tracks', 'users'];\n\t\tconst idx = allData\n\t\t\t.map(a => a.length)\n\t\t\t.indexOf(Math.max(...allData.map(a => a.length)));\n\t\tconst hits = allData.map(a => a.length).reduce((partialSum, a) => partialSum + a, 0);\n\t\tthis.setState({\n\t\t\tsearchText: search,\n\t\t\tsubmenu: names[idx],\n\t\t\thits,\n\t\t});\n\t}\n\n\tsearch = () => {\n\t\tconst { searchText } = this.state;\n\t\troute(`/search/${searchText}`);\n\t}\n\n\tchooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadAll();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.search !== this.props.search) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n\t\tconst { appState, userStore } = this.props.stores;\n\t\tconst { search } = this.props;\n\n\t\tconst { isAdmin } = userStore;\n\t\tconst { searchResultStories, searchResultDogs, searchResultWorkouts = [], searchResultTeams, searchResultTracks, publicUsers, publicTeams } = appState;\n\t\tconst { submenu, hits, searchText } = this.state;\n\t\treturn (\n\t\t\t<div class='container-fluid' style='margin-bottom: 200px; margin-top: 60px;'>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t<h1><Text id='search.title'>Search</Text></h1>\n\t\t\t\t\t\t<h5 class='my-3'><Text id='search.search-for' fields={{ search, hits }}>{hits} in your search for \"{search}\"</Text></h5>\n\n\t\t\t\t\t\t<div class='d-flex justify-content-center py-3'>\n\t\t\t\t\t\t\t<Localizer>\n\t\t\t\t\t\t\t\t<input class='form-control form-control mr-2' type='search' placeholder={<Text id='header.search-placeholder'>Sk etter det meste...</Text>}\n\t\t\t\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'searchText')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Localizer>\n\t\t\t\t\t\t\t<button class='btn btn-outline-success' type='button'\n\t\t\t\t\t\t\t\tonClick={this.search}\n\t\t\t\t\t\t\t><Text id='header.search'>Sk</Text></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='w-100 overflow-hidden'>\n                                <div\n                                    class='d-flex flex-row flex-nowrap pb-2 px-1'\n                                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                                >\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-left rounded-none ${submenu === 'dogs' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='dogs'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-dog' /> <Text id='search.dogs'>Dogs</Text> ({searchResultDogs.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/* <div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'workouts' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='workouts'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-running' /> <Text id='search.workouts'>Workouts</Text> ({searchResultWorkouts.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'teams' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='teams'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-users' /> <Text id='search.teams'>Teams</Text> ({searchResultTeams.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-none ${submenu === 'tracks' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='tracks'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-map-marked-alt' /> <Text id='search.tracks'>Tracks</Text> ({searchResultTracks.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='col px-0 pt-2'>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass={`btn btn-block rounded-pill-right rounded-none ${submenu === 'stories' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n\t\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\t\tdata-menu='stories'\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.chooseSubmenu}\n\t\t\t\t\t\t\t\t\t\t><i class='fas fa-comments' /> <Text id='search.stories'>Stories</Text> ({searchResultStories.length || 0})</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{submenu === 'dogs' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultDogs || searchResultDogs.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-dog' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-dogs-found'>No dogs found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultDogs && searchResultDogs.map(dog => (\n\t\t\t\t\t\t\t\t<Dog stores={this.props.stores} dog={dog} url={`/dogs/public/${dog.uuidv4}`} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'workouts' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t\t{(!searchResultWorkouts || searchResultWorkouts.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-running' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-workouts-found'>No workouts found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultWorkouts && searchResultWorkouts.map((workout, idx) => (\n\t\t\t\t\t\t\t\t<div class='row mb-4'>\n\t\t\t\t\t\t\t\t\t<div class='col-12 py-3'>\n\t\t\t\t\t\t\t\t\t\t<TeamPublicFeedLine\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tfeed={workout}\n\t\t\t\t\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'teams' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultTeams || searchResultTeams.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-users' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-teams-found'>No teams found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultTeams && searchResultTeams.map(team => <>\n\t\t\t\t\t\t\t\t<Team\n\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\tteam={team}\n\t\t\t\t\t\t\t\t\turl={`/teams/public/${team.uuidv4}`}\n\t\t\t\t\t\t\t\t\tshowButton={true}\n\t\t\t\t\t\t\t\t\tpublicUsers={publicUsers}\n\t\t\t\t\t\t\t\t\tshowMembers={1}\n\t\t\t\t\t\t\t\t\tshowLocation={1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'tracks' && <>\n\t\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t\t{(!searchResultTracks || searchResultTracks.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-map-marked-alt' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-tracks-found'>No tracks found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultTracks && searchResultTracks.map(track => (\n\t\t\t\t\t\t\t\t<Track stores={this.props.stores} track={track} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t\t{submenu === 'stories' && <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2'>\n\t\t\t\t\t\t\t{(!searchResultStories || searchResultStories.length === 0) && <>\n\t\t\t\t\t\t\t\t<div class='text-center text-muted'>\n\t\t\t\t\t\t\t\t\t<div class='display-1'>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-comments' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class='font-weight-lighter'>\n\t\t\t\t\t\t\t\t\t\t<Text id='search.no-stories-found'>No stories found.</Text>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t{searchResultStories && searchResultStories.map(story => (\n\t\t\t\t\t\t\t\t<div class='row mb-4'>\n\t\t\t\t\t\t\t\t\t<div class='col-12 py-3'>\n\t\t\t\t\t\t\t\t\t\t<Story\n\t\t\t\t\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\t\t\t\t\tstory={story}\n\t\t\t\t\t\t\t\t\t\t\tkey={`story-detail-${story.id}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Search;\n"],"sourceRoot":""}