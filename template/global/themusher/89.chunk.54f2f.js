(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{ISGx:function(t,e,o){"use strict";(function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var r,i=o("hosL"),l=o("Utv1"),c=o("/eY4"),d=o("cneo"),u=o("OhSV"),h=o("fh8t"),m=o.n(h),b=o("Y3FI"),p=o("s4FZ"),f=o("ZQlJ"),O=o("sqi2"),g=o("/922"),j=o("eQ6k"),v=o("+JSK"),k=o("vY+r"),w=o("nHdA"),y=o("irB3"),x=o("UwwE"),C=o("8Lgr"),T=o("QkTp"),S=o("ZOvn"),D={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:15,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},P=Object(c.a)(r=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleDate=function(t){t.stopPropagation(),t.preventDefault(),o.setState({showDate:!o.state.showDate})},o.likeWorkout=function(t){return new Promise((function(e,s){var a,n,r,i;return a=parseInt(t.target.closest(".imageContainer").dataset.id,10),n=o.props.stores.workoutStore,(r=o.state.likeWorkout)[a]=!0,o.setState({likeWorkout:r}),setTimeout((function(){var t=o.state.likeWorkout;delete t[a],o.setState({likeWorkout:t})}),1200),Promise.resolve(n.likeWorkout({id:a})).then((function(t){try{return(i=t)&&200===i.status&&o.addLikeToFeed(a,i.data),e()}catch(t){return s(t)}}),s)}))},o.addCommentToFeed=function(t){var e=t.type,s=t.workout,a=t.response,n=t.commentId,r=t.replyId,i=o.props.holdingStore,l=void 0===i?"team":i;if("team"===l){var c=o.props.stores.teamStore;switch(e){case"likeComment":c.addLikeToComment({id:s.id,data:a.data,commentId:n});break;case"likeReply":c.addLikeToCommentReply({id:s.id,data:a.data,commentId:n,replyId:r});break;default:n?c.addCommentToWorkoutComment({id:s.id,data:a.data,commentId:n}):c.addCommentToWorkout({id:s.id,data:a.data})}}else if("story"===l){var d=o.props.stores.storyStore;switch(e){case"likeComment":d.workoutsAddLikeToComment({id:s.id,data:a.data,commentId:n});break;case"likeReply":d.workoutsAddLikeToCommentReply({id:s.id,data:a.data,commentId:n,replyId:r});break;default:n?d.workoutsAddCommentToWorkoutComment({id:s.id,data:a.data,commentId:n}):d.workoutsAddCommentToWorkout({id:s.id,data:a.data})}}},o.addLikeToFeed=function(t,e){var s=o.props.holdingStore,a=void 0===s?"team":s;if("team"===a)o.props.stores.teamStore.addLikeToWorkout({id:t,data:e});else if("story"===a){o.props.stores.storyStore.workoutsAddLikeToWorkout({id:t,data:e})}},o.toggleAddComment=function(t){var e=t.target.closest("button").dataset.id,s=o.state.showAddComment;s[e]?delete s[e]:s[e]=!0,o.setState({showAddComment:s},(function(){o.inputRef[e]&&o.inputRef[e].focus()}))},o.shareLink=function(t){var e=t.target.closest("button").dataset;o.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},o.showWorkoutDetail=function(t){if("a"===t.target.localName)return!1;var e=t.target.closest("#workoutDetail");if(e){var o=e.dataset.id;o&&(console.log({target:e,id:o}),Object(b.route)("/workouts/public/"+o))}},o.translate=function(t){return new Promise((function(e,s){var a,n,r,i,l,c,d;return t.preventDefault(),t.stopPropagation(),n=void 0===(a=o.props.feed)?{}:a,i=(r=o.props.stores).teamStore,l=r.userStore.user,Promise.resolve(i.translate({object:n,user:l,field:"name"})).then(function(t){try{if(c=t,n.comment)return Promise.resolve(i.translate({object:n,user:l,field:"comment"})).then(function(t){try{return d=t,a.call(this)}catch(t){return s(t)}}.bind(this),s);function a(){return o.setState({showOriginal:0,translatedTextName:c,translatedTextComment:d}),e()}return a.call(this)}catch(t){return s(t)}}.bind(this),s)}))},o.showOriginal=function(t){t.preventDefault(),t.stopPropagation(),o.setState({showOriginal:1})},o.displayTeam=function(t,e){t.preventDefault(),t.stopPropagation(),o.props.stores.appState.openDrawer("publicTeam",{teamId:e,height:"80vh"})},o.openInbox=function(t,e){t.preventDefault(),t.stopPropagation(),o.props.stores.appState.openDrawer("inboxDetail",{fromuser:e,height:"80vh"})},o.state=a({},D),o.inputRef={},o.containerRef=null,o}var s,n;return n=e,(s=o).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,o.prototype.render=function(){var e,o=this,s=this.props,n=s.feed,r=s.onTeamClick,c=void 0===r?function(){}:r,h=s.onUserClick,b=void 0===h?function(){}:h,D=s.onDogClick,P=void 0===D?function(){}:D,I=s.holdingStore,W=void 0===I?"team":I,A=this.state,N=A.showAddComment,L=A.showDate,R=A.likeWorkout,F=A.showOriginal,U=A.translatedTextName,_=A.translatedTextComment,q=this.props.stores,z=q.teamStore,B=q.storyStore,E=q.userStore,M=q.appState,V=E.user,G=E.isAdmin,J=V.language,K=void 0===J?"en":J,Y=M.hasShareApi,Z={},H={};if("team"===W)Z=z.findPublicTeam(n.team),H=z.findPublicUser(n.user)||{},e=z.publicDogs;else if("story"===W){Z=B.findPublicTeam(n.team),H=B.findPublicUser(n.user)||{},e=B.publicDogs}E.findTeamAmbition({ambition:Z.ambitions,language:K});var Q,X,$=E.findTeamType({type:Z.type,language:K}),tt=!(!Z||!Z.members)&&Z.members.some((function(t){return t===V.id})),et=S.a.getImage({user:H,team:Z,object:n,priority:"user"}),ot=n.likes,st=n.comments,at=n.likes&&n.likes.findIndex((function(t){return t.user===V.id}))>-1,nt=Z&&Z.followers?Z.followers.length:0,rt=Z.members&&Z.members.indexOf(V.id)>-1,it=Z&&Z.followers&&Z.followers.indexOf(V.id)>-1,lt=Z.followRequests&&Z.followRequests.findIndex((function(t){return t.id===V.id}))>-1,ct=E.findEquipment({equipment:n.equipment,language:K}),dt=E.findEquipment({equipment:n.equipment,field:"icon"}),ut=n.gpxInfo,ht=void 0===ut?{}:ut;H&&(S.a.displayNameShort(H),S.a.displayName(H),Q=S.a.displayName(H),H.settings&&H.uuidv4!==V.uuidv4&&(X=H.settings.hideProfile?null:"/inbox/"+H.uuidv4));var mt=[];if(n.mapImage&&mt.push(a(a({},n.mapImage),{},{type:"map"})),n.images){var bt=Object(d.i)(n.images);mt.push.apply(mt,bt)}var pt=n.currentLocationGeocode,ft=void 0===pt?{}:pt,Ot=S.a.getViews(n.statistics),gt=S.a.getAdminData(n.statistics);if(!Z||!Z.name)return"";var jt=S.a.getTranslation({object:n,targetLang:K,field:"name"})||U,vt=jt||n.name,kt=S.a.getTranslation({object:n,targetLang:K,field:"comment"})||_||n.comment;return F&&(vt=n.name,kt=n.comment),Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex position-relative"},Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:et?'background-image: url("'+et+'"); background-size: cover;':""},!et&&Object(i.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(i.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(i.h)("span",{class:"badge badge-pill badge-secondary float-right"},$),Object(i.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em;"},Z.public?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+Z.uuidv4,onClick:function(t){return o.displayTeam(t,Z.uuidv4)},class:"stretched-link"},Z.name)):Object(i.h)(t,null,Z.name)),Object(i.h)("div",{class:"mb-2"},n.date&&Object(i.h)("small",{class:"text-muted",onClick:this.toggleDate},L?l.a.formatDate(n.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):l.a.formatDistance(n.date,new Date,{locale:"no-NB"})),1===n.public?Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-globe-europe"}))):Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-users"})," (",l.a.format(nt),")")),Q&&Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},X?Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-user"})," ",Object(i.h)("a",{href:X,onClick:function(t){return o.openInbox(t,H.uuidv4)}},Q)):Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-user"})," ",Q))),Object(i.h)("small",{class:"text-muted"},n.equipment>0&&Object(i.h)(t,null,Object(i.h)("i",{class:dt+" ml-2"})," ",ct),n.dogs>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",n.dogs.length),n.track>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-map-marked text-"+(n.track>0?"success":"danger")+" ml-2"})),n.sledWeight>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(i.h)(x.a,{stores:this.props.stores,value:n.sledWeight})),0!==n.temperature&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(i.h)(T.a,{stores:this.props.stores,value:n.temperature})),n.dogs&&n.dogs.length>0&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-dog ml-2"})," ",l.a.format(n.dogs.length,0)),ft&&ft.formattedCounty&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-map-marker-alt ml-2"})," ",ft.formattedCounty),n.moonIllumination&&n.moonIllumination.phaseIcon&&Object(i.h)("span",{class:"float-right ml-2"},n.moonIllumination.phaseIcon))),G&&Object(i.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(i.h)("small",{class:"text-muted mr-2"},"Adm:"),ft&&ft.formatted_address&&Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",ft.formatted_address)),H.deviceInfo&&Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-secondary ml-1 float-right font-weight-light"},["platform","manufacturer","model"].map((function(e){return Object(i.h)(t,null,Object(i.h)("span",{class:"ml-1 text-white"},H.deviceInfo[e]))})))),gt&&Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},"V: ",gt.count),Object(i.h)("small",{class:"ml-2 text-muted"},"R: ",gt.ranking," ",l.a.isNumber(gt.rankingTrend)&&Object(i.h)(t,null,Object(i.h)("i",{class:S.a.getClassForTrend(gt.rankingTrend)}))),Object(i.h)("small",{class:"ml-2 text-muted"},"D: ",l.a.format(gt.durationAvg/1e3,1),"s ",l.a.isNumber(gt.durationAvgTrend)&&Object(i.h)(t,null,Object(i.h)("i",{class:S.a.getClassForTrend(gt.durationAvgTrend)}))),n.statisticsCurrent&&n.statisticsCurrent.totalInteractions>0&&Object(i.h)("small",{class:"ml-2 text-muted"},"S: ",l.a.format(n.statisticsCurrent.totalInteractions,0)),n.shadowTags&&n.shadowTags.map((function(e){return Object(i.h)(t,null,Object(i.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},e))})))))),Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row"},Object(i.h)(p.a,{stores:this.props.stores,images:mt,id:n.id,dblClick:this.likeWorkout,likeRef:R}))),n.dogs&&n.dogs.length>0&&Object(i.h)("div",{class:"container-fluid px-0 mt-1"},Object(i.h)("div",{class:"row pt-2"},Object(i.h)(f.a,{stores:this.props.stores,dogs:n.dogs,allDogs:e,onDogClick:P}))),Object(i.h)("div",{class:"d-flex justify-content-between bg-light rounded-lg px-2"},n.distanceKm>0&&Object(i.h)("div",{class:"mr-2 text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-road"})," ",Object(i.h)(u.c,{id:"workout.calendar.distance"},"Distanse"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(C.a,{stores:this.props.stores,value:n.distanceKm}))),n.elevation>0&&Object(i.h)("div",{class:"mr-2 text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-mountain"})," ",Object(i.h)(u.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(i.h)(y.a,{stores:this.props.stores,value:n.elevation}))),n.duration>0&&Object(i.h)("div",{class:"mr-2 text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-clock"})," ",Object(i.h)(u.c,{id:"workout.calendar.duration"},"Varighet"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},l.a.secToHms(n.duration,!0))),n.speedAvg>0&&Object(i.h)("div",{class:"text-center"},Object(i.h)("div",{class:"text-overflow text-muted"},Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(i.h)(u.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(i.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},ht&&ht.avgGpsMovingSpeed>0?Object(i.h)(t,null,Object(i.h)(w.a,{stores:this.props.stores,value:3.6*ht.avgGpsMovingSpeed})):Object(i.h)(t,null,Object(i.h)(w.a,{stores:this.props.stores,value:n.speedAvg}))))),Object(i.h)("div",{class:"row mt-2"},Object(i.h)("div",{id:"workoutDetail",class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;",onClick:this.showWorkoutDetail,"data-id":n.uuidv4},Object(i.h)(m.a,{markdown:S.a.replaceImages(vt,n.images,K),markdownOpts:S.a.getMarkdownOptions()})),Object(i.h)("div",{class:"clearfix col-12"},Object(i.h)(m.a,{markdown:S.a.replaceImages(kt,n.images,K),markdownOpts:S.a.getMarkdownOptions()})),n.language!==K&&Object(i.h)(t,null,!F&&jt?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(u.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.translate},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(u.c,{id:"home.translate-to"},"See translation"))))),Object(i.h)("div",{class:"mt-2"},Object(i.h)(v.a,{stores:this.props.stores,likes:ot,comments:st,type:"team",onTeamClick:c,onUserClick:b})),!rt&&!it&&!lt&&Object(i.h)("div",{class:"clearfix mb-2"},Object(i.h)(j.a,{stores:this.props.stores,team:Z,buttonOnly:!0})),Object(i.h)("div",null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:"imageContainer btn btn-sm btn-outline-"+(at?"primary":"secondary")+" btn-lg btn-block "+(at?"text-primary":"")+" text-overflow","data-id":n.id,onClick:this.likeWorkout},Object(i.h)("i",{class:(at?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(i.h)(u.c,{id:"comments.like"},"Lik"))),Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":n.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," ",Object(i.h)(u.c,{id:"comments.comment-add"},"Kommentar"))),Y?Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+n.uuidv4,"data-title":"title: "+n.title},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(u.c,{id:"story.share"},"Del")))):Object(i.h)(t,null,Object(i.h)("div",{class:"col text-center"},Object(i.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+n.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(i.h)("i",{class:"fas fa-share"})," ",Object(i.h)(u.c,{id:"story.share"},"Del")))))),Ot>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"mt-2"},Object(i.h)(k.a,{stores:this.props.stores,views:Ot,object:n,type:"team",isTeamAdmin:tt,isAdmin:G,onTeamClick:c,onUserClick:b}))),Object(i.h)("div",{class:"mt-2"},N[n.id]&&Object(i.h)(g.a,{stores:this.props.stores,workout:n,inputRef:function(t){return o.inputRef[n.id]=t},inputRefObject:this.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:this.addCommentToFeed}),Object(i.h)(O.a,{stores:this.props.stores,workout:n,col:"12",offset:"0",compact:!1,callback:this.addCommentToFeed})))},o}(i.Component))||r;e.a=P}).call(this,o("hosL").Fragment)},ZQlJ:function(t,e,o){"use strict";var s,a=o("hosL"),n=(o("Utv1"),o("/eY4")),r=(o("OhSV"),o("NDEG")),i=Object(n.a)(s=function(t){function e(e){var o;return(o=t.call(this,e)||this).scrollImages=function(t){var e=t.target,s=e.scrollLeft/e.clientWidth,a=Math.round(s),n=Math.abs(a-s);(Number.isInteger(s)||n<.1)&&o.setState({imageIdx:a})},o.sortByName=function(t,e){var s=o.props.allDogs,a=void 0===s?[]:s,n=a.find((function(e){return e.id===t})),r=a.find((function(t){return t.id===e}));return n&&r&&n.name>r.name?1:-1},o.state={imageIdx:0},o}var o,s;return s=t,(o=e).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,e.prototype.render=function(){var t=this,e=this.props,o=e.dogs,s=e.allDogs,n=void 0===s?[]:s,i=e.size,l=void 0===i?"medium":i,c=e.onDogClick,d=void 0===c?function(){}:c;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},o&&o.sort(this.sortByName).map((function(e){var s=n.find((function(t){return t.id===e}));return s?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(a.h)(r.a,{stores:t.props.stores,dog:s,dogs:n.filter((function(t){return o.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:l,onDogClick:d}))):""}))))},e}(a.Component))||s;e.a=i},oISW:function(t,e,o){"use strict";o.r(e),function(t){function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var n,r=o("hosL"),i=(o("Utv1"),o("/eY4")),l=o("OhSV"),c=o("VKmm"),d=o("rWES"),u=o("epqT"),h=o("yHBq"),m=o("q/oJ"),b=o("gWxU"),p=o("Nanz"),f=o("ISGx"),O=o("ZOvn"),g=O.a.marginTop(!1),j=O.a.marginTopBack(!1),v=O.a.marginBottom(),k={showAddComment:{},likeWorkout:{},hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},w=["id","type","user","team","title"],y=Object(i.a)(n=function(e){function o(o){var n;return(n=e.call(this,o)||this).onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showTeam:e}),!1},n.hideTeam=function(){n.setState({showTeam:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.onDogClick=function(t,e,o){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e,dogs:o}),!1},n.hideDog=function(){n.setState({showDog:null})},n.renderContent=function(e){var o=e.obj,s=e.idx,a=n.props.stores.appState.path;return"ad"===o.type?Object(r.h)(t,null,Object(r.h)(u.a,{stores:n.props.stores,path:a})):"teamConfirm"===o.type?Object(r.h)(t,null,Object(r.h)(d.a,{stores:n.props.stores})):"teamSuggestions"===o.type?Object(r.h)(t,null,Object(r.h)(c.a,{stores:n.props.stores})):Object(r.h)(t,null,Object(r.h)(f.a,{stores:n.props.stores,feed:o,idx:s,onTeamClick:n.onTeamClick,onUserClick:n.onUserClick,onDogClick:n.onDogClick}))},n.back=function(){n.props.stores.history.goBack()},n.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},k),n}var n,i;i=e,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var y=o.prototype;return y.loadPublicWorkouit=function(t){return new Promise(function(e,o){var s,a;return a=void 0===(s=t.props)?this.props:s,Promise.resolve(a.stores.teamStore.loadPublicFeed({workoutid:a.workout})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},y.componentWillUnmount=function(){},y.componentDidMount=function(){this.loadPublicWorkouit(this.props)},y.componentWillReceiveProps=function(t){t.workoutid!==this.props.workoutid&&this.loadPublicWorkouit(t)},y.render=function(){var e,o,s=this.state,a=s.showTeam,n=s.showDog,i=s.handleIntersection,c=s.sessionid,u=s.dogs,f=this.props.stores,k=f.teamStore,y=f.appState,x=k.publicTeamsFeed,C=y.darkmode,T=k.findPublicTeamByUuidv4(this.props.teamid),S=O.a.getImage({team:T});return T&&T.name&&(e=O.a.displayNameShort(T),o=O.a.displayName(T)),Object(r.h)(t,null,a&&Object(r.h)(m.a,null,Object(r.h)(b.default,{stores:this.props.stores,teamid:a,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),n&&Object(r.h)(m.a,null,Object(r.h)(p.default,{stores:this.props.stores,dogid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:u})),Object(r.h)("div",{class:"container-fluid",style:"margin-bottom: "+v+"; margin-top: "+g+";"},Object(r.h)("div",{class:"d-flex justify-content-between mb-2"},Object(r.h)("div",null,Object(r.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:"top: "+j+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(r.h)("div",null,Object(r.h)("h5",{class:"text-muted"}," "))),Object(r.h)("div",{class:"w-100"},T?Object(r.h)(t,null,Object(r.h)("div",{class:"row pb-3 pt-3"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(r.h)("div",{class:"row"},Object(r.h)("h3",null,Object(r.h)("div",{class:"d-flex position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:S?'background-image: url("'+S+'"); background-size: cover;':""},!S&&Object(r.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},e)),Object(r.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(r.h)("h3",{class:"mb-1"},T.public?Object(r.h)(t,null,Object(r.h)("a",{href:"/teams/public/"+T.uuidv4,class:"stretched-link"},o)):Object(r.h)(t,null,o))))))))):Object(r.h)(t,null,Object(r.h)(d.a,{stores:this.props.stores})),(!x||0===x.length)&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-chart-area"})),Object(r.h)("h3",null,Object(r.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(r.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(r.h)("div",{class:"text-center mt-3"},Object(r.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(r.h)(h.a,{data:x,wrapperClassNames:"row pb-4",contentClassNames:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-"+(C?"black":"white")+" shadow-sm",renderContent:this.renderContent,dataFields:w,dataValues:{type:"10"},handleIntersection:i,sessionid:c}))))},o}(r.Component))||n;e.default=y}.call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=89.chunk.54f2f.js.map