(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"3kDq":function(t,e,a){"use strict";(function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,l=a("hosL"),n=a("QRet"),o=a("Utv1"),i=a("/eY4"),h=a("OhSV"),u={},b=Object(i.a)(r=function(e){function a(t){var a;return(a=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},u),a}var r,i;return i=e,(r=a).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,a.prototype.render=function(){var e=this.props.stores,a=e.appState,s=this.props.title,c=a.language,r=void 0===c?"en":c,i=e.raceStore.race,u=new Date,b="";return u>=new Date(i.startDate)&&u<=new Date(i.endDate)?b="race":u>=new Date(i.signupStartDate)&&u<=new Date(i.signupEndDate)?b="signup":u>new Date(i.endDate)&&(b="done"),Object(l.h)(t,null,Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"flex-fill"},function(t,e){return void 0===e&&(e=""),Object(n.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(l.h)("h1",{class:e},t)}(s,"mb-0")),Object(l.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(l.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(l.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},i.title)),Object(l.h)("small",{class:""},i.startDate&&Object(l.h)(t,null,o.a.formatDate(i.startDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})),i.endDate&&Object(l.h)(t,null," - ",o.a.formatDate(i.endDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(l.h)("div",{class:"flex-fill"},Object(l.h)("h3",{class:"float-right"},"signup"===b&&!i.liveRace&&Object(l.h)(t,null,Object(l.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(l.h)("span",{class:"badge badge-primary ml-2"},Object(l.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===b&&Object(l.h)(t,null,Object(l.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(l.h)("span",{class:"badge badge-danger ml-2"},Object(l.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===b&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-check text-success"}),Object(l.h)("span",{class:"badge badge-success ml-2"},Object(l.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(l.h)("div",{class:"d-block d-md-none"},Object(l.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(l.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},i.title)),Object(l.h)("small",null,i.startDate&&Object(l.h)(t,null,o.a.formatDate(i.startDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})),i.endDate&&Object(l.h)(t,null," - ",o.a.formatDate(i.endDate,{locale:r,hour12:!1,hour:"2-digit",minute:"2-digit"})))))},a}(l.Component))||r;e.a=b}).call(this,a("hosL").Fragment)},"5l0g":function(t,e,a){"use strict";(function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,l=a("hosL"),n=(a("Utv1"),a("/eY4")),o=(a("OhSV"),a("cneo"),a("HqZR")),i=(a("ZOvn"),{showAddComment:!1}),h=Object(n.a)(r=function(e){function a(t){var a;return(a=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},i),a.updateTimer={},a.inputRef={},a}var r,n;n=e,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var h=a.prototype;return h.loadHeatmap=function(){return new Promise(function(t,e){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.adminStore.getPublicHeatmap(this.props.raceid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadHeatmap()},h.render=function(){var e=this.props,a=e.waypoints,s=e.zoomToMarkers,c=e.mapid,r=e.fullscreenMap,n=this.props.stores.adminStore.publicHeatmap;return Object(l.h)(t,null,Object(l.h)(o.a,{stores:this.props.stores,mapId:n.length,heatmap:n,minZoom:2,maxZoom:18,height:600,waypoints:a,zoomToMarkers:s,fullscreenMap:r,key:"map-"+c}))},a}(l.Component))||r;e.a=h}).call(this,a("hosL").Fragment)},"8gML":function(t,e,a){"use strict";(function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,l=a("hosL"),n=a("Utv1"),o=a("/eY4"),i=a("OhSV"),h=(a("go65"),a("RMlE"),a("5l0g"),a("ZOvn")),u=(h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:n.a.getJwtToken()}),b=Object(o.a)(r=function(e){function a(t){var a;return(a=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},u),a}var r,n;return n=e,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,a.prototype.render=function(){var e=this.props,a=e.raceid,s=e.path,c=this.props.stores.appState.darkmode,r="default";return s.match(/\/race\/:raceid$/)?r="default":s.match(/\/race\/:raceid\/mushers$/)?r="mushers":s.match(/\/race\/:raceid\/results$/)?r="results":s.match(/\/race\/:raceid\/media$/)?r="media":s.match(/\/race\/:raceid\/tracking$/)&&(r="tracking"),Object(l.h)(t,null,Object(l.h)("div",{class:"row fixed-top pr-3",style:"margin-top: 40px; background-color: "+(c?"#191d21":"#f8f9fa")+";"},Object(l.h)("div",{class:"col-12 my-2 mx-2"},Object(l.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(l.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(l.h)("a",{href:"/race/"+a,class:"text-overflow nav-link "+("default"===r?"active":"")},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-info-circle"})," ",Object(l.h)(i.c,{id:"race.therace"},"Løpet")))),Object(l.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(l.h)("a",{href:"/race/"+a+"/mushers",class:"text-overflow nav-link "+("mushers"===r?"active":"")},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-users"})," ",Object(l.h)(i.c,{id:"race.mushers"},"Deltakere")))),Object(l.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(l.h)("a",{href:"/race/"+a+"/results",class:"text-overflow nav-link "+("results"===r?"active":"")},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-poll"})," ",Object(l.h)(i.c,{id:"race.results"},"Resultater")))),Object(l.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(l.h)("a",{href:"/race/"+a+"/media",class:"text-overflow nav-link "+("media"===r?"active":"")},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-images"})," ",Object(l.h)(i.c,{id:"race.media"},"Bilder")))),Object(l.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(l.h)("a",{href:"/race/"+a+"/tracking",class:"text-overflow nav-link "+("tracking"===r?"active":"")},Object(l.h)("nobr",null,Object(l.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(l.h)(i.c,{id:"race.tracking"},"Tracking"))))))))},a}(l.Component))||r;e.a=b}).call(this,a("hosL").Fragment)},LMwI:function(t){t.exports={pointerCursor:"pointerCursor__1W6mM"}},RMlE:function(t,e,a){"use strict";function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,l=a("hosL"),n=a("ox/y"),o=(a("Utv1"),a("/eY4")),i=(a("go65"),a("Y3FI")),h=a("OhSV"),u=(a("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),b=Object(o.a)(r=function(t){function e(e){var a;return(a=t.call(this,e)||this).toggleDropdown=function(t){var e=a.state.menu,s=t.target.dataset.name;!s&&t.target.parentNode&&(s=t.target.parentNode.dataset.name),s&&(e[s]=!e[s]),a.setState({menu:e})},a.toggleDarkmode=function(t){a.props.stores.appState.toggleDarkmode(),a.toggleDropdown(t)},a.toggleViewmode=function(t){var e=t.target.dataset.mode;!e&&t.target.parentNode&&(e=t.target.parentNode.dataset.mode),a.props.stores.appState.toggleViewmode(e),a.toggleDropdown(t)},a.reloadApp=function(){window.location.reload(!0)},a.adminLoadAll=function(){return new Promise((function(t,e){return Promise.resolve(a.props.stores.userStore.getInfo(!0)).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},a.changeLanguage=function(t){var e=t.target.value;console.log("changeLanguage",e);var s=a.props.stores,c=s.appState,r=s.userStore,l=r.user,n=void 0===l?{}:l;n.email&&r.setLanguage({email:n.email,language:e}),c.setLanguage(e)},a.search=function(){var t=a.state.searchText;Object(i.route)("/search/"+t)},a.state=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},u),a}var a,r;return r=t,(a=e).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,e.prototype.render=function(){var t=this.state,e=t.menu,a=this.props.stores,s=a.appState,c=a.userStore,r=s.darkmode,o=c.user,i=c.notifications,u=((void 0===i?[]:i).filter((function(t){return!t.read})),o.language),b=void 0===u?"en":u;return Object(l.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(l.h)("a",{class:"navbar-brand",href:"/race/"},Object(l.h)("img",{src:"./assets/homerun-race-logo-2-"+(r?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(l.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(l.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(l.h)("span",{class:"navbar-toggler-icon"})),Object(l.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(l.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(l.h)("li",{class:"nav-item"},Object(l.h)(n.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(l.h)("i",{class:"fas fa-flag-checkered"})," ",Object(l.h)(h.c,{id:"header.races"},"Løpene"))),Object(l.h)("li",{class:"nav-item"},Object(l.h)(n.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(l.h)("i",{class:"far fa-question-circle"})," ",Object(l.h)(h.c,{id:"header.support"},"Support"))),Object(l.h)("li",{class:"nav-item"},Object(l.h)(n.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(l.h)("i",{class:"fas fa-quote-right"})," ",Object(l.h)(h.c,{id:"header.news"},"Nyheter")))),Object(l.h)("ul",{class:"navbar-nav ml-auto "},Object(l.h)("li",{class:"nav-item mr-2"},Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(l.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(l.h)("option",{value:"no",selected:"no"===b},"🇳🇴 NO"),Object(l.h)("option",{value:"en",selected:"en"===b},"🇬🇧 EN"),Object(l.h)("option",{value:"es",selected:"es"===b},"🇪🇸 ES"),Object(l.h)("option",{value:"de",selected:"de"===b},"🇩🇪 DE"),Object(l.h)("option",{value:"fr",selected:"fr"===b},"🇫🇷 FR"),Object(l.h)("option",{value:"ru",selected:"ru"===b},"🇷🇺 RU"),Object(l.h)("option",{value:"se",selected:"se"===b},"🇸🇪 SE"))))),Object(l.h)("li",{class:"nav-item d-block d-lg-none"},Object(l.h)(n.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(l.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"})," ",Object(l.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(l.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(l.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(l.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"}))))))},e}(l.Component))||r;e.a=b},aGZh:function(t,e,a){"use strict";(function(t){function e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c,r=a("hosL"),l=a("/eY4"),n={};Object(l.a)(c=function(a){function c(t){var c;return(c=a.call(this,t)||this).state=function(t){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?e(Object(c),!0).forEach((function(e){s(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}({},n),c}var l,o;return o=a,(l=c).prototype=Object.create(o.prototype),l.prototype.constructor=l,l.__proto__=o,c.prototype.render=function(){var e=this.props.stores.appState,a=this.props.text,s=e.language,c=void 0===s?"en":s,l=a,n=new RegExp("/<"+c+">(.*?)</"+c+">/");return a.replace(n,"$1")&&(l=a),Object(r.h)(t,null,l)},c}(r.Component))}).call(this,a("hosL").Fragment)},cadc:function(t,e,a){"use strict";a.r(e),function(t){function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n,o,i=a("hosL"),h=a("Utv1"),u=a("/eY4"),b=a("OhSV"),d=a("fh8t"),p=a.n(d),O=a("RMlE"),m=a("8gML"),j=a("3kDq"),f=(a("aGZh"),a("ZOvn")),g=f.a.marginTop(!0,!0),v=f.a.marginBottom(),y={isLoading:!1,contentIsNotLoaded:!0,email:"",submenu:"ads",jwtToken:h.a.getJwtToken(),reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1},x=Object(u.a)(n=function(e){function a(t){var a;return(a=e.call(this,t)||this).initComponent=function(){var t=Math.floor((new Date).getTime()/1e3);a.setState({reloadIsActive:!0,reloadLastEpoch:t},(function(){return a.tickReloadTimeer()}))},a.state=c({},y),a.updateTimer={},a}l(a,e);var s=a.prototype;return s.tickReloadTimeer=function(){var t=this,e=this.state,a=e.reloadLastEpoch;if(e.reloadIsActive){var s=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(s-a)}),clearTimeout(this.updateTimer.tick),this.updateTimer.tick=setTimeout((function(){return t.tickReloadTimeer()}),1e3)}return!1},s.componentDidMount=function(){this.initComponent()},s.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},s.render=function(){var e=Math.floor(h.a.normalizeBetween(this.state.reloadInSec,0,60,0,100));return Object(i.h)(t,null,Object(i.h)("div",{class:"progress fixed-top",style:"height: 2px; z-index: 999999;"},Object(i.h)("div",{class:"progress-bar",role:"progressbar",style:"width: "+e+"%;","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100"})))},a}(i.Component))||n,w=Object(u.a)(o=function(e){function a(t){var a;return(a=e.call(this,t)||this).toggleDisplayDetails=function(t){var e=t.target.closest("tr").dataset.email;a.props.stores.appState.toggleDisplayDetails(e)},a.adminToggleEditUser=function(t){t.stopPropagation();var e=t.target.closest("tr").dataset.email;a.props.stores.appState.toggleEditUserDetails(e)},a.adminSignupEdit=function(t){var e,s=a.props.raceid,c=a.props.stores.raceStore,r=t.target.id,l=t.target.value,n=t.target.dataset,o=((e={raceClassId:n.classid,contestantId:n.contestantid})["raceClassContestant"+h.a.ucfirst(r)]=l,e);clearTimeout(a.updateTimer[r]),a.updateTimer[r]=setTimeout((function(){return new Promise((function(t){return c.editClass({id:s,data:o}),t()}))}),500)},a.lockAllWorkoutsInRace=function(){return new Promise((function(t,e){return Promise.resolve(a.props.stores.raceStore.lockAllWorkoutsInRace({id:a.props.raceid})).then((function(s){try{return a.setState({lockMessage:s}),t()}catch(t){return e(t)}}),e)}))},a.filterByClass=function(t){var e=t.target.closest("button").dataset.id;a.props.stores.appState.toggleSelectedClassId(e,!0)},a.state=c({},y),a.updateTimer={},a}l(a,e);var s=a.prototype;return s.loadRace=function(t){return new Promise(function(e,a){var s,c,r,l;return s=this,void 0===t&&(t=this.props),this.setState({isLoading:!0}),c=t.stores.raceStore,r=t.raceid,Promise.resolve(c.load(r)).then(function(){try{if((l=c.race.classes.filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat()).length>0)return Promise.resolve(c.loadTeams(l.join(","))).then(function(){try{return Promise.resolve(c.loadWorkoutSummary(l.join(","),r)).then(function(){try{return c.getWorkoutSummaryActiveTeams(),t.call(this)}catch(t){return a(t)}}.bind(this),a)}catch(t){return a(t)}}.bind(this),a);function t(){return c.getAllClassesSortedBy(),clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((function(){return new Promise((function(t){var e=Math.floor((new Date).getTime()/1e3);return s.setState({reloadLastEpoch:e}),s.loadRace(),t()}))}),6e4),this.setState({isLoading:!1,contentIsNotLoaded:!1}),e()}return t.call(this)}catch(t){return a(t)}}.bind(this),a)}.bind(this))},s.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},s.componentDidMount=function(){this.loadRace()},s.componentWillReceiveProps=function(t){this.loadRace(t)},s.render=function(){var e=this,a=this.props.stores,s=a.appState,c=a.raceStore,r=a.userStore,l=r.user,n=void 0===l?{}:l,o=r.isAdmin,u=this.props,d=u.raceid,y=u.path,w=s.displayDetails,k=s.editUserDetails,D=s.language,S=void 0===D?"en":D,T=s.selectedClassIds,P=void 0===T?[]:T,L=c.race,C=c.classes,E=this.state,I=E.contentIsNotLoaded,R=E.lockMessage,N=c.activeTeams,M=new Date(L.endDate);M.setHours(M.getHours()+2);var H=1===L.liveRace;return Object(i.h)(t,null,Object(i.h)(O.a,{stores:this.props.stores}),Object(i.h)("div",{class:"container-fluid ",style:"margin-bottom: "+v+"; margin-top: "+g+";"},Object(i.h)(m.a,{stores:this.props.stores,path:y,raceid:d}),Object(i.h)("div",{class:"row border-bottom "},Object(i.h)("div",{class:"col-12"},Object(i.h)(b.b,null,Object(i.h)(j.a,{stores:this.props.stores,title:Object(i.h)(b.c,{id:"races.results"},"Resultater")})),o&&Object(i.h)(t,null,Object(i.h)("a",{href:"/race/"+d+"/resultsMain"},"New results")),Object(i.h)(x,{stores:this.props.stores}),H?Object(i.h)(t,null):Object(i.h)(t,null,n.email&&Object(i.h)("div",{class:"alert alert-primary",role:"alert"},"no"===S&&Object(i.h)(t,null,"Resultatene hentes direkte fra treningsøktene i QPaws appen.",Object(i.h)("br",null),Object(i.h)("strong",null,"For at treningsøktene skal bli registrert må øktene:"),Object(i.h)("ul",null,Object(i.h)("li",null,"Ha riktig dato som er innenfor løpsperioden."),Object(i.h)("li",null,"Være markert som 'Konkurranse'."),Object(i.h)("li",null,"Være registrert på teamet som er påmeldt."))),"en"===S&&Object(i.h)(t,null,"The results are imported directly from the workouts inside QPaws app.",Object(i.h)("br",null),Object(i.h)("strong",null,"To make sure your workouts are registered check the following:"),Object(i.h)("ul",null,Object(i.h)("li",null,"Use the correct date on your workout. Has to be inside the race period."),Object(i.h)("li",null,"Mark the workout as 'Race'."),Object(i.h)("li",null,"Workout has to be on the same team as you signed up with."))))),L.resultsUrl?Object(i.h)("div",{class:"p-3 my-4 bg-light"},Object(i.h)("a",{href:L.resultsUrl,target:"_blank",rel:"noreferrer",native:!0},L.resultsText?L.resultsText:Object(i.h)(t,null,Object(i.h)(b.c,{id:"races.results-here"},"Se resultater her")," ")," ",Object(i.h)("i",{class:"fas fa-chevron-circle-right"}))):Object(i.h)(t,null),(I||!C||0===C.length)&&Object(i.h)("div",{class:"d-flex justify-content-center my-5 py-5"},Object(i.h)("div",{class:"spinner-border text-primary",role:"status"},Object(i.h)("span",{class:"sr-only"},"Loading...")))),Object(i.h)("div",{class:"col-12 overflow-auto bg-light py-4 border rounded-lg mb-5",style:"max-height: 30vh;"},N&&N.length>0&&Object(i.h)(t,null,Object(i.h)("span",{class:"float-right"},Object(i.h)("span",{class:"text-muted"},Object(i.h)(b.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",N.length))),Object(i.h)("h5",null,Object(i.h)(b.c,{id:"races.on-trail"},"På sporet nå"),":"),Object(i.h)("div",{class:"table-responsive-md"},Object(i.h)("table",{class:"table table-sm table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,"#"),Object(i.h)("th",null,Object(i.h)(b.c,{id:"races.name"},"Navn")),Object(i.h)("th",null,Object(i.h)(b.c,{id:"races.start-date"},"Startdato")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.distance"},"Distanse")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.ascend"},"Høydemeter")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.avg-speed"},"Gj.snittsfart")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.race-time"},"Kjøretid")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.rest-time"},"Hviletid")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.load-index"},"B.index")),Object(i.h)("th",{class:"text-center"},Object(i.h)(b.c,{id:"races.current-speed"},"Fart nå")),Object(i.h)("th",null,Object(i.h)(b.c,{id:"races.elevation"},"Moh")),Object(i.h)("th",null,Object(i.h)(b.c,{id:"races.elevation-graph"},"Høydekurve")))),Object(i.h)("tbody",null,N&&N.length>0?N.map((function(e,a){var s=c.getTeamById(e.team),r=c.getMusherByTeamId(s.id),l=h.a.format(3.6*e.currentLocation.coords.speed,1),n=e.secSinceLastUpdate>1800?"danger":e.secSinceLastUpdate>600?"warning":"success",o=e.currentLocation.timestamp;return Object(i.h)("tr",null,Object(i.h)("th",null,a+1),Object(i.h)("td",null,1===e.isInProgress&&Object(i.h)("div",{class:"spinner-grow text-"+n+" float-left",role:"status"}),2===e.isInProgress&&Object(i.h)("i",{class:"fas fa-pause-circle text-warning mr-2 float-left",style:"font-size: 1.8em;"}),r.firstname," ",r.lastname,s.name&&Object(i.h)(t,null," / ",Object(i.h)("span",{class:"text-muted"},s.name)),Object(i.h)("br",null),Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-dog text-muted ml-2"})," ",e.avgDogs,Object(i.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2"})," ",h.a.format(100*e.currentLocation.battery.level,0),"%",Object(i.h)("i",{class:"fas fa-hourglass-half text-muted ml-2"})," Updated: ",h.a.formatDistance(o,new Date)," ago")),Object(i.h)("td",null,h.a.formatDate(e.date,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("td",{class:"text-right"},h.a.format(e.distanceKm,1)," km"),Object(i.h)("td",{class:"text-right"},h.a.format(e.elevation,0)," m"),Object(i.h)("td",{class:"text-right"},h.a.format(e.speedAvg,1)," km/t"),Object(i.h)("td",{class:"text-center"},h.a.secToHms(e.duration)),Object(i.h)("td",{class:"text-center"},h.a.secToHms(e.rest)),Object(i.h)("td",{class:"text-right"},e.loadIndex),Object(i.h)("td",{class:"text-right"},l," km/t"),Object(i.h)("td",null,e.currentLocation.coords.altitude," moh"),Object(i.h)("td",null,Object(i.h)("svg",{viewBox:"0 0 300 100",style:"width: 100%; height: 50px;"},Object(i.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"}))))})):Object(i.h)("tr",null,Object(i.h)("td",{colspan:"11",class:"text-center py-4"},Object(i.h)("h5",null,Object(i.h)(b.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå...")))))))),Object(i.h)("div",{class:"col-12"},Object(i.h)("h1",null,Object(i.h)(b.c,{id:"races.classes"},"Classes")),Object(i.h)("nav",{class:"flex-column flex-sm-row"},L.classes&&L.classes.sort((function(t,e){return t.distance-e.distance})).map((function(a){return Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-lg flex-sm-fill text-sm-center btn"+(P.indexOf(a.id)>-1?"":"-outline")+"-primary mr-2 mb-2",onClick:e.filterByClass,"data-id":a.id},a.title))})))),Object(i.h)("div",{class:"col-12"},L.classes&&L.classes.filter((function(t){return!(P.length>0)||P.indexOf(t.id)>-1})).sort((function(t,e){return t.distance-e.distance})).map((function(a){return Object(i.h)("div",{class:"mt-5 mb-5"},L.resultDanger&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)("div",{class:"spinner-grow text-danger float-left",role:"status"},Object(i.h)("span",{class:"sr-only"},"Loading...")),Object(i.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(i.h)(p.a,{markdown:f.a.replaceImages(L.resultDanger,L.images,S),markdownOpts:f.a.getMarkdownOptions()})),L.resultWarning&&Object(i.h)("div",{class:"alert alert-warning",role:"alert"},Object(i.h)("i",{class:"fas fa-exclamation float-left mr-4",style:"font-size: 2.0em;"}),Object(i.h)(p.a,{markdown:f.a.replaceImages(L.resultWarning,L.images,S),markdownOpts:f.a.getMarkdownOptions()})),L.resultSuccess&&Object(i.h)("div",{class:"alert alert-success",role:"alert"},Object(i.h)("i",{class:"fas fa-check float-left mr-4",style:"font-size: 2.0em;"}),Object(i.h)(p.a,{markdown:f.a.replaceImages(L.resultSuccess,L.images,S),markdownOpts:f.a.getMarkdownOptions()})),Object(i.h)("span",{class:"float-right"},Object(i.h)("span",{class:"text-muted"},Object(i.h)(b.c,{id:"races.mushers"},"Mushers"),": ",a.totalMushers||0),Object(i.h)("span",{class:"text-muted ml-4"},Object(i.h)(b.c,{id:"races.finished-mushers"},"Finished mushers"),": ",a.totalFinished||0," ")),Object(i.h)("h3",null,a.title," ",a.startDate&&Object(i.h)(t,null,": ",Object(i.h)("span",{class:"font-weight-lighter"},h.a.formatDate(a.startDate+" "+(a.startTime||"00:00:00"),{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",h.a.formatDate(a.endDate+" "+(a.endTime||"00:00:00"),{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(i.h)("div",{class:"table-responsive-md"},Object(i.h)("table",{class:"table table-sm table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{scope:"col"},"#"),Object(i.h)("th",{scope:"col",style:"min-width: 200px;"},Object(i.h)(b.c,{id:"races.name"},"Navn")),o&&Object(i.h)(t,null,Object(i.h)("th",{scope:"col"},Object(i.h)("i",{class:"fas fa-user-shield"})," Cellphone"),Object(i.h)("th",{scope:"col"},Object(i.h)("i",{class:"fas fa-user-shield"})," Email")),o&&Object(i.h)("th",{scope:"col",class:"d-none d-sm-block",style:"min-width: 400px;"},Object(i.h)(b.c,{id:"races.stages"},"Etapper")),Object(i.h)("th",{scope:"col"},Object(i.h)(b.c,{id:"races.result"},"Resultat")))),Object(i.h)("tbody",null,C[a.id]&&C[a.id].contestants&&C[a.id].contestants.map((function(s,r){var l=s.musher,n=s.currentTeam,u=s.currentStages,b=s.currentResults,d=s.completed,O=s.normalizedDuration,m=s.weightedNormalizedDuration,j=s.isDone,g=s.finishedDate,v=s.totalWorkoutTimeUsedSec,y=c.getTotalsByTeamId(n.id);return Object(i.h)(t,null,Object(i.h)("tr",{onClick:e.toggleDisplayDetails,"data-email":l.email},Object(i.h)("th",{scope:"row"},r+1,o&&b&&Object(i.h)(t,null,Object(i.h)("br",null),b.isLocked?Object(i.h)("i",{class:"fas fa-lock text-danger mr-2"}):Object(i.h)("i",{class:"fas fa-lock-open text-success mr-2"}))),Object(i.h)("td",{class:w[l.email]?"font-weight-bold":"",style:w[l.email]?"":"line-height: 0.8em;"},w[l.email]?Object(i.h)(t,null,l.firstname," ",l.lastname,Object(i.h)("br",null),Object(i.h)("span",{class:"text-muted"},n.name),Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},l.sportsClub),Object(i.h)("br",null),l.facebook&&Object(i.h)("a",{class:"mr-2",href:f.a.asFacebookLink(l.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"})),l.instagram&&Object(i.h)("a",{class:"mr-2",href:f.a.asInstagramLink(l.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"})),l.price1&&Object(i.h)("div",{class:"font-weight-lighter"},Object(i.h)("i",{class:"fas fa-trophy text-warning"})," ",l.price1,l.priceSent&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-check text-success"}))),l.price2&&Object(i.h)("div",{class:"font-weight-lighter"},Object(i.h)("i",{class:"fas fa-trophy text-warning"})," ",l.price2),l.price3&&Object(i.h)("div",{class:"font-weight-lighter"},Object(i.h)("i",{class:"fas fa-trophy text-warning"})," ",l.price3)):Object(i.h)(t,null,l.price1&&Object(i.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(i.h)("i",{class:"fas fa-trophy"}),l.priceSent&&Object(i.h)(t,null,Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("nobr",null,l.firstname," ",l.lastname,Object(i.h)("br",null),Object(i.h)("small",{class:"text-muted"},l.sportsClub),Object(i.h)("br",null)))),o&&Object(i.h)(t,null,Object(i.h)("td",null,l.cellphone),Object(i.h)("td",null,l.email)),o&&Object(i.h)("td",{class:"d-none d-md-block"},o&&Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:e.adminToggleEditUser},Object(i.h)("i",{class:"fas fa-user-edit"}))),o&&k[l.email]&&Object(i.h)(t,null,Object(i.h)("h5",null,"Admin edit:"),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{class:"col-sm-2 col-form-label text-right"},"Email"),Object(i.h)("div",{class:"col-sm-10"},l.email)),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{class:"col-sm-2 col-form-label text-right"},"Cellphone"),Object(i.h)("div",{class:"col-sm-10"},l.cellphone)),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-sm-2 col-form-label text-right"},"Race status"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("select",{class:"form-control-plaintext",id:"raceStatus","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.raceStatus},Object(i.h)("option",{value:""},"-- Choose race status --"),Object(i.h)("option",{value:"OK"},"OK - Everything ok"),Object(i.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(i.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(i.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(i.h)("option",{value:"DQ"},"DQ - Disqualified"),Object(i.h)("option",{value:"DC"},"DC - Data changed by user")))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"raceComment",class:"col-sm-2 col-form-label text-right"},"Race comment"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"raceComment","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.raceComment}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"gpxResultsApproved",class:"col-sm-2 col-form-label text-right"},"GPX Results approved (date)"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("input",{type:"date",class:"form-control-plaintext",id:"gpxResultsApproved","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.gpxResultsApproved?h.a.isoDate(l.gpxResultsApproved,!1,!1,!0):null}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"price1",class:"col-sm-2 col-form-label text-right"},"Price 1"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"price1","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.price1}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"price2",class:"col-sm-2 col-form-label text-right"},"Price 2"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"price2","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.price2}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"price3",class:"col-sm-2 col-form-label text-right"},"Price 3"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"price3","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.price3}))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"priceSent",class:"col-sm-2 col-form-label text-right"},"Price sent"),Object(i.h)("div",{class:"col-sm-10"},Object(i.h)("input",{type:"date",class:"form-control-plaintext",id:"priceSent","data-classid":l.class,"data-contestantid":l.id,onInput:e.adminSignupEdit,value:l.priceSent?h.a.isoDate(l.priceSent,!1,!1,!0):null})))),o&&Object(i.h)("div",{class:"d-flex flex-wrap"},u&&u.map((function(e,s){var c=e.distanceKm/a.distance*100,r=(c>100||parseInt(c,10),Math.floor(new Date(e.date).getTime()/1e3)),n=new Date(0);n.setUTCSeconds(r+parseInt(e.duration,10));e.images.flat();return w[l.email]?Object(i.h)(t,null,Object(i.h)("div",{class:"bg-light border rounded-lg  text-right position-relative mr-1 mb-1",style:"width: 350px; min-width: 320px;"},Object(i.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(i.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(i.h)("div",{class:"position-relative px-3"},Object(i.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},s+1),Object(i.h)("small",null,o&&Object(i.h)("span",{class:"position-absolute",style:"top: 0px; right: -5px;"},e.isLocked?Object(i.h)("i",{class:"fas fa-lock text-danger"}):Object(i.h)("i",{class:"fas fa-lock-open text-success"})),Object(i.h)("span",{class:"float-left"},Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt text-muted"})," ",h.a.formatDate(e.date,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt text-muted"})," ",h.a.formatDate(n,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(i.h)("span",{class:"float-right"},Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(e.distanceKm,1)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"km")),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(e.elevation,0)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"m")),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",h.a.format(e.speedAvg,1)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"km/t")),Object(i.h)("br",null),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(e.duration)||"n/a"),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(e.rest)||"n/a"),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",h.a.secToHms(e.duration-e.rest)||"n/a"),Object(i.h)("br",null),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-dog text-muted"})," ",h.a.format(e.avgDogs,0)||"n/a")))))):Object(i.h)(t,null,Object(i.h)("div",{class:"bg-light border rounded-lg text-right position-relative px-3 mr-1 mb-1",style:"width: 300px; min-width: 300px;"},Object(i.h)("small",null,o&&Object(i.h)("span",{class:"position-absolute",style:"top: 2px; right: -5px;"},e.isLocked?Object(i.h)("i",{class:"fas fa-lock text-danger"}):Object(i.h)("i",{class:"fas fa-lock-open text-sucess"})),Object(i.h)("span",{class:"float-left"},s+1),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(e.distanceKm,1)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"km")),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt text-muted"})," ",h.a.format(e.speedAvg,1)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"km/t")),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(e.duration)||"n/a"))))})))),Object(i.h)("td",{class:"text-right position-relative pl-4"},function(e){switch(e.raceStatus){case"OK":return Object(i.h)(t,null,Object(i.h)("span",{class:"position-absolute rounded-lg",style:"top: 10px; left: 0px;"},Object(i.h)("i",{class:"fas fa-check text-success"})));case"DNS":case"DNF":case"DNQ":case"DQ":return Object(i.h)(t,null,Object(i.h)("span",{class:"position-absolute bg-danger text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -100px; width: 80px"},Object(i.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));case"DC":return Object(i.h)(t,null,Object(i.h)("span",{class:"position-absolute bg-warning text-white text-center px-2 rounded-lg border",style:"top: 5px; left: -150px; width: 80px"},Object(i.h)("i",{class:"fas fa-info-circle"})," ",e.raceStatus));default:return""}}(l),l.raceComment&&Object(i.h)(t,null,Object(i.h)("div",{class:"alert alert-warning text-left",role:"alert"},Object(i.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(i.h)(p.a,{markdown:f.a.replaceImages(l.raceComment,L.images,S),markdownOpts:f.a.getMarkdownOptions()}))),o&&b.lastUpdated>M&&Object(i.h)(t,null,Object(i.h)("div",{class:"alert alert-danger text-left d-none d-md-block",role:"alert"},Object(i.h)("i",{class:"fas fa-exclamation-triangle float-left mr-4",style:"font-size: 2.0em;"}),Object(i.h)("i",{class:"fas fa-user-shield"})," Last changed: ",h.a.formatDate(b.lastUpdated,{locale:S,hour12:!1,hour:"2-digit",minute:"2-digit"}))),d>=99?Object(i.h)("span",{class:"position-absolute",style:"top: 10px; left: 0px;"},Object(i.h)("i",{class:"fas fa-flag-checkered text-success"})):"",Object(i.h)("small",null,w[l.email]?Object(i.h)(t,null,Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(b.distanceKm,1)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"km")),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(b.elevation,0)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"m")),Object(i.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(i.h)("div",{class:"progress-bar "+(d>=99?"bg-success":""),role:"progressbar",style:"width: "+d+"%","aria-valuenow":""+d,"aria-valuemin":"0","aria-valuemax":"100"})),L.nonstop?Object(i.h)(t,null,Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(v)||"n/a"),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(y.totalRest)||"n/a"),Object(i.h)("br",null),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",h.a.isoDate(y.firstEpoch)," - ",Object(i.h)("i",{style:"width: 20px;",class:"fas fa-calendar text-muted"})," ",h.a.isoDate(g)),o&&Object(i.h)(t,null,Object(i.h)("br",null),Object(i.h)("div",{class:"text-danger"},y.firstGpxStartEpoch&&Object(i.h)(t,null,Object(i.h)("nobr",null,"firstGpxStartEpoch: ",h.a.isoDate(y.firstGpxStartEpoch)),Object(i.h)("br",null)),y.lastGpxStartEpoch&&Object(i.h)(t,null,Object(i.h)("nobr",null,"lastGpxStartEpoch: ",h.a.isoDate(y.lastGpxStartEpoch)),Object(i.h)("br",null)),Object(i.h)("nobr",null,"totalWorkoutTimeUsedSec: ",h.a.secToHms(y.totalWorkoutTimeUsedSec)),Object(i.h)("br",null),Object(i.h)("nobr",null,"rest: ",h.a.secToHms(y.rest)),Object(i.h)("br",null),Object(i.h)("nobr",null,"totalRest: ",h.a.secToHms(y.totalRest)),Object(i.h)("br",null),Object(i.h)("nobr",null,"duration: ",h.a.secToHms(y.duration)),Object(i.h)("br",null)))):Object(i.h)(t,null,Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(b.duration)||"n/a"),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(b.rest)||"n/a"),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-running text-muted"})," ",h.a.secToHms(b.duration-b.rest)||"n/a"),Object(i.h)("br",null),1===j&&Object(i.h)(t,null,Object(i.h)("nobr",{class:"font-weight-bold"},Object(i.h)("span",{class:"font-weight-lighter text-muted"},"Normalized to race distance:")," ",Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(O)||"n/a"),Object(i.h)("br",null)),1===j&&Object(i.h)(t,null,Object(i.h)("nobr",{class:"font-weight-bold"},Object(i.h)("span",{class:"font-weight-lighter text-muted"},"Normalized:")," ",Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(m)||"n/a"),Object(i.h)("br",null)))):Object(i.h)(t,null,Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-road text-muted"})," ",h.a.format(b.distanceKm,1)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"km")),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-mountain text-muted"})," ",h.a.format(b.elevation,0)||"n/a"," ",Object(i.h)("span",{class:"font-weight-lighter"},"m")),Object(i.h)("div",{class:"progress mb-1",style:"height: 3px;"},Object(i.h)("div",{class:"progress-bar "+(d>=99?"bg-success":""),role:"progressbar",style:"width: "+d+"%","aria-valuenow":""+d,"aria-valuemin":"0","aria-valuemax":"100"})),L.nonstop?Object(i.h)(t,null,Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(v)||"n/a"),Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-moon text-muted"})," ",h.a.secToHms(y.totalRest)||"n/a")):Object(i.h)(t,null,1===j?Object(i.h)(t,null,Object(i.h)("nobr",{class:"font-weight-bold"},Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(m)||"n/a"),Object(i.h)("br",null)):Object(i.h)(t,null,Object(i.h)("nobr",null,Object(i.h)("i",{style:"width: 20px;",class:"fas fa-clock text-muted"})," ",h.a.secToHms(b.duration)||"n/a"),Object(i.h)("br",null))))))))}))))),Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("small",null,"no"===S&&Object(i.h)(t,null,"OBS! Ref reglene så er det ikke lov til å endre treningsøktene som er med i konkurransen etter at løpet er ferdig.",Object(i.h)("br",null),"Forsøk på dette vil resultere i automatisk deplassering på listene."),"en"===S&&Object(i.h)(t,null,"IMPORTANT! According to the rules: It is NOT allowed to try alter the workouts related to the competition after the race has ended.",Object(i.h)("br",null),"Attempts will result in automatic deplacement on the resultlists."))))}))))),o&&Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-danger btn-lg float-right m-4",onClick:this.lockAllWorkoutsInRace},"Lock all workouts in this race"),Object(i.h)("xmp",{class:"m-5"},JSON.stringify(R,null,4))))},a}(i.Component))||o;e.default=w}.call(this,a("hosL").Fragment)}}]);
//# sourceMappingURL=76.chunk.b8f86.js.map