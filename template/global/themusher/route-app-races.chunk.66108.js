(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{t1gC:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o,r=s("hosL"),i=s("Utv1"),n=s("/eY4"),b=s("OhSV"),d=s("Y3FI"),h=s("fh8t"),m=s.n(h),u=s("go65"),p=s("Ysxg"),f=s("9lZG"),O=(s("aGZh"),s("om2D")),j=s("+JSK"),g=s("ZOvn"),v=g.a.marginTop(!1),w=g.a.marginTopBack(!1),y=g.a.marginBottom(),k=(g.a.subMenuMarginTop(),{isLoading:!1,submenu:"about",showAdminSendMessage:{},newRaceArticle:{},newRaceUserImage:{},message:{subject:"",body:""}}),x=Object(n.a)(o=function(t){function s(e){var s;return(s=t.call(this,e)||this).signupToRace=function(){return new Promise((function(e,t){var a,l,o,r;return o=(a=s.props.stores).userStore.user,r=(l=a.raceStore).signup,Promise.resolve(l.addContestant({id:s.props.raceid,classId:r.class,newContestant:c({team:o.team,firstname:o.firstname,lastname:o.lastname,sportsClub:o.sportsClub,email:o.email,cellphone:o.cellphone,facebook:o.facebook,instagram:o.instagram},r)})).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},s.updateSignup=function(e){s.props.stores.raceStore.updateObjectKeyValue("signup",e.target.id,e.target.value)},s.editSignup=function(e){var t,a=s.props.raceid,c=s.props.stores.raceStore,l=e.target.id,o=e.target.value,r=e.target.dataset,n=r.classid,b=r.contestantid;c.updateObjectKeyValue("signup",l,o);var d=((t={raceClassId:n,contestantId:b})["raceClassContestant"+i.a.ucfirst(l)]=o,t);clearTimeout(s.updateTimer[l]),s.updateTimer[l]=setTimeout((function(){return new Promise((function(e){return c.editClass({id:a,data:d}),e()}))}),500)},s.likeRace=function(){return new Promise((function(e,t){var a;return a=s.props.stores.raceStore,Promise.resolve(a.likeRace({id:a.race.id})).then((function(s){try{return s,e()}catch(e){return t(e)}}),t)}))},s.toggleAddComment=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id;s.setState({showAddComment:!s.state.showAddComment},(function(){s.inputRef[t]&&s.inputRef[t].focus()}))},s.chooseSubmenu=function(e){s.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},s.toggleDisplayDetails=function(e){var t=e.target.closest("tr").dataset.email,a=s.props.stores.appState;a.editUserDetails[t]||a.toggleDisplayDetails(t)},s.adminToggleEditUser=function(e){e.stopPropagation();var t=e.target.closest("tr").dataset.email;s.props.stores.appState.toggleEditUserDetails(t)},s.adminSignupEdit=function(e){var t,a=s.props.raceid,c=s.props.stores.raceStore,l=e.target.id,o=e.target.value,r=e.target.dataset,n=((t={raceClassId:r.classid,contestantId:r.contestantid})["raceClassContestant"+i.a.ucfirst(l)]=o,t);clearTimeout(s.updateTimer[l]),s.updateTimer[l]=setTimeout((function(){return new Promise((function(e){return c.editClass({id:a,data:n}),e()}))}),500)},s.toggleAdminSendMessage=function(e){var t=e.target.closest("button").dataset.class,a=s.state.showAdminSendMessage;a[t]=!a[t],s.setState({showAdminSendMessage:a})},s.sendEmail=function(e){return new Promise((function(t,a){var c,l,o,r;return c=s.props.raceid,l=e.target.closest("button").dataset.to,o=e.target.closest("button").dataset.raceclassid,r=s.state.message,Promise.resolve(s.props.stores.appState.sendEmail({to:l,subject:r.subject,body:r.body,raceId:c,raceClassId:o})).then((function(e){try{return s.setState({emailResponse:e}),t()}catch(e){return a(e)}}),a)}))},s.resetEmail=function(){s.setState({emailResponse:null,message:{subject:"",body:""}})},s.addRaceArticle=function(){return new Promise((function(e,t){return Promise.resolve(s.props.stores.raceStore.addArticle({id:s.props.raceid,newArticle:s.state.newRaceArticle})).then((function(){try{return s.setState({newRaceArticle:{}}),e()}catch(e){return t(e)}}),t)}))},s.addRaceUserImage=function(){return new Promise((function(e,t){return Promise.resolve(s.props.stores.raceStore.addUserImage({id:s.props.raceid,newUserImage:s.state.newRaceUserImage})).then((function(){try{return s.setState({newRaceUserImage:{}}),e()}catch(e){return t(e)}}),t)}))},s.updateUserImageUpload=function(e){var t=s.state.newRaceUserImage;t[e.field]=e.value,s.setState({newRaceUserImage:t})},s.updateArticleUpload=function(e){var t=s.state.newRaceArticle;t[e.field]=e.value,s.setState({newRaceArticle:t})},s.removeRaceArticle=function(e){return new Promise((function(t,a){return Promise.resolve(s.props.stores.raceStore.removeArticle({id:s.props.raceid,articleId:e.target.parentElement.dataset.id||e.target.dataset.id})).then((function(){try{return t()}catch(e){return a(e)}}),a)}))},s.removeRaceUserImage=function(e){return new Promise((function(t,a){return Promise.resolve(s.props.stores.raceStore.removeUserImage({id:s.props.raceid,userImageId:e.target.parentElement.dataset.id||e.target.dataset.id})).then((function(){try{return t()}catch(e){return a(e)}}),a)}))},s.editRaceArticle=function(e){return new Promise((function(t){var a,c=e.target.dataset,l=c.id,o=c.field,r=e.target.value,n=s.props.raceid,b=s.props.stores.raceStore,d=((a={raceArticleId:l})["raceArticle"+i.a.ucfirst(o)]=r,a);return clearTimeout(s.updateTimer[n+"-"+l+"-"+o]),s.updateTimer[n+"-"+l+"-"+o]=setTimeout((function(){return new Promise((function(e){return b.editArticle({id:n,data:d}),e()}))}),1500),s.resizeTextarea(e.target),t()}))},s.editRaceUserImage=function(e){return new Promise((function(t){var a,c=e.target.dataset,l=c.id,o=c.field,r=e.target.value,n=s.props.raceid,b=s.props.stores.raceStore,d=((a={raceUserImageId:l})["raceUserImage"+i.a.ucfirst(o)]=r,a);return clearTimeout(s.updateTimer[n+"-"+l+"-"+o]),s.updateTimer[n+"-"+l+"-"+o]=setTimeout((function(){return new Promise((function(e){return b.editUserImage({id:n,data:d}),e()}))}),1500),s.resizeTextarea(e.target),t()}))},s.resizeAllTextareas=function(){for(var e=document.getElementsByTagName("textarea"),t=0,a=e.length;t<a;t+=1){s.resizeTextarea(e[t])}},s.resizeTextarea=function(e){var t=e;t.target&&(t=e.target),t.style.height=t.scrollHeight+"px"},s.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},s.back=function(){Object(d.route)("/")},s.state=c(c({},k),{},{showAdminSendMessage:{},newRaceArticle:{},newRaceUserImage:{},message:{subject:"",body:""}}),s.inputRef={},s.updateTimer={},s}var a,l;l=t,(a=s).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l;var o=s.prototype;return o.loadRace=function(e){return new Promise(function(t,s){var a,l,o,r,i,n,b,d,h,m;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),l=(a=e.stores).raceStore,r=void 0===(o=a.userStore.user)?{}:o,Promise.resolve(l.load(e.raceid)).then(function(){try{if(this.setState({isLoading:!1}),i={},(n=l.race).classes&&r&&r.email)for(b=0,d=n.classes.length;b<d;b+=1)(h=n.classes[b]).contestants&&(m=h.contestants.findIndex((function(e){return e.email===r.email})))>-1&&(i=c({},h.contestants[m]));return l.updateKeyValue("signup",i),t()}catch(e){return s(e)}}.bind(this),s)}.bind(this))},o.componentDidMount=function(){this.loadRace(),this.resizeAllTextareas()},o.componentWillReceiveProps=function(e){e.raceid!==this.props.raceid&&this.loadRace(e)},o.render=function(){var t=this,s=this.state.submenu,a=this.state,c=a.showAdminSendMessage,l=a.message,o=a.emailResponse,n=this.state,d=n.showAddComment,h=n.newRaceArticle,k=n.newRaceUserImage,x=this.props.stores,S=x.userStore,I=x.raceStore,C=x.appState,D=S.user,R=void 0===D?{}:D,A=S.teams,P=void 0===A?[]:A,E=S.isAdmin,T=I.race,H=I.signup,U=C.language,M=void 0===U?"en":U,L=C.displayDetails,N=C.editUserDetails,K=T.likes,F=void 0===K?[]:K,z=T.comments,V=void 0===z?[]:z,B=T.likes&&T.likes.findIndex((function(e){return e.user===R.id}))>-1,_={};H.class&&(_=I.getRaceClassById(H.class));var J=new Date,Q="";return J>=new Date(T.startDate)&&J<=new Date(T.endDate)?Q="race":J>=new Date(T.signupStartDate)&&J<=new Date(T.signupEndDate)&&(Q="signup"),Object(r.h)("div",{class:"container-fluid",style:"margin-bottom: "+y+"; margin-top: "+v+";"},Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+w+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(r.h)("i",{class:"fas fa-arrow-circle-left"})),Object(r.h)("div",{class:"row m-0"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2 p-0"},Object(r.h)("div",{class:"row d-flex align-items-center position-relative"},Object(r.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===Q&&Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(r.h)(b.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===Q&&Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(r.h)(b.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===Q&&Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-success border border-white ml-2"},Object(r.h)(b.c,{id:"races.race-finished"},"Løp avsluttet")))),T.images&&T.images[0]?Object(r.h)("img",{src:T.images[0].s3LargeLink,class:"img-fluid"}):""))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},E&&Object(r.h)(e,null,Object(r.h)("a",{class:"btn btn-primary float-right",href:"https://homerunrace.no/index#/race/"+T.id+"/edit"},"Edit")),Object(r.h)("h3",null,T.title),T.startDate&&Object(r.h)(e,null,Object(r.h)(b.c,{id:"races.periode"},"Periode"),": ",i.a.formatDate(T.startDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),T.endDate&&Object(r.h)(e,null," - ",i.a.formatDate(T.endDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"w-100 overflow-hidden"},Object(r.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("about"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"about",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-info-circle"})," ",Object(r.h)(b.c,{id:"race.about"},"About"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("news"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"news",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(b.c,{id:"race.news"},"News"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("results"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"results",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(b.c,{id:"race.results"},"Results"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("tracking"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"tracking",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(b.c,{id:"race.tracking"},"Tracking"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("userImages"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"userImages",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(b.c,{id:"race.user-images"},"User images"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("rules"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"rules",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-gavel"})," ",Object(r.h)(b.c,{id:"race.rules"},"Rules"))),T.veterinaryInfo&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("veterinary"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"veterinary",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-stethoscope"})," ",Object(r.h)(b.c,{id:"race.veterinary"},"Veterinary info"))),T.checkpoints&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("checkpoints"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"checkpoints",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(r.h)(b.c,{id:"race.checkpoints"},"Checkpoints"))),T.trailDescription&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("track"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"track",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-map-signs"})," ",Object(r.h)(b.c,{id:"race.track-description"},"Track description"))),T.program&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("program"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"program",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-list-alt"})," ",Object(r.h)(b.c,{id:"race.program"},"Program"))),T.prices&&Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("prices"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"prices",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-award"})," ",Object(r.h)(b.c,{id:"race.prices"},"Premier"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("classes"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"classes",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(b.c,{id:"race.classes"},"Classes"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-none "+("mushers"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(b.c,{id:"races.mushers"},"Mushers"))),Object(r.h)("div",{class:"col px-0 pt-2"},Object(r.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("signup"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"signup",onClick:this.chooseSubmenu},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(b.c,{id:"race.signup"},"Sign up")))))))),"about"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.about"},"Om løpet"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("p",{class:"clearfix"},Object(r.h)("strong",null,Object(r.h)(m.a,{markdown:g.a.replaceImages(T.ingress,T.images,M),markdownOpts:g.a.getMarkdownOptions()}))),Object(r.h)(m.a,{markdown:g.a.replaceImages(T.body,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"results"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.results"},"Results"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("a",{class:"btn btn-lg btn-block btn-primary",href:"https://homerunrace.no/index#/race/"+T.id+"/results"},"All results")))),"tracking"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.tracking"},"Tracking"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("a",{class:"btn btn-lg btn-block btn-primary",href:"https://homerunrace.no/index#/race/"+T.id+"/tracking"},"Tracking")))),"news"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.news"},"Nyheter"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("div",{class:"row"},T.articles&&T.articles.reverse().map((function(s){return Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3"},Object(r.h)("h5",{class:"mb-0"},g.a.replaceImages(s.title,T.images,M,!1)),Object(r.h)("small",{class:"text-muted"}," ",i.a.formatDate(s.date,{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(r.h)("br",null),s.image&&Object(r.h)("img",{src:s.image.s3LargeLink,class:"float-right w-50 rounded-lg ml-2"}),Object(r.h)("div",{class:"font-weight-bold"},Object(r.h)(m.a,{markdown:g.a.replaceImages(s.ingress,T.images,M),markdownOpts:g.a.getMarkdownOptions()})),Object(r.h)("div",{class:"clearfix"},Object(r.h)(m.a,{markdown:g.a.replaceImages(s.body,T.images,M),markdownOpts:g.a.getMarkdownOptions()})),E&&Object(r.h)(e,null,Object(r.h)("div",{class:"border-top border-bottom mb-5"},Object(r.h)("details",null,Object(r.h)("summary",null,"Admin edit"),Object(r.h)("h5",{class:"border-bottom"},"Admin News Edit"),["title"].map((function(a){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:a},a),Object(r.h)("input",{type:"text",class:"form-control font-weight-bold",id:a,"aria-describedby":a+"Help",style:"font-size: 1.5em;","data-id":s.id,"data-field":a,value:s[a],onInput:t.editRaceArticle})))})),["ingress","body"].map((function(a){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:a},a),Object(r.h)("textarea",{type:"textarea",class:"form-control",id:a,"aria-describedby":a+"Help","data-id":s.id,"data-field":a,value:s[a],onInput:t.editRaceArticle,style:"height: 3em;"})))})))))))})))),E&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("h5",null,"Add new article"),h&&h.image&&Object(r.h)("img",{src:h.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map((function(s){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:s},s),Object(r.h)("input",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(u.a)(t,"newRaceArticle."+s),value:h[s]})))})),["ingress","body"].map((function(s){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:s},s),Object(r.h)("textarea",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(u.a)(t,"newRaceArticle."+s),onKeyUp:t.resizeTextarea,style:"height: 3em;",value:h[s]})))})),Object(r.h)(O.a,{saved:{},object:{},field:"image",updateField:this.updateArticleUpload}),Object(r.h)("button",{class:"btn btn-info",onClick:this.addRaceArticle},"Add race article"))))),"userImages"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.user-images"},"User images"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("div",{class:"row"},T.userImages&&T.userImages.reverse().map((function(s){return Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-3 position-relative mb-3"},E&&Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-danger position-absolute",style:"top:5px; right: 5px;","data-id":s.id,onClick:t.removeRaceUserImage},Object(r.h)("i",{class:"fas fa-times"}))),Object(r.h)("div",{class:"clearfix"},Object(r.h)("img",{src:s.image.s3LargeLink,class:"img-fluid rounded-lg mb-2"})),Object(r.h)("div",{class:"clearfix"},Object(r.h)("h5",{class:"mb-0"},s.title),Object(r.h)("small",{class:"text-muted"}," ",i.a.formatDate(s.date,{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(r.h)("br",null)),Object(r.h)("div",{class:"clearfix"},Object(r.h)(m.a,{markdown:g.a.replaceImages(s.body,s.images,M),markdownOpts:g.a.getMarkdownOptions()})),E&&Object(r.h)(e,null,Object(r.h)("div",{class:"border-top border-bottom mb-5"},Object(r.h)("details",null,Object(r.h)("summary",null,"Admin edit"),Object(r.h)("h5",{class:"border-bottom"},"Admin UserImage Edit"),["title"].map((function(a){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group "},Object(r.h)("label",{for:a},a),Object(r.h)("input",{type:"text",class:"form-control font-weight-bold",id:a,"aria-describedby":a+"Help",style:"font-size: 1.5em;","data-id":s.id,"data-field":a,value:s[a],onInput:t.editRaceUserImage})))})),["body"].map((function(a){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:a},a),Object(r.h)("textarea",{type:"textarea",class:"form-control",id:a,"aria-describedby":a+"Help","data-id":s.id,"data-field":a,value:s[a],onInput:t.editRaceUserImage,style:"height: 3em;"})))})))))))})),E&&Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 border rounded-lg m-2 p-3 bg-light"},Object(r.h)("h5",null,"Add new user image"),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},k&&k.image&&Object(r.h)("img",{src:k.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map((function(s){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:s},s),Object(r.h)("input",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(u.a)(t,"newRaceUserImage."+s),value:k[s]})))})),["body"].map((function(s){return Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:s},s),Object(r.h)("textarea",{type:"text",class:"form-control",id:s,"aria-describedby":s+"Help",onInput:Object(u.a)(t,"newRaceUserImage."+s),onKeyUp:t.resizeTextarea,style:"height: 3em;",value:k[s]})))})))),Object(r.h)(O.a,{saved:{},object:{},field:"image",updateField:this.updateUserImageUpload}),Object(r.h)("button",{class:"btn btn-info",onClick:this.addRaceUserImage},"Add race user image"))))))),"rules"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.rules"},"Regler"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(m.a,{markdown:g.a.replaceImages(T.rules,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"veterinary"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.veterinary"},"Veterinærinfo"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(m.a,{markdown:g.a.replaceImages(T.veterinaryInfo,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"checkpoints"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.checkpoints"},"Sjekkpunkter"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(m.a,{markdown:g.a.replaceImages(T.checkpoints,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"track"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.track-description"},"Løypebeskrivelse"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(m.a,{markdown:g.a.replaceImages(T.trailDescription,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"program"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.program"},"Program"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(m.a,{markdown:g.a.replaceImages(T.program,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"prices"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.prices"},"Premier"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)(m.a,{markdown:g.a.replaceImages(T.prices,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))),"mushers"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"races.mushers"},"Deltakere"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},T.classes&&T.classes.sort((function(e,t){return e.distance-t.distance})).map((function(s){return Object(r.h)(e,null,Object(r.h)("h5",null,s.title," ",s.startDate&&Object(r.h)(e,null,": ",Object(r.h)("span",{class:"font-weight-lighter"},i.a.formatDate(s.startDate+" "+(s.startTime||"00:00:00"),{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"})," - ",i.a.formatDate(s.endDate+" "+(s.endTime||"00:00:00"),{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(r.h)("div",{class:"table-responsive"},Object(r.h)("table",{class:"table table-sm table-striped"},Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{scope:"col"},"#"),Object(r.h)("th",{scope:"col",style:"min-width: 95%;"},Object(r.h)(b.c,{id:"races.name"},"Navn")))),Object(r.h)("tbody",null,s.contestants&&s.contestants.map((function(s,a){var c=I.getTeamById(s.team);return Object(r.h)(e,null,Object(r.h)("tr",{onClick:t.toggleDisplayDetails,"data-email":s.email},Object(r.h)("th",{scope:"row"},a+1),Object(r.h)("td",{class:L[s.email]?"font-weight-bold":"",style:L[s.email]?"":"line-height: 0.8em;"},E&&Object(r.h)(e,null,Object(r.h)("button",{class:"btn btn-primary btn-sm float-right",onClick:t.adminToggleEditUser},Object(r.h)("i",{class:"fas fa-user-edit"})),s.paidSignupfee&&Object(r.h)(e,null,Object(r.h)("span",{class:"float-right"},Object(r.h)("i",{class:"fas fa-check text-success"}),Object(r.h)("br",null))),Object(r.h)("small",{class:"float-right"},s.raceStatus&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted"},"raceStatus:"),Object(r.h)("br",null)," ",s.raceStatus,Object(r.h)("br",null)),s.raceComment&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted"},"raceComment:"),Object(r.h)("br",null)," ",s.raceComment,Object(r.h)("br",null)),s.gpxResultsApproved&&Object(r.h)(e,null,Object(r.h)("span",{class:"text-muted"},"gpxResultsApproved:"),Object(r.h)("br",null)," ",s.gpxResultsApproved,Object(r.h)("br",null)))),L[s.email]?Object(r.h)(e,null,s.firstname," ",s.lastname,Object(r.h)("br",null),Object(r.h)("span",{class:"text-muted"},c.name),Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},s.sportsClub),Object(r.h)("br",null),s.facebook&&Object(r.h)("a",{class:"mr-2",href:g.a.asFacebookLink(s.facebook),native:!0,target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook"})),s.instagram&&Object(r.h)("a",{class:"mr-2",href:g.a.asInstagramLink(s.instagram),native:!0,target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"})),Object(r.h)("br",null),s.price1&&Object(r.h)("div",{class:"font-weight-lighter"},Object(r.h)("i",{class:"fas fa-trophy text-warning"})," ",s.price1,s.priceSent&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-check text-success"}))),s.price2&&Object(r.h)("div",{class:"font-weight-lighter"},Object(r.h)("i",{class:"fas fa-trophy text-warning"})," ",s.price2),s.price3&&Object(r.h)("div",{class:"font-weight-lighter"},Object(r.h)("i",{class:"fas fa-trophy text-warning"})," ",s.price3)):Object(r.h)(e,null,s.price1&&Object(r.h)("span",{class:"float-right text-warning",style:"font-size: 1.2em;"},Object(r.h)("i",{class:"fas fa-trophy"}),s.priceSent&&Object(r.h)(e,null,Object(r.h)("i",{class:"fas fa-check text-success"}))),Object(r.h)("nobr",null,s.firstname," ",s.lastname,Object(r.h)("br",null),Object(r.h)("small",{class:"text-muted"},s.sportsClub),Object(r.h)("br",null))),E&&N[s.email]&&Object(r.h)(e,null,Object(r.h)("h5",null,"Admin edit:"),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{class:"col-4 col-form-label text-right"},"Email"),Object(r.h)("div",{class:"col-8"},s.email)),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"Race status"),Object(r.h)("div",{class:"col-8"},Object(r.h)("select",{class:"form-control",id:"raceStatus","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.raceStatus},Object(r.h)("option",{value:""},"-- Choose race status --"),Object(r.h)("option",{value:"OK"},"OK - Everything ok"),Object(r.h)("option",{value:"DNS"},"DNS - Did Not Start"),Object(r.h)("option",{value:"DNF"},"DNF - Did Not Finish"),Object(r.h)("option",{value:"DNQ"},"DNQ - Did not qualify"),Object(r.h)("option",{value:"DQ"},"DQ - Disqualified")))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"raceComment",class:"col-4 col-form-label text-right"},"Race comment"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"raceComment","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.raceComment}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"gpxResultsApproved",class:"col-4 col-form-label text-right"},"GPX Results approved (date)"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"date",class:"form-control",id:"gpxResultsApproved","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.gpxResultsApproved?i.a.isoDate(s.gpxResultsApproved,!1,!1,!0):null}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"paidSignupfee",class:"col-4 col-form-label text-right"},"paidSignupfee (date)"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"date",class:"form-control",id:"paidSignupfee","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.paidSignupfee?i.a.isoDate(s.paidSignupfee,!1,!1,!0):null}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"startOrder",class:"col-4 col-form-label text-right"},"startOrder"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"number",class:"form-control",id:"startOrder","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.startOrder}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"cellphone",class:"col-4 col-form-label text-right"},"Mobil"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"cellphone","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.cellphone}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"firstname",class:"col-4 col-form-label text-right"},"Fornavn"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"firstname","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.firstname}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"lastname",class:"col-4 col-form-label text-right"},"Etternavn"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"lastname","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.lastname}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"sportsClub",class:"col-4 col-form-label text-right"},"Klubb"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"sportsClub","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.sportsClub}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"facebook",class:"col-4 col-form-label text-right"},"Facebook"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"facebook","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.facebook}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"instagram",class:"col-4 col-form-label text-right"},"Instagram"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"instagram","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.instagram}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-4 col-form-label text-right"},"Klasse"),Object(r.h)("div",{class:"col-8"},Object(r.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.class},Object(r.h)("option",{value:""},"-- Choose race class --"),T.classes&&T.classes.sort((function(e,t){return e.distance-t.distance})).map((function(t){return Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||T.signupfee," NOK"))}))))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"price1",class:"col-4 col-form-label text-right"},"Price 1"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"price1","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.price1}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"price2",class:"col-4 col-form-label text-right"},"Price 2"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"price2","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.price2}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"price3",class:"col-4 col-form-label text-right"},"Price 3"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"text",class:"form-control",id:"price3","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.price3}))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"priceSent",class:"col-4 col-form-label text-right"},"Price sent"),Object(r.h)("div",{class:"col-8"},Object(r.h)("input",{type:"date",class:"form-control",id:"priceSent","data-classid":s.class,"data-contestantid":s.id,onInput:t.adminSignupEdit,value:s.priceSent?i.a.isoDate(s.priceSent,!1,!1,!0):null}))),Object(r.h)("div",{class:"form-group row my-5"},Object(r.h)("div",{class:"col-8"},Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",id:"deleteUser",value:"1",onClick:t.adminSignupEdit,"data-classid":s.class,"data-contestantid":s.id},"Delete user from this class")))))))}))))),E&&Object(r.h)(e,null,c[s.id]?Object(r.h)(e,null,Object(r.h)("div",{class:"container"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12"},Object(r.h)("h5",null,"Message to all mushers in ",s.title),Object(r.h)("div",{class:"overflow-auto p-5",style:"max-height: 30vh;"},Object(r.h)("small",null,s.emails&&s.emails.map((function(e){return Object(r.h)("div",{class:"border rounded-lg p-3 mb-3"},Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-3 text-right"},"Date:"),Object(r.h)("div",{class:"col-9"},i.a.formatDate(e.date,{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-3 text-right"},"To:"),Object(r.h)("div",{class:"col-9"},e.to.map((function(e){return Object(r.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},e)})))),Object(r.h)("div",{class:"row bg-light"},Object(r.h)("div",{class:"col-3 text-right"},"Subject:"),Object(r.h)("div",{class:"col-9"},e.subject)),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col-3 text-right"},"Body:"),Object(r.h)("div",{class:"col-9",dangerouslySetInnerHTML:{__html:(t=e.body,"string"==typeof t?t.replace(/[\n]/g,"<br>"):t)}})));var t})))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"To"),Object(r.h)("div",{class:"col-10"},s.contestants&&s.contestants.map((function(t){return Object(r.h)(e,null,Object(r.h)("span",{class:"badge badge-info px-2 py-1 mr-2"},t.firstname," ",t.lastname," (",t.email,")"))})))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{for:"subject",class:"col-2 col-form-label text-right font-weight-lighter"},"Subject"),Object(r.h)("div",{class:"col-10"},Object(r.h)("input",{type:"text",class:"form-control",id:"subject",onInput:Object(u.a)(t,"message.subject"),value:l.subject}))),Object(r.h)("div",{class:"form-group row"},Object(r.h)("label",{for:"body",class:"col-2 col-form-label text-right font-weight-lighter"},"Message"),Object(r.h)("div",{class:"col-5"},Object(r.h)("textarea",{type:"text",class:"form-control",id:"body",rows:"10",onInput:Object(u.a)(t,"message.body"),value:l.body})),Object(r.h)("div",{class:"col-5 contain-images"},Object(r.h)(m.a,{markdown:l.body,markdownOpts:g.a.getMarkdownOptions()}))),o&&Object(r.h)(e,null,Object(r.h)("div",{class:"alert alert-"+(o&&o.status>=300?"danger":"success"),role:"alert"},Object(r.h)("small",null,Object(r.h)("xmp",null,JSON.stringify(o,null,4))))),Object(r.h)("button",{class:"btn btn-success float-right",type:"button","data-to":s.contestants&&s.contestants.map((function(e){return e.email})),"data-raceclassid":s.id,onClick:t.sendEmail},Object(r.h)("i",{class:"fas fa-paper-plane"})," Send email to all mushers"),Object(r.h)("button",{class:"btn btn-danger float-right mr-2",type:"button",onClick:t.resetEmail},Object(r.h)("i",{class:"fas fa-times"})," Reset email")),Object(r.h)("div",{class:"col-12 text-center"},Object(r.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:t.toggleAdminSendMessage,"data-class":s.id},"Hide email form"))))):Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 text-center"},Object(r.h)("button",{class:"btn btn-sm btn-link",type:"button",onClick:t.toggleAdminSendMessage,"data-class":s.id},"Send message to all in this class")))))}))))),"classes"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"race.classes"},"Klasser"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},Object(r.h)("div",{class:"row"},T.classes&&T.classes.sort((function(e,t){return e.distance-t.distance})).map((function(t){return Object(r.h)(e,null,Object(r.h)("div",{class:"col-12 col-sm-6 col-lg-4 mb-4"},Object(r.h)("div",{class:"border rounded rounded-lg p-3"},Object(r.h)("h5",null,t.title),Object(r.h)("small",null,t.startDate&&Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(b.c,{id:"race.startdate"},"Start"),":")," ",i.a.formatDate(t.startDate+" "+(t.startTime||"00:00:00"),{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"})),t.endDate&&Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(b.c,{id:"race.enddate"},"End"),":")," ",i.a.formatDate(t.endDate+" "+(t.endTime||"00:00:00"),{locale:M,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(b.c,{id:"race.distance"},"Distanse"),":")," ",t.distance," km"),Object(r.h)("div",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(b.c,{id:"race.signup"},"Påmelding"),":")," ",t.signupfee||T.signupfee," NOK"),Object(r.h)("p",{class:"clearfix"},Object(r.h)(m.a,{markdown:g.a.replaceImages(t.ingress,T.images,M),markdownOpts:g.a.getMarkdownOptions()})),Object(r.h)("small",null,Object(r.h)(m.a,{markdown:g.a.replaceImages(t.body,T.images,M),markdownOpts:g.a.getMarkdownOptions()})),t.rules&&Object(r.h)(e,null,Object(r.h)("h5",null,Object(r.h)(b.c,{id:"race.rules"},"Regler")),Object(r.h)(m.a,{markdown:g.a.replaceImages(t.rules,T.images,M),markdownOpts:g.a.getMarkdownOptions()})))))})))))),"signup"===s&&Object(r.h)(e,null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("h2",{class:"mb-0"},Object(r.h)(b.c,{id:"races.signup"},"Påmelding"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3 mb-2"},J>=new Date(T.signupStartDate)&&J<=new Date(T.signupEndDate)?Object(r.h)(e,null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(b.c,{id:"races.signed-in-as"},"Logget inn som"),":")," ",R.email,Object(r.h)("br",null),Object(r.h)("br",null),H.id?Object(r.h)(e,null,Object(r.h)("div",{class:"font-weight-bold mb-4"},Object(r.h)("i",{class:"fas fa-check text-success"})," ",Object(r.h)(b.c,{id:"races.signed-up"},"Din bruker er påmeldt!"),Object(r.h)("br",null)),T.signuppayment&&Object(r.h)(e,null,Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.signup"},"Påmelding")),Object(r.h)("div",{class:"col-10"},H.paidSignupfee?Object(r.h)("div",{class:"py-2"},Object(r.h)(b.c,{id:"races.paid"},"Betalt"),": ",i.a.formatDate(H.paidSignupfee),Object(r.h)("i",{class:"fas fa-check text-success ml-3"})):Object(r.h)(e,null,Object(r.h)("div",{class:"alert alert-danger mb-1",role:"alert"},Object(r.h)("h5",null,Object(r.h)("span",{class:"font-weight-lighter"},Object(r.h)(b.c,{id:"races.payment-info"},"Betaling påmelding"),":"),Object(r.h)("br",null),Object(r.h)(m.a,{markdown:g.a.replaceImages(T.signuppayment,T.images,M),markdownOpts:g.a.getMarkdownOptions()}),_.signupfee||T.signupfee," NOK")))))),Object(r.h)("div",{class:"clearfix mt-2"},Object(r.h)("span",{class:"font-weight-lighter float-right"},Object(r.h)(b.c,{id:"races.click-to-change"},"Click the fields to edit."))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.cellphone"},"Mobil")),Object(r.h)("div",{class:"col-10"},Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"cellphone","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.cellphone,placeholder:Object(r.h)(b.c,{id:"races.cellphone-help"},"Hva er mobilnummer ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"firstname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.firstname"},"Fornavn")),Object(r.h)("div",{class:"col-10"},Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"firstname","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.firstname,placeholder:Object(r.h)(b.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"lastname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.lastname"},"Etternavn")),Object(r.h)("div",{class:"col-10"},Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"lastname","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.lastname,placeholder:Object(r.h)(b.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"sportsClub",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.sportsclub"},"Klubb")),Object(r.h)("div",{class:"col-10"},Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"sportsClub","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.sportsClub,placeholder:Object(r.h)(b.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"facebook",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.facebook"},"Facebook")),Object(r.h)("div",{class:"col-10"},Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"facebook","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.facebook,placeholder:Object(r.h)(b.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"instagram",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.instagram"},"Instagram")),Object(r.h)("div",{class:"col-10"},Object(r.h)(b.b,null,Object(r.h)("input",{type:"text",class:"form-control",id:"instagram","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.instagram,placeholder:Object(r.h)(b.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?")})))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.team"},"Team")),Object(r.h)("div",{class:"col-10"},Object(r.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp","data-classid":H.class,"data-contestantid":H.id,onInput:this.editSignup,value:H.team},Object(r.h)("option",{value:""},"-- ",Object(r.h)(b.c,{id:"races.choose-team"},"Velg team")," --"),P.map((function(e){return Object(r.h)("option",{value:e.id},e.name)}))))),Object(r.h)("div",{class:"form-group row my-0"},Object(r.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(r.h)(b.c,{id:"races.class"},"Klasse")),Object(r.h)("div",{class:"col-10"},Object(r.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.editSignup,value:H.class,disabled:!0},Object(r.h)("option",{value:""},"-- ",Object(r.h)(b.c,{id:"races.choose-class"},"Velg klasse")," --"),T.classes&&T.classes.sort((function(e,t){return e.distance-t.distance})).map((function(t){return Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||T.signupfee," NOK"))})))))):Object(r.h)(e,null,Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"cellphone"},Object(r.h)(b.c,{id:"races.cellphone"},"Mobil")),Object(r.h)("input",{type:"text",class:"form-control",id:"cellphone","aria-describedby":"cellphoneHelp",placeholder:R.cellphone,onInput:this.updateSignup,value:H.cellphone}),Object(r.h)("small",{id:"cellphoneHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.cellphone-help"},"'Hva er mobilnummer ditt?'"))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"firstname"},Object(r.h)(b.c,{id:"races.firstname"},"Fornavn")),Object(r.h)("input",{type:"text",class:"form-control",id:"firstname","aria-describedby":"firstnameHelp",placeholder:R.firstname,onInput:this.updateSignup,value:H.firstname}),Object(r.h)("small",{id:"firstnameHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")))),Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"lastname"},Object(r.h)(b.c,{id:"races.lastname"},"Etternavn")),Object(r.h)("input",{type:"text",class:"form-control",id:"lastname","aria-describedby":"lastnameHelp",placeholder:R.lastname,onInput:this.updateSignup,value:H.lastname}),Object(r.h)("small",{id:"lastnameHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?"))))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"sportsClub"},Object(r.h)(b.c,{id:"races.sportsclub"},"Klubb")),Object(r.h)("input",{type:"text",class:"form-control",id:"sportsClub","aria-describedby":"sportsClubHelp",placeholder:R.sportsClub,onInput:this.updateSignup,value:H.sportsClub}),Object(r.h)("small",{id:"sportsClubHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.sportsClub-help"},"Hvilken klubb tilhører du?"))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"facebook"},Object(r.h)(b.c,{id:"races.facebook"},"Facebook")),Object(r.h)("input",{type:"text",class:"form-control",id:"facebook","aria-describedby":"facebookHelp",placeholder:R.facebook,onInput:this.updateSignup,value:H.facebook}),Object(r.h)("small",{id:"facebookHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")))),Object(r.h)("div",{class:"col"},Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"instagram"},Object(r.h)(b.c,{id:"races.instagram"},"Instagram")),Object(r.h)("input",{type:"text",class:"form-control",id:"instagram","aria-describedby":"instagramHelp",placeholder:R.instagram,onInput:this.updateSignup,value:H.instagram}),Object(r.h)("small",{id:"instagramHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?"))))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"team"},Object(r.h)(b.c,{id:"races.team"},"Team")),Object(r.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp",onInput:this.updateSignup,value:H.team},Object(r.h)("option",{value:""},"-- ",Object(r.h)(b.c,{id:"races.choose-team"},"Velg team")," --"),P.map((function(e){return Object(r.h)("option",{value:e.id},e.name)}))),Object(r.h)("small",{id:"teamHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.choose-team-help"},"Velg fra dine team"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"class"},Object(r.h)(b.c,{id:"races.class"},"Klasse")),Object(r.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.updateSignup,value:H.class},Object(r.h)("option",{value:""},"-- ",Object(r.h)(b.c,{id:"races.choose-class"},"Velg klasse")," --"),T.classes&&T.classes.map((function(t){return Object(r.h)(e,null,Object(r.h)("option",{value:t.id},t.title," - ",t.distance," km - Påmelding: ",t.signupfee||T.signupfee," NOK"))}))),Object(r.h)("small",{id:"classHelp",class:"form-text text-muted"},Object(r.h)(b.c,{id:"races.choose-class-help"},"Velg ønsket klasse."))),Object(r.h)("div",{class:"form-group form-check"},Object(r.h)("input",{type:"checkbox",class:"form-check-input",id:"termsAndAgreement",onInput:this.updateSignup,checked:H.termsAndAgreement,value:!0}),Object(r.h)("label",{class:"form-check-label",for:"termsAndAgreement"},Object(r.h)(b.c,{id:"races.agreement-accept"},"Jeg har lest og godtar reglene for løpet."))),Object(r.h)("button",{type:"button",class:"btn btn-primary",onClick:this.signupToRace},Object(r.h)(b.c,{id:"races.do-signup"},"Meld meg på")))):Object(r.h)(e,null,J<new Date(T.signupStartDate)?Object(r.h)(e,null,Object(r.h)("h5",{class:"mt-4"},Object(r.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(r.h)(b.c,{id:"races.signup-not-open-yet"},"Påmeldingen har ikke åpnet ennå!")),Object(r.h)("p",{class:"mt-4"},Object(r.h)(b.c,{id:"races.signup-opening"},"Påmeldingen åpner"),":",Object(r.h)("br",null),Object(r.h)("span",{class:"display-4"},i.a.formatDate(T.signupStartDate,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(r.h)(e,null,Object(r.h)("h5",{class:"mt-4 mb-4"},Object(r.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(r.h)(b.c,{id:"races.signup-closed"},"Påmeldingen er stengt!"))))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0 mb-2"},Object(r.h)("div",{class:""},Object(r.h)(j.a,{stores:this.props.stores,likes:F,comments:V,type:"story"}))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-6 text-center"},Object(r.h)("button",{type:"button",class:"btn btn-outline-"+(B?"primary":"secondary")+" btn-lg btn-block "+(B?"text-primary":""),onClick:this.likeRace},Object(r.h)("i",{class:(B?"text-primary fas":"far")+" fa-thumbs-up"})," ",B?Object(r.h)(b.c,{id:"comments.has-liked"},"Liked"):Object(r.h)(b.c,{id:"comments.like"},"Lik"))),Object(r.h)("div",{class:"col-6 text-center"},Object(r.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":T.id,onClick:this.toggleAddComment},Object(r.h)("i",{class:"fas fa-comment"})," ",Object(r.h)(b.c,{id:"comments.comment-add"},"Comment"))))),d&&R.email&&Object(r.h)(f.a,{stores:this.props.stores,race:T,inputRef:function(e){return t.inputRef[T.id]=e}}),Object(r.h)(p.a,{stores:this.props.stores,race:T,cols:"12"})))},s}(r.Component))||o;t.default=x}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-app-races.chunk.66108.js.map