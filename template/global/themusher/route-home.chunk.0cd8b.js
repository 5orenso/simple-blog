(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+1Jk":function(t,e,s){"use strict";s.r(e),function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,n=s("hosL"),c=s("Utv1"),i=s("/eY4"),l=s("OhSV"),h=(s("X9Km"),s("ZOvn")),u=s("JWe/"),d=s("WAWY"),b=s("azdc"),m=s("XPU5"),p=(s("ZWUU"),s("CE5K")),f=s("qv+O"),O=s("sgpT"),j=s("0SNj"),g=s("9Bb9"),v=s("bUJL"),y=s("4imK"),w=s("pJjI"),k=s("L3gU"),x=s("AEg1"),S=s("gOLw"),P=s("w93r"),D=h.a.marginTop(!0),L=h.a.marginBottom(),T=h.a.subMenuMarginTop(),W={isLoading:!1,submenu:"lastWorkouts"},I=Object(i.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadTeamInfo=function(){return new Promise((function(t,e){return Promise.resolve(s.loadWorkoutSummary()).then((function(){try{return Promise.resolve(s.loadWorkoutPlans()).then((function(){try{return t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},s.loadWorkoutPlans=function(t){return new Promise((function(e,r){function o(){return e()}var a,n,i,l,h,u,d,b,m;return void 0===t&&(t=s.props),a=t.year,n=(new Date).getMonth()+1,i=c.a.getYear(),l=parseInt(a||(n<8?i-1:i),10),u=(h=t.stores).workoutPlanStore,(b=void 0===(d=h.workoutStore.currentTeam)?h.userStore.team.id:d)?Promise.resolve(u.load({query:{team:b,seasonYear:l,seasonMonth:6}})).then(function(){try{if((m=u.workoutPlans[0]||{}).id)return Promise.resolve(u.load(m.id)).then(function(){try{return u.prepareWeekGraphs({year:a}),t.call(this)}catch(t){return r(t)}}.bind(this),r);function t(){return o.call(this)}return t.call(this)}catch(t){return r(t)}}.bind(this),r):(u.updateItem("workoutPlans",[]),u.updateItem("workoutPlan",{}),u.resetGraphPlanWeekDistanceCurrent(),o.call(this))}))},s.loadDogs=function(){return new Promise((function(t,e){var r;return r=s.props.stores.dogStore,Promise.resolve(r.load({query:{team:r.currentTeam},addData:["workoutSummary"]})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.reloadFeeds=function(t){return new Promise((function(e){return t.preventDefault(),s.setState({isLoading:!0}),s.setState({isLoading:!1}),e()}))},s.toggleViewmode=function(t){var e=t.target.dataset.mode;!e&&t.target.parentNode&&(e=t.target.parentNode.dataset.mode),s.props.stores.appState.toggleViewmode(e)},s.chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},W),s}var a,i;i=e,(a=s).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i;var h=s.prototype;return h.loadAll=function(){return new Promise(function(t,e){var s,r,o;return r=(s=this.props.stores).appState,o=s.userStore,this.setState({isLoading:!0}),Promise.resolve(r.getFingerprint()).then(function(){try{return Promise.resolve(o.getInfo()).then(function(){try{return Promise.resolve(o.getNotifications()).then(function(){try{return Promise.resolve(this.loadWorkoutSummary()).then(function(){try{return Promise.resolve(Promise.all([this.loadWorkoutPlans(),this.loadTeams()])).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.loadTeams=function(t){return new Promise(function(e,s){var r;return void 0===t&&(t=this.props),r=t.stores,Promise.resolve(r.teamStore.load({query:{team:r.workoutStore.currentTeam,skipMusherWorkoutSummary:!0},addData:["workoutSummary"]})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},h.loadFeed=function(){return new Promise(function(t,e){return Promise.resolve(this.props.stores.userStore.getFeed({})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},h.loadWorkoutSummary=function(){return new Promise(function(t,e){var s;return s=this.props.stores,Promise.resolve(s.userStore.getWorkoutSummary({team:s.workoutStore.currentTeam})).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},h.componentDidMount=function(){this.loadAll()},h.render=function(){var e=this,s=this.state,r=s.isLoading,o=s.submenu,a=this.props.viewmenu,i=this.props.stores,h=i.userStore,W=i.appState,I=i.workoutPlanStore,C=i.teamStore,E=i.workoutStore,A=i.stravaActivityStore,_=i.garminActivityDetailsStore,M=I.workoutPlan,R=I.workoutPlans,F=W.darkmode,U=W.viewmode,q=h.workouts,z=h.isAdmin,V=h.user,Y=V.yrWeather,K=V.currentLocationGeocode,N=(void 0===K?{}:K).formatted_address,B=h.teams.length,H=h.dogs.length,Z=h.tracks.length,G=E.currentTeam,J=E.cordovaActiveTrackingParams,X=E.isRunning,Q=E.totalDistance,$=E.currentSpeed,tt=E.totalTime,et=h.findTeam(G,!0),st=C.workoutSummary,rt=(G?C.findWorkoutSummary(G,2019):C.findWorkoutSummaryTotal(2019))||{},ot=(G?C.findWorkoutSummary(G,2020):C.findWorkoutSummaryTotal(2020))||{},at=A.stravaActivities,nt=_.garminActivityDetails;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: "+L+"; margin-top: "+D+";"},Object(n.h)("div",{class:"row mb-4 fixed-top",style:"margin-top: "+T+"; background-color: "+(F?"#191d21":"#f8f9fa")+";"},z&&Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-user-shield"})," ",Object(n.h)(l.c,{id:"home.admin"},"Admin")))),Object(n.h)("div",{class:"col text-center subtopmenu border-bottom border-primary"},Object(n.h)("a",{href:"/",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"home.dashboard"},"Dashboard")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"home.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/todo",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(l.c,{id:"home.todo"},"Todo"))))),X&&J&&Object(n.h)(t,null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom bg-light py-4"},Object(n.h)("h1",{class:"text-success font-weight-bold"},"Tracking",Object(n.h)("div",{class:"spinner-grow ml-3",role:"status"})),Object(n.h)("div",{class:"row mb-3"},Object(n.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},c.a.secToHms(tt)),Object(n.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},c.a.format(3.6*$,1)," km/t"),Object(n.h)("div",{class:"col-4 text-center font-weight-bold",style:"font-size: 1.3em;"},c.a.format(Q/1e3,2)," km")),Object(n.h)("a",{class:"btn btn-block btn-danger",href:"/workouts/tracking"},Object(n.h)(l.c,{id:"workouts.go-to-tracking"},"Go to tracking"))))),["old"].indexOf(U)>-1?Object(n.h)(t,null,Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(w.a,{stores:this.props.stores,callback:this.loadTeamInfo,key:"teams-"+G})),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!r&&st&&0===st.length&&Object(n.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(n.h)("div",{class:"text-center"},Object(n.h)("div",{class:"display-4"},Object(n.h)("i",{class:"fas fa-paw"})),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"home.welcome-title"},"Velkommen til The Musher.")),Object(n.h)("p",null,Object(n.h)(l.c,{id:"home.welcome-body-1"},"The Musher er en app som er kontinuerlig under utvikling. Alle ideer/innspill/kommentarer mottas med stor takk p친 Facebooksiden v친r 游땎")),Object(n.h)("p",null,Object(n.h)(l.c,{id:"home.welcome-body-2"},"Fokus til appen er enkel registrering av hunder, team, treninger og hendelser rundt hundene. N친r man har mange hunder s친 er det ofte vanskelig 친 holde styr p친 l칮petid, vaksiner, treninger, skader, vetrin칝rbes칮k, chiplister, osv.")),Object(n.h)("p",null,Object(n.h)(l.c,{id:"home.welcome-body-3"},"Alle data lagres sentralt i skyen hos AWS (Amazon Web Services) og det vil derfor v칝re mulig 친 bruke appen fra flere telefoner og datamaskiner samtidig. Dette kan v칝re fint dersom det er flere som trener og f칮lger opp hundene."))),Object(n.h)("h5",null,Object(n.h)(l.c,{id:"home.howto-title"},"Slik kommer du i gang:")),Object(n.h)("ol",null,B<1&&Object(n.h)("li",null,Object(n.h)("a",{class:"btn btn-info mt-3",href:"/teams/"},Object(n.h)(l.c,{id:"home.howto-step-1"},"Legg inn teamene dine."))),H<1&&Object(n.h)("li",null,Object(n.h)("a",{class:"btn btn-info mt-3",href:"/dogs/"},Object(n.h)(l.c,{id:"home.howto-step-2"},"Legg inn hundene dine."))),Z<1&&Object(n.h)("li",null,Object(n.h)("a",{class:"btn btn-info mt-3",href:"/tracks/"},Object(n.h)(l.c,{id:"home.howto-step-3"},"Legg inn rundene dine."))),Object(n.h)("li",null,Object(n.h)("a",{class:"btn btn-info mt-3",href:"/workouts/"},Object(n.h)(l.c,{id:"home.howto-step-4"},"Begynn 친 registrere treningene."))))),Object(n.h)(d.a,{stores:this.props.stores,isLoading:r,key:"graph-"+M.id+"-"+R.length}),["beta","advanced"].indexOf(U)>-1&&Object(n.h)(t,null,Object(n.h)(b.a,{stores:this.props.stores,isLoading:r,key:"workout-table-"+M.id+"-"+R.length,showHeader:!1})))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:"btn btn-block "+("races"===o?"btn-danger":"btn-outline-danger")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"races",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-dog"})," ",Object(n.h)(l.c,{id:"home.races"},"L칮p"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:"btn btn-block "+("lastWorkouts"===o?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"lastWorkouts",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-running"})," ",Object(n.h)(l.c,{id:"home.workouts"},"Treninger"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:"btn btn-block "+("totals"===o?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-equals"})," ",Object(n.h)(l.c,{id:"home.totals"},"Totaler"))),Object(n.h)("div",{class:"col px-1 pt-2"},Object(n.h)("button",{class:"btn btn-block "+("workoutplanStatus"===o?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplanStatus",onClick:this.chooseSubmenu},Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"home.status"},"Status"))))),"races"===o&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(f.a,{stores:this.props.stores})),"lastWorkouts"===o&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(p.a,null),Object(n.h)(m.a,{stores:this.props.stores})),"totals"===o&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(j.a,{stores:this.props.stores,key:"totals-"+ot.distancekm,currentSeason:ot,prevSeason:rt})),"workoutplanStatus"===o&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(g.a,{stores:this.props.stores,key:"status-"+ot.distancekm,currentSeason:ot,prevSeason:rt}))),Object(n.h)(O.a,{stores:this.props.stores}),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(n.h)("button",{type:"button",class:"btn btn-success btn-block","data-mode":"beta",onClick:this.toggleViewmode},Object(n.h)("i",{class:"fas fa-flask"})," ",Object(n.h)(l.c,{id:"header.viewmode-try-beta"},"Pr칮v den nye versjonen av forsiden")))),"lastWorkouts"===o&&Object(n.h)("div",{class:"row"},V&&V.strava&&at&&at.length>0&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2 overflow-auto",style:"max-height: 30vh;"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")),at&&at.map((function(t){return Object(n.h)(v.a,{stores:e.props.stores,activity:t,key:"strava-"+G+"-"+t.id})}))),V&&V.garmin&&nt&&nt.length>0&&Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-top border-bottom pt-3 pb-3 my-2 overflow-auto",style:"max-height: 30vh;"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")),nt&&nt.map((function(t){return Object(n.h)(y.a,{stores:e.props.stores,activity:t,key:"garmin-"+G+"-"+t.id})}))),q&&q.length>0&&Object(n.h)("div",{class:"col-12 mb-4"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mt-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"home.last-workouts",fields:{total:q.length}},"Siste treningsturer - ",q.length," stk"),et&&et.name&&Object(n.h)("div",null,Object(n.h)("small",{class:"font-weight-lighter"},"(",Object(n.h)(l.c,{id:"workout.index.filtered-by"},"Filtered by"),": ",et.name,")")))),q&&q.map((function(t){return Object(n.h)(u.a,{stores:e.props.stores,workout:t})}))))):Object(n.h)(t,null,Object(n.h)("div",{class:"bg-light"},Object(n.h)(P.a,{stores:this.props.stores,data:Y,place:N})),Object(n.h)(x.a,{stores:this.props.stores}),Object(n.h)("div",{class:"row pb-3 bg-light",style:"background-color: "+(F?"#191d21":"#f8f9fa")+";"},Object(n.h)("div",{class:"col text-center subtopmenu "+("wall"===a?"border-bottom border-primary":"")},Object(n.h)("a",{class:"wall"===a?"text-primary":"text-secondary",href:"/home-wall"},Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"home.wall"},"Veggen"))),Object(n.h)("div",{class:"col text-center subtopmenu "+("workout"===a?"border-bottom border-primary":"")},Object(n.h)("a",{class:"workout"===a?"text-primary":"text-secondary",href:"/home-workout"},Object(n.h)("i",{class:"fas fa-running"})," ",Object(n.h)(l.c,{id:"home.workouts"},"Treninger"))),Object(n.h)("div",{class:"col text-center subtopmenu "+("totals"===a?"border-bottom border-primary":"")},Object(n.h)("a",{class:"totals"===a?"text-primary":"text-secondary",href:"/home-totals"},Object(n.h)("i",{class:"fas fa-list-ol"})," ",Object(n.h)(l.c,{id:"home.totals"},"Totaler")))),"wall"===a&&Object(n.h)(t,null,Object(n.h)(S.a,{stores:this.props.stores})),"workout"===a&&Object(n.h)(t,null,Object(n.h)(k.a,{stores:this.props.stores})),"totals"===a&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(n.h)(w.a,{stores:this.props.stores,callback:this.loadTeamInfo,key:"teams-"+G}),Object(n.h)(j.a,{stores:this.props.stores,key:"totals-"+ot.distancekm,currentSeason:ot,prevSeason:rt}),Object(n.h)(g.a,{stores:this.props.stores,key:"status-"+ot.distancekm,currentSeason:ot,prevSeason:rt})))))},s}(n.Component))||a;e.default=I}.call(this,s("hosL").Fragment)},"9Bb9":function(t,e,s){"use strict";var r,o=s("hosL"),a=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=s("ETxl"),l=s.n(i),h=s("ZOvn"),u=Object(n.a)(r=function(t){function e(){return t.apply(this,arguments)||this}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){var t,e=this.props.stores,s=e.userStore,r=e.workoutPlanStore,n=e.teamStore,i=s.user.language,u=h.a.getMonths(void 0===i?"no":i),d=n.team,b=this.props.year,m=(new Date).getMonth()+1,p=b||a.a.getYear(),f=parseInt(m<8?p-1:p,10),O=a.a.monthRange(f+"-08-01",f+1+"-07-31");return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("h5",null,Object(o.h)(c.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(o.h)("div",{class:"row mt-2 border-bottom pb-2"},O&&O.map((function(e){if(e.year>p||e.year===p&&e.month>=m)return"";var n=r.sumWorkoutPlanMonth(e.year,e.month+1);if(!n)return"";t=n;var c=s.findWorkoutSummaryMonth(e.year,e.month+1)/n*100,i=c>100?100:a.a.format(c,0);return Object(o.h)("div",{class:"col-3 text-center"},Object(o.h)("div",{class:"px-auto w-100 clearfix"},Object(o.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(o.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:"height: "+i+"%; width: 40px;","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},a.a.format(c,0),"%"))),Object(o.h)("div",{class:"w-100 mt-1"},u[e.month]," ",e.year))})),!t&&Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("h3",null,Object(o.h)(c.c,{id:"workout.plan.no-workout-plan-found",fields:{name:d.name}},"Ingen treningsplaner funnet for team ",d.name,".")))))},e}(o.Component))||r;e.a=u},L3gU:function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=s("Utv1"),l=s("/eY4"),h=s("cneo"),u=s("OhSV"),d=s("fh8t"),b=s.n(d),m=(s("X9Km"),s("1OK2"),s("sqi2")),p=s("/922"),f=s("eQ6k"),O=s("VKmm"),j=s("rWES"),g=s("epqT"),v=s("ZOvn"),y={showAddComment:{},viewImageIdx:{},likeWorkout:{},idxSuggestion:3,idxAd:4},w=Object(l.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).subscriptions=function(){},s.toggleDate=function(t){t.stopPropagation(),t.preventDefault(),s.setState({showDate:!s.state.showDate})},s.likeWorkout=function(t){return new Promise((function(e,r){var o,a,n,c;return o=parseInt(t.target.closest(".workoutImage").dataset.id,10),a=s.props.stores.workoutStore,(n=s.state.likeWorkout)[o]=!0,s.setState({likeWorkout:n}),setTimeout((function(){var t=s.state.likeWorkout;delete t[o],s.setState({likeWorkout:t})}),1200),Promise.resolve(a.likeWorkout({id:o})).then((function(t){try{return(c=t)&&200===c.status&&s.addLikeToFeed(o,c.data),e()}catch(t){return r(t)}}),r)}))},s.addCommentToFeed=function(t){var e=t.workout,r=t.response,o=t.commentId,a=t.replyId,n=s.props.stores.teamStore;switch(t.type){case"likeComment":n.addLikeToComment({id:e.id,data:r.data,commentId:o});break;case"likeReply":n.addLikeToCommentReply({id:e.id,data:r.data,commentId:o,replyId:a});break;default:o?n.addCommentToWorkoutComment({id:e.id,data:r.data,commentId:o}):n.addCommentToWorkout({id:e.id,data:r.data})}},s.addLikeToFeed=function(t,e){s.props.stores.teamStore.addLikeToWorkout({id:t,data:e})},s.toggleAddComment=function(t){var e=t.target.closest("button").dataset.id,r=s.state.showAddComment;r[e]?delete r[e]:r[e]=!0,s.setState({showAddComment:r},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.viewImage=function(t){var e=t.target.closest("img").dataset,r=s.state.viewImageIdx;r[e.id]=e.idx,s.setState({viewImageIdx:r})},s.shareLink=function(t){var e=t.target.closest("button").dataset;s.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},s.state=o({},y),s.inputRef={},s.subscriptions(),s}var r,a;a=e,(r=s).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a;var n=s.prototype;return n.loadTeamsPublicFeed=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(t.stores.teamStore.loadPublicFeed()).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},n.loadAll=function(){return new Promise(function(t,e){return Promise.resolve(this.loadTeamsPublicFeed()).then((function(){try{return t()}catch(t){return e(t)}}),e)}.bind(this))},n.componentDidMount=function(){this.loadAll()},n.render=function(){var e=this,s=this.state,r=s.showAddComment,a=s.showDate,n=s.viewImageIdx,l=void 0===n?{}:n,d=s.likeWorkout,y=s.idxSuggestion,w=s.idxAd,k=this.props.stores,x=k.teamStore,S=k.userStore,P=k.appState,D=S.user,L=S.isAdmin,T=D.language,W=void 0===T?"no":T,I=x.publicTeamsFeed,C=P.darkmode,E=P.hasShareApi,A=P.path,_=!1,M=!1;return Object(c.h)("div",{class:"w-100"},Object(c.h)(j.a,{stores:this.props.stores}),I&&I.map((function(s,n){var j,k=x.findPublicTeam(s.team)||{};k.image&&k.image.s3SmallLink?j=k.image:k.images&&k.images[0]&&k.images[0].s3SmallLink&&(j=k.images[0]);var P=s.likes,T=s.comments,I=s.likes&&s.likes.findIndex((function(t){return t.user===D.id}))>-1,R=k&&k.followers?k.followers.length:0,F=k.members&&k.members.indexOf(D.id)>-1,U=k&&k.followers&&k.followers.indexOf(D.id)>-1,q=k.followRequests&&k.followRequests.findIndex((function(t){return t.id===D.id}))>-1,z=[];if(s.mapImage&&z.push(o(o({},s.mapImage),{},{type:"map"})),s.images){var V=Object(h.i)(s.images);z.push.apply(z,V)}var Y,K=l[s.id]?l[s.id]:0,N=z&&z[K]?z[K]:null,B=s.currentLocationGeocode,H=void 0===B?{}:B;return k&&k.name?(n===y&&(_=!0),n===w&&(M=!0),Object(c.h)(t,null,n===y&&Object(c.h)(t,null,Object(c.h)(O.a,{stores:e.props.stores})),n===w&&Object(c.h)(t,null,Object(c.h)(g.a,{stores:e.props.stores,path:A})),Object(c.h)("div",{class:"row pb-4 bg-light"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-"+(C?"black":"white")+" shadow-sm"},Object(c.h)("div",{class:"d-flex"},Object(c.h)("div",{class:"text-center"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:j?'background-image: url("'+j.s3SmallLink+'");':""},!j&&Object(c.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},k.name),Object(c.h)("div",null,s.date&&Object(c.h)("small",{class:"text-muted",onClick:e.toggleDate},a?i.a.formatDate(s.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):i.a.formatDistance(s.date,new Date,{locale:"no-NB"})),1===s.public?Object(c.h)(t,null,Object(c.h)("small",{class:"ml-2 text-muted"},Object(c.h)("i",{class:"fas fa-globe-europe"}))):Object(c.h)(t,null,Object(c.h)("small",{class:"ml-2 text-muted"},Object(c.h)("i",{class:"fas fa-users"})," (",i.a.format(R),")")),Object(c.h)("small",{class:"text-muted"},s.equipment>0&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-tools ml-2"})," ",S.findEquipment(s.equipment)||s.equipment),s.dogs>0&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-dog ml-2"})," ",s.dogs.length),s.track>0&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-map-marked text-"+(s.track>0?"success":"danger")+" ml-2"})),s.sledWeight>0&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-sleigh ml-2"})," ",i.a.format(s.sledWeight,0)," kg"),0!==s.temperature&&Object(c.h)(t,null,Object(c.h)("i",{class:"fas fa-temperature-low ml-2"})," ",s.temperature,"춿C")),L&&H&&H.formatted_address&&Object(c.h)(t,null,Object(c.h)("small",{class:"ml-2 text-muted"},Object(c.h)("i",{class:"fas fa-map-marker-alt"})," ",H.formatted_address))))),Object(c.h)("div",{class:"row mt-2"},Object(c.h)("div",{class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;"},Object(c.h)(b.a,{markdown:v.a.replaceImages(s.name,s.images,W),markdownOpts:v.a.getMarkdownOptions()})),Object(c.h)("div",{class:"clearfix col-12"},Object(c.h)(b.a,{markdown:v.a.replaceImages(s.comment,s.images,W),markdownOpts:v.a.getMarkdownOptions()}))),Object(c.h)("div",{class:"row mt-1"},s.distanceKm>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(u.c,{id:"workout.calendar.distance"},"Distanse"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},i.a.format(Y=s.distanceKm,Y<5?2:1),"km")),s.elevation>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(u.c,{id:"workout.calendar.ascend"},"H칮ydemeter"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},i.a.format(s.elevation,0),"m")),s.duration>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-clock"})," ",Object(c.h)(u.c,{id:"workout.calendar.duration"},"Varighet"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},i.a.secToHms(s.duration,!0))),s.speedAvg>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(u.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},i.a.format(s.speedAvg,1),"km/t"))),Object(c.h)("div",{class:"container-fluid px-0 mt-1"},N&&Object(c.h)("div",{class:"clearfix row position-relative"},Object(c.h)("div",{class:"workoutImage col-12 px-0 overflow-hidden",style:"max-height: 50vh;",onDblclick:e.likeWorkout,"data-id":s.id},Object(c.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:N.s3XLargeLink})),d[s.id]&&Object(c.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(c.h)("i",{class:"fas fa-heart likeStory"}))),z&&z.length>1&&Object(c.h)("div",{class:"clearfix d-flex flex-wrap row"},z.map((function(r,o){return Object(c.h)(t,null,Object(c.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px;"},Object(c.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:r.s3SmallLink,onClick:e.viewImage,"data-id":s.id,"data-idx":o})))})))),Object(c.h)("div",{class:"mt-2"},P&&P.length>0&&Object(c.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",P.length),T&&T.length>0&&Object(c.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-comment text-primary"})," ",T.length)),!F&&!U&&!q&&Object(c.h)("div",{class:"clearfix mb-2"},Object(c.h)(f.a,{stores:e.props.stores,team:k,buttonOnly:!0})),Object(c.h)("div",null,Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:"workoutImage btn btn-sm btn-outline-"+(I?"primary":"secondary")+" btn-lg btn-block "+(I?"text-primary":"")+" text-overflow","data-id":s.id,onClick:e.likeWorkout},Object(c.h)("i",{class:(I?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(c.h)(u.c,{id:"comments.like"},"Lik"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":s.id,onClick:e.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," ",Object(c.h)(u.c,{id:"comments.comment-add"},"Kommentar"))),E&&Object(c.h)(t,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:e.shareLink,"data-url":"https://themusher.app/share/workout/"+s.uuidv4,"data-title":"title: "+s.title},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(u.c,{id:"story.share"},"Del")))))),Object(c.h)("div",{class:"mt-2"},r[s.id]&&Object(c.h)(p.a,{stores:e.props.stores,workout:s,inputRef:function(t){return e.inputRef[s.id]=t},inputRefObject:e.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:e.addCommentToFeed}),Object(c.h)(m.a,{stores:e.props.stores,workout:s,col:"12",offset:"0",compact:!1,callback:e.addCommentToFeed})))))):""})),!_&&Object(c.h)(t,null,Object(c.h)(O.a,{stores:this.props.stores})),!M&&Object(c.h)(t,null,Object(c.h)(g.a,{stores:this.props.stores,path:A})))},s}(c.Component))||n;e.a=w}).call(this,s("hosL").Fragment)},ZWUU:function(t,e,s){"use strict";var r,o=s("hosL"),a=(s("Utv1"),s("/eY4")),n=s("OhSV");s("go65"),Object(a.a)(r=function(t){function e(){for(var e,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).toggleSetting=function(t){return new Promise((function(s,r){var o,a,n;return n=(a=e.props.stores.userStore).user.settings,Promise.resolve(a.updateSetting((o={},o["settings."+t]=1===(void 0===n?{}:n)[t]?0:1,o))).then((function(){try{return s()}catch(t){return r(t)}}),r)}))},e.hideSettings=function(){return new Promise((function(t,s){return Promise.resolve(e.props.stores.userStore.updateSetting({"settings.hideSettings":1})).then((function(){try{return e.setState({hideSettings:!0}),t()}catch(t){return s(t)}}),s)}))},e}var s,r;return r=t,(s=e).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,e.prototype.render=function(){var t=this,e=this.props.stores.userStore.user.settings,s=void 0===e?{}:e;return this.state.hideSettings||s.hideSettings||!this.props.forceShow&&s.summaryEmails&&s.infoEmails&&s.partnerEmails?"":Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 pt-4 pb-4 border-bottom border-top"},Object(o.h)("h5",null,Object(o.h)(n.c,{id:"users.settings"},"Brukerinnstillinger")),!s.summaryEmails&&Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-4 text-muted text-right"},Object(o.h)(n.c,{id:"users.settings-summary-email"},"Oppsummeringer")),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"custom-control custom-switch"},Object(o.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsSummaryEmails",onInput:function(){return t.toggleSetting("summaryEmails")},checked:s.summaryEmails}),Object(o.h)("label",{class:"custom-control-label",for:"settingsSummaryEmails"})),Object(o.h)("small",{class:"text-muted"},Object(o.h)(n.c,{id:"users.settings-receive-summary-email"},"Motta oppsummeringer via e-post")))),!s.infoEmails&&Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-4 text-muted text-right"},Object(o.h)(n.c,{id:"users.settings-info-email"},"Info")),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"custom-control custom-switch"},Object(o.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsInfoEmails",onInput:function(){return t.toggleSetting("infoEmails")},checked:s.infoEmails}),Object(o.h)("label",{class:"custom-control-label",for:"settingsInfoEmails"})),Object(o.h)("small",{class:"text-muted"},Object(o.h)(n.c,{id:"users.settings-receive-info-email"},"Motta info via e-post")))),!s.partnerEmails&&Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-4 text-muted text-right"},Object(o.h)(n.c,{id:"users.settings-partner-email"},"Partners")),Object(o.h)("div",{class:"col-8"},Object(o.h)("div",{class:"custom-control custom-switch"},Object(o.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsPartnerEmails",onInput:function(){return t.toggleSetting("partnerEmails")},checked:s.partnerEmails}),Object(o.h)("label",{class:"custom-control-label",for:"settingsPartnerEmails"})),Object(o.h)("small",{class:"text-muted"},Object(o.h)(n.c,{id:"users.settings-receive-partner-email"},"Motta tilbud fra v친re partnere via e-post")))),Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-12 text-muted"},Object(o.h)("small",null,Object(o.h)("a",{href:"/users"},Object(o.h)("i",{class:"fas fa-sliders-h"})," ",Object(o.h)(n.c,{id:"users.settings-text-info"},"Innstillingene finner du inne p친 profilen din."))))),Object(o.h)("div",{class:"row mt-4"},Object(o.h)("div",{class:"col-12 text-muted text-right"},Object(o.h)("small",null,Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.hideSettings},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(n.c,{id:"users.hide-settings"},"Skjul innstillingene"))))))},e}(o.Component))},azdc:function(t,e,s){"use strict";(function(t){var r,o=s("hosL"),a=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=s("ZOvn"),l=Object(c.d)((function(){return{week:Object(o.h)(c.c,{id:"workout.graph.week"}),distance:Object(o.h)(c.c,{id:"workout.graph.distance"}),ascend:Object(o.h)(c.c,{id:"workout.graph.ascend"}),plan:Object(o.h)(c.c,{id:"workout.graph.plan"})}}))(r=Object(n.a)(r=function(e){function s(){return e.apply(this,arguments)||this}var r,n;return n=e,(r=s).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,s.prototype.render=function(){for(var e=this.props.stores.userStore,s=this.props,r=s.year,n=s.month,l=s.showHeader,h=void 0===l||l,u=e.user.language,d=i.a.getMonths(void 0===u?"no":u),b=n||(new Date).getMonth()+1,m=r||a.a.getYear(),p=parseInt(b<8?m-1:m,10),f=a.a.monthRange(p+"-08-01",p+1+"-07-31"),O=a.a.monthRange(p-1+"-08-01",p+"-07-31"),j=a.a.weekRange(p+"-08-01",p+1+"-07-31").map((function(t){return t.week})),g=Math.floor(j.length/(j.length%6)),v=[],y=0,w=j.length;y<w;y+=g)v.push(j[y]);return Object(o.h)(t,null,h&&Object(o.h)("h5",null,Object(o.h)(c.c,{id:"workout.graph.title"},"Treningsstatistikk")," ",p," - ",p+1),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)("small",{class:"mb-4"},Object(o.h)("small",null,Object(o.h)("table",{class:"table table-sm font-weigth-lighter border-bottom"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{style:"padding: .15rem;"},Object(o.h)(c.c,{id:"workout.graph.season"},"Sesong")),f.map((function(t){return Object(o.h)("th",{class:"text-right",style:"padding: .15rem;"},Object(o.h)("a",{href:"/workouts/month/"+t.month+"/"+t.year},d[t.month-1]))})))),Object(o.h)("tbody",null,Object(o.h)("tr",null,Object(o.h)("th",{scope:"row",style:"padding: .15rem;"},p-1," - ",p),O.map((function(s){return Object(o.h)(t,null,Object(o.h)("td",{class:"text-right",style:"padding: .15rem;"},Object(o.h)("nobr",null,e.findWorkoutSummaryMonth(s.year,s.month)),Object(o.h)("br",null),Object(o.h)("nobr",null,e.findWorkoutSummaryMonth(s.year,s.month,"elevation")),Object(o.h)("br",null)))})),Object(o.h)("td",{class:"text-muted",style:"padding: .15rem;"},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-road"})," km"),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-mountain"})," m"),Object(o.h)("br",null))),Object(o.h)("tr",null,Object(o.h)("th",{scope:"row",style:"padding: .15rem;"},p," - ",p+1),f.map((function(s){return Object(o.h)(t,null,Object(o.h)("td",{class:"text-right",style:"padding: .15rem;"},Object(o.h)("nobr",null,e.findWorkoutSummaryMonth(s.year,s.month)),Object(o.h)("br",null),Object(o.h)("nobr",null,e.findWorkoutSummaryMonth(s.year,s.month,"elevation")),Object(o.h)("br",null)))})),Object(o.h)("td",{class:"text-muted",style:"padding: .15rem;"},Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-road"})," km"),Object(o.h)("br",null),Object(o.h)("nobr",null,Object(o.h)("i",{class:"fas fa-mountain"})," m"),Object(o.h)("br",null)))))))))},s}(o.Component))||r)||r;e.a=l}).call(this,s("hosL").Fragment)},"qv+O":function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function a(t,e,s){if(void 0===t&&(t=""),void 0===s&&(s="no"),i.a.isString(t)){var r=t,o=new RegExp("<"+s+">(.*?)</"+s+">","s").exec(r);if(o){var a=o[0];a&&(r=a)}return r.replace(/\{\{img\.(\d+)\s*(\d*)\}\}/g,(function(t,s,r){return i.a.isObject(e[s])?"<img src="+e[s].s3XXLargeLink+" class='img-fluid float-right' style='width: "+(r||40)+"%;' />":""}))}return t}var n,c=s("hosL"),i=s("Utv1"),l=s("/eY4"),h=s("OhSV"),u=s("fh8t"),d=s.n(u),b=(s("ZOvn"),{pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0}),m={isLoading:!1},p=Object(l.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},m),s}var n,l;l=e,(n=s).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var u=s.prototype;return u.loadRace=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),this.setState({isLoading:!0}),Promise.resolve(t.stores.raceStore.load({query:{}})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},u.componentDidMount=function(){this.loadRace()},u.componentWillReceiveProps=function(t){this.loadRace(t)},u.render=function(){var e=this.props.stores,s=e.appState,r=e.userStore,o=r.isAdmin,n=e.raceStore.races,l=s.language,u=void 0===l?"no":l;return Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("h5",null,Object(c.h)(h.c,{id:"races.homerun"},"Homerun races"))),(n||0===n.length)&&Object(c.h)("div",{class:"col-12 text-center py-5"},Object(c.h)("h5",null,"No upcoming races!"),"Take a look at the previous races:",Object(c.h)("br",null),Object(c.h)("a",{href:"https://homerunrace.no/",target:"_blank",rel:"noreferrer"},"homerunrace.no")),n&&n.sort((function(t,e){return t.startDate-e.startDate})).reverse().map((function(e){var s=new Date,r="";if(s>=new Date(e.startDate)&&s<=new Date(e.endDate))r="race";else if(s>=new Date(e.signupStartDate)&&s<=new Date(e.signupEndDate))r="signup";else if(s>new Date(e.endDate))return Object(c.h)(t,null);return Object(c.h)(t,null,Object(c.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-6 mb-3"},Object(c.h)("div",{class:"card position-relative"},Object(c.h)("h5",{class:"position-absolute",style:"top: 10px; right: 10px;"},"signup"===r&&Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-grow text-primary",role:"status"})),"race"===r&&Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-grow text-danger",role:"status"})),"done"===r&&Object(c.h)(t,null,Object(c.h)("span",null,Object(c.h)("i",{class:"fas fa-check text-success"})))),Object(c.h)("h5",{class:"card-header"},o&&Object(c.h)("i",{class:"fas fa-eye"+(e.active?" text-success":"-slash text-danger")+" float-right"}),e.title),Object(c.h)("div",{class:"list-thumb d-flex align-items-center position-relative"},Object(c.h)("h5",{class:"position-absolute",style:"top: 3px; right: 5px;"},"signup"===r&&Object(c.h)(t,null,Object(c.h)("span",{class:"badge badge-primary border border-white ml-2"},Object(c.h)(h.c,{id:"races.signup-open"},"P친melding 친pen"))),"race"===r&&Object(c.h)(t,null,Object(c.h)("span",{class:"badge badge-danger border border-white ml-2"},Object(c.h)(h.c,{id:"races.race-in-progress"},"L칮p p친g친r"))),"done"===r&&Object(c.h)(t,null,Object(c.h)("span",{class:"badge badge-success border border-white ml-2"},Object(c.h)(h.c,{id:"races.race-finished"},"L칮p avsluttet")))),e.images&&e.images[0]?Object(c.h)("img",{src:e.images[0].s3MediumLink,class:"card-img-top"}):""),Object(c.h)("div",{class:"card-body"},Object(c.h)("p",{class:"card-text"},Object(c.h)(d.a,{markdown:a(e.ingress,e.images,u),markdownOpts:b})),e.classes&&Object(c.h)(t,null,Object(c.h)("div",{class:"mb-3"},Object(c.h)("small",{class:"font-weight-lighter mr-2"},Object(c.h)(h.c,{id:"races.classes"},"Klasser"),": "),Object(c.h)("br",null),e.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(c.h)(t,null,Object(c.h)("span",{class:"badge badge-pill badge-light mr-2 font-weight-light"},e.title))})))),Object(c.h)("a",{href:"/app-races/"+e.id,class:"btn btn-primary stretched-link"},Object(c.h)(h.c,{id:"races.read-more"},"Les mer"))),Object(c.h)("div",{class:"card-footer"},Object(c.h)("small",{class:"text-muted"},Object(c.h)(h.c,{id:"races.race-days"},"L칮psdager"),": ",e.startDate&&Object(c.h)(t,null,i.a.formatDate(e.startDate,{locale:u})),e.endDate&&Object(c.h)(t,null," - ",i.a.formatDate(e.endDate,{locale:u})))))))})))},s}(c.Component))||n;e.a=p}).call(this,s("hosL").Fragment)},sgpT:function(t,e,s){"use strict";function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,n=s("hosL"),c=(s("ox/y"),s("Utv1"),s("/eY4")),i=(s("go65"),s("Y3FI"),s("OhSV")),l={menu:{profile:!1,main:!1},searchText:""},h=Object(c.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),s}var s,a;return a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,e.prototype.render=function(){var t=this.props.stores.userStore.notifications,e=(void 0===t?[]:t).filter((function(t){return!t.read})).length||0;return e<3?"":Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-4 mb-4 clearfix px-0"},Object(n.h)("div",{class:"alert alert-danger",role:"alert"},Object(n.h)("a",{href:"/users/notifications",class:"text-dark"},Object(n.h)("i",{class:"fas fa-bell mr-2 text-dark"}),Object(n.h)("span",{class:"badge badge-pill badge-danger"},e)," ",Object(n.h)(i.c,{id:"notifications.unread"},"Uleste varslinger. Klikk her for 친 se alle..."))))},e}(n.Component))||a;e.a=h}}]);
//# sourceMappingURL=route-home.chunk.0cd8b.js.map