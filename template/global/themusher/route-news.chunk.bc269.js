(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"07/T":function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o,c=s("hosL"),i=s("Utv1"),a=s("/eY4"),l=s("ZOvn"),u=s("4dUO"),p=s("PWmE"),b={showAddComment:!1},h=Object(a.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).likeNews=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.newsStore.likeNews({id:s.props.news.id})).then((function(s){try{return s,t()}catch(t){return e(t)}}),e)}))},s.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;s.setState({showAddComment:!s.state.showAddComment},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},b),s.updateTimer={},s.inputRef={},s}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this,s=this.state.showAddComment,r=this.props.news,n=void 0===r?{}:r,o=this.props.stores.userStore.user,a=n.likes,b=void 0===a?[]:a,h=n.comments,f=void 0===h?[]:h,d=n.likes&&n.likes.findIndex((function(t){return t.user===o.id}))>-1;return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mb-5"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded",style:n.images&&n.images[0]?'background-image: url("'+n.images[0].s3SmallLink+'");':""},!(n.images&&n.images[0])&&Object(c.h)("i",{class:"fas fa-paragraph text-muted mt-3",style:"font-size: 40px;"})),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("a",{class:"stretched-link",href:"/news/"+n.id},Object(c.h)("i",{class:"fas fa-eye"+(n.active?" text-success":"-slash text-danger")+" float-right"}),Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},n.title)),Object(c.h)("div",null,Object(c.h)("small",{class:"text-muted"},i.a.isoDate(n.createdDate)," - ",n.tag)),n.ingress?l.a.maxLength(n.ingress,50):"")),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0"},b&&b.length>0&&Object(c.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",b.length),f&&f.length>0&&Object(c.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-comment text-primary"})," ",f.length)),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(d?"primary":"secondary")+" btn-lg btn-block "+(d?"text-primary":""),onClick:this.likeNews},Object(c.h)("i",{class:(d?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":n.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," Comment")))),s&&Object(c.h)(p.a,{stores:this.props.stores,news:n,inputRef:function(t){return e.inputRef[n.id]=t}}),Object(c.h)(u.a,{stores:this.props.stores,news:n,col:10,offset:2,compact:!0}))))},s}(c.Component))||o;e.a=h}).call(this,s("hosL").Fragment)},AxFz:function(t,e,s){"use strict";function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var o,c=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("OhSV"),l=s("07/T"),u=s("ZOvn"),p=u.a.marginTop(!1),b=u.a.marginBottom(),h={isLoading:!1},f=Object(i.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var i=e.prototype;return i.loadNews=function(t){return new Promise(function(e,s){var r,n,o;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),n=(r=t.stores).newsStore,o={tag:t.tag},r.userStore.isAdmin&&(o.showall=1,delete o.tag),Promise.resolve(n.load({query:o})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},i.componentDidMount=function(){this.loadNews()},i.componentWillReceiveProps=function(t){this.loadNews(t)},i.render=function(){var t=this,e=this.props.tag,s=this.props.stores,r=s.newsStore.newsList,n=s.userStore.isAdmin;return Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+b+"; margin-top: "+p+";"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,"news"===e?Object(c.h)(a.c,{id:"news.heading"},"Siste nytt"):Object(c.h)(a.c,{id:"news.heading-howo"},"Hvordan gjÃ¸r man det?"))),n&&Object(c.h)("a",{class:"btn btn-sm btn-success float-right ml-2",href:"/news/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(a.c,{id:"news.create"},"Ny")),r&&r.map((function(e){return Object(c.h)(l.a,{stores:t.props.stores,news:e})})))))},e}(c.Component))||o;e.default=f}}]);
//# sourceMappingURL=route-news.chunk.bc269.js.map