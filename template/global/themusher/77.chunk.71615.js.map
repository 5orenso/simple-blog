{"version":3,"sources":["webpack:///./routes/teams/public.js","webpack:///./components/header/subnavigation.js","webpack:///./components/dog/simplePublic.js","webpack:///./components/user/invite.js","webpack:///./components/team/public.js","webpack:///./components/team/publicLine.js","webpack:///./components/team/connect-confirm.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginTopBack","marginBottom","initialState","requestSent","submenu","TeamsDetail","observer","props","back","stores","history","goBack","chooseSubmenu","e","setState","target","parentElement","dataset","menu","state","updateTimer","loadAll","this","loadPublicTeams","teamid","teamStore","loadPublic","componentDidMount","componentWillReceiveProps","nextProps","dog","render","user","userStore","publicTeamsToFollow","waitingForApproval","filter","followRequests","findIndex","f","id","following","followers","indexOf","notFollowing","members","t","class","style","title","backtext","data-menu","onClick","util","isArray","length","forceShow","map","team","Component","SUB_MENU_MARGIN_TOP","subMenuMarginTop","SubNavigation","appState","previousPath","route","darkmode","Dog","dogs","showTeam","showInfo","showName","showPosition","showAge","className","size","onDogClick","language","dogPosition","findDogposition","position","hasBirthday","birth","containerWidth","Math","ceil","daysUntilNextBirthday","imageClasses","fontSize","onTouchstart","stopPropagation","onTouchend","onTouchmove","icon","name","image","s3SmallLink","ucfirst","href","uuidv4","shortname","age","deceased","gender","findTeam","weight","format","bodyScore","Invite","inviteKennel","email","friendEmail","response","inviteSent","inviteNew","hideInvite","updateSetting","settings","type","for","placeholder","onInput","linkState","Team","requestFollowTeam","teamId","parseInt","followRequest","unFollowTeam","unollowTeam","unfollowed","getButton","text","skipHome","simple","classNames","isYourTeam","isFollowing","isBlocked","blockedFollowers","hasRequestedFollow","disabled","data-team","public","buttonOnly","teamAmbition","findTeamAmbition","ambition","ambitions","teamType","findTeamType","place","country","confirmed","deleted","TeamLine","confirmRequest","callback","closest","confirmFollowRequest","deleteRequest","deleteFollowRequest","getUnblockButton","userId","myTeamId","isConfirmed","data-user","username","showBlockButton","storyStore","findPublicUser","images","displayNameShort","displayName","isDeleted","s3MediumLink","Teams","follow","followRequestUser","loadTeams","load","query","addData","teams","hasFollowRequests","reqUser","publicTeam","find","data-follow"],"mappings":"inBASMA,EAAaC,IAAGC,WAAU,GAE1BC,GADkBF,IAAGG,eAAc,GACnBH,IAAGI,gBASnBC,EAAe,CACpBC,YAAa,GACVC,QAAS,gBAIPC,EADLC,Y,cAEG,WAAYC,GAAO,aACf,cAAMA,IAAN,MAiBJC,KAAO,WACiB,EAAKD,MAAME,OAAvBC,QACAC,UApBO,EAuBnBC,cAAgB,SAACC,GAEnB,EAAKC,SAAS,CAAEV,QADAS,EAAEE,OAAOC,cAAcC,QAAQC,MAAQL,EAAEE,OAAOE,QAAQC,QAtBlE,EAAKC,M,+VAAL,IACOjB,GAEP,EAAKkB,YAAc,GALJ,E,0HAQbC,QAAN,SAAcd,GAAd,iCACI,YADJ,IAAcA,MAAQe,KAAKf,OACvB,gBAAMe,KAAKC,gBAAgBhB,IAA3B,MAAiC,sDADrC,a,EAIMgB,gBAAN,SAAsBhB,GAAtB,iCAGI,YAHJ,IAAsBA,MAAQe,KAAKf,OAEZA,EAAXiB,OACR,gBAFgBjB,EAAME,OAApBgB,UAEcC,WAAW,KAA3B,MAA8B,sDAHlC,a,EAgBHC,kBAAA,WACOL,KAAKD,W,EAGTO,0BAAA,SAA0BC,GAElBA,EAAUC,MAAQR,KAAKf,MAAMuB,KAC7BR,KAAKD,QAAQQ,I,EAIxBE,OAAA,WAAS,WACM3B,EAAYkB,KAAKH,MAAjBf,QADN,EAEqCkB,KAAKf,MAAME,OAC1CuB,EAHN,EAEWC,UACLD,KAENE,EALA,EAEAT,UAGAS,oBAEIC,EAAqBD,EAAoBE,QAAO,SAAAvB,GAAC,OAAIA,EAAEwB,gBAAkBxB,EAAEwB,eAAeC,WAAU,SAAAC,GAAC,OAAIA,EAAEC,KAAOR,EAAKQ,OAAO,KAC9HC,EAAYP,EAAoBE,QAAO,SAAAvB,GAAC,OAAIA,EAAE6B,WAAa7B,EAAE6B,UAAUC,QAAQX,EAAKQ,KAAO,KAC3FI,EAAeV,EAAoBE,QAAO,SAAAvB,GAE5C,QADmBA,EAAEgC,SAAWhC,EAAEgC,QAAQP,WAAU,SAAAQ,GAAC,OAAIA,EAAEN,KAAOR,EAAKQ,OAAO,OAI1EL,EAAmBG,WAAU,SAAAQ,GAAC,OAAIA,EAAEN,KAAO3B,EAAE2B,OAAO,MAGpDC,EAAUH,WAAU,SAAAQ,GAAC,OAAIA,EAAEN,KAAO3B,EAAE2B,OAAO,OAKzD,OAAQ,mBACP,mBAAKO,MAAM,kBAAkBC,MAAK,kBAAoBjD,EAApB,iBAAkDH,EAAlD,KACrB,YAAC,IAAD,KACI,YAAC,IAAD,CAAea,OAAQa,KAAKf,MAAME,OAC9BwC,MAAO,YAAC,IAAD,CAAMT,GAAG,mBAAT,wBACPU,SAAU,YAAC,IAAD,CAAMV,GAAG,aAAT,WAIlB,mBAAKO,MAAM,YACP,mBAAKA,MAAK,UACN,YAAC,IAAD,CAAoBtC,OAAQa,KAAKf,MAAME,WAI/C,mBAAKsC,MAAM,OACP,mBAAKA,MAAM,kEACzB,mBAAKA,MAAM,OACV,mBAAKA,MAAM,iBACc,sBACIA,MAAK,kBAA+B,iBAAZ3C,EAA6B,cAAgB,uBAAhE,eACL4C,MAAM,6CACNG,YAAU,eACVC,QAAS9B,KAAKV,eACjB,iBAAGmC,MAAM,0BALV,IAKqC,YAAC,IAAD,CAAMP,GAAG,sBAAT,mBAE9D,mBAAKO,MAAM,iBACc,sBACIA,MAAK,kBAA+B,YAAZ3C,EAAwB,cAAgB,uBAA3D,eACL4C,MAAM,6CACNG,YAAU,UACVC,QAAS9B,KAAKV,eACjB,iBAAGmC,MAAM,8BALV,IAKyC,YAAC,IAAD,CAAMP,GAAG,0BAAT,0BAElE,mBAAKO,MAAM,iBACc,sBACIA,MAAK,kBAA+B,cAAZ3C,EAA0B,cAAgB,uBAA7D,eACL4C,MAAM,6CACNG,YAAU,YACVC,QAAS9B,KAAKV,eACjB,iBAAGmC,MAAM,8BALV,IAKyC,YAAC,IAAD,CAAMP,GAAG,mBAAT,kBAMzD,mBAAKO,MAAM,YACP,mBAAKA,MAAK,2EACN,mBAAKA,MAAM,OACM,iBAAZ3C,GAA8B,qBACxBiD,IAAKC,QAAQV,IAAyC,IAAxBA,EAAaW,SAAiB,mBAC3D,mBAAKR,MAAM,sCACP,mBAAKA,MAAM,aACP,iBAAGA,MAAM,mBAEb,kBAAIA,MAAM,uBACN,YAAC,IAAD,CAAMP,GAAG,iCAAT,8BAGR,YAAC,IAAD,CAAY/B,OAAQa,KAAKf,MAAME,OAAQ+C,WAAW,KAErDH,IAAKC,QAAQV,IAAiBA,EAAaa,KAAI,SAAAC,GAAI,OAAI,YAAC,IAAD,CAAUjD,OAAQ,EAAKF,MAAME,OAAQiD,KAAMA,QAE1F,YAAZtD,GAAyB,qBACnBiD,IAAKC,QAAQnB,IAAqD,IAA9BA,EAAmBoB,SAAiB,mBACvE,mBAAKR,MAAM,sCACP,mBAAKA,MAAM,aACP,iBAAGA,MAAM,kBAEb,kBAAIA,MAAM,uBACN,YAAC,IAAD,CAAMP,GAAG,oCAAT,kCAIZ,YAAC,IAAD,CAAY/B,OAAQa,KAAKf,MAAME,OAAQ+C,WAAW,IACjDH,IAAKC,QAAQnB,IAAuBA,EAAmBsB,KAAI,SAAAC,GAAI,OAAI,YAAC,IAAD,CAAUjD,OAAQ,EAAKF,MAAME,OAAQiD,KAAMA,QAEtG,cAAZtD,GAA2B,qBACrBiD,IAAKC,QAAQb,IAAmC,IAArBA,EAAUc,SAAiB,mBACrD,mBAAKR,MAAM,sCACP,mBAAKA,MAAM,aACP,iBAAGA,MAAM,kBAEb,kBAAIA,MAAM,uBACN,YAAC,IAAD,CAAMP,GAAG,iCAAT,uCAIZ,YAAC,IAAD,CAAY/B,OAAQa,KAAKf,MAAME,OAAQ+C,WAAW,IACjDH,IAAKC,QAAQb,IAAcA,EAAUgB,KAAI,SAAAC,GAAI,OAAI,YAAC,IAAD,CAAUjD,OAAQ,EAAKF,MAAME,OAAQiD,KAAMA,WAM7G,mBAAKX,MAAM,YACP,mBAAKA,MAAM,6DACP,mBAAKA,MAAM,0BACP,mBAAKA,MAAM,aACP,iBAAGA,MAAM,uBAEb,mBAAKC,MAAM,uBACP,yBACI,YAAC,IAAD,CAAMR,GAAG,2BAAT,iF,GArKVmB,e,EAmLXtD,a,8fCnMTuD,E,UAAsB/D,EAAGgE,mBAEzB3D,EAAe,GAIf4D,EADLxD,Y,cAEG,WAAYC,GAAO,aACf,cAAMA,IAAN,MAMJC,KAAO,WAAM,MACY,EAAKD,MAAME,OAAxBsD,SACAC,oBAFC,MAEc,IAFd,EAGTC,gBAAMD,IARN,EAAK7C,M,+VAAL,IACOjB,GAHQ,E,kHAanB6B,OAAA,WAAS,MACuBT,KAAKf,MAAzB0C,EADH,EACGA,MAAOC,EADV,EACUA,SAEPgB,EADa5C,KAAKf,MAAME,OAAxBsD,SACAG,SACd,OACU,mBAAKnB,MAAM,8BAA8BC,MAAK,eAAiBY,EAAjB,wBAA2DM,EAAW,UAAY,WAAlF,KAC1C,mBAAKnB,MAAK,gDACN,mBAAKA,MAAK,yCAA4CC,MAAM,6CACxD,sBACID,MAAM,kCACNK,QAAS9B,KAAKd,MAEd,wBACI,iBAAGuC,MAAM,yCADb,IACwDG,EAAW,mBAC1DA,GACC,mBACF,YAAC,IAAD,CAAMV,GAAG,aAAT,YAKhB,wBACI,0BACKS,O,GArCDU,e,EA8CbG,Q,oICjCTK,EADL7D,Y,kLAEGyB,OAAA,WAAS,MAYDT,KAAKf,MAZJ,IAEDuB,WAFC,MAEK,GAFL,MAGDsC,YAHC,MAGM,GAHN,EAIDC,EAJC,EAIDA,SACAC,EALC,EAKDA,SALC,IAMDC,gBANC,aAODC,oBAPC,aAQDC,eARC,SASDC,EATC,EASDA,UACAC,EAVC,EAUDA,KAVC,IAWDC,kBAXC,MAWY,aAXZ,EAaH3C,EAAcX,KAAKf,MAAME,OAAzBwB,UAbG,EAcqBA,EAATD,KACT6C,SAEFC,EAAc7C,EAAU8C,gBAAgB,CAAEC,SAAUlD,EAAIkD,SAAUH,cAjBnE,MAec,KAfd,IAkBCI,EAAcpF,IAAGoF,YAAYnD,EAAIoD,OAGnCC,GAFsBC,KAAKC,KAAKxF,IAAGyF,sBAAsBxD,EAAIoD,QAE5C,QACjBK,EAAe,GACfC,EAAW,OAWf,MAVa,UAATb,GACAQ,EAAiB,OACjBI,EAAe,oBACfC,EAAW,QACK,WAATb,IACPQ,EAAiB,OACjBI,EAAe,qBACfC,EAAW,QAIX,mBAAKzC,MAAK,0BAA4B2B,EAA5B,YAAkD1B,MAAK,UAAYmC,EACzEM,aAAc,SAAC5E,GAAQA,EAAE6E,mBACzBC,WAAY,SAAC9E,GAAQA,EAAE6E,mBACvBE,YAAa,SAAC/E,GAAQA,EAAE6E,oBAGvBlB,GAAgBM,GAAe,qBAAO/B,MAAM,oBAAoBC,MAAM,wBACnE,oBAAMD,MAAK,gBAAiB+B,EAAY/B,OAAS,WAAtC,SAAyD+B,EAAYe,MAAQ,iBAAG9C,MAAO+B,EAAYe,OAA9G,IAAyHf,EAAYgB,OAEzI,mBACI/C,MAAK,kDAAoDwC,EAApD,2BACLvC,OAAUlB,EAAIiE,MAAJ,0BAAsCjE,EAAIiE,MAAMC,YAAhD,8BAA2F,IAAhG,mCAGHlE,EAAIiE,OAAS,oBAAMhD,MAAM,sBAAsBC,MAAK,cAAgBwC,EAAhB,KAA8BnC,IAAK4C,QAAQnE,EAAIgE,MAAM,KAE/G,mBAAK/C,MAAM,4BAA4BC,MAAM,uBACzC,yBAKI,iBAAGkD,KAAI,gBAAkBpE,EAAIqE,OAAU/C,QAAS,SAACvC,GAAD,OAAO+D,EAAW/D,EAAGiB,EAAIqE,OAAQ/B,IAAOrB,MAAM,kBACzFwB,GAAY,mBACT,oBAAMxB,MAAM,0BACR,wBACKjB,EAAIsE,WAAatE,EAAIgE,KACrBb,GAAe,mBACZ,iBAAGlC,MAAM,qCAQrC,mBAAKA,MAAM,4BAA4BC,MAAM,uBACzC,yBACKlB,EAAIoD,OAAST,GAAW,mBACrB,oBAAM1B,MAAM,eAMPjB,EAAIoD,OAAS,oBAAMnC,MAAM,QAAQM,IAAKgD,IAAIvE,EAAIoD,MAAOpD,EAAIwE,WAC1C,WAAfxE,EAAIyE,OAAsB,iBAAGxD,MAAM,iBAAoB,iBAAGA,MAAM,kBAIxEsB,GAAY,mBAAE,oBAAMtB,MAAM,qBAAqBd,EAAUuE,SAAS1E,EAAI4B,OAAa,wBAEnFY,GAAY,qBAAOvB,MAAM,cACrBjB,EAAI2E,QAAU,mBAAE,iBAAG1D,MAAM,8BAAX,IAA2CM,IAAKqD,OAAO5E,EAAI2E,OAAQ,GAAnE,OACd3E,EAAI6E,WAAa,mBAAE,iBAAG5D,MAAM,oBAAX,IAAiCM,IAAKqD,OAAO5E,EAAI6E,UAAW,S,GA1FxFhD,e,EAoGHQ,Q,mIC1HTyC,EADLtG,Y,sJAEGuG,aAAe,6CAGM,uBADD,EAAKtG,MAAME,OAAzBwB,UAC+B4E,aAAa,CAAEC,MAFjB,EAAK3F,MAA5B4F,eAES,MAAuC,uBACxD,EAAKjG,SAAS,CACVkG,SAFa,EAGbC,YAAY,IAHwC,mC,EAO5DC,UAAY,WACR,EAAKpG,SAAS,CACVmG,YAAY,K,EAIpBE,WAAa,6CAET,uBADsB,EAAK5G,MAAME,OAAzBwB,UACQmF,cAAc,CAAE,sBAAuB,KAAvD,MAA2D,sBAC3D,EAAKtG,SAAS,CACVqG,YAAY,IAF2C,mC,oHAM/DpF,OAAA,WAAS,MAC8BT,KAAKH,MAEhCqC,EAAclC,KAAKf,MAAnBiD,UAHH,EAEWlC,KAAKf,MAAME,OAAzBwB,UAEMD,KACAqF,SACR,OAAK7D,SANA,MAKc,GALd,GAMsB2D,YANtB,EACeA,WAMT,GAPN,EACGF,WAUA,mBAAKlE,MAAM,UACP,YAAC,IAAD,CAAMP,GAAG,uBAAT,iDACA,sBAAQ8E,KAAK,SAASvE,MAAM,2BAA2BK,QAAS9B,KAAK4F,WACjE,YAAC,IAAD,CAAM1E,GAAG,qBAAT,oBAMZ,mBAAKO,MAAM,wBACP,sBAAI,YAAC,IAAD,CAAMP,GAAG,sBAAT,qCACJ,qBACI,YAAC,IAAD,CAAMA,GAAG,qBAAT,mIAEJ,uBACI,mBAAKO,MAAM,+BACP,mBAAKA,MAAM,YACP,qBAAOA,MAAM,UAAUwE,IAAI,mBAAkB,YAAC,IAAD,CAAM/E,GAAG,sBAAT,WAC7C,YAAC,IAAD,KACI,qBAAO8E,KAAK,OAAOvE,MAAM,oCAAoCP,GAAG,kBAC5DgF,YAAa,YAAC,IAAD,CAAMhF,GAAG,kCAAT,wBACbiF,QAASC,YAAUpG,KAAM,mBAIrC,mBAAKyB,MAAM,YACP,sBAAQuE,KAAK,SAASvE,MAAM,8BAA8BK,QAAS9B,KAAKuF,cACpE,YAAC,IAAD,CAAMrE,GAAG,qBAAT,wBAKdgB,GAAa,sBAAQ8D,KAAK,SAASvE,MAAM,sCAAsCK,QAAS9B,KAAK6F,YAC3F,iBAAGpE,MAAM,qBADE,IACoB,YAAC,IAAD,CAAMP,GAAG,qBAAT,Y,GArE9BmB,e,EA4ENiD,O,qGC7ETe,EADLrH,Y,sJAEGsH,kBAAoB,SAAC/G,GAAM,MACU,EAAKN,MAAME,OAApCgB,EADe,EACfA,UACAO,EAFe,EACJC,UACXD,KACF6F,EAASC,SAASjH,EAAEE,OAAOC,cAAcC,QAAQyC,MAAQ7C,EAAEE,OAAOE,QAAQyC,KAAM,IACtFjC,EAAUsG,cAAcF,EAAQ7F,GAChC,EAAKlB,SAAS,CAAEX,aAAa,K,EAGjC6H,aAAe,SAACnH,GAAM,MACe,EAAKN,MAAME,OAApCgB,EADU,EACVA,UAEFoG,EAASC,SAASjH,EAAEE,OAAOC,cAAcC,QAAQyC,MAAQ7C,EAAEE,OAAOE,QAAQyC,KAAM,IACtFjC,EAAUwG,YAAYJ,GACtB,EAAK/G,SAAS,CAAEoH,YAAY,K,EAGhCC,UAAY,SAACC,QAAc,IAAdA,MAAO,IAAO,IACfjI,EAAgB,EAAKgB,MAArBhB,YAEA6B,EADc,EAAKzB,MAAME,OAAzBwB,UACAD,KAHe,EAIwB,EAAKzB,MAA5CmD,EAJe,EAIfA,KAAM2E,EAJS,EAITA,SAAUC,EAJD,EAICA,OAAQC,EAJT,EAISA,WAC1BC,EAAa9E,EAAKb,SAAWa,EAAKb,QAAQF,QAAQX,EAAKQ,KAAO,EAC9DiG,EAAc/E,EAAKhB,WAAagB,EAAKhB,UAAUC,QAAQX,EAAKQ,KAAO,EACnEkG,EAAYhF,EAAKiF,kBAAoBjF,EAAKiF,iBAAiBhG,QAAQX,EAAKQ,KAAO,EAC/EoG,EAAqBzI,GAAeuD,EAAKrB,gBAAkBqB,EAAKrB,eAAeC,WAAU,SAAAzB,GAAC,OAAIA,EAAE2B,KAAOR,EAAKQ,OAAO,EAEzH,OAAIgG,EACIH,EACO,GAGP,iBAAGtF,MAAM,gBAGb0F,EACQ,mBACJ,sBACI1F,MAAOwF,GAAc,kDACrBnF,QAAS,EAAK4E,aACda,SAAS,OACTC,YAAWpF,EAAKlB,IAEhB,iBAAGO,MAAM,qBACT,YAAC,IAAD,CAAMP,GAAG,8BAAT,UAPJ,KAO0D8F,GAAU,mBAAGF,IAEvE,sBACIrF,MAAOwF,GAAc,8CACrBnF,QAAS,EAAK4E,aACdc,YAAWpF,EAAKlB,IAEhB,iBAAGO,MAAM,uBACT,YAAC,IAAD,CAAMP,GAAG,0BAAT,cAIRkG,EACO,GAWPE,EAEI,sBACI7F,MAAOwF,GAAc,kDACrBM,SAAS,QAET,iBAAG9F,MAAM,+BACT,YAAC,IAAD,CAAMP,GAAG,+BAAT,yBALJ,KAK0E8F,GAAU,mBAAGF,IAI3F1E,EAAKqF,OAED,sBACIhG,MAAOwF,GAAc,gDACrBnF,QAAS,EAAKwE,kBACdkB,YAAWpF,EAAKlB,IAEhB,iBAAGO,MAAM,qBACT,YAAC,IAAD,CAAMP,GAAG,wBAAT,QANJ,KAMkD8F,GAAU,mBAAGF,SARvE,G,oHAcJrG,OAAA,WAAS,IACGmG,EAAe5G,KAAKH,MAApB+G,WADH,EAEwB5G,KAAKf,MAA1BmD,EAFH,EAEGA,KAAMsF,EAFT,EAESA,WACN/G,EAAcX,KAAKf,MAAME,OAAzBwB,UAHH,EAIYA,EAATD,KACA6C,gBALH,MAKc,KALd,EAMCoE,EAAehH,EAAUiH,iBAAiB,CAAEC,SAAUzF,EAAK0F,UAAWvE,aACtEwE,EAAWpH,EAAUqH,aAAa,CAAEhC,KAAM5D,EAAK4D,KAAMzC,aACrDkB,EAAQrC,EAAKqC,OAASrC,EAAKqC,MAAMC,YAActC,EAAKqC,MAAQ,KAElE,OAAIiD,EACQ,mBACH1H,KAAK6G,UAAL,GAAkBzE,EAAKoC,OAK5B,mBAAK/C,MAAM,cACP,mBAAKA,MAAM,OACP,mBAAKA,MAAM,iGACPC,MAAUkF,EAAa,+CAAiD,IAGxE,iBAAGhC,KAAI,iBAAmBxC,EAAKyC,QAC/B,mBAAKpD,MAAK,iDAAoDC,MAAO+C,EAAQ,0BAA0BA,EAAMC,YAAnC,+BAA+E,KACnJD,GAAS,iBAAGhD,MAAM,+BAA+BC,MAAM,uBAG7D,mBAAKD,MAAM,mBAAmBC,MAAM,uBAChC,kBAAID,MAAM,OAAOC,MAAM,uBAClBU,EAAKqF,OAAS,mBACX,iBAAG7C,KAAI,iBAAmBxC,EAAKyC,QAAWzC,EAAKoC,OAC7C,mBACDpC,EAAKoC,OAGd,uBACKpC,EAAK6F,MADV,IACkB7F,EAAK8F,SAEvB,uBACKH,GAAY,oBAAMtG,MAAM,oCAAoCsG,GAC5DJ,GAAgB,oBAAMlG,MAAM,yCAAyCkG,IAE1E,qBAAOlG,MAAM,cACRW,GAAQA,EAAKU,MAAQ,oBAAMrB,MAAM,IAAG,iBAAGA,MAAM,eAAxB,IAAyCW,EAAKU,KAAKb,QACxEG,GAAQA,EAAKhB,WAAa,oBAAMK,MAAM,QAAO,iBAAGA,MAAM,gBAA5B,IAA8CW,EAAKhB,UAAUa,UAGhG,uBACKjC,KAAK6G,iB,GA9IfxE,e,EAuJJgE,Q,kfCrJTzH,EAAe,CACpBC,YAAa,GACVsJ,UAAW,GACXC,QAAS,GACTtJ,QAAS,gBAIPuJ,EADLrJ,Y,cAEG,WAAYC,GAAO,aACf,cAAMA,IAAN,MAOJqH,kBAAoB,SAAO/G,GAAP,sCACiB,EAAKN,MAAME,OAApCgB,EADQ,EACRA,UACAO,EAFQ,EACGC,UACXD,KACF6F,EAASC,SAASjH,EAAEE,OAAOC,cAAcC,QAAQyC,MAAQ7C,EAAEE,OAAOE,QAAQyC,KAAM,IACtFjC,EAAUsG,cAAcF,EAAQ7F,GAJhB,IAKR7B,EAAgB,EAAKgB,MAArBhB,YALQ,OAMhBA,EAAY0H,IAAU,EACtB,EAAK/G,SAAS,CAAEX,gBAPA,QARD,EAkBnByJ,eAAiB,SAAO/I,GAAP,wDAQb,OAPQgJ,OADK,OACmB,EAAKtJ,MAA7BsJ,UAAW,aADN,IAEUhJ,EAAEE,OAAO+I,QAAQ,UAAU7I,QAC1CQ,EAAc,EAAKlB,MAAME,OAAzBgB,UACWiI,GAJN,EAIkB,EAAKvI,OAAjBuI,SAAXD,EAJK,EAILA,YAFA/F,EAFK,EAELA,MAGL,KAHW1B,EAFD,EAECA,QAGW,SAClB0H,EAAWhG,EAAJ,IAAY1B,GAC1B,EAAKlB,SAAS,CAAE2I,YAAWC,YAC3B,gBAAMjI,EAAUsI,qBAAqB,CACjCrG,KAAMoE,SAASpE,EAAM,IACrB1B,KAAM8F,SAAS9F,EAAM,OAFzB,MAGE,sBACF6H,IADE,mCA7Ba,EAiCnBG,cAAgB,SAAOnJ,GAAP,wDAQZ,OAPQgJ,OADI,OACoB,EAAKtJ,MAA7BsJ,UAAW,aADP,IAEWhJ,EAAEE,OAAO+I,QAAQ,UAAU7I,QAC1CQ,EAAc,EAAKlB,MAAME,OAAzBgB,UACSgI,GAJL,EAImB,EAAKtI,OAAnBsI,WAATC,EAJI,EAIJA,UAFAhG,EAFI,EAEJA,MAGP,KAHa1B,EAFF,EAEEA,QAGS,SAChByH,EAAa/F,EAAJ,IAAY1B,GAC5B,EAAKlB,SAAS,CAAE4I,UAASD,cACzB,gBAAMhI,EAAUwI,oBAAoB,CAChCvG,KAAMoE,SAASpE,EAAM,IACrB1B,KAAM8F,SAAS9F,EAAM,OAFzB,MAGE,sBACF6H,IADE,mCA5Ca,EAgDnB7B,aAAe,SAACnH,GAAM,MACe,EAAKN,MAAME,OAApCgB,EADU,EACVA,UAEFoG,EAASC,SAASjH,EAAEE,OAAOC,cAAcC,QAAQyC,MAAQ7C,EAAEE,OAAOE,QAAQyC,KAAM,IACtFjC,EAAUwG,YAAYJ,GACtB,EAAK/G,SAAS,CAAEoH,YAAY,KArDb,EAwDnBgC,iBAAmB,SAACC,EAAQC,GAAa,IAE/BC,EADgB,EAAKlJ,MAAnBsI,UACyBW,EAAJ,IAAgBD,GAC7C,OAAO,mBACFE,EAAc,mBACX,qBAAOtH,MAAM,gBACT,iBAAGA,MAAM,iBADb,IAC+B,YAAC,IAAD,CAAMP,GAAG,2BAAT,eAE7B,mBACF,sBAAQO,MAAM,sDACVK,QAAS,EAAKwG,eACdd,YAAWsB,EACXE,YAAWH,GACX,YAAC,IAAD,CAAM3H,GAAG,yBAAT,eArEG,EA2EnB2F,UAAY,SAACzE,GAAS,IACVvD,EAAgB,EAAKgB,MAArBhB,YAEA6B,EADc,EAAKzB,MAAME,OAAzBwB,UACAD,KAEFwG,EAAa9E,EAAKb,SAAWa,EAAKb,QAAQF,QAAQX,EAAKQ,KAAO,EAC9DiG,EAAc/E,EAAKhB,WAAagB,EAAKhB,UAAUC,QAAQX,EAAKQ,KAAO,EACnEkG,EAAYhF,EAAKiF,kBAAoBjF,EAAKiF,iBAAiBhG,QAAQX,EAAKQ,KAAO,EAC/EoG,EAAqBzI,EAAYuD,EAAKlB,KAAOkB,EAAKrB,gBAAkBqB,EAAKrB,eAAeC,WAAU,SAAAzB,GAAC,OAAIA,EAAE2B,KAAOR,EAAKQ,OAAO,EAElI,OAAIgG,EAEI,iBAAGzF,MAAM,gBAGZW,EAAKqF,OAONN,EACQ,mBACJ,sBACI1F,MAAK,yDACLK,QAAS,EAAK4E,aACda,SAAS,OACTC,YAAWpF,EAAKlB,IAEhB,iBAAGO,MAAM,qBACT,YAAC,IAAD,CAAMP,GAAG,8BAAT,WAEJ,sBACIO,MAAK,sDACLK,QAAS,EAAK4E,aACda,SAAS,OACTC,YAAWpF,EAAKlB,IAEhB,YAAC,IAAD,CAAMA,GAAG,0BAAT,cAIRkG,EACQ,oBAWRE,EAEI,sBACI7F,MAAK,yDACL8F,SAAS,QAET,iBAAG9F,MAAM,+BACT,YAAC,IAAD,CAAMP,GAAG,+BAAT,0BAKR,sBACIO,MAAK,uDACLK,QAAS,EAAKwE,kBACdkB,YAAWpF,EAAKlB,IAEhB,iBAAGO,MAAM,iCACT,YAAC,IAAD,CAAMP,GAAG,wBAAT,SAzDI,mBACJ,qBAAOO,MAAM,cACT,YAAC,IAAD,CAAMP,GAAG,oBAAT,qBA3FZ,EAAKrB,M,+VAAL,IACOjB,GAEP,EAAKkB,YAAc,GALJ,E,kHAyJtBW,OAAA,WAAS,IAMEgE,EAUAK,EACAN,EACAyE,EAlBF,EACmCjJ,KAAKH,MADxC,IACMuI,eADN,MACgB,GADhB,EACoBxB,EADpB,EACoBA,WADpB,EAEqD5G,KAAKf,MAApDmD,EAFN,EAEMA,KAAMgF,EAFZ,EAEYA,UAAW0B,EAFvB,EAEuBA,SAAUI,EAFjC,EAEiCA,gBAG7BxI,EAFiBV,KAAKf,MAAME,OAA1BgK,WAEgBC,eAAehH,EAAK1B,OAAS0B,EAAK1B,MAAQ,GAE9D0B,EAAKqC,OAASrC,EAAKqC,MAAMC,YACzBD,EAAQrC,EAAKqC,MACNrC,EAAKiH,QAAUjH,EAAKiH,OAAO,IAAMjH,EAAKiH,OAAO,GAAG3E,YACvDD,EAAQrC,EAAKiH,OAAO,GACb3I,EAAK+D,OAAS/D,EAAK+D,MAAMC,YAChCD,EAAQ/D,EAAK+D,MACN/D,EAAK2I,QAAU3I,EAAK2I,OAAO,IAAM3I,EAAK2I,OAAO,GAAG3E,cACvDD,EAAQ/D,EAAK2I,OAAO,IAKpBjH,GAAQA,EAAKoC,MACbM,EAAYvG,IAAG+K,iBAAiBlH,GAChCoC,EAAOjG,IAAGgL,YAAYnH,GACtB6G,EAAW1K,IAAGgL,YAAY7I,IACnBA,GAAQA,EAAKQ,KACpB4D,EAAYvG,IAAG+K,iBAAiB5I,GAChC8D,EAAOjG,IAAGgL,YAAY7I,IAG1B,IAAM8I,EAAYpB,EAAWU,EAAJ,IAAgBpI,EAAKQ,IAE9C,OACI,mBAAKO,MAAM,iCACPC,MAAUkF,EAAa,+CAAiD,IAExE,mBAAKnF,MAAM,4BACP,mBACIA,MAAK,oEACLC,MAAO+C,EAAQ,0BAA0BA,EAAMgF,aAAnC,8BAA+E,KAEzFhF,GAAS,mBAAKhD,MAAM,aAAaC,MAAM,sCAAsCoD,IAEnF,mBAAKrD,MAAM,iCAAiCC,MAAM,uBAC9C,kBAAID,MAAM,QACLW,EAAKqF,OAAS,mBACX,iBAAG7C,KAAI,iBAAmBxC,EAAKyC,QAAWL,IACxC,mBACDA,IAGT,uBACKpC,EAAK6F,MAAW7F,EAAK6F,MAArB,KAAiC,GADtC,IAC2C7F,EAAK8F,QADhD,MAGA,uBACI,qBAAOzG,MAAM,cACRW,GAAQA,EAAKU,MAAQ,oBAAMrB,MAAM,IAAG,iBAAGA,MAAM,eAAxB,IAAyCW,EAAKU,KAAKb,QACxEG,GAAQA,EAAKhB,WAAa,oBAAMK,MAAM,QAAO,iBAAGA,MAAM,gBAA5B,IAA8CW,EAAKhB,UAAUa,QACvFgH,GAAY,mBACT,qBAAOxH,MAAM,mBACRwH,IAGRC,GAAmB,mBACfM,EAAY,mBACT,qBAAO/H,MAAM,oBACT,iBAAGA,MAAM,eADb,IAC6B,YAAC,IAAD,CAAMP,GAAG,yBAAT,aAE3B,mBACF,sBAAQO,MAAM,wDACVC,MAAM,oBACNI,QAAS9B,KAAK0I,cACdlB,YAAWsB,EACXE,YAAWtI,EAAKQ,IAEhB,iBAAGO,MAAM,eANb,IAM6B,YAAC,IAAD,CAAMP,GAAG,uBAAT,kBAOjD,uBACKkG,EAAY,mBACRpH,KAAK4I,iBAAiBlI,EAAKQ,GAAI4H,IAC9B,mBACD9I,KAAK6G,UAAUzE,Q,GA9OrBC,e,EAuPRgG,Q,seC9PTzJ,G,UAAe,CACpBuJ,UAAW,GACXC,QAAS,KAIJsB,EADL1K,Y,cAEG,WAAYC,GAAO,aACf,cAAMA,IAAN,MAWJqJ,eAAiB,SAAC/I,GAAM,MACWA,EAAEE,OAAO+I,QAAQ,UAAU7I,QAAlDyC,EADY,EACZA,KAAM1B,EADM,EACNA,KAAMiJ,EADA,EACAA,OACZxJ,EAAc,EAAKlB,MAAME,OAAzBgB,UACRA,EAAUsI,qBAAqB,CAC3BrG,KAAMoE,SAASpE,EAAM,IACrB1B,KAAM8F,SAAS9F,EAAM,MALL,IAOZyH,EAAc,EAAKtI,MAAnBsI,UACdA,EAAa/F,EAAJ,IAAY1B,IAAU,EACzB,EAAKlB,SAAS,CAAE2I,cAEZwB,GACAxJ,EAAUyJ,kBAAkBlJ,IAxBjB,EA4BnBgI,cAAgB,SAACnJ,GAAM,MACIA,EAAEE,OAAO+I,QAAQ,UAAU7I,QAA1CyC,EADW,EACXA,KAAM1B,EADK,EACLA,KACQ,EAAKzB,MAAME,OAAzBgB,UACEwI,oBAAoB,CAC1BvG,KAAMoE,SAASpE,EAAM,IACrB1B,KAAM8F,SAAS9F,EAAM,MALN,IAOX0H,EAAY,EAAKvI,MAAjBuI,QACdA,EAAWhG,EAAJ,IAAY1B,IAAU,EACvB,EAAKlB,SAAS,CAAE4I,aAnChB,EAAKvI,M,+VAAL,IACOjB,GAHQ,E,0HAObiL,UAAN,4CAEI,uBADsB7J,KAAKf,MAAME,OAAzBgB,UACQ2J,KAAK,CAAEC,MAAO,GAAIC,QAAS,CAAC,qBAA5C,MAAgE,sDAFpE,a,EAiCH3J,kBAAA,WACCL,KAAK6J,a,EAGNpJ,OAAA,WAAS,aACuCT,KAAKH,MAD5C,IACMuI,eADN,MACgB,GADhB,MACoBD,iBADpB,MACgC,GADhC,IAEwBnI,KAAKf,MAAME,OAAnCgB,EAFA,EAEAA,UACA8J,EAAkD9J,EAAlD8J,MAHA,EAGkD9J,EAAxBY,sBAH1B,MAG2C,GAH3C,EAIM6B,EAJN,EAEWH,SAELG,SACd,OAF0DzC,EAA3C+J,kBAOL,mBAAKzI,MAAM,YACP,mBAAKA,MAAK,uGAAwGmB,EAAW,QAAU,SAA7H,cACN,mBAAKnB,MAAM,mBACP,mBAAKA,MAAM,OACP,mBAAKA,MAAM,UACP,sBAAI,YAAC,IAAD,CAAMP,GAAG,uCAAT,0BAAJ,OAG1B,mBAAKO,MAAM,OACW,mBAAKA,MAAM,8BAA8BC,MAAM,mBAC1CK,IAAKC,QAAQiI,IAAUA,EAAM9H,KAAI,SAACC,GAAD,OAAU,mBACvCA,GAAQL,IAAKC,QAAQI,EAAKrB,iBAAmBqB,EAAKrB,eAAeoB,KAAI,SAACgI,GACnE,IAAM1F,EAAQ0F,EAAQ1F,OAAS0F,EAAQ1F,MAAMC,YAAcyF,EAAQ1F,MAAQ,KACrE+E,EAAYpB,EAAWhG,EAAKlB,GAAT,IAAeiJ,EAAQjJ,IAC1C6H,EAAcZ,EAAa/F,EAAKlB,GAAT,IAAeiJ,EAAQjJ,IAC9CkJ,EAAarJ,EAAesJ,MAAK,SAAA9K,GAAC,OAAIA,EAAEmB,KAAKQ,KAAOiJ,EAAQjJ,MAClE,OACI,mBAAKO,MAAM,8BAA8BC,MAAM,iBAC3C,mBAAKD,MAAK,2EAA8EC,MAAO+C,EAAQ,0BAA0BA,EAAMC,YAAnC,MAAsD,KACpJD,GAAS,mBAAKhD,MAAM,iCAAiCC,MAAM,sCAAsCnD,IAAG+K,iBAAiBa,KAE3H,yBACI,mBAAK1I,MAAM,6BACP,0BAASlD,IAAGgL,YAAYY,IAAkB,wBAQ9C,mBAAK1I,MAAM,6BACP,YAAC,IAAD,CAAMP,GAAG,iCAAT,+BAEJ,mBAAKO,MAAM,6BACP,0BAASlD,IAAGgL,YAAYnH,MAG9B2G,GAAeS,EAAa,mBAC1B,mBAAK/H,MAAM,eACNsH,EAAc,mBAAKtH,MAAM,gBACtB,YAAC,IAAD,CAAMP,GAAG,2BAAT,aADW,IACyC,iBAAGO,MAAM,kBACxD,mBAAKA,MAAM,eAChB,YAAC,IAAD,CAAMP,GAAG,yBAAT,WADK,IAC2C,iBAAGO,MAAM,wBAG/D,mBACF,uBACI,sBAAQA,MAAM,sDAAsDK,QAAS,EAAKwG,eAAgBd,YAAWpF,EAAKlB,GAAI8H,YAAWmB,EAAQjJ,IACrI,YAAC,IAAD,CAAMA,GAAG,yBAAT,YAEHkJ,GAAcA,EAAW3C,OAAS,GAAK,sBAAQhG,MAAM,8DAA8DK,QAAS,EAAKwG,eAAgBd,YAAWpF,EAAKlB,GAAI8H,YAAWmB,EAAQjJ,GAAIoJ,eAAa,GACtM,YAAC,IAAD,CAAMpJ,GAAG,oCAAT,0BAEJ,mBAAKO,MAAM,QACP,yBACI,sBAAQA,MAAM,8CAA8CC,MAAM,oBAAoBI,QAAS,EAAK4G,cAAelB,YAAWpF,EAAKlB,GAAI8H,YAAWmB,EAAQjJ,IACtJ,YAAC,IAAD,CAAMA,GAAG,wBAAT,sBAY5C,uBAASO,MAAM,QACX,2BAAS,yBAAO,YAAC,IAAD,CAAMP,GAAG,6BAAT,yBAChB,qBACI,YAAC,IAAD,CAAMA,GAAG,0BAAT,wOA5EtB,I,GAnDUmB,e,EAyILqH,Q","file":"77.chunk.71615.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport PubSub, { topics } from '../../lib/pubsub';\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nimport DogSimplePublic from '../../components/dog/simplePublic';\nimport PublicTeam from '../../components/team/public';\nimport TeamConnectConfirm from '../../components/team/connect-confirm';\nimport TeamLine from '../../components/team/publicLine';\nimport SubNavigation from '../../components/header/subnavigation';\nimport UserInvite from '../../components/user/invite';\n\nconst initialState = {\n\trequestSent: {},\n    submenu: 'notfollowing',\n};\n\n@observer\nclass TeamsDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n    }\n\n    async loadAll(props = this.props) {\n        await this.loadPublicTeams(props);\n    }\n\n    async loadPublicTeams(props = this.props) {\n\t\tconst { teamStore } = props.stores;\n        const { teamid } = props;\n        await teamStore.loadPublic({});\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n    chooseSubmenu = (e) => {\n\t\tconst submenu = e.target.parentElement.dataset.menu || e.target.dataset.menu;\n\t\tthis.setState({ submenu });\n\t}\n\n\tcomponentDidMount() {\n        this.loadAll();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.dog !== this.props.dog) {\n            this.loadAll(nextProps);\n        }\n    }\n\n\trender() {\n        const { submenu } = this.state;\n\t\tconst { teamStore, userStore, storyStore } = this.props.stores;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n\t\tconst { publicTeamsToFollow } = teamStore;\n\n        const waitingForApproval = publicTeamsToFollow.filter(e => e.followRequests && e.followRequests.findIndex(f => f.id === user.id) > -1);\n        const following = publicTeamsToFollow.filter(e => e.followers && e.followers.indexOf(user.id) > -1);\n        const notFollowing = publicTeamsToFollow.filter(e => {\n            const isYourTeam = e.members && e.members.findIndex(t => t.id === user.id) > -1;\n            if (isYourTeam) {\n                return false;\n            }\n            if (waitingForApproval.findIndex(t => t.id === e.id) > -1) {\n                return false;\n            }\n            if (following.findIndex(t => t.id === e.id) > -1) {\n                return false;\n            }\n            return true;            \n        });            \n\t\treturn (<>\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <Localizer>\n                    <SubNavigation stores={this.props.stores}\n                        title={<Text id='home.find-teams'>Find teams to follow</Text>}\n                        backtext={<Text id='home.back'>Back</Text>}\n                    />\n                </Localizer>\n    \n                <div class='row mt-4'>\n                    <div class={`col-12`}>\n                        <TeamConnectConfirm stores={this.props.stores} />\n                    </div>\n                </div>\n\n                <div class='row'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3'>\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n                                <button\n                                    class={`btn btn-block ${submenu === 'notfollowing' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                    style='text-overflow: ellipsis; overflow: hidden;'\n                                    data-menu='notfollowing'\n                                    onClick={this.chooseSubmenu}\n                                ><i class='fas fa-tachometer-alt' /> <Text id='teams.notfollowing'>Not following</Text></button>\n                            </div>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n                                <button\n                                    class={`btn btn-block ${submenu === 'waiting' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                    style='text-overflow: ellipsis; overflow: hidden;'\n                                    data-menu='waiting'\n                                    onClick={this.chooseSubmenu}\n                                ><i class='fas fa-chalkboard-teacher' /> <Text id='teams.waiting-approval'>Waiting for approval</Text></button>\n                            </div>\n\t\t\t\t\t\t\t<div class='col px-1 pt-2'>\n                                <button\n                                    class={`btn btn-block ${submenu === 'following' ? 'btn-primary' : 'btn-outline-primary'} text-nowrap`}\n                                    style='text-overflow: ellipsis; overflow: hidden;'\n                                    data-menu='following'\n                                    onClick={this.chooseSubmenu}\n                                ><i class='fas fa-chalkboard-teacher' /> <Text id='teams.following'>Following</Text></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class='row mt-4'>\n                    <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative`}>\n                        <div class='row'>\n                            {submenu === 'notfollowing' && <>\n                                {(!util.isArray(notFollowing) || notFollowing.length === 0) && <>\n                                    <div class='col-12 text-center text-muted mb-5'>\n                                        <div class='display-1'>\n                                            <i class='fas fa-search' />\n                                        </div>\n                                        <h3 class='font-weight-lighter'>\n                                            <Text id='teams.no-more-teams-to-follow'>No more teams to follow.</Text>\n                                        </h3>\n                                    </div>\n                                    <UserInvite stores={this.props.stores} forceShow={true} />\n                                </>}\n                                {util.isArray(notFollowing) && notFollowing.map(team => <TeamLine stores={this.props.stores} team={team} />)}\n                            </>}\n                            {submenu === 'waiting' && <>\n                                {(!util.isArray(waitingForApproval) || waitingForApproval.length === 0) && <>\n                                    <div class='col-12 text-center text-muted mb-5'>\n                                        <div class='display-1'>\n                                            <i class='fas fa-check' />\n                                        </div>\n                                        <h3 class='font-weight-lighter'>\n                                            <Text id='teams.no-pending-follow-requests'>No pending follow requests.</Text>\n                                        </h3>\n                                    </div>\n                                </>}\n                                <UserInvite stores={this.props.stores} forceShow={true} />\n                                {util.isArray(waitingForApproval) && waitingForApproval.map(team => <TeamLine stores={this.props.stores} team={team} />)}\n                            </>}\n                            {submenu === 'following' && <>\n                                {(!util.isArray(following) || following.length === 0) && <>\n                                    <div class='col-12 text-center text-muted mb-5'>\n                                        <div class='display-1'>\n                                            <i class='fas fa-check' />\n                                        </div>\n                                        <h3 class='font-weight-lighter'>\n                                            <Text id='teams.not-following-any-teams'>You are not following any teams.</Text>\n                                        </h3>\n                                    </div>\n                                </>}\n                                <UserInvite stores={this.props.stores} forceShow={true} />\n                                {util.isArray(following) && following.map(team => <TeamLine stores={this.props.stores} team={team} />)}\n                            </>}\n                        </div>\n                    </div>\n                </div>\n\n                <div class='row mt-4'>\n                    <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n                        <div class='text-center text-muted'>\n                            <div class='display-1'>\n                                <i class='fas fa-ellipsis-h' />\n                            </div>\n                            <div style='line-height: 0.9em;'>\n                                <small>\n                                    <Text id='teams.something-missing'>Er det noe du savner på denne siden? Send oss en melding på Facebook.</Text>\n                                </small>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n\n\n\t\t</>);\n\t}\n}\n\nexport default TeamsDetail;\n","import { h, Component } from 'preact';\nimport { Link } from 'preact-router/match';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n};\n\n@observer\nclass SubNavigation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    back = () => {\n        const { appState } = this.props.stores;\n        const { previousPath = '/' } = appState;\n        route(previousPath);\n    }\n\n    render() {\n        const { title, backtext } = this.props;\n        const { appState } = this.props.stores;\n        const { darkmode } = appState;\n\t\treturn (\n            <div class='row fixed-top border-bottom' style={`margin-top: ${SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'};`}>\n                <div class={`col text-center subtopmenu position-relative`}>\n                    <div class={`text-left subtopmenu position-absolute`} style='top: 0px; left: 20px; line-height: 1.8em;'>\n                        <button\n                            class='btn btn-link text-secondary p-0'\n                            onClick={this.back}\n                        >\n                            <nobr>\n                                <i class='fas fa-chevron-left font-weight-bold' /> {backtext ? <>\n                                    {backtext}\n                                </> : <>\n                                    <Text id='home.home'>Home</Text>\n                                </>}\n                            </nobr>\n                        </button>\n                    </div>\n                    <nobr>\n                        <strong>\n                            {title}\n                        </strong>\n                    </nobr>\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default SubNavigation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport mu from '../../lib/musher-util';\n\nconst STOP_STATUSES = [2, 9];\nconst WARN_STATUSES = [4, 8];\n\n\nfunction getFatigueLevel(wo, dog) {\n    if (dog) {\n        if (STOP_STATUSES.indexOf(dog.status) > -1) {\n            return 'danger';\n        } else if (WARN_STATUSES.indexOf(dog.status) > -1) {\n            return 'warning';\n        }\n    }\n    if (wo) {\n        if (wo.distanceKm > 50) {\n            return 'danger';\n        } else if (wo.distanceKm > 30) {\n            return 'warning';\n        }\n    }\n    return 'success';\n}\n\n@observer\nclass Dog extends Component {\n    render() {\n        const { \n            dog = {},\n            dogs = [],\n            showTeam,\n            showInfo,\n            showName = true,\n            showPosition = true,\n            showAge = false,\n            className,\n            size,\n            onDogClick = () => {},\n        } = this.props;\n\t\tconst { userStore } = this.props.stores;\n        const { isAdmin, user } = userStore;\n        const { language = 'en' } = user;\n\n        const dogPosition = userStore.findDogposition({ position: dog.position, language });\n        const hasBirthday = mu.hasBirthday(dog.birth);\n        const daysUntilBirthday = Math.ceil(mu.daysUntilNextBirthday(dog.birth));\n\n        let containerWidth = '92px';\n        let imageClasses = '';\n        let fontSize = '35px';\n        if (size === 'small') {\n            containerWidth = '50px';\n            imageClasses = 'imageRoundedSmall';\n            fontSize = '20px';\n        } else if (size === 'medium') {\n            containerWidth = '60px';\n            imageClasses = 'imageRoundedMedium';\n            fontSize = '25px';\n        }\n\n        return (\n            <div class={`mb-2 position-relative ${className} clearfix`} style={`width: ${containerWidth}`}\n                onTouchstart={(e) => { e.stopPropagation(); }}\n                onTouchend={(e) => { e.stopPropagation(); }}\n                onTouchmove={(e) => { e.stopPropagation(); }}\n            >\n                {/* {JSON.stringify(dog, null, 4)} */}\n                {showPosition && dogPosition && <small class='position-absolute' style='left:0px; top: 50px;'>\n                    <span class={`badge badge-${dogPosition.class || 'primary'} mr-3`}>{dogPosition.icon && <i class={dogPosition.icon} />} {dogPosition.name}</span>\n                </small>}\n                <div\n                    class={`text-center border rounded-circle imageRounded ${imageClasses} mx-auto text-muted pt-2`}\n                    style={`${dog.image ? `background-image: url(\"${dog.image.s3SmallLink}\"); background-size: cover;` : ''} border-width: 2px !important;`}\n                >\n                    {/* {!dog.image && <i class='fas fa-dog mt-3' style='font-size: 40px;' />} */}\n                    {!dog.image && <span class='font-weight-lighter' style={`font-size: ${fontSize};`}>{util.ucfirst(dog.name, true)}</span>}\n                </div>\n                <div class='text-center text-overflow' style='line-height: 1.0em;'>\n                    <small>\n                        {/* <span class='float-right'>\n                            {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                            {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                        </span> */}\n                        <a href={`/dogs/public/${dog.uuidv4}`} onClick={(e) => onDogClick(e, dog.uuidv4, dogs)} class='stretched-link'>\n                            {showName && <>\n                                <span class='mb-1 font-weight-light'>\n                                    <nobr>\n                                        {dog.shortname || dog.name}\n                                        {hasBirthday && <>\n                                            <i class='fas fa-birthday-cake ml-3' />\n                                        </>}\n                                    </nobr>\n                                </span>\n                            </>}\n                        </a>\n                    </small>\n                </div>\n                <div class='text-center text-overflow' style='line-height: 1.0em;'>\n                    <small>\n                        {dog.birth && showAge && <>\n                            <span class='float-right'>\n                                {/* {daysUntilBirthday < 7 && <>\n                                    <span class='text-muted mr-2'>\n                                        <i class='fas fa-birthday-cake' /> in {daysUntilBirthday} days\n                                    </span>\n                                </>}                                 */}\n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span>\n                        </>}\n\n                        {showTeam && <><span class='font-weight-light'>{userStore.findTeam(dog.team)}</span><br /></>}\n\n                        {showInfo && <small class='text-muted'>\n                            {dog.weight && <><i class='fas fa-balance-scale ml-2' /> {util.format(dog.weight, 1)} kg</>}\n                            {dog.bodyScore && <><i class='fas fa-dog ml-2' /> {util.format(dog.bodyScore, 1)}</>}\n                        </small>}\n\n                    </small>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dog;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\n@observer\nclass Invite extends Component {\n    inviteKennel = async () => {\n        const { friendEmail: email } = this.state;\n\t\tconst { userStore } = this.props.stores;\n        const response = await userStore.inviteKennel({ email });\n        this.setState({\n            response,\n            inviteSent: true,\n        });\n    }\n\n    inviteNew = () => {\n        this.setState({\n            inviteSent: false,\n        });\n    }\n\n    hideInvite = async () => {\n        const { userStore } = this.props.stores;\n        await userStore.updateSetting({ 'settings.hideInvite': 1 });\n        this.setState({\n            hideInvite: true,\n        });\n    }\n\n    render() {\n        const { inviteSent, hideInvite } = this.state;\n\t\tconst { userStore } = this.props.stores;\n        const { forceShow } = this.props;\n        const { user } = userStore;\n        const { settings = {} } = user;\n        if (!forceShow && settings.hideInvite || hideInvite) {\n            return '';\n        }\n        if (inviteSent) {\n            return (\n                <div class='col-12'>\n                    <Text id='users.invite.thanks'>Takk for at du hjelper oss til å bli flere 😃</Text>\n                    <button type='button' class='btn btn-sm btn-link mb-2' onClick={this.inviteNew}>\n                        <Text id='users.invite.more'>Invitere flere</Text>\n                    </button>\n                </div>\n            );\n        }\n        return (\n            <div class='col-12 pb-4 clearfix'>\n                <h5><Text id='users.invite.title'>Inviter ny kennel til The Musher</Text></h5>\n                <p>\n                    <Text id='users.invite.text'>Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.</Text>\n                </p>\n                <div>\n                    <div class='form-row align-items-center'>\n                        <div class='col-auto'>\n                            <label class='sr-only' for='inlineFormInput'><Text id='users.invite.email'>E-post</Text></label>\n                            <Localizer>\n                                <input type='text' class='form-control form-control-sm mb-2' id='inlineFormInput'\n                                    placeholder={<Text id='users.invite.email-placeholder'>E-post til ny kennel</Text>}\n                                    onInput={linkState(this, 'friendEmail')}\n                                />\n                            </Localizer>\n                        </div>\n                        <div class='col-auto'>\n                            <button type='button' class='btn btn-sm btn-primary mb-2' onClick={this.inviteKennel}>\n                                <Text id='users.invite.send'>Send invitasjon</Text>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                {!forceShow && <button type='button' class='btn btn-sm btn-link mb-2 float-left' onClick={this.hideInvite}>\n                    <i class='fas fa-eye-slash' /> <Text id='users.invite.hide'>Skjul</Text>\n                </button>}\n            </div>\n        );\n    }\n}\n\nexport default Invite;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\n@observer\nclass Team extends Component {\n    requestFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        this.setState({ requestSent: true });\n    }\n\n    unFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.unollowTeam(teamId);\n        this.setState({ unfollowed: true });\n    }\n\n    getButton = (text = '') => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { team, skipHome, simple, classNames } = this.props;\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            if (skipHome) {\n                return '';\n            }\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (isFollowing) {\n            return (<>\n                <button\n                    class={classNames || `btn btn-block btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Følger</Text> {!simple && <>{text}</>}\n                </button>\n                <button\n                    class={classNames || `btn btn-sm btn-block btn-danger float-right`}\n                    onClick={this.unFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='fas fa-unlink mr-2' />\n                    <Text id='teams.connect.unfollow'>Unfollow</Text>\n                </button>\n            </>);\n        }\n        if (isBlocked) {\n            return '';\n            // return (\n            //     <button\n            //         class={`btn btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text> {text}\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    class={classNames || `btn btn-block btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter på godkjenning</Text> {!simple && <>{text}</>}\n                </button>\n            );\n        }\n        if (team.public) {\n            return (\n                <button\n                    class={classNames || `btn btn-block btn-outline-success float-right`}\n                    onClick={this.requestFollowTeam}\n                    data-team={team.id}\n                >\n                    <i class='fas fa-plus mr-2' />\n                    <Text id='teams.connect.follow'>Følg</Text> {!simple && <>{text}</>}\n                </button>\n            );\n        }\n    }\n\n    render() {\n        const { unfollowed } = this.state;\n        const { team, buttonOnly } = this.props;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n        const image = team.image && team.image.s3SmallLink ? team.image : null;\n\n        if (buttonOnly) {\n            return (<>\n                {this.getButton(`${team.name}`)}\n            </>);\n        }\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3'\n                        style={`${unfollowed ? 'text-decoration: line-through; opacity: 0.3;' : ''}`}\n                    >\n                        {/* {JSON.stringify(team, null, 4)} */}\n                        <a href={`/teams/public/${team.uuidv4}`}>\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url(\"${image.s3SmallLink}\");  background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        </a>\n                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                            <h5 class='mb-1' style='line-height: 1.0em;'>\n                                {team.public ? <>\n                                    <a href={`/teams/public/${team.uuidv4}`}>{team.name}</a>\n                                </> : <>\n                                    {team.name}\n                                </>}\n                            </h5>\n                            <div>\n                                {team.place} {team.country}\n                            </div>\n                            <div>\n                                {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                            </div>\n                            <small class='text-muted'>\n                                {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                {team && team.followers && <span class='ml-2'><i class='fas fa-user' /> {team.followers.length}</span>}\n                            </small>\n                        </div>\n                        <div>\n                            {this.getButton()}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n\trequestSent: {},\n    confirmed: {},\n    deleted: {},\n    submenu: 'notfollowing',\n};\n\n@observer\nclass TeamLine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n    }\n\n    requestFollowTeam = async (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.followRequest(teamId, user);\n        const { requestSent } = this.state;\n        requestSent[teamId] = true;\n        this.setState({ requestSent });\n    }\n\n    confirmRequest = async (e) => {\n        const { callback = () => {} } = this.props;\n        const { team, user } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        const { confirmed, deleted } = this.state;\n\t\tconfirmed[`${team}-${user}`] = true;\n        delete deleted[`${team}-${user}`];\n        this.setState({ confirmed, deleted });\n        await teamStore.confirmFollowRequest({\n            team: parseInt(team, 10),\n            user: parseInt(user, 10),\n        });\n        callback();\n    }\n\n    deleteRequest = async (e) => {\n        const { callback = () => {} } = this.props;\n        const { team, user } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        const { deleted, confirmed } = this.state;\n\t\tdeleted[`${team}-${user}`] = true;\n        delete confirmed[`${team}-${user}`];\n        this.setState({ deleted, confirmed });\n        await teamStore.deleteFollowRequest({\n            team: parseInt(team, 10),\n            user: parseInt(user, 10),\n        });\n        callback();\n    }\n\n    unFollowTeam = (e) => {\n        const { teamStore, userStore } = this.props.stores;\n        const { user } = userStore;\n        const teamId = parseInt(e.target.parentElement.dataset.team || e.target.dataset.team, 10);\n        teamStore.unollowTeam(teamId);\n        this.setState({ unfollowed: true });\n    }\n\n    getUnblockButton = (userId, myTeamId) => {\n        const { confirmed } = this.state;\n        const isConfirmed = confirmed[`${myTeamId}-${userId}`];\n        return <>\n            {isConfirmed ? <>\n                <small class='text-success'>\n                    <i class='fas fa-check' /> <Text id='teams.connect.confirmed'>Confirmed</Text>\n                </small>\n            </> : <>\n                <button class='btn btn-sm btn-block btn-success text-overflow mt-1'\n                    onClick={this.confirmRequest}\n                    data-team={myTeamId}\n                    data-user={userId}>\n                    <Text id='teams.connect.confirm'>Confirm</Text>\n                </button>\n            </>}\n        </>;\n    }\n\n    getButton = (team) => {\n        const { requestSent } = this.state;\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team.followers && team.followers.indexOf(user.id) > -1;\n        const isBlocked = team.blockedFollowers && team.blockedFollowers.indexOf(user.id) > -1;\n        const hasRequestedFollow = requestSent[team.id] || team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n\n        if (isYourTeam) {\n            return (\n                <i class='fas fa-home' />\n            );\n        }\n        if (!team.public) {\n            return (<>\n                <small class='text-muted'>\n                    <Text id='teams.not-public'>Ikke offentlig</Text>\n                </small>\n            </>);\n        }\n        if (isFollowing) {\n            return (<>\n                <button\n                    class={`btn btn-sm btn-block btn-outline-secondary float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <i class='fas fa-link mr-2' />\n                    <Text id='teams.connect.is-following'>Følger</Text>\n                </button>\n                <button\n                    class={`btn btn-sm btn-block btn-outline-danger float-right`}\n                    onClick={this.unFollowTeam}\n                    disabled='true'\n                    data-team={team.id}\n                >\n                    <Text id='teams.connect.unfollow'>Unfollow</Text>\n                </button>\n            </>);\n        }\n        if (isBlocked) {\n            return (<></>);\n            // return (\n            //     <button\n            //         class={`btn btn-sm btn-block btn-outline-secondary float-right`}\n            //         disabled='true'\n            //     >\n            //         <i class='fas fa-hand-paper mr-2' />\n            //         <Text id='teams.connect.is-blocked'>Blokkert</Text>\n            //     </button>\n            // );\n        }\n        if (hasRequestedFollow) {\n            return (\n                <button\n                    class={`btn btn-sm btn-block btn-outline-secondary float-right`}\n                    disabled='true'\n                >\n                    <i class='fas fa-hourglass-half mr-2' />\n                    <Text id='teams.connect.has-requested'>Venter på godkjenning</Text>\n                </button>\n            );\n        }\n        return (\n            <button\n                class={`btn btn-sm btn-block btn-outline-success float-right`}\n                onClick={this.requestFollowTeam}\n                data-team={team.id}\n            >\n                <i class='far fa-hand-point-right mr-2' />\n                <Text id='teams.connect.follow'>Følg</Text>\n            </button>\n        );\n    }\n\n\trender() {\n        const { deleted = {}, unfollowed } = this.state;\n        const { team, isBlocked, myTeamId, showBlockButton } = this.props;\n        const { storyStore } = this.props.stores;\n\n        const user = storyStore.findPublicUser(team.user) || team.user || {};\n        let image;\n        if (team.image && team.image.s3SmallLink) {\n            image = team.image;\n        } else if (team.images && team.images[0] && team.images[0].s3SmallLink) {\n            image = team.images[0];\n        } else if (user.image && user.image.s3SmallLink) {\n            image = user.image;\n        } else if (user.images && user.images[0] && user.images[0].s3SmallLink) {\n            image = user.images[0];\n        }\n        let shortname;\n        let name;\n        let username;\n        if (team && team.name) {\n            shortname = mu.displayNameShort(team);\n            name = mu.displayName(team);\n            username = mu.displayName(user);\n        } else if (user && user.id) {\n            shortname = mu.displayNameShort(user);\n            name = mu.displayName(user);\n        }\n\n        const isDeleted = deleted[`${myTeamId}-${user.id}`];\n\n        return (\n            <div class='col-12 mb-2 pb-2 border-bottom'\n                style={`${unfollowed ? 'text-decoration: line-through; opacity: 0.3;' : ''}`}\n            >\n                <div class='d-flex position-relative'>\n                    <div\n                        class={`text-center border rounded-circle imageRounded imageRoundedMedium`}\n                        style={image ? `background-image: url(\"${image.s3MediumLink}\"); background-size: cover;` : ''}\n                    >\n                        {!image && <div class='text-muted' style='font-size: 20px; padding-top: 3px;'>{shortname}</div>}\n                    </div>\n                    <div class='flex-grow-1 pl-3 text-overflow' style='line-height: 1.2em;'>\n                        <h5 class='mb-0'>\n                            {team.public ? <>\n                                <a href={`/teams/public/${team.uuidv4}`}>{name}</a>\n                            </> : <>\n                                {name}\n                            </>}                                         \n                        </h5>\n                        <div>\n                            {team.place ? `${team.place}, ` : ''} {team.country} &nbsp;\n                        </div>\n                        <div>\n                            <small class='text-muted'>\n                                {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                {team && team.followers && <span class='ml-2'><i class='fas fa-user' /> {team.followers.length}</span>}\n                                {username && <>\n                                    <small class='ml-2 text-muted'>\n                                        {username}\n                                    </small>\n                                </>}\n                                {showBlockButton && <>\n                                    {isDeleted ? <>\n                                        <small class='text-danger ml-3'>\n                                            <i class='fas fa-ban' /> <Text id='teams.connect.deleted'>Deleted</Text>\n                                        </small>\n                                    </> : <>\n                                        <button class='btn btn-sm btn-link text-overflow p-0 text-muted ml-3'\n                                            style='font-size: 0.8em;'\n                                            onClick={this.deleteRequest}\n                                            data-team={myTeamId}\n                                            data-user={user.id}\n                                        >\n                                            <i class='fas fa-ban' /> <Text id='teams.connect.block'>Blokkere</Text>\n                                        </button>\n                                    </>}\n                                </>}\n                            </small>\n                        </div>\n                    </div>\n                    <div>\n                        {isBlocked ? <>\n                            {this.getUnblockButton(user.id, myTeamId)}\n                        </> : <>\n                            {this.getButton(team)}\n                        </>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TeamLine;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nimport PublicTeam from '../../components/team/public';\n\nconst initialState = {\n\tconfirmed: {},\n\tdeleted: {},\n};\n\n@observer\nclass Teams extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    async loadTeams() {\n        const { teamStore } = this.props.stores;\n        await teamStore.load({ query: {}, addData: ['followRequests'] });\n    }\n\n    confirmRequest = (e) => {\n        const { team, user, follow } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        teamStore.confirmFollowRequest({\n            team: parseInt(team, 10),\n            user: parseInt(user, 10),\n        });\n        const { confirmed } = this.state;\n\t\tconfirmed[`${team}-${user}`] = true;\n        this.setState({ confirmed });\n\n        if (follow) {\n            teamStore.followRequestUser(user);\n        }\n    }\n\n    deleteRequest = (e) => {\n        const { team, user } = e.target.closest('button').dataset;\n        const { teamStore } = this.props.stores;\n        teamStore.deleteFollowRequest({\n            team: parseInt(team, 10),\n            user: parseInt(user, 10),\n        });\n        const { deleted } = this.state;\n\t\tdeleted[`${team}-${user}`] = true;\n        this.setState({ deleted });\n    }\n\n\tcomponentDidMount() {\n\t\tthis.loadTeams();\n\t}\n\n\trender() {\n        const { deleted = {}, confirmed = {} } = this.state;\n\t\tconst { teamStore, appState } = this.props.stores;\n\t\tconst { teams, hasFollowRequests, followRequests = [] } = teamStore;\n        const { darkmode } = appState;\n\t\tif (!hasFollowRequests) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn (\n            <div class='row pb-1'>\n                <div class={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${darkmode ? 'black' : 'white'} shadow-sm`}>\n                    <div class='container-fluid'>\n                        <div class='row'>\n                            <div class='col-12'>\n                                <h5><Text id='teams.connect.teams-follow-requests'>Forespørsel om å følge</Text>:</h5>\n                            </div>\n                        </div>\n\t\t\t\t\t\t<div class='row'>\n                            <div class='d-flex flex-row flex-nowrap' style='overflow: auto;'>\n                                {util.isArray(teams) && teams.map((team) => <>\n                                    {team && util.isArray(team.followRequests) && team.followRequests.map((reqUser) => {\n                                        const image = reqUser.image && reqUser.image.s3SmallLink ? reqUser.image : null;\n                                        const isDeleted = deleted[`${team.id}-${reqUser.id}`];\n                                        const isConfirmed = confirmed[`${team.id}-${reqUser.id}`];\n                                        const publicTeam = followRequests.find(e => e.user.id === reqUser.id);\n                                        return (\n                                            <div class='mr-2 py-2 border rounded-lg' style='width: 150px;'>\n                                                <div class={`text-center border rounded-circle imageRounded imageRoundedSmall mx-auto`} style={image ? `background-image: url(\"${image.s3SmallLink}\");` : ''}>\n                                                    {!image && <div class='text-muted font-weight-lighter' style='font-size: 20px; padding-top: 5px;'>{mu.displayNameShort(reqUser)}</div>}\n                                                </div>\n                                                <small>\n                                                    <div class='text-overflow text-center'>\n                                                        <strong>{mu.displayName(reqUser)}</strong><br />\n                                                        {/* {publicTeam && publicTeam.public > 0 ? <>\n                                                            <a href={`/teams/public/${publicTeam.uuidv4}`}>{publicTeam.name}</a>\n                                                        </> : <>\n                                                            {publicTeam ? <>{publicTeam.name}</> : ''}<br />\n                                                            <span class='text-muted'>(<Text id='teams.not-public'>Not public</Text>)</span>\n                                                        </>} */}\n                                                    </div>\n                                                    <div class='text-overflow text-center'>\n                                                        <Text id='teams.connect.wants-to-follow'>wants to follow your team:</Text>\n                                                    </div>\n                                                    <div class='text-overflow text-center'>\n                                                        <strong>{mu.displayName(team)}</strong>\n                                                    </div>\n                                                </small>\n                                                {(isConfirmed || isDeleted) ? <>\n                                                    <div class='text-center'>\n                                                        {isConfirmed ? <div class='text-success'>\n                                                            <Text id='teams.connect.confirmed'>Confirmed</Text> <i class='fas fa-check' />\n                                                        </div> : <div class='text-danger'>\n                                                            <Text id='teams.connect.deleted'>Deleted</Text> <i class='fas fa-trash-alt' />\n                                                        </div>}\n                                                    </div>\n                                                </> : <>                                    \n                                                    <div>\n                                                        <button class='btn btn-sm btn-block btn-success text-overflow mt-1' onClick={this.confirmRequest} data-team={team.id} data-user={reqUser.id}>\n                                                            <Text id='teams.connect.confirm'>Confirm</Text>\n                                                        </button>\n                                                        {publicTeam && publicTeam.public > 0 && <button class='btn btn-sm btn-block btn-outline-success text-overflow mt-1' onClick={this.confirmRequest} data-team={team.id} data-user={reqUser.id} data-follow={true}>\n                                                            <Text id='teams.connect.confirm-and-follow'>Confirm & follow back</Text>\n                                                        </button>}\n                                                        <div class='mt-3'>\n                                                            <small>\n                                                                <button class='btn btn-sm btn-block btn-link text-overflow' style='font-size: 1.0em;' onClick={this.deleteRequest} data-team={team.id} data-user={reqUser.id}>\n                                                                    <Text id='teams.connect.delete'>Del</Text>\n                                                                </button>\n                                                            </small>\n                                                        </div>\n                                                    </div>\n                                                </>}\n                                            </div>\n                                        );\n                                    })}\n                                </>)}\n                            </div>\n                        </div>\n                        <details class='mt-3'>\n                            <summary><small><Text id='teams.connect.how-summary'>How does this work?</Text></small></summary>\n                            <p>\n                                <Text id='teams.connect.how-text'>What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.</Text>\n                            </p>\n                        </details>\n                    </div>\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default Teams;\n"],"sourceRoot":""}