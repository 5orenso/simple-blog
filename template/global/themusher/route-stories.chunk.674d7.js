(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{fQqW:function(t,e,s){"use strict";s.r(e),function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("OhSV"),l=(s("Y3FI"),s("go65"),s("X9Km"),s("ZOvn")),u=s("AEg1"),h=s("gOLw"),b=(s("AJN2"),s("epqT"),s("w93r")),p=l.a.marginTop(!1),d=l.a.marginBottom(),m=l.a.marginTopBack(!1),f={isLoading:!1,submenu:"lastWorkouts",viewmenu:"wall"},g=Object(i.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).reloadFeeds=function(t){return new Promise((function(e){return t.preventDefault(),s.setState({isLoading:!0}),s.setState({isLoading:!1}),e()}))},s.sortby=function(t){var e=s.props.stores.storyStore,r=function(){};switch(t.target.value){case"likes":r=function(t,e){return t.likes&&e.likes&&t.likes.length<e.likes.length};break;case"-likes":r=function(t,e){return t.likes&&e.likes&&t.likes.length>e.likes.length};break;case"comments":r=function(t,e){return t.comments&&e.comments&&t.comments.length<e.comments.length};break;case"-comments":r=function(t,e){return t.comments&&e.comments&&t.comments.length>e.comments.length};break;default:r=function(t,e){return t.id<e.id}}e.sortPublicFeed(r)},s.back=function(){s.props.stores.history.goBack()},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},f),s}var n,i;i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var g=s.prototype;return g.loadAll=function(){return new Promise(function(t,e){var s,r,o,n,c;return r=(s=this.props.stores).appState,o=s.userStore,this.setState({isLoading:!0}),Promise.resolve(r.getFingerprint()).then(function(){try{return Promise.resolve(o.getInfo()).then(function(){try{return Promise.resolve(o.getNotifications()).then(function(){try{return(n=o.user).currentLocationInfo&&n.currentLocationInfo.coords&&o.getWeatherUser({lat:(c=n.currentLocationInfo.coords).latitude,lon:c.longitude,altitude:c.altitude}),this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},g.componentDidMount=function(){this.loadAll()},g.render=function(){var e,s,r=this.props,o=r.story,n=r.hashtag,i=r.teamid,f=r.path,g=this.props.stores,O=g.userStore,j=g.storyStore.findPublicTeam(parseInt(i,10)),y=O.user,v=y.yrWeather,k=y.currentLocationGeocode,w=(void 0===k?{}:k).formatted_address,P=l.a.getImage({user:y,team:j});return j&&j.name?(e=l.a.displayNameShort(j),s=l.a.displayName(j),l.a.displayName(y)):y&&y.id&&(e=l.a.displayNameShort(y),s=l.a.displayName(y)),Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+d+"; margin-top: "+p+";"},Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top",style:"top: "+m+"; left: 5px; font-size: 30px; width: 45px;",onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),Object(c.h)("div",{class:"bg-light"},Object(c.h)(b.a,{stores:this.props.stores,data:v,place:w})),Object(c.h)(u.a,{stores:this.props.stores}),Object(c.h)("div",{class:"row bg-light pb-3 pt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-7 text-overflow"},Object(c.h)("h3",null,n&&Object(c.h)(t,null,Object(c.h)("span",{class:"badge badge-primary"},"#",n)),j&&Object(c.h)(t,null,Object(c.h)("div",{class:"d-flex position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:P?'background-image: url("'+P+'"); background-size: cover;':""},!P&&Object(c.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},e)),Object(c.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(c.h)("h3",{class:"mb-1"},j.public?Object(c.h)(t,null,Object(c.h)("a",{href:"/teams/public/"+j.uuidv4,class:"stretched-link"},s)):Object(c.h)(t,null,s))))))),Object(c.h)("div",{class:"col-5"},Object(c.h)("small",{class:"float-right mt-1"},Object(c.h)("select",{class:"custom-select custom-select-sm",id:"team",onChange:this.sortby},Object(c.h)("option",{value:""},Object(c.h)(a.c,{id:"story.sort.new"},"Nyeste først")),Object(c.h)("option",{value:"likes"},Object(c.h)(a.c,{id:"story.sort.likes-desc"},"Flest likes først")),Object(c.h)("option",{value:"-likes"},Object(c.h)(a.c,{id:"story.sort.likes-asc"},"Færrest likes først")),Object(c.h)("option",{value:"comments"},Object(c.h)(a.c,{id:"story.sort.comments-desc"},"Flest kommentarer først")),Object(c.h)("option",{value:"-comments"},Object(c.h)(a.c,{id:"story.sort.comments-asc"},"Færrest kommentarer først")))))))),Object(c.h)(h.a,{stores:this.props.stores,story:o,hashtag:n,teamid:i,path:f}))},s}(c.Component))||n;e.default=g}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-stories.chunk.674d7.js.map