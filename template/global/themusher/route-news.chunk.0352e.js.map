{"version":3,"sources":["webpack:///./components/news/index.js","webpack:///./components/news/commentReply.js","webpack:///./components/news/comments.js","webpack:///./routes/news/index.js","webpack:///./components/style.css","webpack:///./components/news/commentAdd.js"],"names":["initialState","showAddComment","News","observer","props","likeNews","stores","newsStore","id","news","toggleAddComment","e","newsId","target","parentElement","dataset","setState","state","inputRef","focus","updateTimer","render","this","user","userStore","language","likes","comments","hasLikedNews","findIndex","class","style","images","s3SmallLink","href","active","mu","replaceImages","title","date","util","isoDate","tag","sort","markdown","ingress","markdownOpts","getMarkdownOptions","length","type","onClick","data-id","c","col","offset","compact","Component","NewsCommentReply","commentNews","response","callback","comment","commentReplyNews","commentId","status","displayNameShort","firstname","ucfirst","lastname","email","userImage","image","undefined","for","placeholder","onInput","linkState","value","ref","showAllComments","showAllReplies","NewsComments","likeComment","likeNewsComment","likeReply","likeNewsCommentReply","replyId","replyComment","toggleComments","toggleReplies","currentUser","filteredComments","totalComments","diplayedComments","slice","Math","max","reverse","map","displayName","hasLikedComment","filteredReplises","totalReplies","diplayedReplies","max_comments","formatDistance","createdDate","Date","locale","reply","hasLikedReply","data-comment","fields","more","MARGIN_TOP","marginTop","MARGIN_BOTTOM","marginBottom","isLoading","NewsList","loadNews","query","isAdmin","showall","load","componentDidMount","componentWillReceiveProps","nextProps","newsList","n","module","exports","NewsAdd"],"mappings":"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","file":"route-news.chunk.0352e.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport Markdown from 'preact-markdown';\n\nimport mu from '../../lib/musher-util';\n\nimport NewsComments from '../../components/news/comments';\nimport NewsAddComment from '../../components/news/commentAdd';\n\nconst initialState = {\n\tshowAddComment: false,\n};\n\n@observer\nclass News extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.updateTimer = {};\n\t\tthis.inputRef = {};\n    }\n\n\tlikeNews = async () => {\n\t\tconst { newsStore } = this.props.stores;\n        const { news } = this.props;\n\t\tconst response = await newsStore.likeNews({ id: news.id });\n\n        if (response.status === 200) {\n\t\t\t\n\t\t}\n\t}\n\n\ttoggleAddComment = (e) => {\n\t\tconst newsId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAddComment } = this.state;\n\t\tthis.setState({\n\t\t\tshowAddComment: !showAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[newsId]) {\n\t\t\t\tthis.inputRef[newsId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n    render() {\n        const { showAddComment } = this.state;\n        const { news = {} } = this.props;\n\n        const { userStore } = this.props.stores;\n        const { user } = userStore;\n        const { language = 'en' } = user;\n        const { likes = [], comments = [] } = news;\n\t\tconst hasLikedNews = news.likes && news.likes.findIndex(e => e.user === user.id) > -1;\n\n        return (\n            <>\n                <div class='w-100 mb-5'>\n                    <div class='row'>\n                        <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                            {/* {JSON.stringify(team, null, 4)} */}\n                            <div class={`text-center border rounded-circle imageRounded`} style={news.images && news.images[0] ? `background-image: url(\"${news.images[0].s3SmallLink}\");` : ''}>\n                                {!(news.images && news.images[0]) && <i class='fas fa-paragraph text-muted mt-3' style='font-size: 40px;' />}\n                            </div>\n                            <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                                <a class='stretched-link' href={`/news/${news.id}`}>\n                                    <i class={`fas fa-eye${news.active ? ' text-success' : '-slash text-danger'} float-right`} />\n                                    <h5 class='mb-1' style='line-height: 1.0em;'>\n                                        {mu.replaceImages(news.title, news.images, language, false)}\n                                    </h5>\n                                </a>\n                                <div>\n                                    <small class='text-muted'>\n                                        {news.date && <>{util.isoDate(news.date)} - </>}{news.tag}\n                                        {news.sort &&<> - <i class='fas fa-sort-amount-down' /> {news.sort}</>}\n                                    </small>\n                                </div>\n                                <Markdown markdown={mu.replaceImages(news.ingress || '', news.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                            </div>\n                        </div>\n\n                        <div class='col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0'>\n                            {likes && likes.length > 0 && <small class='bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                <i class='fas fa-thumbs-up text-primary' /> {likes.length}\n                            </small>}\n                            {comments && comments.length > 0 && <small class='float-right bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                <i class='fas fa-comment text-primary' /> {comments.length}\n                            </small>}\n                        </div>\n\n                        <div class='col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2'>\n                            <div class='row'>\n                                <div class='col-6 text-center'>\n                                    <button type='button' class={`btn btn-sm btn-outline-${hasLikedNews ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedNews ? 'text-primary' : ''}`}\n                                        onClick={this.likeNews}\n                                        // disabled={hasLikedNews}\n                                    >\n                                        <i class={`${hasLikedNews ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> Like\n                                    </button>\n                                </div>\n                                <div class='col-6 text-center'>\n                                    <button type='button' class='btn btn-sm btn-outline-secondary btn-lg btn-block'\n                                        data-id={news.id}\n                                        onClick={this.toggleAddComment}\n                                    >\n                                        <i class='fas fa-comment' /> Comment\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n\n                        {showAddComment && <NewsAddComment\n                            stores={this.props.stores}\n                            news={news}\n                            inputRef={c => this.inputRef[news.id] = c}\n                        />}\n                        <NewsComments stores={this.props.stores} news={news} col={10} offset={2} compact={true} />\n\n\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default News;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\n@observer\nclass NewsCommentReply extends Component {\n    commentNews = async () => {\n        const { callback = () => {}, commentId } = this.props;\n        const { news } = this.props;\n\t\tconst { newsStore } = this.props.stores;\n        const { comment = '' } = this.state;\n\t\tconst response = await newsStore.commentReplyNews({ id: news.id, commentId, comment });\n\t\tif (response && response.status === 200) {\n            this.setState({\n                comment: '',\n            });\n            callback({ news, response });\n\t\t}\n\t}\n\n    render() {\n        const { inputRef } = this.props;\n        const { comment } = this.state;\n        const { userStore } = this.props.stores;\n        const { user = {} } = userStore;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        // const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        return (\n            <div class='w-100'>\n                <div class='d-flex mb-0 position-relative w-100'>\n                    <div \n                        class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                        style={`${userImage ? `background-image: url('${userImage.s3SmallLink}'); background-size: cover;` : ''} border-width: 3px !important;`}\n                    >\n                        {!userImage && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                    </div>\n                    <div class='col pl-3' style='line-height: 1.2em;'>\n\n                        <div class='d-flex bd-highlight'>\n                            <div class='p-0 w-100 bd-highlight'>\n                                <label class='sr-only' for='inlineFormInput'><Text id='comments.comment'>Kommentar</Text></label>\n                                <div class='border rounded rounded-lg position-relative'>\n                                    <Localizer>\n                                        <input\n                                            class='form-control-plaintext px-2'\n                                            type='text'\n                                            placeholder={<Text id='comments.write-comment'>Skriv en kommentar...</Text>}\n                                            onInput={linkState(this, 'comment')}\n                                            value={comment}\n                                            ref={inputRef}\n                                        />\n                                    </Localizer>\n                                </div>\n                            </div>\n                            <div class='p-0 pl-2 flex-shrink-1 bd-highlight'>\n                                <button type='button' class='btn btn-sm btn-primary mb-2'\n                                    onClick={this.commentNews}\n                                ><i class='fas fa-paper-plane' /></button>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default NewsCommentReply;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport NewsReplyComment from '../../components/news/commentReply';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\nconst initialState = {\n    showAddComment: {},\n    showAllComments: false,\n    showAllReplies: {},\n};\n\nconst MAX_COMMENTS = 2;\n\n@observer\nclass NewsComments extends Component {\n     constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.inputRef = {};\n    }\n\n    likeComment = async (e) => {\n        const { callback = () => {} } = this.props;\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\n        const { news } = this.props;\n\t\tconst { newsStore } = this.props.stores;\n\t\tconst response = await newsStore.likeNewsComment({ id: news.id, commentId });\n\n\t\tif (response && response.status === 200) {\n            callback({ news, commentId, response });\n\t\t}\n        return true;\n    }\n\n    likeReply = async (e) => {\n        const { callback = () => {} } = this.props;\n\n        const replyId = e.target.parentElement.dataset.id || e.target.dataset.id;\n        const commentId = e.target.parentElement.dataset.comment || e.target.dataset.comment;\n\n        const { news } = this.props;\n\t\tconst { newsStore } = this.props.stores;\n\t\tconst response = await newsStore.likeNewsCommentReply({ id: news.id, replyId, commentId });\n\n        if (response && response.status === 200) {\n            callback({ news, commentId, response });\n\t\t}\n    }\n\n    replyComment = async (e) => {\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\n        const { showAddComment } = this.state;\n        showAddComment[commentId] = !showAddComment[commentId];\n\t\tthis.setState({\n\t\t\tshowAddComment,\n\t\t}, () => {\n            if (this.inputRef[commentId]) {\n                this.inputRef[commentId].focus();\n            }\n\t\t});\n    }\n\n    toggleComments = () => {\n\t\tconst { showAllComments } = this.state;\n\t\tthis.setState({\n\t\t\tshowAllComments: !showAllComments,\n\t\t});\n\t}\n\n    toggleReplies = (e) => {\n        const commentId = e.target.parentElement.dataset.id || e.target.dataset.id;\n\t\tconst { showAllReplies } = this.state;\n        showAllReplies[commentId] = !showAllReplies[commentId];\n\t\tthis.setState({\n\t\t\tshowAllReplies,\n\t\t});\n\t}\n\n    render() {\n        const { showAddComment, showAllComments, showAllReplies } = this.state;\n\t\tconst { news, callback = () => {}, col = 12, offset = 0, compact = false  } = this.props;\n        const { userStore } = this.props.stores;\n        const { user: currentUser } = userStore;\n\n        let filteredComments = [];\n        let totalComments = 0;\n        let diplayedComments = 0;\n        let max_comments;\n        if (news.comments) {\n            totalComments = news.comments.length;\n            if (showAllComments) {\n                filteredComments = news.comments;\n            } else {\n                // filteredComments = news.comments.slice(0, MAX_COMMENTS);\n                const max_comments = compact ? 0 : MAX_COMMENTS;\n                filteredComments = news.comments.slice(Math.max(totalComments - max_comments, 0));\n            }\n            diplayedComments = filteredComments.length;\n        }\n\n        return (\n            <div class={`col-${col} offset-${offset} col-sm-8 col-lg-6 offset-sm-2 offset-lg-3`}>\n                {showAllComments && <div>\n                    <button class='btn btn-sm btn-link py-0 mb-2'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.hide-all-comments'>Skjul alle kommentarene.</Text>\n                    </button>\n                </div>}\n                {news && filteredComments && filteredComments.reverse().map((comment) => {\n                    const { user = {} } = comment;\n                    const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n                    const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n                    const userImage = user.image || (user.images ? user.images[0] : undefined);\n                    const hasLikedComment = comment.likes && comment.likes.findIndex(e => e.user === currentUser.id) > -1;\n\n                    let filteredReplises = [];\n                    let totalReplies = 0;\n                    let diplayedReplies = 0;\n                    if (comment.comments) {\n                        totalReplies = comment.comments.length;\n                        if (showAllReplies[comment.id]) {\n                            filteredReplises = comment.comments;\n                        } else {\n                            filteredReplises = comment.comments.slice(0, max_comments);\n                        }\n                        diplayedReplies = filteredReplises.length;\n                    }\n\n                    return (\n                        <div class='row'>\n                            <div class='col-12 d-flex mb-2 position-relative'>\n                                <div \n                                    class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                                    style={`${userImage ? `background-image: url(\"${userImage.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n                                >\n                                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                                </div>\n                                <div class='flex-grow-1 pl-3 pt-0' style='line-height: 1.2em;'>\n                                    <div class='bg-light p-2 rounded-lg'>\n                                        <h5 class='font-weight-bold mb-0' style='font-size: 1.0em;'>{displayName}</h5>\n                                        {comment.comment}\n                                    </div>\n                                    <small>\n                                        <button class={`btn btn-sm btn-link py-0 ${hasLikedComment ? 'text-primary' : ''}`}\n                                            onClick={this.likeComment}\n                                            data-id={comment.id}\n                                        >\n                                            <Text id='comments.like'>Lik</Text>\n                                        </button>\n                                        -\n                                        <button class='btn btn-sm btn-link py-0'\n                                            onClick={this.replyComment}\n                                            data-id={comment.id}\n                                        >\n                                            <Text id='comments.comment-add'>Kommentar</Text>\n                                        </button>\n                                        -\n                                        <button class='btn btn-sm btn-link py-0 disabled'>\n                                            {util.formatDistance(comment.createdDate, new Date(), { locale: 'no-NB' })}\n                                        </button>\n                                    </small>\n                                </div>\n                                {comment.likes && comment.likes.length > 0 && <small class='position-absolute bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                    <i class='fas fa-thumbs-up text-primary' /> {comment.likes.length}\n                                </small>}\n                            </div>\n                            <div class='col-11 offset-1 mb-2'>\n\n                                {comment && filteredReplises && filteredReplises.map((reply) => {\n                                    const { user = {} } = reply;\n                                    const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n                                    const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n                                    const userImage = user.image || (user.images ? user.images[0] : undefined);\n                                    const hasLikedReply = reply.likes && reply.likes.findIndex(e => e.user === currentUser.id) > -1;\n\n                                    return (\n                                        <div class='row'>\n                                            <div class='col-12 d-flex mb-2 position-relative'>\n                                                <div \n                                                    class={`text-center border rounded-circle imageRounded imageRoundedThumb`}\n                                                    style={`${userImage ? `background-image: url(\"${userImage.s3SmallLink}\"); background-size: cover;` : ''} border-width: 3px !important;`}\n                                                >\n                                                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                                                </div>\n                                                <div class='flex-grow-1 pl-3 pt-0' style='line-height: 1.2em;'>\n                                                    <div class='bg-light p-2 rounded-lg'>\n                                                        <h5 class='font-weight-bold mb-0' style='font-size: 1.0em;'>{displayName}</h5>\n                                                        {reply.comment}\n                                                    </div>\n                                                    <small>\n                                                        <button class={`btn btn-sm btn-link py-0 ${hasLikedReply ? 'text-primary' : ''}`}\n                                                            onClick={this.likeReply}\n                                                            data-comment={comment.id}\n                                                            data-id={reply.id}\n                                                        >\n                                                            <Text id='comments.like'>Lik</Text>\n                                                        </button>\n                                                        -\n                                                        <button class='btn btn-sm btn-link py-0'\n                                                            onClick={this.replyComment}\n                                                            data-id={comment.id}\n                                                        >\n                                                            <Text id='comments.comment-add'>Kommentar</Text>\n                                                        </button>\n                                                        -\n                                                        <button class='btn btn-sm btn-link py-0 disabled'>\n                                                            {util.formatDistance(reply.createdDate, new Date(), { locale: 'no-NB' })}\n                                                        </button>\n                                                    </small>\n                                                </div>\n                                                {reply.likes && <small class='position-absolute bg-light shadow-sm rounded-lg py-0 px-1' style='bottom: 20px; right: 15px;'>\n                                                    <i class='fas fa-thumbs-up text-primary' /> {reply.likes.length}\n                                                </small>}\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                                {totalReplies - diplayedReplies > 0 && <div>\n                                    <button class='btn btn-sm btn-link py-0'\n                                        onClick={this.toggleReplies}\n                                        data-id={comment.id}\n                                    >\n                                        <Text id='comments.show-more' fields={{ more: totalReplies - diplayedReplies }}>\n                                            Vis {totalReplies - diplayedReplies} flere kommentarer...\n                                        </Text>\n                                    </button>\n                                </div>}\n\n                            </div>\n                            {showAddComment[comment.id] && <div class='col-11 offset-1 d-flex mb-2 position-relative'>\n                                <NewsReplyComment stores={this.props.stores} news={news}\n                                    callback={callback}\n                                    commentId={comment.id}\n                                    inputRef={c => this.inputRef[comment.id] = c}\n                                />\n                            </div>}\n                        </div>\n                    );\n                })}\n                {totalComments - diplayedComments > 0 && <div>\n                    <button class='btn btn-sm btn-link py-0'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.show-more' fields={{ more: totalComments - diplayedComments }}>\n                            Vis {totalComments - diplayedComments} flere kommentarer...\n                        </Text>\n                    </button>\n                </div>}\n                {showAllComments && <div>\n                    <button class='btn btn-sm btn-link py-0'\n                        onClick={this.toggleComments}\n                    >\n                        <Text id='comments.hide-all-comments'>Skjul alle kommentarene.</Text>\n                    </button>\n                </div>}\n            </div>\n        );\n    }\n}\n\nexport default NewsComments;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport News from '../../components/news';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nconst initialState = {\n\tisLoading: false,\n};\n\n@observer\nclass NewsList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tasync loadNews(props = this.props) {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { newsStore, userStore } = props.stores;\n\t\tconst { isAdmin } = userStore;\n\t\tconst query = {\n\t\t\ttag: props.tag,\n\t\t};\n\t\tif (isAdmin) {\n\t\t\tquery.showall = 1;\n\t\t\tdelete query.tag;\n\t\t}\n\t\tawait newsStore.load({ query });\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadNews();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.tag !== this.props.tag) {\n\t\t\tthis.loadNews(nextProps);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { tag } = this.props;\n\t\tconst { newsStore, userStore } = this.props.stores;\n\t\tconst { newsList } = newsStore;\n\t\tconst { isAdmin } = userStore;\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t<h5>{tag === 'news' ? <Text id='news.heading'>Siste nytt</Text> : <Text id='news.heading-howo'>Hvordan gj√∏r man det?</Text>}</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isAdmin && <a class='btn btn-sm btn-success float-right ml-2'\n\t\t\t\t\t\t\thref={`/news/edit/new`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class='fas fa-plus' /> <Text id='news.create'>Ny</Text>\n\t\t\t\t\t\t</a>}\n\n\t\t\t\t\t\t{newsList && newsList.map(n => <News stores={this.props.stores} news={n} />)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewsList;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hoverelementonly\":\"hoverelementonly__1mJGJ\",\"hoverElement\":\"hoverElement__axh3O\",\"hoverelementhide\":\"hoverelementhide__1k_qH\",\"progress-bar-vertical\":\"progress-bar-vertical__1B2sC\",\"progress-bar\":\"progress-bar__pnsVj\",\"dragged\":\"dragged__QXO46\",\"over\":\"over__1re3x\",\"list\":\"list__q_emZ\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport linkState from 'linkstate';\n\nimport style from '../style.css';\nimport mu from '../../lib/musher-util';\n\n@observer\nclass NewsAdd extends Component {\n    commentNews = async () => {\n        const { callback = () => {} } = this.props;\n        const { news } = this.props;\n\t\tconst { newsStore } = this.props.stores;\n        const { comment = '' } = this.state;\n\t\tconst response = await newsStore.commentNews({ id: news.id, comment });\n\t\tif (response && response.status === 200) {\n            this.setState({\n                comment: '',\n            });\n            callback({ news, response });\n\t\t}\n\t}\n\n    render() {\n        const { inputRef } = this.props;\n        const { comment } = this.state;\n        const { userStore } = this.props.stores;\n        const { user = {} } = userStore;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        // const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        return (\n            <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-3 position-relative'>\n                <div class='d-flex mb-0 position-relative w-100'>\n                    <div \n                        class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                        style={`${userImage ? `background-image: url('${userImage.s3SmallLink}'); background-size: cover;` : ''} border-width: 3px !important;`}\n                    >\n                        {!userImage && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                    </div>\n                    <div class='col pl-3' style='line-height: 1.2em;'>\n\n                        <div class='d-flex bd-highlight'>\n                            <div class='p-0 w-100 bd-highlight'>\n                                <label class='sr-only' for='inlineFormInput'><Text id='comments.comment'>Kommentar</Text></label>\n                                <div class='border rounded rounded-lg position-relative'>\n                                    <Localizer>\n                                        <input\n                                            class='form-control-plaintext px-2'\n                                            type='text'\n                                            placeholder={<Text id='comments.write-comment'>Skriv en kommentar...</Text>}\n                                            onInput={linkState(this, 'comment')}\n                                            value={comment}\n                                            ref={inputRef}\n                                        />\n                                    </Localizer>\n                                </div>\n                            </div>\n                            <div class='p-0 pl-2 flex-shrink-1 bd-highlight'>\n                                <button type='button' class='btn btn-primary mb-2'\n                                    onClick={this.commentNews}\n                                ><i class='fas fa-paper-plane' /></button>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default NewsAdd;\n"],"sourceRoot":""}