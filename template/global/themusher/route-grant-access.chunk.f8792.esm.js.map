{"version":3,"sources":["webpack:///./components/util/scrollIntoView.js","webpack:///./components/team/teams.js","webpack:///./routes/grant-access/index.js"],"names":["initialState","ScrollIntoView","observer","Component","constructor","props","super","this","state","container","componentDidMount","horizontal","vertical","behavior","inline","block","scrollIntoView","render","ref","c","Teams","toggleTeam","team","callback","unsetTeamIfSelected","dogStore","workoutStore","stores","currentTeam","setCurrentTeam","undefined","util","isDefined","showAllTeams","userStore","teams","highlight","showAll","class","style","map","idx","classNames","length","key","id","onClick","name","indexOf","role","GrantAccess","loadApplication","applicationStore","load","loadTeam","async","setState","isLoading","teamStore","changeLanguage","e","lang","target","value","appState","setLanguage","grantAccess","user","returnUrl","grantObject","grantedDate","Date","appId","findApplicationById","saveField","accessGranted","denyAccess","route","saveInputParams","set","get","componentWillMount","subsection","language","darkmode","application","src","height","title","body","images","minHeight","markdown","mu","replaceImages","markdownOpts","getMarkdownOptions","email","href","uuidv4","native","showLogo","routeLoginOk","routeLoginNew","routeLoginForgot","routeLogin","skipPubSub","onInput","selected"],"mappings":"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","file":"route-grant-access.chunk.f8792.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nconst initialState = {};\n\n@observer\nclass ScrollIntoView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.container = null;\n    }\n\n    componentDidMount() {\n        const { horizontal, vertical = '' } = this.props;\n        const props = {\n            behavior: 'smooth',\n        };\n        if (horizontal) {\n            props.inline = horizontal;\n        }\n        if (vertical) {\n            props.block = vertical;\n        }\n\t\tthis.container.scrollIntoView(props);\n\t}\n\n    render() {\n        return (\n            <div ref={c => this.container = c}>&nbsp;</div>\n        );\n    }\n}\n\nexport default ScrollIntoView;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport ScrollIntoView from '../../components/util/scrollIntoView';\n\n@observer\nclass Teams extends Component {\n    toggleTeam = (team) => {\n\t\tconst { callback, unsetTeamIfSelected = true } = this.props;\n        const { dogStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = dogStore;\n\t\tif (unsetTeamIfSelected && team === currentTeam) {\n\t\t\tdogStore.setCurrentTeam(undefined);\n\t\t\tworkoutStore.setCurrentTeam(undefined);\n\t\t} else {\n\t\t\tdogStore.setCurrentTeam(team);\n\t\t\tworkoutStore.setCurrentTeam(team);\n\t\t}\n\t\tif (util.isDefined(callback)) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n    showAllTeams = () => {\n\t\tconst { callback } = this.props;\n        const { dogStore, workoutStore } = this.props.stores;\n\t\tdogStore.setCurrentTeam(undefined);\n\t\tworkoutStore.setCurrentTeam(undefined);\n\t\tif (util.isDefined(callback)) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// componentDidMount() {\n\t// \tif (this.container) {\n\t// \t\tthis.container.scrollIntoView({ behavior: 'smooth', block: 'end', inline: 'center' });\n\t// \t}\n\t// }\n\n    render() {\n        const { userStore, dogStore } = this.props.stores;\n        const { teams } = userStore;\n\t\tconst { currentTeam } = dogStore;\n\t\tconst { highlight, showAll = true } = this.props;\n        return (\n\t\t\t<div class='row mt-2'>\n\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1 no-scrollbar'\n\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* <xmp><br /><br /><br /><br />{JSON.stringify(teams, null, 4)}</xmp> */}\n\t\t\t\t\t\t{teams && teams.map((team, idx) => {\n\t\t\t\t\t\t\tlet classNames;\n\t\t\t\t\t\t\tif (teams.length === 1) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-both';\n\t\t\t\t\t\t\t} else if (idx === 0) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-left';\n\t\t\t\t\t\t\t} else if (idx + 1 === teams.length) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-right';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div class='col mb-0 px-0 clearfix' key={team.id}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass={`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none ${classNames}\n\t\t\t\t\t\t\t\t\t\t\t${currentTeam === team.id ? 'btn-success' : 'btn-outline-success'}\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`}\n\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.toggleTeam(team.id)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-users' /> {team.name}\n\n\t\t\t\t\t\t\t\t\t\t{highlight && highlight.indexOf(team.id) > -1 && <>\n\t\t\t\t\t\t\t\t\t\t\t{currentTeam === team.id ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check float-right' />\n\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='spinner-grow text-warning float-right' role='status'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='far fa-hand-point-left float-right' style='font-size: 2.0em;' />   \n\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{/* {currentTeam === team.id && <ScrollIntoView horizontal={'center'} vertical={'end'} />} */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t{showAll && <div class='row'>\n\t\t\t\t\t\t<div class='col-12 mb-1 px-1 d-flex justify-content-center'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass={`btn btn-sm rounded-lg btn-link text-nowrap clearfix`}\n\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\tonClick={this.showAllTeams}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-users' /> <Text id='teams.show-all'>Show all</Text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>}\n\t\t\t\t</div>\n\t\t\t</div>\n        );\n    }\n}\n\nexport default Teams;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { route } from 'preact-router';\nimport linkState from 'linkstate';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\n\nimport mu from '../../lib/musher-util';\n\nimport LoginForm from '../../components/login/loginForm';\nimport LoginRegister from '../../components/register';\nimport LoginForgot from '../../components/forgotten';\nimport Teams from '../../components/team/teams';\nimport ImageScroller from '../../components/imageScroller';\n\n@observer\nclass GrantAccess extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            returnUrl: '',\n            id: 0,\n        };\n    }\n\n    loadApplication = () => {\n        const { id } = this.state;\n        const { applicationStore } = this.props.stores;\n        applicationStore.load(id);\n    }\n\n    loadTeam = async () => {\n        this.setState({ isLoading: true });\n\t\tconst { teamStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\t\tawait teamStore.load(currentTeam);\n\t\tthis.setState({ isLoading: false });\n    }\n\n    changeLanguage = (e) => {\n        const lang = e.target.value;\n\t\tconst { appState } = this.props.stores;\n        appState.setLanguage(lang);\n    }\n\n    grantAccess = async () => {\n        const { userStore, teamStore, workoutStore } = this.props.stores;\n        const { currentTeam } = workoutStore;\n        const { user } = userStore;\n        const { returnUrl, id } = this.state;\n        const grantObject = {\n            grantedDate: new Date(),\n            returnUrl,\n            team: currentTeam,\n            appId: id,\n        };\n        const existingApp = userStore.findApplicationById(id);\n        if (!existingApp) {\n            await userStore.saveField(user.id, 'applications', grantObject);\n            await userStore.saveField(user.id, 'settings.veterinaryAllowed', 1);\n            await teamStore.saveField(currentTeam, 'public', 1);\n        }\n        this.setState({\n            accessGranted: 1,\n        });\n    }\n\n    denyAccess = () => {\n        route(`/`);\n    }\n\n    saveInputParams = () => {\n        let { returnUrl, id } = this.props;\n        if (returnUrl) {\n            util.set('returnUrl', returnUrl);\n            util.set('id', id);\n        } else {\n            returnUrl = util.get('returnUrl');\n            id = util.get('id');\n        }\n        this.setState({\n            returnUrl,\n            id,\n        });\n    }\n\n    componentWillMount() {\n        this.saveInputParams();\n    }\n\n    componentDidMount() {\n        this.loadApplication();\n        this.loadTeam();\n    }\n\n    render() {\n        const { appState, userStore, applicationStore, workoutStore, teamStore } = this.props.stores;\n        const { subsection } = this.props;\n        const { returnUrl, id, accessGranted } = this.state;\n\t\tconst { currentTeam } = workoutStore;\n        const { user } = userStore;\n        const { language = 'en', darkmode } = appState;\n        const { application } = applicationStore;\n        const { team } = teamStore;\n\n        if (!application) {\n            return (\n                <div class='container-fluid'>\n                    <div class='row'>\n                        <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5'>\n\n                            <div class='d-flex justify-content-center'>\n                                {darkmode ? <>\n                                    <img src={`https://themusher.app/assets/logo-qpaws-dark.png`} height='100' />\n                                </> : <>\n                                    <img src={`https://themusher.app/assets/logo-qpaws-light.png`} height='100' />\n                                </>}\n                            </div>\n                            <div class='d-flex justify-content-center'>\n                                <h5 class='mt-1 mb-3 font-weight-lighter'><Text id='grant-access.title'>Grant access</Text></h5>\n                            </div>\n\n                            <div class='alert alert-danger' role='alert'>\n                                <h5>Error</h5>\n                                Application not found!\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        const { title, body, email, images } = application;\n        return (\n            <div class='container-fluid'>\n                <div class='row'>\n                    <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5'>\n                        <div class='d-flex justify-content-center'>\n                            {darkmode ? <>\n                                <img src={`https://themusher.app/assets/logo-qpaws-dark.png`} height='100' />\n                            </> : <>\n                                <img src={`https://themusher.app/assets/logo-qpaws-light.png`} height='100' />\n                            </>}\n                        </div>\n                        <div class='d-flex justify-content-center'>\n                            <h5 class='mt-1 mb-3 font-weight-lighter'><Text id='grant-access.title'>Grant access</Text></h5>\n                        </div>\n\n                        <ImageScroller stores={this.props.stores} images={images} minHeight={'50px'} />\n                        <h5 class='mt-3'>{title}</h5>\n                        <p class='mt-3'>\n                            <Markdown markdown={mu.replaceImages(body, images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                        </p>\n                    </div>\n                </div>\n                <div class='row'>\n                    {user.email ? <>\n                        {accessGranted ? <>\n                            <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-3 border-top pt-3'>\n                                <div class='display-1 text-success text-center'>\n                                    <i class='fas fa-check' />\n                                </div>\n                                <p>\n                                    <Text id='grant-access.access-granted'>Access granted. Now please click the button below to go back to</Text> {title}.\n                                </p>\n                                <a \n                                    class='btn btn-success btn-block' \n                                    href={`${returnUrl}?userId=${user.uuidv4}&teamId=${team.uuidv4}`}\n                                    native\n                                >\n                                    <Text id='grant-access.back-to-application'>Back to</Text>: {title} <i class='fas fa-arrow-right' />\n                                </a>\n                            </div>\n                        </> : <>\n                            <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-3 border-top pt-3'>\n                                <h5 class='font-weight-light'>\n                                    <Text id='grant-access.data-shared'>Data beeing shared</Text>:\n                                </h5>\n                                <p>\n                                    <i class='fas fa-user' />: <Text id='grant-access.fields-shared-person'>Image, Name, email, cellphone, address</Text>\n                                </p>\n                                <p>\n                                    <i class='fas fa-dog' />: <Text id='grant-access.fields-shared-dog'>Image, Name, chipId, gender, birth, vaccines</Text>\n                                </p>\n                                <p>\n                                    <i class='fas fa-users' />: <Text id='grant-access.fields-shared-team'>Name, description, images</Text>\n                                </p>\n                            </div>\n                            <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-3 border-top pt-3'>\n                                <h5 class='font-weight-light'>\n                                    <Text id='grant-access.choose-team'>Choose team</Text>\n                                </h5>\n                                <div class='col-12'>\n                                    <Teams stores={this.props.stores} callback={this.loadTeam} key={`teams-${currentTeam}`} showAll={false} />\n                                </div>\n                            </div>\n                            {currentTeam ? <>                            \n                                <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-3'>\n                                    <button\n                                        class='btn btn-primary btn-block'\n                                        onClick={this.grantAccess}\n                                    >\n                                        <i class='fas fa-check' /> <Text id='grant-access.grant'>Grant access</Text>\n                                    </button>\n\n                                    <button\n                                        class='mt-4 btn btn-sm btn-link text-muted float-right'\n                                        onClick={this.denyAccess}\n                                    >\n                                        <Text id='grant-access.deny'>Deny access</Text>\n                                    </button>\n                                </div>\n                            </> : <>\n                                <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-3'>\n                                    <span class='display-4'>\n                                        <i class='fas fa-hand-point-up' /> Choose team\n                                    </span>\n                                </div>\n                            </>}\n                        </>}\n                    </> : <>\n                        {!subsection && <LoginForm stores={this.props.stores}\n                            showLogo={false}\n                            routeLoginOk={`/grant-access`}\n                            routeLoginNew={`/grant-access/newUser`}\n                            routeLoginForgot={`/grant-access/forgotPassword`}\n                        />}\n\n                        {subsection === 'newUser' && <LoginRegister stores={this.props.stores}\n                            showLogo={false}\n                            routeLogin={`/grant-access`}\n                            routeLoginForgot={`/grant-access/forgotPassword`}\n                            skipPubSub={true}\n                        />}\n\n                        {subsection === 'forgotPassword' && <LoginForgot stores={this.props.stores}\n                            showLogo={false}\n                            routeLogin={`/grant-access`}\n                            routeLoginNew={`/grant-access/newUser`}\n                        />}\n                    </>}\n\n                </div>\n                <div class='col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4'>\n                    <div class='form-row align-items-center'>\n\t\t\t\t\t\t\t<div class='col-auto my-1 mx-auto' style='width: 80px;'>\n\t\t\t\t\t\t\t\t<select class='custom-select'\n\t\t\t\t\t\t\t\t\tstyle='background-color: inherit; border: none;'\n\t\t\t\t\t\t\t\t\tonInput={this.changeLanguage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value='no' selected={language === 'no'}>ðŸ‡³ðŸ‡´ NO</option>\n\t\t\t\t\t\t\t\t\t<option value='en' selected={language === 'en'}>ðŸ‡¬ðŸ‡§ EN</option>\n                                    <option value='es' selected={language === 'es'}>ðŸ‡ªðŸ‡¸ ES</option>\n                                    <option value='de' selected={language === 'de'}>ðŸ‡©ðŸ‡ª DE</option>\n                                    <option value='fr' selected={language === 'fr'}>ðŸ‡«ðŸ‡· FR</option>\n                                    <option value='ru' selected={language === 'ru'}>ðŸ‡·ðŸ‡º RU</option>\n                                    <option value='se' selected={language === 'se'}>ðŸ‡¸ðŸ‡ª SE</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default GrantAccess;\n"],"sourceRoot":""}