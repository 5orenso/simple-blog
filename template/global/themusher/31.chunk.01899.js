(window.webpackJsonp=window.webpackJsonp||[]).push([[31,5,11,80],{"68RK":function(t,e,o){"use strict";var n=o("ivZ3"),s=o("Utv1"),i=o("ZOvn"),a={adit:new n.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new n.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new n.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new n.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new n.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new n.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new n.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new n.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new n.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new n.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new n.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new n.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new n.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new n.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new n.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new n.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new n.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new n.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new n.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new n.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new n.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new n.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new n.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new n.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new n.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new n.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new n.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new n.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new n.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new n.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new n.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new n.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new n.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new n.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new n.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new n.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new n.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new n.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new n.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new n.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new n.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new n.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new n.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new n.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new n.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new n.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new n.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new n.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new n.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new n.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new n.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new n.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new n.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new n.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new n.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new n.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new n.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new n.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new n.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new n.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new n.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new n.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new n.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new n.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new n.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new n.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new n.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new n.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new n.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new n.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new n.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new n.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new n.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new n.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new n.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new n.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new n.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new n.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new n.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new n.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new n.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new n.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new n.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new n.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new n.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new n.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new n.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new n.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new n.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new n.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new n.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new n.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new n.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new n.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new n.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new n.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new n.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new n.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new n.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new n.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new n.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new n.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new n.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new n.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new n.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new n.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new n.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new n.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new n.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new n.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new n.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new n.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new n.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new n.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new n.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new n.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new n.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new n.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new n.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new n.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new n.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new n.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new n.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new n.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new n.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new n.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new n.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new n.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new n.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new n.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new n.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new n.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new n.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new n.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new n.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new n.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new n.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new n.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new n.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new n.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new n.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new n.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new n.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new n.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new n.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new n.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new n.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new n.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new n.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new n.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new n.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new n.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new n.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new n.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new n.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new n.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new n.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new n.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new n.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new n.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new n.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new n.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new n.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new n.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new n.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new n.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new n.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new n.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new n.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new n.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new n.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new n.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=function(){function t(){}return t.get=function(t){return a[t]},t.list=function(){return Object.keys(a)},t.getDiv=function(t){var e=t.title,o=t.body,i=t.color,a=t.textColor,r=void 0===a?"#333333":a,c=t.borderColor,l=void 0===c?0:c,h=t.iconWidth,d=void 0===h?150:h,u=t.iconHeight,b=void 0===u?70:u,p="img-"+s.a.randomPassword();s.a.hsl2Rgb(i,100,60),s.a.hsl2Rgb(100-l,100,50);return new n.DivIcon({iconSize:[d,b+30],iconAnchor:[15,b+30],className:"my-div-icon",html:"<div id='"+p+"' style='width: "+d+"px; height: "+(b+30)+"px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#"+p+" .map-marker:after {\n\t\t\t\t\t\tborder-top-color: "+i+";\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: "+r+"; background-color: "+i+"; height: "+b+"px;'>\n\t\t\t\t\t<nobr><strong>"+e+"</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>"+o+"</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>"})},t.getRaceMarker=function(t){var e=t.bib,o=t.rank,a=t.flag,r=void 0===a?"":a,c=t.image,l=t.title,h=t.color,d=t.borderColor,u=void 0===d?0:d,b=t.iconWidth,p=void 0===b?180:b,g=t.iconHeight,m=void 0===g?20:g,f=t.iconAnchorX,v=void 0===f?7:f,O=t.iconAnchorY,j=void 0===O?7:O,w=t.mapChecked,y="img-"+s.a.randomPassword(),x=(s.a.hsl2Rgb(h,100,60),s.a.hsl2Rgb(100-u,100,50),i.a.getRankingColor(e||o)),k=/dark/i.test(w),S=c?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+c+'"); background-size: cover; border: 1px '+x+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return S=e||o?"\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: "+(x||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||o)+"\n\t\t\t</div>\n\t\t":S,new n.DivIcon({iconSize:[p,m],iconAnchor:[v,j],className:"my-div-icon",html:v>100?"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='"+y+"' style='width: "+p+"px; height: "+m+"px; line-height: 1.1em;'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(k?"text-white":"text-dark")+" p-1 pl-3 rounded-pill-left rounded-none "+(k?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t<strong>"+l+"</strong> "+r+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pr-2 pl-1 py-1 rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(h||"")+"'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+S+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: 14px; height: 14px; background-color: "+h+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t":"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+y+"' style='width: "+p+"px; height: "+m+"px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: 14px; height: 14px; background-color: "+h+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(h||"")+"'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+S+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(k?"text-white":"text-dark")+" p-1 pr-3 rounded-pill-right rounded-none "+(k?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+r+" <strong>"+l+"</strong>\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getDistanceMarker=function(t){var e=t.title,o=void 0===e?"":e,i=t.body,a=void 0===i?"":i,r="img-"+s.a.randomPassword();return new n.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:"<div id='"+r+"' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>"+o+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+a+"</span>\n\t\t\t</div>"})},t.getMarker=function(t){var e=t.bib,o=t.rank,a=t.flag,r=void 0===a?"":a,c=t.image,l=t.title,h=t.color,d=void 0===h?"#a0a0a0":h,u=t.borderColor,b=void 0===u?0:u,p=t.iconWidth,g=void 0===p?250:p,m=t.iconHeight,f=void 0===m?20:m,v=t.iconAnchorX,O=void 0===v?7:v,j=t.iconAnchorY,w=void 0===j?7:j,y=t.dotWidth,x=void 0===y?14:y,k=t.dotHeight,S=void 0===k?14:k,I=t.mapChecked,z="img-"+s.a.randomPassword(),T=(s.a.hsl2Rgb(d,100,60),s.a.hsl2Rgb(100-b,100,50),i.a.getRankingColor(e||o)),A=(/dark/i.test(I),c?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+c+'"); background-size: cover; border: 1px '+T+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"");return new n.DivIcon({iconSize:[g,f],iconAnchor:[O,w],className:"my-div-icon",html:"\n\t\t\t\t<div class='d-flex flex-nowrap' id='"+z+"' style='width: "+g+"px; height: "+f+"px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+x+"px; height: "+S+"px; background-color: "+d+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none bg-info'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+(A=e||o?"\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center "+(T?"":"bg-primary")+"' style='background-color: "+(T||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||o)+"\n\t\t\t</div>\n\t\t":A)+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark p-1 pr-3 rounded-pill-right rounded-none bg-info overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>"+r+" <strong>"+l+"</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getSmallMarker=function(t){var e=t.title,o=void 0===e?"":e,i=t.body,a=void 0===i?"":i,r="img-"+s.a.randomPassword();return new n.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:"<div id='"+r+"' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>"+o+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+a+"</span>\n\t\t\t</div>"})},t}()},"7rxl":function(t,e,o){"use strict";o.r(e),function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,a=o("hosL"),r=(o("QRet"),o("Utv1"),o("/eY4")),c=(o("OhSV"),o("Y3FI"),o("fh8t"),o("go65"),o("zYNi")),l=o("ZOvn"),h=o("eT2M"),d=o.n(h),u=l.a.marginTop(!1),b=(l.a.marginTopBack(!1),l.a.marginBottom()),p=(l.a.subMenuMarginTop(),{}),g=Object(r.a)(i=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleFocusOnMusher=function(t){var e=o.props.stores,n=e.appState,s=e.raceStore;n.toggleFocusOnMusher(t.target.parentElement.dataset.musherid||t.target.dataset.musherid);var i=n.focusOnMushers;s.race.liveRace>0?s.getRaceTrackerActiveTeams(null,i):s.getWorkoutSummaryActiveTeams(null,i)},o.toggleBib=function(){var t=o.props.stores,e=t.appState,n=t.raceStore,s=n.getMusherByBibId(o.state.bib);e.toggleFocusOnMusher(s.id);var i=e.focusOnMushers;n.race.liveRace>0?n.getRaceTrackerActiveTeams(null,i):n.getWorkoutSummaryActiveTeams(null,i)},o.checkForEnter=function(t){"Enter"===t.key&&o.toggleBib()},o.toggleShowDrawerReplay=function(){o.setState({showDrawerReplay:!o.state.showDrawerReplay})},o.back=function(){o.props.stores.history.goBack()},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},p),o.updateTimer={},o}var i,r;return r=e,(i=o).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r,o.prototype.render=function(){var e=this,o=this.state.showDrawerReplay,n=this.props.stores,s=n.raceStore,i=this.props,r=i.raceid,l=i.classid,h=i.position,p=void 0===h?"right":h,g=n.appState.focusOnMushers,m=void 0===g?[]:g,f=s.race,v=s.getClassById(l);return Object(a.h)(t,null,Object(a.h)("div",{class:"fixed-top "+d.a.hoverElement,style:"height: 100px;"},Object(a.h)("div",{class:""+d.a.hoverelementonly},Object(a.h)("div",{class:"row"},f.classes&&f.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(a.h)(t,null,Object(a.h)("div",{class:"col text-center"},Object(a.h)("a",{class:"btn btn-block "+(e.id===l?"btn-success":"btn-outline-success")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-id":e.id,href:"/tv/tracking/"+f.id+"/"+e.id+"/"+p},e.title),Object(a.h)("a",{class:"btn btn-link text-nowrap text-center",style:"text-overflow: ellipsis; overflow: hidden;","data-id":e.id,href:"/tv/tracking/"+f.id+"/"+e.id+"/center"},"center"),Object(a.h)("a",{class:"btn btn-link text-nowrap "+("left"===p?"float-right":"float-left"),style:"text-overflow: ellipsis; overflow: hidden;","data-id":e.id,href:"/tv/tracking/"+f.id+"/"+e.id+"/"+("left"===p?"right":"left")},"left"===p?Object(a.h)(t,null,"right ",Object(a.h)("i",{class:"fas fa-angle-right"})):Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-angle-left"})," left"))))}))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-2 text-success",style:"font-size: 1.3em;"},Object(a.h)("button",{type:"button",class:"btn btn-lg btn-outline-success",onClick:this.toggleShowDrawerReplay},"Toggle replay")),Object(a.h)("div",{class:"col-4 text-success",style:"font-size: 1.3em;"},m&&m.map((function(o){var n=s.getMusherById(o);return Object(a.h)(t,null,Object(a.h)("div",null,Object(a.h)("span",{class:"float-left mr-2",onClick:e.toggleFocusOnMusher,"data-musherid":n.id},m.indexOf(n.id)>-1?Object(a.h)("i",{class:"fas fa-star text-warning"}):Object(a.h)("i",{class:"far fa-star"})),Object(a.h)("nobr",null,Object(a.h)("span",{class:"text-right",style:"width: 50px; display: inline-block;"},n.bib)," ",n.flag," ",n.firstname," ",n.lastname,Object(a.h)("br",null))))})))))),Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+b+"; margin-top: "+u+"; height: calc(100% - "+b+" - "+u+");"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"center"===p?"offset-1 col-10":"left"===p?"col-4 ml-5":"col-4 offset-8 mr-5"},Object(a.h)("div",{class:"px-4 py-2 overflow-hidden",style:" background-color: #FB4114;  color: #ffffff;  border-radius: 10px 10px 0 0;  font-size: 1.8em; "},Object(a.h)("span",{class:"float-right font-weight-light"},v.title),"GPS Tracking"),Object(a.h)("div",{class:"mr-5 p-0 position-relative w-100",style:' height: 80vh; background: rgba(0, 0, 0, 0.3); background-color: #1C1F4C; background-image: url("https://themusher.app/assets/tv-single-background.jpg"); background-size: cover !important; background-position: 0 0;     '},Object(a.h)(c.a,{stores:this.props.stores,raceid:r,showHeader:!1,classid:v.id,drawerClassNames:"position-absolute",drawerWidth:"100%",showDrawerReplay:o})),Object(a.h)("div",{class:"px-4 py-2 overflow-hidden text-center",style:" background-color: #FB4114;  color: #ffffff;  border-radius: 0 0 10px 10px; font-size: 1.4em; "},Object(a.h)("nobr",{class:"mr-4"},"QPaws app"),Object(a.h)("img",{src:"https://themusher.app/assets/appstore-download.png",height:"40",class:"ml-5 mr-1"}),Object(a.h)("img",{src:"https://themusher.app/assets/playstore-download.png",height:"40",class:"mx-1"}))))))},o}(a.Component))||i;e.default=g}.call(this,o("hosL").Fragment)},"8n2v":function(t,e,o){"use strict";(function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,a=o("hosL"),r=(o("Utv1"),o("/eY4")),c=o("OhSV"),l=o("ZOvn"),h=(l.a.marginTop(!1),l.a.marginBottom(),{}),d=Object(r.a)(i=function(e){function o(t){var o;return(o=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),o}var i,r;return r=e,(i=o).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r,o.prototype.render=function(){var e=this.props,o=e.goto,n=e.gotoTitle,s=e.routerName;return Object(a.h)("div",{class:"row h-100"},Object(a.h)("div",{class:"col-12 text-center my-auto"},Object(a.h)("div",{class:"spinner-border text-primary",style:"width: 8rem; height: 8rem;",role:"status"},Object(a.h)("span",{class:"sr-only"},Object(a.h)(c.c,{id:"home.loading"},"Loading..."))),Object(a.h)("h3",{class:"mt-4"},Object(a.h)(c.c,{id:"home.loading"},"Loading...")),o&&Object(a.h)(t,null,Object(a.h)("a",{class:"my-4 btn btn-primary btn-lg btn-block",native:!0,href:o},n," ",Object(a.h)("i",{class:"fas fa-angle-double-right ml-2"})),Object(a.h)("small",{class:"text-muted"},s))))},o}(a.Component))||i;e.a=d}).call(this,o("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},"HQo+":function(t,e,o){"use strict";(function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,a=o("hosL"),r=(o("Utv1"),o("/eY4")),c=(o("OhSV"),o("cneo"),o("HqZR")),l=(o("ZOvn"),{showAddComment:!1}),h=Object(r.a)(i=function(e){function o(t){var o;return(o=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},l),o.updateTimer={},o.inputRef={},o}var i,r;r=e,(i=o).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r;var h=o.prototype;return h.loadTrack=function(t){return new Promise(function(e,o){function n(){function t(){return e()}return(h=r.getTrackIdsByClass(l[0]))&&h.length>0?(a.cleanupMemory(),Promise.resolve(a.loadPublic({query:{idin:h}})).then(function(){try{return t.call(this)}catch(t){return o(t)}}.bind(this),o)):t.call(this)}var s,i,a,r,c,l,h;return void 0===t&&(t=this.props),a=(i=t.stores).trackStore,r=i.raceStore,l=void 0===(c=i.appState.selectedClassIds)?[]:c,(s=t).showHeatmap?Promise.resolve(i.adminStore.getPublicHeatmap(s.raceid,s.allTeamIds)).then(function(){try{return n.call(this)}catch(t){return o(t)}}.bind(this),o):n.call(this)}.bind(this))},h.componentDidMount=function(){this.loadTrack()},h.componentWillReceiveProps=function(t){this.props.selectedClassIds!==t.selectedClassIds&&this.loadTrack(t)},h.render=function(){var e=this.props.stores,o=this.props,n=o.waypoints,s=o.waypoints2,i=o.waypoints3,r=o.zoomToMarkers,l=o.fullscreenMap,h=o.onMarkerClick,d=o.showHeatmap,u=o.showTracks,b=o.showDistanceMarkers,p=o.groupWaypoints,g=o.focusOnMushers,m=o.geoJSONs,f=e.adminStore.publicHeatmap,v=e.trackStore.tracks[0];e.raceStore.getTrackIdsByClass();return Object(a.h)(t,null,Object(a.h)(c.a,{stores:this.props.stores,heatmap:d?f:null,track:v,geojson:u&&v&&v.gpx?v.gpx.geoJSON:null,gpxInfo:u&&v&&(v.gpx||v.gpxInfo)?v.gpxInfo||v.gpx.gpxInfo:null,minZoom:2,maxZoom:18,height:600,waypoints:n,waypoints2:s,waypoints3:i,geoJSONs:m,zoomToMarkers:r,fullscreenMap:l,onMarkerClick:h,showTrackProfile:!1,distanceMarkerSteps:"long",showDistanceMarkers:b,groupWaypoints:p,focusOnMushers:g,showFullscreenControl:!1}))},o}(a.Component))||i;e.a=h}).call(this,o("hosL").Fragment)},HqZR:function(t,e,o){"use strict";(function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){i(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function a(t){return.621371*t}var r,c=o("hosL"),l=o("Utv1"),h=o("/eY4"),d=o("cneo"),u=o("fh8t"),b=o.n(u),p=o("6FDT"),g=o.n(p),m=o("ABWa"),f=o.n(m),v=o("ZOvn"),O=o("5eBG"),j=o("/mwY"),w=o("8bLb"),y=o("P2xA"),x=o("FTgN"),k=o("/kKD"),S=o("+5/p"),I=o("9rGW"),z=o("zHmd"),T=o.n(z),A=o("Dq2H"),C=o.n(A),U=(o("yDvG"),o("G5DU")),D=o.n(U),P=o("68RK"),_=(o("A1fj"),o("ivZ3")),R=o.n(_),M={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},F=O.b.BaseLayer,B=O.b.Overlay;delete R.a.Icon.Default.prototype._getIconUrl,R.a.Icon.Default.mergeOptions({iconRetinaUrl:o("sqja"),iconUrl:o("Drvj"),shadowUrl:o("K5o1")});var L=function(t){return R.a.divIcon({html:"<span>"+t.getChildCount()+"</span>",className:f.a["marker-cluster-custom"],iconSize:R.a.point(40,40,!0)})},N=Object(h.a)(r=function(e){function o(t){var o;return(o=e.call(this,t)||this).mapRef=Object(c.createRef)(),o.polyRef=Object(c.createRef)(),o.handleViewportChanged=function(t){o.setState({mapCenter:t.center,mapZoom:t.zoom})},o.handleLocationFound=function(t){t.latlng&&o.setState({hasLocation:!0,latlng:t.latlng})},o.onEachFeature=function(t,e){var n=o.props.gpxInfo,s=void 0===n?{}:n,i="<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: "+l.a.format(s.totalDistance,2)+" km</li>\n\t\t\t\t<li>Max speed: "+l.a.format(s.maxSpeed,1)+" km/t</li>\n\t\t\t\t<li>Avg speed: "+l.a.format(s.avgSpeed,1)+" km/t</li>\n\t\t\t\t<li>Ascent: "+l.a.format(s.ascent||s.calculatedAscend,0)+" m</li>\n\t\t\t\t<li>Descent: "+l.a.format(s.decent||s.calculatedDescend,0)+" m</li>\n\t\t\t\t<li>Duration: "+l.a.secToHms(s.duration)+"</li>\n\t\t\t</ul>\n\t\t</Popup>";e.bindPopup(i)},o.handleClick=function(t){o.props.stores.appState.setLatlng(t.latlng)},o.zoomToGeoJSON=function(t){try{if(t.target){var e=t.target.getBounds();e&&e._northEast&&o.setState({bounds:e})}}catch(t){console.log(t)}},o.zoomToMarkers=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var n=o.state.hasZoomedToMarkers;try{if((e||!n)&&t.length&&t.length>0){var s=o.mapRef.current.leafletElement,i=R.a.latLngBounds([]);t.forEach((function(t){i.extend([t.lat,t.lng])})),s.fitBounds(i),o.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},o.zoomToAllMarkers=function(){var t=o.props.waypoints;o.zoomToMarkers(void 0===t?[]:t,!0)},o.zoomToFavoriteMarkers=function(){var t=o.props,e=t.zoomToMarkers,n=void 0===e?[]:e,s=t.waypoints;o.zoomToMarkers(n.length>0?n:void 0===s?[]:s,!0)},o.overlayAdd=function(t){var e=o.state.visibleLayers;e[t.name]=!0,o.setState({visibleLayers:e})},o.overlayRemove=function(t){var e=o.state.visibleLayers;e[t.name]=!1,o.setState({visibleLayers:e})},o.polylineOptions=function(){var t=o.props.gpxInfo,e=o.state.rangeSteps,n=o.state.maxHslColor,s=o.props.stores.appState,i=s.mapColorMode,a=s.mapRangeMin,r=s.mapRangeMax;"speed"===i&&t&&t.speeds&&t.speeds.length>0&&(a=Math.floor(Math.min.apply(Math,t.speeds.map((function(t){return 3.6*t})))),r=Math.ceil(Math.max.apply(Math,t.speeds.map((function(t){return 3.6*t})))));var c=l.a.range(a,r,e),h=c.map((function(t){var e=function(t,e,o,n,s){return n+(t-e)*(s-n)/(o-e)}(t,a,r,0,n),o=l.a.hsl2Rgb(n-e,100,45);return{color:"rgb("+o.r+", "+o.g+", "+o.b+")"}}));return s.setMapRange(c,a,r),s.setMapColors(h),h},o.polylineOptionIdxFn=function(t){for(var e=o.props.stores.appState.mapRange,n=0;n<e.length;++n)if(t.meta<=e[n])return n;return e.length},o.polylinetrackPointFactory=function(t){var e=o.props.gpxInfo,n=o.props.stores.appState,s=n.mapRangeMin,i=n.mapRangeMax,a=[];return"speed"===n.mapColorMode&&e.speeds&&e.speeds.length>0?a=e.speeds.map((function(t){return 3.6*t})):e&&e.climbs&&(a=e.climbs),t.filter((function(t){return t[0]&&t[1]&&t[2]})).map((function(t,e){var o=R.a.latLng(t[1],t[0],t[2]);return a&&a.length>0?(o.meta=a[e]||0,o.meta>i&&(o.meta=i),o.meta<s&&(o.meta=s)):o.meta=0,o}))},o.showSpeed=function(){o.props.stores.appState.setMapColorMode("speed")},o.handleMarkerClick=function(t){void 0===t&&(t={});var e=o.props.onMarkerClick,n=void 0===e?function(t){return console.log({title:t.title,bib:t.bib})}:e;try{n(s({},t))}catch(t){console.log(t)}},o.baseLayerChange=function(t){var e=t.name;console.log("baseLayerChange event",t),console.log({name:e}),o.props.stores.appState.setMapChecked(e)},o.whenReadyHandler=function(t){t.target.on("baselayerchange",o.baseLayerChange)},o.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1},o}var n,i;i=e,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var r=o.prototype;return r.geoJSONStyle=function(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}},r.geoJSONStyleList=function(t){var e=v.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}},r.componentWillReceiveProps=function(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)},r.componentWillUnmount=function(){},r.render=function(){var e,o,n=this,i=this.props.stores,r=i.userStore,h=i.appState,u=h.mapChecked,p=r.user.settings,m=void 0===p?{}:p,z=this.state,A=z.visibleLayers,U=z.mapZoom,_=z.bounds,N=void 0===_?null:_,E=this.props,H=E.waypoints,W=void 0===H?[]:H,q=E.waypoints2,Z=void 0===q?[]:q,Y=E.waypoints3,V=void 0===Y?[]:Y,J=E.geoJSONs,G=void 0===J?[]:J,K=E.zoomToMarkers,X=void 0===K?[]:K,Q=E.geojson,$=E.gpxInfo,tt=E.center,et=void 0===tt?[61.0779066,9.800984]:tt,ot=E.zoom,nt=void 0===ot?5:ot,st=E.minZoom,it=void 0===st?4:st,at=E.maxZoom,rt=void 0===at?18:at,ct=E.height,lt=void 0===ct?500:ct,ht=E.heatmap,dt=void 0===ht?[]:ht,ut=E.skipGeojson,bt=void 0!==ut&&ut,pt=E.zoomToWaypoints,gt=void 0!==pt&&pt,mt=E.fullscreenMap,ft=void 0!==mt&&mt,vt=E.showZoomControl,Ot=void 0===vt||vt,jt=E.showLayersControl,wt=void 0===jt||jt,yt=E.showScaleControl,xt=void 0===yt||yt,kt=E.showRange,St=void 0===kt||kt,It=E.showTrackProfile,zt=void 0===It||It,Tt=E.distanceMarkerSteps,At=void 0===Tt?"normal":Tt,Ct=E.showDistanceMarkers,Ut=void 0===Ct||Ct,Dt=E.groupWaypoints,Pt=void 0===Dt||Dt,_t=E.layersControlPosition,Rt=void 0===_t?"topright":_t,Mt=h.mapColorMode,Ft=h.mapRange,Bt=h.mapColors,Lt=h.mapRangeMin,Nt=h.mapRangeMax,Et=Object(d.i)(Q),Ht=l.a.asObject(Et,"features",0,"geometry","coordinates"),Wt=X.length>0||W.length>0,qt=[];if(Ht&&Ht[0]&&Ht[0][0]&&(e=Ht[0][0]&&Ht[0][0][0]?[Ht[0][0][1],Ht[0][0][0]]:[Ht[0][1],Ht[0][0]],o=Ht[Ht.length-1][0]&&Ht[Ht.length-1][0][0]?[Ht[Ht.length-1][0][1],Ht[Ht.length-1][0][0]]:[Ht[Ht.length-1][1],Ht[Ht.length-1][0]],$&&$.distances)){var Zt=0,Yt=0,Vt=10;switch(U){case 15:Vt="long"===At?3:1;break;case 14:Vt="long"===At?5:2;break;case 13:Vt="long"===At?7:3;break;case 12:Vt="long"===At?10:5;break;case 11:case 10:Vt="long"===At?15:10;break;case 9:Vt="long"===At?20:15;break;case 8:Vt="long"===At?30:20;break;case 7:Vt="long"===At?40:30;break;case 6:Vt="long"===At?70:50;break;case 5:Vt="long"===At?150:100;break;default:Vt="long"===At?200:150}$.distances.forEach((function(t,e){Zt+=m.imperial?a(t):t,(Yt+=m.imperial?a(t):t)>=Vt&&(Yt=0,Ht[e]&&Array.isArray(Ht[e])&&qt.push({lat:Ht[e][1],lng:Ht[e][0],title:Math.floor(Zt),body:""}))}))}var Jt=r.isAdmin;return Object(c.h)(t,null,Object(c.h)("div",{class:f.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:v.a.captureAllEvents,onScroll:v.a.captureAllEvents},Object(c.h)(j.a,{bounds:N,ref:this.mapRef,onViewportChanged:this.handleViewportChanged,minZoom:it,maxZoom:rt,center:et,onLocationfound:this.handleLocationFound,zoom:nt,zoomControl:Ot,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:ft||!R.a.Browser.mobile,tap:!R.a.Browser.mobile,touchZoom:!!R.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:"width: 100%; min-height: "+lt+"px; height: 100%;",className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},wt&&Object(c.h)(O.b,{position:Rt},Object(c.h)(F,{checked:"OpenStreetMap.Mapnik"===u,name:"OpenStreetMap.Mapnik"},Object(c.h)(w.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(c.h)(F,{checked:"OpenStreetMap.Dark"===u,name:"OpenStreetMap.Dark"},Object(c.h)(w.a,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(c.h)(F,{checked:"Norway Kartverket topo4"===u,name:"Norway Kartverket topo4"},Object(c.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(c.h)(F,{checked:"Norway Kartverket topo4graatone"===u,name:"Norway Kartverket topo4graatone"},Object(c.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(c.h)(F,{checked:"Google Satellite Text"===u,name:"Google Satellite Text"},Object(c.h)(w.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Jt&&Object(c.h)(B,{name:"Windspeed"},Object(c.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Jt&&Object(c.h)(B,{name:"Temperature"},Object(c.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Jt&&Object(c.h)(B,{name:"Precipitation"},Object(c.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Jt&&Object(c.h)(B,{name:"Atmospheric pressure"},Object(c.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Jt&&Object(c.h)(B,{name:"Snow depth"},Object(c.h)(y.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),xt&&Object(c.h)(x.a,{metric:!0,imperial:!1}),A.Windspeed&&Object(c.h)(D.a,{position:"bottomright"},Object(c.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(c.h)("div",null,"Wind speed, m/s"),Object(c.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(c.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(c.h)("div",null,"0"),Object(c.h)("div",null,"2"),Object(c.h)("div",null,"3"),Object(c.h)("div",null,"6"),Object(c.h)("div",null,"12"),Object(c.h)("div",null,"25"),Object(c.h)("div",null,"50")),Object(c.h)("div",{style:" width: 260px; height: 5px; // background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),A.Temperature&&Object(c.h)(D.a,{position:"bottomright"},Object(c.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(c.h)("div",null,"Temperature, °C"),Object(c.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(c.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(c.h)("div",null,"-40"),Object(c.h)("div",null,"-20"),Object(c.h)("div",null,"0"),Object(c.h)("div",null,"20"),Object(c.h)("div",null,"40")),Object(c.h)("div",{style:" width: 260px; height: 5px; background-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%); "})))),A.Precipitation&&Object(c.h)(D.a,{position:"bottomright"},Object(c.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(c.h)("div",null,"Precipitation, mm/h"),Object(c.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(c.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(c.h)("div",null,"0"),Object(c.h)("div",null,"0.5"),Object(c.h)("div",null,"1"),Object(c.h)("div",null,"2"),Object(c.h)("div",null,"4"),Object(c.h)("div",null,"6"),Object(c.h)("div",null,"7"),Object(c.h)("div",null,"10"),Object(c.h)("div",null,"12"),Object(c.h)("div",null,"14"),Object(c.h)("div",null,"16"),Object(c.h)("div",null,"24"),Object(c.h)("div",null,"32"),Object(c.h)("div",null,"60")),Object(c.h)("div",{style:" width: 260px; height: 5px; background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%; "})))),A["Snow depth"]&&Object(c.h)(D.a,{position:"bottomright"},Object(c.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(c.h)("div",null,"Snow depth (m)"),Object(c.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(c.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(c.h)("div",null,"0.05"),Object(c.h)("div",null,"0.4"),Object(c.h)("div",null,"0.8"),Object(c.h)("div",null,"1.8"),Object(c.h)("div",null,"15")),Object(c.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%; "})))),A["Atmospheric pressure"]&&Object(c.h)(D.a,{position:"bottomright"},Object(c.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(c.h)("div",null,"Atmospheric pressure (hPa)"),Object(c.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(c.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(c.h)("div",null,"940"),Object(c.h)("div",null,"980"),Object(c.h)("div",null,"1010"),Object(c.h)("div",null,"1040"),Object(c.h)("div",null,"1080")),Object(c.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),dt&&dt.length>0&&Object(c.h)(T.a,{fitBoundsOnLoad:!Wt,fitBoundsOnUpdate:!1,points:dt,longitudeExtractor:function(t){return t[1]},latitudeExtractor:function(t){return t[0]},intensityExtractor:function(t){return parseFloat(t[2])}}),zt&&Object(c.h)(t,null,Ht&&Ht.length>0&&Object(c.h)(g.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(Ht),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+Mt})),G&&G.length>0&&G.map((function(t,e){return Object(c.h)(k.a,{data:t,style:function(){return n.geoJSONStyleList(e)}})})),!bt&&Q&&e&&Object(c.h)(k.a,{data:Q,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,onAdd:X&&X.length>0?null:this.zoomToGeoJSON}),e&&Object(c.h)(S.a,{position:e,icon:P.a.get("marker")},Object(c.h)(I.a,null,"Start position: ",l.a.format(e[0],4),", ",l.a.format(e[1],4))),o&&Object(c.h)(S.a,{position:o,icon:P.a.get("flag")},Object(c.h)(I.a,null,"End position: ",l.a.format(o[0],4),", ",l.a.format(o[1],4))),Ut&&qt&&qt.length>0&&Object(c.h)(t,null,qt.length>0&&qt.map((function(t){return Object(c.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:P.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(c.h)(I.a,{position:[t.lat,t.lng]},Object(c.h)("h5",null,t.title),Object(c.h)(b.a,{markdown:t.body,markdownOpts:M})))}))),V.length>0&&V.reverse().map((function(t,e){return Object(c.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:P.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:u}),zIndexOffset:100+e})})),Pt?Object(c.h)(t,null,Object(c.h)(C.a,{maxClusterRadius:10,iconCreateFunction:L,animate:!0,fitBoundsOnLoad:gt},Z.length>0&&Z.reverse().map((function(t,e){return Object(c.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:P.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:u}),zIndexOffset:200+e})}))),Object(c.h)(C.a,{maxClusterRadius:10,iconCreateFunction:L,animate:!0,fitBoundsOnLoad:gt},W.length>0&&W.reverse().map((function(t,e){return Object(c.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:P.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,rank:t.rank,speed:t.speed,bearing:t.bearing,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:180,iconAnchorX:e%2==0?7:187,mapChecked:u}),onClick:function(e){return n.handleMarkerClick(s(s({},t),{},{e:e}))},zIndexOffset:300+e})})))):Object(c.h)(t,null,Z.length>0&&Z.reverse().map((function(t,e){return Object(c.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:P.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconHeight:20,iconAnchorX:7,iconAnchorY:7,dotWidth:14,dotHeight:14,mapChecked:u}),zIndexOffset:200+e})})),W.length>0&&W.reverse().map((function(t,e){return Object(c.h)(S.a,{position:[t.lat,t.lng],draggable:!1,icon:P.a.getRaceMarker({icon:t.icon||"marker",bib:t.bib,speed:t.speed,bearing:t.bearing,rank:t.rank,email:t.email,image:t.image,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:200,iconAnchorX:e%2==0?7:193,mapChecked:u}),onClick:function(e){return n.handleMarkerClick(s(s({},t),{},{e:e}))},zIndexOffset:300+e})}))))),St&&Ft&&Ft.length>0&&Object(c.h)(t,null,Object(c.h)("div",{class:"mb-4"},Object(c.h)("div",{class:"float-right mt-1"},Object(c.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(c.h)("small",null,Object(c.h)("small",null,l.a.format(Lt,0),Object(c.h)("span",{class:"text-muted"},"speed"===Mt?"km/t":"%")))),Ft&&Ft.length>0&&Ft.map((function(t,e){return Object(c.h)("div",{class:"float-left"},Object(c.h)("div",{style:"background-color: "+Bt[e].color+"; height: 13px; width: 10px;"}))})),Object(c.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(c.h)("small",null,Object(c.h)("small",null,l.a.format(Nt,0),Object(c.h)("span",{class:"text-muted"},"speed"===Mt?"km/t":"%"))))))))},o}(c.Component))||r;e.a=N}).call(this,o("hosL").Fragment)},NDEG:function(t,e,o){"use strict";(function(t){var n,s=o("hosL"),i=o("Utv1"),a=o("/eY4"),r=o("ZOvn"),c=Object(a.a)(n=function(e){function o(){return e.apply(this,arguments)||this}var n,a;return a=e,(n=o).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,o.prototype.render=function(){var e=this.props,o=e.dog,n=void 0===o?{}:o,a=e.dogs,c=void 0===a?[]:a,l=e.showTeam,h=e.showInfo,d=e.showName,u=void 0===d||d,b=e.showPosition,p=void 0===b||b,g=e.showAge,m=void 0!==g&&g,f=e.className,v=e.size,O=e.onDogClick,j=void 0===O?function(){}:O,w=this.props.stores.userStore,y=w.user.language,x=w.findDogposition({position:n.position,language:void 0===y?"en":y}),k=r.a.hasBirthday(n.birth),S=(Math.ceil(r.a.daysUntilNextBirthday(n.birth)),"92px"),I="",z="35px";return"small"===v?(S="50px",I="imageRoundedSmall",z="20px"):"medium"===v&&(S="60px",I="imageRoundedMedium",z="25px"),Object(s.h)("div",{class:"mb-2 position-relative "+f+" clearfix",style:"width: "+S,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},p&&x&&Object(s.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(s.h)("span",{class:"badge badge-"+(x.class||"primary")+" mr-3"},x.icon&&Object(s.h)("i",{class:x.icon})," ",x.name)),Object(s.h)("div",{class:"text-center border rounded-circle imageRounded "+I+" mx-auto text-muted pt-2",style:(n.image?'background-image: url("'+n.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!n.image&&Object(s.h)("span",{class:"font-weight-lighter",style:"font-size: "+z+";"},i.a.ucfirst(n.name,!0))),Object(s.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(s.h)("small",null,Object(s.h)("a",{href:"/dogs/public/"+n.uuidv4,onClick:function(t){return j(t,n.uuidv4,c)},class:"stretched-link"},u&&Object(s.h)(t,null,Object(s.h)("span",{class:"mb-1 font-weight-light"},Object(s.h)("nobr",null,n.shortname||n.name,k&&Object(s.h)(t,null,Object(s.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(s.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(s.h)("small",null,n.birth&&m&&Object(s.h)(t,null,Object(s.h)("span",{class:"float-right"},n.birth&&Object(s.h)("span",{class:"mr-2"},i.a.age(n.birth,n.deceased)),"female"===n.gender?Object(s.h)("i",{class:"fas fa-venus"}):Object(s.h)("i",{class:"fas fa-mars"}))),l&&Object(s.h)(t,null,Object(s.h)("span",{class:"font-weight-light"},w.findTeam(n.team)),Object(s.h)("br",null)),h&&Object(s.h)("small",{class:"text-muted"},n.weight&&Object(s.h)(t,null,Object(s.h)("i",{class:"fas fa-balance-scale ml-2"})," ",i.a.format(n.weight,1)," kg"),n.bodyScore&&Object(s.h)(t,null,Object(s.h)("i",{class:"fas fa-dog ml-2"})," ",i.a.format(n.bodyScore,1))))))},o}(s.Component))||n;e.a=c}).call(this,o("hosL").Fragment)},ZQlJ:function(t,e,o){"use strict";var n,s=o("hosL"),i=(o("Utv1"),o("/eY4")),a=(o("OhSV"),o("NDEG")),r=Object(i.a)(n=function(t){function e(e){var o;return(o=t.call(this,e)||this).scrollImages=function(t){var e=t.target,n=e.scrollLeft/e.clientWidth,s=Math.round(n),i=Math.abs(s-n);(Number.isInteger(n)||i<.1)&&o.setState({imageIdx:s})},o.sortByName=function(t,e){var n=o.props.allDogs,s=void 0===n?[]:n,i=s.find((function(e){return e.id===t})),a=s.find((function(t){return t.id===e}));return i&&a&&i.name>a.name?1:-1},o.state={imageIdx:0},o}var o,n;return n=t,(o=e).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,e.prototype.render=function(){var t=this,e=this.props,o=e.dogs,n=e.allDogs,i=void 0===n?[]:n,r=e.size,c=void 0===r?"medium":r,l=e.onDogClick,h=void 0===l?function(){}:l;return Object(s.h)("div",{class:"w-100"},Object(s.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},o&&o.sort(this.sortByName).map((function(e){var n=i.find((function(t){return t.id===e}));return n?Object(s.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(s.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(s.h)(a.a,{stores:t.props.stores,dog:n,dogs:i.filter((function(t){return o.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:c,onDogClick:h}))):""}))))},e}(s.Component))||n;e.a=r},cH0S:function(t,e,o){"use strict";var n,s=o("hosL"),i=(o("Utv1"),o("/eY4")),a=(o("OhSV"),o("ZOvn")),r=(a.a.marginTop(!1),a.a.marginBottom(),Object(i.a)(n=function(t){function e(){return t.apply(this,arguments)||this}var o,n;return n=t,(o=e).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,e.prototype.render=function(){var t=this.props.stores.appState.darkmode,e=this.props,o=e.children,n=e.onCloseClick,i=void 0===n?function(){}:n,r=e.classNames,c=void 0===r?"fixed-bottom":r,l=e.width,h=void 0===l?"100vw":l;return Object(s.h)("div",{class:c+" "+(t?"bg-darkmode":"bg-lightmode")+" border rounded rounded-lg pt-4 pb-3 px-4",style:"\n                    bottom: 0;\n                    left: 0;\n                    width: "+h+";\n                    max-height: 80vh;\n                    min-height: 10vh;\n                    overflow: auto;\n                    z-index: 999999;\n                    border-radius: 20px 20px 0 0 !important;\n                    border-top-width: 5px !important;\n                    box-shadow: 0px 0 5px rgba(0, 0, 0, 0.8);\n                ",onTouchmove:a.a.captureEvents,onScroll:a.a.captureEvents},Object(s.h)("button",{class:"btn btn-warning btn-sm float-right",onClick:i},Object(s.h)("i",{class:"fas fa-times"})),o)},e}(s.Component))||n);e.a=r},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},eQ6k:function(t,e,o){"use strict";(function(t){var n,s=o("hosL"),i=(o("Utv1"),o("/eY4")),a=o("OhSV"),r=Object(i.a)(n=function(e){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=e.call.apply(e,[this].concat(i))||this).requestFollowTeam=function(t){var e=o.props.stores,n=e.teamStore,s=e.userStore.user,i=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.followRequest(i,s),o.setState({requestSent:!0})},o.unFollowTeam=function(t){var e=o.props.stores,n=e.teamStore,s=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.unollowTeam(s),o.setState({unfollowed:!0})},o.getButton=function(e){void 0===e&&(e="");var n=o.state.requestSent,i=o.props.stores.userStore.user,r=o.props,c=r.team,l=r.skipHome,h=r.simple,d=r.classNames,u=c.members&&c.members.indexOf(i.id)>-1,b=c.followers&&c.followers.indexOf(i.id)>-1,p=c.blockedFollowers&&c.blockedFollowers.indexOf(i.id)>-1,g=n||c.followRequests&&c.followRequests.findIndex((function(t){return t.id===i.id}))>-1;return u?l?"":Object(s.h)("i",{class:"fas fa-home"}):b?Object(s.h)(t,null,Object(s.h)("button",{class:d||"btn btn-block btn-outline-secondary float-right",onClick:o.unFollowTeam,disabled:"true","data-team":c.id},Object(s.h)("i",{class:"fas fa-link mr-2"}),Object(s.h)(a.c,{id:"teams.connect.is-following"},"Følger")," ",!h&&Object(s.h)(t,null,e)),Object(s.h)("button",{class:d||"btn btn-sm btn-block btn-danger float-right",onClick:o.unFollowTeam,"data-team":c.id},Object(s.h)("i",{class:"fas fa-unlink mr-2"}),Object(s.h)(a.c,{id:"teams.connect.unfollow"},"Unfollow"))):p?"":g?Object(s.h)("button",{class:d||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(s.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(s.h)(a.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",!h&&Object(s.h)(t,null,e)):c.public?Object(s.h)("button",{class:d||"btn btn-block btn-outline-success float-right",onClick:o.requestFollowTeam,"data-team":c.id},Object(s.h)("i",{class:"fas fa-plus mr-2"}),Object(s.h)(a.c,{id:"teams.connect.follow"},"Følg")," ",!h&&Object(s.h)(t,null,e)):void 0},o}var n,i;return i=e,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,o.prototype.render=function(){var e=this.state.unfollowed,o=this.props,n=o.team,i=o.buttonOnly,a=this.props.stores.userStore,r=a.user.language,c=void 0===r?"en":r,l=a.findTeamAmbition({ambition:n.ambitions,language:c}),h=a.findTeamType({type:n.type,language:c}),d=n.image&&n.image.s3SmallLink?n.image:null;return i?Object(s.h)(t,null,this.getButton(""+n.name)):Object(s.h)("div",{class:"w-100 mb-3"},Object(s.h)("div",{class:"row"},Object(s.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:e?"text-decoration: line-through; opacity: 0.3;":""},Object(s.h)("a",{href:"/teams/public/"+n.uuidv4},Object(s.h)("div",{class:"text-center border rounded-circle imageRounded",style:d?'background-image: url("'+d.s3SmallLink+'");  background-size: cover;':""},!d&&Object(s.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(s.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(s.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},n.public?Object(s.h)(t,null,Object(s.h)("a",{href:"/teams/public/"+n.uuidv4},n.name)):Object(s.h)(t,null,n.name)),Object(s.h)("div",null,n.place," ",n.country),Object(s.h)("div",null,h&&Object(s.h)("span",{class:"badge badge-pill badge-secondary"},h),l&&Object(s.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(s.h)("small",{class:"text-muted"},n&&n.dogs&&Object(s.h)("span",{class:""},Object(s.h)("i",{class:"fas fa-dog"})," ",n.dogs.length),n&&n.followers&&Object(s.h)("span",{class:"ml-2"},Object(s.h)("i",{class:"fas fa-user"})," ",n.followers.length))),Object(s.h)("div",null,this.getButton()))))},o}(s.Component))||n;e.a=r}).call(this,o("hosL").Fragment)},eT2M:function(t){t.exports={hoverelementonly:"hoverelementonly__3_DrK",hoverElement:"hoverElement__3ED7Q",hoverelementhide:"hoverelementhide__2AP13"}},fVsX:function(t,e,o){"use strict";var n,s=o("hosL"),i=(o("Utv1"),o("/eY4")),a=(o("OhSV"),o("ZOvn")),r=(a.a.marginTop(!1),a.a.marginBottom(),Object(i.a)(n=function(t){function e(){return t.apply(this,arguments)||this}var o,n;return n=t,(o=e).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,e.prototype.render=function(){var t=this.props,e=t.children,o=t.height,n=void 0===o?"65px":o;return Object(s.h)("nav",{class:"navbar navbar-themed bg-light fixed-top py-0",style:"height: "+n+";"},e)},e}(s.Component))||n);e.a=r},gWxU:function(t,e,o){"use strict";o.r(e),function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,a=o("hosL"),r=o("Utv1"),c=o("/eY4"),l=(o("Y3FI"),o("OhSV")),h=o("fh8t"),d=o.n(h),u=(o("X9Km"),o("ZOvn")),b=o("NDEG"),p=o("s4FZ"),g=(o("jtG4"),o("eQ6k")),m=o("q/oJ"),f=o("Nanz"),v=o("1/9N"),O=u.a.marginTop(!1),j=u.a.marginTopBack(!1),w=u.a.marginBottom(),y={newTeam:{}},x=Object(c.a)(i=function(e){function o(t){var o;return(o=e.call(this,t)||this).onDogClick=function(t,e){return t.preventDefault(),t.stopPropagation(),o.setState({showDog:e}),!1},o.hideDog=function(){o.setState({showDog:null})},o.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},o.subscribeNotificationTopic=function(t){return new Promise((function(e,n){var s,i;return void 0===(i=(s=o.props.stores.userStore).user.notificationTopics)?{}:i,1,Promise.resolve(s.setNotificationTopic({field:"notificationTopics."+t,value:1})).then((function(){try{return e()}catch(t){return n(t)}}),n)}))},o.back=function(){o.props.stores.history.goBack()},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},y),o.updateTimer={},o.time=(new Date).getTime(),o.apiServer=r.a.getApiServer(),o}var i,c;c=e,(i=o).prototype=Object.create(c.prototype),i.prototype.constructor=i,i.__proto__=c;var h=o.prototype;return h.loadPublicView=function(t){return new Promise(function(e,o){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(t.teamid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return o(t)}}.bind(this),o)}.bind(this))},h.loadAll=function(t){return new Promise(function(e,o){return void 0===t&&(t=this.props),Promise.resolve(this.loadPublicTeam(t)).then(function(){try{return Promise.resolve(this.loadPublicView(t)).then((function(){try{return e()}catch(t){return o(t)}}),o)}catch(t){return o(t)}}.bind(this),o)}.bind(this))},h.loadPublicTeam=function(t){return new Promise(function(e,o){return void 0===t&&(t=this.props),Promise.resolve(t.stores.teamStore.loadPublicDetail({id:t.teamid})).then((function(){try{return e()}catch(t){return o(t)}}),o)}.bind(this))},h.componentDidMount=function(){var t=this.props.back,e=void 0===t?this.back:t,o=this.props.stores.appState;o.setSwipeRight((function(){o.setSwipeRight(),e()})),this.loadAll()},h.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},h.render=function(){var e=this,o=this.state.showDog,n=this.props.stores,s=n.teamStore,i=n.userStore,c=i.user,h=i.isAdmin,y=c.language,x=void 0===y?"en":y,k=s.publicTeam,S=s.publicViewsGraphData,I=!(!k||!k.members)&&k.members.some((function(t){return t.id===c.id})),z=this.props,T=z.marginTop,A=z.marginBottom,C=z.back,U=void 0===C?this.back:C,D=z.hideTeam,P=void 0===D?function(){}:D,_=k.dogs,R=void 0===_?[]:_,M=k.image,F=k.imageHeader,B=k.publicTrophys,L=k.publicMemories,N=k.publicDogs,E=F&&F.s3XXLargeLink?F:{s3XXLargeLink:"./assets/homerun-race-logo.png"},H=M&&M.s3LargeLink?M:null,W=i.findTeamAmbition({ambition:k.ambitions,language:x}),q=i.findTeamType({type:k.type,language:x}),Z=k.members&&k.members.findIndex((function(t){return t.id===c.id}))>-1,Y=k&&k.followers&&k.followers.indexOf(c.id)>-1,V=k.followRequests&&k.followRequests.findIndex((function(t){return t.id===c.id}))>-1,J=c.notificationTopics,G=void 0===J?{}:J,K="team-"+k.id;return Object(a.h)(t,null,o&&Object(a.h)(m.a,null,Object(a.h)(f.default,{stores:this.props.stores,dogid:o,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:R})),Object(a.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(A||w)+"; margin-top: "+(T||O)+";"},Object(a.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+j+"; left: 5px; font-size: 35px; width: 45px;",onClick:U},Object(a.h)("i",{class:"fas fa-arrow-circle-left"})),Object(a.h)("div",{class:"row mb-0"},Object(a.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(E?'background-image: url("'+E.s3XXLargeLink+'");':"")},Z&&Object(a.h)(t,null,Object(a.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+k.id},Object(a.h)("i",{class:"fas fa-edit"})," ",Object(a.h)(l.c,{id:"teams.edit"},"Endre")))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(a.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(H?'background-image: url("'+H.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!H&&Object(a.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(a.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"my-0"},k.name),Object(a.h)("small",{class:"text-muted"},k.place?k.place+", ":"",k.country),Object(a.h)("br",null),q&&Object(a.h)("span",{class:"badge badge-pill badge-secondary mt-2"},q),W&&Object(a.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},W),Object(a.h)("h6",{class:"mt-2"},Object(a.h)("span",{class:"mr-3"},Object(a.h)("span",{class:"font-weight-bolder"},k.followers?k.followers.length:0)," ",Object(a.h)(l.c,{id:"teams.followers"},"followers")),Object(a.h)("span",{class:"mr-3"},Object(a.h)("span",{class:"font-weight-bolder"},k.dogs?k.dogs.length:0)," ",Object(a.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!G||!G[K])&&Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(a.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return e.subscribeNotificationTopic(K)}},Object(a.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!Z&&!Y&&!V&&k.public>0&&Object(a.h)("div",{class:"clearfix mb-2"},Object(a.h)(g.a,{stores:this.props.stores,team:k,buttonOnly:!0,skipHome:!0})))),Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("div",{class:"d-flex justify-content-center"},Z&&!k.facebook&&Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fab fa-facebook"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(l.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),k.url&&Object(a.h)("div",{class:"mx-2"},Object(a.h)("h3",null,Object(a.h)("a",{href:u.a.asUrl(k.url),target:"_blank",rel:"noreferrer"},Object(a.h)("i",{class:"fas fa-link"})))),k.facebook&&Object(a.h)("div",{class:"mx-2"},Object(a.h)("h3",null,Object(a.h)("a",{href:u.a.asFacebookLink(k.facebook),target:"_blank",rel:"noreferrer"},Object(a.h)("i",{class:"fab fa-facebook"})))),k.instagram&&Object(a.h)("div",{class:"mx-2"},Object(a.h)("h3",null,Object(a.h)("a",{href:u.a.asInstagramLink(k.instagram),target:"_blank",rel:"noreferrer"},Object(a.h)("i",{class:"fab fa-instagram"})))),k.snapchat&&Object(a.h)("div",{class:"mx-2"},Object(a.h)("h3",null,Object(a.h)("a",{href:u.a.asSnapchatLink(k.snapchat),target:"_blank",rel:"noreferrer"},Object(a.h)("i",{class:"fab fa-snapchat"}))))),Object(a.h)("div",{class:"d-flex justify-content-center mt-3"},Object(a.h)("div",{class:"mx-2"},Object(a.h)("h3",null,Object(a.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+k.uuidv4},Object(a.h)("i",{class:"fas fa-rss"})," ",Object(a.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(a.h)("div",{class:"mx-2"},Object(a.h)("h3",null,Object(a.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+k.uuidv4,onClick:P},Object(a.h)("i",{class:"fas fa-running"})," ",Object(a.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),k.imagesSponsor&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:k.imagesSponsor.length}},"Sponsorer - ",k.imagesSponsor.length," stk"))),Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(a.h)(p.a,{stores:this.props.stores,images:k.imagesSponsor}))),k.sponsors&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&!k.sponsors&&Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-pen-nib"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(l.c,{id:"teams.add-sponsors"},"Gå inn på endring av teamet for å legge inn sponsorer.")))),Object(a.h)(d.a,{markdown:u.a.replaceImages(k.sponsors,k.imagesSponsor,x),markdownOpts:u.a.getMarkdownOptions()}))),Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&!k.description&&Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-pen-nib"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(l.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(a.h)(d.a,{markdown:u.a.replaceImages(k.description,k.images,x),markdownOpts:u.a.getMarkdownOptions()}))),k.descriptionWorkoutplan&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&!k.descriptionWorkoutplan&&Object(a.h)(t,null,Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-pen-nib"})),Object(a.h)("h3",{class:"font-weight-lighter"},Object(a.h)(l.c,{id:"teams.add-description-workoutplan"},"Gå inn på endring av teamet for å legge inn en treningsplan.")))),Object(a.h)(d.a,{markdown:u.a.replaceImages(k.descriptionWorkoutplan,k.images,x),markdownOpts:u.a.getMarkdownOptions()}))),N&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.dogs",fields:{total:R.length}},"Hundene - ",R.length," stk"))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("div",{class:"row"},R&&R.map((function(t){return Object(a.h)(b.a,{stores:e.props.stores,dog:t,showAge:!0,className:"col",onDogClick:e.onDogClick})}))))),k.images&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.public-photos",fields:{total:k.images.length}},"Teambilder - ",k.images.length," stk"))),Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(a.h)(p.a,{stores:this.props.stores,images:k.images}))),L&&k.achievements&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(a.h)("div",{class:"row"},k.achievements&&k.achievements.map((function(t){return Object(a.h)("div",{class:"col-12"},t.date&&Object(a.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(t.date,!1,!1,!0)),Object(a.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(a.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("a",{href:u.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(a.h)("i",{class:"fas fa-link"}))))}))))),B&&k.trophys&&Object(a.h)("div",{class:"row mt-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(a.h)("div",{class:"row"},k.trophys&&k.trophys.reverse().map((function(t){var e=u.a.getTrophyImage(t.name);if(!e)return"";var o=t.descriptionHeader&&t.descriptionHeader[x]?t.descriptionHeader[x]:"",n=t.description&&t.description[x]?t.description[x]:"";return Object(a.h)("div",{class:"col-4 mt-3"},Object(a.h)("div",{class:"mb-2"},Object(a.h)("img",{src:e,class:"img-fluid"})),Object(a.h)("strong",null,o),Object(a.h)("small",null,Object(a.h)("details",null,Object(a.h)("summary",null,Object(a.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(a.h)(d.a,{markdown:u.a.replaceImages(n,k.images,x),markdownOpts:u.a.getMarkdownOptions()}))))}))))),Object(a.h)("div",{class:"row mt-5 mb-5"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(a.h)("div",{class:"text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-ellipsis-h"})),Object(a.h)("div",{style:"line-height: 0.9em;"},Object(a.h)("small",null,Object(a.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(h||I)&&Object(a.h)(t,null,Object(a.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(a.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(a.h)(v.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+k.uuidv4})),k.uuidv4&&Object(a.h)("img",{src:this.apiServer+"/api/teams/"+k.uuidv4+"/view?user="+c.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},o}(a.Component))||i;e.default=x}.call(this,o("hosL").Fragment)},jtG4:function(t,e,o){"use strict";(function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,a=o("hosL"),r=(o("Utv1"),o("/eY4")),c=(o("Y3FI"),o("OhSV")),l=o("ZOvn"),h={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},d=Object(r.a)(i=function(e){function o(o){var i;return(i=e.call(this,o)||this).requestFollowTeam=function(t){return new Promise((function(e){var o=i.props.stores,n=o.teamStore,s=o.userStore.user,a=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.followRequest(a,s);var r=i.state.requestSent;return r[a]=!0,i.setState({requestSent:r}),e()}))},i.confirmRequest=function(t){return new Promise((function(e,o){var n,s,a,r,c,l,h,d,u;return s=void 0===(n=i.props.callback)?function(){}:n,a=t.target.closest("button").dataset,l=i.props.stores.teamStore,u=(h=i.state).deleted,(d=h.confirmed)[(r=a.team)+"-"+(c=a.user)]=!0,delete u[r+"-"+c],i.setState({confirmed:d,deleted:u}),Promise.resolve(l.confirmFollowRequest({team:parseInt(r,10),user:parseInt(c,10)})).then((function(){try{return s(),e()}catch(t){return o(t)}}),o)}))},i.deleteRequest=function(t){return new Promise((function(e,o){var n,s,a,r,c,l,h,d,u;return s=void 0===(n=i.props.callback)?function(){}:n,a=t.target.closest("button").dataset,l=i.props.stores.teamStore,u=(h=i.state).confirmed,(d=h.deleted)[(r=a.team)+"-"+(c=a.user)]=!0,delete u[r+"-"+c],i.setState({deleted:d,confirmed:u}),Promise.resolve(l.deleteFollowRequest({team:parseInt(r,10),user:parseInt(c,10)})).then((function(){try{return s(),e()}catch(t){return o(t)}}),o)}))},i.unFollowTeam=function(t){var e=i.props.stores,o=e.teamStore,n=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);o.unollowTeam(n),i.setState({unfollowed:!0})},i.getUnblockButton=function(e,o){var n=i.state.confirmed[o+"-"+e];return Object(a.h)(t,null,n?Object(a.h)(t,null,Object(a.h)("small",{class:"text-success"},Object(a.h)("i",{class:"fas fa-check"})," ",Object(a.h)(c.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(a.h)(t,null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:i.confirmRequest,"data-team":o,"data-user":e},Object(a.h)(c.c,{id:"teams.connect.confirm"},"Confirm"))))},i.getButton=function(e){var o=i.state.requestSent,n=i.props.stores.userStore.user,s=e.members&&e.members.indexOf(n.id)>-1,r=e.followers&&e.followers.indexOf(n.id)>-1,l=e.blockedFollowers&&e.blockedFollowers.indexOf(n.id)>-1,h=o[e.id]||e.followRequests&&e.followRequests.findIndex((function(t){return t.id===n.id}))>-1;return s?Object(a.h)("i",{class:"fas fa-home"}):e.public?r?Object(a.h)(t,null,Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:i.unFollowTeam,disabled:"true","data-team":e.id},Object(a.h)("i",{class:"fas fa-link mr-2"}),Object(a.h)(c.c,{id:"teams.connect.is-following"},"Følger")),Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:i.unFollowTeam,disabled:"true","data-team":e.id},Object(a.h)(c.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(a.h)(t,null):h?Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(a.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(a.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:i.requestFollowTeam,"data-team":e.id},Object(a.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(a.h)(c.c,{id:"teams.connect.follow"},"Følg")):Object(a.h)(t,null,Object(a.h)("small",{class:"text-muted"},Object(a.h)(c.c,{id:"teams.not-public"},"Ikke offentlig")))},i.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),i.updateTimer={},i}var i,r;return r=e,(i=o).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r,o.prototype.render=function(){var e,o,n,s,i=this.state,r=i.deleted,h=void 0===r?{}:r,d=i.unfollowed,u=this.props,b=u.team,p=u.isBlocked,g=u.myTeamId,m=u.showBlockButton,f=this.props.stores.storyStore.findPublicUser(b.user)||b.user||{};b.image&&b.image.s3SmallLink?e=b.image:b.images&&b.images[0]&&b.images[0].s3SmallLink?e=b.images[0]:f.image&&f.image.s3SmallLink?e=f.image:f.images&&f.images[0]&&f.images[0].s3SmallLink&&(e=f.images[0]),b&&b.name?(o=l.a.displayNameShort(b),n=l.a.displayName(b),s=l.a.displayName(f)):f&&f.id&&(o=l.a.displayNameShort(f),n=l.a.displayName(f));var v=h[g+"-"+f.id];return Object(a.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:d?"text-decoration: line-through; opacity: 0.3;":""},Object(a.h)("div",{class:"d-flex position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:e?'background-image: url("'+e.s3MediumLink+'"); background-size: cover;':""},!e&&Object(a.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},o)),Object(a.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"mb-0"},b.public?Object(a.h)(t,null,Object(a.h)("a",{href:"/teams/public/"+b.uuidv4},n)):Object(a.h)(t,null,n)),Object(a.h)("div",null,b.place?b.place+", ":""," ",b.country,"  "),Object(a.h)("div",null,Object(a.h)("small",{class:"text-muted"},b&&b.dogs&&Object(a.h)("span",{class:""},Object(a.h)("i",{class:"fas fa-dog"})," ",b.dogs.length),b&&b.followers&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-user"})," ",b.followers.length),s&&Object(a.h)(t,null,Object(a.h)("small",{class:"ml-2 text-muted"},s)),m&&Object(a.h)(t,null,v?Object(a.h)(t,null,Object(a.h)("small",{class:"text-danger ml-3"},Object(a.h)("i",{class:"fas fa-ban"})," ",Object(a.h)(c.c,{id:"teams.connect.deleted"},"Deleted"))):Object(a.h)(t,null,Object(a.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":g,"data-user":f.id},Object(a.h)("i",{class:"fas fa-ban"})," ",Object(a.h)(c.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(a.h)("div",null,p?Object(a.h)(t,null,this.getUnblockButton(f.id,g)):Object(a.h)(t,null,this.getButton(b)))))},o}(a.Component))||i;e.a=d}).call(this,o("hosL").Fragment)},"q/oJ":function(t,e,o){"use strict";var n,s=o("hosL"),i=(o("Utv1"),o("/eY4")),a=(o("OhSV"),o("ZOvn")),r=a.a.marginTop(!1),c=a.a.marginBottom(),l=Object(i.a)(n=function(t){function e(){return t.apply(this,arguments)||this}var o,n;return n=t,(o=e).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,e.prototype.render=function(){var t=this.props.children;return Object(s.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+c+";\n                    margin-top: "+r+";\n                    height: calc(100vh - "+r+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},t)},e}(s.Component))||n;e.a=l},wanP:function(t,e,o){"use strict";(function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i,a=o("hosL"),r=(o("Utv1"),o("/eY4")),c=o("eK6s"),l=o.n(c),h={mouseData:{}},d=Object(r.a)(i=function(e){function o(t){var o;return(o=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},h),o.svgRef=null,o}var i,r;return r=e,(i=o).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r,o.prototype.render=function(){var e=this,o=this.props,n=o.radius,s=void 0===n?50:n,i=o.heightAdd,r=void 0===i?0:i,c=o.color,h=void 0===c?"success":c,d=o.showPercentText,u=void 0===d||d,b=o.percent,p=void 0===b?0:b,g=o.prefix,m=void 0===g?"":g,f=o.showCenterText,v=void 0!==f&&f,O=o.centerText,j=o.centerTextSize,w=o.centerTextX,y=o.centerTextY,x=o.total,k=void 0===x?"":x,S=o.totalY,I=void 0===S?"90%":S,z=o.totalX,T=void 0===z?"50%":z,A=o.totalTextAnchor,C=void 0===A?"middle":A,U=o.completed,D=void 0===U?"":U,P=o.completedY,_=void 0===P?"65%":P,R=o.completedX,M=void 0===R?"50%":R,F=o.completedTextAnchor,B=void 0===F?"middle":F,L=.3*s,N=s-L/2,E=.3*s,H=2*N*Math.PI,W=.75*H,q=W+" "+H,Z="rotate(135, "+s+", "+s+")",Y=W-Math.min(Math.max(p,0),100)/100*W,V=j||s/2.5,J=s/5;return Object(a.h)(t,null,Object(a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*s,height:2*s+r,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(a.h)("circle",{class:""+l.a.gaugeBackground,cx:s,cy:s,r:N,strokeWidth:L,strokeDasharray:q,strokeLinecap:"round",transform:Z}),Object(a.h)("circle",{class:l.a[h]+" "+l.a.gauge,cx:s,cy:s,r:N,stroke:"url(#grad)",strokeDasharray:q,strokeDashoffset:Y,strokeLinecap:"round",strokeWidth:E,style:{transition:"stroke-dashoffset 0.3s"},transform:Z}),u&&Object(a.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":V},p," ",m),v&&Object(a.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":V},O),D&&Object(a.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:M,y:_,"dominant-baseline":"middle","text-anchor":B,"font-size":J},D),Object(a.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:T,y:I,"dominant-baseline":"middle","text-anchor":C,"font-size":J},k)))},o}(a.Component))||i;e.a=d}).call(this,o("hosL").Fragment)},zYNi:function(t,e,o){"use strict";(function(t){function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){i(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r,c,l,h,d=o("hosL"),u=(o("QRet"),o("Utv1")),b=o("/eY4"),p=o("OhSV"),g=(o("Y3FI"),o("fh8t")),m=o.n(g),f=(o("go65"),o("HQo+")),v=o("wanP"),O=o("ZQlJ"),j=o("q/oJ"),w=o("cH0S"),y=o("fVsX"),x=o("8n2v"),k=o("gWxU"),S=o("Nanz"),I=o("ZOvn"),z=I.a.marginTop(!0,!1),T=(I.a.marginTopBack(!1),I.a.marginBottom(),I.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:u.a.getJwtToken(),reloadInSec:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0}),A=Object(b.a)(r=function(e){function o(t){var o;return(o=e.call(this,t)||this).initComponent=function(){o.setState({reloadIsActive:!0},(function(){return o.tickReloadTimeer()}))},o.tickReloadTimeer=function(){var t=o.props.reloadLastEpoch;if(o.state.reloadIsActive){var e=Math.floor((new Date).getTime()/1e3);o.setState({reloadInSec:60-(e-t)}),clearTimeout(o.updateTimer.tick),o.updateTimer.tick=setTimeout((function(){return o.tickReloadTimeer()}),1e3)}return!1},o.state=s({},T),o.updateTimer={},o}a(o,e);var n=o.prototype;return n.componentDidMount=function(){this.initComponent()},n.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},n.render=function(){var e=this.state.reloadInSec,o=this.props,n=o.radius,s=void 0===n?13:n,i=o.fontSize,a=void 0===i?11:i,r=o.classNames,c=void 0===r?"":r,l=Math.floor(u.a.normalizeBetween(e,0,60,0,100));return Object(d.h)(t,null,Object(d.h)("span",{class:c},Object(d.h)(v.a,{key:"gauge-reload-page",color:"primary",radius:s,showPercentText:!1,percent:l,showCenterText:!0,centerText:e,centerTextSize:a,centerTextY:"55%"})))},o}(d.Component))||r,C=Object(b.a)(c=function(e){function o(t){var o;return(o=e.call(this,t)||this).chooseSubmenu=function(t){var e=t.target.closest("button").dataset.submenu;o.setState({submenu:e})},o.state={},o}return a(o,e),o.prototype.render=function(){var e=this.props.stores,o=e.raceStore.waypoints,n=this.props,s=n.raceClass,i=void 0===s?{}:s,a=n.race,r=void 0===a?{}:a,c=n.onMarkerClick,l=void 0===c?function(){}:c;return Object(d.h)(t,null,Object(d.h)("div",{class:"d-flex justify-content-center align-items-center mb-2"},Object(d.h)("span",{style:"font-size: 1.3em;"},r.title," - ",i.title)),Object(d.h)("div",{class:"w-100 overflow-auto",style:"max-height: 60vh;"},!o||0===o.length&&Object(d.h)(t,null,Object(d.h)("div",{class:"text-center text-muted"},Object(d.h)("div",{class:"display-1"},Object(d.h)("i",{class:"fas fa-dog"})),Object(d.h)("div",{class:"w-100"},Object(d.h)("h3",null,Object(d.h)(p.c,{id:"races.no-teams-found"},"No teams found!")),Object(d.h)(p.c,{id:"races.loading-teams"},"Loading teams...")),Object(d.h)("div",{class:"spinner-border text-primary",style:"width: 3rem; height: 3rem;",role:"status"},Object(d.h)("span",{class:"sr-only"},"Loading...")))),Object(d.h)("table",{class:"table table-striped"},o&&o.map((function(e){return Object(d.h)(t,null,Object(d.h)("tr",{onClick:function(){return l(e)}},Object(d.h)("td",{style:"width: 15px;"},e.rank),Object(d.h)("td",null,Object(d.h)("div",{class:"d-flex justify-content-between align-items-start w-100"},Object(d.h)("div",{class:"rounded-circle imageRounded imageRoundedSmallIcon float-left",style:'background-image: url("'+e.image+'"); background-size: cover; border: 1px '+e.color+" solid; width: 30px !important; height: 30px;"}," "),Object(d.h)("div",{class:"flex-grow-1 ml-2"},Object(d.h)("span",{class:"text-white rounded-pill-both px-2 mr-2",style:"background-color: "+e.color+";"},e.bib),e.flag,"  ",e.title,Object(d.h)("div",null,e.finishTime<9999999999?Object(d.h)(t,null,e.diffToFirstFinishTime>0?Object(d.h)(t,null,u.a.secToHms(e.diffToFirstFinishTime)):Object(d.h)(t,null,u.a.formatDate(u.a.parseInputDate(e.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))):Object(d.h)(t,null,Object(d.h)("span",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-compass"}))," ",I.a.windDirection(e.bearing),Object(d.h)("span",{class:"text-muted font-weight-light ml-3"},Object(d.h)("i",{class:"fas fa-tachometer-alt"}))," ",u.a.format(e.speed||0,1)," km/h",Object(d.h)("br",null),Object(d.h)("span",{class:"text-muted font-weight-light"},Object(d.h)("i",{class:"fas fa-flag-checkered"}))," ",u.a.format(e.distanceToFinish,1)," km",e.distanceToFinish!==e.distanceToFirst&&e.distanceToFirst>0&&Object(d.h)(t,null,Object(d.h)("span",{class:"text-muted font-weight-light ml-3"},"1st:")," ",u.a.format(e.distanceToFirst,1)," km"),e.distanceToFinish!==e.distanceToForward&&e.distanceToForward>0&&Object(d.h)(t,null,Object(d.h)("span",{class:"text-muted font-weight-light ml-3"},Object(d.h)("i",{class:"fas fa-arrow-up"}))," ",u.a.format(e.distanceToForward,1)," km"),e.distanceToBehind>0&&Object(d.h)(t,null,Object(d.h)("span",{class:"text-muted font-weight-light ml-3"},Object(d.h)("i",{class:"fas fa-arrow-down"}))," ",u.a.format(e.distanceToBehind,1)," km")))),Object(d.h)("div",null,e.finishTime<9999999999?Object(d.h)(t,null,Object(d.h)("i",{class:"fas fa-flag-checkered"})):Object(d.h)(t,null,Object(d.h)("i",{class:"fas fa-running"})))))))})))))},o}(d.Component))||c,U=Object(b.a)(l=function(e){function o(t){var o;return(o=e.call(this,t)||this).toggleAdminInfo=function(t){t.stopPropagation(),o.setState({showAdminInfo:!o.state.showAdminInfo})},o.toggleInfo=function(t){t.stopPropagation(),o.setState({showInfo:!o.state.showInfo})},o.onDogClick=function(t,e,n){t.preventDefault(),t.stopPropagation();var s=n.find((function(t){return t.uuidv4===e}));return o.setState({currentDog:s,showDog:e,dogs:n}),!1},o.chooseSubmenu=function(t){var e=t.target.closest("button").dataset.submenu;o.setState({submenu:e})},o.state={},o}return a(o,e),o.prototype.render=function(){var e=this.props.stores,o=e.raceStore,n=e.userStore,s=this.state,i=s.showAdminInfo,a=s.submenu,r=void 0===a?"details":a,c=s.showDog,l=s.currentDog,h=void 0===l?{}:l,b=o.totalTrackLength,g=this.props,f=g.wpData,j=void 0===f?{}:f,w=g.onMarkerClick,y=void 0===w?function(){}:w,x=o.findWaypointByBib(j.bib),k=n.isAdmin,S=j.bib?o.getMusherByBibId(j.bib):o.getMusherByBibEmail(j.email),z=o.getTeamById(S.team),T=z.members?z.members.find((function(t){return t.email===S.email})):{},A=(o.getClassByBib(j.bib),o.getTotalsByTeamId(S.team)),C=I.a.getImage({user:T,team:z,priority:"user"}),U=I.a.displayNameShort(T)||I.a.displayNameShort(S),D=j.color,P=I.a.hasBirthday(h.birth),_=h.birth?Math.ceil(I.a.daysUntilNextBirthday(h.birth)):365,R=u.a.format(x.totalDistanceOnTrack/b*100,0),M=o.findNearestMushers(j.bib),F=M.inFront,B=M.behind;return Object(d.h)(t,null,B.bib&&Object(d.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:function(){return y(B)},style:"line-height: 1.0em; font-size: 2.0em;"},Object(d.h)("i",{class:"fas fa-angle-right"})),F.bib&&Object(d.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:function(){return y(F)},style:"line-height: 1.0em; font-size: 2.0em;"},Object(d.h)("i",{class:"fas fa-angle-left"})),Object(d.h)("div",{class:"d-flex position-relative"},Object(d.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:C?'background-image: url("'+C+'"); background-size: cover;':""},!C&&Object(d.h)("div",{class:"text-muted",style:"font-size: 25px; padding-top: 5px;"},U),Object(d.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute "+(D?"":"bg-secondary")+" font-weight-bold",style:"bottom: -20px; right: 0; "+(D?"background-color: "+D+";":"")},S.bib&&"n/a"!==S.bib&&Object(d.h)(t,null,S.bib))),Object(d.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(d.h)("h3",{class:"mb-0"},S.flag," ",S.firstname," ",S.lastname),Object(d.h)("h6",{class:"mb-0"},S.sportsClub||Object(d.h)(t,null," ")))),Object(d.h)("div",{class:"d-flex justify-content-center mb-3"},Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+("details"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"details"},"Details")),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-none "+("team"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"team"},"Team")),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+("dogs"===r?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"dogs"},"Dogs"))),Object(d.h)("div",{class:"w-100 overflow-auto position-relative",style:"max-height: 60vh;"},"details"===r&&Object(d.h)(t,null,Object(d.h)("div",{class:"d-flex justify-content-between"},Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-list"})," Ranking")),Object(d.h)("div",{class:"text-center",style:"font-size: 2.0em;"},x.rank)),x.finishTime<9999999999?Object(d.h)(t,null,x.diffToFirstFinishTime>0?Object(d.h)(t,null,Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock"})," Diff to 1st")),Object(d.h)("div",{class:"text-center",style:"font-size: 2.0em;"},u.a.secToHms(x.diffToFirstFinishTime)))):Object(d.h)(t,null,Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock"})," Finish time")),Object(d.h)("div",{class:"text-center",style:"font-size: 1.5em;"},u.a.formatDate(u.a.parseInputDate(x.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(d.h)(t,null,Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-tachometer-alt"})," Current speed")),Object(d.h)("div",{class:"text-center",style:"font-size: 2.0em;"},u.a.format(x.speed||0,1)," ",Object(d.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km/h"))),Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-compass"})," Bearing")),Object(d.h)("div",{class:"text-center",style:"font-size: 2.0em;"},I.a.windDirection(x.bearing))))),Object(d.h)("div",{class:"d-flex justify-content-between mt-2"},Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-road"})," Total distance")),Object(d.h)("div",{class:"text-center mt-2"},Object(d.h)(v.a,{key:"gauge-reload-page",color:"primary",radius:40,showPercentText:!1,percent:R,showCenterText:!0,centerText:R+"%",centerTextSize:18,centerTextY:"55%"})),Object(d.h)("div",{class:"text-center"},Object(d.h)("small",null,u.a.format(x.totalDistanceOnTrack,1)," / ",u.a.format(b,1)," ",Object(d.h)("span",{class:"text-muted"},"km"))))),Object(d.h)("div",{class:"d-flex justify-content-between mt-2"},x.finishTime<9999999999?Object(d.h)(t,null,x.diffToFirstFinishTime>0?Object(d.h)(t,null,Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-clock"})," Finish time")),Object(d.h)("div",{class:"text-center",style:"font-size: 1.5em;"},u.a.formatDate(u.a.parseInputDate(x.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(d.h)(t,null)):Object(d.h)(t,null,Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-arrow-down"})," Behind")),Object(d.h)("div",{class:"text-center"},u.a.format(x.distanceToBehind,1)," ",Object(d.h)("span",{class:"text-muted"},"km"))),Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},"Team")),Object(d.h)("div",{class:"text-center"},Object(d.h)("i",{class:"fas fa-dog"}))),Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-arrow-up"})," In front")),Object(d.h)("div",{class:"text-center"},u.a.format(x.distanceToForward,1)," ",Object(d.h)("span",{class:"text-muted"},"km"))),Object(d.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(d.h)("div",null,Object(d.h)("small",{class:"text-muted"},Object(d.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(d.h)("div",{class:"text-center"},u.a.format(x.distanceToFinish,1)," ",Object(d.h)("span",{class:"text-muted"},"km"))))),A&&A.distanceKm&&Object(d.h)(t,null,Object(d.h)("div",{class:"table-responsive-lg"},Object(d.h)("table",{class:"table table-borderless"},Object(d.h)("tbody",null,Object(d.h)("tr",null,Object(d.h)("td",{style:"width: 5%;"},Object(d.h)("i",{class:"fas fa-dog"})),Object(d.h)("td",{style:"width: 60%"},Object(d.h)(p.c,{id:"races.dogs"},"Dogs")),Object(d.h)("td",{style:"width: 5%;"}," "),Object(d.h)("td",{class:"text-right",style:"width: 30%;"},z.dogs.length)),Object(d.h)("tr",null,Object(d.h)("td",null,Object(d.h)("i",{class:"fas fa-road"})),Object(d.h)("td",null,Object(d.h)(p.c,{id:"races.distance"},"Distance")),Object(d.h)("td",null," "),Object(d.h)("td",{class:"text-right"},Object(d.h)("nobr",null,A.distanceKm?u.a.format(A.distanceKm,1)+" km":"n/a"))),Object(d.h)("tr",null,Object(d.h)("td",null,Object(d.h)("i",{class:"fas fa-mountain"})),Object(d.h)("td",null,Object(d.h)(p.c,{id:"races.ascend"},"Ascending")),Object(d.h)("td",null," "),Object(d.h)("td",{class:"text-right"},Object(d.h)("nobr",null,A.elevation?u.a.format(A.elevation,0)+" m":"n/a"))),Object(d.h)("tr",null,Object(d.h)("td",null,Object(d.h)("i",{class:"fas fa-stopwatch"})),Object(d.h)("td",null,Object(d.h)(p.c,{id:"races.race-time"},"Racetime")),Object(d.h)("td",null,Object(d.h)("i",{class:"fas fa-clock"})),Object(d.h)("td",{class:"text-right"},Object(d.h)("nobr",null,u.a.secToHms(A.duration)||"n/a"))),Object(d.h)("tr",null,Object(d.h)("td",null,Object(d.h)("i",{class:"fas fa-bed"})),Object(d.h)("td",null,Object(d.h)(p.c,{id:"races.rest-time"},"Rest")),Object(d.h)("td",null,Object(d.h)("i",{class:"fas fa-clock"})),Object(d.h)("td",{class:"text-right"},Object(d.h)("nobr",null,u.a.secToHms(A.rest)||"n/a")))))))),"team"===r&&Object(d.h)(t,null,z.public>0?Object(d.h)(t,null,Object(d.h)("h3",null,z.name),Object(d.h)(m.a,{markdown:I.a.replaceImages(z.description,z.images),markdownOpts:I.a.getMarkdownOptions()})):Object(d.h)(t,null,Object(d.h)("div",{class:"text-center text-muted"},Object(d.h)("div",{class:"display-1"},Object(d.h)("i",{class:"fas fa-dog"})),Object(d.h)("h3",null,Object(d.h)(p.c,{id:"teams.no-public-team"},"No public team!")),Object(d.h)(p.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),"dogs"===r&&Object(d.h)(t,null,z.public>0?Object(d.h)(t,null,z.dogs&&Object(d.h)("div",{class:"w-100 container-fluid"},Object(d.h)("div",{class:"row pt-2"},Object(d.h)(O.a,{stores:this.props.stores,dogs:z.dogs.map((function(t){return t.id})),allDogs:z.dogs,onDogClick:this.onDogClick}))),c&&Object(d.h)(t,null,Object(d.h)("div",{class:"d-flex mb-0 mt-3 position-relative"},Object(d.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedLarge text-muted pt-2",style:h.image?'background-image: url("'+h.image.s3LargeLink+'"); background-size: cover;':""},!h.image&&Object(d.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},u.a.ucfirst(h.name,!0))),Object(d.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+n.findHarness(h.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(d.h)("h5",{class:"mb-1"},h.shortname||h.name," ",h.shortname&&""!==h.shortname&&Object(d.h)(t,null," - ",Object(d.h)("span",{class:"font-weight-lighter"},h.name)),P&&Object(d.h)(t,null,Object(d.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(d.h)("div",null,_<7&&Object(d.h)(t,null,Object(d.h)("span",{class:"text-muted mr-2"},Object(d.h)("i",{class:"fas fa-birthday-cake"})," in ",_," days")),h.birth&&Object(d.h)("span",{class:"mr-2"},u.a.age(h.birth,h.deceased)),"female"===h.gender?Object(d.h)("i",{class:"fas fa-venus"}):Object(d.h)("i",{class:"fas fa-mars"})))))):Object(d.h)(t,null,Object(d.h)("div",{class:"text-center text-muted"},Object(d.h)("div",{class:"display-1"},Object(d.h)("i",{class:"fas fa-dog"})),Object(d.h)("h3",null,Object(d.h)(p.c,{id:"teams.no-public-team"},"No public team!")),Object(d.h)(p.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),k&&Object(d.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(d.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),i&&Object(d.h)(t,null,Object(d.h)("small",null,Object(d.h)("xmp",null,"musher: ",JSON.stringify(S,null,4),Object(d.h)("br",null),"user: ",JSON.stringify(T,null,4),Object(d.h)("br",null),"team: ",JSON.stringify(z,null,4),Object(d.h)("br",null),"totals: ",JSON.stringify(A,null,4),Object(d.h)("br",null)))))))},o}(d.Component))||l,D=Object(b.a)(h=function(e){function o(t){var o;return(o=e.call(this,t)||this).handleHistoryPointIndex=function(t){var e=parseInt(t.target.value,10);clearTimeout(o.updateTimer.reload),o.setState({historyPointIndex:e,timerRunning:!1},(function(){o.props.stores.raceStore.updateWaypointPosition(Math.abs(o.state.historyPointIndex))}))},o.playHistory=function(){clearTimeout(o.updateTimer.reload);var t=o.state,e=t.historyPointIndex,n=t.replaySpeed,i=o.props.stores.raceStore,a=i.getRaceTrackerTimestamp(e+1),r={historyPointIndex:e+1,timerRunning:!1,playingHistory:!0};a&&(r.raceTrackerPointTimestamp=a),o.setState(s({},r),(function(){i.updateWaypointPosition(Math.abs(e+1))})),clearTimeout(o.updateTimer.history),o.updateTimer.history=setTimeout((function(){o.playHistory()}),1e3*n)},o.pauseHistory=function(){clearTimeout(o.updateTimer.history),o.setState({playingHistory:!1})},o.loadLiveRaceResults=function(t,e){return new Promise((function(n,s){var i,a,r,c,l,h,d,u,b,p,g,m,f,v;return void 0===t&&(t=o.props),i=e.teamIds,a=e.focusOnMushers,r=e.bibs,d=(l=t.stores).userStore,u=(h=l.raceStore).race,p=(b=o.state).historyPointIndex,g=b.replayHistory,m=b.timerRunning,f=o.props.showDrawerReplay,v=h.getClassById(c=e.classid)||{},Promise.resolve(h.getRaceTrackerData(u.raceTrackerRace,{history:g||f,bibs:r,classid:c,startDate:v.startDate,endDate:v.endDate,isAdmin:d.isAdmin})).then((function(){try{return h.getRaceTrackerActiveTeams(i,a,r,p),m&&(clearTimeout(o.updateTimer.reload),o.updateTimer.reload=setTimeout((function(){console.log("loadLiveRaceResults.reloading...");var t=Math.floor((new Date).getTime()/1e3);o.setState({reloadLastEpoch:t}),o.loadLiveRaceResults(o.props,{teamIds:i,focusOnMushers:a,bibs:r,classid:c})}),6e4)),n()}catch(t){return s(t)}}),s)}))},o.loadRaceResults=function(t,e,n){return new Promise((function(s,i){var a,r;return void 0===t&&(t=o.props),a=t.stores.raceStore,r=o.state.timerRunning,Promise.resolve(a.loadWorkoutSummary(e,t.raceid)).then((function(){try{return a.getWorkoutSummaryActiveTeams(e,n),r&&(clearTimeout(o.updateTimer.reload),o.updateTimer.reload=setTimeout((function(){var t=Math.floor((new Date).getTime()/1e3);o.setState({reloadLastEpoch:t}),o.loadRaceResults(o.props,e,n)}),6e4)),s()}catch(t){return i(t)}}),i)}))},o.loadRace=function(t){return new Promise((function(e,n){var s,i,a,r,c,l,h,d,u,b,p,g;void 0===t&&(t=o.props);var m=function(){try{return e()}catch(t){return n(t)}},f=function(t){try{return console.log(t),m()}catch(t){return n(t)}};try{return o.setState({isLoading:!0}),i=(s=t.stores).raceStore,a=s.appState,c=(r=t).classid,Promise.resolve(i.load(r.raceid)).then(function(){try{if(l=i.race,h=a.focusOnMushers,u=void 0===(d=a.selectedClassIds)?[]:d,b=c||u[0],c&&a.toggleSelectedClassId(c,!0),p=l.classes.filter((function(t){return t.id===b})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),g=l.classes.filter((function(t){return t.id===b})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat(),p.length>0)return Promise.resolve(i.loadTeams(p.join(","))).then(function(){try{return t.call(this)}catch(t){return f(t)}}.bind(this),f);function t(){function t(){return i.getAllClassesSortedBy(),o.setState({isLoading:!1}),m()}return l.liveRace>0?Promise.resolve(o.loadLiveRaceResults(o.props,{teamIds:p,focusOnMushers:h,bibs:g,classid:b})).then(function(){try{return t.call(this)}catch(t){return f(t)}}.bind(this),f):Promise.resolve(o.loadRaceResults(o.props,p,h)).then(function(){try{return t.call(this)}catch(t){return f(t)}}.bind(this),f)}return t.call(this)}catch(t){return f(t)}}.bind(this),f)}catch(t){f(t)}}))},o.setLeaderboardMode=function(t){o.setState({leaderboardMode:t.target.parentElement.dataset.mode||t.target.dataset.mode})},o.chooseRaceClass=function(t){o.setState({filterByraceClass:t.target.value})},o.toggleShowLeaderBoard=function(t){o.setState(!0===t?{showLeaderBoard:!1}:{showLeaderBoard:!o.state.showLeaderBoard})},o.toggleShowNews=function(t){o.setState(!0===t?{showNews:!1}:{showNews:!o.state.showNews})},o.onMarkerClick=function(t){o.setState({showResults:!1,showDrawer:!0,wpData:t})},o.toggleDrawer=function(){o.setState({showDrawer:!o.state.showDrawer})},o.toggleResults=function(){o.setState({showResults:!o.state.showResults})},o.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),o.setState({showTeam:e}),!1},o.hideTeam=function(){o.setState({showTeam:null})},o.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},o.onDogClick=function(t,e,n){return t.preventDefault(),t.stopPropagation(),o.setState({showDog:e,dogs:n}),!1},o.hideDog=function(){o.setState({showDog:null})},o.setReplaySpeed=function(t){var e=t.target.closest("button").dataset.speed;o.setState({replaySpeed:parseFloat(e)})},o.filterByClass=function(t){return new Promise((function(e,n){var s,i,a,r,c,l,h,d,u=function(){try{return e()}catch(t){return n(t)}},b=function(t){try{return console.log(t),u()}catch(t){return n(t)}};try{if(s=t.target.closest("button").dataset.id,(o.state.replayHistory||o.props.showDrawerReplay)&&o.toggleReplayHistory(),a=(i=o.props.stores).appState,(r=i.raceStore).cleanupMemoryClass(),a.toggleSelectedClassId(s,!0),l=a.focusOnMushers,h=(c=r.race).classes.filter((function(t){return t.id===s})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),d=c.classes.filter((function(t){return t.id===s})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat(),o.setState({allTeamIds:h,bibs:d}),h.length>0)return Promise.resolve(r.loadTeams(h.join(","))).then(function(){try{return p.call(this)}catch(t){return b(t)}}.bind(this),b);function p(){function t(){return u()}return c.liveRace>0?Promise.resolve(o.loadLiveRaceResults(o.props,{teamIds:h,focusOnMushers:l,bibs:d,classid:s})).then(function(){try{return t.call(this)}catch(t){return b(t)}}.bind(this),b):Promise.resolve(o.loadRaceResults(o.props,h,l)).then(function(){try{return t.call(this)}catch(t){return b(t)}}.bind(this),b)}return p.call(this)}catch(t){b(t)}}))},o.toggleFocusOnMusher=function(t){try{var e=o.props.stores,n=e.appState,s=e.raceStore;n.toggleFocusOnMusher(t.target.parentElement.dataset.musherid||t.target.dataset.musherid);var i=n.focusOnMushers,a=void 0===i?[]:i,r=n.selectedClassIds,c=(void 0===r?[]:r)[0],l=s.race,h=l.classes.filter((function(t){return t.id===c})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat();l.liveRace>0?s.getRaceTrackerActiveTeams(null,a,h):s.getWorkoutSummaryActiveTeams(null,a,h)}catch(t){console.log(t)}},o.toggleBib=function(){try{var t=o.props.stores,e=t.appState,n=t.raceStore.getMusherByBibId(o.state.bib);e.toggleFocusOnMusher(n.id)}catch(t){console.log(t)}},o.checkForEnter=function(t){"Enter"===t.key&&o.toggleBib()},o.toggleReplayHistory=function(){var t=o.state.replayHistory;clearTimeout(o.updateTimer.reload),o.setState({showDrawer:!1,historyPointIndex:0,replayHistory:!t,timerRunning:t},(function(){return new Promise((function(t,e){return Promise.resolve(o.loadRace()).then((function(){try{return o.props.stores.raceStore.updateWaypointPosition(Math.abs(o.state.historyPointIndex)),t()}catch(t){return e(t)}}),e)}))}))},o.toggleLines=function(){o.setState({showLines:!o.state.showLines})},o.state=s(s({},T),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3),historyPointIndex:0,timerRunning:!0,replayHistory:!1,replaySpeed:1}),o.updateTimer={},o}a(o,e);var n=o.prototype;return n.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.history),clearTimeout(this.updateTimer.tick)},n.componentDidMount=function(){this.loadRace();try{var t={width:(e=window).innerWidth,height:e.innerHeight};t.width<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))}catch(t){console.log(t)}var e},n.componentWillReceiveProps=function(t){this.props.classid===t.classid&&this.props.showDrawerReplay===t.showDrawerReplay||this.loadRace(t)},n.render=function(){var e=this,o=this.state,n=o.historyPointIndex,s=o.timerRunning,i=o.playingHistory,a=o.replaySpeed,r=o.raceTrackerPointTimestamp,c=o.showLines,l=o.allTeamIds,h=this.props.stores,b=h.userStore,p=h.raceStore,g=h.appState,m=b.isAdmin,v=this.props,O=v.raceid,I=v.showHeader,T=void 0===I||I,D=v.drawerClassNames,P=v.drawerWidth,_=v.showDrawerReplay,R=g.focusOnMushers,M=void 0===R?[]:R,F=g.selectedClassIds,B=void 0===F?[]:F,L=this.state,N=L.reloadLastEpoch,E=L.showDrawer,H=L.wpData,W=void 0===H?{}:H,q=L.showResults,Z=L.showTeam,Y=L.showDog,V=L.replayHistory,J=p.waypoints,G=p.geoJSONs,K=p.zoomToMarkers,X=p.race,Q=p.maxPoints,$=W.bib?p.getMusherByBibId(W.bib):p.getMusherByBibEmail(W.email),tt=p.getTeamById($.team),et=p.getClassById(B[0])||{};return Object(d.h)(t,null,Z&&Object(d.h)(j.a,null,Object(d.h)(k.default,{stores:this.props.stores,teamid:Z,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),Y&&Object(d.h)(j.a,null,Object(d.h)(S.default,{stores:this.props.stores,dogid:Y,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:tt.dogs})),T&&Object(d.h)(y.a,{height:z},Object(d.h)("div",{class:"d-flex justify-content-between align-items-center w-100"},Object(d.h)("div",{class:"d-flex align-items-center"},Object(d.h)("span",{class:"",style:"font-size: 2.3em;"},Object(d.h)("a",{href:"/app-races/"+X.id+"/results"},Object(d.h)("i",{class:"fas fa-angle-left"}))),Object(d.h)("span",{class:"ml-4 text-primary",style:"font-size: 1.4em;",onClick:this.toggleResults},Object(d.h)("i",{class:"fas fa-list-ol"})),Object(d.h)("span",{class:"ml-4 text-primary",style:"font-size: 1.4em;"},Object(d.h)("a",{href:"/app-races/"+X.id+"/results"},Object(d.h)("i",{class:"fas fa-stopwatch"})))),Object(d.h)("div",null,Object(d.h)("a",{href:"/app-races/"+X.id+"/results"},Object(d.h)("span",{class:"font-weight-normal text-white",style:"font-size: 1.2em;"},X.title))),X.liveRace>0?Object(d.h)(t,null,Object(d.h)("div",{class:"d-flex align-items-center text-primary",onClick:this.toggleReplayHistory},Object(d.h)("span",{class:""},"Replay"),Object(d.h)("span",{class:"ml-2",style:"font-size: 1.4em;"},Object(d.h)("i",{class:"fas fa-play"})))):Object(d.h)(t,null,Object(d.h)("div",{class:"d-flex align-items-center"}," "))),Object(d.h)("div",{class:"w-100 overflow-hidden"},Object(d.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},X.classes&&X.classes.sort((function(t,e){return t.distance-e.distance})).map((function(o,n){return Object(d.h)(t,null,Object(d.h)("div",{class:"col px-0 pt-0"},Object(d.h)("button",{type:"button",class:"btn btn-block "+(0===n&&"rounded-pill-left")+" "+(n===X.classes.length-1&&"rounded-pill-right")+" rounded-none "+(B.indexOf(o.id)>-1?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.filterByClass,"data-id":o.id},o.title)))}))))),Object(d.h)("div",{class:"container-fluid position-relative p-0 w-100 h-100",style:"margin-top: "+(T?z:0)+";"},X.id?Object(d.h)(t,null,Object(d.h)(f.a,{marginTop:z,stores:this.props.stores,raceid:O,waypoints:J,geoJSONs:c?G:null,waypoints2:et.waypoints,zoomToMarkers:K,fullscreenMap:!0,onMarkerClick:this.onMarkerClick,showHeatmap:X.liveRace<1,allTeamIds:l,showTracks:X.liveRace>=1,selectedClassIds:B,showDistanceMarkers:!1,groupWaypoints:!1,focusOnMushers:M})):Object(d.h)(t,null,Object(d.h)(x.a,{stores:this.props.stores})),s&&Object(d.h)("div",{class:"position-absolute",style:"top: 125px; left: 5px; z-index: 9999; width: 30px; height: 30px;"},Object(d.h)(A,{stores:this.props.stores,classNames:"float-right ml-2",reloadLastEpoch:N})),M&&M.length>0&&Object(d.h)(t,null,Object(d.h)("div",{class:"row mb-2",style:' background-color: #1C1F4C; background-image: url("https://themusher.app/assets/tv-single-background.jpg"); background-size: cover !important; background-position: 0 0; border-radius: 10px; '},Object(d.h)("div",{class:"col-12 text-white",style:"font-size: 1.3em;"},M&&M.map((function(o){var n=p.getMusherById(o);return Object(d.h)(t,null,Object(d.h)("div",null,Object(d.h)("nobr",null,Object(d.h)("span",{class:"mr-2",onClick:e.toggleFocusOnMusher,"data-musherid":n.id},M.indexOf(n.id)>-1?Object(d.h)("i",{class:"fas fa-times text-warning"}):Object(d.h)("i",{class:"far fa-star"})),Object(d.h)("span",{class:"text-right",style:"width: 50px; display: inline-block;"},n.bib)," ",n.flag," ",n.firstname," ",n.lastname,Object(d.h)("br",null))))}))))),(_||V)&&Object(d.h)(t,null,Object(d.h)(w.a,{stores:this.props.stores,onCloseClick:this.toggleReplayHistory,classNames:D,width:P},Q>0?Object(d.h)(t,null,Object(d.h)("div",{class:"d-flex justify-content-center mx-3"},i?Object(d.h)(t,null,Object(d.h)("div",{class:"pl-1"},Object(d.h)("button",{class:"btn btn-warning",onClick:this.pauseHistory},Object(d.h)("i",{class:"fas fa-pause"})))):Object(d.h)(t,null,Object(d.h)("div",{class:"pl-1"},Object(d.h)("button",{class:"btn btn-success",onClick:this.playHistory},Object(d.h)("i",{class:"fas fa-play"})))),Object(d.h)("div",{class:"pl-2 pt-2 flex-grow-1"},Object(d.h)("input",{type:"range",class:"custom-range w-100",min:0,max:Q,value:n,onInput:this.handleHistoryPointIndex}))),Object(d.h)("div",{class:"d-flex justify-content-center"},Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+(1===a?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":1},"60x")),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-none "+(.5===a?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.5},"120x")),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-none "+(.25===a?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.25},"240x")),Object(d.h)("div",{class:"col px-0 pt-2"},Object(d.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+(.12===a?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.12},"480x"))),Object(d.h)("div",{class:"d-flex justify-content-center"},Object(d.h)("div",{class:"flex-grow-1 pt-0 font-weight-bolder text-white text-center",style:"font-size: 1.1em;"},r&&Object(d.h)(t,null,u.a.formatDate(u.a.parseInputDate(r),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),m&&Object(d.h)(t,null,"/ ",n)),m&&Object(d.h)(t,null,Object(d.h)("button",{class:"btn btn-danger mt-2 mr-4 rounded-pill-both rounded-none",onClick:this.toggleLines},Object(d.h)("i",{class:"fas fa-wave-square"})," Show lines")))):Object(d.h)(t,null,Object(d.h)("div",{class:"spinner-border text-primary",role:"status"},Object(d.h)("span",{class:"sr-only"},"Loading..."))))),q?Object(d.h)(t,null,Object(d.h)(w.a,{stores:this.props.stores,onCloseClick:this.toggleResults,classNames:D,width:P},Object(d.h)(C,{stores:this.props.stores,raceClass:et,race:X,onMarkerClick:this.onMarkerClick}))):Object(d.h)(t,null,E&&Object(d.h)(t,null,Object(d.h)(w.a,{stores:this.props.stores,onCloseClick:this.toggleDrawer,classNames:D,width:P},Object(d.h)(U,{stores:this.props.stores,wpData:W,onMarkerClick:this.onMarkerClick,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))))))},o}(d.Component))||h;e.a=D}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=31.chunk.01899.js.map