(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"/DnB":function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,i=s("hosL"),n=(s("Utv1"),s("/eY4"));const c={};let l=Object(n.a)(r=class extends i.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},c),this.container=null}componentDidMount(){const{horizontal:t,vertical:e=""}=this.props,s={behavior:"smooth"};t&&(s.inline=t),e&&(s.block=e),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:t=>this.container=t}," ")}})||r;e.a=l},"4imK":function(t,e,s){"use strict";(function(t){var o,a=s("hosL"),r=s("Utv1"),i=s("/eY4"),n=s("OhSV"),c=s("nHdA"),l=s("irB3"),h=(s("UwwE"),s("8Lgr"));s("QkTp");let d=Object(i.a)(o=class extends a.Component{constructor(...t){var e;super(...t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.ignoreGarminWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{garminActivityDetailsStore:o}=e.props.stores;await o.ignoreWorkout(s),e.loadGarminActivities()},this.importGarminWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{asTrack:o}=e.props,{garminActivityDetailsStore:a,workoutStore:r}=e.props.stores,{currentTeam:i}=r;o?await a.importTrack(s,i):await a.importWorkout(s,i),e.loadGarminActivities(),e.loadWorkouts()},this.loadWorkouts=async function(){const{workoutStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s}})},this.toggleDetail=()=>{const{showDetail:t=!1}=this.state;this.setState({showDetail:!t})}}async loadGarminActivities(){const{garminActivityDetailsStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentDidMount(){this.loadGarminActivities()}render(){const{showDate:e,showDetail:s=!1}=this.state,{activities:o=[],showDate:i,asTrack:d=!1}=this.props,{userStore:b,workoutStore:u}=this.props.stores,{currentTeam:m}=u,{team:p}=b,g=b.findTeam(m||p.id);return s?Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mb-3"},Object(a.h)("div",{class:"row"},o&&o.length>0&&Object(a.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(a.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(a.h)("i",{class:"fas fa-caret-up"})," ",Object(a.h)(n.c,{id:"garmin.hide-list"},"Hide list")),Object(a.h)("h5",null,Object(a.h)(n.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",o.length),o&&o.map(s=>{const{summary:o={}}=s,b=r.a.parseInputDate(o.startTimeInSeconds);return Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/garmin-connect.png"); border-width: 3px !important;'}," "),Object(a.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},o.deviceName),o.activityType,Object(a.h)("br",null),Object(a.h)("small",{class:"text-muted"},b&&Object(a.h)("small",{onClick:this.toggleDate},i||e?r.a.formatDate(b,{locale:"no-NB"}):r.a.formatDistance(b,new Date,{locale:"no-NB"})),Object(a.h)("span",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-road ml-2"})," ",Object(a.h)(h.a,{stores:this.props.stores,value:o.distanceInMeters/1e3}),Object(a.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(a.h)(l.a,{stores:this.props.stores,value:o.totalElevationGainInMeters}),Object(a.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(a.h)(c.a,{stores:this.props.stores,value:3.6*o.averageSpeedInMetersPerSecond}),Object(a.h)("i",{class:"fas fa-stopwatch ml-2"})," ",r.a.secToHms(o.durationInSeconds))),Object(a.h)("br",null),Object(a.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:this.importGarminWorkout,"data-id":s.id},Object(a.h)("i",{class:"fas fa-file-import"})," ",d?Object(a.h)(n.c,{id:"garmin.import-track"},"Import as track"):Object(a.h)(t,null,Object(a.h)(n.c,{id:"garmin.import"},"Import workout")," ",Object(a.h)("i",{class:"fas fa-arrow-right"})," ",g)),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:this.ignoreGarminWorkout,"data-id":s.id},Object(a.h)("i",{class:"fas fa-trash-alt"})," ",Object(a.h)(n.c,{id:"garmin.ignore"},"Ignore workout")))))}),Object(a.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(a.h)("i",{class:"fas fa-caret-up"})," ",Object(a.h)(n.c,{id:"garmin.hide-list"},"Hide list")))))):o&&o.length>0?Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mb-3"},Object(a.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(a.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),Object(a.h)(n.c,{id:"workout.index.garmin-workouts"},"Garmin workouts / not imported")," ",o.length))):Object(a.h)(t,null)}})||o;e.a=d}).call(this,s("hosL").Fragment)},"JWe/":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function n(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var c,l=s("hosL"),h=s("Utv1"),d=s("/eY4"),b=s("cneo"),u=s("OhSV"),m=s("fh8t"),p=s.n(m),g=(s("UJvz"),s("sqi2")),f=s("/922"),O=s("s4FZ"),j=s("ZQlJ"),v=s("q/oJ"),w=s("gWxU"),k=s("Nanz"),y=s("+JSK"),x=s("vY+r"),S=s("nHdA"),D=s("irB3"),I=s("UwwE"),C=s("8Lgr"),T=s("QkTp"),L=s("ZOvn");const P=L.a.getMaxLoadIndex(),A={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let W=Object(d.a)(c=class extends l.Component{constructor(t){var e;super(t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.likeWorkout=async function(){const{workoutStore:t}=e.props.stores,{workout:s}=e.props,o=s.id,{likeWorkout:a}=e.state;a[o]=!0,e.setState({likeWorkout:a}),setTimeout(()=>{const{likeWorkout:t}=e.state;delete t[o],e.setState({likeWorkout:t})},1200);await t.likeWorkout({id:o})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.viewImage=t=>{const{id:e,idx:s}=t.target.closest("img").dataset,{viewImageIdx:o}=this.state;o[e]=s,this.setState({viewImageIdx:o})},this.shareLink=t=>{const{url:e,title:s,text:o}=t.target.closest("button").dataset,{appState:a}=this.props.stores;a.shareUrl({url:e,title:s,text:o})},this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=a({},A),this.updateTimer={},this.inputRef={}}render(){const{showDate:e,showAddComment:s,viewImageIdx:o={},likeWorkout:r,dogs:c,showTeam:d,showDog:m}=this.state,{workout:A,showDate:W,wrapperClasses:R="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:M="row"}=this.props,{userStore:N,appState:U,workoutStore:E}=this.props.stores,{viewmode:B,hasShareApi:$}=U,{user:H,dogs:G}=N,{language:q="en"}=H,z=N.findIntensity({code:A.intensity,language:q})||{},V=N.findTeam(A.team,!0)||{},Y=V.name,F=[];Y&&F.push(Y),A.teams&&A.teams.forEach(t=>{N.findTeam(t)&&F.push(N.findTeam(t))});const{likes:J=[],comments:_=[]}=A,K=A.likes&&A.likes.findIndex(t=>t.user===H.id)>-1,{gpxInfo:Q={},mushers:Z=[]}=A,{loadIndex:X=0}=Q,tt=N.findEquipment({equipment:A.equipment,language:q}),et=N.findEquipment({equipment:A.equipment,field:"icon"}),st=[];Z.length>1&&Z.slice(1,10).map(t=>{const e=E.findPublicUser(t)||{};e.images&&e.images[0]&&st.push(e.images[0])});const ot=E.findPublicUser(Z[0])||{};let at;ot&&ot.images&&ot.images[0]?at=ot.images[0]:V.image&&V.image.s3SmallLink?at=V.image:V.images&&V.images[0]&&V.images[0].s3SmallLink?at=V.images[0]:A.image&&A.image.s3SmallLink&&(at=A.image);const rt=[];if(A.mapImage&&rt.push(a(a({},A.mapImage),{},{type:"map"})),A.images){const t=Object(b.i)(A.images);rt.push(...t)}let it;A&&A.gpxInfo&&A.gpxInfo.battegryLevelStart&&(it=100*(A.gpxInfo.battegryLevelStart-A.gpxInfo.battegryLevelEnd));const nt=L.a.getViews(A.statistics);return Object(l.h)(t,null,d&&Object(l.h)(v.a,null,Object(l.h)(w.default,{stores:this.props.stores,teamid:d,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),m&&Object(l.h)(v.a,null,Object(l.h)(k.default,{stores:this.props.stores,dogid:m,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:c})),Object(l.h)("div",{class:"w-100 mb-2"},Object(l.h)("div",{class:M},Object(l.h)("div",{class:R+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+i(A),style:(at?`background-image: url("${at.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!at&&Object(l.h)("i",{class:`${n(A)} text-${z.class?z.class:"muted"} mt-3`,style:"font-size: 40px;"}),st&&st.map((e,s)=>Object(l.h)(t,null,Object(l.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${e.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==A.temperature&&Object(l.h)(t,null,Object(l.h)("span",{class:"text-muted font-weight-light"},Object(l.h)(T.a,{stores:this.props.stores,value:A.temperature})))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("span",{class:"float-right"},1===A.isLocked&&Object(l.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===A.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===A.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(l.h)("a",{class:"stretched-link",href:"/workouts/"+A.id},Object(l.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},A.name)),F&&F.length>0&&Object(l.h)("small",{class:"font-weight-lighter"},F.map((e,s)=>Object(l.h)(t,null,s>0?", ":"",e))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},A.date&&Object(l.h)("small",{onClick:this.toggleDate},W||e?h.a.formatDate(A.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance(A.date,new Date,{locale:"no-NB"})),Object(l.h)("span",{class:`badge badge-${z.class} ml-2`},z.name),X>0&&Object(l.h)("span",{class:"ml-2 text-"+L.a.getLoadIndexColor(h.a.normalizeBetween(X,0,P,0,100))},Object(l.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(h.a.normalizeBetween(X,0,P,0,100))," - ",L.a.getLoadIndexText(h.a.normalizeBetween(X,0,P,0,100))),Object(l.h)("br",null)),Object(l.h)("small",null,Object(l.h)("div",{class:"text-muted"},A.garminId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),A.stravaId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),A.equipment>0&&Object(l.h)(t,null,Object(l.h)("i",{class:et+" ml-2"})," ",tt),A.dogs>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",A.dogs.length),A.track>0&&Object(l.h)(t,null,Object(l.h)("i",{class:`fas fa-map-marked text-${A.track>0?"success":"danger"} ml-2`})),A.dogsLeft>0&&Object(l.h)(t,null,Object(l.h)("i",{class:`fas fa-crosshairs text-${A.dogsLeft&&A.dogsRight?"success":"danger"} ml-2`})),A.sledWeight>0&&Object(l.h)(t,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(l.h)(I.a,{stores:this.props.stores,value:A.sledWeight})),it>0&&Object(l.h)("span",{class:"text-muted ml-2"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",h.a.format(it,1),"% ",Object(l.h)(u.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(B)>-1&&Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-balance-scale"})," ",h.a.format(A.kcalBurnedTotal)," ",Object(l.h)(u.c,{id:"workout.kcal"},"kcal"),Object(l.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(l.h)(I.a,{stores:this.props.stores,value:A.kcalMeatGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-fish ml-2"})," ",Object(l.h)(I.a,{stores:this.props.stores,value:A.kcalSalmonGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(l.h)(I.a,{stores:this.props.stores,value:A.kcalFatGramsTotal/1e3}))))),Object(l.h)("div",{class:R+" position-relative mt-2"},Object(l.h)("strong",null,A.description)),Object(l.h)("div",{class:R+" position-relative"},Object(l.h)(p.a,{markdown:L.a.replaceImages(A.comment,A.images,q),markdownOpts:L.a.getMarkdownOptions()})),Object(l.h)("div",{class:R+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row mt-1"},A.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(u.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(C.a,{stores:this.props.stores,value:A.distanceKm}))),A.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(u.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(D.a,{stores:this.props.stores,value:A.elevation}))),A.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(u.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},h.a.secToHms(A.duration,!0))),A.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(u.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},A.gpxInfo&&A.gpxInfo.avgGpsMovingSpeed>0?Object(l.h)(t,null,Object(l.h)(S.a,{stores:this.props.stores,value:3.6*A.gpxInfo.avgGpsMovingSpeed})):Object(l.h)(t,null,Object(l.h)(S.a,{stores:this.props.stores,value:A.speedAvg}))))))),["beta","advanced","normal"].indexOf(B)>-1&&Object(l.h)("div",{class:""+R},Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row"},Object(l.h)(O.a,{stores:this.props.stores,images:rt,id:A.id,dblClick:this.likeWorkout,likeRef:r})))),["beta","advanced","normal"].indexOf(B)>-1&&Object(l.h)(t,null,A.dogs&&A.dogs.length>0&&Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row pt-2"},Object(l.h)(j.a,{stores:this.props.stores,dogs:A.dogs,allDogs:G,onDogClick:this.onDogClick}))),Object(l.h)("div",{class:"mt-2"},Object(l.h)(y.a,{stores:this.props.stores,likes:J,comments:_,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(B)>-1&&Object(l.h)(t,null,Object(l.h)("div",{class:R+" mb-0 position-relative mt-2"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:`btn btn-sm btn-outline-${K?"primary":"secondary"} btn-lg btn-block ${K?"text-primary":""}`,onClick:this.likeWorkout},Object(l.h)("i",{class:(K?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(u.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":A.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(u.c,{id:"comments.comment-add"},"Kommentar"))),$?Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+A.uuidv4,"data-title":"title: "+A.name},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(u.c,{id:"workout.share"},"Del")))):Object(l.h)(t,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+A.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(u.c,{id:"workout.share"},"Del")))))),Object(l.h)("div",{class:R+" mt-2 mb-3"},s&&Object(l.h)(f.a,{stores:this.props.stores,workout:A,inputRef:t=>this.inputRef[A.id]=t,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(l.h)(g.a,{stores:this.props.stores,workout:A,col:"10",offset:"2",compact:!0})),nt>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"mt-2"},Object(l.h)(x.a,{stores:this.props.stores,views:nt,object:A,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||c;e.a=W}).call(this,s("hosL").Fragment)},UJvz:function(t,e,s){"use strict";var o,a=s("hosL"),r=s("Utv1"),i=s("/eY4"),n=s("OhSV");let c=Object(i.a)(o=class extends a.Component{constructor(...t){super(...t),this.toggleDate=()=>{const{showDate:t}=this.state;this.setState({showDate:!t})},this.touchStart=t=>{t.stopPropagation(),this.setState({startY:t.touches[0].pageY})},this.touchEnd=t=>{t.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=t=>{t.stopPropagation();const{close:e}=this.props,{startY:s,refreshing:o}=this.state,a=t.touches[0].pageY;if(this.appContainer){const{scrollTop:t}=this.appContainer;0===t&&a>s+30&&!o&&e()}}}render(){const{showDate:t}=this.state,{image:e,imagexxl:s,close:o,thumb:i,name:c,title:l,date:h}=this.props;return Object(a.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(a.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:o},"X"),Object(a.h)("div",{class:"d-flex mb-2 px-2"},i&&Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:i?`background-image: url("${i}");`:""}," "),Object(a.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},c&&Object(a.h)("strong",{class:"mr-2"},c,":"),l,Object(a.h)("br",null),Object(a.h)("small",{class:"text-muted"},h&&Object(a.h)("small",{onClick:this.toggleDate},t?r.a.formatDate(h,{locale:"no-NB"}):r.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(a.h)("img",{src:e,class:"img-fluid align-middle mt-2 mb-2",onClick:o,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:t=>this.appContainer=t}),Object(a.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||e,download:s||e},Object(a.h)("i",{class:"fas fa-download"})," ",Object(a.h)(n.c,{id:"modal.download"},"Last ned bildet")))}})||o;e.a=c},ZQlJ:function(t,e,s){"use strict";var o,a=s("hosL"),r=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("NDEG"));let n=Object(r.a)(o=class extends a.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,o=e/s,a=Math.round(o),r=Math.abs(a-o);(Number.isInteger(o)||r<.1)&&this.setState({imageIdx:a})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,o=s.find(e=>e.id===t),a=s.find(t=>t.id===e);return o&&a&&o.name>a.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:o=(()=>{})}=this.props;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(r=>{const n=e.find(t=>t.id===r);return n?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(a.h)(i.a,{stores:this.props.stores,dog:n,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:o}))):""})))}})||o;e.a=n},bUJL:function(t,e,s){"use strict";(function(t){var o,a=s("hosL"),r=s("Utv1"),i=s("/eY4"),n=s("OhSV"),c=s("nHdA"),l=s("irB3"),h=(s("UwwE"),s("8Lgr"));s("QkTp");let d=Object(i.a)(o=class extends a.Component{constructor(...t){var e;super(...t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.ignoreStravaWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{stravaActivityStore:o}=e.props.stores;await o.ignoreWorkout(s),e.loadStravaActivities()},this.importStravaWorkout=async function(t){t.stopPropagation();const s=t.target.parentElement.dataset.id||t.target.dataset.id,{stravaActivityStore:o,workoutStore:a}=e.props.stores,{currentTeam:r}=a;await o.importWorkout(s,r),e.loadStravaActivities(),e.loadWorkouts()},this.loadWorkouts=async function(){const{workoutStore:t}=e.props.stores,{currentTeam:s}=t;await t.load({query:{team:s}})},this.toggleDetail=()=>{const{showDetail:t=!1}=this.state;this.setState({showDetail:!t})}}async loadStravaActivities(){const{stravaActivityStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentDidMount(){this.loadStravaActivities()}render(){const{showDate:e,showDetail:s=!1}=this.state,{activities:o,showDate:i}=this.props,{userStore:d,workoutStore:b}=this.props.stores,{currentTeam:u}=b,{team:m}=d,p=d.findTeam(u||m.id);return s?Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mb-3"},Object(a.h)("div",{class:"row"},o&&o.length>0&&Object(a.h)("div",{class:"col-12 border-top border-bottom pt-3 pb-3 my-2 bg-light"},Object(a.h)("button",{type:"button",class:"float-right btn btn-sm btn-link",onClick:this.toggleDetail},Object(a.h)("i",{class:"fas fa-caret-up"})," ",Object(a.h)(n.c,{id:"strava.hide-list"},"Hide list")),Object(a.h)("h5",null,Object(a.h)(n.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",o.length),o&&o.map(s=>{const{summary:o={}}=s;r.a.parseInputDate(o.startTimeInSeconds);return Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 d-flex mb-4 position-relative"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded",style:'background-image: url("./assets/strava-icon.png"); border-width: 3px !important;'}," "),Object(a.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(a.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},s.name),s.type,Object(a.h)("br",null),Object(a.h)("small",{class:"text-muted"},s.start_date&&Object(a.h)("small",{onClick:this.toggleDate},i||e?r.a.formatDate(s.start_date,{locale:"no-NB"}):r.a.formatDistance(s.start_date,new Date,{locale:"no-NB"})),Object(a.h)("span",{class:"text-muted"},Object(a.h)("i",{class:"fas fa-road ml-2"})," ",Object(a.h)(h.a,{stores:this.props.stores,value:s.distance/1e3}),Object(a.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(a.h)(l.a,{stores:this.props.stores,value:s.total_elevation_gain}),Object(a.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(a.h)(c.a,{stores:this.props.stores,value:3.6*s.average_speed}),Object(a.h)("i",{class:"fas fa-stopwatch ml-2"})," ",r.a.secToHms(s.elapsed_time))),Object(a.h)("br",null),Object(a.h)("button",{class:"btn btn-sm btn-block btn-primary",onClick:this.importStravaWorkout,"data-id":s.id},Object(a.h)("i",{class:"fas fa-file-import"})," ",Object(a.h)(n.c,{id:"strava.import"},"Import workout")," ",Object(a.h)("i",{class:"fas fa-arrow-right"})," ",p),Object(a.h)("button",{class:"btn btn-sm btn-link",onClick:this.ignoreStravaWorkout,"data-id":s.id},Object(a.h)("i",{class:"fas fa-trash-alt"})," ",Object(a.h)(n.c,{id:"strava.ignore"},"Ignore workout")))))}),Object(a.h)("button",{type:"button",class:"btn btn-block btn-primary mt-3",onClick:this.toggleDetail},Object(a.h)("i",{class:"fas fa-caret-up"})," ",Object(a.h)(n.c,{id:"strava.hide-list"},"Hide list")))))):o&&o.length>0?Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 mb-3"},Object(a.h)("button",{type:"button",class:"btn btn-block btn-outline-info",onClick:this.toggleDetail},Object(a.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),Object(a.h)(n.c,{id:"workout.index.strava-workouts"},"Strava workouts / not imported")," ",o.length))):Object(a.h)(t,null)}})||o;e.a=d}).call(this,s("hosL").Fragment)},fSHa:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,i=s("hosL"),n=(s("Utv1"),s("/eY4")),c=s("OhSV"),l=(s("go65"),s("ZOvn")),h=s("JWe/"),d=s("bUJL"),b=s("4imK"),u=s("pJjI"),m=s("yHBq");const p=l.a.marginTop(!0),g=l.a.marginBottom(),f=l.a.subMenuMarginTop(),O={isLoading:!1,offset:0,limit:5,sessionid:(new Date).getTime()},j=["id","type","user","team","title"];let v=Object(n.a)(r=class extends i.Component{constructor(e){var s;super(e),s=this,this.loadWorkouts=async function({limit:t,offset:e}){s.setState({isLoading:!0});const{workoutStore:o}=s.props.stores,{currentTeam:a}=o,r=e>0;await o.load({query:{team:a},limit:t,offset:e,addData:["publicTeams","publicUsers"]},r),s.setState({isLoading:!1})},this.changeTeam=()=>{const{limit:t}=this.state;this.loadWorkouts({limit:t,offset:0})},this.setLoadMore=()=>{const{workoutStore:t}=this.props.stores;t.setLoadMore(()=>{let{limit:t,offset:e}=this.state;e+=t,this.setState({offset:e}),this.loadWorkouts({limit:t,offset:e})})},this.unsetLoadMore=()=>{const{workoutStore:t}=this.props.stores;t.setLoadMore(()=>{})},this.loadDogs=async function(){const{dogStore:t}=s.props.stores,{currentTeam:e}=t;await t.load({query:{team:e},addData:["workoutSummary"]})},this.removeFilterText=()=>{this.setState({filterText:""})},this.renderContent=({obj:e})=>{const{appState:s}=this.props.stores;return Object(i.h)(t,null,Object(i.h)(h.a,{stores:this.props.stores,workout:e,showDate:!0,wrapperClasses:"w-100",wrapperClassesRow:""}))},this.setupIntersection=()=>{this.setState({handleIntersection:l.a.intersectionObserverCallback});const{workoutStore:t}=this.props.stores;this.scrollViewTimer=setInterval(()=>t.postScrollview(l.a.getIntersectionObserverHistory()),3e4)},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},O)}async loadTracks(){const{trackStore:t}=this.props.stores;await t.load()}async loadWorkoutSummary(){const{userStore:t,workoutStore:e}=this.props.stores,{currentTeam:s}=e;await t.getWorkoutSummary({team:s})}async loadStravaActivities(){const{stravaActivityStore:t}=this.props.stores;t.load({query:{hideImported:1}})}async loadGarminActivities(){const{garminActivityDetailsStore:t}=this.props.stores;t.load({query:{hideImported:1}})}componentWillMount(){this.setupIntersection()}componentWillUnmount(){const{workoutStore:t}=this.props.stores;t.postScrollview(l.a.getIntersectionObserverHistory()),clearInterval(this.scrollViewTimer),this.unsetLoadMore(),t.cleanupMemory()}componentDidMount(){const{limit:t}=this.state;this.loadWorkouts({limit:t,offset:0}),this.loadDogs(),this.loadStravaActivities(),this.loadGarminActivities(),this.setLoadMore()}render(){const{scrolledDown:e}=this.props,{isLoading:s,filterText:o,handleIntersection:a,sessionid:r}=this.state,{trackStore:n,workoutStore:l,dogStore:h,appState:O,stravaActivityStore:v,garminActivityDetailsStore:w,userStore:k}=this.props.stores,{darkmode:y}=O,{message:x}=this.props,{workouts:S,currentTeam:D}=l,I=k.findTeam(D,!0);let C=()=>!0;o&&(C=t=>t.name.match(new RegExp(o,"i")));const T=S.filter(C),{tracks:L}=n,{dogs:P}=h,{user:A}=k,{stravaActivities:W=[]}=v,{garminActivityDetails:R=[]}=w;return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${g}; margin-top: ${p};`},Object(i.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:f}; background-color: ${y?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/workouts/",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(c.c,{id:"workout.index.dashboard"},"Oversikt")))),Object(i.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(i.h)("a",{href:"/workouts/list",class:"text-primary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-list"})," ",Object(i.h)(c.c,{id:"workout.index.list"},"Liste")))),Object(i.h)("div",{class:"col text-center subtopmenu"},Object(i.h)("a",{href:"/workouts/plan",class:"text-secondary stretched-link"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-calendar-alt"})," ",Object(i.h)(c.c,{id:"workout.index.plan"},"Plan"))))),x&&Object(i.h)("div",{class:"alert alert-success mb-3",role:"alert"},Object(i.h)("i",{class:"fas fa-check"})," ",x),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(i.h)(u.a,{stores:this.props.stores,callback:this.changeTeam,key:"teams-"+D})),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-2"},Object(i.h)("a",{class:"btn btn-primary btn-sm float-right",href:"/workouts/edit/new"},Object(i.h)("i",{class:"fas fa-plus"})," ",Object(i.h)(c.c,{id:"workout.index.add-workout"},"Legg til treningstur"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-3"},Object(i.h)("div",{class:"row mt-3"},A&&A.strava&&Object(i.h)(t,null,Object(i.h)(d.a,{stores:this.props.stores,activities:W,key:`strava-${D}-${W.length}`})),A&&A.garmin&&Object(i.h)(t,null,Object(i.h)(b.a,{stores:this.props.stores,activities:R,key:`garmin-${D}-${R.length}`})))),Object(i.h)("div",{class:"col-12"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("h5",null,I&&I.name&&Object(i.h)("div",null,Object(i.h)("small",{class:"font-weight-lighter"},"(",Object(i.h)(c.c,{id:"workout.index.filtered-by"},"Filtered by"),": ",I.name,")")))),!s&&S&&0===S.length&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 text-muted"},P&&0===P.length&&Object(i.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom"},Object(i.h)("div",{class:"display-4"},Object(i.h)("i",{class:"fas fa-dog"})),Object(i.h)("h5",null,Object(i.h)(c.c,{id:"workouts.no-dogs"},"Ingen hunder er registert.")),Object(i.h)(c.c,{id:"workouts.no-dogs-tip"},"Det er lurt å legge inn hunder før du registrerer en treningstur."),Object(i.h)("br",null),Object(i.h)("a",{class:"btn btn-info mt-3",href:"/dogs/edit/new"},Object(i.h)("i",{class:"fas fa-dog"})," ",Object(i.h)(c.c,{id:"workouts.add-dog"},"Legg til hund"))),L&&0===L.length&&Object(i.h)("div",{class:"mb-5 py-3 text-center border-top border-bottom"},Object(i.h)("div",{class:"display-4"},Object(i.h)("i",{class:"fas fa-map-marked"})),Object(i.h)("h5",null,Object(i.h)(c.c,{id:"workouts.no-tracks"},"Ingen runder er registert.")),Object(i.h)(c.c,{id:"workouts.no-tracks-tip-1"},"Det er lurt å legge inn runden før du registrerer en treningstur. Da får du automatisk fylt ut distanse og høydemeter."),Object(i.h)("br",null),Object(i.h)(c.c,{id:"workouts.no-tracks-tip-2"},"Dersom du ikke har GPX-filen fra denne runden, så kan du likevel registrere treningen."),Object(i.h)("br",null),Object(i.h)("a",{class:"btn btn-info mt-3",href:"/tracks/edit/new"},Object(i.h)("i",{class:"fas fa-map-marked"})," ",Object(i.h)(c.c,{id:"workouts.add-track"},"Legg til runde"))),Object(i.h)("div",{class:"text-center mb-5"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-running"})),Object(i.h)("h5",null,Object(i.h)(c.c,{id:"workouts.no-workouts"},"Ingen treningsturer er registrert ennå."))),Object(i.h)("p",{class:"text-center"},Object(i.h)("p",null,Object(i.h)(c.c,{id:"workouts.no-workouts-1"},"Tracking i appen er ikke helt klart ennå pga noen tekniske begrensninger i Apple iOS.")),Object(i.h)("p",null,Object(i.h)(c.c,{id:"workouts.no-workouts-2"},"Når jeg får tak i en Android telefon skal jeg får satt opp denne funksjonen slik at den kan brukes der."))),Object(i.h)("p",{class:"text-center"},Object(i.h)(c.c,{id:"workouts.no-workouts-3"},"Kart over ruten du har kjørt legges inn som GPX under runder.")),Object(i.h)(c.c,{id:"workouts.no-workouts-howto"},"Slik kommer du i gang"),":",Object(i.h)("ol",null,Object(i.h)("li",null,Object(i.h)(c.c,{id:"workouts.no-workouts-howto-1"},'Trykk på knappen "Legg til treningstur" oppe til høyre.')))),Object(i.h)(m.a,{data:T,wrapperClassNames:"row pb-4",contentClassNames:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${y?"black":"white"} shadow-sm`,renderContent:this.renderContent,dataFields:j,dataValues:{type:"11"},handleIntersection:a,sessionid:r}))))}})||r;e.default=v}.call(this,s("hosL").Fragment)},pJjI:function(t,e,s){"use strict";(function(t){var o,a=s("hosL"),r=s("Utv1"),i=s("/eY4"),n=s("OhSV");s("/DnB");let c=Object(i.a)(o=class extends a.Component{constructor(...t){super(...t),this.toggleTeam=t=>{const{callback:e,unsetTeamIfSelected:s=!0}=this.props,{dogStore:o,workoutStore:a}=this.props.stores,{currentTeam:i}=o;s&&t===i?(o.setCurrentTeam(void 0),a.setCurrentTeam(void 0)):(o.setCurrentTeam(t),a.setCurrentTeam(t)),r.a.isDefined(e)&&e()},this.showAllTeams=()=>{const{callback:t}=this.props,{dogStore:e,workoutStore:s}=this.props.stores;e.setCurrentTeam(void 0),s.setCurrentTeam(void 0),r.a.isDefined(t)&&t()}}render(){const{userStore:e,dogStore:s}=this.props.stores,{teams:o}=e,{currentTeam:r}=s,{highlight:i,showAll:c=!0}=this.props;return Object(a.h)("div",{class:"row mt-2"},Object(a.h)("div",{class:"w-100 overflow-hidden"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},o&&o.map((e,s)=>Object(a.h)("div",{class:"col mb-0 px-0 clearfix",key:e.id},Object(a.h)("button",{class:`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\trounded-none ${0===s?"rounded-pill-left":s+1===o.length?"rounded-pill-right":""}\n\t\t\t\t\t\t\t\t\t\t${r===e.id?"btn-success":"btn-outline-success"}\n\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`,style:"text-overflow: ellipsis; overflow: hidden;",onClick:()=>this.toggleTeam(e.id)},Object(a.h)("i",{class:"fas fa-users"})," ",e.name,i&&i.indexOf(e.id)>-1&&Object(a.h)(t,null,r===e.id?Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-check float-right"})):Object(a.h)(t,null,Object(a.h)("div",{class:"spinner-grow text-warning float-right",role:"status"},Object(a.h)("span",{class:"sr-only"},"Loading...")),Object(a.h)("i",{class:"far fa-hand-point-left float-right",style:"font-size: 2.0em;"}))))))),c&&Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 mb-1 px-1 d-flex justify-content-center"},Object(a.h)("button",{class:"btn btn-sm rounded-lg btn-link text-nowrap clearfix",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.showAllTeams},Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(n.c,{id:"teams.show-all"},"Show all"))))))}})||o;e.a=c}).call(this,s("hosL").Fragment)},yHBq:function(t,e,s){"use strict";(function(t){function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t}).apply(this,arguments)}var a,r,i=s("hosL"),n=s("/eY4"),c=s("Utv1");let l=Object(n.a)(a=class extends i.Component{constructor(t){super(t),this.state={},this.containerRef=null}componentWillUnmount(){const{removeIntersectionObserver:t}=this.props;t&&t(this.containerRef)}componentDidMount(){const{addIntersectionObserver:t}=this.props;t&&t(this.containerRef)}render(){const{wrapperClassNames:t="",contentClassNames:e="",renderContent:s,obj:a={},idx:r,dataFields:n,dataValues:c,sessionid:l}=this.props,h={};return l&&(h.sessionid=l),n.forEach(t=>h["data-"+t]=encodeURI(c[t]||a[t])),Object(i.h)("div",o({class:""+t,ref:t=>this.containerRef=t,"data-idx":r},h),Object(i.h)("div",{class:""+e,style:"display: block;"},s({obj:a,idx:r})))}})||a,h=Object(n.a)(r=class extends i.Component{constructor(t){super(t),this.deleteIntersectionObserver=()=>{this.intersectionObserver=null},this.handleIntersection=t=>{const{handleIntersection:e}=this.props;"function"==typeof e&&e(t),t.forEach(t=>{const{isIntersecting:e}=t,{height:s=0}=t.target.dataset,o=Math.max(t.target.childNodes[0].offsetHeight,t.target.offsetHeight,t.target.scrollHeight);e?(t.target.childNodes[0].style.display="block",t.target.style.minHeight=(o>s?o:s)+"px"):t.target.style.minHeight&&(t.target.style.minHeight=(o>s?o:s)+"px",t.target.childNodes[0].style.display="none")})},this.setupIntersectionObserver=()=>{if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"100px",threshold:.1})},this.addIntersectionObserver=t=>{this.intersectionObserver&&t&&this.intersectionObserver.observe(t)},this.removeIntersectionObserver=t=>{this.intersectionObserver&&t&&this.intersectionObserver.unobserve(t)},this.state={}}componentWillMount(){this.setupIntersectionObserver()}componentWillUnmount(){this.deleteIntersectionObserver()}render(){const{data:e=[],wrapperClassNames:s="row pb-4 bg-light",contentClassNames:o="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 shadow-sm",renderContent:a=(()=>Object(i.h)(t,null,"Missing render function!")),dataFields:r=[],dataValues:n={}}=this.props;return Object(i.h)("div",{class:"w-100"},e&&e.filter(t=>c.a.isObject(t)).map((e,c)=>{const h=e.hasOwnProperty("wrapperClassNames")?e.wrapperClassNames:s,d=e.hasOwnProperty("contentClassNames")?e.contentClassNames:o;return Object(i.h)(t,null,Object(i.h)(l,{key:`fastline-${c}-${e.id}`,obj:e,idx:c,addIntersectionObserver:this.addIntersectionObserver,removeIntersectionObserver:this.removeIntersectionObserver,wrapperClassNames:h,contentClassNames:d,renderContent:a,dataFields:r,dataValues:n}))}))}})||r;e.a=h}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=65.chunk.387d7.esm.js.map