(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+sdk":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.r(t);var r,c=s("hosL"),n=(s("Utv1"),s("/eY4")),l=s("OhSV"),i=s("ZOvn"),b=s("bMs3");const h=i.a.marginTop(!0),d=(i.a.marginTopBack(!1),i.a.marginBottom()),m=i.a.subMenuMarginTop(),u={isLoading:!1};let p=Object(n.a)(r=class extends c.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u)}async loadTeams(){this.setState({isLoading:!0});const{teamStore:e,userStore:t,messageStore:s}=this.props.stores;await e.load(void 0,!1,{addData:["workoutSummary","musherSummary"]}),await t.getNotifications(),await s.getUnReadMessages(),this.setState({isLoading:!1})}componentDidMount(){this.loadTeams()}render(){const{scrolledDown:e}=this.props,{teamStore:t,userStore:s,appState:a}=this.props.stores,{teams:o}=t,{darkmode:r}=a;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${d}; margin-top: ${h};`},Object(c.h)("div",{class:"row fixed-top",style:`margin-top: ${e>0?0:m}; background-color: ${r?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(c.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(c.h)("a",{href:"/teams/",class:"text-primary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(l.c,{id:"teams.your-teams"},"Your teams")))),Object(c.h)("div",{class:"col text-center subtopmenu"},Object(c.h)("a",{href:"/teams/connect",class:"text-secondary stretched-link"},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(l.c,{id:"teams.public-teams"},"Public teams"))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,Object(c.h)(l.c,{id:"teams.all-teams",fields:{total:o.length}},"Teamene dine - ",o.length," stk"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-2"},Object(c.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/teams/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(l.c,{id:"teams.add-new"},"Legg til team"))),o&&o.map(e=>Object(c.h)(b.a,{stores:this.props.stores,team:e})))))}})||r;t.default=p},bMs3:function(e,t,s){"use strict";var a,o=s("hosL"),r=s("Utv1"),c=s("/eY4"),n=s("OhSV"),l=s("nHdA"),i=s("irB3"),b=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));let d=Object(c.a)(a=class extends o.Component{constructor(...e){super(...e),this.requestFollowTeam=e=>{e.preventDefault(),e.stopPropagation();const{teamStore:t,userStore:s}=this.props.stores,{user:a}=s,o=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);t.followRequest(o,a),this.setState({requestSent:!0})},this.getButton=(e="")=>{const{requestSent:t}=this.state,{userStore:s}=this.props.stores,{user:a}=s,{team:r,skipHome:c}=this.props,l=r.members&&r.members.indexOf(a.id)>-1,i=r.followers&&r.followers.indexOf(a.id)>-1,b=r.blockedFollowers&&r.blockedFollowers.indexOf(a.id)>-1,h=t||r.followRequests&&r.followRequests.findIndex(e=>e.id===a.id)>-1;return l?c?"":Object(o.h)("i",{class:"fas fa-home"}):i?Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":r.id},Object(o.h)("i",{class:"fas fa-link mr-2"}),Object(o.h)(n.c,{id:"teams.connect.is-following"},"Følger")," ",e):b?"":h?Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",disabled:"true"},Object(o.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(o.h)(n.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",e):r.public?Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":r.id},Object(o.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(o.h)(n.c,{id:"teams.connect.follow"},"Følg")," ",e):void 0}}render(){const{team:e,showButton:t,publicUsers:s=[],showLocation:a,showMembers:c}=this.props,{teamStore:n,userStore:d}=this.props.stores,m=(new Date).getMonth()+1,u=(new Date).getFullYear(),{month:p=m,year:f=u}=this.props,O=parseInt(p<8?f-1:f,10),j=n.findWorkoutSummary(e.id,O)||{},{user:g}=d,{language:w="en"}=g,y=d.findTeamAmbition({ambition:e.ambitions,language:w}),v=d.findTeamType({type:e.type,language:w}),k=s.find(t=>t.id===e.user),S=h.a.displayName(k),x=h.a.getImage({user:k,team:e,priority:"user"}),{url:T="/teams/"+e.id}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"position-relative d-flex flex-grow-1"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:x?`background-image: url("${x}"); background-size: cover;`:""},!x&&Object(o.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(o.h)("a",{class:"stretched-link",href:T},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.name)),a&&Object(o.h)("div",null,(e.place||e.country)&&Object(o.h)("span",{class:"mr-3"},Object(o.h)("i",{class:"fas fa-map-marker-alt"}),"  ",e.place," ",e.place?", "+e.country:e.country)),c&&Object(o.h)("div",null,k&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-user"})," ",S)),Object(o.h)("div",null,v&&Object(o.h)("span",{class:"badge badge-pill badge-secondary"},v),y&&Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2"},y)),Object(o.h)("small",{class:"text-muted"},e&&e.dogs&&Object(o.h)("span",{class:""},Object(o.h)("i",{class:"fas fa-dog"})," ",e.dogs.length),e&&e.members&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-user"})," ",e.members.length),j&&j.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(b.a,{stores:this.props.stores,value:j.distanceKm})),j&&j.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(i.a,{stores:this.props.stores,value:j.elevation})),j&&j.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",r.a.secToHms(j.duration)),j&&j.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:j.speedAvg}))))),t&&Object(o.h)("div",null,this.getButton()))))}})||a;t.a=d}}]);
//# sourceMappingURL=route-teams.chunk.e0881.esm.js.map