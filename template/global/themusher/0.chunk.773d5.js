(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"5l0g":function(e,t,a){"use strict";(function(e){function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,n=a("hosL"),i=(a("Utv1"),a("/eY4")),o=(a("OhSV"),a("cneo"),a("HqZR")),l=(a("ZOvn"),{showAddComment:!1}),h=Object(i.a)(r=function(t){function a(e){var a;return(a=t.call(this,e)||this).state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l),a.updateTimer={},a.inputRef={},a}var r,i;i=t,(r=a).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var h=a.prototype;return h.loadHeatmap=function(){return new Promise(function(e,t){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.adminStore.getPublicHeatmap(this.props.raceid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},h.componentDidMount=function(){this.loadHeatmap()},h.render=function(){var t=this.props,a=t.waypoints,s=t.zoomToMarkers,c=t.mapid,r=t.fullscreenMap,i=this.props.stores.adminStore.publicHeatmap;return Object(n.h)(e,null,Object(n.h)(o.a,{stores:this.props.stores,mapId:i.length,heatmap:i,minZoom:2,maxZoom:18,height:600,waypoints:a,zoomToMarkers:s,fullscreenMap:r,key:"map-"+c}))},a}(n.Component))||r;t.a=h}).call(this,a("hosL").Fragment)},"67HY":function(e,t,a){"use strict";(function(e){var s,c=a("hosL"),r=a("Utv1"),n=a("/eY4"),i=a("Y3FI"),o=a("go65"),l=a("OhSV"),h=a("tJLP"),b=a("Cjoz"),d=(a("CE5K"),Object(n.a)(s=function(t){function a(e){var a;return(a=t.call(this,e)||this).handleEmailInput=function(e){return new Promise((function(t){var s=a.props.stores.userStore,c=e.target.value;return a.setState({email:c}),clearTimeout(a.checkEmailTimer),a.checkEmailTimer=setTimeout((function(){return s.checkEmail(c)}),1e3),t()}))},a.togglePassword=function(){var e=a.state.passwordType;a.setState({passwordType:e="password"===e?"text":"password"})},a.updateCapsLockStatus=function(e){a.setState({isCapsLock:e})},a.login=function(){return new Promise((function(e,t){var s,c,r,n,o,l;return c=void 0===(s=a.props.routeLoginOk)?"/":s,r=a.state,o=(n=a.props.stores).userStore,l=n.appState.language,!1,Promise.resolve(o.checkLogin({email:r.email,password:r.password,token:r.token,sendPubSubMessage:!1,language:void 0===l?"en":l})).then(function(a){try{if(a)return Promise.resolve(o.getInfo()).then(function(){try{return Object(i.route)(c),s.call(this)}catch(e){return t(e)}}.bind(this),t);function s(){return e()}return s.call(this)}catch(e){return t(e)}}.bind(this),t)}))},a.resetLoginMessages=function(){a.props.stores.userStore.resetLoginMessages()},a.newUser=function(){var e=a.state.email,t=a.props.routeLoginNew,s=void 0===t?"/register/"+(void 0===e?"":e):t;Object(i.route)(s)},a.forgotten=function(){var e=a.state.email,t=a.props.routeLoginForgot,s=void 0===t?"/forgotten/"+(void 0===e?"":e):t;Object(i.route)(s)},a.changeLanguage=function(e){a.props.stores.appState.setLanguage(e.target.value)},a.validateLoginToken=function(){return new Promise((function(e,t){var s,c,r,n,o;return s=a.props.stores.userStore,n=void 0===(r=(c=a.props).routeLoginOk)?"/":r,Promise.resolve(s.validateLoginToken(c.loginToken)).then(function(a){try{if((o=a)&&200===o.status)return Promise.resolve(s.getInfo()).then(function(){try{return Object(i.route)(n),c.call(this)}catch(e){return t(e)}}.bind(this),t);function c(){return e()}return c.call(this)}catch(e){return t(e)}}.bind(this),t)}))},a.state={showToken:!1,isCapsLock:!1,passwordType:"password",email:a.props.email},a}var s,n;n=t,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n;var d=a.prototype;return d.componentDidMount=function(){var e=this,t=this.props.stores.userStore;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout((function(){return t.checkEmail(e.props.email)}),1e3)),r.a.isString(this.props.loginToken)&&this.validateLoginToken()},d.render=function(){var t=this,a=this.state,s=a.isCapsLock,n=a.email,i=a.password,d=a.token,p=a.passwordType,u=this.props.stores,m=u.appState,g=u.userStore,O=m.darkmode,f=g.emailIsAvailable,j=g.login,v=g.twoFactorLogin,w=j.message,y=j.messageIcon,k=j.error,x=j.errorIcon,S=r.a.validateEmail(n),I=S&&i;return Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},Object(c.h)("div",{class:"d-flex justify-content-center"},O?Object(c.h)(e,null,Object(c.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"})):Object(c.h)(e,null,Object(c.h)("img",{src:"https://themusher.app/assets/logo-qpaws-light.png",height:"100"}))),Object(c.h)("div",{class:"d-flex justify-content-center"},Object(c.h)("h5",{class:"mt-1 mb-3"},Object(c.h)(l.c,{id:"login.login"},"Logg inn"))),Object(c.h)(h.a,{message:k,icon:x,remove:this.resetLoginMessages}),Object(c.h)(b.a,{message:w,icon:y,remove:this.resetLoginMessages}),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"emailInput"},Object(c.h)("i",{class:"far fa-envelope"})," ",Object(c.h)(l.c,{id:"login.email"},"E-post")),Object(c.h)("input",{type:"email",class:"form-control "+(n?S&&!f?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:n,onKeypress:function(e){r.a.isCapsLock(e,t.updateCapsLockStatus)}}),n&&S&&f&&Object(c.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(c.h)(l.c,{id:"login.email-not-found"},"E-posten finnes ikke, men du kan registrere deg 游땎")),n&&!S&&Object(c.h)("div",{class:"invalid-feedback",style:"display: block;"},Object(c.h)(l.c,{id:"login.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut. Kan det v칝re en skrivefeil?")),n&&S&&!f&&Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(l.c,{id:"login.email-looks-good"},"E-post ser bra ut."))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"passwordInput"},Object(c.h)("i",{class:"fas fa-key"})," ",Object(c.h)(l.c,{id:"login.password"},"Passord")),Object(c.h)("div",{class:"input-group"},Object(c.h)("input",{type:p,class:"form-control",id:"passwordInput",onInput:Object(o.a)(this,"password"),value:i,onKeypress:function(e){r.a.isCapsLock(e,t.updateCapsLockStatus)}}),Object(c.h)("div",{class:"input-group-append"},Object(c.h)("button",{class:"btn btn-outline-secondary",type:"button",onClick:this.togglePassword},Object(c.h)("i",{class:"fas fa-eye"+("text"===p?"-slash":"")}))))),s&&Object(c.h)("div",{class:"alert alert-danger",role:"alert"},Object(c.h)(l.c,{id:"login.caps-lock-on"},"CAPS LOCK er p친!")),v&&Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"tokenInput"},Object(c.h)("i",{class:"fas fa-unlock"})," ",Object(c.h)(l.c,{id:"login.2fa-token"},"2FA Token")),Object(c.h)("input",{type:"number",class:"form-control",id:"tokenInput",onInput:Object(o.a)(this,"token"),value:d})),Object(c.h)("button",{class:"btn "+(I?"btn-primary":"btn-outline-primary"),type:"button",onClick:this.login,disabled:!I},Object(c.h)("i",{class:"fas fa-sign-in-alt mr-2"}),Object(c.h)(l.c,{id:"login.login"},"Logg inn")),Object(c.h)("button",{class:"btn btn-outline-secondary float-right",type:"button",onClick:this.newUser},Object(c.h)("i",{class:"fas fa-plus mr-2"}),Object(c.h)(l.c,{id:"login.new-user"},"Ny bruker")),Object(c.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(c.h)("button",{class:"btn btn-small btn-link",onClick:this.forgotten},Object(c.h)(l.c,{id:"login.forgot-password"},"Glemt passordet?"))))))},a}(c.Component))||s);t.a=d}).call(this,a("hosL").Fragment)},"8gML":function(e,t,a){"use strict";(function(e){function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,n=a("hosL"),i=a("Utv1"),o=a("/eY4"),l=a("OhSV"),h=(a("go65"),a("RMlE"),a("5l0g"),a("ZOvn")),b=(h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:i.a.getJwtToken()}),d=Object(o.a)(r=function(t){function a(e){var a;return(a=t.call(this,e)||this).state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},b),a}var r,i;return i=t,(r=a).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,a.prototype.render=function(){var t=this.props,a=t.raceid,s=t.path,c=this.props.stores.appState.darkmode,r="default";return s.match(/\/race\/:raceid$/)?r="default":s.match(/\/race\/:raceid\/mushers$/)?r="mushers":s.match(/\/race\/:raceid\/results$/)?r="results":s.match(/\/race\/:raceid\/media$/)?r="media":s.match(/\/race\/:raceid\/tracking$/)&&(r="tracking"),Object(n.h)(e,null,Object(n.h)("div",{class:"row fixed-top pr-3",style:"margin-top: 40px; background-color: "+(c?"#191d21":"#f8f9fa")+";"},Object(n.h)("div",{class:"col-12 my-2 mx-2"},Object(n.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:"/race/"+a,class:"text-overflow nav-link "+("default"===r?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-info-circle"})," ",Object(n.h)(l.c,{id:"race.therace"},"L칮pet")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:"/race/"+a+"/mushers",class:"text-overflow nav-link "+("mushers"===r?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(l.c,{id:"race.mushers"},"Deltakere")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:"/race/"+a+"/results",class:"text-overflow nav-link "+("results"===r?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-poll"})," ",Object(n.h)(l.c,{id:"race.results"},"Resultater")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:"/race/"+a+"/media",class:"text-overflow nav-link "+("media"===r?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-images"})," ",Object(n.h)(l.c,{id:"race.media"},"Bilder")))),Object(n.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(n.h)("a",{href:"/race/"+a+"/tracking",class:"text-overflow nav-link "+("tracking"===r?"active":"")},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(n.h)(l.c,{id:"race.tracking"},"Tracking"))))))))},a}(n.Component))||r;t.a=d}).call(this,a("hosL").Fragment)},LMwI:function(e){e.exports={pointerCursor:"pointerCursor__1W6mM"}},RMlE:function(e,t,a){"use strict";function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,n=a("hosL"),i=a("ox/y"),o=(a("Utv1"),a("/eY4")),l=(a("go65"),a("Y3FI")),h=a("OhSV"),b=(a("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),d=Object(o.a)(r=function(e){function t(t){var a;return(a=e.call(this,t)||this).toggleDropdown=function(e){var t=a.state.menu,s=e.target.dataset.name;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.name),s&&(t[s]=!t[s]),a.setState({menu:t})},a.toggleDarkmode=function(e){a.props.stores.appState.toggleDarkmode(),a.toggleDropdown(e)},a.toggleViewmode=function(e){var t=e.target.dataset.mode;!t&&e.target.parentNode&&(t=e.target.parentNode.dataset.mode),a.props.stores.appState.toggleViewmode(t),a.toggleDropdown(e)},a.reloadApp=function(){window.location.reload(!0)},a.adminLoadAll=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.userStore.getInfo(!0)).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},a.changeLanguage=function(e){var t=e.target.value;console.log("changeLanguage",t);var s=a.props.stores,c=s.appState,r=s.userStore,n=r.user,i=void 0===n?{}:n;i.email&&r.setLanguage({email:i.email,language:t}),c.setLanguage(t)},a.search=function(){var e=a.state.searchText;Object(l.route)("/search/"+e)},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},b),a}var a,r;return r=e,(a=t).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,t.prototype.render=function(){var e=this.state,t=e.menu,a=this.props.stores,s=a.appState,c=a.userStore,r=s.darkmode,o=c.user,l=c.notifications,b=((void 0===l?[]:l).filter((function(e){return!e.read})),o.language),d=void 0===b?"en":b;return Object(n.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(n.h)("a",{class:"navbar-brand",href:"/race/"},Object(n.h)("img",{src:"./assets/homerun-race-logo-2-"+(r?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(n.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(n.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(n.h)("span",{class:"navbar-toggler-icon"})),Object(n.h)("div",{class:"collapse navbar-collapse "+(t.main?"show":""),id:"navbarSupportedContent"},Object(n.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(n.h)("li",{class:"nav-item"},Object(n.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(n.h)("i",{class:"fas fa-flag-checkered"})," ",Object(n.h)(h.c,{id:"header.races"},"L칮pene"))),Object(n.h)("li",{class:"nav-item"},Object(n.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(n.h)("i",{class:"far fa-question-circle"})," ",Object(n.h)(h.c,{id:"header.support"},"Support"))),Object(n.h)("li",{class:"nav-item"},Object(n.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(n.h)("i",{class:"fas fa-quote-right"})," ",Object(n.h)(h.c,{id:"header.news"},"Nyheter")))),Object(n.h)("ul",{class:"navbar-nav ml-auto "},Object(n.h)("li",{class:"nav-item mr-2"},Object(n.h)("div",{class:"form-row align-items-center"},Object(n.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(n.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(n.h)("option",{value:"no",selected:"no"===d},"游游 NO"),Object(n.h)("option",{value:"en",selected:"en"===d},"游섫릖 EN"),Object(n.h)("option",{value:"es",selected:"es"===d},"游쀯릖 ES"),Object(n.h)("option",{value:"de",selected:"de"===d},"游뾇릖 DE"),Object(n.h)("option",{value:"fr",selected:"fr"===d},"游游 FR"),Object(n.h)("option",{value:"ru",selected:"ru"===d},"游游 RU"),Object(n.h)("option",{value:"se",selected:"se"===d},"游젏릖 SE"))))),Object(n.h)("li",{class:"nav-item d-block d-lg-none"},Object(n.h)(i.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(n.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"})," ",Object(n.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(n.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(n.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(n.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"}))))))},t}(n.Component))||r;t.a=d},gs45:function(e,t,a){"use strict";(function(e){function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n,i=a("hosL"),o=a("Utv1"),l=a("/eY4"),h=a("OhSV"),b=a("67HY"),d=a("gbHB"),p=a("B+py"),u=a("ZOvn"),m={isLoading:!1,showSignup:!1},g=Object(l.a)(n=function(t){function a(e){var a;return(a=t.call(this,e)||this).signupToRace=function(){return new Promise((function(e,t){var s,r,n,i,o,l;return o=a.props.raceid,l=c({team:(n=(s=a.props.stores).userStore.user).team,firstname:n.firstname,lastname:n.lastname,sportsClub:n.sportsClub,email:n.email,cellphone:n.cellphone,facebook:n.facebook,instagram:n.instagram},i=(r=s.raceStore).newSignup),Promise.resolve(r.addContestant({id:o,classId:i.class,newContestant:l})).then((function(){try{return r.addSignup(l),a.toggleShowSignup(!1,!0),e()}catch(e){return t(e)}}),t)}))},a.updateSignup=function(e){a.props.stores.raceStore.updateObjectKeyValue("newSignup",e.target.id,e.target.value)},a.editSignup=function(e){var t,s=a.props.raceid,c=a.props.stores.raceStore,r=e.target.id,n=e.target.value,i=e.target.dataset,l=((t={raceClassId:i.classid,contestantId:i.contestantid})["raceClassContestant"+o.a.ucfirst(r)]=n,t);clearTimeout(a.updateTimer[r]),a.updateTimer[r]=setTimeout((function(){return new Promise((function(e){return c.editClass({id:s,data:l}),e()}))}),500)},a.toggleShowSignup=function(e,t){a.setState({showSignup:!t&&!a.state.showSignup})},a.state=c({},m),a.inputRef={},a.updateTimer={},a}var s,r;return r=t,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,a.prototype.render=function(){var t=this,a=this.state.showSignup,s=this.props.stores,c=s.appState,r=s.userStore,n=s.raceStore,l=r.user,m=void 0===l?{}:l,g=r.teams,O=void 0===g?[]:g,f=c.language,j=void 0===f?"en":f,v=this.props,w=v.raceid,y=v.subsection,k=n.race,x=n.signups,S=n.newSignup,I=new Date,P=x&&x.length>0,L=x.map((function(e){return parseInt(e.team,10)}))||[];return Object(i.h)(e,null,Object(i.h)("h2",{class:"mb-0"},Object(i.h)(h.c,{id:"races.signup"},"P친melding")," ",Object(i.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"}," - ",k.title)),Object(i.h)("div",{class:"mb-4"},k.signupStartDate&&Object(i.h)(e,null,Object(i.h)(h.c,{id:"races.periode"},"Periode"),": ",o.a.formatDate(k.signupStartDate,{locale:j,hour12:!1,hour:"2-digit",minute:"2-digit"})),k.signupEndDate&&Object(i.h)(e,null," - ",o.a.formatDate(k.signupEndDate,{locale:j,hour12:!1,hour:"2-digit",minute:"2-digit"}))),I>=new Date(k.signupStartDate)&&I<=new Date(k.signupEndDate)?Object(i.h)(e,null,m.email?Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(h.c,{id:"races.signed-in-as"},"Logget inn som"),":")," ",m.email,Object(i.h)("br",null),Object(i.h)("br",null),P&&x.map((function(a){var s={};return a.class&&(s=n.getRaceClassById(a.class)),Object(i.h)("div",{class:"mb-5 p-3 bg-light border rounded-lg"},Object(i.h)("div",{class:"font-weight-bold mb-4"},Object(i.h)("i",{class:"fas fa-check text-success"})," ",Object(i.h)(h.c,{id:"races.signed-up"},"Din bruker er p친meldt!"),Object(i.h)("br",null)),!k.liveRace&&k.signuppayment&&Object(i.h)(e,null,Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.signup"},"P친melding")),Object(i.h)("div",{class:"col-10"},a.paidSignupfee?Object(i.h)("div",{class:"py-2"},Object(i.h)(h.c,{id:"races.paid"},"Betalt"),": ",o.a.formatDate(a.paidSignupfee),Object(i.h)("i",{class:"fas fa-check text-success ml-3"})):Object(i.h)(e,null,Object(i.h)("div",{class:"alert alert-danger mb-1",role:"alert"},Object(i.h)("h5",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(h.c,{id:"races.payment-info"},"Betaling p친melding"),":")," ",u.a.replaceImages(k.signuppayment,k.images,j,!1),Object(i.h)("br",null),s.signupfee||k.signupfee," NOK")))))),Object(i.h)("div",{class:"clearfix mt-2"},Object(i.h)("span",{class:"font-weight-lighter float-right"},Object(i.h)(h.c,{id:"races.click-to-change"},"Klikk for 친 endre info i p친meldingen."))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"cellphone",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.cellphone"},"Mobil")),Object(i.h)("div",{class:"col-10"},Object(i.h)(h.b,null,Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"cellphone","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.cellphone,placeholder:Object(i.h)(h.c,{id:"races.cellphone-help"},"Hva er mobilnummer ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"firstname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.firstname"},"Fornavn")),Object(i.h)("div",{class:"col-10"},Object(i.h)(h.b,null,Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"firstname","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.firstname,placeholder:Object(i.h)(h.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"lastname",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.lastname"},"Etternavn")),Object(i.h)("div",{class:"col-10"},Object(i.h)(h.b,null,Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"lastname","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.lastname,placeholder:Object(i.h)(h.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"sportsClub",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.sportsclub"},"Klubb")),Object(i.h)("div",{class:"col-10"},Object(i.h)(h.b,null,Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"sportsClub","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.sportsClub,placeholder:Object(i.h)(h.c,{id:"races.sportsClub-help"},"Hvilken klubb tilh칮rer du?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"facebook",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.facebook"},"Facebook")),Object(i.h)("div",{class:"col-10"},Object(i.h)(h.b,null,Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"facebook","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.facebook,placeholder:Object(i.h)(h.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"instagram",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.instagram"},"Instagram")),Object(i.h)("div",{class:"col-10"},Object(i.h)(h.b,null,Object(i.h)("input",{type:"text",class:"form-control-plaintext",id:"instagram","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.instagram,placeholder:Object(i.h)(h.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?")})))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.team"},"Team")),Object(i.h)("div",{class:"col-10"},Object(i.h)("select",{class:"form-control-plaintext",id:"team","aria-describedby":"teamHelp","data-classid":a.class,"data-contestantid":a.id,onInput:t.editSignup,value:a.team},Object(i.h)("option",{value:""},"-- ",Object(i.h)(h.c,{id:"races.choose-team"},"Velg team")," --"),O.map((function(e){return Object(i.h)("option",{value:e.id,disabled:L.indexOf(e.id)>-1},e.name," ",L.indexOf(e.id)>-1&&e.id!==a.team?"(Already signed up!)":"")}))))),Object(i.h)("div",{class:"form-group row my-0"},Object(i.h)("label",{for:"team",class:"col-2 col-form-label text-right font-weight-lighter"},Object(i.h)(h.c,{id:"races.class"},"Klasse")),Object(i.h)("div",{class:"col-10"},Object(i.h)("select",{class:"form-control-plaintext",id:"class","aria-describedby":"classHelp",onInput:t.editSignup,value:a.class,disabled:!0},Object(i.h)("option",{value:""},"-- ",Object(i.h)(h.c,{id:"races.choose-class"},"Velg klasse")," --"),k.classes&&k.classes.sort((function(e,t){return e.distance-t.distance})).map((function(t){return Object(i.h)(e,null,Object(i.h)("option",{value:t.id},t.title,!k.liveRace&&Object(i.h)(e,null,"- ",t.distance," km - P친melding: ",t.signupfee||k.signupfee," NOK")))}))))))})),1===k.liveRace?Object(i.h)(e,null,"Signup is done at the race normal web pages."):Object(i.h)(e,null,P&&!a?Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm float-right btn-outline-info",onClick:this.toggleShowSignup},Object(i.h)(h.c,{id:"races.signup-another-team"},"Meld meg p친 i flere klasser"))):Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"cellphone"},Object(i.h)(h.c,{id:"races.cellphone"},"Mobil")),Object(i.h)("input",{type:"text",class:"form-control",id:"cellphone","aria-describedby":"cellphoneHelp",placeholder:m.cellphone,onInput:this.updateSignup,value:S.cellphone}),Object(i.h)("small",{id:"cellphoneHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.cellphone-help"},"'Hva er mobilnummer ditt?'"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"firstname"},Object(i.h)(h.c,{id:"races.firstname"},"Fornavn")),Object(i.h)("input",{type:"text",class:"form-control",id:"firstname","aria-describedby":"firstnameHelp",placeholder:m.firstname,onInput:this.updateSignup,value:S.firstname}),Object(i.h)("small",{id:"firstnameHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.firstname-help"},"Hva er fornavnet ditt?")))),Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"lastname"},Object(i.h)(h.c,{id:"races.lastname"},"Etternavn")),Object(i.h)("input",{type:"text",class:"form-control",id:"lastname","aria-describedby":"lastnameHelp",placeholder:m.lastname,onInput:this.updateSignup,value:S.lastname}),Object(i.h)("small",{id:"lastnameHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.lastname-help"},"Hva er etternavnet ditt?"))))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"sportsClub"},Object(i.h)(h.c,{id:"races.sportsclub"},"Klubb")),Object(i.h)("input",{type:"text",class:"form-control",id:"sportsClub","aria-describedby":"sportsClubHelp",placeholder:m.sportsClub,onInput:this.updateSignup,value:S.sportsClub}),Object(i.h)("small",{id:"sportsClubHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.sportsClub-help"},"Hvilken klubb tilh칮rer du?"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"facebook"},Object(i.h)(h.c,{id:"races.facebook"},"Facebook")),Object(i.h)("input",{type:"text",class:"form-control",id:"facebook","aria-describedby":"facebookHelp",placeholder:m.facebook,onInput:this.updateSignup,value:S.facebook}),Object(i.h)("small",{id:"facebookHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.facebook-help"},"Hva er Facebook brukernavnet ditt?")))),Object(i.h)("div",{class:"col"},Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"instagram"},Object(i.h)(h.c,{id:"races.instagram"},"Instagram")),Object(i.h)("input",{type:"text",class:"form-control",id:"instagram","aria-describedby":"instagramHelp",placeholder:m.instagram,onInput:this.updateSignup,value:S.instagram}),Object(i.h)("small",{id:"instagramHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.instagram-help"},"Hva er Instagram brukernavnet ditt?"))))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"team"},Object(i.h)(h.c,{id:"races.team"},"Team")),!O||0===O.length&&Object(i.h)(e,null,Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(h.c,{id:"races.no-teams"},"Du har ingen team i appen din enn친. G친 inn i appen for 친 registrer team og fors칮k igjen."))),Object(i.h)("select",{class:"form-control",id:"team","aria-describedby":"teamHelp",onInput:this.updateSignup,value:S.team},Object(i.h)("option",{value:""},"-- ",Object(i.h)(h.c,{id:"races.choose-team"},"Velg team")," --"),O.map((function(e){return Object(i.h)("option",{value:e.id,disabled:L.indexOf(e.id)>-1},e.name," ",L.indexOf(e.id)>-1?"(Already signed up!)":"")}))),Object(i.h)("small",{id:"teamHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.choose-team-help"},"Velg fra dine team"))),Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:"class"},Object(i.h)(h.c,{id:"races.class"},"Klasse")),Object(i.h)("select",{class:"form-control",id:"class","aria-describedby":"classHelp",onInput:this.updateSignup,value:S.class},Object(i.h)("option",{value:""},"-- ",Object(i.h)(h.c,{id:"races.choose-class"},"Velg klasse")," --"),k.classes&&k.classes.map((function(t){return Object(i.h)(e,null,Object(i.h)("option",{value:t.id},t.title," - ",t.distance," km - P친melding: ",t.signupfee||k.signupfee," NOK"))}))),Object(i.h)("small",{id:"classHelp",class:"form-text text-muted"},Object(i.h)(h.c,{id:"races.choose-class-help"},"Velg 칮nsket klasse."))),k.rules&&Object(i.h)("div",{class:"form-group form-check"},Object(i.h)("input",{type:"checkbox",class:"form-check-input",id:"termsAndAgreement",onInput:this.updateSignup,checked:S.termsAndAgreement,value:!0}),Object(i.h)("label",{class:"form-check-label",for:"termsAndAgreement"},Object(i.h)(h.c,{id:"races.agreement-accept"},"Jeg har lest og godtar reglene for l칮pet."))),k.declaration&&Object(i.h)("div",{class:"form-group form-check"},Object(i.h)("input",{type:"checkbox",class:"form-check-input",id:"declaration",onInput:this.updateSignup,checked:S.declaration,value:!0}),Object(i.h)("label",{class:"form-check-label",for:"declaration"},Object(i.h)(h.c,{id:"races.declaration-accept"},"Jeg signerer med dette egen칝rkl칝ringen."))),Object(i.h)("button",{type:"button",class:"btn btn-primary",onClick:this.signupToRace},Object(i.h)(h.c,{id:"races.do-signup"},"Meld meg p친")),P&&Object(i.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.toggleShowSignup},Object(i.h)(h.c,{id:"races.hide-signup"},"Avbryt"))))):Object(i.h)(e,null,!y&&Object(i.h)(b.a,{stores:this.props.stores,routeLoginOk:"/race/"+w+"/signup",routeLoginNew:"/race/"+w+"/signup/newUser",routeLoginForgot:"/race/"+w+"/signup/forgotPassword"}),"newUser"===y&&Object(i.h)(d.a,{stores:this.props.stores,routeLogin:"/race/"+w+"/signup",routeLoginForgot:"/race/"+w+"/signup/forgotPassword",skipPubSub:!0}),"forgotPassword"===y&&Object(i.h)(p.a,{stores:this.props.stores,routeLogin:"/race/"+w+"/signup",routeLoginNew:"/race/"+w+"/signup/newUser"}))):Object(i.h)(e,null,I<new Date(k.signupStartDate)?Object(i.h)(e,null,Object(i.h)("h5",{class:"mt-4"},Object(i.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(i.h)(h.c,{id:"races.signup-not-open-yet"},"P친meldingen har ikke 친pnet enn친!")),Object(i.h)("p",{class:"mt-4"},Object(i.h)(h.c,{id:"races.signup-opening"},"P친meldingen 친pner"),":",Object(i.h)("br",null),Object(i.h)("span",{class:"display-4"},o.a.formatDate(k.signupStartDate,{locale:j,hour12:!1,hour:"2-digit",minute:"2-digit"})))):Object(i.h)(e,null,Object(i.h)("h5",{class:"mt-4 mb-4"},Object(i.h)("i",{class:"fas fa-exclamation-circle"})," ",Object(i.h)(h.c,{id:"races.signup-closed"},"P친meldingen er stengt!")))))},a}(i.Component))||n;t.a=g}).call(this,a("hosL").Fragment)},"p/0L":function(e,t,a){"use strict";a.r(t),function(e){function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n,i=a("hosL"),o=a("QRet"),l=a("Utv1"),h=a("/eY4"),b=a("OhSV"),d=a("go65"),p=a("fh8t"),u=a.n(p),m=a("RMlE"),g=a("8gML"),O=a("gs45"),f=(a("67HY"),a("gbHB"),a("B+py"),a("Ysxg")),j=a("9lZG"),v=(a("aGZh"),a("om2D")),w=a("ZOvn"),y=w.a.marginTop(!0,!0),k=w.a.marginBottom(),x={isLoading:!1,email:"",submenu:"ads",jwtToken:l.a.getJwtToken(),newRaceArticle:{},newRaceUserImage:{}},S=Object(h.a)(n=function(t){function a(e){var a;return(a=t.call(this,e)||this).likeRace=function(){return new Promise((function(e,t){var s;return s=a.props.stores.raceStore,Promise.resolve(s.likeRace({id:s.race.id})).then((function(a){try{return a,e()}catch(e){return t(e)}}),t)}))},a.toggleAddComment=function(e){var t=e.target.parentElement.dataset.id||e.target.dataset.id;a.setState({showAddComment:!a.state.showAddComment},(function(){a.inputRef[t]&&a.inputRef[t].focus()}))},a.addRaceArticle=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.raceStore.addArticle({id:a.props.raceid,newArticle:a.state.newRaceArticle})).then((function(){try{return a.setState({newRaceArticle:{}}),e()}catch(e){return t(e)}}),t)}))},a.addRaceUserImage=function(){return new Promise((function(e,t){return Promise.resolve(a.props.stores.raceStore.addUserImage({id:a.props.raceid,newUserImage:a.state.newRaceUserImage})).then((function(){try{return a.setState({newRaceUserImage:{}}),e()}catch(e){return t(e)}}),t)}))},a.updateUserImageUpload=function(e){var t=a.state.newRaceUserImage;t[e.field]=e.value,a.setState({newRaceUserImage:t})},a.updateArticleUpload=function(e){var t=a.state.newRaceArticle;t[e.field]=e.value,a.setState({newRaceArticle:t})},a.removeRaceArticle=function(e){return new Promise((function(t,s){return Promise.resolve(a.props.stores.raceStore.removeArticle({id:a.props.raceid,articleId:e.target.parentElement.dataset.id||e.target.dataset.id})).then((function(){try{return t()}catch(e){return s(e)}}),s)}))},a.removeRaceUserImage=function(e){return new Promise((function(t,s){return Promise.resolve(a.props.stores.raceStore.removeUserImage({id:a.props.raceid,userImageId:e.target.parentElement.dataset.id||e.target.dataset.id})).then((function(){try{return t()}catch(e){return s(e)}}),s)}))},a.editRaceArticle=function(e){return new Promise((function(t){var s,c=e.target.dataset,r=c.id,n=c.field,i=e.target.value,o=a.props.raceid,h=a.props.stores.raceStore,b=((s={raceArticleId:r})["raceArticle"+l.a.ucfirst(n)]=i,s);return clearTimeout(a.updateTimer[o+"-"+r+"-"+n]),a.updateTimer[o+"-"+r+"-"+n]=setTimeout((function(){return new Promise((function(e){return h.editArticle({id:o,data:b}),e()}))}),1500),a.resizeTextarea(e.target),t()}))},a.editRaceUserImage=function(e){return new Promise((function(t){var s,c=e.target.dataset,r=c.id,n=c.field,i=e.target.value,o=a.props.raceid,h=a.props.stores.raceStore,b=((s={raceUserImageId:r})["raceUserImage"+l.a.ucfirst(n)]=i,s);return clearTimeout(a.updateTimer[o+"-"+r+"-"+n]),a.updateTimer[o+"-"+r+"-"+n]=setTimeout((function(){return new Promise((function(e){return h.editUserImage({id:o,data:b}),e()}))}),1500),a.resizeTextarea(e.target),t()}))},a.resizeAllTextareas=function(){for(var e=document.getElementsByTagName("textarea"),t=0,s=e.length;t<s;t+=1){a.resizeTextarea(e[t])}},a.resizeTextarea=function(e){var t=e;t.target&&(t=e.target),t.style.height=t.scrollHeight+"px"},a.handleImageErrored=function(e){var t=e.target;t.onerror=null,setTimeout((function(){t.src+="?"+new Date}),1e3)},a.state=c({},x),a.inputRef={},a.updateTimer={},a}var s,r;r=t,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var n=a.prototype;return n.loadRace=function(e){return new Promise(function(t,a){var s,r,n,i,o,l,h,b,d,p;return void 0===e&&(e=this.props),this.setState({isLoading:!0}),r=(s=e.stores).raceStore,i=void 0===(n=s.userStore.user)?{}:n,Promise.resolve(r.load(e.raceid)).then(function(){try{if(r.countAll(),this.setState({isLoading:!1}),o={},r.resetSignup(),(l=r.race).classes&&i&&i.email)for(h=0,b=l.classes.length;h<b;h+=1)(d=l.classes[h]).contestants&&(p=d.contestants.findIndex((function(e){return e.email===i.email})))>-1&&(o=c(c({},d.contestants[p]),{},{class:d.id}),r.addSignup(o));return r.updateKeyValue("signup",o),this.resizeAllTextareas(),t()}catch(e){return a(e)}}.bind(this),a)}.bind(this))},n.componentDidMount=function(){this.loadRace()},n.componentWillReceiveProps=function(e){this.loadRace(e)},n.render=function(){var t,a=this,s=this.state,c=s.showAddComment,r=s.newRaceArticle,n=s.newRaceUserImage,h=this.props.stores,p=h.appState,x=h.userStore,S=h.raceStore,I=x.isAdmin,P=x.user,L=void 0===P?{}:P,D=this.props,C=D.raceid,R=D.path,T=D.section,A=D.subsection,H=D.col,E=void 0===H?12:H,U=D.offset,M=void 0===U?0:U,_=p.darkmode,N=p.language,F=void 0===N?"en":N,z=S.race,K=S.totalClasses,V=S.totalContestants,B=z.likes,Y=void 0===B?[]:B,Z=z.comments,J=void 0===Z?[]:Z,q=z.likes&&z.likes.findIndex((function(e){return e.user===L.id}))>-1,$=new Date,G="";return $>=new Date(z.startDate)&&$<=new Date(z.endDate)?G="race":$>=new Date(z.signupStartDate)&&$<=new Date(z.signupEndDate)?G="signup":$>new Date(z.endDate)&&(G="done"),Object(i.h)(e,null,Object(i.h)(m.a,{stores:this.props.stores}),Object(i.h)("div",{class:"container-fluid position-relative",style:"margin-bottom: "+k+"; margin-top: "+y+";"},Object(i.h)(g.a,{stores:this.props.stores,path:R,raceid:C}),I&&Object(i.h)("span",{class:"float-right position-absolute",style:"top: 10px; right: 10px; z-index:10000;"},Object(i.h)("a",{href:"/race/"+C+"/edit",class:"btn btn-small btn-primary"},Object(i.h)("nobr",null,Object(i.h)("i",{class:"fas fa-chart-line"})," ",Object(i.h)(b.c,{id:"race.edit"},"Endre l칮pet")))),Object(i.h)("div",{class:"row border-bottom "},Object(i.h)("div",{class:"col-12"},Object(i.h)("div",{class:"jumbotron-thumb d-flex align-items-center position-relative"},z.images&&z.images[0]?Object(i.h)("img",{src:z.images[0].s3XXLargeLink,class:"img-fluid border rounded-lg",style:"min-width: 100%"}):""),Object(i.h)("h3",{class:"float-right"},"signup"===G&&!z.liveRace&&Object(i.h)(e,null,Object(i.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(i.h)("span",{class:"badge badge-primary ml-2"},Object(i.h)(b.c,{id:"races.signup-open"},"P친melding 친pen"))),"race"===G&&Object(i.h)(e,null,Object(i.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(i.h)("span",{class:"badge badge-danger ml-2"},Object(i.h)(b.c,{id:"races.race-in-progress"},"L칮p p친g친r"))),"done"===G&&Object(i.h)(e,null,Object(i.h)("i",{class:"fas fa-check text-success"}),Object(i.h)("span",{class:"badge badge-success ml-2"},Object(i.h)(b.c,{id:"races.race-finished"},"L칮p avsluttet")))),Object(i.h)("h1",{class:"float-right"},I&&Object(i.h)("i",{class:"fas fa-eye"+(z.active?" text-success":"-slash text-danger")+" float-right"})),(t=z.title,Object(o.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(i.h)("h1",{class:"my-0"},t)),V>10?Object(i.h)("span",{class:"text-muted font-weight-lighter"},Object(i.h)(b.c,{id:"races.starting-teams",fields:{totalContestants:V,totalClasses:K}})):Object(i.h)(e,null),Object(i.h)("div",{class:"text-muted mt-2"},Object(i.h)("span",null,z.startDate&&Object(i.h)(e,null,l.a.formatDate(z.startDate,{locale:F,hour12:!1,hour:"2-digit",minute:"2-digit"})),z.endDate&&Object(i.h)(e,null," - ",l.a.formatDate(z.endDate,{locale:F,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(i.h)("span",{class:""},z.tag&&z.tag.split(",").map((function(t){return Object(i.h)(e,null,Object(i.h)("span",{class:"badge badge-pill badge-primary py-1 ml-2"},Object(i.h)("a",{class:"text-white",href:"https://www.facebook.com/hashtag/"+t,target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fab fa-facebook"})," #",t)),Object(i.h)("span",{class:"badge badge-pill badge-primary py-1 ml-2"},Object(i.h)("a",{class:"text-white",href:"https://www.instagram.com/explore/tags/"+t,target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fab fa-instagram"})," #",t)))}))),z.contactEmail&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("a",{href:"mailto:"+z.contactEmail+"subject=Regarding "+z.title+"&body=Write your question here :)"},Object(i.h)("i",{class:"fas fa-envelope"})," ",z.contactEmail)),z.facebook&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("a",{href:""+z.facebook,target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fab fa-facebook"})," Facebook")),z.instagram&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("a",{href:""+z.instagram,target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fab fa-instagram"})," Instagram")),z.signuppayment&&Object(i.h)("span",{class:"badge badge-pill badge-success py-1 ml-2"},Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.signup-payment"},"Betaling p친melding"),":")," ",w.a.replaceImages(z.signuppayment,z.images,F,!1))),z.locationCity&&Object(i.h)("div",{class:"text-muted"},Object(i.h)(b.c,{id:"race.location"},"Sted"),": ",z.locationCity,", ",z.locationCountry),Object(i.h)("ul",{class:"nav nav-tabs my-3"},Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+(T?"":"active"),href:"/race/"+C},Object(i.h)("i",{class:"fas fa-info-circle"})," ",Object(i.h)(b.c,{id:"race.about"},"Om l칮pet"))),Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("news"===T?"active":""),href:"/race/"+C+"/news"},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(b.c,{id:"race.news"},"Nyheter"))),Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("rules"===T?"active":""),href:"/race/"+C+"/rules"},Object(i.h)("i",{class:"fas fa-gavel"})," ",Object(i.h)(b.c,{id:"race.rules"},"Regler"))),z.veterinaryInfo&&Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("veterinaryInfo"===T?"active":""),href:"/race/"+C+"/veterinaryInfo"},Object(i.h)("i",{class:"fas fa-stethoscope"})," ",Object(i.h)(b.c,{id:"race.veterinary"},"Veterin칝rinfo"))),z.checkpoints&&Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("checkpoints"===T?"active":""),href:"/race/"+C+"/checkpoints"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",Object(i.h)(b.c,{id:"race.checkpoints"},"Sjekkpunkter"))),z.trailDescription&&Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("trailDescription"===T?"active":""),href:"/race/"+C+"/trailDescription"},Object(i.h)("i",{class:"fas fa-map-signs"})," ",Object(i.h)(b.c,{id:"race.track-description"},"L칮ypebeskrivelse"))),z.program&&Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("program"===T?"active":""),href:"/race/"+C+"/program"},Object(i.h)("i",{class:"fas fa-list-alt"})," ",Object(i.h)(b.c,{id:"race.program"},"Program"))),z.prices&&Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("prices"===T?"active":""),href:"/race/"+C+"/prices"},Object(i.h)("i",{class:"fas fa-award"})," ",Object(i.h)(b.c,{id:"race.prices"},"Premier"))),Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("classes"===T?"active":""),href:"/race/"+C+"/classes"},Object(i.h)("i",{class:"fas fa-folder-open"})," ",Object(i.h)(b.c,{id:"race.classes"},"Klasser"))),Object(i.h)("li",{class:"nav-item"},Object(i.h)("a",{class:"nav-link "+("signup"===T?"active":""),href:"/race/"+C+"/signup"},Object(i.h)("i",{class:"fas fa-folder-open"})," ",Object(i.h)(b.c,{id:"race.signup"},"P친melding"))))),Object(i.h)("div",{class:"col-"+E+" offset-"+M+" col-sm-8 col-lg-8 offset-sm-2 offset-lg-2"},!T&&Object(i.h)(e,null,z.articles&&z.articles.length>0&&Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 mb-3 py-2 position-relative border-bottom bg-light"},Object(i.h)("small",null,Object(i.h)("div",{class:"font-weight-bold"},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(b.c,{id:"race.news"},"Nyheter")),Object(i.h)("div",{class:"row"},z.articles&&z.articles.reverse().slice(0,3).map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-4 p-3 position-relative"},t.image&&Object(i.h)("img",{src:t.image.s3LargeLink,class:"float-right rounded-lg ml-2",style:"height: 70px;"}),Object(i.h)("span",{class:"text-muted font-weight-light mr-2"},l.a.formatDate(t.date,{locale:F,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("span",{class:"font-weight-bold mr-2",style:"font-size: 1.2em;"},Object(i.h)("a",{href:"/race/"+C+"/news",class:"text-"+(_?"light":"dark")},w.a.replaceImages(t.title,z.images,F,!1))),Object(i.h)("br",null),Object(i.h)("span",{class:"font-weight-normal"},w.a.replaceImages(t.body,z.images,F,!1))))})),z.articles.length>3&&Object(i.h)("div",{class:"col-12 mt-2 text-center",style:"font-size: 1.5em;"},Object(i.h)("a",{href:"/race/"+C+"/news",class:"text-muted"},Object(i.h)(b.c,{id:"race.more-news"},"Flere nyheter")," 췉")))))),Object(i.h)("p",{class:"clearfix"},Object(i.h)("strong",null,Object(i.h)(u.a,{markdown:w.a.replaceImages(z.ingress,z.images,F),markdownOpts:w.a.getMarkdownOptions()}))),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.body,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"news"===T&&Object(i.h)(e,null,Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.news"},"Nyheter"))),z.articles&&z.articles.reverse().map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-12 col-md-6 col-lg-4 p-3 position-relative"},Object(i.h)("h5",null,w.a.replaceImages(t.title,z.images,F,!1)),t.image&&Object(i.h)("img",{src:t.image.s3LargeLink,class:"float-right w-50 rounded-lg ml-2"}),Object(i.h)("small",{class:"text-muted"}," ",l.a.formatDate(t.date,{locale:F,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(i.h)("br",null),Object(i.h)("div",{class:"font-weight-bold"},Object(i.h)(u.a,{markdown:w.a.replaceImages(t.ingress,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),Object(i.h)("div",null,Object(i.h)(u.a,{markdown:w.a.replaceImages(t.body,z.images,F),markdownOpts:w.a.getMarkdownOptions()}))))})))),"rules"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.rules"},"Regler")),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.rules,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"veterinaryInfo"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.veterinary"},"Veterin칝rinfo")),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.veterinaryInfo,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"checkpoints"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.checkpoints"},"Sjekkpunkter")),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.checkpoints,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"trailDescription"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.track-description"},"L칮ypebeskrivelse")),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.trailDescription,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"program"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.program"},"Program")),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.program,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"prices"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.prices"},"Premier")),Object(i.h)(u.a,{markdown:w.a.replaceImages(z.prices,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),"classes"===T&&Object(i.h)(e,null,Object(i.h)("h2",null,Object(i.h)(b.c,{id:"race.classes"},"Klasser")),Object(i.h)("div",{class:"row"},z.classes&&z.classes.sort((function(e,t){return e.distance-t.distance})).map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"col-6 col-sm-6 col-lg-4 mb-4"},Object(i.h)("div",{class:"border rounded rounded-lg p-3"},Object(i.h)("h5",null,t.title),Object(i.h)("small",null,t.startDate&&Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.startdate"},"Start"),":")," ",l.a.formatDate(t.startDate+" "+(t.startTime||"00:00:00"),{locale:F,hour12:!1,hour:"2-digit",minute:"2-digit"})),t.endDate&&Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.enddate"},"End"),":")," ",l.a.formatDate(t.endDate+" "+(t.endTime||"00:00:00"),{locale:F,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.distance"},"Distanse"),":")," ",t.distance," km"),Object(i.h)("div",null,Object(i.h)("span",{class:"font-weight-lighter"},Object(i.h)(b.c,{id:"race.signup"},"P친melding"),":")," ",t.signupfee||z.signupfee," NOK"),Object(i.h)("p",{class:"clearfix"},Object(i.h)(u.a,{markdown:w.a.replaceImages(t.ingress,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),Object(i.h)("small",null,Object(i.h)(u.a,{markdown:w.a.replaceImages(t.body,z.images,F),markdownOpts:w.a.getMarkdownOptions()})),t.rules&&Object(i.h)(e,null,Object(i.h)("h5",null,Object(i.h)(b.c,{id:"race.rules"},"Regler")),Object(i.h)(u.a,{markdown:w.a.replaceImages(t.rules,z.images,F),markdownOpts:w.a.getMarkdownOptions()})))))})))),"signup"===T&&Object(i.h)(O.a,{stores:this.props.stores,raceid:C,subsection:A})),Object(i.h)("div",{class:"col-"+E+" offset-"+M+" col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-5"},Y&&Y.length>0&&Object(i.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",Y.length),J&&J.length>0&&Object(i.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",J.length)),L.email&&Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-6 text-center"},Object(i.h)("button",{type:"button",class:"btn btn-outline-"+(q?"primary":"secondary")+" btn-lg btn-block "+(q?"text-primary":""),onClick:this.likeRace},Object(i.h)("i",{class:(q?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(i.h)("div",{class:"col-6 text-center"},Object(i.h)("button",{type:"button",class:"btn btn-outline-secondary btn-lg btn-block","data-id":z.id,onClick:this.toggleAddComment},Object(i.h)("i",{class:"fas fa-comment"})," Comment")))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},c&&L.email&&Object(i.h)(j.a,{stores:this.props.stores,race:z,inputRef:function(e){return a.inputRef[z.id]=e},inputRefObject:this.inputRef})),Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)(f.a,{stores:this.props.stores,race:z,cols:"12"}))),I&&Object(i.h)(e,null,Object(i.h)("h2",{class:"mt-5"},"Articles"),Object(i.h)("div",{class:"row"},z.articles&&z.articles.map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 border rounded-lg p-3 position-relative"},Object(i.h)("button",{class:"btn btn-danger position-absolute",style:"top:5px; right: 5px;","data-id":t.id,onClick:a.removeRaceArticle},Object(i.h)("i",{class:"fas fa-times"})),t.image&&Object(i.h)("img",{src:t.image.s3LargeLink,class:"float-right w-100"}),["title"].map((function(s){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("input",{type:"text",class:"form-control-plaintext font-weight-bold",id:s,"aria-describedby":s+"Help",style:"font-size: 1.5em;","data-id":t.id,"data-field":s,value:t[s],onInput:a.editRaceArticle})))})),["ingress","body"].map((function(s){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("textarea",{type:"textarea",class:"form-control-plaintext",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:a.editRaceArticle,style:"height: 1em;"})))}))))}))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-6 offset-3 border rounded-lg m-2 p-3 bg-light"},Object(i.h)("h5",null,"Add new article"),r&&r.image&&Object(i.h)("img",{src:r.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(d.a)(a,"newRaceArticle."+t),value:r[t]})))})),["ingress","body"].map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(d.a)(a,"newRaceArticle."+t),onKeyUp:a.resizeTextarea,style:"height: 1em;",value:r[t]})))})),Object(i.h)(v.a,{saved:{},object:{},field:"image",updateField:this.updateArticleUpload,autoOpen:!1}),Object(i.h)("button",{class:"btn btn-info",onClick:this.addRaceArticle},"Add race article"))),Object(i.h)("h2",{class:"mt-5"},"User images"),Object(i.h)("div",{class:"row"},z.userImages&&z.userImages.map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 border rounded-lg p-3 position-relative"},Object(i.h)("button",{class:"btn btn-danger position-absolute",style:"top:5px; right: 5px;","data-id":t.id,onClick:a.removeRaceUserImage},Object(i.h)("i",{class:"fas fa-times"})),Object(i.h)("img",{src:t.image.s3LargeLink,class:"float-right w-100"}),["title"].map((function(s){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group "},Object(i.h)("input",{type:"text",class:"form-control-plaintext font-weight-bold",id:s,"aria-describedby":s+"Help",style:"font-size: 1.5em;","data-id":t.id,"data-field":s,value:t[s],onInput:a.editRaceUserImage})))})),["body"].map((function(s){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("textarea",{type:"textarea",class:"form-control-plaintext",id:s,"aria-describedby":s+"Help","data-id":t.id,"data-field":s,value:t[s],onInput:a.editRaceUserImage,style:"height: 1em;"})))}))))}))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-3 offset-3 border rounded-lg m-2 p-3 bg-light"},Object(i.h)("h5",null,"Add new user image"),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col"},n&&n.image&&Object(i.h)("img",{src:n.image.s3LargeLink,class:"float-right w-50",onError:this.handleImageErrored}),["title"].map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("input",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(d.a)(a,"newRaceUserImage."+t),value:n[t]})))})),["body"].map((function(t){return Object(i.h)(e,null,Object(i.h)("div",{class:"form-group"},Object(i.h)("label",{for:t},t),Object(i.h)("textarea",{type:"text",class:"form-control",id:t,"aria-describedby":t+"Help",onInput:Object(d.a)(a,"newRaceUserImage."+t),onKeyUp:a.resizeTextarea,style:"height: 1em;",value:n[t]})))})))),Object(i.h)(v.a,{saved:{},object:{},field:"image",updateField:this.updateUserImageUpload,autoOpen:!1}),Object(i.h)("button",{class:"btn btn-info",onClick:this.addRaceUserImage},"Add race user image"))))))},a}(i.Component))||n;t.default=S}.call(this,a("hosL").Fragment)}}]);
//# sourceMappingURL=0.chunk.773d5.js.map