(window.webpackJsonp=window.webpackJsonp||[]).push([[18,5,13],{"+JSK":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV"),h=s("ZOvn");const d={};let b=Object(r.a)(n=class extends i.Component{constructor(e){super(e),this.toggleLikes=()=>{const{showLikesList:e}=this.state;this.setState({showLikesList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d)}render(){const{showLikesList:t}=this.state,{storyStore:s,teamStore:a,workoutStore:o,raceStore:n}=this.props.stores,{likes:r,comments:d,type:b="story",onTeamClick:m=(()=>{}),onUserClick:p=(()=>{})}=this.props;return Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},r&&r.length>0&&Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(i.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",r.length),r.slice(0,1).map(t=>{let r,l,d;"story"===b?(r=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===b?(r=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"workout"===b?(r=o.findPublicUser(t.user),l=o.findPublicTeamByMembers(t.user)):"race"===b&&(r=n.findPublicUser(t.user),l=n.findPublicTeamByMembers(t.user)),c.a.isArray(l)&&(d=l.find(e=>1===e.public));h.a.getImage({user:r,team:d,priority:"user"}),h.a.displayNameShort(r);const p=h.a.displayName(r);return Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-lighter"},d?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:e=>m(e,d.uuidv4)},p)):Object(i.h)(e,null,p)))}),r.length>1&&Object(i.h)(e,null,Object(i.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(i.h)(l.c,{id:"likes-comments.and",fields:{total:r.length-1}},"and ",r.length-1," others."))))),d&&d.length>0&&Object(i.h)("span",{class:"float-right text-muted"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",d.length)),t&&Object(i.h)("div",{class:"mt-3 mb-3"},r&&r.map(t=>{let r,l,d;"story"===b?(r=s.findPublicUser(t.user),l=s.findPublicTeamByMembers(t.user)):"team"===b?(r=a.findPublicUser(t.user),l=a.findPublicTeamByMembers(t.user)):"workout"===b?(r=o.findPublicUser(t.user),l=o.findPublicTeamByMembers(t.user)):"race"===b&&(r=n.findPublicUser(t.user),l=n.findPublicTeamByMembers(t.user)),c.a.isArray(l)&&(d=l.find(e=>1===e.public));const p=h.a.getImage({user:r,team:d,priority:"user"}),u=h.a.displayNameShort(r),g=h.a.displayName(r,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},d?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+d.uuidv4,title:d.name,onClick:e=>m(e,d.uuidv4),class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(p?`background-image: url("${p}"); background-size: cover;`:"")},!p&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},u))),Object(i.h)("div",{class:"ml-2 "},g," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",d.name))):Object(i.h)(e,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p}"); background-size: cover;`:"")+" opacity: 0.5;"},!p&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},u)),Object(i.h)("div",{class:"ml-2"},g)))})))}})||n;t.a=b}).call(this,s("hosL").Fragment)},"/922":function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("go65"),l=s("om2D"),h=(s("ETxl"),s("ZOvn"));let d=Object(i.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),inputRefObject:a={}}=t.props,{workout:o}=t.props,{workoutStore:n}=t.props.stores,{comment:i,showAddImage:c}=t.state;t.setState({sendButtonEnabled:!1});const r=await n.commentWorkout({id:o.id,comment:i});r&&200===r.status&&(t.setState({comment:{body:"",images:[]}},()=>{h.a.resizeTextarea(a[o.id]),c&&t.addImage()}),s({workout:o,response:r})),t.setState({sendButtonEnabled:!0})},this.addImages=({value:e})=>{const{comment:t}=this.state;t.images.push(...e),this.setState({comment:t})},this.addImage=()=>{const{showAddImage:e=!1}=this.state;this.setState({showAddImage:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t,col:s=12,offset:a=0,showAvatar:i=!0,extraClass:d="",workout:b}=this.props,{comment:m,showAddImage:p,sendButtonEnabled:u}=this.state,{userStore:g}=this.props.stores,{user:f={}}=g,O=f.firstname?`${n.a.ucfirst(f.firstname,!0)}${n.a.ucfirst(f.lastname,!0)}`:""+n.a.ucfirst(f.email||"",!0),j=f.image||(f.images?f.images[0]:void 0);return Object(o.h)("div",{class:`col-${s} offset-${a} ${d}`},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},i&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(j?`background-image: url('${j.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!f.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(c.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(r.a)(this,"comment.body"),onKeyUp:h.a.resizeTextarea,onFocus:h.a.resizeTextarea,style:"height: 2.3em;",value:m.body,ref:t})),Object(o.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-image pointerCursor","data-id":b.id,onClick:this.addImage})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${u?"primary":"secondary"} mb-2`,disabled:!u,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))),p&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},m.images&&m.images.map(e=>Object(o.h)("div",{class:"col-3 p-1"},Object(o.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(o.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(o.h)("i",{class:"fas fa-trash"}),"  ",Object(o.h)(c.c,{id:"comments.remove-image"},"Remove")))))),Object(o.h)(l.a,{object:m,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))}})||a;t.a=d}).call(this,s("hosL").Fragment)},"/DnB":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=(s("Utv1"),s("/eY4"));const r={};let l=Object(c.a)(n=class extends i.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},r),this.container=null}componentDidMount(){const{horizontal:e,vertical:t=""}=this.props,s={behavior:"smooth"};e&&(s.inline=e),t&&(s.block=t),this.container.scrollIntoView(s)}render(){return Object(i.h)("div",{ref:e=>this.container=e},"Â ")}})||n;t.a=l},"/F9p":function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=(s("Utv1"),s("/eY4")),i=s("OhSV"),c=(s("ZOvn"),s("bbv7"));let r=Object(n.a)(a=class extends o.Component{render(){const{teamStore:t}=this.props.stores,{graphFitness:s,graphFatigue:a,graphForm:n}=t;if(!s||0===s.length)return"";const r=n.map(e=>e.date),l=Math.floor(r.length/4),h=[];for(let e=0,t=r.length;e<t;e+=l)h.push(r[e]);return h[h.length-1]=r[r.length-1],Object(o.h)(e,null,Object(o.h)("h5",null,Object(o.h)(i.c,{id:"teams.fitness"},"Form og belastning")),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(i.b,null,Object(o.h)(c.a,{stores:this.props.stores,width:1500,height:300,showXTicks:1,xTicks:h,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:[s,a],dataFillLeft:[1],legendLeft:[Object(o.h)(i.c,{id:"teams.legend-fitness"},"Fitness"),Object(o.h)(i.c,{id:"teams.legend-fatigue"},"Fatigue")],dataRight:[n],legendRight:[Object(o.h)(i.c,{id:"teams.legend-form"},"Form")],showYTicksLeft:1,avgWindowLeft:[0,0],smoothLeft:[0,0],showYTicksRight:1,scrollToRight:!0}))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},"0SNj":function(e,t,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=(s("OhSV"),s("ETxl"),s("ZOvn"),s("nHdA")),r=s("irB3"),l=(s("UwwE"),s("8Lgr"));s("QkTp");let h=Object(i.a)(a=class extends o.Component{constructor(e){super(e),this.state={}}async loadAll(e=this.props){await this.loadTeams(e)}async loadTeams(e=this.props){const{teamStore:t}=e.stores,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),{month:o=s,year:n=a,currentTeam:i}=e;await t.load({query:{team:i,skipMusherWorkoutSummary:!0,year:n,month:o},addData:["workoutSummary"]})}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.year===this.props.year&&e.currentTeam===this.props.currentTeam||this.loadAll(e)}render(){const{teamStore:e}=this.props.stores,t=(new Date).getMonth()+1,s=(new Date).getFullYear(),{month:a=t,year:i=s,currentTeam:h,currentSeason:d,prevSeason:b}=this.props,m=parseInt(a<8?i-1:i,10),p=b||(h?e.findWorkoutSummary(h,m-1):e.findWorkoutSummaryTotal(m-1))||{},u=d||(h?e.findWorkoutSummary(h,m):e.findWorkoutSummaryTotal(m))||{};return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2 border-top"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(l.a,{stores:this.props.stores,value:u.distanceKm||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(l.a,{stores:this.props.stores,value:p.distanceKm||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(r.a,{stores:this.props.stores,value:u.elevation||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-mountain"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(r.a,{stores:this.props.stores,value:p.elevation||0,smallUnit:!0})))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",m,"-",m+1),Object(o.h)("h3",null,n.a.secToHms(u.duration||0))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},n.a.secToHms(p.duration||0)))),Object(o.h)("div",{class:"row mt-2 border-bottom"},Object(o.h)("div",{class:"col text-center"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",m,"-",m+1),Object(o.h)("h3",null,Object(o.h)(c.a,{stores:this.props.stores,value:u.speedAvg||0,smallUnit:!0}))),Object(o.h)("div",{class:"col text-center border-left"},Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",m-1,"-",m),Object(o.h)("h3",{class:"text-muted"},Object(o.h)(c.a,{stores:this.props.stores,value:p.speedAvg||0,smallUnit:!0})))))}})||a;t.a=h},"3wGD":function(e,t,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("go65"),l=(s("ETxl"),s("ZOvn"));let h=Object(i.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),commentId:a,inputRefObject:o={}}=t.props,{workout:n}=t.props,{workoutStore:i}=t.props.stores,{comment:c=""}=t.state;t.setState({sendButtonEnabled:!1});const r=await i.commentReplyWorkout({id:n.id,commentId:a,comment:c});r&&200===r.status&&(t.setState({comment:""},()=>{l.a.resizeTextarea(o[a])}),s({workout:n,response:r,commentId:a})),t.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:e}=this.props,{comment:t,sendButtonEnabled:s}=this.state,{userStore:a}=this.props.stores,{user:i={}}=a,h=i.firstname?`${n.a.ucfirst(i.firstname,!0)}${n.a.ucfirst(i.lastname,!0)}`:""+n.a.ucfirst(i.email||"",!0),d=i.image||(i.images?i.images[0]:void 0);return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(d?`background-image: url('${d.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!d&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(c.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(r.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=h},"68RK":function(e,t,s){"use strict";var a=s("ivZ3"),o=s("Utv1"),n=s("ZOvn");const i={adit:new a.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new a.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new a.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new a.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new a.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new a.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new a.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new a.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new a.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new a.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new a.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new a.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new a.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new a.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new a.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new a.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new a.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new a.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new a.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new a.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new a.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new a.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new a.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new a.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new a.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new a.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new a.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new a.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new a.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new a.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new a.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new a.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new a.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new a.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new a.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new a.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new a.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new a.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new a.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new a.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new a.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new a.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new a.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new a.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new a.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new a.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new a.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new a.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new a.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new a.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new a.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new a.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new a.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new a.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new a.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new a.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new a.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new a.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new a.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new a.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new a.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new a.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new a.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new a.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new a.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new a.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new a.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new a.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new a.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new a.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new a.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new a.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new a.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new a.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new a.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new a.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new a.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new a.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new a.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new a.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new a.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new a.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new a.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new a.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new a.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new a.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new a.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new a.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new a.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new a.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new a.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new a.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new a.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new a.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new a.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new a.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new a.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new a.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new a.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new a.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new a.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new a.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new a.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new a.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new a.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new a.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new a.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new a.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new a.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new a.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new a.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new a.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new a.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new a.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new a.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new a.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new a.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new a.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new a.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new a.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new a.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new a.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new a.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new a.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new a.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new a.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new a.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new a.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new a.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new a.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new a.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new a.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new a.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new a.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new a.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new a.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new a.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new a.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new a.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new a.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new a.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new a.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new a.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new a.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new a.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new a.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new a.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new a.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new a.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new a.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new a.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new a.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new a.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new a.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new a.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new a.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new a.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new a.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new a.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new a.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new a.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new a.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new a.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new a.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new a.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new a.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new a.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new a.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new a.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new a.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new a.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new a.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};t.a=class{static get(e){return i[e]}static list(){return Object.keys(i)}static getDiv({title:e,body:t,color:s,textColor:n="#333333",borderColor:i=0,iconWidth:c=150,iconHeight:r=70}){const l="img-"+o.a.randomPassword();o.a.hsl2Rgb(s,100,60),o.a.hsl2Rgb(100-i,100,50);return new a.DivIcon({iconSize:[c,r+30],iconAnchor:[15,r+30],className:"my-div-icon",html:`<div id='${l}' style='width: ${c}px; height: ${r+30}px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#${l} .map-marker:after {\n\t\t\t\t\t\tborder-top-color: ${s};\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: ${n}; background-color: ${s}; height: ${r}px;'>\n\t\t\t\t\t<nobr><strong>${e}</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>${t}</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>`})}static getRaceMarker({bib:e,speed:t="",bearing:s="",rank:i,flag:c="",image:r,title:l,color:h,textColor:d="#333333",borderColor:b=0,iconWidth:m=180,iconHeight:p=20,iconAnchorX:u=7,iconAnchorY:g=7,mapChecked:f}){const O="img-"+o.a.randomPassword(),j=(o.a.hsl2Rgb(h,100,60),o.a.hsl2Rgb(100-b,100,50),n.a.getRankingColor(e||i)),v=/dark/i.test(f);let w=r?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${r}"); background-size: cover; border: 1px ${j} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return w=e||i?`\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: ${j||""}'\n\t\t\t>\n\t\t\t\t${e||i}\n\t\t\t</div>\n\t\t`:w,new a.DivIcon({iconSize:[m,p],iconAnchor:[u,g],className:"my-div-icon",html:u>100?`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='${O}' style='width: ${m}px; height: ${p}px; line-height: 1.1em;'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${v?"text-white":"text-dark"} p-1 pl-3 rounded-pill-left rounded-none ${v?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t<strong>${l}</strong> ${c}\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pr-2 pl-1 py-1 rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${h||""}'\n\t\t\t\t\t>\n\t\t\t\t\t\t${w}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: 14px; height: 14px; background-color: ${h};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t`:`\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='${O}' style='width: ${m}px; height: ${p}px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: 14px; height: 14px; background-color: ${h};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: ${h||""}'\n\t\t\t\t\t>\n\t\t\t\t\t\t${w}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='${v?"text-white":"text-dark"} p-1 pr-3 rounded-pill-right rounded-none ${v?"bg-dark":"bg-white"} overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t${c} <strong>${l}</strong>\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getDistanceMarker({title:e="",body:t="",textColor:s="#888",borderColor:n=0}){const i="img-"+o.a.randomPassword();return new a.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>${e}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${t}</span>\n\t\t\t</div>`})}static getMarker({bib:e,rank:t,flag:s="",image:i,title:c,color:r="#a0a0a0",textColor:l="#333333",borderColor:h=0,iconWidth:d=250,iconHeight:b=20,iconAnchorX:m=7,iconAnchorY:p=7,dotWidth:u=14,dotHeight:g=14,mapChecked:f}){const O="img-"+o.a.randomPassword(),j=(o.a.hsl2Rgb(r,100,60),o.a.hsl2Rgb(100-h,100,50),n.a.getRankingColor(e||t));/dark/i.test(f);let v=i?`\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url("${i}"); background-size: cover; border: 1px ${j} solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t`:"";return v=e||t?`\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center ${j?"":"bg-primary"}' style='background-color: ${j||""}'\n\t\t\t>\n\t\t\t\t${e||t}\n\t\t\t</div>\n\t\t`:v,new a.DivIcon({iconSize:[d,b],iconAnchor:[m,p],className:"my-div-icon",html:`\n\t\t\t\t<div class='d-flex flex-nowrap' id='${O}' style='width: ${d}px; height: ${b}px; line-height: 1.1em;'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: ${u}px; height: ${g}px; background-color: ${r};'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark font-weight-bolder pl-2 pr-1 py-1 rounded-pill-left rounded-none bg-info'\n\t\t\t\t\t>\n\t\t\t\t\t\t${v}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-dark p-1 pr-3 rounded-pill-right rounded-none bg-info overflow-hidden'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>${s} <strong>${c}</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`})}static getSmallMarker({title:e="",body:t="",textColor:s="#888",borderColor:n=0}){const i="img-"+o.a.randomPassword();return new a.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:`<div id='${i}' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>${e}</strong><br />\n\t\t\t\t<span class='font-weight-light'>${t}</span>\n\t\t\t</div>`})}}},"6GRK":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,c=s("hosL"),r=s("/eY4"),l=(s("cneo"),s("Utv1")),h=s("OhSV"),d=s("go65");let b=Object(r.a)(i=class extends c.Component{constructor(e){var t;super(e),t=this,this.handleAdd=()=>{const{data:e}=this.state,{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:o({},e)}),this.setState({data:{name:"",url:""}})},this.removeLink=async function(e){const{dogStore:s}=t.props.stores,{object:a}=t.props,{name:o,id:n}=e.target.closest("button").dataset;s.removeLink({id:a.id,name:o,linkId:n})},this.state={data:{}}}render(){const{showFiles:t=!0,object:s={}}=this.props;return Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 mt-3"},t&&Object(c.h)(e,null,Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},(!s.links||0===s.links.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-link"})),Object(c.h)("h3",null,Object(c.h)(h.c,{id:"dogs.no-links-title"},"No links for this dog!")),Object(c.h)(h.c,{id:"dogs.no-links-text"},"You can add links to this dog. Ie. Links to Facebook page, Instagram page, blogg, etc."))),s.links&&s.links.map(e=>Object(c.h)("div",{class:"col-12 p-1"},Object(c.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.createdDate,!1,!1,!0)),Object(c.h)("span",{class:"mr-2"},e.name),Object(c.h)("span",{class:"mr-2"},e.url),Object(c.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeLink,"data-name":e.name,"data-id":e.id},Object(c.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(c.h)("div",{class:"col-12 mt-3"},Object(c.h)("details",null,Object(c.h)("summary",null,Object(c.h)(h.c,{id:"dogs.link-add"},"Add new link")),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"name"},Object(c.h)(h.c,{id:"dogs.link-name"},"Name")),Object(c.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"data.name")}),Object(c.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.link-name-help"},"Name of link"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"url"},Object(c.h)(h.c,{id:"dogs.link-url"},"Url")),Object(c.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(d.a)(this,"data.url")}),Object(c.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.link-url-help"},"URL of link"))),Object(c.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(c.h)(h.c,{id:"dogs.link-add"},"Add link")))))}})||i;t.a=b}).call(this,s("hosL").Fragment)},"8Lgr":function(e,t,s){"use strict";(function(e){function a(e){return i.a.format(e,e<5?2:1)}var o,n=s("hosL"),i=s("Utv1"),c=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(c.a)(o=class extends n.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:i}=o,{settings:c={}}=i;return c.imperial?Object(n.h)(e,null,Object(n.h)("nobr",null,a(function(e){return.621371*e}(t))," ",s?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(e,null,"mi"))):Object(n.h)(e,null,Object(n.h)("nobr",null,a(t)," ",s?Object(n.h)(e,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(e,null,"km")))}})||o;t.a=r}).call(this,s("hosL").Fragment)},"9Bb9":function(e,t,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("ETxl"),l=s.n(r),h=s("ZOvn");let d=Object(i.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.loadWorkoutPlans=async function(e=t.props){const{workoutPlanStore:s}=e.stores,a=(new Date).getMonth()+1,o=(new Date).getFullYear(),{year:n=o,month:i=a,currentTeam:c}=e,r=parseInt(n||(i<8?n-1:n),10);if(c){await s.load({query:{team:c,seasonYear:r,seasonMonth:6}});const{workoutPlans:e}=s,t=e[0]||{};t.id&&await s.load(t.id)}},this.state={}}async loadAll(e=this.props){}async loadTeams(e=this.props){const{teamStore:t}=e.stores,s=(new Date).getMonth()+1,a=(new Date).getFullYear(),{month:o=s,year:n=a,currentTeam:i}=e;await t.load({query:{team:i,skipMusherWorkoutSummary:!0,year:n,month:o},addData:["workoutSummary"]})}async loadWorkoutSummary(e=this.props){const{year:t,currentTeam:s,dog:a}=e,{userStore:o}=e.stores;await o.getWorkoutSummary({team:s,year:t,dog:a})}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.year===this.props.year&&e.currentTeam===this.props.currentTeam||this.loadAll(e)}render(){const{currentTeam:e}=this.props,{userStore:t,workoutPlanStore:s,teamStore:a}=this.props.stores,{workoutPlan:i}=s,{user:r}=t,{language:d="en"}=r,b=h.a.getMonths(d),m=a.findTeam(e)||{},p=(new Date).getMonth()+1,u=(new Date).getFullYear(),{year:g=u,month:f=p}=this.props,O=parseInt(f<8?g-1:g,10),j=n.a.monthRange(O+"-08-01",O+1+"-07-31");let v;return Object(o.h)("div",{class:"container-fluid mb-2"},Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("h5",null,Object(o.h)("span",{style:"display: none;"},i.id),Object(o.h)(c.c,{id:"workout.totals.title"},"Treningsplanstatus")))),Object(o.h)("div",{class:"row mt-2 border-bottom pb-2"},j&&j.map(e=>{if(e.year>g||e.year===g&&e.month>=e)return"";const a=s.sumWorkoutPlanMonth(e.year,e.month+1);if(!a)return"";v=a;const i=t.findWorkoutSummaryMonth(e.year,e.month+1)/a*100,c=i>100?100:n.a.format(i,0);return Object(o.h)("div",{class:"col-3 text-center"},Object(o.h)("div",{class:"px-auto w-100 clearfix"},Object(o.h)("div",{class:"progress "+l.a["progress-bar-vertical"],style:" margin-left: calc(50% - 20px);"},Object(o.h)("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:`height: ${c}%; width: 40px;`,"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},n.a.format(i,0),"%"))),Object(o.h)("div",{class:"w-100 mt-1"},b[e.month]," ",e.year))}),!v&&Object(o.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(o.h)("div",{class:"display-1"},Object(o.h)("i",{class:"far fa-sad-tear"})),Object(o.h)("h3",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"workout.plan.no-workout-plan-found",fields:{name:m.name}},"Ingen treningsplaner funnet for team ",m.name,".")),Object(o.h)("a",{class:"btn btn-success btn-lg mt-3",href:"/workouts/plan"},Object(o.h)("i",{class:"fas fa-calendar-alt"})," ",Object(o.h)(c.c,{id:"workout.plan.new"},"New workoutplan")))))}})||a;t.a=d},ABWa:function(e){e.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},ETxl:function(e){e.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},"Gx/q":function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=(s("OhSV"),s("nHdA")),r=s("irB3"),l=(s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));let d=Object(i.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.removeUser=async function(e){let s=e.target.dataset.id,a=e.target.dataset.email,o=e.target.dataset.team;!s&&e.target.parentNode&&(s=e.target.parentNode.dataset.id,a=e.target.parentNode.dataset.email,o=e.target.parentNode.dataset.team),console.log("id, email, team",s,a,o);const{teamStore:n}=t.props.stores;await n.removeMember(o,{id:s,email:a})},this.adminUpdateUser=e=>{const{email:t}=e.target.closest("input").dataset,{name:s}=e.target,a=`${t}-${s}`;clearTimeout(this.updateTimer[a]),this.updateTimer[a]=setTimeout(()=>{this.doAdminUpdateUser(e)},500)},this.doAdminUpdateUser=async function(e){const{email:s}=e.target.closest("input").dataset,{name:a,value:o}=e.target,{userStore:n}=t.props.stores;await n.adminUpdateUser(s,{[a]:o})},this.simulateUser=e=>{const{email:t}=e.target.closest("button").dataset,{userStore:s}=this.props.stores;s.getSimulateUser(t)},this.state={},this.updateTimer={}}render(){const{user:t,team:s={}}=this.props,{userStore:a,teamStore:i}=this.props.stores,{user:d,isAdmin:b}=a,m=a.findTeams(t.teams),p=i.findMusherSummary(t.id,s.id)||{},u=s.user===d.id,g=h.a.getImage({user:t,team:s}),f=h.a.displayName(t);return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:g?`background-image: url('${g}'); background-size: cover;`:""},!g&&Object(o.h)("i",{class:"fas fa-user text-muted mt-3",style:"font-size: 40px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(o.h)("h5",null,f),Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("div",{class:"d-flex justify-content-left"},t.cellphone&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-mobile-alt"})," ",t.cellphone),t.email&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-envelope ml-3"})," ",t.email),t.url&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asUrl(t.url),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fas fa-link"}))),t.facebook&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asFacebookLink(t.facebook),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-facebook"}))),t.instagram&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asInstagramLink(t.instagram),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-instagram"}))),t.snapchat&&Object(o.h)("div",{class:"mr-2"},Object(o.h)("a",{href:h.a.asSnapchatLink(t.snapchat),target:"_blank",rel:"noreferrer"},Object(o.h)("i",{class:"fab fa-snapchat"})))))),b&&Object(o.h)(e,null,Object(o.h)("button",{class:"btn btn-block btn-success",onClick:this.simulateUser,"data-email":t.email},"Simulate user"),Object(o.h)("small",null,Object(o.h)("details",null,Object(o.h)("summary",null,"settings"),Object(o.h)("xmp",null,JSON.stringify(t.settings,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"subscription"),Object(o.h)("xmp",null,JSON.stringify(t.subscription,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"deviceInfo"),Object(o.h)("xmp",null,JSON.stringify(t.deviceInfo,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"subscription"),Object(o.h)("xmp",null,JSON.stringify(t.subscription,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"notifications"),Object(o.h)("xmp",null,JSON.stringify(t.notifications,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"notificationTopics"),Object(o.h)("xmp",null,JSON.stringify(t.notificationTopics,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"applications"),Object(o.h)("xmp",null,JSON.stringify(t.applications,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"shadowTags"),Object(o.h)("xmp",null,JSON.stringify(t.shadowTags,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"garmin"),Object(o.h)("xmp",null,JSON.stringify(t.garmin,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"strava"),Object(o.h)("xmp",null,JSON.stringify(t.strava,null,4))),Object(o.h)("details",null,Object(o.h)("summary",null,"currentLocationGeocode"),Object(o.h)("xmp",null,JSON.stringify(t.currentLocationGeocode,null,4))),"lastActivityEpoch: ",n.a.isoDate(t.lastActivityEpoch),Object(o.h)("br",null),"activities: ",n.a.format(t.activities),Object(o.h)("br",null),t.settings&&Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:t.settings.veterinaryAllowed?0:1,id:"settings.veterinaryAllowed-"+t.id,name:"settings.veterinaryAllowed",checked:t.settings.veterinaryAllowed?"checked":"","data-email":t.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"settings.veterinaryAllowed-"+t.id},"settings.veterinaryAllowed")),Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:t.twoFactorLogin?0:1,id:"twoFactorLogin-"+t.id,name:"twoFactorLogin",checked:t.twoFactorLogin?"checked":"","data-email":t.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"twoFactorLogin-"+t.id},"twoFactorLogin")),Object(o.h)("div",{class:"form-check"},Object(o.h)("input",{class:"form-check-input",type:"checkbox",value:t.isVeterinary?0:1,id:"isVeterinary-"+t.id,name:"isVeterinary",checked:t.isVeterinary?"checked":"","data-email":t.email,onInput:this.adminUpdateUser}),Object(o.h)("label",{class:"form-check-label",for:"isVeterinary-"+t.id},"isVeterinary")),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"cellphone-"+t.id},"cellphone"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"cellphone-"+t.id,name:"cellphone",class:"form-control",value:t.cellphone,"data-email":t.email,onInput:this.adminUpdateUser}))),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"firstname-"+t.id},"firstname"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"firstname-"+t.id,name:"firstname",class:"form-control",value:t.firstname,"data-email":t.email,onInput:this.adminUpdateUser}))),Object(o.h)("div",{class:"form-group row"},Object(o.h)("label",{class:"col-sm-2 col-form-label",for:"lastname-"+t.id},"lastname"),Object(o.h)("div",{class:"col-sm-10"},Object(o.h)("input",{type:"text",id:"lastname-"+t.id,name:"lastname",class:"form-control",value:t.lastname,"data-email":t.email,onInput:this.adminUpdateUser}))))),t.teams&&Object(o.h)(e,null,m.map(e=>Object(o.h)("span",{class:"badge badge-pill badge-info mr-2"},e.name)),Object(o.h)("br",null)),s.id&&p&&Object(o.h)(e,null,Object(o.h)("small",{class:"text-muted"},"Total:",p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:p.distanceKm})),p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:p.elevation})),p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(p.duration||0))),Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},"Avg:",p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:p.avgDistance})),p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:p.avgElevation})),p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(p.avgDuration||0)),p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(c.a,{stores:this.props.stores,value:p.speedAvg})),p&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-dog"})," ",n.a.format(p.avgDogs,1))))),Object(o.h)("div",null,u&&t.id!==d.id&&Object(o.h)("button",{class:"btn btn-sm btn-danger",onClick:this.removeUser,"data-email":t.email,"data-id":t.id,"data-team":s.id},Object(o.h)("i",{class:"fas fa-ban"})),!u&&t.id===d.id&&Object(o.h)("button",{class:"btn btn-sm btn-secondary",onClick:this.removeUser,"data-email":t.email,"data-id":t.id,"data-team":s.id},Object(o.h)("i",{class:"fas fa-sign-out-alt"}),s.id)))))}})||a;t.a=d}).call(this,s("hosL").Fragment)},HqZR:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e){return.621371*e}var c,r=s("hosL"),l=s("Utv1"),h=s("/eY4"),d=s("cneo"),b=s("fh8t"),m=s.n(b),p=s("6FDT"),u=s.n(p),g=s("ABWa"),f=s.n(g),O=s("ZOvn"),j=s("5eBG"),v=s("/mwY"),w=s("8bLb"),k=s("P2xA"),y=s("FTgN"),x=s("/kKD"),S=s("+5/p"),I=s("9rGW"),A=s("zHmd"),D=s.n(A),T=s("Dq2H"),z=s.n(T),U=(s("yDvG"),s("G5DU")),$=s.n(U),L=s("68RK"),C=(s("A1fj"),s("ivZ3")),P=s.n(C);const R={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},{BaseLayer:F,Overlay:E}=j.b;delete P.a.Icon.Default.prototype._getIconUrl,P.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});const W=function(e){return P.a.divIcon({html:`<span>${e.getChildCount()}</span>`,className:f.a["marker-cluster-custom"],iconSize:P.a.point(40,40,!0)})};let M=Object(h.a)(c=class extends r.Component{constructor(e){super(e),this.mapRef=Object(r.createRef)(),this.polyRef=Object(r.createRef)(),this.handleViewportChanged=e=>{this.setState({mapCenter:e.center,mapZoom:e.zoom})},this.handleLocationFound=e=>{e.latlng&&this.setState({hasLocation:!0,latlng:e.latlng})},this.onEachFeature=(e,t)=>{const{gpxInfo:s={}}=this.props,a=`<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: ${l.a.format(s.totalDistance,2)} km</li>\n\t\t\t\t<li>Max speed: ${l.a.format(s.maxSpeed,1)} km/t</li>\n\t\t\t\t<li>Avg speed: ${l.a.format(s.avgSpeed,1)} km/t</li>\n\t\t\t\t<li>Ascent: ${l.a.format(s.ascent||s.calculatedAscend,0)} m</li>\n\t\t\t\t<li>Descent: ${l.a.format(s.decent||s.calculatedDescend,0)} m</li>\n\t\t\t\t<li>Duration: ${l.a.secToHms(s.duration)}</li>\n\t\t\t</ul>\n\t\t</Popup>`;t.bindPopup(a)},this.handleClick=e=>{const{appState:t}=this.props.stores;t.setLatlng(e.latlng)},this.zoomToGeoJSON=e=>{try{if(e.target){let t=e.target.getBounds();t&&t._northEast&&this.setState({bounds:t})}}catch(e){console.log(e)}},this.zoomToMarkers=(e=[],t=!1)=>{const{hasZoomedToMarkers:s}=this.state;try{if((t||!s)&&e.length&&e.length>0){const t=this.mapRef.current.leafletElement,s=P.a.latLngBounds([]);e.forEach(e=>{s.extend([e.lat,e.lng])}),t.fitBounds(s),this.setState({hasZoomedToMarkers:!0})}}catch(e){console.log(e)}},this.zoomToAllMarkers=()=>{const{waypoints:e=[]}=this.props;this.zoomToMarkers(e,!0)},this.zoomToFavoriteMarkers=()=>{const{zoomToMarkers:e=[],waypoints:t=[]}=this.props;this.zoomToMarkers(e.length>0?e:t,!0)},this.overlayAdd=e=>{const{name:t}=e,{visibleLayers:s}=this.state;s[t]=!0,this.setState({visibleLayers:s})},this.overlayRemove=e=>{const{name:t}=e,{visibleLayers:s}=this.state;s[t]=!1,this.setState({visibleLayers:s})},this.polylineOptions=()=>{const{gpxInfo:e}=this.props,{rangeSteps:t}=this.state;let{maxHslColor:s}=this.state;const{appState:a}=this.props.stores,{mapColorMode:o,mapRangeMin:n,mapRangeMax:i}=a;let c=n,r=i;"speed"===o&&e&&e.speeds&&e.speeds.length>0&&(c=Math.floor(Math.min(...e.speeds.map(e=>3.6*e))),r=Math.ceil(Math.max(...e.speeds.map(e=>3.6*e))));const h=l.a.range(c,r,t),d=h.map(e=>{const t=function(e,t,s,a,o){return a+(e-t)*(o-a)/(s-t)}(e,c,r,0,s);let a;a=s-t;const{r:o,g:n,b:i}=l.a.hsl2Rgb(a,100,45);return{color:`rgb(${o}, ${n}, ${i})`}});return a.setMapRange(h,c,r),a.setMapColors(d),d},this.polylineOptionIdxFn=e=>{const{appState:t}=this.props.stores,{mapRange:s}=t;for(let t=0;t<s.length;++t)if(e.meta<=s[t])return t;return s.length},this.polylinetrackPointFactory=e=>{const{gpxInfo:t}=this.props,{appState:s}=this.props.stores,{mapColorMode:a,mapRangeMin:o,mapRangeMax:n}=s;let i=[];"speed"===a&&t.speeds&&t.speeds.length>0?i=t.speeds.map(e=>3.6*e):t&&t.climbs&&(i=t.climbs);return e.filter(e=>e[0]&&e[1]&&e[2]).map((e,t)=>{const s=P.a.latLng(e[1],e[0],e[2]);return i&&i.length>0?(s.meta=i[t]||0,s.meta>n&&(s.meta=n),s.meta<o&&(s.meta=o)):s.meta=0,s})},this.showSpeed=()=>{const{appState:e}=this.props.stores;e.setMapColorMode("speed")},this.handleMarkerClick=(e={})=>{const{onMarkerClick:t=(({title:e,bib:t})=>console.log({title:e,bib:t}))}=this.props;try{t(o({},e))}catch(e){console.log(e)}},this.baseLayerChange=e=>{const{name:t}=e;console.log("baseLayerChange event",e),console.log({name:t});const{appState:s}=this.props.stores;s.setMapChecked(t)},this.whenReadyHandler=e=>{const{target:t}=e;t.on("baselayerchange",this.baseLayerChange)},this.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1}}geoJSONStyle(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}}geoJSONStyleList(e){const t=O.a.getRankingColor(e+1);return{color:t,weight:3,fillOpacity:.5,fillColor:t}}componentWillReceiveProps(e){this.props.zoomToMarkers!==e.zoomToMarkers?this.zoomToMarkers(e.zoomToMarkers,!0):this.props.waypoints!==e.waypoints&&this.zoomToMarkers(e.waypoints)}componentWillUnmount(){}render(){const{userStore:t,appState:s}=this.props.stores,{mapChecked:a}=s,{user:n}=t,{settings:c={}}=n,{visibleLayers:h,mapZoom:b,bounds:p=null}=this.state,{waypoints:g=[],waypoints2:A=[],waypoints3:T=[],geoJSONs:U=[],zoomToMarkers:C=[],geojson:M,gpxInfo:_,mapId:Y=1,center:B=[61.0779066,9.800984],zoom:N=5,minZoom:H=4,maxZoom:V=18,darkmode:K,height:X=500,heatmap:Z=[],skipGeojson:q=!1,zoomToWaypoints:G=!1,fullscreenMap:J=!1,showSearch:Q=!0,showZoomControl:ee=!0,showLayersControl:te=!0,showFullscreenControl:se=!0,showScaleControl:ae=!0,showRange:oe=!0,showTrackProfile:ne=!0,distanceMarkerSteps:ie="normal",showDistanceMarkers:ce=!0,groupWaypoints:re=!0,layersControlPosition:le="topright"}=this.props,{mapColorMode:he,mapRange:de,mapColors:be,mapRangeMin:me,mapRangeMax:pe}=s,ue=Object(d.i)(M),ge=l.a.asObject(ue,"features",0,"geometry","coordinates"),fe=C.length>0||g.length>0;let Oe,je;const ve=[];if(ge&&ge[0]&&ge[0][0]&&(Oe=ge[0][0]&&ge[0][0][0]?[ge[0][0][1],ge[0][0][0]]:[ge[0][1],ge[0][0]],je=ge[ge.length-1][0]&&ge[ge.length-1][0][0]?[ge[ge.length-1][0][1],ge[ge.length-1][0][0]]:[ge[ge.length-1][1],ge[ge.length-1][0]],_&&_.distances)){let e=0,t=0,s=10;switch(b){case 15:s="long"===ie?3:1;break;case 14:s="long"===ie?5:2;break;case 13:s="long"===ie?7:3;break;case 12:s="long"===ie?10:5;break;case 11:case 10:s="long"===ie?15:10;break;case 9:s="long"===ie?20:15;break;case 8:s="long"===ie?30:20;break;case 7:s="long"===ie?40:30;break;case 6:s="long"===ie?70:50;break;case 5:s="long"===ie?150:100;break;default:s="long"===ie?200:150}_.distances.forEach((a,o)=>{e+=c.imperial?i(a):a,t+=c.imperial?i(a):a,t>=s&&(t=0,ge[o]&&Array.isArray(ge[o])&&ve.push({lat:ge[o][1],lng:ge[o][0],title:Math.floor(e),body:""}))})}const{isAdmin:we}=t;return Object(r.h)(e,null,Object(r.h)("div",{class:f.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:O.a.captureAllEvents,onScroll:O.a.captureAllEvents},Object(r.h)(v.a,{bounds:p,ref:this.mapRef,onViewportChanged:this.handleViewportChanged,minZoom:H,maxZoom:V,center:B,onLocationfound:this.handleLocationFound,zoom:N,zoomControl:ee,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:J||!P.a.Browser.mobile,tap:!P.a.Browser.mobile,touchZoom:!!P.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:`width: 100%; min-height: ${X}px; height: 100%;`,className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},te&&Object(r.h)(j.b,{position:le},Object(r.h)(F,{checked:"OpenStreetMap.Mapnik"===a,name:"OpenStreetMap.Mapnik"},Object(r.h)(w.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(r.h)(F,{checked:"OpenStreetMap.Dark"===a,name:"OpenStreetMap.Dark"},Object(r.h)(w.a,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Â© Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(r.h)(F,{checked:"Norway Kartverket topo4"===a,name:"Norway Kartverket topo4"},Object(r.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(r.h)(F,{checked:"Norway Kartverket topo4graatone"===a,name:"Norway Kartverket topo4graatone"},Object(r.h)(w.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(r.h)(F,{checked:"Google Satellite Text"===a,name:"Google Satellite Text"},Object(r.h)(w.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),we&&Object(r.h)(E,{name:"Windspeed"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),we&&Object(r.h)(E,{name:"Temperature"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),we&&Object(r.h)(E,{name:"Precipitation"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),we&&Object(r.h)(E,{name:"Atmospheric pressure"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"})),we&&Object(r.h)(E,{name:"Snow depth"},Object(r.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=7faae595b3c104f7211880c26bef9778",attribution:"Open weather maps"}))),ae&&Object(r.h)(y.a,{metric:!0,imperial:!1}),h.Windspeed&&Object(r.h)($.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Wind speed, m/s"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0"),Object(r.h)("div",null,"2"),Object(r.h)("div",null,"3"),Object(r.h)("div",null,"6"),Object(r.h)("div",null,"12"),Object(r.h)("div",null,"25"),Object(r.h)("div",null,"50")),Object(r.h)("div",{style:" width: 260px; height: 5px; // background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(158, 128, 177), rgba(116, 76, 172, 0.9), rgb(164, 123, 170), rgba(170, 128, 177, 0.84), rgba(176, 128, 177, 0.71), rgba(170, 128, 177, 0.54), rgba(170, 128, 177, 0.44), rgba(255, 255, 0, 0)) repeat scroll 0% 0%; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),h.Temperature&&Object(r.h)($.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Temperature, Â°C"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"-40"),Object(r.h)("div",null,"-20"),Object(r.h)("div",null,"0"),Object(r.h)("div",null,"20"),Object(r.h)("div",null,"40")),Object(r.h)("div",{style:" width: 260px; height: 5px; background-image: linear-gradient(to right, rgb(159, 85, 181) 0%, rgb(44, 106, 187) 8.75%, rgb(82, 139, 213) 12.5%, rgb(103, 163, 222) 18.75%, rgb(142, 202, 240) 25%, rgb(155, 213, 244) 31.25%, rgb(172, 225, 253) 37.5%, rgb(194, 234, 255) 43.75%, rgb(255, 255, 208) 50%, rgb(254, 248, 174) 56.25%, rgb(254, 232, 146) 62.5%, rgb(254, 226, 112) 68.75%, rgb(253, 212, 97) 75%, rgb(244, 168, 94) 82.5%, rgb(244, 129, 89) 87.5%, rgb(244, 104, 89) 93.75%, rgb(244, 76, 73) 100%); "})))),h.Precipitation&&Object(r.h)($.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Precipitation, mm/h"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0"),Object(r.h)("div",null,"0.5"),Object(r.h)("div",null,"1"),Object(r.h)("div",null,"2"),Object(r.h)("div",null,"4"),Object(r.h)("div",null,"6"),Object(r.h)("div",null,"7"),Object(r.h)("div",null,"10"),Object(r.h)("div",null,"12"),Object(r.h)("div",null,"14"),Object(r.h)("div",null,"16"),Object(r.h)("div",null,"24"),Object(r.h)("div",null,"32"),Object(r.h)("div",null,"60")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(170, 43, 195), rgb(255, 0, 146), rgb(255, 0, 100), rgb(255, 0, 0), rgb(255, 91, 0), rgb(255, 150, 0), rgb(255, 205, 0), rgb(239, 248, 0), rgb(0, 70, 0), rgb(0, 90, 0), rgb(0, 160, 0), rgb(0, 211, 0), rgb(0, 250, 100), rgba(0, 0, 0, 0)) repeat scroll 0% 0%; "})))),h["Snow depth"]&&Object(r.h)($.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Snow depth (m)"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"0.05"),Object(r.h)("div",null,"0.4"),Object(r.h)("div",null,"0.8"),Object(r.h)("div",null,"1.8"),Object(r.h)("div",null,"15")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #EDEDED, #D9F0F4, #A5E5EF, #7DDEED, #35D2EA, #00CCE8, #706DCE, #514FCC, #3333CC, #1818CC, #C454B7, #C12CB0, #BF00A8, #85408C, #7F2389, #790087, #E80068) repeat scroll 0% 0%; "})))),h["Atmospheric pressure"]&&Object(r.h)($.a,{position:"bottomright"},Object(r.h)("div",{style:" color: #48484a; display: flex; align-items: center; padding: 2pt 4pt; background-color: #fff; border-radius: 4pt; box-shadow: 0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24); transition: box-shadow .1s ease-out; transition: box-shadow .1s ease-out,-webkit-box-shadow .1s ease-out; margin-bottom: 10px; justify-content: space-between; font-size: 10px; "},Object(r.h)("div",null,"Atmospheric pressure (hPa)"),Object(r.h)("div",{style:" margin-left: 10px; display: flex; flex-direction: column; "},Object(r.h)("div",{style:"width: 260px; display: flex; justify-content: space-between;",class:"scale-dividers"},Object(r.h)("div",null,"940"),Object(r.h)("div",null,"980"),Object(r.h)("div",null,"1010"),Object(r.h)("div",null,"1040"),Object(r.h)("div",null,"1080")),Object(r.h)("div",{style:" width: 260px; height: 5px; background: linear-gradient(to right, #0073FF,#00AAFF,#4BD0D6,#8DE7C7,#B0F720,#F0B800,#FB5515,#F3363B,#C60000) repeat scroll 0% 0%; "})))),Z&&Z.length>0&&Object(r.h)(D.a,{fitBoundsOnLoad:!fe,fitBoundsOnUpdate:!1,points:Z,longitudeExtractor:e=>e[1],latitudeExtractor:e=>e[0],intensityExtractor:e=>parseFloat(e[2])}),ne&&Object(r.h)(e,null,ge&&ge.length>0&&Object(r.h)(u.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(ge),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+he})),U&&U.length>0&&U.map((e,t)=>Object(r.h)(x.a,{data:e,style:()=>this.geoJSONStyleList(t)})),!q&&M&&Oe&&Object(r.h)(x.a,{data:M,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,onAdd:C&&C.length>0?null:this.zoomToGeoJSON}),Oe&&Object(r.h)(S.a,{position:Oe,icon:L.a.get("marker")},Object(r.h)(I.a,null,"Start position: ",l.a.format(Oe[0],4),", ",l.a.format(Oe[1],4))),je&&Object(r.h)(S.a,{position:je,icon:L.a.get("flag")},Object(r.h)(I.a,null,"End position: ",l.a.format(je[0],4),", ",l.a.format(je[1],4))),ce&&ve&&ve.length>0&&Object(r.h)(e,null,ve.length>0&&ve.map(e=>Object(r.h)(S.a,{position:[e.lat,e.lng],draggable:!1,icon:L.a.getDistanceMarker({title:e.title,body:e.body,color:e.color,textColor:"#333"})},Object(r.h)(I.a,{position:[e.lat,e.lng]},Object(r.h)("h5",null,e.title),Object(r.h)(m.a,{markdown:e.body,markdownOpts:R}))))),T.length>0&&T.reverse().map((e,t)=>Object(r.h)(S.a,{position:[e.lat,e.lng],draggable:!1,icon:L.a.getSmallMarker({icon:e.icon||"marker",bib:e.bib,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,mapChecked:a}),zIndexOffset:100+t})),re?Object(r.h)(e,null,Object(r.h)(z.a,{maxClusterRadius:10,iconCreateFunction:W,animate:!0,fitBoundsOnLoad:G},A.length>0&&A.reverse().map((e,t)=>Object(r.h)(S.a,{position:[e.lat,e.lng],draggable:!1,icon:L.a.getMarker({icon:e.icon||"marker",bib:e.bib,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,mapChecked:a}),zIndexOffset:200+t}))),Object(r.h)(z.a,{maxClusterRadius:10,iconCreateFunction:W,animate:!0,fitBoundsOnLoad:G},g.length>0&&g.reverse().map((e,t)=>Object(r.h)(S.a,{position:[e.lat,e.lng],draggable:!1,icon:L.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,rank:e.rank,speed:e.speed,bearing:e.bearing,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:180,iconAnchorX:t%2==0?7:187,mapChecked:a}),onClick:t=>this.handleMarkerClick(o(o({},e),{},{e:t})),zIndexOffset:300+t})))):Object(r.h)(e,null,A.length>0&&A.reverse().map((e,t)=>Object(r.h)(S.a,{position:[e.lat,e.lng],draggable:!1,icon:L.a.getMarker({icon:e.icon||"marker",bib:e.bib,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconHeight:20,iconAnchorX:7,iconAnchorY:7,dotWidth:14,dotHeight:14,mapChecked:a}),zIndexOffset:200+t})),g.length>0&&g.reverse().map((e,t)=>Object(r.h)(S.a,{position:[e.lat,e.lng],draggable:!1,icon:L.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:200,iconAnchorX:t%2==0?7:193,mapChecked:a}),onClick:t=>this.handleMarkerClick(o(o({},e),{},{e:t})),zIndexOffset:300+t}))))),oe&&de&&de.length>0&&Object(r.h)(e,null,Object(r.h)("div",{class:"mb-4"},Object(r.h)("div",{class:"float-right mt-1"},Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(me,0),Object(r.h)("span",{class:"text-muted"},"speed"===he?"km/t":"%")))),de&&de.length>0&&de.map((e,t)=>Object(r.h)("div",{class:"float-left"},Object(r.h)("div",{style:`background-color: ${be[t].color}; height: 13px; width: 10px;`}))),Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(pe,0),Object(r.h)("span",{class:"text-muted"},"speed"===he?"km/t":"%"))))))))}})||c;t.a=M}).call(this,s("hosL").Fragment)},"JWe/":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function c(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var r,l=s("hosL"),h=s("Utv1"),d=s("/eY4"),b=s("cneo"),m=s("OhSV"),p=s("fh8t"),u=s.n(p),g=(s("UJvz"),s("sqi2")),f=s("/922"),O=s("s4FZ"),j=s("ZQlJ"),v=s("q/oJ"),w=s("gWxU"),k=s("Nanz"),y=s("+JSK"),x=s("vY+r"),S=s("nHdA"),I=s("irB3"),A=s("UwwE"),D=s("8Lgr"),T=s("QkTp"),z=s("ZOvn");const U=z.a.getMaxLoadIndex(),$={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let L=Object(d.a)(r=class extends l.Component{constructor(e){var t;super(e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.likeWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=t.props,a=s.id,{likeWorkout:o}=t.state;o[a]=!0,t.setState({likeWorkout:o}),setTimeout(()=>{const{likeWorkout:e}=t.state;delete e[a],t.setState({likeWorkout:e})},1200);await e.likeWorkout({id:a})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.shareLink=e=>{const{url:t,title:s,text:a}=e.target.closest("button").dataset,{appState:o}=this.props.stores;o.shareUrl({url:t,title:s,text:a})},this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.onDogClick=(e,t,s)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=o({},$),this.updateTimer={},this.inputRef={}}render(){const{showDate:t,showAddComment:s,viewImageIdx:a={},likeWorkout:n,dogs:r,showTeam:d,showDog:p}=this.state,{workout:$,showDate:L,wrapperClasses:C="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:P="row"}=this.props,{userStore:R,appState:F,workoutStore:E}=this.props.stores,{viewmode:W,hasShareApi:M}=F,{user:_,dogs:Y}=R,{language:B="en"}=_,N=R.findIntensity({code:$.intensity,language:B})||{},H=R.findTeam($.team,!0)||{},V=H.name,K=[];V&&K.push(V),$.teams&&$.teams.forEach(e=>{R.findTeam(e)&&K.push(R.findTeam(e))});const{likes:X=[],comments:Z=[]}=$,q=$.likes&&$.likes.findIndex(e=>e.user===_.id)>-1,{gpxInfo:G={},mushers:J=[]}=$,{loadIndex:Q=0}=G,ee=R.findEquipment({equipment:$.equipment,language:B}),te=R.findEquipment({equipment:$.equipment,field:"icon"}),se=[];J.length>1&&J.slice(1,10).map(e=>{const t=E.findPublicUser(e)||{};t.images&&t.images[0]&&se.push(t.images[0])});const ae=E.findPublicUser(J[0])||{};let oe;ae&&ae.images&&ae.images[0]?oe=ae.images[0]:H.image&&H.image.s3SmallLink?oe=H.image:H.images&&H.images[0]&&H.images[0].s3SmallLink?oe=H.images[0]:$.image&&$.image.s3SmallLink&&(oe=$.image);const ne=[];if($.mapImage&&ne.push(o(o({},$.mapImage),{},{type:"map"})),$.images){const e=Object(b.i)($.images);ne.push(...e)}let ie;$&&$.gpxInfo&&$.gpxInfo.battegryLevelStart&&(ie=100*($.gpxInfo.battegryLevelStart-$.gpxInfo.battegryLevelEnd));const ce=z.a.getViews($.statistics);return Object(l.h)(e,null,d&&Object(l.h)(v.a,null,Object(l.h)(w.default,{stores:this.props.stores,teamid:d,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),p&&Object(l.h)(v.a,null,Object(l.h)(k.default,{stores:this.props.stores,dogid:p,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:r})),Object(l.h)("div",{class:"w-100 mb-2"},Object(l.h)("div",{class:P},Object(l.h)("div",{class:C+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"text-center"},Object(l.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+i($),style:(oe?`background-image: url("${oe.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!oe&&Object(l.h)("i",{class:`${c($)} text-${N.class?N.class:"muted"} mt-3`,style:"font-size: 40px;"}),se&&se.map((t,s)=>Object(l.h)(e,null,Object(l.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${t.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==$.temperature&&Object(l.h)(e,null,Object(l.h)("span",{class:"text-muted font-weight-light"},Object(l.h)(T.a,{stores:this.props.stores,value:$.temperature})))),Object(l.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(l.h)("span",{class:"float-right"},1===$.isLocked&&Object(l.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===$.isInProgress&&Object(l.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===$.isInProgress&&Object(l.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(l.h)("a",{class:"stretched-link",href:"/workouts/"+$.id},Object(l.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},$.name)),K&&K.length>0&&Object(l.h)("small",{class:"font-weight-lighter"},K.map((t,s)=>Object(l.h)(e,null,s>0?", ":"",t))),Object(l.h)("br",null),Object(l.h)("small",{class:"text-muted"},$.date&&Object(l.h)("small",{onClick:this.toggleDate},L||t?h.a.formatDate($.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):h.a.formatDistance($.date,new Date,{locale:"no-NB"})),Object(l.h)("span",{class:`badge badge-${N.class} ml-2`},N.name),Q>0&&Object(l.h)("span",{class:"ml-2 text-"+z.a.getLoadIndexColor(h.a.normalizeBetween(Q,0,U,0,100))},Object(l.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(h.a.normalizeBetween(Q,0,U,0,100))," -Â ",z.a.getLoadIndexText(h.a.normalizeBetween(Q,0,U,0,100))),Object(l.h)("br",null)),Object(l.h)("small",null,Object(l.h)("div",{class:"text-muted"},$.garminId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),$.stravaId>0&&Object(l.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),$.equipment>0&&Object(l.h)(e,null,Object(l.h)("i",{class:te+" ml-2"})," ",ee),$.dogs>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-dog ml-2"})," ",$.dogs.length),$.track>0&&Object(l.h)(e,null,Object(l.h)("i",{class:`fas fa-map-marked text-${$.track>0?"success":"danger"} ml-2`})),$.dogsLeft>0&&Object(l.h)(e,null,Object(l.h)("i",{class:`fas fa-crosshairs text-${$.dogsLeft&&$.dogsRight?"success":"danger"} ml-2`})),$.sledWeight>0&&Object(l.h)(e,null,Object(l.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(l.h)(A.a,{stores:this.props.stores,value:$.sledWeight})),ie>0&&Object(l.h)("span",{class:"text-muted ml-2"},Object(l.h)("i",{class:"fas fa-battery-three-quarters"})," ",h.a.format(ie,1),"% ",Object(l.h)(m.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(W)>-1&&Object(l.h)("span",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-balance-scale"})," ",h.a.format($.kcalBurnedTotal)," ",Object(l.h)(m.c,{id:"workout.kcal"},"kcal"),Object(l.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(l.h)(A.a,{stores:this.props.stores,value:$.kcalMeatGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-fish ml-2"})," ",Object(l.h)(A.a,{stores:this.props.stores,value:$.kcalSalmonGramsTotal/1e3}),Object(l.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(l.h)(A.a,{stores:this.props.stores,value:$.kcalFatGramsTotal/1e3}))))),Object(l.h)("div",{class:C+" position-relative mt-2"},Object(l.h)("strong",null,$.description)),Object(l.h)("div",{class:C+" position-relative"},Object(l.h)(u.a,{markdown:z.a.replaceImages($.comment,$.images,B),markdownOpts:z.a.getMarkdownOptions()})),Object(l.h)("div",{class:C+" d-flex mb-0 position-relative"},Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row mt-1"},$.distanceKm>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-road"})," ",Object(l.h)(m.c,{id:"workout.calendar.distance"},"Distanse"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(D.a,{stores:this.props.stores,value:$.distanceKm}))),$.elevation>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-mountain"})," ",Object(l.h)(m.c,{id:"workout.calendar.ascend"},"HÃ¸ydemeter"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(l.h)(I.a,{stores:this.props.stores,value:$.elevation}))),$.duration>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-clock"})," ",Object(l.h)(m.c,{id:"workout.calendar.duration"},"Varighet"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},h.a.secToHms($.duration,!0))),$.speedAvg>0&&Object(l.h)("div",{class:"col-3"},Object(l.h)("div",{class:"text-overflow"},Object(l.h)("small",null,Object(l.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(l.h)(m.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(l.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},$.gpxInfo&&$.gpxInfo.avgGpsMovingSpeed>0?Object(l.h)(e,null,Object(l.h)(S.a,{stores:this.props.stores,value:3.6*$.gpxInfo.avgGpsMovingSpeed})):Object(l.h)(e,null,Object(l.h)(S.a,{stores:this.props.stores,value:$.speedAvg}))))))),["beta","advanced","normal"].indexOf(W)>-1&&Object(l.h)("div",{class:""+C},Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row"},Object(l.h)(O.a,{stores:this.props.stores,images:ne,id:$.id,dblClick:this.likeWorkout,likeRef:n})))),["beta","advanced","normal"].indexOf(W)>-1&&Object(l.h)(e,null,$.dogs&&$.dogs.length>0&&Object(l.h)("div",{class:"container-fluid px-0 mt-1"},Object(l.h)("div",{class:"row pt-2"},Object(l.h)(j.a,{stores:this.props.stores,dogs:$.dogs,allDogs:Y,onDogClick:this.onDogClick}))),Object(l.h)("div",{class:"mt-2"},Object(l.h)(y.a,{stores:this.props.stores,likes:X,comments:Z,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(W)>-1&&Object(l.h)(e,null,Object(l.h)("div",{class:C+" mb-0 position-relative mt-2"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:`btn btn-sm btn-outline-${q?"primary":"secondary"} btn-lg btn-block ${q?"text-primary":""}`,onClick:this.likeWorkout},Object(l.h)("i",{class:(q?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(l.h)(m.c,{id:"comments.like"},"Lik"))),Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":$.id,onClick:this.toggleAddComment},Object(l.h)("i",{class:"fas fa-comment"})," ",Object(l.h)(m.c,{id:"comments.comment-add"},"Kommentar"))),M?Object(l.h)(e,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+$.uuidv4,"data-title":"title: "+$.name},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(m.c,{id:"workout.share"},"Del")))):Object(l.h)(e,null,Object(l.h)("div",{class:"col text-center"},Object(l.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+$.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(l.h)("i",{class:"fas fa-share"})," ",Object(l.h)(m.c,{id:"workout.share"},"Del")))))),Object(l.h)("div",{class:C+" mt-2 mb-3"},s&&Object(l.h)(f.a,{stores:this.props.stores,workout:$,inputRef:e=>this.inputRef[$.id]=e,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(l.h)(g.a,{stores:this.props.stores,workout:$,col:"10",offset:"2",compact:!0})),ce>0&&Object(l.h)(e,null,Object(l.h)("div",{class:"mt-2"},Object(l.h)(x.a,{stores:this.props.stores,views:ce,object:$,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||r;t.a=L}).call(this,s("hosL").Fragment)},K9Qx:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("go65"),r=s("OhSV"),l=(s("nHdA"),s("irB3"),s("UwwE"),s("8Lgr")),h=(s("QkTp"),s("ZOvn"));const d=[0,6];let b=Object(i.a)(a=class extends o.Component{constructor(...e){var t;super(...e),t=this,this.setFocus=()=>{this.inputRef&&this.inputRef.focus()},this.editMonth=e=>{this.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:null,inputWeek:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},()=>this.setFocus())},this.editWeek=e=>{this.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,inputMonth:null,inputDay:null,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},()=>this.setFocus())},this.editDay=e=>{this.setState({showInput:!0,inputYear:e.target.parentElement.dataset.year||e.target.dataset.year,inputMonth:e.target.parentElement.dataset.month||e.target.dataset.month,inputDay:e.target.parentElement.dataset.day||e.target.dataset.day,inputWeek:e.target.parentElement.dataset.week||e.target.dataset.week,newDistance:e.target.parentElement.dataset.distance||e.target.dataset.distance||null},()=>this.setFocus())},this.saveDistance=async function(){const{workoutPlanStore:e,workoutStore:s,userStore:a}=t.props.stores,{currentTeam:o}=s,i=a.findTeam(o)||"",{year:c,month:r}=t.props,{workoutPlans:l}=e,h=l[0]||{},{inputYear:d,inputMonth:b,inputWeek:m,inputDay:p,newDistance:u}=t.state,g=r||(new Date).getMonth()+1,f=c||n.a.getYear(),O=parseInt(g<8?f-1:f,10);if(h.id)await e.load(h.id);else{const t=await e.insert({title:`Workout plan for ${O} - ${O+1}: ${i}`,team:o,seasonYear:O,seasonMonth:6}),{id:s}=t.data;await e.load(s)}const{workoutPlan:j}=e,{id:v}=j;let w;d&&(w=p?"days":"weeks"),await e.saveField(v,w,{year:d,month:b,day:p,week:m,distance:u}),await e.load(v),t.resetInput(!0)},this.resetInput=e=>{if(e){const{inputYear:e,inputMonth:t,inputDay:s}=this.state,a=n.a.addDays(new Date(e,t-1,s,0,0,0,0),1);this.setState({showInput:!0,inputYear:a.getFullYear(),inputMonth:a.getMonth()+1,inputDay:a.getDate(),inputWeek:n.a.getWeek(a),newDistance:null}),this.setFocus()}else this.setState({showInput:!1,inputYear:null,inputMonth:null,inputDay:null,inputWeek:null,newDistance:null})},this.checkKeydown=e=>{switch(e.key){case"Enter":this.saveDistance();break;case"Escape":this.resetInput()}},this.updateWorkoutPlanTips=()=>{const{userStore:e}=this.props.stores,{user:t={}}=e,{settings:s={}}=t;this.setState({hideWorkoutPlanTips:s.hideWorkoutPlanTips})},this.toggleTips=async function(){const{hideWorkoutPlanTips:e}=t.state,{userStore:s}=t.props.stores,a=1===e?0:1;t.setState({hideWorkoutPlanTips:a}),await s.updateSetting({"settings.hideWorkoutPlanTips":a},{hideWorkoutPlanTips:a})}}componentDidMount(){this.updateWorkoutPlanTips()}render(){const{hideWorkoutPlanTips:t}=this.state,{appState:s,workoutPlanStore:a,userStore:i,teamStore:b}=this.props.stores,{user:m}=i,{language:p="en"}=m,{darkmode:u}=s,g=h.a.getDays(p),f=h.a.getMonths(p),{showInput:O,inputYear:j,inputMonth:v,inputWeek:w,inputDay:k,newDistance:y}=this.state,x=(new Date).getDate(),S=(new Date).getMonth()+1,I=(new Date).getFullYear(),A=(new Date).getTime(),{month:D=S,year:T=I,dog:z,basehref:U,showNavigation:$=!0,showHeader:L=!0,currentTeam:C}=this.props,P=parseInt(D<8?T-1:T,10),R=parseInt(D,10),F=parseInt(T,10),{month:E,year:W}=h.a.getNextMonth(R,F),{month:M,year:_}=h.a.getPrevMonth(R,F),Y=n.a.getDaysInMonth(D,T),B=n.a.getWeeksInMonth(D,T),N=n.a.getDaysInWeek(B[0].week,T,D);let H=0,V=0,K=0;const X=Y[Y.length-1].getTime()>A,Z=a.findWorkoutPlanSummaryMonth(T,R)||{},{workoutPlan:q,tips:G}=a,J=G[`${T}-${n.a.padDate(D)}`],Q=J&&(J.comments.length>0||J.distance),ee=b.findTeam(C)||{};return Object(o.h)(e,null,L&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center"},$&&Object(o.h)("a",{href:`${U||"/workouts/month/"}${E}/${W}/skipScroll`,class:"float-right btn btn-sm btn-outline-secondary ml-2"},Object(o.h)("i",{class:"fas fa-arrow-right"})),$&&Object(o.h)("a",{href:`${U||"/workouts/month/"}${M}/${_}/skipScroll`,class:"float-left btn btn-sm btn-outline-secondary mr-2"},Object(o.h)("i",{class:"fas fa-arrow-left"})),Object(o.h)("h3",null,Object(o.h)(r.c,{id:"workout.plan.month"},"MÃ¥ned")," - ",f[D-1]," ",T," ",Z.distance?`- ${n.a.format(Z.distance,0)} km`:""),Object(o.h)("h5",{class:"text-muted font-weight-light"},Object(o.h)(r.c,{id:"workout.plan.season"},"Sesongen")," ",P," - ",P+1),Object(o.h)("div",null,q.id?Object(o.h)(e,null,Object(o.h)("small",null,q.title)):Object(o.h)(e,null,Object(o.h)("div",{class:"display-4"},Object(o.h)("i",{class:"far fa-sad-tear text-muted"})),Object(o.h)("h5",{class:"font-weight-lighter text-muted"},Object(o.h)(r.c,{id:"workout.plan.no-workout-plan-found",fields:{name:ee}},"Ingen plan")),Object(o.h)("div",{class:"text-muted"},Object(o.h)(r.c,{id:"workout.plan.click-to-start"},"Click on a date to get started.")))),z&&Object(o.h)("div",null,z.name))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!(!(O&&j&&w)||k)&&Object(o.h)(e,null,Object(o.h)("div",{class:"form-inline w-100"},Object(o.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(o.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:`Enter distance for ${j} w${w}`,ref:e=>this.inputRef=e,onInput:Object(c.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:y||""})),Object(o.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(o.h)(r.c,{id:"workout.plan.save"},"Lagre")))),!!(O&&j&&v)&&Object(o.h)(e,null,Object(o.h)("div",{class:"form-inline w-100"},Object(o.h)("div",{class:"form-group w-75 mr-3 mb-0"},Object(o.h)("input",{class:"form-control w-100 form-control",type:"text",placeholder:`Enter distance for ${j}-${n.a.padDate(v)} ${k?"-"+n.a.padDate(k):""}`,ref:e=>this.inputRef=e,onInput:Object(c.a)(this,"newDistance"),onKeydown:this.checkKeydown,autocomplete:"off",value:y||""})),Object(o.h)("button",{type:"button",class:"btn btn-primary",onClick:this.saveDistance},Object(o.h)(r.c,{id:"workout.plan.save"},"Lagre"))))),"no"===p&&Object(o.h)(e,null,t?Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(o.h)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:this.toggleTips},Object(o.h)("i",{class:"fas fa-eye"})," ",Object(o.h)(r.c,{id:"workout.plan.show-tips"},"Show tips")))):Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end"},Object(o.h)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:this.toggleTips},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(r.c,{id:"workout.plan.hide-tips"},"Hide tips"))))),Object(o.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(o.h)("div",{class:"table-responsive"},Object(o.h)("table",{class:"table table-striped table-sm"},Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(r.c,{id:"workout.plan.week"},"Uke"))),N.map(e=>Object(o.h)("th",null,Object(o.h)("small",null,g[e.getDay()]))),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(r.c,{id:"workout.plan.sum"},"Sum"))),Object(o.h)("th",{class:"text-muted"},Object(o.h)("small",null,Object(o.h)(r.c,{id:"workout.plan.planned"},"Plan"))))),Object(o.h)("tbody",null,B&&B.map(s=>{const c=n.a.getDaysInWeek(s.week,T,D),r=a.findWorkoutPlanSummaryWeek(n.a.asNumber(T),s.week)||{},b=c[6].getTime()>A;let m=0,g=0;r.distance>0&&(V+=r.distance);const f=G[`${T}-${n.a.padDate(D)}-w${n.a.padDate(s.week)}`],O=f&&(f.comments.length>0||f.distance);return Object(o.h)(e,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-right text-muted pt-3 border-right "+(k||j!=T||w!=s.week?"":"border rounded border-primary")},Object(o.h)("small",{onClick:this.editWeek,"data-week":s.week,"data-year":T,"data-distance":r.distance},s.week)),c.map(e=>{const t=e.getFullYear(),n=e.getMonth()+1,c=e.getDate(),r=e.getTime()>A,b=i.findWorkoutSummaryWeekDay(r?t-1:t,n,c,R)||{},p=a.findWorkoutPlanSummaryDay(t,n,c,R)||{};p&&p.distance&&(m+=p.distance,H+=p.distance),b.distanceKm&&(g+=b.distanceKm,K+=b.distanceKm);const f=j==t&&v==n&&k==c,O=I==t&&S==n&&x==c,w=d.indexOf(e.getDay())>-1;return Object(o.h)("td",{class:`text-center overflow-hidden font-weight-light position-relative pt-3 pb-3 border-right ${f?"calendarIsChosen":""} ${O?"calendarIsToday":""} ${w?"calendarIsWeekend":""}`,style:"font-size: 0.8em; min-width: 3rem;",onClick:this.editDay,"data-day":e.getDate(),"data-month":e.getMonth()+1,"data-year":T,"data-week":s.week,"data-distance":p.distance},Object(o.h)("div",{class:"position-absolute text-muted",style:"top: 0px; right: 2px; font-size: 0.7em;"},e.getDate()),p&&p.distance?Object(o.h)("div",{class:"rounded-pill w-100 px-1",style:`background-color: ${h.a.getPlanColor(p,u)};`},Object(o.h)(l.a,{stores:this.props.stores,value:p.distance}),p.count>1&&Object(o.h)("span",{class:"position-absolute text-danger",style:"bottom: 0; right: 0px; font-size: 0.6em;"},p.count)):"-",b.distanceKm>0&&Object(o.h)("span",{class:"position-absolute font-weight-bold",style:`bottom: 0; left: 0px; font-size: 0.85em; color: ${r?"#393DB1":"#2BAAA9"};`},Object(o.h)(l.a,{stores:this.props.stores,value:b.distanceKm})))}),Object(o.h)("td",{class:"text-right pt-3 pb-3 position-relative border-right",style:"font-size: 0.8em;"},Object(o.h)(l.a,{stores:this.props.stores,value:m}),g>0&&Object(o.h)("span",{class:"position-absolute",style:`bottom: 0; left: 0px; font-size: 0.85em; color: ${b?"#393DB1":"#2BAAA9"};`},Object(o.h)(l.a,{stores:this.props.stores,value:g}))),Object(o.h)("td",{class:"text-right pt-3 pb-3 text-muted border-right",style:"font-size: 0.8em;",onClick:this.editWeek,"data-week":s.week,"data-year":T,"data-distance":r.distance},r.distance>0&&Object(o.h)(e,null,Object(o.h)("div",{class:"rounded-pill w-100 px-1 text-white text-center",style:`background-color: ${h.a.getPlanColor(r,u)};`},Object(o.h)(l.a,{stores:this.props.stores,value:r.distance}))))),!t&&"no"===p&&f&&O&&Object(o.h)("tr",null,Object(o.h)("td",{colspan:"10",class:"pb-3"},Object(o.h)("h5",null,Object(o.h)("span",{class:"font-weight-lighter"},"Uke ",s.week," ",T,":"),"Tips fra FemundlÃ¸pet"),f.totalDistance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse"),": ",f.totalDistance," km"),f.distance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse pr Ã¸kt"),": ",f.distance),f.time&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Tid pr Ã¸kt"),": ",f.time),f.totalWorkouts>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list-ol"})," Antall Ã¸kter"),": ",f.totalWorkouts),f.avgSpeed&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",f.avgSpeed),f.comments&&Object(o.h)("div",null,f.comments.map(e=>Object(o.h)("p",null,e))))))})),Object(o.h)("tfoot",null,Object(o.h)("tr",null,Object(o.h)("td",{colspan:"8",class:"text-right pb-3"},Object(o.h)(r.c,{id:"workout.plan.totalkm"},"Totalt km")),Object(o.h)("td",{class:"text-right position-relative pb-3"},Object(o.h)(l.a,{stores:this.props.stores,value:H}),K>0&&Object(o.h)("span",{class:"position-absolute",style:`bottom: 0; left: 0px; font-size: 0.65em; color: ${X?"#393DB1":"#2BAAA9"};`},Object(o.h)(l.a,{stores:this.props.stores,value:K}))),Object(o.h)("td",{class:"text-right text-muted"},Object(o.h)(l.a,{stores:this.props.stores,value:V}))),!t&&"no"===p&&J&&Q&&Object(o.h)("tr",null,Object(o.h)("td",{colspan:"10",class:"pb-3"},Object(o.h)("h5",null,Object(o.h)("span",{class:"font-weight-lighter"},f[D-1]," ",T,":")," Tips fra FemundlÃ¸pet"),J.totalDistance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse"),": ",J.totalDistance," km"),J.distance>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Distanse pr Ã¸kt"),": ",J.distance),J.time&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Tid pr Ã¸kt"),": ",J.time),J.totalWorkouts>0&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list-ol"})," Antall Ã¸kter"),": ",J.totalWorkouts),J.avgSpeed&&Object(o.h)("div",null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Gjennomsnittsfart"),": ",J.avgSpeed),J.comments&&Object(o.h)("div",null,J.comments.map(e=>Object(o.h)("p",null,e))))))))))}})||a;t.a=b}).call(this,s("hosL").Fragment)},KDoM:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("nHdA"),l=s("irB3"),h=s("UwwE"),d=s("8Lgr"),b=(s("QkTp"),s("ZOvn"));let m=Object(i.a)(a=class extends o.Component{render(){const{dog:t}=this.props,{userStore:s,dogStore:a,appState:i}=this.props.stores,{user:m}=s,{language:p="en"}=m,{viewmode:u}=i,g=(new Date).getMonth()+1,f=(new Date).getFullYear(),{month:O=g,year:j=f}=this.props,v=parseInt(O<8?j-1:j,10),w=a.findWorkoutSummary(t.id,v)||{},k=t.statuses?t.statuses.map(e=>s.findDogstatus({status:e,language:p})):[],y=a.findVaccineStatuses(t.id),x=a.findVaccineLogStatuses(t.chipId),S=a.findHistoryStatuses(t.id),I=s.findDogstatus({status:t.status,language:p}),A=s.findDogposition({position:t.position,language:p}),D=[];s.findTeam(t.team)&&D.push(s.findTeam(t.team)),t.teams&&t.teams.forEach(e=>{s.findTeam(e)&&D.push(s.findTeam(e))});const T=b.a.hasBirthday(t.birth),z=t.birth?Math.ceil(b.a.daysUntilNextBirthday(t.birth)):365,{url:U="/dogs/"+t.id}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:""},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},n.a.ucfirst(t.name,!0))),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:`border-right: 4px solid ${s.findHarness(t.harness,"colorNonstop")} !important; line-height: 1.2em;`},Object(o.h)("span",{class:"float-right"},A&&Object(o.h)("span",{class:`badge badge-${A.class||"primary"} mr-3`},A.icon&&Object(o.h)("i",{class:A.icon})," ",A.name),z<7&&Object(o.h)(e,null,Object(o.h)("span",{class:"text-muted mr-2"},Object(o.h)("i",{class:"fas fa-birthday-cake"})," in ",z," days")),t.birth&&Object(o.h)("span",{class:"mr-2"},n.a.age(t.birth,t.deceased)),"female"===t.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:U},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.shortname||t.name," ",t.shortname&&""!==t.shortname&&Object(o.h)(e,null," - ",Object(o.h)("span",{class:"font-weight-lighter"},t.name)),T&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(o.h)("div",null,D&&D.length>0&&Object(o.h)("small",{class:"font-weight-lighter"},D.map((t,s)=>Object(o.h)(e,null,s>0?", ":"",t))),Object(o.h)("br",null)),Object(o.h)("small",{class:"text-muted"},t.history>0&&Object(o.h)("span",{class:"ml-0"},Object(o.h)("i",{class:"fas fa-file-signature"})," ",t.history.length),t.images>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-image"})," ",t.images.length),w&&w.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(d.a,{stores:this.props.stores,value:w.distanceKm})),w&&w.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:w.elevation})),w&&w.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(w.duration,!0)),w&&w.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(r.a,{stores:this.props.stores,value:w.speedAvg})),t.weight>0&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(o.h)(h.a,{stores:this.props.stores,value:t.weight})),t.bodyScore>0&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",n.a.format(t.bodyScore,1))),["beta","advanced","normal"].indexOf(u)>-1&&Object(o.h)(e,null,Object(o.h)("div",null,y&&y.map(e=>Object(o.h)("span",{class:"badge badge-success mr-2",title:n.a.isoDate(e.endDate,!1,!1,!0)},e.vaccineType,Object(o.h)("span",{class:"font-weight-light ml-3"},Object(o.h)("i",{class:"fas fa-calendar-check"})," ",n.a.isoDate(e.endDate,!1,!1,!0)))),S&&S.map(e=>Object(o.h)("span",{class:"badge badge-warning mr-2",title:n.a.isoDate(e.endDate,!1,!1,!0)},e.title)))),["beta","advanced"].indexOf(u)>-1&&Object(o.h)(e,null,t.positions&&t.positions.lead&&Object(o.h)("div",{class:""},t.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:t.positions.lead.distanceKm})),t.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:t.positions.point.distanceKm})),t.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:t.positions.team.distanceKm})),t.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-secondary mr-2"},Object(o.h)("span",{class:"font-weight-lighter"},Object(o.h)(c.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(o.h)(d.a,{stores:this.props.stores,value:t.positions.wheel.distanceKm})))),Object(o.h)("div",{class:"clearfix pb-0"},t.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",t.specialNeeds),I&&Object(o.h)("span",{class:`badge badge-${I.class} ml-2 mt-1 float-right`},I.icon&&Object(o.h)("i",{class:I.icon})," ",I.name),k&&k.map(t=>Object(o.h)(e,null,Object(o.h)("span",{class:`badge badge-${t.class} ml-2 mt-1 float-right`},t.icon&&Object(o.h)("i",{class:t.icon})," ",t.lang&&t.lang[p]?t.lang[p]:t.name)))),x&&x.length>0&&Object(o.h)(e,null,Object(o.h)("div",{class:"mt-2"},x&&x.filter(e=>e.chipId===t.chipId).map(e=>Object(o.h)("span",{class:`badge badge-${e.inKarens?"warning":"success"} mr-2 mb-1`},Object(o.h)("i",{class:"fas fa-user-md"})," ",e.vaccineAgens.name))))))))}})||a;t.a=m}).call(this,s("hosL").Fragment)},KOz6:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,c=s("hosL"),r=s("/eY4"),l=(s("cneo"),s("Utv1")),h=s("OhSV"),d=s("go65");let b=Object(r.a)(i=class extends c.Component{constructor(e){var t;super(e),t=this,this.handleAdd=()=>{const{data:e}=this.state,{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:o({},e)}),this.setState({data:{name:"",description:"",url:""}})},this.removeAchievement=async function(e){const{dogStore:s}=t.props.stores,{object:a}=t.props,{name:o,id:n}=e.target.closest("button").dataset;s.removeAchievement({id:a.id,name:o,achievementId:n})},this.state={data:{}}}render(){const{data:t}=this.state,{showFiles:s=!0,object:a={}}=this.props;return Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 mt-3"},s&&Object(c.h)(e,null,Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},(!a.achievements||0===a.achievements.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-trophy"})),Object(c.h)("h3",null,Object(c.h)(h.c,{id:"dogs.no-achievements-title"},"No achievements for this dog!")),Object(c.h)(h.c,{id:"dogs.no-achievements-text"},"You can add achievements to this dog. Ie. Memories, trips, tests, prices, races, etc."))),a.achievements&&a.achievements.map(e=>Object(c.h)("div",{class:"col-12 p-1"},Object(c.h)("span",{class:"font-weight-lighter mr-2"},l.a.isoDate(e.date,!1,!1,!0)),Object(c.h)("span",{class:"mr-2"},e.name),Object(c.h)("span",{class:"mr-2"},e.url),Object(c.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeAchievement,"data-name":e.name,"data-id":e.id},Object(c.h)("i",{class:"fas fa-trash-alt"})," Del"))))))),Object(c.h)("div",{class:"col-12 mt-3"},Object(c.h)("details",null,Object(c.h)("summary",null,Object(c.h)(h.c,{id:"dogs.achievement-add"},"Add new achievement")),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"name"},Object(c.h)(h.c,{id:"dogs.achievement-name"},"Name")),Object(c.h)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"data.name"),value:t.name}),Object(c.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-name-help"},"Name of achievement"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"date"},Object(c.h)(h.c,{id:"dogs.achievement-date"},"Date")),Object(c.h)("input",{type:"date",class:"form-control",id:"date","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"data.date"),value:t.date}),Object(c.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-date-help"},"Date of achievement"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"description"},Object(c.h)(h.c,{id:"dogs.achievement-description"},"Description")),Object(c.h)("input",{type:"text",class:"form-control",id:"description","aria-describedby":"descriptionHelp",onInput:Object(d.a)(this,"data.description"),value:t.description}),Object(c.h)("small",{id:"descriptionHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-description-help"},"Description of achievement"))),Object(c.h)("div",{class:"form-group"},Object(c.h)("label",{for:"url"},Object(c.h)(h.c,{id:"dogs.achievement-url"},"Url")),Object(c.h)("input",{type:"text",class:"form-control",id:"url","aria-describedby":"urlHelp",onInput:Object(d.a)(this,"data.url"),value:t.url}),Object(c.h)("small",{id:"urlHelp",class:"form-text text-muted"},Object(c.h)(h.c,{id:"dogs.achievement-url-help"},"URL of achievement"))),Object(c.h)("button",{class:"btn btn-success",onClick:this.handleAdd},Object(c.h)(h.c,{id:"dogs.achievement-add"},"Add achievement")))))}})||i;t.a=b}).call(this,s("hosL").Fragment)},QkTp:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(function(e){return 9*e/5+32}(t),0),"Â°F")):Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(t,1),"Â°C"))}})||a;t.a=c}).call(this,s("hosL").Fragment)},"R/Lk":function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=(s("ZOvn"),s("bbv7"));let l=Object(c.d)(()=>({week:Object(o.h)(c.c,{id:"workout.graph.week"}),distanceAvgAll:Object(o.h)(c.c,{id:"workout.graph.distance-avg-all"}),distanceAvg:Object(o.h)(c.c,{id:"workout.graph.distance-avg"}),ascendAvgAll:Object(o.h)(c.c,{id:"workout.graph.ascend-avg-all"}),ascendAvg:Object(o.h)(c.c,{id:"workout.graph.ascend-avg"}),speedAvgAll:Object(o.h)(c.c,{id:"workout.graph.speed-avg-all"}),speedAvg:Object(o.h)(c.c,{id:"workout.graph.speed-avg"}),durationAvgAll:Object(o.h)(c.c,{id:"workout.graph.duration-avg-all"}),durationAvg:Object(o.h)(c.c,{id:"workout.graph.duration-avg"}),realDurationAvgAll:Object(o.h)(c.c,{id:"workout.graph.real-duration-avg-all"}),realDurationAvg:Object(o.h)(c.c,{id:"workout.graph.real-duration-avg"}),loadIndex:Object(o.h)(c.c,{id:"workout.graph.load-index"}),loadIndexAll:Object(o.h)(c.c,{id:"workout.graph.load-index-all"}),plan:Object(o.h)(c.c,{id:"workout.graph.plan"})}))(a=Object(i.a)(a=class extends o.Component{render(){const{userStore:t}=this.props.stores,{week:s,distanceAvgAll:a,distanceAvg:i,ascendAvgAll:l,ascendAvg:h,speedAvgAll:d,speedAvg:b,durationAvg:m,durationAvgAll:p,loadIndex:u,loadIndexAll:g,year:f,teamAmbition:O,teamType:j,teamId:v}=this.props,{graphAvgWorkoutStatsDistance:w,graphAvgWorkoutStatsElevation:k,graphAvgWorkoutStatsSpeed:y,graphAvgWorkoutStatsDuration:x,graphAvgWorkoutStatsLoadIndex:S,graphWorkoutAvgWeekDistanceCurrent:I,graphWorkoutAvgWeekElevationCurrent:A,graphWorkoutAvgWeekSpeedCurrent:D,graphWorkoutAvgWeekDurationCurrent:T,graphWorkoutAvgWeekLoadIndexCurrent:z,graphAvgWorkoutStatsCount:U,user:$}=t,{settings:L={}}=$,C=(new Date).getMonth()+1,P=f||n.a.getYear(),R=parseInt(C<8?P-1:P,10),F=n.a.weekRange(R+"-08-01",R+1+"-07-31").map(e=>e.week),E=Math.floor(F.length/(F.length%6)),W=[];for(let e=0,t=F.length;e<t;e+=E)W.push(F[e]);return Object(o.h)(e,null,j&&Object(o.h)("a",{href:"/settings/team/"+v},Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},j)),O&&Object(o.h)("a",{href:"/settings/team/"+v},Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2 float-right"},O)),Object(o.h)("h5",null,Object(o.h)(c.c,{id:"workout.graph.title-avg"},"Gjennomsnitt")," ",R," - ",R+1),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(r.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:W,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[z,S],legendLeft:[`${R} ${u}`,`${R} ${g}`],dataFillLeft:[1],showYTicksLeft:1,avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[U],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(r.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:W,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[I,w],legendLeft:[`${R} ${i}`,`${R} ${a}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:L.imperial?"mi":"km",unitLeft:L.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[U],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(r.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:W,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[A,k],legendLeft:[`${R} ${h}`,`${R} ${l}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:L.imperial?"ft":"m",unitLeft:L.imperial?["ft","ft","ft"]:["m","m","m"],avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[U],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(r.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:W,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[D,y],legendLeft:[`${R} ${b}`,`${R} ${d}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:L.imperial?"mph":"km/t",avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[U],showYTicksRight:1,smoothRight:[1]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4"},Object(o.h)(r.a,{stores:this.props.stores,width:500,height:150,showXTicks:1,xTicksVal:e=>`${s} ${e}`,xTicks:W,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[T,x],legendLeft:[`${R} ${m}`,`${R} ${p}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftVal:e=>n.a.secToHms(e,!0),avgWindowLeft:[0,2],smoothLeft:[1,1],dataRight:[U],showYTicksRight:1,smoothRight:[1]})))}})||a)||a;t.a=l}).call(this,s("hosL").Fragment)},TiXY:function(e,t,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=(s("cneo"),s("Utv1"),s("OhSV")),c=s("u2zT");let r=Object(n.a)(a=class extends o.Component{constructor(e){super(e),this.handleAddImage=e=>{const{updateField:t,object:s,field:a}=this.props;t({id:s.id,field:a,value:e})},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:a=!1}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(i.c,{id:"form.files.upload-file"},"Last opp fil"),":",Object(o.h)("br",null),Object(o.h)(c.a,{handleAddImage:this.handleAddImage,apiUrl:"/api/fileupload",uploadStatus:e,before:t,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=r},UJvz:function(e,t,s){"use strict";var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV");let r=Object(i.a)(a=class extends o.Component{constructor(...e){super(...e),this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{e.stopPropagation(),this.setState({startY:e.touches[0].pageY})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=e=>{e.stopPropagation();const{close:t}=this.props,{startY:s,refreshing:a}=this.state,o=e.touches[0].pageY;if(this.appContainer){const{scrollTop:e}=this.appContainer;0===e&&o>s+30&&!a&&t()}}}render(){const{showDate:e}=this.state,{image:t,imagexxl:s,close:a,thumb:i,name:r,title:l,date:h}=this.props;return Object(o.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(o.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:a},"X"),Object(o.h)("div",{class:"d-flex mb-2 px-2"},i&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:i?`background-image: url("${i}");`:""},"Â "),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},r&&Object(o.h)("strong",{class:"mr-2"},r,":"),l,Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},h&&Object(o.h)("small",{onClick:this.toggleDate},e?n.a.formatDate(h,{locale:"no-NB"}):n.a.formatDistance(h,new Date,{locale:"no-NB"}))))),Object(o.h)("img",{src:t,class:"img-fluid align-middle mt-2 mb-2",onClick:a,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:e=>this.appContainer=e}),Object(o.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||t,download:s||t},Object(o.h)("i",{class:"fas fa-download"})," ",Object(o.h)(c.c,{id:"modal.download"},"Last ned bildet")))}})||a;t.a=r},UwwE:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:i={}}=a;return i.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(function(e){return 2.20462*e}(t),0)," lb")):Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(t,0)," kg"))}})||a;t.a=c}).call(this,s("hosL").Fragment)},WAWY:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=(s("ZOvn"),s("bbv7"));let l=Object(c.d)(()=>({week:Object(o.h)(c.c,{id:"workout.graph.week"}),distance:Object(o.h)(c.c,{id:"workout.graph.distance"}),duration:Object(o.h)(c.c,{id:"workout.graph.duration"},"Duration"),rest:Object(o.h)(c.c,{id:"workout.graph.rest"},"Rest"),ascend:Object(o.h)(c.c,{id:"workout.graph.ascend"}),plan:Object(o.h)(c.c,{id:"workout.graph.plan"}),speedAvg:Object(o.h)(c.c,{id:"workout.graph.speedavg"},"Speed"),loadIndex:Object(o.h)(c.c,{id:"workout.graph.loadindex"},"Loadindex"),avgDogs:Object(o.h)(c.c,{id:"workout.graph.avgdogs"},"Avg dogs"),avgImages:Object(o.h)(c.c,{id:"workout.graph.avgimages"},"Avg images"),sledWeight:Object(o.h)(c.c,{id:"workout.graph.sledweight"},"Sled weight"),rating:Object(o.h)(c.c,{id:"workout.graph.rating"},"Rating"),temperature:Object(o.h)(c.c,{id:"workout.graph.temperature"},"Temperature")}))(a=Object(i.a)(a=class extends o.Component{render(){const{userStore:t,workoutPlanStore:s}=this.props.stores,{user:a,graphWorkoutSummaryWeekDistanceCurrent:i,graphWorkoutSummaryWeekDistancePrev:l,graphWorkoutSummaryWeekElevationCurrent:h,graphWorkoutSummaryWeekElevationPrev:d,avgDayDistance:b,avgDayElevation:m,avgDayDuration:p,avgDaySpeedAvg:u,avgDayLoadIndex:g,avgDayAvgDogs:f,avgDayAvgImages:O,avgDaySledWeight:j,avgDayRest:v,avgDayRating:w,avgDayTemperature:k}=t,{settings:y={}}=a,{graphPlanWeekDistanceCurrent:x}=s,S=(new Date).getMonth()+1,I=(new Date).getFullYear(),{isLoading:A,week:D,distance:T,duration:z,rest:U,ascend:$,plan:L,speedAvg:C,loadIndex:P,avgDogs:R,avgImages:F,sledWeight:E,rating:W,temperature:M,year:_=I,month:Y=S,showExtra:B=!1}=this.props,N=parseInt(Y<8?_-1:_,10),H=n.a.weekRange(N+"-08-01",N+1+"-07-31"),V=n.a.dayRange(N+"-08-01",N+1+"-07-31"),K=H.map(e=>e.week),X=Math.floor(K.length/5),Z=[];for(let e=0,t=K.length;e<t;e+=X)Z.push(K[e]);const q=V.map(e=>`${e.day}.${e.month}`),G=Math.floor(q.length/5),J=[];for(let e=0,t=q.length;e<t;e+=G)J.push(q[e]);return Object(o.h)(e,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 border-top pt-5"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.total-distance"},"Total distance")),Object(o.h)(r.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>`${D} ${e}`,xTicks:Z,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,xTicksLink:"/workouts/week/",dataLeft:[i,l,x],legendLeft:[`${N} ${T}`,`${N-1} ${T}`,`${N} ${L}`],dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:y.imperial?"mi":"km",unitLeft:y.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:[h,d],legendRight:[`${N} ${$}`,`${N-1} ${$}`],showYTicksRight:1,yTicksRightPostfix:y.imperial?"ft":"m",unitRight:y.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[1,1]})),!A&&i&&i.length<3&&Object(o.h)("div",{class:"mb-5 py-3 border-top border-bottom"},Object(o.h)("div",{class:"text-left",style:"line-height: 1.0em;"},Object(o.h)("div",{class:"display-4 float-left text-warning mr-3"},Object(o.h)("i",{class:"fas fa-paw"})),Object(o.h)("small",null,Object(o.h)(c.c,{id:"workout.graph.too-little-data"},"ForelÃ¸pig er det litt lite data for Ã¥ kunne vise noen fine grafer. Etterhvert som du legger inn flere treninger sÃ¥ vil dette bli en fin tabell og graf som viser progresjonen din.")))),B&&Object(o.h)(e,null,Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-rating"},"Average rating/day")),Object(o.h)(r.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>""+e,xTicks:J,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[w],legendLeft:[`${N} ${W}`],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[k],legendRight:[`${N} ${M}`],showYTicksRight:1,yTicksRightPostfix:y.imperial?"Â°F":"Â°C",avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-distance"},"Average distance/day")),Object(o.h)(r.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>""+e,xTicks:J,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[b],legendLeft:[`${N} ${T}`],showYTicksLeft:1,yTicksLeftPostfix:y.imperial?"mi":"km",unitLeft:y.imperial?["mi","mi","mi"]:["km","km","km"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[m],legendRight:[`${N} ${$}`],showYTicksRight:1,yTicksRightPostfix:y.imperial?"ft":"m",unitRight:y.imperial?["ft","ft"]:["m","m"],avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-duration"},"Average duration/day")),Object(o.h)(r.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>""+e,xTicks:J,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:[p],legendLeft:[`${N} ${z}`],yTicksLeftVal:e=>""+n.a.secToHms(e),showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[v],legendRight:[`${N} ${U}`],showYTicksRight:1,yTicksRightVal:e=>""+n.a.secToHms(e),avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-speed"},"Average speed/day")),Object(o.h)(r.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>""+e,xTicks:J,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[u],legendLeft:[`${N} ${C}`],showYTicksLeft:1,yTicksLeftPostfix:y.imperial?"mph":"km/t",unitLeft:y.imperial?["mph","mph","mph"]:["km/t","km/t","km/t"],avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[g],legendRight:[`${N} ${P}`],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]})),Object(o.h)("div",{class:"w-100 mt-3 mb-4 mt-5 pt-5 border-top"},Object(o.h)("h5",{class:"text-center"},Object(o.h)(c.c,{id:"workout.graph.avg-dogs"},"Average dogs/day")),Object(o.h)(r.a,{stores:this.props.stores,width:500,height:200,showXTicks:1,xTicksVal:e=>""+e,xTicks:J,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:[f,O],legendLeft:[`${N} ${R}`,`${N} ${F}`],showYTicksLeft:1,avgWindowLeft:[0,0,0],smoothLeft:[0,0,0],dataRight:[j],legendRight:[`${N} ${E}`],showYTicksRight:1,avgWindowRight:[0,0],smoothRight:[0,0]}))))}})||a)||a;t.a=l}).call(this,s("hosL").Fragment)},XPU5:function(e,t,s){"use strict";var a,o=s("hosL"),n=(s("Utv1"),s("/eY4")),i=s("OhSV"),c=s("go65");let r=Object(n.a)(a=class extends o.Component{constructor(...e){var t;super(...e),t=this,this.inviteKennel=async function(){const{friendEmail:e}=t.state,{userStore:s}=t.props.stores,a=await s.inviteKennel({email:e});t.setState({response:a,inviteSent:!0})},this.inviteNew=()=>{this.setState({inviteSent:!1})},this.hideInvite=async function(){const{userStore:e}=t.props.stores;await e.updateSetting({"settings.hideInvite":1}),t.setState({hideInvite:!0})}}render(){const{inviteSent:e,hideInvite:t}=this.state,{userStore:s}=this.props.stores,{forceShow:a}=this.props,{user:n}=s,{settings:r={}}=n;return!a&&r.hideInvite||t?"":e?Object(o.h)("div",{class:"col-12"},Object(o.h)(i.c,{id:"users.invite.thanks"},"Takk for at du hjelper oss til Ã¥ bli flere ð"),Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2",onClick:this.inviteNew},Object(o.h)(i.c,{id:"users.invite.more"},"Invitere flere"))):Object(o.h)("div",{class:"col-12 pb-4 clearfix"},Object(o.h)("h5",null,Object(o.h)(i.c,{id:"users.invite.title"},"Inviter ny kennel til The Musher")),Object(o.h)("p",null,Object(o.h)(i.c,{id:"users.invite.text"},"Jeg hÃ¥per du vil hjelpe oss til Ã¥ bli flere. Appen vil bli lansert veldig snart og det er pÃ¥tide Ã¥ invitere inn flere brukere.")),Object(o.h)("div",null,Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(i.c,{id:"users.invite.email"},"E-post")),Object(o.h)(i.b,null,Object(o.h)("input",{type:"text",class:"form-control form-control-sm mb-2",id:"inlineFormInput",placeholder:Object(o.h)(i.c,{id:"users.invite.email-placeholder"},"E-post til ny kennel"),onInput:Object(c.a)(this,"friendEmail")}))),Object(o.h)("div",{class:"col-auto"},Object(o.h)("button",{type:"button",class:"btn btn-sm btn-primary mb-2",onClick:this.inviteKennel},Object(o.h)(i.c,{id:"users.invite.send"},"Send invitasjon"))))),!a&&Object(o.h)("button",{type:"button",class:"btn btn-sm btn-link mb-2 float-left",onClick:this.hideInvite},Object(o.h)("i",{class:"fas fa-eye-slash"})," ",Object(o.h)(i.c,{id:"users.invite.hide"},"Skjul")))}})||a;t.a=r},ZQlJ:function(e,t,s){"use strict";var a,o=s("hosL"),n=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("NDEG"));let c=Object(n.a)(a=class extends o.Component{constructor(e){super(e),this.scrollImages=e=>{const{scrollLeft:t,clientWidth:s}=e.target,a=t/s,o=Math.round(a),n=Math.abs(o-a);(Number.isInteger(a)||n<.1)&&this.setState({imageIdx:o})},this.sortByName=(e,t)=>{const{allDogs:s=[]}=this.props,a=s.find(t=>t.id===e),o=s.find(e=>e.id===t);return a&&o&&a.name>o.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:e,allDogs:t=[],size:s="medium",onDogClick:a=(()=>{})}=this.props;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},e&&e.sort(this.sortByName).map(n=>{const c=t.find(e=>e.id===n);return c?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},Object(o.h)(i.a,{stores:this.props.stores,dog:c,dogs:t.filter(t=>e.indexOf(t.id)>-1).sort((e,t)=>e.name>t.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:a}))):""})))}})||a;t.a=c},aKPM:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i,c=s("hosL"),r=s("Utv1"),l=s("/eY4"),h=s("Y3FI"),d=s("OhSV"),b=s("fh8t"),m=s.n(b),p=s("X9Km"),u=s("ZOvn"),g=s("KDoM"),f=s("Gx/q"),O=s("/F9p"),j=s("jtG4"),v=s("WAWY"),w=s("R/Lk"),k=s("0SNj"),y=s("9Bb9"),x=s("JWe/"),S=s("HqZR"),I=(s("wM2g"),s("XPU5"),s("rWES")),A=s("om2D"),D=s("TiXY"),T=s("KOz6"),z=s("6GRK"),U=s("s4FZ"),$=s("K9Qx"),L=s("epqT"),C=s("/DnB");const P=u.a.marginTop(!1),R=u.a.marginTopBack(!1),F=u.a.marginBottom(),E={newTeam:{},submenu:"stats"};let W=Object(l.a)(n=class extends c.Component{constructor(...e){var t;super(...e),t=this,this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.removeImage=async function(e){const{teamStore:s}=t.props.stores,{team:a}=t.props;s.removeImage({id:a.id,name:e.target.parentElement.dataset.name||e.target.dataset.name})},this.removeMainImage=()=>{const{team:e,field:t,updateField:s}=this.props;s({id:e.id,field:t,value:{}})}}render(){const{saved:t,team:s,field:a,icon:o,title:n,type:i,help:l,onInput:h,updateField:b,datalist:m=[],showImages:p=!0,showFiles:u=!0,addToImages:g=!0}=this.props,f=s[a];return"datalist"===i?Object(c.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)("input",{list:"list-"+a,class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h}),Object(c.h)("datalist",{id:"list-"+a},m.map(e=>Object(c.h)("option",{value:e[0]},e[1]))),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"select"===i?Object(c.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)("select",{list:"list-"+a,class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h,autocomplete:"off"},Object(c.h)("option",{value:""},"-- ",Object(c.h)(d.c,{id:"teams.choose-country"},"Velg land")," --"),m.map(e=>Object(c.h)("option",{value:e[0]},e[1]))),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"image"===i?Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},s[a]&&s[a].s3SmallLink&&Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:s[a].s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":s[a].name},Object(c.h)("i",{class:"fas fa-trash"})," Del"),Object(c.h)("span",{class:"badge badge-success"},"Main")),p&&Object(c.h)(e,null,s.images&&s.images.map(e=>Object(c.h)("div",{class:"col-3 p-1"},Object(c.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(c.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash"})," Del")))))),Object(c.h)(A.a,{saved:t,object:s,field:a,updateField:b,addToImages:g,autoOpen:!1}),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"toggle"===i?Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)("div",{class:"custom-control custom-switch"},Object(c.h)("input",{type:"checkbox",class:"custom-control-input",id:a+"Input",value:1===f?0:1,"data-id":s.id,"data-field":a,onInput:h,checked:1==f?"checked":""}),Object(c.h)("label",{class:"custom-control-label",for:a+"Input"})),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"textarea"===i?Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)("textarea",{type:"text",class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h,rows:10}),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"file"===i?Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),u&&Object(c.h)(e,null,Object(c.h)("div",{class:"container-fluid"},Object(c.h)("div",{class:"row"},(!s.files||0===s.files.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-file"})),Object(c.h)("h3",null,Object(c.h)(d.c,{id:"teams.no-files-title"},"No files attached to this dog!")),Object(c.h)(d.c,{id:"teams.no-files-text"},"You can upload files to this dog inside edit. These files can be of any type. Ie: Certificates, test, etc."))),s.files&&s.files.map(e=>Object(c.h)("div",{class:"col-12 p-1"},Object(c.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(e.createdDate,!1,!1,!0)),Object(c.h)("span",{class:"mr-2"},e.name),Object(c.h)("span",{class:"font-weight-lighter mr-2"},r.a.formatBytes(e.size,1)),Object(c.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeFile,"data-name":e.name},Object(c.h)("i",{class:"fas fa-trash-alt"})," Del")))))),Object(c.h)(D.a,{saved:t,object:s,field:a,updateField:b}),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"links"===a?Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)(z.a,{saved:t,stores:this.props.stores,object:s,field:a,updateField:b}),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):"achievements"===a?Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)(T.a,{saved:t,stores:this.props.stores,object:s,field:a,updateField:b}),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l)):Object(c.h)("div",{class:"form-group "+(t[`${a}.${s.id}`]?"is-valid":"")},Object(c.h)("label",{for:a+"Input"},o&&Object(c.h)("i",{class:o+" text-muted"})," ",n),Object(c.h)("input",{type:"text",class:"form-control "+(t[`${a}.${s.id}`]?"is-valid":""),id:a+"Input","aria-describedby":a+"Help",value:f,"data-id":s.id,"data-field":a,onInput:h}),t[`${a}.${s.id}`]?Object(c.h)("div",{class:"valid-feedback",style:"display: block;"},Object(c.h)(d.c,{id:"teams.changes-saved"},"Endringene er lagret")):Object(c.h)("small",{id:a+"Help",class:"form-text text-muted"},l))}})||n,M=Object(l.a)(i=class extends c.Component{constructor(e){var t;super(e),t=this,this.loadTeam=async function(e=t.props){const{teamStore:s,userStore:a}=e.stores;await s.load(e.team,!1,{addData:["dogs","users","followers","blockedFollowers"]});const{team:o}=s;await a.getWorkoutSummary({team:o.id}),s.plotFormGraph()},this.loadHeatmap=async function(e=t.props){const{workoutStore:s}=e.stores;await s.getHeatmap(e.team)},this.loadMore=()=>{const{offset:e}=this.state;this.setState({offset:e+10},()=>{this.loadWorkouts(!0)})},this.loadWorkouts=async function(e=!1){t.setState({isLoading:!0});const{workoutStore:s}=t.props.stores,{team:a}=t.props,{offset:o}=t.state;await s.load({query:{team:a},limit:10,offset:o},e),t.setState({isLoading:!1})},this.loadWorkoutSummary=async function(e=t.props){const{userStore:s,workoutStore:a}=e.stores,o=(new Date).getMonth()+1,n=(new Date).getFullYear(),{month:i=o,year:c=n}=e,{currentTeam:r}=a,l=e.team||r;await s.getWorkoutSummary({team:l,year:c,month:i}),await s.getWorkoutSummaryDay({daysBack:500,team:l})},this.loadWorkoutPlans=async function(e=t.props){const{year:s}=e,a=(new Date).getMonth()+1,o=r.a.getYear(),n=parseInt(s||(a<8?o-1:o),10),{workoutPlanStore:i,teamStore:c}=e.stores,{team:l}=c;if(i.updateItem("workoutPlans",[]),i.updateItem("workoutPlan",{}),i.resetGraphPlanWeekDistanceCurrent(),l.id){await i.load({query:{team:l.id,seasonYear:n},addData:["tips"]});const{workoutPlans:e}=i,t=e[0]||{};t.id?(await i.load(t.id),i.prepareWeekGraphs({year:s})):(i.updateKeyValue("workoutPlan",{}),i.updateKeyValue("workoutPlans",[]),i.resetGraphPlanWeekDistanceCurrent())}},this.deleteTeam=async function(){const{teamStore:e}=t.props.stores,{team:s}=e;await e.saveField(s.id,"offline",1),p.a.publish(p.b.STATUS_MESSAGE,{message:"Teamet er slettet",type:"success",icon:"fas fa-check"}),Object(h.route)("/teams/list")},this.updateField=e=>{const{id:t,field:s,type:a,elementtype:o,isNew:n}=e.target.dataset,i=e.target.value;this.updateFieldValue({id:parseInt(t,10),field:s,value:i,type:a,elementtype:o,isNew:n})},this.updateFieldValue=({id:e,field:s,value:a,datatype:o,elementtype:n,isNew:i=!1,skipTimer:c=!1})=>{const{teamStore:r}=this.props.stores;let l=a,h=a;const{team:d}=r;"images"===s&&Array.isArray(d.images)&&Array.isArray(a)&&(h=[...d.images,...a]),"achievements"===s&&Array.isArray(d.achievements)&&(h=Array.isArray(a)?[...d.achievements,...a]:[...d.achievements,a]),"links"===s&&Array.isArray(d.links)&&(h=Array.isArray(a)?[...d.links,...a]:[...d.links,a]),"files"===s&&Array.isArray(d.files)&&(h=Array.isArray(a)?[...d.files,...a]:[...d.files,a]),"array"!==o||Array.isArray(a)||(l="number"===n?a.split(",").map(e=>parseFloat(e)||e):a.split(",")),i?r.updateObjectKeyValue("newTeam",s,a):(r.updateField(e,s,h),c?this.doUpdateField(e,s,l):(clearTimeout(this.updateTimer[s]),this.updateTimer[s]=setTimeout((async function(){t.doUpdateField(e,s,l)}),500)))},this.reCalculateFitness=async function(){const{recalculated:e}=t.state;if(e)return!0;const{teamStore:s}=t.props.stores,{team:a}=s;t.setState({recalculated:!0}),await s.reCalcFitness(a.id)},this.chooseSubmenu=e=>{this.setState({submenu:e.target.parentElement.dataset.menu||e.target.dataset.menu})},this.back=()=>{const{history:e}=this.props.stores;e.goBack()},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},E),this.updateTimer={}}async loadAll(e=this.props){this.setState({isLoading:!0}),await this.loadTeam(e),await this.loadSummaryData(e),this.setState({isLoading:!1})}async loadSummaryData(e=this.props){await Promise.all([this.loadWorkoutPlans(e),this.loadWorkoutSummary(e),this.loadHeatmap(e),this.loadWorkouts()])}async doUpdateField(e,t,s){const{teamStore:a}=this.props.stores;await a.saveField(e,t,s)}componentDidMount(){this.loadAll()}componentWillReceiveProps(e){e.team!==this.props.team&&this.loadAll(e),e.month===this.props.month&&e.year===this.props.year||this.loadSummaryData(e)}render(){const{submenu:t,recalculated:s}=this.state,{teamStore:a,userStore:o,workoutPlanStore:n,workoutStore:i}=this.props.stores,{workoutPlan:l,workoutPlans:h}=n,{heatmap:b,workouts:p,currentTeam:A}=i,D=(new Date).getMonth()+1,T=(new Date).getFullYear(),{month:z=D,year:E=T}=this.props,M=parseInt(z<8?E-1:E,10),{team:_,dogs:Y,users:B,followers:N=[],blockedFollowers:H=[],saved:V,graphFitness:K}=a,{image:X,imageHeader:Z}=_,{user:q}=o,{language:G="en"}=q,{user:J}=o,Q=_.user===J.id,ee=o.findTeamAmbition({ambition:_.ambitions,language:G}),te=o.findTeamType({type:_.type,language:G}),se=Z&&Z.s3XXLargeLink?Z:{s3XXLargeLink:"./assets/homerun-race-logo.png"},ae=X&&X.s3LargeLink?X:null;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${F}; margin-top: ${P};`},Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${R}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"})),Object(c.h)("div",{class:"row mb-1"},Object(c.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(se?`background-image: url("${se.s3XXLargeLink}");`:"")},Object(c.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+_.id},Object(c.h)("i",{class:"fas fa-edit"})," ",Object(c.h)(d.c,{id:"teams.edit"},"Endre"))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(c.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(ae?`background-image: url("${ae.s3LargeLink}"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;`:"")},!ae&&Object(c.h)("i",{class:"fas fa-users text-muted mt-4",style:"font-size: 60px;"})),"Â "),Object(c.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(c.h)("h5",{class:"my-0"},_.name),Object(c.h)("small",{class:"text-muted"},_.place?_.place+", ":"",_.country),Object(c.h)("br",null),te&&Object(c.h)("a",{href:"/settings/team/"+_.id},Object(c.h)("span",{class:"badge badge-pill badge-secondary mt-2"},te)),ee&&Object(c.h)("a",{href:"/settings/team/"+_.id},Object(c.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},ee)),Q&&Object(c.h)("span",{class:"badge badge-pill badge-primary mt-2 ml-2"},Object(c.h)(d.c,{id:"teams.admin"},"Admin")))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},_.public>0&&Object(c.h)(e,null,Object(c.h)("a",{href:"/teams/public/"+_.uuidv4,class:"btn btn-success btn-block"},Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(d.c,{id:"teams.public-profile"},"Public profile"))))),Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"w-100 overflow-hidden"},Object(c.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-pill-left rounded-none ${"stats"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"stats",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(d.c,{id:"teams.stats"},"Stats")),"stats"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"presentation"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"presentation",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chalkboard-teacher"})," ",Object(c.h)(d.c,{id:"teams.presentation"},"Presentation")),"presentation"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"pictures"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"pictures",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-images"})," ",Object(c.h)(d.c,{id:"teams.pictures"},"Pictures")),"pictures"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"dogs"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-dog"})," ",Object(c.h)(d.c,{id:"teams.dogs-menu"},"Dogs")),"dogs"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"mushers"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"mushers",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-user"})," ",Object(c.h)(d.c,{id:"teams.mushers"},"Mushers")),"mushers"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"workouts"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workouts",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-running"})," ",Object(c.h)(d.c,{id:"teams.workouts"},"Workouts")),"workouts"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"workoutplan"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"workoutplan",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-calendar-alt"})," ",Object(c.h)(d.c,{id:"workouts.workoutplan"},"Treningsplan")),"workoutplan"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"fitness"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"fitness",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-chart-line"})," ",Object(c.h)(d.c,{id:"teams.fitness-menu"},"Fitness")),"fitness"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"compare"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"compare",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-exchange-alt"})," ",Object(c.h)(d.c,{id:"teams.compare"},"Compare")),"compare"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"trophy"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"trophy",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-award"})," ",Object(c.h)(d.c,{id:"teams.trophy"},"Trophy case")),"trophy"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"achievements"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"achievements",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-clock"})," ",Object(c.h)(d.c,{id:"teams.achievements"},"Achievements")),"achievements"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-none ${"followers"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"followers",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-users"})," ",Object(c.h)(d.c,{id:"teams.followers"},"Followers")),"followers"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"})),Object(c.h)("div",{class:"col px-0 pt-2"},Object(c.h)("button",{class:`btn btn-block rounded-pill-right rounded-none ${"advanced"===t?"btn-primary":"btn-outline-primary"} text-nowrap`,style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(c.h)("i",{class:"fas fa-cogs"})," ",Object(c.h)(d.c,{id:"teams.log"},"Advanced")),"advanced"===t&&Object(c.h)(C.a,{horizontal:"center",vertical:"end"}))))))),"stats"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(c.h)(v.a,{stores:this.props.stores,isLoading:!1,key:`graph-${l.id}-${h.length}`}),Object(c.h)(k.a,{stores:this.props.stores,currentTeam:_.id}),Object(c.h)(y.a,{stores:this.props.stores,currentTeam:_.id})))),"presentation"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("div",{class:"d-flex justify-content-center"},!_.facebook&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fab fa-facebook"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(d.c,{id:"teams.add-sosialmedia"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en sosialemedier.")))),_.url&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asUrl(_.url),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fas fa-link"})))),_.facebook&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asFacebookLink(_.facebook),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-facebook"})))),_.instagram&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asInstagramLink(_.instagram),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-instagram"})))),_.snapchat&&Object(c.h)("div",{class:"mx-2"},Object(c.h)("h3",null,Object(c.h)("a",{href:u.a.asSnapchatLink(_.snapchat),target:"_blank",rel:"noreferrer"},Object(c.h)("i",{class:"fab fa-snapchat"})))))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},!_.description&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-pen-nib"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(d.c,{id:"teams.add-description"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en beskrivelse.")))),Object(c.h)(m.a,{markdown:u.a.replaceImages(_.description,_.images,G),markdownOpts:u.a.getMarkdownOptions()})))),"pictures"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)(d.b,null,Object(c.h)(U.a,{stores:this.props.stores,images:_.images,noimagestext:Object(c.h)(d.c,{id:"teams.no-photos"},"No photos for this team.")}))))),"dogs"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},(!Y||0===Y.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-dog"})),Object(c.h)("h3",null,Object(c.h)(d.c,{id:"teams.no-dogs-title"},"No dogs for this team!")),Object(c.h)(d.c,{id:"teams.no-dogs-text"},"You can add more dogs to this team.")))),Y&&Y.length>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.dogs",fields:{total:Y.length}},"Hundene - ",Y.length," stk"))),Y&&Y.map(e=>Object(c.h)(g.a,{stores:this.props.stores,dog:e})))))),"mushers"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"offset-0 col-12 mt-2"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("a",{class:"btn btn-secondary float-right",href:"/teams/addmember/"+_.id},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(d.c,{id:"teams.add-new-member"},"Legg til medlem")))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.members",fields:{total:B.length}},"Medlemmer - ",B.length," stk")),B&&B.map(e=>Object(c.h)(f.a,{stores:this.props.stores,user:e,team:_}))))),"workouts"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},(!p||0===p.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-running"})),Object(c.h)("h3",null,Object(c.h)(d.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(c.h)(d.c,{id:"teams.no-workouts-text"},"You can add more workouts to this team.")),Object(c.h)("div",{class:"text-center mt-3"},Object(c.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(c.h)("i",{class:"fas fa-running"})," ",Object(c.h)(d.c,{id:"header.add-workouts"},"Add Workouts"))))),p&&p.length>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.workouts"},"Workouts"))),Object(c.h)("div",{class:"offset-0 col-12 mt-3"},p&&p.map(e=>Object(c.h)(x.a,{stores:this.props.stores,workout:e,showDate:!0})))))),"workoutplan"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)($.a,{stores:this.props.stores,basehref:`/teams/${_.id}/`,month:z,year:E,key:`${l.id||M}-${A}-${z}-${E}`,showNavigation:!0,showHeader:!0,currentTeam:A}),Object(c.h)("div",{class:"col-12"},Object(c.h)(L.a,{stores:this.props.stores,url:this.props.url,section:t})))),"fitness"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},(!K||0===K.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-chart-area"})),Object(c.h)("h3",null,Object(c.h)(d.c,{id:"teams.no-workouts-title"},"No workouts for this team!")),Object(c.h)(d.c,{id:"teams.no-workouts-fitness-text"},"When you add workouts your fitness graph will be calculated every night.")),Object(c.h)("div",{class:"text-center mt-3"},Object(c.h)("a",{href:"/workouts",class:"btn btn-primary"},Object(c.h)("i",{class:"fas fa-running"})," ",Object(c.h)(d.c,{id:"header.add-workouts"},"Add Workouts"))))),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)(O.a,{stores:this.props.stores})))),"compare"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.compare"},"Compare")),Object(c.h)(w.a,{stores:this.props.stores,isLoading:!1,key:`graph-avg-${l.id}-${h.length}`,teamId:_.id,teamAmbition:ee,teamType:te})))),"trophy"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!_.trophys||0===_.trophys.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-award"})),Object(c.h)("h3",null,Object(c.h)(d.c,{id:"teams.no-trophys-title"},"No trophys for this team!")),Object(c.h)(d.c,{id:"teams.no-trophys-text"},"You have to add more workouts, pictures, log entries for dogs, etc to earn trophys."))),Object(c.h)("div",{class:"row"},_.trophys&&_.trophys.reverse().map(e=>{const t=u.a.getTrophyImage(e.name);if(!t)return"";const s=e.descriptionHeader&&e.descriptionHeader[G]?e.descriptionHeader[G]:"",a=e.description&&e.description[G]?e.description[G]:"";return Object(c.h)("div",{class:"col-4 mt-3"},Object(c.h)("div",{class:"mb-2"},Object(c.h)("img",{src:t,class:"img-fluid"})),Object(c.h)("strong",null,s),Object(c.h)("small",null,Object(c.h)("details",null,Object(c.h)("summary",null,Object(c.h)(d.c,{id:"teams.trophy-details"},"Details")),Object(c.h)(m.a,{markdown:u.a.replaceImages(a,_.images,G),markdownOpts:u.a.getMarkdownOptions()}))))}))))),"achievements"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},(!_.achievements||0===_.achievements.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"text-center text-muted"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"fas fa-clock"})),Object(c.h)("h3",null,Object(c.h)(d.c,{id:"teams.no-achievements-title"},"No achievements for this team!")),Object(c.h)(d.c,{id:"teams.no-achievements-text"},"You can add achievements to this team. Ie. Memories, trips, tests, prices, races, etc."))),_.achievements&&_.achievements.map(e=>Object(c.h)("div",{class:"col-12 p-1"},e.date&&Object(c.h)("span",{class:"font-weight-lighter mr-2"},r.a.isoDate(e.date,!1,!1,!0)),Object(c.h)("span",{class:"mr-2 font-weight-bold"},e.name),Object(c.h)("span",{class:"mr-2 font-weight-light"},e.description),e.url&&Object(c.h)("span",{class:"mr-2"},Object(c.h)("a",{href:u.a.asUrl(e.url),target:"_blank",rel:"noreferrer",native:!0},Object(c.h)("i",{class:"fas fa-link"})))))))),"followers"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.followers"},"Followers"))),Object(c.h)("div",{class:"col-12"},Object(c.h)(I.a,{stores:this.props.stores})),Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(c.h)("div",{class:"row"},(!r.a.isArray(N)||0===N.length)&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 text-center text-muted mb-5"},Object(c.h)("div",{class:"display-1"},Object(c.h)("i",{class:"far fa-sad-tear"})),Object(c.h)("h3",{class:"font-weight-lighter"},Object(c.h)(d.c,{id:"teams.no-followers"},"Currently you have no followers, but fear not. It's easy get new followers. Be active in the feed and make you team profile beautiful."))),Object(c.h)("div",{class:"col-12 mb-5",style:"font-size: 1.5em;"},Object(c.h)(d.b,null,Object(c.h)(W,{stores:this.props.stores,saved:V,team:_,field:"public",icon:"fas fa-eye",type:"toggle",title:Object(c.h)(d.c,{id:"teams.public"},"Synlig offentlig"),help:Object(c.h)(d.c,{id:"teams.public-help"},"Skal teamet vÃ¦re mulig Ã¥ fÃ¸lge? Alle som vil fÃ¸lge mÃ¥ godkjennes av dere fÃ¸rst."),onInput:this.updateField})))),r.a.isArray(N)&&N.map(e=>Object(c.h)(j.a,{stores:this.props.stores,team:e,myTeamId:_.id,showBlockButton:!0,callback:this.loadTeam})),r.a.isArray(H)&&H.length>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"col-12 mt-5"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.blocked-followers"},"Blokkerte team"),":")),r.a.isArray(H)&&H.map(e=>Object(c.h)(j.a,{stores:this.props.stores,team:e,myTeamId:_.id,isBlocked:!0,callback:this.loadTeam}))))))),"advanced"===t&&Object(c.h)(e,null,Object(c.h)("div",{class:"row mt-3"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(c.h)("h5",null,Object(c.h)(d.c,{id:"teams.heatmap"},"Heatmap")),Object(c.h)(d.c,{id:"teams.heatmap-info"},"Heatmapen viser hvor du har vÃ¦rt denne sesongen.")),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},b&&b.length>0&&Object(c.h)(S.a,{stores:this.props.stores,mapId:b.length,heatmap:b,minZoom:2,height:600})),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(c.h)("h5",{class:"mt-5"},Object(c.h)(d.c,{id:"teams.recalculate-title"},"Recalculate fitness, form and fatigue")),Object(c.h)(d.c,{id:"teams.recalculate-help"},"Click the button below if you want to recalculate the fitness, form and fatigue data for your team and all dogs in this team.",Object(c.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either.",Object(c.h)("br",null),Object(c.h)("br",null),"Calculations can take up to 1 hour, so please be patitient."),Object(c.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(s?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateFitness},Object(c.h)("i",{class:"fas fa-sync"})," ",Object(c.h)(d.c,{id:"teams.recalculate"},"Recalculate fitness, form and fatigue")),Object(c.h)("br",null)),Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(c.h)("h5",{class:"mt-5"},Object(c.h)(d.c,{id:"teams.delete-title"},"Delete team")),Object(c.h)(d.c,{id:"teams.delete-help"},"Click the button below to delete this team. All data related to this team will be lost. All team statistics will also be affected.",Object(c.h)("br",null),Object(c.h)("br",null),"It's important to remember that you need to have at lease one team in the app, even if you only have one dog."),Object(c.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteTeam},Object(c.h)("i",{class:"fas fa-trash"})," ",Object(c.h)(d.c,{id:"teams.delete"},"Delete")," ",_.name)))))}})||i;t.default=M}.call(this,s("hosL").Fragment)},epqT:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV");s("ZOvn");const h={showAddComment:!1};let d=Object(l.d)(()=>({subject:Object(i.h)(l.c,{id:"ad.subject"},"AnnonseforespÃ¸rsel"),body:Object(i.h)(l.c,{id:"ad.body"},"Hei, Jeg Ã¸nsker Ã¥ vite mer om annonsering i appen The Musher.")}))(n=Object(r.a)(n=class extends i.Component{constructor(e){var t;super(e),t=this,this.logClick=async function(){const{adStore:e,userStore:s}=t.props.stores,{ads:a=[]}=e;let o=a.length>0?a[0].id:null;const{user:n={}}=s;await e.logClick({id:o,user:n.id})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h),this.updateTimer={},this.inputRef={},this.apiServer=c.a.getApiServer()}async loadAd(e=this.props){this.setState({isLoading:!0});const{adStore:t,workoutStore:s,userStore:a,appState:o}=this.props.stores,{section:n}=this.props,{path:i=""}=o,{currentTeam:c}=s,{user:r}=a,{language:l="en"}=r;let h,d,b,m,p,u={};c&&(u=a.findTeam(c,!0),u&&u.id&&(h=a.findTeamAmbition({ambition:u.ambitions,language:l}),d=a.findTeamType({type:u.type,language:l}),b=u.postalcode,m=u.place,p=u.country));const g=i.replace(/\d+$/,"detail");await t.load({query:{page:g,section:n}}),t.setTime(),this.setState({isLoading:!1})}componentDidMount(){this.loadAd()}componentWillReceiveProps(e){e.path!==this.props.path&&this.loadAd(e)}render(){const{adStore:t,userStore:s,appState:a}=this.props.stores,{subject:o,body:n,section:c}=this.props,{path:r}=a,{user:h={}}=s,{ads:d=[],time:b}=t;if(!h||!h.id||!d||0===d.length)return r.match(/\/(home)/i)?Object(i.h)(e,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(l.b,null,Object(i.h)("a",{href:`mailto:post@themusher.no?subject=${o}: ${r}: ${c}&body=${n}`,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(e,null);const m=d[0];return Object(i.h)(e,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:`${this.apiServer}/api/ads/${m.id}/view?user=${h.id}&time=${b}`,style:"width: 1; height: 1; opacity: 0.1;"})))),m.target?Object(i.h)(e,null,Object(i.h)("a",{class:"stretched-link",href:""+m.url,target:m.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},m.images&&m.images[0]&&Object(i.h)(e,null,Object(i.h)("img",{src:m.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(e,null,Object(i.h)("a",{class:"stretched-link",href:""+m.url,onClick:this.logClick},m.images&&m.images[0]&&Object(i.h)(e,null,Object(i.h)("img",{src:m.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))}})||n)||n;t.a=d}).call(this,s("hosL").Fragment)},irB3:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(i.a)(a=class extends o.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:c={}}=i;return c.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(function(e){return 3.28084*e}(t),0)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(e,null,"ft"))):Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(t,0)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(e,null,"m")))}})||a;t.a=c}).call(this,s("hosL").Fragment)},nHdA:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),n=s("Utv1"),i=s("/eY4"),c=s("OhSV");s("ZOvn");let r=Object(i.a)(a=class extends o.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:i}=a,{settings:r={}}=i;return r.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(function(e){return.621371*e}(t),1)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(e,null,Object(o.h)(c.c,{id:"workouts.mph"},"mph")))):Object(o.h)(e,null,Object(o.h)("nobr",null,n.a.format(t,1)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(e,null,Object(o.h)(c.c,{id:"workouts.kmt"},"km/t"))))}})||a;t.a=r}).call(this,s("hosL").Fragment)},om2D:function(e,t,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=(s("cneo"),s("Utv1"),s("u2zT"));let c=Object(n.a)(a=class extends o.Component{constructor(e){super(e),this.handleAddImage=e=>{const{addToImages:t=!0}=this.props,{updateField:s,object:a,field:o}=this.props;if(o&&s({id:a.id,field:o,value:e,skipTimer:!0}),t){const t=[];t.push(e),s({id:a.id,field:"images",value:t,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:a=!0}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(i.a,{handleAddImage:this.handleAddImage,uploadStatus:e,apiUrl:"/api/fileupload",before:t,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=c},rWES:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV"),h=s("ZOvn");s("eQ6k");const d={confirmed:{},deleted:{}};let b=Object(r.a)(n=class extends i.Component{constructor(e){super(e),this.confirmRequest=e=>{const{team:t,user:s,follow:a}=e.target.closest("button").dataset,{teamStore:o}=this.props.stores;o.confirmFollowRequest({team:parseInt(t,10),user:parseInt(s,10)});const{confirmed:n}=this.state;n[`${t}-${s}`]=!0,this.setState({confirmed:n}),a&&o.followRequestUser(s)},this.deleteRequest=e=>{const{team:t,user:s}=e.target.closest("button").dataset,{teamStore:a}=this.props.stores;a.deleteFollowRequest({team:parseInt(t,10),user:parseInt(s,10)});const{deleted:o}=this.state;o[`${t}-${s}`]=!0,this.setState({deleted:o})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d)}async loadTeams(){const{teamStore:e}=this.props.stores;await e.load({query:{},addData:["followRequests"]})}componentDidMount(){this.loadTeams()}render(){const{deleted:t={},confirmed:s={}}=this.state,{teamStore:a,appState:o}=this.props.stores,{teams:n,hasFollowRequests:r,followRequests:d=[]}=a,{darkmode:b}=o;return r?Object(i.h)("div",{class:"row pb-1"},Object(i.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${b?"black":"white"} shadow-sm`},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(l.c,{id:"teams.connect.teams-follow-requests"},"ForespÃ¸rsel om Ã¥ fÃ¸lge"),":"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},c.a.isArray(n)&&n.map(a=>Object(i.h)(e,null,a&&c.a.isArray(a.followRequests)&&a.followRequests.map(o=>{const n=o.image&&o.image.s3SmallLink?o.image:null,c=t[`${a.id}-${o.id}`],r=s[`${a.id}-${o.id}`],b=d.find(e=>e.user.id===o.id);return Object(i.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:n?`background-image: url("${n.s3SmallLink}");`:""},!n&&Object(i.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},h.a.displayNameShort(o))),Object(i.h)("small",null,Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,h.a.displayName(o)),Object(i.h)("br",null)),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)(l.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,h.a.displayName(a)))),r||c?Object(i.h)(e,null,Object(i.h)("div",{class:"text-center"},r?Object(i.h)("div",{class:"text-success"},Object(i.h)(l.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(i.h)("i",{class:"fas fa-check"})):Object(i.h)("div",{class:"text-danger"},Object(i.h)(l.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(i.h)("i",{class:"fas fa-trash-alt"})))):Object(i.h)(e,null,Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":a.id,"data-user":o.id},Object(i.h)(l.c,{id:"teams.connect.confirm"},"Confirm")),b&&b.public>0&&Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":a.id,"data-user":o.id,"data-follow":!0},Object(i.h)(l.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(i.h)("div",{class:"mt-3"},Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:this.deleteRequest,"data-team":a.id,"data-user":o.id},Object(i.h)(l.c,{id:"teams.connect.delete"},"Del")))))))}))))),Object(i.h)("details",{class:"mt-3"},Object(i.h)("summary",null,Object(i.h)("small",null,Object(i.h)(l.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(i.h)("p",null,Object(i.h)(l.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""}})||n;t.a=b}).call(this,s("hosL").Fragment)},sqi2:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("cneo"),h=s("OhSV"),d=s("fh8t"),b=s.n(d),m=s("3wGD"),p=(s("ETxl"),s("ZOvn"));const u={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}};let g=Object(r.a)(n=class extends i.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,{workout:o}=t.props,{workoutStore:n}=t.props.stores,i=await n.likeWorkoutComment({id:o.id,commentId:a});return i&&200===i.status&&s({type:"likeComment",workout:o,commentId:a,response:i}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,o=e.target.parentElement.dataset.comment||e.target.dataset.comment,{workout:n}=t.props,{workoutStore:i}=t.props.stores,c=await i.likeWorkoutCommentReply({id:n.id,replyId:a,commentId:o});c&&200===c.status&&s({type:"likeReply",workout:n,commentId:o,replyId:a,response:c})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{replyid:s,commentid:a}=e.target.closest("button").dataset,{workout:o}=t.props,{userStore:n,teamStore:i}=t.props.stores,{user:c}=n,{showOriginal:r={},translatedText:l={}}=t.state,h=`${a}${s?"-"+s:""}`;r[h]=0,l[h]=s?await i.translateCommentReply({commentid:a,replyid:s,object:o,user:c}):await i.translateComment({commentid:a,object:o,user:c}),t.setState({showOriginal:r,translatedText:l})},this.showOriginal=e=>{const{replyid:t,commentid:s}=e.target.closest("button").dataset;e.preventDefault(),e.stopPropagation();const{showOriginal:a={}}=this.state;a[`${s}${t?"-"+t:""}`]=1,this.setState({showOriginal:a})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},u),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:a,viewImageIdx:o,showOriginal:n={},translatedText:r={}}=this.state,{workout:d,callback:u=(()=>{}),col:g=12,offset:f=0,compact:O=!1}=this.props,{userStore:j,teamStore:v}=this.props.stores,{user:w,isAdmin:k}=j,{language:y="en"}=w;let x,S=[],I=0,A=0;return d.comments&&(I=d.comments.length,s?S=d.comments:(x=O?0:1,S=d.comments.slice(Math.max(I-x,0))),A=S.length),Object(i.h)("div",null,d&&S&&S.reverse().map(s=>{const{user:g={}}=s,f=v.findPublicTeamByMembers(g.id),O=p.a.displayNameShort(g),j=p.a.displayName(g),S=g.image||(g.images?g.images[0]:void 0),I=s.likes&&s.likes.findIndex(e=>e.user===w.id)>-1;let A=[],D=0,T=0;s.comments&&(D=s.comments.length,A=a[s.id]?s.comments:s.comments.slice(0,x),T=A.length);const z=[];if(s.images){const e=Object(l.i)(s.images);z.push(...e)}const U=o[s.id]?o[s.id]:0,$=z&&z[U]?z[U]:null,{currentLocationGeocode:L={}}=s,C=v.getCommentTranslations({object:d,commentid:s.id,targetLang:y})||r[s.id];let P=C||s.comment;return n[s.id]&&(P=s.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(S?`background-image: url("${S.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!g.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},j),f&&f.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},f.filter(e=>1===e.public).slice(0,2).map(t=>Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(i.h)(b.a,{markdown:p.a.replaceImages(P,s.images,y),markdownOpts:p.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"container-fluid px-3 mt-1"},$&&Object(i.h)("div",{class:"clearfix row"},Object(i.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:$.s3LargeLink}))),z&&z.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},z.map((t,a)=>Object(i.h)(e,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(I?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),s.language!==y&&Object(i.h)(e,null,"-",!n[s.id]&&C?Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(i.h)(e,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),k&&L&&L.formatted_address&&Object(i.h)(e,null,Object(i.h)("span",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",L.formatted_address)))),s.likes&&s.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},s&&A&&A.map(t=>{const{user:a={}}=t,o=v.findPublicTeamByMembers(a.id),l=a.firstname?`${c.a.ucfirst(a.firstname,!0)}${c.a.ucfirst(a.lastname,!0)}`:""+c.a.ucfirst(a.email||"",!0),m=a.firstname?`${a.firstname} ${a.lastname}`:""+a.email,u=a.image||(a.images?a.images[0]:void 0),g=t.likes&&t.likes.findIndex(e=>e.user===w.id)>-1,f=v.getCommentReplyTranslations({object:d,commentid:s.id,replyid:t.id,targetLang:y})||r[`${s.id}-${t.id}`];let O=f||t.comment;return n[`${s.id}-${t.id}`]&&(O=t.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?`background-image: url("${u.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},m),o&&o.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},o.filter(e=>1===e.public).slice(0,2).map(t=>Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(i.h)(b.a,{markdown:p.a.replaceImages(O,t.images,y),markdownOpts:p.a.getMarkdownOptions()}))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(g?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id},Object(i.h)(h.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(i.h)(h.c,{id:"comments.comment-add"},"Kommentar")),t.language!==y&&Object(i.h)(e,null,"-",!n[`${s.id}-${t.id}`]&&f?Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":t.id,onClick:this.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(e,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id,"data-replyid":t.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(h.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),D-T>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:D-T}},"Vis ",D-T," flere kommentarer...")))),t[s.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(m.a,{stores:this.props.stores,workout:d,callback:u,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e,inputRefObject:this.inputRef})))}),I-A>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.show-more",fields:{more:I-A}},"Vis ",I-A," flere kommentarer..."))),s&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(h.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||n;t.a=g}).call(this,s("hosL").Fragment)},u2zT:function(e,t,s){"use strict";var a,o=s("hosL"),n=s("/eY4"),i=s("Utv1"),c=s("OhSV");let r=Object(n.a)(a=class extends o.Component{constructor(e){super(e),this.dropRef=Object(o.createRef)(),this.handleDrag=e=>{e.preventDefault(),e.stopPropagation()},this.handleDragIn=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=e=>{if(e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(let t=0,s=e.dataTransfer.files.length;t<s;t+=1){this.readLocalFile(e.dataTransfer.files[t])}this.dragCounter=0}},this.handleAddFiles=e=>{e.preventDefault();const t=e.target;for(let e=0,s=t.files.length;e<s;e+=1){this.readLocalFile(t.files[e])}},this.handleEvent=()=>{0},this.handleUpload=e=>{const{uploadStatus:t=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;t(!1),i.a.isFunction(s)&&s();const o=new FormData;o.append("files[]",e);const n={progress:1};n.xhr=new XMLHttpRequest,n.xhr.upload.addEventListener("progress",t=>{this.updateProgress(t,e)}),n.xhr.addEventListener("loadstart",t=>{this.handleEvent(t,e)}),n.xhr.addEventListener("load",t=>{this.handleEvent(t,e)}),n.xhr.addEventListener("loadend",t=>{const s=e;i.a.isFunction(a)&&a(),this.handleEvent(t,s)}),n.xhr.addEventListener("progress",t=>{this.handleEvent(t,e)}),n.xhr.addEventListener("error",t=>{this.handleEvent(t,e)}),n.xhr.addEventListener("abort",t=>{this.handleEvent(t,e)}),n.xhr.addEventListener("readystatechange",t=>{this.uploadDone(t,e)}),n.xhr.open("POST",`${i.a.getApiServer()}${this.props.apiUrl}`),n.xhr.setRequestHeader("Authorization","Bearer "+i.a.getJwtToken()),n.xhr.send(o);const c=e.name,r=this.state.uploadedFilesData;r[c]||(r[c]={}),r[c].uploadMeta=n,r[c].imageNum=this.state.imageNum,this.setState({uploadedFilesData:r})},this.readLocalFile=e=>new Promise((t,s)=>{const a=new FileReader;a.addEventListener("error",e=>{s(e)}),a.addEventListener("load",s=>{const a=e,o=a.name,n=this.state.uploadedFilesData;n[o]||(n[o]={}),n[o].event=s,this.setState({uploadedFilesData:n}),this.handleUpload(a),t(s)}),a.readAsDataURL(e)}),this.updateProgress=(e,t)=>{if(e.lengthComputable){const s=t.name,a=this.state.uploadedFilesData,o=e.loaded/e.total*100;0,a[s].uploadMeta.progress=o,this.setState({uploadedFilesData:a})}},this.uploadDone=(e,t)=>{const s=t.name,a=this.state.uploadedFilesData,o=a[s].uploadMeta;if(o&&4===o.xhr.readyState&&201===o.xhr.status){const e=JSON.parse(o.xhr.responseText).data.files;for(let t=0;t<e.length;t+=1){this.addFileToUpload(e[t]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(e){const{uploadedFilesData:t}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),a(!0)}componentDidMount(){const e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop);const{autoOpen:t}=this.props;t&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:e}=this.state;return Object(o.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(o.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(o.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(o.h)("div",null,Object(o.h)(c.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(o.h)("div",null,Object(o.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:e=>{this.fileInput=e}})),Object(o.h)("div",null,Object.keys(e).length>0?Object(o.h)("h3",null,Object(o.h)(c.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(o.h)("ul",{class:"list-group"},Object.keys(e).map(t=>{const{uploadMeta:s={}}=e[t],a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(o.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(o.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(o.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(o.h)("small",null,e[t].event.uploadDone),Object(o.h)(c.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(o.h)("small",null,i.a.formatBytes(e[t].event.total,2))),Object(o.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(o.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;t.a=r},"vY+r":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV"),h=s("ZOvn");const d={};let b=Object(r.a)(n=class extends i.Component{constructor(e){super(e),this.toggleViews=()=>{const{showViewList:e}=this.state,{isTeamAdmin:t,isAdmin:s}=this.props;(t||s)&&this.setState({showViewList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d)}render(){const{showViewList:t}=this.state,{storyStore:s,teamStore:a,workoutStore:o}=this.props.stores,{views:n,object:r,type:d="story",onTeamClick:b=(()=>{}),onUserClick:m=(()=>{})}=this.props,p=[];Object.entries(r.statistics).forEach(([e,t])=>{Object.entries(t).forEach(([e,t])=>{t.viewUsers&&p.push(t.viewUsers)})});const u=p.flat().slice(0,50);return Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-end mb-2"},Object(i.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},n," ",Object(i.h)(l.c,{id:"story.views"},"views"))),t&&Object(i.h)("div",{class:"mt-3 mb-3"},u&&u.map(t=>{let n,r,l;if("story"===d?(n=s.findPublicUser(t),r=s.findPublicTeamByMembers(t)):"team"===d?(n=a.findPublicUser(t),r=a.findPublicTeamByMembers(t)):"workout"===d&&(n=o.findPublicUser(t),r=o.findPublicTeamByMembers(t)),!n)return"";c.a.isArray(r)&&(l=r.find(e=>1===e.public));const m=h.a.getImage({user:n,team:l,priority:"user"}),p=h.a.displayNameShort(n),u=h.a.displayName(n,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(i.h)(e,null,Object(i.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:e=>b(e,l.uuidv4),class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(m?`background-image: url("${m}"); background-size: cover;`:"")},!m&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},p))),Object(i.h)("div",{class:"ml-2 "},u," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(i.h)(e,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(m?`background-image: url("${m}"); background-size: cover;`:"")+" opacity: 0.5;"},!m&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},p)),Object(i.h)("div",{class:"ml-2"},u)))}),n>u.length&&Object(i.h)(e,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))}})||n;t.a=b}).call(this,s("hosL").Fragment)},wM2g:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,i=s("hosL"),c=(s("Utv1"),s("/eY4")),r=s("OhSV");s("ZOvn");const l={};Object(c.a)(n=class extends i.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},l)}render(){return Object(i.h)("span",{class:"badge badge-pill badge-warning float-right"},Object(i.h)("i",{class:"fas fa-award mr-2"})," ",Object(i.h)(r.c,{id:"premium.title"},"Premium"))}})}}]);
//# sourceMappingURL=18.chunk.c8d76.esm.js.map