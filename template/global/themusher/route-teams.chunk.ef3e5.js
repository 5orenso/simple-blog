(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+sdk":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.r(t);var r,n=s("hosL"),c=(s("Utv1"),s("/eY4")),i=s("OhSV"),l=s("ZOvn"),b=s("bMs3"),u=l.a.marginTop(!0),h=(l.a.marginTopBack(!1),l.a.marginBottom()),d=l.a.subMenuMarginTop(),m={isLoading:!1},p=Object(c.a)(r=function(e){function t(t){var s;return(s=e.call(this,t)||this).state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m),s}var s,r;r=e,(s=t).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var c=t.prototype;return c.loadTeams=function(){return new Promise(function(e,t){var s,a,o;return this.setState({isLoading:!0}),a=(s=this.props.stores).userStore,o=s.messageStore,Promise.resolve(s.teamStore.load(void 0,!1,{addData:["workoutSummary","musherSummary"]})).then(function(){try{return Promise.resolve(a.getNotifications()).then(function(){try{return Promise.resolve(o.getUnReadMessages()).then(function(){try{return this.setState({isLoading:!1}),e()}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},c.componentDidMount=function(){this.loadTeams()},c.render=function(){var e=this,t=this.props.scrolledDown,s=this.props.stores,a=s.teamStore.teams,o=s.appState.darkmode;return Object(n.h)("div",{class:"container-fluid",style:"margin-bottom: "+h+"; margin-top: "+u+";"},Object(n.h)("div",{class:"row fixed-top",style:"margin-top: "+(t>0?0:d)+"; background-color: "+(o?"#191d21":"#f8f9fa")+"; transition: all 0.3s ease-in-out;"},Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/teams/",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(i.c,{id:"teams.your-teams"},"Your teams")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/teams/connect",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-users"})," ",Object(n.h)(i.c,{id:"teams.public-teams"},"Public teams"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(n.h)("h5",null,Object(n.h)(i.c,{id:"teams.all-teams",fields:{total:a.length}},"Teamene dine - ",a.length," stk"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-2"},Object(n.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/teams/edit/new"},Object(n.h)("i",{class:"fas fa-plus"})," ",Object(n.h)(i.c,{id:"teams.add-new"},"Legg til team"))),a&&a.map((function(t){return Object(n.h)(b.a,{stores:e.props.stores,team:t})})))))},t}(n.Component))||r;t.default=p},bMs3:function(e,t,s){"use strict";var a,o=s("hosL"),r=s("Utv1"),n=s("/eY4"),c=s("OhSV"),i=s("nHdA"),l=s("irB3"),b=(s("UwwE"),s("8Lgr")),u=(s("QkTp"),s("ZOvn")),h=Object(n.a)(a=function(e){function t(){for(var t,s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).requestFollowTeam=function(e){e.preventDefault(),e.stopPropagation();var s=t.props.stores,a=s.teamStore,o=s.userStore.user,r=parseInt(e.target.parentElement.dataset.team||e.target.dataset.team,10);a.followRequest(r,o),t.setState({requestSent:!0})},t.getButton=function(e){void 0===e&&(e="");var s=t.state.requestSent,a=t.props.stores.userStore.user,r=t.props,n=r.team,i=r.skipHome,l=n.members&&n.members.indexOf(a.id)>-1,b=n.followers&&n.followers.indexOf(a.id)>-1,u=n.blockedFollowers&&n.blockedFollowers.indexOf(a.id)>-1,h=s||n.followRequests&&n.followRequests.findIndex((function(e){return e.id===a.id}))>-1;return l?i?"":Object(o.h)("i",{class:"fas fa-home"}):b?Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",onClick:t.unFollowTeam,disabled:"true","data-team":n.id},Object(o.h)("i",{class:"fas fa-link mr-2"}),Object(o.h)(c.c,{id:"teams.connect.is-following"},"Følger")," ",e):u?"":h?Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",disabled:"true"},Object(o.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(o.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",e):n.public?Object(o.h)("button",{type:"button",class:"btn btn-sm btn-outline-success float-right",onClick:t.requestFollowTeam,"data-team":n.id},Object(o.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(o.h)(c.c,{id:"teams.connect.follow"},"Følg")," ",e):void 0},t}var s,a;return a=e,(s=t).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,t.prototype.render=function(){var e=this.props,t=e.team,s=e.showButton,a=e.publicUsers,n=void 0===a?[]:a,c=e.showLocation,h=e.showMembers,d=this.props.stores,m=d.teamStore,p=d.userStore,f=(new Date).getMonth()+1,O=(new Date).getFullYear(),j=this.props,g=j.month,v=j.year,y=void 0===v?O:v,w=parseInt((void 0===g?f:g)<8?y-1:y,10),k=m.findWorkoutSummary(t.id,w)||{},S=p.user.language,x=void 0===S?"en":S,P=p.findTeamAmbition({ambition:t.ambitions,language:x}),T=p.findTeamType({type:t.type,language:x}),D=n.find((function(e){return e.id===t.user})),q=u.a.displayName(D),F=u.a.getImage({user:D,team:t,priority:"user"}),L=this.props.url,M=void 0===L?"/teams/"+t.id:L;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"position-relative d-flex flex-grow-1"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:F?'background-image: url("'+F+'"); background-size: cover;':""},!F&&Object(o.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(o.h)("a",{class:"stretched-link",href:M},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.name)),c&&Object(o.h)("div",null,(t.place||t.country)&&Object(o.h)("span",{class:"mr-3"},Object(o.h)("i",{class:"fas fa-map-marker-alt"}),"  ",t.place," ",t.place?", "+t.country:t.country)),h&&Object(o.h)("div",null,D&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-user"})," ",q)),Object(o.h)("div",null,T&&Object(o.h)("span",{class:"badge badge-pill badge-secondary"},T),P&&Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2"},P)),Object(o.h)("small",{class:"text-muted"},t&&t.dogs&&Object(o.h)("span",{class:""},Object(o.h)("i",{class:"fas fa-dog"})," ",t.dogs.length),t&&t.members&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-user"})," ",t.members.length),k&&k.distanceKm>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-road"})," ",Object(o.h)(b.a,{stores:this.props.stores,value:k.distanceKm})),k&&k.elevation>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",Object(o.h)(l.a,{stores:this.props.stores,value:k.elevation})),k&&k.duration>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",r.a.secToHms(k.duration)),k&&k.speedAvg>0&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(o.h)(i.a,{stores:this.props.stores,value:k.speedAvg}))))),s&&Object(o.h)("div",null,this.getButton()))))},t}(o.Component))||a;t.a=h}}]);
//# sourceMappingURL=route-teams.chunk.ef3e5.js.map