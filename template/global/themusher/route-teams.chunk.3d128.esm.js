(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"+sdk":function(t,e,s){"use strict";function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,l)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var n,r=s("hosL"),o=(s("Utv1"),s("/eY4")),c=s("OhSV"),i=s("ZOvn"),h=s("bMs3");const u=i.a.marginTop(!0),b=(i.a.marginTopBack(!1),i.a.marginBottom()),m=i.a.subMenuMarginTop(),O={isLoading:!1};let d=Object(o.a)(n=class extends r.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},O)}async loadTeams(){this.setState({isLoading:!0});const{teamStore:t,userStore:e,messageStore:s}=this.props.stores;await t.load(void 0,!1,{addData:["workoutSummary","musherSummary"]}),await e.getNotifications(),await s.getUnReadMessages(),this.setState({isLoading:!1})}componentDidMount(){this.loadTeams()}render(){const{scrolledDown:t}=this.props,{teamStore:e,userStore:s,appState:l}=this.props.stores,{teams:a}=e,{darkmode:n}=l;return Object(r.h)("div",{class:"container-fluid",style:`margin-bottom: ${b}; margin-top: ${u};`},Object(r.h)("div",{class:"row fixed-top pt-2",style:`margin-top: ${t>0?0:m}; background-color: ${n?"#191d21":"#f8f9fa"}; transition: all 0.3s ease-in-out;`},Object(r.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(r.h)("a",{href:"/teams/",class:"text-primary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(c.c,{id:"teams.your-teams"},"Your teams")))),Object(r.h)("div",{class:"col text-center subtopmenu"},Object(r.h)("a",{href:"/teams/connect",class:"text-secondary stretched-link"},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(c.c,{id:"teams.public-teams"},"Public teams"))))),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(r.h)("h5",null,Object(r.h)(c.c,{id:"teams.all-teams",fields:{total:a.length}},"Teamene dine - ",a.length," stk"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-2"},Object(r.h)("a",{class:"btn btn-sm btn-primary float-right",href:"/teams/edit/new"},Object(r.h)("i",{class:"fas fa-plus"})," ",Object(r.h)(c.c,{id:"teams.add-new"},"Legg til team"))),a&&a.map(t=>Object(r.h)(h.a,{stores:this.props.stores,team:t})))))}})||n;e.default=d},"8Lgr":function(t,e,s){"use strict";(function(t){function l(t){return r.a.format(t,t<5?2:1)}var a,n=s("hosL"),r=s("Utv1"),o=s("/eY4");s("OhSV"),s("ZOvn");let c=Object(o.a)(a=class extends n.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:r}=a,{settings:o={}}=r;return o.imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,l(function(t){return.621371*t}(e))," ",s?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(n.h)(t,null,"mi"))):Object(n.h)(t,null,Object(n.h)("nobr",null,l(e)," ",s?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"km")))):Object(n.h)(t,null,"km")))}})||a;e.a=c}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var l,a=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(r.a)(l=class extends a.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:l}=s,{settings:r={}}=l;return r.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(function(t){return 9*t/5+32}(e),0),"°F")):Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(e,1),"°C"))}})||l;e.a=o}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var l,a=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(r.a)(l=class extends a.Component{render(){const{value:e=0}=this.props,{userStore:s}=this.props.stores,{user:l}=s,{settings:r={}}=l;return r.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(function(t){return 2.20462*t}(e),0)," lb")):Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(e,0)," kg"))}})||l;e.a=o}).call(this,s("hosL").Fragment)},bMs3:function(t,e,s){"use strict";var l,a=s("hosL"),n=s("Utv1"),r=s("/eY4"),o=s("OhSV"),c=s("nHdA"),i=s("irB3"),h=(s("UwwE"),s("8Lgr")),u=(s("QkTp"),s("ZOvn"));let b=Object(r.a)(l=class extends a.Component{constructor(...t){super(...t),this.requestFollowTeam=t=>{t.preventDefault(),t.stopPropagation();const{teamStore:e,userStore:s}=this.props.stores,{user:l}=s,a=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);e.followRequest(a,l),this.setState({requestSent:!0})},this.getButton=(t="")=>{const{requestSent:e}=this.state,{userStore:s}=this.props.stores,{user:l}=s,{team:n,skipHome:r}=this.props,c=n.members&&n.members.indexOf(l.id)>-1,i=n.followers&&n.followers.indexOf(l.id)>-1,h=n.blockedFollowers&&n.blockedFollowers.indexOf(l.id)>-1,u=e||n.followRequests&&n.followRequests.findIndex(t=>t.id===l.id)>-1;return c?r?"":Object(a.h)("i",{class:"fas fa-home"}):i?Object(a.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":n.id},Object(a.h)("i",{class:"fas fa-link mr-2"}),Object(a.h)(o.c,{id:"teams.connect.is-following"},"Følger")," ",t):h?"":u?Object(a.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary float-right",disabled:"true"},Object(a.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(a.h)(o.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",t):n.public?Object(a.h)("button",{type:"button",class:"btn btn-sm btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":n.id},Object(a.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(a.h)(o.c,{id:"teams.connect.follow"},"Følg")," ",t):void 0}}render(){const{team:t,showButton:e,publicUsers:s=[],showLocation:l,showMembers:r}=this.props,{teamStore:o,userStore:b}=this.props.stores,m=(new Date).getMonth()+1,O=(new Date).getFullYear(),{month:d=m,year:p=O}=this.props,j=parseInt(d<8?p-1:p,10),f=o.findWorkoutSummary(t.id,j)||{},{user:g}=b,{language:v="en"}=g,w=b.findTeamAmbition({ambition:t.ambitions,language:v}),y=b.findTeamType({type:t.type,language:v}),k=s.find(e=>e.id===t.user),x=u.a.displayName(k),S=u.a.getImage({user:k,team:t,priority:"user"}),{url:L="/teams/"+t.id}=this.props;return Object(a.h)("div",{class:"w-100 mb-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(a.h)("div",{class:"position-relative d-flex flex-grow-1"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded",style:S?`background-image: url("${S}"); background-size: cover;`:""},!S&&Object(a.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(a.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(a.h)("a",{class:"stretched-link",href:L},Object(a.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.name)),l&&Object(a.h)("div",null,(t.place||t.country)&&Object(a.h)("span",{class:"mr-3"},Object(a.h)("i",{class:"fas fa-map-marker-alt"}),"  ",t.place," ",t.place?", "+t.country:t.country)),r&&Object(a.h)("div",null,k&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-user"})," ",x)),Object(a.h)("div",null,y&&Object(a.h)("span",{class:"badge badge-pill badge-secondary"},y),w&&Object(a.h)("span",{class:"badge badge-pill badge-secondary ml-2"},w)),Object(a.h)("small",{class:"text-muted"},t&&t.dogs&&Object(a.h)("span",{class:""},Object(a.h)("i",{class:"fas fa-dog"})," ",t.dogs.length),t&&t.members&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-user"})," ",t.members.length),f&&f.distanceKm>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-road"})," ",Object(a.h)(h.a,{stores:this.props.stores,value:f.distanceKm})),f&&f.elevation>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-mountain"})," ",Object(a.h)(i.a,{stores:this.props.stores,value:f.elevation})),f&&f.duration>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-clock"})," ",n.a.secToHms(f.duration)),f&&f.speedAvg>0&&Object(a.h)("span",{class:"ml-2"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(a.h)(c.a,{stores:this.props.stores,value:f.speedAvg}))))),e&&Object(a.h)("div",null,this.getButton()))))}})||l;e.a=b},irB3:function(t,e,s){"use strict";(function(t){var l,a=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV"),s("ZOvn");let o=Object(r.a)(l=class extends a.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:l}=this.props.stores,{user:r}=l,{settings:o={}}=r;return o.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(function(t){return 3.28084*t}(e),0)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(a.h)(t,null,"ft"))):Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(e,0)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"m")))):Object(a.h)(t,null,"m")))}})||l;e.a=o}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var l,a=s("hosL"),n=s("Utv1"),r=s("/eY4"),o=s("OhSV");s("ZOvn");let c=Object(r.a)(l=class extends a.Component{render(){const{value:e=0,smallUnit:s}=this.props,{userStore:l}=this.props.stores,{user:r}=l,{settings:c={}}=r;return c.imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(function(t){return.621371*t}(e),1)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(o.c,{id:"workouts.mph"},"mph"))))):Object(a.h)(t,null,Object(a.h)(o.c,{id:"workouts.mph"},"mph")))):Object(a.h)(t,null,Object(a.h)("nobr",null,n.a.format(e,1)," ",s?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},Object(a.h)(o.c,{id:"workouts.kmt"},"km/t"))))):Object(a.h)(t,null,Object(a.h)(o.c,{id:"workouts.kmt"},"km/t"))))}})||l;e.a=c}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-teams.chunk.3d128.esm.js.map