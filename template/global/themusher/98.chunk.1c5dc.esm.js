(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{AJN2:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("NMoA");s("ZOvn");const l={};let p=Object(i.a)(n=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},l),this.inputRef={}}async loadStoriesPublicFeed(t=this.props){const{storyStore:e}=t.stores,{story:s}=t;await e.loadPublicFeed({story:s})}componentDidMount(){this.loadStoriesPublicFeed()}componentWillReceiveProps(t){t.story!==this.props.story&&this.loadStoriesPublicFeed(t)}render(){const{storyStore:e,appState:s}=this.props.stores,{publicFeed:o}=e,{darkmode:r}=s;return Object(c.h)("div",{class:"w-100"},Object(c.h)("div",{class:"row pb-4 bg-light"},Object(c.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${r?"black":"white"} shadow-sm`},!o||0===o.length&&Object(c.h)(t,null,Object(c.h)("div",{class:"text-center text-muted mt-5"},Object(c.h)("div",{class:"display-1 text-center mb-5"},Object(c.h)("i",{class:"fas fa-comment"})),Object(c.h)("h3",null,"No story found!"))),o&&o.map(e=>Object(c.h)(t,null,Object(c.h)(a.a,{stores:this.props.stores,story:e,showAllComments:!0}))))))}})||n;e.a=p}).call(this,s("hosL").Fragment)},B813:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("OhSV"),l=s("ZOvn"),p=s("AEg1"),b=(s("gOLw"),s("AJN2")),u=s("epqT"),h=s("w93r");const d=l.a.marginTop(!1),O=l.a.marginBottom(),f=l.a.marginTopBack(!1),j={isLoading:!1,submenu:"lastWorkouts",viewmenu:"wall"};let g=Object(i.a)(n=class extends c.Component{constructor(t){var e;super(t),e=this,this.reloadFeeds=async function(t){t.preventDefault(),e.setState({isLoading:!0}),await e.loadStoriesPublicFeed(),e.setState({isLoading:!1})},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},j)}async loadAll(){const{appState:t,userStore:e,messageStore:s}=this.props.stores;this.setState({isLoading:!0}),await t.getFingerprint(),await e.getInfo(),await e.getNotifications(),await s.getUnReadMessages();const{user:o}=e;if(o.currentLocationInfo&&o.currentLocationInfo.coords){const{latitude:t,longitude:s,altitude:r}=o.currentLocationInfo.coords;e.getWeatherUser({lat:t,lon:s,altitude:r})}this.setState({isLoading:!1})}async loadStoriesPublicFeed(t=this.props){const{storyStore:e}=t.stores,{story:s}=t;await e.loadPublicFeed({story:s})}componentDidMount(){this.loadAll()}render(){const{isLoading:e}=this.state,{story:s}=this.props,{userStore:o}=this.props.stores,{user:r}=o,{yrWeather:n,currentLocationGeocode:i={}}=r,{formatted_address:l}=i;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${O}; margin-top: ${d};`},Object(c.h)("div",null,Object(c.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:`top: ${f}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(c.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(c.h)(u.a,{stores:this.props.stores,url:this.props.url}),Object(c.h)("div",{class:"bg-light"},Object(c.h)(h.a,{stores:this.props.stores,data:n,place:l})),Object(c.h)(p.a,{stores:this.props.stores}),Object(c.h)("div",{class:"row bg-light"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(c.h)("small",null,Object(c.h)("small",null,Object(c.h)("div",{class:"float-right"},e?Object(c.h)(t,null,Object(c.h)("div",{class:"spinner-border text-primary",role:"status"},Object(c.h)("span",{class:"sr-only"},"Loading..."))):Object(c.h)(t,null,Object(c.h)("a",{href:"#",style:"font-size: 1.8em;",onClick:this.reloadFeeds},Object(c.h)("i",{class:"fas fa-sync-alt"}))))),Object(c.h)("span",{class:"text-muted"},Object(c.h)("i",{class:"fas fa-rss"})," ",Object(c.h)(a.c,{id:"home.wall"},"Veggen"))))),Object(c.h)(b.a,{stores:this.props.stores,story:s}))}})||n;e.default=g}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=98.chunk.1c5dc.esm.js.map