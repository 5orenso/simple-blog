(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{qZTL:function(t,e,s){"use strict";s.r(e),function(t){var c,a=s("hosL"),o=s("Utv1"),n=s("/eY4"),r=s("Y3FI"),l=(s("go65"),s("OhSV")),i=s("fh8t"),h=s.n(i),d=s("ZOvn"),g=s("67HY"),b=s("gbHB"),p=s("B+py");let u=Object(n.a)(c=class extends a.Component{constructor(t){var e;super(t),e=this,this.loadApplication=()=>{const{id:t}=this.state,{applicationStore:e}=this.props.stores;e.load(t)},this.changeLanguage=t=>{const e=t.target.value,{appState:s}=this.props.stores;s.setLanguage(e)},this.grantAccess=async function(){const{userStore:t}=e.props.stores,{user:s}=t,{returnUrl:c,id:a,team:o}=e.state,n={grantedDate:new Date,returnUrl:c,team:o,appId:a};t.findApplicationById(a)||await t.saveField(s.id,"applications",n),e.setState({accessGranted:1})},this.denyAccess=()=>{Object(r.route)("/",!0)},this.saveInputParams=()=>{let{returnUrl:t,id:e}=this.props;t?(o.a.set("returnUrl",t),o.a.set("id",e)):(t=o.a.get("returnUrl"),e=o.a.get("id")),this.setState({returnUrl:t,id:e})},this.state={returnUrl:"",id:0}}componentWillMount(){this.saveInputParams()}componentDidMount(){this.loadApplication()}render(){const{appState:e,userStore:s,applicationStore:c}=this.props.stores,{subsection:o}=this.props,{returnUrl:n,accessGranted:r}=this.state,{user:i}=s,{language:u="en"}=e,{application:f}=c;if(!f)return Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},Object(a.h)("h1",{class:"mt-5"},Object(a.h)("i",{class:"fas fa-paw"})," The Musher"),Object(a.h)("h5",{class:"mt-1 mb-5 font-weight-lighter"},Object(a.h)(l.c,{id:"grant-access.title"},"Grant access")),Object(a.h)("div",{class:"alert alert-danger",role:"alert"},Object(a.h)("h5",null,"Error"),"Application not found!"))));const{title:O,body:j,images:m}=f;return Object(a.h)("div",{class:"container-fluid"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},Object(a.h)("h1",{class:"mt-5"},Object(a.h)("i",{class:"fas fa-paw"})," The Musher"),Object(a.h)("h5",{class:"mt-1 mb-5 font-weight-lighter"},Object(a.h)(l.c,{id:"grant-access.title"},"Grant access")),Object(a.h)("h5",null,O),Object(a.h)("p",null,Object(a.h)(h.a,{markdown:d.a.replaceImages(j,m,u),markdownOpts:d.a.getMarkdownOptions()})))),Object(a.h)("div",{class:"row"},i.email?Object(a.h)(t,null,Object(a.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4"},Object(a.h)("div",{class:"my-4"},Object(a.h)("h5",{class:"font-weight-light"},Object(a.h)(l.c,{id:"grant-access.data-shared"},"Data beeing shared"),":"),Object(a.h)("p",null,Object(a.h)("i",{class:"fas fa-user"}),": ",Object(a.h)(l.c,{id:"grant-access.fields-shared-person"},"Image, Name, email, cellphone, address")),Object(a.h)("p",null,Object(a.h)("i",{class:"fas fa-dog"}),": ",Object(a.h)(l.c,{id:"grant-access.fields-shared-dog"},"Image, Name, chipId, gender, birth, vaccines")),Object(a.h)("p",null,Object(a.h)("i",{class:"fas fa-users"}),": ",Object(a.h)(l.c,{id:"grant-access.fields-shared-team"},"Name, description, images"))),r?Object(a.h)(t,null,Object(a.h)("a",{href:`${n}?userId=${i.uuidv4}`,native:!0},"Go back to application")):Object(a.h)(t,null,Object(a.h)("button",{class:"btn btn-success",onClick:this.grantAccess},Object(a.h)(l.c,{id:"grant-access.grant"},"Grant access")),Object(a.h)("button",{class:"btn btn-sm btn-link text-muted float-right",onClick:this.denyAccess},Object(a.h)(l.c,{id:"grant-access.deny"},"Deny access"))))):Object(a.h)(t,null,!o&&Object(a.h)(g.a,{stores:this.props.stores,showLogo:!1,routeLoginOk:"/grant-access",routeLoginNew:"/grant-access/newUser",routeLoginForgot:"/grant-access/forgotPassword"}),"newUser"===o&&Object(a.h)(b.a,{stores:this.props.stores,showLogo:!1,routeLogin:"/grant-access",routeLoginForgot:"/grant-access/forgotPassword",skipPubSub:!0}),"forgotPassword"===o&&Object(a.h)(p.a,{stores:this.props.stores,showLogo:!1,routeLogin:"/grant-access",routeLoginNew:"/grant-access/newUser"}))),Object(a.h)("div",{class:"col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4"},Object(a.h)("div",{class:"form-row align-items-center"},Object(a.h)("div",{class:"col-auto my-1 mx-auto",style:"width: 80px;"},Object(a.h)("select",{class:"custom-select",style:"background-color: inherit; border: none;",onInput:this.changeLanguage},Object(a.h)("option",{value:"no",selected:"no"===u},"ðŸ‡³ðŸ‡´ NO"),Object(a.h)("option",{value:"en",selected:"en"===u},"ðŸ‡¬ðŸ‡§ EN"),Object(a.h)("option",{value:"es",selected:"es"===u},"ðŸ‡ªðŸ‡¸ ES"),Object(a.h)("option",{value:"de",selected:"de"===u},"ðŸ‡©ðŸ‡ª DE"))))))}})||c;e.default=u}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-grant-access.chunk.c5e08.esm.js.map