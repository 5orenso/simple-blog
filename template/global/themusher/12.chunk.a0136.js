(window.webpackJsonp=window.webpackJsonp||[]).push([[12,5,80],{"+JSK":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV"),d=s("ZOvn"),h={},u=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleLikes=function(){s.setState({showLikesList:!s.state.showLikesList})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s}var a,r;return r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,s.prototype.render=function(){var e=this.state.showLikesList,s=this.props.stores,o=s.storyStore,n=s.teamStore,a=s.workoutStore,r=s.raceStore,h=this.props,u=h.likes,m=h.comments,b=h.type,p=void 0===b?"story":b,g=h.onTeamClick,f=void 0===g?function(){}:g;return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},u&&u.length>0&&Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(i.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",u.length),u.slice(0,1).map((function(e){var s,l,h;"story"===p?(s=o.findPublicUser(e.user),l=o.findPublicTeamByMembers(e.user)):"team"===p?(s=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"workout"===p?(s=a.findPublicUser(e.user),l=a.findPublicTeamByMembers(e.user)):"race"===p&&(s=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)),c.a.isArray(l)&&(h=l.find((function(t){return 1===t.public})));d.a.getImage({user:s,team:h,priority:"user"}),d.a.displayNameShort(s);var u=d.a.displayName(s);return Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-lighter"},h?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(t){return f(t,h.uuidv4)}},u)):Object(i.h)(t,null,u)))})),u.length>1&&Object(i.h)(t,null,Object(i.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(i.h)(l.c,{id:"likes-comments.and",fields:{total:u.length-1}},"and ",u.length-1," others."))))),m&&m.length>0&&Object(i.h)("span",{class:"float-right text-muted"},Object(i.h)("i",{class:"fas fa-comment text-primary"})," ",m.length)),e&&Object(i.h)("div",{class:"mt-3 mb-3"},u&&u.map((function(e){var s,l,h;"story"===p?(s=o.findPublicUser(e.user),l=o.findPublicTeamByMembers(e.user)):"team"===p?(s=n.findPublicUser(e.user),l=n.findPublicTeamByMembers(e.user)):"workout"===p?(s=a.findPublicUser(e.user),l=a.findPublicTeamByMembers(e.user)):"race"===p&&(s=r.findPublicUser(e.user),l=r.findPublicTeamByMembers(e.user)),c.a.isArray(l)&&(h=l.find((function(t){return 1===t.public})));var u=d.a.getImage({user:s,team:h,priority:"user"}),m=d.a.displayNameShort(s),b=d.a.displayName(s,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},h?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:function(t){return f(t,h.uuidv4)},class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:u?'background-image: url("'+u+'"); background-size: cover;':""},!u&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m))),Object(i.h)("div",{class:"ml-2 "},b," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",h.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?'background-image: url("'+u+'"); background-size: cover;':"")+" opacity: 0.5;"},!u&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m)),Object(i.h)("div",{class:"ml-2"},b)))}))))},s}(i.Component))||a;e.a=u}).call(this,s("hosL").Fragment)},"/922":function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("go65"),l=s("om2D"),d=(s("ETxl"),s("ZOvn")),h=Object(i.a)(o=function(e){function s(t){var s;return(s=e.call(this,t)||this).beforeImagesUploaded=function(){s.setState({sendButtonEnabled:!1})},s.afterImagesUploaded=function(){s.setState({sendButtonEnabled:!0})},s.commentWorkout=function(){return new Promise((function(t,e){var o,n,a,i,c,r,l,h,u,m,b;return s.state.sendButtonEnabled?(a=void 0===(n=(o=s.props).callback)?function(){}:n,c=void 0===(i=o.inputRefObject)?{}:i,r=s.props.workout,l=s.props.stores.workoutStore,u=(h=s.state).comment,m=h.showAddImage,s.setState({sendButtonEnabled:!1}),Promise.resolve(l.commentWorkout({id:r.id,comment:u})).then((function(o){try{return(b=o)&&200===b.status&&(s.setState({comment:{body:"",images:[]}},(function(){d.a.resizeTextarea(c[r.id]),m&&s.addImage()})),a({workout:r,response:b})),s.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},s.addImages=function(t){var e,o=s.state.comment;(e=o.images).push.apply(e,t.value),s.setState({comment:o})},s.addImage=function(){var t=s.state.showAddImage;s.setState({showAddImage:!(void 0!==t&&t)})},s.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},s.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},s.inputRef={},s}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this,s=this.props,o=s.inputRef,i=s.col,h=void 0===i?12:i,u=s.offset,m=void 0===u?0:u,b=s.showAvatar,p=void 0===b||b,g=s.extraClass,f=void 0===g?"":g,O=s.workout,v=this.state,j=v.comment,w=v.showAddImage,y=v.sendButtonEnabled,k=this.props.stores.userStore.user,x=void 0===k?{}:k,S=x.firstname?""+a.a.ucfirst(x.firstname,!0)+a.a.ucfirst(x.lastname,!0):""+a.a.ucfirst(x.email||"",!0),I=x.image||(x.images?x.images[0]:void 0);return Object(n.h)("div",{class:"col-"+h+" offset-"+m+" "+f},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},p&&Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(I?"background-image: url('"+I.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!x.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},S)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(r.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:j.body,ref:o})),Object(n.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(n.h)("i",{class:"fas fa-image pointerCursor","data-id":O.id,onClick:this.addImage})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(y?"primary":"secondary")+" mb-2",disabled:!y,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))),w&&Object(n.h)(t,null,Object(n.h)("div",{class:"col-12 text-center"},Object(n.h)("div",{class:"container-fluid"},Object(n.h)("div",{class:"row"},j.images&&j.images.map((function(t){return Object(n.h)("div",{class:"col-3 p-1"},Object(n.h)("img",{src:t.s3SmallLink,class:"img-fluid",onError:e.handleImageErrored}),Object(n.h)("button",{class:"btn btn-sm btn-link",onClick:e.removeImage,"data-name":t.name},Object(n.h)("i",{class:"fas fa-trash"}),"  ",Object(n.h)(c.c,{id:"comments.remove-image"},"Remove")))})))),Object(n.h)(l.a,{object:j,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))},s}(n.Component))||o;e.a=h}).call(this,s("hosL").Fragment)},"/DnB":function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=(s("Utv1"),s("/eY4")),r={},l=Object(c.a)(a=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},r),s.container=null,s}var s,a;a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var c=e.prototype;return c.componentDidMount=function(){var t=this.props,e=t.horizontal,s=t.vertical,o=void 0===s?"":s,n={behavior:"smooth"};e&&(n.inline=e),o&&(n.block=o),this.container.scrollIntoView(n)},c.render=function(){var t=this;return Object(i.h)("div",{ref:function(e){return t.container=e}},"Â ")},e}(i.Component))||a;e.a=l},"1OK2":function(t,e,s){"use strict";var o,n=s("hosL"),a=(s("Utv1"),s("/eY4"));Object(a.a)(o=function(t){function e(e){var s;(s=t.call(this,e)||this).touchStart=function(t){t.stopPropagation(),s.setState({startX:t.touches[0].pageX})},s.touchEnd=function(t){t.stopPropagation(),s.setState({startX:void 0,sliding:!1})},s.touchMove=function(t){if(t.stopPropagation(),s.state.totalImages>1){var e=s.state,o=e.startX,n=t.touches[0].pageX;e.sliding||(n>o+50?(s.setState({sliding:!0}),s.prevImage()):n<o-50&&(s.setState({sliding:!0}),s.nextImage()))}};var o=e.images,n=void 0===o?[]:o;return s.state={imageContainer:1,currentImage1:n[0]||{},currentImage2:{},currentIdx:0,totalImages:n.length||0,imageDots:[].concat(Array(n.length||0).fill(1).map((function(t,e){return t+e})))},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var a=e.prototype;return a.nextImage=function(){var t,e=this.state,s=1===e.imageContainer?2:1,o=e.currentIdx+1;o>e.totalImages-1&&(o=0),this.setState(((t={})["currentImage"+s]=this.props.images[o],t.currentIdx=o,t.imageContainer=s,t))},a.prevImage=function(){var t,e=this.state,s=e.imageContainer,o=e.currentIdx-1;o<0&&(o=e.totalImages-1),this.setState(((t={})["currentImage"+(1===s?2:1)]=this.props.images[o],t.currentIdx=o,t.imageContainer=1===s?2:1,t))},a.componentWillReceiveProps=function(t){if(t.images!==this.props.images){var e=t.images,s=void 0===e?[]:e;this.setState({imageContainer:1,currentImage1:s.length>0?s[0]:{},currentImage2:{},currentIdx:0,totalImages:s.length||0,imageDots:[].concat(Array(s.length||0).fill(1).map((function(t,e){return t+e})))})}},a.render=function(){var t,e,s=this,o=this.state,a=o.currentImage1,i=o.currentImage2,c=o.imageContainer,r=o.totalImages,l=o.imageDots,d=o.currentIdx,h=this["image"+c],u=1===c?a:i;if(u.dimensions){var m=u.dimensions,b=m.width,p=m.height,g=m.orientation;g>4&&g<9?(t=b,e=p):(t=p,e=b)}var f=u.dimensions?e/t:h&&h.height?h.width/h.height:4/3;return r<=0?"":Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"border rounded position-relative w-100",style:"height: calc(85vw / "+f+"); overflow: hidden; transition: all .3s ease-in-out;",onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},r>1&&Object(n.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(n.h)("small",null,d+1,"/",r)),a&&Object(n.h)("div",{class:"position-absolute",style:(1===c?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:a.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return s.image1=t}})),i&&Object(n.h)("div",{class:"position-absolute",style:(2===c?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(n.h)("img",{loading:"lazy",src:i.s3LargeLink,class:"img-fluid align-middle",ref:function(t){return s.image2=t}}))),l.length>1&&Object(n.h)("div",{class:"w-100 text-center"},l.map((function(t){return Object(n.h)("span",{style:"color: "+(t===d+1?"#ffffff":"#808080")+";"},"â¢")}))))},e}(n.Component))},"3wGD":function(t,e,s){"use strict";var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("go65"),l=(s("ETxl"),s("ZOvn")),d=Object(i.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).commentWorkout=function(){return new Promise((function(t,e){var o,n,a,i,c,r,d,h,u,m,b;return s.state.sendButtonEnabled?(a=void 0===(n=(o=s.props).callback)?function(){}:n,i=o.commentId,r=void 0===(c=o.inputRefObject)?{}:c,d=s.props.workout,h=s.props.stores.workoutStore,m=void 0===(u=s.state.comment)?"":u,s.setState({sendButtonEnabled:!1}),Promise.resolve(h.commentReplyWorkout({id:d.id,commentId:i,comment:m})).then((function(o){try{return(b=o)&&200===b.status&&(s.setState({comment:""},(function(){l.a.resizeTextarea(r[i])})),a({workout:d,response:b,commentId:i})),s.setState({sendButtonEnabled:!0}),t()}catch(t){return e(t)}}),e)):t(!1)}))},s.state={sendButtonEnabled:!0},s.inputRef={},s}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props.inputRef,e=this.state,s=e.comment,o=e.sendButtonEnabled,i=this.props.stores.userStore.user,d=void 0===i?{}:i,h=d.firstname?""+a.a.ucfirst(d.firstname,!0)+a.a.ucfirst(d.lastname,!0):""+a.a.ucfirst(d.email||"",!0),u=d.image||(d.images?d.images[0]:void 0);return Object(n.h)("div",{class:"w-100"},Object(n.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(u?"background-image: url('"+u.s3SmallLink+"'); background-size: cover;":"")+" border-width: 3px !important;"},!u&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},h)),Object(n.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"d-flex bd-highlight"},Object(n.h)("div",{class:"p-0 w-100 bd-highlight"},Object(n.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(n.h)(c.c,{id:"comments.comment"},"Kommentar")),Object(n.h)("div",{class:"border rounded rounded-lg position-relative"},Object(n.h)(c.b,null,Object(n.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(n.h)(c.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(r.a)(this,"comment"),onKeyUp:l.a.resizeTextarea,style:"height: 2.3em;",value:s,ref:t})))),Object(n.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(n.h)("button",{type:"button",class:"btn btn-"+(o?"primary":"secondary")+" mb-2",disabled:!o,onClick:this.commentWorkout},Object(n.h)("i",{class:"fas fa-paper-plane"})))))))},e}(n.Component))||o;e.a=d},"68RK":function(t,e,s){"use strict";var o=s("ivZ3"),n=s("Utv1"),a=s("ZOvn"),i={adit:new o.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new o.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new o.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new o.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new o.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new o.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new o.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new o.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new o.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new o.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new o.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new o.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new o.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new o.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new o.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new o.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new o.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new o.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new o.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new o.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new o.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new o.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new o.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new o.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new o.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new o.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new o.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new o.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new o.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new o.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new o.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new o.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new o.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new o.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new o.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new o.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new o.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new o.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new o.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new o.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new o.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new o.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new o.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new o.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new o.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new o.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new o.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new o.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new o.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new o.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new o.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new o.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new o.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new o.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new o.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new o.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new o.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new o.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new o.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new o.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new o.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new o.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new o.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new o.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new o.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new o.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new o.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new o.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new o.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new o.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new o.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new o.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new o.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new o.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new o.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new o.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new o.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new o.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new o.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new o.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new o.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new o.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new o.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new o.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new o.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new o.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new o.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new o.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new o.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new o.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new o.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new o.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new o.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new o.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new o.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new o.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new o.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new o.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new o.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new o.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new o.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new o.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new o.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new o.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new o.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new o.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new o.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new o.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new o.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new o.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new o.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new o.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new o.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new o.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new o.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new o.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new o.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new o.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new o.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new o.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new o.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new o.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new o.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new o.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new o.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new o.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new o.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new o.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new o.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new o.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new o.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new o.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new o.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new o.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new o.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new o.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new o.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new o.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new o.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new o.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new o.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new o.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new o.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new o.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new o.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new o.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new o.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new o.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new o.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new o.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new o.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new o.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new o.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new o.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new o.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new o.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new o.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new o.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new o.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new o.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new o.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new o.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new o.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new o.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new o.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new o.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new o.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new o.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new o.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new o.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new o.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new o.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=function(){function t(){}return t.get=function(t){return i[t]},t.list=function(){return Object.keys(i)},t.getDiv=function(t){var e=t.title,s=t.body,a=t.color,i=t.textColor,c=void 0===i?"#333333":i,r=t.borderColor,l=void 0===r?0:r,d=t.iconWidth,h=void 0===d?150:d,u=t.iconHeight,m=void 0===u?70:u,b="img-"+n.a.randomPassword();n.a.hsl2Rgb(a,100,60),n.a.hsl2Rgb(100-l,100,50);return new o.DivIcon({iconSize:[h,m+30],iconAnchor:[15,m+30],className:"my-div-icon",html:"<div id='"+b+"' style='width: "+h+"px; height: "+(m+30)+"px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#"+b+" .map-marker:after {\n\t\t\t\t\t\tborder-top-color: "+a+";\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: "+c+"; background-color: "+a+"; height: "+m+"px;'>\n\t\t\t\t\t<nobr><strong>"+e+"</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>"+s+"</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>"})},t.getRaceMarker=function(t){var e=t.bib,s=t.rank,i=t.flag,c=void 0===i?"":i,r=t.image,l=t.title,d=t.color,h=t.borderColor,u=void 0===h?0:h,m=t.iconWidth,b=void 0===m?180:m,p=t.iconHeight,g=void 0===p?15:p,f=t.iconAnchorX,O=void 0===f?5:f,v=t.iconAnchorY,j=void 0===v?5:v,w=t.imageCirlceRadius,y=void 0===w?10:w,k=t.lineHeight,x=void 0===k?"0.9em":k,S=t.fontSize,I=void 0===S?"0.9em":S,A=t.paddingTop,z=void 0===A?"3px":A,T=t.paddingBottom,P=void 0===T?"3px":T,D=t.largeMarkers,C=t.mapChecked,U=t.titlePrefix,_=void 0===U?"":U,L="img-"+n.a.randomPassword(),R=(n.a.hsl2Rgb(d,100,60),n.a.hsl2Rgb(100-u,100,50),a.a.getRankingColor(s)),M=/dark/i.test(C),F=r?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+r+'"); background-size: cover; border: 1px '+R+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return F=e||s?"\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: "+(R||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||s)+"\n\t\t\t</div>\n\t\t":F,new o.DivIcon({iconSize:[b,g],iconAnchor:[O,j],className:"my-div-icon",html:O>100?"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='"+L+"' style='width: "+b+"px; height: "+g+"px; line-height: "+x+"; font-size: "+I+";'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(M?"text-white":"text-dark")+" pl-3 pr-1 rounded-pill-left rounded-none "+(M?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+z+"; padding-bottom: "+P+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+_+" <strong>"+l+"</strong> "+c+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder "+(D?"pr-3 pl-2":"pr-2 pl-1")+" rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(R||"")+"; padding-top: "+z+"; padding-bottom: "+P+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+F+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+R+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t":"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+L+"' style='width: "+b+"px; height: "+g+"px; line-height: "+x+"; font-size: "+I+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+R+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder "+(D?"pl-3 pr-2":"pl-2 pr-1")+" rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(R||"")+"; padding-top: "+z+"; padding-bottom: "+P+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+F+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(M?"text-white":"text-dark")+" pr-3 pl-1 rounded-pill-right rounded-none "+(M?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+z+"; padding-bottom: "+P+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+c+" <strong>"+l+"</strong> "+_+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getDistanceMarker=function(t){var e=t.title,s=void 0===e?"":e,a=t.body,i=void 0===a?"":a,c="img-"+n.a.randomPassword();return new o.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:"<div id='"+c+"' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>"+s+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+i+"</span>\n\t\t\t</div>"})},t.getMarker=function(t){var e=t.bib,s=t.rank,i=t.flag,c=void 0===i?"":i,r=t.image,l=t.title,d=t.color,h=void 0===d?"#a0a0a0":d,u=t.borderColor,m=void 0===u?0:u,b=t.iconWidth,p=void 0===b?250:b,g=t.iconHeight,f=void 0===g?20:g,O=t.iconAnchorX,v=void 0===O?7:O,j=t.iconAnchorY,w=void 0===j?7:j,y=t.imageCirlceRadius,k=void 0===y?10:y,x=t.lineHeight,S=void 0===x?"1.0em":x,I=t.fontSize,A=void 0===I?"1.0em":I,z=t.paddingTop,T=void 0===z?"3px":z,P=t.paddingBottom,D=void 0===P?"3px":P,C=t.mapChecked,U="img-"+n.a.randomPassword(),_=(n.a.hsl2Rgb(h,100,60),n.a.hsl2Rgb(100-m,100,50),a.a.getRankingColor(e||s)||"#808080"),L=/dark/i.test(C),R=r?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+r+'"); background-size: cover; border: 1px '+_+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return R=e||s?"\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center "+(_?"":"bg-primary")+"' style='background-color: "+(_||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||s)+"\n\t\t\t</div>\n\t\t":R,new o.DivIcon({iconSize:[p,f],iconAnchor:[v,w],className:"my-div-icon",html:"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+U+"' style='width: "+p+"px; height: "+f+"px; line-height: "+S+"; font-size: "+A+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+k+"px; height: "+k+"px; background-color: "+_+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(L?"text-white":"text-dark")+" px-3 pl-1 rounded-pill-both rounded-none bg-info overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+T+"; padding-bottom: "+D+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>"+c+" <strong>"+l+"</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getSmallMarker=function(t){var e=t.title,s=void 0===e?"":e,a=t.body,i=void 0===a?"":a,c="img-"+n.a.randomPassword();return new o.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:"<div id='"+c+"' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>"+s+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+i+"</span>\n\t\t\t</div>"})},t}()},"8Lgr":function(t,e,s){"use strict";(function(t){function o(t){return i.a.format(t,t<5?2:1)}var n,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),r=(s("OhSV"),s("ZOvn"),Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,i;return i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.value,n=void 0===s?0:s,i=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,o(function(t){return.621371*t}(n))," ",i?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(t,null,"mi"))):Object(a.h)(t,null,Object(a.h)("nobr",null,o(n)," ",i?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(t,null,"km")))},s}(a.Component))||n);e.a=r}).call(this,s("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},DTs7:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function c(t){switch(t.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(t){switch(t.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,d,h,u=s("hosL"),m=s("Utv1"),b=s("/eY4"),p=s("Y3FI"),g=s("OhSV"),f=s("cneo"),O=s("fh8t"),v=s.n(O),j=s("X9Km"),w=s("ZOvn"),y=s("HqZR"),k=(s("1OK2"),s("s4FZ")),x=s("KDoM"),S=s("wLBv"),I=s("YdX6"),A=s("GcMA"),z=s("sqi2"),T=s("/922"),P=s("wanP"),D=s("epqT"),C=s("om2D"),U=s("q/oJ"),_=s("gWxU"),L=s("Nanz"),R=s("+JSK"),M=s("vY+r"),F=s("nHdA"),E=s("irB3"),B=s("UwwE"),H=s("8Lgr"),W=s("QkTp"),N=s("ukv5"),G=s("/DnB"),V=w.a.marginTop(!1),K=w.a.marginTopBack(!1),Y=w.a.marginBottom(),q=w.a.getMaxLoadIndex(),X={newDog:{},submenu:"totals",showAddComment:!1,mapHeight:300,mapMaxHeight:600,reloadInSec:null,reloadLastEpoch:null,reloadIsActive:!1},Z=(Object(b.a)(l=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).onInputDuration=function(t){var s=e.props,o=s.field,n=s.updateField,a=s.workout,i=parseInt(t.target.value,10),c=t.target.name,r=Math.floor(a[o]/3600)||0,l=Math.floor(a[o]/3600)||0;c.match(/-hours/)&&(r=i),c.match(/-minutes/)&&(l=i),n({id:a.id,field:o,value:3600*r+60*l})},e.handleImageErrored=function(t){var e=t.target;e.onerror=null,setTimeout((function(){e.src+="?"+new Date}),1e3)},e.removeImage=function(t){return new Promise((function(s){return e.props.stores.workoutStore.removeImage({id:e.props.workout.id,name:t.target.parentElement.dataset.name||t.target.dataset.name}),s()}))},e.removeMainImage=function(){var t=e.props;(0,t.updateField)({id:t.workout.id,field:t.field,value:{}})},e.setDateToNow=function(){var t=e.props,s=t.field,o=t.updateField,n=t.workout,a=m.a.isoDate(void 0,!1,!1,!0);o({id:n.id,field:s,value:a})},e.setTimeToNow=function(){var t=e.props,s=t.field,o=t.updateField,n=t.workout,a=m.a.isoTime();o({id:n.id,field:s,value:a})},e.setValue=function(t){var s=t.target.parentElement.dataset.value||t.target.dataset.value;if(s){var o=e.props;(0,o.updateField)({id:o.workout.id,field:o.field,value:s})}},e.setRightValue=function(){var t=e.props;(0,t.updateField)({id:t.workout.id,field:t.field,value:t.rightValueReal})},e}return i(e,t),e.prototype.render=function(){var t,e,s=this,o=this.props,n=o.saved,a=o.workout,i=o.type,c=o.datalist,r=void 0===c?[]:c,l=o.min,d=o.max,h=o.step,b=o.elementtype,p=o.field,O=o.title,v=o.icon,j=o.help,y=o.onInput,k=o.updateField,x=o.rightValue,S=Object(f.i)(a[p]),I=d;if("date"===i&&(S&&(S=m.a.isoDate(a[p],!1,!1,!0)),"today"===d&&(I=m.a.isoDate(void 0,!1,!1,!0))),"duration"!==p&&"rest"!==p||(t=m.a.secToHms(S,!0)),"weather"===p&&m.a.checkNested(a,"yr","0","instant","details")){var A=Object(f.i)(a.yr[0].instant.details);m.a.isoDate(a.yr[0].date,!1,!1,!0)===m.a.isoDate(a.date,!1,!1,!0)&&(e=t="Yr.no: ð¡ï¸ "+A.air_temperature+"Â°C, ð¨ "+A.wind_speed+"m/s ð§­ "+w.a.windDirection(A.wind_from_direction)+", âï¸ "+A.cloud_area_fraction+"%, "+A.air_pressure_at_sea_level+"mb, ð¦ "+A.relative_humidity+"%")}if("temperature"===p&&m.a.checkNested(a,"yr","0","instant","details")){var z=Object(f.i)(a.yr[0].instant.details);m.a.isoDate(a.yr[0].date,!1,!1,!0)===m.a.isoDate(a.date,!1,!1,!0)&&(t="Yr.no: ð¡ï¸ "+z.air_temperature+"Â°C",e=m.a.asNumber(z.air_temperature))}if("file"===i)return Object(u.h)("div",{class:"form-group "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)(Files,{saved:n,object:a,field:p,updateField:k}),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j));if("image"===i)return Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("div",{class:"container-fluid"},Object(u.h)("div",{class:"row"},a.image&&a.image.s3SmallLink&&Object(u.h)("div",{class:"col-3 p-1"},Object(u.h)("img",{loading:"lazy",src:a.image.s3SmallLink,class:"img-fluid border rounded-lg",onError:this.handleImageErrored}),Object(u.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeMainImage,"data-name":a.image.name},Object(u.h)("i",{class:"fas fa-trash"})," Del"),Object(u.h)("span",{class:"badge badge-success"},"Main")),a.images&&a.images.map((function(t){return Object(u.h)("div",{class:"col-3 p-1"},Object(u.h)("img",{loading:"lazy",src:t.s3SmallLink,class:"img-fluid",onError:s.handleImageErrored}),Object(u.h)("button",{class:"btn btn-sm btn-link",onClick:s.removeImage,"data-name":t.name},Object(u.h)("i",{class:"fas fa-trash"})," Del"))})))),Object(u.h)(C.a,{saved:n,object:a,field:p,updateField:k,autoOpen:!1}),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},"Endringene er lagret"):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j));if("datalist"===i)return Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("input",{list:"list-"+p,class:"form-control "+(n[p+"."+a.id]?"is-valid":""),id:p+"Input","aria-describedby":p+"Help",value:S,"data-id":a.id,"data-field":p,onInput:y}),Object(u.h)("datalist",{id:"list-"+p},r.map((function(t){return Object(u.h)("option",{value:t[0]},t[1])}))),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j));if("duration"===i){var T=Math.floor(a[p]/3600),P=Math.floor(a[p]%3600/60);return Object(u.h)("div",{class:"form-group mb-5 pb-1 border-bottom"},Object(u.h)("span",{class:"float-right"},Object(u.h)("strong",{onClick:this.setValue,"data-value":e},t)),Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("div",{class:"form-row"},Object(u.h)("div",{class:"form-group col-3 offset-3"},Object(u.h)("input",{class:"form-control text-right",id:p+"Input","aria-describedby":p+"Help",onInput:this.onInputDuration,name:p+"-hours",value:T,type:"number",min:"0",max:"24"})),Object(u.h)("div",{class:"form-group col-3"},Object(u.h)("input",{class:"form-control",id:p+"Input","aria-describedby":p+"Help",onInput:this.onInputDuration,name:p+"-minutes",value:P,type:"number",min:"0",max:"59"}))),Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j))}return"toggle"===i?Object(u.h)("div",{class:"form-group "+(n[p+"."+a.id]?"is-valid":"")},Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),Object(u.h)("div",{class:"custom-control custom-switch"},Object(u.h)("input",{type:"checkbox",class:"custom-control-input",id:p+"Input",value:1===S?0:1,"data-id":a.id,"data-field":p,onInput:y,checked:1==S?"checked":""}),Object(u.h)("label",{class:"custom-control-label",for:p+"Input"})),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j)):Object(u.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(n[p+"."+a.id]?"is-valid":"")},"date"===i&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setDateToNow},"I dag ",Object(u.h)("i",{class:"far fa-check-circle"})),"time"===i&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setTimeToNow},"NÃ¥ ",Object(u.h)("i",{class:"far fa-check-circle"})),x&&Object(u.h)("span",{class:"float-right text-muted font-weight-lighter",onClick:this.setRightValue},x),Object(u.h)("label",{for:p+"Input"},v&&Object(u.h)("i",{class:v+" text-muted"})," ",O),t&&Object(u.h)("span",{class:"float-right"},Object(u.h)("strong",{onClick:this.setValue,"data-value":e},t)),Object(u.h)("input",{type:i,class:"form-control "+(n[p+"."+a.id]?"is-valid":""),id:p+"Input","aria-describedby":p+"Help",min:l,max:I,step:h,value:S,"data-id":a.id,"data-field":p,"data-type":i,"data-elementtype":b,onInput:y}),n[p+"."+a.id]?Object(u.h)("div",{class:"valid-feedback",style:"display: block;"},Object(u.h)(g.c,{id:"workouts.changes-saved"},"Endringene er lagret")):Object(u.h)("small",{id:p+"Help",class:"form-text text-muted"},j))},e}(u.Component)),Object(b.a)(d=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t,e=this.props.stores.workoutStore.workout,s=void 0===e?{}:e,o=w.a.getFirstPoint(s),n=w.a.getMidPoint(s,.5),a=w.a.getMidPoint(s,1),i=s.tracks,c=void 0===i?[]:i,r=c[0],l=c[c.length-1];if(r&&l){var d=new Date(r.timestamp).getTime()/1e3;t=new Date(l.timestamp).getTime()/1e3-d}return Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"alert alert-warning"},Object(u.h)("h5",null,"Admin info"),Object(u.h)("xmp",null,"firstPoint: ",o.join(", "),Object(u.h)("br",null),"midPoint: ",n.join(", "),Object(u.h)("br",null),"endPoint: ",a.join(", "),Object(u.h)("br",null),Object(u.h)("br",null),"duration: ",m.a.secToHms(s.duration),Object(u.h)("br",null),Object(u.h)("br",null),Object(u.h)("strong",null,"Tracking info"),Object(u.h)("br",null),"duration: ",m.a.secToHms(t),Object(u.h)("br",null),Object(u.h)("br",null)),Object(u.h)("div",{class:"d-flex align-content-start flex-wrap"},c&&c.map((function(t){return Object(u.h)("span",{class:"ml-1"},t.coords.accuracy)}))),Object(u.h)("xmp",null,Object(u.h)("br",null),"firstTrackPoint:",Object(u.h)("br",null),JSON.stringify(r,null,4),Object(u.h)("br",null),Object(u.h)("br",null),"lastTrackPoint:",Object(u.h)("br",null),JSON.stringify(l,null,4),Object(u.h)("br",null),Object(u.h)("br",null))))},e}(u.Component))||d),J=Object(b.a)(h=function(e){function s(t){var s;return(s=e.call(this,t)||this).loadWorkout=function(t){return new Promise((function(e,o){var n,a;return void 0===t&&(t=s.props),n=s.props.stores.workoutStore,a=["publicTeams","publicUsers"],s.state.showAdminInfo&&a.push("geocluster"),Promise.resolve(n.load(t.workout,!1,{addData:a})).then((function(){try{return n.workout,n.plotGeocluster(),e()}catch(t){return o(t)}}),o)}))},s.updateField=function(t){var e=t.target.dataset,o=e.field,n=e.type,a=e.elementtype,i=e.isNew,c=t.target.value;s.updateFieldValue({id:parseInt(e.id,10),field:o,value:c,type:n,elementtype:a,isNew:i})},s.updateFieldValue=function(t){return new Promise((function(e,o){function n(){function t(){return e()}return"gpx"===i&&O&&m.a.checkNested(O,"gpx","gpxInfo")?(j=(v=O.gpx.gpxInfo).totalDistance,w=v.maxSpeed,y=v.avgSpeed,k=v.ascent,x=v.decent,I=v.rest,A=v.startLatlng,z=v.endLatlng,T={},(S=v.duration)&&(p.updateField(a,"duration",S),T.duration=S),I&&(p.updateField(a,"rest",I),T.rest=I),j&&(p.updateField(a,"distanceKm",m.a.roundTo(j,10)),T.distanceKm=m.a.roundTo(j,10)),w&&(p.updateField(a,"speedmax",m.a.roundTo(w,10)),T.speedmax=m.a.roundTo(w,10)),y&&(p.updateField(a,"speedAvg",m.a.roundTo(y,10)),T.speedAvg=m.a.roundTo(y,10)),k&&(p.updateField(a,"elevation",k),T.elevation=k),x&&(p.updateField(a,"decent",x),T.decent=x),A&&(p.updateField(a,"startLatlng",A),T.startLatlng=A),z&&(p.updateField(a,"endLatlng",z),T.endLatlng=z),Promise.resolve(p.save(T,O.id)).then(function(){try{return t.call(this)}catch(t){return o(t)}}.bind(this),o)):t.call(this)}var a,i,c,r,l,d,h,u,b,p,g,f,O,v,j,w,y,k,x,S,I,A,z,T;if(a=t.id,r=t.datatype,l=t.elementtype,t.type,h=void 0!==(d=t.isNew)&&d,b=void 0!==(u=t.skipTimer)&&u,g=c=t.value,f=c,O=(p=s.props.stores.workoutStore).workout,"images"===(i=t.field)&&Array.isArray(O.images)&&Array.isArray(c)&&(f=[].concat(O.images,c)),"array"!==r||Array.isArray(c)||(g="number"===l?c.split(",").map((function(t){return parseFloat(t)||t})):c.split(",")),h)return p.updateObjectKeyValue("newWorkout",i,c),n.call(this);{return p.updateField(a,i,f),b?Promise.resolve(s.doUpdateField(a,i,g)).then(function(){try{return P.call(this)}catch(t){return o(t)}}.bind(this),o):(clearTimeout(s.updateTimer[i]),s.updateTimer[i]=setTimeout((function(){return new Promise((function(t){return s.doUpdateField(a,i,g),t()}))}),500),P.call(this));function P(){return n.call(this)}}}))},s.showModal=function(t){t.stopPropagation(),t.preventDefault(),s.setState({displayModal:!0,currentImage:t.target.dataset.image,currentImageXXL:t.target.dataset.imagexxl,thumb:t.target.dataset.thumb,name:t.target.dataset.name,title:t.target.dataset.title,date:t.target.dataset.date})},s.closeModal=function(){s.setState({displayModal:!1})},s.deleteWorkout=function(){return new Promise((function(t,e){var o;return o=s.props.stores.workoutStore,Promise.resolve(o.saveField(o.workout.id,"offline",1)).then((function(){try{return j.a.publish(j.b.STATUS_MESSAGE,{message:"Workout was deleted",type:"success",icon:"fas fa-check"}),Object(p.route)("/workouts/list"),t()}catch(t){return e(t)}}),e)}))},s.duplicateWorkout=function(){return new Promise((function(t,e){var o,n;return o=s.props.stores.workoutStore,Promise.resolve(o.duplicateWorkout({id:o.workout.id})).then((function(s){try{return(n=s)&&n.id&&(j.a.publish(j.b.STATUS_MESSAGE,{message:"Workout was duplicated successfully",type:"success",icon:"fas fa-check"}),Object(p.route)("/workouts/"+n.id)),t()}catch(t){return e(t)}}),e)}))},s.makeTrack=function(){return new Promise((function(t,e){var o,n;return o=s.props.stores.workoutStore,Promise.resolve(o.makeTrackFromWorkout({id:o.workout.id})).then((function(s){try{return(n=s)&&n.id&&(j.a.publish(j.b.STATUS_MESSAGE,{message:"Track was created successfully",type:"success",icon:"fas fa-check"}),Object(p.route)("/tracks/edit/"+n.id)),t()}catch(t){return e(t)}}),e)}))},s.likeWorkout=function(){return new Promise((function(t,e){var o;return o=s.props.stores.workoutStore,Promise.resolve(o.likeWorkout({id:o.workout.id})).then((function(s){try{return s,t()}catch(t){return e(t)}}),e)}))},s.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;s.setState({showAddComment:!s.state.showAddComment},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.toggleAdminInfo=function(){s.props.stores.userStore.isAdmin&&s.setState({showAdminInfo:!s.state.showAdminInfo},(function(){s.loadWorkout()}))},s.chooseSubmenu=function(t){s.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu})},s.showStateDetail=function(t){var e=t.target.closest("div").dataset;s.setState({stateDetail:n({},e)})},s.reimportStravaWorkout=function(){return new Promise((function(t,e){var o,n;return n=(o=s.props.stores.workoutStore).workout,Promise.resolve(o.reimportStravaWorkout(n.stravaId,n.id)).then((function(){try{return s.loadWorkout(),t()}catch(t){return e(t)}}),e)}))},s.reimportGarminWorkout=function(){return new Promise((function(t,e){var o,n;return n=(o=s.props.stores.workoutStore).workout,Promise.resolve(o.reimportGarminWorkout(n.garminId,n.id)).then((function(){try{return s.loadWorkout(),t()}catch(t){return e(t)}}),e)}))},s.reCalculateGpxData=function(){return new Promise((function(t,e){var o,n;return s.state.recalculated?t(!0):(n=(o=s.props.stores.workoutStore).workout,s.setState({recalculated:!0}),Promise.resolve(o.reLoad(n.id)).then((function(){try{return t()}catch(t){return e(t)}}),e))}))},s.toggleMapSize=function(){s.setState(s.state.mapHeight===X.mapHeight?{mapHeight:X.mapMaxHeight}:{mapHeight:X.mapHeight})},s.finishWorkout=function(){return new Promise((function(t,e){var o;return o=s.props.stores.workoutStore,Promise.resolve(o.cordovaSaveTracking()).then((function(){try{return Promise.resolve(o.save({isInProgress:0},o.workout.id)).then((function(){try{return s.loadWorkout(),t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},s.sendGpxFile=function(){return new Promise((function(t,e){var o;return o=s.props.stores.workoutStore,Promise.resolve(o.sendGpxFile(o.workout.id)).then((function(){try{return s.setState({gpxFileSent:!0}),t()}catch(t){return e(t)}}),e)}))},s.shareLink=function(t){var e=t.target.closest("button").dataset;s.props.stores.appState.shareUrl({url:e.url,title:e.title,text:e.text})},s.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),s.setState({showTeam:e}),!1},s.hideTeam=function(){s.setState({showTeam:null})},s.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},s.onDogClick=function(t,e,o){return t.preventDefault(),t.stopPropagation(),s.setState({showDog:e,dogs:o}),!1},s.hideDog=function(){s.setState({showDog:null})},s.back=function(){s.props.stores.history.goBack()},s.state=n(n({},X),{},{submenu:t.submenu||"totals"}),s.updateTimer={},s.inputRef={},s}i(s,e);var o=s.prototype;return o.tickReloadTimeer=function(){var t=this,e=this.state,s=e.reloadLastEpoch;if(e.reloadIsActive){var o=Math.floor((new Date).getTime()/1e3);this.setState({reloadInSec:60-(o-s)}),setTimeout((function(){return t.tickReloadTimeer()}),1e3)}return!1},o.doUpdateField=function(t,e,s){return new Promise(function(o,n){function a(){return o()}return t&&e?Promise.resolve(this.props.stores.workoutStore.saveField(t,e,s)).then(function(){try{return a.call(this)}catch(t){return n(t)}}.bind(this),n):a.call(this)}.bind(this))},o.componentDidMount=function(){this.loadWorkout()},o.componentWillReceiveProps=function(t){t.workout!==this.props.workout&&this.loadWorkout(t)},o.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload)},o.render=function(){var e,s=this,o=this.props.stores,a=o.workoutStore,i=o.userStore,l=o.appState,d=l.mapColorMode,h=l.mapRangeMin,b=l.mapRangeMax,p=l.isCordova,O=l.hasShareApi,j=l.viewmode,C=i.user,X=i.isAdmin,J=this.state,Q=J.submenu,$=J.showAddComment,tt=J.showAdminInfo,et=J.mapHeight,st=J.reloadLastEpoch,ot=J.gpxFileSent,nt=J.showTeam,at=J.showDog,it=J.recalculated,ct=(Math.floor(m.a.normalizeBetween(J.reloadInSec,0,60,0,100)),a.workout),rt=a.waypoints2,lt=void 0===rt?[]:rt,dt=a.waypoints3,ht=void 0===dt?[]:dt,ut=ct.likes,mt=void 0===ut?[]:ut,bt=ct.comments,pt=void 0===bt?[]:bt,gt=C.language,ft=void 0===gt?"en":gt,Ot=i.findTeam(ct.team,!0)||{},vt=i.findTeamAmbition({ambition:Ot.ambitions,language:ft}),jt=i.findTeamType({type:Ot.type,language:ft}),wt=i.findWorkoutType({type:ct.type,language:ft}),yt=i.findWorkoutType({type:ct.type,field:"icon"}),kt=i.findTrack(ct.track),xt=i.findEquipment({equipment:ct.equipment,language:ft}),St=i.findEquipment({equipment:ct.equipment,field:"icon"}),It=i.findDogs(ct.dogs),At=i.findMushers(ct.mushers),zt=i.findIntensity({code:ct.intensity,language:ft})||{},Tt=a.getWorkoutNavigation(ct.id)||{},Pt=ct.likes&&ct.likes.findIndex((function(t){return t.user===C.id}))>-1,Dt=ct.gpxInfo,Ct=void 0===Dt?{}:Dt,Ut=ct.gpx,_t=void 0===Ut?{gpxInfo:{}}:Ut,Lt=Ct.weightedTotalKcal,Rt=void 0===Lt?0:Lt,Mt=Ct.loadIndex,Ft=void 0===Mt?0:Mt,Et=Ct.totalKcalRelated/100,Bt=ct.teams?ct.teams.map((function(t){return i.findTeam(t)})):[];ct&&ct.gpxInfo&&ct.gpxInfo.battegryLevelStart&&(e=100*(ct.gpxInfo.battegryLevelStart-ct.gpxInfo.battegryLevelEnd));var Ht=[];if(ct.mapImage&&Ht.push(n(n({},ct.mapImage),{},{type:"map"})),ct.images){var Wt=Object(f.i)(ct.images);Ht.push.apply(Ht,Wt)}var Nt,Gt=!1,Vt=w.a.getViews(ct.statistics),Kt=[];if(ct.mushers&&ct.mushers.length>1&&ct.mushers.slice(1,10).map((function(t){var e=i.findMusher(t);e&&e.images&&e.images[0]&&Kt.push(e.images[0])})),ct.mushers&&ct.mushers[0]){var Yt=i.findMusher(ct.mushers[0]);Yt&&Yt.images&&Yt.images[0]&&(Nt=Yt.images[0])}else Ot.image&&Ot.image.s3SmallLink?Nt=Ot.image:Ot.images&&Ot.images[0]&&Ot.images[0].s3SmallLink?Nt=Ot.images[0]:ct.image&&ct.image.s3SmallLink&&(Nt=ct.image);return Object(u.h)(t,null,nt&&Object(u.h)(U.a,null,Object(u.h)(_.default,{stores:this.props.stores,teamid:nt,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),at&&Object(u.h)(U.a,null,Object(u.h)(L.default,{stores:this.props.stores,dogid:at,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:It})),Object(u.h)("div",{class:"container-fluid",style:"margin-bottom: "+Y+"; margin-top: "+V+";"},Object(u.h)("div",{class:"d-flex justify-content-between mb-2"},Object(u.h)("div",null,Object(u.h)("button",{class:"btn btn-link float-left pl-0 fixed-top text-primary",style:"top: "+K+"; left: 5px; font-size: 35px; width: 45px;",onClick:this.back},Object(u.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(u.h)("div",null,Object(u.h)("h5",{class:"text-muted"},"Â ")),Object(u.h)("div",null,1===ct.isLocked?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"}),X&&Object(u.h)(t,null,Object(u.h)("a",{class:"btn btn-primary float-right",href:"/workouts/edit/"+ct.id},Object(u.h)("i",{class:"fas fa-edit"})," ",Object(u.h)(g.c,{id:"workouts.admin-edit"},"Admin edit")))):Object(u.h)(t,null,Object(u.h)("a",{class:"btn btn btn-primary float-right mt-1",href:"/workouts/edit/"+ct.id},Object(u.h)("i",{class:"fas fa-edit"})," ",Object(u.h)(g.c,{id:"workouts.edit"},"Endre"))))),Object(u.h)("div",{class:"d-flex justify-content-between mb-2"},Object(u.h)("div",{class:"text-muted"},Tt&&Tt.previous&&Object(u.h)("a",{href:"/workouts/"+Tt.previous.id,class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(u.h)("div",{class:"text-muted"},Tt.total>0&&Object(u.h)(t,null,Tt.idx+1," / ",Tt.total)),Object(u.h)("div",{class:"text-muted"},Tt&&Tt.next&&Object(u.h)("a",{href:"/workouts/"+Tt.next.id,class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-circle-right"})))),Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"d-flex mb-2"},Object(u.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+c(ct),style:(Nt?'background-image: url("'+Nt.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!Nt&&Object(u.h)("i",{class:r(ct)+" text-"+(zt.class?zt.class:"muted")+" mt-3",style:"font-size: 40px;"}),Kt&&Kt.map((function(e,s){return Object(u.h)(t,null,Object(u.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:'\n                                            background-image: url("'+e.s3SmallLink+'");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: '+(10*s-5)+"px;\n                                        "}))}))),Object(u.h)("div",{class:"flex-grow-1 pl-3"},Object(u.h)("h5",{class:"my-0"},ct.name,ct.isInProgress>0&&Object(u.h)(t,null,Object(u.h)("span",{class:"position-relative ml-3"},1===ct.isInProgress&&Object(u.h)("div",{class:"spinner-grow text-success position-absolute",style:"top: -5px; left: -6px;",role:"status"})),Object(u.h)("i",{class:"fas fa-stop-circle float-right text-warning",style:"font-size: 1.5em; cursor: pointer; pointer-events: inherit;",onClick:this.finishWorkout})),p&&tt&&X&&Object(u.h)(t,null,Object(u.h)("a",{href:"/workouts/tracking/"+ct.id,class:"ml-4"},Object(u.h)("i",{class:"far fa-play-circle"}),Object(u.h)(g.c,{id:"footer.workouts-continue"},"Continue")))),ct.garminId&&Object(u.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/garmin-connect.png');"}),ct.stravaId&&Object(u.h)("div",{class:"float-right ml-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:"background-image: url('./assets/strava-icon.png');"}),ct.team&&i.findTeam(ct.team),Bt&&Bt.length>0&&Object(u.h)("small",{class:"font-weight-lighter"},", ",Bt.map((function(e,s){return Object(u.h)(t,null,s>0?", ":"",e)}))),Object(u.h)("br",null),Object(u.h)("small",{class:"text-muted"},m.a.isoDate(ct.date,!1,!1,!1)),zt.class&&Object(u.h)("span",{class:"badge badge-"+zt.class+" ml-2"},zt.name),ct.sledWeight>0&&Object(u.h)("small",{class:"ml-3 text-muted"},Object(u.h)("i",{class:"fas fa-sleigh"})," ",Object(u.h)(g.c,{id:"workouts.sledWeight"},"Sledevekt"),": ",Object(u.h)(B.a,{stores:this.props.stores,value:ct.sledWeight})),e>0&&Object(u.h)("small",{class:"text-muted ml-3"},Object(u.h)("i",{class:"fas fa-battery-three-quarters"})," ",m.a.format(e,1),"% used")))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},ct.comment&&Object(u.h)("div",{class:"mb-3"},Object(u.h)(v.a,{markdown:w.a.replaceImages(ct.comment,ct.images,ft),markdownOpts:w.a.getMarkdownOptions()}))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-1"},Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"w-100 overflow-hidden"},Object(u.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},ct.isInProgress>0&&Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("current"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"current",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(g.c,{id:"workouts.current"},"Akkurat nÃ¥")),"current"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block "+(ct.isInProgress>0?"":"rounded-pill-left")+" rounded-none "+("totals"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"totals",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(g.c,{id:"workouts.totals"},"Totaler")),"totals"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("map"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"map",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(u.h)(g.c,{id:"workouts.map"},"Map")),"map"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("analysis"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"analysis",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-chart-area"})," ",Object(u.h)(g.c,{id:"workouts.analysis"},"Analyser")),"analysis"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("images"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"images",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-images"})," ",Object(u.h)(g.c,{id:"workouts.images"},"Bilder")),"images"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("dogs"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"dogs",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-dog"})," ",Object(u.h)(g.c,{id:"workouts.dogs"},"Hunder")),"dogs"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("handlers"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"handlers",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)(g.c,{id:"workouts.handlers"},"Handlere")),"handlers"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-none "+("gpx"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"gpx",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-user"})," ",Object(u.h)(g.c,{id:"workouts.gpx"},"GPX")),"gpx"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("advanced"===Q?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"advanced",onClick:this.chooseSubmenu},Object(u.h)("i",{class:"fas fa-cogs"})," ",Object(u.h)(g.c,{id:"workouts.advanced"},"advanced")),"advanced"===Q&&Object(u.h)(G.a,{horizontal:"center",vertical:"end"})))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},X&&Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Show admin details"))),"map"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},ct&&ct.gpx&&Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-sm btn-link float-right",onClick:this.toggleMapSize},"Toggle map size"),Object(u.h)("div",{class:"clearfix"},Object(u.h)("div",{class:"",style:"height: "+(et+40)+"px;"},Object(u.h)(y.a,{stores:this.props.stores,mapId:ct.id+"-"+et,geojson:ct.gpx.geoJSON,skipGeojson:!1,gpxInfo:ct.gpxInfo,height:et,mapColorMode:d,mapRangeMin:h,mapRangeMax:b,key:"workout-map-"+st,waypoints2:lt,waypoints3:ht,fullscreenMap:!0})))),kt&&kt.gpx&&!(ct&&ct.gpx)&&Object(u.h)(t,null,Object(u.h)("div",{class:"clearfix",style:"height: "+et+"px;"},Object(u.h)(y.a,{stores:this.props.stores,mapId:kt.id+"-"+et,geojson:kt.gpx.geoJSON,skipGeojson:!1,gpxInfo:kt.gpx.gpxInfo,height:et,mapColorMode:d,mapRangeMin:h,mapRangeMax:b,key:"workout-map-"+st,fullscreenMap:!0}))),Object(u.h)("div",{class:"text-center"},Object(u.h)("small",{class:"text-muted"},ct.weather,!ct.weather&&Object(u.h)(t,null,m.a.format(ct.temperature,1),"Â°C"))))),"current"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h3",null,m.a.secToHms(ct.duration))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.rest"},"Hvile")),Object(u.h)("h3",{class:"text-muted"},m.a.secToHms(ct.rest)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(g.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h3",null,Object(u.h)(F.a,{stores:this.props.stores,value:ct.speedAvg}))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(g.c,{id:"workouts.currentspeed"},"Fart")),Object(u.h)("h3",null,Object(u.h)(F.a,{stores:this.props.stores,value:ct.currentSpeed})))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(g.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h3",null,Object(u.h)(H.a,{stores:this.props.stores,value:ct.distanceKm})),Ct.calculatedTotalDistance>0&&Math.abs(ct.distanceKm-Ct.calculatedTotalDistance)>1&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(Ct.calculatedTotalDistance,1)," km ",Object(u.h)("br",null)),X&&tt&&Ct.calculatedTotalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",m.a.format(Ct.calculatedTotalDistance,2)," km ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.totalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",m.a.format(_t.gpxInfo.totalDistance,2)," km ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(u.h)(g.c,{id:"workouts.ascend"},"Stigning")),Object(u.h)("h3",null,Object(u.h)(E.a,{stores:this.props.stores,value:ct.elevation})),Ct.calculatedAscend>0&&Math.abs(ct.elevation-Ct.calculatedAscend)>50&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(Ct.calculatedAscend,0)," m ",Object(u.h)("br",null)),X&&tt&&Ct.calculatedAscend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",m.a.format(Ct.calculatedAscend,0)," m ",Object(u.h)("br",null)),X&&tt&&Ct.calculatedDescend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",m.a.format(Ct.calculatedDescend,0)," m ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.ascent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",m.a.format(_t.gpxInfo.ascent,0)," m ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.descent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",m.a.format(_t.gpxInfo.descent,0)," m ",Object(u.h)("br",null))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"totals"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},X&&tt&&Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-user-shield ml-2"})," ",Object(u.h)(g.c,{id:"workouts.admin-info"},"Admin info")),Object(u.h)("h3",null,"Admin"),X&&tt&&_t.gpxInfo&&_t.gpxInfo.startTime>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.startTime: ",m.a.isoDate(_t.gpxInfo.startTime)," ",Object(u.h)("br",null),"gpx.gpxInfo.endTime: ",m.a.isoDate(_t.gpxInfo.endTime)," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.duration"},"Vargihet")),Object(u.h)("h3",null,m.a.secToHms(ct.duration)),X&&tt&&Ct.minEpoch>0&&Ct.maxEpoch>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",m.a.secToHms(Ct.maxEpoch-Ct.minEpoch)," ",Object(u.h)("br",null)),X&&tt&&Ct.duration>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.duration: ",m.a.secToHms(Ct.duration)," ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.endTime>0&&_t.gpxInfo.startTime>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.endTime-startTime: ",m.a.secToHms((_t.gpxInfo.endTime-_t.gpxInfo.startTime)/1e3)," ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.duration>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.duration: ",m.a.secToHms(_t.gpxInfo.duration)," ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-clock ml-2"})," ",Object(u.h)(g.c,{id:"workouts.rest"},"Hvile")),Object(u.h)("h3",{class:"text-muted"},m.a.secToHms(ct.rest)),X&&tt&&Ct.minEpoch>0&&Ct.maxEpoch>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.maxEpoch-minEpoch: ",m.a.secToHms(Ct.rest)," ",Object(u.h)("br",null)),X&&tt&&Ct.rest>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.rest: ",m.a.secToHms(Ct.rest)," ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.rest>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.rest: ",m.a.secToHms(_t.gpxInfo.rest)," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(u.h)(g.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(u.h)("h3",null,Object(u.h)(F.a,{stores:this.props.stores,value:ct.speedAvg})),X&&tt&&Ct.avgMovingSpeeds>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgMovingSpeeds ",m.a.format(3.6*Ct.avgMovingSpeeds,2)," km/t ",Object(u.h)("br",null)),X&&tt&&Ct.avgGpsSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsSpeed ",m.a.format(3.6*Ct.avgGpsSpeed,2)," km/t ",Object(u.h)("br",null)),X&&tt&&Ct.avgGpsMovingSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.avgGpsMovingSpeed ",m.a.format(3.6*Ct.avgGpsMovingSpeed,2)," km/t ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.avgSpeed>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.avgSpeed ",m.a.format(3.6*_t.gpxInfo.avgSpeed,2)," km/t ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:""+yt})," ",Object(u.h)(g.c,{id:"workouts.type"},"Type")),Object(u.h)("h3",null,wt))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:""+St})," ",Object(u.h)(g.c,{id:"workouts.equipment"},"Utstyr")),Object(u.h)("h3",null,xt)),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dog ml-2"})," ",Object(u.h)(g.c,{id:"workouts.dogs"},"Hunder")),Object(u.h)("h3",null,ct.dogs&&Object(u.h)("span",null,ct.dogs.length)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-road ml-2"})," ",Object(u.h)(g.c,{id:"workouts.distance"},"Distanse")),Object(u.h)("h3",null,Object(u.h)(H.a,{stores:this.props.stores,value:ct.distanceKm})),Ct.calculatedTotalDistance>0&&Math.abs(ct.distanceKm-Ct.calculatedTotalDistance)>1&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(Ct.calculatedTotalDistance,1)," km ",Object(u.h)("br",null)),X&&tt&&Ct.calculatedTotalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedTotalDistance: ",m.a.format(Ct.calculatedTotalDistance,2)," km ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.totalDistance>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.totalDistance: ",m.a.format(_t.gpxInfo.totalDistance,2)," km ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-mountain ml-2"})," ",Object(u.h)(g.c,{id:"workouts.ascend"},"Stigning")),Object(u.h)("h3",null,Object(u.h)(E.a,{stores:this.props.stores,value:ct.elevation})),Ct.calculatedAscend>0&&Math.abs(ct.elevation-Ct.calculatedAscend)>50&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(Ct.calculatedAscend,0)," m ",Object(u.h)("br",null)),X&&tt&&Ct.calculatedAscend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedAscend: ",m.a.format(Ct.calculatedAscend,0)," m ",Object(u.h)("br",null)),X&&tt&&Ct.calculatedDescend>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpxInfo.calculatedDescend: ",m.a.format(Ct.calculatedDescend,0)," m ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.ascent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.ascent: ",m.a.format(_t.gpxInfo.ascent,0)," m ",Object(u.h)("br",null)),X&&tt&&_t.gpxInfo&&_t.gpxInfo.descent>0&&Object(u.h)("small",{class:"text-danger",style:"line-height: 0.8em;"},"gpx.gpxInfo.descent: ",m.a.format(_t.gpxInfo.descent,0)," m ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},1===ct.isLocked?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-lock text-danger",style:"font-size: 1.5em;"})):Object(u.h)(t,null,ct.stravaId&&!Ct.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Gt=!0,Object(u.h)("i",{class:"fas fa-sync"})," Reimport Strava data"),ct.garminId&&!Ct.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Gt=!0,Object(u.h)("i",{class:"fas fa-sync"})," Reimport Garmin data"),(X||!Gt)&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(u.h)("i",{class:"fas fa-sync"})," Recalculate GPX data")))),Object(u.h)(N.a,{stores:this.props.stores,states:Ct.states,duration:ct.duration})),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"analysis"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},m.a.checkNested(ct,"gpxInfo","elevations")||m.a.checkNested(ct,"gpx","gpxInfo","elevations")?Object(u.h)(t,null,Object(u.h)(A.a,{stores:this.props.stores,key:"workout-elevation-"+ct.id})):Object(u.h)(t,null,Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-chart-area"})),Object(u.h)("h3",{class:"font-weight-lighter"},Object(u.h)(g.c,{id:"workout.no-elevation-data"},"No elevation data. If you use a GPS to track your workouts you will get a nice graph here and more correct analysis of the energy usage."))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Ft>0&&Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("h5",{onClick:this.toggleAdminInfo},Object(u.h)(g.c,{id:"workouts.load-index"},"Belastningsindex")),Object(u.h)(P.a,{key:"gauge-"+Ft,radius:100,showPercentText:!0,color:w.a.getLoadIndexColor(m.a.normalizeBetween(Ft,0,q,0,100)),percent:Math.floor(m.a.normalizeBetween(Ft,0,q,0,100)),completed:w.a.getLoadIndexText(m.a.normalizeBetween(Ft,0,q,0,100)),prefix:""}),Object(u.h)("div",null,jt&&Object(u.h)("a",{href:"/settings/team/"+ct.team},Object(u.h)("span",{class:"badge badge-pill badge-secondary"},jt)),vt&&Object(u.h)("a",{href:"/settings/team/"+ct.team},Object(u.h)("span",{class:"badge badge-pill badge-secondary ml-2"},vt)),Object(u.h)("br",null)),ct.stravaId&&!Ct.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportStravaWorkout},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(g.c,{id:"workouts.reimport-strava"},"Reimport Strava data")),ct.garminId&&!Ct.reimported&&Object(u.h)("button",{class:"btn btn-sm btn-link text-muted",style:"font-size: 0.8em;",onClick:this.reimportGarminWorkout},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(g.c,{id:"workouts.reimport-garmin"},"Reimport Garmin data")),X&&tt&&Object(u.h)("div",null,Object(u.h)("small",null,Object(u.h)("span",{class:"badge badge-secondary mr-2"},"loadIndex: ",Ct.loadIndex),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"Max loadIndex: ",q),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"totalKcalRelated: ",m.a.format(Ct.totalKcalRelated,1)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"typeFactor: ",Ct.typeFactor),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"ambitionFactor: ",Ct.ambitionFactor),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"normalSpeed: ",Ct.normalSpeed),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"speedFactor: ",m.a.format(Ct.speedFactor,2)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"normalDuration: ",Ct.normalDuration),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"durationFactor: ",m.a.format(Ct.durationFactor,2)),Object(u.h)("span",{class:"badge badge-secondary mr-2"},"intensityFactor: ",m.a.format(Ct.intensityFactor,2)),Object(u.h)("div",null,Object(u.h)("small",{class:"text-muted"},"loadIndex = Math.floor(totalKcalRelated * durationFactor * speedFactor * typeFactor * ambitionFactor);"))))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)(g.c,{id:"workouts.energy-consumption-help"},"Energiforbruk er regnet ut fra 1,25 kcal / kg kroppsvekt / km.")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-total"},"Energiforbruk totalt")),Object(u.h)("h3",null,m.a.format(ct.kcalBurnedTotal,0)," ",Object(u.h)(g.c,{id:"workout.kcal"},"kcal")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalBurnedTotal*Et,0)," ",Object(u.h)(g.c,{id:"workout.kcal"},"kcal")," ",Object(u.h)("br",null))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption"},"Energiforbruk pr hund")),Object(u.h)("h3",null,m.a.format(ct.kcalBurned,0)," kcal"),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(Rt,0)," ",Object(u.h)(g.c,{id:"workout.kcal"},"kcal")," ",Object(u.h)("br",null)))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-fat-total"},"Fett totalt")),Object(u.h)("h3",null,m.a.format(ct.kcalFatGramsTotal/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalFatGramsTotal/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-fat"},"Fett pr hund")),Object(u.h)("h3",null,m.a.format(ct.kcalFatGrams/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalFatGrams/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-meat-total"},"KjÃ¸tt totalt")),Object(u.h)("h3",null,m.a.format(ct.kcalMeatGramsTotal/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalMeatGramsTotal/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-meat"},"KjÃ¸tt pr hund")),Object(u.h)("h3",null,m.a.format(ct.kcalMeatGrams/1e3,1)," kg"),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalMeatGrams/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")))),Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-fish ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-salmon-total"},"KjÃ¸tt totalt")),Object(u.h)("h3",null,m.a.format(ct.kcalSalmonGramsTotal/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalSalmonGramsTotal/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))),Object(u.h)("div",{class:"col  text-center"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-fish ml-2"})," ",Object(u.h)(g.c,{id:"workouts.energy-consumption-salmon"},"KjÃ¸tt pr hund")),Object(u.h)("h3",null,m.a.format(ct.kcalSalmonGrams/1e3,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg")),Et>0&&Object(u.h)("small",{class:"text-muted",style:"line-height: 0.8em;"},Object(u.h)(g.c,{id:"workouts.kcal-calculated"},"Beregnet:")," ",m.a.format(ct.kcalSalmonGrams/1e3*Et,1)," ",Object(u.h)(g.c,{id:"workout.kg"},"kg"))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"images"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(u.h)("div",{class:"row"},Object(u.h)(k.a,{stores:this.props.stores,images:Ht}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"dogs"===Q&&Object(u.h)(t,null,ct.dogsLeft&&Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.dogs-positions"},"Posisjoner i spannet"))),Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col-6 p-0"},ct.dogsLeft&&ct.dogsLeft.map((function(t){var e=i.findDog(t);return Object(u.h)(I.a,{stores:s.props.stores,dog:e,className:"ml-auto"})}))),Object(u.h)("div",{class:"col-6 p-0"},ct.dogsRight&&ct.dogsRight.map((function(t){var e=i.findDog(t);return Object(u.h)(I.a,{stores:s.props.stores,dog:e,className:"mr-auto"})})))))),"dogs"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.all-dogs",fields:{total:It.length}},"Hundene - ",It.length," stk"))),It&&It.map((function(t){return Object(u.h)(x.a,{stores:s.props.stores,dog:t})}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"handlers"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.all-mushers",fields:{total:At.length}},"Handlere - ",At.length," stk"))),At&&At.map((function(t){return Object(u.h)(S.a,{stores:s.props.stores,musher:t})}))),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"gpx"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.gpx-title"},"GPX")),Object(u.h)(g.c,{id:"workouts.gpx-description"},"Send GPX-file to your email address.")),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},ot?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-check text-success"})," ",Object(u.h)(g.c,{id:"workouts.gpx-file-sent"},"GPX file sent via email.")):Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-success",onClick:this.sendGpxFile},Object(u.h)(g.c,{id:"workouts.gpx-send"},"Send GPX-file"))))),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"advanced"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"offset-0 col-12 mt-4"},Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-3"},Object(u.h)("h5",null,Object(u.h)(g.c,{id:"workouts.advanced"},"Advanced"))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 mb-5"},Object(u.h)("div",{class:"row mt-2"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-cloud-sun-rain ml-2"})," ",Object(u.h)(g.c,{id:"workouts.weather"},"The weather during this workout")),Object(u.h)("h3",{class:"font-weight-lighter"},ct.weather))),Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(u.h)(g.c,{id:"workouts.temperature"},"Temperature")),Object(u.h)("h3",null,Object(u.h)(W.a,{stores:this.props.stores,value:ct.temperature}))),ct.sunPosition&&Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-sun ml-2"})," ",Object(u.h)(g.c,{id:"workouts.periode-of-day"},"Periode of day")),Object(u.h)("h3",null,ct.sunPosition.start," - ",ct.sunPosition.end))),Object(u.h)("div",{class:"row mt-4"},ct.moonPosition&&ct.moonPosition.start&&ct.moonPosition.start.altitudeDeg>0&&Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},ct.moonIllumination&&ct.moonIllumination.phaseIcon&&Object(u.h)(t,null,ct.moonIllumination.phaseIcon)," ",Object(u.h)(g.c,{id:"workouts.moon-position"},"Moon position")),Object(u.h)("h3",null,m.a.format(ct.moonPosition.start.altitudeDeg,0),"Â° ",ct.moonPosition.end&&ct.moonPosition.end.altitudeDeg>0&&Object(u.h)(t,null," - ",m.a.format(ct.moonPosition.end.altitudeDeg,0),"Â°")),ct.moonIllumination&&ct.moonIllumination.fraction&&Object(u.h)(t,null,Object(u.h)("div",{class:"progress"},Object(u.h)("div",{class:"progress-bar bg-warning",role:"progressbar",style:"width: "+100*ct.moonIllumination.fraction+"%","aria-valuenow":100*ct.moonIllumination.fraction,"aria-valuemin":"0","aria-valuemax":"100"},m.a.format(100*ct.moonIllumination.fraction,0),"%"))))),["beta","advanced","normal"].indexOf(j)>-1&&Object(u.h)(t,null,Object(u.h)("div",{class:"row mt-4"},Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dice ml-2"})," ",Object(u.h)(g.c,{id:"workouts.rating"},"Workout rating")),Object(u.h)("h3",null,m.a.format(ct.rating,0))),Object(u.h)("div",{class:"col text-center",style:"line-height: 1.0em;"},Object(u.h)("small",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-dumbbell ml-2"})," ",Object(u.h)(g.c,{id:"workouts.intensity"},"Workout intensity")),Object(u.h)("h3",null,zt.class&&Object(u.h)("span",{class:"badge badge-"+zt.class+" ml-2"},zt.name))))))),X&&tt&&Object(u.h)(t,null,Object(u.h)(Z,{stores:this.props.stores})),Object(u.h)("div",{class:"col-12"},Object(u.h)(D.a,{stores:this.props.stores,url:this.props.url,section:Q}))),"advanced"!==Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(u.h)(R.a,{stores:this.props.stores,likes:mt,comments:pt,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},Object(u.h)("div",{class:"row"},Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"btn btn-outline-"+(Pt?"primary":"secondary")+" btn-sm btn-block "+(Pt?"text-primary":""),onClick:this.likeWorkout},Object(u.h)("i",{class:(Pt?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(u.h)(g.c,{id:"workouts.like"},"Like"))),Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{type:"button",class:"btn btn-outline-secondary btn-sm btn-block","data-id":ct.id,onClick:this.toggleAddComment},Object(u.h)("i",{class:"fas fa-comment"})," ",Object(u.h)(g.c,{id:"workouts.comment"},"Comment"))),ct.private?Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)(g.c,{id:"workouts.is-private"},"Workout is private"))):Object(u.h)(t,null,O?Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("button",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+ct.uuidv4,"data-title":"title: "+ct.title},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(g.c,{id:"story.share"},"Del")))):Object(u.h)(t,null,Object(u.h)("div",{class:"col text-center"},Object(u.h)("a",{class:"btn btn-outline-secondary btn-sm btn-block text-overflow",href:"https://themusher.app/share/workout/"+ct.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(u.h)("i",{class:"fas fa-share"})," ",Object(u.h)(g.c,{id:"story.share"},"Del"))))))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-2 mb-3"},$&&Object(u.h)(T.a,{stores:this.props.stores,workout:ct,inputRef:function(t){return s.inputRef[ct.id]=t},inputRefObject:this.inputRef}),Object(u.h)(z.a,{stores:this.props.stores,workout:ct}),Vt>0&&Object(u.h)(t,null,Object(u.h)("div",{class:"mt-2"},Object(u.h)(M.a,{stores:this.props.stores,views:Vt,object:ct,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))))),1===ct.isLocked?Object(u.h)(t,null):Object(u.h)(t,null,"advanced"===Q&&Object(u.h)(t,null,Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.recalculate-title"},"Recalculate data")),Object(u.h)(g.c,{id:"workouts.recalculate-help"},"Click the button below if you want to recalculate this workout.",Object(u.h)("br",null),"Please don't overuse this function. If the calculations is not changed after 1 try, then it's not going to change the next time either."),Object(u.h)("button",{class:"btn btn-block btn-warning mt-2 float-left "+(it?"disabled":""),style:"font-size: 0.8em;",onClick:this.reCalculateGpxData},Object(u.h)("i",{class:"fas fa-sync"})," ",Object(u.h)(g.c,{id:"workouts.recalculate"},"Recalculate data")),Object(u.h)("br",null)),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.duplicate-title"},"Duplicate workout")),Object(u.h)(g.c,{id:"workouts.duplicate-help"},"Click the button below if you want to duplicate this workout. After you have duplicated this workout you can edit it as a regular workout."),Object(u.h)("button",{class:"btn btn-block btn-secondary mt-2 float-left",onClick:this.duplicateWorkout},Object(u.h)("i",{class:"fas fa-copy"})," ",Object(u.h)(g.c,{id:"workouts.duplicate"},"Duplicate workout")),Object(u.h)("br",null)),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-5 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.make-track-title"},"Make track")),Object(u.h)(g.c,{id:"workouts.make-track-help"},"Use this workout to make a track. This track can shared and downloaded as a regular track."),Object(u.h)("button",{class:"btn btn-block btn-info mt-2 float-left",onClick:this.makeTrack},Object(u.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(u.h)(g.c,{id:"workouts.make-track"},"Make track"))),Object(u.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-5 border-top"},Object(u.h)("h5",{class:"mt-5"},Object(u.h)(g.c,{id:"workouts.delete-title"},"Delete workout")),Object(u.h)(g.c,{id:"workouts.delete-help"},"Click the button below to delete this workout. All data related to this workout will be lost. All team and dog statistics will also be affected."),Object(u.h)("button",{class:"btn btn-block btn-sm btn-danger mt-2 float-right",onClick:this.deleteWorkout},Object(u.h)("i",{class:"fas fa-trash"})," ",Object(u.h)(g.c,{id:"workouts.delete"},"Delete")," ",ct.name)))))))},s}(u.Component))||h;e.default=J}.call(this,s("hosL").Fragment)},ETxl:function(t){t.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GcMA:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,c=s("hosL"),r=s("Utv1"),l=s("/eY4"),d=s("OhSV"),h=s("ZOvn"),u=s("bbv7"),m=Object(d.d)((function(){return{week:Object(c.h)(d.c,{id:"workout.graph.week"}),distance:Object(c.h)(d.c,{id:"workout.graph.distance"}),ascend:Object(c.h)(d.c,{id:"workout.graph.ascend"}),plan:Object(c.h)(d.c,{id:"workout.graph.plan"})}}))(i=Object(l.a)(i=function(e){function s(){return e.apply(this,arguments)||this}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this.props.stores.workoutStore.workout,s=void 0===e?{}:e,o=s.gpx,a=s.gpxInfo,i=(void 0===o?{}:o).gpxInfo,l=n(n({},void 0===i?{}:i),a),d=l.gpsSpeeds,m=l.speeds,b=void 0===m?void 0===d?[]:d:m,p=l.elevations,g=void 0===p?[]:p,f=l.temperatures,O=void 0===f?[]:f,v=l.climbs,j=void 0===v?[]:v,w=l.ecor,y=void 0===w?[]:w,k=[],x=[],S=[],I=[],A=[],z=[],T=[],P=[],D=[],C=[],U=[],_=[],L=[],R=[],M=[];if(g.length>0){var F=h.a.smoothArray(g,5).map((function(t,e){return{x:e,y:t}}));k.push(F),z.push("Elevation"),U.push("m")}if(b.length>0){var E=h.a.smoothArray(b,3).map((function(t,e){return{x:e,y:3.6*t}}));I.push(E),D.push("Speed"),R.push("km/t")}if(O.length>0){var B=h.a.smoothArray(O,2).map((function(t,e){return{x:e,y:t}}));x.push(B),T.push("Temp"),_.push("Â°C")}if(j.length>0){var H=h.a.smoothArray(j,2).map((function(t,e){return{x:e,y:t}}));S.push(H),P.push("Climblevel"),L.push("%")}if(y.length>0){var W=h.a.smoothArray(y,1).map((function(t,e){return{x:e,y:1e3*t}}));A.push(W),C.push("ECOR (kcal/kg/km)"),M.push("kcal/kg/km")}var N=[];if(s.distanceKm>0){for(var G=r.a.range(0,Math.ceil(l.calculatedTotalDistance||s.distanceKm),1),V=Math.ceil(G.length/5),K=(Math.floor(G.length/V),0),Y=G.length;K<Y;K+=V)N.push(G[K]);N.push(G[G.length-1])}return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(u.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:function(t){return t+"km"},xTicks:N,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:k,legendLeft:z,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" m",unitLeft:U,avgWindowLeft:[0,0,0],smoothLeft:[1,1,1],dataRight:I,legendRight:D,showYTicksRight:I.length>0?1:0,yTicksRightPostfix:"km/t",unitRight:R,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})),x.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(u.a,{stores:this.props.stores,width:1e3,height:100,showXTicks:1,xTicksVal:function(t){return t+"km"},xTicks:N,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:x,legendLeft:T,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" Â°C",unitLeft:_,avgWindowLeft:[0],smoothLeft:[1]})),S.length>0&&Object(c.h)("div",{class:"w-100 mt-3 mb-4"},Object(c.h)(u.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicksVal:function(t){return t+"km"},xTicks:N,paddingTop:30,lineFromXzero:!0,lineFromXmax:!0,dataLeft:S,legendLeft:P,dataFillLeft:[1],yMaxMinLeftRound:!1,showYTicksLeft:1,yTicksLeftPostfix:" %",unitLeft:L,avgWindowLeft:[0],smoothLeft:[1],dataRight:A,legendRight:C,showYTicksRight:A.length>0?1:0,yTicksRightVal:function(t){return r.a.format(t/1e3,2)},unitRight:M,avgWindowRight:[0,0,0],smoothRight:[1,1,1]})))},s}(c.Component))||i)||i;e.a=m}).call(this,s("hosL").Fragment)},HqZR:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){return.621371*t}var c,r=s("hosL"),l=s("Utv1"),d=s("/eY4"),h=s("cneo"),u=s("fh8t"),m=s.n(u),b=s("6FDT"),p=s.n(b),g=s("5QuX"),f=s.n(g),O=s("ABWa"),v=s.n(O),j=s("ZOvn"),w=s("g1rH"),y=s("LMBq"),k=s("ppmg"),x=s("PmTP"),S=s("svVU"),I=s("/PAx"),A=s("VsMb"),z=s("GdhX"),T=s("68RK"),P=(s("A1fj"),s("ivZ3")),D=s.n(P),C={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},U=w.a.BaseLayer,_=w.a.Overlay;delete D.a.Icon.Default.prototype._getIconUrl,D.a.Icon.Default.mergeOptions({iconRetinaUrl:s("sqja"),iconUrl:s("Drvj"),shadowUrl:s("K5o1")});var L=Object(d.a)(c=function(e){function s(t){var s;return(s=e.call(this,t)||this).mapRef=Object(r.createRef)(),s.polyRef=Object(r.createRef)(),s.handleViewportChanged=function(t){s.setState({mapCenter:t.center,mapZoom:t.zoom})},s.handleLocationFound=function(t){t.latlng&&s.setState({hasLocation:!0,latlng:t.latlng})},s.onEachFeature=function(t,e){var o=s.props.gpxInfo,n=void 0===o?{}:o,a="<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: "+l.a.format(n.totalDistance,2)+" km</li>\n\t\t\t\t<li>Max speed: "+l.a.format(n.maxSpeed,1)+" km/t</li>\n\t\t\t\t<li>Avg speed: "+l.a.format(n.avgSpeed,1)+" km/t</li>\n\t\t\t\t<li>Ascent: "+l.a.format(n.ascent||n.calculatedAscend,0)+" m</li>\n\t\t\t\t<li>Descent: "+l.a.format(n.decent||n.calculatedDescend,0)+" m</li>\n\t\t\t\t<li>Duration: "+l.a.secToHms(n.duration)+"</li>\n\t\t\t</ul>\n\t\t</Popup>";e.bindPopup(a)},s.handleClick=function(t){s.props.stores.appState.setLatlng(t.latlng)},s.zoomToGeoJSON=function(t){try{if(t.target){var e=s.mapRef,o=t.target.getBounds();o&&o._northEast&&(s.setState({bounds:o}),e.fitBounds(o))}}catch(t){console.log(t)}},s.zoomToMarkers=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var o=s.state.hasZoomedToMarkers;try{if((e||!o)&&t.length&&t.length>0){var n=s.mapRef,a=D.a.latLngBounds([]);t.forEach((function(t){a.extend([t.lat,t.lng])})),n.fitBounds(a),s.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},s.zoomToAllMarkers=function(){var t=s.props.waypoints;s.zoomToMarkers(void 0===t?[]:t,!0)},s.zoomToFirst10Markers=function(){var t=s.props.waypoints,e=(void 0===t?[]:t).slice(0,10);s.zoomToMarkers(e,!0)},s.zoomToFirst3Markers=function(){var t=s.props.waypoints,e=(void 0===t?[]:t).slice(0,3);s.zoomToMarkers(e,!0)},s.zoomToFavoriteMarkers=function(){var t=s.props,e=t.zoomToMarkers,o=void 0===e?[]:e,n=t.waypoints;s.zoomToMarkers(o.length>0?o:void 0===n?[]:n,!0)},s.overlayAdd=function(t){var e=s.state.visibleLayers;e[t.name]=!0,s.setState({visibleLayers:e})},s.overlayRemove=function(t){var e=s.state.visibleLayers;e[t.name]=!1,s.setState({visibleLayers:e})},s.polylineOptions=function(){var t=s.props.gpxInfo,e=s.state.rangeSteps,o=s.state.maxHslColor,n=s.props.stores.appState,a=n.mapColorMode,i=n.mapRangeMin,c=n.mapRangeMax;"speed"===a&&t&&t.speeds&&t.speeds.length>0&&(i=Math.floor(Math.min.apply(Math,t.speeds.map((function(t){return 3.6*t})))),c=Math.ceil(Math.max.apply(Math,t.speeds.map((function(t){return 3.6*t})))));var r=l.a.range(i,c,e),d=r.map((function(t){var e=function(t,e,s,o,n){return o+(t-e)*(n-o)/(s-e)}(t,i,c,0,o),s=l.a.hsl2Rgb(o-e,100,45);return{color:"rgb("+s.r+", "+s.g+", "+s.b+")"}}));return n.setMapRange(r,i,c),n.setMapColors(d),d},s.polylineOptionIdxFn=function(t){for(var e=s.props.stores.appState.mapRange,o=0;o<e.length;++o)if(t.meta<=e[o])return o;return e.length},s.polylinetrackPointFactory=function(t){var e=s.props.gpxInfo,o=s.props.stores.appState,n=o.mapRangeMin,a=o.mapRangeMax,i=[];return"speed"===o.mapColorMode&&e.speeds&&e.speeds.length>0?i=e.speeds.map((function(t){return 3.6*t})):e&&e.climbs&&(i=e.climbs),t.filter((function(t){return t[0]&&t[1]&&t[2]})).map((function(t,e){var s=D.a.latLng(t[1],t[0],t[2]);return i&&i.length>0?(s.meta=i[e]||0,s.meta>a&&(s.meta=a),s.meta<n&&(s.meta=n)):s.meta=0,s}))},s.showSpeed=function(){s.props.stores.appState.setMapColorMode("speed")},s.handleMarkerClick=function(t){void 0===t&&(t={});var e=s.props.onMarkerClick,o=void 0===e?function(t){return console.log({title:t.title,bib:t.bib})}:e;try{o(n({},t))}catch(t){console.log(t)}},s.handleMarker2Click=function(t){void 0===t&&(t={});var e=s.props.onMarker2Click,o=void 0===e?function(t){return console.log(t)}:e;try{o(n({},t))}catch(t){console.log(t)}},s.handleMarker3Click=function(t){void 0===t&&(t={});var e=s.props.onMarker3Click,o=void 0===e?function(t){return console.log(t)}:e;try{o(n({},t))}catch(t){console.log(t)}},s.baseLayerChange=function(t){var e=t.name;console.log("baseLayerChange event",t),console.log({name:e}),s.props.stores.appState.setMapChecked(e)},s.whenReadyHandler=function(t){t.target.on("baselayerchange",s.baseLayerChange),s.mapRef=t.target},s.setMapRef=function(){},s.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1},s}var o,a;a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a;var c=s.prototype;return c.geoJSONStyle=function(){return{color:"#0347A2",weight:8,fillOpacity:.5,fillColor:"#0347A2"}},c.geoJSONStyleList=function(t){var e=j.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}},c.componentWillReceiveProps=function(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)},c.componentWillUnmount=function(){},c.render=function(){var e,s,o=this,a=this.props.stores,c=a.userStore,d=a.appState,u=d.mapChecked,b=c.user.settings,g=void 0===b?{}:b,O=this.state,P=O.mapZoom,L=O.bounds,R=void 0===L?null:L,M=this.props,F=M.waypoints,E=void 0===F?[]:F,B=M.waypoints2,H=void 0===B?[]:B,W=M.waypoints3,N=void 0===W?[]:W,G=M.geoJSONs,V=void 0===G?[]:G,K=M.geojson,Y=M.gpxInfo,q=M.center,X=void 0===q?[61.0779066,9.800984]:q,Z=M.zoom,J=void 0===Z?5:Z,Q=M.minZoom,$=void 0===Q?4:Q,tt=M.maxZoom,et=void 0===tt?18:tt,st=M.height,ot=void 0===st?500:st,nt=M.skipGeojson,at=void 0!==nt&&nt,it=M.fullscreenMap,ct=void 0!==it&&it,rt=M.showZoomControl,lt=void 0===rt||rt,dt=M.showLayersControl,ht=void 0===dt||dt,ut=M.showScaleControl,mt=void 0===ut||ut,bt=M.showRange,pt=void 0===bt||bt,gt=M.showTrackProfile,ft=void 0===gt||gt,Ot=M.distanceMarkerSteps,vt=void 0===Ot?"normal":Ot,jt=M.showDistanceMarkers,wt=void 0===jt||jt,yt=M.largeMarkers,kt=M.isAnimatedMarkers,xt=M.replaySpeed,St=void 0===xt?1e3:xt,It=M.layersControlPosition,At=void 0===It?"topright":It,zt=d.mapColorMode,Tt=d.mapRange,Pt=d.mapColors,Dt=d.mapRangeMin,Ct=d.mapRangeMax,Ut=Object(h.i)(K),_t=l.a.asObject(Ut,"features",0,"geometry","coordinates"),Lt=[];if(_t&&_t[0]&&_t[0][0]&&(e=_t[0][0]&&_t[0][0][0]?[_t[0][0][1],_t[0][0][0]]:[_t[0][1],_t[0][0]],s=_t[_t.length-1][0]&&_t[_t.length-1][0][0]?[_t[_t.length-1][0][1],_t[_t.length-1][0][0]]:[_t[_t.length-1][1],_t[_t.length-1][0]],Y&&Y.distances)){var Rt=0,Mt=0,Ft=10;switch(P){case 15:Ft="long"===vt?3:1;break;case 14:Ft="long"===vt?5:2;break;case 13:Ft="long"===vt?7:3;break;case 12:Ft="long"===vt?10:5;break;case 11:case 10:Ft="long"===vt?15:10;break;case 9:Ft="long"===vt?20:15;break;case 8:Ft="long"===vt?30:20;break;case 7:Ft="long"===vt?40:30;break;case 6:Ft="long"===vt?70:50;break;case 5:Ft="long"===vt?150:100;break;default:Ft="long"===vt?200:150}Y.distances.forEach((function(t,e){Rt+=g.imperial?i(t):t,(Mt+=g.imperial?i(t):t)>=Ft&&(Mt=0,_t[e]&&Array.isArray(_t[e])&&Lt.push({lat:_t[e][1],lng:_t[e][0],title:Math.floor(Rt),body:""}))}))}var Et=c.isAdmin;return Object(r.h)(t,null,Object(r.h)("div",{class:v.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:j.a.captureAllEvents,onScroll:j.a.captureAllEvents},Object(r.h)(y.a,{bounds:R,whenCreated:this.setMapRef,onViewportChanged:this.handleViewportChanged,minZoom:$,maxZoom:et,center:X,onLocationfound:this.handleLocationFound,zoom:J,zoomControl:lt,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:ct||!D.a.Browser.mobile,tap:!D.a.Browser.mobile,touchZoom:!!D.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:"width: 100%; min-height: "+ot+"px; height: 100%;",className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},ht&&Object(r.h)(w.a,{position:At},Object(r.h)(U,{checked:"OpenStreetMap.Mapnik"===u,name:"OpenStreetMap.Mapnik"},Object(r.h)(k.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(r.h)(U,{checked:"OpenStreetMap.Dark"===u,name:"OpenStreetMap.Dark"},Object(r.h)(k.a,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Â© Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(r.h)(U,{checked:"Norway Kartverket topo4"===u,name:"Norway Kartverket topo4"},Object(r.h)(k.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(r.h)(U,{checked:"Norway Kartverket topo4graatone"===u,name:"Norway Kartverket topo4graatone"},Object(r.h)(k.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(r.h)(U,{checked:"Google Satellite Text"===u,name:"Google Satellite Text"},Object(r.h)(k.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(r.h)(_,{name:"Windspeed"},Object(r.h)(x.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(_,{name:"Temperature"},Object(r.h)(x.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(_,{name:"Snow depth"},Object(r.h)(x.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(r.h)(_,{name:"Precipitation"},Object(r.h)(x.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Et&&Object(r.h)(_,{name:"Atmospheric pressure"},Object(r.h)(x.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),mt&&Object(r.h)(S.a,{metric:!0,imperial:!1}),V&&V.length>0&&V.map((function(t,e){return Object(r.h)(I.a,{data:t,style:function(){return o.geoJSONStyleList(e)}})})),!at&&K&&e&&Object(r.h)(I.a,{data:K,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,eventHandlers:{add:function(t){return o.zoomToGeoJSON(t)}}}),ft&&Object(r.h)(t,null,_t&&_t.length>0&&Object(r.h)(p.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(_t),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:4,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+zt})),e&&Object(r.h)(A.a,{position:e,icon:T.a.get("marker")},Object(r.h)(z.a,null,"Start position: ",l.a.format(e[0],4),", ",l.a.format(e[1],4))),s&&Object(r.h)(A.a,{position:s,icon:T.a.get("flag")},Object(r.h)(z.a,null,"End position: ",l.a.format(s[0],4),", ",l.a.format(s[1],4))),wt&&Lt&&Lt.length>0&&Object(r.h)(t,null,Lt.length>0&&Lt.map((function(t){return Object(r.h)(A.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(r.h)(z.a,{position:[t.lat,t.lng]},Object(r.h)("h5",null,t.title),Object(r.h)(m.a,{markdown:t.body,markdownOpts:C})))}))),N.length>0&&N.reverse().map((function(t,e){return Object(r.h)(A.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:u}),eventHandlers:{click:function(e){return o.handleMarker3Click(n(n({},t),{},{e:e}))}},zIndexOffset:100+e})})),H.length>0&&H.reverse().map((function(t,e){return Object(r.h)(A.a,{position:[t.lat,t.lng],draggable:!1,icon:T.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:yt?300:250,iconHeight:yt?30:20,iconAnchorX:yt?10:7,iconAnchorY:yt?10:7,imageCirlceRadius:yt?20:14,lineHeight:yt?"1.5em":"1.1em",fontSize:yt?"1.5em":"1.1em",paddingTop:yt?"2px":"3px",paddingBottom:yt?"2px":"3px",mapChecked:u}),eventHandlers:{click:function(e){return o.handleMarker2Click(n(n({},t),{},{e:e}))}},zIndexOffset:200+e})})),E.length>0&&E.reverse().map((function(e,s){return Object(r.h)(t,null,kt?Object(r.h)(t,null,Object(r.h)(f.a,{position:{lat:e.lat,lng:e.lng},duration:St,draggable:!1,icon:T.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:yt?300:170,iconHeight:yt?30:15,iconAnchorX:yt?s%2==0?10:290:s%2==0?7:163,iconAnchorY:yt?10:5,imageCirlceRadius:yt?20:10,lineHeight:yt?"1.5em":"0.9em",fontSize:yt?"1.5em":"0.9em",paddingTop:yt?"1px":"3px",paddingBottom:yt?"2px":"3px",titlePrefix:"rest"===e.currentState?"ð¤":"",mapChecked:u,largeMarkers:yt}),eventHandlers:{click:function(t){return o.handleMarkerClick(n(n({},e),{},{e:t}))}},zIndexOffset:300+s})):Object(r.h)(t,null,Object(r.h)(A.a,{position:[e.lat,e.lng],draggable:!1,icon:T.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:yt?300:170,iconHeight:yt?30:15,iconAnchorX:yt?s%2==0?10:290:s%2==0?7:163,iconAnchorY:yt?10:5,imageCirlceRadius:yt?20:10,lineHeight:yt?"1.5em":"0.9em",fontSize:yt?"1.5em":"0.9em",paddingTop:yt?"1px":"3px",paddingBottom:yt?"2px":"3px",titlePrefix:"rest"===e.currentState?"ð¤":"",mapChecked:u,largeMarkers:yt}),eventHandlers:{click:function(t){return o.handleMarkerClick(n(n({},e),{},{e:t}))}},zIndexOffset:300+s})))}))),E.length>0&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 65px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToAllMarkers},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-crosshairs"})))),E.length>=3&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 105px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst3Markers},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-crosshairs"})," 3"))),E.length>=10&&Object(r.h)("div",{class:"position-absolute",style:"bottom: 145px; right: 5px; z-index: 999999;"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst10Markers},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-crosshairs"})," 10")))),pt&&Tt&&Tt.length>0&&Object(r.h)(t,null,Object(r.h)("div",{class:"mb-4"},Object(r.h)("div",{class:"float-right mt-1"},Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(Dt,0),Object(r.h)("span",{class:"text-muted"},"speed"===zt?"km/t":"%")))),Tt&&Tt.length>0&&Tt.map((function(t,e){return Object(r.h)("div",{class:"float-left"},Object(r.h)("div",{style:"background-color: "+Pt[e].color+"; height: 13px; width: 10px;"}))})),Object(r.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(r.h)("small",null,Object(r.h)("small",null,l.a.format(Ct,0),Object(r.h)("span",{class:"text-muted"},"speed"===zt?"km/t":"%"))))))))},s}(r.Component))||c;e.a=L}).call(this,s("hosL").Fragment)},KDoM:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=s("nHdA"),l=s("irB3"),d=s("UwwE"),h=s("8Lgr"),u=(s("QkTp"),s("ZOvn")),m=Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this.props.dog,s=this.props.stores,o=s.userStore,i=s.dogStore,m=o.user.language,b=void 0===m?"en":m,p=s.appState.viewmode,g=(new Date).getMonth()+1,f=(new Date).getFullYear(),O=this.props,v=O.month,j=O.year,w=void 0===j?f:j,y=parseInt((void 0===v?g:v)<8?w-1:w,10),k=i.findWorkoutSummary(e.id,y)||{},x=e.statuses?e.statuses.map((function(t){return o.findDogstatus({status:t,language:b})})):[],S=i.findVaccineStatuses(e.id),I=i.findVaccineLogStatuses(e.chipId),A=i.findHistoryStatuses(e.id),z=o.findDogstatus({status:e.status,language:b}),T=o.findDogposition({position:e.position,language:b}),P=[];o.findTeam(e.team)&&P.push(o.findTeam(e.team)),e.teams&&e.teams.forEach((function(t){o.findTeam(t)&&P.push(o.findTeam(t))}));var D=u.a.hasBirthday(e.birth),C=e.birth?Math.ceil(u.a.daysUntilNextBirthday(e.birth)):365,U=this.props.url,_=void 0===U?"/dogs/"+e.id:U;return Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:e.image?'background-image: url("'+e.image.s3SmallLink+'"); background-size: cover;':""},!e.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a.a.ucfirst(e.name,!0))),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+o.findHarness(e.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(n.h)("span",{class:"float-right"},T&&Object(n.h)("span",{class:"badge badge-"+(T.class||"primary")+" mr-3"},T.icon&&Object(n.h)("i",{class:T.icon})," ",T.name),C<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",C," days")),e.birth&&Object(n.h)("span",{class:"mr-2"},a.a.age(e.birth,e.deceased)),"female"===e.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"})),Object(n.h)("a",{class:"stretched-link",href:_},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},e.shortname||e.name," ",e.shortname&&""!==e.shortname&&Object(n.h)(t,null," - ",Object(n.h)("span",{class:"font-weight-lighter"},e.name)),D&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))),Object(n.h)("div",null,P&&P.length>0&&Object(n.h)("small",{class:"font-weight-lighter"},P.map((function(e,s){return Object(n.h)(t,null,s>0?", ":"",e)}))),Object(n.h)("br",null)),Object(n.h)("small",{class:"text-muted"},e.history>0&&Object(n.h)("span",{class:"ml-0"},Object(n.h)("i",{class:"fas fa-file-signature"})," ",e.history.length),e.images>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-image"})," ",e.images.length),k&&k.distanceKm>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-road"})," ",Object(n.h)(h.a,{stores:this.props.stores,value:k.distanceKm})),k&&k.elevation>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-mountain"})," ",Object(n.h)(l.a,{stores:this.props.stores,value:k.elevation})),k&&k.duration>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-clock"})," ",a.a.secToHms(k.duration,!0)),k&&k.speedAvg>0&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(n.h)(r.a,{stores:this.props.stores,value:k.speedAvg})),e.weight>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",Object(n.h)(d.a,{stores:this.props.stores,value:e.weight})),e.bodyScore>0&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(e.bodyScore,1))),["beta","advanced","normal"].indexOf(p)>-1&&Object(n.h)(t,null,Object(n.h)("div",null,S&&S.map((function(t){return Object(n.h)("span",{class:"badge badge-success mr-2",title:a.a.isoDate(t.endDate,!1,!1,!0)},t.vaccineType,Object(n.h)("span",{class:"font-weight-light ml-3"},Object(n.h)("i",{class:"fas fa-calendar-check"})," ",a.a.isoDate(t.endDate,!1,!1,!0)))})),A&&A.map((function(t){return Object(n.h)("span",{class:"badge badge-warning mr-2",title:a.a.isoDate(t.endDate,!1,!1,!0)},t.title)})))),["beta","advanced"].indexOf(p)>-1&&Object(n.h)(t,null,e.positions&&e.positions.lead&&Object(n.h)("div",{class:""},e.positions.lead.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-lead"},"Lead"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.lead.distanceKm})),e.positions.point.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-point"},"Point"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.point.distanceKm})),e.positions.team.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-team"},"Team"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.team.distanceKm})),e.positions.wheel.distanceKm>0&&Object(n.h)("span",{class:"badge badge-secondary mr-2"},Object(n.h)("span",{class:"font-weight-lighter"},Object(n.h)(c.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",Object(n.h)(h.a,{stores:this.props.stores,value:e.positions.wheel.distanceKm})))),Object(n.h)("div",{class:"clearfix pb-0"},e.specialNeeds&&Object(n.h)("span",{class:"badge badge-warning ml-2 mt-1 float-right"},Object(n.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),z&&Object(n.h)("span",{class:"badge badge-"+z.class+" ml-2 mt-1 float-right"},z.icon&&Object(n.h)("i",{class:z.icon})," ",z.name),x&&x.map((function(e){return Object(n.h)(t,null,Object(n.h)("span",{class:"badge badge-"+e.class+" ml-2 mt-1 float-right"},e.icon&&Object(n.h)("i",{class:e.icon})," ",e.lang&&e.lang[b]?e.lang[b]:e.name))}))),I&&I.length>0&&Object(n.h)(t,null,Object(n.h)("div",{class:"mt-2"},I&&I.filter((function(t){return t.chipId===e.chipId})).map((function(t){return Object(n.h)("span",{class:"badge badge-"+(t.inKarens?"warning":"success")+" mr-2 mb-1"},Object(n.h)("i",{class:"fas fa-user-md"})," ",t.vaccineAgens.name)}))))))))},s}(n.Component))||o;e.a=m}).call(this,s("hosL").Fragment)},NDEG:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=s("ZOvn"),r=Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.dog,o=void 0===s?{}:s,i=e.dogs,r=void 0===i?[]:i,l=e.showTeam,d=e.showInfo,h=e.showName,u=void 0===h||h,m=e.showPosition,b=void 0===m||m,p=e.showAge,g=void 0!==p&&p,f=e.className,O=e.size,v=e.onDogClick,j=void 0===v?function(){}:v,w=this.props.stores.userStore,y=w.user.language,k=w.findDogposition({position:o.position,language:void 0===y?"en":y}),x=c.a.hasBirthday(o.birth),S=(Math.ceil(c.a.daysUntilNextBirthday(o.birth)),"92px"),I="",A="35px";return"small"===O?(S="50px",I="imageRoundedSmall",A="20px"):"medium"===O&&(S="60px",I="imageRoundedMedium",A="25px"),Object(n.h)("div",{class:"mb-2 position-relative "+f+" clearfix",style:"width: "+S,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},b&&k&&Object(n.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(n.h)("span",{class:"badge badge-"+(k.class||"primary")+" mr-3"},k.icon&&Object(n.h)("i",{class:k.icon})," ",k.name)),Object(n.h)("div",{class:"text-center border rounded-circle imageRounded "+I+" mx-auto text-muted pt-2",style:(o.image?'background-image: url("'+o.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!o.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: "+A+";"},a.a.ucfirst(o.name,!0))),Object(n.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(n.h)("small",null,Object(n.h)("a",{href:"/dogs/public/"+o.uuidv4,onClick:function(t){return j(t,o.uuidv4,r)},class:"stretched-link"},u&&Object(n.h)(t,null,Object(n.h)("span",{class:"mb-1 font-weight-light"},Object(n.h)("nobr",null,o.shortname||o.name,x&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(n.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(n.h)("small",null,o.birth&&g&&Object(n.h)(t,null,Object(n.h)("span",{class:"float-right"},o.birth&&Object(n.h)("span",{class:"mr-2"},a.a.age(o.birth,o.deceased)),"female"===o.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),l&&Object(n.h)(t,null,Object(n.h)("span",{class:"font-weight-light"},w.findTeam(o.team)),Object(n.h)("br",null)),d&&Object(n.h)("small",{class:"text-muted"},o.weight&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",a.a.format(o.weight,1)," kg"),o.bodyScore&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(o.bodyScore,1))))))},s}(n.Component))||o;e.a=r}).call(this,s("hosL").Fragment)},QkTp:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return 9*t/5+32}(o),0),"Â°F")):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(o,1),"Â°C"))},s}(n.Component))||o);e.a=c}).call(this,s("hosL").Fragment)},UwwE:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return 2.20462*t}(o),0)," lb")):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(o,0)," kg"))},s}(n.Component))||o);e.a=c}).call(this,s("hosL").Fragment)},YdX6:function(t,e,s){"use strict";(function(t){function o(t,e){if(e){if(l.indexOf(e.status)>-1)return"danger";if(d.indexOf(e.status)>-1)return"warning"}if(t){if(t.distanceKm>50)return"danger";if(t.distanceKm>30)return"warning"}return"success"}var n,a=s("hosL"),i=s("Utv1"),c=s("/eY4"),r=s("ZOvn"),l=[2,9],d=[4,8],h=Object(c.a)(n=function(e){function s(){return e.apply(this,arguments)||this}var n,c;return c=e,(n=s).prototype=Object.create(c.prototype),n.prototype.constructor=n,n.__proto__=c,s.prototype.render=function(){var e=this.props,s=e.dog,n=e.showWorkout,c=e.showTeam,l=e.showNeeds,d=e.showInfo,h=e.showName,u=void 0===h||h,m=e.showPosition,b=void 0===m||m,p=e.showAge,g=void 0!==p&&p,f=e.className,O=e.size,v=this.props.stores,j=v.userStore,w=v.dogStore,y=j.user.language,k=void 0===y?"en":y;if(!s)return"small"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 50px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2  mx-auto"},Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},"Â ")),u&&Object(a.h)("div",{class:"text-center"},"Â ")):"medium"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 60px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium text-muted pt-2  mx-auto"},Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 25px;"},"Â ")),u&&Object(a.h)("div",{class:"text-center"},"Â ")):Object(a.h)("div",{class:"mb-2 position-relative "+f,style:"width: 92px;"},Object(a.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2  mx-auto"},Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},"Â ")),u&&Object(a.h)("div",{class:"text-center"},"Â "));var x=j.findDogstatus({status:s.status,language:k}),S=j.findDogposition({position:s.position,language:k}),I=w.findCurrentWorkoutSummary(s.id),A=r.a.hasBirthday(s.birth),z=Math.ceil(r.a.daysUntilNextBirthday(s.birth));return"small"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 50px;"},Object(a.h)("div",{class:"text-center border border-"+o(I,s)+" rounded-circle imageRounded imageRoundedSmall mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(s.name,!0)))):"medium"===O?Object(a.h)("div",{class:"mb-1 position-relative "+f,style:"width: 60px;"},Object(a.h)("div",{class:"text-center border border-"+o(I,s)+" rounded-circle imageRounded imageRoundedMedium mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},i.a.ucfirst(s.name,!0)))):Object(a.h)("div",{class:"mb-2 position-relative "+f,style:"width: 92px;"},b&&S&&Object(a.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(a.h)("span",{class:"badge badge-"+(S.class||"primary")+" mr-3"},S.icon&&Object(a.h)("i",{class:S.icon})," ",S.name)),Object(a.h)("div",{class:"text-center border border-"+o(I,s)+" rounded-circle imageRounded mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(a.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(s.name,!0))),Object(a.h)("div",{class:"text-center",style:"line-height: 1.0em;"},Object(a.h)("small",null,u&&Object(a.h)("a",{class:"stretched-link",href:"/dogs/"+s.id},Object(a.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},s.shortname||s.name,A&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-birthday-cake ml-3"})))),s.birth&&g&&Object(a.h)(t,null,Object(a.h)("span",null,z<7&&Object(a.h)(t,null,Object(a.h)("span",{class:"text-muted mr-2"},Object(a.h)("i",{class:"fas fa-birthday-cake"})," in ",z," days")),s.birth&&Object(a.h)("span",{class:"mr-2"},i.a.age(s.birth,s.deceased)),"female"===s.gender?Object(a.h)("i",{class:"fas fa-venus"}):Object(a.h)("i",{class:"fas fa-mars"}))),c&&Object(a.h)(t,null,Object(a.h)("span",{class:"font-weight-light"},j.findTeam(s.team)),Object(a.h)("br",null)),n&&Object(a.h)("small",{class:"text-muted"},I&&I.distanceKm>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-road"})," ",i.a.format(I.distanceKm,0),"km"),I&&I.elevation>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-mountain"})," ",i.a.format(I.elevation,0),"m"),I&&I.duration>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(I.duration,!0)),I&&I.speedAvg>0&&Object(a.h)("span",{class:"mr-2"},Object(a.h)("i",{class:"fas fa-tachometer-alt"})," ",i.a.format(I.speedAvg,1),"km/t")),d&&Object(a.h)("small",{class:"text-muted"},s.weight&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-balance-scale ml-2"})," ",i.a.format(s.weight,1)," kg"),s.bodyScore&&Object(a.h)(t,null,Object(a.h)("i",{class:"fas fa-dog ml-2"})," ",i.a.format(s.bodyScore,1))),l&&Object(a.h)("div",{class:"clearfix pb-0 pt-1"},s.specialNeeds&&Object(a.h)("span",{class:"badge badge-warning mr-2"},Object(a.h)("i",{class:"fas fa-exclamation-triangle"})," ",s.specialNeeds),x&&Object(a.h)("span",{class:"badge badge-"+x.class+" mr-2"},x.icon&&Object(a.h)("i",{class:x.icon})," ",x.name)))))},s}(a.Component))||n;e.a=h}).call(this,s("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},eQ6k:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=(s("Utv1"),s("/eY4")),i=s("OhSV"),c=Object(a.a)(o=function(e){function s(){for(var s,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(s=e.call.apply(e,[this].concat(a))||this).requestFollowTeam=function(t){var e=s.props.stores,o=e.teamStore,n=e.userStore.user,a=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);o.followRequest(a,n),s.setState({requestSent:!0})},s.unFollowTeam=function(t){var e=s.props.stores,o=e.teamStore,n=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);o.unollowTeam(n),s.setState({unfollowed:!0})},s.getButton=function(e){void 0===e&&(e="");var o=s.state.requestSent,a=s.props.stores.userStore.user,c=s.props,r=c.team,l=c.skipHome,d=c.simple,h=c.classNames,u=r.members&&r.members.indexOf(a.id)>-1,m=r.followers&&r.followers.indexOf(a.id)>-1,b=r.blockedFollowers&&r.blockedFollowers.indexOf(a.id)>-1,p=o||r.followRequests&&r.followRequests.findIndex((function(t){return t.id===a.id}))>-1;return u?l?"":Object(n.h)("i",{class:"fas fa-home"}):m?Object(n.h)(t,null,Object(n.h)("button",{class:h||"btn btn-block btn-outline-secondary float-right",onClick:s.unFollowTeam,disabled:"true","data-team":r.id},Object(n.h)("i",{class:"fas fa-link mr-2"}),Object(n.h)(i.c,{id:"teams.connect.is-following"},"FÃ¸lger")," ",!d&&Object(n.h)(t,null,e)),Object(n.h)("button",{class:h||"btn btn-sm btn-block btn-danger float-right",onClick:s.unFollowTeam,"data-team":r.id},Object(n.h)("i",{class:"fas fa-unlink mr-2"}),Object(n.h)(i.c,{id:"teams.connect.unfollow"},"Unfollow"))):b?"":p?Object(n.h)("button",{class:h||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(n.h)(i.c,{id:"teams.connect.has-requested"},"Venter pÃ¥ godkjenning")," ",!d&&Object(n.h)(t,null,e)):r.public?Object(n.h)("button",{class:h||"btn btn-block btn-outline-success float-right",onClick:s.requestFollowTeam,"data-team":r.id},Object(n.h)("i",{class:"fas fa-plus mr-2"}),Object(n.h)(i.c,{id:"teams.connect.follow"},"FÃ¸lg")," ",!d&&Object(n.h)(t,null,e)):void 0},s}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this.state.unfollowed,s=this.props,o=s.team,a=s.buttonOnly,i=this.props.stores.userStore,c=i.user.language,r=void 0===c?"en":c,l=i.findTeamAmbition({ambition:o.ambitions,language:r}),d=i.findTeamType({type:o.type,language:r}),h=o.image&&o.image.s3SmallLink?o.image:null;return a?Object(n.h)(t,null,this.getButton(""+o.name)):Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:e?"text-decoration: line-through; opacity: 0.3;":""},Object(n.h)("a",{href:"/teams/public/"+o.uuidv4},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:h?'background-image: url("'+h.s3SmallLink+'");  background-size: cover;':""},!h&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(n.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},o.public?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+o.uuidv4},o.name)):Object(n.h)(t,null,o.name)),Object(n.h)("div",null,o.place," ",o.country),Object(n.h)("div",null,d&&Object(n.h)("span",{class:"badge badge-pill badge-secondary"},d),l&&Object(n.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(n.h)("small",{class:"text-muted"},o&&o.dogs&&Object(n.h)("span",{class:""},Object(n.h)("i",{class:"fas fa-dog"})," ",o.dogs.length),o&&o.followers&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-user"})," ",o.followers.length))),Object(n.h)("div",null,this.getButton()))))},s}(n.Component))||o;e.a=c}).call(this,s("hosL").Fragment)},epqT:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV"),d=(s("ZOvn"),{showAddComment:!1}),h=Object(l.d)((function(){return{subject:Object(i.h)(l.c,{id:"ad.subject"},"AnnonseforespÃ¸rsel"),body:Object(i.h)(l.c,{id:"ad.body"},"Hei, Jeg Ã¸nsker Ã¥ vite mer om annonsering i appen The Musher.")}}))(a=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).logClick=function(){return new Promise((function(t,e){var o,n,a,i,c;return i=void 0===(a=(n=(o=s.props.stores).adStore).ads)?[]:a,c=o.userStore.user,Promise.resolve(n.logClick({id:i.length>0?i[0].id:null,user:(void 0===c?{}:c).id})).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s.updateTimer={},s.inputRef={},s.apiServer=c.a.getApiServer(),s}var a,r;r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var h=s.prototype;return h.loadAd=function(t){return new Promise(function(e,s){var o,n,a,i,c,r,l,d,h,u,m;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),n=(o=this.props.stores).adStore,i=this.props.section,r=void 0===(c=o.appState.path)?"":c,h=void 0===(d=(a=o.userStore).user.language)?"en":d,u={},(l=o.workoutStore.currentTeam)&&(u=a.findTeam(l,!0))&&u.id&&(a.findTeamAmbition({ambition:u.ambitions,language:h}),a.findTeamType({type:u.type,language:h}),u.postalcode,u.place,u.country),r.replace(/\d+$/,"detail"),m=r.replace(/\/\d+/,"/detail"),Promise.resolve(n.load({query:{page:m,section:i}})).then(function(){try{return n.setTime(),this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},h.componentDidMount=function(){this.loadAd()},h.componentWillReceiveProps=function(t){t.path!==this.props.path&&this.loadAd(t)},h.render=function(){var e=this.props.stores,s=e.adStore,o=this.props,n=o.subject,a=o.body,c=o.section,r=e.appState.path,d=e.userStore.user,h=void 0===d?{}:d,u=s.ads,m=void 0===u?[]:u,b=s.time;if(!h||!h.id||!m||0===m.length)return r.match(/\/(home)/i)?Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(l.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(l.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(l.b,null,Object(i.h)("a",{href:"mailto:post@themusher.no?subject="+n+": "+r+": "+c+"&body="+a,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(l.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(t,null);var p=m[0];return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:this.apiServer+"/api/ads/"+p.id+"/view?user="+h.id+"&time="+b,style:"width: 1; height: 1; opacity: 0.1;"})))),p.target?Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+p.url,target:p.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},p.images&&p.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+p.url,onClick:this.logClick},p.images&&p.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:p.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))},s}(i.Component))||a)||a;e.a=h}).call(this,s("hosL").Fragment)},gWxU:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=(s("Y3FI"),s("OhSV")),d=s("fh8t"),h=s.n(d),u=(s("X9Km"),s("ZOvn")),m=s("NDEG"),b=s("s4FZ"),p=(s("jtG4"),s("eQ6k")),g=s("q/oJ"),f=s("Nanz"),O=s("1/9N"),v=u.a.marginTop(!1),j=u.a.marginTopBack(!1),w=u.a.marginBottom(),y={newTeam:{}},k=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).onDogClick=function(t,e){return t.preventDefault(),t.stopPropagation(),s.setState({showDog:e}),!1},s.hideDog=function(){s.setState({showDog:null})},s.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},s.subscribeNotificationTopic=function(t){return new Promise((function(e,o){var n,a;return void 0===(a=(n=s.props.stores.userStore).user.notificationTopics)?{}:a,1,Promise.resolve(n.setNotificationTopic({field:"notificationTopics."+t,value:1})).then((function(){try{return e()}catch(t){return o(t)}}),o)}))},s.back=function(){s.props.stores.history.goBack()},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},y),s.updateTimer={},s.time=(new Date).getTime(),s.apiServer=c.a.getApiServer(),s}var a,r;r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var d=s.prototype;return d.loadPublicView=function(t){return new Promise(function(e,s){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(t.teamid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},d.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadPublicTeam(t)).then(function(){try{return Promise.resolve(this.loadPublicView(t)).then((function(){try{return e()}catch(t){return s(t)}}),s)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},d.loadPublicTeam=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(t.stores.teamStore.loadPublicDetail({id:t.teamid})).then((function(){try{return e()}catch(t){return s(t)}}),s)}.bind(this))},d.componentDidMount=function(){var t=this.props.back,e=void 0===t?this.back:t,s=this.props.stores.appState;s.setSwipeRight((function(){s.setSwipeRight(),e()})),this.loadAll()},d.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},d.render=function(){var e=this,s=this.state.showDog,o=this.props.stores,n=o.teamStore,a=o.userStore,r=a.user,d=a.isAdmin,y=r.language,k=void 0===y?"en":y,x=n.publicTeam,S=n.publicViewsGraphData,I=!(!x||!x.members)&&x.members.some((function(t){return t.id===r.id})),A=this.props,z=A.marginTop,T=A.marginBottom,P=A.back,D=void 0===P?this.back:P,C=A.hideTeam,U=void 0===C?function(){}:C,_=x.dogs,L=void 0===_?[]:_,R=x.image,M=x.imageHeader,F=x.publicTrophys,E=x.publicMemories,B=x.publicDogs,H=M&&M.s3XXLargeLink?M:{s3XXLargeLink:"./assets/homerun-race-logo.png"},W=R&&R.s3LargeLink?R:null,N=a.findTeamAmbition({ambition:x.ambitions,language:k}),G=a.findTeamType({type:x.type,language:k}),V=x.members&&x.members.findIndex((function(t){return t.id===r.id}))>-1,K=x&&x.followers&&x.followers.indexOf(r.id)>-1,Y=x.followRequests&&x.followRequests.findIndex((function(t){return t.id===r.id}))>-1,q=r.notificationTopics,X=void 0===q?{}:q,Z="team-"+x.id;return Object(i.h)(t,null,s&&Object(i.h)(g.a,null,Object(i.h)(f.default,{stores:this.props.stores,dogid:s,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:L})),Object(i.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(T||w)+"; margin-top: "+(z||v)+";"},Object(i.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+j+"; left: 5px; font-size: 35px; width: 45px;",onClick:D},Object(i.h)("i",{class:"fas fa-arrow-circle-left"})),Object(i.h)("div",{class:"row mb-0"},Object(i.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(H?'background-image: url("'+H.s3XXLargeLink+'");':"")},V&&Object(i.h)(t,null,Object(i.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+x.id},Object(i.h)("i",{class:"fas fa-edit"})," ",Object(i.h)(l.c,{id:"teams.edit"},"Endre")))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(i.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(W?'background-image: url("'+W.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!W&&Object(i.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),"Â "),Object(i.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"my-0"},x.name),Object(i.h)("small",{class:"text-muted"},x.place?x.place+", ":"",x.country),Object(i.h)("br",null),G&&Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2"},G),N&&Object(i.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},N),Object(i.h)("h6",{class:"mt-2"},Object(i.h)("span",{class:"mr-3"},Object(i.h)("span",{class:"font-weight-bolder"},x.followers?x.followers.length:0)," ",Object(i.h)(l.c,{id:"teams.followers"},"followers")),Object(i.h)("span",{class:"mr-3"},Object(i.h)("span",{class:"font-weight-bolder"},x.dogs?x.dogs.length:0)," ",Object(i.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!X||!X[Z])&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(i.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return e.subscribeNotificationTopic(Z)}},Object(i.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!V&&!K&&!Y&&x.public>0&&Object(i.h)("div",{class:"clearfix mb-2"},Object(i.h)(p.a,{stores:this.props.stores,team:x,buttonOnly:!0,skipHome:!0})))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"d-flex justify-content-center"},V&&!x.facebook&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fab fa-facebook"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-sosialmedia"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en sosialemedier.")))),x.url&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asUrl(x.url),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-link"})))),x.facebook&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asFacebookLink(x.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook"})))),x.instagram&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asInstagramLink(x.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"})))),x.snapchat&&Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{href:u.a.asSnapchatLink(x.snapchat),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-snapchat"}))))),Object(i.h)("div",{class:"d-flex justify-content-center mt-3"},Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+x.uuidv4},Object(i.h)("i",{class:"fas fa-rss"})," ",Object(i.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(i.h)("div",{class:"mx-2"},Object(i.h)("h3",null,Object(i.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+x.uuidv4,onClick:U},Object(i.h)("i",{class:"fas fa-running"})," ",Object(i.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),x.imagesSponsor&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:x.imagesSponsor.length}},"Sponsorer - ",x.imagesSponsor.length," stk"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(i.h)(b.a,{stores:this.props.stores,images:x.imagesSponsor}))),x.sponsors&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!x.sponsors&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-sponsors"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn sponsorer.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.sponsors,x.imagesSponsor,k),markdownOpts:u.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!x.description&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-description"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en beskrivelse.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.description,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))),x.descriptionWorkoutplan&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},V&&!x.descriptionWorkoutplan&&Object(i.h)(t,null,Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-pen-nib"})),Object(i.h)("h3",{class:"font-weight-lighter"},Object(i.h)(l.c,{id:"teams.add-description-workoutplan"},"GÃ¥ inn pÃ¥ endring av teamet for Ã¥ legge inn en treningsplan.")))),Object(i.h)(h.a,{markdown:u.a.replaceImages(x.descriptionWorkoutplan,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))),B&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.dogs",fields:{total:L.length}},"Hundene - ",L.length," stk"))),Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"row"},L&&L.map((function(t){return Object(i.h)(m.a,{stores:e.props.stores,dog:t,showAge:!0,className:"col",onDogClick:e.onDogClick})}))))),x.images&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.public-photos",fields:{total:x.images.length}},"Teambilder - ",x.images.length," stk"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(i.h)(b.a,{stores:this.props.stores,images:x.images}))),E&&x.achievements&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},x.achievements&&x.achievements.map((function(t){return Object(i.h)("div",{class:"col-12"},t.date&&Object(i.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(t.date,!1,!1,!0)),Object(i.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(i.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(i.h)("span",{class:"mr-2"},Object(i.h)("a",{href:u.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(i.h)("i",{class:"fas fa-link"}))))}))))),F&&x.trophys&&Object(i.h)("div",{class:"row mt-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"row"},x.trophys&&x.trophys.reverse().map((function(t){var e=u.a.getTrophyImage(t.name);if(!e)return"";var s=t.descriptionHeader&&t.descriptionHeader[k]?t.descriptionHeader[k]:"",o=t.description&&t.description[k]?t.description[k]:"";return Object(i.h)("div",{class:"col-4 mt-3"},Object(i.h)("div",{class:"mb-2"},Object(i.h)("img",{src:e,class:"img-fluid"})),Object(i.h)("strong",null,s),Object(i.h)("small",null,Object(i.h)("details",null,Object(i.h)("summary",null,Object(i.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(i.h)(h.a,{markdown:u.a.replaceImages(o,x.images,k),markdownOpts:u.a.getMarkdownOptions()}))))}))))),Object(i.h)("div",{class:"row mt-5 mb-5"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-ellipsis-h"})),Object(i.h)("div",{style:"line-height: 0.9em;"},Object(i.h)("small",null,Object(i.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner pÃ¥ denne siden? Send oss en melding pÃ¥ Facebook.")))))),(d||I)&&Object(i.h)(t,null,Object(i.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(i.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(i.h)(O.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+x.uuidv4})),x.uuidv4&&Object(i.h)("img",{src:this.apiServer+"/api/teams/"+x.uuidv4+"/view?user="+r.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},s}(i.Component))||a;e.default=k}.call(this,s("hosL").Fragment)},irB3:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=(s("OhSV"),s("ZOvn"),Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,i=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return 3.28084*t}(o),0)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(n.h)(t,null,"ft"))):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(o,0)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},"m")))):Object(n.h)(t,null,"m")))},s}(n.Component))||o);e.a=c}).call(this,s("hosL").Fragment)},jtG4:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=(s("Utv1"),s("/eY4")),r=(s("Y3FI"),s("OhSV")),l=s("ZOvn"),d={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},h=Object(c.a)(a=function(e){function s(s){var a;return(a=e.call(this,s)||this).requestFollowTeam=function(t){return new Promise((function(e){var s=a.props.stores,o=s.teamStore,n=s.userStore.user,i=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);o.followRequest(i,n);var c=a.state.requestSent;return c[i]=!0,a.setState({requestSent:c}),e()}))},a.confirmRequest=function(t){return new Promise((function(e,s){var o,n,i,c,r,l,d,h,u;return n=void 0===(o=a.props.callback)?function(){}:o,i=t.target.closest("button").dataset,l=a.props.stores.teamStore,u=(d=a.state).deleted,(h=d.confirmed)[(c=i.team)+"-"+(r=i.user)]=!0,delete u[c+"-"+r],a.setState({confirmed:h,deleted:u}),Promise.resolve(l.confirmFollowRequest({team:parseInt(c,10),user:parseInt(r,10)})).then((function(){try{return n(),e()}catch(t){return s(t)}}),s)}))},a.deleteRequest=function(t){return new Promise((function(e,s){var o,n,i,c,r,l,d,h,u;return n=void 0===(o=a.props.callback)?function(){}:o,i=t.target.closest("button").dataset,l=a.props.stores.teamStore,u=(d=a.state).confirmed,(h=d.deleted)[(c=i.team)+"-"+(r=i.user)]=!0,delete u[c+"-"+r],a.setState({deleted:h,confirmed:u}),Promise.resolve(l.deleteFollowRequest({team:parseInt(c,10),user:parseInt(r,10)})).then((function(){try{return n(),e()}catch(t){return s(t)}}),s)}))},a.unFollowTeam=function(t){var e=a.props.stores,s=e.teamStore,o=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.unollowTeam(o),a.setState({unfollowed:!0})},a.getUnblockButton=function(e,s){var o=a.state.confirmed[s+"-"+e];return Object(i.h)(t,null,o?Object(i.h)(t,null,Object(i.h)("small",{class:"text-success"},Object(i.h)("i",{class:"fas fa-check"})," ",Object(i.h)(r.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:a.confirmRequest,"data-team":s,"data-user":e},Object(i.h)(r.c,{id:"teams.connect.confirm"},"Confirm"))))},a.getButton=function(e){var s=a.state.requestSent,o=a.props.stores.userStore.user,n=e.members&&e.members.indexOf(o.id)>-1,c=e.followers&&e.followers.indexOf(o.id)>-1,l=e.blockedFollowers&&e.blockedFollowers.indexOf(o.id)>-1,d=s[e.id]||e.followRequests&&e.followRequests.findIndex((function(t){return t.id===o.id}))>-1;return n?Object(i.h)("i",{class:"fas fa-home"}):e.public?c?Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(i.h)("i",{class:"fas fa-link mr-2"}),Object(i.h)(r.c,{id:"teams.connect.is-following"},"FÃ¸lger")),Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(i.h)(r.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(i.h)(t,null):d?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(i.h)(r.c,{id:"teams.connect.has-requested"},"Venter pÃ¥ godkjenning")):Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:a.requestFollowTeam,"data-team":e.id},Object(i.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(i.h)(r.c,{id:"teams.connect.follow"},"FÃ¸lg")):Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(r.c,{id:"teams.not-public"},"Ikke offentlig")))},a.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),a.updateTimer={},a}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e,s,o,n,a=this.state,c=a.deleted,d=void 0===c?{}:c,h=a.unfollowed,u=this.props,m=u.team,b=u.isBlocked,p=u.myTeamId,g=u.showBlockButton,f=this.props.stores.storyStore.findPublicUser(m.user)||m.user||{};m.image&&m.image.s3SmallLink?e=m.image:m.images&&m.images[0]&&m.images[0].s3SmallLink?e=m.images[0]:f.image&&f.image.s3SmallLink?e=f.image:f.images&&f.images[0]&&f.images[0].s3SmallLink&&(e=f.images[0]),m&&m.name?(s=l.a.displayNameShort(m),o=l.a.displayName(m),n=l.a.displayName(f)):f&&f.id&&(s=l.a.displayNameShort(f),o=l.a.displayName(f));var O=d[p+"-"+f.id];return Object(i.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:h?"text-decoration: line-through; opacity: 0.3;":""},Object(i.h)("div",{class:"d-flex position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:e?'background-image: url("'+e.s3MediumLink+'"); background-size: cover;':""},!e&&Object(i.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},s)),Object(i.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(i.h)("h5",{class:"mb-0"},m.public?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+m.uuidv4},o)):Object(i.h)(t,null,o)),Object(i.h)("div",null,m.place?m.place+", ":""," ",m.country," Â "),Object(i.h)("div",null,Object(i.h)("small",{class:"text-muted"},m&&m.dogs&&Object(i.h)("span",{class:""},Object(i.h)("i",{class:"fas fa-dog"})," ",m.dogs.length),m&&m.followers&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-user"})," ",m.followers.length),n&&Object(i.h)(t,null,Object(i.h)("small",{class:"ml-2 text-muted"},n)),g&&Object(i.h)(t,null,O?Object(i.h)(t,null,Object(i.h)("small",{class:"text-danger ml-3"},Object(i.h)("i",{class:"fas fa-ban"})," ",Object(i.h)(r.c,{id:"teams.connect.deleted"},"Deleted"))):Object(i.h)(t,null,Object(i.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":p,"data-user":f.id},Object(i.h)("i",{class:"fas fa-ban"})," ",Object(i.h)(r.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(i.h)("div",null,b?Object(i.h)(t,null,this.getUnblockButton(f.id,p)):Object(i.h)(t,null,this.getButton(m)))))},s}(i.Component))||a;e.a=h}).call(this,s("hosL").Fragment)},nHdA:function(t,e,s){"use strict";(function(t){var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=s("OhSV"),r=(s("ZOvn"),Object(i.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,i;return i=e,(o=s).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i,s.prototype.render=function(){var e=this.props,s=e.value,o=void 0===s?0:s,i=e.smallUnit,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(function(t){return.621371*t}(o),1)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(c.c,{id:"workouts.mph"},"mph"))))):Object(n.h)(t,null,Object(n.h)(c.c,{id:"workouts.mph"},"mph")))):Object(n.h)(t,null,Object(n.h)("nobr",null,a.a.format(o,1)," ",i?Object(n.h)(t,null,Object(n.h)("small",null,Object(n.h)("small",null,Object(n.h)("small",{class:"ml-0 text-muted"},Object(n.h)(c.c,{id:"workouts.kmt"},"km/t"))))):Object(n.h)(t,null,Object(n.h)(c.c,{id:"workouts.kmt"},"km/t"))))},s}(n.Component))||o);e.a=r}).call(this,s("hosL").Fragment)},om2D:function(t,e,s){"use strict";var o,n=s("hosL"),a=s("/eY4"),i=(s("cneo"),s("Utv1"),s("u2zT")),c=Object(a.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).handleAddImage=function(t){var e=s.props.addToImages,o=void 0===e||e,n=s.props,a=n.updateField,i=n.object,c=n.field;if(c&&a({id:i.id,field:c,value:t,skipTimer:!0}),o){var r=[];r.push(t),a({id:i.id,field:"images",value:r,skipTimer:!0})}},s.state={files:[]},s}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props,e=t.uploadStatus,s=void 0===e?function(){}:e,o=t.before,a=void 0===o?function(){}:o,c=t.after,r=void 0===c?function(){}:c,l=t.autoOpen,d=void 0===l||l;return Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12"},Object(n.h)(i.a,{handleAddImage:this.handleAddImage,uploadStatus:s,apiUrl:"/api/fileupload",before:a,after:r,autoOpen:d},Object(n.h)("div",{style:{height:30,width:"100%"}}))))},e}(n.Component))||o;e.a=c},"q/oJ":function(t,e,s){"use strict";var o,n=s("hosL"),a=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("ZOvn")),c=i.a.marginTop(!1),r=i.a.marginBottom(),l=Object(a.a)(o=function(t){function e(){return t.apply(this,arguments)||this}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props.children;return Object(n.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+r+";\n                    margin-top: "+c+";\n                    height: calc(100vh - "+c+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},t)},e}(n.Component))||o;e.a=l},sqi2:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("cneo"),d=s("OhSV"),h=s("fh8t"),u=s.n(h),m=s("3wGD"),b=(s("ETxl"),s("ZOvn")),p={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}},g=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).likeComment=function(t){return new Promise((function(e,o){var n,a,i,c,r;return a=void 0===(n=s.props.callback)?function(){}:n,i=t.target.parentElement.dataset.id||t.target.dataset.id,c=s.props.workout,Promise.resolve(s.props.stores.workoutStore.likeWorkoutComment({id:c.id,commentId:i})).then((function(t){try{return(r=t)&&200===r.status&&a({type:"likeComment",workout:c,commentId:i,response:r}),e(!0)}catch(t){return o(t)}}),o)}))},s.likeReply=function(t){return new Promise((function(e,o){var n,a,i,c,r,l;return a=void 0===(n=s.props.callback)?function(){}:n,i=t.target.parentElement.dataset.id||t.target.dataset.id,c=t.target.parentElement.dataset.comment||t.target.dataset.comment,r=s.props.workout,Promise.resolve(s.props.stores.workoutStore.likeWorkoutCommentReply({id:r.id,replyId:i,commentId:c})).then((function(t){try{return(l=t)&&200===l.status&&a({type:"likeReply",workout:r,commentId:c,replyId:i,response:l}),e()}catch(t){return o(t)}}),o)}))},s.replyComment=function(t){return new Promise((function(e){var o=t.target.parentElement.dataset.id||t.target.dataset.id,n=s.state.showAddComment;return n[o]=!n[o],s.setState({showAddComment:n},(function(){s.inputRef[o]&&s.inputRef[o].focus()})),e()}))},s.toggleComments=function(){s.setState({showAllComments:!s.state.showAllComments})},s.toggleReplies=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id,o=s.state.showAllReplies;o[e]=!o[e],s.setState({showAllReplies:o})},s.viewImage=function(t){var e=t.target.closest("img").dataset,o=s.state.viewImageIdx;o[e.id]=e.idx,s.setState({viewImageIdx:o})},s.translate=function(t){return new Promise((function(e,o){function n(){return s.setState({showOriginal:b,translatedText:g}),e()}var a,i,c,r,l,d,h,u,m,b,p,g,f;return t.preventDefault(),t.stopPropagation(),a=t.target.closest("button").dataset,r=s.props.workout,d=(l=s.props.stores).teamStore,h=l.userStore.user,g=void 0===(p=(u=s.state).translatedText)?{}:p,(b=void 0===(m=u.showOriginal)?{}:m)[f=(c=a.commentid)+((i=a.replyid)?"-"+i:"")]=0,i?Promise.resolve(d.translateCommentReply({commentid:c,replyid:i,object:r,user:h})).then(function(t){try{return g[f]=t,n.call(this)}catch(t){return o(t)}}.bind(this),o):Promise.resolve(d.translateComment({commentid:c,object:r,user:h})).then(function(t){try{return g[f]=t,n.call(this)}catch(t){return o(t)}}.bind(this),o)}))},s.showOriginal=function(t){var e=t.target.closest("button").dataset,o=e.replyid,n=e.commentid;t.preventDefault(),t.stopPropagation();var a=s.state.showOriginal,i=void 0===a?{}:a;i[n+(o?"-"+o:"")]=1,s.setState({showOriginal:i})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},p),s.inputRef={},s}var a,r;return r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,s.prototype.render=function(){var e,s=this,o=this.state,n=o.showAddComment,a=o.showAllComments,r=o.showAllReplies,h=o.viewImageIdx,p=o.showOriginal,g=void 0===p?{}:p,f=o.translatedText,O=void 0===f?{}:f,v=this.props,j=v.workout,w=v.callback,y=void 0===w?function(){}:w,k=v.compact,x=this.props.stores,S=x.userStore,I=x.teamStore,A=S.user,z=S.isAdmin,T=A.language,P=void 0===T?"en":T,D=[],C=0,U=0;return j.comments&&(C=j.comments.length,a?D=j.comments:(e=void 0!==k&&k?0:1,D=j.comments.slice(Math.max(C-e,0))),U=D.length),Object(i.h)("div",null,j&&D&&D.reverse().map((function(o){var a=o.user,p=void 0===a?{}:a,f=I.findPublicTeamByMembers(p.id),v=b.a.displayNameShort(p),w=b.a.displayName(p),k=p.image||(p.images?p.images[0]:void 0),x=o.likes&&o.likes.findIndex((function(t){return t.user===A.id}))>-1,S=[],T=0,D=0;o.comments&&(T=o.comments.length,D=(S=r[o.id]?o.comments:o.comments.slice(0,e)).length);var C=[];if(o.images){var U=Object(l.i)(o.images);C.push.apply(C,U)}var _=h[o.id]?h[o.id]:0,L=C&&C[_]?C[_]:null,R=o.currentLocationGeocode,M=void 0===R?{}:R,F=I.getCommentTranslations({object:j,commentid:o.id,targetLang:P})||O[o.id],E=F||o.comment;return g[o.id]&&(E=o.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(k?'background-image: url("'+k.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!p.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},v)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(i.h)("div",null,Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},w),f&&f.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},f.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(i.h)(u.a,{markdown:b.a.replaceImages(E,o.images,P),markdownOpts:b.a.getMarkdownOptions()}))),Object(i.h)("div",{class:"container-fluid px-3 mt-1"},L&&Object(i.h)("div",{class:"clearfix row"},Object(i.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:L.s3LargeLink}))),C&&C.length>1&&Object(i.h)("div",{class:"clearfix d-flex flex-wrap row"},C.map((function(e,n){return Object(i.h)(t,null,Object(i.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(i.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:e.s3SmallLink,onClick:s.viewImage,"data-id":o.id,"data-idx":n})))}))))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(x?"text-primary":""),onClick:s.likeComment,"data-id":o.id},Object(i.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.replyComment,"data-id":o.id},Object(i.h)(d.c,{id:"comments.comment-add"},"Kommentar")),o.language!==P&&Object(i.h)(t,null,"-",!g[o.id]&&F?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":o.id,onClick:s.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:s.translate,"data-commentid":o.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(o.createdDate,new Date,{locale:"no-NB"}),o.updatedDate&&Object(i.h)(t,null,Object(i.h)("span",{class:"font-weight-light ml-2"},"(Edited ",c.a.formatDistance(o.updatedDate,new Date,{locale:"no-NB"}),")"))),z&&M&&M.formatted_address&&Object(i.h)(t,null,Object(i.h)("span",{class:"ml-2 text-muted"},Object(i.h)("i",{class:"fas fa-map-marker-alt"})," ",M.formatted_address)))),o.likes&&o.likes.length>0&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",o.likes.length)),Object(i.h)("div",{class:"col-11 offset-1 mb-2"},o&&S&&S.map((function(e){var n=e.user,a=void 0===n?{}:n,r=I.findPublicTeamByMembers(a.id),l=a.firstname?""+c.a.ucfirst(a.firstname,!0)+c.a.ucfirst(a.lastname,!0):""+c.a.ucfirst(a.email||"",!0),h=a.firstname?a.firstname+" "+a.lastname:""+a.email,m=a.image||(a.images?a.images[0]:void 0),p=e.likes&&e.likes.findIndex((function(t){return t.user===A.id}))>-1,f=I.getCommentReplyTranslations({object:j,commentid:o.id,replyid:e.id,targetLang:P})||O[o.id+"-"+e.id],v=f||e.comment;return g[o.id+"-"+e.id]&&(v=e.comment),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(m?'background-image: url("'+m.s3SmallLink+'"); background-size: cover;':"")+" border-width: 3px !important;"},!a.image&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},l)),Object(i.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(i.h)("div",{class:"bg-light p-2 rounded-lg"},Object(i.h)("span",{style:"font-size: 0.95em;"},Object(i.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},h),r&&r.length>0&&Object(i.h)("div",{class:"mb-2"},Object(i.h)("small",{class:"font-weight-lighter text-muted"},r.filter((function(t){return 1===t.public})).slice(0,2).map((function(e){return Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+e.uuidv4,class:"mr-2"},Object(i.h)("i",{class:"fas fa-users text-muted"})," ",e.name))})))),Object(i.h)(u.a,{markdown:b.a.replaceImages(v,e.images,P),markdownOpts:b.a.getMarkdownOptions()}))),Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0 "+(p?"text-primary":""),onClick:s.likeReply,"data-comment":o.id,"data-id":e.id},Object(i.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.replyComment,"data-id":o.id},Object(i.h)(d.c,{id:"comments.comment-add"},"Kommentar")),e.language!==P&&Object(i.h)(t,null,"-",!g[o.id+"-"+e.id]&&f?Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":o.id,"data-replyid":e.id,onClick:s.showOriginal},Object(i.h)("i",{class:"fas fa-cog"}),"  ",Object(i.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(i.h)(t,null,Object(i.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:s.translate,"data-commentid":o.id,"data-replyid":e.id},Object(i.h)("i",{class:"fas fa-cog"})," ",Object(i.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(i.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},c.a.formatDistance(e.createdDate,new Date,{locale:"no-NB"})))),e.likes&&Object(i.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(i.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",e.likes.length)))})),T-D>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:s.toggleReplies,"data-id":o.id},Object(i.h)(d.c,{id:"comments.show-more",fields:{more:T-D}},"Vis ",T-D," flere kommentarer...")))),n[o.id]&&Object(i.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(i.h)(m.a,{stores:s.props.stores,workout:j,callback:y,commentId:o.id,inputRef:function(t){return s.inputRef[o.id]=t},inputRefObject:s.inputRef})))})),C-U>0&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(d.c,{id:"comments.show-more",fields:{more:C-U}},"Vis ",C-U," flere kommentarer..."))),a&&Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(i.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))},s}(i.Component))||a;e.a=g}).call(this,s("hosL").Fragment)},u2zT:function(t,e,s){"use strict";var o,n=s("hosL"),a=s("/eY4"),i=s("Utv1"),c=s("OhSV"),r=Object(a.a)(o=function(t){function e(e){var s;return(s=t.call(this,e)||this).dropRef=Object(n.createRef)(),s.handleDrag=function(t){t.preventDefault(),t.stopPropagation()},s.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),s.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&s.setState({drag:!0})},s.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),s.dragCounter--,0===s.dragCounter&&s.setState({drag:!1})},s.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),s.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){for(var e=0,o=t.dataTransfer.files.length;e<o;e+=1){s.readLocalFile(t.dataTransfer.files[e])}s.dragCounter=0}},s.handleAddFiles=function(t){t.preventDefault();var e=t.target;for(var o=0,n=e.files.length;o<n;o+=1){s.readLocalFile(e.files[o])}},s.handleEvent=function(){0},s.handleUpload=function(t){var e=s.props,o=e.uploadStatus,n=e.before,a=void 0===n?function(){}:n,c=e.after,r=void 0===c?function(){}:c;(void 0===o?function(){}:o)(!1),i.a.isFunction(a)&&a();var l=new FormData;l.append("files[]",t);var d={progress:1};d.xhr=new XMLHttpRequest,d.xhr.upload.addEventListener("progress",(function(e){s.updateProgress(e,t)})),d.xhr.addEventListener("loadstart",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("load",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("loadend",(function(e){var o=t;i.a.isFunction(r)&&r(),s.handleEvent(e,o)})),d.xhr.addEventListener("progress",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("error",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("abort",(function(e){s.handleEvent(e,t)})),d.xhr.addEventListener("readystatechange",(function(e){s.uploadDone(e,t)})),d.xhr.open("POST",""+i.a.getApiServer()+s.props.apiUrl),d.xhr.setRequestHeader("Authorization","Bearer "+i.a.getJwtToken()),d.xhr.send(l);var h=t.name,u=s.state.uploadedFilesData;u[h]||(u[h]={}),u[h].uploadMeta=d,u[h].imageNum=s.state.imageNum,s.setState({uploadedFilesData:u})},s.readLocalFile=function(t){return new Promise((function(e,o){var n=new FileReader;n.addEventListener("error",(function(t){o(t)})),n.addEventListener("load",(function(o){var n=t,a=n.name,i=s.state.uploadedFilesData;i[a]||(i[a]={}),i[a].event=o,s.setState({uploadedFilesData:i}),s.handleUpload(n),e(o)})),n.readAsDataURL(t)}))},s.updateProgress=function(t,e){if(t.lengthComputable){var o=e.name,n=s.state.uploadedFilesData,a=t.loaded/t.total*100;0,n[o].uploadMeta.progress=a,s.setState({uploadedFilesData:n})}},s.uploadDone=function(t,e){var o=e.name,n=s.state.uploadedFilesData,a=n[o].uploadMeta;if(a&&4===a.xhr.readyState&&201===a.xhr.status)for(var i=JSON.parse(a.xhr.responseText).data.files,c=0;c<i.length;c+=1){s.addFileToUpload(i[c]),s.fileInput.value=""}},s.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}},s}var s,o;o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var a=e.prototype;return a.addFileToUpload=function(t){var e=this.state.uploadedFilesData,s=this.props,o=s.handleAddImage,n=s.uploadStatus,a=void 0===n?function(){}:n;delete e[t.name],this.setState({uploadedFilesData:e}),o(t),a(!0)},a.componentDidMount=function(){var t=this,e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.props.autoOpen&&setTimeout((function(){t.fileInput.click()}),10)},a.componentWillUnmount=function(){var t=this.dropRef.current;t.removeEventListener("dragenter",this.handleDragIn),t.removeEventListener("dragleave",this.handleDragOut),t.removeEventListener("dragover",this.handleDrag),t.removeEventListener("drop",this.handleDrop)},a.render=function(){var t=this,e=this.state.uploadedFilesData;return Object(n.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(n.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(n.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(n.h)("div",null,Object(n.h)(c.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(n.h)("div",null,Object(n.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:function(e){t.fileInput=e}})),Object(n.h)("div",null,Object.keys(e).length>0?Object(n.h)("h3",null,Object(n.h)(c.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(n.h)("ul",{class:"list-group"},Object.keys(e).map((function(t){var s=e[t].uploadMeta,o=void 0===s?{}:s,a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(n.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(n.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(n.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(n.h)("small",null,e[t].event.uploadDone),Object(n.h)(c.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(n.h)("small",null,i.a.formatBytes(e[t].event.total,2))),Object(n.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(n.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:"width: "+o.progress+"%; height: 4px;","aria-valuenow":o.progress,"aria-valuemin":"0","aria-valuemax":"100"})))})))),this.props.children)},e}(n.Component))||o;e.a=r},ukv5:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function c(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var r,l=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=(s("Y3FI"),s("OhSV")),m=(s("cneo"),s("fh8t"),s("ZOvn")),b=s("nHdA"),p=(s("irB3"),s("UwwE"),s("8Lgr")),g=(s("QkTp"),Object(h.a)(r=function(e){function s(){for(var t,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).hideDetail=function(e){e.preventDefault(),e.stopPropagation(),t.setState({stateDetail:{state:"",idx:0}})},t.showStateDetail=function(e){e.preventDefault(),e.stopPropagation();var s=e.target.closest("div").dataset;t.setState({stateDetail:n({},s)})},t.nextStateDetail=function(e){e.preventDefault(),e.stopPropagation();var s=t.props,o=s.states,n=s.duration,a=t.state.stateDetail,i=parseInt((void 0===a?{}:a).idx,10)+1,c=o[i];c&&t.setState({stateDetail:{idx:i,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:d.a.normalizeBetween(c.duration,0,n,0,100)}})},t.prevStateDetail=function(e){e.preventDefault(),e.stopPropagation();var s=t.props,o=s.states,n=s.duration,a=t.state.stateDetail,i=parseInt((void 0===a?{}:a).idx,10)-1,c=o[i];c&&t.setState({stateDetail:{idx:i,state:c.state,duration:c.duration,distance:c.distance,avgspeed:c.avgSpeed,statespeeds:c.stateSpeeds,point:c.point,start:c.start,end:c.end,percent:d.a.normalizeBetween(c.duration,0,n,0,100)}})},t}var o,a;return a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s.prototype.render=function(){var e=this,s=this.props,o=s.states,n=s.duration,a=s.height,r=void 0===a?"20px":a,h=s.showText,g=void 0===h||h,f=this.state.stateDetail,O=void 0===f?{}:f;return Object(l.h)(t,null,Object(l.h)("div",{class:"row"},o&&Object(l.h)("div",{class:"col-12 px-0"},Object(l.h)("div",{class:"progress",style:"height: "+(O&&O.idx?"20px":r)+";"},o.map((function(s,o){var a=Math.ceil(d.a.normalizeBetween(s.duration,0,n,0,100)),c=a;return O&&O.idx==o&&(c=a<10?10:a),Object(l.h)(t,null,Object(l.h)("div",{class:"progress-bar bg-"+i(s.state),role:"progressbar",style:"width: "+c+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100","data-idx":o,"data-state":s.state,"data-duration":s.duration,"data-distance":s.distance,"data-avgspeed":s.avgSpeed,"data-statespeeds":s.stateSpeeds,"data-point":s.point,"data-start":s.start,"data-end":s.end,"data-percent":d.a.normalizeBetween(s.duration,0,n,0,100),onClick:e.showStateDetail},g?Object(l.h)(t,null,Object(l.h)("nobr",null,a>10&&Object(l.h)(t,null,"rest"===s.state?Object(l.h)(t,null,d.a.secToHms(s.duration,!0)):Object(l.h)(t,null,d.a.format(s.distance/1e3,0),"km")),O&&O.idx==o?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===s.state?"dark":"warning")+" mx-2"}):"")):Object(l.h)(t,null,O&&O.idx==o?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===s.state?"dark":"warning")+" mx-2"}):"")))}))),O&&O.state&&Object(l.h)(t,null,Object(l.h)("div",{class:"card position-relative"},Object(l.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:c(O.state)})," ",d.a.format(O.percent,1),"%")),Object(l.h)("div",{class:"card-body"},"rest"===O.state?Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,d.a.secToHms(O.duration,!0))),O.point&&Object(l.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fa-map-marked ml-2"})," ",Object(l.h)(u.c,{id:"workouts.position"},"Position")),Object(l.h)("h6",null,O.point))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,m.a.formatDate(d.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,m.a.formatDate(d.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-road ml-2"})," ",Object(l.h)(u.c,{id:"workouts.distance"},"Distanse")),Object(l.h)("h6",null,Object(l.h)(p.a,{stores:this.props.stores,value:O.distance/1e3}))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,d.a.secToHms(O.duration,!0))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(l.h)(u.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(l.h)("h6",null,Object(l.h)(b.a,{stores:this.props.stores,value:O.distance/O.duration*3.6})))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,m.a.formatDate(d.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(u.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,m.a.formatDate(d.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(l.h)("div",{class:"float-right"},Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-times"})),O.idx<o.length-1&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-right"})),O.idx>0&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-left"}))))))))},s}(l.Component))||r);e.a=g}).call(this,s("hosL").Fragment)},"vY+r":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=s("OhSV"),d=s("ZOvn"),h={},u=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).toggleViews=function(){var t=s.props;(t.isTeamAdmin||t.isAdmin)&&s.setState({showViewList:!s.state.showViewList})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s}var a,r;return r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r,s.prototype.render=function(){var e=this.state.showViewList,s=this.props.stores,o=s.storyStore,n=s.teamStore,a=s.workoutStore,r=this.props,h=r.views,u=r.type,m=void 0===u?"story":u,b=r.onTeamClick,p=void 0===b?function(){}:b,g=[];Object.entries(r.object.statistics).forEach((function(t){Object.entries(t[1]).forEach((function(t){var e=t[1];e.viewUsers&&g.push(e.viewUsers)}))}));var f=g.flat().slice(0,50);return Object(i.h)(t,null,Object(i.h)("div",{class:"d-flex justify-content-end mb-2"},Object(i.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},h," ",Object(i.h)(l.c,{id:"story.views"},"views"))),e&&Object(i.h)("div",{class:"mt-3 mb-3"},f&&f.map((function(e){var s,r,l;if("story"===m?(s=o.findPublicUser(e),r=o.findPublicTeamByMembers(e)):"team"===m?(s=n.findPublicUser(e),r=n.findPublicTeamByMembers(e)):"workout"===m&&(s=a.findPublicUser(e),r=a.findPublicTeamByMembers(e)),!s)return"";c.a.isArray(r)&&(l=r.find((function(t){return 1===t.public})));var h=d.a.getImage({user:s,team:l,priority:"user"}),u=d.a.displayNameShort(s),b=d.a.displayName(s,!0);return Object(i.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},l?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+l.uuidv4,title:l.name,onClick:function(t){return p(t,l.uuidv4)},class:"stretched-link"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:h?'background-image: url("'+h+'"); background-size: cover;':""},!h&&Object(i.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},u))),Object(i.h)("div",{class:"ml-2 "},b," ",Object(i.h)("span",{class:"font-weight-lighter"},"- ",l.name))):Object(i.h)(t,null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?'background-image: url("'+h+'"); background-size: cover;':"")+" opacity: 0.5;"},!h&&Object(i.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},u)),Object(i.h)("div",{class:"ml-2"},b)))})),h>f.length&&Object(i.h)(t,null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(l.c,{id:"story.limited-to"},"Limited to max 50 users.")))))},s}(i.Component))||a;e.a=u}).call(this,s("hosL").Fragment)},wLBv:function(t,e,s){"use strict";var o,n=s("hosL"),a=s("Utv1"),i=s("/eY4"),c=Object(i.a)(o=function(t){function e(){return t.apply(this,arguments)||this}var s,o;return o=t,(s=e).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,e.prototype.render=function(){var t=this.props.musher;return Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:t.image?'background-image: url("'+t.image.s3SmallLink+'");':""},!t.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},a.a.ucfirst(t.email,!0))),Object(n.h)("div",{class:"flex-grow-1 pl-3 pr-2"},Object(n.h)("span",{class:"float-right"}),Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},t.fname||t.email)))))},e}(n.Component))||o;e.a=c},wanP:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,i=s("hosL"),c=(s("Utv1"),s("/eY4")),r=s("eK6s"),l=s.n(r),d={mouseData:{}},h=Object(c.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),s.svgRef=null,s}var a,c;return c=e,(a=s).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,s.prototype.render=function(){var e=this,s=this.props,o=s.radius,n=void 0===o?50:o,a=s.heightAdd,c=void 0===a?0:a,r=s.color,d=void 0===r?"success":r,h=s.showPercentText,u=void 0===h||h,m=s.percent,b=void 0===m?0:m,p=s.prefix,g=void 0===p?"":p,f=s.showCenterText,O=void 0!==f&&f,v=s.centerText,j=s.centerTextSize,w=s.centerTextX,y=s.centerTextY,k=s.total,x=void 0===k?"":k,S=s.totalY,I=void 0===S?"90%":S,A=s.totalX,z=void 0===A?"50%":A,T=s.totalTextAnchor,P=void 0===T?"middle":T,D=s.completed,C=void 0===D?"":D,U=s.completedY,_=void 0===U?"65%":U,L=s.completedX,R=void 0===L?"50%":L,M=s.completedTextAnchor,F=void 0===M?"middle":M,E=.3*n,B=n-E/2,H=.3*n,W=2*B*Math.PI,N=.75*W,G=N+" "+W,V="rotate(135, "+n+", "+n+")",K=N-Math.min(Math.max(b,0),100)/100*N,Y=j||n/2.5,q=n/5;return Object(i.h)(t,null,Object(i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*n,height:2*n+c,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(i.h)("circle",{class:""+l.a.gaugeBackground,cx:n,cy:n,r:B,strokeWidth:E,strokeDasharray:G,strokeLinecap:"round",transform:V}),Object(i.h)("circle",{class:l.a[d]+" "+l.a.gauge,cx:n,cy:n,r:B,stroke:"url(#grad)",strokeDasharray:G,strokeDashoffset:K,strokeLinecap:"round",strokeWidth:H,style:{transition:"stroke-dashoffset 0.3s"},transform:V}),u&&Object(i.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":Y},b," ",g),O&&Object(i.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":Y},v),C&&Object(i.h)("text",{class:l.a.gaugeText+" "+l.a[d],x:R,y:_,"dominant-baseline":"middle","text-anchor":F,"font-size":q},C),Object(i.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:z,y:I,"dominant-baseline":"middle","text-anchor":P,"font-size":q},x)))},s}(i.Component))||a;e.a=h}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=12.chunk.a0136.js.map