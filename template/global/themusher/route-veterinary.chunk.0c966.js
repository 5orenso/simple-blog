(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"6a5D":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r,o=s("hosL"),c=s("ox/y"),l=(s("Utv1"),s("/eY4")),i=(s("go65"),s("Y3FI")),h=s("OhSV"),b={menu:{profile:!1,main:!1},searchText:""},u=Object(l.a)(r=function(e){function t(t){var s;return(s=e.call(this,t)||this).toggleDropdown=function(e){var t=s.state.menu,a=e.target.dataset.name;!a&&e.target.parentNode&&(a=e.target.parentNode.dataset.name),a&&(t[a]=!t[a]),s.setState({menu:t})},s.toggleDarkmode=function(e){s.props.stores.appState.toggleDarkmode(),s.toggleDropdown(e)},s.toggleViewmode=function(e){var t=e.target.dataset.mode;!t&&e.target.parentNode&&(t=e.target.parentNode.dataset.mode),s.props.stores.appState.toggleViewmode(t),s.toggleDropdown(e)},s.reloadApp=function(){window.location.reload(!0)},s.adminLoadAll=function(){return new Promise((function(e,t){return Promise.resolve(s.props.stores.userStore.getInfo(!0)).then((function(){try{return e()}catch(e){return t(e)}}),t)}))},s.changeLanguage=function(e){var t=e.target.value;console.log("changeLanguage",t);var a=s.props.stores,n=a.appState,r=a.userStore,o=r.user,c=void 0===o?{}:o;c.email&&r.setLanguage({email:c.email,language:t}),n.setLanguage(t)},s.search=function(){var e=s.state.searchText;Object(i.route)("/search/"+e,!0)},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b),s}var s,r;return r=e,(s=t).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,t.prototype.render=function(){var e=this.state,t=e.menu,s=this.props.stores,a=s.appState,n=s.userStore,r=a.darkmode,l=n.user,i=n.notifications,b=((void 0===i?[]:i).filter((function(e){return!e.read})),l.language),u=void 0===b?"no":b;return Object(o.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top",style:"z-index: 99999;"},Object(o.h)("a",{class:"navbar-brand",href:"/veterinary"},Object(o.h)("img",{src:"./assets/logo.png",height:"37",class:"position-absolute",style:"top: 10px; left: 6px"}),Object(o.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 25px;"},"The Musher")),Object(o.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(o.h)("span",{class:"navbar-toggler-icon"})),Object(o.h)("div",{class:"collapse navbar-collapse "+(t.main?"show":""),id:"navbarSupportedContent"},Object(o.h)("ul",{class:"navbar-nav mr-auto ml-5"}),Object(o.h)("ul",{class:"navbar-nav ml-auto "},Object(o.h)("li",{class:"nav-item mr-2"},Object(o.h)("div",{class:"form-row align-items-center"},Object(o.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(o.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(o.h)("option",{value:"no",selected:"no"===u},"🇳🇴 NO"),Object(o.h)("option",{value:"en",selected:"en"===u},"🇬🇧 EN"),Object(o.h)("option",{value:"de",selected:"de"===u},"🇩🇪 DE"))))),Object(o.h)("li",{class:"nav-item d-block d-lg-none"},Object(o.h)(c.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(o.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"})," ",Object(o.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(o.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(o.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(o.h)("i",{class:(r?"fas text-warning":"far")+" fa-moon"}))))))},t}(o.Component))||r;t.a=u},atwK:function(e,t,s){"use strict";s.r(t),function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o,c,l,i=s("hosL"),h=(s("QRet"),s("Utv1")),b=s("/eY4"),u=s("OhSV"),d=s("go65"),p=(s("fh8t"),s("6a5D")),g=s("ZOvn"),O=g.a.marginTop(!0),m=g.a.marginBottom(),f=(g.a.subMenuMarginTop(),g.a.getVaccineTypes(),{isLoading:!1,email:"",submenu:"ads",jwtToken:h.a.getJwtToken()}),j=Object(b.a)(o=function(t){function s(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).selectTeam=function(t){return new Promise((function(s){return t.preventDefault(),e.setState({displayTeam:parseInt(t.target.value,10)}),s()}))},e}return r(s,t),s.prototype.render=function(){var t=this,s=this.props.teams,a=void 0===s?[]:s,n=this.props.stores.userStore.isLoading,r=this.state.displayTeam,o=void 0===r?(a[0]?a[0]:{}).id:r;return Object(i.h)("div",{class:"bg-light p-4"},n.getDogs?Object(i.h)(e,null,"Loading..."):Object(i.h)(e,null,Object(i.h)("label",{for:"team"},Object(i.h)("i",{class:"fas fa-users"})," ",Object(i.h)(u.c,{id:"dog.veterinary-team"},"Team")),Object(i.h)("select",{class:"form-control form-control-lg mb-2",id:"team",onChange:this.selectTeam},Object(i.h)("option",{value:""},"-- Choose team --"),a&&a.map((function(t){return Object(i.h)(e,null,Object(i.h)("option",{value:t.id},t.name))}))),a&&a.map((function(s){return Object(i.h)(e,null,o===s.id&&Object(i.h)(e,null,Object(i.h)(v,{stores:t.props.stores,dogs:s.dogs})))}))))},s}(i.Component))||o,v=Object(b.a)(c=function(t){function s(e){var s;return(s=t.call(this,e)||this).selectDog=function(e){var t=e.target.closest("tr").dataset.id,a=s.state.selectedDogs,n=parseInt(t,10),r=a.indexOf(n);-1===r?a.push(n):a.splice(r,1),s.setState({selectedDogs:a})},s.selectDogSection=function(e){var t=e.target.closest("section").dataset.id,a=s.state.selectedDogs,n=parseInt(t,10),r=a.indexOf(n);-1===r?a.push(n):a.splice(r,1),s.setState({selectedDogs:a})},s.selectAllDogs=function(){var e=s.props.dogs.map((function(e){return e.id}));s.setState({selectedDogs:e})},s.removeAllDogs=function(){s.setState({selectedDogs:[]})},s.state={selectedDogs:[]},s}return r(s,t),s.prototype.render=function(){var t=this,s=this.state.selectedDogs,a=this.props.stores.userStore,n=a.vaccineStatuses,r=this.props.dogs;return Object(i.h)("div",{class:"table-responsive mt-3"},s&&s.length>0&&Object(i.h)(e,null,Object(i.h)("label",{for:"team"},Object(i.h)("i",{class:"fas fa-dog"})," ",Object(i.h)(u.c,{id:"dog.veterinary-choosen-dogs"},"Valgte hunder")),Object(i.h)("div",{class:"d-flex flex-wrap"},r&&r.map((function(a){var n;return a.images&&a.images[0]&&(n=a.images[0]),a.image&&(n=a.image),s.indexOf(a.id)>-1?Object(i.h)(e,null,Object(i.h)("section",{class:"text-overflow p-2 position-relative",onClick:t.selectDogSection,"data-id":a.id,style:"width: 90px;"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:n?"background-image: url('"+n.s3ThumbLink+"');":""},!n&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},h.a.ucfirst(a.name,!0))),Object(i.h)("small",null,a.name),Object(i.h)("div",{class:"position-absolute",style:"top: 0px; right: 0px;"},Object(i.h)("i",{class:"fas fa-times-circle text-danger"})))):""}))),Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-12"},Object(i.h)("label",{for:"vaccineTypeInput"},Object(i.h)("i",{class:"fas fa-syringe"})," ",Object(i.h)(u.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(i.h)("select",{class:"form-control form-control-lg mb-2",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:Object(d.a)(this,"vaccineType"),autocomplete:"off"},Object(i.h)("option",{value:""},"-- ",Object(i.h)(u.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(i.h)("option",{value:"rabies"},Object(i.h)(u.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(i.h)("option",{value:"deworming"},Object(i.h)(u.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(i.h)("option",{value:"BbPi"},Object(i.h)(u.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(i.h)("option",{value:"DHP"},Object(i.h)(u.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(i.h)("option",{value:"DHPPi"},Object(i.h)(u.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)")))),Object(i.h)("div",{class:"col-12 pt-4"},Object(i.h)("button",{type:"button",class:"btn btn-lg btn-block btn-danger mb-2",onClick:this.searchForMusher},"Add vaccine to ",s.length," dogs")))),Object(i.h)("button",{class:"btn btn-lg btn-block btn-outline-success mt-5",onClick:this.selectAllDogs},"Select all dogs"),s&&s.length>0&&Object(i.h)(e,null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-link",onClick:this.removeAllDogs},"Remove all dogs")),Object(i.h)("table",{class:"table table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{scope:"col",style:"width: 100px;"}," "),Object(i.h)("th",{scope:"col"},"Name"))),Object(i.h)("tbody",null,r&&r.map((function(a){var r;a.images&&a.images[0]&&(r=a.images[0]),a.image&&(r=a.image);var o=s.indexOf(a.id)>-1;return Object(i.h)(e,null,Object(i.h)("tr",{class:"pointerCursor",onClick:t.selectDog,"data-id":a.id},Object(i.h)("td",{class:"position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:r?"background-image: url('"+r.s3ThumbLink+"');":""},!r&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},h.a.ucfirst(a.name,!0))),o&&Object(i.h)("span",{class:"position-absolute display-4",style:"top: 0px; left: 0px;"},Object(i.h)("i",{class:"fas fa-check text-success"}))),Object(i.h)("td",null,Object(i.h)("span",{class:"float-right"},a.birth&&Object(i.h)("span",{class:"mr-2"},h.a.age(a.birth,a.deceased)),"female"===a.gender?Object(i.h)("i",{class:"fas fa-venus"}):Object(i.h)("i",{class:"fas fa-mars"})),Object(i.h)("h5",null,a.name," ",a.shortname&&Object(i.h)("span",{class:"font-weight-lighter"}," - '",a.shortname,"'")),Object(i.h)("div",null,a.chipId&&Object(i.h)("small",null,Object(i.h)("i",{class:"fas fa-microchip"})," ",a.chipId)),Object(i.h)("div",null,n&&n.filter((function(e){return e.dogId===a.id})).map((function(e){return Object(i.h)("span",{class:"badge badge-success mr-2",title:h.a.isoDate(e.endDate,!1,!1,!0)},e.vaccineType)}))))))})))))},s}(i.Component))||c,y=Object(b.a)(l=function(t){function s(e){var s;return(s=t.call(this,e)||this).searchForMusher=function(){return new Promise((function(e,t){var a,n;return a=s.props.stores.userStore,n=s.state.search,s.setState({isSearcing:!0,displayUser:null}),Promise.resolve(a.searchUsers({search:n})).then((function(){try{return s.setState({isSearcing:!1}),e()}catch(e){return t(e)}}),t)}))},s.selectMusher=function(e){return new Promise((function(t,a){function n(){return t()}var r,o;return r=e.target.closest("tr").dataset.id,s.state.displayUser===(o=parseInt(r,10))?(s.setState({displayUser:null}),n.call(this)):(s.setState({displayUser:o}),Promise.resolve(s.props.stores.userStore.getDogs({id:o})).then(function(){try{return n.call(this)}catch(e){return a(e)}}.bind(this),a))}))},s.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},f),s}r(s,t);var o=s.prototype;return o.componentDidMount=function(){},o.componentWillReceiveProps=function(){},o.render=function(){var t=this,s=this.state,a=s.displayUser,n=s.isSearcing,r=this.props.stores,o=r.userStore,c=o.searchUsersResult,l=o.searchUserTeams,b=this.props,u=b.col,f=void 0===u?12:u,v=b.offset,y=void 0===v?0:v;return o.isVeterinary?Object(i.h)(e,null,Object(i.h)(p.a,{stores:this.props.stores}),Object(i.h)("div",{class:"container-fluid",style:"margin-bottom: "+m+"; margin-top: "+O+";"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-"+f+" offset-"+y+" col-sm-8 col-lg-8 offset-sm-2 offset-lg-2"},Object(i.h)("h1",null,"Veterinary search"),Object(i.h)("form",{onSubmit:this.searchForMusher},Object(i.h)("div",{class:"form-row align-items-center"},Object(i.h)("div",{class:"col-10"},Object(i.h)("label",{class:"sr-only",for:"vetSearch"},"Name"),Object(i.h)("input",{type:"text",class:"form-control form-control-lg mb-2",id:"vetSearch",placeholder:"Search for musher by email, cellphone or name...",onInput:Object(d.a)(this,"search")})),Object(i.h)("div",{class:"col-2"},Object(i.h)("button",{type:"button",class:"btn btn-lg btn-primary mb-2",onClick:this.searchForMusher},"Search"))))),Object(i.h)("div",{class:"col-"+f+" offset-"+y+" col-sm-8 col-lg-8 offset-sm-2 offset-lg-2"},n&&Object(i.h)(e,null,"Searcing..."),c&&0!==c.length?Object(i.h)("div",{class:"table-responsive"},Object(i.h)("table",{class:"table table-striped"},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",{scope:"col",style:"width: 100px;"}," "),Object(i.h)("th",{scope:"col"},"Name"),Object(i.h)("th",{scope:"col"},"Cellphone"),Object(i.h)("th",{scope:"col"},"Email"))),Object(i.h)("tbody",null,c&&c.filter((function(e){return!a||e.id===a})).map((function(s){var n;return s.images&&s.images[0]&&(n=s.images[0]),s.image&&(n=s.image),Object(i.h)(e,null,Object(i.h)("tr",{class:"pointerCursor",onClick:t.selectMusher,"data-id":s.id},Object(i.h)("td",null,Object(i.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:n?"background-image: url('"+n.s3ThumbLink+"');":""},!n&&Object(i.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},s.firstname?Object(i.h)(e,null,h.a.ucfirst(s.firstname,!0),h.a.ucfirst(s.lastname,!0)):Object(i.h)(e,null,h.a.ucfirst(s.email,!0))))),Object(i.h)("td",null,s.firstname," ",s.lastname,Object(i.h)("br",null),s.facebook&&Object(i.h)("a",{class:"mr-2",href:g.a.asFacebookLink(s.facebook),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-facebook-square"})),s.instagram&&Object(i.h)("a",{class:"mr-2",href:g.a.asInstagramLink(s.instagram),target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fab fa-instagram"}))),Object(i.h)("td",null,s.cellphone),Object(i.h)("td",null,s.email)),a===s.id&&Object(i.h)(e,null,Object(i.h)("tr",null,Object(i.h)("td",{colspan:"4"},Object(i.h)(j,{stores:t.props.stores,teams:l})))))}))))):Object(i.h)(e,null," "))))):Object(i.h)(e,null,Object(i.h)("div",{class:"container-fluid h-100"},Object(i.h)("div",{class:"row h-100"},Object(i.h)("div",{class:"col-12 text-center my-auto"},Object(i.h)("div",{class:"display-1 text-danger"},Object(i.h)("i",{class:"fas fa-hand-paper"})),Object(i.h)("h5",null,"No access!"),Object(i.h)("p",null,"All attempts are logged and reported."),Object(i.h)("a",{class:"mt-3 btn btn-lg btn-primary",href:"/"},"Go to the frontpage")))))},s}(i.Component))||l;t.default=y}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-veterinary.chunk.0c966.js.map