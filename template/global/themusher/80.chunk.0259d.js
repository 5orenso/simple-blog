(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{WPhI:function(t,e,o){"use strict";function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.r(e);var l,a=o("hosL"),r=(o("Utv1"),o("/eY4")),c=o("OhSV"),i=o("go65"),b=o("ZOvn"),u=o("eQ6k"),f=b.a.marginTop(!0),h=(b.a.marginTopBack(!1),b.a.marginBottom()),d=b.a.subMenuMarginTop(),m={isLoading:!1,limit:25,offset:0,submenu:"notfollowing"},p=Object(r.a)(l=function(t){function e(e){var o;return(o=t.call(this,e)||this).setLoadMore=function(){o.props.stores.teamStore.setLoadMore((function(){var t=o.state,e=t.limit,s=t.offset,n=t.search;o.setState({offset:s+=e}),o.loadTeams({limit:e,offset:s,search:n})}))},o.unsetLoadMore=function(){o.props.stores.teamStore.setLoadMore((function(){}))},o.searchForTeams=function(){var t=o.state,e=t.search,s=t.limit;o.setState({offset:0}),o.loadTeams({search:e,limit:s})},o.chooseSubmenu=function(t){var e=o.state.limit;o.setState({submenu:t.target.parentElement.dataset.menu||t.target.dataset.menu,offset:0},(function(){o.loadTeams({limit:e,offset:0})}))},o.state=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},m),o}var o,l;l=t,(o=e).prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l;var r=e.prototype;return r.loadTeams=function(t){return new Promise(function(e,o){var s,n,l,a,r,c;return s=t.limit,n=t.offset,l=t.search,a=this.state.submenu,this.setState({isLoading:!0}),r=this.props.stores.teamStore,c={},"notfollowing"===a&&(c.notfollowing=1),"following"===a&&(c.following=1),Promise.resolve(r.loadPublic({limit:s,offset:n,search:l,opts:c})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return o(t)}}.bind(this),o)}.bind(this))},r.componentDidMount=function(){var t=this.state;this.loadTeams({limit:t.limit,offset:t.offset}),this.setLoadMore()},r.componentWillUnmount=function(){this.unsetLoadMore()},r.render=function(){var t=this,e=this.props.scrolledDown,o=this.state,s=o.submenu,n=this.props.stores,l=n.teamStore.publicTeamsToFollow,r=void 0===l?[]:l,b=n.appState.darkmode;return Object(a.h)("div",{class:"container-fluid",style:"margin-bottom: "+h+"; margin-top: "+f+";"},Object(a.h)("div",{class:"row fixed-top",style:"margin-top: "+(e>0?0:d)+"; background-color: "+(b?"#191d21":"#f8f9fa")+"; transition: all 0.3s ease-in-out;"},Object(a.h)("div",{class:"col text-center subtopmenu"},Object(a.h)("a",{href:"/teams/",class:"text-secondary stretched-link"},Object(a.h)("nobr",null,Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(c.c,{id:"teams.your-teams"},"Your teams")))),Object(a.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(a.h)("a",{href:"/teams/connect",class:"text-primary stretched-link"},Object(a.h)("nobr",null,Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(c.c,{id:"teams.public-teams"},"Public teams"))))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 my-3"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"w-100 overflow-hidden"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{class:"btn btn-block rounded-pill-left rounded-none "+("all"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"all",onClick:this.chooseSubmenu},Object(a.h)("i",{class:"fas fa-users"})," ",Object(a.h)(c.c,{id:"teams.all"},"All"))),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{class:"btn btn-block rounded-none "+("notfollowing"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"notfollowing",onClick:this.chooseSubmenu},Object(a.h)("i",{class:"fas fa-unlink"})," ",Object(a.h)(c.c,{id:"teams.notfollowing"},"Not following"))),Object(a.h)("div",{class:"col px-0 pt-2"},Object(a.h)("button",{class:"btn btn-block rounded-pill-right rounded-none "+("following"===s?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;","data-menu":"following",onClick:this.chooseSubmenu},Object(a.h)("i",{class:"fas fa-link"})," ",Object(a.h)(c.c,{id:"teams.following"},"Following")))))))),Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-12"},Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(a.h)("h5",null,Object(a.h)(c.c,{id:"teams.connect.all-teams",fields:{total:r.length}},"Alle offentlige team - ",r.length," stk"))),Object(a.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap position-relative",style:"overflow: auto;"},Object(a.h)("div",{class:"flex-grow-1"},Object(a.h)("label",{class:"sr-only",for:"teamSearch"},Object(a.h)(c.c,{id:"search.title"},"Search")),Object(a.h)(c.b,null,Object(a.h)("input",{type:"text",class:"form-control form-control-lg mb-2",id:"teamSearch",onInput:Object(i.a)(this,"search")}))),Object(a.h)("div",{class:"align-self-end ml-1"},Object(a.h)("button",{type:"button",class:"btn btn-lg btn-primary mb-2",onClick:this.searchForTeams},Object(a.h)(c.c,{id:"dog.veterinary.search"},"Search"))))),r&&r.map((function(e){return Object(a.h)(u.a,{stores:t.props.stores,team:e})})))))},e}(a.Component))||l;e.default=p},eQ6k:function(t,e,o){"use strict";(function(t){var s,n=o("hosL"),l=(o("Utv1"),o("/eY4")),a=o("OhSV"),r=Object(l.a)(s=function(e){function o(){for(var o,s=arguments.length,l=new Array(s),r=0;r<s;r++)l[r]=arguments[r];return(o=e.call.apply(e,[this].concat(l))||this).requestFollowTeam=function(t){var e=o.props.stores,s=e.teamStore,n=e.userStore.user,l=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.followRequest(l,n),o.setState({requestSent:!0})},o.unFollowTeam=function(t){var e=o.props.stores,s=e.teamStore,n=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.unollowTeam(n),o.setState({unfollowed:!0})},o.getButton=function(e){void 0===e&&(e="");var s=o.state.requestSent,l=o.props.stores.userStore.user,r=o.props,c=r.team,i=r.skipHome,b=c.members&&c.members.indexOf(l.id)>-1,u=c.followers&&c.followers.indexOf(l.id)>-1,f=c.blockedFollowers&&c.blockedFollowers.indexOf(l.id)>-1,h=s||c.followRequests&&c.followRequests.findIndex((function(t){return t.id===l.id}))>-1;return b?i?"":Object(n.h)("i",{class:"fas fa-home"}):u?Object(n.h)(t,null,Object(n.h)("button",{class:"btn btn-block btn-outline-secondary float-right",onClick:o.unFollowTeam,disabled:"true","data-team":c.id},Object(n.h)("i",{class:"fas fa-link mr-2"}),Object(n.h)(a.c,{id:"teams.connect.is-following"},"Følger")," ",e),Object(n.h)("button",{class:"btn btn-sm btn-block btn-danger float-right",onClick:o.unFollowTeam,"data-team":c.id},Object(n.h)("i",{class:"fas fa-unlink mr-2"}),Object(n.h)(a.c,{id:"teams.connect.unfollow"},"Unfollow"))):f?"":h?Object(n.h)("button",{class:"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(n.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(n.h)(a.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",e):c.public?Object(n.h)("button",{class:"btn btn-block btn-outline-success float-right",onClick:o.requestFollowTeam,"data-team":c.id},Object(n.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(n.h)(a.c,{id:"teams.connect.follow"},"Følg")," ",e):void 0},o}var s,l;return l=e,(s=o).prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l,o.prototype.render=function(){var e=this.state.unfollowed,o=this.props,s=o.team,l=o.buttonOnly,a=this.props.stores.userStore,r=a.user.language,c=void 0===r?"en":r,i=a.findTeamAmbition({ambition:s.ambitions,language:c}),b=a.findTeamType({type:s.type,language:c}),u=s.image&&s.image.s3SmallLink?s.image:null;return l?Object(n.h)(t,null,this.getButton(""+s.name)):Object(n.h)("div",{class:"w-100 mb-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:e?"text-decoration: line-through; opacity: 0.3;":""},Object(n.h)("a",{href:"/teams/public/"+s.uuidv4},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded",style:u?'background-image: url("'+u.s3SmallLink+'");  background-size: cover;':""},!u&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(n.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(n.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(n.h)(t,null,Object(n.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(n.h)(t,null,s.name)),Object(n.h)("div",null,s.place," ",s.country),Object(n.h)("div",null,b&&Object(n.h)("span",{class:"badge badge-pill badge-secondary"},b),i&&Object(n.h)("span",{class:"badge badge-pill badge-secondary ml-2"},i)),Object(n.h)("small",{class:"text-muted"},s&&s.dogs&&Object(n.h)("span",{class:""},Object(n.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(n.h)("span",{class:"ml-2"},Object(n.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(n.h)("div",null,this.getButton()))))},o}(n.Component))||s;e.a=r}).call(this,o("hosL").Fragment)}}]);
//# sourceMappingURL=80.chunk.0259d.js.map