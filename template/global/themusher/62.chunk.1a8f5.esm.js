(window.webpackJsonp=window.webpackJsonp||[]).push([[62,6,13,23],{"+I+c":function(e,t,s){"use strict";function a(e,t){if(null==e)return{};var s,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(s=i[a])>=0||(o[s]=e[s]);return o}s.d(t,"a",(function(){return a}))},"+JSK":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(i=class extends n.Component{constructor(e){super(e),this.toggleLikes=()=>{const{showLikesList:e}=this.state;this.setState({showLikesList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{showLikesList:t}=this.state,{storyStore:s,teamStore:a,workoutStore:o,raceStore:i}=this.props.stores,{likes:l,comments:h,type:u="story",onTeamClick:p=(()=>{}),onUserClick:b=(()=>{})}=this.props;return Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex justify-content-between mb-2"},l&&l.length>0&&Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex flex-row flex-nowrap position-relative mr-3",style:"overflow: auto;"},Object(n.h)("span",{class:"text-muted mr-2",onClick:this.toggleLikes},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",l.length),l.slice(0,1).map(t=>{let l,c,h;"story"===u?(l=s.findPublicUser(t.user),c=s.findPublicTeamByMembers(t.user)):"team"===u?(l=a.findPublicUser(t.user),c=a.findPublicTeamByMembers(t.user)):"workout"===u?(l=o.findPublicUser(t.user),c=o.findPublicTeamByMembers(t.user)):"race"===u&&(l=i.findPublicUser(t.user),c=i.findPublicTeamByMembers(t.user)),r.a.isArray(c)&&(h=c.find(e=>1===e.public));d.a.getImage({user:l,team:h,priority:"user"}),d.a.displayNameShort(l);const b=d.a.displayName(l);return Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-lighter"},h?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:e=>p(e,h.uuidv4)},b)):Object(n.h)(e,null,b)))}),l.length>1&&Object(n.h)(e,null,Object(n.h)("span",{class:"text-muted font-weight-lighter ml-2",onClick:this.toggleLikes},Object(n.h)(c.c,{id:"likes-comments.and",fields:{total:l.length-1}},"and ",l.length-1," others."))))),h&&h.length>0&&Object(n.h)("span",{class:"float-right text-muted"},Object(n.h)("i",{class:"fas fa-comment text-primary"})," ",h.length)),t&&Object(n.h)("div",{class:"mt-3 mb-3"},l&&l.map(t=>{let l,c,h;"story"===u?(l=s.findPublicUser(t.user),c=s.findPublicTeamByMembers(t.user)):"team"===u?(l=a.findPublicUser(t.user),c=a.findPublicTeamByMembers(t.user)):"workout"===u?(l=o.findPublicUser(t.user),c=o.findPublicTeamByMembers(t.user)):"race"===u&&(l=i.findPublicUser(t.user),c=i.findPublicTeamByMembers(t.user)),r.a.isArray(c)&&(h=c.find(e=>1===e.public));const b=d.a.getImage({user:l,team:h,priority:"user"}),m=d.a.displayNameShort(l),g=d.a.displayName(l,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},h?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+h.uuidv4,title:h.name,onClick:e=>p(e,h.uuidv4),class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(b?`background-image: url("${b}"); background-size: cover;`:"")},!b&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},m))),Object(n.h)("div",{class:"ml-2 "},g," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",h.name))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(b?`background-image: url("${b}"); background-size: cover;`:"")+" opacity: 0.5;"},!b&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},m)),Object(n.h)("div",{class:"ml-2"},g)))})))}})||i;t.a=u}).call(this,s("hosL").Fragment)},"/922":function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=s("om2D"),d=(s("ETxl"),s("ZOvn"));let h=Object(n.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.beforeImagesUploaded=()=>{this.setState({sendButtonEnabled:!1})},this.afterImagesUploaded=()=>{this.setState({sendButtonEnabled:!0})},this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),inputRefObject:a={}}=t.props,{workout:o}=t.props,{workoutStore:i}=t.props.stores,{comment:n,showAddImage:r}=t.state;t.setState({sendButtonEnabled:!1});const l=await i.commentWorkout({id:o.id,comment:n});l&&200===l.status&&(t.setState({comment:{body:"",images:[]}},()=>{d.a.resizeTextarea(a[o.id]),r&&t.addImage()}),s({workout:o,response:l})),t.setState({sendButtonEnabled:!0})},this.addImages=({value:e})=>{const{comment:t}=this.state;t.images.push(...e),this.setState({comment:t})},this.addImage=()=>{const{showAddImage:e=!1}=this.state;this.setState({showAddImage:!e})},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.state={comment:{body:"",images:[]},showAddImage:!1,sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:t,col:s=12,offset:a=0,showAvatar:n=!0,extraClass:h="",workout:u}=this.props,{comment:p,showAddImage:b,sendButtonEnabled:m}=this.state,{userStore:g}=this.props.stores,{user:f={}}=g,O=f.firstname?`${i.a.ucfirst(f.firstname,!0)}${i.a.ucfirst(f.lastname,!0)}`:""+i.a.ucfirst(f.email||"",!0),j=f.image||(f.images?f.images[0]:void 0);return Object(o.h)("div",{class:`col-${s} offset-${a} ${h}`},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},n&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(j?`background-image: url('${j.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!f.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(r.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment.body"),onKeyUp:d.a.resizeTextarea,onFocus:d.a.resizeTextarea,style:"height: 2.3em;",value:p.body,ref:t})),Object(o.h)("div",{class:"position-absolute",style:"top: 8px; right: 10px; font-size: 1.2em;"},Object(o.h)("i",{class:"fas fa-image pointerCursor","data-id":u.id,onClick:this.addImage})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${m?"primary":"secondary"} mb-2`,disabled:!m,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))),b&&Object(o.h)(e,null,Object(o.h)("div",{class:"col-12 text-center"},Object(o.h)("div",{class:"container-fluid"},Object(o.h)("div",{class:"row"},p.images&&p.images.map(e=>Object(o.h)("div",{class:"col-3 p-1"},Object(o.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}),Object(o.h)("button",{class:"btn btn-sm btn-link",onClick:this.removeImage,"data-name":e.name},Object(o.h)("i",{class:"fas fa-trash"}),"  ",Object(o.h)(r.c,{id:"comments.remove-image"},"Remove")))))),Object(o.h)(c.a,{object:p,updateField:this.addImages,before:this.beforeImagesUploaded,after:this.afterImagesUploaded,autoOpen:!0}))))}})||a;t.a=h}).call(this,s("hosL").Fragment)},"1OK2":function(e,t,s){"use strict";var a,o=s("hosL"),i=(s("Utv1"),s("/eY4"));Object(i.a)(a=class extends o.Component{constructor(e){super(e),this.touchStart=e=>{e.stopPropagation(),this.setState({startX:e.touches[0].pageX})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startX:void 0,sliding:!1})},this.touchMove=e=>{e.stopPropagation();const{totalImages:t}=this.state;if(t>1){const{startX:t,sliding:s}=this.state,a=50,o=e.touches[0].pageX;s||(o>t+a?(this.setState({sliding:!0}),this.prevImage()):o<t-a&&(this.setState({sliding:!0}),this.nextImage()))}};const{images:t=[]}=e;this.state={imageContainer:1,currentImage1:t[0]||{},currentImage2:{},currentIdx:0,totalImages:t.length||0,imageDots:[...Array(t.length||0).fill(1).map((e,t)=>e+t)]}}nextImage(){const{images:e}=this.props,{totalImages:t,currentIdx:s,imageContainer:a}=this.state,o=1===a?2:1;let i=s+1;i>t-1&&(i=0),this.setState({["currentImage"+o]:e[i],currentIdx:i,imageContainer:o})}prevImage(){const{images:e}=this.props,{totalImages:t,currentIdx:s,imageContainer:a}=this.state;let o=s-1;o<0&&(o=t-1),this.setState({["currentImage"+(1===a?2:1)]:e[o],currentIdx:o,imageContainer:1===a?2:1})}componentWillReceiveProps(e){if(e.images!==this.props.images){const{images:t=[]}=e;this.setState({imageContainer:1,currentImage1:t.length>0?t[0]:{},currentImage2:{},currentIdx:0,totalImages:t.length||0,imageDots:[...Array(t.length||0).fill(1).map((e,t)=>e+t)]})}}render(){const{currentImage1:e,currentImage2:t,imageContainer:s,totalImages:a,imageDots:i,currentIdx:n}=this.state,r=this["image"+s],l=1===s?e:t,c=r&&r.height?r.width/r.height:4/3;let d,h;if(l.dimensions){const{width:e,height:t,orientation:s}=l.dimensions;s>4&&s<9?(d=e,h=t):(d=t,h=e)}const u=l.dimensions?h/d:c;return a<=0?"":Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"border rounded position-relative w-100",style:`height: calc(85vw / ${u}); overflow: hidden; transition: all .3s ease-in-out;`,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove},a>1&&Object(o.h)("span",{class:"position-absolute",style:"top:0px; right: 5px; z-index: 2000;"},Object(o.h)("small",null,n+1,"/",a)),e&&Object(o.h)("div",{class:"position-absolute",style:(1===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:e.s3LargeLink,class:"img-fluid align-middle",ref:e=>this.image1=e})),t&&Object(o.h)("div",{class:"position-absolute",style:(2===s?"opacity: 1;":"opacity: 0;")+" transition: all .3s ease-in-out; top: 0; left: 0;"},Object(o.h)("img",{loading:"lazy",src:t.s3LargeLink,class:"img-fluid align-middle",ref:e=>this.image2=e}))),i.length>1&&Object(o.h)("div",{class:"w-100 text-center"},i.map(e=>Object(o.h)("span",{style:`color: ${e===n+1?"#ffffff":"#808080"};`},"•"))))}})},"2X7c":function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=(s("cneo"),s("go65")),h=s("OhSV"),u=s("ZOvn"),p=s("X9Km"),b=s("om2D"),m=s("3on9");const g=u.a.getVaccineTypes(),f={showLog:!1,okToAddLog:!0};let O=Object(c.a)(n=class extends r.Component{constructor(e){var t;super(e),t=this,this.toggleLog=()=>{const{showLog:e}=this.state;this.setState({showLog:!e})},this.resetLog=()=>{this.setState({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date),dogs:[]},showLog:!1})},this.addImages=e=>{if(Array.isArray(e.value)){const{newHistory:t}=this.state;t.images=Array.isArray(t.images)?[...t.images,...e.value]:e.value,this.setState({newHistory:t})}},this.handleImageErrored=e=>{const t=e.target;t.onerror=null,setTimeout(()=>{t.src+="?"+new Date},1e3)},this.imageUploadStatus=e=>{this.setState({okToAddLog:e})},this.insertLog=async function(){const{newHistory:e}=t.state,{dogStore:s,userStore:a}=t.props.stores,{callback:i}=t.props,{dog:n}=s,{user:r}=a;return e.title||e.comment?e.id||0!==e.dogs.length?(e.date=`${e.date} ${e.time}`,await s.save({id:n.id||e.dogs[0],history:o({user:{id:r.id,email:r.email,firstname:r.firstname,lastname:r.lastname}},e)}),t.resetLog(),await t.loadDog(),await t.loadFeed(),void(l.a.isDefined(i)&&i())):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler hunder til logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),!1):(p.a.publish(p.b.STATUS_MESSAGE,{message:"Mangler tittel på logginnlegg",type:"warning",icon:"fas fa-exclamation-triangle"}),!1)},this.updateField=({field:e,value:t})=>{const{newHistory:s}=this.state;s[e]=t,this.setState({newHistory:s})},this.setHistoryType=e=>{const{userStore:t}=this.props.stores,{user:s}=t,{language:a="en"}=s,o=u.a.getHistoryMap(a),{newHistory:i}=this.state,n=e.target.value;i.historyType=n,i.title||(i.title=o[n]),"maturity"===i.historyType&&(i.endDate=l.a.isoDate(l.a.addDays(i.date,21),!1,!1,!0)),"mating"!==i.historyType&&"unwantedMating"!==i.historyType||(i.endDate=l.a.isoDate(l.a.addDays(i.date,63),!1,!1,!0)),this.setState({newHistory:i})},this.setVaccineType=e=>{const{newHistory:t}=this.state,s=e.target.value;t.vaccineType=s,t.title+=" - "+g[s].name,t.endDate=l.a.isoDate(l.a.addDays(t.date,g[s].duration),!1,!1,!0),this.setState({newHistory:t})},this.state=o({newHistory:{date:l.a.isoDate(new Date,!1,!1,!0),time:l.a.isoTime(new Date),dogs:[]}},f)}async loadDog(e=this.props){const{dog:t}=e;if(t&&t.id){const{newHistory:e}=this.state;e.dogs=[t.id],this.setState({newHistory:e})}}async loadFeed(){const{userStore:e}=this.props.stores;await e.getFeed({})}componentWillMount(){this.resetLog(),this.loadDog()}componentWillReceiveProps(e){e.dog.id!==this.props.dog.id&&(this.resetLog(),this.loadDog(e))}render(){const{newHistory:e,showLog:t,okToAddLog:s}=this.state,{dog:a,className:o="btn-sm btn-secondary float-left"}=this.props,{workoutStore:i,userStore:n}=this.props.stores,{currentTeam:l}=i,c=n.findTeam(l,!0);return t?Object(r.h)("div",{class:"col-12 px-0 border rounded "},Object(r.h)("button",{class:"'btn "+o,onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",t?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg")),Object(r.h)("br",null),t&&Object(r.h)("div",{class:"mb-2 py-4 px-2"},Object(r.h)("h5",null,Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg")),Object(r.h)(h.b,null,Object(r.h)(m.a,{stores:this.props.stores,object:e,type:"array",elementtype:"number",field:"dogs",icon:"fas fa-dog",title:Object(r.h)(h.c,{id:"dog.addlog.dogs"},"Hunder"),help:Object(r.h)(h.c,{id:"dog.addlog.dogs-help"},"Hvilke hunder gjelder dette?"),updateField:this.updateField,filter:t=>a.id===t.id||e.dogs.indexOf(t.id)>-1,currentTeam:c})),Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"dateInput"},Object(r.h)("i",{class:"fas fa-calendar-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.date"},"Dato")),Object(r.h)("input",{type:"date",class:"form-control",id:"dateInput","aria-describedby":"dateHelp",onInput:Object(d.a)(this,"newHistory.date"),value:e.date,autocomplete:"off"}),Object(r.h)("small",{id:"dateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.date-help"},"Dato for logglinje."))),Object(r.h)("div",{class:"form-group col"},Object(r.h)("label",{for:"timeInput"},Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"dog.addlog.time"},"Klokka")),Object(r.h)("input",{type:"time",class:"form-control",id:"timeInput","aria-describedby":"timeHelp",onInput:Object(d.a)(this,"newHistory.time"),value:e.time,autocomplete:"off"}),Object(r.h)("small",{id:"timeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.time-help"},"Tid for logglinje.")))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"typeInput"},Object(r.h)("i",{class:"fas fa-folder-open"})," ",Object(r.h)(h.c,{id:"dog.addlog.type"},"Type hendelse")),Object(r.h)("select",{class:"form-control",id:"typeInput","aria-describedby":"typeHelp",onInput:this.setHistoryType,value:e.historyType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-type"},"Velg type")," --"),Object(r.h)("option",{value:"other"},Object(r.h)(h.c,{id:"dog.addlog.other"},"Annet")),Object(r.h)("option",{value:"stoolProblem"},Object(r.h)(h.c,{id:"dog.addlog.stoolProblem"},"Avføringsproblem")),Object(r.h)("option",{value:"bodyScore"},Object(r.h)(h.c,{id:"dog.addlog.bodyScore"},"Bodyscore")),Object(r.h)("option",{value:"diarrhea"},Object(r.h)(h.c,{id:"dog.addlog.diarrhea"},"Diarè")),Object(r.h)("option",{value:"foodLeftover"},Object(r.h)(h.c,{id:"dog.addlog.foodLeftover"},"Ikke spist opp maten")),Object(r.h)("option",{value:"animalchiropractor"},Object(r.h)(h.c,{id:"dog.addlog.animalchiropractor"},"Dyrekiropraktor")),Object(r.h)("option",{value:"clawClip"},Object(r.h)(h.c,{id:"dog.addlog.clawClip"},"Kloklipp")),Object(r.h)("option",{value:"maturity"},Object(r.h)(h.c,{id:"dog.addlog.maturity"},"Løpetid")),Object(r.h)("option",{value:"massage"},Object(r.h)(h.c,{id:"dog.addlog.massage"},"Massasje")),Object(r.h)("option",{value:"newStraw"},Object(r.h)(h.c,{id:"dog.addlog.newStraw"},"Ny halm/treull")),Object(r.h)("option",{value:"update"},Object(r.h)(h.c,{id:"dog.addlog.update"},"Oppdatering")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"mating"},Object(r.h)(h.c,{id:"dog.addlog.mating"},"Parring")),Object(r.h)("option",{value:"injury"},Object(r.h)(h.c,{id:"dog.addlog.injury"},"Skade")),Object(r.h)("option",{value:"fight"},Object(r.h)(h.c,{id:"dog.addlog.fight"},"Slåsskamp")),Object(r.h)("option",{value:"sick"},Object(r.h)(h.c,{id:"dog.addlog.sick"},"Syk")),Object(r.h)("option",{value:"unwantedMating"},Object(r.h)(h.c,{id:"dog.addlog.unwantedMating"},"Tjuvparring")),Object(r.h)("option",{value:"vaccine"},Object(r.h)(h.c,{id:"dog.addlog.vaccine"},"Vaksine")),Object(r.h)("option",{value:"weight"},Object(r.h)(h.c,{id:"dog.addlog.weight"},"Veiing")),Object(r.h)("option",{value:"veterinarianVisit"},Object(r.h)(h.c,{id:"dog.addlog.veterinarianVisit"},"Vetrinær besøk")," ")),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.type-help"},"Type hendelse. Vetrinær besøk, vaksinering, syk, løpetid, etc."))),["vaccine"].indexOf(e.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"vaccineTypeInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.vaccine-type"},"Vaksinetype")),Object(r.h)("select",{class:"form-control",id:"vaccineTypeInput","aria-describedby":"vaccineTypeHelp",onInput:this.setVaccineType,value:e.vaccineType,autocomplete:"off"},Object(r.h)("option",{value:""},"-- ",Object(r.h)(h.c,{id:"dog.addlog.choose-vaccine"},"Velg vaksinetype")," --"),Object(r.h)("option",{value:"rabies"},Object(r.h)(h.c,{id:"dog.addlog.rabies"},"Rabies (3 år)")),Object(r.h)("option",{value:"deworming"},Object(r.h)(h.c,{id:"dog.addlog.deworming"},"Ormekur")),Object(r.h)("option",{value:"BbPi"},Object(r.h)(h.c,{id:"dog.addlog.BbPi"},"BbPi - Nesevaksine (1 år)")),Object(r.h)("option",{value:"DHP"},Object(r.h)(h.c,{id:"dog.addlog.DHP"},"DHP (3 år)")),Object(r.h)("option",{value:"DHPPi"},Object(r.h)(h.c,{id:"dog.addlog.DHPPi"},"DHPPi (3 år)"))),Object(r.h)("small",{id:"vaccineTypeHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.vaccine-help"},"Hvilken vaksinetype er dette?"))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"nameInput"},Object(r.h)(h.c,{id:"dog.addlog.title"},"Tittel")),Object(r.h)("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"nameHelp",onInput:Object(d.a)(this,"newHistory.title"),value:e.title,autocomplete:"off",required:!0}),Object(r.h)("small",{id:"nameHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.title-help"},"Tittel på logglinje. Vetrinær besøk, Vaksinering, Syk, Profilbilde, etc."))),["vaccine","maturity","unwantedMating","mating"].indexOf(e.historyType)>-1&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"endDateInput"},Object(r.h)("i",{class:"fas fa-hourglass-end"})," ",Object(r.h)(h.c,{id:"dog.addlog.duration"},"Varighet")),Object(r.h)("input",{type:"date",class:"form-control",id:"endDateInput","aria-describedby":"endDateHelp",onInput:Object(d.a)(this,"newHistory.endDate"),value:e.endDate,autocomplete:"off"}),Object(r.h)("small",{id:"endDateHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.duration-help"},"Når går denne vaksinen ut?"))),("weight"===e.historyType||"bodyScore"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"weightInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog"},"Vekt")),Object(r.h)("input",{type:"text",class:"form-control",id:"weightInput","aria-describedby":"weightHelp",onInput:Object(d.a)(this,"newHistory.weight"),value:e.weight,autocomplete:"off"}),Object(r.h)("small",{id:"weightHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.weight-of-dog-help"},"Vekten til hunden."))),("weight"===e.historyType||"bodyScore"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"bodyScoreInput"},Object(r.h)("i",{class:"fas fa-balance-scale"})," ",Object(r.h)(h.c,{id:"dog.addlog.bodyscore"},"Bodyscore")),Object(r.h)("input",{type:"text",class:"form-control",id:"bodyScoreInput","aria-describedby":"bodyScoreHelp",onInput:Object(d.a)(this,"newHistory.bodyScore"),value:e.bodyScore,autocomplete:"off"}),Object(r.h)("small",{id:"bodyScoreHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.bodyscore-help"},"Bodyscore til hunden."))),("veterinarianVisit"===e.historyType||"vaccine"===e.historyType)&&Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"costInput"},Object(r.h)("i",{class:"fas fa-money-bill-alt"})," ",Object(r.h)(h.c,{id:"dog.addlog.cost"},"Kostnad")),Object(r.h)("input",{type:"text",class:"form-control",id:"costInput","aria-describedby":"costHelp",onInput:Object(d.a)(this,"newHistory.cost"),value:e.cost,autocomplete:"off",pattern:"[0-9]{3}",title:"Kun tall. Ikke noen andre tegn eller symboler."}),Object(r.h)("small",{id:"costHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.cost-help"},"Kostnad for denne hendelsen."))),Object(r.h)("div",{class:"form-group"},Object(r.h)("label",{for:"commentInput"},Object(r.h)("i",{class:"fas fa-quote-right"})," ",Object(r.h)(h.c,{id:"dog.addlog.commet"},"Kommentar")),Object(r.h)("input",{type:"text",class:"form-control",id:"commentInput","aria-describedby":"commentHelp",onInput:Object(d.a)(this,"newHistory.comment"),value:e.comment,autocomplete:"off"}),Object(r.h)("small",{id:"commentHelp",class:"form-text text-muted"},Object(r.h)(h.c,{id:"dog.addlog.comment-help"},"Kommentar til loggen. Skriv mer om hva som hendte."))),Object(r.h)("div",{class:"container-fluid"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"row-12"},Object(r.h)("label",{for:"imageInput"},Object(r.h)("i",{class:"fas fa-camera"})," ",Object(r.h)(h.c,{id:"dog.addlog.images"},"Bilder")))),Object(r.h)("div",{class:"row"},e.images&&e.images.map(e=>Object(r.h)("div",{class:"col-3 p-1"},Object(r.h)("img",{src:e.s3SmallLink,class:"img-fluid",onError:this.handleImageErrored}))))),Object(r.h)(b.a,{object:e,field:"images",updateField:this.addImages,uploadStatus:this.imageUploadStatus,autoOpen:!1}),Object(r.h)("button",{type:"button",class:"btn btn-success",onClick:this.insertLog,disabled:!s},s?Object(r.h)(h.c,{id:"dog.addlog.addlog"},"Legg til logg"):Object(r.h)(h.c,{id:"dog.addlog.please-wait"},"vent litt...")),Object(r.h)("button",{type:"button",class:"btn btn-danger float-right",onClick:this.resetLog},Object(r.h)(h.c,{id:"dog.addlog.cancel"},"Glem det")))):Object(r.h)("button",{class:"'btn "+o,onClick:this.toggleLog},Object(r.h)("i",{class:"fas fa-plus"})," ",t?Object(r.h)(h.c,{id:"dog.addlog.hidelog"},"Skjul logg"):Object(r.h)(h.c,{id:"dog.addlog.newlog"},"Ny logg"))}})||n;t.a=O},"3on9":function(e,t,s){"use strict";(function(e){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r,l=s("hosL"),c=s("Utv1"),d=s("/eY4"),h=s("cneo"),u=s("go65"),p=(s("Y3FI"),s("OhSV")),b=s("dVCl");const m={id:0,name:"empty"},g=()=>{const e=i({},m);return e.unique=`${(new Date).getTime()}-${c.a.randomPassword()}`,e};class f extends l.Component{render(){const{provided:e,snapshot:t,innerRef:s,children:o,className:i}=this.props;return Object(l.h)("div",a({class:"h-100 border "+i},e.droppableProps,{ref:s,style:(n=t.isDraggingOver,{borderStyle:n?"dashed":"",width:110})}),o);var n}}class O extends l.Component{constructor(...e){super(...e),this.removeThisPlaceholder=()=>{const{removePlaceholder:e=(()=>{}),idx:t,list:s}=this.props;e({idx:t,list:s})}}render(){const{provided:t,snapshot:s,innerRef:o,dog:n}=this.props;return Object(l.h)("div",a({},t.draggableProps,t.dragHandleProps,{ref:o,class:"mx-2 my-2 p-2",style:(r=s.isDragging,d=t.draggableProps.style,i({userSelect:"none",background:r?"#808080":"",maxWidth:92,height:100},d))}),0===n.id?Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2"},Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"}," ")),Object(l.h)("div",{class:"text-center"},Object(l.h)("button",{class:"btn btn-sm btn-link float-right p-0",onClick:this.removeThisPlaceholder},Object(l.h)("i",{class:"fas fa-trash-alt"}))," "))):Object(l.h)(e,null,Object(l.h)("div",null,Object(l.h)("div",{class:"text-center border rounded-circle imageRounded text-muted pt-2",style:""+(n.image?`background-image: url("${n.image.s3ThumbLink}");`:"")},!n.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},c.a.ucfirst(n.name,!0))),Object(l.h)("div",{class:"text-center"},Object(l.h)("small",null,n.shortname||n.name,Object(l.h)("br",null))))));var r,d}}const j={filterby:c.a.get("dogs-filter")};let v=Object(d.a)(r=class extends l.Component{constructor(e){var t;super(e),t=this,this.toggleDog=async function(e){const{id:s}=e.target.closest("#dogContainer").dataset,a=parseInt(s,10),{object:o,type:i,elementtype:n,field:r,updateField:l,isNew:c,showPositions:d}=t.props,u=Object(h.i)(o[r])||[],p=u.indexOf(a);let b;p>-1?(u.splice(p,1),b="remove"):(u.push(a),b="add"),await l({id:o.id,field:r,value:u,type:i,elementtype:n,isNew:c,skipTimer:!0,singleValue:a}),t.setState({filterText:""}),d&&t.dndDogs({dogId:a,action:b})},this.findAllDogsInTeams=()=>{const{dogStore:e}=this.props.stores,{dogs:t=[]}=e,{object:s,currentTeam:a={}}=this.props,o=Object(h.i)(s.teams||[]),i=a.id;return t.filter(e=>!!(e.team===i||e.teams&&e.teams.indexOf(i)>-1)||(o.indexOf(e.team)>-1||!!e.teams&&e.teams.some(e=>o.indexOf(e)>=0))).map(e=>e.id)},this.addAllDogsInTeam=async function(){const{object:e,type:s,elementtype:a,field:o,updateField:i,isNew:n}=t.props,r=t.findAllDogsInTeams();await i({id:e.id,field:o,value:r,type:s,elementtype:a,isNew:n,skipTimer:!0})},this.dndDogs=({dogId:e,action:t})=>{const{dogStore:s}=this.props.stores,{dogs:a=[]}=s,{object:o}=this.props,i=o.dogs?e=>o.dogs.indexOf(e.id)>-1:()=>!1,n=Object(h.i)(a),r=e=>0===e||n.find(t=>t.id===e)&&-1===o.dogsRight.indexOf(e),l=e=>0===e||n.find(t=>t.id===e)&&-1===o.dogsLeft.indexOf(e),c=n.filter(i),d=Math.ceil(c.length/2),u=c.splice(0,d);let p=[];o.dogsLeft&&o.dogsLeft.length>0&&(p=o.dogsLeft.filter(r).map(e=>n.find(t=>t.id===e)||g()));let b=[];if(o.dogsRight&&o.dogsRight.length>0&&(b=o.dogsRight.filter(l).map(e=>n.find(t=>t.id===e)||g())),"add"===t){const t=a.find(t=>t.id===e);t&&(p.length>b.length?b.push(t):p.push(t))}if("remove"===t){const t=p.findIndex(t=>t.id===e);t>-1&&p.splice(t,1);const s=b.findIndex(t=>t.id===e);s>-1&&b.splice(s,1)}0===p.length&&0===b.length&&(p=u,b=c),t?this.setState({dogsLeft:p,dogsRight:b,dogPositionUpdated:!0},()=>this.updateDogPositions()):this.setState({dogsLeft:p,dogsRight:b})},this.addPlaceholderLeft=()=>{const{dogsLeft:e=[]}=this.state;e.push(g()),this.setState({dogsLeft:e,dogPositionUpdated:!0})},this.addPlaceholderRight=()=>{const{dogsRight:e=[]}=this.state;e.push(g()),this.setState({dogsRight:e,dogPositionUpdated:!0})},this.removePlaceholder=({idx:e,list:t})=>{if("dogsLeft"===t){const{dogsLeft:t=[]}=this.state;t.splice(e,1),this.setState({dogsLeft:t,dogPositionUpdated:!0})}if("dogsRight"===t){const{dogsRight:t=[]}=this.state;t.splice(e,1),this.setState({dogsRight:t,dogPositionUpdated:!0})}},this.clearAllDogs=async function(){const{object:e,type:s,elementtype:a,field:o,updateField:i,isNew:n}=t.props;await i({id:e.id,field:o,value:[],type:s,elementtype:a,isNew:n,skipTimer:!0}),t.resetDogPositions()},this.toggleSearchField=()=>{const{showSearchField:e}=this.state;this.setState({showSearchField:e?null:1})},this.getList=e=>this.state[e],this.onDragEnd=e=>{const{source:t,destination:s}=e;if(s)if(t.droppableId===s.droppableId){const e=((e,t,s)=>{const a=Array.from(e),[o]=a.splice(t,1);return a.splice(s,0,o),a})(this.getList(t.droppableId),t.index,s.index);this.setState({[t.droppableId]:e,dogPositionUpdated:!0})}else{const e=((e,t,s,a)=>{const o=Array.from(e),i=Array.from(t),[n]=o.splice(s.index,1);i.splice(a.index,0,n);const r={};return r[s.droppableId]=o,r[a.droppableId]=i,r})(this.getList(t.droppableId),this.getList(s.droppableId),t,s);this.setState({dogsLeft:e.dogsLeft,dogsRight:e.dogsRight,dogPositionUpdated:!0})}},this.updateDogPositions=async function(){const{dogsLeft:e=[],dogsRight:s=[]}=t.state,{object:a,updateField:o,isNew:i}=t.props;await o({id:a.id,field:"dogsLeft",value:e.map(e=>e.id),isNew:i,datatype:"array"}),await o({id:a.id,field:"dogsRight",value:s.map(e=>e.id),isNew:i,datatype:"array"}),t.setState({dogPositionUpdated:!1})},this.resetDogPositions=async function(){const{dogStore:e}=t.props.stores,{dogs:s=[]}=e,{object:a,updateField:o,isNew:i}=t.props,n=Object(h.i)(s).filter(e=>a.dogs.indexOf(e.id)>-1),r=Math.ceil(n.length/2),l=n.splice(0,r);await o({id:a.id,field:"dogsLeft",value:l.map(e=>e.id),isNew:i,datatype:"array"}),await o({id:a.id,field:"dogsRight",value:n.map(e=>e.id),isNew:i,datatype:"array"}),t.setState({dogsLeft:l,dogsRight:n,dogPositionUpdated:!1})},this.clearDogPositions=async function(){const{object:e,updateField:s,isNew:a}=t.props,o=[],i=[];await s({id:e.id,field:"dogsLeft",value:i,isNew:a,datatype:"array"}),await s({id:e.id,field:"dogsRight",value:o,isNew:a,datatype:"array"}),t.setState({dogsLeft:i,dogsRight:o,dogPositionUpdated:!1})},this.changeFilter=e=>{const t=e.target.value;this.setState({filterby:t}),c.a.set("dogs-filter",t),this.loadDog()},this.getFilteredDogs=(e=this.props)=>{const{filterby:t,filterText:s}=this.state,{object:a,filter:o=(()=>!0)}=e,{dogStore:i}=this.props.stores,{dogs:n=[]}=i;let r=o;if(a.dogs)switch(t){case"all":r=s?e=>e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1:()=>!0;break;case"onlySelected":r=s?e=>e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1:e=>a.dogs.indexOf(e.id)>-1;break;case"onlyTeam":r=s?e=>e.name.match(new RegExp(s,"i"))||a.dogs.indexOf(e.id)>-1:e=>a.team===e.team||a.dogs.indexOf(e.id)>-1;break;case"leadOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.lead.distanceKm")>0;break;case"pointOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.point.distanceKm")>0;break;case"teamOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.team.distanceKm")>0;break;case"wheelOnly":r=e=>a.dogs.indexOf(e.id)>-1||c.a.getNestedValue(e,"positions.wheel.distanceKm")>0}let l=n.filter(r);this.setState({filteredDogs:l})},this.state=i({dogsLeft:[],dogsRight:[]},j)}async loadDog(e=this.props){const{showPositions:t}=this.props,{dogStore:s}=e.stores;await s.load({query:{deceased:0},addData:["team","user","workoutSummary","vaccineStatuses","historyStatuses","vaccineLogStatuses","allDogs"]}),t&&this.dndDogs({}),this.getFilteredDogs()}componentWillReceiveProps(e){e.filter!==this.props.filter&&this.getFilteredDogs(e)}componentDidMount(){this.loadDog()}render(){const{filterby:t,filterText:s,showSearchField:a,dogsLeft:o=[],dogsRight:i=[],dogPositionUpdated:n,filteredDogs:r=[]}=this.state,{userStore:d,dogStore:m}=this.props.stores,{dogs:g=[]}=m,{user:j}=d,{language:v="en"}=j,{saved:y={},object:w,field:x,title:k,icon:S,help:D,showPositions:_=!1,currentTeam:P={}}=this.props,I=Object(h.i)(w[x])||[],T=this.findAllDogsInTeams(),C=w.teams?w.teams.map(e=>d.findTeam(e)):[];return Object(l.h)("div",{class:"form-group  mb-5 pb-1 border-bottom "+(y[`${x}.${w.id}`]?"is-valid":"")},Object(l.h)("span",{class:"float-right",onClick:this.toggleSearchField},Object(l.h)("i",{class:"fas fa-search"})),Object(l.h)("button",{class:"btn btn-sm btn-link float-right mr-5",onClick:this.clearAllDogs},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.remove-all-dogs"},"Fjern alle hundene")),Object(l.h)("label",{for:x+"Input"},S&&Object(l.h)("i",{class:S+" text-muted"})," ",k),Object(l.h)("div",{class:"container-fluid px-0"},a&&Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)(p.b,null,Object(l.h)("input",{class:"form-control form-control-sm",type:"text",placeholder:Object(l.h)(p.c,{id:"dog.dogs.search-for-dogs"},"Søk etter hund"),value:s,onInput:Object(u.a)(this,"filterText")})))),Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("div",{class:"form-row align-items-center"},Object(l.h)("div",{class:"col-auto my-2 mx-auto"},Object(l.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding-top: 0; padding-bottom: 0; height: 1.4em; font-size: 0.8em;",onInput:this.changeFilter},Object(l.h)("option",{value:"",selected:!t},"-- ",Object(l.h)(p.c,{id:"dog.dogs.choose-filter"},"Choose filter")," ---"),Object(l.h)("option",{value:"all",selected:"all"===t},Object(l.h)(p.c,{id:"dog.dogs.show-all"},"Vis alle")),Object(l.h)("option",{value:"onlySelected",selected:"onlySelected"===t},Object(l.h)(p.c,{id:"dog.dogs.show-only-selected"},"Vis kun valgte")),Object(l.h)("option",{value:"onlyTeam",selected:"onlyTeam"===t},Object(l.h)(p.c,{id:"dog.dogs.show-only-team-dogs"},"Vis kun hundene i teamet")),Object(l.h)("option",{value:"leadOnly",selected:"leadOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-lead-dogs-only"},"Vis kun lederhunder")),Object(l.h)("option",{value:"pointOnly",selected:"pointOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-point-dogs-only"},"Vis kun pointhunder")),Object(l.h)("option",{value:"teamOnly",selected:"teamOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-team-dogs-only"},"Vis kun teamhunder")),Object(l.h)("option",{value:"wheelOnly",selected:"wheelOnly"===t},Object(l.h)(p.c,{id:"dog.dogs.show-wheel-dogs-only"},"Vis kun wheelhunder"))))))),Object(l.h)("div",{class:"row"},T.length>0&&Object(l.h)(e,null,Object(l.h)("button",{class:"btn btn-primary btn-block",onClick:this.addAllDogsInTeam},Object(l.h)("i",{class:"fas fa-plus mr-2"})," ",Object(l.h)(p.c,{id:"dog.dogs.add-all-in-team",fields:{total:T.length}},"Add all dogs in team"),P.name?": "+P.name:"",C&&C.length>0&&Object(l.h)("span",{class:"font-weight-lighter"},", ",C.map((t,s)=>Object(l.h)(e,null,s>0?", ":"",t))))),c.a.isArray(g)&&r.map(e=>{const s=d.findDogstatus({status:e.status,language:v}),a=d.findDogposition({position:e.position,language:v}),o=m.findHistoryStatuses(e.id);return Object(l.h)("div",{class:"col-6 col-sm-6 col-md-6 col-lg-6 mb-1"},Object(l.h)("div",{class:`border rounded px-3 pt-2 pb-1 ${I.indexOf(e.id)>-1?"bg-success":""} position-relative`,onClick:this.toggleDog,id:"dogContainer","data-id":e.id,style:"padding: .3rem !important; line-height: 1.1em; cursor: pointer; pointer-events: inherit;"},a&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:`badge badge-${a.class||"primary"} mr-3`},a.icon&&Object(l.h)("i",{class:a.icon})," ",a.name)),"leadOnly"===t&&c.a.getNestedValue(e,"positions.lead.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-lead"},"Lead"),": ",c.a.format(c.a.getNestedValue(e,"positions.lead.distanceKm"),0),"km")),"pointOnly"===t&&c.a.getNestedValue(e,"positions.point.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-point"},"Point"),": ",c.a.format(c.a.getNestedValue(e,"positions.point.distanceKm"),0),"km")),"teamOnly"===t&&c.a.getNestedValue(e,"positions.team.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-team"},"Team"),": ",c.a.format(c.a.getNestedValue(e,"positions.team.distanceKm"),0),"km")),"wheelOnly"===t&&c.a.getNestedValue(e,"positions.wheel.distanceKm")>0&&Object(l.h)("small",{class:"position-absolute",style:"left:5px; top: 32px;"},Object(l.h)("span",{class:"badge badge-secondary mr-3"},Object(l.h)(p.c,{id:"dogs.sort-wheel"},"Wheel"),": ",c.a.format(c.a.getNestedValue(e,"positions.wheel.distanceKm"),0),"km")),Object(l.h)("div",{class:"d-flex"},Object(l.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall text-muted pt-2",style:""+(e.image?`background-image: url("${e.image.s3ThumbLink}");`:"")},!e.image&&Object(l.h)("span",{class:"font-weight-lighter",style:"font-size: 20px;"},c.a.ucfirst(e.name,!0))),Object(l.h)("div",{class:"flex-grow-1 pl-2 pr-1",style:`border-right: 4px solid ${d.findHarness(e.harness,"colorNonstop")} !important; line-height: 0.9em;`},Object(l.h)("small",null,Object(l.h)("small",{class:"float-right"},e.birth&&Object(l.h)("span",{class:"mr-1"},c.a.age(e.birth,e.deceased)),"female"===e.gender?Object(l.h)("i",{class:"fas fa-venus"}):Object(l.h)("i",{class:"fas fa-mars"})),e.shortname||e.name,Object(l.h)("br",null),Object(l.h)("div",{style:"line-height: 0.8em;"},Object(l.h)("small",null,d.findTeam(e.team)))),Object(l.h)("small",{class:"float-right"},s&&s.id&&Object(l.h)("span",{class:`badge badge-${s.class} mr-2 font-weight-light`},s.icon&&Object(l.h)("i",{class:s.icon})," ",s.name),e.specialNeeds&&Object(l.h)("span",{class:"badge badge-warning mr-2 font-weight-light"},Object(l.h)("i",{class:"fas fa-exclamation-triangle"})," ",e.specialNeeds),o&&o.map(e=>Object(l.h)("span",{class:"badge badge-warning mr-2",title:c.a.isoDate(e.endDate,!1,!1,!0)},e.title)))))))}))),y[`${x}.${w.id}`]?Object(l.h)("div",{class:"valid-feedback",style:"display: block;"},Object(l.h)(p.c,{id:"dog.dogs.saved-changes"},"Endringene er lagret")):Object(l.h)("small",{id:x+"Help",class:"form-text text-muted"},D),_&&Object(l.h)(e,null,Object(l.h)("div",{class:"container-fluid px-0 clearfix"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",null,Object(l.h)(p.c,{id:"dog.dogs.dogs-positions"},"Posisjoner i spannet")))),Object(l.h)(b.a,{onDragEnd:this.onDragEnd},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6 pr-0",style:"min-height: 100px;"},Object(l.h)(b.c,{droppableId:"dogsLeft"},(e,t)=>Object(l.h)(f,{provided:e,snapshot:t,innerRef:e.innerRef,className:"ml-auto"},o&&o.map((e,s)=>Object(l.h)(b.b,{key:`${e.id}-${e.unique}`,draggableId:`dragId-${e.id}-${e.unique}`,index:s},a=>Object(l.h)(O,{provided:a,snapshot:t,innerRef:a.innerRef,dog:e,removePlaceholder:this.removePlaceholder,idx:s,list:"dogsLeft"}))),e.placeholder))),Object(l.h)("div",{class:"col-6 pl-0",style:"min-height: 100px;"},Object(l.h)(b.c,{droppableId:"dogsRight"},(e,t)=>Object(l.h)(f,{provided:e,snapshot:t,innerRef:e.innerRef,className:"mr-auto"},i&&i.map((e,s)=>Object(l.h)(b.b,{key:`${e.id}-${e.unique}`,draggableId:`dragId-${e.id}-${e.unique}`,index:s},a=>Object(l.h)(O,{provided:a,snapshot:t,innerRef:a.innerRef,dog:e,removePlaceholder:this.removePlaceholder,idx:s,list:"dogsRight"}))),e.placeholder))))),Object(l.h)("div",{class:"row mb-3 mt-2"},Object(l.h)("div",{class:"col-6 pr-0"},Object(l.h)("button",{class:"btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderLeft},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))),Object(l.h)("div",{class:"col-6 pl-0"},Object(l.h)("button",{class:"float-right btn btn-sm btn-outline-secondary",onClick:this.addPlaceholderRight},Object(l.h)("i",{class:"fas fa-plus-circle"})," ",Object(l.h)(p.c,{id:"dog.dogs.addplaceholder"},"Add placeholder"))))),Object(l.h)("div",{class:"container-fluid px-0"},Object(l.h)("div",{class:"row"},Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"btn btn-sm btn-"+(n?"primary":"secondary"),onClick:this.updateDogPositions},Object(l.h)("i",{class:"fas fa-save"})," ",Object(l.h)(p.c,{id:"dog.dogs.saveDogPositions"},"Save dog positions"))),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-warning",onClick:this.resetDogPositions},Object(l.h)("i",{class:"fas fa-sync"})," ",Object(l.h)(p.c,{id:"dog.dogs.resetDogPositions"},"Reset dog positions")))),Object(l.h)("div",{class:"row mt-2"},Object(l.h)("div",{class:"col-6"}," "),Object(l.h)("div",{class:"col-6"},Object(l.h)("button",{class:"float-right btn btn-sm btn-link",onClick:this.clearDogPositions},Object(l.h)("i",{class:"fas fa-eraser"})," ",Object(l.h)(p.c,{id:"dog.dogs.clearDogPositions"},"Clear dog positions")))))))}})||r;t.a=v}).call(this,s("hosL").Fragment)},"3pQw":function(e,t,s){"use strict";var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV");Object(n.a)(a=class extends o.Component{render(){const{summary:e={}}=this.props;return Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded"},Object(o.h)("div",{class:"text-muted mt-2",style:"font-size: 40px; line-height: 1;"},e.week),Object(o.h)("div",{class:"text-muted",style:"font-size: 10px; line-height: 0.8em;"},e.year)),Object(o.h)("div",{class:"flex-grow-1 pl-3"},Object(o.h)("h5",{class:"my-0"},e.week," - ",e.year),Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-wave-square"})," ",e.count,Object(o.h)("i",{class:"fas fa-road ml-2"})," ",i.a.format(e.distanceKm,0),"km",Object(o.h)("i",{class:"fas fa-mountain ml-2"})," ",i.a.format(e.elevation,0),"m",Object(o.h)("i",{class:"fas fa-stopwatch ml-2"})," ",i.a.secToHms(e.duration),Object(o.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",i.a.format(e.speedAvg,1),"km/t")))))}})},"3wGD":function(e,t,s){"use strict";var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("go65"),c=(s("ETxl"),s("ZOvn"));let d=Object(n.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.commentWorkout=async function(){const{sendButtonEnabled:e}=t.state;if(!e)return!1;const{callback:s=(()=>{}),commentId:a,inputRefObject:o={}}=t.props,{workout:i}=t.props,{workoutStore:n}=t.props.stores,{comment:r=""}=t.state;t.setState({sendButtonEnabled:!1});const l=await n.commentReplyWorkout({id:i.id,commentId:a,comment:r});l&&200===l.status&&(t.setState({comment:""},()=>{c.a.resizeTextarea(o[a])}),s({workout:i,response:l,commentId:a})),t.setState({sendButtonEnabled:!0})},this.state={sendButtonEnabled:!0},this.inputRef={}}render(){const{inputRef:e}=this.props,{comment:t,sendButtonEnabled:s}=this.state,{userStore:a}=this.props.stores,{user:n={}}=a,d=n.firstname?`${i.a.ucfirst(n.firstname,!0)}${i.a.ucfirst(n.lastname,!0)}`:""+i.a.ucfirst(n.email||"",!0),h=n.image||(n.images?n.images[0]:void 0);return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex mb-0 position-relative w-100"},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(h?`background-image: url('${h.s3SmallLink}'); background-size: cover;`:"")+" border-width: 3px !important;"},!h&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},d)),Object(o.h)("div",{class:"col pl-3",style:"line-height: 1.2em;"},Object(o.h)("div",{class:"d-flex bd-highlight"},Object(o.h)("div",{class:"p-0 w-100 bd-highlight"},Object(o.h)("label",{class:"sr-only",for:"inlineFormInput"},Object(o.h)(r.c,{id:"comments.comment"},"Kommentar")),Object(o.h)("div",{class:"border rounded rounded-lg position-relative"},Object(o.h)(r.b,null,Object(o.h)("textarea",{class:"form-control-plaintext px-2",type:"text",placeholder:Object(o.h)(r.c,{id:"comments.write-comment"},"Skriv en kommentar..."),onInput:Object(l.a)(this,"comment"),onKeyUp:c.a.resizeTextarea,style:"height: 2.3em;",value:t,ref:e})))),Object(o.h)("div",{class:"p-0 pl-2 flex-shrink-1 bd-highlight"},Object(o.h)("button",{type:"button",class:`btn btn-${s?"primary":"secondary"} mb-2`,disabled:!s,onClick:this.commentWorkout},Object(o.h)("i",{class:"fas fa-paper-plane"})))))))}})||a;t.a=d},"7L9N":function(e,t,s){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}s.d(t,"a",(function(){return o}))},"7g1v":function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=(s("cneo"),s("OhSV")),l=s("wanP"),c=s("ZOvn");let d=Object(n.a)(a=class extends o.Component{render(){const{dog:t,showWorkout:s,showInfo:a,hideTeam:n=!1,fullWidth:d=!1,daysBack:h=7,filterBy:u=""}=this.props,{userStore:p,dogStore:b,workoutPlanStore:m}=this.props.stores;if(!t)return"";const{user:g}=p,{language:f="en"}=g,O=p.findDogstatus({status:t.status,language:f}),j=t.statuses?t.statuses.map(e=>p.findDogstatus({status:e,language:f})):[],v=p.findDogposition({position:t.position,language:f}),y=b.findCurrentWorkoutSummary(t.id)||{},w=i.a.getWeek(new Date),x=i.a.getYear(),k=(new Date).getMonth()+1,S=parseInt(k<8?x-1:x,10),{week:D=w,year:_=S}=this.props,P=m.sumWorkoutPlanDaysBack(parseInt(_,10),parseInt(D,10),h)||0,I=i.a.format(y.distanceKm||0,0),T=c.a.hasBirthday(t.birth);let C=!1,L=0;return I&&P&&(L=I/P*100,C=!0),Object(o.h)("div",{class:`${d?"":"col-4"} mb-3 ${C?"mt-2":""} position-relative`},Object(o.h)("div",{class:"text-center border border-secondary rounded-circle imageRounded mx-auto text-muted pt-2 position-relative",style:(t.image?`background-image: url("${t.image.s3SmallLink}"); background-size: cover;`:"")+" border-width: 2px !important;"},!t.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(t.name,!0)),C&&Object(o.h)("div",{class:"position-absolute",style:"top: -12px; left: -12px;"},Object(o.h)(l.a,{key:"gauge-"+L,radius:48,heightAdd:15,showPercentText:!1,percent:L,prefix:"%",total:P+" km",totalY:"95%",completed:I+" km",completedY:"85%"}))),Object(o.h)("div",{class:""+(C?"mt-4":""),style:"line-height: 1.0em;"},Object(o.h)("small",null,Object(o.h)("span",{class:"float-right"},t.birth&&Object(o.h)("span",{class:"mr-2"},i.a.age(t.birth,t.deceased)),"female"===t.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"})),Object(o.h)("a",{class:"stretched-link",href:"/dogs/"+t.id},Object(o.h)("h5",{class:"mb-1 font-weight-light",style:"line-height: 1.0em; font-size: 1.3em;"},t.shortname||t.name,T&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))),!n&&Object(o.h)(e,null,Object(o.h)("span",{class:"font-weight-light"},p.findTeam(t.team)),Object(o.h)("br",null))),u&&t.positions&&t.positions.lead&&Object(o.h)("div",{class:""},"leadOnly"===u&&t.positions.lead.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(r.c,{id:"dogs.sort-lead"},"Lead"),":")," ",i.a.format(t.positions.lead.distanceKm,0)," km"),"pointOnly"===u&&t.positions.point.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(r.c,{id:"dogs.sort-point"},"Point"),":")," ",i.a.format(t.positions.point.distanceKm,0)," km"),"teamOnly"===u&&t.positions.team.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(r.c,{id:"dogs.sort-team"},"Team"),":")," ",i.a.format(t.positions.team.distanceKm,0)," km"),"wheelOnly"===u&&t.positions.wheel.distanceKm>0&&Object(o.h)("span",{class:"badge badge-success mr-2"},Object(o.h)("span",null,Object(o.h)(r.c,{id:"dogs.sort-wheel"},"Wheel"),":")," ",i.a.format(t.positions.wheel.distanceKm,0)," km")),Object(o.h)("small",null,s&&Object(o.h)("small",{class:"text-muted"},y&&y.distanceKm>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-road"})," ",i.a.format(y.distanceKm,0),"km"),y&&y.elevation>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-mountain"})," ",i.a.format(y.elevation,0),"m"),y&&y.duration>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-clock"})," ",i.a.secToHms(y.duration,!0)),y&&y.speedAvg>0&&Object(o.h)("span",{class:"mr-2"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," ",i.a.format(y.speedAvg,1),"km/t")),a&&Object(o.h)("small",{class:"text-muted"},t.weight&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",i.a.format(t.weight,1)," kg"),t.bodyScore&&Object(o.h)(e,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",i.a.format(t.bodyScore,1))),Object(o.h)("div",{class:"clearfix pb-0 pt-1"},v&&v.class&&Object(o.h)("span",{class:`badge badge-${v.class||"primary"} mr-2`},v.icon&&Object(o.h)("i",{class:v.icon})," ",v.name),t.specialNeeds&&Object(o.h)("span",{class:"badge badge-warning mr-2"},Object(o.h)("i",{class:"fas fa-exclamation-triangle"})," ",t.specialNeeds),O&&O.class&&Object(o.h)("span",{class:`badge badge-${O.class} mr-2 mt-1`},O.icon&&Object(o.h)("i",{class:O.icon})," ",O.name),j&&j.map(t=>Object(o.h)(e,null,t&&t.class&&Object(o.h)("span",{class:`badge badge-${t.class} mr-2 mt-1`},t.icon&&Object(o.h)("i",{class:t.icon})," ",t.name)))))))}})||a;t.a=d}).call(this,s("hosL").Fragment)},"8Lgr":function(e,t,s){"use strict";(function(e){function a(e){return n.a.format(e,e<5?2:1)}var o,i=s("hosL"),n=s("Utv1"),r=s("/eY4");s("OhSV"),s("ZOvn");let l=Object(r.a)(o=class extends i.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:o}=this.props.stores,{user:n}=o,{settings:r={}}=n;return r.imperial?Object(i.h)(e,null,Object(i.h)("nobr",null,a(function(e){return.621371*e}(t))," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(i.h)(e,null,"mi"))):Object(i.h)(e,null,Object(i.h)("nobr",null,a(t)," ",s?Object(i.h)(e,null,Object(i.h)("small",null,Object(i.h)("small",null,Object(i.h)("small",{class:"ml-0 text-muted"},"km")))):Object(i.h)(e,null,"km")))}})||o;t.a=l}).call(this,s("hosL").Fragment)},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},ETxl:function(e){e.exports={hoverelementonly:"hoverelementonly__1mJGJ",hoverElement:"hoverElement__axh3O",hoverelementhide:"hoverelementhide__1k_qH","progress-bar-vertical":"progress-bar-vertical__1B2sC","progress-bar":"progress-bar__pnsVj",dragged:"dragged__QXO46",over:"over__1re3x",list:"list__q_emZ"}},GeWT:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,n=Object.getOwnPropertyDescriptor,r=Object.getPrototypeOf,l=r&&r(Object);e.exports=function e(c,d,h){if("string"!=typeof d){if(l){var u=r(d);u&&u!==l&&e(c,u,h)}var p=o(d);i&&(p=p.concat(i(d)));for(var b=0;b<p.length;++b){var m=p[b];if(!(t[m]||s[m]||h&&h[m])){var g=n(d,m);try{a(c,m,g)}catch(e){}}}return c}return c}},"JWe/":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n(e){switch(e.type){case 1:return"border-primary";case 2:return"border-danger";case 3:return"border-success";case 4:return"border-info";default:return"border-warning"}}function r(e){switch(e.type){case 1:return"fas fa-running";case 2:return"fas fa-flag-checkered";case 3:return"fas fa-hiking";case 4:return"fas fa-futbol";default:return"fas fa-hiking"}}var l,c=s("hosL"),d=s("Utv1"),h=s("/eY4"),u=s("cneo"),p=s("OhSV"),b=s("fh8t"),m=s.n(b),g=(s("UJvz"),s("sqi2")),f=s("/922"),O=s("s4FZ"),j=s("ZQlJ"),v=s("q/oJ"),y=s("gWxU"),w=s("Nanz"),x=s("+JSK"),k=s("vY+r"),S=s("nHdA"),D=s("irB3"),_=s("UwwE"),P=s("8Lgr"),I=s("QkTp"),T=s("ZOvn");const C=T.a.getMaxLoadIndex(),L={showAddComment:!1,viewImageIdx:{},likeWorkout:{}};let R=Object(h.a)(l=class extends c.Component{constructor(e){var t;super(e),t=this,this.toggleDate=e=>{e.stopPropagation(),e.preventDefault();const{showDate:t}=this.state;this.setState({showDate:!t})},this.likeWorkout=async function(){const{workoutStore:e}=t.props.stores,{workout:s}=t.props,a=s.id,{likeWorkout:o}=t.state;o[a]=!0,t.setState({likeWorkout:o}),setTimeout(()=>{const{likeWorkout:e}=t.state;delete e[a],t.setState({likeWorkout:e})},1200);await e.likeWorkout({id:a})},this.toggleAddComment=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[t]&&this.inputRef[t].focus()})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.shareLink=e=>{const{url:t,title:s,text:a}=e.target.closest("button").dataset,{appState:o}=this.props.stores;o.shareUrl({url:t,title:s,text:a})},this.onTeamClick=(e,t)=>(e.preventDefault(),e.stopPropagation(),this.setState({showTeam:t}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=e=>(e.preventDefault(),e.stopPropagation(),!1),this.onDogClick=(e,t,s)=>(e.preventDefault(),e.stopPropagation(),this.setState({showDog:t,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.state=o({},L),this.updateTimer={},this.inputRef={}}render(){const{showDate:t,showAddComment:s,viewImageIdx:a={},likeWorkout:i,dogs:l,showTeam:h,showDog:b}=this.state,{workout:L,showDate:R,wrapperClasses:E="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3",wrapperClassesRow:U="row"}=this.props,{userStore:A,appState:$,workoutStore:N}=this.props.stores,{viewmode:F,hasShareApi:V}=$,{user:H,dogs:z}=A,{language:B="en"}=H,M=A.findIntensity({code:L.intensity,language:B})||{},W=A.findTeam(L.team,!0)||{},Y=W.name,K=[];Y&&K.push(Y),L.teams&&L.teams.forEach(e=>{A.findTeam(e)&&K.push(A.findTeam(e))});const{likes:X=[],comments:q=[]}=L,Z=L.likes&&L.likes.findIndex(e=>e.user===H.id)>-1,{gpxInfo:J={},mushers:G=[]}=L,{loadIndex:Q=0}=J,ee=A.findEquipment({equipment:L.equipment,language:B}),te=A.findEquipment({equipment:L.equipment,field:"icon"}),se=[];G.length>1&&G.slice(1,10).map(e=>{const t=N.findPublicUser(e)||{};t.images&&t.images[0]&&se.push(t.images[0])});const ae=N.findPublicUser(G[0])||{};let oe;ae&&ae.images&&ae.images[0]?oe=ae.images[0]:W.image&&W.image.s3SmallLink?oe=W.image:W.images&&W.images[0]&&W.images[0].s3SmallLink?oe=W.images[0]:L.image&&L.image.s3SmallLink&&(oe=L.image);const ie=[];if(L.mapImage&&ie.push(o(o({},L.mapImage),{},{type:"map"})),L.images){const e=Object(u.i)(L.images);ie.push(...e)}let ne;L&&L.gpxInfo&&L.gpxInfo.battegryLevelStart&&(ne=100*(L.gpxInfo.battegryLevelStart-L.gpxInfo.battegryLevelEnd));const re=T.a.getViews(L.statistics);return Object(c.h)(e,null,h&&Object(c.h)(v.a,null,Object(c.h)(y.default,{stores:this.props.stores,teamid:h,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),b&&Object(c.h)(v.a,null,Object(c.h)(w.default,{stores:this.props.stores,dogid:b,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:l})),Object(c.h)("div",{class:"w-100 mb-2"},Object(c.h)("div",{class:U},Object(c.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center"},Object(c.h)("div",{class:"position-relative text-center border rounded-circle imageRounded "+n(L),style:(oe?`background-image: url("${oe.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!oe&&Object(c.h)("i",{class:`${r(L)} text-${M.class?M.class:"muted"} mt-3`,style:"font-size: 40px;"}),se&&se.map((t,s)=>Object(c.h)(e,null,Object(c.h)("div",{class:"position-absolute rounded-circle imageRounded border imageRoundedThumb border-white",style:`\n                                            background-image: url("${t.s3SmallLink}");\n                                            background-size: cover;\n                                            bottom: -3px;\n                                            left: ${10*s-5}px;\n                                        `})))),0!==L.temperature&&Object(c.h)(e,null,Object(c.h)("span",{class:"text-muted font-weight-light"},Object(c.h)(I.a,{stores:this.props.stores,value:L.temperature})))),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("span",{class:"float-right"},1===L.isLocked&&Object(c.h)("i",{class:"fas fa-lock text-danger ml-3"}),1===L.isInProgress&&Object(c.h)("div",{class:"spinner-grow text-success ml-3",role:"status"}),2===L.isInProgress&&Object(c.h)("i",{class:"fas fa-pause-circle text-warning ml-3"})),Object(c.h)("a",{class:"stretched-link",href:"/workouts/"+L.id},Object(c.h)("h5",{class:"my-0 mb-1",style:"line-height: 1.0em;"},L.name)),K&&K.length>0&&Object(c.h)("small",{class:"font-weight-lighter"},K.map((t,s)=>Object(c.h)(e,null,s>0?", ":"",t))),Object(c.h)("br",null),Object(c.h)("small",{class:"text-muted"},L.date&&Object(c.h)("small",{onClick:this.toggleDate},R||t?d.a.formatDate(L.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):d.a.formatDistance(L.date,new Date,{locale:"no-NB"})),Object(c.h)("span",{class:`badge badge-${M.class} ml-2`},M.name),Q>0&&Object(c.h)("span",{class:"ml-2 text-"+T.a.getLoadIndexColor(d.a.normalizeBetween(Q,0,C,0,100))},Object(c.h)("i",{class:"fas fa-hand-rock mr-1"}),Math.floor(d.a.normalizeBetween(Q,0,C,0,100))," - ",T.a.getLoadIndexText(d.a.normalizeBetween(Q,0,C,0,100))),Object(c.h)("br",null)),Object(c.h)("small",null,Object(c.h)("div",{class:"text-muted"},L.garminId>0&&Object(c.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/garmin-connect.png");'}),L.stravaId>0&&Object(c.h)("div",{class:"float-left mr-2 text-center border rounded-circle imageRounded imageRoundedIcon",style:'background-image: url("./assets/strava-icon.png");'}),L.equipment>0&&Object(c.h)(e,null,Object(c.h)("i",{class:te+" ml-2"})," ",ee),L.dogs>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-dog ml-2"})," ",L.dogs.length),L.track>0&&Object(c.h)(e,null,Object(c.h)("i",{class:`fas fa-map-marked text-${L.track>0?"success":"danger"} ml-2`})),L.dogsLeft>0&&Object(c.h)(e,null,Object(c.h)("i",{class:`fas fa-crosshairs text-${L.dogsLeft&&L.dogsRight?"success":"danger"} ml-2`})),L.sledWeight>0&&Object(c.h)(e,null,Object(c.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.sledWeight})),ne>0&&Object(c.h)("span",{class:"text-muted ml-2"},Object(c.h)("i",{class:"fas fa-battery-three-quarters"})," ",d.a.format(ne,1),"% ",Object(c.h)(p.c,{id:"workout.battery-used"},"used"))),["beta","advanced"].indexOf(F)>-1&&Object(c.h)("span",{class:"text-muted"},Object(c.h)("i",{class:"fas fa-balance-scale"})," ",d.a.format(L.kcalBurnedTotal)," ",Object(c.h)(p.c,{id:"workout.kcal"},"kcal"),Object(c.h)("i",{class:"fas fa-drumstick-bite ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.kcalMeatGramsTotal/1e3}),Object(c.h)("i",{class:"fas fa-fish ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.kcalSalmonGramsTotal/1e3}),Object(c.h)("i",{class:"fas fa-piggy-bank ml-2"})," ",Object(c.h)(_.a,{stores:this.props.stores,value:L.kcalFatGramsTotal/1e3}))))),Object(c.h)("div",{class:E+" position-relative mt-2"},Object(c.h)("strong",null,L.description)),Object(c.h)("div",{class:E+" position-relative"},Object(c.h)(m.a,{markdown:T.a.replaceImages(L.comment,L.images,B),markdownOpts:T.a.getMarkdownOptions()})),Object(c.h)("div",{class:E+" d-flex mb-0 position-relative"},Object(c.h)("div",{class:"container-fluid px-0"},Object(c.h)("div",{class:"row mt-1"},L.distanceKm>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-road"})," ",Object(c.h)(p.c,{id:"workout.calendar.distance"},"Distanse"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(c.h)(P.a,{stores:this.props.stores,value:L.distanceKm}))),L.elevation>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-mountain"})," ",Object(c.h)(p.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(c.h)(D.a,{stores:this.props.stores,value:L.elevation}))),L.duration>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-clock"})," ",Object(c.h)(p.c,{id:"workout.calendar.duration"},"Varighet"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},d.a.secToHms(L.duration,!0))),L.speedAvg>0&&Object(c.h)("div",{class:"col-3"},Object(c.h)("div",{class:"text-overflow"},Object(c.h)("small",null,Object(c.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(c.h)(p.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(c.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},L.gpxInfo&&L.gpxInfo.avgGpsMovingSpeed>0?Object(c.h)(e,null,Object(c.h)(S.a,{stores:this.props.stores,value:3.6*L.gpxInfo.avgGpsMovingSpeed})):Object(c.h)(e,null,Object(c.h)(S.a,{stores:this.props.stores,value:L.speedAvg}))))))),["beta","advanced","normal"].indexOf(F)>-1&&Object(c.h)("div",{class:""+E},Object(c.h)("div",{class:"container-fluid px-0 mt-1"},Object(c.h)("div",{class:"row"},Object(c.h)(O.a,{stores:this.props.stores,images:ie,id:L.id,dblClick:this.likeWorkout,likeRef:i})))),["beta","advanced","normal"].indexOf(F)>-1&&Object(c.h)(e,null,L.dogs&&L.dogs.length>0&&Object(c.h)("div",{class:"container-fluid px-0 mt-1"},Object(c.h)("div",{class:"row pt-2"},Object(c.h)(j.a,{stores:this.props.stores,dogs:L.dogs,allDogs:z,onDogClick:this.onDogClick}))),Object(c.h)("div",{class:"mt-2"},Object(c.h)(x.a,{stores:this.props.stores,likes:X,comments:q,type:"workout",onTeamClick:this.onTeamClick,onUserClick:this.onUserClick}))),["beta","advanced","normal"].indexOf(F)>-1&&Object(c.h)(e,null,Object(c.h)("div",{class:E+" mb-0 position-relative mt-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:`btn btn-sm btn-outline-${Z?"primary":"secondary"} btn-lg btn-block ${Z?"text-primary":""}`,onClick:this.likeWorkout},Object(c.h)("i",{class:(Z?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(c.h)(p.c,{id:"comments.like"},"Lik"))),Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":L.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," ",Object(c.h)(p.c,{id:"comments.comment-add"},"Kommentar"))),V?Object(c.h)(e,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+L.uuidv4,"data-title":"title: "+L.name},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(p.c,{id:"workout.share"},"Del")))):Object(c.h)(e,null,Object(c.h)("div",{class:"col text-center"},Object(c.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+L.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(c.h)("i",{class:"fas fa-share"})," ",Object(c.h)(p.c,{id:"workout.share"},"Del")))))),Object(c.h)("div",{class:E+" mt-2 mb-3"},s&&Object(c.h)(f.a,{stores:this.props.stores,workout:L,inputRef:e=>this.inputRef[L.id]=e,inputRefObject:this.inputRef,col:"12",offset:"0"}),Object(c.h)(g.a,{stores:this.props.stores,workout:L,col:"10",offset:"2",compact:!0})),re>0&&Object(c.h)(e,null,Object(c.h)("div",{class:"mt-2"},Object(c.h)(k.a,{stores:this.props.stores,views:re,object:L,type:"workout",isTeamAdmin:!0,isAdmin:!1,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick})))))))}})||l;t.a=R}).call(this,s("hosL").Fragment)},NS33:function(e,t,s){"use strict";function a(){}function o(){}var i=s("E02R");o.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,o,n){if(n!==i){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return s.PropTypes=s,s}},QkTp:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends o.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:n={}}=a;return n.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(function(e){return 9*e/5+32}(t),0),"°F")):Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(t,1),"°C"))}})||a;t.a=r}).call(this,s("hosL").Fragment)},UJvz:function(e,t,s){"use strict";var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV");let l=Object(n.a)(a=class extends o.Component{constructor(...e){super(...e),this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{e.stopPropagation(),this.setState({startY:e.touches[0].pageY})},this.touchEnd=e=>{e.stopPropagation(),this.setState({startY:void 0,readyToRefresh:!1})},this.touchMove=e=>{e.stopPropagation();const{close:t}=this.props,{startY:s,refreshing:a}=this.state,o=e.touches[0].pageY;if(this.appContainer){const{scrollTop:e}=this.appContainer;0===e&&o>s+30&&!a&&t()}}}render(){const{showDate:e}=this.state,{image:t,imagexxl:s,close:a,thumb:n,name:l,title:c,date:d}=this.props;return Object(o.h)("div",{class:"fixed-top bg-dark text-center pt-2",style:"width: 100vw; height: 100vh;"},Object(o.h)("button",{class:"btn btn-secondary float-right mr-2",onClick:a},"X"),Object(o.h)("div",{class:"d-flex mb-2 px-2"},n&&Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:n?`background-image: url("${n}");`:""}," "),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2 text-left",style:"line-height: 1.3em;"},l&&Object(o.h)("strong",{class:"mr-2"},l,":"),c,Object(o.h)("br",null),Object(o.h)("small",{class:"text-muted"},d&&Object(o.h)("small",{onClick:this.toggleDate},e?i.a.formatDate(d,{locale:"no-NB"}):i.a.formatDistance(d,new Date,{locale:"no-NB"}))))),Object(o.h)("img",{src:t,class:"img-fluid align-middle mt-2 mb-2",onClick:a,onTouchstart:this.touchStart,onTouchend:this.touchEnd,onTouchmove:this.touchMove,ref:e=>this.appContainer=e}),Object(o.h)("a",{target:"_blank",rel:"noopener noreferrer",href:s||t,download:s||t},Object(o.h)("i",{class:"fas fa-download"})," ",Object(o.h)(r.c,{id:"modal.download"},"Last ned bildet")))}})||a;t.a=l},UwwE:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends o.Component{render(){const{value:t=0}=this.props,{userStore:s}=this.props.stores,{user:a}=s,{settings:n={}}=a;return n.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(function(e){return 2.20462*e}(t),0)," lb")):Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(t,0)," kg"))}})||a;t.a=r}).call(this,s("hosL").Fragment)},W0B4:function(e,t,s){e.exports=s("NS33")()},ZQlJ:function(e,t,s){"use strict";var a,o=s("hosL"),i=(s("Utv1"),s("/eY4")),n=(s("OhSV"),s("NDEG"));let r=Object(i.a)(a=class extends o.Component{constructor(e){super(e),this.scrollImages=e=>{const{scrollLeft:t,clientWidth:s}=e.target,a=t/s,o=Math.round(a),i=Math.abs(o-a);(Number.isInteger(a)||i<.1)&&this.setState({imageIdx:o})},this.sortByName=(e,t)=>{const{allDogs:s=[]}=this.props,a=s.find(t=>t.id===e),o=s.find(e=>e.id===t);return a&&o&&a.name>o.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:e,allDogs:t=[],size:s="medium",onDogClick:a=(()=>{})}=this.props;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},e&&e.sort(this.sortByName).map(i=>{const r=t.find(e=>e.id===i);return r?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:e=>{e.stopPropagation()},onTouchend:e=>{e.stopPropagation()},onTouchmove:e=>{e.stopPropagation()}},Object(o.h)(n.a,{stores:this.props.stores,dog:r,dogs:t.filter(t=>e.indexOf(t.id)>-1).sort((e,t)=>e.name>t.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:a}))):""})))}})||a;t.a=r},eK6s:function(e){e.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},irB3:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4");s("OhSV"),s("ZOvn");let r=Object(n.a)(a=class extends o.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:r={}}=n;return r.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(function(e){return 3.28084*e}(t),0)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(e,null,"ft"))):Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(t,0)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(e,null,"m")))}})||a;t.a=r}).call(this,s("hosL").Fragment)},l8WD:function(e,t,s){"use strict";function a(e,t){for(var s in t)e[s]=t[s];return e}function o(e,t){for(var s in e)if("__source"!==s&&!(s in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function i(e){this.props=e}function n(e,t){function s(e){var s=this.props.ref,a=s==e.ref;return!a&&s&&(s.call?s(null):s.current=null),t?!t(this.props,e)||!a:o(this.props,e)}function a(t){return this.shouldComponentUpdate=s,Object(P.createElement)(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}function r(e){function t(t,s){var o=a({},t);return delete o.ref,e(o,(s=t.ref||s)&&("object"!=typeof s||"current"in s)?s:null)}return t.$$typeof=T,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function l(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=a({},e)).__c=null,e.__k=e.__k&&e.__k.map(l)),e}function c(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(c)),e}function d(){this.__u=0,this.t=null,this.__b=null}function h(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function u(e){function t(t){if(s||(s=e()).then((function(e){a=e.default||e}),(function(e){o=e})),o)throw o;if(!a)throw s;return Object(P.createElement)(a,t)}var s,a,o;return t.displayName="Lazy",t.__f=!0,t}function p(){this.u=null,this.o=null}function b(e){return this.getChildContext=function(){return e.context},e.children}function m(e){var t=this,s=e.i;t.componentWillUnmount=function(){Object(P.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==s&&t.componentWillUnmount(),e.__v?(t.l||(t.i=s,t.l={nodeType:1,parentNode:s,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(P.render)(Object(P.createElement)(b,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function g(e,t){return Object(P.createElement)(m,{__v:e,i:t})}function f(e,t,s){return null==t.__k&&(t.textContent=""),Object(P.render)(e,t),"function"==typeof s&&s(),e?e.__c:null}function O(e,t,s){return Object(P.hydrate)(e,t),"function"==typeof s&&s(),e?e.__c:null}function j(){}function v(){return this.cancelBubble}function y(){return this.defaultPrevented}function w(e){return P.createElement.bind(null,e)}function x(e){return!!e&&e.$$typeof===U}function k(e){return x(e)?P.cloneElement.apply(null,arguments):e}function S(e){return!!e.__k&&(Object(P.render)(null,e),!0)}function D(e){return e&&(e.base||1===e.nodeType&&e)||null}s.r(t),s.d(t,"version",(function(){return M})),s.d(t,"Children",(function(){return L})),s.d(t,"render",(function(){return f})),s.d(t,"hydrate",(function(){return O})),s.d(t,"unmountComponentAtNode",(function(){return S})),s.d(t,"createPortal",(function(){return g})),s.d(t,"createFactory",(function(){return w})),s.d(t,"cloneElement",(function(){return k})),s.d(t,"isValidElement",(function(){return x})),s.d(t,"findDOMNode",(function(){return D})),s.d(t,"PureComponent",(function(){return i})),s.d(t,"memo",(function(){return n})),s.d(t,"forwardRef",(function(){return r})),s.d(t,"unstable_batchedUpdates",(function(){return W})),s.d(t,"StrictMode",(function(){return Y})),s.d(t,"Suspense",(function(){return d})),s.d(t,"SuspenseList",(function(){return p})),s.d(t,"lazy",(function(){return u})),s.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return B}));var _=s("QRet");s.d(t,"useState",(function(){return _.k})),s.d(t,"useReducer",(function(){return _.i})),s.d(t,"useEffect",(function(){return _.d})),s.d(t,"useLayoutEffect",(function(){return _.g})),s.d(t,"useRef",(function(){return _.j})),s.d(t,"useImperativeHandle",(function(){return _.f})),s.d(t,"useMemo",(function(){return _.h})),s.d(t,"useCallback",(function(){return _.a})),s.d(t,"useContext",(function(){return _.b})),s.d(t,"useDebugValue",(function(){return _.c})),s.d(t,"useErrorBoundary",(function(){return _.e}));var P=s("hosL");s.d(t,"createElement",(function(){return P.createElement})),s.d(t,"createContext",(function(){return P.createContext})),s.d(t,"createRef",(function(){return P.createRef})),s.d(t,"Fragment",(function(){return P.Fragment})),s.d(t,"Component",(function(){return P.Component})),(i.prototype=new P.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var I=P.options.__b;P.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),I&&I(e)};var T="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,C=function(e,t){return null==e?null:Object(P.toChildArray)(Object(P.toChildArray)(e).map(t))},L={map:C,forEach:C,count:function(e){return e?Object(P.toChildArray)(e).length:0},only:function(e){var t=Object(P.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:P.toChildArray},R=P.options.__e;P.options.__e=function(e,t,s){if(e.then)for(var a,o=t;o=o.__;)if((a=o.__c)&&a.__c)return null==t.__e&&(t.__e=s.__e,t.__k=s.__k),a.__c(e,t);R(e,t,s)},(d.prototype=new P.Component).__c=function(e,t){var s=t.__c,a=this;null==a.t&&(a.t=[]),a.t.push(s);var o=h(a.__v),i=!1,n=function(){i||(i=!0,s.componentWillUnmount=s.__c,o?o(r):r())};s.__c=s.componentWillUnmount,s.componentWillUnmount=function(){n(),s.__c&&s.__c()};var r=function(){var e;if(!--a.__u)for(a.state.__e&&(a.__v.__k[0]=c(a.state.__e)),a.setState({__e:a.__b=null});e=a.t.pop();)e.forceUpdate()},l=!0===t.__h;a.__u++||l||a.setState({__e:a.__b=a.__v.__k[0]}),e.then(n,n)},d.prototype.componentWillUnmount=function(){this.t=[]},d.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=l(this.__b)),this.__b=null);var s=t.__e&&Object(P.createElement)(P.Fragment,null,e.fallback);return s&&(s.__h=null),[Object(P.createElement)(P.Fragment,null,t.__e?null:e.children),s]};var E=function(e,t,s){if(++s[1]===s[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(s=e.u;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;e.u=s=s[2]}};(p.prototype=new P.Component).__e=function(e){var t=this,s=h(t.__v),a=t.o.get(e);return a[0]++,function(o){var i=function(){t.props.revealOrder?(a.push(o),E(t,e,a)):o()};s?s(i):i()}},p.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(P.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var s=t.length;s--;)this.o.set(t[s],this.u=[1,0,this.u]);return e.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,s){E(e,s,t)}))};var U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,A=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};P.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(P.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var N=P.options.event;P.options.event=function(e){return N&&(e=N(e)),e.persist=j,e.isPropagationStopped=v,e.isDefaultPrevented=y,e.nativeEvent=e};var F,V={configurable:!0,get:function(){return this.class}},H=P.options.vnode;P.options.vnode=function(e){var t=e.type,s=e.props,a=s;if("string"==typeof t){for(var o in a={},s){var i=s[o];"defaultValue"===o&&"value"in s&&null==s.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!$(s.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():A.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),a[o]=i}"select"==t&&a.multiple&&Array.isArray(a.value)&&(a.value=Object(P.toChildArray)(s.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),"select"==t&&null!=a.defaultValue&&(a.value=Object(P.toChildArray)(s.children).forEach((function(e){e.props.selected=a.multiple?-1!=a.defaultValue.indexOf(e.props.value):a.defaultValue==e.props.value}))),e.props=a}t&&s.class!=s.className&&(V.enumerable="className"in s,null!=s.className&&(a.class=s.className),Object.defineProperty(a,"className",V)),e.$$typeof=U,H&&H(e)};var z=P.options.__r;P.options.__r=function(e){z&&z(e),F=e.__c};var B={ReactCurrentDispatcher:{current:{readContext:function(e){return F.__n[e.__c].props.value}}}},M="16.8.0",W=function(e,t){return e(t)},Y=P.Fragment;t.default={useState:_.k,useReducer:_.i,useEffect:_.d,useLayoutEffect:_.g,useRef:_.j,useImperativeHandle:_.f,useMemo:_.h,useCallback:_.a,useContext:_.b,useDebugValue:_.c,version:"16.8.0",Children:L,render:f,hydrate:O,unmountComponentAtNode:S,createPortal:g,createElement:P.createElement,createContext:P.createContext,createFactory:w,cloneElement:k,createRef:P.createRef,Fragment:P.Fragment,isValidElement:x,findDOMNode:D,Component:P.Component,PureComponent:i,memo:n,forwardRef:r,unstable_batchedUpdates:W,StrictMode:P.Fragment,Suspense:d,SuspenseList:p,lazy:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:B}},laT9:function(e,t,s){"use strict";function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.r(t);var i,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("ZOvn"),d=(s("JWe/"),s("3pQw"),s("xDik"),s("2X7c"),s("7g1v"));const h=c.a.marginTop(!0),u=c.a.marginBottom(),p=c.a.subMenuMarginTop(),b={isLoading:!1};let m=Object(r.a)(i=class extends n.Component{constructor(e){var t;super(e),t=this,this.loadDogs=async function(){t.setState({isLoading:!0});const{dogStore:e}=t.props.stores,{currentTeam:s}=e;await e.load({query:{team:s},addData:["workoutSummary"]}),t.setState({isLoading:!1})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b)}async loadAll(){this.setState({isLoading:!0}),await this.loadDogs(),this.setState({isLoading:!1})}componentDidMount(){this.loadAll()}render(){const{dogStore:e,appState:t,userStore:s}=this.props.stores,{darkmode:a}=t,{isAdmin:o}=s,i=e.findDogsByStatus(10),r=e.findDogsByStatus([2,4,8,9]),c=e.findDogsWithNeeds();return Object(n.h)("div",{class:"container-fluid",style:`margin-bottom: ${u}; margin-top: ${h};`},Object(n.h)("div",{class:"row fixed-top",style:`margin-top: ${p}; background-color: ${a?"#191d21":"#f8f9fa"};`},o&&Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/admin",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-user-shield"})," ",Object(n.h)(l.c,{id:"home.admin"},"Admin")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-chart-line"})," ",Object(n.h)(l.c,{id:"todo.dashboard"},"Dashboard")))),Object(n.h)("div",{class:"col text-center subtopmenu"},Object(n.h)("a",{href:"/feed",class:"text-secondary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-rss"})," ",Object(n.h)(l.c,{id:"todo.feed"},"Feed")))),Object(n.h)("div",{class:"col text-center border-bottom border-primary subtopmenu"},Object(n.h)("a",{href:"/todo",class:"text-primary stretched-link"},Object(n.h)("nobr",null,Object(n.h)("i",{class:"fas fa-list"})," ",Object(n.h)(l.c,{id:"todo.todo"},"Todo"))))),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"todo.dogs-follow-up"},"Hunder som trenger oppfølging")),Object(n.h)("div",{class:"row"},r&&r.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e})),!r||0===r.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"todo.no-dogs-follow-up"},"Ingen hunder som trenger ekstra oppfølging.")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"todo.dogs-special-needs"},"Hunder med spesielle behov")),Object(n.h)("div",{class:"row"},c&&c.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e})),!c||0===c.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"todo.no-dogs-special-needs"},"Ingen hunder med spesielle behov.")))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-4"},Object(n.h)("h5",null,Object(n.h)(l.c,{id:"todo.dogs-with-maturity"},"Hunder med løpetid")),Object(n.h)("div",{class:"row"},i&&i.map(e=>Object(n.h)(d.a,{stores:this.props.stores,dog:e})),!i||0===i.length&&Object(n.h)("div",{class:"col-12 text-center text-muted"},Object(n.h)("h3",null,Object(n.h)("i",{class:"fas fa-thumbs-up"})),Object(n.h)(l.c,{id:"todo.no-dogs-with-maturity"},"Ingen hunder med løpetid."))))))}})||i;t.default=m},nHdA:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV");s("ZOvn");let l=Object(n.a)(a=class extends o.Component{render(){const{value:t=0,smallUnit:s}=this.props,{userStore:a}=this.props.stores,{user:n}=a,{settings:l={}}=n;return l.imperial?Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(function(e){return.621371*e}(t),1)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(r.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(e,null,Object(o.h)(r.c,{id:"workouts.mph"},"mph")))):Object(o.h)(e,null,Object(o.h)("nobr",null,i.a.format(t,1)," ",s?Object(o.h)(e,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(r.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(e,null,Object(o.h)(r.c,{id:"workouts.kmt"},"km/t"))))}})||a;t.a=l}).call(this,s("hosL").Fragment)},om2D:function(e,t,s){"use strict";var a,o=s("hosL"),i=s("/eY4"),n=(s("cneo"),s("Utv1"),s("u2zT"));let r=Object(i.a)(a=class extends o.Component{constructor(e){super(e),this.handleAddImage=e=>{const{addToImages:t=!0}=this.props,{updateField:s,object:a,field:o}=this.props;if(o&&s({id:a.id,field:o,value:e,skipTimer:!0}),t){const t=[];t.push(e),s({id:a.id,field:"images",value:t,skipTimer:!0})}},this.state={files:[]}}render(){const{uploadStatus:e=(()=>{}),before:t=(()=>{}),after:s=(()=>{}),autoOpen:a=!0}=this.props;return Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12"},Object(o.h)(n.a,{handleAddImage:this.handleAddImage,uploadStatus:e,apiUrl:"/api/fileupload",before:t,after:s,autoOpen:a},Object(o.h)("div",{style:{height:30,width:"100%"}}))))}})||a;t.a=r},sqi2:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("cneo"),d=s("OhSV"),h=s("fh8t"),u=s.n(h),p=s("3wGD"),b=(s("ETxl"),s("ZOvn"));const m={showAddComment:{},showAllComments:!1,showAllReplies:{},viewImageIdx:{}};let g=Object(l.a)(i=class extends n.Component{constructor(e){var t;super(e),t=this,this.likeComment=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,{workout:o}=t.props,{workoutStore:i}=t.props.stores,n=await i.likeWorkoutComment({id:o.id,commentId:a});return n&&200===n.status&&s({type:"likeComment",workout:o,commentId:a,response:n}),!0},this.likeReply=async function(e){const{callback:s=(()=>{})}=t.props,a=e.target.parentElement.dataset.id||e.target.dataset.id,o=e.target.parentElement.dataset.comment||e.target.dataset.comment,{workout:i}=t.props,{workoutStore:n}=t.props.stores,r=await n.likeWorkoutCommentReply({id:i.id,replyId:a,commentId:o});r&&200===r.status&&s({type:"likeReply",workout:i,commentId:o,replyId:a,response:r})},this.replyComment=async function(e){const s=e.target.parentElement.dataset.id||e.target.dataset.id,{showAddComment:a}=t.state;a[s]=!a[s],t.setState({showAddComment:a},()=>{t.inputRef[s]&&t.inputRef[s].focus()})},this.toggleComments=()=>{const{showAllComments:e}=this.state;this.setState({showAllComments:!e})},this.toggleReplies=e=>{const t=e.target.parentElement.dataset.id||e.target.dataset.id,{showAllReplies:s}=this.state;s[t]=!s[t],this.setState({showAllReplies:s})},this.viewImage=e=>{const{id:t,idx:s}=e.target.closest("img").dataset,{viewImageIdx:a}=this.state;a[t]=s,this.setState({viewImageIdx:a})},this.translate=async function(e){e.preventDefault(),e.stopPropagation();const{replyid:s,commentid:a}=e.target.closest("button").dataset,{workout:o}=t.props,{userStore:i,teamStore:n}=t.props.stores,{user:r}=i,{showOriginal:l={},translatedText:c={}}=t.state,d=`${a}${s?"-"+s:""}`;l[d]=0,c[d]=s?await n.translateCommentReply({commentid:a,replyid:s,object:o,user:r}):await n.translateComment({commentid:a,object:o,user:r}),t.setState({showOriginal:l,translatedText:c})},this.showOriginal=e=>{const{replyid:t,commentid:s}=e.target.closest("button").dataset;e.preventDefault(),e.stopPropagation();const{showOriginal:a={}}=this.state;a[`${s}${t?"-"+t:""}`]=1,this.setState({showOriginal:a})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m),this.inputRef={}}render(){const{showAddComment:t,showAllComments:s,showAllReplies:a,viewImageIdx:o,showOriginal:i={},translatedText:l={}}=this.state,{workout:h,callback:m=(()=>{}),col:g=12,offset:f=0,compact:O=!1}=this.props,{userStore:j,teamStore:v}=this.props.stores,{user:y,isAdmin:w}=j,{language:x="en"}=y;let k,S=[],D=0,_=0;return h.comments&&(D=h.comments.length,s?S=h.comments:(k=O?0:1,S=h.comments.slice(Math.max(D-k,0))),_=S.length),Object(n.h)("div",null,h&&S&&S.reverse().map(s=>{const{user:g={}}=s,f=v.findPublicTeamByMembers(g.id),O=b.a.displayNameShort(g),j=b.a.displayName(g),S=g.image||(g.images?g.images[0]:void 0),D=s.likes&&s.likes.findIndex(e=>e.user===y.id)>-1;let _=[],P=0,I=0;s.comments&&(P=s.comments.length,_=a[s.id]?s.comments:s.comments.slice(0,k),I=_.length);const T=[];if(s.images){const e=Object(c.i)(s.images);T.push(...e)}const C=o[s.id]?o[s.id]:0,L=T&&T[C]?T[C]:null,{currentLocationGeocode:R={}}=s,E=v.getCommentTranslations({object:h,commentid:s.id,targetLang:x})||l[s.id];let U=E||s.comment;return i[s.id]&&(U=s.comment),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:(S?`background-image: url("${S.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!g.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},O)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded rounded-lg"},Object(n.h)("div",null,Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},j),f&&f.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},f.filter(e=>1===e.public).slice(0,2).map(t=>Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(n.h)(u.a,{markdown:b.a.replaceImages(U,s.images,x),markdownOpts:b.a.getMarkdownOptions()}))),Object(n.h)("div",{class:"container-fluid px-3 mt-1"},L&&Object(n.h)("div",{class:"clearfix row"},Object(n.h)("div",{class:"col-12 px-0 overflow-hidden",style:"max-height: 30vh;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid",style:"min-width: 100px;",src:L.s3LargeLink}))),T&&T.length>1&&Object(n.h)("div",{class:"clearfix d-flex flex-wrap row"},T.map((t,a)=>Object(n.h)(e,null,Object(n.h)("div",{class:"col px-0 overflow-hidden",style:"max-height: 100px; min-width: 100px;"},Object(n.h)("img",{loading:"lazy",class:"img-fluid border",style:"min-width: 100px;",src:t.s3SmallLink,onClick:this.viewImage,"data-id":s.id,"data-idx":a}))))))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(D?"text-primary":""),onClick:this.likeComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),s.language!==x&&Object(n.h)(e,null,"-",!i[s.id]&&E?Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,onClick:this.showOriginal},Object(n.h)("i",{class:"fas fa-cog"}),"  ",Object(n.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id},Object(n.h)("i",{class:"fas fa-cog"})," ",Object(n.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(s.createdDate,new Date,{locale:"no-NB"}),s.updatedDate&&Object(n.h)(e,null,Object(n.h)("span",{class:"font-weight-light ml-2"},"(Edited ",r.a.formatDistance(s.updatedDate,new Date,{locale:"no-NB"}),")"))),w&&R&&R.formatted_address&&Object(n.h)(e,null,Object(n.h)("span",{class:"ml-2 text-muted"},Object(n.h)("i",{class:"fas fa-map-marker-alt"})," ",R.formatted_address)))),s.likes&&s.likes.length>0&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",s.likes.length)),Object(n.h)("div",{class:"col-11 offset-1 mb-2"},s&&_&&_.map(t=>{const{user:a={}}=t,o=v.findPublicTeamByMembers(a.id),c=a.firstname?`${r.a.ucfirst(a.firstname,!0)}${r.a.ucfirst(a.lastname,!0)}`:""+r.a.ucfirst(a.email||"",!0),p=a.firstname?`${a.firstname} ${a.lastname}`:""+a.email,m=a.image||(a.images?a.images[0]:void 0),g=t.likes&&t.likes.findIndex(e=>e.user===y.id)>-1,f=v.getCommentReplyTranslations({object:h,commentid:s.id,replyid:t.id,targetLang:x})||l[`${s.id}-${t.id}`];let O=f||t.comment;return i[`${s.id}-${t.id}`]&&(O=t.comment),Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-12 d-flex mb-2 position-relative"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(m?`background-image: url("${m.s3SmallLink}"); background-size: cover;`:"")+" border-width: 3px !important;"},!a.image&&Object(n.h)("span",{class:"font-weight-lighter",style:"font-size: 15px;"},c)),Object(n.h)("div",{class:"flex-grow-1 pl-3 pt-0",style:"line-height: 1.2em;"},Object(n.h)("div",{class:"bg-light p-2 rounded-lg"},Object(n.h)("span",{style:"font-size: 0.95em;"},Object(n.h)("h5",{class:"font-weight-bold mb-0",style:"font-size: 1.0em;"},p),o&&o.length>0&&Object(n.h)("div",{class:"mb-2"},Object(n.h)("small",{class:"font-weight-lighter text-muted"},o.filter(e=>1===e.public).slice(0,2).map(t=>Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+t.uuidv4,class:"mr-2"},Object(n.h)("i",{class:"fas fa-users text-muted"})," ",t.name))))),Object(n.h)(u.a,{markdown:b.a.replaceImages(O,t.images,x),markdownOpts:b.a.getMarkdownOptions()}))),Object(n.h)("small",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0 "+(g?"text-primary":""),onClick:this.likeReply,"data-comment":s.id,"data-id":t.id},Object(n.h)(d.c,{id:"comments.like"},"Lik")),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.replyComment,"data-id":s.id},Object(n.h)(d.c,{id:"comments.comment-add"},"Kommentar")),t.language!==x&&Object(n.h)(e,null,"-",!i[`${s.id}-${t.id}`]&&f?Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link","data-commentid":s.id,"data-replyid":t.id,onClick:this.showOriginal},Object(n.h)("i",{class:"fas fa-cog"}),"  ",Object(n.h)(d.c,{id:"home.translate-show-original"},"Show original"))):Object(n.h)(e,null,Object(n.h)("button",{type:"button",class:"btn btn-sm btn-link",onClick:this.translate,"data-commentid":s.id,"data-replyid":t.id},Object(n.h)("i",{class:"fas fa-cog"})," ",Object(n.h)(d.c,{id:"home.translate-to"},"See translation")))),"-",Object(n.h)("button",{class:"btn btn-sm btn-link py-0 disabled"},r.a.formatDistance(t.createdDate,new Date,{locale:"no-NB"})))),t.likes&&Object(n.h)("small",{class:"position-absolute bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(n.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",t.likes.length)))}),P-I>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleReplies,"data-id":s.id},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:P-I}},"Vis ",P-I," flere kommentarer...")))),t[s.id]&&Object(n.h)("div",{class:"col-11 offset-1 d-flex mb-2 position-relative"},Object(n.h)(p.a,{stores:this.props.stores,workout:h,callback:m,commentId:s.id,inputRef:e=>this.inputRef[s.id]=e,inputRefObject:this.inputRef})))}),D-_>0&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.show-more",fields:{more:D-_}},"Vis ",D-_," flere kommentarer..."))),s&&Object(n.h)("div",null,Object(n.h)("button",{class:"btn btn-sm btn-link py-0",onClick:this.toggleComments},Object(n.h)(d.c,{id:"comments.hide-all-comments"},"Skjul alle kommentarene."))))}})||i;t.a=g}).call(this,s("hosL").Fragment)},u2zT:function(e,t,s){"use strict";var a,o=s("hosL"),i=s("/eY4"),n=s("Utv1"),r=s("OhSV");let l=Object(i.a)(a=class extends o.Component{constructor(e){super(e),this.dropRef=Object(o.createRef)(),this.handleDrag=e=>{e.preventDefault(),e.stopPropagation()},this.handleDragIn=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({drag:!0})},this.handleDragOut=e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})},this.handleDrop=e=>{if(e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){for(let t=0,s=e.dataTransfer.files.length;t<s;t+=1){this.readLocalFile(e.dataTransfer.files[t])}this.dragCounter=0}},this.handleAddFiles=e=>{e.preventDefault();const t=e.target;for(let e=0,s=t.files.length;e<s;e+=1){this.readLocalFile(t.files[e])}},this.handleEvent=()=>{0},this.handleUpload=e=>{const{uploadStatus:t=(()=>{}),before:s=(()=>{}),after:a=(()=>{})}=this.props;t(!1),n.a.isFunction(s)&&s();const o=new FormData;o.append("files[]",e);const i={progress:1};i.xhr=new XMLHttpRequest,i.xhr.upload.addEventListener("progress",t=>{this.updateProgress(t,e)}),i.xhr.addEventListener("loadstart",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("load",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("loadend",t=>{const s=e;n.a.isFunction(a)&&a(),this.handleEvent(t,s)}),i.xhr.addEventListener("progress",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("error",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("abort",t=>{this.handleEvent(t,e)}),i.xhr.addEventListener("readystatechange",t=>{this.uploadDone(t,e)}),i.xhr.open("POST",`${n.a.getApiServer()}${this.props.apiUrl}`),i.xhr.setRequestHeader("Authorization","Bearer "+n.a.getJwtToken()),i.xhr.send(o);const r=e.name,l=this.state.uploadedFilesData;l[r]||(l[r]={}),l[r].uploadMeta=i,l[r].imageNum=this.state.imageNum,this.setState({uploadedFilesData:l})},this.readLocalFile=e=>new Promise((t,s)=>{const a=new FileReader;a.addEventListener("error",e=>{s(e)}),a.addEventListener("load",s=>{const a=e,o=a.name,i=this.state.uploadedFilesData;i[o]||(i[o]={}),i[o].event=s,this.setState({uploadedFilesData:i}),this.handleUpload(a),t(s)}),a.readAsDataURL(e)}),this.updateProgress=(e,t)=>{if(e.lengthComputable){const s=t.name,a=this.state.uploadedFilesData,o=e.loaded/e.total*100;0,a[s].uploadMeta.progress=o,this.setState({uploadedFilesData:a})}},this.uploadDone=(e,t)=>{const s=t.name,a=this.state.uploadedFilesData,o=a[s].uploadMeta;if(o&&4===o.xhr.readyState&&201===o.xhr.status){const e=JSON.parse(o.xhr.responseText).data.files;for(let t=0;t<e.length;t+=1){this.addFileToUpload(e[t]),this.fileInput.value=""}}},this.state={drag:!1,loadingProgress:0,uploadedFiles:[],uploadedFilesData:{}}}addFileToUpload(e){const{uploadedFilesData:t}=this.state,{handleAddImage:s,uploadStatus:a=(()=>{})}=this.props;delete t[e.name],this.setState({uploadedFilesData:t}),s(e),a(!0)}componentDidMount(){const e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop);const{autoOpen:t}=this.props;t&&setTimeout(()=>{this.fileInput.click()},10)}componentWillUnmount(){const e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}render(){const{uploadedFilesData:e}=this.state;return Object(o.h)("div",{style:{position:"relative"},ref:this.dropRef},this.state.drag&&Object(o.h)("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},Object(o.h)("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Object(o.h)("div",null,Object(o.h)(r.c,{id:"imageupload.drag-files-here"},"drop your files here :)")))),Object(o.h)("div",null,Object(o.h)("input",{class:"btn btn-info col-sm-12",multiple:!0,type:"file",id:"image-file",onchange:this.handleAddFiles,ref:e=>{this.fileInput=e}})),Object(o.h)("div",null,Object.keys(e).length>0?Object(o.h)("h3",null,Object(o.h)(r.c,{id:"imageupload.upload-images"},"Uploaded images")):"",Object(o.h)("ul",{class:"list-group"},Object.keys(e).map(t=>{const{uploadMeta:s={}}=e[t],a=t.match(/(jpg|jpeg|png|gif|heic|heif|svg|webp|tif)/i);return Object(o.h)("li",{class:"list-group-item list-group-item-action flex-column align-items-start"},Object(o.h)("div",{class:"d-flex w-100 justify-content-between"},a&&Object(o.h)("img",{class:"img-fluid mr-3",src:e[t].event.target.result,style:"max-height: 50px;"}),Object(o.h)("small",null,e[t].event.uploadDone),Object(o.h)(r.c,{id:"imageupload.uploading-image"},"Laster opp bilde..."),Object(o.h)("small",null,n.a.formatBytes(e[t].event.total,2))),Object(o.h)("div",{class:"progress mt-1",style:"height: 4px;"},Object(o.h)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:`width: ${s.progress}%; height: 4px;`,"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})))}))),this.props.children)}})||a;t.a=l},"vY+r":function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");const h={};let u=Object(l.a)(i=class extends n.Component{constructor(e){super(e),this.toggleViews=()=>{const{showViewList:e}=this.state,{isTeamAdmin:t,isAdmin:s}=this.props;(t||s)&&this.setState({showViewList:!e})},this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},h)}render(){const{showViewList:t}=this.state,{storyStore:s,teamStore:a,workoutStore:o}=this.props.stores,{views:i,object:l,type:h="story",onTeamClick:u=(()=>{}),onUserClick:p=(()=>{})}=this.props,b=[];Object.entries(l.statistics).forEach(([e,t])=>{Object.entries(t).forEach(([e,t])=>{t.viewUsers&&b.push(t.viewUsers)})});const m=b.flat().slice(0,50);return Object(n.h)(e,null,Object(n.h)("div",{class:"d-flex justify-content-end mb-2"},Object(n.h)("span",{class:"ml-2 text-muted font-weight-lighter",onClick:this.toggleViews},i," ",Object(n.h)(c.c,{id:"story.views"},"views"))),t&&Object(n.h)("div",{class:"mt-3 mb-3"},m&&m.map(t=>{let i,l,c;if("story"===h?(i=s.findPublicUser(t),l=s.findPublicTeamByMembers(t)):"team"===h?(i=a.findPublicUser(t),l=a.findPublicTeamByMembers(t)):"workout"===h&&(i=o.findPublicUser(t),l=o.findPublicTeamByMembers(t)),!i)return"";r.a.isArray(l)&&(c=l.find(e=>1===e.public));const p=d.a.getImage({user:i,team:c,priority:"user"}),b=d.a.displayNameShort(i),m=d.a.displayName(i,!0);return Object(n.h)("div",{class:"d-flex flex-row position-relative font-weight-light mb-1"},c?Object(n.h)(e,null,Object(n.h)("a",{href:"/teams/public/"+c.uuidv4,title:c.name,onClick:e=>u(e,c.uuidv4),class:"stretched-link"},Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:""+(p?`background-image: url("${p}"); background-size: cover;`:"")},!p&&Object(n.h)("div",{class:"",style:"font-size: 12px; padding-top: 3px;"},b))),Object(n.h)("div",{class:"ml-2 "},m," ",Object(n.h)("span",{class:"font-weight-lighter"},"- ",c.name))):Object(n.h)(e,null,Object(n.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb",style:(p?`background-image: url("${p}"); background-size: cover;`:"")+" opacity: 0.5;"},!p&&Object(n.h)("div",{class:"text-muted",style:"font-size: 12px; padding-top: 3px;"},b)),Object(n.h)("div",{class:"ml-2"},m)))}),i>m.length&&Object(n.h)(e,null,Object(n.h)("small",{class:"text-muted"},Object(n.h)(c.c,{id:"story.limited-to"},"Limited to max 50 users.")))))}})||i;t.a=u}).call(this,s("hosL").Fragment)},wanP:function(e,t,s){"use strict";(function(e){function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i,n=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("eK6s"),c=s.n(l);const d={mouseData:{}};let h=Object(r.a)(i=class extends n.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},d),this.svgRef=null}render(){const{radius:t=50,heightAdd:s=0,color:a="success",showPercentText:o=!0,percent:i=0,prefix:r="",showCenterText:l=!1,centerText:d,centerTextSize:h,centerTextX:u,centerTextY:p,total:b="",totalY:m="90%",totalX:g="50%",totalTextAnchor:f="middle",completed:O="",completedY:j="65%",completedX:v="50%",completedTextAnchor:y="middle"}=this.props,w=.3*t,x=t-w/2,k=.3*t,S=2*x*Math.PI,D=.75*S,_=`${D} ${S}`,P=`rotate(135, ${t}, ${t})`,I=D-Math.min(Math.max(i,0),100)/100*D,T=h||t/2.5,C=t/5;return Object(n.h)(e,null,Object(n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:c.a.svg,width:2*t,height:2*t+s,preserveAspectRatio:"none",ref:e=>this.svgRef=e},Object(n.h)("circle",{class:""+c.a.gaugeBackground,cx:t,cy:t,r:x,strokeWidth:w,strokeDasharray:_,strokeLinecap:"round",transform:P}),Object(n.h)("circle",{class:`${c.a[a]} ${c.a.gauge}`,cx:t,cy:t,r:x,stroke:"url(#grad)",strokeDasharray:_,strokeDashoffset:I,strokeLinecap:"round",strokeWidth:k,style:{transition:"stroke-dashoffset 0.3s"},transform:P}),o&&Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a[a]}`,x:u||"50%",y:p||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":T},i," ",r),l&&Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a[a]}`,x:u||"50%",y:p||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":T},d),O&&Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a[a]}`,x:v,y:j,"dominant-baseline":"middle","text-anchor":y,"font-size":C},O),Object(n.h)("text",{class:`${c.a.gaugeText} ${c.a.secondary}`,x:g,y:m,"dominant-baseline":"middle","text-anchor":f,"font-size":C},b)))}})||i;t.a=h}).call(this,s("hosL").Fragment)},xDik:function(e,t,s){"use strict";(function(e){var a,o=s("hosL"),i=s("Utv1"),n=s("/eY4"),r=s("OhSV"),l=s("ZOvn"),c=(s("UJvz"),s("1OK2"),s("s4FZ")),d=s("ETxl"),h=s.n(d);const u=l.a.getVaccineTypes();let p=Object(n.a)(a=class extends o.Component{constructor(e){var t;super(e),t=this,this.showModal=e=>{e.stopPropagation(),e.preventDefault();this.setState({displayModal:!0,currentImage:e.target.dataset.image,currentImageXXL:e.target.dataset.imagexxl,thumb:e.target.dataset.thumb,name:e.target.dataset.name,title:e.target.dataset.title,date:e.target.dataset.date})},this.closeModal=()=>{this.setState({displayModal:!1})},this.toggleDate=()=>{const{showDate:e}=this.state;this.setState({showDate:!e})},this.touchStart=e=>{const{eventFired:t}=this.state;t||this.setState({startY:e.touches[0].pageY,startX:e.touches[0].pageX,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchEnd=()=>{const{eventFired:e}=this.state;this.setState(e?{startY:void 0,startX:void 0}:{startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.touchMove=e=>{const{eventFired:t}=this.state;if(t)return!1;const{startY:s,startX:a}=this.state,o=e.touches[0].pageY,i=e.touches[0].pageX;this.setState({diffY:o-s,diffX:i-a}),o>s+130||o<s-130||i>a+130||i<a-130&&this.setState({eventFired:!0})},this.reset=e=>{e&&(e.stopPropagation(),e.preventDefault()),this.setState({deleted:!1,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.deleteHistoryRequest=async function(e){e.stopPropagation(),t.setState({deleteVerify:!0})},this.deleteHistory=async function(e){e.stopPropagation();const{dogStore:s}=t.props.stores,{line:a}=t.props;await s.save({id:a.dogId,$pull:{history:{_id:a.id||a._id}}}),t.setState({deleted:!0,startY:void 0,startX:void 0,eventFired:!1,diffY:void 0,diffX:void 0,deleteVerify:!1})},this.swipeLeft=e=>{const{eventFired:t}=this.state;e.stopPropagation(),t?this.reset():this.setState({eventFired:!0,diffX:-130})},this.state={showDate:!1}}componentWillReceiveProps(e){e.line.id!==this.props.line.id&&this.reset()}render(){const{userStore:t}=this.props.stores,{user:s}=t,{language:a="en"}=s,n=l.a.getHistoryMap(a),{showDate:d}=this.state,{line:p}=this.props,{diffX:b,deleted:m,deleteVerify:g}=this.state,f=p.images&&p.images.length>0,O=b<0;return Object(o.h)("div",{class:"w-100 mb-4 position-relative "+h.a.hoverElement,onTouchstart:m?()=>{}:this.touchStart,onTouchend:m?()=>{}:this.touchEnd,onTouchmove:m?()=>{}:this.touchMove,onClick:!m&&O?this.reset:()=>{},style:`opacity: ${m?.3:1};`},!O&&!m&&Object(o.h)("div",{class:"position-absolute "+h.a.hoverelementonly,style:"top: 0px; right: 0px; z-index: 1000;"},Object(o.h)("button",{class:"btn btn-sm btn-secondary",type:"button",onClick:this.swipeLeft},Object(o.h)("i",{class:"fas fa-ellipsis-h"}))),O&&!m&&Object(o.h)("div",{class:"position-absolute",style:`right: 0px; top: 10%; overflow: hidden; width: ${Math.abs(b)||0}px; line-height: 0.8em;`},!p.grouped&&Object(o.h)(e,null,g?Object(o.h)(e,null,Object(o.h)("button",{class:"btn btn-sm btn-secondary float-right ml-3 mb-3",onClick:this.reset},Object(o.h)("i",{class:"fas fa-times"})," ",Object(o.h)(r.c,{id:"dog.history.no"},"Nei")),Object(o.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.deleteHistory},Object(o.h)("i",{class:"fas fa-check"})," ",Object(o.h)(r.c,{id:"dog.history.yes"},"Ja"))):Object(o.h)("button",{class:"btn btn-sm btn-danger float-right",onClick:this.deleteHistoryRequest},Object(o.h)("i",{class:"fas fa-trash"})," ",Object(o.h)(r.c,{id:"dog.history.delete"},"Slett"))),p.grouped&&Object(o.h)("small",null,Object(o.h)(r.c,{id:"dog.history.cant-delete-groups"},"Kan ikke slette grupperinger. Gå inn på hundene og slett der."),Object(o.h)("br",null),Object(o.h)("button",{class:"btn btn-sm btn-success float-right",onClick:this.reset},Object(o.h)("i",{class:"fas fa-check"})," Ok"))),Object(o.h)("div",{class:"row position-relative",style:`left: ${O?b:0}px;`},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},p.dogImage?Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:p.dogImage?`background-image: url("${p.dogImage.s3SmallLink}"); background-size: cover;`:""}," "):Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:p.images&&p.images[0]?`background-image: url("${p.images[0].s3SmallLink}"); background-size: cover;`:""},!f&&Object(o.h)("i",{class:"fas fa-rss text-muted mt-2",style:"font-size: 20px;"})),Object(o.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"line-height: 1.0em;"},!p.grouped&&p.dogId&&Object(o.h)("a",{class:"stretched-link",href:"/dogs/"+p.dogId},Object(o.h)("strong",{class:"mr-2"},p.dogShortname||p.dogName,": ")),p.title,Object(o.h)("br",null),p.grouped&&Object(o.h)(e,null,Object(o.h)("div",{class:"w-100 clearfix mt-2"},p.grouped.map(t=>Object(o.h)(e,null,Object(o.h)("a",{href:"/dogs/"+t.dogId},t.dogImage?Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left",style:"margin-right: 2px; "+(t.dogImage?`background-image: url("${t.dogImage.s3SmallLink}");`:"")}," "):Object(o.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedThumb float-left text-muted pt-1",style:"margin-right: 2px; "+(t.images&&t.images[0]?`background-image: url("${t.images[0].s3SmallLink}");`:"")},!f&&Object(o.h)("span",{style:"font-size: 15px;"},i.a.ucfirst(t.dogName,!0))))))),Object(o.h)("div",{class:"w-100 clearfix mt-2"},Object(o.h)("small",null,p.grouped.map(e=>Object(o.h)("span",{class:"float-left mr-2 text-muted"},Object(o.h)("a",{href:"/dogs/"+e.dogId},e.dogShortname||e.dogName)))))),Object(o.h)("div",{class:"w-100 clearfix"},Object(o.h)("small",{class:"text-muted"},p.date&&Object(o.h)("small",{onClick:this.toggleDate},d?i.a.formatDate(p.date,{locale:"no-NB"}):i.a.formatDistance(p.date,new Date,{locale:"no-NB"}),p.endDate&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-hourglass-end"})," ",i.a.formatDate(p.endDate,{locale:"no-NB"})),p.historyType&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-folder-open"})," ",n[p.historyType]," ",p.vaccineType?" - "+u[p.vaccineType].name:""),p.weight&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-balance-scale"})," ",p.weight," kg"),p.bodyScore&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-dog"})," ",p.bodyScore),p.user&&p.user.email&&Object(o.h)("span",{class:"ml-3"},Object(o.h)("i",{class:"fas fa-user"})," ",p.user.email)))),Object(o.h)("div",{class:"row mt-2"},Object(o.h)("div",{class:"col-12"},Object(o.h)("span",{class:"font-weight-normal"},p.comment),Object(o.h)("span",{class:"float-right"},p.cost?"Kr. "+i.a.format(p.cost,2):""))))),Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mt-1"},Object(o.h)("div",{class:"row"},Object(o.h)(c.a,{stores:this.props.stores,images:p.images})))))}})||a;t.a=p}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=62.chunk.1a8f5.esm.js.map