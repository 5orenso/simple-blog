(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{ztHd:function(e,t,s){"use strict";s.r(t),function(e){var c,i=s("hosL"),a=s("Utv1"),l=s("/eY4"),n=s("OhSV"),r=s("ZOvn"),o=s.n(r),h=s("tJLP"),d=s("Cjoz");const b=o.a.marginTop(!1),u=o.a.marginBottom();let m=Object(l.a)(c=class extends i.Component{constructor(e){var t;super(e),t=this,this.resetEmailMessage=()=>{const{userStore:e}=this.props.stores;e.updateField("emailMessage",""),e.updateField("emailMessageIcon","")},this.resetEmailError=()=>{const{userStore:e}=this.props.stores;e.updateField("emailError",""),e.updateField("emailErrorIcon","")},this.toggleSetting=async function(e){const{userStore:s}=t.props.stores,{user:c}=s,{settings:i}=c;await s.updateSetting({["settings."+e]:1===i[e]?0:1})},this.state={time:Date.now(),count:10}}componentDidMount(){const{userStore:e}=this.props.stores;this.props.verifyEmailToken&&e.verifyEmail({token:this.props.verifyEmailToken})}render(){const{userStore:t}=this.props.stores,{user:s,emailMessage:c,emailError:l,emailMessageIcon:r,emailErrorIcon:o,isAdmin:m}=t,{teams:j,settings:O={}}=s,v=t.findTeams(j),g=a.a.getApiServer(),p=a.a.getJwtToken();return Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${u}; margin-top: ${b};`},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)(h.a,{message:l,icon:o,remove:this.resetEmailError}),Object(i.h)(d.a,{message:c,icon:r,remove:this.resetEmailMessage}),Object(i.h)("a",{href:"/users/edit",class:"btn btn-primary btn-sm float-right"},Object(i.h)(n.c,{id:"users.edit"},"Endre")),Object(i.h)("h5",null,Object(i.h)(n.c,{id:"users.title"},"Din profil"))),Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.email"},"E-post")),Object(i.h)("div",{class:"col-8"},s.email),s.team&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.main-team"},"Hovedteam")),Object(i.h)("div",{class:"col-8"},t.findTeam(s.team))),s.teams&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.all-teams"},"Alle teamene")),Object(i.h)("div",{class:"col-8"},v.map(e=>Object(i.h)("div",null,e.name)))),s.username&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.username"},"Brukernavn")),Object(i.h)("div",{class:"col-8"},s.username)),s.firstname&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.firstname"},"Fornavn")),Object(i.h)("div",{class:"col-8"},s.firstname)),s.lastname&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.lastname"},"Etternavn")),Object(i.h)("div",{class:"col-8"},s.lastname)),s.cellphone&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.cellphone"},"Mobil")),Object(i.h)("div",{class:"col-8"},s.cellphone)),s.url&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.homepage"},"Hjemmeside")),Object(i.h)("div",{class:"col-8"},s.url)),s.facebook&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.facebook"},"Facebook")),Object(i.h)("div",{class:"col-8"},s.facebook)),s.instagram&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.instagram"},"Instagram")),Object(i.h)("div",{class:"col-8"},s.instagram)),s.snapchat&&Object(i.h)(e,null,Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.snapchat"},"Snapchat")),Object(i.h)("div",{class:"col-8"},s.snapchat)),Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.settings-hide-profile"},"Skjul profilen")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsHideProfile",onInput:()=>this.toggleSetting("hideProfile"),checked:O.hideProfile}),Object(i.h)("label",{class:"custom-control-label",for:"settingsHideProfile"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(n.c,{id:"users.settings-hide-profile-help"},"Det vil snart være mulig å bli venner med andre her på The Musher. Dersom du ikke vil at andre skal kunne finne deg, så kan du skjule profilen din her."))),Object(i.h)("div",{class:"col-4 text-muted text-right"},Object(i.h)(n.c,{id:"users.settings-hide-invite"},"Skjul invitasjonsboks")),Object(i.h)("div",{class:"col-8"},Object(i.h)("div",{class:"custom-control custom-switch"},Object(i.h)("input",{type:"checkbox",class:"custom-control-input",id:"settingsHideInvitation",onInput:()=>this.toggleSetting("hideInvite"),checked:O.hideInvite}),Object(i.h)("label",{class:"custom-control-label",for:"settingsHideInvitation"})),Object(i.h)("small",{class:"text-muted"},Object(i.h)(n.c,{id:"users.settings-hide-invite-help"},"Skjul invitasjonsboksen på forsiden.")))),Object(i.h)("div",{class:"row border-top mt-5 pt-5"},Object(i.h)("div",{class:"col-12"},Object(i.h)("div",null,Object(i.h)("img",{src:"./assets/strava_logo_orange.png",style:"max-height: 100px;"}))),s.strava&&s.strava.access_token?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(n.c,{id:"users.strava-connected"},"Connected to Strava!"))),Object(i.h)("div",{class:"col-4 text-right text-muted"},Object(i.h)(n.c,{id:"users.strava-id"},"id"),":"),Object(i.h)("div",{class:"col-8"}," ",s.strava.athlete.id),Object(i.h)("div",{class:"col-4 text-right text-muted"},Object(i.h)(n.c,{id:"users.strava-username"},"username"),":"),Object(i.h)("div",{class:"col-8"}," ",s.strava.athlete.username),Object(i.h)("div",{class:"col-4 text-right text-muted"},Object(i.h)(n.c,{id:"users.strava-profile"},"profile"),":"),Object(i.h)("div",{class:"col-8"}," ",Object(i.h)("img",{src:s.strava.athlete.profile})),Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("a",{href:`${g}/api/strava/request-access?token=${p}`,native:!0},Object(i.h)(n.c,{id:"users.strava-reconnect"},"Reconnect to Strava")))):Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("a",{class:"btn btn-primary",href:`${g}/api/strava/request-access?token=${p}`,native:!0},Object(i.h)(n.c,{id:"users.strava-connect"},"Connect to Strava"))))),m&&Object(i.h)("div",{class:"row border-top mt-5 pt-5"},Object(i.h)("div",{class:"col-12"},Object(i.h)("div",null,Object(i.h)("img",{src:"./assets/garmin-connect.png",style:"height: 100px;"}))),s.garmin&&s.garmin.access&&s.garmin.access.oauth_token?Object(i.h)(e,null,Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(n.c,{id:"users.garmin-connected"},"Connected to Garmin Connect!"))),m&&Object(i.h)("div",{class:"col-12"},Object(i.h)("button",{class:"btn btn-danger",onclick:t.garminTest},Object(i.h)(n.c,{id:"users.garmin-test"},"Get test"))),Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("a",{href:`${g}/api/garmin/request-access?token=${p}`,native:!0},Object(i.h)(n.c,{id:"users.garmin-reconnect"},"Reconnect to Garmin Connect")))):Object(i.h)(e,null,Object(i.h)("div",{class:"col-12 mt-2"},Object(i.h)("a",{class:"btn btn-primary",href:`${g}/api/garmin/request-access?token=${p}`,native:!0},Object(i.h)(n.c,{id:"users.garmin-connect"},"Connect to Garmin Connect"))))))}})||c;t.default=m}.call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=route-users.chunk.522ef.esm.js.map