(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"B+py":function(e,t,s){"use strict";s.r(t),function(e){var o,i=s("hosL"),n=s("Utv1"),r=s("/eY4"),a=s("Y3FI"),c=s("go65"),l=s("OhSV"),h=s("tJLP"),p=s("Cjoz"),d=Object(r.a)(o=function(t){function s(e){var s;return(s=t.call(this,e)||this).handleEmailInput=function(e){return new Promise((function(t){var o=s.props.stores.userStore,i=e.target.value;return s.setState({email:i}),clearTimeout(s.checkEmailTimer),s.checkEmailTimer=setTimeout((function(){return o.checkEmail(i)}),1e3),t()}))},s.updateCapsLockStatus=function(e){s.setState({isCapsLock:e})},s.sendLoginLink=function(){var e=s.state.email;s.props.stores.userStore.sendLoginLink(void 0===e?"":e)},s.validateCode=function(){var e=s.state;s.props.stores.userStore.validateLoginCode(e.email,e.code)},s.resetLoginLinkMessages=function(){s.props.stores.userStore.resetLoginLinkMessages()},s.resetLoginMessages=function(){s.props.stores.userStore.resetLoginMessages()},s.resetEmailSent=function(){s.props.stores.userStore.updateObjectField("loginLink","emailSent",!1)},s.newUser=function(){var e=s.state.email,t=s.props.routeLoginNew,o=void 0===t?"/register/"+(void 0===e?"":e):t;Object(a.route)(o)},s.login=function(){var e=s.state.email,t=s.props.routeLogin,o=void 0===t?"/"+(void 0===e?"":e):t;Object(a.route)(o)},s.changeLanguage=function(e){s.props.stores.appState.setLanguage(e.target.value)},s.state={showToken:!1,isCapsLock:!1,email:s.props.email,code:""},s}var o,r;r=t,(o=s).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var d=s.prototype;return d.componentDidMount=function(){var e=this,t=this.props.stores,s=t.userStore,o=t.appState.language,i=void 0===o?"en":o;this.props.email&&(clearTimeout(this.checkEmailTimer),this.checkEmailTimer=setTimeout((function(){return s.checkEmail(e.props.email,i)}),1e3))},d.render=function(){var t=this,s=this.state,o=s.isCapsLock,r=s.email,a=s.code,d=this.props.stores,m=d.userStore,b=this.props.showLogo,u=void 0===b||b,g=m.emailIsAvailable,f=m.loginLink,v=m.login,j=f.emailSent,O=f.message,k=f.messageIcon,L=f.error,y=f.errorIcon,w=v.message,x=v.messageIcon,S=v.error,C=v.errorIcon,E=n.a.validateEmail(r),T=E&&!g,I=n.a.validateCode(a,1e5,999999);return j?Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},u&&Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-center mb-5 mt-5"},Object(i.h)(e,null,Object(i.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"})))),Object(i.h)(h.a,{message:L,icon:y,remove:this.resetLoginLinkMessages}),Object(i.h)(h.a,{message:S,icon:C,remove:this.resetLoginMessages}),Object(i.h)(p.a,{message:O,icon:k,remove:this.resetLoginLinkMessages}),Object(i.h)(p.a,{message:w,icon:x,remove:this.resetLoginMessages}),Object(i.h)("div",{class:"form-group"},Object(i.h)(l.b,null,Object(i.h)("input",{type:"text",class:"form-control form-control-lg "+(a?I?"is-valid":"is-invalid":""),style:"font-size: 40px; letter-spacing: 5px",id:"codeInput",onInput:Object(c.a)(this,"code"),value:a,placeholder:Object(i.h)(l.c,{id:"forgotten.one-time-code"},"Engangskode")})),a&&!I&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(l.c,{id:"forgotten.otp-not-valid"},"Hmm, koden ser ikke helt riktig ut. Kan det vÃ¦re en skrivefeil?")),a&&I&&!g&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(l.c,{id:"forgotten.otp-valid"},"Koden ser bra ut."))),Object(i.h)("button",{class:"btn btn-block btn-lg btn-primary",type:"button",onClick:this.validateCode,disabled:!I},Object(i.h)("i",{class:"far fa-paper-plane mr-2"}),Object(i.h)(l.c,{id:"forgotten.login-with-otp"},"Logg meg inn med koden")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link text-white",onClick:this.login},Object(i.h)(l.c,{id:"forgotten.goto-login"},"Jeg husker passordet. GÃ¥ til logg inn."))),Object(i.h)("small",{class:"form-text text-muted mt-2 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link text-white",onClick:this.resetEmailSent},Object(i.h)(l.c,{id:"forgotten.send-new-otp"},"Jeg trenger en ny kode.")))))):Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 pt-5"},u&&Object(i.h)(e,null,Object(i.h)("div",{class:"d-flex justify-content-center mb-5 mt-5"},Object(i.h)(e,null,Object(i.h)("img",{src:"https://themusher.app/assets/logo-qpaws-dark.png",height:"100"})))),Object(i.h)(h.a,{message:L,icon:y,remove:this.resetLoginLinkMessages}),Object(i.h)(p.a,{message:O,icon:k,remove:this.resetLoginLinkMessages}),Object(i.h)("div",{class:"form-group"},Object(i.h)(l.b,null,Object(i.h)("input",{type:"email",class:"form-control form-control-lg "+(r?E&&!g?"is-valid":"is-invalid":""),id:"emailInput",onInput:this.handleEmailInput,value:r,onKeypress:function(e){n.a.isCapsLock(e,t.updateCapsLockStatus)},placeholder:Object(i.h)(l.c,{id:"forgotten.email"},"E-post")})),r&&E&&g&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(l.c,{id:"forgotten.email-not-found"},"E-posten finnes ikke.")," ",Object(i.h)("a",{href:"/register/"+r},Object(i.h)(l.c,{id:"forgotten.register"},"registrere deg"))," ðŸ˜ƒ"),r&&!E&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(l.c,{id:"forgotten.email-not-valid"},"Hmm, e-posten ser ikke helt riktig ut. Kan det vÃ¦re en skrivefeil?")),r&&E&&!g&&Object(i.h)("div",{class:"invalid-feedback text-white",style:"display: block;"},Object(i.h)(l.c,{id:"forgotten.email-looks-good"},"E-post ser bra ut."))),o&&Object(i.h)("div",{class:"alert alert-danger",role:"alert"},Object(i.h)(l.c,{id:"forgotten.caps-lock-is-on"},"CAPS LOCK er pÃ¥!")),Object(i.h)("button",{class:"btn btn-block btn-lg btn-primary",type:"button",onClick:this.sendLoginLink,disabled:!T},Object(i.h)("i",{class:"far fa-paper-plane mr-2"}),Object(i.h)(l.c,{id:"forgotten.send-reset-link"},"Send meg en reset link")),Object(i.h)("small",{class:"form-text text-muted mt-5 text-center"},Object(i.h)("button",{class:"btn btn-small btn-link text-white",onClick:this.login},Object(i.h)(l.c,{id:"forgotten.goto-login"},"Jeg husker passordet. GÃ¥ til logg inn."))))))},s}(i.Component))||o;t.default=d}.call(this,s("hosL").Fragment)},tJLP:function(e,t,s){"use strict";var o,i=s("hosL"),n=s("/eY4"),r=Object(n.a)(o=function(e){function t(){return e.apply(this,arguments)||this}var s,o;o=e,(s=t).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o;var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props.remove,t=void 0===e?function(){}:e;clearTimeout(this.removeTimer),this.removeTimer=setTimeout((function(){return t()}),1e4)},n.componentWillUnmount=function(){clearTimeout(this.removeTimer)},n.render=function(){var e=this.props,t=e.message,s=e.icon,o=e.remove,n=void 0===o?function(){}:o;return t?Object(i.h)("div",{class:"container"},Object(i.h)("div",{class:"alert alert-danger row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("a",{href:"#",onclick:n,class:"float-right"},Object(i.h)("i",{className:"fas fa-times"})),s&&Object(i.h)("h1",{class:"float-left mr-3"},Object(i.h)("i",{class:s})),t&&Object(i.h)("span",null,t)))):""},t}(i.Component))||o;t.a=r}}]);
//# sourceMappingURL=39.chunk.52492.js.map