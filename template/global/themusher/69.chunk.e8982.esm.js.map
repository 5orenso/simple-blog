{"version":3,"sources":["webpack:///./routes/users/notifications.js","webpack:///./components/admin/notification.js","webpack:///./components/header/subnavigation.js","webpack:///./components/data/distance.js","webpack:///./components/user/index.js","webpack:///./components/data/temperature.js","webpack:///./components/data/weight.js","webpack:///./components/user/invite.js","webpack:///./components/data/elevation.js","webpack:///./components/data/speed.js","webpack:///./components/error/index.js"],"names":["MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","marginTopBack","UserNotifications","observer","Component","constructor","props","super","search","async","userStore","stores","searchText","state","searchUsers","toggleDate","e","stopPropagation","preventDefault","showDate","this","setState","back","history","goBack","time","Date","now","count","loadNotifications","markNotificationsAsRead","messageStore","getNotifications","getUnReadMessages","notifications","ids","map","id","componentDidMount","loadAll","render","appState","class","style","title","notification","getIcon","type","AdminNotification","confirmRequest","teamStore","confirmFollowRequest","team","user","addedBy","deleteRequest","deleteFollowRequest","displayNameShort","firstname","util","ucfirst","lastname","email","displayName","userImage","image","images","undefined","dogIds","dogs","grouped","forEach","dog","indexOf","push","isDimmed","read","isLinked","length","s3ThumbLink","href","url","message","onClick","date","formatDate","locale","formatDistance","d","name","SUB_MENU_MARGIN_TOP","subMenuMarginTop","initialState","SubNavigation","previousPath","route","backtext","darkmode","displayDistance","distance","format","Distance","value","smallUnit","settings","imperial","kmToMiles","User","removeUser","target","dataset","parentNode","console","log","removeMember","adminUpdateUser","closest","field","clearTimeout","updateTimer","setTimeout","doAdminUpdateUser","simulateUser","getSimulateUser","currentUser","isAdmin","teams","findTeams","summary","findMusherSummary","isTeamAdmin","getImage","cellphone","asUrl","rel","facebook","asFacebookLink","instagram","asInstagramLink","snapchat","asSnapchatLink","data-email","JSON","stringify","subscription","deviceInfo","notificationTopics","applications","shadowTags","garmin","strava","currentLocationGeocode","isoDate","lastActivityEpoch","activities","veterinaryAllowed","checked","onInput","for","twoFactorLogin","isVeterinary","distanceKm","elevation","secToHms","duration","avgDistance","avgElevation","avgDuration","speedAvg","avgDogs","data-id","data-team","Temperature","celciusToFahrenheit","Weight","kgToPounds","Invite","inviteKennel","friendEmail","response","inviteSent","inviteNew","hideInvite","updateSetting","forceShow","placeholder","linkState","Elevation","meterToFeet","Speed","kmtToMph","Error","componentDidUpdate","remove","removeTimer","componentWillUnmount","icon","onclick","className"],"mappings":"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","file":"69.chunk.e8982.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\n\nimport Error from '../../components/error';\nimport Message from '../../components/message';\nimport InviteFriend from '../../components/user/invite';\nimport User from '../../components/user';\nimport AdminNotification from '../../components/admin/notification';\nimport SubNavigation from '../../components/header/subnavigation';\n\n@observer\nclass UserNotifications extends Component {\n\tconstructor(props) {\n        super(props);\n        this.state = {\n            time: Date.now(),\n\t\t\tcount: 10\n        };\n    }\n    async loadAll() {\n        await this.loadNotifications();\n        await this.markNotificationsAsRead();\n    }\n\n    async loadNotifications() {\n        const { userStore, messageStore } = this.props.stores;\n        await userStore.getNotifications();\n        await messageStore.getUnReadMessages();\n    }\n\n    async markNotificationsAsRead() {\n        const { userStore } = this.props.stores;\n        const { notifications } = userStore;\n        const ids = notifications.map(e => e.id);\n        await userStore.markNotificationsAsRead({ ids });\n    }\n\n\tsearch = async () => {\n        const { userStore } = this.props.stores;\n        const { searchText } = this.state;\n        await userStore.searchUsers({ search: searchText });\n    }\n\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n\tcomponentDidMount() {\n        this.loadAll();\n\t}\n\n\trender() {\n        const { showDate } = this.state;\n\t\tconst { userStore, appState } = this.props.stores;\n\t\tconst { darkmode } = appState;\n\t\tconst { notifications } = userStore;\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <Localizer>\n                    <SubNavigation stores={this.props.stores}\n                        title={<Text id='home.notifications'>Notifications</Text>}\n                    />\n                </Localizer>\n                <div class='row'>\n                    {notifications && notifications.map(notification => \n                        <AdminNotification stores={this.props.stores} notification={notification} showDate={showDate} />\n                    )}\n                </div>\n            </div>\n        );\n\t}\n}\n\nexport default UserNotifications;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction getIcon(type) {\n\tswitch (type) {\n\t\tcase 'dogHistory':\n\t\t\treturn 'fas fa-rss';\n\t\tcase 'dogStatus':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'dogSpecialNeeds':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'dogImage':\n\t\t\treturn 'fas fa-image';\n\t\tcase 'dog':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'dogChanged':\n\t\t\treturn 'fas fa-dog';\n\t\tcase 'track':\n\t\t\treturn 'fas fa-map-marked-alt';\n\t\tcase 'trackChanged':\n\t\t\treturn 'fas fa-map-marked-alt';\n\t\tcase 'workoutPlan':\n\t\t\treturn 'fas fa-calendar-alt';\n\t\tcase 'workout':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'newGarminWorkout':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'newStravaWorkout':\n\t\t\treturn 'fab fa-strava';\n\t\tcase 'workoutChanged':\n\t\t\treturn 'fas fa-running';\n\t\tcase 'teamMember':\n\t\t\treturn 'fas fa-user';\n\t\tcase 'team':\n\t\t\treturn 'fas fa-users';\n\n        case 'newsLiked':\n            return 'fas fa-thumbs-up';\n        case 'newsCommentLiked':\n        case 'newsCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'newsCommentReplyLiked':\n        case 'newsCommentedReplyLiked':\n            return 'fas fa-thumbs-up'\n        case 'newsComment':\n        case 'newsCommented':\n            return 'fas fa-comment';\n        case 'newsCommentReply':\n        case 'newsCommentedReply':\n            return 'fas fa-comments';\n\n        case 'trackLiked':\n            return 'fas fa-thumbs-up';\n        case 'trackCommentLiked':\n        case 'trackCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'trackCommentReplyLiked':\n        case 'trackCommentedReplyLiked':\n            return 'fas fa-thumbs-up'\n        case 'trackComment':\n        case 'trackCommented':\n            return 'fas fa-comment';\n        case 'trackCommentReply':\n        case 'trackCommentedReply':\n            return 'fas fa-comments';\n\n        case 'workoutComment':\n        case 'workoutCommented':\n            return 'fas fa-comment';\n        case 'workoutCommentReply':\n        case 'workoutCommentedReply':\n            return 'fas fa-comments'\n        case 'workoutLiked':\n            return 'fas fa-thumbs-up';\n        case 'workoutCommentLiked':\n        case 'workoutCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'workoutCommentReplyLiked':\n        case 'workoutCommentedReplyLiked':\n            return 'fas fa-thumbs-up'; \n\n        case 'story':\n            return 'fas fa-rss';\n        case 'storyComment':\n        case 'storyCommented':\n            return 'fas fa-comment';\n        case 'storyCommentReply':\n        case 'storyCommentedReply':\n            return 'fas fa-comments'\n        case 'storyLiked':\n            return 'fas fa-thumbs-up';\n        case 'storyCommentLiked':\n        case 'storyCommentedLiked':\n            return 'fas fa-thumbs-up';\n        case 'storyCommentReplyLiked':\n        case 'storyCommentedReplyLiked':\n            return 'fas fa-thumbs-up'; \n\n        case 'teamFollowRequest':\n            return 'fas fa-project-diagram';\n        case 'happyBirthday':\n            return 'fas fa-birthday-cake';\n\n        case 'trophy':\n            return 'fas fa-trophy';\n\t\tdefault:\n\t\t\treturn 'fas fa-rss';\n\t}\n}\n\n@observer\nclass AdminNotification extends Component {\n    confirmRequest = () => {\n        const { notification } = this.props;\n        const { teamStore } = this.props.stores;\n        teamStore.confirmFollowRequest({\n            team: notification.team,\n            user: notification.addedBy.id,\n        });\n    }\n\n    deleteRequest = () => {\n        const { notification } = this.props;\n        const { teamStore } = this.props.stores;\n        teamStore.deleteFollowRequest({\n            team: notification.team,\n            user: notification.addedBy.id,\n        });\n    }\n\n    render() {\n        const { notification, showDate } = this.props;\n        const { addedBy: user  = {} } = notification;\n        const displayNameShort = user.firstname ? `${util.ucfirst(user.firstname, true)}${util.ucfirst(user.lastname, true)}` : `${util.ucfirst(user.email || '', true)}`;\n        const displayName = user.firstname ? `${user.firstname} ${user.lastname}` : `${user.email}`;\n        const userImage = user.image || (user.images ? user.images[0] : undefined);\n\n        const dogIds = [];\n        const dogs = [];\n        if (notification.grouped) {\n            notification.grouped.forEach((e) => {\n                if (e.dog && e.dog.id && dogIds.indexOf(e.dog.id) === -1) {\n                    dogs.push(e.dog);\n                    dogIds.push(e.dog.id);\n                }\n            });\n        }\n        const hasMultiElements = dogs.length > 0;\n        const isDimmed = notification.read && notification.type !== 'teamFollowRequest';\n        const isLinked =!hasMultiElements && notification.type !== 'teamFollowRequest';\n        return (\n            <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-2 position-relative' style={`opacity: ${isDimmed ? 0.6: 1};`}>\n                <div \n                    class={`text-center border rounded-circle imageRoundedSmall imageRounded`} \n                    style={`padding-top: 7px; ${userImage ? `background-image: url(\"${userImage.s3ThumbLink}\"); background-size: cover;` : ''}`}\n                >\n                    {!user.image && <span class='font-weight-lighter' style='font-size: 15px;'>{displayNameShort}</span>}\n                </div>\n\n                <div class='flex-grow-1 pl-3 pr-2'>\n                    <span class='float-right ml-2'>\n                        {notification.type && <span class='mr-2' style='font-size: 2.0em;'><i class={getIcon(notification.type)} /></span>}\n                    </span>\n                    <div style='font-size: 0.8em;'>\n                        {isLinked ? <a href={notification.url}>\n                            {notification.message}{notification.title ? `: ${notification.title}` : ''}\n                        </a> : <>\n                            {notification.message}\n                        </>}\n                        {notification.type === 'teamFollowRequest' && <>\n                            <button class='btn btn-sm btn-danger float-right' onClick={this.deleteRequest}>\n                                <Text id='notifications.delete'>Del</Text>\n                            </button>\n                            <button class='btn btn-sm btn-success float-right mr-2' onClick={this.confirmRequest}>\n                                <Text id='notifications.confirm'>Confirm</Text>\n                            </button>\n                        </>}\n                    </div>\n                    <small class='text-muted'>\n                        {notification.date && <span onClick={this.toggleDate} class='mr-2'>\n                            {showDate ? util.formatDate(notification.date, { locale: 'no-NB' }) : util.formatDistance(notification.date, new Date(), { locale: 'no-NB' })}\n                        </span>}\n                        <i class='far fa-user' /> {displayName}\n                        <br />\n                        {dogs && dogs.map(d => <span class='mr-2'>\n                            <a href={`/dogs/${d.id}`}><i class='fas fa-dog' /> {d.name}</a>\n                        </span>)}\n                        <br />\n                    </small>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AdminNotification;","import { h, Component } from 'preact';\nimport { Link } from 'preact-router/match';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\nconst initialState = {\n};\n\n@observer\nclass SubNavigation extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    back = () => {\n        const { appState } = this.props.stores;\n        const { previousPath = '/' } = appState;\n        route(previousPath);\n    }\n\n    render() {\n        const { title, backtext } = this.props;\n        const { appState } = this.props.stores;\n        const { darkmode } = appState;\n\t\treturn (\n            <div class='row fixed-top border-bottom' style={`margin-top: ${SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'};`}>\n                <div class={`col text-center subtopmenu position-relative`}>\n                    <div class={`text-left subtopmenu position-absolute`} style='top: 0px; left: 20px; line-height: 1.8em;'>\n                        <button\n                            class='btn btn-link text-secondary p-0'\n                            onClick={this.back}\n                        >\n                            <nobr>\n                                <i class='fas fa-chevron-left font-weight-bold' /> {backtext ? <>\n                                    {backtext}\n                                </> : <>\n                                    <Text id='home.home'>Home</Text>\n                                </>}\n                            </nobr>\n                        </button>\n                    </div>\n                    <nobr>\n                        <strong>\n                            {title}\n                        </strong>\n                    </nobr>\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default SubNavigation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\n@observer\nclass User extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this.updateTimer = {};\n    }\n    \n    removeUser = async (e) => {\n        let id =  e.target.dataset.id;\n        let email =  e.target.dataset.email;\n        let team =  e.target.dataset.team;\n        if (!id && e.target.parentNode) {\n            id =  e.target.parentNode.dataset.id;\n            email =  e.target.parentNode.dataset.email;\n            team =  e.target.parentNode.dataset.team;\n\t\t}\n        console.log('id, email, team', id, email, team);\n        const { teamStore } = this.props.stores;\n        await teamStore.removeMember(team, { id, email });\n    }\n\n    adminUpdateUser = (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name } = e.target;\n        const field = `${email}-${name}`;\n\n        clearTimeout(this.updateTimer[field]);\n        this.updateTimer[field] = setTimeout(() => {\n            this.doAdminUpdateUser(e);\n        }, 500);\n    }\n\n    doAdminUpdateUser = async (e) => {\n        const { email } = e.target.closest('input').dataset;\n        const { name, value } = e.target;\n\n        // console.log({ email, name, value });\n\t\tconst { userStore } = this.props.stores;\n        await userStore.adminUpdateUser(email, { [name]: value });\n    }\n\n    simulateUser = (e) => {\n        const { email } = e.target.closest('button').dataset;\n        const { userStore } = this.props.stores;\n\t\tuserStore.getSimulateUser(email);\n    }\n\n    render() {\n        const { user, team = {} } = this.props;\n\t\tconst { userStore, teamStore } = this.props.stores;\n        const { user: currentUser, isAdmin } = userStore;\n        const teams = userStore.findTeams(user.teams);\n        const summary = teamStore.findMusherSummary(user.id, team.id) || {};\n        const isTeamAdmin = team.user === currentUser.id;\n        const image = mu.getImage({ user, team });\n        const name = mu.displayName(user);\n\n        // const workoutSummary = dogStore.findWorkoutSummary(dog.id, 2020) || {};\n        // {'0':{'year':2020,'dog':16,'count':1,'distanceKm':9.9,'elevation':202,'duration':0,'speedAvg':0}}\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(dog, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded`} style={image ? `background-image: url('${image}'); background-size: cover;` : ''}>\n                            {!image && <i class='fas fa-user text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        <div class='flex-grow-1 pl-3 pr-2'>\n                            {/* <span class='float-right'>\n                                {dog.birth && <span class='mr-2'>{util.age(dog.birth, dog.deceased)}</span>}\n                                {dog.gender === 'female' ? <i class='fas fa-venus' /> : <i class='fas fa-mars' />}\n                            </span> */}\n                            \n                            <h5>{name}</h5>\n                            <div>\n                                <small class='text-muted'>\n                                    <div class='d-flex justify-content-left'>\n                                        {user.cellphone && <div class='mr-2'><i class='fas fa-mobile-alt' /> {user.cellphone}</div>}\n                                        {user.email && <div class='mr-2'><i class='fas fa-envelope ml-3' /> {user.email}</div>}\n                                        {user.url && <div class='mr-2'><a href={mu.asUrl(user.url)} target='_blank' rel='noreferrer'><i class='fas fa-link' /></a></div>}\n                                        {user.facebook && <div class='mr-2'><a href={mu.asFacebookLink(user.facebook)} target='_blank' rel='noreferrer'><i class='fab fa-facebook' /></a></div>}\n                                        {user.instagram && <div class='mr-2'><a href={mu.asInstagramLink(user.instagram)} target='_blank' rel='noreferrer'><i class='fab fa-instagram' /></a></div>}\n                                        {user.snapchat && <div class='mr-2'><a href={mu.asSnapchatLink(user.snapchat)} target='_blank' rel='noreferrer'><i class='fab fa-snapchat' /></a></div>}\n                                    </div>\n                                </small>\n                            </div>\n                            {isAdmin && <>\n                                <button class='btn btn-block btn-success' onClick={this.simulateUser} data-email={user.email}>\n                                    Simulate user\n                                </button>\n\n                                <small>\n                                    <details>\n                                        <summary>settings</summary>\n                                        <xmp>{JSON.stringify(user.settings, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>deviceInfo</summary>\n                                        <xmp>{JSON.stringify(user.deviceInfo, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>subscription</summary>\n                                        <xmp>{JSON.stringify(user.subscription, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notifications</summary>\n                                        <xmp>{JSON.stringify(user.notifications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>notificationTopics</summary>\n                                        <xmp>{JSON.stringify(user.notificationTopics, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>applications</summary>\n                                        <xmp>{JSON.stringify(user.applications, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>shadowTags</summary>\n                                        <xmp>{JSON.stringify(user.shadowTags, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>garmin</summary>\n                                        <xmp>{JSON.stringify(user.garmin, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>strava</summary>\n                                        <xmp>{JSON.stringify(user.strava, null, 4)}</xmp>\n                                    </details>\n                                    <details>\n                                        <summary>currentLocationGeocode</summary>\n                                        <xmp>{JSON.stringify(user.currentLocationGeocode, null, 4)}</xmp>\n                                    </details>\n                                    lastActivityEpoch: {util.isoDate(user.lastActivityEpoch)}<br />\n                                    activities: {util.format(user.activities)}<br />\n\n                                    {user.settings && <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.settings.veterinaryAllowed ? 0 : 1} id={`settings.veterinaryAllowed-${user.id}`} name='settings.veterinaryAllowed' checked={user.settings.veterinaryAllowed ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`settings.veterinaryAllowed-${user.id}`}>\n                                            settings.veterinaryAllowed\n                                        </label>\n                                    </div>}\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.twoFactorLogin ? 0 : 1} id={`twoFactorLogin-${user.id}`} name='twoFactorLogin' checked={user.twoFactorLogin ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`twoFactorLogin-${user.id}`}>\n                                            twoFactorLogin\n                                        </label>\n                                    </div>\n                                    <div class='form-check'>\n                                        <input class='form-check-input' type='checkbox' value={user.isVeterinary ? 0 : 1} id={`isVeterinary-${user.id}`} name='isVeterinary' checked={user.isVeterinary ? 'checked' : ''} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        <label class='form-check-label' for={`isVeterinary-${user.id}`}>\n                                            isVeterinary\n                                        </label>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`cellphone-${user.id}`}>cellphone</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`cellphone-${user.id}`} name='cellphone' class='form-control' value={user.cellphone} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`firstname-${user.id}`}>firstname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`firstname-${user.id}`} name='firstname' class='form-control' value={user.firstname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                    <div class='form-group row'>\n                                        <label class='col-sm-2 col-form-label' for={`lastname-${user.id}`}>lastname</label>\n                                        <div class='col-sm-10'>\n                                            <input type='text' id={`lastname-${user.id}`} name='lastname' class='form-control' value={user.lastname} data-email={user.email} onInput={this.adminUpdateUser} />\n                                        </div>\n                                    </div>\n                                </small>\n                            </>}\n                            {user.teams && <>\n                                {teams.map(team => (\n                                    <span class='badge badge-pill badge-info mr-2'>{team.name}</span>\n                                ))}<br />\n                            </>}\n                            {team.id && summary && <>\n                                <small class='text-muted'>\n                                    Total:\n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.distanceKm} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.elevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.duration || 0)}</span>}\n                                </small><br />\n                                <small class='text-muted'>\n                                    Avg: \n                                    {summary && <span class='ml-2'><i class='fas fa-road' /> <Distance stores={this.props.stores} value={summary.avgDistance} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-mountain' /> <Elevation stores={this.props.stores} value={summary.avgElevation} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(summary.avgDuration || 0)}</span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-tachometer-alt' /> <Speed stores={this.props.stores} value={summary.speedAvg} /></span>}\n                                    {summary && <span class='ml-2'><i class='fas fa-dog' /> {util.format(summary.avgDogs, 1)}</span>}\n                                </small>\n                            </>}\n                        </div>\n                        <div>\n                            {isTeamAdmin && user.id !== currentUser.id && <button class='btn btn-sm btn-danger'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-ban' /></button>}\n                            {!isTeamAdmin && user.id === currentUser.id && <button class='btn btn-sm btn-secondary'\n                                onClick={this.removeUser}\n                                data-email={user.email}\n                                data-id={user.id}\n                                data-team={team.id}\n                            ><i class='fas fa-sign-out-alt' />{team.id}</button>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default User;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}°F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}°C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\nimport linkState from 'linkstate';\n\n@observer\nclass Invite extends Component {\n    inviteKennel = async () => {\n        const { friendEmail: email } = this.state;\n\t\tconst { userStore } = this.props.stores;\n        const response = await userStore.inviteKennel({ email });\n        this.setState({\n            response,\n            inviteSent: true,\n        });\n    }\n\n    inviteNew = () => {\n        this.setState({\n            inviteSent: false,\n        });\n    }\n\n    hideInvite = async () => {\n        const { userStore } = this.props.stores;\n        await userStore.updateSetting({ 'settings.hideInvite': 1 });\n        this.setState({\n            hideInvite: true,\n        });\n    }\n\n    render() {\n        const { inviteSent, hideInvite } = this.state;\n\t\tconst { userStore } = this.props.stores;\n        const { forceShow } = this.props;\n        const { user } = userStore;\n        const { settings = {} } = user;\n        if (!forceShow && settings.hideInvite || hideInvite) {\n            return '';\n        }\n        if (inviteSent) {\n            return (\n                <div class='col-12'>\n                    <Text id='users.invite.thanks'>Takk for at du hjelper oss til å bli flere 😃</Text>\n                    <button type='button' class='btn btn-sm btn-link mb-2' onClick={this.inviteNew}>\n                        <Text id='users.invite.more'>Invitere flere</Text>\n                    </button>\n                </div>\n            );\n        }\n        return (\n            <div class='col-12 pb-4 clearfix'>\n                <h5><Text id='users.invite.title'>Inviter ny kennel til The Musher</Text></h5>\n                <p>\n                    <Text id='users.invite.text'>Jeg håper du vil hjelpe oss til å bli flere. Appen vil bli lansert veldig snart og det er påtide å invitere inn flere brukere.</Text>\n                </p>\n                <div>\n                    <div class='form-row align-items-center'>\n                        <div class='col-auto'>\n                            <label class='sr-only' for='inlineFormInput'><Text id='users.invite.email'>E-post</Text></label>\n                            <Localizer>\n                                <input type='text' class='form-control form-control-sm mb-2' id='inlineFormInput'\n                                    placeholder={<Text id='users.invite.email-placeholder'>E-post til ny kennel</Text>}\n                                    onInput={linkState(this, 'friendEmail')}\n                                />\n                            </Localizer>\n                        </div>\n                        <div class='col-auto'>\n                            <button type='button' class='btn btn-sm btn-primary mb-2' onClick={this.inviteKennel}>\n                                <Text id='users.invite.send'>Send invitasjon</Text>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                {!forceShow && <button type='button' class='btn btn-sm btn-link mb-2 float-left' onClick={this.hideInvite}>\n                    <i class='fas fa-eye-slash' /> <Text id='users.invite.hide'>Skjul</Text>\n                </button>}\n            </div>\n        );\n    }\n}\n\nexport default Invite;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n","import { h, Component } from 'preact';\nimport { observer } from 'mobx-preact';\n\nconst ERROR_DISPLAY_MS = 10000;\n\n@observer\nclass Error extends Component {\n    componentDidUpdate() {\n        const { remove = () => {} } = this.props;\n        clearTimeout(this.removeTimer);\n        this.removeTimer = setTimeout(() => remove(), ERROR_DISPLAY_MS);\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.removeTimer);\n    }\n\n    render() {\n        const { message, icon, remove = () => {} } = this.props;\n\n        if (!message) {\n            return '';\n        }\n        return (\n            <div class='container'>\n                <div class='alert alert-danger row'>\n                    <div class={`col-12`}>\n                        <a href='#' onclick={remove} class='float-right'>\n                            <i className='fas fa-times' />\n                        </a>\n                        {icon && <h1 class='float-left mr-3'><i class={icon} /></h1>}\n                        {message && <span>{message}</span>}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Error;\n"],"sourceRoot":""}