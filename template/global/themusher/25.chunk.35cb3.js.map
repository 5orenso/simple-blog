{"version":3,"sources":["webpack:///./components/util/scrollIntoView.js","webpack:///./components/data/distance.js","webpack:///./routes/workouts/plan.js","webpack:///./components/workout/calendarPlan.js","webpack:///./components/data/temperature.js","webpack:///./components/data/weight.js","webpack:///./components/data/elevation.js","webpack:///./components/data/speed.js","webpack:///./components/team/teams.js"],"names":["initialState","ScrollIntoView","observer","props","state","container","componentDidMount","this","horizontal","vertical","behavior","inline","block","scrollIntoView","render","ref","c","Component","displayDistance","distance","util","format","Distance","value","smallUnit","stores","userStore","user","settings","imperial","kmToMiles","class","MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginBottom","SUB_MENU_MARGIN_TOP","subMenuMarginTop","InputNew","onInput","e","workoutPlanStore","updateObjectKeyValue","field","target","icon","title","help","datalist","newPlan","type","for","list","id","aria-describedby","data-field","autocomplete","map","el","isLoading","showDuplicate","WorkoutPlans","loadAll","loadWorkoutPlans","loadWorkoutSummary","currentMonth","currentYear","seasonStart","workoutPlanCurrent","setState","year","Date","getMonth","getFullYear","parseInt","currentTeam","workoutStore","updateItem","load","query","team","seasonYear","seasonMonth","addData","workoutPlans","prepareWeekGraphs","updateKeyValue","resetGraphPlanWeekDistanceCurrent","toggleDuplicate","duplicateWorkoutPlan","newTeam","response","workoutPlan","asNumber","createWorkoutPlan","images","days","weeks","months","PubSub","publish","topics","STATUS_MESSAGE","message","route","month","getYear","dog","getWorkoutSummary","daysBack","getWorkoutSummaryDay","componentWillReceiveProps","nextProps","scrolledDown","appState","currentTeamObject","findTeam","teams","workoutSummaryWeekDay","darkmode","nextYear","prevYear","monthRange","style","href","role","callback","key","name","m","basehref","length","showNavigation","filter","onClick","RED_DAYS","Calendar","setFocus","inputRef","focus","editMonth","showInput","inputYear","parentElement","dataset","inputMonth","inputDay","inputWeek","newDistance","editWeek","week","editDay","day","saveDistance","saveField","resetInput","teamName","insert","data","nextDay","addDays","getDate","getWeek","checkKeydown","updateWorkoutPlanTips","hideWorkoutPlanTips","toggleTips","newValue","updateSetting","teamStore","language","DAYS","getDays","MONTHS","getMonths","currentDay","currentEpoch","getTime","showHeader","monthNum","yearNum","getNextMonth","nextMonth","getPrevMonth","prevMonth","daysOfMonth","getDaysInMonth","weeksInMonth","getWeeksInMonth","daysOfWeek","getDaysInWeek","totalDistanceKmMonth","totalDistanceKmMonthPlan","totalWorkoutDistanceKmMonth","isMonthInTheFuture","summaryMonth","findWorkoutPlanSummaryMonth","tips","tipsMonth","padDate","hasTipsMonth","comments","fields","placeholder","linkState","onKeydown","getDay","weekObj","summaryWeek","findWorkoutPlanSummaryWeek","isWeekInTheFuture","totalWeek","totalWorkoutWeek","tipsWeek","hasTipsWeek","data-week","data-year","data-distance","yyyy","mm","dd","isDayInTheFuture","summaryWorkout","findWorkoutSummaryWeekDay","summary","findWorkoutPlanSummaryDay","distanceKm","isChosen","isToday","isDayOff","indexOf","data-day","data-month","getPlanColor","count","colspan","totalDistance","time","totalWorkouts","avgSpeed","Temperature","celciusToFahrenheit","Weight","kgToPounds","Elevation","meterToFeet","Speed","kmtToMph","Teams","toggleTeam","unsetTeamIfSelected","dogStore","setCurrentTeam","undefined","isDefined","showAllTeams","highlight","showAll","idx","classNames"],"mappings":"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","file":"25.chunk.35cb3.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nconst initialState = {};\n\n@observer\nclass ScrollIntoView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.container = null;\n    }\n\n    componentDidMount() {\n        const { horizontal, vertical = '' } = this.props;\n        const props = {\n            behavior: 'smooth',\n        };\n        if (horizontal) {\n            props.inline = horizontal;\n        }\n        if (vertical) {\n            props.block = vertical;\n        }\n\t\tthis.container.scrollIntoView(props);\n\t}\n\n    render() {\n        return (\n            <div ref={c => this.container = c}>&nbsp;</div>\n        );\n    }\n}\n\nexport default ScrollIntoView;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distance) {\n\tif (distance < 5) {\n\t\treturn util.format(distance, 2);\n\t}\n\tif (distance < 10) {\n\t\treturn util.format(distance, 1);\n\t}\n\treturn util.format(distance, 1);\n}\n\nfunction kmToMiles(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Distance extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n\t\t\t\t\t{displayDistance(kmToMiles(value))} {smallUnit ? <><small><small><small class='ml-0 text-muted'>mi</small></small></small></> : <>mi</>}\n\t\t\t\t</nobr>\n            </>);\n        }\n\n\t\treturn (<>\n\t\t\t<nobr>\n\t            {displayDistance(value)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>km</small></small></small></> : <>km</>}\n\t\t\t</nobr>\n\t    </>);\n    }\n}\n\nexport default Distance;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport linkState from 'linkstate';\nimport { route } from 'preact-router';\nimport { Text, Localizer, withText } from 'preact-i18n';\nimport PubSub, { topics } from '../../lib/pubsub';\n\nimport Teams from '../../components/team/teams';\nimport CalendarPlan from '../../components/workout/calendarPlan';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(true);\nconst MARGIN_BOTTOM = mu.marginBottom();\nconst SUB_MENU_MARGIN_TOP = mu.subMenuMarginTop();\n\n@observer\nclass InputNew extends Component {\n    onInput = (e) => {\n        const { field } = this.props;\n        const value = e.target.value;\n        const { workoutPlanStore } = this.props.stores;\n        // console.log('trackStore.newPlan', trackStore.newPlan);\n        workoutPlanStore.updateObjectKeyValue('newPlan', field, value);\n    }\n\n    render() {\n        const { field, icon, title, help, type, datalist = [] } = this.props;\n        const { workoutPlanStore } = this.props.stores;\n        const { newPlan } = workoutPlanStore;\n\n\t\tif (type === 'select') {\n            return (\n                <div class={`form-group  mb-5 pb-1 border-bottom`}>\n                    <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n\n                    <select\n                        list={`list-${field}`}\n                        class={`form-control`}\n                        id={`${field}Input`}\n                        aria-describedby={`${field}Help`}\n                        value={newPlan[field]}\n                        data-field={field}\n                        onInput={this.onInput}\n                        autocomplete='off'\n                    >\n                        <option value=''>-- <Text id='workout.plan.choose-team'>Velg team</Text> --</option>\n                        {datalist.map(el => (\n                            <option value={el[0]}>{el[1]}</option>\n                        ))}\n                    </select>\n\t\t\t\t\t<small id={`${field}Help`} class='form-text text-muted'>{help}</small>\n                </div>\n            );\n        }\n\n        return (\n            <div class='form-group'>\n                <label for={`${field}Input`}>{icon && <i class={`${icon} text-muted`} />} {title}</label>\n                <input type='text' class={`form-control`} id={`${field}Input`} aria-describedby={`${field}Help`}\n                    onInput={this.onInput}\n                    value={newPlan[field]}\n                />\n                <small id={`${field}Help`} class='form-text text-muted'>{help}</small>\n            </div>\n        );\n    }\n}\n\nconst initialState = {\n\tisLoading: false,\n\tshowDuplicate: false,\n};\n\n@observer\nclass WorkoutPlans extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tloadAll = (props = this.props) => {\n\t\tthis.loadWorkoutPlans(props);\n\t\tthis.loadWorkoutSummary(props);\n\t}\n\n\tasync loadWorkoutSummary(props = this.props) {\n        this.setState({ isLoading: true });\n\t\tconst { userStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\n        const currentMonth = new Date().getMonth() + 1;\n        const { month = currentMonth, year = util.getYear(), team = currentTeam, dog = {} } = props;\n        await userStore.getWorkoutSummary({ team, dog: dog.id, daysBack: 500 });\n        await userStore.getWorkoutSummaryDay({ daysBack: 500, team, dog: dog.id });\n        this.setState({ isLoading: false });\n    }\n\n\tloadWorkoutPlans = async (props = this.props) => {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { year } = props;\n\n\t\tconst currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst seasonStart = parseInt(year || (currentMonth < 8 ? currentYear - 1 : currentYear), 10);\n\t\tconst { workoutPlanStore, workoutStore } = props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\n\t\tworkoutPlanStore.updateItem('workoutPlans', []);\n\t\tworkoutPlanStore.updateItem('workoutPlan', {});\n\n\t\tawait workoutPlanStore.load({ \n\t\t\tquery: {\n\t\t\t\tteam: currentTeam,\n\t\t\t\tseasonYear: seasonStart,\n\t\t\t\tseasonMonth: 6,\n\t\t\t},\n\t\t\taddData: ['tips'],\n\t\t});\n\n\t\tconst { workoutPlans } = workoutPlanStore;\n\t\tconst workoutPlanCurrent = workoutPlans[0] || {};\n\t\tif (workoutPlanCurrent.id) {\n\t\t\tawait workoutPlanStore.load(workoutPlanCurrent.id);\n\t\t\tworkoutPlanStore.prepareWeekGraphs({ year });\n\t\t} else {\n\t\t\tworkoutPlanStore.updateKeyValue('workoutPlan', {});\n\t\t\tworkoutPlanStore.updateKeyValue('workoutPlans', []);\n\t\t\tworkoutPlanStore.resetGraphPlanWeekDistanceCurrent();\n\t\t}\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\ttoggleDuplicate = () => {\n\t\tconst { showDuplicate } = this.state;\n\t\tthis.setState({ showDuplicate: !showDuplicate });\n\t}\n\n\tduplicateWorkoutPlan = async () => {\n        const { workoutPlanStore } = this.props.stores;\n\t\tconst { newPlan, workoutPlan } = workoutPlanStore;\n\t\tconst newTeam = util.asNumber(newPlan.team);\n\t\tconst response = await workoutPlanStore.createWorkoutPlan({\n\t\t\tnewPlan: {\n\t\t\t\ttitle: newPlan.title,\n\t\t\t\tseasonMonth: workoutPlan.seasonMonth,\n\t\t\t\tseasonYear: workoutPlan.seasonYear,\n\t\t\t\tteam: newTeam,\n\t\t\t\tuser: workoutPlan.user,\n\t\t\t\timages: workoutPlan.images,\n\t\t\t\tdays: workoutPlan.days,\n\t\t\t\tweeks: workoutPlan.weeks,\n\t\t\t\tmonths: workoutPlan.months,\n\t\t\t}\n\t\t});\n\t\tif (response && response.id) {\n\t\t\tPubSub.publish(topics.STATUS_MESSAGE, {\n\t\t\t\tmessage: 'Workoutplan was duplicated successfully',\n\t\t\t\ttype: 'success',\n\t\t\t\ticon: 'fas fa-check',\n\t\t\t});\n\t\t\troute(`/workouts/plan`);\n\t\t}\n\t}\n\n    componentDidMount() {\n\t\tthis.loadWorkoutPlans();\n\t\tthis.loadWorkoutSummary();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps);\n        if (nextProps.month !== this.props.month\n            || nextProps.year !== this.props.year\n            || nextProps.team !== this.props.team) {\n            this.loadWorkoutPlans(nextProps);\n            this.loadWorkoutSummary(nextProps);\n        }\n    }\n\n\trender() {\n        const { scrolledDown } = this.props;\n\t\tconst { isLoading, showDuplicate } = this.state;\n\t\tconst { userStore, appState, workoutPlanStore, workoutStore } = this.props.stores;\n\t\tconst { workoutPlan } = workoutPlanStore;\n\t\tconst { currentTeam } = workoutStore;\n\t\tconst currentTeamObject = userStore.findTeam(currentTeam, true) || {};\n\t\tconst { teams } = userStore;\n\t\tconst { workoutSummaryWeekDay = [] } = userStore;\n\n\t\tconst { darkmode } = appState;\n\t\tconst { message, year } = this.props;\n\t\tconst {\n\t\t\tisAdmin,\n\t\t} = userStore;\n\n\t\tconst currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\t\tconst seasonStart = parseInt(year || (currentMonth < 8 ? currentYear - 1 : currentYear), 10);\n\n\t\tconst nextYear = seasonStart + 1;\n\t\tconst prevYear = seasonStart - 1;\n\n\t\tconst months = util.monthRange(`${seasonStart}-08-01`, `${seasonStart + 1}-07-31`);\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row fixed-top pt-2' style={`margin-top: ${scrolledDown > 0 ? 0 : SUB_MENU_MARGIN_TOP}; background-color: ${darkmode ? '#191d21' : '#f8f9fa'}; transition: all 0.3s ease-in-out;`}>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<a href='/workouts/' class='text-secondary stretched-link'><nobr><i class='fas fa-chart-line' /> <Text id='workout.plan.dashboard'>Oversikt</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center subtopmenu'>\n\t\t\t\t\t\t<a href='/workouts/list' class='text-secondary stretched-link'><nobr><i class='fas fa-list' /> <Text id='workout.plan.list'>Liste</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col text-center border-bottom border-primary subtopmenu'>\n\t\t\t\t\t\t<a href='/workouts/plan' class='text-primary stretched-link'><nobr><i class='fas fa-calendar-alt' /> <Text id='workout.plan.plan'>Plan</Text></nobr></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{message && (\n\t\t\t\t\t<div class='alert alert-success mb-3' role='alert'>\n\t\t\t\t\t\t<i class='fas fa-check' /> {message}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom mb-5'>\n\t\t\t\t\t\t<Teams stores={this.props.stores} callback={this.loadAll} key={`teams-${currentTeam}`} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\n                        <div class='text-center mt-4 mb-4 text-muted'>\n                            <div class='display-1'><i class='fab fa-pagelines' /></div>\n    \t\t\t\t\t\tTreningsplan kommer ganske snart :)\n                        </div>\n\t\t\t\t\t</div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 text-center'>\t\t\n\t\t\t\t\t\t<a href={`/workouts/plan/${nextYear}/skipScroll`} class='float-right btn btn-sm btn-outline-secondary ml-2'><i class='fas fa-arrow-right' /></a>\n\t\t\t\t\t\t<a href={`/workouts/plan/${prevYear}/skipScroll`} class='float-left btn btn-sm btn-outline-secondary mr-2'><i class='fas fa-arrow-left' /></a>\n\t\t\t\t\t\t<h5><Text id='workout.plan.season'>Sesongen</Text> {seasonStart} - {seasonStart + 1}</h5>\n\t\t\t\t\t\t<small>{workoutPlan.id ? <>{workoutPlan.title}</> : <Text id='workout.plan.no-plan'>Ingen plan</Text>}</small><br />\n\t\t\t\t\t\t<small class='text-muted'><i class='fas fa-users' /> {currentTeamObject.name}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{months.map(m => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<CalendarPlan\n\t\t\t\t\t\t\tstores={this.props.stores}\n\t\t\t\t\t\t\tbasehref='/workouts/plan/'\n\t\t\t\t\t\t\tmonth={m.month}\n\t\t\t\t\t\t\tyear={m.year}\n\t\t\t\t\t\t\tkey={`${workoutPlan.id || seasonStart}-${currentTeam}-${workoutSummaryWeekDay.length}`}\n\t\t\t\t\t\t\tshowNavigation={false}\n\t\t\t\t\t\t\tcurrentTeam={currentTeam}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mb-2 mt-5'>\n\t\t\t\t\t\t{showDuplicate ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<h5><Text id='workout.plan.duplicate'>Legg til ny treningsrunde</Text></h5>\n                                <InputNew stores={this.props.stores} field='title' icon='fas fa-heading'\n                                    title={<Text id='workout.plan.title'>Tittel</Text>}\n                                    help={<Text id='workout.plan.title-help'>Tittel på denne treningplanen.</Text>} />\n                                <InputNew stores={this.props.stores} field='team' icon='fas fa-users'\n\t\t\t\t\t\t\t\t\ttype='select'\n\t\t\t\t\t\t\t\t\tdatalist={teams.filter(e => e.id !== workoutPlan.team).map(e => [e.id, e.name])}\n                                    title={<Text id='workout.plan.team'>Team</Text>}\n                                    help={<Text id='workout.plan.team-help'>Teamet som ønsker denne treningsplanen.</Text>} />\n\t\t\t\t\t\t\t\t<button class='btn btn-secondary' onClick={this.duplicateWorkoutPlan}>\n\t\t\t\t\t\t\t\t\t<Text id='workout.plan.save-new'>Lagre ny treningsplan</Text>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<button class='btn btn-secondary' onClick={this.toggleDuplicate}>\n\t\t\t\t\t\t\t\t\t<Text id='workout.plan.duplicate'>Duplisere treningsplan</Text>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WorkoutPlans;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport linkState from 'linkstate';\nimport { Text, Localizer, withText } from 'preact-i18n';\n\nimport Speed from '../../components/data/speed';\nimport Elevation from '../../components/data/elevation';\nimport Weight from '../../components/data/weight';\nimport Distance from '../../components/data/distance';\nimport Temperature from '../../components/data/temperature';\n\nimport mu from '../../lib/musher-util';\n\nconst RED_DAYS = [0, 6];\n\n@observer\nclass Calendar extends Component {\n\tsetFocus = () => {\n\t\tif (this.inputRef) {\n\t\t\tthis.inputRef.focus();\n\t\t}\n\t}\n\teditMonth = (e) => {\n\t\tconst month = e.target.parentElement.dataset.month || e.target.dataset.month;\n\t\tconst year = e.target.parentElement.dataset.year || e.target.dataset.year;\n\t\tconst distance = e.target.parentElement.dataset.distance || e.target.dataset.distance;\n\t\t// console.log({ month, year });\n\t\tthis.setState({\n\t\t\tshowInput: true,\n\t\t\tinputYear: year,\n\t\t\tinputMonth: month,\n\t\t\tinputDay: null,\n\t\t\tinputWeek: null,\n\t\t\tnewDistance: distance || null,\n\t\t}, () => this.setFocus());\n\t}\n\n\teditWeek = (e) => {\n\t\tconst week = e.target.parentElement.dataset.week || e.target.dataset.week;\n\t\tconst year = e.target.parentElement.dataset.year || e.target.dataset.year;\n\t\tconst distance = e.target.parentElement.dataset.distance || e.target.dataset.distance;\n\t\t// console.log({ week, year });\n\t\tthis.setState({\n\t\t\tshowInput: true,\n\t\t\tinputYear: year,\n\t\t\tinputWeek: week,\n\t\t\tinputMonth: null,\n\t\t\tinputDay: null,\n\t\t\tnewDistance: distance || null,\n\t\t}, () => this.setFocus());\n\t}\n\n\teditDay = (e) => {\n\t\tconst day = e.target.parentElement.dataset.day || e.target.dataset.day;\n\t\tconst month = e.target.parentElement.dataset.month || e.target.dataset.month;\n\t\tconst year = e.target.parentElement.dataset.year || e.target.dataset.year;\n\t\tconst week = e.target.parentElement.dataset.week || e.target.dataset.week;\n\t\tconst distance = e.target.parentElement.dataset.distance || e.target.dataset.distance;\n\t\t// console.log({ day, month, year });\n\t\tthis.setState({\n\t\t\tshowInput: true,\n\t\t\tinputYear: year,\n\t\t\tinputMonth: month,\n\t\t\tinputDay: day,\n\t\t\tinputWeek: week,\n\t\t\tnewDistance: distance || null,\n\t\t}, () => this.setFocus());\n\t}\n\n\tsaveDistance = async () => {\n\t\tconst { workoutPlanStore, workoutStore, userStore } = this.props.stores;\n\t\tconst { currentTeam } = workoutStore;\n\t\tconst teamName = userStore.findTeam(currentTeam) || '';\n\t\tconst { year, month } = this.props;\n\t\tconst { workoutPlans } = workoutPlanStore;\n\t\tconst workoutPlanCurrent = workoutPlans[0] || {};\n\t\tconst { inputYear, inputMonth, inputWeek, inputDay, newDistance } = this.state;\n\t\t// console.log({ showInput, inputYear, inputMonth, inputWeek, inputDay, newDistance });\n\n\t\tconst currentMonth = month || new Date().getMonth() + 1;\n\t\tconst currentYear = year || util.getYear();\n\t\tconst seasonStart = parseInt(currentMonth < 8 ? currentYear - 1 : currentYear, 10);\n\n\t\tif (!workoutPlanCurrent.id) {\n\t\t\tconst response = await workoutPlanStore.insert({\n\t\t\t\ttitle: `Workout plan for ${seasonStart} - ${seasonStart + 1}: ${teamName}`,\n\t\t\t\tteam: currentTeam,\n\t\t\t\tseasonYear: seasonStart,\n\t\t\t\tseasonMonth: 6,\n\t\t\t});\n\t\t\tconst { id: newId } = response.data;\n\t\t\tawait workoutPlanStore.load(newId);\n\t\t} else {\n\t\t\tawait workoutPlanStore.load(workoutPlanCurrent.id);\n\t\t}\n\t\tconst { workoutPlan } = workoutPlanStore;\n\t\tconst { id } = workoutPlan;\n\t\t// console.log({ id });\n\n\t\tlet field;\n\t\tif (inputYear) {\n\t\t\tif (inputDay) {\n\t\t\t\tfield = 'days';\n\t\t\t} else {\n\t\t\t\tfield = 'weeks';\n\t\t\t}\n\t\t}\n\t\tawait workoutPlanStore.saveField(id, field, {\n\t\t\tyear: inputYear,\n\t\t\tmonth: inputMonth,\n\t\t\tday: inputDay,\n\t\t\tweek: inputWeek,\n\t\t\tdistance: newDistance,\n\t\t});\n\t\tawait workoutPlanStore.load(id);\n\n\t\tthis.resetInput(true);\n\t}\n\n\tresetInput = (nextDay) => {\n\t\tif (nextDay) {\n\t\t\tconst { inputYear, inputMonth, inputDay } = this.state;\n\t\t\tconst nextDay = util.addDays(new Date(inputYear, inputMonth - 1, inputDay, 0, 0, 0, 0), 1);\n\t\t\tthis.setState({\n\t\t\t\tshowInput: true,\n\t\t\t\tinputYear: nextDay.getFullYear(),\n\t\t\t\tinputMonth: nextDay.getMonth() + 1,\n\t\t\t\tinputDay: nextDay.getDate(),\n\t\t\t\tinputWeek: util.getWeek(nextDay),\n\t\t\t\tnewDistance: null,\n\t\t\t});\n\t\t\tthis.setFocus();\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tshowInput: false,\n\t\t\t\tinputYear: null,\n\t\t\t\tinputMonth: null,\n\t\t\t\tinputDay: null,\n\t\t\t\tinputWeek: null,\n\t\t\t\tnewDistance: null,\n\t\t\t});\n\t\t}\n\t}\n\n\tcheckKeydown = (e) => {\n\t\tswitch (e.key) {\n\t\t\tcase 'Enter':\n\t\t\t\tthis.saveDistance();\n\t\t\t\tbreak;\n\n\t\t\tcase 'Escape':\n\t\t\t\tthis.resetInput();\n\t\t\t\tbreak;\n\t\t\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateWorkoutPlanTips();\n\t}\n\n\tupdateWorkoutPlanTips = () => {\n\t\t// console.log('updateWorkoutPlanTips');\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user = {} } = userStore;\n\t\tconst { settings = {} } = user;\n\t\tthis.setState({ hideWorkoutPlanTips: settings.hideWorkoutPlanTips });\n\t}\n\n\ttoggleTips = async () => {\n\t\tconst { hideWorkoutPlanTips } = this.state;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst newValue = hideWorkoutPlanTips === 1 ? 0 : 1;\n\t\tthis.setState({ hideWorkoutPlanTips: newValue });\n\t\tawait userStore.updateSetting({ 'settings.hideWorkoutPlanTips': newValue }, { hideWorkoutPlanTips: newValue });\n\t}\n\n\trender() {\n\t\tconst { hideWorkoutPlanTips } = this.state;\n\t\tconst { appState, workoutPlanStore, userStore, workoutStore, teamStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { language = 'en' } = user;\n\t\tconst { darkmode } = appState;\n\t\tconst DAYS = mu.getDays(language);\n\t\tconst MONTHS = mu.getMonths(language);\n\n\t\tconst { showInput, inputYear, inputMonth, inputWeek, inputDay, newDistance } = this.state;\n\n        const currentDay = new Date().getDate();\n        const currentMonth = new Date().getMonth() + 1;\n        const currentYear = new Date().getFullYear();\n\n\t\tconst currentEpoch = new Date().getTime();\n\t\tconst { month = currentMonth, year = currentYear, dog, basehref, showNavigation = true, showHeader = true, currentTeam } = this.props;\n\n\t\tconst seasonStart = parseInt(month < 8 ? year - 1 : year, 10);\n\n        const monthNum = parseInt(month, 10);\n        const yearNum = parseInt(year, 10);\n        const { month: nextMonth, year: nextYear } = mu.getNextMonth(monthNum, yearNum);\n        const { month: prevMonth, year: prevYear } = mu.getPrevMonth(monthNum, yearNum);\n\n        const daysOfMonth = util.getDaysInMonth(month, year);\n        const weeksInMonth = util.getWeeksInMonth(month, year);\n        const firstWeek = weeksInMonth[0].week;\n        const daysOfWeek = util.getDaysInWeek(firstWeek, year, month);\n        let totalDistanceKmMonth = 0;\n\t\tlet totalDistanceKmMonthPlan = 0;\n\t\tlet totalWorkoutDistanceKmMonth = 0;\n\n\t\tconst monthEpoch = daysOfMonth[daysOfMonth.length - 1].getTime();\n\t\tconst isMonthInTheFuture = monthEpoch > currentEpoch;\n\n\t\tconst summaryMonth = workoutPlanStore.findWorkoutPlanSummaryMonth(year, monthNum) || {};\n\t\tconst { workoutPlan, tips } = workoutPlanStore;\n\n\t\tconst tipsMonth = tips[`${year}-${util.padDate(month)}`];\n\t\tconst hasTipsMonth = tipsMonth && (tipsMonth.comments.length > 0 || tipsMonth.distance);\n\n\t\tconst team = teamStore.findTeam(currentTeam) || {};\n\n\t\treturn (\n\t\t\t<>\n                {showHeader && <>\n\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 text-center'>\n\t\t\t\t\t\t{showNavigation && <a href={`${basehref || '/workouts/month/'}${nextMonth}/${nextYear}/skipScroll`} class='float-right btn btn-sm btn-outline-secondary ml-2'><i class='fas fa-arrow-right' /></a>}\n\t\t\t\t\t\t{showNavigation && <a href={`${basehref || '/workouts/month/'}${prevMonth}/${prevYear}/skipScroll`} class='float-left btn btn-sm btn-outline-secondary mr-2'><i class='fas fa-arrow-left' /></a>}\n\t\t\t\t\t\t<h3><Text id='workout.plan.month'>Måned</Text> - {MONTHS[month - 1]} {year} {summaryMonth.distance ? `- ${util.format(summaryMonth.distance, 0)} km` : ''}</h3>\n\t\t\t\t\t\t<h5 class='text-muted font-weight-light'><Text id='workout.plan.season'>Sesongen</Text> {seasonStart} - {seasonStart + 1}</h5>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{workoutPlan.id ? <>\n\t\t\t\t\t\t\t\t<small>{workoutPlan.title}</small>\n\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t<div class='display-4'>\n\t\t\t\t\t\t\t\t\t<i class='far fa-sad-tear text-muted' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<h5 class='font-weight-lighter text-muted'>\n\t\t\t\t\t\t\t\t\t<Text id='workout.plan.no-workout-plan-found' fields={{ name: team }}>Ingen plan</Text>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t<div class='text-muted'>\n\t\t\t\t\t\t\t\t\t<Text id='workout.plan.click-to-start'>Click on a date to get started.</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{dog && <div>{dog.name}</div>}\n\t\t\t\t\t\t{/* <small>{util.isoDate(daysOfMonth[0], false, false, true)} - {util.isoDate(daysOfMonth[daysOfMonth.length - 1], false, false, true)}</small> */}\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\n                <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t{!!(showInput && inputYear && inputWeek && !inputDay) && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='form-inline w-100'>\n\t\t\t\t\t\t\t\t<div class='form-group w-75 mr-3 mb-0'>\n\t\t\t\t\t\t\t\t\t<input class='form-control w-100 form-control' type='text' \n\t\t\t\t\t\t\t\t\t\tplaceholder={`Enter distance for ${inputYear} w${inputWeek}`}\n\t\t\t\t\t\t\t\t\t\tref={c => this.inputRef = c}\n\t\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'newDistance')}\n\t\t\t\t\t\t\t\t\t\tonKeydown={this.checkKeydown}\n\t\t\t\t\t\t\t\t\t\tautocomplete='off'\n\t\t\t\t\t\t\t\t\t\tvalue={newDistance || ''}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-primary' onClick={this.saveDistance}><Text id='workout.plan.save'>Lagre</Text></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{!!(showInput && inputYear && inputMonth) && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div class='form-inline w-100'>\n\t\t\t\t\t\t\t\t<div class='form-group w-75 mr-3 mb-0'>\n\t\t\t\t\t\t\t\t\t<input class='form-control w-100 form-control' type='text'\n\t\t\t\t\t\t\t\t\t\tplaceholder={`Enter distance for ${inputYear}-${util.padDate(inputMonth)} ${inputDay ? `-${util.padDate(inputDay)}` : ''}`}\n\t\t\t\t\t\t\t\t\t\tref={c => this.inputRef = c}\n\t\t\t\t\t\t\t\t\t\tonInput={linkState(this, 'newDistance')}\n\t\t\t\t\t\t\t\t\t\tonKeydown={this.checkKeydown}\n\t\t\t\t\t\t\t\t\t\tautocomplete='off'\n\t\t\t\t\t\t\t\t\t\tvalue={newDistance || ''}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-primary' onClick={this.saveDistance}><Text id='workout.plan.save'>Lagre</Text></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{language === 'no' && <>\n\t\t\t\t\t{hideWorkoutPlanTips ? <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclass='btn btn-outline-primary btn-sm'\n\t\t\t\t\t\t\t\tonClick={this.toggleTips}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-eye' /> <Text id='workout.plan.show-tips'>Show tips</Text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</> : <>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-4 d-flex justify-content-end'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclass='btn btn-primary btn-sm'\n\t\t\t\t\t\t\t\tonClick={this.toggleTips}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-eye-slash' /> <Text id='workout.plan.hide-tips'>Hide tips</Text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t</>}\n\n                <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3'>\n\t\t\t\t\t<div class='table-responsive'>\n\t\t\t\t\t\t<table class='table table-striped table-sm'>\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class='text-muted'><small><Text id='workout.plan.week'>Uke</Text></small></th>\n\t\t\t\t\t\t\t\t\t{daysOfWeek.map(day => <th><small>{DAYS[day.getDay()]}</small></th>)}\n\t\t\t\t\t\t\t\t\t<th class='text-muted'><small><Text id='workout.plan.sum'>Sum</Text></small></th>\n\t\t\t\t\t\t\t\t\t<th class='text-muted'><small><Text id='workout.plan.planned'>Plan</Text></small></th>\n\t\t\t\t\t\t\t\t\t{/* <th class='text-muted'>Totalt</th> */}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{weeksInMonth && weeksInMonth.map(weekObj => {\n\t\t\t\t\t\t\t\t\tconst daysOfWeek = util.getDaysInWeek(weekObj.week, year, month);\n\t\t\t\t\t\t\t\t\tconst summaryWeek = workoutPlanStore.findWorkoutPlanSummaryWeek(util.asNumber(year), weekObj.week) || {};\n\t\t\t\t\t\t\t\t\tconst weekEpoch = daysOfWeek[6].getTime();\n\t\t\t\t\t\t\t\t\tconst isWeekInTheFuture = weekEpoch > currentEpoch;\n\t\t\t\t\t\t\t\t\tlet totalWeek = 0;\n\t\t\t\t\t\t\t\t\tlet totalWorkoutWeek = 0;\n\t\t\t\t\t\t\t\t\tif (summaryWeek.distance > 0) {\n\t\t\t\t\t\t\t\t\t\ttotalDistanceKmMonthPlan += summaryWeek.distance;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst tipsWeek = tips[`${year}-${util.padDate(month)}-w${util.padDate(weekObj.week)}`];\n\t\t\t\t\t\t\t\t\tconst hasTipsWeek = tipsWeek && (tipsWeek.comments.length > 0 || tipsWeek.distance);\n\n\t\t\t\t\t\t\t\t\treturn (<>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class={`text-right text-muted pt-3 border-right ${!inputDay && inputYear == year && inputWeek == weekObj.week ? 'border rounded border-primary' : ''}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<small onClick={this.editWeek} data-week={weekObj.week} data-year={year} data-distance={summaryWeek.distance}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{weekObj.week}\n\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{daysOfWeek.map(day => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst yyyy = day.getFullYear();\n\t\t\t\t\t\t\t\t\t\t\t\tconst mm = day.getMonth() + 1;\n\t\t\t\t\t\t\t\t\t\t\t\tconst dd = day.getDate();\n\t\t\t\t\t\t\t\t\t\t\t\tconst epoch = day.getTime();\n\t\t\t\t\t\t\t\t\t\t\t\tconst isDayInTheFuture = epoch > currentEpoch;\n\t\t\t\t\t\t\t\t\t\t\t\tconst summaryWorkout = userStore.findWorkoutSummaryWeekDay((isDayInTheFuture ? yyyy - 1 : yyyy), mm, dd, monthNum) || {};\n\t\t\t\t\t\t\t\t\t\t\t\tconst summary = workoutPlanStore.findWorkoutPlanSummaryDay(yyyy, mm, dd, monthNum) || {};\n\t\t\t\t\t\t\t\t\t\t\t\tif (summary && summary.distance) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalWeek += summary.distance;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalDistanceKmMonth += summary.distance;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif (summaryWorkout.distanceKm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalWorkoutWeek += summaryWorkout.distanceKm;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalWorkoutDistanceKmMonth += summaryWorkout.distanceKm;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tconst isChosen = (inputYear == yyyy && inputMonth == mm && inputDay == dd);\n\t\t\t\t\t\t\t\t\t\t\t\tconst isToday =  (currentYear == yyyy) && (currentMonth == mm) && (currentDay == dd);\n\t\t\t\t\t\t\t\t\t\t\t\tconst isDayOff = RED_DAYS.indexOf(day.getDay()) > -1;\n\n\t\t\t\t\t\t\t\t\t\t\t\t// console.log(summary);\n\t\t\t\t\t\t\t\t\t\t\t\t// count: 1, day: 5, distanceKm: 10, duration: 3600, elevation: 200, month: 9, speedAvg: 12, year: 2020\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class={`text-center overflow-hidden font-weight-light position-relative pt-3 pb-3 border-right ${isChosen ? 'calendarIsChosen' : ''} ${isToday ? 'calendarIsToday' : ''} ${isDayOff ? 'calendarIsWeekend' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`font-size: 0.8em; min-width: 3rem;`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.editDay} data-day={day.getDate()} data-month={day.getMonth() + 1} data-year={year} data-week={weekObj.week} data-distance={summary.distance}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='position-absolute text-muted' style='top: 0px; right: 2px; font-size: 0.7em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{day.getDate()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{summary && summary.distance ? \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='rounded-pill w-100 px-1'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`background-color: ${mu.getPlanColor(summary, darkmode)};`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={summary.distance} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{summary.count > 1 && <span class='position-absolute text-danger' style='bottom: 0; right: 0px; font-size: 0.6em;'>{summary.count}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> : '-'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{summaryWorkout.distanceKm > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class={`position-absolute font-weight-bold`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`bottom: 0; left: 0px; font-size: 0.85em; color: ${isDayInTheFuture ? '#393DB1' : '#2BAAA9'};`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={summaryWorkout.distanceKm} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t<td class='text-right pt-3 pb-3 position-relative border-right' style='font-size: 0.8em;'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={totalWeek} />\n\t\t\t\t\t\t\t\t\t\t\t\t{totalWorkoutWeek > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class={`position-absolute`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`bottom: 0; left: 0px; font-size: 0.85em; color: ${isWeekInTheFuture ? '#393DB1' : '#2BAAA9'};`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={totalWorkoutWeek} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class='text-right pt-3 pb-3 text-muted border-right' style='font-size: 0.8em;'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.editWeek} data-week={weekObj.week} data-year={year} data-distance={summaryWeek.distance}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{summaryWeek.distance > 0 && <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='rounded-pill w-100 px-1 text-white text-center'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={`background-color: ${mu.getPlanColor(summaryWeek, darkmode)};`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={summaryWeek.distance} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{/* <td class='text-right text-muted pt-3'>{totalDistanceKmMonth}</td> */}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t{!hideWorkoutPlanTips && language === 'no' && tipsWeek && hasTipsWeek && <tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan='10' class='pb-3'>\n\t\t\t\t\t\t\t\t\t\t\t\t<h5><span class='font-weight-lighter'>Uke {weekObj.week} {year}:</span>Tips fra Femundløpet</h5>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.totalDistance > 0 && <div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-road' /> Distanse</span>: {tipsWeek.totalDistance} km\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.distance > 0 && <div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-road' /> Distanse pr økt</span>: {tipsWeek.distance}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.time && <div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-clock' /> Tid pr økt</span>: {tipsWeek.time}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.totalWorkouts > 0 && <div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-list-ol' /> Antall økter</span>: {tipsWeek.totalWorkouts}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.avgSpeed && <div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-tachometer-alt' /> Gjennomsnittsfart</span>: {tipsWeek.avgSpeed}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.comments && <div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{tipsWeek.comments.map(c => <p>{c}</p>)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>}\n\n\t\t\t\t\t\t\t\t\t</>);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td colspan='8' class='text-right pb-3'><Text id='workout.plan.totalkm'>Totalt km</Text></td>\n\t\t\t\t\t\t\t\t\t<td class='text-right position-relative pb-3'>\n\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={totalDistanceKmMonth} />\n\t\t\t\t\t\t\t\t\t\t{totalWorkoutDistanceKmMonth > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<span class='position-absolute'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={`bottom: 0; left: 0px; font-size: 0.65em; color: ${isMonthInTheFuture ? '#393DB1' : '#2BAAA9'};`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={totalWorkoutDistanceKmMonth} />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class='text-right text-muted'>\n\t\t\t\t\t\t\t\t\t\t<Distance stores={this.props.stores} value={totalDistanceKmMonthPlan} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{!hideWorkoutPlanTips && language === 'no' && tipsMonth && hasTipsMonth && <tr>\n\t\t\t\t\t\t\t\t\t<td colspan='10' class='pb-3'>\n\t\t\t\t\t\t\t\t\t\t<h5><span class='font-weight-lighter'>{MONTHS[month - 1]} {year}:</span> Tips fra Femundløpet</h5>\n\n\t\t\t\t\t\t\t\t\t\t{tipsMonth.totalDistance > 0 && <div>\n\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-road' /> Distanse</span>: {tipsMonth.totalDistance} km\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t{tipsMonth.distance > 0 && <div>\n\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-road' /> Distanse pr økt</span>: {tipsMonth.distance}\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t{tipsMonth.time && <div>\n\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-clock' /> Tid pr økt</span>: {tipsMonth.time}\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t{tipsMonth.totalWorkouts > 0 && <div>\n\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-list-ol' /> Antall økter</span>: {tipsMonth.totalWorkouts}\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t{tipsMonth.avgSpeed && <div>\n\t\t\t\t\t\t\t\t\t\t\t<span class='text-muted'><i class='fas fa-tachometer-alt' /> Gjennomsnittsfart</span>: {tipsMonth.avgSpeed}\n\t\t\t\t\t\t\t\t\t\t</div>}\n\n\t\t\t\t\t\t\t\t\t\t{tipsMonth.comments && <div>\n\t\t\t\t\t\t\t\t\t\t\t{tipsMonth.comments.map(c => <p>{c}</p>)}\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>}\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Calendar;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction celciusToFahrenheit(value) {\n    return ((value * 9/5) + 32);\n}\n\n@observer\nclass Temperature extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(celciusToFahrenheit(value), 0)}°F\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)}°C\n            </nobr>\n        </>);\n    }\n}\n\nexport default Temperature;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kgToPounds(value) {\n    return 2.20462 * value;\n}\n\n@observer\nclass Weight extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kgToPounds(value), 0)} lb\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} kg\n            </nobr>\n        </>);\n    }\n}\n\nexport default Weight;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction meterToFeet(value) {\n    return 3.28084 * value;\n}\n\n@observer\nclass Elevation extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(meterToFeet(value), 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>ft</small></small></small></> : <>ft</>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 0)} {smallUnit ? <><small><small><small class='ml-0 text-muted'>m</small></small></small></> : <>m</>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Elevation;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\n\nfunction kmtToMph(value) {\n    return 0.621371 * value;\n}\n\n@observer\nclass Speed extends Component {\n    render() {\n\t\tconst { value = 0, smallUnit } = this.props;\n\t\tconst { userStore } = this.props.stores;\n\t\tconst { user } = userStore;\n\t\tconst { settings = {} } = user;\n\n        if (settings.imperial) {\n            return (<>\n                <nobr>\n                    {util.format(kmtToMph(value), 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.mph'>mph</Text></small></small></small></> : <><Text id='workouts.mph'>mph</Text></>}\n                </nobr>\n            </>);\n        }\n\n\t\treturn (<>\n            <nobr>\n                {util.format(value, 1)} {smallUnit ? <><small><small><small class='ml-0 text-muted'><Text id='workouts.kmt'>km/t</Text></small></small></small></> : <><Text id='workouts.kmt'>km/t</Text></>}\n            </nobr>\n        </>);\n    }\n}\n\nexport default Speed;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport ScrollIntoView from '../../components/util/scrollIntoView';\n\n@observer\nclass Teams extends Component {\n    toggleTeam = (team) => {\n\t\tconst { callback, unsetTeamIfSelected = true } = this.props;\n        const { dogStore, workoutStore } = this.props.stores;\n\t\tconst { currentTeam } = dogStore;\n\t\tif (unsetTeamIfSelected && team === currentTeam) {\n\t\t\tdogStore.setCurrentTeam(undefined);\n\t\t\tworkoutStore.setCurrentTeam(undefined);\n\t\t} else {\n\t\t\tdogStore.setCurrentTeam(team);\n\t\t\tworkoutStore.setCurrentTeam(team);\n\t\t}\n\t\tif (util.isDefined(callback)) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n    showAllTeams = () => {\n\t\tconst { callback } = this.props;\n        const { dogStore, workoutStore } = this.props.stores;\n\t\tdogStore.setCurrentTeam(undefined);\n\t\tworkoutStore.setCurrentTeam(undefined);\n\t\tif (util.isDefined(callback)) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// componentDidMount() {\n\t// \tif (this.container) {\n\t// \t\tthis.container.scrollIntoView({ behavior: 'smooth', block: 'end', inline: 'center' });\n\t// \t}\n\t// }\n\n    render() {\n        const { userStore, dogStore } = this.props.stores;\n        const { teams } = userStore;\n\t\tconst { currentTeam } = dogStore;\n\t\tconst { highlight, showAll = true } = this.props;\n        return (\n\t\t\t<div class='row mt-2'>\n\t\t\t\t<div class='w-100 overflow-hidden'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='d-flex flex-row flex-nowrap pb-2 px-1'\n\t\t\t\t\t\tstyle='overflow: auto; scroll-snap-type: x mandatory;'\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* <xmp><br /><br /><br /><br />{JSON.stringify(teams, null, 4)}</xmp> */}\n\t\t\t\t\t\t{teams && teams.map((team, idx) => {\n\t\t\t\t\t\t\tlet classNames;\n\t\t\t\t\t\t\tif (teams.length === 1) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-both';\n\t\t\t\t\t\t\t} else if (idx === 0) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-left';\n\t\t\t\t\t\t\t} else if (idx + 1 === teams.length) {\n\t\t\t\t\t\t\t\tclassNames = 'rounded-pill-right';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div class='col mb-0 px-0 clearfix' key={team.id}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass={`btn btn-sm btn-block \n\t\t\t\t\t\t\t\t\t\t\trounded-none ${classNames}\n\t\t\t\t\t\t\t\t\t\t\t${currentTeam === team.id ? 'btn-success' : 'btn-outline-success'}\n\t\t\t\t\t\t\t\t\t\t\ttext-nowrap clearfix`}\n\t\t\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.toggleTeam(team.id)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class='fas fa-users' /> {team.name}\n\n\t\t\t\t\t\t\t\t\t\t{highlight && highlight.indexOf(team.id) > -1 && <>\n\t\t\t\t\t\t\t\t\t\t\t{currentTeam === team.id ? <>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='fas fa-check float-right' />\n\t\t\t\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='spinner-grow text-warning float-right' role='status'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class='far fa-hand-point-left float-right' style='font-size: 2.0em;' />   \n\t\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{/* {currentTeam === team.id && <ScrollIntoView horizontal={'center'} vertical={'end'} />} */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t{showAll && <div class='row'>\n\t\t\t\t\t\t<div class='col-12 mb-1 px-1 d-flex justify-content-center'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass={`btn btn-sm rounded-lg btn-link text-nowrap clearfix`}\n\t\t\t\t\t\t\t\tstyle='text-overflow: ellipsis; overflow: hidden;'\n\t\t\t\t\t\t\t\tonClick={this.showAllTeams}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-users' /> <Text id='teams.show-all'>Show all</Text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>}\n\t\t\t\t</div>\n\t\t\t</div>\n        );\n    }\n}\n\nexport default Teams;\n"],"sourceRoot":""}