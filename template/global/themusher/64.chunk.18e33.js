(window.webpackJsonp=window.webpackJsonp||[]).push([[64,5,11,80],{"/V/i":function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("QRet"),n("Utv1")),c=n("/eY4"),l=(n("OhSV"),{}),h=Object(c.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).toggleFocusOnMusher=function(t){var e=n.props.stores,s=e.appState,o=e.raceStore;s.toggleFocusOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10)),o.getWorkoutSummaryActiveTeams(s.focusOnMushers)},n.toggleInfoOnMusher=function(t){n.props.stores.appState.toggleInfoOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10))},n.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},l),n}var a,c;return c=e,(a=n).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,n.prototype.render=function(){var e,n,s,o=this.props.stores,a=o.raceStore,c=o.appState,l=this.props,h=l.team,u=void 0===h?{}:h,d=l.idx,b=c.focusOnMushers,p=void 0===b?[]:b,m=c.infoOnMushers,g=void 0===m?[]:m,f=a.getActiveTeamById(u.id),O=a.getWorkoutSummaryByTeam(u.id),j=a.getClassByTeamId(u.id),v=a.getWorkoutResultsByTeam(O,j.distance),w=a.getMusherByTeamId(u.id),y=u.images&&u.images.length>0?u.images[0]:{},x=a.getClassByTeamId(u.id),k=v.distanceKm/j.distance*100,S=k>0?1:0;f&&f.currentLocation&&f.currentLocation.coords&&(e=3.6*f.currentLocation.coords.speed,n=f.currentLocation.timestamp,s=!0);var T=x.distance-v.distanceKm;return T<0&&(T=0),Object(r.h)(t,null,Object(r.h)("div",{class:"row border-top mt-2",style:"font-size: 0.7em;"},Object(r.h)("div",{class:"col-2 p-0 text-center"},Object(r.h)("h2",null,d+1)),Object(r.h)("div",{class:"col-2 p-0 text-center"},Object(r.h)("div",{class:"text-center text-muted pt-2 h-100",style:'background-image: url("'+y.s3SmallLink+'"); background-size: cover;',onClick:this.toggleInfoOnMusher,"data-musherid":u.id},!y.s3SmallLink&&Object(r.h)(t,null,Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},i.a.ucfirst(String(w.firstname),!0),i.a.ucfirst(String(w.lastname),!0))))),Object(r.h)("div",{class:"col-8"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-6 px-1"},Object(r.h)("span",{class:"font-weight-bold"},w.firstname," ",w.lastname),Object(r.h)("br",null),Object(r.h)("span",{class:"font-weight-lighter"},u.name),Object(r.h)("br",null),x&&x.title&&Object(r.h)(t,null,Object(r.h)("span",{class:"font-weight-lighter"},x.title))),Object(r.h)("div",{class:"col-3 p-0 text-center"},Object(r.h)("span",{class:"font-weight-lighter"},"km"),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 2.0em;"},i.a.format(v.distanceKm,0))),Object(r.h)("div",{class:"col-3 p-0 text-center"},Object(r.h)("span",{class:"font-weight-lighter"},"to finish"),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 2.0em;"},0===T?Object(r.h)("i",{class:"fas fa-flag-checkered text-success"}):Object(r.h)(t,null,i.a.format(T,0))))),Object(r.h)("div",{class:"row border-top"},Object(r.h)("div",{class:"col-3 p-0 text-center"},Object(r.h)("span",{class:"font-weight-lighter"},"Rest"),Object(r.h)("br",null),i.a.secToHms(v.rest)),Object(r.h)("div",{class:"col-3 p-0 text-center"},Object(r.h)("span",{class:"font-weight-lighter"},"Speed"),Object(r.h)("br",null),e?Object(r.h)(t,null,i.a.format(e,1)," km/t"):"-"),Object(r.h)("div",{class:"col-3 p-0 text-center"},Object(r.h)("span",{class:"font-weight-lighter"},"Status"),Object(r.h)("br",null),1===f.isInProgress?Object(r.h)("span",{class:"text-primary"},"running"):"",2===f.isInProgress?Object(r.h)("span",{class:"text-danger"},"resting"):"",0===T?Object(r.h)(t,null,f.isInProgress?"":Object(r.h)("span",{class:"text-success"},"FINISH")):Object(r.h)(t,null,f.isInProgress?"":Object(r.h)(t,null,S?Object(r.h)("span",{class:"text-danger"},"resting"):Object(r.h)("span",{class:"text-muted"},"NYS")))),Object(r.h)("div",{class:"col-3 p-0 text-center align-bottom"},Object(r.h)("h5",null,u.dogs&&u.dogs?i.a.format(u.dogs.length,0):"-"," ",Object(r.h)("i",{class:"fas fa-dog text-muted ml-2"})))))),Object(r.h)("div",{class:"row bg-secondary text-white",style:"font-size: 0.8em;"},Object(r.h)("div",{class:"col-6 text-left",style:"font-size: 0.8em;"},s&&Object(r.h)(t,null,"Updated: ",i.a.formatDistance(n,new Date)," ago")),Object(r.h)("div",{class:"col-6 text-right"},Object(r.h)("span",{class:"float-right",onClick:this.toggleFocusOnMusher,"data-musherid":u.id},p.indexOf(u.id)>-1?Object(r.h)("i",{class:"fas fa-star text-warning"}):Object(r.h)("i",{class:"far fa-star"})),Object(r.h)("span",{class:"float-right mr-2",onClick:this.toggleInfoOnMusher,"data-musherid":u.id},g.indexOf(u.id)>-1?Object(r.h)("i",{class:"fas fa-info-circle text-warning"}):Object(r.h)("i",{class:"fas fa-info-circle"})),s&&f.currentLocation.battery.level>0&&Object(r.h)(t,null,Object(r.h)("span",{class:"float-right mr-2"},Object(r.h)("i",{class:"fas fa-battery-three-quarters text-muted ml-2 mr-1"}),i.a.format(100*f.currentLocation.battery.level,0),"%")))))},n}(r.Component))||a;e.a=h}).call(this,n("hosL").Fragment)},"3kDq":function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=n("QRet"),c=n("Utv1"),l=n("/eY4"),h=n("OhSV"),u={},d=Object(l.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},u),n}var a,l;return l=e,(a=n).prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l,n.prototype.render=function(){var e=this.props.stores,n=e.appState,s=this.props.title,o=n.language,a=void 0===o?"en":o,l=e.raceStore.race,u=new Date,d="";return u>=new Date(l.startDate)&&u<=new Date(l.endDate)?d="race":u>=new Date(l.signupStartDate)&&u<=new Date(l.signupEndDate)?d="signup":u>new Date(l.endDate)&&(d="done"),Object(r.h)(t,null,Object(r.h)("div",{class:"d-flex"},Object(r.h)("div",{class:"flex-fill"},function(t,e){return void 0===e&&(e=""),Object(i.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(r.h)("h1",{class:e},t)}(s,"mb-0")),Object(r.h)("div",{class:"flex-fill text-center d-none d-md-block"},Object(r.h)("h1",{class:"mb-0",style:"line-height: 0.8em;"},Object(r.h)("span",{class:"font-weight-lighter",style:"letter-spacing: -1px;"},l.title)),Object(r.h)("small",{class:""},l.startDate&&Object(r.h)(t,null,c.a.formatDate(l.startDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),l.endDate&&Object(r.h)(t,null," - ",c.a.formatDate(l.endDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(r.h)("div",{class:"flex-fill"},Object(r.h)("h3",{class:"float-right"},"signup"===d&&!l.liveRace&&Object(r.h)(t,null,Object(r.h)("div",{class:"spinner-grow text-primary",role:"status"}),Object(r.h)("span",{class:"badge badge-primary ml-2"},Object(r.h)(h.c,{id:"races.signup-open"},"Påmelding åpen"))),"race"===d&&Object(r.h)(t,null,Object(r.h)("div",{class:"spinner-grow text-danger",role:"status"}),Object(r.h)("span",{class:"badge badge-danger ml-2"},Object(r.h)(h.c,{id:"races.race-in-progress"},"Løp pågår"))),"done"===d&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-check text-success"}),Object(r.h)("span",{class:"badge badge-success ml-2"},Object(r.h)(h.c,{id:"races.race-finished"},"Løp avsluttet")))))),Object(r.h)("div",{class:"d-block d-md-none"},Object(r.h)("h4",{class:"mb-0",style:"line-height: 0.8em;"},Object(r.h)("span",{class:"font-weight-light",style:"letter-spacing: -1px;"},l.title)),Object(r.h)("small",null,l.startDate&&Object(r.h)(t,null,c.a.formatDate(l.startDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),l.endDate&&Object(r.h)(t,null," - ",c.a.formatDate(l.endDate,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})))))},n}(r.Component))||a;e.a=d}).call(this,n("hosL").Fragment)},"5l0g":function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("Utv1"),n("/eY4")),c=(n("OhSV"),n("cneo"),n("HqZR")),l=(n("ZOvn"),{showAddComment:!1}),h=Object(i.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},l),n.updateTimer={},n.inputRef={},n}var a,i;i=e,(a=n).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i;var h=n.prototype;return h.loadHeatmap=function(){return new Promise(function(t,e){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.adminStore.getPublicHeatmap(this.props.raceid)).then(function(){try{return this.setState({isLoading:!1}),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},h.componentDidMount=function(){this.loadHeatmap()},h.render=function(){var e=this.props,n=e.waypoints,s=e.zoomToMarkers,o=e.mapid,a=e.fullscreenMap,i=this.props.stores.adminStore.publicHeatmap;return Object(r.h)(t,null,Object(r.h)(c.a,{stores:this.props.stores,mapId:i.length,heatmap:i,minZoom:2,maxZoom:18,height:600,waypoints:n,zoomToMarkers:s,fullscreenMap:a,key:"map-"+o}))},n}(r.Component))||a;e.a=h}).call(this,n("hosL").Fragment)},"68RK":function(t,e,n){"use strict";var s=n("ivZ3"),o=n("Utv1"),a=n("ZOvn"),r={adit:new s.Icon({iconUrl:"./assets/svg/adit.svg",iconSize:[30,30],iconAnchor:[10,30]}),airport:new s.Icon({iconUrl:"./assets/svg/airport.svg",iconSize:[30,30],iconAnchor:[10,30]}),analyse:new s.Icon({iconUrl:"./assets/svg/analyse.svg",iconSize:[30,30],iconAnchor:[10,30]}),archaeological:new s.Icon({iconUrl:"./assets/svg/archaeological.svg",iconSize:[30,30],iconAnchor:[10,30]}),architecture:new s.Icon({iconUrl:"./assets/svg/architecture.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up:new s.Icon({iconUrl:"./assets/svg/arrow_up.svg",iconSize:[30,30],iconAnchor:[10,30]}),arrow_up_double:new s.Icon({iconUrl:"./assets/svg/arrow_up_double.svg",iconSize:[30,30],iconAnchor:[10,30]}),atm:new s.Icon({iconUrl:"./assets/svg/atm.svg",iconSize:[30,30],iconAnchor:[10,30]}),avatar:new s.Icon({iconUrl:"./assets/svg/avatar.svg",iconSize:[30,30],iconAnchor:[10,30]}),bag:new s.Icon({iconUrl:"./assets/svg/bag.svg",iconSize:[30,30],iconAnchor:[10,30]}),bar:new s.Icon({iconUrl:"./assets/svg/bar.svg",iconSize:[30,30],iconAnchor:[10,30]}),barracks:new s.Icon({iconUrl:"./assets/svg/barracks.svg",iconSize:[30,30],iconAnchor:[10,30]}),battlefield:new s.Icon({iconUrl:"./assets/svg/battlefield.svg",iconSize:[30,30],iconAnchor:[10,30]}),beach:new s.Icon({iconUrl:"./assets/svg/beach.svg",iconSize:[30,30],iconAnchor:[10,30]}),bicycle:new s.Icon({iconUrl:"./assets/svg/bicycle.svg",iconSize:[30,30],iconAnchor:[10,30]}),boundary_stone:new s.Icon({iconUrl:"./assets/svg/boundary_stone.svg",iconSize:[30,30],iconAnchor:[10,30]}),buddhism:new s.Icon({iconUrl:"./assets/svg/buddhism.svg",iconSize:[30,30],iconAnchor:[10,30]}),building:new s.Icon({iconUrl:"./assets/svg/building.svg",iconSize:[30,30],iconAnchor:[10,30]}),burger:new s.Icon({iconUrl:"./assets/svg/burger.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus:new s.Icon({iconUrl:"./assets/svg/bus.svg",iconSize:[30,30],iconAnchor:[10,30]}),bus_stop:new s.Icon({iconUrl:"./assets/svg/bus_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),cable_car:new s.Icon({iconUrl:"./assets/svg/cable_car.svg",iconSize:[30,30],iconAnchor:[10,30]}),camera:new s.Icon({iconUrl:"./assets/svg/camera.svg",iconSize:[30,30],iconAnchor:[10,30]}),camp_site:new s.Icon({iconUrl:"./assets/svg/camp_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),car:new s.Icon({iconUrl:"./assets/svg/car.svg",iconSize:[30,30],iconAnchor:[10,30]}),caravan_site:new s.Icon({iconUrl:"./assets/svg/caravan_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),cartography:new s.Icon({iconUrl:"./assets/svg/cartography.svg",iconSize:[30,30],iconAnchor:[10,30]}),cash:new s.Icon({iconUrl:"./assets/svg/cash.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle:new s.Icon({iconUrl:"./assets/svg/castle.svg",iconSize:[30,30],iconAnchor:[10,30]}),castle_defensive:new s.Icon({iconUrl:"./assets/svg/castle_defensive.svg",iconSize:[30,30],iconAnchor:[10,30]}),cave_entrance:new s.Icon({iconUrl:"./assets/svg/cave_entrance.svg",iconSize:[30,30],iconAnchor:[10,30]}),cemetery:new s.Icon({iconUrl:"./assets/svg/cemetery.svg",iconSize:[30,30],iconAnchor:[10,30]}),chapel:new s.Icon({iconUrl:"./assets/svg/chapel.svg",iconSize:[30,30],iconAnchor:[10,30]}),christianism:new s.Icon({iconUrl:"./assets/svg/christianism.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema:new s.Icon({iconUrl:"./assets/svg/cinema.svg",iconSize:[30,30],iconAnchor:[10,30]}),cinema_alt:new s.Icon({iconUrl:"./assets/svg/cinema_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),city:new s.Icon({iconUrl:"./assets/svg/city.svg",iconSize:[30,30],iconAnchor:[10,30]}),cityhall:new s.Icon({iconUrl:"./assets/svg/cityhall.svg",iconSize:[30,30],iconAnchor:[10,30]}),clean:new s.Icon({iconUrl:"./assets/svg/clean.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass:new s.Icon({iconUrl:"./assets/svg/compass.svg",iconSize:[30,30],iconAnchor:[10,30]}),compass_alt:new s.Icon({iconUrl:"./assets/svg/compass_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),construction:new s.Icon({iconUrl:"./assets/svg/construction.svg",iconSize:[30,30],iconAnchor:[10,30]}),contour:new s.Icon({iconUrl:"./assets/svg/contour.svg",iconSize:[30,30],iconAnchor:[10,30]}),court_house:new s.Icon({iconUrl:"./assets/svg/court_house.svg",iconSize:[30,30],iconAnchor:[10,30]}),crown:new s.Icon({iconUrl:"./assets/svg/crown.svg",iconSize:[30,30],iconAnchor:[10,30]}),crucifix:new s.Icon({iconUrl:"./assets/svg/crucifix.svg",iconSize:[30,30],iconAnchor:[10,30]}),data:new s.Icon({iconUrl:"./assets/svg/data.svg",iconSize:[30,30],iconAnchor:[10,30]}),database:new s.Icon({iconUrl:"./assets/svg/database.svg",iconSize:[30,30],iconAnchor:[10,30]}),dentist:new s.Icon({iconUrl:"./assets/svg/dentist.svg",iconSize:[30,30],iconAnchor:[10,30]}),disabled:new s.Icon({iconUrl:"./assets/svg/disabled.svg",iconSize:[30,30],iconAnchor:[10,30]}),dislike:new s.Icon({iconUrl:"./assets/svg/dislike.svg",iconSize:[30,30],iconAnchor:[10,30]}),download:new s.Icon({iconUrl:"./assets/svg/download.svg",iconSize:[30,30],iconAnchor:[10,30]}),drag_lift:new s.Icon({iconUrl:"./assets/svg/drag_lift.svg",iconSize:[30,30],iconAnchor:[10,30]}),drop:new s.Icon({iconUrl:"./assets/svg/drop.svg",iconSize:[30,30],iconAnchor:[10,30]}),eye:new s.Icon({iconUrl:"./assets/svg/eye.svg",iconSize:[30,30],iconAnchor:[10,30]}),facebook:new s.Icon({iconUrl:"./assets/svg/facebook.svg",iconSize:[30,30],iconAnchor:[10,30]}),fire:new s.Icon({iconUrl:"./assets/svg/fire.svg",iconSize:[30,30],iconAnchor:[10,30]}),fishing:new s.Icon({iconUrl:"./assets/svg/fishing.svg",iconSize:[30,30],iconAnchor:[10,30]}),flag:new s.Icon({iconUrl:"./assets/svg/flag.svg",iconSize:[30,30],iconAnchor:[10,30]}),forbidden:new s.Icon({iconUrl:"./assets/svg/forbidden.svg",iconSize:[30,30],iconAnchor:[10,30]}),fort:new s.Icon({iconUrl:"./assets/svg/fort.svg",iconSize:[30,30],iconAnchor:[10,30]}),fountain:new s.Icon({iconUrl:"./assets/svg/fountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel:new s.Icon({iconUrl:"./assets/svg/fuel.svg",iconSize:[30,30],iconAnchor:[10,30]}),fuel_alt:new s.Icon({iconUrl:"./assets/svg/fuel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),gallery:new s.Icon({iconUrl:"./assets/svg/gallery.svg",iconSize:[30,30],iconAnchor:[10,30]}),gear:new s.Icon({iconUrl:"./assets/svg/gear.svg",iconSize:[30,30],iconAnchor:[10,30]}),github:new s.Icon({iconUrl:"./assets/svg/github.svg",iconSize:[30,30],iconAnchor:[10,30]}),go:new s.Icon({iconUrl:"./assets/svg/go.svg",iconSize:[30,30],iconAnchor:[10,30]}),golf:new s.Icon({iconUrl:"./assets/svg/golf.svg",iconSize:[30,30],iconAnchor:[10,30]}),heart:new s.Icon({iconUrl:"./assets/svg/heart.svg",iconSize:[30,30],iconAnchor:[10,30]}),helicopter:new s.Icon({iconUrl:"./assets/svg/helicopter.svg",iconSize:[30,30],iconAnchor:[10,30]}),home:new s.Icon({iconUrl:"./assets/svg/home.svg",iconSize:[30,30],iconAnchor:[10,30]}),hospital:new s.Icon({iconUrl:"./assets/svg/hospital.svg",iconSize:[30,30],iconAnchor:[10,30]}),hostel:new s.Icon({iconUrl:"./assets/svg/hostel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel:new s.Icon({iconUrl:"./assets/svg/hotel.svg",iconSize:[30,30],iconAnchor:[10,30]}),hotel_alt:new s.Icon({iconUrl:"./assets/svg/hotel_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),ice_ring:new s.Icon({iconUrl:"./assets/svg/ice_ring.svg",iconSize:[30,30],iconAnchor:[10,30]}),information:new s.Icon({iconUrl:"./assets/svg/information.svg",iconSize:[30,30],iconAnchor:[10,30]}),internet:new s.Icon({iconUrl:"./assets/svg/internet.svg",iconSize:[30,30],iconAnchor:[10,30]}),invisible:new s.Icon({iconUrl:"./assets/svg/invisible.svg",iconSize:[30,30],iconAnchor:[10,30]}),islamism:new s.Icon({iconUrl:"./assets/svg/islamism.svg",iconSize:[30,30],iconAnchor:[10,30]}),island:new s.Icon({iconUrl:"./assets/svg/island.svg",iconSize:[30,30],iconAnchor:[10,30]}),judaism:new s.Icon({iconUrl:"./assets/svg/judaism.svg",iconSize:[30,30],iconAnchor:[10,30]}),laptop:new s.Icon({iconUrl:"./assets/svg/laptop.svg",iconSize:[30,30],iconAnchor:[10,30]}),library:new s.Icon({iconUrl:"./assets/svg/library.svg",iconSize:[30,30],iconAnchor:[10,30]}),lighthouse:new s.Icon({iconUrl:"./assets/svg/lighthouse.svg",iconSize:[30,30],iconAnchor:[10,30]}),like:new s.Icon({iconUrl:"./assets/svg/like.svg",iconSize:[30,30],iconAnchor:[10,30]}),linkedin:new s.Icon({iconUrl:"./assets/svg/linkedin.svg",iconSize:[30,30],iconAnchor:[10,30]}),lion:new s.Icon({iconUrl:"./assets/svg/lion.svg",iconSize:[30,30],iconAnchor:[10,30]}),lock:new s.Icon({iconUrl:"./assets/svg/lock.svg",iconSize:[30,30],iconAnchor:[10,30]}),magnifier:new s.Icon({iconUrl:"./assets/svg/magnifier.svg",iconSize:[30,30],iconAnchor:[10,30]}),mall:new s.Icon({iconUrl:"./assets/svg/mall.svg",iconSize:[30,30],iconAnchor:[10,30]}),map:new s.Icon({iconUrl:"./assets/svg/map.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapkey:new s.Icon({iconUrl:"./assets/svg/mapkey.svg",iconSize:[30,30],iconAnchor:[10,30]}),mapshakers:new s.Icon({iconUrl:"./assets/svg/mapshakers.svg",iconSize:[30,30],iconAnchor:[10,30]}),marina:new s.Icon({iconUrl:"./assets/svg/marina.svg",iconSize:[30,30],iconAnchor:[10,30]}),marker:new s.Icon({iconUrl:"./assets/svg/marker.svg",iconSize:[30,30],iconAnchor:[10,30]}),market_place:new s.Icon({iconUrl:"./assets/svg/market_place.svg",iconSize:[30,30],iconAnchor:[10,30]}),mine:new s.Icon({iconUrl:"./assets/svg/mine.svg",iconSize:[30,30],iconAnchor:[10,30]}),monument:new s.Icon({iconUrl:"./assets/svg/monument.svg",iconSize:[30,30],iconAnchor:[10,30]}),mountain:new s.Icon({iconUrl:"./assets/svg/mountain.svg",iconSize:[30,30],iconAnchor:[10,30]}),museum:new s.Icon({iconUrl:"./assets/svg/museum.svg",iconSize:[30,30],iconAnchor:[10,30]}),music:new s.Icon({iconUrl:"./assets/svg/music.svg",iconSize:[30,30],iconAnchor:[10,30]}),nature:new s.Icon({iconUrl:"./assets/svg/nature.svg",iconSize:[30,30],iconAnchor:[10,30]}),nocamera:new s.Icon({iconUrl:"./assets/svg/nocamera.svg",iconSize:[30,30],iconAnchor:[10,30]}),nonsmoking:new s.Icon({iconUrl:"./assets/svg/nonsmoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),north:new s.Icon({iconUrl:"./assets/svg/north.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt:new s.Icon({iconUrl:"./assets/svg/north_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_II:new s.Icon({iconUrl:"./assets/svg/north_alt_II.svg",iconSize:[30,30],iconAnchor:[10,30]}),north_alt_III:new s.Icon({iconUrl:"./assets/svg/north_alt_III.svg",iconSize:[30,30],iconAnchor:[10,30]}),oppositeway:new s.Icon({iconUrl:"./assets/svg/oppositeway.svg",iconSize:[30,30],iconAnchor:[10,30]}),parking:new s.Icon({iconUrl:"./assets/svg/parking.svg",iconSize:[30,30],iconAnchor:[10,30]}),pharmacy:new s.Icon({iconUrl:"./assets/svg/pharmacy.svg",iconSize:[30,30],iconAnchor:[10,30]}),picnic_site:new s.Icon({iconUrl:"./assets/svg/picnic_site.svg",iconSize:[30,30],iconAnchor:[10,30]}),pitch:new s.Icon({iconUrl:"./assets/svg/pitch.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground:new s.Icon({iconUrl:"./assets/svg/playground.svg",iconSize:[30,30],iconAnchor:[10,30]}),playground_alt:new s.Icon({iconUrl:"./assets/svg/playground_alt.svg",iconSize:[30,30],iconAnchor:[10,30]}),police:new s.Icon({iconUrl:"./assets/svg/police.svg",iconSize:[30,30],iconAnchor:[10,30]}),post_office:new s.Icon({iconUrl:"./assets/svg/post_office.svg",iconSize:[30,30],iconAnchor:[10,30]}),pub:new s.Icon({iconUrl:"./assets/svg/pub.svg",iconSize:[30,30],iconAnchor:[10,30]}),restaurant:new s.Icon({iconUrl:"./assets/svg/restaurant.svg",iconSize:[30,30],iconAnchor:[10,30]}),rocks:new s.Icon({iconUrl:"./assets/svg/rocks.svg",iconSize:[30,30],iconAnchor:[10,30]}),ruins:new s.Icon({iconUrl:"./assets/svg/ruins.svg",iconSize:[30,30],iconAnchor:[10,30]}),saddle:new s.Icon({iconUrl:"./assets/svg/saddle.svg",iconSize:[30,30],iconAnchor:[10,30]}),sailboat:new s.Icon({iconUrl:"./assets/svg/sailboat.svg",iconSize:[30,30],iconAnchor:[10,30]}),school:new s.Icon({iconUrl:"./assets/svg/school.svg",iconSize:[30,30],iconAnchor:[10,30]}),seal:new s.Icon({iconUrl:"./assets/svg/seal.svg",iconSize:[30,30],iconAnchor:[10,30]}),shelter:new s.Icon({iconUrl:"./assets/svg/shelter.svg",iconSize:[30,30],iconAnchor:[10,30]}),sinkhole:new s.Icon({iconUrl:"./assets/svg/sinkhole.svg",iconSize:[30,30],iconAnchor:[10,30]}),skype:new s.Icon({iconUrl:"./assets/svg/skype.svg",iconSize:[30,30],iconAnchor:[10,30]}),smartphone:new s.Icon({iconUrl:"./assets/svg/smartphone.svg",iconSize:[30,30],iconAnchor:[10,30]}),smoking:new s.Icon({iconUrl:"./assets/svg/smoking.svg",iconSize:[30,30],iconAnchor:[10,30]}),sport_centre:new s.Icon({iconUrl:"./assets/svg/sport_centre.svg",iconSize:[30,30],iconAnchor:[10,30]}),spring:new s.Icon({iconUrl:"./assets/svg/spring.svg",iconSize:[30,30],iconAnchor:[10,30]}),square:new s.Icon({iconUrl:"./assets/svg/square.svg",iconSize:[30,30],iconAnchor:[10,30]}),stadium:new s.Icon({iconUrl:"./assets/svg/stadium.svg",iconSize:[30,30],iconAnchor:[10,30]}),star:new s.Icon({iconUrl:"./assets/svg/star.svg",iconSize:[30,30],iconAnchor:[10,30]}),stop:new s.Icon({iconUrl:"./assets/svg/stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),stupa:new s.Icon({iconUrl:"./assets/svg/stupa.svg",iconSize:[30,30],iconAnchor:[10,30]}),supermarket:new s.Icon({iconUrl:"./assets/svg/supermarket.svg",iconSize:[30,30],iconAnchor:[10,30]}),swimming_pool:new s.Icon({iconUrl:"./assets/svg/swimming_pool.svg",iconSize:[30,30],iconAnchor:[10,30]}),telephone:new s.Icon({iconUrl:"./assets/svg/telephone.svg",iconSize:[30,30],iconAnchor:[10,30]}),theatre:new s.Icon({iconUrl:"./assets/svg/theatre.svg",iconSize:[30,30],iconAnchor:[10,30]}),ticket:new s.Icon({iconUrl:"./assets/svg/ticket.svg",iconSize:[30,30],iconAnchor:[10,30]}),toilet:new s.Icon({iconUrl:"./assets/svg/toilet.svg",iconSize:[30,30],iconAnchor:[10,30]}),tower:new s.Icon({iconUrl:"./assets/svg/tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),town:new s.Icon({iconUrl:"./assets/svg/town.svg",iconSize:[30,30],iconAnchor:[10,30]}),traffic_signal:new s.Icon({iconUrl:"./assets/svg/traffic_signal.svg",iconSize:[30,30],iconAnchor:[10,30]}),train:new s.Icon({iconUrl:"./assets/svg/train.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram:new s.Icon({iconUrl:"./assets/svg/tram.svg",iconSize:[30,30],iconAnchor:[10,30]}),tram_stop:new s.Icon({iconUrl:"./assets/svg/tram_stop.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_cinofer:new s.Icon({iconUrl:"./assets/svg/tree_cinofer.svg",iconSize:[30,30],iconAnchor:[10,30]}),tree_leaf:new s.Icon({iconUrl:"./assets/svg/tree_leaf.svg",iconSize:[30,30],iconAnchor:[10,30]}),triangle:new s.Icon({iconUrl:"./assets/svg/triangle.svg",iconSize:[30,30],iconAnchor:[10,30]}),underground:new s.Icon({iconUrl:"./assets/svg/underground.svg",iconSize:[30,30],iconAnchor:[10,30]}),unesco:new s.Icon({iconUrl:"./assets/svg/unesco.svg",iconSize:[30,30],iconAnchor:[10,30]}),university:new s.Icon({iconUrl:"./assets/svg/university.svg",iconSize:[30,30],iconAnchor:[10,30]}),upload:new s.Icon({iconUrl:"./assets/svg/upload.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewpoint:new s.Icon({iconUrl:"./assets/svg/viewpoint.svg",iconSize:[30,30],iconAnchor:[10,30]}),viewtower:new s.Icon({iconUrl:"./assets/svg/viewtower.svg",iconSize:[30,30],iconAnchor:[10,30]}),village:new s.Icon({iconUrl:"./assets/svg/village.svg",iconSize:[30,30],iconAnchor:[10,30]}),vineyard:new s.Icon({iconUrl:"./assets/svg/vineyard.svg",iconSize:[30,30],iconAnchor:[10,30]}),volcano:new s.Icon({iconUrl:"./assets/svg/volcano.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_tower:new s.Icon({iconUrl:"./assets/svg/water_tower.svg",iconSize:[30,30],iconAnchor:[10,30]}),water_well:new s.Icon({iconUrl:"./assets/svg/water_well.svg",iconSize:[30,30],iconAnchor:[10,30]}),watermill:new s.Icon({iconUrl:"./assets/svg/watermill.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterpark:new s.Icon({iconUrl:"./assets/svg/waterpark.svg",iconSize:[30,30],iconAnchor:[10,30]}),waterwork:new s.Icon({iconUrl:"./assets/svg/waterwork.svg",iconSize:[30,30],iconAnchor:[10,30]}),wayside_cross:new s.Icon({iconUrl:"./assets/svg/wayside_cross.svg",iconSize:[30,30],iconAnchor:[10,30]}),wind_generator:new s.Icon({iconUrl:"./assets/svg/wind_generator.svg",iconSize:[30,30],iconAnchor:[10,30]}),windmill:new s.Icon({iconUrl:"./assets/svg/windmill.svg",iconSize:[30,30],iconAnchor:[10,30]}),zoo:new s.Icon({iconUrl:"./assets/svg/zoo.svg",iconSize:[30,30],iconAnchor:[10,30]})};e.a=function(){function t(){}return t.get=function(t){return r[t]},t.list=function(){return Object.keys(r)},t.getDiv=function(t){var e=t.title,n=t.body,a=t.color,r=t.textColor,i=void 0===r?"#333333":r,c=t.borderColor,l=void 0===c?0:c,h=t.iconWidth,u=void 0===h?150:h,d=t.iconHeight,b=void 0===d?70:d,p="img-"+o.a.randomPassword();o.a.hsl2Rgb(a,100,60),o.a.hsl2Rgb(100-l,100,50);return new s.DivIcon({iconSize:[u,b+30],iconAnchor:[15,b+30],className:"my-div-icon",html:"<div id='"+p+"' style='width: "+u+"px; height: "+(b+30)+"px; line-height: 1.1em;'>\n\t\t\t\t<style>\n\t\t\t\t\t#"+p+" .map-marker:after {\n\t\t\t\t\t\tborder-top-color: "+a+";\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class='map-marker text-white p-1' style='color: "+i+"; background-color: "+a+"; height: "+b+"px;'>\n\t\t\t\t\t<nobr><strong>"+e+"</strong></nobr><br />\n\t\t\t\t\t<span class='font-weight-light'><nobr>"+n+"</nobr></span>\n\t\t\t\t</div>\n\t\t\t</div>"})},t.getRaceMarker=function(t){var e=t.bib,n=t.rank,r=t.flag,i=void 0===r?"":r,c=t.image,l=t.title,h=t.color,u=t.borderColor,d=void 0===u?0:u,b=t.iconWidth,p=void 0===b?180:b,m=t.iconHeight,g=void 0===m?15:m,f=t.iconAnchorX,O=void 0===f?5:f,j=t.iconAnchorY,v=void 0===j?5:j,w=t.imageCirlceRadius,y=void 0===w?10:w,x=t.lineHeight,k=void 0===x?"0.9em":x,S=t.fontSize,T=void 0===S?"0.9em":S,I=t.paddingTop,z=void 0===I?"3px":I,D=t.paddingBottom,C=void 0===D?"3px":D,P=t.largeMarkers,A=t.mapChecked,M=t.titlePrefix,L=void 0===M?"":M,U="img-"+o.a.randomPassword(),R=(o.a.hsl2Rgb(h,100,60),o.a.hsl2Rgb(100-d,100,50),a.a.getRankingColor(n)),_=/dark/i.test(A),B=c?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+c+'"); background-size: cover; border: 1px '+R+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return B=e||n?"\n\t\t\t<div\n\t\t\t\tclass='px-0 text-center' style='background-color: "+(R||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||n)+"\n\t\t\t</div>\n\t\t":B,new s.DivIcon({iconSize:[p,g],iconAnchor:[O,v],className:"my-div-icon",html:O>100?"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden justify-content-end' id='"+U+"' style='width: "+p+"px; height: "+g+"px; line-height: "+k+"; font-size: "+T+";'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(_?"text-white":"text-dark")+" pl-3 pr-1 rounded-pill-left rounded-none "+(_?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+z+"; padding-bottom: "+C+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+L+" <strong>"+l+"</strong> "+i+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder "+(P?"pr-3 pl-2":"pr-2 pl-1")+" rounded-pill-right rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(R||"")+"; padding-top: "+z+"; padding-bottom: "+C+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+B+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='rounded rounded-circle ml-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+R+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\n\t\t\t":"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+U+"' style='width: "+p+"px; height: "+g+"px; line-height: "+k+"; font-size: "+T+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+y+"px; height: "+y+"px; background-color: "+R+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='text-white font-weight-bolder "+(P?"pl-3 pr-2":"pl-2 pr-1")+" rounded-pill-left rounded-none'\n\t\t\t\t\t\tstyle='background-color: "+(R||"")+"; padding-top: "+z+"; padding-bottom: "+C+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t"+B+"\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(_?"text-white":"text-dark")+" pr-3 pl-1 rounded-pill-right rounded-none "+(_?"bg-dark":"bg-white")+" overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+z+"; padding-bottom: "+C+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>\n\t\t\t\t\t\t\t"+i+" <strong>"+l+"</strong> "+L+"\n\t\t\t\t\t\t</nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getDistanceMarker=function(t){var e=t.title,n=void 0===e?"":e,a=t.body,r=void 0===a?"":a,i="img-"+o.a.randomPassword();return new s.DivIcon({iconSize:[20,20],iconAnchor:[10,10],className:"my-div-icon",html:"<div id='"+i+"' class='rounded-circle bg-primary text-white text-center' style='width: 20px; height: 20px;'>\n\t\t\t\t<strong>"+n+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+r+"</span>\n\t\t\t</div>"})},t.getMarker=function(t){var e=t.bib,n=t.rank,r=t.flag,i=void 0===r?"":r,c=t.image,l=t.title,h=t.color,u=void 0===h?"#a0a0a0":h,d=t.borderColor,b=void 0===d?0:d,p=t.iconWidth,m=void 0===p?250:p,g=t.iconHeight,f=void 0===g?20:g,O=t.iconAnchorX,j=void 0===O?7:O,v=t.iconAnchorY,w=void 0===v?7:v,y=t.imageCirlceRadius,x=void 0===y?10:y,k=t.lineHeight,S=void 0===k?"1.0em":k,T=t.fontSize,I=void 0===T?"1.0em":T,z=t.paddingTop,D=void 0===z?"3px":z,C=t.paddingBottom,P=void 0===C?"3px":C,A=t.mapChecked,M="img-"+o.a.randomPassword(),L=(o.a.hsl2Rgb(u,100,60),o.a.hsl2Rgb(100-b,100,50),a.a.getRankingColor(e||n)||"#808080"),U=/dark/i.test(A),R=c?"\n\t\t\t<div\n\t\t\t\tclass='rounded-circle imageRounded imageRoundedSmallIcon'\n\t\t\t\tstyle='background-image: url(\""+c+'"); background-size: cover; border: 1px '+L+" solid;'\n\t\t\t>\n\t\t\t\t&nbsp;\n\t\t\t</div>\n\t\t":"";return R=e||n?"\n\t\t\t<div\n\t\t\t\tclass='rounded-pill-both px-1 text-center "+(L?"":"bg-primary")+"' style='background-color: "+(L||"")+"'\n\t\t\t>\n\t\t\t\t"+(e||n)+"\n\t\t\t</div>\n\t\t":R,new s.DivIcon({iconSize:[m,f],iconAnchor:[j,w],className:"my-div-icon",html:"\n\t\t\t\t<div class='d-flex flex-nowrap overflow-hidden' id='"+M+"' style='width: "+m+"px; height: "+f+"px; line-height: "+S+"; font-size: "+I+";'>\n\t\t\t\t\t<div class='rounded rounded-circle mr-2 mt-1' style='width: "+x+"px; height: "+x+"px; background-color: "+L+";'>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass='"+(U?"text-white":"text-dark")+" px-3 pl-1 rounded-pill-both rounded-none bg-info overflow-hidden'\n\t\t\t\t\t\tstyle='padding-top: "+D+"; padding-bottom: "+P+";'\n\t\t\t\t\t>\n\t\t\t\t\t\t<nobr>"+i+" <strong>"+l+"</strong></nobr>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.getSmallMarker=function(t){var e=t.title,n=void 0===e?"":e,a=t.body,r=void 0===a?"":a,i="img-"+o.a.randomPassword();return new s.DivIcon({iconSize:[6,6],iconAnchor:[3,3],className:"my-div-icon",html:"<div id='"+i+"' class='rounded-circle bg-success text-white text-center' style='width: 5px; height: 5px;'>\n\t\t\t\t<strong>"+n+"</strong><br />\n\t\t\t\t<span class='font-weight-light'>"+r+"</span>\n\t\t\t</div>"})},t}()},"8Lgr":function(t,e,n){"use strict";(function(t){function s(t){return r.a.format(t,t<5?2:1)}var o,a=n("hosL"),r=n("Utv1"),i=n("/eY4"),c=(n("OhSV"),n("ZOvn"),Object(i.a)(o=function(e){function n(){return e.apply(this,arguments)||this}var o,r;return r=e,(o=n).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.value,o=void 0===n?0:n,r=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(a.h)(t,null,Object(a.h)("nobr",null,s(function(t){return.621371*t}(o))," ",r?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"mi")))):Object(a.h)(t,null,"mi"))):Object(a.h)(t,null,Object(a.h)("nobr",null,s(o)," ",r?Object(a.h)(t,null,Object(a.h)("small",null,Object(a.h)("small",null,Object(a.h)("small",{class:"ml-0 text-muted"},"km")))):Object(a.h)(t,null,"km")))},n}(a.Component))||o);e.a=c}).call(this,n("hosL").Fragment)},"8gML":function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=n("Utv1"),c=n("/eY4"),l=n("OhSV"),h=(n("go65"),n("RMlE"),n("5l0g"),n("ZOvn")),u=(h.a.marginTop(!0),h.a.marginBottom(),h.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:i.a.getJwtToken()}),d=Object(c.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},u),n}var a,i;return i=e,(a=n).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,n.prototype.render=function(){var e=this.props,n=e.raceid,s=e.path,o=this.props.stores.appState.darkmode,a="default";return s.match(/\/race\/:raceid$/)?a="default":s.match(/\/race\/:raceid\/mushers$/)?a="mushers":s.match(/\/race\/:raceid\/results$/)?a="results":s.match(/\/race\/:raceid\/media$/)?a="media":s.match(/\/race\/:raceid\/tracking$/)&&(a="tracking"),Object(r.h)(t,null,Object(r.h)("div",{class:"row fixed-top pr-3",style:"margin-top: 40px; background-color: "+(o?"#191d21":"#f8f9fa")+";"},Object(r.h)("div",{class:"col-12 my-2 mx-2"},Object(r.h)("ul",{class:"nav nav-pills nav-fill flex-nowrap"},Object(r.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(r.h)("a",{href:"/race/"+n,class:"text-overflow nav-link "+("default"===a?"active":"")},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-info-circle"})," ",Object(r.h)(l.c,{id:"race.therace"},"Løpet")))),Object(r.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(r.h)("a",{href:"/race/"+n+"/mushers",class:"text-overflow nav-link "+("mushers"===a?"active":"")},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-users"})," ",Object(r.h)(l.c,{id:"race.mushers"},"Deltakere")))),Object(r.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(r.h)("a",{href:"/race/"+n+"/results",class:"text-overflow nav-link "+("results"===a?"active":"")},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-poll"})," ",Object(r.h)(l.c,{id:"race.results"},"Resultater")))),Object(r.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(r.h)("a",{href:"/race/"+n+"/media",class:"text-overflow nav-link "+("media"===a?"active":"")},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-images"})," ",Object(r.h)(l.c,{id:"race.media"},"Bilder")))),Object(r.h)("li",{class:"nav-item",style:"max-width: 20%;"},Object(r.h)("a",{href:"/race/"+n+"/tracking",class:"text-overflow nav-link "+("tracking"===a?"active":"")},Object(r.h)("nobr",null,Object(r.h)("i",{class:"fas fa-map-marked-alt"})," ",Object(r.h)(l.c,{id:"race.tracking"},"Tracking"))))))))},n}(r.Component))||a;e.a=d}).call(this,n("hosL").Fragment)},"8n2v":function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("Utv1"),n("/eY4")),c=n("OhSV"),l=n("ZOvn"),h=(l.a.marginTop(!1),l.a.marginBottom(),{}),u=Object(i.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h),n}var a,i;return i=e,(a=n).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,n.prototype.render=function(){var e=this.props,n=e.goto,s=e.gotoTitle,o=e.routerName;return Object(r.h)("div",{class:"row h-100"},Object(r.h)("div",{class:"col-12 text-center my-auto"},Object(r.h)("div",{class:"spinner-border text-primary",style:"width: 8rem; height: 8rem;",role:"status"},Object(r.h)("span",{class:"sr-only"},Object(r.h)(c.c,{id:"home.loading"},"Loading..."))),Object(r.h)("h3",{class:"mt-4"},Object(r.h)(c.c,{id:"home.loading"},"Loading...")),n&&Object(r.h)(t,null,Object(r.h)("a",{class:"my-4 btn btn-primary btn-lg btn-block",native:!0,href:n},s," ",Object(r.h)("i",{class:"fas fa-angle-double-right ml-2"})),Object(r.h)("small",{class:"text-muted"},o))))},n}(r.Component))||a;e.a=u}).call(this,n("hosL").Fragment)},ABWa:function(t){t.exports={pointerCursor:"pointerCursor__2Gpay","marker-cluster-custom":"marker-cluster-custom__1z-5y"}},"HQo+":function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("Utv1"),n("/eY4")),c=(n("OhSV"),n("cneo"),n("HqZR")),l=(n("ZOvn"),{showAddComment:!1}),h=Object(i.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},l),n.updateTimer={},n.inputRef={},n}var a,i;i=e,(a=n).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i;var h=n.prototype;return h.loadTrack=function(t){return new Promise(function(e,n){function s(){function t(){return e()}return(h=i.getTrackIdsByClass(l[0]))&&h.length>0?(r.cleanupMemory(),Promise.resolve(r.loadPublic({query:{idin:h}})).then(function(){try{return t.call(this)}catch(t){return n(t)}}.bind(this),n)):t.call(this)}var o,a,r,i,c,l,h;return void 0===t&&(t=this.props),r=(a=t.stores).trackStore,i=a.raceStore,l=void 0===(c=a.appState.selectedClassIds)?[]:c,(o=t).showHeatmap?Promise.resolve(a.adminStore.getPublicHeatmap(o.raceid,o.allTeamIds)).then(function(){try{return s.call(this)}catch(t){return n(t)}}.bind(this),n):s.call(this)}.bind(this))},h.componentDidMount=function(){this.loadTrack()},h.componentWillReceiveProps=function(t){this.props.selectedClassIds!==t.selectedClassIds&&this.loadTrack(t)},h.render=function(){var e=this.props.stores,n=this.props,s=n.waypoints,o=n.waypoints2,a=n.waypoints3,i=n.zoomToMarkers,l=n.fullscreenMap,h=n.onMarkerClick,u=n.onMarker2Click,d=n.onMarker3Click,b=n.showHeatmap,p=n.showTracks,m=n.showDistanceMarkers,g=n.groupWaypoints,f=n.focusOnMushers,O=n.geoJSONs,j=n.largeMarkers,v=n.isAnimatedMarkers,w=n.replaySpeed,y=e.adminStore.publicHeatmap,x=e.trackStore.tracks[0];e.raceStore.getTrackIdsByClass();return Object(r.h)(t,null,Object(r.h)(c.a,{stores:this.props.stores,heatmap:b?y:null,track:x,geojson:p&&x&&x.gpx?x.gpx.geoJSON:null,gpxInfo:p&&x&&(x.gpx||x.gpxInfo)?x.gpxInfo||x.gpx.gpxInfo:null,minZoom:2,maxZoom:18,height:600,waypoints:s,waypoints2:o,waypoints3:a,geoJSONs:O,zoomToMarkers:i,fullscreenMap:l,onMarkerClick:h,onMarker2Click:u,onMarker3Click:d,showTrackProfile:!1,distanceMarkerSteps:"long",showDistanceMarkers:m,groupWaypoints:g,focusOnMushers:f,showFullscreenControl:!1,largeMarkers:j,isAnimatedMarkers:v,replaySpeed:w}))},n}(r.Component))||a;e.a=h}).call(this,n("hosL").Fragment)},HqZR:function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return.621371*t}var i,c=n("hosL"),l=n("Utv1"),h=n("/eY4"),u=n("cneo"),d=n("fh8t"),b=n.n(d),p=n("6FDT"),m=n.n(p),g=n("5QuX"),f=n.n(g),O=n("ABWa"),j=n.n(O),v=n("ZOvn"),w=n("g1rH"),y=n("LMBq"),x=n("ppmg"),k=n("PmTP"),S=n("svVU"),T=n("/PAx"),I=n("VsMb"),z=n("GdhX"),D=n("68RK"),C=(n("A1fj"),n("ivZ3")),P=n.n(C),A={pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0},M=w.a.BaseLayer,L=w.a.Overlay;delete P.a.Icon.Default.prototype._getIconUrl,P.a.Icon.Default.mergeOptions({iconRetinaUrl:n("sqja"),iconUrl:n("Drvj"),shadowUrl:n("K5o1")});var U=Object(h.a)(i=function(e){function n(t){var n;return(n=e.call(this,t)||this).mapRef=Object(c.createRef)(),n.polyRef=Object(c.createRef)(),n.handleViewportChanged=function(t){n.setState({mapCenter:t.center,mapZoom:t.zoom})},n.handleLocationFound=function(t){t.latlng&&n.setState({hasLocation:!0,latlng:t.latlng})},n.onEachFeature=function(t,e){var s=n.props.gpxInfo,o=void 0===s?{}:s,a="<Popup>\n\t\t\t<h5>Details</h5>\n\t\t\t<ul>\n\t\t\t\t<li>Total distance: "+l.a.format(o.totalDistance,2)+" km</li>\n\t\t\t\t<li>Max speed: "+l.a.format(o.maxSpeed,1)+" km/t</li>\n\t\t\t\t<li>Avg speed: "+l.a.format(o.avgSpeed,1)+" km/t</li>\n\t\t\t\t<li>Ascent: "+l.a.format(o.ascent||o.calculatedAscend,0)+" m</li>\n\t\t\t\t<li>Descent: "+l.a.format(o.decent||o.calculatedDescend,0)+" m</li>\n\t\t\t\t<li>Duration: "+l.a.secToHms(o.duration)+"</li>\n\t\t\t</ul>\n\t\t</Popup>";e.bindPopup(a)},n.handleClick=function(t){n.props.stores.appState.setLatlng(t.latlng)},n.zoomToGeoJSON=function(t){try{if(t.target){var e=n.mapRef,s=t.target.getBounds();s&&s._northEast&&(n.setState({bounds:s}),e.fitBounds(s))}}catch(t){console.log(t)}},n.zoomToMarkers=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var s=n.state.hasZoomedToMarkers;try{if((e||!s)&&t.length&&t.length>0){var o=n.mapRef,a=P.a.latLngBounds([]);t.forEach((function(t){a.extend([t.lat,t.lng])})),o.fitBounds(a),n.setState({hasZoomedToMarkers:!0})}}catch(t){console.log(t)}},n.zoomToAllMarkers=function(){var t=n.props.waypoints;n.zoomToMarkers(void 0===t?[]:t,!0)},n.zoomToFirst10Markers=function(){var t=n.props.waypoints,e=(void 0===t?[]:t).slice(0,10);n.zoomToMarkers(e,!0)},n.zoomToFirst3Markers=function(){var t=n.props.waypoints,e=(void 0===t?[]:t).slice(0,3);n.zoomToMarkers(e,!0)},n.zoomToFavoriteMarkers=function(){var t=n.props,e=t.zoomToMarkers,s=void 0===e?[]:e,o=t.waypoints;n.zoomToMarkers(s.length>0?s:void 0===o?[]:o,!0)},n.overlayAdd=function(t){var e=n.state.visibleLayers;e[t.name]=!0,n.setState({visibleLayers:e})},n.overlayRemove=function(t){var e=n.state.visibleLayers;e[t.name]=!1,n.setState({visibleLayers:e})},n.polylineOptions=function(){var t=n.props.gpxInfo,e=n.state.rangeSteps,s=n.state.maxHslColor,o=n.props.stores.appState,a=o.mapColorMode,r=o.mapRangeMin,i=o.mapRangeMax;"speed"===a&&t&&t.speeds&&t.speeds.length>0&&(r=Math.floor(Math.min.apply(Math,t.speeds.map((function(t){return 3.6*t})))),i=Math.ceil(Math.max.apply(Math,t.speeds.map((function(t){return 3.6*t})))));var c=l.a.range(r,i,e),h=c.map((function(t){var e=function(t,e,n,s,o){return s+(t-e)*(o-s)/(n-e)}(t,r,i,0,s),n=l.a.hsl2Rgb(s-e,100,45);return{color:"rgb("+n.r+", "+n.g+", "+n.b+")"}}));return o.setMapRange(c,r,i),o.setMapColors(h),h},n.polylineOptionIdxFn=function(t){for(var e=n.props.stores.appState.mapRange,s=0;s<e.length;++s)if(t.meta<=e[s])return s;return e.length},n.polylinetrackPointFactory=function(t){var e=n.props.gpxInfo,s=n.props.stores.appState,o=s.mapRangeMin,a=s.mapRangeMax,r=[];return"speed"===s.mapColorMode&&e.speeds&&e.speeds.length>0?r=e.speeds.map((function(t){return 3.6*t})):e&&e.climbs&&(r=e.climbs),t.filter((function(t){return t[0]&&t[1]&&t[2]})).map((function(t,e){var n=P.a.latLng(t[1],t[0],t[2]);return r&&r.length>0?(n.meta=r[e]||0,n.meta>a&&(n.meta=a),n.meta<o&&(n.meta=o)):n.meta=0,n}))},n.showSpeed=function(){n.props.stores.appState.setMapColorMode("speed")},n.handleMarkerClick=function(t){void 0===t&&(t={});var e=n.props.onMarkerClick,s=void 0===e?function(t){return console.log({title:t.title,bib:t.bib})}:e;try{s(o({},t))}catch(t){console.log(t)}},n.handleMarker2Click=function(t){void 0===t&&(t={});var e=n.props.onMarker2Click,s=void 0===e?function(t){return console.log(t)}:e;try{s(o({},t))}catch(t){console.log(t)}},n.handleMarker3Click=function(t){void 0===t&&(t={});var e=n.props.onMarker3Click,s=void 0===e?function(t){return console.log(t)}:e;try{s(o({},t))}catch(t){console.log(t)}},n.baseLayerChange=function(t){var e=t.name;console.log("baseLayerChange event",t),console.log({name:e}),n.props.stores.appState.setMapChecked(e)},n.whenReadyHandler=function(t){t.target.on("baselayerchange",n.baseLayerChange)},n.setMapRef=function(t){n.mapRef=t},n.state={hasLocation:!1,visibleLayers:{Windspeed:!1},mapCenter:[],mapZoom:10,rangeSteps:1,maxHslColor:230,hasZoomedToMarkers:!1},n}var s,a;a=e,(s=n).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var i=n.prototype;return i.geoJSONStyle=function(){return{color:"#0347A2",weight:5,fillOpacity:.5,fillColor:"#0347A2"}},i.geoJSONStyleList=function(t){var e=v.a.getRankingColor(t+1);return{color:e,weight:3,fillOpacity:.5,fillColor:e}},i.componentWillReceiveProps=function(t){this.props.zoomToMarkers!==t.zoomToMarkers?this.zoomToMarkers(t.zoomToMarkers,!0):this.props.waypoints!==t.waypoints&&this.zoomToMarkers(t.waypoints)},i.componentWillUnmount=function(){},i.render=function(){var e,n,s=this,a=this.props.stores,i=a.userStore,h=a.appState,d=h.mapChecked,p=i.user.settings,g=void 0===p?{}:p,O=this.state,C=O.mapZoom,U=O.bounds,R=void 0===U?null:U,_=this.props,B=_.waypoints,F=void 0===B?[]:B,N=_.waypoints2,H=void 0===N?[]:N,E=_.waypoints3,W=void 0===E?[]:E,Y=_.geoJSONs,Z=void 0===Y?[]:Y,q=_.geojson,V=_.gpxInfo,X=_.center,G=void 0===X?[61.0779066,9.800984]:X,J=_.zoom,K=void 0===J?5:J,Q=_.minZoom,$=void 0===Q?4:Q,tt=_.maxZoom,et=void 0===tt?18:tt,nt=_.height,st=void 0===nt?500:nt,ot=_.skipGeojson,at=void 0!==ot&&ot,rt=_.fullscreenMap,it=void 0!==rt&&rt,ct=_.showZoomControl,lt=void 0===ct||ct,ht=_.showLayersControl,ut=void 0===ht||ht,dt=_.showScaleControl,bt=void 0===dt||dt,pt=_.showRange,mt=void 0===pt||pt,gt=_.showTrackProfile,ft=void 0===gt||gt,Ot=_.distanceMarkerSteps,jt=void 0===Ot?"normal":Ot,vt=_.showDistanceMarkers,wt=void 0===vt||vt,yt=_.largeMarkers,xt=_.isAnimatedMarkers,kt=_.replaySpeed,St=void 0===kt?1e3:kt,Tt=_.layersControlPosition,It=void 0===Tt?"topright":Tt,zt=h.mapColorMode,Dt=h.mapRange,Ct=h.mapColors,Pt=h.mapRangeMin,At=h.mapRangeMax,Mt=Object(u.i)(q),Lt=l.a.asObject(Mt,"features",0,"geometry","coordinates"),Ut=[];if(Lt&&Lt[0]&&Lt[0][0]&&(e=Lt[0][0]&&Lt[0][0][0]?[Lt[0][0][1],Lt[0][0][0]]:[Lt[0][1],Lt[0][0]],n=Lt[Lt.length-1][0]&&Lt[Lt.length-1][0][0]?[Lt[Lt.length-1][0][1],Lt[Lt.length-1][0][0]]:[Lt[Lt.length-1][1],Lt[Lt.length-1][0]],V&&V.distances)){var Rt=0,_t=0,Bt=10;switch(C){case 15:Bt="long"===jt?3:1;break;case 14:Bt="long"===jt?5:2;break;case 13:Bt="long"===jt?7:3;break;case 12:Bt="long"===jt?10:5;break;case 11:case 10:Bt="long"===jt?15:10;break;case 9:Bt="long"===jt?20:15;break;case 8:Bt="long"===jt?30:20;break;case 7:Bt="long"===jt?40:30;break;case 6:Bt="long"===jt?70:50;break;case 5:Bt="long"===jt?150:100;break;default:Bt="long"===jt?200:150}V.distances.forEach((function(t,e){Rt+=g.imperial?r(t):t,(_t+=g.imperial?r(t):t)>=Bt&&(_t=0,Lt[e]&&Array.isArray(Lt[e])&&Ut.push({lat:Lt[e][1],lng:Lt[e][0],title:Math.floor(Rt),body:""}))}))}var Ft=i.isAdmin;return Object(c.h)(t,null,Object(c.h)("div",{class:j.a.home+" w-100 h-100 overflow-hidden position-relative",onTouchmove:v.a.captureAllEvents,onScroll:v.a.captureAllEvents},Object(c.h)(y.a,{bounds:R,whenCreated:this.setMapRef,onViewportChanged:this.handleViewportChanged,minZoom:$,maxZoom:et,center:G,onLocationfound:this.handleLocationFound,zoom:K,zoomControl:lt,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:it||!P.a.Browser.mobile,tap:!P.a.Browser.mobile,touchZoom:!!P.a.Browser.mobile&&"center",animate:!0,easeLinearity:.35,style:"width: 100%; min-height: "+st+"px; height: 100%;",className:"h-100",onOverlayadd:this.overlayAdd,onOverlayremove:this.overlayRemove,whenReady:this.whenReadyHandler},ut&&Object(c.h)(w.a,{position:It},Object(c.h)(M,{checked:"OpenStreetMap.Mapnik"===d,name:"OpenStreetMap.Mapnik"},Object(c.h)(x.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),Object(c.h)(M,{checked:"OpenStreetMap.Dark"===d,name:"OpenStreetMap.Dark"},Object(c.h)(x.a,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"})),Object(c.h)(M,{checked:"Norway Kartverket topo4"===d,name:"Norway Kartverket topo4"},Object(c.h)(x.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}"})),Object(c.h)(M,{checked:"Norway Kartverket topo4graatone"===d,name:"Norway Kartverket topo4graatone"},Object(c.h)(x.a,{subdomains:["opencache","opencache2","opencache3"],attribution:'&copy <a href="http://kartverket.no">Kartverket</a>',url:"https://{s}.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4graatone&zoom={z}&x={x}&y={y}"})),Object(c.h)(M,{checked:"Google Satellite Text"===d,name:"Google Satellite Text"},Object(c.h)(x.a,{subdomains:["mt0","mt1","mt2","mt3"],attribution:'&copy <a href="http://google.com">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}"})),Object(c.h)(L,{name:"Windspeed"},Object(c.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/WND/{z}/{x}/{y}?use_norm=false&opacity=0.25&palette=0:0073FF; 2:00AAFF; 3:4BD0D6; 6:8DE7C7; 12:B0F720; 25:F3363B; 50:C60000&arrow_step=64&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(c.h)(L,{name:"Temperature"},Object(c.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/TA2/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(c.h)(L,{name:"Snow depth"},Object(c.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/SD0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Object(c.h)(L,{name:"Precipitation"},Object(c.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/PA0/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"})),Ft&&Object(c.h)(L,{name:"Atmospheric pressure"},Object(c.h)(k.a,{url:"https://maps.openweathermap.org/maps/2.0/weather/APM/{z}/{x}/{y}?fill_bound=true&opacity=0.35&appid=75cd92317c98db6873031cd2d8de75c5",attribution:"Open weather maps"}))),bt&&Object(c.h)(S.a,{metric:!0,imperial:!1}),ft&&Object(c.h)(t,null,Lt&&Lt.length>0&&Object(c.h)(m.a,{ref:this.polyRef,positions:this.polylinetrackPointFactory(Lt),optionIdxFn:this.polylineOptionIdxFn,options:this.polylineOptions(),weight:7,lineCap:"butt",opacity:.75,smoothFactor:1,zoomAnimation:!0,key:""+zt})),Z&&Z.length>0&&Z.map((function(t,e){return Object(c.h)(T.a,{data:t,style:function(){return s.geoJSONStyleList(e)}})})),!at&&q&&e&&Object(c.h)(T.a,{data:q,style:this.geoJSONStyle,onEachFeature:this.onEachFeature,eventHandlers:{add:function(t){return s.zoomToGeoJSON(t)}}}),e&&Object(c.h)(I.a,{position:e,icon:D.a.get("marker")},Object(c.h)(z.a,null,"Start position: ",l.a.format(e[0],4),", ",l.a.format(e[1],4))),n&&Object(c.h)(I.a,{position:n,icon:D.a.get("flag")},Object(c.h)(z.a,null,"End position: ",l.a.format(n[0],4),", ",l.a.format(n[1],4))),wt&&Ut&&Ut.length>0&&Object(c.h)(t,null,Ut.length>0&&Ut.map((function(t){return Object(c.h)(I.a,{position:[t.lat,t.lng],draggable:!1,icon:D.a.getDistanceMarker({title:t.title,body:t.body,color:t.color,textColor:"#333"})},Object(c.h)(z.a,{position:[t.lat,t.lng]},Object(c.h)("h5",null,t.title),Object(c.h)(b.a,{markdown:t.body,markdownOpts:A})))}))),W.length>0&&W.reverse().map((function(t,e){return Object(c.h)(I.a,{position:[t.lat,t.lng],draggable:!1,icon:D.a.getSmallMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,mapChecked:d}),eventHandlers:{click:function(e){return s.handleMarker3Click(o(o({},t),{},{e:e}))}},zIndexOffset:100+e})})),H.length>0&&H.reverse().map((function(t,e){return Object(c.h)(I.a,{position:[t.lat,t.lng],draggable:!1,icon:D.a.getMarker({icon:t.icon||"marker",bib:t.bib,flag:t.flag,title:t.title,body:t.body,color:t.color,textColor:t.textColor,iconWidth:yt?300:250,iconHeight:yt?30:20,iconAnchorX:yt?10:7,iconAnchorY:yt?10:7,imageCirlceRadius:yt?20:14,lineHeight:yt?"1.5em":"1.1em",fontSize:yt?"1.5em":"1.1em",paddingTop:yt?"2px":"3px",paddingBottom:yt?"2px":"3px",mapChecked:d}),eventHandlers:{click:function(e){return s.handleMarker2Click(o(o({},t),{},{e:e}))}},zIndexOffset:200+e})})),F.length>0&&F.reverse().map((function(e,n){return Object(c.h)(t,null,xt?Object(c.h)(t,null,Object(c.h)(f.a,{position:{lat:e.lat,lng:e.lng},duration:St,draggable:!1,icon:D.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:yt?300:170,iconHeight:yt?30:15,iconAnchorX:yt?n%2==0?10:290:n%2==0?7:163,iconAnchorY:yt?10:5,imageCirlceRadius:yt?20:10,lineHeight:yt?"1.5em":"0.9em",fontSize:yt?"1.5em":"0.9em",paddingTop:yt?"1px":"3px",paddingBottom:yt?"2px":"3px",titlePrefix:"rest"===e.currentState?"💤":"",mapChecked:d,largeMarkers:yt}),eventHandlers:{click:function(t){return s.handleMarkerClick(o(o({},e),{},{e:t}))}},zIndexOffset:300+n})):Object(c.h)(t,null,Object(c.h)(I.a,{position:[e.lat,e.lng],draggable:!1,icon:D.a.getRaceMarker({icon:e.icon||"marker",bib:e.bib,speed:e.speed,bearing:e.bearing,rank:e.rank,email:e.email,image:e.image,flag:e.flag,title:e.title,body:e.body,color:e.color,textColor:e.textColor,iconWidth:yt?300:170,iconHeight:yt?30:15,iconAnchorX:yt?n%2==0?10:290:n%2==0?7:163,iconAnchorY:yt?10:5,imageCirlceRadius:yt?20:10,lineHeight:yt?"1.5em":"0.9em",fontSize:yt?"1.5em":"0.9em",paddingTop:yt?"1px":"3px",paddingBottom:yt?"2px":"3px",titlePrefix:"rest"===e.currentState?"💤":"",mapChecked:d,largeMarkers:yt}),eventHandlers:{click:function(t){return s.handleMarkerClick(o(o({},e),{},{e:t}))}},zIndexOffset:300+n})))}))),F.length>0&&Object(c.h)("div",{class:"position-absolute",style:"bottom: 65px; right: 5px; z-index: 999999;"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToAllMarkers},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-crosshairs"})))),F.length>=3&&Object(c.h)("div",{class:"position-absolute",style:"bottom: 105px; right: 5px; z-index: 999999;"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst3Markers},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-crosshairs"})," 3"))),F.length>=10&&Object(c.h)("div",{class:"position-absolute",style:"bottom: 145px; right: 5px; z-index: 999999;"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-info text-overflow",style:"width: 60px",onClick:this.zoomToFirst10Markers},Object(c.h)("nobr",null,Object(c.h)("i",{class:"fas fa-crosshairs"})," 10")))),mt&&Dt&&Dt.length>0&&Object(c.h)(t,null,Object(c.h)("div",{class:"mb-4"},Object(c.h)("div",{class:"float-right mt-1"},Object(c.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(c.h)("small",null,Object(c.h)("small",null,l.a.format(Pt,0),Object(c.h)("span",{class:"text-muted"},"speed"===zt?"km/t":"%")))),Dt&&Dt.length>0&&Dt.map((function(t,e){return Object(c.h)("div",{class:"float-left"},Object(c.h)("div",{style:"background-color: "+Ct[e].color+"; height: 13px; width: 10px;"}))})),Object(c.h)("div",{class:"px-1 py-0 float-left",style:"line-height: 0.8em;"},Object(c.h)("small",null,Object(c.h)("small",null,l.a.format(At,0),Object(c.h)("span",{class:"text-muted"},"speed"===zt?"km/t":"%"))))))))},n}(c.Component))||i;e.a=U}).call(this,n("hosL").Fragment)},LMwI:function(t){t.exports={pointerCursor:"pointerCursor__1W6mM"}},NDEG:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=n("Utv1"),r=n("/eY4"),i=n("ZOvn"),c=Object(r.a)(s=function(e){function n(){return e.apply(this,arguments)||this}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.dog,s=void 0===n?{}:n,r=e.dogs,c=void 0===r?[]:r,l=e.showTeam,h=e.showInfo,u=e.showName,d=void 0===u||u,b=e.showPosition,p=void 0===b||b,m=e.showAge,g=void 0!==m&&m,f=e.className,O=e.size,j=e.onDogClick,v=void 0===j?function(){}:j,w=this.props.stores.userStore,y=w.user.language,x=w.findDogposition({position:s.position,language:void 0===y?"en":y}),k=i.a.hasBirthday(s.birth),S=(Math.ceil(i.a.daysUntilNextBirthday(s.birth)),"92px"),T="",I="35px";return"small"===O?(S="50px",T="imageRoundedSmall",I="20px"):"medium"===O&&(S="60px",T="imageRoundedMedium",I="25px"),Object(o.h)("div",{class:"mb-2 position-relative "+f+" clearfix",style:"width: "+S,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},p&&x&&Object(o.h)("small",{class:"position-absolute",style:"left:0px; top: 50px;"},Object(o.h)("span",{class:"badge badge-"+(x.class||"primary")+" mr-3"},x.icon&&Object(o.h)("i",{class:x.icon})," ",x.name)),Object(o.h)("div",{class:"text-center border rounded-circle imageRounded "+T+" mx-auto text-muted pt-2",style:(s.image?'background-image: url("'+s.image.s3SmallLink+'"); background-size: cover;':"")+" border-width: 2px !important;"},!s.image&&Object(o.h)("span",{class:"font-weight-lighter",style:"font-size: "+I+";"},a.a.ucfirst(s.name,!0))),Object(o.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(o.h)("small",null,Object(o.h)("a",{href:"/dogs/public/"+s.uuidv4,onClick:function(t){return v(t,s.uuidv4,c)},class:"stretched-link"},d&&Object(o.h)(t,null,Object(o.h)("span",{class:"mb-1 font-weight-light"},Object(o.h)("nobr",null,s.shortname||s.name,k&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-birthday-cake ml-3"})))))))),Object(o.h)("div",{class:"text-center text-overflow",style:"line-height: 1.0em;"},Object(o.h)("small",null,s.birth&&g&&Object(o.h)(t,null,Object(o.h)("span",{class:"float-right"},s.birth&&Object(o.h)("span",{class:"mr-2"},a.a.age(s.birth,s.deceased)),"female"===s.gender?Object(o.h)("i",{class:"fas fa-venus"}):Object(o.h)("i",{class:"fas fa-mars"}))),l&&Object(o.h)(t,null,Object(o.h)("span",{class:"font-weight-light"},w.findTeam(s.team)),Object(o.h)("br",null)),h&&Object(o.h)("small",{class:"text-muted"},s.weight&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-balance-scale ml-2"})," ",a.a.format(s.weight,1)," kg"),s.bodyScore&&Object(o.h)(t,null,Object(o.h)("i",{class:"fas fa-dog ml-2"})," ",a.a.format(s.bodyScore,1))))))},n}(o.Component))||s;e.a=c}).call(this,n("hosL").Fragment)},QkTp:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=n("Utv1"),r=n("/eY4"),i=(n("OhSV"),n("ZOvn"),Object(r.a)(s=function(e){function n(){return e.apply(this,arguments)||this}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.value,s=void 0===n?0:n,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return 9*t/5+32}(s),0),"°F")):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(s,1),"°C"))},n}(o.Component))||s);e.a=i}).call(this,n("hosL").Fragment)},RMlE:function(t,e,n){"use strict";function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=n("ox/y"),c=(n("Utv1"),n("/eY4")),l=(n("go65"),n("Y3FI")),h=n("OhSV"),u=(n("LMwI"),{menu:{profile:!1,main:!1},searchText:""}),d=Object(c.a)(a=function(t){function e(e){var n;return(n=t.call(this,e)||this).toggleDropdown=function(t){var e=n.state.menu,s=t.target.dataset.name;!s&&t.target.parentNode&&(s=t.target.parentNode.dataset.name),s&&(e[s]=!e[s]),n.setState({menu:e})},n.toggleDarkmode=function(t){n.props.stores.appState.toggleDarkmode(),n.toggleDropdown(t)},n.toggleViewmode=function(t){var e=t.target.dataset.mode;!e&&t.target.parentNode&&(e=t.target.parentNode.dataset.mode),n.props.stores.appState.toggleViewmode(e),n.toggleDropdown(t)},n.reloadApp=function(){window.location.reload(!0)},n.adminLoadAll=function(){return new Promise((function(t,e){return Promise.resolve(n.props.stores.userStore.getInfo(!0)).then((function(){try{return t()}catch(t){return e(t)}}),e)}))},n.changeLanguage=function(t){var e=t.target.value;console.log("changeLanguage",e);var s=n.props.stores,o=s.appState,a=s.userStore,r=a.user,i=void 0===r?{}:r;i.email&&a.setLanguage({email:i.email,language:e}),o.setLanguage(e)},n.search=function(){var t=n.state.searchText;Object(l.route)("/search/"+t)},n.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},u),n}var n,a;return a=t,(n=e).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,e.prototype.render=function(){var t=this.state,e=t.menu,n=this.props.stores,s=n.appState,o=n.userStore,a=s.darkmode,c=o.user,l=o.notifications,u=((void 0===l?[]:l).filter((function(t){return!t.read})),c.language),d=void 0===u?"en":u;return Object(r.h)("nav",{class:"navbar navbar-expand-lg navbar-themed fixed-top py-1",style:"z-index: 99999;"},Object(r.h)("a",{class:"navbar-brand",href:"/race/"},Object(r.h)("img",{src:"./assets/homerun-race-logo-2-"+(a?"white-":"")+"small.png",height:"37",class:"position-absolute",style:"top: 5px; left: 6px"}),Object(r.h)("span",{class:"font-weight-normal",style:"margin-left: 30px; font-size: 20px;"},"Homerun Race")),Object(r.h)("button",{class:"navbar-toggler",type:"button","data-name":"main",onClick:this.toggleDropdown},Object(r.h)("span",{class:"navbar-toggler-icon"})),Object(r.h)("div",{class:"collapse navbar-collapse "+(e.main?"show":""),id:"navbarSupportedContent"},Object(r.h)("ul",{class:"navbar-nav mr-auto ml-5"},Object(r.h)("li",{class:"nav-item"},Object(r.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(r.h)("i",{class:"fas fa-flag-checkered"})," ",Object(r.h)(h.c,{id:"header.races"},"Løpene"))),Object(r.h)("li",{class:"nav-item"},Object(r.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/support","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(r.h)("i",{class:"far fa-question-circle"})," ",Object(r.h)(h.c,{id:"header.support"},"Support"))),Object(r.h)("li",{class:"nav-item"},Object(r.h)(i.Link,{className:"nav-link",activeClassName:"active",href:"/race/news","data-name":"main",style:"font-size: 1.0em !important;",onClick:this.toggleDropdown},Object(r.h)("i",{class:"fas fa-quote-right"})," ",Object(r.h)(h.c,{id:"header.news"},"Nyheter")))),Object(r.h)("ul",{class:"navbar-nav ml-auto "},Object(r.h)("li",{class:"nav-item mr-2"},Object(r.h)("div",{class:"form-row align-items-center"},Object(r.h)("div",{class:"col-auto my-1",style:"width: 80px;"},Object(r.h)("select",{class:"custom-select",style:"background-color: inherit; border: none; padding: 0; height: 1.1em; font-size: 0.9em;",onInput:this.changeLanguage},Object(r.h)("option",{value:"no",selected:"no"===d},"🇳🇴 NO"),Object(r.h)("option",{value:"en",selected:"en"===d},"🇬🇧 EN"),Object(r.h)("option",{value:"es",selected:"es"===d},"🇪🇸 ES"),Object(r.h)("option",{value:"de",selected:"de"===d},"🇩🇪 DE"),Object(r.h)("option",{value:"fr",selected:"fr"===d},"🇫🇷 FR"),Object(r.h)("option",{value:"ru",selected:"ru"===d},"🇷🇺 RU"),Object(r.h)("option",{value:"se",selected:"se"===d},"🇸🇪 SE"))))),Object(r.h)("li",{class:"nav-item d-block d-lg-none"},Object(r.h)(i.Link,{className:"nav-link",activeClassName:"active","data-name":"main",onClick:this.toggleDarkmode},Object(r.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"})," ",Object(r.h)(h.c,{id:"header.darkmode"},"Nattmodus"))),Object(r.h)("li",{class:"nav-item mr-2 d-none d-lg-block"},Object(r.h)("button",{class:"btn btn-link","data-name":"profile",onClick:this.toggleDarkmode},Object(r.h)("i",{class:(a?"fas text-warning":"far")+" fa-moon"}))))))},e}(r.Component))||a;e.a=d},UwwE:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=n("Utv1"),r=n("/eY4"),i=(n("OhSV"),n("ZOvn"),Object(r.a)(s=function(e){function n(){return e.apply(this,arguments)||this}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.value,s=void 0===n?0:n,r=this.props.stores.userStore.user.settings;return(void 0===r?{}:r).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return 2.20462*t}(s),0)," lb")):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(s,0)," kg"))},n}(o.Component))||s);e.a=i}).call(this,n("hosL").Fragment)},ZC4H:function(t,e,n){"use strict";n.r(e),function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i,c,l=n("hosL"),h=n("QRet"),u=n("Utv1"),d=n("/eY4"),b=n("OhSV"),p=n("fh8t"),m=n.n(p),g=(n("RMlE"),n("8gML"),n("5l0g")),f=(n("3kDq"),n("aGZh"),n("vme8")),O=n("/V/i"),j=n("wanP"),v=n("zYNi"),w=n("ZOvn"),y=w.a.marginTop(!0,!0),x=(w.a.marginBottom(),{pedantic:!1,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!0,xhtml:!0}),k={isLoading:!1,email:"",submenu:"ads",jwtToken:u.a.getJwtToken(),reloadInSec:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0},S=Object(d.a)(i=function(e){function n(t){var n;return(n=e.call(this,t)||this).initComponent=function(){n.setState({reloadIsActive:!0},(function(){return n.tickReloadTimeer()}))},n.tickReloadTimeer=function(){var t=n.props.reloadLastEpoch;if(n.state.reloadIsActive){var e=Math.floor((new Date).getTime()/1e3);n.setState({reloadInSec:60-(e-t)}),clearTimeout(n.updateTimer.tick),n.updateTimer.tick=setTimeout((function(){return n.tickReloadTimeer()}),1e3)}return!1},n.state=o({},k),n.updateTimer={},n}r(n,e);var s=n.prototype;return s.componentDidMount=function(){this.initComponent()},s.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},s.render=function(){var e=this.state.reloadInSec,n=this.props,s=n.radius,o=void 0===s?13:s,a=n.fontSize,r=void 0===a?11:a,i=n.classNames,c=void 0===i?"":i,h=Math.floor(u.a.normalizeBetween(e,0,60,0,100));return Object(l.h)(t,null,Object(l.h)("span",{class:c},Object(l.h)(j.a,{key:"gauge-reload-page",color:"primary",radius:o,showPercentText:!1,percent:h,showCenterText:!0,centerText:e,centerTextSize:r,centerTextY:"55%"})))},n}(l.Component))||i,T=Object(d.a)(c=function(e){function n(t){var n;return(n=e.call(this,t)||this).loadLiveRaceResults=function(t){return new Promise((function(e,s){var o;return void 0===t&&(t=n.props),o=t.stores.raceStore,Promise.resolve(o.getRaceTrackerData(o.race.raceTrackerRace)).then((function(){try{return o.getRaceTrackerActiveTeams(),e()}catch(t){return s(t)}}),s)}))},n.loadRaceResults=function(t,e,s){return new Promise((function(o,a){var r;return void 0===t&&(t=n.props),r=t.stores.raceStore,Promise.resolve(r.loadWorkoutSummary(e,t.raceid)).then((function(){try{return r.getWorkoutSummaryActiveTeams(s),o()}catch(t){return a(t)}}),a)}))},n.setLeaderboardMode=function(t){n.setState({leaderboardMode:t.target.parentElement.dataset.mode||t.target.dataset.mode})},n.chooseRaceClass=function(t){n.setState({filterByraceClass:t.target.value})},n.toggleShowLeaderBoard=function(t){n.setState(!0===t?{showLeaderBoard:!1}:{showLeaderBoard:!n.state.showLeaderBoard})},n.toggleShowNews=function(t){n.setState(!0===t?{showNews:!1}:{showNews:!n.state.showNews})},n.state=o(o({},k),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3)}),n.updateTimer={},n}r(n,e);var s=n.prototype;return s.loadRace=function(t){return new Promise(function(e,n){var s,o,a,r,i,c,l,h;return s=this,void 0===t&&(t=this.props),this.setState({isLoading:!0}),a=(o=t.stores).raceStore,r=o.appState,Promise.resolve(a.load(t.raceid)).then(function(){try{if(l=void 0===(c=r.focusOnMushers)?[]:c,h=(i=a.race).classes.filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),l.filter((function(t){return h.indexOf(t)>-1})),this.setState({allTeamIds:h}),h.length>0)return Promise.resolve(a.loadTeams(h.join(","))).then(function(){try{return i.liveRace>0?Promise.resolve(this.loadLiveRaceResults(t,l)).then(function(){try{return e.call(this)}catch(t){return n(t)}}.bind(this),n):Promise.resolve(this.loadRaceResults(t,h.join(","),l)).then(function(){try{return e.call(this)}catch(t){return n(t)}}.bind(this),n);function e(){return o.call(this)}}catch(t){return n(t)}}.bind(this),n);function o(){return a.getAllClassesSortedBy(),1===i.liveRace||(clearTimeout(this.updateTimer.reload),this.updateTimer.reload=setTimeout((function(){return new Promise((function(t){var e=Math.floor((new Date).getTime()/1e3);return s.setState({reloadLastEpoch:e}),s.loadRace(),t()}))}),6e4)),this.setState({isLoading:!1}),e()}return o.call(this)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},s.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.tick)},s.componentDidMount=function(){this.loadRace();var t,e={width:(t=window).innerWidth,height:t.innerHeight};e.width<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))},s.componentWillReceiveProps=function(t){this.loadRace(t)},s.render=function(){var e=this,n=this.props.stores,s=n.appState,o=n.raceStore,a=this.props,r=a.raceid,i=s.language,c=void 0===i?"en":i,d=s.focusOnMushers,p=s.infoOnMushers,j=void 0===p?[]:p,k=this.state,T=k.leaderboardMode,I=k.filterByraceClass,z=k.showLeaderBoard,D=k.showNews,C=k.reloadLastEpoch,P=k.allTeamIds,A=void 0===P?[]:P,M=(void 0===d?[]:d).filter((function(t){return A.indexOf(t)>-1})),L=o.activeTeams,U=o.teamList,R=o.waypoints,_=o.zoomToMarkers,B=o.race,F=o.classes;return 1===B.liveRace?Object(l.h)("div",{class:"container-fluid position-relative p-0",style:"margin-top: 0; height: calc(100vh - "+y+"); z-index: 9999;"},Object(l.h)(v.a,{stores:this.props.stores,raceid:r,linkBase:"/race/"})):Object(l.h)(t,null,Object(l.h)("div",{class:"container-fluid h-100 position-relative p-0"},Object(l.h)(g.a,{stores:this.props.stores,raceid:r,waypoints:R,zoomToMarkers:_,fullscreenMap:!0}),Object(l.h)("div",{class:"position-absolute",style:"top: 15px; left: 5px; z-index: 99999999;"},Object(l.h)("div",{class:"logo ml-3 clearfix text-white"},Object(l.h)("img",{src:"./assets/homerun-race-logo-2-small.png",height:"37",class:"float-left"}),Object(l.h)("a",{href:"/race/"+B.id},Object(l.h)("span",{class:"font-weight-bold text-dark",style:"font-size: 1.4em;"},"Homerun Race")))),!z&&Object(l.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 99999999; width: 150px; height: 50px;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-light",onClick:this.toggleShowLeaderBoard},Object(l.h)(S,{stores:this.props.stores,classNames:"float-right ml-2",reloadLastEpoch:C}),Object(l.h)("span",{class:"float-left"},"Leaderboard"))),!D&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 40px; right: 5px; z-index: 99999999; width: 150px; height: 50px;"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-primary float-right",onClick:this.toggleShowNews},Object(l.h)("span",{class:"float-left"},"News"))),D&&B&&B.articles&&B.articles&&B.articles.length>0&&Object(l.h)("div",{class:"position-absolute",style:"bottom: 50px; right: 5px; z-index: 99999999; width: 350px; height: 40vh;"},Object(l.h)("div",{class:"container-fluid bg-light rounded-lg py-2 overflow-auto mt-2",style:"opacity: 0.9; height: 90%;"},Object(l.h)("div",{class:"row bg-light"},Object(l.h)("div",{class:"col-12 bg-primary text-white"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-danger float-right",onClick:this.toggleShowNews},"X"),"News"),Object(l.h)("div",{class:"col-12 bg-light"},B&&B.articles&&B.articles.reverse().map((function(t){return Object(l.h)("div",{class:"border-bottom mb-2 pb-2 clearfix"},Object(l.h)("small",{class:"text-muted float-right"},u.a.formatDate(t.date,{locale:c,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(l.h)("h5",null,w.a.replaceImages(t.title,t.images,c,!1)),t.image&&Object(l.h)("img",{src:t.image.s3LargeLink,class:"float-right rounded-lg ml-2",style:"height: 100px;"}),t.ingress&&Object(l.h)("strong",null,Object(l.h)(m.a,{markdown:w.a.replaceImages(t.ingress,t.images,c),markdownOpts:x})),t.body&&Object(l.h)("p",null,Object(l.h)(m.a,{markdown:w.a.replaceImages(t.body,t.images,c),markdownOpts:x})))})))))),z&&Object(l.h)("div",{class:"position-absolute",style:"top: 55px; left: 5px; z-index: 99999999; width: 350px; height: 90vh;"},Object(l.h)("div",{class:"container-fluid bg-light rounded-lg py-2 overflow-auto mt-2",style:"opacity: 0.9; height: 90%;"},Object(l.h)("div",{class:"row bg-light"},Object(l.h)("div",{class:"col-12"},Object(l.h)("button",{type:"button",class:"btn btn-sm btn-link float-right",onClick:this.toggleShowLeaderBoard},"X"),Object(l.h)(S,{stores:this.props.stores,classNames:"float-right",radius:15,fontSize:13,reloadLastEpoch:C}),Object(l.h)("h5",{class:"mb-0"},"Leaderboard"),function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n=""),Object(h.d)((function(){document.title="Homerun Race: "+t}),[t]),Object(l.h)("span",{class:e,style:n},t)}(B.title,"font-weight-normal text-dark","font-size: 1.0em;"),Object(l.h)("select",{class:"form-control-plaintext","aria-describedby":"classHelp",onInput:this.chooseRaceClass},Object(l.h)("option",{value:""},"-- Choose class --"),B.classes&&B.classes.sort((function(t,e){return t.distance-e.distance})).map((function(e){return Object(l.h)(t,null,Object(l.h)("option",{value:e.id},e.title," (",e.totalMushers,")"))}))),Object(l.h)("ul",{class:"mt-2 nav nav-tabs nav-justified tracking-nav"},Object(l.h)("li",{class:"nav-item",style:"width: 33%;"},Object(l.h)("a",{class:"nav-link "+("mushers"===T?"active":""),onClick:this.setLeaderboardMode,"data-mode":"mushers"},Object(l.h)(b.c,{id:"races.mushers"},"Deltakere"))),Object(l.h)("li",{class:"nav-item",style:"width: 33%;"},Object(l.h)("a",{class:"nav-link "+("onTrail"===T?"active":""),onClick:this.setLeaderboardMode,"data-mode":"onTrail"},Object(l.h)(b.c,{id:"races.on-trail"},"På sporet nå"))),Object(l.h)("li",{class:"nav-item",style:"width: 33%;"},Object(l.h)("a",{class:"nav-link "+("favorites"===T?"active":""),onClick:this.setLeaderboardMode,"data-mode":"favorites"},Object(l.h)(b.c,{id:"races.favorites"},"Favoritter")))))),"mushers"===T&&Object(l.h)(t,null,B.classes&&B.classes.sort((function(t,e){return t.distance-e.distance})).filter((function(t){return!I||I===t.id})).map((function(n){return Object(l.h)(t,null,Object(l.h)("div",{class:"row mt-2 bg-primary text-white"},Object(l.h)("div",{class:"col-12"},Object(l.h)("h5",{class:"m-0"},n.title))),F[n.id]&&F[n.id].contestants&&F[n.id].contestants.map((function(n,s){var o=n.currentTeam;return Object(l.h)(t,null,Object(l.h)(O.a,{stores:e.props.stores,team:o,idx:s}))})))}))),"favorites"===T&&Object(l.h)(t,null,M&&M.length>0?M.map((function(t,n){var s=o.getTeamById(t);return Object(l.h)(O.a,{stores:e.props.stores,team:s,idx:n})})):Object(l.h)(t,null,Object(l.h)("div",{class:"p-2 text-center"},Object(l.h)("h5",null,Object(l.h)(b.c,{id:"races.no-teams-signed-up"},"Ingen team påmeldt ennå..."))))),"onTrail"===T&&Object(l.h)(t,null,Object(l.h)("div",{class:"text-muted text-center bg-light"},Object(l.h)(b.c,{id:"races.mushers-on-trail"},"Mushers on trail"),": ",L.length),L&&L.length>0?L.filter((function(t){if(I){var e=o.getClassByTeamId(t.team);return I===e.id}return!0})).map((function(t,n){var s=o.getTeamById(t.team);return Object(l.h)(O.a,{stores:e.props.stores,team:s,idx:n})})):Object(l.h)(t,null,Object(l.h)("div",{class:"p-2 text-center"},Object(l.h)("h5",null,Object(l.h)(b.c,{id:"races.no-team-on-trail"},"Ingen team tracker live i The Musher appen akkurat nå..."))))))),j&&j.length>0&&U&&U.length>0&&Object(l.h)(t,null,Object(l.h)("div",{class:"position-absolute overflow-auto",style:"top: 15px; right: 55px; z-index: 99999999; max-width: 830px; max-height: 90%;"},Object(l.h)("div",{class:""},Object(l.h)("div",{class:"d-flex flex-wrap"},j.map((function(t){return Object(l.h)(f.a,{stores:e.props.stores,teamId:t})}))))))))},n}(l.Component))||c;e.default=T}.call(this,n("hosL").Fragment)},ZQlJ:function(t,e,n){"use strict";var s,o=n("hosL"),a=(n("Utv1"),n("/eY4")),r=(n("OhSV"),n("NDEG")),i=Object(a.a)(s=function(t){function e(e){var n;return(n=t.call(this,e)||this).scrollImages=function(t){var e=t.target,s=e.scrollLeft/e.clientWidth,o=Math.round(s),a=Math.abs(o-s);(Number.isInteger(s)||a<.1)&&n.setState({imageIdx:o})},n.sortByName=function(t,e){var s=n.props.allDogs,o=void 0===s?[]:s,a=o.find((function(e){return e.id===t})),r=o.find((function(t){return t.id===e}));return a&&r&&a.name>r.name?1:-1},n.state={imageIdx:0},n}var n,s;return s=t,(n=e).prototype=Object.create(s.prototype),n.prototype.constructor=n,n.__proto__=s,e.prototype.render=function(){var t=this,e=this.props,n=e.dogs,s=e.allDogs,a=void 0===s?[]:s,i=e.size,c=void 0===i?"medium":i,l=e.onDogClick,h=void 0===l?function(){}:l;return Object(o.h)("div",{class:"w-100"},Object(o.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},n&&n.sort(this.sortByName).map((function(e){var s=a.find((function(t){return t.id===e}));return s?Object(o.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(o.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(o.h)(r.a,{stores:t.props.stores,dog:s,dogs:a.filter((function(t){return n.indexOf(t.id)>-1})).sort((function(t,e){return t.name>e.name?1:-1})),className:"mx-auto",showName:!0,showPosition:!1,size:c,onDogClick:h}))):""}))))},e}(o.Component))||s;e.a=i},aGZh:function(t,e,n){"use strict";(function(t){function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a=n("hosL"),r=n("/eY4"),i={};Object(r.a)(o=function(n){function o(t){var o;return(o=n.call(this,t)||this).state=function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},i),o}var r,c;return c=n,(r=o).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c,o.prototype.render=function(){var e=this.props.stores.appState,n=this.props.text,s=e.language,o=void 0===s?"en":s,r=n,i=new RegExp("/<"+o+">(.*?)</"+o+">/");return n.replace(i,"$1")&&(r=n),Object(a.h)(t,null,r)},o}(a.Component))}).call(this,n("hosL").Fragment)},cH0S:function(t,e,n){"use strict";var s,o=n("hosL"),a=(n("Utv1"),n("/eY4")),r=(n("OhSV"),n("ZOvn")),i=(r.a.marginTop(!1),r.a.marginBottom(),Object(a.a)(s=function(t){function e(){return t.apply(this,arguments)||this}var n,s;return s=t,(n=e).prototype=Object.create(s.prototype),n.prototype.constructor=n,n.__proto__=s,e.prototype.render=function(){var t=this.props.stores.appState.darkmode,e=this.props,n=e.children,s=e.onCloseClick,a=void 0===s?function(){}:s,i=e.classNames,c=void 0===i?"fixed-bottom":i,l=e.width,h=void 0===l?"100vw":l;return Object(o.h)("div",{class:c+" "+(t?"bg-darkmode":"bg-lightmode")+" border rounded rounded-lg pt-4 pb-3 px-2",style:"\n                    bottom: 0;\n                    left: 0;\n                    width: "+h+";\n                    max-height: 80vh;\n                    min-height: 10vh;\n                    overflow: auto;\n                    z-index: 999999;\n                    border-radius: 20px 20px 0 0 !important;\n                    border-top-width: 5px !important;\n                    box-shadow: 0px 0 5px rgba(0, 0, 0, 0.8);\n                ",onTouchmove:r.a.captureEvents,onScroll:r.a.captureEvents},Object(o.h)("button",{class:"btn btn-warning btn-sm float-right",onClick:a},Object(o.h)("i",{class:"fas fa-times"})),n)},e}(o.Component))||s);e.a=i},e0EM:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=(n("QRet"),n("Utv1")),r=n("/eY4"),i=n("OhSV"),c=(n("Y3FI"),n("fh8t"),n("go65"),n("HQo+"),n("wanP")),l=(n("ZQlJ"),n("s4FZ"),n("q/oJ"),n("cH0S"),n("fVsX"),n("8n2v"),n("gWxU"),n("Nanz"),n("zUny"),n("bbv7")),h=n("ukv5"),u=(n("eQ6k"),n("ZOvn")),d=Object(r.a)(s=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={},n}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.wp,s=e.musher,r=this.props.stores,d=r.raceStore,b=r.userStore,p=d.totalTrackLength,m=d.getClassByBib(n.bib),g=d.getTeamById(s.team),f=g.members?g.members.find((function(t){return t.email===s.email})):{},O=b.user,j=void 0===O?{}:O,v=d.getTotalsByTeamId(s.team),w=(u.a.getImage({user:f,team:g,priority:"user",fallback:s.image1}),u.a.displayNameShort(f)||u.a.displayNameShort(s),a.a.format(n.totalDistanceOnTrack/p*100,0)),y=a.a.format(n.restTime/n.raceTime*100,0),x=[],k=[],S=[],T=[];if(n&&n.speeds&&n.speeds.length>0){for(var I=a.a.range(n.speeds[0].timestamp,n.speeds[n.speeds.length-1].timestamp,600),z=Math.ceil(I.length/5),D=(Math.floor(I.length/z),0),C=I.length;D<C;D+=z)x.push(u.a.formatDate(a.a.parseInputDate(I[D]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));x.push(u.a.formatDate(a.a.parseInputDate(I[I.length-1]),{locale:"en-GB",day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}));var P=n.speeds.map((function(t){return{x:t.timestamp,y:3.6*t.speed}}));k.push(P),S.push("Avg speed"),T.push("km/t")}g.members&&g.members.indexOf(j.id),g.followers&&g.followers.indexOf(j.id),g.followRequests&&g.followRequests.findIndex((function(t){return t.id===j.id}));var A=Math.floor((new Date).getTime()/1e3);return Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-between"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-list"})," Ranking")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},n.rank)),n.finishTime<9999999999?Object(o.h)(t,null,n.diffToFirstFinishTime>0?Object(o.h)(t,null,Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Diff to 1st")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(n.diffToFirstFinishTime)))):Object(o.h)(t,null,Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Start time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(s.startTime||m.startDate||n.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Finish time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(n.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(o.h)(t,null,Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Current speed")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.format(n.speed||0,1)," ",Object(o.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km/h"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-stopwatch"})," Last update")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(A-n.timestamp))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-road"})," Total distance")),Object(o.h)("div",{class:"text-center mt-2"},Object(o.h)(c.a,{key:"gauge-reload-page",color:"primary",radius:40,showPercentText:!1,percent:w,showCenterText:!0,centerText:w+"%",centerTextSize:18,centerTextY:"55%"})),Object(o.h)("div",{class:"text-center"},Object(o.h)("small",null,a.a.format(n.totalDistanceOnTrack,1)," / ",a.a.format(p,1)," ",Object(o.h)("span",{class:"text-muted"},"km"),Object(o.h)("br",null),Object(o.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",a.a.secToHms(n.raceTime)))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-bed"})," Rest")),Object(o.h)("div",{class:"text-center mt-2"},Object(o.h)(c.a,{key:"gauge-reload-page",color:y<40?y<30?"danger":"warning":"success",radius:40,showPercentText:!1,percent:y,showCenterText:!0,centerText:y+"%",centerTextSize:18,centerTextY:"55%"})),Object(o.h)("div",{class:"text-center"},Object(o.h)("small",null,y," ",Object(o.h)("span",{class:"text-muted"},"%"),Object(o.h)("br",null),Object(o.h)("i",{class:"fas fa-clock ml-2 text-muted"})," ",a.a.secToHms(n.restTime))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(o.h)(h.a,{stores:this.props.stores,states:n.states,duration:n.raceTime,key:"state-"+n.bib}))),n.finishTime<9999999999?Object(o.h)(t,null,n.diffToFirstFinishTime>0?Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Start time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(s.startTime||m.startDate||n.startTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Finish time")),Object(o.h)("div",{class:"text-center",style:"font-size: 1.5em;"},a.a.formatDate(a.a.parseInputDate(n.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}))))):Object(o.h)(t,null)):Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-down"})," Behind")),Object(o.h)("div",{class:"text-center"},a.a.format(n.distanceToBehind,1)," ",Object(o.h)("span",{class:"text-muted"},"km"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},"Team")),Object(o.h)("div",{class:"text-center"},Object(o.h)("i",{class:"fas fa-dog"}))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-up"})," In front")),Object(o.h)("div",{class:"text-center"},a.a.format(n.distanceToForward,1)," ",Object(o.h)("span",{class:"text-muted"},"km"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-up"})," To first")),Object(o.h)("div",{class:"text-center"},a.a.format(n.distanceToFirst,1)," ",Object(o.h)("span",{class:"text-muted"},"km")))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.format(n.distanceToFinish,1)," ",Object(o.h)("span",{class:"text-muted",style:"font-size: 0.5em;"},"km"))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-clock"})," Racetime")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(n.raceTime))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle ml-2"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-bed"})," Resttime")),Object(o.h)("div",{class:"text-center",style:"font-size: 2.0em;"},a.a.secToHms(n.restTime)))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle w-100"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-tachometer-alt"})," Speed plot")),Object(o.h)("div",{class:"w-100 mt-2 overflow-auto"},Object(o.h)(l.a,{stores:this.props.stores,width:1e3,height:200,showXTicks:1,xTicks:x,paddingTop:30,paddingLeft:50,yTicksLeftWidth:"50px",lineFromXzero:!0,lineFromXmax:!0,dataLeft:k,legendLeft:S,dataFillLeft:[1],showYTicksLeft:1,yTicksLeftPostfix:" km/t",unitLeft:T,avgWindowLeft:[0,0],smoothLeft:[0,0]})))),v&&v.distanceKm&&Object(o.h)(t,null,Object(o.h)("div",{class:"table-responsive-lg"},Object(o.h)("table",{class:"table table-borderless"},Object(o.h)("tbody",null,Object(o.h)("tr",null,Object(o.h)("td",{style:"width: 5%;"},Object(o.h)("i",{class:"fas fa-dog"})),Object(o.h)("td",{style:"width: 60%"},Object(o.h)(i.c,{id:"races.dogs"},"Dogs")),Object(o.h)("td",{style:"width: 5%;"}," "),Object(o.h)("td",{class:"text-right",style:"width: 30%;"},g.dogs.length)),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-road"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.distance"},"Distance")),Object(o.h)("td",null," "),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,v.distanceKm?a.a.format(v.distanceKm,1)+" km":"n/a"))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-mountain"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.ascend"},"Ascending")),Object(o.h)("td",null," "),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,v.elevation?a.a.format(v.elevation,0)+" m":"n/a"))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-stopwatch"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.race-time"},"Racetime")),Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-clock"})),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,a.a.secToHms(v.duration)||"n/a"))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-bed"})),Object(o.h)("td",null,Object(o.h)(i.c,{id:"races.rest-time"},"Rest")),Object(o.h)("td",null,Object(o.h)("i",{class:"fas fa-clock"})),Object(o.h)("td",{class:"text-right"},Object(o.h)("nobr",null,a.a.secToHms(v.rest)||"n/a"))))))))},n}(o.Component))||s;e.a=d}).call(this,n("hosL").Fragment)},eK6s:function(t){t.exports={gaugeBackground:"gaugeBackground__1UGxt",gauge:"gauge__2ZDxd",success:"success__3UQxg",primary:"primary__3pPV6",secondary:"secondary__-Vrk_",info:"info__3t5zs",warning:"warning__1jHlR",danger:"danger__BLVC9",gaugeText:"gaugeText__1on-w"}},eQ6k:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=(n("Utv1"),n("/eY4")),r=n("OhSV"),i=Object(a.a)(s=function(e){function n(){for(var n,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).requestFollowTeam=function(t){var e=n.props.stores,s=e.teamStore,o=e.userStore.user,a=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.followRequest(a,o),n.setState({requestSent:!0})},n.unFollowTeam=function(t){var e=n.props.stores,s=e.teamStore,o=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.unollowTeam(o),n.setState({unfollowed:!0})},n.getButton=function(e){void 0===e&&(e="");var s=n.state.requestSent,a=n.props.stores.userStore.user,i=n.props,c=i.team,l=i.skipHome,h=i.simple,u=i.classNames,d=c.members&&c.members.indexOf(a.id)>-1,b=c.followers&&c.followers.indexOf(a.id)>-1,p=c.blockedFollowers&&c.blockedFollowers.indexOf(a.id)>-1,m=s||c.followRequests&&c.followRequests.findIndex((function(t){return t.id===a.id}))>-1;return d?l?"":Object(o.h)("i",{class:"fas fa-home"}):b?Object(o.h)(t,null,Object(o.h)("button",{class:u||"btn btn-block btn-outline-secondary float-right",onClick:n.unFollowTeam,disabled:"true","data-team":c.id},Object(o.h)("i",{class:"fas fa-link mr-2"}),Object(o.h)(r.c,{id:"teams.connect.is-following"},"Følger")," ",!h&&Object(o.h)(t,null,e)),Object(o.h)("button",{class:u||"btn btn-sm btn-block btn-danger float-right",onClick:n.unFollowTeam,"data-team":c.id},Object(o.h)("i",{class:"fas fa-unlink mr-2"}),Object(o.h)(r.c,{id:"teams.connect.unfollow"},"Unfollow"))):p?"":m?Object(o.h)("button",{class:u||"btn btn-block btn-outline-secondary float-right",disabled:"true"},Object(o.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(o.h)(r.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")," ",!h&&Object(o.h)(t,null,e)):c.public?Object(o.h)("button",{class:u||"btn btn-block btn-outline-success float-right",onClick:n.requestFollowTeam,"data-team":c.id},Object(o.h)("i",{class:"fas fa-plus mr-2"}),Object(o.h)(r.c,{id:"teams.connect.follow"},"Følg")," ",!h&&Object(o.h)(t,null,e)):void 0},n}var s,a;return a=e,(s=n).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,n.prototype.render=function(){var e=this.state.unfollowed,n=this.props,s=n.team,a=n.buttonOnly,r=this.props.stores.userStore,i=r.user.language,c=void 0===i?"en":i,l=r.findTeamAmbition({ambition:s.ambitions,language:c}),h=r.findTeamType({type:s.type,language:c}),u=s.image&&s.image.s3SmallLink?s.image:null;return a?Object(o.h)(t,null,this.getButton(""+s.name)):Object(o.h)("div",{class:"w-100 mb-3"},Object(o.h)("div",{class:"row"},Object(o.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative border-top pt-3",style:e?"text-decoration: line-through; opacity: 0.3;":""},Object(o.h)("a",{href:"/teams/public/"+s.uuidv4},Object(o.h)("div",{class:"text-center border rounded-circle imageRounded",style:u?'background-image: url("'+u.s3SmallLink+'");  background-size: cover;':""},!u&&Object(o.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))),Object(o.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(o.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},s.public?Object(o.h)(t,null,Object(o.h)("a",{href:"/teams/public/"+s.uuidv4},s.name)):Object(o.h)(t,null,s.name)),Object(o.h)("div",null,s.place," ",s.country),Object(o.h)("div",null,h&&Object(o.h)("span",{class:"badge badge-pill badge-secondary"},h),l&&Object(o.h)("span",{class:"badge badge-pill badge-secondary ml-2"},l)),Object(o.h)("small",{class:"text-muted"},s&&s.dogs&&Object(o.h)("span",{class:""},Object(o.h)("i",{class:"fas fa-dog"})," ",s.dogs.length),s&&s.followers&&Object(o.h)("span",{class:"ml-2"},Object(o.h)("i",{class:"fas fa-user"})," ",s.followers.length))),Object(o.h)("div",null,this.getButton()))))},n}(o.Component))||s;e.a=i}).call(this,n("hosL").Fragment)},fVsX:function(t,e,n){"use strict";var s,o=n("hosL"),a=(n("Utv1"),n("/eY4")),r=(n("OhSV"),n("ZOvn")),i=(r.a.marginTop(!1),r.a.marginBottom(),Object(a.a)(s=function(t){function e(){return t.apply(this,arguments)||this}var n,s;return s=t,(n=e).prototype=Object.create(s.prototype),n.prototype.constructor=n,n.__proto__=s,e.prototype.render=function(){var t=this.props,e=t.children,n=t.height,s=void 0===n?"65px":n;return Object(o.h)("nav",{class:"navbar navbar-themed bg-light fixed-top py-0",style:"height: "+s+";"},e)},e}(o.Component))||s);e.a=i},gWxU:function(t,e,n){"use strict";n.r(e),function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=n("Utv1"),c=n("/eY4"),l=(n("Y3FI"),n("OhSV")),h=n("fh8t"),u=n.n(h),d=(n("X9Km"),n("ZOvn")),b=n("NDEG"),p=n("s4FZ"),m=(n("jtG4"),n("eQ6k")),g=n("q/oJ"),f=n("Nanz"),O=n("1/9N"),j=d.a.marginTop(!1),v=d.a.marginTopBack(!1),w=d.a.marginBottom(),y={newTeam:{}},x=Object(c.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).onDogClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e}),!1},n.hideDog=function(){n.setState({showDog:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.subscribeNotificationTopic=function(t){return new Promise((function(e,s){var o,a;return void 0===(a=(o=n.props.stores.userStore).user.notificationTopics)?{}:a,1,Promise.resolve(o.setNotificationTopic({field:"notificationTopics."+t,value:1})).then((function(){try{return e()}catch(t){return s(t)}}),s)}))},n.back=function(){n.props.stores.history.goBack()},n.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},y),n.updateTimer={},n.time=(new Date).getTime(),n.apiServer=i.a.getApiServer(),n}var a,c;c=e,(a=n).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c;var h=n.prototype;return h.loadPublicView=function(t){return new Promise(function(e,n){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.teamStore.getPublicViews(t.teamid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return n(t)}}.bind(this),n)}.bind(this))},h.loadAll=function(t){return new Promise(function(e,n){return void 0===t&&(t=this.props),Promise.resolve(this.loadPublicTeam(t)).then(function(){try{return Promise.resolve(this.loadPublicView(t)).then((function(){try{return e()}catch(t){return n(t)}}),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},h.loadPublicTeam=function(t){return new Promise(function(e,n){return void 0===t&&(t=this.props),Promise.resolve(t.stores.teamStore.loadPublicDetail({id:t.teamid})).then((function(){try{return e()}catch(t){return n(t)}}),n)}.bind(this))},h.componentDidMount=function(){var t=this.props.back,e=void 0===t?this.back:t,n=this.props.stores.appState;n.setSwipeRight((function(){n.setSwipeRight(),e()})),this.loadAll()},h.componentWillReceiveProps=function(t){t.teamid!==this.props.teamid&&this.loadAll(t)},h.render=function(){var e=this,n=this.state.showDog,s=this.props.stores,o=s.teamStore,a=s.userStore,c=a.user,h=a.isAdmin,y=c.language,x=void 0===y?"en":y,k=o.publicTeam,S=o.publicViewsGraphData,T=!(!k||!k.members)&&k.members.some((function(t){return t.id===c.id})),I=this.props,z=I.marginTop,D=I.marginBottom,C=I.back,P=void 0===C?this.back:C,A=I.hideTeam,M=void 0===A?function(){}:A,L=k.dogs,U=void 0===L?[]:L,R=k.image,_=k.imageHeader,B=k.publicTrophys,F=k.publicMemories,N=k.publicDogs,H=_&&_.s3XXLargeLink?_:{s3XXLargeLink:"./assets/homerun-race-logo.png"},E=R&&R.s3LargeLink?R:null,W=a.findTeamAmbition({ambition:k.ambitions,language:x}),Y=a.findTeamType({type:k.type,language:x}),Z=k.members&&k.members.findIndex((function(t){return t.id===c.id}))>-1,q=k&&k.followers&&k.followers.indexOf(c.id)>-1,V=k.followRequests&&k.followRequests.findIndex((function(t){return t.id===c.id}))>-1,X=c.notificationTopics,G=void 0===X?{}:X,J="team-"+k.id;return Object(r.h)(t,null,n&&Object(r.h)(g.a,null,Object(r.h)(f.default,{stores:this.props.stores,dogid:n,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:U})),Object(r.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(D||w)+"; margin-top: "+(z||j)+";"},Object(r.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+v+"; left: 5px; font-size: 35px; width: 45px;",onClick:P},Object(r.h)("i",{class:"fas fa-arrow-circle-left"})),Object(r.h)("div",{class:"row mb-0"},Object(r.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(H?'background-image: url("'+H.s3XXLargeLink+'");':"")},Z&&Object(r.h)(t,null,Object(r.h)("a",{class:"btn btn-sm btn-primary position-absolute",style:"top: 5px; right: 10px;",href:"/teams/edit/"+k.id},Object(r.h)("i",{class:"fas fa-edit"})," ",Object(r.h)(l.c,{id:"teams.edit"},"Endre")))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(r.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRounded imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(E?'background-image: url("'+E.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!E&&Object(r.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(r.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"my-0"},k.name),Object(r.h)("small",{class:"text-muted"},k.place?k.place+", ":"",k.country),Object(r.h)("br",null),Y&&Object(r.h)("span",{class:"badge badge-pill badge-secondary mt-2"},Y),W&&Object(r.h)("span",{class:"badge badge-pill badge-secondary mt-2 ml-2"},W),Object(r.h)("h6",{class:"mt-2"},Object(r.h)("span",{class:"mr-3"},Object(r.h)("span",{class:"font-weight-bolder"},k.followers?k.followers.length:0)," ",Object(r.h)(l.c,{id:"teams.followers"},"followers")),Object(r.h)("span",{class:"mr-3"},Object(r.h)("span",{class:"font-weight-bolder"},k.dogs?k.dogs.length:0)," ",Object(r.h)(l.c,{id:"teams.dogs-menu"},"dogs")))))),(!G||!G[J])&&Object(r.h)(t,null,Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(r.h)("button",{class:"btn btn-block btn-primary btn-sm",onClick:function(){return e.subscribeNotificationTopic(J)}},Object(r.h)(l.c,{id:"team.notifications"},"Subscribe to team notifications"))))),Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},!Z&&!q&&!V&&k.public>0&&Object(r.h)("div",{class:"clearfix mb-2"},Object(r.h)(m.a,{stores:this.props.stores,team:k,buttonOnly:!0,skipHome:!0})))),Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.socialmedia"},"Sosialemedier"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"d-flex justify-content-center"},Z&&!k.facebook&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fab fa-facebook"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-sosialmedia"},"Gå inn på endring av teamet for å legge inn en sosialemedier.")))),k.url&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:d.a.asUrl(k.url),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fas fa-link"})))),k.facebook&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:d.a.asFacebookLink(k.facebook),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-facebook"})))),k.instagram&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:d.a.asInstagramLink(k.instagram),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-instagram"})))),k.snapchat&&Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{href:d.a.asSnapchatLink(k.snapchat),target:"_blank",rel:"noreferrer"},Object(r.h)("i",{class:"fab fa-snapchat"}))))),Object(r.h)("div",{class:"d-flex justify-content-center mt-3"},Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{class:"btn btn-outline-success",href:"/stories/team/"+k.uuidv4},Object(r.h)("i",{class:"fas fa-rss"})," ",Object(r.h)(l.c,{id:"story.all-stories"},"Stories")))),Object(r.h)("div",{class:"mx-2"},Object(r.h)("h3",null,Object(r.h)("a",{class:"btn btn-outline-primary",href:"/teams/workouts/team/"+k.uuidv4,onClick:M},Object(r.h)("i",{class:"fas fa-running"})," ",Object(r.h)(l.c,{id:"story.all-workouts"},"All workouts"))))))),k.imagesSponsor&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.public-sponsor-images",fields:{total:k.imagesSponsor.length}},"Sponsorer - ",k.imagesSponsor.length," stk"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(r.h)(p.a,{stores:this.props.stores,images:k.imagesSponsor}))),k.sponsors&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.sponsors"},"Sponsors"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&!k.sponsors&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-sponsors"},"Gå inn på endring av teamet for å legge inn sponsorer.")))),Object(r.h)(u.a,{markdown:d.a.replaceImages(k.sponsors,k.imagesSponsor,x),markdownOpts:d.a.getMarkdownOptions()}))),Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.description"},"Beskrivelse"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&!k.description&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-description"},"Gå inn på endring av teamet for å legge inn en beskrivelse.")))),Object(r.h)(u.a,{markdown:d.a.replaceImages(k.description,k.images,x),markdownOpts:d.a.getMarkdownOptions()}))),k.descriptionWorkoutplan&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.description-workoutplan"},"Workoutplan"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Z&&!k.descriptionWorkoutplan&&Object(r.h)(t,null,Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-pen-nib"})),Object(r.h)("h3",{class:"font-weight-lighter"},Object(r.h)(l.c,{id:"teams.add-description-workoutplan"},"Gå inn på endring av teamet for å legge inn en treningsplan.")))),Object(r.h)(u.a,{markdown:d.a.replaceImages(k.descriptionWorkoutplan,k.images,x),markdownOpts:d.a.getMarkdownOptions()}))),N&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.dogs",fields:{total:U.length}},"Hundene - ",U.length," stk"))),Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"row"},U&&U.map((function(t){return Object(r.h)(b.a,{stores:e.props.stores,dog:t,showAge:!0,className:"col",onDogClick:e.onDogClick})}))))),k.images&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.public-photos",fields:{total:k.images.length}},"Teambilder - ",k.images.length," stk"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(r.h)(p.a,{stores:this.props.stores,images:k.images}))),F&&k.achievements&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.achievements"},"Achievements"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(r.h)("div",{class:"row"},k.achievements&&k.achievements.map((function(t){return Object(r.h)("div",{class:"col-12"},t.date&&Object(r.h)("span",{class:"font-weight-lighter mr-2"},i.a.isoDate(t.date,!1,!1,!0)),Object(r.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(r.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(r.h)("span",{class:"mr-2"},Object(r.h)("a",{href:d.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(r.h)("i",{class:"fas fa-link"}))))}))))),B&&k.trophys&&Object(r.h)("div",{class:"row mt-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.trophy"},"Trophys"))),Object(r.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(r.h)("div",{class:"row"},k.trophys&&k.trophys.reverse().map((function(t){var e=d.a.getTrophyImage(t.name);if(!e)return"";var n=t.descriptionHeader&&t.descriptionHeader[x]?t.descriptionHeader[x]:"",s=t.description&&t.description[x]?t.description[x]:"";return Object(r.h)("div",{class:"col-4 mt-3"},Object(r.h)("div",{class:"mb-2"},Object(r.h)("img",{src:e,class:"img-fluid"})),Object(r.h)("strong",null,n),Object(r.h)("small",null,Object(r.h)("details",null,Object(r.h)("summary",null,Object(r.h)(l.c,{id:"teams.trophy-details"},"Details")),Object(r.h)(u.a,{markdown:d.a.replaceImages(s,k.images,x),markdownOpts:d.a.getMarkdownOptions()}))))}))))),Object(r.h)("div",{class:"row mt-5 mb-5"},Object(r.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(r.h)("div",{class:"text-center text-muted"},Object(r.h)("div",{class:"display-1"},Object(r.h)("i",{class:"fas fa-ellipsis-h"})),Object(r.h)("div",{style:"line-height: 0.9em;"},Object(r.h)("small",null,Object(r.h)(l.c,{id:"teams.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(h||T)&&Object(r.h)(t,null,Object(r.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(r.h)(l.c,{id:"teams.visits"},"Team page visits")),Object(r.h)(O.a,{stores:this.props.stores,dataLeft:S,legendLeft:["team"],key:"minigraph-team-"+k.uuidv4})),k.uuidv4&&Object(r.h)("img",{src:this.apiServer+"/api/teams/"+k.uuidv4+"/view?user="+c.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},n}(r.Component))||a;e.default=x}.call(this,n("hosL").Fragment)},irB3:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=n("Utv1"),r=n("/eY4"),i=(n("OhSV"),n("ZOvn"),Object(r.a)(s=function(e){function n(){return e.apply(this,arguments)||this}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.value,s=void 0===n?0:n,r=e.smallUnit,i=this.props.stores.userStore.user.settings;return(void 0===i?{}:i).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return 3.28084*t}(s),0)," ",r?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"ft")))):Object(o.h)(t,null,"ft"))):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(s,0)," ",r?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},"m")))):Object(o.h)(t,null,"m")))},n}(o.Component))||s);e.a=i}).call(this,n("hosL").Fragment)},jtG4:function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("Utv1"),n("/eY4")),c=(n("Y3FI"),n("OhSV")),l=n("ZOvn"),h={requestSent:{},confirmed:{},deleted:{},submenu:"notfollowing"},u=Object(i.a)(a=function(e){function n(n){var a;return(a=e.call(this,n)||this).requestFollowTeam=function(t){return new Promise((function(e){var n=a.props.stores,s=n.teamStore,o=n.userStore.user,r=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);s.followRequest(r,o);var i=a.state.requestSent;return i[r]=!0,a.setState({requestSent:i}),e()}))},a.confirmRequest=function(t){return new Promise((function(e,n){var s,o,r,i,c,l,h,u,d;return o=void 0===(s=a.props.callback)?function(){}:s,r=t.target.closest("button").dataset,l=a.props.stores.teamStore,d=(h=a.state).deleted,(u=h.confirmed)[(i=r.team)+"-"+(c=r.user)]=!0,delete d[i+"-"+c],a.setState({confirmed:u,deleted:d}),Promise.resolve(l.confirmFollowRequest({team:parseInt(i,10),user:parseInt(c,10)})).then((function(){try{return o(),e()}catch(t){return n(t)}}),n)}))},a.deleteRequest=function(t){return new Promise((function(e,n){var s,o,r,i,c,l,h,u,d;return o=void 0===(s=a.props.callback)?function(){}:s,r=t.target.closest("button").dataset,l=a.props.stores.teamStore,d=(h=a.state).confirmed,(u=h.deleted)[(i=r.team)+"-"+(c=r.user)]=!0,delete d[i+"-"+c],a.setState({deleted:u,confirmed:d}),Promise.resolve(l.deleteFollowRequest({team:parseInt(i,10),user:parseInt(c,10)})).then((function(){try{return o(),e()}catch(t){return n(t)}}),n)}))},a.unFollowTeam=function(t){var e=a.props.stores,n=e.teamStore,s=parseInt(t.target.parentElement.dataset.team||t.target.dataset.team,10);n.unollowTeam(s),a.setState({unfollowed:!0})},a.getUnblockButton=function(e,n){var s=a.state.confirmed[n+"-"+e];return Object(r.h)(t,null,s?Object(r.h)(t,null,Object(r.h)("small",{class:"text-success"},Object(r.h)("i",{class:"fas fa-check"})," ",Object(r.h)(c.c,{id:"teams.connect.confirmed"},"Confirmed"))):Object(r.h)(t,null,Object(r.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:a.confirmRequest,"data-team":n,"data-user":e},Object(r.h)(c.c,{id:"teams.connect.confirm"},"Confirm"))))},a.getButton=function(e){var n=a.state.requestSent,s=a.props.stores.userStore.user,o=e.members&&e.members.indexOf(s.id)>-1,i=e.followers&&e.followers.indexOf(s.id)>-1,l=e.blockedFollowers&&e.blockedFollowers.indexOf(s.id)>-1,h=n[e.id]||e.followRequests&&e.followRequests.findIndex((function(t){return t.id===s.id}))>-1;return o?Object(r.h)("i",{class:"fas fa-home"}):e.public?i?Object(r.h)(t,null,Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(r.h)("i",{class:"fas fa-link mr-2"}),Object(r.h)(c.c,{id:"teams.connect.is-following"},"Følger")),Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-danger float-right",onClick:a.unFollowTeam,disabled:"true","data-team":e.id},Object(r.h)(c.c,{id:"teams.connect.unfollow"},"Unfollow"))):l?Object(r.h)(t,null):h?Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(r.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(r.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(r.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:a.requestFollowTeam,"data-team":e.id},Object(r.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(r.h)(c.c,{id:"teams.connect.follow"},"Følg")):Object(r.h)(t,null,Object(r.h)("small",{class:"text-muted"},Object(r.h)(c.c,{id:"teams.not-public"},"Ikke offentlig")))},a.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h),a.updateTimer={},a}var a,i;return i=e,(a=n).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,n.prototype.render=function(){var e,n,s,o,a=this.state,i=a.deleted,h=void 0===i?{}:i,u=a.unfollowed,d=this.props,b=d.team,p=d.isBlocked,m=d.myTeamId,g=d.showBlockButton,f=this.props.stores.storyStore.findPublicUser(b.user)||b.user||{};b.image&&b.image.s3SmallLink?e=b.image:b.images&&b.images[0]&&b.images[0].s3SmallLink?e=b.images[0]:f.image&&f.image.s3SmallLink?e=f.image:f.images&&f.images[0]&&f.images[0].s3SmallLink&&(e=f.images[0]),b&&b.name?(n=l.a.displayNameShort(b),s=l.a.displayName(b),o=l.a.displayName(f)):f&&f.id&&(n=l.a.displayNameShort(f),s=l.a.displayName(f));var O=h[m+"-"+f.id];return Object(r.h)("div",{class:"col-12 mb-2 pb-2 border-bottom",style:u?"text-decoration: line-through; opacity: 0.3;":""},Object(r.h)("div",{class:"d-flex position-relative"},Object(r.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedMedium",style:e?'background-image: url("'+e.s3MediumLink+'"); background-size: cover;':""},!e&&Object(r.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},n)),Object(r.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"mb-0"},b.public?Object(r.h)(t,null,Object(r.h)("a",{href:"/teams/public/"+b.uuidv4},s)):Object(r.h)(t,null,s)),Object(r.h)("div",null,b.place?b.place+", ":""," ",b.country,"  "),Object(r.h)("div",null,Object(r.h)("small",{class:"text-muted"},b&&b.dogs&&Object(r.h)("span",{class:""},Object(r.h)("i",{class:"fas fa-dog"})," ",b.dogs.length),b&&b.followers&&Object(r.h)("span",{class:"ml-2"},Object(r.h)("i",{class:"fas fa-user"})," ",b.followers.length),o&&Object(r.h)(t,null,Object(r.h)("small",{class:"ml-2 text-muted"},o)),g&&Object(r.h)(t,null,O?Object(r.h)(t,null,Object(r.h)("small",{class:"text-danger ml-3"},Object(r.h)("i",{class:"fas fa-ban"})," ",Object(r.h)(c.c,{id:"teams.connect.deleted"},"Deleted"))):Object(r.h)(t,null,Object(r.h)("button",{class:"btn btn-sm btn-link text-overflow p-0 text-muted ml-3",style:"font-size: 0.8em;",onClick:this.deleteRequest,"data-team":m,"data-user":f.id},Object(r.h)("i",{class:"fas fa-ban"})," ",Object(r.h)(c.c,{id:"teams.connect.block"},"Blokkere"))))))),Object(r.h)("div",null,p?Object(r.h)(t,null,this.getUnblockButton(f.id,m)):Object(r.h)(t,null,this.getButton(b)))))},n}(r.Component))||a;e.a=u}).call(this,n("hosL").Fragment)},nHdA:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=n("Utv1"),r=n("/eY4"),i=n("OhSV"),c=(n("ZOvn"),Object(r.a)(s=function(e){function n(){return e.apply(this,arguments)||this}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.value,s=void 0===n?0:n,r=e.smallUnit,c=this.props.stores.userStore.user.settings;return(void 0===c?{}:c).imperial?Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(function(t){return.621371*t}(s),1)," ",r?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.mph"},"mph"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.mph"},"mph")))):Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(s,1)," ",r?Object(o.h)(t,null,Object(o.h)("small",null,Object(o.h)("small",null,Object(o.h)("small",{class:"ml-0 text-muted"},Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))):Object(o.h)(t,null,Object(o.h)(i.c,{id:"workouts.kmt"},"km/t"))))},n}(o.Component))||s);e.a=c}).call(this,n("hosL").Fragment)},"q/oJ":function(t,e,n){"use strict";var s,o=n("hosL"),a=(n("Utv1"),n("/eY4")),r=(n("OhSV"),n("ZOvn")),i=r.a.marginTop(!1),c=r.a.marginBottom(),l=Object(a.a)(s=function(t){function e(){return t.apply(this,arguments)||this}var n,s;return s=t,(n=e).prototype=Object.create(s.prototype),n.prototype.constructor=n,n.__proto__=s,e.prototype.render=function(){var t=this.props.children;return Object(o.h)("div",{class:"w-100 h-100 fixed-top bg-light skipRefresh",style:"\n                    margin-bottom: "+c+";\n                    margin-top: "+i+";\n                    height: calc(100vh - "+i+") !important;\n                    top: 0;\n                    left: 0;\n                    overflow-x: auto;\n                    overflow-y: auto;\n                    transition: .3s;\n                    overscroll-behavior: contain;\n                    z-index: 10000;\n                "},t)},e}(o.Component))||s;e.a=l},ukv5:function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){switch(t){case"running":return"primary";case"rest":return"warning";case"restTrail":return"danger"}}function i(t){switch(t){case"running":return"fas fa-running";case"rest":return"fas fa-male";case"restTrail":return"fas fa-bed"}}var c,l=n("hosL"),h=n("Utv1"),u=n("/eY4"),d=(n("Y3FI"),n("OhSV")),b=(n("cneo"),n("fh8t"),n("ZOvn")),p=n("nHdA"),m=(n("irB3"),n("UwwE"),n("8Lgr")),g=(n("QkTp"),Object(u.a)(c=function(e){function n(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).hideDetail=function(e){e.preventDefault(),e.stopPropagation(),t.setState({stateDetail:{state:"",idx:0}})},t.showStateDetail=function(e){e.preventDefault(),e.stopPropagation();var n=e.target.closest("div").dataset;t.setState({stateDetail:o({},n)})},t.nextStateDetail=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,s=n.states,o=n.duration,a=t.state.stateDetail,r=parseInt((void 0===a?{}:a).idx,10)+1,i=s[r];i&&t.setState({stateDetail:{idx:r,state:i.state,duration:i.duration,distance:i.distance,avgspeed:i.avgSpeed,statespeeds:i.stateSpeeds,point:i.point,start:i.start,end:i.end,percent:h.a.normalizeBetween(i.duration,0,o,0,100)}})},t.prevStateDetail=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,s=n.states,o=n.duration,a=t.state.stateDetail,r=parseInt((void 0===a?{}:a).idx,10)-1,i=s[r];i&&t.setState({stateDetail:{idx:r,state:i.state,duration:i.duration,distance:i.distance,avgspeed:i.avgSpeed,statespeeds:i.stateSpeeds,point:i.point,start:i.start,end:i.end,percent:h.a.normalizeBetween(i.duration,0,o,0,100)}})},t}var s,a;return a=e,(s=n).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a,n.prototype.render=function(){var e=this,n=this.props,s=n.states,o=n.duration,a=n.height,c=void 0===a?"20px":a,u=n.showText,g=void 0===u||u,f=this.state.stateDetail,O=void 0===f?{}:f;return Object(l.h)(t,null,Object(l.h)("div",{class:"row"},s&&Object(l.h)("div",{class:"col-12 px-0"},Object(l.h)("div",{class:"progress",style:"height: "+(O&&O.idx?"20px":c)+";"},s.map((function(n,s){var a=Math.ceil(h.a.normalizeBetween(n.duration,0,o,0,100)),i=a;return O&&O.idx==s&&(i=a<10?10:a),Object(l.h)(t,null,Object(l.h)("div",{class:"progress-bar bg-"+r(n.state),role:"progressbar",style:"width: "+i+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100","data-idx":s,"data-state":n.state,"data-duration":n.duration,"data-distance":n.distance,"data-avgspeed":n.avgSpeed,"data-statespeeds":n.stateSpeeds,"data-point":n.point,"data-start":n.start,"data-end":n.end,"data-percent":h.a.normalizeBetween(n.duration,0,o,0,100),onClick:e.showStateDetail},g?Object(l.h)(t,null,Object(l.h)("nobr",null,a>10&&Object(l.h)(t,null,"rest"===n.state?Object(l.h)(t,null,h.a.secToHms(n.duration,!0)):Object(l.h)(t,null,h.a.format(n.distance/1e3,0),"km")),O&&O.idx==s?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===n.state?"dark":"warning")+" mx-2"}):"")):Object(l.h)(t,null,O&&O.idx==s?Object(l.h)("i",{class:"fas fa-hand-point-down text-"+("rest"===n.state?"dark":"warning")+" mx-2"}):"")))}))),O&&O.state&&Object(l.h)(t,null,Object(l.h)("div",{class:"card position-relative"},Object(l.h)("span",{class:"position-absolute",style:"top: 0px; right: 5px;"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:i(O.state)})," ",h.a.format(O.percent,1),"%")),Object(l.h)("div",{class:"card-body"},"rest"===O.state?Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(d.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,h.a.secToHms(O.duration,!0))),O.point&&Object(l.h)("div",{class:"col-8 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fa-map-marked ml-2"})," ",Object(l.h)(d.c,{id:"workouts.position"},"Position")),Object(l.h)("h6",null,O.point))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(d.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(d.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))))):Object(l.h)(t,null,Object(l.h)("div",{class:"card-text row"},Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-road ml-2"})," ",Object(l.h)(d.c,{id:"workouts.distance"},"Distanse")),Object(l.h)("h6",null,Object(l.h)(m.a,{stores:this.props.stores,value:O.distance/1e3}))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(d.c,{id:"workouts.duration"},"Vargihet")),Object(l.h)("h6",null,h.a.secToHms(O.duration,!0))),Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-tachometer-alt ml-2"})," ",Object(l.h)(d.c,{id:"workouts.avgspeed"},"Gj.fart")),Object(l.h)("h6",null,Object(l.h)(p.a,{stores:this.props.stores,value:O.distance/O.duration*3.6})))),Object(l.h)("div",{class:"card-text row"},O.start&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(d.c,{id:"workouts.starttime"},"Start")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.start),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}))),O.end&&Object(l.h)("div",{class:"col-4 text-nowrap text-overflow"},Object(l.h)("small",{class:"text-muted"},Object(l.h)("i",{class:"fas fa-clock ml-2"})," ",Object(l.h)(d.c,{id:"workouts.endtime"},"End")),Object(l.h)("h6",null,b.a.formatDate(h.a.parseInputDate(O.end),{locale:"en-GB",hour12:!1,day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"})))))),Object(l.h)("div",{class:"float-right"},Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.hideDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-times"})),O.idx<s.length-1&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.nextStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-right"})),O.idx>0&&Object(l.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:this.prevStateDetail,style:"line-height: 1.0em; font-size: 2.0em;"},Object(l.h)("i",{class:"fas fa-angle-left"}))))))))},n}(l.Component))||c);e.a=g}).call(this,n("hosL").Fragment)},vme8:function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("QRet"),n("Utv1")),c=n("/eY4"),l=(n("OhSV"),{}),h=Object(c.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).toggleFocusOnMusher=function(t){var e=n.props.stores,s=e.appState,o=e.raceStore;s.toggleFocusOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10)),o.getWorkoutSummaryActiveTeams(s.focusOnMushers)},n.toggleInfoOnMusher=function(t){n.props.stores.appState.toggleInfoOnMusher(parseInt(t.target.parentElement.dataset.musherid||t.target.dataset.musherid,10))},n.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},l),n}var a,c;return c=e,(a=n).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,n.prototype.render=function(){var e=this.props.stores,n=e.raceStore,s=e.appState,o=s.language,a=void 0===o?"en":o,c=n.getTeamById(this.props.teamId);if(!c||!c.id)return Object(r.h)(t,null);var l,h,u,d=n.getActiveTeamById(c.id),b=n.getWorkoutSummaryByTeam(c.id).reverse(),p=n.getClassByTeamId(c.id),m=n.getWorkoutResultsByTeam(b,p.distance),g=n.getMusherByTeamId(c.id),f=c.images&&c.images.length>0?c.images[0]:{},O=n.getClassByTeamId(c.id),j=m.distanceKm/p.distance*100,v=j>0?1:0;d&&d.currentLocation&&d.currentLocation.coords&&(l=3.6*d.currentLocation.coords.speed,h=d.currentLocation.timestamp,u=!0);var w=O.distance-m.distanceKm;return w<0&&(w=0),Object(r.h)(t,null,Object(r.h)("div",{class:"mr-2 mb-2 overflow-auto",style:"width: 350px !important; max-height: 350px; overflow-x: hidden !important;"},Object(r.h)("div",{class:"p-2 bg-light rounded-lg"},Object(r.h)("div",{class:"row mt-2",style:"font-size: 0.9em;"},Object(r.h)("div",{class:"col-4 text-center"},Object(r.h)("div",{class:"text-center text-muted pt-2 h-100",style:'background-image: url("'+f.s3SmallLink+'"); background-size: cover;',onClick:this.toggleFocusOnMusher,"data-musherid":c.id},!f.s3SmallLink&&Object(r.h)(t,null,Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 55px;"},i.a.ucfirst(String(g.firstname),!0),i.a.ucfirst(String(g.lastname),!0))))),Object(r.h)("div",{class:"col-8"},Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col-12",style:"font-size: 1.5em; line-height: 1.0em;"},Object(r.h)("button",{type:"button",class:"btn btn-sm float-right",onClick:this.toggleInfoOnMusher,"data-musherid":c.id},"X"),Object(r.h)("span",{class:"font-weight-bold"},g.firstname," ",g.lastname),Object(r.h)("br",null),Object(r.h)("span",{class:"font-weight-lighter"},c.name),Object(r.h)("br",null),O&&O.title&&Object(r.h)(t,null,Object(r.h)("span",{class:"font-weight-lighter mr-2",style:"font-size: 0.8em;"},O.title," -")),Object(r.h)("span",{class:"font-weight-lighter",style:"font-size: 0.8em;"},i.a.format(m.avgDogs,1)," ",Object(r.h)("i",{class:"fas fa-dog text-muted ml-1"})))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(r.h)("span",{class:"text-muted"},"km/t"),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 2.0em;"},i.a.format(m.speedAvg,1))),Object(r.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(r.h)("span",{class:"text-muted"},"km"),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 2.0em;"},i.a.format(m.distanceKm))),Object(r.h)("div",{class:"col-4 text-center",style:"line-height: 1.4em;"},Object(r.h)("span",{class:"text-muted"},"to finish"),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 2.0em;"},0===w?Object(r.h)("i",{class:"fas fa-flag-checkered text-success"}):Object(r.h)(t,null,i.a.format(w,0))))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{class:"col-6 text-center",style:"line-height: 1.4em;"},Object(r.h)("span",{class:"text-muted"},0===w?Object(r.h)(t,null,"Calc.Duration"):Object(r.h)(t,null,"Duration")),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 1.5em;"},0===w?Object(r.h)(t,null,i.a.secToHms(m.weightedNormalizedDuration||m.duration)):Object(r.h)(t,null,i.a.secToHms(m.duration)))),Object(r.h)("div",{class:"col-6 text-center",style:"line-height: 1.4em;"},Object(r.h)("span",{class:"text-muted"},"Status"),Object(r.h)("br",null),Object(r.h)("span",{style:"font-size: 1.5em;"},u?Object(r.h)(t,null,1===d.isInProgress?Object(r.h)("span",{class:"text-primary"},"running"):"",2===d.isInProgress?Object(r.h)("span",{class:"text-danger"},"resting"):"",0===w?Object(r.h)(t,null,d.isInProgress?"":Object(r.h)("span",{class:"text-success"},"FINISH")):Object(r.h)(t,null,d.isInProgress?"-":Object(r.h)(t,null,v?Object(r.h)("span",{class:"text-danger"},"resting"):Object(r.h)("span",{class:"text-muted"},"NYS")))):Object(r.h)(t,null,0===w?Object(r.h)("span",{class:"text-success"},"FINISH"):Object(r.h)(t,null,v?Object(r.h)("span",{class:"text-danger"},"resting"):Object(r.h)("span",{class:"text-muted"},"NYS")))))))),Object(r.h)("div",{class:"row mt-2",style:"font-size: 0.9em;"},Object(r.h)("div",{class:"col-6"},Object(r.h)("table",{class:"table table-sm table-striped"},Object(r.h)("tbody",null,Object(r.h)("tr",null,Object(r.h)("td",null,"Current speed"),Object(r.h)("td",null,l?Object(r.h)(t,null,i.a.format(l,1)," km/t"):"-")),Object(r.h)("tr",null,Object(r.h)("td",null,"Avg speed"),Object(r.h)("td",null,i.a.format(m.speedAvg,1)," km/t")),Object(r.h)("tr",null,Object(r.h)("td",null,"Duration"),Object(r.h)("td",null,i.a.secToHms(m.duration))),Object(r.h)("tr",null,Object(r.h)("td",null,"Calculated duration"),Object(r.h)("td",null,i.a.secToHms(m.weightedNormalizedDuration))),Object(r.h)("tr",null,Object(r.h)("td",null,"Rest"),Object(r.h)("td",null,i.a.secToHms(m.rest))),Object(r.h)("tr",null,Object(r.h)("td",null,"Elevation"),Object(r.h)("td",null,i.a.format(m.elevation,0)," m")),Object(r.h)("tr",null,Object(r.h)("td",null,"Altitude"),Object(r.h)("td",null,u?Object(r.h)(t,null,d.currentLocation.coords.altitude," moh"):"-")),Object(r.h)("tr",null,Object(r.h)("td",null,"Load index"),Object(r.h)("td",null,m.loadIndex)),Object(r.h)("tr",null,Object(r.h)("td",null,"Updated:"),Object(r.h)("td",null,u?Object(r.h)(t,null,i.a.formatDistance(h,new Date)," ago"):"-"))))),Object(r.h)("div",{class:"col-6"},Object(r.h)("span",null,"Elevation profile:"),Object(r.h)("br",null),u?Object(r.h)("svg",{viewBox:"0 0 300 100",style:"width: 180px; height: 60px; top: 0; left: 0;"},Object(r.h)("path",{d:""+d.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})):Object(r.h)("div",null,"-"),Object(r.h)("span",null,"Map profile:"),Object(r.h)("br",null),u?Object(r.h)("svg",{viewBox:"0 0 300 300",style:"width: 180px; height: 180px; top: 0; left: 0;"},Object(r.h)("path",{d:""+d.svgMap,style:"fill: none; stroke: #FF6300; stroke-width: 5; opacity: 0.2;"})):Object(r.h)("div",null,"-"))),Object(r.h)("div",{class:"mt-2",style:"font-size: 0.9em;"},Object(r.h)("div",{class:"d-flex flex-wrap"},b&&b.map((function(e,n){var s=e.distanceKm/p.distance*100,o=(s>100||parseInt(s,10),Math.floor(new Date(e.date).getTime()/1e3)),c=new Date(0);c.setUTCSeconds(o+parseInt(e.duration,10));var l=e.images.flat();return Object(r.h)(t,null,Object(r.h)("div",{class:"bg-light border rounded-lg text-right position-relative mr-1 mb-1"},Object(r.h)("svg",{viewBox:"0 0 300 100",class:"position-absolute",style:"width: 100%; height: 95%; bottom: 0px; left: 0px; z-index: 0;"},Object(r.h)("path",{d:""+e.svgElevation,style:"fill: #0063FF; stroke: #0063FF; stroke-width: 2; opacity: 0.2;"})),Object(r.h)("div",{class:"position-relative px-3"},Object(r.h)("span",{class:"position-absolute",style:"top: 3px; left: 3px; font-size: 1.3em;"},n+1),Object(r.h)("small",null,Object(r.h)("span",{class:"float-left"},Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-sign-out-alt"})," ",i.a.formatDate(e.date,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-sign-in-alt"})," ",i.a.formatDate(c,{locale:a,hour12:!1,hour:"2-digit",minute:"2-digit"}))),Object(r.h)("span",{class:"float-right"},Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-road"})," ",i.a.format(e.distanceKm,1)||"n/a"," ",Object(r.h)("span",{class:"font-weight-lighter"},"km")),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-mountain"})," ",i.a.format(e.elevation,0)||"n/a"," ",Object(r.h)("span",{class:"font-weight-lighter"},"m")),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-tachometer-alt"})," ",i.a.format(e.speedAvg,1)||"n/a"," ",Object(r.h)("span",{class:"font-weight-lighter"},"km/t")),Object(r.h)("br",null),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-clock"})," ",i.a.secToHms(e.duration)||"n/a"),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-moon"})," ",i.a.secToHms(e.rest)||"n/a"),Object(r.h)("br",null),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-dog"})," ",i.a.format(e.avgDogs,0)||"n/a"),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-balance-scale"})," ",i.a.format(e.loadIndex,0)||"n/a"),Object(r.h)("br",null),Object(r.h)("nobr",null,Object(r.h)("i",{style:"width: 20px;",class:"fas fa-images"})," ",l.length),Object(r.h)("br",null))))))})))))))},n}(r.Component))||a;e.a=h}).call(this,n("hosL").Fragment)},wanP:function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,r=n("hosL"),i=(n("Utv1"),n("/eY4")),c=n("eK6s"),l=n.n(c),h={mouseData:{}},u=Object(i.a)(a=function(e){function n(t){var n;return(n=e.call(this,t)||this).state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h),n.svgRef=null,n}var a,i;return i=e,(a=n).prototype=Object.create(i.prototype),a.prototype.constructor=a,a.__proto__=i,n.prototype.render=function(){var e=this,n=this.props,s=n.radius,o=void 0===s?50:s,a=n.heightAdd,i=void 0===a?0:a,c=n.color,h=void 0===c?"success":c,u=n.showPercentText,d=void 0===u||u,b=n.percent,p=void 0===b?0:b,m=n.prefix,g=void 0===m?"":m,f=n.showCenterText,O=void 0!==f&&f,j=n.centerText,v=n.centerTextSize,w=n.centerTextX,y=n.centerTextY,x=n.total,k=void 0===x?"":x,S=n.totalY,T=void 0===S?"90%":S,I=n.totalX,z=void 0===I?"50%":I,D=n.totalTextAnchor,C=void 0===D?"middle":D,P=n.completed,A=void 0===P?"":P,M=n.completedY,L=void 0===M?"65%":M,U=n.completedX,R=void 0===U?"50%":U,_=n.completedTextAnchor,B=void 0===_?"middle":_,F=.3*o,N=o-F/2,H=.3*o,E=2*N*Math.PI,W=.75*E,Y=W+" "+E,Z="rotate(135, "+o+", "+o+")",q=W-Math.min(Math.max(p,0),100)/100*W,V=v||o/2.5,X=o/5;return Object(r.h)(t,null,Object(r.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:l.a.svg,width:2*o,height:2*o+i,preserveAspectRatio:"none",ref:function(t){return e.svgRef=t}},Object(r.h)("circle",{class:""+l.a.gaugeBackground,cx:o,cy:o,r:N,strokeWidth:F,strokeDasharray:Y,strokeLinecap:"round",transform:Z}),Object(r.h)("circle",{class:l.a[h]+" "+l.a.gauge,cx:o,cy:o,r:N,stroke:"url(#grad)",strokeDasharray:Y,strokeDashoffset:q,strokeLinecap:"round",strokeWidth:H,style:{transition:"stroke-dashoffset 0.3s"},transform:Z}),d&&Object(r.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":V},p," ",g),O&&Object(r.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:w||"50%",y:y||"50%","dominant-baseline":"middle","text-anchor":"middle","font-size":V},j),A&&Object(r.h)("text",{class:l.a.gaugeText+" "+l.a[h],x:R,y:L,"dominant-baseline":"middle","text-anchor":B,"font-size":X},A),Object(r.h)("text",{class:l.a.gaugeText+" "+l.a.secondary,x:z,y:T,"dominant-baseline":"middle","text-anchor":C,"font-size":X},k)))},n}(r.Component))||a;e.a=u}).call(this,n("hosL").Fragment)},zUny:function(t,e,n){"use strict";(function(t){var s,o=n("hosL"),a=n("Utv1"),r=n("/eY4"),i=(n("OhSV"),n("fh8t")),c=n.n(i),l=n("ZOvn"),h=function(t){return function(e,n){return t.map((function(t){var s=1;return"-"===t[0]&&(s=-1,t=t.substring(1)),e[t]>n[t]?s:e[t]<n[t]?-s:0})).reduce((function(t,e){return t||e}),0)}},u=Object(r.a)(s=function(e){function n(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).chooseSubmenu=function(e){var n=e.target.closest("button").dataset.submenu;t.setState({submenu:n})},t.toggleInfo=function(){t.setState({showInfo:!t.state.showInfo})},t}var s,r;return r=e,(s=n).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r,n.prototype.render=function(){var e=this.props,n=e.id,s=e.onClickNav,r=void 0===s?function(){}:s,i=this.state,u=i.submenu,d=void 0===u?"detailsIn":u,b=i.showInfo,p=this.props.stores,m=p.raceStore,g=p.userStore,f=g.user,O=(void 0===f?{}:f).language,j=void 0===O?"en":O,v=p.appState.selectedClassIds,w=m.getClassById((void 0===v?[]:v)[0]),y=w.checkpoints?w.checkpoints.find((function(t){return t.id===n})):null;y=y||{};var x=w.results?w.results.slice().sort(h(["timestamp","-direction"])).filter((function(t){return t.checkpoint===n})):null,k=x?x.filter((function(t){return"in"===t.direction})):null,S=x?x.filter((function(t){return"out"===t.direction})):null,T=x?x.slice().sort(h(["legTime","timestamp"])).filter((function(t){return"in"===t.direction})):null,I=x?x.filter((function(t){return"scratched"===t.direction})):null,z=w.checkpoints?w.checkpoints.find((function(t){return t.sortOrder===y.sortOrder-1})):null,D=w.checkpoints?w.checkpoints.find((function(t){return t.sortOrder===y.sortOrder+1})):null,C=w.results&&z?w.results.slice().filter((function(t){return t.checkpoint===z.id&&"out"===t.direction})):null,P=w.results&&D?w.results.slice().filter((function(t){return t.checkpoint===D.id&&"in"===t.direction})):null,A=y.image,M=y.topImage,L=l.a.displayNameShort(y),U=M||"./assets/checkpoint.png";return Object(o.h)(t,null,Object(o.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(U?'background-image: url("'+U+'");':"")}),D&&Object(o.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return r(D.id)}},Object(o.h)("i",{class:"fas fa-angle-right"})),z&&Object(o.h)("button",{class:"btn btn-link text-primary float-right mr-2 py-0",style:"font-size: 2.0em; line-height: 1.0em;",onClick:function(){return r(z.id)}},Object(o.h)("i",{class:"fas fa-angle-left"})),Object(o.h)("div",{class:"d-flex position-relative",style:"margin-top: 16vh;"},Object(o.h)("div",{class:"position-relative text-center border rounded-circle imageRounded",style:"margin-top: -50px; "+(A?'background-image: url("'+A+'"); background-size: cover;':"background-color: #c0c0c0;")},!A&&Object(o.h)("div",{class:"text-muted",style:"font-size: 35px; padding-top: 10px;"},L),Object(o.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute bg-secondary font-weight-bold",style:"bottom: -8px; right: 0; "},y.sortOrder&&"n/a"!==y.sortOrder&&Object(o.h)(t,null,y.sortOrder))),Object(o.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.2em;"},Object(o.h)("h3",{class:"mb-2"},y.name),Object(o.h)("div",null,y.cellphone&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-phone"}))," ",Object(o.h)("a",{href:"tel:"+y.cellphone},y.cellphone)),y.email&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3",href:"mailto:"+y.email},Object(o.h)("i",{class:"fas fa-envelope"}))),y.facebook&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3",href:""+l.a.asFacebookLink(y.facebook)},Object(o.h)("i",{class:"fab fa-facebook"}))),y.instagram&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3",href:""+l.a.asInstagramLink(y.instagram)},Object(o.h)("i",{class:"fab fa-instagram"}))),y.description&&Object(o.h)(t,null,Object(o.h)("a",{class:"ml-3 text-primary",onCLick:this.toggleInfo},Object(o.h)("i",{class:"fas fa-info-circle"})))))),b&&y.description&&Object(o.h)("div",null,Object(o.h)(c.a,{markdown:l.a.replaceImages(y.description,y.images),markdownOpts:l.a.getMarkdownOptions()})),Object(o.h)("div",{class:""},Object(o.h)("div",{class:""},Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-flag"})," Start")),Object(o.h)("div",{class:"text-center"},a.a.format(y.totalDistance||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km"))),!y.isStartLine&&Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-down"})," Prev")),Object(o.h)("div",{class:"text-center"},Object(o.h)("nobr",null,a.a.format(y.distanceFromPrev||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km")))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-arrow-up"})," Next")),Object(o.h)("div",{class:"text-center"},a.a.format(y.distanceToNext||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km"))),Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-flag-checkered"})," Finish")),Object(o.h)("div",{class:"text-center"},Object(o.h)("nobr",null,a.a.format(y.distanceToFinish||0,0)," ",Object(o.h)("span",{class:"text-muted"},"km"))))),Object(o.h)("div",{class:"d-flex justify-content-between mt-2"},y.requiredRestMinutes&&Object(o.h)("div",{class:"flex-fill bg-light rounded-lg p-3 align-middle"},Object(o.h)("div",null,Object(o.h)("small",{class:"text-muted"},Object(o.h)("i",{class:"fas fa-bed"})," Mandatory rest")),Object(o.h)("div",{class:"text-center"},Object(o.h)("nobr",null,a.a.secToHms(60*y.requiredRestMinutes,!0)),y.timeEqualization&&Object(o.h)(t,null,Object(o.h)("span",{class:"text-muted ml-2"},"+")," ",Object(o.h)("i",{class:"fas fa-user-clock"})," Time Equalization")))))),y.hideResults?Object(o.h)(t,null):Object(o.h)(t,null,Object(o.h)("div",{class:"d-flex justify-content-center mb-3"},Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+("detailsIn"===d?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsIn"},"Details in")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-none "+("detailsOut"===d?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"detailsOut"},"Detail out")),Object(o.h)("div",{class:"col px-0 pt-2"},Object(o.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+("legTimes"===d?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"legTimes"},"Leg times"))),Object(o.h)("div",{class:"w-100 overflow-auto position-relative",style:"max-height: 60vh;"},Object(o.h)("div",{class:"table-responsive-lg"},Object(o.h)("table",{class:"table table-striped table-sm"},"detailsIn"===d&&Object(o.h)(t,null,Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,"Musher"),Object(o.h)("th",null,"Time in"),Object(o.h)("th",null,"Time out"),Object(o.h)("th",null,"Time used"),Object(o.h)("th",null,"Avg speed"),Object(o.h)("th",null,"Dogs in"))),Object(o.h)("tbody",null,k&&k.map((function(e,n){var s=parseInt(e.bib,10),r=s?m.getMusherByBibId(s):null;r=r||{};var i,c=S.find((function(t){return t.bib===parseInt(e.bib,10)})),h=k.find((function(t){return t.bib===parseInt(e.bib,10)})),u=I.find((function(t){return t.bib===parseInt(e.bib,10)})),d=C&&C.find((function(t){return t.bib===parseInt(e.bib,10)})),b=0;return d&&e&&(i=l.a.deltaSec(d.timestamp,e.timestamp),b=y.distanceFromPrev/(i/3600)),h&&c&&h.timestamp&&c.timestamp&&l.a.deltaSec(h.timestamp,c.timestamp),Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},n+1),Object(o.h)("td",null,Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+l.a.getRankingColor(n+1)+"; width: 45px;"},e.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,r.flag," ",r.lastname)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(h.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},c&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(c.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),u&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),l.a.formatDate(u.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(i,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(b||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(o.h)("td",{class:"text-center"},e.dogs)))})))),"detailsOut"===d&&Object(o.h)(t,null,Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,"Musher"),Object(o.h)("th",null,"Time in"),Object(o.h)("th",null,"Time out"),Object(o.h)("th",null,"Time used"),Object(o.h)("th",null,"Rest in cp"),Object(o.h)("th",null,"Avg speed"),Object(o.h)("th",null,"Dogs out"),Object(o.h)("th",null,"Next CP"))),Object(o.h)("tbody",null,S&&S.map((function(e,n){var s=parseInt(e.bib,10),r=s?m.getMusherByBibId(s):null;r=r||{};var i,c,h,u=k.find((function(t){return t.bib===parseInt(e.bib,10)})),d=S.find((function(t){return t.bib===parseInt(e.bib,10)})),b=I.find((function(t){return t.bib===parseInt(e.bib,10)})),p=C&&C.find((function(t){return t.bib===parseInt(e.bib,10)})),g=P&&P.find((function(t){return t.bib===parseInt(e.bib,10)})),f=0;p&&e&&(i=l.a.deltaSec(p.timestamp,e.timestamp),f=y.distanceFromPrev/(i/3600)),u&&d&&u.timestamp&&d.timestamp&&(c=l.a.deltaSec(u.timestamp,d.timestamp));var O=y.estTimeToCpMinutes||0;return O&&r.cpSortOrder===y.sortOrder&&(h=l.a.addDeltaSec(d.timestamp,60*O)),Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},n+1),Object(o.h)("td",null,Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+l.a.getRankingColor(n+1)+"; width: 45px;"},e.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,r.flag," ",r.lastname)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(u.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},d&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(d.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),b&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),l.a.formatDate(b.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(i,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&c&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(c,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(f||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(o.h)("td",{class:"text-center"},d.dogs),Object(o.h)("td",{class:"text-center"},!y.isFinishLine&&g?Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(g.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))):Object(o.h)(t,null,h&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-muted"},l.a.formatDate(h,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))))))})))),"legTimes"===d&&Object(o.h)(t,null,Object(o.h)("thead",null,Object(o.h)("tr",null,Object(o.h)("th",null,"#"),Object(o.h)("th",null,"Musher"),Object(o.h)("th",null,"Time in"),Object(o.h)("th",null,"Time out"),Object(o.h)("th",null,"Time used"),Object(o.h)("th",null,"Avg speed"),Object(o.h)("th",null,"Dogs in"))),Object(o.h)("tbody",null,T&&T.map((function(e,n){var s=parseInt(e.bib,10),r=s?m.getMusherByBibId(s):null;r=r||{};var i,c=k.find((function(t){return t.bib===parseInt(e.bib,10)})),h=S.find((function(t){return t.bib===parseInt(e.bib,10)})),u=I.find((function(t){return t.bib===parseInt(e.bib,10)})),d=C&&C.find((function(t){return t.bib===parseInt(e.bib,10)})),b=0;return d&&e&&(i=l.a.deltaSec(d.timestamp,e.timestamp),b=y.distanceFromPrev/(i/3600)),Object(o.h)(t,null,Object(o.h)("tr",null,Object(o.h)("td",{class:"text-center"},n+1),Object(o.h)("td",null,Object(o.h)("div",{class:"d-flex flex-nowrap"},Object(o.h)("div",{class:"text-white font-weight-bolder pl-2 pr-1 py-0 rounded-pill-left rounded-none mr-2",style:"background-color: "+l.a.getRankingColor(n+1)+"; width: 45px;"},e.bib),Object(o.h)("div",null,Object(o.h)("nobr",null,r.flag," ",r.lastname)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(c.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},h&&Object(o.h)(t,null,Object(o.h)("nobr",null,l.a.formatDate(h.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"}))),u&&Object(o.h)(t,null,Object(o.h)("nobr",{class:"text-danger"},Object(o.h)("i",{class:"fas fa-times"}),l.a.formatDate(u.timestamp,{locale:j,day:"numeric",month:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.secToHms(i,!0)))),Object(o.h)("td",{class:"text-center"},!y.isStartLine&&Object(o.h)(t,null,Object(o.h)("nobr",null,a.a.format(b||0,1)," ",Object(o.h)("span",{class:"text-muted font-weight-lighter"},"km/t")))),Object(o.h)("td",{class:"text-center"},e.dogs)))})))))))))},n}(o.Component))||s;e.a=u}).call(this,n("hosL").Fragment)},zYNi:function(t,e,n){"use strict";(function(t){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i,c,l,h,u=n("hosL"),d=(n("QRet"),n("Utv1")),b=n("/eY4"),p=n("OhSV"),m=(n("Y3FI"),n("fh8t")),g=n.n(m),f=(n("go65"),n("HQo+")),O=n("wanP"),j=n("ZQlJ"),v=n("s4FZ"),w=n("q/oJ"),y=n("cH0S"),x=n("fVsX"),k=n("8n2v"),S=n("gWxU"),T=n("Nanz"),I=n("zUny"),z=(n("bbv7"),n("ukv5")),D=(n("eQ6k"),n("e0EM")),C=n("ZOvn"),P=C.a.marginTop(!0,!1),A=(C.a.marginTopBack(!1),C.a.marginBottom(),C.a.subMenuMarginTop(),{isLoading:!1,email:"",submenu:"ads",jwtToken:d.a.getJwtToken(),reloadInSec:null,reloadIsActive:!1,leaderboardMode:"mushers",filterByraceClass:"",showLeaderBoard:!0,showNews:!0}),M=Object(b.a)(i=function(e){function n(t){var n;return(n=e.call(this,t)||this).initComponent=function(){n.setState({reloadIsActive:!0},(function(){return n.tickReloadTimeer()}))},n.tickReloadTimeer=function(){var t=n.props.reloadLastEpoch;if(n.state.reloadIsActive){var e=Math.floor((new Date).getTime()/1e3);n.setState({reloadInSec:60-(e-t)}),clearTimeout(n.updateTimer.tick),n.updateTimer.tick=setTimeout((function(){return n.tickReloadTimeer()}),1e3)}return!1},n.state=o({},A),n.updateTimer={},n}r(n,e);var s=n.prototype;return s.componentDidMount=function(){this.initComponent()},s.componentWillUnmount=function(){clearTimeout(this.updateTimer.tick)},s.render=function(){var e=this.state.reloadInSec,n=this.props,s=n.radius,o=void 0===s?13:s,a=n.fontSize,r=void 0===a?11:a,i=n.classNames,c=void 0===i?"":i,l=Math.floor(d.a.normalizeBetween(e,0,60,0,100));return Object(u.h)(t,null,Object(u.h)("span",{class:c},Object(u.h)(O.a,{key:"gauge-reload-page",color:"primary",radius:o,showPercentText:!1,percent:l,showCenterText:!0,centerText:e,centerTextSize:r,centerTextY:"55%"})))},n}(u.Component))||i,L=Object(b.a)(c=function(e){function n(t){var n;return(n=e.call(this,t)||this).chooseSubmenu=function(t){var e=t.target.closest("button").dataset.submenu;n.setState({submenu:e})},n.state={},n}return r(n,e),n.prototype.render=function(){var e=this,n=this.props.stores,s=n.raceStore.waypoints,o=this.props,a=o.raceClass,r=void 0===a?{}:a,i=o.race,c=void 0===i?{}:i,l=o.onMarkerClick,h=void 0===l?function(){}:l;return Object(u.h)(t,null,Object(u.h)("div",{class:"d-flex justify-content-center align-items-center mb-2"},Object(u.h)("span",{style:"font-size: 1.3em;"},Object(u.h)(p.c,{id:"races.gps-ranking"},"GPS Ranking"),": ",c.title," - ",r.title)),Object(u.h)("div",{class:"w-100 overflow-auto",style:"max-height: 60vh;"},!s||0===s.length&&Object(u.h)(t,null,Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-dog"})),Object(u.h)("div",{class:"w-100"},Object(u.h)("h3",null,Object(u.h)(p.c,{id:"races.no-teams-found"},"No teams found!")),Object(u.h)(p.c,{id:"races.loading-teams"},"Loading teams...")),Object(u.h)("div",{class:"spinner-border text-primary",style:"width: 3rem; height: 3rem;",role:"status"},Object(u.h)("span",{class:"sr-only"},"Loading...")))),Object(u.h)("table",{class:"table table-sm table-striped"},s&&s.map((function(n,s){var o=d.a.format(n.restTime/n.raceTime*100,0);C.a.displayNameShort(n);return Object(u.h)(t,null,Object(u.h)("tr",{onClick:function(){return h(n)}},Object(u.h)("td",{style:"width: 15px;",class:"text-center"},n.rank),Object(u.h)("td",null,Object(u.h)("div",{class:"d-flex justify-content-between align-items-start w-100"},Object(u.h)("div",{class:"flex-grow-1"},Object(u.h)("div",{class:"float-right ml-2"},Object(u.h)("div",{class:"text-center"},Object(u.h)(O.a,{key:"gauge-reload-page",color:o<40?o<30?"danger":"warning":"success",radius:30,showPercentText:!1,percent:o,showCenterText:!0,centerText:o+"%",centerTextSize:15,centerTextY:"55%"}))),Object(u.h)("div",{class:"float-right"},n.finishTime<9999999999?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-flag-checkered text-success"})):Object(u.h)(t,null,"rest"===n.currentState?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-bed text-warning"})):Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-running text-primary"})))),Object(u.h)("span",{class:"text-white rounded-pill-left px-2 mr-2",style:"background-color: "+C.a.getRankingColor(n.rank||s+1)+";"},n.bib),n.flag,"  ",n.title,Object(u.h)("div",null,Object(u.h)("small",null,n.finishTime<9999999999?Object(u.h)(t,null,n.diffToFirstFinishTime>0?Object(u.h)(t,null,Object(u.h)("span",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-arrow-up"}))," ",d.a.secToHms(n.diffToFirstFinishTime)):Object(u.h)(t,null,Object(u.h)("span",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-flag-checkered"}))," ",d.a.formatDate(d.a.parseInputDate(n.finishTime),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),Object(u.h)("nobr",null,Object(u.h)("i",{class:"fas fa-running text-muted"})," ",d.a.secToHms(n.raceTime)),Object(u.h)("nobr",null,Object(u.h)("i",{class:"fas fa-bed ml-2 text-muted"})," ",d.a.format(n.restTime/n.raceTime*100,0),"%")):Object(u.h)(t,null,Object(u.h)("nobr",null,Object(u.h)("span",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-flag-checkered"}))," ",d.a.format(n.distanceToFinish,1)," km"),n.distanceToFinish!==n.distanceToFirst&&n.distanceToFirst>0&&Object(u.h)(t,null,Object(u.h)("nobr",null,Object(u.h)("span",{class:"text-muted font-weight-light ml-2"},"1st:")," ",d.a.format(n.distanceToFirst,1)," km")),n.distanceToFinish!==n.distanceToForward&&n.distanceToForward>0&&Object(u.h)(t,null,Object(u.h)("nobr",null,Object(u.h)("span",{class:"text-muted ml-2"},Object(u.h)("i",{class:"fas fa-arrow-up"}))," ",d.a.format(n.distanceToForward,1)," km")),n.distanceToBehind>0&&Object(u.h)(t,null,Object(u.h)("nobr",null,Object(u.h)("span",{class:"text-muted ml-2"},Object(u.h)("i",{class:"fas fa-arrow-down"}))," ",d.a.format(n.distanceToBehind,1)," km")),Object(u.h)("br",null),Object(u.h)("nobr",null,Object(u.h)("span",{class:"text-muted"},Object(u.h)("i",{class:"fas fa-tachometer-alt"}))," ",d.a.format((n.currentAvgSpeed?3.6*n.currentAvgSpeed:n.speed)||0,1)," km/h"),Object(u.h)("nobr",null,Object(u.h)("i",{class:"fas fa-running ml-2 text-muted"})," ",d.a.secToHms(n.raceTime)),Object(u.h)("nobr",null,Object(u.h)("i",{class:"fas fa-bed ml-2 text-muted"})," ",d.a.format(n.restTime/n.raceTime*100,0),"%")))))),Object(u.h)("div",{class:"mt-1 container-fluid"},Object(u.h)(z.a,{stores:e.props.stores,states:n.states,duration:n.raceTime,key:"state-"+n.bib,height:"6px",showText:!1})))))})))))},n}(u.Component))||c,U=Object(b.a)(l=function(e){function n(t){var n;return(n=e.call(this,t)||this).toggleAdminInfo=function(t){t.stopPropagation(),n.setState({showAdminInfo:!n.state.showAdminInfo})},n.toggleInfo=function(t){t.stopPropagation(),n.setState({showInfo:!n.state.showInfo})},n.onDogClick=function(t,e,s){t.preventDefault(),t.stopPropagation();var o=s.find((function(t){return t.uuidv4===e}));return n.setState({currentDog:o,showDog:e,dogs:s}),!1},n.chooseSubmenu=function(t){var e=t.target.closest("button").dataset.submenu;n.setState({submenu:e})},n.state={},n}return r(n,e),n.prototype.render=function(){for(var e=this.props.stores,n=e.raceStore,s=e.userStore,o=this.state,a=o.showAdminInfo,r=o.submenu,i=void 0===r?"details":r,c=o.showDog,l=o.currentDog,h=void 0===l?{}:l,b=this.props,m=b.wpData,f=void 0===m?{}:m,O=b.onMarkerClick,w=void 0===O?function(){}:O,y=n.findWaypointByBib(f.bib),x=s.isAdmin,k=s.user,S=void 0===k?{}:k,T=(f.bib?n.getMusherByBibId(f.bib):n.getMusherByBibEmail(f.email))||{},I=n.getTeamById(T.team),z=I.members?I.members.find((function(t){return t.email===T.email})):{},P=(n.getClassByBib(f.bib),n.getTotalsByTeamId(T.team)),A=C.a.getImage({user:z,team:I,priority:"user",fallback:T.image1}),M=C.a.displayNameShort(z)||C.a.displayNameShort(T),L=C.a.getRankingColor(y.rank),U=C.a.hasBirthday(h.birth),R=h.birth?Math.ceil(C.a.daysUntilNextBirthday(h.birth)):365,_=n.findNearestMushers(f.bib),B=_.inFront,F=_.behind,N=(d.a.format(y.restTime/y.raceTime*100,0),I&&I.imageHeader&&I.imageHeader.s3XXLargeLink?I.imageHeader:{s3XXLargeLink:T.topImage1||"./assets/homerun-race-logo.png"}),H=I&&I.images?[].concat(I.images):[],E=0;E<3;E+=1)T["image"+E]&&H.push({s3SmallLink:T["image"+E],s3LargeLink:T["image"+E]});I.members&&I.members.indexOf(S.id),I.followers&&I.followers.indexOf(S.id),I.followRequests&&I.followRequests.findIndex((function(t){return t.id===S.id})),Math.floor((new Date).getTime()/1e3);return Object(u.h)(t,null,F.bib&&Object(u.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:function(){return w(F)},style:"line-height: 1.0em; font-size: 2.0em;"},Object(u.h)("i",{class:"fas fa-angle-right"})),B.bib&&Object(u.h)("button",{class:"btn btn-link text-primary mx-2 py-0 float-right",onClick:function(){return w(B)},style:"line-height: 1.0em; font-size: 2.0em;"},Object(u.h)("i",{class:"fas fa-angle-left"})),Object(u.h)("div",{class:"d-flex justify-content-center align-items-center mb-2"},Object(u.h)("span",{style:"font-size: 1.3em; height: 16vh;"}," ")),Object(u.h)("div",{class:"w-100 overflow-auto",style:"max-height: 55vh;"},Object(u.h)("div",{class:"w-100 position-absolute",style:"z-index: -1; height: 18vh; top: 0px; left: 0px; background-size: cover; background-repeat: no-repeat; background-position: 50% 30%; background-color: #a0a0a0; "+(N?'background-image: url("'+N.s3XXLargeLink+'");':"")}),Object(u.h)("div",{class:"d-flex position-relative"},Object(u.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:A?'background-image: url("'+A+'"); background-size: cover;':""},!A&&Object(u.h)("div",{class:"text-muted",style:"font-size: 25px; padding-top: 5px;"},M),Object(u.h)("div",{class:"rounded-pill-both px-2 text-center position-absolute "+(L?"":"bg-secondary")+" font-weight-bold",style:"bottom: -20px; right: 0; "+(L?"background-color: "+L+";":"")},T.bib&&"n/a"!==T.bib&&Object(u.h)(t,null,T.bib))),Object(u.h)("div",{class:"flex-grow-1 pl-3 text-overflow mb-3",style:"line-height: 1.8em;"},Object(u.h)("div",{class:"float-right",style:"font-size: 1.2em;"},y.finishTime<9999999999?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-flag-checkered text-success"})):Object(u.h)(t,null,"rest"===y.currentState?Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-bed text-warning"})):Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-running text-primary"})))),Object(u.h)("h3",{class:"mb-0"},T.flag," ",T.firstname," ",T.lastname),Object(u.h)("h6",{class:"mb-0"},T.sportsClub||Object(u.h)(t,null," ")))),Object(u.h)("div",{class:"d-flex justify-content-center mb-3"},Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+("details"===i?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"details"},"Details")),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-none "+("team"===i?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"team"},"Team")),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+("dogs"===i?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.chooseSubmenu,"data-submenu":"dogs"},"Dogs"))),Object(u.h)("div",{class:"w-100 overflow-auto position-relative"},"details"===i&&Object(u.h)(t,null,Object(u.h)(D.a,{stores:this.props.stores,wp:y,musher:T})),"team"===i&&Object(u.h)(t,null,I.public>0?Object(u.h)(t,null,Object(u.h)("h3",null,I.name),Object(u.h)(g.a,{markdown:C.a.replaceImages(I.description,I.images),markdownOpts:C.a.getMarkdownOptions()}),Object(u.h)(v.a,{stores:this.props.stores,images:H})):Object(u.h)(t,null,Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-dog"})),Object(u.h)("h3",null,Object(u.h)(p.c,{id:"teams.no-public-team"},"No public team!")),Object(u.h)(p.c,{id:"teams.no-public-team"},"This team is not publicly visible."),H&&Object(u.h)("div",{class:"my-3"},Object(u.h)(v.a,{stores:this.props.stores,images:H}))))),"dogs"===i&&Object(u.h)(t,null,I.public>0?Object(u.h)(t,null,I.dogs&&Object(u.h)("div",{class:"w-100 container-fluid"},Object(u.h)("div",{class:"row pt-2"},Object(u.h)(j.a,{stores:this.props.stores,dogs:I.dogs.map((function(t){return t.id})),allDogs:I.dogs,onDogClick:this.onDogClick}))),c&&Object(u.h)(t,null,Object(u.h)("div",{class:"d-flex mb-0 mt-3 position-relative"},Object(u.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedLarge text-muted pt-2",style:h.image?'background-image: url("'+h.image.s3LargeLink+'"); background-size: cover;':""},!h.image&&Object(u.h)("span",{class:"font-weight-lighter",style:"font-size: 35px;"},d.a.ucfirst(h.name,!0))),Object(u.h)("div",{class:"flex-grow-1 pl-3 pr-2",style:"border-right: 4px solid "+s.findHarness(h.harness,"colorNonstop")+" !important; line-height: 1.2em;"},Object(u.h)("h5",{class:"mb-1"},h.shortname||h.name," ",h.shortname&&""!==h.shortname&&Object(u.h)(t,null," - ",Object(u.h)("span",{class:"font-weight-lighter"},h.name)),U&&Object(u.h)(t,null,Object(u.h)("i",{class:"fas fa-birthday-cake ml-3"}))),Object(u.h)("div",null,R<7&&Object(u.h)(t,null,Object(u.h)("span",{class:"text-muted mr-2"},Object(u.h)("i",{class:"fas fa-birthday-cake"})," in ",R," days")),h.birth&&Object(u.h)("span",{class:"mr-2"},d.a.age(h.birth,h.deceased)),"female"===h.gender?Object(u.h)("i",{class:"fas fa-venus"}):Object(u.h)("i",{class:"fas fa-mars"})))))):Object(u.h)(t,null,Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-dog"})),Object(u.h)("h3",null,Object(u.h)(p.c,{id:"teams.no-public-team"},"No public team!")),Object(u.h)(p.c,{id:"teams.no-public-team"},"This team is not publicly visible.")))),x&&Object(u.h)("div",{style:"max-height: 200px; max-width: 70vw; overflow: auto;"},Object(u.h)("button",{class:"btn btn-link btn-block",onClick:this.toggleAdminInfo},"Toggle admin info"),a&&Object(u.h)(t,null,Object(u.h)("small",null,Object(u.h)("xmp",null,"musher: ",JSON.stringify(T,null,4),Object(u.h)("br",null),"user: ",JSON.stringify(z,null,4),Object(u.h)("br",null),"team: ",JSON.stringify(I,null,4),Object(u.h)("br",null),"totals: ",JSON.stringify(P,null,4),Object(u.h)("br",null))))))))},n}(u.Component))||l,R=Object(b.a)(h=function(e){function n(t){var n;return(n=e.call(this,t)||this).handleHistoryPointIndex=function(t){var e=parseInt(t.target.value,10);clearTimeout(n.updateTimer.reload),n.setState({historyPointIndex:e,timerRunning:!1},(function(){n.props.stores.raceStore.updateWaypointPosition(Math.abs(n.state.historyPointIndex))}))},n.playHistory=function(){clearTimeout(n.updateTimer.reload);var t=n.state,e=t.historyPointIndex,s=t.replaySpeed,a=n.props.stores.raceStore,r=a.getRaceTrackerTimestamp(e+1),i={historyPointIndex:e+1,timerRunning:!1,playingHistory:!0};r&&(i.raceTrackerPointTimestamp=r),n.setState(o({},i),(function(){a.updateWaypointPosition(Math.abs(e+1))})),clearTimeout(n.updateTimer.history),n.updateTimer.history=setTimeout((function(){n.playHistory()}),1e3*s)},n.pauseHistory=function(){clearTimeout(n.updateTimer.history),n.setState({playingHistory:!1})},n.loadLiveRaceResults=function(t,e){return new Promise((function(s,o){var a,r,i,c,l,h,u,d,b,p,m,g,f,O;return void 0===t&&(t=n.props),a=e.teamIds,r=e.focusOnMushers,i=e.bibs,l=e.historySteps,d=(h=t.stores).userStore,b=(u=h.raceStore).race,(p=n.state).historyPointIndex,m=p.replayHistory,g=p.timerRunning,f=n.props.showDrawerReplay,O=u.getClassById(c=e.classid)||{},Promise.resolve(u.getRaceTrackerData(b.raceTrackerRace,{historySteps:l,history:m||f,bibs:i,classid:c,startDate:O.startDate,endDate:O.endDate,isAdmin:d.isAdmin})).then((function(){try{return u.getRaceTrackerActiveTeams(a,r,i),g&&(clearTimeout(n.updateTimer.reload),n.updateTimer.reload=setTimeout((function(){console.log("loadLiveRaceResults.reloading...");var t=Math.floor((new Date).getTime()/1e3);n.setState({reloadLastEpoch:t}),n.loadLiveRaceResults(n.props,{teamIds:a,focusOnMushers:r,bibs:i,classid:c,historySteps:l})}),6e4)),s()}catch(t){return o(t)}}),o)}))},n.loadRaceResults=function(t,e,s){return new Promise((function(o,a){var r,i;return void 0===t&&(t=n.props),r=t.stores.raceStore,i=n.state.timerRunning,Promise.resolve(r.loadWorkoutSummary(e,t.raceid)).then((function(){try{return r.getWorkoutSummaryActiveTeams(e,s),i&&(clearTimeout(n.updateTimer.reload),n.updateTimer.reload=setTimeout((function(){var t=Math.floor((new Date).getTime()/1e3);n.setState({reloadLastEpoch:t}),n.loadRaceResults(n.props,e,s)}),6e4)),o()}catch(t){return a(t)}}),a)}))},n.loadRace=function(t){return new Promise((function(e,s){var o,a,r,i,c,l,h,u,d,b,p,m,g,f,O;void 0===t&&(t=n.props);var j=function(){try{return e()}catch(t){return s(t)}},v=function(t){try{return console.log(t),j()}catch(t){return s(t)}};try{return n.setState({isLoading:!0}),a=(o=t.stores).raceStore,r=o.appState,c=(i=t).classid,l=i.filterByBibs,h=i.historySteps,Promise.resolve(a.load(i.raceid)).then(function(){try{if(a.getAllClassesSortedBy(),d=r.focusOnMushers,p=void 0===(b=r.selectedClassIds)?[]:b,-1===(m=null==(u=a.race)?void 0:u.classes.map((function(t){return t.id}))).indexOf(g=c||p[0])&&r.setSelectedClassId(g=m[0]),c&&r.toggleSelectedClassId(c,!0),f=u.classes.filter((function(t){return t.id===g})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),O=l||u.classes.filter((function(t){return t.id===g})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat(),f.length>0)return Promise.resolve(a.loadTeams(f.join(","),!1,!0,!0)).then(function(){try{return t.call(this)}catch(t){return v(t)}}.bind(this),v);function t(){function t(){return n.setState({isLoading:!1}),j()}return u.liveRace>0?Promise.resolve(n.loadLiveRaceResults(n.props,{teamIds:f,focusOnMushers:d,bibs:O,classid:g,historySteps:h})).then(function(){try{return t.call(this)}catch(t){return v(t)}}.bind(this),v):Promise.resolve(n.loadRaceResults(n.props,f,d)).then(function(){try{return t.call(this)}catch(t){return v(t)}}.bind(this),v)}return t.call(this)}catch(t){return v(t)}}.bind(this),v)}catch(t){v(t)}}))},n.setLeaderboardMode=function(t){n.setState({leaderboardMode:t.target.parentElement.dataset.mode||t.target.dataset.mode})},n.chooseRaceClass=function(t){n.setState({filterByraceClass:t.target.value})},n.toggleShowLeaderBoard=function(t){n.setState(!0===t?{showLeaderBoard:!1}:{showLeaderBoard:!n.state.showLeaderBoard})},n.toggleShowNews=function(t){n.setState(!0===t?{showNews:!1}:{showNews:!n.state.showNews})},n.closeAllDrawers=function(){n.setState({showResults:!1,showDrawerCheckpoint:!1,showDrawerMusher:!1})},n.onMarkerClick=function(t){n.closeAllDrawers(),n.setState({showDrawerMusher:!0,wpData:t})},n.onMusherClick=function(t){n.setState({showDrawerMusher:!0,wpData:t})},n.onCpMarkerClick=function(t){if(!t||!t.id)return null;n.closeAllDrawers(),n.setState({selectedCheckpointId:t.id,showDrawerCheckpoint:!0,cpData:t})},n.toggleDrawerMusher=function(){n.setState({showDrawerMusher:!n.state.showDrawerMusher})},n.toggleDrawerCheckpoint=function(){n.setState({showDrawerCheckpoint:!n.state.showDrawerCheckpoint})},n.toggleResults=function(){var t=n.state.showResults;n.closeAllDrawers(),n.setState({showResults:!t})},n.selectCheckpoint=function(t){n.closeAllDrawers(),n.setState({selectedCheckpointId:t,showDrawerCheckpoint:!0,showDrawerMusher:!1,showDrawer:!1})},n.onTeamClick=function(t,e){return t.preventDefault(),t.stopPropagation(),n.setState({showTeam:e}),!1},n.hideTeam=function(){n.setState({showTeam:null})},n.onUserClick=function(t){return t.preventDefault(),t.stopPropagation(),!1},n.onDogClick=function(t,e,s){return t.preventDefault(),t.stopPropagation(),n.setState({showDog:e,dogs:s}),!1},n.hideDog=function(){n.setState({showDog:null})},n.setReplaySpeed=function(t){var e=t.target.closest("button").dataset.speed;n.setState({replaySpeed:parseFloat(e)})},n.filterByClass=function(t){return new Promise((function(e,s){var o,a,r,i,c,l,h,u,d,b,p,m=function(){try{return e()}catch(t){return s(t)}},g=function(t){try{return console.log(t),m()}catch(t){return s(t)}};try{if(o=t.target.closest("button").dataset.id,r=(a=n.props).historySteps,i=a.filterByBibs,(n.state.replayHistory||a.showDrawerReplay)&&n.toggleReplayHistory(),l=(c=n.props.stores).appState,(h=c.raceStore).cleanupMemoryClass(),l.toggleSelectedClassId(o,!0),d=l.focusOnMushers,b=(u=h.race).classes.filter((function(t){return t.id===o})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.team>0})).map((function(t){return t.team}))})).flat(),p=i||u.classes.filter((function(t){return t.id===o})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat(),n.setState({allTeamIds:b,bibs:p,selectedMusherBib:"",showDrawerCheckpoint:!1,showDrawerMusher:!1,showDrawer:!1}),b.length>0)return Promise.resolve(h.loadTeams(b.join(","),!1,!0,!0)).then(function(){try{return f.call(this)}catch(t){return g(t)}}.bind(this),g);function f(){function t(){return m()}return u.liveRace>0?Promise.resolve(n.loadLiveRaceResults(n.props,{teamIds:b,focusOnMushers:d,bibs:p,classid:o,historySteps:r})).then(function(){try{return t.call(this)}catch(t){return g(t)}}.bind(this),g):Promise.resolve(n.loadRaceResults(n.props,b,d)).then(function(){try{return t.call(this)}catch(t){return g(t)}}.bind(this),g)}return f.call(this)}catch(t){g(t)}}))},n.toggleFocusOnMusher=function(t){try{var e=n.props.stores,s=e.appState,o=e.raceStore;s.toggleFocusOnMusher(t.target.parentElement.dataset.musherid||t.target.dataset.musherid);var a=s.focusOnMushers,r=void 0===a?[]:a,i=s.selectedClassIds,c=(void 0===i?[]:i)[0],l=o.race,h=l.classes.filter((function(t){return t.id===c})).filter((function(t){return t.contestants&&t.contestants.length>0})).map((function(t){return t.contestants.filter((function(t){return t.bib>0})).map((function(t){return t.bib}))})).flat();l.liveRace>0?o.getRaceTrackerActiveTeams(null,r,h):o.getWorkoutSummaryActiveTeams(null,r,h)}catch(t){console.log(t)}},n.toggleBib=function(){try{var t=n.props.stores,e=t.appState,s=t.raceStore.getMusherByBibId(n.state.bib);e.toggleFocusOnMusher(s.id)}catch(t){console.log(t)}},n.checkForEnter=function(t){"Enter"===t.key&&n.toggleBib()},n.toggleReplayHistory=function(){var t=n.state.replayHistory;clearTimeout(n.updateTimer.reload),n.setState({showDrawer:!1,historyPointIndex:0,replayHistory:!t,timerRunning:t},(function(){return new Promise((function(e,s){var o,a,r,i;return Promise.resolve(n.loadRace()).then((function(){try{if(o=n.state.historyPointIndex,r=(a=n.props.stores.raceStore).maxPoints,t)console.log("toggleReplayHistory: setting to maxPoints",r),a.updateWaypointPosition(Math.abs(r-1));else for(console.log("toggleReplayHistory: setting to first points"),i=0,10;i<10;i+=1)a.updateWaypointPosition(Math.abs(o+i));return e()}catch(t){return s(t)}}),s)}))}))},n.toggleLines=function(){n.setState({showLines:!n.state.showLines})},n.state=o(o({},A),{},{reloadLastEpoch:Math.floor((new Date).getTime()/1e3),historyPointIndex:0,timerRunning:!0,replayHistory:!1,replaySpeed:1}),n.updateTimer={},n}r(n,e);var s=n.prototype;return s.componentWillUnmount=function(){clearTimeout(this.updateTimer.reload),clearTimeout(this.updateTimer.history),clearTimeout(this.updateTimer.tick)},s.componentDidMount=function(){this.loadRace();try{var t={width:(e=window).innerWidth,height:e.innerHeight};t.width<800&&(this.toggleShowLeaderBoard(!0),this.toggleShowNews(!0))}catch(t){console.log(t)}var e},s.componentWillReceiveProps=function(t){this.props.classid===t.classid&&this.props.showDrawerReplay===t.showDrawerReplay||this.loadRace(t)},s.render=function(){var e=this,n=this.state,s=n.historyPointIndex,o=n.timerRunning,a=n.playingHistory,r=n.replaySpeed,i=n.raceTrackerPointTimestamp,c=n.showLines,l=n.allTeamIds,h=this.props.stores,b=h.userStore,p=h.raceStore,m=h.appState,O=b.user,j=void 0===O?{}:O,v=b.isAdmin,z=this.props,D=z.raceid,A=z.showHeader,R=void 0===A||A,_=z.drawerClassNames,B=z.drawerWidth,F=z.showDrawerReplay,N=z.largeMarkers,H=z.isAnimatedMarkers,E=z.linkBase,W=void 0===E?"/app-races/":E,Y=m.focusOnMushers,Z=void 0===Y?[]:Y,q=m.selectedClassIds,V=void 0===q?[]:q,X=this.state,G=X.reloadLastEpoch,J=X.showDrawerMusher,K=X.showDrawerCheckpoint,Q=X.wpData,$=void 0===Q?{}:Q,tt=X.showResults,et=X.showTeam,nt=X.showDog,st=X.replayHistory,ot=X.selectedCheckpointId,at=p.waypoints,rt=p.geoJSONs,it=p.zoomToMarkers,ct=p.race,lt=p.maxPoints,ht=$.bib?p.getMusherByBibId($.bib):p.getMusherByBibEmail($.email),ut=p.getTeamById(ht.team),dt=p.getClassById(V[0])||{},bt=[];dt.waypoints&&dt.waypoints.length>0?bt=dt.waypoints:dt.checkpoints&&dt.checkpoints.length>0&&(bt=dt.checkpoints.slice().filter((function(t){return t.position&&t.position[0]})).map((function(t){return{id:t.id,title:t.name,lat:t.position[0],lng:t.position[1]}})));var pt=!0;ct.countryRegexp&&(j&&j.currentLocationGeocode&&new RegExp(ct.countryRegexp,"i").test(j.currentLocationGeocode.formattedCountry)&&(pt=!1));return Object(u.h)(t,null,et&&Object(u.h)(w.a,null,Object(u.h)(S.default,{stores:this.props.stores,teamid:et,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),nt&&Object(u.h)(w.a,null,Object(u.h)(T.default,{stores:this.props.stores,dogid:nt,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:ut.dogs})),R&&Object(u.h)(x.a,{height:P},Object(u.h)("div",{class:"d-flex justify-content-between align-items-center w-100"},Object(u.h)("div",{class:"d-flex align-items-center"},Object(u.h)("span",{class:"",style:"font-size: 2.3em;"},Object(u.h)("a",{href:""+W+ct.id},Object(u.h)("i",{class:"fas fa-angle-left"}))),Object(u.h)("span",{class:"ml-4 text-primary",style:"font-size: 1.4em;",onClick:this.toggleResults},Object(u.h)("i",{class:"fas fa-list-ol"})),Object(u.h)("span",{class:"ml-4 text-primary",style:"font-size: 1.4em;"},!ct.resultsHide&&Object(u.h)("a",{href:""+W+ct.id+"/results"},Object(u.h)("i",{class:"fas fa-stopwatch"})))),Object(u.h)("div",null,Object(u.h)("span",{class:"font-weight-normal text-white",style:"font-size: 1.2em;"},ct.title)),ct.liveRace>0?Object(u.h)(t,null,Object(u.h)("div",{class:"d-flex align-items-center text-primary",onClick:this.toggleReplayHistory},Object(u.h)("span",{class:""},"Replay"),Object(u.h)("span",{class:"ml-2",style:"font-size: 1.4em;"},Object(u.h)("i",{class:"fas fa-play"})))):Object(u.h)(t,null,Object(u.h)("div",{class:"d-flex align-items-center"}," "))),Object(u.h)("div",{class:"w-100 overflow-hidden"},Object(u.h)("div",{class:"d-flex flex-row flex-nowrap pb-2 px-1",style:"overflow: auto; scroll-snap-type: x mandatory;"},ct.classes&&ct.classes.map((function(n,s){return Object(u.h)(t,null,Object(u.h)("div",{class:"col px-0 pt-0"},Object(u.h)("button",{type:"button",class:"btn btn-block "+C.a.getPillClass(ct.classes.length,s)+" rounded-none "+(V.indexOf(n.id)>-1?"btn-primary":"btn-outline-primary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:e.filterByClass,"data-id":n.id},n.title)))}))))),pt?Object(u.h)(t,null,Object(u.h)("div",{class:"container-fluid position-relative p-0 w-100 h-100",style:"margin-top: "+(R?P:0)+";"},ct.id?Object(u.h)(t,null,Object(u.h)(f.a,{marginTop:P,stores:this.props.stores,raceid:D,waypoints:at,geoJSONs:c?rt:null,waypoints2:bt,zoomToMarkers:it,fullscreenMap:!0,onMarkerClick:this.onMarkerClick,onMarker2Click:this.onCpMarkerClick,showHeatmap:ct.liveRace<1,allTeamIds:l,showTracks:ct.liveRace>=1,selectedClassIds:V,showDistanceMarkers:!1,groupWaypoints:!1,focusOnMushers:Z,largeMarkers:N,isAnimatedMarkers:H,replaySpeed:1e3*r})):Object(u.h)(t,null,Object(u.h)(k.a,{stores:this.props.stores})),o&&Object(u.h)("div",{class:"position-absolute",style:"top: 125px; left: 5px; z-index: 9999; width: 30px; height: 30px;"},Object(u.h)(M,{stores:this.props.stores,classNames:"float-right ml-2",reloadLastEpoch:G})),Z&&Z.length>0&&Object(u.h)(t,null,Object(u.h)("div",{class:"row mb-2",style:' background-color: #1C1F4C; background-image: url("https://themusher.app/assets/tv-single-background.jpg"); background-size: cover !important; background-position: 0 0; border-radius: 10px; '},Object(u.h)("div",{class:"col-12 text-white",style:"font-size: 1.3em;"},Z&&Z.map((function(n){var s=p.getMusherById(n);return Object(u.h)(t,null,Object(u.h)("div",null,Object(u.h)("nobr",null,Object(u.h)("span",{class:"mr-2",onClick:e.toggleFocusOnMusher,"data-musherid":s.id},Z.indexOf(s.id)>-1?Object(u.h)("i",{class:"fas fa-times text-warning"}):Object(u.h)("i",{class:"far fa-star"})),Object(u.h)("span",{class:"text-right",style:"width: 50px; display: inline-block;"},s.bib)," ",s.flag," ",s.firstname," ",s.lastname,Object(u.h)("br",null))))}))))),ct.mapCredits&&Object(u.h)(t,null,Object(u.h)("div",{class:"position-absolute",style:"bottom: 30px; left: 7px; z-index: 9999; width: 100px; height: 40px;"},Object(u.h)(g.a,{markdown:C.a.replaceImages(ct.mapCredits,ct.images),markdownOpts:C.a.getMarkdownOptions()}))),(F||st)&&Object(u.h)(t,null,Object(u.h)(y.a,{stores:this.props.stores,onCloseClick:this.toggleReplayHistory,classNames:_,width:B},lt>0?Object(u.h)(t,null,Object(u.h)("div",{class:"d-flex justify-content-center mx-3"},a?Object(u.h)(t,null,Object(u.h)("div",{class:"pl-1"},Object(u.h)("button",{class:"btn btn-warning",onClick:this.pauseHistory},Object(u.h)("i",{class:"fas fa-pause"})))):Object(u.h)(t,null,Object(u.h)("div",{class:"pl-1"},Object(u.h)("button",{class:"btn btn-success",onClick:this.playHistory},Object(u.h)("i",{class:"fas fa-play"})))),Object(u.h)("div",{class:"pl-2 pt-2 flex-grow-1"},Object(u.h)("input",{type:"range",class:"custom-range w-100",min:0,max:lt,value:s,onInput:this.handleHistoryPointIndex}))),Object(u.h)("div",{class:"d-flex justify-content-center"},Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-pill-left rounded-none "+(1===r?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":1},"60x")),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-none "+(.5===r?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.5},"120x")),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-none "+(.25===r?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.25},"240x")),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block right rounded-none "+(.12===r?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.12},"480x")),Object(u.h)("div",{class:"col px-0 pt-2"},Object(u.h)("button",{type:"button",class:"btn btn-block rounded-pill-right rounded-none "+(.05===r?"btn-secondary":"btn-outline-secondary")+" text-nowrap",style:"text-overflow: ellipsis; overflow: hidden;",onClick:this.setReplaySpeed,"data-speed":.05},"1000x"))),Object(u.h)("div",{class:"d-flex justify-content-center"},Object(u.h)("div",{class:"flex-grow-1 pt-0 font-weight-bolder text-center",style:"font-size: 1.1em;"},i&&Object(u.h)(t,null,d.a.formatDate(d.a.parseInputDate(i),{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"})),v&&Object(u.h)(t,null,"/ ",s)),v&&Object(u.h)(t,null,Object(u.h)("button",{class:"btn btn-danger mt-2 mr-4 rounded-pill-both rounded-none",onClick:this.toggleLines},Object(u.h)("i",{class:"fas fa-wave-square"})," Show lines")))):Object(u.h)(t,null,Object(u.h)("div",{class:"spinner-border text-primary",role:"status"},Object(u.h)("span",{class:"sr-only"},"Loading..."))))),tt&&Object(u.h)(t,null,Object(u.h)(y.a,{stores:this.props.stores,onCloseClick:this.toggleResults,classNames:_,width:B},Object(u.h)(L,{stores:this.props.stores,raceClass:dt,race:ct,onMarkerClick:this.onMusherClick}))),J&&Object(u.h)(t,null,Object(u.h)(y.a,{stores:this.props.stores,onCloseClick:this.toggleDrawerMusher,classNames:_,width:B},Object(u.h)(U,{stores:this.props.stores,wpData:$,onMarkerClick:this.onMarkerClick,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))),K&&Object(u.h)(t,null,Object(u.h)(y.a,{stores:this.props.stores,onCloseClick:this.toggleDrawerCheckpoint},Object(u.h)(I.a,{stores:this.props.stores,id:ot,onClickNav:this.selectCheckpoint}))))):Object(u.h)(t,null,Object(u.h)("div",{class:"container-fluid position-relative p-0 w-100 h-100",style:"margin-top: "+(R?P:0)+";"},Object(u.h)("div",{class:"text-center text-muted"},Object(u.h)("div",{class:"display-1"},Object(u.h)("i",{class:"fas fa-hand-paper"})),Object(u.h)("h3",null,"Not allowed to view tracking"),ct.countryRegexpMessage))))},n}(u.Component))||h;e.a=R}).call(this,n("hosL").Fragment)}}]);
//# sourceMappingURL=64.chunk.18e33.js.map