(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"07/T":function(t,e,s){"use strict";(function(t){function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,c=s("hosL"),i=s("Utv1"),a=s("/eY4"),l=s("ZOvn"),p=s("4dUO"),u=s("PWmE"),b={showAddComment:!1},h=Object(a.a)(n=function(e){function s(t){var s;return(s=e.call(this,t)||this).likeNews=function(){return new Promise((function(t,e){return Promise.resolve(s.props.stores.newsStore.likeNews({id:s.props.news.id})).then((function(s){try{return s,t()}catch(t){return e(t)}}),e)}))},s.toggleAddComment=function(t){var e=t.target.parentElement.dataset.id||t.target.dataset.id;s.setState({showAddComment:!s.state.showAddComment},(function(){s.inputRef[e]&&s.inputRef[e].focus()}))},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},b),s.updateTimer={},s.inputRef={},s}var n,a;return a=e,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,s.prototype.render=function(){var e=this,s=this.state.showAddComment,r=this.props.news,o=void 0===r?{}:r,n=this.props.stores.userStore.user,a=n.language,b=void 0===a?"en":a,h=o.likes,f=void 0===h?[]:h,d=o.comments,m=void 0===d?[]:d,g=o.likes&&o.likes.findIndex((function(t){return t.user===n.id}))>-1;return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mb-5"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded",style:o.images&&o.images[0]?'background-image: url("'+o.images[0].s3SmallLink+'");':""},!(o.images&&o.images[0])&&Object(c.h)("i",{class:"fas fa-paragraph text-muted mt-3",style:"font-size: 40px;"})),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("a",{class:"stretched-link",href:"/news/"+o.id},Object(c.h)("i",{class:"fas fa-eye"+(o.active?" text-success":"-slash text-danger")+" float-right"}),Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},l.a.replaceImages(o.title,o.images,b))),Object(c.h)("div",null,Object(c.h)("small",{class:"text-muted"},i.a.isoDate(o.createdDate)," - ",o.tag)),l.a.replaceImages(o.ingress,o.images,b))),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0"},f&&f.length>0&&Object(c.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",f.length),m&&m.length>0&&Object(c.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-comment text-primary"})," ",m.length)),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-"+(g?"primary":"secondary")+" btn-lg btn-block "+(g?"text-primary":""),onClick:this.likeNews},Object(c.h)("i",{class:(g?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":o.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," Comment")))),s&&Object(c.h)(u.a,{stores:this.props.stores,news:o,inputRef:function(t){return e.inputRef[o.id]=t}}),Object(c.h)(p.a,{stores:this.props.stores,news:o,col:10,offset:2,compact:!0}))))},s}(c.Component))||n;e.a=h}).call(this,s("hosL").Fragment)},AxFz:function(t,e,s){"use strict";function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var n,c=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("OhSV"),l=s("07/T"),p=s("ZOvn"),u=p.a.marginTop(!1),b=p.a.marginBottom(),h={isLoading:!1},f=Object(i.a)(n=function(t){function e(e){var s;return(s=t.call(this,e)||this).state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h),s}var s,n;n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n;var i=e.prototype;return i.loadNews=function(t){return new Promise(function(e,s){var r,o,n;return void 0===t&&(t=this.props),this.setState({isLoading:!0}),o=(r=t.stores).newsStore,n={tag:t.tag},r.userStore.isAdmin&&(n.showall=1,delete n.tag),Promise.resolve(o.load({query:n})).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},i.componentDidMount=function(){this.loadNews()},i.componentWillReceiveProps=function(t){this.loadNews(t)},i.render=function(){var t=this,e=this.props.tag,s=this.props.stores,r=s.newsStore.newsList,o=s.userStore.isAdmin;return Object(c.h)("div",{class:"container-fluid",style:"margin-bottom: "+b+"; margin-top: "+u+";"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,"news"===e?Object(c.h)(a.c,{id:"news.heading"},"Siste nytt"):Object(c.h)(a.c,{id:"news.heading-howo"},"Hvordan gjÃ¸r man det?"))),o&&Object(c.h)("a",{class:"btn btn-sm btn-success float-right ml-2",href:"/news/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(a.c,{id:"news.create"},"Ny")),r&&r.map((function(e){return Object(c.h)(l.a,{stores:t.props.stores,news:e})})))))},e}(c.Component))||n;e.default=f}}]);
//# sourceMappingURL=route-news.chunk.bb5a5.js.map