(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"07/T":function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r,c=s("hosL"),i=s("Utv1"),a=s("/eY4"),l=s("ZOvn"),h=s("4dUO"),b=s("PWmE");const p={showAddComment:!1};let d=Object(a.a)(r=class extends c.Component{constructor(t){var e;super(t),e=this,this.likeNews=async function(){const{newsStore:t}=e.props.stores,{news:s}=e.props;await t.likeNews({id:s.id})},this.toggleAddComment=t=>{const e=t.target.parentElement.dataset.id||t.target.dataset.id,{showAddComment:s}=this.state;this.setState({showAddComment:!s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},p),this.updateTimer={},this.inputRef={}}render(){const{showAddComment:e}=this.state,{news:s={}}=this.props,{userStore:o}=this.props.stores,{user:n}=o,{language:r="en"}=n,{likes:a=[],comments:p=[]}=s,d=s.likes&&s.likes.findIndex(t=>t.user===n.id)>-1;return Object(c.h)(t,null,Object(c.h)("div",{class:"w-100 mb-5"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative"},Object(c.h)("div",{class:"text-center border rounded-circle imageRounded",style:s.images&&s.images[0]?`background-image: url("${s.images[0].s3SmallLink}");`:""},!(s.images&&s.images[0])&&Object(c.h)("i",{class:"fas fa-paragraph text-muted mt-3",style:"font-size: 40px;"})),Object(c.h)("div",{class:"flex-grow-1 pl-3",style:"line-height: 1.2em;"},Object(c.h)("a",{class:"stretched-link",href:"/news/"+s.id},Object(c.h)("i",{class:`fas fa-eye${s.active?" text-success":"-slash text-danger"} float-right`}),Object(c.h)("h5",{class:"mb-1",style:"line-height: 1.0em;"},l.a.replaceImages(s.title,s.images,r))),Object(c.h)("div",null,Object(c.h)("small",{class:"text-muted"},i.a.isoDate(s.createdDate)," - ",s.tag)),l.a.replaceImages(s.ingress,s.images,r))),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-0"},a&&a.length>0&&Object(c.h)("small",{class:"bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-thumbs-up text-primary"})," ",a.length),p&&p.length>0&&Object(c.h)("small",{class:"float-right bg-light shadow-sm rounded-lg py-0 px-1",style:"bottom: 20px; right: 15px;"},Object(c.h)("i",{class:"fas fa-comment text-primary"})," ",p.length)),Object(c.h)("div",{class:"col-10 offset-2 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-1 mb-2"},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:`btn btn-sm btn-outline-${d?"primary":"secondary"} btn-lg btn-block ${d?"text-primary":""}`,onClick:this.likeNews},Object(c.h)("i",{class:(d?"text-primary fas":"far")+" fa-thumbs-up"})," Like")),Object(c.h)("div",{class:"col-6 text-center"},Object(c.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block","data-id":s.id,onClick:this.toggleAddComment},Object(c.h)("i",{class:"fas fa-comment"})," Comment")))),e&&Object(c.h)(b.a,{stores:this.props.stores,news:s,inputRef:t=>this.inputRef[s.id]=t}),Object(c.h)(h.a,{stores:this.props.stores,news:s,col:10,offset:2,compact:!0}))))}})||r;e.a=d}).call(this,s("hosL").Fragment)},AxFz:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e);var r,c=s("hosL"),i=(s("Utv1"),s("/eY4")),a=s("OhSV"),l=s("07/T"),h=s("ZOvn");const b=h.a.marginTop(!1),p=h.a.marginBottom(),d={isLoading:!1};let m=Object(i.a)(r=class extends c.Component{constructor(t){super(t),this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}async loadNews(t=this.props){this.setState({isLoading:!0});const{newsStore:e,userStore:s}=t.stores,{isAdmin:o}=s,n={tag:t.tag};o&&(n.showall=1,delete n.tag),await e.load({query:n}),this.setState({isLoading:!1})}componentDidMount(){this.loadNews()}componentWillReceiveProps(t){this.loadNews(t)}render(){const{tag:t}=this.props,{newsStore:e,userStore:s}=this.props.stores,{newsList:o}=e,{isAdmin:n}=s;return Object(c.h)("div",{class:"container-fluid",style:`margin-bottom: ${p}; margin-top: ${b};`},Object(c.h)("div",{class:"row"},Object(c.h)("div",{class:"col-12"},Object(c.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(c.h)("h5",null,"news"===t?Object(c.h)(a.c,{id:"news.heading"},"Siste nytt"):Object(c.h)(a.c,{id:"news.heading-howo"},"Hvordan gjÃ¸r man det?"))),n&&Object(c.h)("a",{class:"btn btn-sm btn-success float-right ml-2",href:"/news/edit/new"},Object(c.h)("i",{class:"fas fa-plus"})," ",Object(c.h)(a.c,{id:"news.create"},"Ny")),o&&o.map(t=>Object(c.h)(l.a,{stores:this.props.stores,news:t})))))}})||r;e.default=m}}]);
//# sourceMappingURL=route-news.chunk.a078b.esm.js.map