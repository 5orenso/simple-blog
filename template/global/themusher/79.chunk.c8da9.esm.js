(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{ISGx:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i,r=s("hosL"),l=s("Utv1"),c=s("/eY4"),d=s("cneo"),h=s("OhSV"),b=s("fh8t"),u=s.n(b),m=s("Y3FI"),p=s("s4FZ"),f=s("ZQlJ"),O=s("sqi2"),g=s("/922"),j=s("eQ6k"),w=s("+JSK"),v=s("vY+r"),k=s("nHdA"),y=s("irB3"),x=s("UwwE"),S=s("8Lgr"),C=s("QkTp"),T=s("ZOvn");const D={showAddComment:{},likeWorkout:{},idxSuggestion:0,idxAd:4,limit:15,offset:0,hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()};let P=Object(c.a)(i=class extends r.Component{constructor(t){var e;super(t),e=this,this.toggleDate=t=>{t.stopPropagation(),t.preventDefault();const{showDate:e}=this.state;this.setState({showDate:!e})},this.likeWorkout=async function(t){const s=parseInt(t.target.closest(".imageContainer").dataset.id,10),{workoutStore:o}=e.props.stores,{likeWorkout:a}=e.state;a[s]=!0,e.setState({likeWorkout:a}),setTimeout(()=>{const{likeWorkout:t}=e.state;delete t[s],e.setState({likeWorkout:t})},1200);const n=await o.likeWorkout({id:s});n&&200===n.status&&e.addLikeToFeed(s,n.data)},this.addCommentToFeed=({type:t,workout:e,response:s,commentId:o,replyId:a})=>{const{holdingStore:n="team"}=this.props;if("team"===n){const{teamStore:n}=this.props.stores;switch(t){case"likeComment":n.addLikeToComment({id:e.id,data:s.data,commentId:o});break;case"likeReply":n.addLikeToCommentReply({id:e.id,data:s.data,commentId:o,replyId:a});break;default:o?n.addCommentToWorkoutComment({id:e.id,data:s.data,commentId:o}):n.addCommentToWorkout({id:e.id,data:s.data})}}else if("story"===n){const{storyStore:n}=this.props.stores;switch(t){case"likeComment":n.workoutsAddLikeToComment({id:e.id,data:s.data,commentId:o});break;case"likeReply":n.workoutsAddLikeToCommentReply({id:e.id,data:s.data,commentId:o,replyId:a});break;default:o?n.workoutsAddCommentToWorkoutComment({id:e.id,data:s.data,commentId:o}):n.workoutsAddCommentToWorkout({id:e.id,data:s.data})}}},this.addLikeToFeed=(t,e)=>{const{holdingStore:s="team"}=this.props;if("team"===s){const{teamStore:s}=this.props.stores;s.addLikeToWorkout({id:t,data:e})}else if("story"===s){const{storyStore:s}=this.props.stores;s.workoutsAddLikeToWorkout({id:t,data:e})}},this.toggleAddComment=t=>{const e=t.target.closest("button").dataset.id,{showAddComment:s}=this.state;s[e]?delete s[e]:s[e]=!0,this.setState({showAddComment:s},()=>{this.inputRef[e]&&this.inputRef[e].focus()})},this.toggleMenu=t=>{const{id:e}=t.target.closest("i").dataset,{showMenu:s={}}=this.state;s[e]=!s[e],this.setState({showMenu:s})},this.toggleAdminDetails=()=>{const{showAdminDetails:t}=this.state;this.setState({showAdminDetails:!t}),this.setState({showEdit:{},showMenu:{}})},this.reportWorkout=async function(t){const{id:s}=t.target.closest("button").dataset,{teamStore:o}=e.props.stores;await o.reportWorkout({id:s}),e.setState({showEdit:{},showMenu:{}})},this.adminRemoveWorkout=async function(t){const{id:s}=t.target.closest("button").dataset,{teamStore:o}=e.props.stores;await o.adminHideWorkout({id:s}),e.setState({showEdit:{},showMenu:{}})},this.shareLink=t=>{const{url:e,title:s,text:o}=t.target.closest("button").dataset,{appState:a}=this.props.stores;a.shareUrl({url:e,title:s,text:o})},this.showWorkoutDetail=t=>{if("a"===t.target.localName)return!1;const e=t.target.closest("#workoutDetail");if(e){const{id:t}=e.dataset;t&&(console.log({target:e,id:t}),Object(m.route)("/workouts/public/"+t))}},this.translate=async function(t){t.preventDefault(),t.stopPropagation();const{feed:s={}}=e.props,{userStore:o,teamStore:a}=e.props.stores,{user:n}=o,i=await a.translate({object:s,user:n,field:"name"});let r;s.comment&&(r=await a.translate({object:s,user:n,field:"comment"})),e.setState({showOriginal:0,translatedTextName:i,translatedTextComment:r})},this.showOriginal=t=>{t.preventDefault(),t.stopPropagation(),this.setState({showOriginal:1})},this.displayTeam=(t,e)=>{t.preventDefault(),t.stopPropagation();const{appState:s}=this.props.stores;s.openDrawer("publicTeam",{teamId:e,height:"80vh"})},this.openInbox=(t,e)=>{t.preventDefault(),t.stopPropagation();const{appState:s}=this.props.stores;s.openDrawer("inboxDetail",{fromuser:e,height:"80vh"})},this.state=a({},D),this.inputRef={},this.containerRef=null}render(){const{showAddComment:e,showDate:s,likeWorkout:o,showOriginal:n,translatedTextName:i,translatedTextComment:c,showAdminDetails:b,showMenu:m={}}=this.state,{feed:D,onTeamClick:P=(()=>{}),onUserClick:I=(()=>{}),onDogClick:R=(()=>{}),holdingStore:A="team"}=this.props,{teamStore:W,storyStore:q,userStore:L,appState:N}=this.props.stores,{user:F,isAdmin:$}=L,{language:M="en"}=F,{hasShareApi:U}=N;let E,z={},V={};if("team"===A){z=W.findPublicTeam(D.team),V=W.findPublicUser(D.user)||{};const{publicDogs:t}=W;E=t}else if("story"===A){z=q.findPublicTeam(D.team),V=q.findPublicUser(D.user)||{};const{publicDogs:t}=q;E=t}L.findTeamAmbition({ambition:z.ambitions,language:M}),L.findTeamType({type:z.type,language:M});const B=!(!z||!z.members)&&z.members.some(t=>t===F.id),H=T.a.getImage({user:V,team:z,object:D,priority:"user"}),{likes:Y,comments:Z,reports:J=[]}=D,G=D.likes&&D.likes.findIndex(t=>t.user===F.id)>-1,K=z.members&&z.members.indexOf(F.id)>-1,Q=z&&z.followers&&z.followers.indexOf(F.id)>-1,_=z.followRequests&&z.followRequests.findIndex(t=>t.id===F.id)>-1,X=L.findEquipment({equipment:D.equipment,language:M}),tt=L.findEquipment({equipment:D.equipment,field:"icon"}),{gpxInfo:et={}}=D;let st,ot,at,nt;V&&(st=T.a.displayNameShort(V),ot=T.a.displayName(V),at=T.a.displayName(V),V.settings&&V.uuidv4!==F.uuidv4&&(nt=V.settings.hideProfile?null:"/inbox/"+V.uuidv4));const it=[];if(D.mapImage&&it.push(a(a({},D.mapImage),{},{type:"map"})),D.images){const t=Object(d.i)(D.images);it.push(...t)}const{currentLocationGeocode:rt={},yrWeather:lt=[]}=D,ct=T.a.getViews(D.statistics),dt=T.a.getAdminData(D.statistics);if(!z||!z.name)return"";const ht=T.a.getTranslation({object:D,targetLang:M,field:"name"})||i;let bt=ht||D.name;let ut=T.a.getTranslation({object:D,targetLang:M,field:"comment"})||c||D.comment;return n&&(bt=D.name,ut=D.comment),Object(r.h)(t,null,$||F.id===D.user?Object(r.h)(t,null,Object(r.h)("span",{class:"float-right font-weight-lighter text-muted"},Object(r.h)("i",{class:"fas fa-ellipsis-h",onClick:this.toggleMenu,"data-id":D.uuidv4}))):Object(r.h)(t,null,!K&&!Q&&!_&&z.public>0&&Object(r.h)("span",{class:"float-right"},Object(r.h)(j.a,{stores:this.props.stores,team:z,buttonOnly:!0,simple:!0,classNames:"btn btn-link text-primary"}))),m[D.uuidv4]&&Object(r.h)(t,null,Object(r.h)("div",{class:"position-absolute bg-light p-2 border rounded rounded-lg shadow-sm",style:"top: 30px; right: 10px; width: 60%; z-index: 999999;"},Object(r.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.reportWorkout,"data-id":D.uuidv4},Object(r.h)("i",{class:"fas fa-flag"})," Report"),$&&Object(r.h)(t,null,Object(r.h)("hr",null),Object(r.h)("button",{class:"btn btn-link btn-block text-left text-danger",onClick:this.adminRemoveWorkout,"data-id":D.id},Object(r.h)("i",{class:"fas fa-eraser"})," Remove from feed")),Object(r.h)("button",{class:"btn btn-link btn-block text-left",onClick:this.toggleAdminDetails},Object(r.h)("i",{class:"fas fa-user-cog"})," Toggle admin details"))),Object(r.h)("div",{class:"d-flex position-relative"},Object(r.h)("div",{class:"text-center"},Object(r.h)("div",{class:"position-relative text-center border rounded-circle imageRounded imageRoundedMedium",style:H?`background-image: url("${H}"); background-size: cover;`:""},!H&&Object(r.h)("i",{class:"fas fa-users text-muted mt-2",style:"font-size: 20px;"}))),Object(r.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(r.h)("h5",{class:"mb-1 position-relative",style:"line-height: 1.0em;"},z.public?Object(r.h)(t,null,Object(r.h)("a",{href:"/teams/public/"+z.uuidv4,onClick:t=>this.displayTeam(t,z.uuidv4),class:"stretched-link"},z.name)):Object(r.h)(t,null,z.name)),Object(r.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},D.date&&Object(r.h)("small",{class:"text-muted",onClick:this.toggleDate},s?l.a.formatDate(D.date,{locale:"no-NB",hour12:!1,hour:"2-digit",minute:"2-digit"}):l.a.formatDistance(D.date,new Date,{locale:"no-NB"})),at&&Object(r.h)(t,null,Object(r.h)("small",{class:"ml-2 text-muted"},nt?Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-user"})," ",Object(r.h)("a",{href:nt,onClick:t=>this.openInbox(t,V.uuidv4)},at)):Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-user"})," ",at))),Object(r.h)("small",{class:"text-muted"},D.equipment>0&&Object(r.h)(t,null,Object(r.h)("i",{class:tt+" ml-2"})," ",X),D.dogs>0&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-dog ml-2"})," ",D.dogs.length),D.track>0&&Object(r.h)(t,null,Object(r.h)("i",{class:`fas fa-map-marked text-${D.track>0?"success":"danger"} ml-2`})),D.sledWeight>0&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-sleigh ml-2"})," ",Object(r.h)(x.a,{stores:this.props.stores,value:D.sledWeight})),0!==D.temperature&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-temperature-low ml-2"})," ",Object(r.h)(C.a,{stores:this.props.stores,value:D.temperature})),D.dogs&&D.dogs.length>0&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-dog ml-2"})," ",l.a.format(D.dogs.length,0)),rt&&rt.formattedCounty&&Object(r.h)(t,null,Object(r.h)("i",{class:"fas fa-map-marker-alt ml-2"})," ",rt.formattedCounty),D.moonIllumination&&D.moonIllumination.phaseIcon&&Object(r.h)("span",{class:"ml-2"},D.moonIllumination.phaseIcon))),b&&$&&Object(r.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2",style:"overflow: auto;"},Object(r.h)("small",{class:"text-muted mr-2"},"Adm:"),J&&J.length>0&&Object(r.h)(t,null,Object(r.h)("small",{class:"text-danger mr-2"},Object(r.h)("i",{class:"fas fa-flag"})," ",J.length)),rt&&rt.formatted_address&&Object(r.h)(t,null,Object(r.h)("small",{class:"text-muted"},Object(r.h)("i",{class:"fas fa-map-marker-alt"})," ",rt.formatted_address)),V.deviceInfo&&Object(r.h)(t,null,Object(r.h)("span",{class:"badge badge-secondary ml-1 float-right font-weight-light"},["platform","manufacturer","model"].map(e=>Object(r.h)(t,null,Object(r.h)("span",{class:"ml-1 text-white"},V.deviceInfo[e]))))),dt&&Object(r.h)(t,null,Object(r.h)("small",{class:"ml-2 text-muted"},"V: ",dt.count),Object(r.h)("small",{class:"ml-2 text-muted"},"R: ",dt.ranking," ",l.a.isNumber(dt.rankingTrend)&&Object(r.h)(t,null,Object(r.h)("i",{class:T.a.getClassForTrend(dt.rankingTrend)}))),Object(r.h)("small",{class:"ml-2 text-muted"},"D: ",l.a.format(dt.durationAvg/1e3,1),"s ",l.a.isNumber(dt.durationAvgTrend)&&Object(r.h)(t,null,Object(r.h)("i",{class:T.a.getClassForTrend(dt.durationAvgTrend)}))),D.statisticsCurrent&&D.statisticsCurrent.totalInteractions>0&&Object(r.h)("small",{class:"ml-2 text-muted"},"S: ",l.a.format(D.statisticsCurrent.totalInteractions,0)),D.shadowTags&&D.shadowTags.map(e=>Object(r.h)(t,null,Object(r.h)("span",{class:"badge badge-secondary ml-2 float-right font-weight-light"},e))))))),Object(r.h)("div",{class:"container-fluid px-0 mt-1"},Object(r.h)("div",{class:"row"},Object(r.h)(p.a,{stores:this.props.stores,images:it,id:D.id,dblClick:this.likeWorkout,likeRef:o}))),D.dogs&&D.dogs.length>0&&Object(r.h)("div",{class:"container-fluid px-0 mt-1"},Object(r.h)("div",{class:"row pt-2"},Object(r.h)(f.a,{stores:this.props.stores,dogs:D.dogs,allDogs:E,onDogClick:R}))),Object(r.h)("div",{class:"d-flex justify-content-between bg-light rounded-lg px-2"},D.distanceKm>0&&Object(r.h)("div",{class:"mr-2 text-center"},Object(r.h)("div",{class:"text-overflow text-muted"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-road"})," ",Object(r.h)(h.c,{id:"workout.calendar.distance"},"Distanse"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(r.h)(S.a,{stores:this.props.stores,value:D.distanceKm}))),D.elevation>0&&Object(r.h)("div",{class:"mr-2 text-center"},Object(r.h)("div",{class:"text-overflow text-muted"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-mountain"})," ",Object(r.h)(h.c,{id:"workout.calendar.ascend"},"Høydemeter"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},Object(r.h)(y.a,{stores:this.props.stores,value:D.elevation}))),D.duration>0&&Object(r.h)("div",{class:"mr-2 text-center"},Object(r.h)("div",{class:"text-overflow text-muted"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-clock"})," ",Object(r.h)(h.c,{id:"workout.calendar.duration"},"Varighet"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},l.a.secToHms(D.duration,!0))),D.speedAvg>0&&Object(r.h)("div",{class:"text-center"},Object(r.h)("div",{class:"text-overflow text-muted"},Object(r.h)("small",null,Object(r.h)("i",{class:"fas fa-tachometer-alt"})," ",Object(r.h)(h.c,{id:"workout.calendar.avg-speed"},"Snittfart"))),Object(r.h)("div",{class:"text-overflow font-weight-light",style:"font-size: 1.2em;"},et&&et.avgGpsMovingSpeed>0?Object(r.h)(t,null,Object(r.h)(k.a,{stores:this.props.stores,value:3.6*et.avgGpsMovingSpeed})):Object(r.h)(t,null,Object(r.h)(k.a,{stores:this.props.stores,value:D.speedAvg}))))),Object(r.h)("div",{class:"row mt-2"},Object(r.h)("div",{id:"workoutDetail",class:"clearfix col-12 font-weight-bold",style:"font-size: 1.2em;",onClick:this.showWorkoutDetail,"data-id":D.uuidv4},Object(r.h)(u.a,{markdown:T.a.replaceImages(bt,D.images,M),markdownOpts:T.a.getMarkdownOptions()})),Object(r.h)("div",{class:"clearfix col-12"},Object(r.h)(u.a,{markdown:T.a.replaceImages(ut,D.images,M),markdownOpts:T.a.getMarkdownOptions()})),D.language!==M&&Object(r.h)(t,null,!n&&ht?Object(r.h)(t,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.showOriginal},Object(r.h)("i",{class:"fas fa-cog"}),"  ",Object(r.h)(h.c,{id:"home.translate-show-original"},"Show original"))):Object(r.h)(t,null,Object(r.h)("button",{type:"button",class:"btn btn-sm btn-link text-muted",onClick:this.translate},Object(r.h)("i",{class:"fas fa-cog"})," ",Object(r.h)(h.c,{id:"home.translate-to"},"See translation"))))),Object(r.h)("div",{class:"mt-2"},Object(r.h)(w.a,{stores:this.props.stores,likes:Y,comments:Z,type:"team",onTeamClick:P,onUserClick:I})),!K&&!Q&&!_&&Object(r.h)("div",{class:"clearfix mb-2"},Object(r.h)(j.a,{stores:this.props.stores,team:z,buttonOnly:!0})),Object(r.h)("div",null,Object(r.h)("div",{class:"row"},Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{type:"button",class:`imageContainer btn btn-sm btn-outline-${G?"primary":"secondary"} btn-lg btn-block ${G?"text-primary":""} text-overflow`,"data-id":D.id,onClick:this.likeWorkout},Object(r.h)("i",{class:(G?"text-primary fas":"far")+" fa-thumbs-up"})," ",Object(r.h)(h.c,{id:"comments.like"},"Lik"))),Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{type:"button",class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow","data-id":D.id,onClick:this.toggleAddComment},Object(r.h)("i",{class:"fas fa-comment"})," ",Object(r.h)(h.c,{id:"comments.comment-add"},"Kommentar"))),U?Object(r.h)(t,null,Object(r.h)("div",{class:"col text-center"},Object(r.h)("button",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",onClick:this.shareLink,"data-url":"https://themusher.app/share/workout/"+D.uuidv4,"data-title":"title: "+D.title},Object(r.h)("i",{class:"fas fa-share"})," ",Object(r.h)(h.c,{id:"story.share"},"Del")))):Object(r.h)(t,null,Object(r.h)("div",{class:"col text-center"},Object(r.h)("a",{class:"btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow",href:"https://themusher.app/share/workout/"+D.uuidv4,target:"_blank",rel:"noreferrer","data-native":!0},Object(r.h)("i",{class:"fas fa-share"})," ",Object(r.h)(h.c,{id:"story.share"},"Del")))))),ct>0&&Object(r.h)(t,null,Object(r.h)("div",{class:"mt-2"},Object(r.h)(v.a,{stores:this.props.stores,views:ct,object:D,type:"team",isTeamAdmin:B,isAdmin:$,onTeamClick:P,onUserClick:I}))),Object(r.h)("div",{class:"mt-2"},e[D.id]&&Object(r.h)(g.a,{stores:this.props.stores,workout:D,inputRef:t=>this.inputRef[D.id]=t,inputRefObject:this.inputRef,col:"12",offset:"0",showAvatar:!0,extraClass:"px-0",callback:this.addCommentToFeed}),Object(r.h)(O.a,{stores:this.props.stores,workout:D,col:"12",offset:"0",compact:!1,callback:this.addCommentToFeed})))}})||i;e.a=P}).call(this,s("hosL").Fragment)},VKmm:function(t,e,s){"use strict";function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV");s("ZOvn"),s("eQ6k");const d={requestSent:{}};let h=Object(l.a)(n=class extends i.Component{constructor(t){super(t),this.requestFollowTeam=t=>{const{teamStore:e,userStore:s}=this.props.stores,{user:o}=s,{team:a}=t.target.closest("button").dataset;e.followRequest(parseInt(a,10),o);const{requestSent:n}=this.state;n[a]=!0,this.setState({requestSent:n})},this.getButton=t=>{const{requestSent:e}=this.state,{userStore:s}=this.props.stores,{user:o}=s,a=t.members&&t.members.findIndex(t=>t.id===o.id)>-1,n=t.followers&&t.followers.indexOf(o.id)>-1,r=t.blockedFollowers&&t.blockedFollowers.indexOf(o.id)>-1,l=e[t.id]||t.followRequests&&t.followRequests.findIndex(t=>t.id===o.id)>-1;return a?Object(i.h)("i",{class:"fas fa-home"}):n?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",onClick:this.unFollowTeam,disabled:"true","data-team":t.id},Object(i.h)("i",{class:"fas fa-link mr-2"}),Object(i.h)(c.c,{id:"teams.connect.is-following"},"Følger")):r?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hand-paper mr-2"}),Object(i.h)(c.c,{id:"teams.connect.is-blocked"},"Blokkert")):l?Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-secondary float-right",disabled:"true"},Object(i.h)("i",{class:"fas fa-hourglass-half mr-2"}),Object(i.h)(c.c,{id:"teams.connect.has-requested"},"Venter på godkjenning")):Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success float-right",onClick:this.requestFollowTeam,"data-team":t.id},Object(i.h)("i",{class:"far fa-hand-point-right mr-2"}),Object(i.h)(c.c,{id:"teams.connect.follow"},"Følg"))},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d)}async loadTeams(){this.setState({isLoading:!0});const{teamStore:t}=this.props.stores;await t.loadPublic({query:{notfollowing:1,array:1},limit:15}),this.setState({isLoading:!1})}componentDidMount(){this.loadTeams()}render(){const{teamStore:t,appState:e}=this.props.stores,{publicTeamsToFollow:s}=t,{darkmode:o}=e;return s&&0!==s.length?Object(i.h)("div",{class:"row pb-1 bg-light"},Object(i.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${o?"black":"white"} shadow-sm`},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(c.c,{id:"teams.connect.teams-to-follow"},"Team du kan følge"),":"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},r.a.isArray(s)&&s.map(t=>{const e=t.image&&t.image.s3SmallLink?t.image:null;return Object(i.h)("div",{class:"mr-2",style:"width: 110px;"},Object(i.h)("div",{class:"text-center border rounded-lg",style:e?`background-image: url("${e.s3SmallLink}"); background-size: cover; width: 110px; height: 100px;`:"width: 110px; height: 100px;"},!e&&Object(i.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"})),Object(i.h)("small",null,Object(i.h)("div",{class:"text-overflow"},Object(i.h)("strong",null,t.name)),Object(i.h)("div",{class:"text-overflow"},t.place?t.place+", ":""," ",t.country,"  "),Object(i.h)("div",{class:"text-overflow"},Object(i.h)("small",{class:"text-muted"},t&&t.dogs&&Object(i.h)("span",{class:""},Object(i.h)("i",{class:"fas fa-dog"})," ",t.dogs.length),t&&t.followers&&Object(i.h)("span",{class:"ml-2"},Object(i.h)("i",{class:"fas fa-user"})," ",t.followers.length)))),Object(i.h)("div",null,this.getButton(t)))})))))):""}})||n;e.a=h},ZQlJ:function(t,e,s){"use strict";var o,a=s("hosL"),n=(s("Utv1"),s("/eY4")),i=(s("OhSV"),s("NDEG"));let r=Object(n.a)(o=class extends a.Component{constructor(t){super(t),this.scrollImages=t=>{const{scrollLeft:e,clientWidth:s}=t.target,o=e/s,a=Math.round(o),n=Math.abs(a-o);(Number.isInteger(o)||n<.1)&&this.setState({imageIdx:a})},this.sortByName=(t,e)=>{const{allDogs:s=[]}=this.props,o=s.find(e=>e.id===t),a=s.find(t=>t.id===e);return o&&a&&o.name>a.name?1:-1},this.state={imageIdx:0}}render(){const{dogs:t,allDogs:e=[],size:s="medium",onDogClick:o=(()=>{})}=this.props;return Object(a.h)("div",{class:"w-100"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap no-scrollbar",style:"overflow: auto; scroll-snap-type: x mandatory;",onScroll:this.scrollImages},t&&t.sort(this.sortByName).map(n=>{const r=e.find(t=>t.id===n);return r?Object(a.h)("div",{class:"col clearfix position-relative p-0 mx-2"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center",style:"\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    ",onTouchstart:t=>{t.stopPropagation()},onTouchend:t=>{t.stopPropagation()},onTouchmove:t=>{t.stopPropagation()}},Object(a.h)(i.a,{stores:this.props.stores,dog:r,dogs:e.filter(e=>t.indexOf(e.id)>-1).sort((t,e)=>t.name>e.name?1:-1),className:"mx-auto",showName:!0,showPosition:!1,size:s,onDogClick:o}))):""})))}})||o;e.a=r},epqT:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV");s("ZOvn");const d={showAddComment:!1};let h=Object(c.d)(()=>({subject:Object(i.h)(c.c,{id:"ad.subject"},"Annonseforespørsel"),body:Object(i.h)(c.c,{id:"ad.body"},"Hei, Jeg ønsker å vite mer om annonsering i appen The Musher.")}))(n=Object(l.a)(n=class extends i.Component{constructor(t){var e;super(t),e=this,this.logClick=async function(){const{adStore:t,userStore:s}=e.props.stores,{ads:o=[]}=t;let a=o.length>0?o[0].id:null;const{user:n={}}=s;await t.logClick({id:a,user:n.id})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},d),this.updateTimer={},this.inputRef={},this.apiServer=r.a.getApiServer()}async loadAd(t=this.props){this.setState({isLoading:!0});const{adStore:e,workoutStore:s,userStore:o,appState:a}=this.props.stores,{section:n}=this.props,{path:i=""}=a,{currentTeam:r}=s,{user:l}=o,{language:c="en"}=l;let d,h,b,u,m,p={};r&&(p=o.findTeam(r,!0),p&&p.id&&(d=o.findTeamAmbition({ambition:p.ambitions,language:c}),h=o.findTeamType({type:p.type,language:c}),b=p.postalcode,u=p.place,m=p.country));let f=i.replace(/\d+$/,"detail");f=i.replace(/\/\d+/,"/detail"),await e.load({query:{page:f,section:n}}),e.setTime(),this.setState({isLoading:!1})}componentDidMount(){this.loadAd()}componentWillReceiveProps(t){t.path!==this.props.path&&this.loadAd(t)}render(){const{adStore:e,userStore:s,appState:o}=this.props.stores,{subject:a,body:n,section:r}=this.props,{path:l}=o,{user:d={}}=s,{ads:h=[],time:b}=e;if(!d||!d.id||!h||0===h.length)return l.match(/\/(home)/i)?Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",{class:"border rounded-lg p-4 my-3"},Object(i.h)("span",{class:"float-right display-4 text-warning"},Object(i.h)("i",{class:"far fa-smile-wink"})),Object(i.h)("h5",null,Object(i.h)(c.c,{id:"ad.heading"},"Vil du annonsere her?")),Object(i.h)("div",null,Object(i.h)(c.c,{id:"ad.teaser"},"Det er super enkelt :)")),Object(i.h)(c.b,null,Object(i.h)("a",{href:`mailto:post@themusher.no?subject=${a}: ${l}: ${r}&body=${n}`,target:"_blank",rel:"noreferrer"},Object(i.h)("i",{class:"fas fa-paper-plane"})," ",Object(i.h)(c.c,{id:"ad.linktext"},"Ta kontakt med The Musher")))))))):Object(i.h)(t,null);const u=h[0];return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(i.h)("div",null,Object(i.h)("small",null,Object(i.h)("small",{class:"text-muted"},Object(i.h)(c.c,{id:"ad.ad"},"Annonse"),":",Object(i.h)("img",{src:`${this.apiServer}/api/ads/${u.id}/view?user=${d.id}&time=${b}`,style:"width: 1; height: 1; opacity: 0.1;"})))),u.target?Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+u.url,target:u.target||"_blank",rel:"noopener noreferrer",onClick:this.logClick,native:!0},u.images&&u.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:u.images[0].s3LargeLink,class:"img-fluid rounded-lg"})))):Object(i.h)(t,null,Object(i.h)("a",{class:"stretched-link",href:""+u.url,onClick:this.logClick},u.images&&u.images[0]&&Object(i.h)(t,null,Object(i.h)("img",{src:u.images[0].s3LargeLink,class:"img-fluid rounded-lg"}))))))))}})||n)||n;e.a=h}).call(this,s("hosL").Fragment)},oISW:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),r=(s("Utv1"),s("/eY4")),l=s("OhSV"),c=s("VKmm"),d=s("rWES"),h=s("epqT"),b=s("yHBq"),u=s("q/oJ"),m=s("gWxU"),p=s("Nanz"),f=s("ISGx"),O=s("ZOvn");const g=O.a.marginTop(!1),j=O.a.marginTopBack(!1),w=O.a.marginBottom(),v={showAddComment:{},likeWorkout:{},hasFollowSugguestions:!1,hasAd:!1,sessionid:(new Date).getTime()},k=["id","type","user","team","title"];let y=Object(r.a)(n=class extends i.Component{constructor(e){super(e),this.onTeamClick=(t,e)=>(t.preventDefault(),t.stopPropagation(),this.setState({showTeam:e}),!1),this.hideTeam=()=>{this.setState({showTeam:null})},this.onUserClick=t=>(t.preventDefault(),t.stopPropagation(),!1),this.onDogClick=(t,e,s)=>(t.preventDefault(),t.stopPropagation(),this.setState({showDog:e,dogs:s}),!1),this.hideDog=()=>{this.setState({showDog:null})},this.renderContent=({obj:e,idx:s})=>{const{appState:o}=this.props.stores,{path:a}=o;return"ad"===e.type?Object(i.h)(t,null,Object(i.h)(h.a,{stores:this.props.stores,path:a})):"teamConfirm"===e.type?Object(i.h)(t,null,Object(i.h)(d.a,{stores:this.props.stores})):"teamSuggestions"===e.type?Object(i.h)(t,null,Object(i.h)(c.a,{stores:this.props.stores})):Object(i.h)(t,null,Object(i.h)(f.a,{stores:this.props.stores,feed:e,idx:s,onTeamClick:this.onTeamClick,onUserClick:this.onUserClick,onDogClick:this.onDogClick}))},this.back=()=>{const{history:t}=this.props.stores;t.goBack()},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},v)}async loadPublicWorkouit({props:t=this.props}){const{teamStore:e}=t.stores,{workout:s}=t;await e.loadPublicFeed({workoutid:s})}componentWillUnmount(){}componentDidMount(){this.loadPublicWorkouit(this.props)}componentWillReceiveProps(t){t.workoutid!==this.props.workoutid&&this.loadPublicWorkouit(t)}render(){const{showTeam:e,showDog:s,handleIntersection:o,sessionid:a,dogs:n}=this.state,{teamStore:r,appState:c}=this.props.stores,{publicTeamsFeed:h}=r,{darkmode:f}=c,{teamid:v}=this.props,y=r.findPublicTeamByUuidv4(v),x=O.a.getImage({team:y});let S,C;return y&&y.name&&(S=O.a.displayNameShort(y),C=O.a.displayName(y)),Object(i.h)(t,null,e&&Object(i.h)(u.a,null,Object(i.h)(m.default,{stores:this.props.stores,teamid:e,marginTop:"0px;",marginBottom:"0px;",back:this.hideTeam,hideTeam:this.hideTeam})),s&&Object(i.h)(u.a,null,Object(i.h)(p.default,{stores:this.props.stores,dogid:s,marginTop:"0px;",marginBottom:"0px;",back:this.hideDog,dogs:n})),Object(i.h)("div",{class:"container-fluid",style:`margin-bottom: ${w}; margin-top: ${g};`},Object(i.h)("div",{class:"d-flex justify-content-between mb-2"},Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-link float-left pl-0 fixed-top",style:`top: ${j}; left: 5px; font-size: 35px; width: 45px;`,onClick:this.back},Object(i.h)("i",{class:"fas fa-arrow-circle-left"}))),Object(i.h)("div",null,Object(i.h)("h5",{class:"text-muted"}," "))),Object(i.h)("div",{class:"w-100"},y?Object(i.h)(t,null,Object(i.h)("div",{class:"row pb-3 pt-3"},Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom"},Object(i.h)("div",{class:"row"},Object(i.h)("h3",null,Object(i.h)("div",{class:"d-flex position-relative"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall",style:x?`background-image: url("${x}"); background-size: cover;`:""},!x&&Object(i.h)("div",{class:"text-muted",style:"font-size: 20px; padding-top: 3px;"},S)),Object(i.h)("div",{class:"flex-grow-1 pl-3 text-overflow",style:"line-height: 1.2em;"},Object(i.h)("h3",{class:"mb-1"},y.public?Object(i.h)(t,null,Object(i.h)("a",{href:"/teams/public/"+y.uuidv4,class:"stretched-link"},C)):Object(i.h)(t,null,C))))))))):Object(i.h)(t,null,Object(i.h)(d.a,{stores:this.props.stores})),(!h||0===h.length)&&Object(i.h)(t,null,Object(i.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0"},Object(i.h)("div",{class:"text-center text-muted"},Object(i.h)("div",{class:"display-1"},Object(i.h)("i",{class:"fas fa-chart-area"})),Object(i.h)("h3",null,Object(i.h)(l.c,{id:"search.no-workouts-found"},"No workouts found.")),Object(i.h)(l.c,{id:"teams.no-public-workouts-text"},"Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.")),Object(i.h)("div",{class:"text-center mt-3"},Object(i.h)("a",{href:"/teams/connect",class:"btn btn-primary"},Object(i.h)("i",{class:"fas fa-users"})," ",Object(i.h)(l.c,{id:"header.connect-team"},"Follow teams"))))),Object(i.h)(b.a,{data:h,wrapperClassNames:"row pb-4",contentClassNames:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${f?"black":"white"} shadow-sm`,renderContent:this.renderContent,dataFields:k,dataValues:{type:"10"},handleIntersection:o,sessionid:a}))))}})||n;e.default=y}.call(this,s("hosL").Fragment)},rWES:function(t,e,s){"use strict";(function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n,i=s("hosL"),r=s("Utv1"),l=s("/eY4"),c=s("OhSV"),d=s("ZOvn");s("eQ6k");const h={confirmed:{},deleted:{}};let b=Object(l.a)(n=class extends i.Component{constructor(t){super(t),this.confirmRequest=t=>{const{team:e,user:s,follow:o}=t.target.closest("button").dataset,{teamStore:a}=this.props.stores;a.confirmFollowRequest({team:parseInt(e,10),user:parseInt(s,10)});const{confirmed:n}=this.state;n[`${e}-${s}`]=!0,this.setState({confirmed:n}),o&&a.followRequestUser(s)},this.deleteRequest=t=>{const{team:e,user:s}=t.target.closest("button").dataset,{teamStore:o}=this.props.stores;o.deleteFollowRequest({team:parseInt(e,10),user:parseInt(s,10)});const{deleted:a}=this.state;a[`${e}-${s}`]=!0,this.setState({deleted:a})},this.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},h)}async loadTeams(){const{teamStore:t}=this.props.stores;await t.load({query:{},addData:["followRequests"]})}componentDidMount(){this.loadTeams()}render(){const{deleted:e={},confirmed:s={}}=this.state,{teamStore:o,appState:a}=this.props.stores,{teams:n,hasFollowRequests:l,followRequests:h=[]}=o,{darkmode:b}=a;return l?Object(i.h)("div",{class:"row pb-1"},Object(i.h)("div",{class:`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 bg-${b?"black":"white"} shadow-sm`},Object(i.h)("div",{class:"container-fluid"},Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"col-12"},Object(i.h)("h5",null,Object(i.h)(c.c,{id:"teams.connect.teams-follow-requests"},"Forespørsel om å følge"),":"))),Object(i.h)("div",{class:"row"},Object(i.h)("div",{class:"d-flex flex-row flex-nowrap",style:"overflow: auto;"},r.a.isArray(n)&&n.map(o=>Object(i.h)(t,null,o&&r.a.isArray(o.followRequests)&&o.followRequests.map(a=>{const n=a.image&&a.image.s3SmallLink?a.image:null,r=e[`${o.id}-${a.id}`],l=s[`${o.id}-${a.id}`],b=h.find(t=>t.user.id===a.id);return Object(i.h)("div",{class:"mr-2 py-2 border rounded-lg",style:"width: 150px;"},Object(i.h)("div",{class:"text-center border rounded-circle imageRounded imageRoundedSmall mx-auto",style:n?`background-image: url("${n.s3SmallLink}");`:""},!n&&Object(i.h)("div",{class:"text-muted font-weight-lighter",style:"font-size: 20px; padding-top: 5px;"},d.a.displayNameShort(a))),Object(i.h)("small",null,Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,d.a.displayName(a)),Object(i.h)("br",null)),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)(c.c,{id:"teams.connect.wants-to-follow"},"wants to follow your team:")),Object(i.h)("div",{class:"text-overflow text-center"},Object(i.h)("strong",null,d.a.displayName(o)))),l||r?Object(i.h)(t,null,Object(i.h)("div",{class:"text-center"},l?Object(i.h)("div",{class:"text-success"},Object(i.h)(c.c,{id:"teams.connect.confirmed"},"Confirmed")," ",Object(i.h)("i",{class:"fas fa-check"})):Object(i.h)("div",{class:"text-danger"},Object(i.h)(c.c,{id:"teams.connect.deleted"},"Deleted")," ",Object(i.h)("i",{class:"fas fa-trash-alt"})))):Object(i.h)(t,null,Object(i.h)("div",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":o.id,"data-user":a.id},Object(i.h)(c.c,{id:"teams.connect.confirm"},"Confirm")),b&&b.public>0&&Object(i.h)("button",{class:"btn btn-sm btn-block btn-outline-success text-overflow mt-1",onClick:this.confirmRequest,"data-team":o.id,"data-user":a.id,"data-follow":!0},Object(i.h)(c.c,{id:"teams.connect.confirm-and-follow"},"Confirm & follow back")),Object(i.h)("div",{class:"mt-3"},Object(i.h)("small",null,Object(i.h)("button",{class:"btn btn-sm btn-block btn-link text-overflow",style:"font-size: 1.0em;",onClick:this.deleteRequest,"data-team":o.id,"data-user":a.id},Object(i.h)(c.c,{id:"teams.connect.delete"},"Del")))))))}))))),Object(i.h)("details",{class:"mt-3"},Object(i.h)("summary",null,Object(i.h)("small",null,Object(i.h)(c.c,{id:"teams.connect.how-summary"},"How does this work?"))),Object(i.h)("p",null,Object(i.h)(c.c,{id:"teams.connect.how-text"},"What can followers see when I grant them access to follow? The answer is very little. They can see main details of the workouts you share and name of the dogs. That's all. Try to follow a team and check out the workout tab.")))))):""}})||n;e.a=b}).call(this,s("hosL").Fragment)},yHBq:function(t,e,s){"use strict";(function(t){function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t}).apply(this,arguments)}var a,n,i=s("hosL"),r=s("/eY4"),l=s("Utv1");let c=Object(r.a)(a=class extends i.Component{constructor(t){super(t),this.state={},this.containerRef=null}componentWillUnmount(){const{removeIntersectionObserver:t}=this.props;t&&t(this.containerRef)}componentDidMount(){const{addIntersectionObserver:t}=this.props;t&&t(this.containerRef)}render(){const{wrapperClassNames:t="",contentClassNames:e="",renderContent:s,obj:a={},idx:n,dataFields:r,dataValues:l,sessionid:c}=this.props,d={};return c&&(d.sessionid=c),r.forEach(t=>d["data-"+t]=encodeURI(l[t]||a[t])),Object(i.h)("div",o({class:""+t,ref:t=>this.containerRef=t,"data-idx":n},d),Object(i.h)("div",{class:""+e,style:"display: block;"},s({obj:a,idx:n})))}})||a,d=Object(r.a)(n=class extends i.Component{constructor(t){super(t),this.deleteIntersectionObserver=()=>{this.intersectionObserver=null},this.handleIntersection=t=>{const{handleIntersection:e}=this.props;"function"==typeof e&&e(t),t.forEach(t=>{const{isIntersecting:e}=t,{height:s=0}=t.target.dataset,o=Math.max(t.target.childNodes[0].offsetHeight,t.target.offsetHeight,t.target.scrollHeight);e?(t.target.childNodes[0].style.display="block",t.target.style.minHeight=(o>s?o:s)+"px"):t.target.style.minHeight&&(t.target.style.minHeight=(o>s?o:s)+"px",t.target.childNodes[0].style.display="none")})},this.setupIntersectionObserver=()=>{if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype))return!1;this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"100px",threshold:.1})},this.addIntersectionObserver=t=>{this.intersectionObserver&&t&&this.intersectionObserver.observe(t)},this.removeIntersectionObserver=t=>{this.intersectionObserver&&t&&this.intersectionObserver.unobserve(t)},this.state={}}componentWillMount(){this.setupIntersectionObserver()}componentWillUnmount(){this.deleteIntersectionObserver()}render(){const{data:e=[],wrapperClassNames:s="row pb-4 bg-light",contentClassNames:o="col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative rounded rounded-lg py-3 shadow-sm",renderContent:a=(()=>Object(i.h)(t,null,"Missing render function!")),dataFields:n=[],dataValues:r={}}=this.props;return Object(i.h)("div",{class:"w-100"},e&&e.filter(t=>l.a.isObject(t)).map((e,l)=>{const d=e.hasOwnProperty("wrapperClassNames")?e.wrapperClassNames:s,h=e.hasOwnProperty("contentClassNames")?e.contentClassNames:o;return Object(i.h)(t,null,Object(i.h)(c,{key:`fastline-${l}-${e.id}`,obj:e,idx:l,addIntersectionObserver:this.addIntersectionObserver,removeIntersectionObserver:this.removeIntersectionObserver,wrapperClassNames:d,contentClassNames:h,renderContent:a,dataFields:n,dataValues:r}))}))}})||n;e.a=d}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=79.chunk.c8da9.esm.js.map