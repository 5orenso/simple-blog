{"version":3,"sources":["webpack:///./components/team/publicFeedLine.js","webpack:///./components/dog/scroller.js","webpack:///./routes/workouts/publicDetail.js"],"names":["initialState","showAddComment","likeWorkout","idxSuggestion","idxAd","limit","offset","hasFollowSugguestions","hasAd","sessionid","Date","getTime","TeamPublicFeedLine","observer","props","toggleDate","e","stopPropagation","preventDefault","setState","showDate","state","workoutId","response","parseInt","target","closest","dataset","id","workoutStore","stores","setTimeout","status","addLikeToFeed","data","addCommentToFeed","type","workout","commentId","replyId","holdingStore","teamStore","addLikeToComment","addLikeToCommentReply","addCommentToWorkoutComment","addCommentToWorkout","storyStore","workoutsAddLikeToComment","workoutsAddLikeToCommentReply","workoutsAddCommentToWorkoutComment","workoutsAddCommentToWorkout","addLikeToWorkout","workoutsAddLikeToWorkout","toggleAddComment","inputRef","focus","shareLink","appState","shareUrl","url","title","text","showWorkoutDetail","localName","console","log","route","translate","translatedTextName","translatedTextComment","feed","user","userStore","object","field","comment","showOriginal","displayTeam","teamId","openDrawer","height","openInbox","fromuser","containerRef","render","publicDogs","this","onTeamClick","onUserClick","onDogClick","isAdmin","language","hasShareApi","team","publicUser","findPublicTeam","findPublicUser","findTeamAmbition","ambition","ambitions","username","userLink","teamType","findTeamType","isTeamAdmin","members","some","m","image","mu","getImage","priority","likes","comments","hasLikedWorkout","findIndex","totalFollowers","followers","length","isYourTeam","indexOf","isFollowing","hasRequestedFollow","followRequests","workoutEquipment","findEquipment","equipment","workoutEquipmentIcon","gpxInfo","displayNameShort","displayName","settings","uuidv4","hideProfile","images","mapImage","push","imgs","toJS","currentLocationGeocode","views","getViews","statistics","adminData","getAdminData","name","translationName","getTranslation","targetLang","feedName","feedComment","class","style","public","href","onClick","date","util","formatDate","locale","hour12","hour","minute","formatDistance","format","dogs","track","sledWeight","value","temperature","formattedCounty","moonIllumination","phaseIcon","formatted_address","deviceInfo","map","count","ranking","isNumber","rankingTrend","getClassForTrend","durationAvg","durationAvgTrend","statisticsCurrent","totalInteractions","shadowTags","tag","dblClick","likeRef","allDogs","distanceKm","elevation","duration","secToHms","speedAvg","avgGpsMovingSpeed","data-id","markdown","replaceImages","markdownOpts","getMarkdownOptions","buttonOnly","data-url","data-title","rel","data-native","c","inputRefObject","col","showAvatar","extraClass","callback","compact","Component","DogScroller","scrollImages","imageIdx","scrollLeft","clientWidth","nearestInt","Math","round","diff","abs","Number","isInteger","sortByName","a","b","dogA","find","dogB","size","onScroll","sort","dogId","dog","onTouchstart","onTouchend","onTouchmove","filter","d","className","showName","showPosition","MARGIN_TOP","marginTop","MARGIN_TOP_BACK","marginTopBack","MARGIN_BOTTOM","marginBottom","dataFields","WorkoutPublicDetail","teamid","showTeam","hideTeam","dogid","showDog","hideDog","renderContent","obj","idx","path","back","history","goBack","loadPublicWorkouit","loadPublicFeed","workoutid","componentWillUnmount","componentDidMount","componentWillReceiveProps","nextProps","shortname","handleIntersection","publicTeamsFeed","darkmode","findPublicTeamByUuidv4","wrapperClassNames","contentClassNames","dataValues"],"mappings":"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","file":"89.chunk.54f2f.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { toJS } from 'mobx';\nimport { Text, Localizer } from 'preact-i18n';\nimport Markdown from 'preact-markdown';\nimport { route } from 'preact-router';\n\nimport ImageScroller from '../imageScroller';\nimport DogScroller from '../dog/scroller';\nimport WorkoutComments from '../workout/comments';\nimport WorkoutAddComment from '../workout/commentAdd';\n\nimport PublicTeam from '../team/public';\n\nimport LikesAndComments from '../feedback/likesAndComments';\nimport Views from '../feedback/views';\n\nimport Speed from '../data/speed';\nimport Elevation from '../data/elevation';\nimport Weight from '../data/weight';\nimport Distance from '../data/distance';\nimport Temperature from '../data/temperature';\n\nimport mu from '../../lib/musher-util';\n\nfunction displayDistance(distanceKm) {\n\tif (distanceKm < 5) {\n\t\treturn util.format(distanceKm, 2);\n\t}\n\tif (distanceKm < 10) {\n\t\treturn util.format(distanceKm, 1);\n\t}\n\treturn util.format(distanceKm, 1);\n}\n\nconst initialState = {\n\tshowAddComment: {},\n    // viewImageIdx: {},\n    likeWorkout: {},\n    idxSuggestion: 0,\n    idxAd: 4,\n    limit: 15,\n    offset: 0,\n    hasFollowSugguestions: false,\n    hasAd: false,\n    sessionid: new Date().getTime(),\n};\n\n@observer\nclass TeamPublicFeedLine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.inputRef = {};\n        this.containerRef = null;\n    }\n\n    toggleDate = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        const { showDate } = this.state;\n        this.setState({ showDate: !showDate });\n    }\n\n\tlikeWorkout = async (e) => {\n        const workoutId = parseInt(e.target.closest('.imageContainer').dataset.id, 10);\n\t\tconst { workoutStore } = this.props.stores;\n\n        const { likeWorkout } = this.state;\n        likeWorkout[workoutId] = true;\n        this.setState({ likeWorkout });\n        setTimeout(() => {\n            const { likeWorkout } = this.state;\n            delete likeWorkout[workoutId];\n            this.setState({ likeWorkout });\n        }, 1200);\n\n\t\tconst response = await workoutStore.likeWorkout({ id: workoutId });\n        if (response && response.status === 200) {\n            this.addLikeToFeed(workoutId, response.data);\n\t\t}\n\t}\n\n    addCommentToFeed = ({ type, workout, response, commentId, replyId }) => {\n        // console.log('addCommentToFeed', { workout, response, commentId });\n        const { holdingStore = 'team' } = this.props;\n        if (holdingStore === 'team') {\n            const { teamStore } = this.props.stores;\n            switch (type) {\n                case 'likeComment':\n                    teamStore.addLikeToComment({ id: workout.id, data: response.data, commentId });\n                    break;\n                case 'likeReply':\n                    teamStore.addLikeToCommentReply({ id: workout.id, data: response.data, commentId, replyId });\n                    break;\n\n                default:\n                    if (commentId) {\n                        teamStore.addCommentToWorkoutComment({ id: workout.id, data: response.data, commentId });\n                    } else {\n                        teamStore.addCommentToWorkout({ id: workout.id, data: response.data });\n                    }\n                    break;\n            }\n        } else if (holdingStore === 'story') {\n            const { storyStore } = this.props.stores;\n            switch (type) {\n                case 'likeComment':\n                    storyStore.workoutsAddLikeToComment({ id: workout.id, data: response.data, commentId });\n                    break;\n                case 'likeReply':\n                    storyStore.workoutsAddLikeToCommentReply({ id: workout.id, data: response.data, commentId, replyId });\n                    break;\n\n                default:\n                    if (commentId) {\n                        storyStore.workoutsAddCommentToWorkoutComment({ id: workout.id, data: response.data, commentId });\n                    } else {\n                        storyStore.workoutsAddCommentToWorkout({ id: workout.id, data: response.data });\n                    }\n                    break;\n            }\n        }\n    }\n\n    addLikeToFeed = (id, data) => {\n        const { holdingStore = 'team' } = this.props;\n        if (holdingStore === 'team') {\n            const { teamStore } = this.props.stores;\n            teamStore.addLikeToWorkout({ id, data });\n        } else if (holdingStore === 'story') {\n            const { storyStore } = this.props.stores;\n            storyStore.workoutsAddLikeToWorkout({ id, data });\n        }\n    }\n\n\ttoggleAddComment = (e) => {\n\t\tconst workoutId = e.target.closest('button').dataset.id;\n\t\tconst { showAddComment } = this.state;\n        if (showAddComment[workoutId]) {\n            delete showAddComment[workoutId];\n        } else {\n            showAddComment[workoutId] = true;\n        }\n\t\tthis.setState({\n\t\t\tshowAddComment,\n\t\t}, () => {\n\t\t\tif (this.inputRef[workoutId]) {\n\t\t\t\tthis.inputRef[workoutId].focus();\n\t\t\t}\n\t\t});\n\t}\n\n    shareLink = (e) => {\n        const { url, title, text } = e.target.closest('button').dataset;\n        const { appState } = this.props.stores;\n        appState.shareUrl({ url, title, text });\n    }\n\n    showWorkoutDetail = (e) => {\n        if (e.target.localName === 'a') {\n            return false;\n        }\n        const target = e.target.closest('#workoutDetail');\n        if (target) {\n            const { id } = target.dataset;\n            if (id) {\n            console.log({ target, id });\n                route(`/workouts/public/${id}`);\n            }\n        }\n    }\n\n    translate = async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { feed = {} } = this.props;\n        const { userStore, teamStore } = this.props.stores;\n        const { user } = userStore;\n        const translatedTextName = await teamStore.translate({ object: feed, user, field: 'name' });\n        let translatedTextComment;\n        if (feed.comment) {\n            translatedTextComment = await teamStore.translate({ object: feed, user, field: 'comment' });\n        }\n        this.setState({ showOriginal: 0, translatedTextName, translatedTextComment });\n    }\n\n    showOriginal = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({ showOriginal: 1 });\n    }\n\n    displayTeam = (e, teamId) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { appState } = this.props.stores;\n        appState.openDrawer('publicTeam', { teamId, height: '80vh' });\n\t}\n\n    openInbox = (e, fromuser) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { appState } = this.props.stores;\n        appState.openDrawer('inboxDetail', { fromuser, height: '80vh' });\n    }\n\n    render() {\n        const { feed, idx, onTeamClick = () => {}, onUserClick = () => {}, onDogClick = () => {}, holdingStore = 'team' } = this.props;\n        const { showAddComment, showDate, likeWorkout, showOriginal, translatedTextName, translatedTextComment } = this.state;\n        const { teamStore, storyStore, userStore, appState } = this.props.stores;\n        const { user, isAdmin } = userStore;\n        const { language = 'en' } = user;\n        const { darkmode, hasShareApi } = appState;\n        let publicDogs;\n\n        let team = {};\n        let publicUser = {};\n        if (holdingStore === 'team') {\n            team = teamStore.findPublicTeam(feed.team);\n            publicUser = teamStore.findPublicUser(feed.user) || {};\n            const { publicDogs: teamPublicDogs } = teamStore;\n            publicDogs = teamPublicDogs;\n        } else if (holdingStore === 'story') {\n            team = storyStore.findPublicTeam(feed.team);\n            publicUser = storyStore.findPublicUser(feed.user) || {};\n            const { publicDogs: storyPublicDogs } = storyStore;\n            publicDogs = storyPublicDogs;\n        }\n        const teamAmbition = userStore.findTeamAmbition({ ambition: team.ambitions, language });\n        const teamType = userStore.findTeamType({ type: team.type, language });\n\n        const isTeamAdmin = (team && team.members) ? team.members.some(m => m === user.id) : false;\n\n        const image = mu.getImage({ user: publicUser, team, object: feed, priority: 'user' });\n\n        const { likes, comments } = feed;\n        const hasLikedWorkout = feed.likes && feed.likes.findIndex(e => e.user === user.id) > -1;\n        const totalFollowers = team && team.followers ? team.followers.length : 0;\n\n        const isYourTeam = team.members && team.members.indexOf(user.id) > -1;\n        const isFollowing = team && team.followers && team.followers.indexOf(user.id) > -1;\n        const hasRequestedFollow = team.followRequests && team.followRequests.findIndex(e => e.id === user.id) > -1;\n        const workoutEquipment = userStore.findEquipment({ equipment: feed.equipment, language });\n        const workoutEquipmentIcon = userStore.findEquipment({ equipment: feed.equipment, field: 'icon' });\n\t\tconst { gpxInfo = {} } = feed;\n\n\n        let shortname;\n        let name;\n        let username;\n        let userLink;\n        if (publicUser) {\n            shortname = mu.displayNameShort(publicUser);\n            name = mu.displayName(publicUser);\n            username = mu.displayName(publicUser);\n            if (publicUser.settings && publicUser.uuidv4 !== user.uuidv4) {\n                userLink = publicUser.settings.hideProfile ? null : `/inbox/${publicUser.uuidv4}`;\n            }\n        }\n\n        const images = [];\n        if (feed.mapImage) {\n            images.push({\n                ...feed.mapImage,\n                type: 'map',\n            });\n        }\n        if (feed.images) {\n            const imgs = toJS(feed.images);\n            images.push(...imgs);\n        }\n\n        const { currentLocationGeocode = {}, yrWeather = [] } = feed;\n        const views = mu.getViews(feed.statistics);\n        const adminData = mu.getAdminData(feed.statistics);\n\n        if (!team || !team.name) {\n            return '';\n        }\n\n        const translationName = mu.getTranslation({\n            object: feed,\n            targetLang: language,\n            field: 'name',\n        }) || translatedTextName;\n        let feedName = translationName || feed.name;\n        const translationComment = mu.getTranslation({\n            object: feed,\n            targetLang: language,\n            field: 'comment',\n        }) || translatedTextComment;\n        let feedComment = translationComment || feed.comment;\n\n        if (showOriginal) {\n            feedName = feed.name;\n            feedComment = feed.comment;\n        }\n\n        return (<>\n            <div class='d-flex position-relative'>\n                <div class='text-center'>\n                    <div\n                        class={`position-relative text-center border rounded-circle imageRounded imageRoundedMedium`}\n                        style={image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}>\n                        {!image && <i class='fas fa-users text-muted mt-2' style='font-size: 20px;' />}\n                    </div>\n                </div>\n                <div class='flex-grow-1 pl-3 text-overflow' style='line-height: 1.2em;'>\n                    <span class='badge badge-pill badge-secondary float-right'>{teamType}</span>\n                    <h5 class='mb-1 position-relative' style='line-height: 1.0em;'>\n                        {team.public ? <>\n                            <a href={`/teams/public/${team.uuidv4}`} onClick={(e) => this.displayTeam(e, team.uuidv4)} class='stretched-link'>{team.name}</a>\n                        </> : <>\n                            {team.name}\n                        </>}\n                    </h5>\n                    <div class='mb-2'>\n                        {feed.date && <small class='text-muted' onClick={this.toggleDate}>\n                            {showDate ? util.formatDate(feed.date, { locale: 'no-NB', hour12: false, hour: '2-digit', minute: '2-digit' }) : util.formatDistance(feed.date, new Date(), { locale: 'no-NB' })}\n                        </small>}\n                        {feed.public === 1 ? <>\n                            <small class='ml-2 text-muted'>\n                                <i class='fas fa-globe-europe' />\n                            </small>\n                        </> : <>\n                            <small class='ml-2 text-muted'>\n                                <i class='fas fa-users' /> ({util.format(totalFollowers)})\n                            </small>\n                        </>}\n                        {username && <>\n                            <small class='ml-2 text-muted'>\n                                {userLink ? <>\n                                    <i class='fas fa-user' /> <a href={userLink} onClick={(e) => this.openInbox(e, publicUser.uuidv4)}>{username}</a>\n                                </> : <>\n                                    <i class='fas fa-user' /> {username}\n                                </>}\n                            </small>\n                        </>}\n                        <small class='text-muted'>\n                            {feed.equipment > 0 && <><i class={`${workoutEquipmentIcon} ml-2`} /> {workoutEquipment}</>}\n                            {/* {feed.distanceKm > 0 && <><i class='fas fa-road ml-2' /> {displayDistance(feed.distanceKm)}km</>}\n                            {feed.elevation > 0 && <><i class='fas fa-mountain ml-2' /> {util.format(feed.elevation, 0)}m</>}\n                            {feed.speedAvg > 0 && <><i class='fas fa-tachometer-alt ml-2' /> {util.format(feed.speedAvg, 1)}km/t</>} */}\n                            {feed.dogs > 0 && <><i class='fas fa-dog ml-2' /> {feed.dogs.length}</>}\n                            {feed.track > 0 && <><i class={`fas fa-map-marked text-${feed.track > 0 ? 'success' : 'danger'} ml-2`} /></>}\n                            {/* {feed.dogsLeft > 0 && <><i class={`fas fa-crosshairs text-${feed.dogsLeft && feed.dogsRight ? 'success' : 'danger'} ml-2`} /></>} */}\n                            {feed.sledWeight > 0 && <>\n                                <i class='fas fa-sleigh ml-2' /> <Weight stores={this.props.stores} value={feed.sledWeight} />\n                            </>}\n                            {feed.temperature !== 0 && <>\n                                <i class='fas fa-temperature-low ml-2' /> <Temperature stores={this.props.stores} value={feed.temperature} />\n                            </>}\n                            {feed.dogs && feed.dogs.length > 0 && <>\n                                <i class='fas fa-dog ml-2' /> {util.format(feed.dogs.length, 0)}\n                            </>}\n                            {/* {feed.kcalBurnedTotal && <><i class='fas fa-balance-scale' /> {util.format(feed.kcalBurnedTotal)} kcal</>}\n                            {feed.kcalMeatGramsTotal && <><i class='fas fa-drumstick-bite ml-2' /> {util.format(feed.kcalMeatGramsTotal / 1000, 1)} kg</>}\n                            {feed.kcalSalmonGramsTotal && <><i class='fas fa-fish ml-2' /> {util.format(feed.kcalSalmonGramsTotal / 1000, 1)} kg</>}\n                            {feed.kcalFatGramsTotal && <><i class='fas fa-piggy-bank ml-2' /> {util.format(feed.kcalFatGramsTotal / 1000, 1)} kg</>} */}\n                            {currentLocationGeocode && currentLocationGeocode.formattedCounty && <>\n                                <i class='fas fa-map-marker-alt ml-2' /> {currentLocationGeocode.formattedCounty}\n                            </>}\n                            {feed.moonIllumination && feed.moonIllumination.phaseIcon && <span class='float-right ml-2'>{feed.moonIllumination.phaseIcon}</span>}\n                        </small>\n                    </div>\n\n                    {isAdmin && <div\n                        class='d-flex flex-row flex-nowrap bg-light border-top border-bottom py-2'\n                        style='overflow: auto;'\n                    >\n                        <small class='text-muted mr-2'>Adm:</small>\n                        {currentLocationGeocode && currentLocationGeocode.formatted_address && <>\n                            <small class='text-muted'>\n                                <i class='fas fa-map-marker-alt' /> {currentLocationGeocode.formatted_address}\n                            </small>\n                        </>}\n                        {publicUser.deviceInfo && <>\n                            <span class='badge badge-secondary ml-1 float-right font-weight-light'>\n                                {['platform', 'manufacturer', 'model'].map(e => <>\n                                    <span class='ml-1 text-white'>\n                                        {publicUser.deviceInfo[e]}\n                                    </span>\n                                </>)}\n                            </span>\n                        </>}\n                        {adminData && <>\n                            {/* {JSON.stringify(adminData)}<br /> */}\n                            <small class='ml-2 text-muted'>\n                                V: {adminData.count}\n                            </small>\n                            <small class='ml-2 text-muted'>\n                                R: {adminData.ranking} {util.isNumber(adminData.rankingTrend) && <><i class={mu.getClassForTrend(adminData.rankingTrend)} /></>}\n                            </small>\n                            <small class='ml-2 text-muted'>\n                                D: {util.format(adminData.durationAvg / 1000, 1)}s {util.isNumber(adminData.durationAvgTrend) && <><i class={mu.getClassForTrend(adminData.durationAvgTrend)} /></>}\n                            </small>\n                            {feed.statisticsCurrent && feed.statisticsCurrent.totalInteractions > 0 && <small class='ml-2 text-muted'>\n                                S: {util.format(feed.statisticsCurrent.totalInteractions, 0)}\n                            </small>}\n                            {feed.shadowTags && feed.shadowTags.map(tag => <>\n                                <span class='badge badge-secondary ml-2 float-right font-weight-light'>{tag}</span>\n                            </>)}\n                        </>}\n                    </div>}\n                </div>\n            </div>\n\n\n            {/* <div class='row'>\n                <div class='row mb-3'>\n                    {feed.gpxInfo && feed.gpxInfo.svgMap && <>\n                        <div class='col-6 mt-auto text-center overflow-hidden'>\n                            <svg viewBox='0 0 300 300' style='width: 150px; height: 150px;'>\n                                <path d={`${feed.gpxInfo.svgMap}`} style='fill: none; stroke: #0275d8; stroke-width: 5; opacity: 0.5;' />\n                            </svg>\n                            <small class='text-muted'>Track</small>\n                        </div>\n                    </>}\n                    {feed.gpxInfo && feed.gpxInfo.svgElevation && <>\n                        <div class='col-6 mt-auto text-center overflow-hidden'>\n                            <svg viewBox='0 0 300 200' style='width: 150px; height: 100px;'>\n                                <path d={`${feed.gpxInfo.svgElevation}`} style='fill: none; stroke: #5cb85c; stroke-width: 5; opacity: 0.5;' />\n                            </svg>\n                            <small class='text-muted'>Elevation</small>\n                        </div>\n                    </>}\n                </div>\n            </div> */}\n\n            <div class='container-fluid px-0 mt-1'>\n                <div class='row'>\n                    <ImageScroller stores={this.props.stores} images={images} id={feed.id} dblClick={this.likeWorkout} likeRef={likeWorkout} />\n                </div>\n            </div>\n\n            {feed.dogs && feed.dogs.length > 0 && <div class='container-fluid px-0 mt-1'>\n                <div class='row pt-2'>\n                    <DogScroller stores={this.props.stores} dogs={feed.dogs} allDogs={publicDogs} onDogClick={onDogClick} />\n                </div>\n            </div>}\n\n            <div class='d-flex justify-content-between bg-light rounded-lg px-2'>\n                {feed.distanceKm > 0 && <div class='mr-2 text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-road' /> <Text id='workout.calendar.distance'>Distanse</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Distance stores={this.props.stores} value={feed.distanceKm} />\n                    </div>\n                </div>}\n                {feed.elevation > 0 && <div class='mr-2 text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-mountain' /> <Text id='workout.calendar.ascend'>Høydemeter</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        <Elevation stores={this.props.stores} value={feed.elevation} />\n                    </div>\n                </div>}\n                {feed.duration > 0 && <div class='mr-2 text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-clock' /> <Text id='workout.calendar.duration'>Varighet</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        {util.secToHms(feed.duration, true)}\n                    </div>\n                </div>}\n                {feed.speedAvg > 0 && <div class='text-center'>\n                    <div class='text-overflow text-muted'>\n                        <small><i class='fas fa-tachometer-alt' /> <Text id='workout.calendar.avg-speed'>Snittfart</Text></small>\n                    </div>\n                    <div class='text-overflow font-weight-light' style='font-size: 1.2em;'>\n                        {gpxInfo && gpxInfo.avgGpsMovingSpeed > 0 ? <>\n                            <Speed stores={this.props.stores} value={gpxInfo.avgGpsMovingSpeed * 3.6} />\n                        </> : <>\n                            <Speed stores={this.props.stores} value={feed.speedAvg} />\n                        </>}\n                    </div>\n                </div>}\n            </div>\n\n            <div class='row mt-2'>\n                <div id='workoutDetail' class='clearfix col-12 font-weight-bold' style='font-size: 1.2em;' onClick={this.showWorkoutDetail} data-id={feed.uuidv4}>\n                    <Markdown markdown={mu.replaceImages(feedName, feed.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                </div>\n                <div class='clearfix col-12'>\n                    <Markdown markdown={mu.replaceImages(feedComment, feed.images, language)} markdownOpts={mu.getMarkdownOptions()} />\n                </div>\n                {feed.language !== language && <>\n                    {!showOriginal && translationName ? <>\n                        <button type='button' class='btn btn-sm btn-link text-muted' onClick={this.showOriginal}><i class='fas fa-cog' />  <Text id='home.translate-show-original'>Show original</Text></button>\n                    </> : <>\n                        <button type='button' class='btn btn-sm btn-link text-muted' onClick={this.translate}><i class='fas fa-cog' /> <Text id='home.translate-to'>See translation</Text></button>\n                    </>}\n                </>}\n            </div>\n\n            <div class='mt-2'>\n                <LikesAndComments\n                    stores={this.props.stores}\n                    likes={likes}\n                    comments={comments}\n                    type='team'\n                    onTeamClick={onTeamClick}\n                    onUserClick={onUserClick}\n                />\n            </div>\n\n            {!isYourTeam && !isFollowing && !hasRequestedFollow && <div class='clearfix mb-2'>\n                <PublicTeam stores={this.props.stores} team={team} buttonOnly={true} />\n            </div>}\n\n            <div>\n                <div class='row'>\n                    <div class='col text-center'>\n                        <button type='button' class={`imageContainer btn btn-sm btn-outline-${hasLikedWorkout ? 'primary' : 'secondary'} btn-lg btn-block ${hasLikedWorkout ? 'text-primary' : ''} text-overflow`}\n                            data-id={feed.id}\n                            onClick={this.likeWorkout}\n                            // disabled={hasLikedWorkout}\n                        >\n                            <i class={`${hasLikedWorkout ? 'text-primary fas' : 'far'} fa-thumbs-up`} /> <Text id='comments.like'>Lik</Text>\n                        </button>\n                    </div>\n                    <div class='col text-center'>\n                        <button type='button' class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                            data-id={feed.id}\n                            onClick={this.toggleAddComment}\n                        >\n                            <i class='fas fa-comment' /> <Text id='comments.comment-add'>Kommentar</Text>\n                        </button>\n                    </div>\n                    {hasShareApi ? <>\n                        <div class='col text-center'>\n                            <button class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                                onClick={this.shareLink}\n                                data-url={`https://themusher.app/share/workout/${feed.uuidv4}`}\n                                data-title={`title: ${feed.title}`}\n                            >\n                                <i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n                            </button>\n                        </div>\n                    </> : <>\n                        <div class='col text-center'>\n                            <a class='btn btn-sm btn-outline-secondary btn-lg btn-block text-overflow'\n                                href={`https://themusher.app/share/workout/${feed.uuidv4}`}\n                                target='_blank'\n                                rel='noreferrer'\n                                data-native\n                            >\n                                <i class='fas fa-share' /> <Text id='story.share'>Del</Text>\n                            </a>\n                        </div>\n                    </>}\n                </div>\n            </div>\n\n            {views > 0 && <>\n                <div class='mt-2'>\n                    <Views\n                        stores={this.props.stores}\n                        views={views}\n                        object={feed}\n                        type='team'\n                        isTeamAdmin={isTeamAdmin}\n                        isAdmin={isAdmin}\n                        onTeamClick={onTeamClick}\n                        onUserClick={onUserClick}\n                    />\n                </div>\n            </>}\n\n            <div class='mt-2'>\n                {showAddComment[feed.id] && <WorkoutAddComment\n                    stores={this.props.stores}\n                    workout={feed}\n                    inputRef={c => this.inputRef[feed.id] = c}\n                    inputRefObject={this.inputRef}\n                    col='12'\n                    offset='0'\n                    showAvatar={true}\n                    extraClass='px-0'\n                    callback={this.addCommentToFeed}\n                />}\n                <WorkoutComments\n                    stores={this.props.stores}\n                    workout={feed}\n                    col='12'\n                    offset='0'\n                    compact={false}\n                    callback={this.addCommentToFeed}\n                />\n            </div>\n        </>);\n    }\n}\n\nexport default TeamPublicFeedLine;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport DogSimplePublic from './simplePublic';\n\n@observer\nclass DogScroller extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageIdx: 0,\n        };\n    }\n\n    scrollImages = (e) => {\n        const { dogs } = this.props;\n\n        const { scrollLeft, scrollWidth, clientWidth } = e.target;\n        const imageStep = clientWidth;\n        const imageIdx = scrollLeft / imageStep;\n        // console.log({ e, imageStep, imageIdx, scrollLeft, scrollWidth, clientWidth });\n\n        const nearestInt = Math.round(imageIdx);\n        const diff = Math.abs(nearestInt - imageIdx);\n        // console.log({ nearestInt, diff });\n        if (Number.isInteger(imageIdx) || diff < 0.1) {\n            this.setState({\n                imageIdx: nearestInt,\n            });\n        }\n    }\n\n    sortByName = (a, b) => {\n        const { allDogs = [] } = this.props;\n        const dogA = allDogs.find(e => e.id === a);\n        const dogB = allDogs.find(e => e.id === b);\n        if (dogA && dogB) {\n            if (dogA.name > dogB.name) {\n                return 1;\n            }\n        }\n        return -1;\n    }\n\n    render() {\n        const { imageIdx } = this.state;\n        const { dogs, allDogs = [], size = 'medium', onDogClick = () => {} } = this.props;\n\n        return (\n            <div class='w-100'>\n                <div\n                    class='d-flex flex-row flex-nowrap no-scrollbar'\n                    style='overflow: auto; scroll-snap-type: x mandatory;'\n                    onScroll={this.scrollImages}\n                >\n                    {dogs && dogs.sort(this.sortByName).map((dogId, idx) => {\n                        const dog = allDogs.find(e => e.id === dogId);\n                        if (!dog) {\n                            return '';\n                        }\n                        return (\n                            <div class='col clearfix position-relative p-0 mx-2'>\n                                <div\n                                    class={`w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center`}\n                                    style={`\n                                        flex-wrap: wrap;\n                                        overflow-y: hidden;\n                                    `}\n                                    onTouchstart={(e) => { e.stopPropagation(); }}\n                                    onTouchend={(e) => { e.stopPropagation(); }}\n                                    onTouchmove={(e) => { e.stopPropagation(); }}\n                                >\n                                    <DogSimplePublic\n                                        stores={this.props.stores}\n                                        dog={dog}\n                                        dogs={allDogs.filter(d => dogs.indexOf(d.id) > -1).sort((a, b) => a.name > b.name ? 1 : -1)}\n                                        className='mx-auto'\n                                        showName={true}\n                                        showPosition={false}\n                                        size={size}\n                                        onDogClick={onDogClick} \n                                    />\n                                    {/* <xmp>{JSON.stringify(img, null, 4)}</xmp> */}\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DogScroller;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport TeamConnectBoxes from '../../components/team/connect-boxes';\nimport TeamConnectConfirm from '../../components/team/connect-confirm';\n\nimport Ad from '../../components/ad/';\n\nimport FastList from '../../components/team/fastList';\n\nimport Overlay from '../../components/overlay/';\nimport TeamsPublicDetail from '../../routes/teams/publicDetail';\nimport DogPublicDetail from '../../routes/dogs/publicDetail';\n\nimport TeamPublicFeedLine from '../../components/team/publicFeedLine';\n\nimport mu from '../../lib/musher-util';\n\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nconst initialState = {\n\tshowAddComment: {},\n    // viewImageIdx: {},\n    likeWorkout: {},\n    hasFollowSugguestions: false, \n    hasAd: false,\n    sessionid: new Date().getTime(),\n};\n\nconst dataFields = ['id', 'type', 'user', 'team', 'title'];\n\n@observer\nclass WorkoutPublicDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n    async loadPublicWorkouit({ props = this.props }) {\n\t\tconst { teamStore } = props.stores;\n        const { workout: workoutid } = props;\n\t\tawait teamStore.loadPublicFeed({ workoutid });\n\t}\n\n    // Overlay functions\n    onTeamClick = (e, teamid) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n            showTeam: teamid,\n        });\n        return false;\n    }\n\n    hideTeam = () => {\n        this.setState({\n            showTeam: null,\n        });\n    }\n\n    onUserClick = (e, userid) => {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n    }\n\n    onDogClick = (e, dogid, dogs) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n            showDog: dogid,\n            dogs,\n        });\n        return false;\n    }\n\n    hideDog = () => {\n        this.setState({\n            showDog: null,\n        });\n    }\n    // /Overlay functions\n\n    componentWillUnmount() {\n        const { teamStore } = this.props.stores;\n        // teamStore.cleanupMemory();\n    }\n\n\tcomponentDidMount() {\n        this.loadPublicWorkouit(this.props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n        // console.log('componentWillReceiveProps', nextProps.viewmenu, this.props.viewmenu);\n        if (nextProps.workoutid !== this.props.workoutid) {\n            this.loadPublicWorkouit(nextProps);\n        }\n    }\n\n    renderContent = ({ obj, idx }) => {\n        const { appState } = this.props.stores;\n        const { path } = appState;\n\n        if (obj.type === 'ad') {\n            return(<>\n                <Ad stores={this.props.stores} path={path} />\n            </>);\n        }\n        if (obj.type === 'teamConfirm') {\n            return(<>\n                <TeamConnectConfirm stores={this.props.stores} />\n            </>);\n        }\n        if (obj.type === 'teamSuggestions') {\n            return(<>\n                <TeamConnectBoxes stores={this.props.stores} />\n            </>);\n        }\n        return (<>\n            <TeamPublicFeedLine\n                stores={this.props.stores}\n                feed={obj}\n                idx={idx}\n                onTeamClick={this.onTeamClick}\n                onUserClick={this.onUserClick}\n                onDogClick={this.onDogClick}\n            />\n        </>);\n    }\n\n    back = () => {\n        const { history } = this.props.stores;\n        history.goBack();\n    }\n\n    render() {\n        const { showTeam, showDog, handleIntersection, sessionid, dogs } = this.state;\n        const { teamStore, appState } = this.props.stores;\n        const { publicTeamsFeed } = teamStore;\n        const { path, darkmode } = appState;\n        const { teamid } = this.props;\n        const team = teamStore.findPublicTeamByUuidv4(teamid);\n        \n        const image = mu.getImage({ team });\n        let shortname;\n        let name;\n        let username;\n        if (team && team.name) {\n            shortname = mu.displayNameShort(team);\n            name = mu.displayName(team);\n        }\n\n\n        return (<>\n            {showTeam && <Overlay>\n                <TeamsPublicDetail stores={this.props.stores} teamid={showTeam} marginTop={'0px;'} marginBottom={'0px;'} back={this.hideTeam} hideTeam={this.hideTeam} />\n            </Overlay>}\n\n            {showDog && <Overlay>\n                <DogPublicDetail stores={this.props.stores} dogid={showDog} marginTop={'0px;'} marginBottom={'0px;'} back={this.hideDog} dogs={dogs} />\n            </Overlay>}\n\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n                <div class='d-flex justify-content-between mb-2'>\n                    <div>\n\t\t\t\t\t\t<button class='btn btn-link float-left pl-0 fixed-top'\n                            style={`top: ${MARGIN_TOP_BACK}; left: 5px; font-size: 35px; width: 45px;`}\n\t\t\t\t\t\t\tonClick={this.back}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class='fas fa-arrow-circle-left' />\n\t\t\t\t\t\t</button>\n                    </div>\n                    <div>\n                        <h5 class='text-muted'>&nbsp;</h5>\n                    </div>\n                </div>\n\n                <div class='w-100'>\n                    {team ? <>\n                        <div class='row pb-3 pt-3'>\n                            <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 border-bottom'>\n                                <div class='row'>\n                                    <h3>\n                                        <div class='d-flex position-relative'>\n                                            <div\n                                                class={`text-center border rounded-circle imageRounded imageRoundedSmall`}\n                                                style={image ? `background-image: url(\"${image}\"); background-size: cover;` : ''}\n                                            >\n                                                {!image && <div class='text-muted' style='font-size: 20px; padding-top: 3px;'>{shortname}</div>}\n                                            </div>\n                                            <div class='flex-grow-1 pl-3 text-overflow' style='line-height: 1.2em;'>\n                                                <h3 class='mb-1'>\n                                                    {team.public ? <>\n                                                        <a href={`/teams/public/${team.uuidv4}`} class='stretched-link'>{name}</a>\n                                                    </> : <>\n                                                        {name}\n                                                    </>}\n                                                </h3>\n                                            </div>\n                                        </div>\n                                    </h3>\n                                </div>\n                            </div>\n                        </div>\n                    </> : <>\n                        <TeamConnectConfirm stores={this.props.stores} />\n                    </>}\n\n                    {(!publicTeamsFeed || publicTeamsFeed.length === 0) && <>\n                        <div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n                            <div class='text-center text-muted'>\n                                <div class='display-1'><i class='fas fa-chart-area' /></div>\n                                <h3><Text id='search.no-workouts-found'>No workouts found.</Text></h3>\n                                <Text id='teams.no-public-workouts-text'>Please follow more teams to see their workout activity on this page. This is a great way to get updates from all your favorite mushers.</Text>\n                            </div>\n                            <div class='text-center mt-3'>\n                                <a href='/teams/connect' class='btn btn-primary'>\n                                    <i class='fas fa-users' /> <Text id='header.connect-team'>Follow teams</Text>\n                                </a>\n                            </div>\n                        </div>\n                    </>}\n\n                    <FastList\n                        data={publicTeamsFeed}\n                        wrapperClassNames={'row pb-4'}\n                        contentClassNames={`col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 my-1 position-relative rounded rounded-lg py-3 bg-${darkmode ? 'black' : 'white'} shadow-sm`}\n                        renderContent={this.renderContent}\n                        dataFields={dataFields}\n                        dataValues={{ type: '10' }}\n                        handleIntersection={handleIntersection}\n                        sessionid={sessionid}\n                    />\n\n                </div>\n            </div>\n        </>);\n    }\n}\n\nexport default WorkoutPublicDetail;\n"],"sourceRoot":""}