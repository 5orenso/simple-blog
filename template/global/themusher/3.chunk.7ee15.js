(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"1/9N":function(t,e,s){"use strict";(function(t){var o,i=s("hosL"),a=s("Utv1"),n=s("/eY4"),c=(s("OhSV"),s("ZOvn"),s("bbv7")),r=Object(n.a)(o=function(e){function s(){return e.apply(this,arguments)||this}var o,n;return n=e,(o=s).prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n,s.prototype.render=function(){var e=this.props,s=e.legendLeft,o=void 0===s?[]:s,n=e.legendRight,r=void 0===n?[]:n,l=e.dataLeft,h=void 0===l?[]:l,d=e.dataRight,g=void 0===d?[]:d,p=e.showDebug,u=e.xTicksVal,m=void 0===u?function(t){return a.a.isoDate(t,!1,!1,!0)}:u,b=e.xTicksCnt,f=e.yTicksLeftVal,v=void 0===f?function(t){return t}:f,O=e.yTicksRightVal,j=void 0===O?function(t){return t}:O,y=h&&h[0]?h[0]:[],x=[];if(y.length){var w=Math.ceil(y.length/((void 0===b?5:b)-1)),k=Math.floor(y.length/w);p&&console.log({firstData:y,parts:k,partSize:w});for(var D=0,T=y.length;D<T;D+=w)x.push(y[D].epoch);x.push(y[y.length-1].epoch)}return Object(i.h)(t,null,Object(i.h)("div",{class:"w-100 mt-3 mb-4"},Object(i.h)(c.a,{stores:this.props.stores,width:1e3,height:300,showXTicks:1,xTicksVal:m,xTicks:x,paddingTop:30,lineFromXzero:!1,lineFromXmax:!1,dataLeft:h,legendLeft:o,showYTicksLeft:1,yTicksLeftVal:v,avgWindowLeft:[0,0,0,0,0,0,0],smoothLeft:[0,0,0,0,0,0,0],dataRight:g,legendRight:r,showYTicksRight:g.length>0?1:0,yTicksRightVal:j,avgWindowRight:[0,0,0,0,0,0,0],smoothRight:[0,0,0,0,0,0,0],scrollToRight:!0})))},s}(i.Component))||o;e.a=r}).call(this,s("hosL").Fragment)},Nanz:function(t,e,s){"use strict";s.r(e),function(t){function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a,n=s("hosL"),c=s("Utv1"),r=s("/eY4"),l=(s("Y3FI"),s("OhSV")),h=s("fh8t"),d=s.n(h),g=(s("X9Km"),s("ZOvn")),p=s("s4FZ"),u=s("1/9N"),m=g.a.marginTop(!1),b=g.a.marginTopBack(!1),f=g.a.marginBottom(),v={newTeam:{}},O=Object(r.a)(a=function(e){function s(t){var s;return(s=e.call(this,t)||this).back=function(){s.props.stores.history.goBack()},s.nextDog=function(){var t=s.props,e=t.dogs,o=void 0===e?[]:e,i=o[s.state.nextDogIdx];i&&i.uuidv4&&s.loadPublicDog({stores:t.stores,dogs:o,dogid:i.uuidv4})},s.prevDog=function(){var t=s.props,e=t.dogs,o=void 0===e?[]:e,i=o[s.state.prevDogIdx];i&&i.uuidv4&&s.loadPublicDog({stores:t.stores,dogs:o,dogid:i.uuidv4})},s.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},v),s.updateTimer={},s.time=(new Date).getTime(),s.apiServer=c.a.getApiServer(),s}var a,r;r=e,(a=s).prototype=Object.create(r.prototype),a.prototype.constructor=a,a.__proto__=r;var h=s.prototype;return h.loadPublicView=function(t){return new Promise(function(e,s){return this.setState({isLoading:!0}),Promise.resolve(this.props.stores.dogStore.getPublicViews(t.dogid)).then(function(){try{return this.setState({isLoading:!1}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},h.loadAll=function(t){return new Promise(function(e,s){return void 0===t&&(t=this.props),Promise.resolve(this.loadPublicDog(t)).then(function(){try{return Promise.resolve(this.loadPublicView(t)).then((function(){try{return e()}catch(t){return s(t)}}),s)}catch(t){return s(t)}}.bind(this),s)}.bind(this))},h.loadPublicDog=function(t){return new Promise(function(e,s){var o,i,a,n,c,r,l,h,d,g,p,u;return void 0===t&&(t=this.props),o=t.stores.dogStore,n=void 0===(a=(i=t).dogs)?[]:a,Promise.resolve(o.loadPublicDetail({id:i.dogid})).then(function(){try{return c=o.publicDog,r=n.findIndex((function(t){return t.id===c.id})),l=null,h=null,d=null,g=null,p=!1,u=!1,r>0&&(d=n[l=r-1].shortname||n[l].name,p=!0),r<n.length-1&&(g=n[h=r+1].shortname||n[h].name,u=!0),this.setState({prevDogIdx:l,prevDogName:d,nextDogIdx:h,nextDogName:g,hasPrevDog:p,hasNextDog:u,currentDogIdx:r}),e()}catch(t){return s(t)}}.bind(this),s)}.bind(this))},h.componentDidMount=function(){var t=this.props.back,e=void 0===t?this.back:t,s=this.props.stores.appState;s.setSwipeRight((function(){s.setSwipeRight(),e()})),this.loadAll()},h.componentWillReceiveProps=function(t){t.dogid!==this.props.dogid&&this.loadAll(t)},h.render=function(){var e=this.state,s=e.hasPrevDog,o=e.hasNextDog,i=this.props.stores,a=i.dogStore,r=i.userStore,h=r.user,v=r.isAdmin,O=h.language,j=void 0===O?"en":O,y=a.publicDog,x=a.publicTeam,w=a.publicViewsGraphData,k=!(!x||!x.members)&&x.members.some((function(t){return t.id===h.id})),D=x||{},T=this.props,L=T.marginTop,S=T.marginBottom,P=T.back,R=void 0===P?this.back:P,I=D.imageHeader,X=y.image,z=I&&I.s3XXLargeLink?I:{s3XXLargeLink:"./assets/homerun-race-logo.png"},M=X&&X.s3LargeLink?X:null,V=(r.findTeamAmbition({ambition:D.ambitions,language:j}),r.findTeamType({type:D.type,language:j}),r.findDogposition({position:y.position,language:j})),_=g.a.hasBirthday(y.birth),E=Math.ceil(g.a.daysUntilNextBirthday(y.birth));return Object(n.h)(t,null,Object(n.h)("div",{class:"container-fluid pb-5",style:"margin-bottom: "+(S||f)+"; margin-top: "+(L||m)+";"},Object(n.h)("button",{class:"btn btn-link pl-0 fixed-top text-primary",style:"top: "+b+"; left: 5px; font-size: 2.0em; width: 43px;",onClick:R},Object(n.h)("i",{class:"fas fa-arrow-circle-left"})),Object(n.h)("div",{class:"row mb-0"},Object(n.h)("div",{class:"w-100 position-relative",style:"height: 25vh; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; background-color: #a0a0a0; "+(z?'background-image: url("'+z.s3XXLargeLink+'");':"")}),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 mt-3"},Object(n.h)("div",{class:"row"},Object(n.h)("div",{class:"col-3 col-sm-4 col-md-3 col-lg-4 position-relative"},Object(n.h)("div",{class:"text-center border border-white rounded-circle position-absolute imageRoundedXLarge imageRoundedResponsive imageRoundedResponsivePosition",style:"left: 20px; "+(M?'background-image: url("'+M.s3LargeLink+'"); background-size: cover; background-repeat: no-repeat; background-position: 50% 50%;':"")},!M&&Object(n.h)("i",{class:"fas fa-users text-muted mt-3",style:"font-size: 40px;"}))," "),Object(n.h)("div",{class:"col-9 col-sm-8 col-md-9 col-lg-8",style:"line-height: 1.2em;"},Object(n.h)("small",{class:"font-weight-light"},D.name),Object(n.h)("br",null),y.birth&&Object(n.h)(t,null,Object(n.h)("h5",{class:"float-right"},E<7&&Object(n.h)(t,null,Object(n.h)("span",{class:"text-muted mr-2"},Object(n.h)("i",{class:"fas fa-birthday-cake"})," in ",E," days")),y.birth&&Object(n.h)("span",{class:"mr-2"},c.a.age(y.birth,y.deceased)),"female"===y.gender?Object(n.h)("i",{class:"fas fa-venus"}):Object(n.h)("i",{class:"fas fa-mars"}))),Object(n.h)("h5",{class:"my-0"},y.shortname||y.name,_&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-birthday-cake ml-3"}))),y.shortname&&Object(n.h)("div",null,y.name),V&&V.class&&Object(n.h)(t,null,Object(n.h)("span",{class:"badge badge-"+(V.class||"primary")+" mt-2"},V.icon&&Object(n.h)("i",{class:V.icon})," ",V.name)),y.weight>0&&Object(n.h)("small",{class:"text-muted"},y.weight&&Object(n.h)(t,null,Object(n.h)("i",{class:"fas fa-balance-scale ml-2"})," ",c.a.format(y.weight,1)," kg")))))),Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(l.c,{id:"dogs.description"},"Beskrivelse"))),Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)(d.a,{markdown:g.a.replaceImages(y.description,y.images,j),markdownOpts:g.a.getMarkdownOptions()}))),y.images&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(l.c,{id:"dogs.public-photos",fields:{total:y.images.length}},"Bilder av hunden - ",y.images.length," stk"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative px-0"},Object(n.h)(p.a,{stores:this.props.stores,images:y.images}))),y.achievements&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(l.c,{id:"dogs.achievements"},"Achievements"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},y.achievements&&y.achievements.map((function(t){return Object(n.h)("div",{class:"col-12"},t.date&&Object(n.h)("span",{class:"font-weight-lighter mr-2"},c.a.isoDate(t.date,!1,!1,!0)),Object(n.h)("span",{class:"mr-2 font-weight-bold"},t.name),Object(n.h)("span",{class:"mr-2 font-weight-light"},t.description),t.url&&Object(n.h)("span",{class:"mr-2"},Object(n.h)("a",{href:g.a.asUrl(t.url),target:"_blank",rel:"noreferrer",native:!0},Object(n.h)("i",{class:"fas fa-link"}))))}))))),y.trophys&&Object(n.h)("div",{class:"row mt-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(l.c,{id:"dogs.trophy"},"Trophys"))),Object(n.h)("div",{class:"col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 mb-0 position-relative"},Object(n.h)("div",{class:"row"},y.trophys&&y.trophys.reverse().map((function(t){var e=g.a.getTrophyImage(t.name);if(!e)return"";var s=t.descriptionHeader&&t.descriptionHeader[j]?t.descriptionHeader[j]:"",o=t.description&&t.description[j]?t.description[j]:"";return Object(n.h)("div",{class:"col-4 mt-3"},Object(n.h)("div",{class:"mb-2"},Object(n.h)("img",{src:e,class:"img-fluid"})),Object(n.h)("strong",null,s),Object(n.h)("small",null,Object(n.h)("details",null,Object(n.h)("summary",null,Object(n.h)(l.c,{id:"dogs.trophy-details"},"Details")),Object(n.h)(d.a,{markdown:g.a.replaceImages(o,y.images,j),markdownOpts:g.a.getMarkdownOptions()}))))}))))),Object(n.h)("div",{class:"row mt-5 mb-5"},Object(n.h)("div",{class:"col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},Object(n.h)("div",{class:"text-center text-muted"},Object(n.h)("div",{class:"display-1"},Object(n.h)("i",{class:"fas fa-ellipsis-h"})),Object(n.h)("div",{style:"line-height: 0.9em;"},Object(n.h)("small",null,Object(n.h)(l.c,{id:"dogs.something-missing"},"Er det noe du savner på denne siden? Send oss en melding på Facebook.")))))),(v||k)&&Object(n.h)(t,null,Object(n.h)("h5",{class:"font-weight-lighter text-muted border-bottom"},Object(n.h)(l.c,{id:"dogs.visits"},"Dog page visits")),Object(n.h)(u.a,{stores:this.props.stores,dataLeft:w,legendLeft:["dog"],key:"minigraph-dog-"+y.uuidv4})),o&&Object(n.h)("span",{class:"fixed-bottom text-primary",style:"bottom: 60px; left: auto; right: 12px; width: 43px; font-size: 3.0em; z-index: 10;"},Object(n.h)("i",{class:"fas fa-arrow-circle-right",onClick:this.nextDog})),s&&Object(n.h)("span",{class:"fixed-bottom text-primary",style:"bottom: 60px; left: 5px; width: 43px; font-size: 3.0em; z-index: 10;"},Object(n.h)("i",{class:"fas fa-arrow-circle-left",onClick:this.prevDog})),y.uuidv4&&Object(n.h)("img",{src:this.apiServer+"/api/dogs/"+y.uuidv4+"/view?user="+h.id+"&time="+this.time,style:"width: 1; height: 1; opacity: 0.1;"})))},s}(n.Component))||a;e.default=O}.call(this,s("hosL").Fragment)},s4FZ:function(t,e,s){"use strict";(function(t){function o(t){return n.a.isObject(t)&&t.s3LargeLink}var i,a=s("hosL"),n=s("Utv1"),c=s("/eY4"),r=(s("OhSV"),Object(c.a)(i=function(e){function s(t){var s;return(s=e.call(this,t)||this).scrollImages=function(t){var e=t.target,o=e.scrollLeft/e.clientWidth,i=Math.round(o),a=Math.abs(i-o);(Number.isInteger(o)||a<.1)&&s.setState({imageIdx:i})},s.distance=function(t){return Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY)},s.pinchZoomOnTouchStart=function(t){if(2===t.touches.length){t.preventDefault(),t.stopPropagation();var e={};e.x=(t.touches[0].pageX+t.touches[1].pageX)/2,e.y=(t.touches[0].pageY+t.touches[1].pageY)/2,e.distance=s.distance(t),s.setState({start:e})}},s.pinchZoomOnTouchMove=function(t){var e=s.state,o=e.imageElementScale,i=e.imageElementMaxScale,a=s.state.start;if(2===t.touches.length){var n;if(t.preventDefault(),t.stopPropagation(),t.scale)n=t.scale;else n=s.distance(t)/a.distance;o=Math.min(Math.max(1,n),i),s.setState({imageElementScale:o},(function(){var e="translate3d("+2*((t.touches[0].pageX+t.touches[1].pageX)/2-a.x)+"px, "+2*((t.touches[0].pageY+t.touches[1].pageY)/2-a.y)+"px, 0) scale("+o+")";t.target.style.transition="",t.target.style.transform=e,t.target.style.WebkitTransform=e,t.target.style.zIndex="100000"}))}},s.pinchZoomOnTouchEnd=function(t){s.setState({imageElementScale:1}),t.target.style.transition="transform 250ms",t.target.style.transform="",t.target.style.WebkitTransform="",t.target.style.zIndex=""},s.state={imageIdx:0,imageElementScale:1,imageElementMaxScale:5,start:{}},s}var i,n;return n=e,(i=s).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n,s.prototype.render=function(){var e=this,s=this.state,i=s.imageIdx,n=s.imageElementScale,c=this.props,r=c.images,l=c.id,h=c.dblClick,d=void 0===h?function(){}:h,g=c.likeRef,p=void 0===g?{}:g,u=c.noimagestext,m=c.minHeight,b=void 0===m?"100px":m;return r&&0!==r.length?Object(a.h)("div",{class:"w-100 position-relative"},Object(a.h)("div",{class:"d-flex flex-row flex-nowrap bg-light border-top border-bottom",style:"\n                        overflow-x: "+(n>1&&1===r.length?"visible !important":"auto")+";\n                        overflow-y: "+(n>1?"visible !important":"auto")+";\n                        scroll-snap-type: x mandatory;\n                    ",onScroll:this.scrollImages},r&&r.filter(o).map((function(s){return Object(a.h)("div",{class:"col-12 clearfix p-0"},Object(a.h)("div",{class:"w-100 h-100 text-center rounded-lg imageContainer d-flex justify-content-center align-items-center position-relative ",style:"\n                                    scroll-snap-align: start;\n                                    flex-wrap: wrap;\n                                ",onDblclick:d,"data-id":l,onTouchstart:function(t){t.stopPropagation()},onTouchend:function(t){t.stopPropagation()},onTouchmove:function(t){t.stopPropagation()}},Object(a.h)("div",{class:"position-absolute w-100 h-100",style:"\n                                        background-image: url('"+s.s3SmallLink+"'); background-size: cover;\n                                        filter: blur(10px);\n                                        opacity: 0.5;\n                                    "}),s.s3LargeLink?Object(a.h)("img",{class:"img-fluid position-relative",src:s.s3LargeLink+(s.updatedDate?"?updated="+s.updatedDate:""),loading:"lazy",style:"max-height: 75vh; min-height: "+b+"; ",onTouchstart:e.pinchZoomOnTouchStart,onTouchend:e.pinchZoomOnTouchEnd,onTouchmove:e.pinchZoomOnTouchMove}):Object(a.h)(t,null,Object(a.h)("span",{class:"display-1 text-muted"},Object(a.h)("i",{class:"fas fa-camera"})))),p[l]&&Object(a.h)("span",{class:"likeHeart position-absolute text-white display-1",style:"top: calc(50% - 50px); left: calc(50% - 50px); width: 100px; height: 100px;"},Object(a.h)("i",{class:"fas fa-heart likeStory"})))}))),r&&r.length>1&&Object(a.h)(t,null,Object(a.h)("div",{class:"w-100 text-center"},Object(a.h)("small",null,Object(a.h)("small",null,r&&r.filter(o).map((function(e,s){return Object(a.h)(t,null,Object(a.h)("i",{class:(s===i?"fas":"far")+" fa-circle mr-1"}))}))))),Object(a.h)("div",{class:"position-absolute text-white font-weight-lighter px-1 py-1 rounded-lg",style:"top: 10px; right: 10px; background-color: rgba(0, 0, 0, 0.3); line-height: 1.0em;"},Object(a.h)("small",null,i+1," / ",r.length)))):u?Object(a.h)(t,null,Object(a.h)("div",{class:"col-12 text-center text-muted"},Object(a.h)("div",{class:"display-1"},Object(a.h)("i",{class:"fas fa-camera"})),Object(a.h)("h3",{class:"font-weight-lighter"},u))):Object(a.h)(t,null)},s}(a.Component))||i);e.a=r}).call(this,s("hosL").Fragment)}}]);
//# sourceMappingURL=3.chunk.7ee15.js.map