{"version":3,"sources":["webpack:///./components/team/index.js","webpack:///./routes/teams/index.js"],"names":["Team","observer","render","team","this","props","stores","userStore","workoutSummary","teamStore","findWorkoutSummary","id","teamAmbition","findTeamAmbition","ambitions","teamType","findTeamType","type","class","style","image","s3SmallLink","href","name","dogs","length","members","distanceKm","util","format","elevation","duration","secToHms","speedAvg","Component","MARGIN_TOP","mu","marginTop","MARGIN_BOTTOM","marginTopBack","marginBottom","initialState","isLoading","Teams","state","loadTeams","setState","load","undefined","addData","getNotifications","componentDidMount","teams","fields","total","map"],"mappings":"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","file":"route-teams.chunk.e4f4b.js","sourcesContent":["import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\n@observer\nclass Team extends Component {\n    render() {\n        const { team } = this.props;\n        const { teamStore, userStore } = this.props.stores;\n        const workoutSummary = teamStore.findWorkoutSummary(team.id, 2020) || {};\n        const teamAmbition = userStore.findTeamAmbition(team.ambitions);\n        const teamType = userStore.findTeamType(team.type);\n\n        return (\n            <div class='w-100 mb-3'>\n                <div class='row'>\n                    <div class='col-12 col-sm-8 col-lg-6 offset-sm-2 offset-lg-3 d-flex mb-0 position-relative'>\n                        {/* {JSON.stringify(team, null, 4)} */}\n                        <div class={`text-center border rounded-circle imageRounded`} style={team.image ? `background-image: url(\"${team.image.s3SmallLink}\");` : ''}>\n                            {!team.image && <i class='fas fa-users text-muted mt-3' style='font-size: 40px;' />}\n                        </div>\n                        <div class='flex-grow-1 pl-3' style='line-height: 1.2em;'>\n                            <a class='stretched-link' href={`/teams/${team.id}`}>\n                                <h5 class='mb-1' style='line-height: 1.0em;'>{team.name}</h5>\n                            </a>\n                            <div>\n                                {teamType && <span class='badge badge-pill badge-secondary'>{teamType}</span>}\n                                {teamAmbition && <span class='badge badge-pill badge-secondary ml-2'>{teamAmbition}</span>}\n                            </div>\n                            <small class='text-muted'>\n                                {team && team.dogs && <span class=''><i class='fas fa-dog' /> {team.dogs.length}</span>} \n                                {team && team.members && <span class='ml-2'><i class='fas fa-user' /> {team.members.length}</span>}\n\n                                {workoutSummary && workoutSummary.distanceKm > 0 && <span class='ml-2'><i class='fas fa-road' /> {util.format(workoutSummary.distanceKm, 0)}km</span>}\n                                {workoutSummary && workoutSummary.elevation > 0 && <span class='ml-2'><i class='fas fa-mountain' /> {util.format(workoutSummary.elevation, 0)}m</span>}\n                                {workoutSummary && workoutSummary.duration > 0 && <span class='ml-2'><i class='fas fa-clock' /> {util.secToHms(workoutSummary.duration)}</span>}\n                                {workoutSummary && workoutSummary.speedAvg > 0 && <span class='ml-2'><i class='fas fa-tachometer-alt' /> {util.format(workoutSummary.speedAvg, 1)}km/t</span>}\n                            </small>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Team;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\nimport { Text, Localizer } from 'preact-i18n';\n\nimport mu from '../../lib/musher-util';\nconst MARGIN_TOP = mu.marginTop(false);\nconst MARGIN_TOP_BACK = mu.marginTopBack(false);\nconst MARGIN_BOTTOM = mu.marginBottom();\n\nimport Team from '../../components/team';\n\nconst initialState = {\n\tisLoading: false,\n};\n\n@observer\nclass Teams extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n    }\n\n\tasync loadTeams() {\n\t\tthis.setState({ isLoading: true });\n\t\tconst { teamStore, userStore } = this.props.stores;\n\t\tawait teamStore.load(undefined, false, { addData: ['workoutSummary', 'musherSummary'] });\n\t\tawait userStore.getNotifications();\n\t\tthis.setState({ isLoading: false });\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadTeams();\n\t}\n\n\trender() {\n\t\tconst { isLoading } = this.state;\n\t\tconst { teamStore, userStore } = this.props.stores;\n\t\tconst { teams } = teamStore;\n\t\tconst { user } = userStore;\n\t\treturn (\n\t\t\t<div class='container-fluid' style={`margin-bottom: ${MARGIN_BOTTOM}; margin-top: ${MARGIN_TOP};`}>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0'>\n\t\t\t\t\t\t\t<h5><Text id='teams.all-teams' fields={{ total: teams.length }}>Teamene dine - {teams.length} stk</Text></h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='col-12 offset-0 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 px-0 clearfix mb-2'>\n\t\t\t\t\t\t\t<a class='btn btn-sm btn-primary float-right'\n\t\t\t\t\t\t\t\thref='/teams/edit/new'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i class='fas fa-plus' /> <Text id='teams.add-new'>Legg til team</Text>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{teams && teams.map(team => (\n\t\t\t\t\t\t\t<Team stores={this.props.stores} team={team} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Teams;\n"],"sourceRoot":""}