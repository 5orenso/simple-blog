{"version":3,"sources":["webpack:///./components/lineGraph/style.css","webpack:///./components/lineGraph/index.js","webpack:///./lib/wifet-util.js"],"names":["module","exports","getTicks","count","min","max","prefix","postfix","loop","Array","from","keys","range","Math","ceil","floor","map","d","parseInt","parseTicks","ticks","JSON","parse","transformXTick","tick","match","msDiff","replace","now","util","epoch","isoDate","normalizeRange","val","newMin","newMax","round5","x","roundDown","sign","abs","findMaxX","data","isNumber","findMaxY","y","findMinY","controlPoint","current","previous","next","reverse","o","pointA","pointB","lengthX","lengthY","length","sqrt","pow","angle","atan2","lineProperties","PI","cos","sin","bezierCommand","point","i","a","cpsX","cpsY","cpeX","cpeY","lineCommand","svgPath","points","command","reduce","acc","makePath","yMin","yMax","xMax","width","height","yRangeMin","yRangeMax","offsetY","maxMinFixed","smooth","avgWindow","dataMap","maxX","minY","maxY","realHeight","fnX","idx","round","isDefined","xVal","fnY","dataVal","yVal","dataArray","p","filter","e","finalDataArray","arr","windowSize","getter","value","setter","get","result","leftOffeset","to","sum","j","smoothValues","l","ySmooth","dOriginal","initialState","mouseData","LineChart","observer","Component","constructor","props","super","mouseMove","this","stores","svgHeight","svgRef","clientHeight","layerX","clientWidth","layerY","appState","setMousePosition","state","getMouseData","xPos","key","opt","autoLimit","padding","checkNested","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","paddingLeft","paddingBottom","tickCount","showXTicks","showYTicks","xTicks","yTicks","yTicksPrefix","yTicksPostfix","showY2Ticks","y2Ticks","y2TicksPrefix","y2TicksPostfix","y2Max","y2Min","range2bMin","range2bMax","range2cMin","range2cMax","range2dMin","range2dMax","y3Min","y3Max","range3Min","range3Max","legend","legendB","legendC","legendD","legend2","legend2B","legend2C","legend2D","legend3","dataB","dataC","dataD","data2","data2B","data2C","data2D","data3","marker","unit","unitB","unitC","unitD","unit2","unit2B","unit2C","unit2D","avgWindowB","avgWindowC","avgWindowD","avgWindow2","avgWindow2B","avgWindow2C","avgWindow2D","avgWindow3","hoverVal","hoverValB","hoverValC","hoverValD","hoverVal2","hoverVal2B","hoverVal2C","hoverVal2D","mousePos","darkmode","PADDING_LEFT","PADDING_BOTTOM","common","dataMaxY","MAX_Y","dataMinY","MIN_Y","dataMaxX","dataBMaxX","MAX_X","dB","dataMapB","dC","dataMapC","dD","dataMapD","d2","MIN_Y2","MAX_Y2","dataMap2","d2B","dataMap2B","d2C","dataMap2C","d2D","dataMap2D","d3","X_TICKS","Y_TICKS","Y_TICKS2","class","style","lineChart","xmlns","svg","viewBox","preserveAspectRatio","ref","c","path3","path2D","path2C","path2B","path2","pathD","pathB","pathC","path","pathOriginal","x1","y1","x2","y2","font-size","pathText","mouseLine","cx","cy","r","rx","ry","mouseHoverBox","mouseHoverDarkmode","mouseHover","dy","left","v","data-value","bottom","WifetUtil","random","cnt","onlyUp","inputData","diff","maxSkew","rangeMin","rangeMax","cutoff","skew","getRandomInt","isUndefined","push","percent","$max","newVal","fn","opts","windspeed","maxEffect","ws","Mw","priceData"],"mappings":"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","file":"route-demand~route-home~route-prices~route-production~route-strategy~route-wear~route-weather.chunk.21428.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineChart\":\"lineChart__1V7gu\",\"svg\":\"svg__2VZNe\",\"pathText\":\"pathText__2RfbE\",\"pathOriginal\":\"pathOriginal__9eH9i\",\"path\":\"path__39L9w\",\"pathB\":\"pathB__4I_xm\",\"pathC\":\"pathC__1DQi-\",\"pathD\":\"pathD__2lI_C\",\"pathE\":\"pathE__2VDGB\",\"path2\":\"path2__19gje\",\"path2B\":\"path2B__-l86N\",\"path2C\":\"path2C__3xnAW\",\"path2D\":\"path2D__1rC9K\",\"path2E\":\"path2E__3ixKF\",\"path3\":\"path3__1IFnl\",\"x-axis\":\"x-axis__1601s\",\"y-axis\":\"y-axis__13f0R\",\"y-axis2\":\"y-axis2__3xPFM\",\"marker\":\"marker__2peOe\",\"mouseHover\":\"mouseHover__2B4N6\",\"mouseHoverDarkmode\":\"mouseHoverDarkmode__3VPOP\",\"mouseHoverBox\":\"mouseHoverBox__3fJuY\",\"mouseLine\":\"mouseLine__1cdau\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport style from './style.css';\n\nfunction getTicks(count, min, max, prefix = '', postfix = '') {\n    const loop = Array.from(Array(count).keys());\n    const range = Math.ceil(max) - Math.floor(min);\n    return loop.map(d => `${prefix}${parseInt((range / (count - 1) * d), 10) + Math.floor(min)}${postfix}`);\n}\n\nfunction parseTicks(ticks) {\n    if (ticks) {\n        return JSON.parse(ticks);\n    }\n    return undefined;\n}\n\nfunction transformXTick(tick) {\n    if (typeof tick === 'string') {\n        if (tick.match(/\\d+h/)) {\n            const msDiff = tick.replace(/h/g, '') * 3600 * 1000;\n            const now = util.epoch();\n            const then = now - msDiff;\n            return util.isoDate(then);\n        }\n    }\n    return tick;\n}\n\nfunction normalizeRange(val, min, max, newMin, newMax) {\n    return newMin + (val - min) * (newMax - newMin) / (max - min);\n}\n\nfunction round5(x, roundDown = false) {\n    let sign = 1;\n    if (x < 0) {\n        sign = -1;\n    }\n    if (roundDown && sign === 1) {\n        return Math.floor(Math.abs(x) / 5) * 5 * sign;\n    }\n    return Math.ceil(Math.abs(x) / 5) * 5 * sign;\n}\n\nfunction findMaxX({ data, max }) {\n    if (util.isNumber(max)) {\n        return Math.max(max, ...data.map(d => d.x));\n    }\n    return Math.max(...data.map(d => d.x));\n}\n\nfunction findMaxY({ data, max }) {\n    if (util.isNumber(max)) {\n        return Math.max(max, ...data.map(d => d.y));\n    }\n    return Math.max(...data.map(d => d.y));\n}\n\nfunction findMinY({ data, min }) {\n    if (util.isNumber(min)) {\n        return Math.min(min, ...data.map(d => d.y));\n    }\n    return Math.min(...data.map(d => d.y));\n}\n\n\nfunction smoothValues(arr, windowSize = 2, getter = (value) => value, setter) {\n    const get = getter\n    const result = []\n    for (let i = 0; i < arr.length; i += 1) {\n        const leftOffeset = i - windowSize\n        const from = leftOffeset >= 0 ? leftOffeset : 0\n        const to = i + windowSize + 1\n        let count = 0\n        let sum = 0\n        for (let j = from; j < to && j < arr.length; j += 1) {\n            sum += get(arr[j])\n            count += 1\n        }\n        result[i] = setter ? setter(arr[i], sum / count) : sum / count\n    }\n    return result\n}\n\n\n// Properties of a line \n// I:  - pointA (array) [x,y]: coordinates\n//     - pointB (array) [x,y]: coordinates\n// O:  - (object) { length: l, angle: a }: properties of the line\nfunction lineProperties(pointA, pointB) {\n    const lengthX = pointB[0] - pointA[0];\n    const lengthY = pointB[1] - pointA[1];\n    return {\n        length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n        angle: Math.atan2(lengthY, lengthX),\n    };\n}\n\n// Position of a control point \n// I:  - current (array) [x, y]: current point coordinates\n//     - previous (array) [x, y]: previous point coordinates\n//     - next (array) [x, y]: next point coordinates\n//     - reverse (boolean, optional): sets the direction\n// O:  - (array) [x,y]: a tuple of coordinates\nfunction controlPoint(current, previous, next, reverse) {\n    // When 'current' is the first or last point of the array\n    // 'previous' or 'next' don't exist.\n    // Replace with 'current'\n    const p = previous || current;\n    const n = next || current;\n    \n    // The smoothing ratio\n    const smoothing = 0.2;\n    \n    // Properties of the opposed-line\n    const o = lineProperties(p, n);\n    \n    // If is end-control-point, add PI to the angle to go backward\n    const angle = o.angle + (reverse ? Math.PI : 0);\n    const length = o.length * smoothing;\n    \n    // The control point position is relative to the current point\n    const x = current[0] + Math.cos(angle) * length;\n    const y = current[1] + Math.sin(angle) * length;\n    return [x, y]\n}\n\n// Create the bezier curve command \n// I:  - point (array) [x,y]: current point coordinates\n//     - i (integer): index of 'point' in the array 'a'\n//     - a (array): complete array of points coordinates\n// O:  - (string) 'C x2,y2 x1,y1 x,y': SVG cubic bezier C command\nfunction bezierCommand(point, i, a) {\n    // start control point\n    const [cpsX, cpsY] = controlPoint(a[i - 1], a[i - 2], point)  // end control point\n    const [cpeX, cpeY] = controlPoint(point, a[i - 1], a[i + 1], true);\n    return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${point[0]},${point[1]}`\n}\n\n// Svg path line command\n// I:  - point (array) [x, y]: coordinates\n// O:  - (string) 'L x,y': svg line command\nfunction lineCommand(point) {\n    if (point[1] === null) {\n        return `M ${point[0]} ${point[1]}`;\n    }\n    return `L ${point[0]} ${point[1]}`;\n}\n\n// Render the svg <path> element \n// I:  - points (array): points coordinates\n//     - command (function)\n//       I:  - point (array) [x,y]: current point coordinates\n//           - i (integer): index of 'point' in the array 'a'\n//           - a (array): complete array of points coordinates\n//       O:  - (string) a svg path command\n// O:  - (string): a Svg <path> element\nfunction svgPath(points, command) {\n    // build the d attributes by looping over the points\n    const d = points.reduce((acc, point, i, a) => i === 0\n        // if first point\n        ? `M ${point[0]},${point[1]}`\n        // else\n        : `${acc} ${command(point, i, a)}`\n    , '');\n    \n    return d;\n}\n\nfunction makePath({ data, yMin, yMax, xMax, width, height, yRangeMin, yRangeMax, offsetY = 0, maxMinFixed = false, smooth = true, avgWindow = 2 }) {\n    const dataMap = {};\n    if (data && data.length) {\n        const maxX = xMax || Math.max(...data.map(d => d.x));\n        let minY;\n        let maxY;\n        if (maxMinFixed) {\n            minY = util.isNumber(yMin) ? yMin : findMinY({ data });\n        } else {\n            minY = util.isNumber(yMin) ? findMinY({ data, min: yMin }) : findMinY({ data });\n            minY = round5(minY, true);\n        }\n        if (maxMinFixed) {\n            maxY = util.isNumber(yMax) ? yMax : findMaxY({ data });\n        } else {\n            maxY = util.isNumber(yMax) ? findMaxY({ data, max: yMax }) : findMaxY({ data });\n            maxY = round5(maxY);\n        }\n\n        const realHeight = height - offsetY;\n        const fnX = (val, idx) => {\n            const x = Math.round(val / maxX * width);\n            if (util.isDefined(idx)) {\n                if (!dataMap[idx]) { dataMap[idx] = {}; }\n                dataMap[idx].x = x;\n                dataMap[idx].xVal = val;\n            }\n            return x;\n        }\n\n        const fnY = (val, idx) => {\n            let dataVal = val;\n            if (util.isNumber(yRangeMin) && util.isNumber(yRangeMax)) {\n                dataVal = normalizeRange(dataVal, minY, maxY, yRangeMin, yRangeMax);\n                return realHeight - normalizeRange(dataVal, yRangeMin, yRangeMax, offsetY, height);\n            }\n            if (dataVal === null) {\n                return null;\n            }\n            dataVal = normalizeRange(dataVal, minY, maxY, minY, maxY);\n            const y = Math.round(realHeight - normalizeRange(dataVal, minY, maxY, offsetY, height));\n            if (util.isDefined(idx)) {\n                if (!dataMap[idx]) { dataMap[idx] = {}; }\n                dataMap[idx].y = y;\n                dataMap[idx].yVal = dataVal;\n            }\n            return y;\n        };\n\n        const dataArray = data.map((p, idx) => [fnX(p.x, idx + 1), fnY(p.y, idx + 1)]).filter(e => e[1] !== null);\n        const finalDataArray = avgWindow > 0 ? smoothValues(dataArray, avgWindow, (e) => e[1], (e, val) => [e[0], val]) : dataArray;\n\n        for (let i = 0, l = finalDataArray.length; i < l; i += 1) {\n            if (util.isDefined(dataMap[i])) {\n                dataMap[i + 1].ySmooth = finalDataArray[i][1];\n            }\n        }\n\n        const d = svgPath(finalDataArray, smooth ? bezierCommand : lineCommand);\n        const dOriginal = svgPath(dataArray, lineCommand);\n        return { d, maxX, maxY, minY, dOriginal, dataMap };\n    }\n    return {};\n}\n\nconst initialState = {\n    mouseData: {},\n};\n\n@observer\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.svgRef = null;\n    }\n\n    mouseMove = (e) => {\n        if (this.props.stores) {\n            const { width = 600, height = 200 } = this.props;\n            const svgWidth = this.svgRef.clientWidth;\n            const svgHeight = this.svgRef.clientHeight;\n\n            const x = parseInt(normalizeRange(e.layerX, 30, svgWidth, 0, width), 10);\n            const y = parseInt(normalizeRange(e.layerY, 20, svgHeight, 0, height) + 20, 10);\n\n            const { appState } = this.props.stores;\n            appState.setMousePosition([x, y]);\n        }\n    };\n\n    getMouseData(dataMap, xPos, key, opt = { autoLimit: false, padding: 0 }) {\n        const { data = [], width = 600, height = 200 } = this.props;\n        const x = parseInt(normalizeRange(xPos, 0, width, 0, data.length), 10) + 1;\n\n        // const keys = Object.keys(dataMap);\n        // let x;\n        // for (let i = 0, l = keys.length; i < l; i += 1) {\n        //     const el = dataMap[keys[i]];\n        //     if (xPos === el.x) {\n        //         x = el.x;\n        //         break;  \n        //     }\n        // }\n\n        if (util.checkNested(dataMap, x, key)) {\n            // console.log(`dataMap[x]=${JSON.stringify(dataMap[x])}, xPos=${xPos}, x=${x}, key=${key}`);\n            let val = dataMap[x][key];\n            if (opt.autoLimit && key === 'y') {\n                if (val > height / 2) {\n                    return val - 70 - opt.padding;\n                }\n                return val + 20 - opt.padding;\n            }\n            if (opt.autoLimit && key === 'x') {\n                if (val > width / 2) {\n                    // console.log(`autoLimit=${autoLimit}, key=${key}, val=${val}, width=${width}`)\n                    return val - 160 - opt.padding;\n                }\n                return val + 20 - opt.padding;\n            }\n            return val;\n        }\n    }\n\n    componentDidMount() {\n        this.svgRef.addEventListener('mousemove', this.mouseMove);\n        // onMouseMove={this.mouseMove}\n    }\n\n    componentWillUnmount() {\n        this.svgRef.removeEventListener('mousemove', this.mouseMove);\n    }\n\n    render() {\n        const {\n            width = 600,\n            height = 200,\n            offsetY = 0,\n            paddingLeft = 0, // Make room for yTicks.\n            paddingBottom = 0, // Make room for xTicks.\n            tickCount = 6, // Number of ticks to show\n            showXTicks, // Show X ticks\n            showYTicks, // Show Y ticks\n            xTicks, // xTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicksPrefix,\n            yTicksPostfix,\n\n            yMax, // Y max value to use for yTicks\n            yMin, // Y min value to use for yTicks\n\n            showY2Ticks, // Show Y ticks\n            y2Ticks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            y2TicksPrefix,\n            y2TicksPostfix,\n            y2Max, // Y max value to use for y2Ticks\n            y2Min,\n\n            range2bMin,\n            range2bMax,\n\n            range2cMin,\n            range2cMax,\n\n            range2dMin,\n            range2dMax,\n\n            y3Min,\n            y3Max, // Y max value to use for yTicks3\n\n            range3Min,\n            range3Max,\n\n            legend,\n            legendB,\n            legendC,\n            legendD,\n            legend2,\n            legend2B,\n            legend2C,\n            legend2D,\n            legend3,\n\n            data = [],\n            dataB = [],\n            dataC = [],\n            dataD = [],\n            data2 = [],\n            data2B = [],\n            data2C = [],\n            data2D = [],\n            data3 = [],\n\n            marker,\n\n            unit,\n            unitB,\n            unitC,\n            unitD,\n            unit2,\n            unit2B,\n            unit2C,\n            unit2D,\n\n            avgWindow = 2,\n            avgWindowB = 2,\n            avgWindowC = 2,\n            avgWindowD = 2,\n            avgWindow2 = 2,\n            avgWindow2B = 2,\n            avgWindow2C = 2,\n            avgWindow2D = 2,\n            avgWindow3 = 2,\n\n            hoverVal = (val) => val,\n            hoverValB = (val) => val,\n            hoverValC = (val) => val,\n            hoverValD = (val) => val,\n            hoverVal2 = (val) => val,\n            hoverVal2B = (val) => val,\n            hoverVal2C = (val) => val,\n            hoverVal2D = (val) => val,\n        } = this.props;\n        const { appState = {} } = this.props.stores || {};\n        const { mousePos = [], darkmode } = appState;\n\n        const PADDING_LEFT = paddingLeft || (showYTicks ? 35 : 0);\n        const PADDING_BOTTOM = paddingBottom || (showXTicks ? 20 : 0);\n\n        const common = {\n            width,\n            height,\n            offsetY,\n        };\n\n        // console.table(xTicks);\n        // console.table(yTicks);\n        const dataMaxY = findMaxY({ data, max: yMax });\n        const dataBMaxY = findMaxY({ data: dataB, max: dataMaxY });\n        const MAX_Y = round5(dataBMaxY);\n\n        const dataMinY = findMinY({ data, min: yMin });\n        const dataBMinY = findMinY({ data: dataB, min: dataMinY });\n        const MIN_Y = round5(dataBMinY, true);\n\n        const dataMaxX = findMaxX({ data });\n        const dataBMaxX = findMaxX({ data: dataB, max: dataMaxX });\n        const dataCMaxX = findMaxX({ data: dataB, max: dataBMaxX });\n        const MAX_X = dataCMaxX;\n\n        const {\n            d,\n            dataMap,\n            dOriginal,\n        } = makePath({\n            ...common,\n            data,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            xMax: MAX_X,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow,\n        });\n\n        const { d: dB, dataMap: dataMapB } = makePath({\n            ...common,\n            data: dataB,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            xMax: MAX_X,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindowB,\n        });\n\n        const { d: dC, dataMap: dataMapC } = makePath({\n            ...common,\n            data: dataC,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            xMax: MAX_X,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindowC,\n        });\n\n        const { d: dD, dataMap: dataMapD } = makePath({\n            ...common,\n            data: dataD,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            xMax: MAX_X,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindowD,\n        });\n\n        const {\n            d: d2,\n            minY: MIN_Y2 = 0,\n            maxY: MAX_Y2 = 0,\n            dataMap: dataMap2,\n        } = makePath({\n            ...common,\n            data: data2,\n            yMin: y2Min,\n            yMax: y2Max,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindow2,\n        });\n\n        const { d: d2B, dataMap: dataMap2B } = makePath({\n            ...common,\n            data: data2B,\n            yMin: y2Min,\n            yMax: y2Max,\n            yRangeMin: range2bMin,\n            yRangeMax: range2bMax,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindow2B,\n        });\n\n        const { d: d2C, dataMap: dataMap2C } = makePath({\n            ...common,\n            data: data2C,\n            yMin: y2Min,\n            yMax: y2Max,\n            yRangeMin: range2cMin,\n            yRangeMax: range2cMax,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindow2C,\n        });\n\n        const { d: d2D, dataMap: dataMap2D } = makePath({\n            ...common,\n            data: data2D,\n            yMin: y2Min,\n            yMax: y2Max,\n            yRangeMin: range2dMin,\n            yRangeMax: range2dMax,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindow2D,\n        });\n\n        const { d: d3 } = makePath({\n            ...common,\n            data: data3,\n            yMin: y3Min,\n            yMax: y3Max,\n            yRangeMin: range3Min,\n            yRangeMax: range3Max,\n            maxMinFixed: true,\n            smooth: false,\n            avgWindow: avgWindow3,\n        });\n\n        const X_TICKS = parseTicks(xTicks) || getTicks(tickCount, 0, MAX_X);\n        const Y_TICKS = parseTicks(yTicks) || getTicks(tickCount, MIN_Y, MAX_Y, yTicksPrefix, yTicksPostfix).reverse();\n        const Y_TICKS2 = parseTicks(y2Ticks) || getTicks(tickCount, MIN_Y2, MAX_Y2, y2TicksPrefix, y2TicksPostfix).reverse();\n\n        return (\n            <div class={style.lineChart} style={`height: ${height}px; overflow: hidden;`}>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg} viewBox={`0 0 ${width} ${height}`}\n                    preserveAspectRatio='none'\n                    style={`padding-left: ${PADDING_LEFT}px; padding-bottom: ${PADDING_BOTTOM}px; width: calc(100%); max-height: 100%;`}\n                    ref={c => this.svgRef = c}\n                >\n                    {d3 && <path d={d3} class={style.path3} />}\n                    {d2D && <path d={d2D} class={style.path2D} />}\n                    {d2C && <path d={d2C} class={style.path2C} />}\n                    {d2B && <path d={d2B} class={style.path2B} />}\n                    {d2 && <path d={d2} class={style.path2} />}\n                    {dD && <path d={dD} class={style.pathD} />}\n                    {dB && <path d={dB} class={style.pathB} />}\n                    {dC && <path d={dC} class={style.pathC} />}\n                    {d && <path d={d} class={style.path} />}\n                    {dOriginal && <path d={dOriginal} class={style.pathOriginal} />}\n\n                    {/* {dCold && dCold.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathCold} />)};\n                    {dWarm && dWarm.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathWarm} />)}; */}\n\n                    {legend && <line x1='10' y1='5' x2='30' y2='5' class={style.path} />}\n                    {legend && <text x='35' y='10' font-size='10px' class={style.pathText}>{legend}</text>}\n                    {legendB && <line x1='10' y1='15' x2='30' y2='15' class={style.pathB} />}\n                    {legendB && <text x='35' y='20' font-size='10px' class={style.pathText}>{legendB}</text>}\n                    {legendC && <line x1='10' y1='25' x2='30' y2='25' class={style.pathC} />}\n                    {legendC && <text x='35' y='30' font-size='10px' class={style.pathText}>{legendC}</text>}\n                    {legendD && <line x1='10' y1='35' x2='30' y2='35' class={style.pathD} />}\n                    {legendD && <text x='35' y='40' font-size='10px' class={style.pathText}>{legendD}</text>}\n\n                    {legend2 && <line x1={width - 150} y1='5' x2={width - 130} y2='5' class={style.path2} />}\n                    {legend2 && <text x={width - 125} y='10' font-size='10px' class={style.pathText}>{legend2}</text>}\n                    {legend2B && <line x1={width - 150} y1='15' x2={width - 130} y2='15' class={style.path2B} />}\n                    {legend2B && <text x={width - 125} y='20' font-size='10px' class={style.pathText}>{legend2B}</text>}\n                    {legend2C && <line x1={width - 150} y1='25' x2={width - 130} y2='25' class={style.path2C} />}\n                    {legend2C && <text x={width - 125} y='30' font-size='10px' class={style.pathText}>{legend2C}</text>}\n                    {legend2D && <line x1={width - 150} y1='35' x2={width - 130} y2='35' class={style.path2C} />}\n                    {legend2D && <text x={width - 125} y='30' font-size='10px' class={style.pathText}>{legend2D}</text>}\n\n                    {legend3 && <line x1={width - 150} y1='25' x2={width - 130} y2='25' class={style.path3} />}\n                    {legend3 && <text x={width - 125} y='30' font-size='10px' class={style.pathText}>{legend3}</text>}\n\n                    {marker && <line x1={marker} y1={height} x2={marker} y2='0' class={style.marker} />}\n\n                    {mousePos && mousePos.length > 0 && <line x1={mousePos[0]} y1={height} x2={mousePos[0]} y2='0' class={style.mouseLine} />}\n\n                    {mousePos && mousePos.length > 0 && dataMap && util.isNumber(this.getMouseData(dataMap, mousePos[0], 'yVal')) && <line x1={0} y1={this.getMouseData(dataMap, mousePos[0], 'ySmooth')} x2={this.getMouseData(dataMap, mousePos[0], 'x', { maxX: MAX_X })} y2={this.getMouseData(dataMap, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.path}`} />}\n                    {mousePos && mousePos.length > 0 && dataMapB && util.isNumber(this.getMouseData(dataMapB, mousePos[0], 'yVal')) && <line x1={0} y1={this.getMouseData(dataMapB, mousePos[0], 'ySmooth')} x2={this.getMouseData(dataMapB, mousePos[0], 'x', { maxX: MAX_X })} y2={this.getMouseData(dataMapB, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.pathB}`} />}\n                    {mousePos && mousePos.length > 0 && dataMapC && util.isNumber(this.getMouseData(dataMapC, mousePos[0], 'yVal')) && <line x1={0} y1={this.getMouseData(dataMapC, mousePos[0], 'ySmooth')} x2={this.getMouseData(dataMapC, mousePos[0], 'x', { maxX: MAX_X })} y2={this.getMouseData(dataMapC, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.pathD}`} />}\n                    {mousePos && mousePos.length > 0 && dataMapD && util.isNumber(this.getMouseData(dataMapD, mousePos[0], 'yVal')) && <line x1={0} y1={this.getMouseData(dataMapD, mousePos[0], 'ySmooth')} x2={this.getMouseData(dataMapD, mousePos[0], 'x', { maxX: MAX_X })} y2={this.getMouseData(dataMapD, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.pathC}`} />}\n\n                    {mousePos && mousePos.length > 0 && dataMap2 && util.isNumber(this.getMouseData(dataMap2, mousePos[0], 'yVal')) && <line x1={this.getMouseData(dataMap2, mousePos[0], 'x', { maxX: MAX_X })} y1={this.getMouseData(dataMap2, mousePos[0], 'ySmooth')} x2={width} y2={this.getMouseData(dataMap2, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.path2}`} />}\n                    {mousePos && mousePos.length > 0 && dataMap2B && util.isNumber(this.getMouseData(dataMap2B, mousePos[0], 'yVal')) && <line x1={this.getMouseData(dataMap2B, mousePos[0], 'x', { maxX: MAX_X })} y1={this.getMouseData(dataMap2B, mousePos[0], 'ySmooth')} x2={width} y2={this.getMouseData(dataMap2B, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.path2B}`} />}\n                    {mousePos && mousePos.length > 0 && dataMap2C && util.isNumber(this.getMouseData(dataMap2C, mousePos[0], 'yVal')) && <line x1={this.getMouseData(dataMap2C, mousePos[0], 'x', { maxX: MAX_X })} y1={this.getMouseData(dataMap2C, mousePos[0], 'ySmooth')} x2={width} y2={this.getMouseData(dataMap2C, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.path2D}`} />}\n                    {mousePos && mousePos.length > 0 && dataMap2D && util.isNumber(this.getMouseData(dataMap2D, mousePos[0], 'yVal')) && <line x1={this.getMouseData(dataMap2D, mousePos[0], 'x', { maxX: MAX_X })} y1={this.getMouseData(dataMap2D, mousePos[0], 'ySmooth')} x2={width} y2={this.getMouseData(dataMap2D, mousePos[0], 'ySmooth')} class={`${style.mouseLine} ${style.path2C}`} />}\n                    \n                    {mousePos && mousePos.length > 0 && dataMap && util.isNumber(this.getMouseData(dataMap, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMap, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMap, mousePos[0], 'ySmooth')} r='5' class={style.path} />}\n                    {mousePos && mousePos.length > 0 && dataMapB && util.isNumber(this.getMouseData(dataMapB, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMapB, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMapB, mousePos[0], 'ySmooth')} r='5' class={style.pathB} />}\n                    {mousePos && mousePos.length > 0 && dataMapC && util.isNumber(this.getMouseData(dataMapC, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMapC, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMapC, mousePos[0], 'ySmooth')} r='5' class={style.pathC} />}\n                    {mousePos && mousePos.length > 0 && dataMapD && util.isNumber(this.getMouseData(dataMapD, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMapD, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMapD, mousePos[0], 'ySmooth')} r='5' class={style.pathD} />}\n\n                    {mousePos && mousePos.length > 0 && dataMap2 && util.isNumber(this.getMouseData(dataMap2, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMap2, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMap2, mousePos[0], 'ySmooth')} r='5' class={style.path2} />}\n                    {mousePos && mousePos.length > 0 && dataMap2B && util.isNumber(this.getMouseData(dataMap2B, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMap2B, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMap2B, mousePos[0], 'ySmooth')} r='5' class={style.path2B} />}\n                    {mousePos && mousePos.length > 0 && dataMap2C && util.isNumber(this.getMouseData(dataMap2C, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMap2C, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMap2C, mousePos[0], 'ySmooth')} r='5' class={style.path2C} />}\n                    {mousePos && mousePos.length > 0 && dataMap2D && util.isNumber(this.getMouseData(dataMap2D, mousePos[0], 'yVal')) && <circle cx={this.getMouseData(dataMap2D, mousePos[0], 'x', { maxX: MAX_X })} cy={this.getMouseData(dataMap2D, mousePos[0], 'ySmooth')} r='5' class={style.path2D} />}\n\n                    {mousePos && mousePos.length > 0 && <rect x={this.getMouseData(dataMap, mousePos[0], 'x', { autoLimit: true, padding: 10, maxX: MAX_X })} y={this.getMouseData(dataMap, mousePos[0], 'y', { autoLimit: true, padding: 10 })} width='160' height='80' rx='5' ry='5' class={style.mouseHoverBox} />}\n                    {mousePos && mousePos.length > 0 \n                        && <text x={this.getMouseData(dataMap, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} y={this.getMouseData(dataMap, mousePos[0], 'y', { autoLimit: true, padding: 0 })} \n                            font-size='11px'\n                            class={darkmode ? style.mouseHoverDarkmode : style.mouseHover}\n                        >\n                            {d && dataMap && util.isNumber(this.getMouseData(dataMap, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMap, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.path}>--</tspan> {legend}: {hoverVal(this.getMouseData(dataMap, mousePos[0], 'yVal'))} {unit}\n                            </tspan>}\n                            {dB && dataMapB && util.isNumber(this.getMouseData(dataMapB, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMapB, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.pathB}>--</tspan> {legendB}: {hoverValB(this.getMouseData(dataMapB, mousePos[0], 'yVal'))} {unitB || unit}\n                            </tspan>}\n                            {dC && dataMapC && util.isNumber(this.getMouseData(dataMapC, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMapC, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.pathC}>--</tspan> {legendC}: {hoverValC(this.getMouseData(dataMapC, mousePos[0], 'yVal'))} {unitC || unit}\n                            </tspan>}\n                            {dD && dataMapD && util.isNumber(this.getMouseData(dataMapD, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMapD, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.pathD}>--</tspan> {legendD}: {hoverValD(this.getMouseData(dataMapD, mousePos[0], 'yVal'))} {unitD || unit}\n                            </tspan>}\n                            {d2 && dataMap2 && util.isNumber(this.getMouseData(dataMap2, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMap2, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.path2}>--</tspan> {legend2}: {hoverVal2(this.getMouseData(dataMap2, mousePos[0], 'yVal'))} {unit2}\n                            </tspan>}\n                            {d2B && dataMap2B && util.isNumber(this.getMouseData(dataMap2B, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMap2B, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.path2B}>--</tspan> {legend2B}: {hoverVal2B(this.getMouseData(dataMap2B, mousePos[0], 'yVal'))} {unit2B || unit2}\n                            </tspan>}\n                            {d2C && dataMap2C && util.isNumber(this.getMouseData(dataMap2C, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMap2C, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.path2C}>--</tspan> {legend2C}: {hoverVal2C(this.getMouseData(dataMap2C, mousePos[0], 'yVal'))} {unit2C || unit2}\n                            </tspan>}\n                            {d2D && dataMap2D && util.isNumber(this.getMouseData(dataMap2D, mousePos[0], 'yVal')) && <tspan x={this.getMouseData(dataMap2D, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })} dy='1.2em'>\n                                <tspan class={style.path2D}>--</tspan> {legend2D}: {hoverVal2D(this.getMouseData(dataMap2D, mousePos[0], 'yVal'))} {unit2D || unit2}\n                            </tspan>}\n\n                        </text>}\n                </svg>\n                {showXTicks && (\n                    <div class={style['x-axis']}\n                        style={{\n                            left: `${PADDING_LEFT}px`,\n                            width: `calc(100% - ${PADDING_LEFT}px)`,\n                        }}\n                    >\n                        {X_TICKS.map(v => <div data-value={transformXTick(v)} />)}\n                    </div>\n                )}\n                {showYTicks && (\n                    <div\n                        class={style['y-axis']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n                {showY2Ticks && (\n                    <div\n                        class={style['y-axis2']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS2.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default LineChart;\n","import util from 'preact-util';\n\nclass WifetUtil {\n    static normalizeRange(val, min, max, newMin, newMax) {\n        return newMin + (val - min) * (newMax - newMin) / (max - min);\n    }\n\n    /**\n    * Returns a random number between min (inclusive) and max (exclusive)\n    */\n    static getRandom(min, max) {\n        return Math.random() * (max - min) + min;\n}\n\n    /**\n    * Returns a random integer between min (inclusive) and max (inclusive).\n    * The value is no lower than min (or the next integer greater than min\n    * if min isn't an integer) and no greater than max (or the next integer\n    * lower than max if max isn't an integer).\n    * Using Math.round() will give you a non-uniform distribution!\n    */\n    static getRandomInt(min, max) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    static makeRandomData({ cnt = 200, min, max, onlyUp = false, inputData = [], diff = 5, maxSkew = 1, rangeMin, rangeMax, cutoff }) {\n        const data = [];\n        let current = 0;\n        let skew = 0;\n        for (let i = 0, l = cnt; i < l; i += 1) {\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y)) {\n                skew = WifetUtil.getRandomInt(skew - diff, skew + diff);\n                current = inputData[i].y + skew;\n                if (Math.abs(skew) > maxSkew) { skew -= skew / 2; }\n            } else if (util.isUndefined(current)) {\n                current = WifetUtil.getRandomInt(min, max);\n            } else if (onlyUp) {\n                current = WifetUtil.getRandomInt(current, current + diff);\n            } else {\n                // console.log('current - diff, current + diff', current - diff, current + diff);\n                current = WifetUtil.getRandomInt(current - diff, current + diff);\n                // console.log('===> ', current);\n            }\n            if (current < min) {\n                current = min;\n            }\n            if (current > max) {\n                current = max;\n            }\n            if (rangeMin && rangeMax) {\n                current = WifetUtil.normalizeRange(current, min, max, rangeMin, rangeMax);\n            }\n            // console.log('current', current);\n            if (cutoff && i > cutoff) {\n                data.push({ x: i, y: null })\n            } else {\n                data.push({ x: i, y: current })\n            }\n        }\n        return data;\n    }\n\n    static addPercent(inputData = [], percent = 10, $max = 0, min = 0) {\n        let max = $max;\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y) && inputData[i].y > max) {\n                max = inputData[i].y;\n            }\n        }\n        const data = [];\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y)) {\n                const val = inputData[i].y;\n                let newVal = val + (percent * max / 100);\n                if (newVal < min) {\n                    newVal = min;\n                }\n                data.push({\n                    x: i,\n                    y: val === null ? val : newVal,\n                });\n            }\n        }\n        return data;\n    }\n\n    static calcData(inputData = [], fn = () => {}, opts = {}) {\n        const data = [];\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            let newVal = 0;\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y)) {\n                const val = inputData[i].y;\n                newVal = fn(val, i, opts);\n            }\n            data.push({\n                x: i,\n                y: newVal,\n            });\n        }\n        return data;\n    }\n\n    static calcProductionData(windspeed, idx, opts) {\n        if (windspeed === null) {\n            return null;\n        }\n        const MAX_EFFICIENCY = 12;\n        const CUT_OFF_WS = 23;\n        const maxEffect = Math.pow(12, 3);\n        let ws = windspeed\n        if (windspeed > CUT_OFF_WS) {\n            ws = 0;\n        } else if (windspeed > MAX_EFFICIENCY) {\n            ws = MAX_EFFICIENCY;\n        }\n        const result = Math.round(Math.pow(ws, 3));\n\n        if (util.isDefined(opts.min) && util.isDefined(opts.max)) {\n            return Math.round(WifetUtil.normalizeRange(result, 0, maxEffect, opts.min, opts.max));\n        }\n        return Math.round(result);\n    }\n\n    static calcProductionDataNOK(Mw, idx, opts) {\n        if (Mw === null) {\n            return null;\n        }\n        if (util.isDefined(opts.priceData[idx]) && util.isDefined(opts.priceData[idx].y)) {\n            const result = Math.round(Mw * opts.priceData[idx].y);\n            return result;\n        }\n        return 0;\n    }\n}\n\nexport default WifetUtil;\n"],"sourceRoot":""}