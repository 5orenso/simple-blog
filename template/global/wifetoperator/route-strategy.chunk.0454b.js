(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{uO3H:function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var o,a=n("hosL"),s=n("/eY4"),c=n("Utv1"),p=n("wgWz"),l=n("bbv7"),d={},u=Object(s.a)(o=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWindpark=function(t){n.props.stores.windmillStore.setCurrentWindparkName(t.target.dataset.windpark),n.loadAll()},n.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},d),n}var n,o;o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=e.prototype;return s.loadAll=function(){return new Promise(function(t,e){var n,r,i,o,a,s,c,l,d,u,h,f;return i=(n=this.props.stores).weatherYrStore,o=n.productionStore,a=n.priceStore,s=n.demandStore,c=(r=n.windmillStore).currentWindparkName,l=r.windparkCapacity,d=p.a.getDateDiffTime(-4),u=p.a.getDateDiffTime(10),h=Math.floor((new Date).getTime()/1e3),this.setState({now:h,xMin:d,xMax:u}),Promise.resolve(this.loadYrData()).then(function(){try{return Promise.resolve(this.loadOpenData()).then((function(){try{return f=i.getWindSpeeds(c),a.generateData(),o.generateData(f,a.prices,l),s.generateData(),t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},s.loadYrData=function(){return new Promise(function(t,e){var n,r,i;return(r=(n=this.props.stores).weatherYrStore).updateQueryFilter({name:(i=n.windmillStore.currentWindpark).name,altitude:i.position.altitude,lat:i.position.lat,lon:i.position.lon}),Promise.resolve(r.load()).then(t,e)}.bind(this))},s.loadOpenData=function(){return new Promise(function(t,e){var n,r,i;return(r=(n=this.props.stores).weatherOpenStore).updateQueryFilter({name:(i=n.windmillStore.currentWindpark).name,lat:i.position.lat,lon:i.position.lon}),Promise.resolve(r.load()).then(t,e)}.bind(this))},s.componentDidMount=function(){this.loadAll()},s.render=function(){var t=this,e=this.state,n=e.now,r=e.xMin,i=e.xMax,o=this.props.stores,s=o.windmillStore,p=o.productionStore,d=o.demandStore,u=d.demands,h=d.demandAi,f=s.windparks,m=s.currentWindparkName,w=s.windparkCapacity,b=s.windparkMaxCapacity,g=w/b*100,O=p.productionData,v=p.productionBoostData,y=p.productionLongLifeData;return Object(a.h)("div",{class:"container-fluid mt-5 pt-2"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-4"},Object(a.h)("h1",null,Object(a.h)("i",{class:"fas fa-chess-knight"})," Strategy - ",m),Object(a.h)("span",{class:"text-muted"},"Running at")," ",c.a.format(g,1),"%",Object(a.h)("span",{class:"text-muted"},", ",w,"/",b," Mw")),Object(a.h)("div",{class:"col-8 pt-2"},Object(a.h)("ul",{class:"nav nav-pills float-right"},f&&f.map((function(e){return Object(a.h)("li",{class:"nav-item"},Object(a.h)("button",{class:"btn btn-link nav-link "+(e.name===m?"active":""),onClick:t.setWindpark,"data-windpark":e.name},e.name))})))),Object(a.h)("div",{class:"col-12"},Object(a.h)(l.a,{stores:this.props.stores,width:1200,height:500,showXTicks:1,xTicksVal:function(t){return c.a.isoDate(t)},xMin:r,xMax:i,paddingTop:30,dataLeft:[u,h],legendLeft:["Demand","Demand AI prediction"],yMaxLeft:4e3,yMinLeft:0,showYTicksLeft:1,yTicksLeft:["4TW","3TW","2TW","1TW","0TW"],unitLeft:["Mw","Mw"],avgWindowLeft:[2,2],smoothLeft:[1,1],dataRight:[O,v,y],legendRight:["Normal production","Boost 10%","Long life -5%"],yMaxRight:4e3,yMinRight:0,showYTicksRight:1,yTicksRight:["4TW","3TW","2TW","1TW","0TW"],unitRight:["Mw"],avgWindowRight:[1,1,1],smoothRight:[1,1,1],marker:n}))))},e}(a.Component))||o;e.default=u}}]);
//# sourceMappingURL=route-strategy.chunk.0454b.js.map