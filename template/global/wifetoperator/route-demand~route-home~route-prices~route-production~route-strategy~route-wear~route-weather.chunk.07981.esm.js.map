{"version":3,"sources":["webpack:///./components/lineGraph/style.css","webpack:///./components/lineGraph/index.js"],"names":["module","exports","getTicks","count","min","max","reverse","prefix","postfix","loop","Array","from","keys","range","Math","ceil","floor","map","d","parseInt","transformXTick","tick","fn","util","isFunction","match","msDiff","replace","now","epoch","isoDate","transformYTick","normalizeRange","val","newMin","newMax","round5","x","roundDown","sign","abs","findMinY","data","values","arr","isArray","isNumber","y","findMaxY","controlPoint","current","previous","next","o","pointA","pointB","lengthX","lengthY","length","sqrt","pow","angle","atan2","lineProperties","PI","cos","sin","bezierCommand","point","i","a","cpsX","cpsY","cpeX","cpeY","lineCommand","svgPath","points","command","opts","maxX","firstPoint","height","lastPoint","dPrefix","dPostfix","lineFromXzero","lineFromXmax","width","reduce","acc","makePaths","idx","yMin","yMax","xMin","xMax","yRangeMin","yRangeMax","offsetY","maxMinFixed","smooth","avgWindow","dataMap","minX","minY","maxY","realHeight","fnX","dataVal","round","isDefined","xVal","fnY","yVal","dataArray","p","filter","e","finalDataArray","windowSize","getter","value","setter","get","result","leftOffeset","to","sum","j","smoothValues","l","ySmooth","dOriginal","makePath","undefined","avgWindowLeft","avgWindowRight","smoothLeft","smoothRight","initialState","mouseData","LineChart","observer","Component","constructor","props","super","mouseMove","this","stores","getCoordsWithPadding","layerX","layerY","appState","setMousePosition","state","svgRef","paddingLeft","paddingTop","paddingBottom","showYTicksLeft","showXTicks","PADDING_TOP","PADDING_BOTTOM","svgHeight","clientHeight","clientWidth","getMouseCoordX","xPos","getCoordX","getTextBoxX","mousePos","align","subtractPadding","pos","getMouseData","key","opt","autoLimit","padding","isObject","dataMapCurrent","Object","rest","resto","componentDidMount","showValueLeftLine","showValueRightLine","addEventListener","componentWillUnmount","removeEventListener","render","paddingRight","tickCount","showYTicksRight","xTicks","xTicksVal","yTicksLeft","yTicksLeftVal","yTicksLeftPrefix","yTicksLeftPostfix","yTicksRight","yTicksRightVal","yTicksRightPrefix","yTicksRightPostfix","yMaxLeft","yMinLeft","yMaxRight","yMinRight","rangeMinLeft","rangeMaxLeft","rangeMinRight","rangeMaxRight","dataLeft","dataRight","legendLeft","legendRight","unitLeft","unitRight","hoverValLeft","hoverValRight","marker","markers","darkmode","PADDING_LEFT","common","MIN_Y_LEFT","MAX_Y_LEFT","MIN_Y_RIGHT","MAX_Y_RIGHT","MIN_X","findMinX","concat","MAX_X","findMaxX","pathLeft","pathRight","TOTAL_GRAPHS_LEFT","TOTAL_GRAPHS_RIGHT","TOTAL_GRAPHS","X_TICKS","Y_TICKS_LEFT","Y_TICKS_RIGHT","markerX","class","style","lineChart","xmlns","svg","viewBox","preserveAspectRatio","ref","c","path","fill-rule","x1","x2","y1","y2","mouseLine","legend","font-size","pathText","m","mX","rx","ry","mouseHoverBox","mouseHoverDarkmode","mouseHover","hoverVal","dy","text-anchor","left","v","data-value","top","bottom"],"mappings":"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","file":"route-demand~route-home~route-prices~route-production~route-strategy~route-wear~route-weather.chunk.07981.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineChart\":\"lineChart__1V7gu\",\"svg\":\"svg__2VZNe\",\"pathText\":\"pathText__2RfbE\",\"pathOriginal\":\"pathOriginal__9eH9i\",\"pathLeft0\":\"pathLeft0__3tOjN\",\"pathLeft1\":\"pathLeft1__3XeI-\",\"pathLeft2\":\"pathLeft2__Jskj_\",\"pathLeft3\":\"pathLeft3__vtNwg\",\"pathLeft4\":\"pathLeft4__ZfOXV\",\"pathLeft5\":\"pathLeft5__1V5kT\",\"pathLeft6\":\"pathLeft6__3g2rw\",\"pathLeft7\":\"pathLeft7__2aVhq\",\"pathLeft8\":\"pathLeft8__3LkIB\",\"pathLeft9\":\"pathLeft9__1eWVE\",\"pathRight0\":\"pathRight0__3sPo3\",\"pathRight1\":\"pathRight1__16EJJ\",\"pathRight2\":\"pathRight2__1giMc\",\"pathRight3\":\"pathRight3__yhWxI\",\"pathRight4\":\"pathRight4__3M2kd\",\"pathRight5\":\"pathRight5__1IsUE\",\"x-axis\":\"x-axis__1601s\",\"y-axis-left\":\"y-axis-left__3tpCF\",\"y-axis-right\":\"y-axis-right__3gWmK\",\"marker\":\"marker__2peOe\",\"markers\":\"markers__2lso3\",\"mouseHover\":\"mouseHover__2B4N6\",\"mouseHoverDarkmode\":\"mouseHoverDarkmode__3VPOP\",\"mouseHoverBox\":\"mouseHoverBox__3fJuY\",\"mouseLine\":\"mouseLine__1cdau\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport style from './style.css';\n\nconst TEXT_BOX_PADDING_X = 10;\nconst TEXT_PADDING_X = 20;\n\nfunction getTicks(count, min, max, reverse = false, prefix = '', postfix = '') {\n    let loop = Array.from(Array(count).keys());\n    if (reverse) {\n        loop = loop.reverse();\n    }\n    const range = Math.ceil(max) - Math.floor(min);\n    if (prefix === '' && postfix === '') {\n        return loop.map(d => parseInt((range / (count - 1) * d), 10) + Math.floor(min));\n    }\n    return loop.map(d => `${prefix}${parseInt((range / (count - 1) * d), 10) + Math.floor(min)}${postfix}`);\n}\n\nfunction transformXTick(tick, fn) {\n    if (util.isFunction(fn)) {\n        return fn(tick);\n    }\n    if (typeof tick === 'string') {\n        if (tick.match(/\\d+h/)) {\n            const msDiff = tick.replace(/h/g, '') * 3600 * 1000;\n            const now = util.epoch();\n            const then = now - msDiff;\n            return util.isoDate(then);\n        }\n    }\n    return tick;\n}\n\nfunction transformYTick(tick, fn) {\n    if (util.isFunction(fn)) {\n        return fn(tick);\n    }\n    return tick;\n}\n\nfunction normalizeRange(val, min, max, newMin, newMax) {\n    return newMin + (val - min) * (newMax - newMin) / (max - min);\n}\n\nfunction round5(x, roundDown = false) {\n    let sign = 1;\n    if (x < 0) {\n        sign = -1;\n    }\n    if (roundDown && sign === 1) {\n        return Math.floor(Math.abs(x) / 5) * 5 * sign;\n    }\n    return Math.ceil(Math.abs(x) / 5) * 5 * sign;\n}\n\nfunction findMinX({ data, min }) {\n    const values = data.map((arr) => {\n        if (util.isArray(arr)) {\n            if (util.isNumber(min)) {\n                return Math.min(min, ...arr.map(d => d.x));\n            }\n            return Math.min(...arr.map(d => d.x));\n        }\n    });\n    return Math.min(...values);\n}\n\nfunction findMaxX({ data, max }) {\n    const values = data.map((arr) => {\n        if (util.isArray(arr)) {\n            if (util.isNumber(max)) {\n                return Math.max(max, ...arr.map(d => d.x));\n            }\n            return Math.max(...arr.map(d => d.x));\n        }\n    });\n    return Math.max(...values);\n}\n\nfunction findMinY({ data, min }) {\n    const values = data.map((arr) => {\n        if (util.isArray(arr)) {\n            if (util.isNumber(min)) {\n                return Math.min(min, ...arr.map(d => d.y));\n            }\n            return Math.min(...arr.map(d => d.y));\n        }\n    });\n    return Math.min(...values);\n}\n\nfunction findMaxY({ data, max }) {\n    const values = data.map((arr) => {\n        // console.log(arr);\n        if (util.isArray(arr)) {\n            if (util.isNumber(max)) {\n                return Math.max(max, ...arr.map(d => d.y));\n            }\n            return Math.max(...arr.map(d => d.y));\n        }\n    });\n    return Math.max(...values);\n}\n\nfunction smoothValues(arr, windowSize = 2, getter = (value) => value, setter) {\n    const get = getter\n    const result = []\n    for (let i = 0; i < arr.length; i += 1) {\n        const leftOffeset = i - windowSize\n        const from = leftOffeset >= 0 ? leftOffeset : 0\n        const to = i + windowSize + 1\n        let count = 0\n        let sum = 0\n        for (let j = from; j < to && j < arr.length; j += 1) {\n            sum += get(arr[j])\n            count += 1\n        }\n        result[i] = setter ? setter(arr[i], sum / count) : sum / count\n    }\n    return result\n}\n\n\n// Properties of a line \n// I:  - pointA (array) [x,y]: coordinates\n//     - pointB (array) [x,y]: coordinates\n// O:  - (object) { length: l, angle: a }: properties of the line\nfunction lineProperties(pointA, pointB) {\n    const lengthX = pointB[0] - pointA[0];\n    const lengthY = pointB[1] - pointA[1];\n    return {\n        length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n        angle: Math.atan2(lengthY, lengthX),\n    };\n}\n\n// Position of a control point \n// I:  - current (array) [x, y]: current point coordinates\n//     - previous (array) [x, y]: previous point coordinates\n//     - next (array) [x, y]: next point coordinates\n//     - reverse (boolean, optional): sets the direction\n// O:  - (array) [x,y]: a tuple of coordinates\nfunction controlPoint(current, previous, next, reverse) {\n    // When 'current' is the first or last point of the array\n    // 'previous' or 'next' don't exist.\n    // Replace with 'current'\n    const p = previous || current;\n    const n = next || current;\n    \n    // The smoothing ratio\n    const smoothing = 0.2;\n    \n    // Properties of the opposed-line\n    const o = lineProperties(p, n);\n    \n    // If is end-control-point, add PI to the angle to go backward\n    const angle = o.angle + (reverse ? Math.PI : 0);\n    const length = o.length * smoothing;\n    \n    // The control point position is relative to the current point\n    const x = current[0] + Math.cos(angle) * length;\n    const y = current[1] + Math.sin(angle) * length;\n    return [x, y]\n}\n\n// Create the bezier curve command \n// I:  - point (array) [x,y]: current point coordinates\n//     - i (integer): index of 'point' in the array 'a'\n//     - a (array): complete array of points coordinates\n// O:  - (string) 'C x2,y2 x1,y1 x,y': SVG cubic bezier C command\nfunction bezierCommand(point, i, a) {\n    // start control point\n    const [cpsX, cpsY] = controlPoint(a[i - 1], a[i - 2], point)  // end control point\n    const [cpeX, cpeY] = controlPoint(point, a[i - 1], a[i + 1], true);\n    return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${point[0]},${point[1]}`\n}\n\n// Svg path line command\n// I:  - point (array) [x, y]: coordinates\n// O:  - (string) 'L x,y': svg line command\nfunction lineCommand(point) {\n    if (point[1] === null) {\n        return `M ${point[0]} ${point[1]}`;\n    }\n    return `L ${point[0]} ${point[1]}`;\n}\n\n// Render the svg <path> element \n// I:  - points (array): points coordinates\n//     - command (function)\n//       I:  - point (array) [x,y]: current point coordinates\n//           - i (integer): index of 'point' in the array 'a'\n//           - a (array): complete array of points coordinates\n//       O:  - (string) a svg path command\n// O:  - (string): a Svg <path> element\nfunction svgPath(points, command, opts = {}) {\n    // build the d attributes by looping over the points\n    const maxX = Math.max(...points.map(d => d[0]));\n    const minX = Math.min(...points.map(d => d[0]));\n    const firstPoint = points[0] || [[0, opts.height]];\n    const lastPoint = points[points.length - 1] || [[maxX, opts.height]];\n\n    let dPrefix;\n    if (opts.lineFromXzero) {\n        dPrefix = `M ${0},${opts.height} L ${firstPoint[0] - 20},${opts.height - 1}`;\n    } else {\n        dPrefix = `M ${firstPoint[0]},${firstPoint[1]} L ${firstPoint[0]},${firstPoint[1]}`;\n    }\n    let dPostfix;\n    if (opts.lineFromXmax) {\n        dPostfix = `L ${lastPoint[0] + 10},${opts.height} L ${opts.width},${opts.height - 1}`;\n    } else {\n        dPostfix = `L ${lastPoint[0]},${lastPoint[1]} L ${lastPoint[0]},${lastPoint[1]}`;\n    }\n\n    const d = points.reduce((acc, point, i, a) => i === 0\n        // if first point\n        ? `L ${point[0]},${point[1]}`\n        // else\n        : `${acc} ${command(point, i, a)}`\n    , '');\n    \n    return `${dPrefix} ${d} ${dPostfix}`;\n}\n\nfunction makePaths(opts) {\n    return opts.data.map((d, idx) => makePath({\n        ...opts,\n        data: d,\n        yRangeMin: util.isArray(opts.yRangeMin) ? opts.yRangeMin[idx] : undefined,\n        yRangeMax: util.isArray(opts.yRangeMax) ? opts.yRangeMax[idx] : undefined,\n        avgWindow: util.isArray(opts.avgWindowLeft) ? opts.avgWindowLeft[idx] : (util.isArray(opts.avgWindowRight) ? opts.avgWindowRight[idx] : undefined),\n        smooth: util.isArray(opts.smoothLeft) ? opts.smoothLeft[idx] : (util.isArray(opts.smoothRight) ? opts.smoothRight[idx] : undefined),\n    }));\n}\n\nfunction makePath({ data, yMin, yMax, xMin, xMax, width, height, yRangeMin, yRangeMax, offsetY = 0, maxMinFixed = false, smooth = false, avgWindow = 0 }) {\n    const dataMap = {};\n    if (data && data.length) {\n        const maxX = xMax || Math.max(...data.map(d => d.x));\n        const minX = xMin || Math.min(...data.map(d => d.x));\n\n        let minY;\n        let maxY;\n        if (maxMinFixed) {\n            minY = util.isNumber(yMin) ? yMin : findMinY({ data });\n        } else {\n            minY = util.isNumber(yMin) ? findMinY({ data, min: yMin }) : findMinY({ data });\n            minY = round5(minY, true);\n        }\n        if (maxMinFixed) {\n            maxY = util.isNumber(yMax) ? yMax : findMaxY({ data });\n        } else {\n            maxY = util.isNumber(yMax) ? findMaxY({ data, max: yMax }) : findMaxY({ data });\n            maxY = round5(maxY);\n        }\n\n        const realHeight = height;\n        const fnX = (val, idx) => {\n            if (val === -1) {\n                return -1;\n            }\n\n            const dataVal = normalizeRange(val, minX, maxX, minX, maxX);\n            const x = Math.round(normalizeRange(dataVal, minX, maxX, 0, width));\n            // const x = Math.round(val / maxX * width);\n            if (util.isDefined(idx)) {\n                if (!dataMap[idx]) {\n                    dataMap[idx] = {};\n                }\n                dataMap[idx].x = x;\n                dataMap[idx].xVal = val;\n            }\n            return x;\n        }\n\n        const fnY = (val, idx) => {\n            if (val === -1) {\n                return height;\n            }\n            let dataVal = val;\n            if (util.isNumber(yRangeMin) && util.isNumber(yRangeMax)) {\n                dataVal = normalizeRange(dataVal, minY, maxY, yRangeMin, yRangeMax);\n                return realHeight - normalizeRange(dataVal, yRangeMin, yRangeMax, 0, height - offsetY);\n            }\n            if (dataVal === null) {\n                return null;\n            }\n            dataVal = normalizeRange(dataVal, minY, maxY, minY, maxY);\n            const y = Math.round(realHeight - normalizeRange(dataVal, minY, maxY, 0, height - offsetY));\n            if (util.isDefined(idx)) {\n                if (!dataMap[idx]) { dataMap[idx] = {}; }\n                dataMap[idx].y = y;\n                dataMap[idx].yVal = dataVal;\n            }\n            return y;\n        };\n\n        const dataArray = data.map((p, idx) => [fnX(p.x, idx + 1), fnY(p.y, idx + 1)]).filter(e => e[1] !== null);\n        const finalDataArray = avgWindow > 0 ? smoothValues(dataArray, avgWindow, (e) => e[1], (e, val) => [e[0], val]) : dataArray;\n        for (let i = 0, l = finalDataArray.length; i < l; i += 1) {\n            if (util.isDefined(dataMap[i])) {\n                dataMap[i + 1].ySmooth = finalDataArray[i][1];\n            }\n        }\n\n        const d = svgPath(finalDataArray, smooth ? bezierCommand : lineCommand, { height, width });\n        const dOriginal = svgPath(dataArray, lineCommand, { height });\n        return { d, maxX, maxY, minY, dOriginal, dataMap };\n    }\n    return {};\n}\n\nconst initialState = {\n    mouseData: {},\n};\n\n@observer\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.svgRef = null;\n    }\n\n    mouseMove = (e) => {\n        if (this.props.stores) {\n            const { x, y } = this.getCoordsWithPadding(e.layerX, e.layerY);\n            const { appState } = this.props.stores;\n            appState.setMousePosition([x, y]);\n        }\n    };\n\n    getCoordsWithPadding(xVal, yVal) {\n        if (!this.svgRef) {\n            return {};\n        }\n\n        const {\n            width = 600,\n            height = 200,\n            paddingLeft,\n            // paddingRight,\n            paddingTop,\n            paddingBottom,\n            showYTicksLeft,\n            // showYTicksRight,\n            showXTicks,\n        } = this.props;\n\n        const PADDING_LEFT = paddingLeft || (showYTicksLeft ? 35 : 0);\n        const PADDING_RIGHT = 0; //paddingRight || (showYTicksRight ? 35 : 0);\n        const PADDING_TOP = paddingTop;\n        const PADDING_BOTTOM = paddingBottom || (showXTicks ? 20 : 0);\n        // console.log({ PADDING_LEFT, PADDING_RIGHT, PADDING_TOP, PADDING_BOTTOM });\n\n        const svgWidth = this.svgRef.clientWidth;\n        const svgHeight = this.svgRef.clientHeight;\n\n        const x = parseInt(normalizeRange(xVal, PADDING_LEFT, svgWidth, PADDING_RIGHT, width), 10);\n        const y = parseInt(normalizeRange(yVal, PADDING_TOP, svgHeight, PADDING_BOTTOM, height), 10);\n\n        return { x, y };\n    }\n\n    getMouseCoordX(maxX, xPos) {\n        const { width = 600 } = this.props;\n        return parseInt(normalizeRange(xPos, 0, width, 0, maxX), 10) + 1;\n    }\n\n    getCoordX(minX, maxX, x) {\n        const { width = 600 } = this.props;\n        return normalizeRange(x, minX, maxX, 0, width);\n    }\n\n    getTextBoxX(mousePos, align, subtractPadding = 0) {\n        const RIGHT_TEXT_OFFSET = 150;\n        const LEFT_SIDE_OF_MOUSE_LINE = 180;\n        const { width = 600 } = this.props;\n\n        const pos = (mousePos / width * 100) > 75 ? mousePos - LEFT_SIDE_OF_MOUSE_LINE : mousePos;\n        if (align === 'right') {\n            return pos + TEXT_PADDING_X - subtractPadding + RIGHT_TEXT_OFFSET;\n        }\n        return pos + TEXT_PADDING_X - subtractPadding;\n    }\n\n    getMouseData(minX, maxX, dataMap, xPos, key, opt = { autoLimit: false, padding: 0 }) {\n        const { width = 600 } = this.props;\n        const x = parseInt(normalizeRange(xPos, 0, width, minX, maxX), 10) + 1;\n        if (!util.isObject(dataMap)) {\n            return null;\n        }\n        // Find closest value to current mouse position.\n        const dataMapArr = Object.values(dataMap);\n        const dataMapCurrent = dataMapArr.reduce(({ xVal, ...resto }, { xVal: a, ...rest }) =>\n            Math.abs(x - a) < Math.abs(x - xVal) ? { xVal: a, ...rest } : { xVal, ...resto }\n        );\n\n\n        if (util.isObject(dataMapCurrent)) {\n            if (!key) {\n                return dataMapCurrent;\n            }\n            // if (opt.autoLimit && key === 'y') {\n            //     const val = dataMapCurrent.yVal;\n            //     if (val > height / 2) {\n            //         return val - 70 - opt.padding;\n            //     }\n            //     return val + 20 - opt.padding;\n            // }\n            // if (opt.autoLimit && key === 'x') {\n            //     const val = dataMapCurrent.x;\n            //     if (val > width / 2) {\n            //         // console.log(`autoLimit=${autoLimit}, key=${key}, val=${val}, width=${width}`)\n            //         return val - 160 - opt.padding;\n            //     }\n            //     return val + 20 - opt.padding;\n            // }\n            const val = dataMapCurrent[key];\n            return val;\n        }\n    }\n\n    componentDidMount() {\n        const { showValueLeftLine, showValueRightLine } = this.props;\n        if(showValueLeftLine || showValueRightLine) {\n            this.svgRef.addEventListener('mousemove', this.mouseMove);\n        }\n        // onMouseMove={this.mouseMove}\n    }\n\n    componentWillUnmount() {\n        const { showValueLeftLine, showValueRightLine } = this.props;\n        if(showValueLeftLine || showValueRightLine) {\n            this.svgRef.removeEventListener('mousemove', this.mouseMove);\n        }\n    }\n\n    render() {\n        const {\n            width = 600,         // Width of svg.\n            height = 200,        // Height of svg.\n            offsetY = 0,         // Data plot offset y axis.\n            paddingLeft = 0,     // Make room for yTicksLeft.\n            paddingRight = 0,    // Make room for yTicksRight.\n            paddingTop = 0,      // Make room for legends.\n            paddingBottom = 0,   // Make room for xTicks.\n            tickCount = 6,       // Number of ticks to show\n\n            showXTicks,          // Show X ticks.\n            showYTicksLeft,      // Show Y ticks left.\n            showYTicksRight,     // Show Y ticks right.\n\n            xTicks,              // xTicks array to use instead of values. JSON.stringified and backslash escaped.\n            xTicksVal,           // Function used to show x ticks\n\n            yTicksLeft,          // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicksLeftVal,       // Function used to show y ticks\n            yTicksLeftPrefix,\n            yTicksLeftPostfix,\n\n            yTicksRight,         // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicksRightVal,      // Function used to show y ticks\n            yTicksRightPrefix,\n            yTicksRightPostfix,\n\n            xMin,\n            xMax,\n\n            yMaxLeft,            // Y max value to use for yTicks\n            yMinLeft,            // Y min value to use for yTicks\n\n            yMaxRight,           // Y max value to use for yTicks\n            yMinRight,           // Y min value to use for yTicks\n\n            rangeMinLeft = [],\n            rangeMaxLeft = [],\n\n            rangeMinRight = [],\n            rangeMaxRight = [],\n\n            dataLeft = [],\n            dataRight = [],\n\n            legendLeft = [],\n            legendRight = [],\n\n            unitLeft = [],\n            unitRight = [],\n\n            avgWindowLeft =[],\n            avgWindowRight =[],\n\n            smoothLeft =[],\n            smoothRight =[],\n\n            hoverValLeft = [],   // Function used to show value for hover.\n            hoverValRight = [],  // Function used to show value for hover.\n\n            showValueLeftLine = true,\n            showValueRightLine = true,\n\n            marker,\n            markers = [],\n        } = this.props;\n        const { appState = {} } = this.props.stores || {};\n        const { mousePos = [], darkmode } = appState;\n\n        const PADDING_LEFT = paddingLeft || (showYTicksLeft ? 35 : 0);\n        const PADDING_RIGHT = paddingRight || (showYTicksRight ? 35 : 0);\n        const PADDING_TOP = paddingTop;\n        const PADDING_BOTTOM = paddingBottom || (showXTicks ? 20 : 0);\n        // console.log({ PADDING_LEFT, PADDING_RIGHT, PADDING_TOP, PADDING_BOTTOM });\n\n        const common = {\n            width,\n            height,\n            offsetY,\n        };\n\n        // console.table(xTicks);\n        // console.table(yTicks);\n        const MIN_Y_LEFT = round5(findMinY({ data: dataLeft, min: yMinLeft }), true);\n        const MAX_Y_LEFT = round5(findMaxY({ data: dataLeft, max: yMaxLeft }), false);\n\n        const MIN_Y_RIGHT = round5(findMinY({ data: dataRight, min: yMinRight }), true);\n        const MAX_Y_RIGHT = round5(findMaxY({ data: dataRight, max: yMaxRight }), false);\n\n        const MIN_X = findMinX({ data: dataLeft.concat(dataRight), min: xMin });\n        const MAX_X = findMaxX({ data: dataLeft.concat(dataRight), max: xMax });\n        // console.log({ MIN_Y_LEFT, MAX_Y_LEFT, MIN_Y_RIGHT, MAX_Y_RIGHT, MIN_X, MAX_X });\n\n        const pathLeft = makePaths({\n            ...common,\n            data: dataLeft,\n            xMin: MIN_X,\n            xMax: MAX_X,\n            yMin: MIN_Y_LEFT,\n            yMax: MAX_Y_LEFT,\n            yRangeMin: rangeMinLeft,\n            yRangeMax: rangeMaxLeft,\n            maxMinFixed: true,\n            smoothLeft,\n            avgWindowLeft,\n            offsetY: PADDING_TOP,\n        });\n\n        const pathRight = makePaths({\n            ...common,\n            data: dataRight,\n            xMin: MIN_X,\n            xMax: MAX_X,\n            yMin: MIN_Y_RIGHT,\n            yMax: MAX_Y_RIGHT,\n            yRangeMin: rangeMinRight,\n            yRangeMax: rangeMaxRight,\n            maxMinFixed: true,\n            smoothRight,\n            avgWindowRight,\n            offsetY: PADDING_TOP,\n        });\n        // console.log(pathLeft);\n\n        const TOTAL_GRAPHS_LEFT = pathLeft.length;\n        const TOTAL_GRAPHS_RIGHT = pathRight.length;\n        const TOTAL_GRAPHS = TOTAL_GRAPHS_LEFT + TOTAL_GRAPHS_RIGHT;\n        const X_TICKS = xTicks || getTicks(tickCount, MIN_X, MAX_X);\n        const Y_TICKS_LEFT = yTicksLeft || getTicks(tickCount, MIN_Y_LEFT, MAX_Y_LEFT, true, yTicksLeftPrefix, yTicksLeftPostfix);\n        const Y_TICKS_RIGHT = yTicksRight || getTicks(tickCount, MIN_Y_RIGHT, MAX_Y_RIGHT, true, yTicksRightPrefix, yTicksRightPostfix);\n        const markerX = this.getCoordX(MIN_X, MAX_X, marker);\n\n        return (\n            <div class={style.lineChart} style={`height: ${height}px; overflow: hidden;`}>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg} viewBox={`0 0 ${width} ${height}`}\n                    preserveAspectRatio='none'\n                    style={`padding-left: ${PADDING_LEFT}px; padding-bottom: ${PADDING_BOTTOM}px; width: calc(100%); max-height: 100%;`}\n                    ref={c => this.svgRef = c}\n                >\n                    {pathLeft && pathLeft.reverse().map((path, idx) => {\n                        const mouseData = this.getMouseData(MIN_X, MAX_X, path.dataMap, mousePos[0]);\n                        return (\n                            <>\n                                <path d={path.d} class={style[TOTAL_GRAPHS_LEFT > 9 ? 'pathOriginal' : `pathLeft${TOTAL_GRAPHS_LEFT - idx - 1}`]} fill-rule='evenodd' />\n                                {showValueLeftLine && mousePos && mousePos.length > 0 && path.dataMap \n                                    && mouseData && mouseData.yVal\n                                    && <line\n                                        x1={this.getCoordX(MIN_X, MAX_X, MIN_X)}\n                                        x2={mouseData.x}\n                                        y1={mouseData.ySmooth}\n                                        y2={mouseData.ySmooth}\n                                        class={`${style.mouseLine} ${style[`pathLeft${TOTAL_GRAPHS_LEFT - idx - 1}`]}`} />}\n                            </>\n                        );\n                    })}\n                    {pathRight && pathRight.reverse().map((path, idx) => {\n                        const mouseData = this.getMouseData(MIN_X, MAX_X, path.dataMap, mousePos[0]);\n                        return (\n                            <>\n                                <path d={path.d} class={style[TOTAL_GRAPHS_LEFT > 9 ? 'pathOriginal' : `pathRight${TOTAL_GRAPHS_RIGHT - idx - 1}`]} />\n                                {showValueRightLine && mousePos && mousePos.length > 0 && path.dataMap \n                                    && mouseData && mouseData.yVal\n                                    && <line\n                                        x1={this.getCoordX(MIN_X, MAX_X, MAX_X)}\n                                        x2={mouseData.x}\n                                        y1={mouseData.ySmooth}\n                                        y2={mouseData.ySmooth}\n                                        class={`${style.mouseLine} ${style[`pathRight${TOTAL_GRAPHS_RIGHT - idx - 1}`]}`} />}\n                            </>\n                        );\n                    })}\n\n                    {/* {dCold && dCold.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathCold} />)};\n                    {dWarm && dWarm.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathWarm} />)}; */}\n\n                    {legendLeft && legendLeft.map((legend, idx) => (\n                        <>\n                            <line x1='10' y1={5 + 10 * idx} x2='30' y2={5 + 10 * idx} class={style[`pathLeft${idx}`]} />\n                            <text x='35' y={10 + 10 * idx} font-size='10px' class={style.pathText}>{legend}</text>\n                        </>\n                    ))}\n                    {legendRight && legendRight.map((legend, idx) => (\n                        <>\n                            <line x1={width - 150} y1={5 + 10 * idx} x2={width - 130} y2={5 + 10 * idx} class={style[`pathRight${idx}`]} />\n                            <text x={width - 125} y={10 + 10 * idx} font-size='10px' class={style.pathText}>{legend}</text>\n                        </>\n                    ))} \n\n                    {mousePos && mousePos.length > 0 && <line x1={mousePos[0]} y1={height} x2={mousePos[0]} y2='0' class={style.mouseLine} />}\n                    {markerX && <line x1={markerX} y1={height} x2={markerX} y2='0' class={style.marker} />}\n\n                    {markers && markers.map(m => {\n                        const mX = this.getCoordX(MIN_X, MAX_X, m);\n                        return (\n                            <line x1={mX} y1={height} x2={mX} y2='0' class={style.markers} />\n                        );\n                    })}\n\n                    {(showValueLeftLine || showValueRightLine) && pathLeft && mousePos && mousePos.length > 0 && <rect \n                        x={this.getTextBoxX(mousePos[0], '', TEXT_BOX_PADDING_X)}\n                        y={height / 2}\n                        width='165' height={TOTAL_GRAPHS * 15 + 25} rx='5' ry='5' class={style.mouseHoverBox}\n                    />}\n                    {(showValueLeftLine || showValueRightLine) && mousePos && mousePos.length > 0 \n                        && <text \n                            x={this.getTextBoxX(mousePos[0])}\n                            y={height / 2}\n                            font-size='11px'\n                            class={darkmode ? style.mouseHoverDarkmode : style.mouseHover}\n                            style='border: #ff0000 solid 2px;'\n                        >\n                            {showValueLeftLine && pathLeft && pathLeft.reverse().map((path, idx) => {\n                                const hoverVal = util.isArray(hoverValLeft) && util.isFunction(hoverValLeft[idx]) ? hoverValLeft[idx] : (val) => val;\n                                const mouseData = this.getMouseData(MIN_X, MAX_X, path.dataMap, mousePos[0]);\n                                return (\n                                    <>\n                                        {mouseData && idx === 0 && <tspan\n                                            x={this.getTextBoxX(mousePos[0])}\n                                            dy='1.2em'\n                                        >\n                                            {transformXTick(mouseData.xVal, xTicksVal)}\n                                        </tspan>}\n                                        {path.d && path.dataMap && util.isNumber(mouseData.yVal) && \n                                        <tspan\n                                            // x={this.getMouseData(MIN_X, MAX_X, path.dataMap, mousePos[0], 'x', { autoLimit: true, padding: 0, maxX: MAX_X })}\n                                            // x={this.getCoordX(MIN_X, MAX_X, mouseData.xVal)}\n                                            x={this.getTextBoxX(mousePos[0])}\n                                            dy='1.2em'\n                                            text-anchor='start'\n                                        >\n                                            <tspan class={style[`pathLeft${idx}`]}>--</tspan> {legendLeft[idx]}: {hoverVal(mouseData.yVal)} {unitLeft[idx]}\n                                        </tspan>}\n                                    </>\n                                );\n                            })}\n                            {showValueRightLine && pathRight && pathRight.reverse().map((path, idx) => {\n                                const hoverVal = util.isArray(hoverValRight) && util.isFunction(hoverValRight[idx]) ? hoverValRight[idx] : (val) => val;\n                                const mouseData = this.getMouseData(MIN_X, MAX_X, path.dataMap, mousePos[0]);\n                                return (\n                                    <>\n                                        {path.d && path.dataMap && util.isNumber(mouseData.yVal) && \n                                        <tspan\n                                            x={this.getTextBoxX(mousePos[0], 'right')}\n                                            dy='1.2em'\n                                            text-anchor='end'\n                                        >\n                                             {legendRight[idx]}: {hoverVal(mouseData.yVal)} {unitRight[idx]} <tspan class={style[`pathRight${idx}`]}>--</tspan>\n                                        </tspan>}\n                                    </>\n                                );\n                            })}\n                        </text>}\n                </svg>\n                {showXTicks && (\n                    <div class={style['x-axis']}\n                        style={{\n                            left: `${PADDING_LEFT}px`,\n                            width: `calc(100% - ${PADDING_LEFT}px)`,\n                        }}\n                    >\n                        {X_TICKS.map(v => <div data-value={transformXTick(v, xTicksVal)} />)}\n                    </div>\n                )}\n                {showYTicksLeft && (\n                    <div\n                        class={style['y-axis-left']}\n                        style={{\n                            top: `${PADDING_TOP}px`,\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS_LEFT.map(v => <div data-value={transformYTick(v, yTicksLeftVal)} />)}\n                    </div>\n                )}\n                {showYTicksRight && (\n                    <div\n                        class={style['y-axis-right']}\n                        style={{\n                            top: `${PADDING_TOP}px`,\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS_RIGHT.map(v => <div data-value={transformYTick(v, yTicksRightVal)} />)}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default LineChart;\n"],"sourceRoot":""}