{"version":3,"sources":["webpack:///./components/lineGraph/index.js","webpack:///./routes/home/index.js","webpack:///./components/lineGraph/style.css"],"names":["getTicks","count","min","max","prefix","postfix","loop","Array","from","keys","range","Math","ceil","floor","map","d","parseInt","parseTicks","ticks","JSON","parse","transformXTick","tick","match","msDiff","replace","now","util","epoch","isoDate","normalizeRange","val","newMin","newMax","round5","x","roundDown","sign","abs","findMaxY","data","isNumber","y","findMinY","makePath","yMin","yMax","width","height","yRangeMin","yRangeMax","offsetY","maxMinFixed","length","minY","maxY","maxX","realHeight","fnX","fnY","dataVal","slice","p","join","getRandomInt","random","makeRandomData","cnt","current","i","l","push","initialState","LineChart","props","setState","render","this","paddingLeft","paddingBottom","tickCount","showXTicks","showYTicks","xTicks","yTicks","yTicksPrefix","yTicksPostfix","showY2Ticks","y2Ticks","y2TicksPrefix","y2TicksPostfix","y2Max","y2Min","y2BMax","y2BMin","range2bMin","range2bMax","y2CMax","y2CMin","range2cMin","range2cMax","y3Min","y3Max","range3Min","range3Max","legend","legendB","legend2","legend2B","legend2C","legend3","dataB","data2","data2B","data2C","data3","PADDING_LEFT","PADDING_BOTTOM","common","dataMaxY","MAX_Y","dataMinY","MIN_Y","MAX_X","dB","d2","MIN_Y2","MAX_Y2","d2B","d2C","d3","X_TICKS","Y_TICKS","reverse","Y_TICKS2","class","style","lineChart","xmlns","svg","viewBox","preserveAspectRatio","path3","path2C","path2B","path2","pathB","path","x1","y1","x2","y2","font-size","pathText","left","v","data-value","bottom","Component","productionData","wearData","windData","priceData","demandData","Home","observer","state","loadAll","userStore","stores","appState","getFingerprint","getInfo","module","exports"],"mappings":"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","file":"route-home.chunk.c38c4.js","sourcesContent":["import { h, Component } from 'preact';\nimport style from './style.css';\nimport util from 'preact-util';\n\nfunction getTicks(count, min, max, prefix = '', postfix = '') {\n    const loop = Array.from(Array(count).keys());\n    const range = Math.ceil(max) - Math.floor(min);\n    return loop.map(d => `${prefix}${parseInt((range / (count - 1) * d), 10) + Math.floor(min)}${postfix}`);\n}\n\nfunction parseTicks(ticks) {\n    if (ticks) {\n        return JSON.parse(ticks);\n    }\n    return undefined;\n}\n\nfunction transformXTick(tick) {\n    if (typeof tick === 'string') {\n        if (tick.match(/\\d+h/)) {\n            const msDiff = tick.replace(/h/g, '') * 3600 * 1000;\n            const now = util.epoch();\n            const then = now - msDiff;\n            return util.isoDate(then);\n        }\n    }\n    return tick;\n}\n\nfunction normalizeRange(val, min, max, newMin, newMax) {\n    return newMin + (val - min) * (newMax - newMin) / (max - min);\n}\n\nfunction round5(x, roundDown = false) {\n    let sign = 1;\n    if (x < 0) {\n        sign = -1;\n    }\n    if (roundDown && sign === 1) {\n        return Math.floor(Math.abs(x) / 5) * 5 * sign;\n    }\n    return Math.ceil(Math.abs(x) / 5) * 5 * sign;\n}\n\nfunction findMaxY({ data, max }) {\n    if (util.isNumber(max)) {\n        return Math.max(max, ...data.map(d => d.y));\n    }\n    return Math.max(...data.map(d => d.y));\n}\n\nfunction findMinY({ data, min }) {\n    if (util.isNumber(min)) {\n        return Math.min(min, ...data.map(d => d.y));\n    }\n    return Math.min(...data.map(d => d.y));\n}\n\nfunction makePath({ data, yMin, yMax, width, height, yRangeMin, yRangeMax, offsetY = 0, maxMinFixed = false }) {\n    if (data && data.length) {\n        const maxX = Math.max(...data.map(d => d.x));\n        let minY;\n        let maxY;\n        if (maxMinFixed) {\n            minY = util.isNumber(yMin) ? yMin : findMinY({ data });\n        } else {\n            minY = util.isNumber(yMin) ? findMinY({ data, min: yMin }) : findMinY({ data });\n            minY = round5(minY, true);\n        }\n        if (maxMinFixed) {\n            maxY = util.isNumber(yMax) ? yMax : findMaxY({ data });\n        } else {\n            maxY = util.isNumber(yMax) ? findMaxY({ data, max: yMax }) : findMaxY({ data });\n            maxY = round5(maxY);\n        }\n\n        const realHeight = height - offsetY;\n        const fnX = val => val / maxX * width;\n        const fnY = (val) => {\n            let dataVal = val;\n            if (util.isNumber(yRangeMin) && util.isNumber(yRangeMax)) {\n                dataVal = normalizeRange(dataVal, minY, maxY, yRangeMin, yRangeMax);\n                return realHeight - normalizeRange(dataVal, yRangeMin, yRangeMax, offsetY, height);\n            }\n            dataVal = normalizeRange(dataVal, minY, maxY, minY, maxY);\n            return realHeight - normalizeRange(dataVal, minY, maxY, offsetY, height);\n        };\n\n        const d = `M-100 ${realHeight + offsetY} L${fnX(data[0].x)} ${fnY(data[0].y)} \n            ${data.slice(1).map(p => `L${fnX(p.x)} ${fnY(p.y)}`).join(' ')}\n            L${fnX(maxX) + 100} ${realHeight + offsetY}\n        `;\n        return { d, maxX, maxY, minY };\n    }\n    return {};\n}\n\nconst initialState = {};\n\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n        this.setState({\n            ...initialState,\n        });\n    }\n\n    render() {\n        const {\n            width = 600,\n            height = 200,\n            offsetY = 0,\n            paddingLeft = 0, // Make room for yTicks.\n            paddingBottom = 0, // Make room for xTicks.\n            tickCount = 6, // Number of ticks to show\n            showXTicks, // Show X ticks\n            showYTicks, // Show Y ticks\n            xTicks, // xTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicksPrefix,\n            yTicksPostfix = '°C',\n\n            yMax, // Y max value to use for yTicks\n            yMin, // Y min value to use for yTicks\n\n            showY2Ticks, // Show Y ticks\n            y2Ticks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            y2TicksPrefix,\n            y2TicksPostfix = '°C',\n            y2Max, // Y max value to use for y2Ticks\n            y2Min,\n\n            y2BMax, // Y max value to use for y2TicksB\n            y2BMin, // Y max value to use for y2TicksB\n            range2bMin = 0,\n            range2bMax = 100,\n\n            y2CMax, // Y max value to use for y2TicksC\n            y2CMin, // Y max value to use for y2TicksC\n            range2cMin = 0,\n            range2cMax = 100,\n\n            y3Min,\n            y3Max, // Y max value to use for yTicks3\n\n            range3Min = 0,\n            range3Max = 100,\n\n            legend,\n            legendB,\n            legend2,\n            legend2B,\n            legend2C,\n            legend3,\n\n            data = [],\n            dataB = [],\n            data2 = [],\n            data2B = [],\n            data2C = [],\n            data3 = [],\n        } = this.props;\n\n        const PADDING_LEFT = paddingLeft || (showYTicks ? 30 : 0);\n        const PADDING_BOTTOM = paddingBottom || (showXTicks ? 20 : 0);\n\n        const common = {\n            width,\n            height,\n            offsetY,\n        };\n\n        // console.table(xTicks);\n        // console.table(yTicks);\n        const dataMaxY = findMaxY({ data, max: yMax });\n        const dataBMaxY = findMaxY({ data: dataB, max: dataMaxY });\n        const MAX_Y = round5(dataBMaxY);\n\n        const dataMinY = findMinY({ data, min: yMin });\n        const dataBMinY = findMinY({ data: dataB, min: dataMinY });\n        const MIN_Y = round5(dataBMinY, true);\n\n        const {\n            d,\n            dCold,\n            dWarm,\n            maxX: MAX_X = 0,\n        } = makePath({\n            ...common,\n            data,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n        });\n\n        const { d: dB } = makePath({\n            ...common,\n            data: dataB,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n        });\n\n        const {\n            d: d2,\n            minY: MIN_Y2 = 0,\n            maxY: MAX_Y2 = 0,\n        } = makePath({\n            ...common,\n            data: data2,\n            yMin: y2Min,\n            yMax: y2Max,\n        });\n\n        const { d: d2B } = makePath({\n            ...common,\n            data: data2B,\n            yMin: y2BMin,\n            yMax: y2BMax,\n            yRangeMin: range2bMin,\n            yRangeMax: range2bMax,\n        });\n\n        const { d: d2C } = makePath({\n            ...common,\n            data: data2C,\n            yMin: y2CMin,\n            yMax: y2CMax,\n            yRangeMin: range2cMin,\n            yRangeMax: range2cMax,\n            maxMinFixed: true,\n        });\n\n        const { d: d3 } = makePath({\n            ...common,\n            data: data3,\n            yMin: y3Min,\n            yMax: y3Max,\n            yRangeMin: range3Min,\n            yRangeMax: range3Max,\n        });\n\n        const X_TICKS = parseTicks(xTicks) || getTicks(tickCount, 0, MAX_X);\n        const Y_TICKS = parseTicks(yTicks) || getTicks(tickCount, MIN_Y, MAX_Y, yTicksPrefix, yTicksPostfix).reverse();\n        const Y_TICKS2 = parseTicks(y2Ticks) || getTicks(tickCount, MIN_Y2, MAX_Y2, y2TicksPrefix, y2TicksPostfix).reverse();\n\n        return (\n            <div class={style.lineChart} style={`height: ${height}px; overflow: hidden;`}>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg} viewBox={`0 0 ${width} ${height}`}\n                    preserveAspectRatio='none'\n                    style={`padding-left: ${PADDING_LEFT}px; padding-bottom: ${PADDING_BOTTOM}px; width: calc(100%); max-height: 100%;`}\n                >\n                    {d3 && <path d={d3} class={style.path3} />}\n                    {d2C && <path d={d2C} class={style.path2C} />}\n                    {d2B && <path d={d2B} class={style.path2B} />}\n                    {d2 && <path d={d2} class={style.path2} />}\n                    {dB && <path d={dB} class={style.pathB} />}\n                    {d && <path d={d} class={style.path} />}\n\n                    {/* {dCold && dCold.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathCold} />)};\n                    {dWarm && dWarm.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathWarm} />)}; */}\n\n                    {legend && <line x1='10' y1='5' x2='30' y2='5' class={style.path} />}\n                    {legend && <text x='35' y='10' font-size='10px' class={style.pathText}>{legend}</text>}\n\n                    {legend2 && <line x1='10' y1='15' x2='30' y2='15' class={style.path2} />}\n                    {legend2 && <text x='35' y='20' font-size='10px' class={style.pathText}>{legend2}</text>}\n\n                    {legend3 && <line x1='10' y1='25' x2='30' y2='25' class={style.path3} />}\n                    {legend3 && <text x='35' y='30' font-size='10px' class={style.pathText}>{legend3}</text>}\n\n                    {legendB && <line x1='10' y1='35' x2='30' y2='35' class={style.pathB} />}\n                    {legendB && <text x='35' y='40' font-size='10px' class={style.pathText}>{legendB}</text>}\n\n                    {legend2B && <line x1='10' y1='45' x2='30' y2='45' class={style.path2B} />}\n                    {legend2B && <text x='35' y='50' font-size='10px' class={style.pathText}>{legend2B}</text>}\n\n                    {legend2C && <line x1='10' y1='55' x2='30' y2='55' class={style.path2C} />}\n                    {legend2C && <text x='35' y='60' font-size='10px' class={style.pathText}>{legend2C}</text>}\n\n                </svg>\n                {showXTicks && (\n                    <div class={style['x-axis']}\n                        style={{\n                            left: `${PADDING_LEFT}px`,\n                            width: `calc(100% - ${PADDING_LEFT}px)`,\n                        }}\n                    >\n                        {X_TICKS.map(v => <div data-value={transformXTick(v)} />)}\n                    </div>\n                )}\n                {showYTicks && (\n                    <div\n                        class={style['y-axis']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n                {showY2Ticks && (\n                    <div\n                        class={style['y-axis2']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS2.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default LineChart;\n","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport LineGraph from '../../components/lineGraph';\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nconst MIN = 20;\nconst MAX = 50;\n\nfunction makeRandomData(cnt = 200) {\n\tconst data = [];\n\tlet current = 0;\n\tfor (let i = 0, l = cnt; i < l; i += 1) {\n\t\tif (!current) {\n\t\t\tcurrent = getRandomInt(MIN, MAX);\n\t\t} else {\n\t\t\tcurrent = getRandomInt(current - 5, current + 5);\n\t\t}\n\t\tdata.push({ x: i, y: current })\n\t}\n\treturn data;\n}\n\n\nconst initialState = {\n\tproductionData: makeRandomData(),\n\twearData: makeRandomData(),\n\twindData: makeRandomData(),\n\tpriceData: makeRandomData(),\n\tdemandData: makeRandomData(),\n};\n\n@observer\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n\t\tthis.loadAll();\t\n    }\n\n\tasync loadAll() {\n\t\tconst { appState, userStore } = this.props.stores;\n        appState.getFingerprint();\n        await userStore.getInfo();\n    }\n\n\trender() {\n\t\tconst { productionData, wearData, windData, priceData, demandData } = this.state;\n\t\t// const { userStore } = this.props.stores;\n\t\t// const { user } = userStore;\n\t\treturn (\n\t\t\t<div class='container-fluid mt-5 pt-2'>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<h1>Home</h1>\n\n\t\t\t\t\t\t<div class='d-flex'>\n\t\t\t\t\t\t\t<div class='p-2 flex-grow-1 bg-light mr-2'>\n\t\t\t\t\t\t\t\tProduction / Wear\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={productionData}\n\t\t\t\t\t\t\t\t\tdata2={wearData}\n\t\t\t\t\t\t\t\t\twidth={600}\n\t\t\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\ty2Max={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"100%\", \"75%\", \"50%\", \"25%\", \"0%\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='p-2 bg-light'>Wear status</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='d-flex mt-2'>\n\t\t\t\t\t\t\t<div class='p-2 flex-fill bg-light mr-2'>\n\t\t\t\t\t\t\t\tWeather\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={windData}\n\t\t\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"20 m/s\", \"15 m/s\", \"10 m/s\", \"5 m/s\", \"0 m/s\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='p-2 flex-fill bg-light mr-2'>\n\t\t\t\t\t\t\t\tElectricity prices\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={priceData}\n\t\t\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"2 NOK\", \"1.5 NOK\", \"1 NOK\", \"0.5 NOK\", \"0 NOK\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='p-2 flex-fill bg-light'>\n\t\t\t\t\t\t\t\tDemand\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={demandData}\n\t\t\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"100 MWh\", \"75 MWh\", \"50 MWh\", \"25 MWh\", \"0 MWh\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineChart\":\"lineChart__1V7gu\",\"svg\":\"svg__2VZNe\",\"path\":\"path__39L9w\",\"pathCold\":\"pathCold__1X7YC\",\"pathWarm\":\"pathWarm__1_vqU\",\"pathText\":\"pathText__2RfbE\",\"pathB\":\"pathB__4I_xm\",\"path2\":\"path2__19gje\",\"path2B\":\"path2B__-l86N\",\"path2C\":\"path2C__3xnAW\",\"path3\":\"path3__1IFnl\",\"x-axis\":\"x-axis__1601s\",\"y-axis\":\"y-axis__13f0R\",\"y-axis2\":\"y-axis2__3xPFM\"};"],"sourceRoot":""}