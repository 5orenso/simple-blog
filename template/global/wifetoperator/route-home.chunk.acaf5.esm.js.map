{"version":3,"sources":["webpack:///./routes/home/index.js","webpack:///./components/lineGraph/style.css","webpack:///./components/lineGraph/index.js","webpack:///./lib/wifet-util.js"],"names":["forcastData","wutil","makeRandomData","aiData","windData","windBoostData","addPercent","windLongLifeData","initialState","wearData","priceData","demandData","Home","observer","Component","constructor","props","super","this","state","loadAll","appState","userStore","stores","getFingerprint","getInfo","render","class","data","dataB","dataC","legend","legendB","legendC","width","height","yMax","y2Max","showYTicks","yTicks","showXTicks","marker","module","exports","getTicks","count","min","max","prefix","postfix","loop","Array","from","keys","range","Math","ceil","floor","map","d","parseInt","parseTicks","ticks","JSON","parse","transformXTick","tick","match","msDiff","replace","now","util","epoch","isoDate","normalizeRange","val","newMin","newMax","round5","x","roundDown","sign","abs","findMaxY","isNumber","y","findMinY","makePath","yMin","yRangeMin","yRangeMax","offsetY","maxMinFixed","length","maxX","minY","maxY","realHeight","fnX","fnY","dataVal","slice","p","join","LineChart","setState","paddingLeft","paddingBottom","tickCount","xTicks","yTicksPrefix","yTicksPostfix","showY2Ticks","y2Ticks","y2TicksPrefix","y2TicksPostfix","y2Min","y2BMax","y2BMin","range2bMin","range2bMax","y2CMax","y2CMin","range2cMin","range2cMax","y3Min","y3Max","range3Min","range3Max","legendD","legend2","legend2B","legend2C","legend3","dataD","data2","data2B","data2C","data3","PADDING_LEFT","PADDING_BOTTOM","common","dataMaxY","MAX_Y","dataMinY","MIN_Y","MAX_X","dB","dC","dD","d2","MIN_Y2","MAX_Y2","d2B","d2C","d3","X_TICKS","Y_TICKS","reverse","Y_TICKS2","style","lineChart","xmlns","svg","viewBox","preserveAspectRatio","path3","path2C","path2B","path2","pathB","pathC","pathD","path","x1","y1","x2","y2","font-size","pathText","left","v","data-value","bottom","WifetUtil","random","cnt","onlyUp","inputData","diff","current","skew","i","l","getRandomInt","push","percent","$max"],"mappings":"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","file":"route-home.chunk.acaf5.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport { observer } from 'mobx-preact';\n\nimport LineGraph from '../../components/lineGraph';\nimport wutil from '../../lib/wifet-util';\n\nconst MIN = 20;\nconst MAX = 60;\n\nconst forcastData = wutil.makeRandomData(500, MIN, MAX, false, [], 1);\nconst aiData = wutil.makeRandomData(500, MIN, MAX, false, forcastData, 1);\nconst windData = wutil.makeRandomData(500, MIN, MAX, false, aiData, 2);\nconst windBoostData = wutil.addPercent(windData, 10, 100);\nconst windLongLifeData = wutil.addPercent(windData, -5, 100);\n\nconst initialState = {\n\twearData: wutil.makeRandomData(500, MIN, MAX),\n\tforcastData,\n\taiData,\n\twindData,\n\twindBoostData,\n\twindLongLifeData,\n\tpriceData: wutil.makeRandomData(500, MIN, MAX),\n\tdemandData: wutil.makeRandomData(500, MIN, MAX),\n};\n\n@observer\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n\t\tthis.loadAll();\t\n    }\n\n\tasync loadAll() {\n\t\tconst { appState, userStore } = this.props.stores;\n        appState.getFingerprint();\n        await userStore.getInfo();\n    }\n\n\trender() {\n\t\tconst { windData, windBoostData, windLongLifeData, priceData, demandData } = this.state;\n\t\t// const { userStore } = this.props.stores;\n\t\t// const { user } = userStore;\n\t\treturn (\n\t\t\t<div class='container-fluid mt-5 mb-5 pt-2'>\n\t\t\t\t<div class='row'>\n\t\t\t\t\t<div class='col-12'>\n\t\t\t\t\t\t<h1>Home</h1>\n\n\t\t\t\t\t\t<div class='d-flex'>\n\t\t\t\t\t\t\t<div class='p-2 flex-grow-1 bg-light mr-2'>\n\t\t\t\t\t\t\t\t<i class='fas fa-chart-bar' /> Production / <i class='fas fa-thermometer' /> Wear\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={windData}\n\t\t\t\t\t\t\t\t\tdataB={windBoostData}\n\t\t\t\t\t\t\t\t\tdataC={windLongLifeData}\n\t\t\t\t\t\t\t\t\tlegend='Normal production'\n\t\t\t\t\t\t\t\t\tlegendB='Boost 10%'\n\t\t\t\t\t\t\t\t\tlegendC='Long life -10%'\n\t\t\t\t\t\t\t\t\twidth={1200}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\ty2Max={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"100%\", \"75%\", \"50%\", \"25%\", \"0%\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t\tmarker={400}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div class='p-2 bg-light'>\n\t\t\t\t\t\t\t\t<i class='fas fa-battery-three-quarters' /> Wear status\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='d-flex mt-2'>\n\t\t\t\t\t\t\t<div class='p-2 flex-fill bg-light mr-2'>\n\t\t\t\t\t\t\t\t<i class='fas fa-cloud-sun-rain' /> Weather\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={windData}\n\t\t\t\t\t\t\t\t\tdataB={forcastData}\n\t\t\t\t\t\t\t\t\tdataC={aiData}\n\t\t\t\t\t\t\t\t\tlegend='Wind'\n\t\t\t\t\t\t\t\t\tlegendB='Wind forcast'\n\t\t\t\t\t\t\t\t\tlegendC='Wind AI prediction'\n\t\t\t\t\t\t\t\t\twidth={1200}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"20 m/s\", \"15 m/s\", \"10 m/s\", \"5 m/s\", \"0 m/s\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t\tmarker={400}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='d-flex mt-2'>\n\t\t\t\t\t\t\t<div class='p-2 flex-fill bg-light mr-2'>\n\t\t\t\t\t\t\t\t<i class='fas fa-chart-line' /> Electricity prices\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={priceData}\n\t\t\t\t\t\t\t\t\twidth={1200}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"2 NOK\", \"1.5 NOK\", \"1 NOK\", \"0.5 NOK\", \"0 NOK\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t\tmarker={400}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='d-flex mt-2'>\n\t\t\t\t\t\t\t<div class='p-2 flex-fill bg-light'>\n\t\t\t\t\t\t\t\t<i class='fas fa-hand-holding-usd' /> Demand\n\t\t\t\t\t\t\t\t<LineGraph \n\t\t\t\t\t\t\t\t\tdata={demandData}\n\t\t\t\t\t\t\t\t\twidth={1200}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\tyMax={100}\n\t\t\t\t\t\t\t\t\tshowYTicks={1}\n\t\t\t\t\t\t\t\t\tyTicks='[\"100 MWh\", \"75 MWh\", \"50 MWh\", \"25 MWh\", \"0 MWh\"]'\n\t\t\t\t\t\t\t\t\tshowXTicks={1}\n\t\t\t\t\t\t\t\t\tmarker={400}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineChart\":\"lineChart__1V7gu\",\"svg\":\"svg__2VZNe\",\"pathText\":\"pathText__2RfbE\",\"path\":\"path__39L9w\",\"pathB\":\"pathB__4I_xm\",\"pathC\":\"pathC__1DQi-\",\"pathD\":\"pathD__2lI_C\",\"path2\":\"path2__19gje\",\"path2B\":\"path2B__-l86N\",\"path2C\":\"path2C__3xnAW\",\"path3\":\"path3__1IFnl\",\"x-axis\":\"x-axis__1601s\",\"y-axis\":\"y-axis__13f0R\",\"y-axis2\":\"y-axis2__3xPFM\",\"marker\":\"marker__2peOe\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport style from './style.css';\n\nfunction getTicks(count, min, max, prefix = '', postfix = '') {\n    const loop = Array.from(Array(count).keys());\n    const range = Math.ceil(max) - Math.floor(min);\n    return loop.map(d => `${prefix}${parseInt((range / (count - 1) * d), 10) + Math.floor(min)}${postfix}`);\n}\n\nfunction parseTicks(ticks) {\n    if (ticks) {\n        return JSON.parse(ticks);\n    }\n    return undefined;\n}\n\nfunction transformXTick(tick) {\n    if (typeof tick === 'string') {\n        if (tick.match(/\\d+h/)) {\n            const msDiff = tick.replace(/h/g, '') * 3600 * 1000;\n            const now = util.epoch();\n            const then = now - msDiff;\n            return util.isoDate(then);\n        }\n    }\n    return tick;\n}\n\nfunction normalizeRange(val, min, max, newMin, newMax) {\n    return newMin + (val - min) * (newMax - newMin) / (max - min);\n}\n\nfunction round5(x, roundDown = false) {\n    let sign = 1;\n    if (x < 0) {\n        sign = -1;\n    }\n    if (roundDown && sign === 1) {\n        return Math.floor(Math.abs(x) / 5) * 5 * sign;\n    }\n    return Math.ceil(Math.abs(x) / 5) * 5 * sign;\n}\n\nfunction findMaxY({ data, max }) {\n    if (util.isNumber(max)) {\n        return Math.max(max, ...data.map(d => d.y));\n    }\n    return Math.max(...data.map(d => d.y));\n}\n\nfunction findMinY({ data, min }) {\n    if (util.isNumber(min)) {\n        return Math.min(min, ...data.map(d => d.y));\n    }\n    return Math.min(...data.map(d => d.y));\n}\n\nfunction makePath({ data, yMin, yMax, width, height, yRangeMin, yRangeMax, offsetY = 0, maxMinFixed = false }) {\n    if (data && data.length) {\n        const maxX = Math.max(...data.map(d => d.x));\n        let minY;\n        let maxY;\n        if (maxMinFixed) {\n            minY = util.isNumber(yMin) ? yMin : findMinY({ data });\n        } else {\n            minY = util.isNumber(yMin) ? findMinY({ data, min: yMin }) : findMinY({ data });\n            minY = round5(minY, true);\n        }\n        if (maxMinFixed) {\n            maxY = util.isNumber(yMax) ? yMax : findMaxY({ data });\n        } else {\n            maxY = util.isNumber(yMax) ? findMaxY({ data, max: yMax }) : findMaxY({ data });\n            maxY = round5(maxY);\n        }\n\n        const realHeight = height - offsetY;\n        const fnX = val => val / maxX * width;\n        const fnY = (val) => {\n            let dataVal = val;\n            if (util.isNumber(yRangeMin) && util.isNumber(yRangeMax)) {\n                dataVal = normalizeRange(dataVal, minY, maxY, yRangeMin, yRangeMax);\n                return realHeight - normalizeRange(dataVal, yRangeMin, yRangeMax, offsetY, height);\n            }\n            dataVal = normalizeRange(dataVal, minY, maxY, minY, maxY);\n            return realHeight - normalizeRange(dataVal, minY, maxY, offsetY, height);\n        };\n\n        const d = `M-100 ${realHeight + offsetY} L${fnX(data[0].x)} ${fnY(data[0].y)} \n            ${data.slice(1).map(p => `L${fnX(p.x)} ${fnY(p.y)}`).join(' ')}\n            L${fnX(maxX) + 100} ${realHeight + offsetY}\n        `;\n        return { d, maxX, maxY, minY };\n    }\n    return {};\n}\n\nconst initialState = {};\n\n@observer\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n        this.setState({\n            ...initialState,\n        });\n    }\n\n    render() {\n        const {\n            width = 600,\n            height = 200,\n            offsetY = 0,\n            paddingLeft = 0, // Make room for yTicks.\n            paddingBottom = 0, // Make room for xTicks.\n            tickCount = 6, // Number of ticks to show\n            showXTicks, // Show X ticks\n            showYTicks, // Show Y ticks\n            xTicks, // xTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicksPrefix,\n            yTicksPostfix = '°C',\n\n            yMax, // Y max value to use for yTicks\n            yMin, // Y min value to use for yTicks\n\n            showY2Ticks, // Show Y ticks\n            y2Ticks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            y2TicksPrefix,\n            y2TicksPostfix = '°C',\n            y2Max, // Y max value to use for y2Ticks\n            y2Min,\n\n            y2BMax, // Y max value to use for y2TicksB\n            y2BMin, // Y max value to use for y2TicksB\n            range2bMin = 0,\n            range2bMax = 100,\n\n            y2CMax, // Y max value to use for y2TicksC\n            y2CMin, // Y max value to use for y2TicksC\n            range2cMin = 0,\n            range2cMax = 100,\n\n            y3Min,\n            y3Max, // Y max value to use for yTicks3\n\n            range3Min = 0,\n            range3Max = 100,\n\n            legend,\n            legendB,\n            legendC,\n            legendD,\n            legend2,\n            legend2B,\n            legend2C,\n            legend3,\n\n            data = [],\n            dataB = [],\n            dataC = [],\n            dataD = [],\n            data2 = [],\n            data2B = [],\n            data2C = [],\n            data3 = [],\n\n            marker,\n        } = this.props;\n\n        const PADDING_LEFT = paddingLeft || (showYTicks ? 30 : 0);\n        const PADDING_BOTTOM = paddingBottom || (showXTicks ? 20 : 0);\n\n        const common = {\n            width,\n            height,\n            offsetY,\n        };\n\n        // console.table(xTicks);\n        // console.table(yTicks);\n        const dataMaxY = findMaxY({ data, max: yMax });\n        const dataBMaxY = findMaxY({ data: dataB, max: dataMaxY });\n        const MAX_Y = round5(dataBMaxY);\n\n        const dataMinY = findMinY({ data, min: yMin });\n        const dataBMinY = findMinY({ data: dataB, min: dataMinY });\n        const MIN_Y = round5(dataBMinY, true);\n\n        const {\n            d,\n            maxX: MAX_X = 0,\n        } = makePath({\n            ...common,\n            data,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n        });\n\n        const { d: dB } = makePath({\n            ...common,\n            data: dataB,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n        });\n\n        const { d: dC } = makePath({\n            ...common,\n            data: dataC,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n        });\n\n        const { d: dD } = makePath({\n            ...common,\n            data: dataD,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n        });\n\n        const {\n            d: d2,\n            minY: MIN_Y2 = 0,\n            maxY: MAX_Y2 = 0,\n        } = makePath({\n            ...common,\n            data: data2,\n            yMin: y2Min,\n            yMax: y2Max,\n        });\n\n        const { d: d2B } = makePath({\n            ...common,\n            data: data2B,\n            yMin: y2BMin,\n            yMax: y2BMax,\n            yRangeMin: range2bMin,\n            yRangeMax: range2bMax,\n        });\n\n        const { d: d2C } = makePath({\n            ...common,\n            data: data2C,\n            yMin: y2CMin,\n            yMax: y2CMax,\n            yRangeMin: range2cMin,\n            yRangeMax: range2cMax,\n            maxMinFixed: true,\n        });\n\n        const { d: d3 } = makePath({\n            ...common,\n            data: data3,\n            yMin: y3Min,\n            yMax: y3Max,\n            yRangeMin: range3Min,\n            yRangeMax: range3Max,\n        });\n\n        const X_TICKS = parseTicks(xTicks) || getTicks(tickCount, 0, MAX_X);\n        const Y_TICKS = parseTicks(yTicks) || getTicks(tickCount, MIN_Y, MAX_Y, yTicksPrefix, yTicksPostfix).reverse();\n        const Y_TICKS2 = parseTicks(y2Ticks) || getTicks(tickCount, MIN_Y2, MAX_Y2, y2TicksPrefix, y2TicksPostfix).reverse();\n\n        return (\n            <div class={style.lineChart} style={`height: ${height}px; overflow: hidden;`}>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg} viewBox={`0 0 ${width} ${height}`}\n                    preserveAspectRatio='none'\n                    style={`padding-left: ${PADDING_LEFT}px; padding-bottom: ${PADDING_BOTTOM}px; width: calc(100%); max-height: 100%;`}\n                >\n                    {d3 && <path d={d3} class={style.path3} />}\n                    {d2C && <path d={d2C} class={style.path2C} />}\n                    {d2B && <path d={d2B} class={style.path2B} />}\n                    {d2 && <path d={d2} class={style.path2} />}\n                    {dB && <path d={dB} class={style.pathB} />}\n                    {dC && <path d={dC} class={style.pathC} />}\n                    {dD && <path d={dD} class={style.pathD} />}\n                    {d && <path d={d} class={style.path} />}\n\n                    {/* {dCold && dCold.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathCold} />)};\n                    {dWarm && dWarm.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathWarm} />)}; */}\n\n                    {legend && <line x1='10' y1='5' x2='30' y2='5' class={style.path} />}\n                    {legend && <text x='35' y='10' font-size='10px' class={style.pathText}>{legend}</text>}\n\n\n                    {legendB && <line x1='10' y1='15' x2='30' y2='15' class={style.pathB} />}\n                    {legendB && <text x='35' y='20' font-size='10px' class={style.pathText}>{legendB}</text>}\n\n                    {legendC && <line x1='10' y1='25' x2='30' y2='25' class={style.pathC} />}\n                    {legendC && <text x='35' y='30' font-size='10px' class={style.pathText}>{legendC}</text>}\n\n                    {legendD && <line x1='10' y1='35' x2='30' y2='35' class={style.pathD} />}\n                    {legendD && <text x='35' y='40' font-size='10px' class={style.pathText}>{legendD}</text>}\n\n                    {legend2 && <line x1='10' y1='15' x2='30' y2='15' class={style.path2} />}\n                    {legend2 && <text x='35' y='20' font-size='10px' class={style.pathText}>{legend2}</text>}\n\n                    {legend3 && <line x1='10' y1='25' x2='30' y2='25' class={style.path3} />}\n                    {legend3 && <text x='35' y='30' font-size='10px' class={style.pathText}>{legend3}</text>}\n\n                    {legend2B && <line x1='10' y1='45' x2='30' y2='45' class={style.path2B} />}\n                    {legend2B && <text x='35' y='50' font-size='10px' class={style.pathText}>{legend2B}</text>}\n\n                    {legend2C && <line x1='10' y1='55' x2='30' y2='55' class={style.path2C} />}\n                    {legend2C && <text x='35' y='60' font-size='10px' class={style.pathText}>{legend2C}</text>}\n\n                    {marker && <line x1={marker} y1={height} x2={marker} y2='0' class={style.marker} />}\n\n\n                </svg>\n                {showXTicks && (\n                    <div class={style['x-axis']}\n                        style={{\n                            left: `${PADDING_LEFT}px`,\n                            width: `calc(100% - ${PADDING_LEFT}px)`,\n                        }}\n                    >\n                        {X_TICKS.map(v => <div data-value={transformXTick(v)} />)}\n                    </div>\n                )}\n                {showYTicks && (\n                    <div\n                        class={style['y-axis']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n                {showY2Ticks && (\n                    <div\n                        class={style['y-axis2']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS2.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default LineChart;\n","\nclass WifetUtil {\n    static getRandomInt(min, max) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    static makeRandomData(cnt = 200, min, max, onlyUp = false, inputData = [], diff = 5) {\n        const data = [];\n        let current = 0;\n        let skew = diff;\n        for (let i = 0, l = cnt; i < l; i += 1) {\n            if (inputData[i] && inputData[i].y) {\n                skew = WifetUtil.getRandomInt(skew - diff, skew + diff);\n                current = inputData[i].y + skew;\n                if (skew > diff) { skew = 0; }\n            } else if (!current) {\n                current = WifetUtil.getRandomInt(min, max);\n            } else if (onlyUp) {\n                current = WifetUtil.getRandomInt(current, current + diff);\n            } else {\n                current = WifetUtil.getRandomInt(current - diff, current + diff);\n            }\n            data.push({ x: i, y: current })\n        }\n        return data;\n    }\n\n    static addPercent(inputData = [], percent = 10, $max = 0) {\n        let max = $max;\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            if (inputData[i] && inputData[i].y && inputData[i].y > max) {\n                max = inputData[i].y;\n            }\n        }\n        const data = [];\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            if (inputData[i] && inputData[i].y) {\n                const val = inputData[i].y;\n                const newVal = val + (percent * max / 100);\n                data.push({\n                    x: i,\n                    y: newVal,\n                });\n            }\n        }\n        return data;\n    }\n}\n\nexport default WifetUtil;\n"],"sourceRoot":""}