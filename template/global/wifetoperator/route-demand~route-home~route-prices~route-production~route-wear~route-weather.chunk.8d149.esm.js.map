{"version":3,"sources":["webpack:///./components/lineGraph/style.css","webpack:///./components/lineGraph/index.js","webpack:///./lib/wifet-util.js"],"names":["module","exports","getTicks","count","min","max","prefix","postfix","loop","Array","from","keys","range","Math","ceil","floor","map","d","parseInt","parseTicks","ticks","JSON","parse","transformXTick","tick","match","msDiff","replace","now","util","epoch","isoDate","normalizeRange","val","newMin","newMax","round5","x","roundDown","sign","abs","findMaxY","data","isNumber","y","findMinY","controlPoint","current","previous","next","reverse","o","pointA","pointB","lengthX","lengthY","length","sqrt","pow","angle","atan2","lineProperties","PI","cos","sin","bezierCommand","point","i","a","cpsX","cpsY","cpeX","cpeY","lineCommand","makePath","yMin","yMax","width","height","yRangeMin","yRangeMax","offsetY","maxMinFixed","smooth","dataMap","maxX","minY","maxY","realHeight","fnX","idx","round","isDefined","xVal","fnY","dataVal","yVal","finalDataArray","arr","windowSize","getter","value","setter","get","result","leftOffeset","to","sum","j","smoothValues","p","e","l","ySmooth","command","reduce","acc","initialState","mouseData","LineChart","observer","Component","constructor","props","super","mouseMove","this","stores","svgHeight","svgRef","clientHeight","layerX","clientWidth","layerY","appState","setMousePosition","state","getMouseData","xPos","key","autoLimit","padding","checkNested","render","paddingLeft","paddingBottom","tickCount","showXTicks","showYTicks","xTicks","yTicks","yTicksPrefix","yTicksPostfix","showY2Ticks","y2Ticks","y2TicksPrefix","y2TicksPostfix","y2Max","y2Min","y2BMax","y2BMin","range2bMin","range2bMax","y2CMax","y2CMin","range2cMin","range2cMax","y2DMax","y2DMin","range2dMin","range2dMax","y3Min","y3Max","range3Min","range3Max","legend","legendB","legendC","legendD","legend2","legend2B","legend2C","legend2D","legend3","dataB","dataC","dataD","data2","data2B","data2C","data2D","data3","marker","unit","unitB","unitC","unitD","unit2","unit2B","unit2C","unit2D","mousePos","darkmode","PADDING_LEFT","PADDING_BOTTOM","common","dataMaxY","MAX_Y","dataMinY","MIN_Y","MAX_X","dB","dataMapB","dC","dataMapC","dD","dataMapD","d2","MIN_Y2","MAX_Y2","dataMap2","d2B","dataMap2B","d2C","dataMap2C","d2D","dataMap2D","d3","X_TICKS","Y_TICKS","Y_TICKS2","class","style","lineChart","xmlns","svg","viewBox","preserveAspectRatio","onMouseMove","ref","c","path3","path2D","path2C","path2B","path2","pathD","pathB","pathC","path","x1","y1","x2","y2","font-size","pathText","mouseLines","cx","cy","r","rx","ry","mouseHoverBox","mouseHoverDarkmode","mouseHover","dy","left","v","data-value","bottom","WifetUtil","random","cnt","onlyUp","inputData","diff","maxSkew","rangeMin","rangeMax","skew","getRandomInt","isUndefined","push","percent","$max","fn","opts","newVal","windspeed","maxEffect","ws","Mw","priceData"],"mappings":"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","file":"route-demand~route-home~route-prices~route-production~route-wear~route-weather.chunk.8d149.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineChart\":\"lineChart__1V7gu\",\"svg\":\"svg__2VZNe\",\"pathText\":\"pathText__2RfbE\",\"path\":\"path__39L9w\",\"pathB\":\"pathB__4I_xm\",\"pathC\":\"pathC__1DQi-\",\"pathD\":\"pathD__2lI_C\",\"pathE\":\"pathE__2VDGB\",\"path2\":\"path2__19gje\",\"path2B\":\"path2B__-l86N\",\"path2C\":\"path2C__3xnAW\",\"path2D\":\"path2D__1rC9K\",\"path2E\":\"path2E__3ixKF\",\"path3\":\"path3__1IFnl\",\"x-axis\":\"x-axis__1601s\",\"y-axis\":\"y-axis__13f0R\",\"y-axis2\":\"y-axis2__3xPFM\",\"marker\":\"marker__2peOe\",\"mouseHover\":\"mouseHover__2B4N6\",\"mouseHoverDarkmode\":\"mouseHoverDarkmode__3VPOP\",\"mouseHoverBox\":\"mouseHoverBox__3fJuY\",\"mouseLines\":\"mouseLines__3DgQq\"};","import { h, Component } from 'preact';\nimport util from 'preact-util';\nimport { observer } from 'mobx-preact';\n\nimport style from './style.css';\n\nfunction getTicks(count, min, max, prefix = '', postfix = '') {\n    const loop = Array.from(Array(count).keys());\n    const range = Math.ceil(max) - Math.floor(min);\n    return loop.map(d => `${prefix}${parseInt((range / (count - 1) * d), 10) + Math.floor(min)}${postfix}`);\n}\n\nfunction parseTicks(ticks) {\n    if (ticks) {\n        return JSON.parse(ticks);\n    }\n    return undefined;\n}\n\nfunction transformXTick(tick) {\n    if (typeof tick === 'string') {\n        if (tick.match(/\\d+h/)) {\n            const msDiff = tick.replace(/h/g, '') * 3600 * 1000;\n            const now = util.epoch();\n            const then = now - msDiff;\n            return util.isoDate(then);\n        }\n    }\n    return tick;\n}\n\nfunction normalizeRange(val, min, max, newMin, newMax) {\n    return newMin + (val - min) * (newMax - newMin) / (max - min);\n}\n\nfunction round5(x, roundDown = false) {\n    let sign = 1;\n    if (x < 0) {\n        sign = -1;\n    }\n    if (roundDown && sign === 1) {\n        return Math.floor(Math.abs(x) / 5) * 5 * sign;\n    }\n    return Math.ceil(Math.abs(x) / 5) * 5 * sign;\n}\n\nfunction findMaxY({ data, max }) {\n    if (util.isNumber(max)) {\n        return Math.max(max, ...data.map(d => d.y));\n    }\n    return Math.max(...data.map(d => d.y));\n}\n\nfunction findMinY({ data, min }) {\n    if (util.isNumber(min)) {\n        return Math.min(min, ...data.map(d => d.y));\n    }\n    return Math.min(...data.map(d => d.y));\n}\n\n\nfunction smoothValues(arr, windowSize = 2, getter = (value) => value, setter) {\n    const get = getter\n    const result = []\n    for (let i = 0; i < arr.length; i += 1) {\n        const leftOffeset = i - windowSize\n        const from = leftOffeset >= 0 ? leftOffeset : 0\n        const to = i + windowSize + 1\n        let count = 0\n        let sum = 0\n        for (let j = from; j < to && j < arr.length; j += 1) {\n            sum += get(arr[j])\n            count += 1\n        }\n        result[i] = setter ? setter(arr[i], sum / count) : sum / count\n    }\n    return result\n}\n\n\n// Properties of a line \n// I:  - pointA (array) [x,y]: coordinates\n//     - pointB (array) [x,y]: coordinates\n// O:  - (object) { length: l, angle: a }: properties of the line\nfunction lineProperties(pointA, pointB) {\n    const lengthX = pointB[0] - pointA[0];\n    const lengthY = pointB[1] - pointA[1];\n    return {\n        length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n        angle: Math.atan2(lengthY, lengthX),\n    };\n}\n\n// Position of a control point \n// I:  - current (array) [x, y]: current point coordinates\n//     - previous (array) [x, y]: previous point coordinates\n//     - next (array) [x, y]: next point coordinates\n//     - reverse (boolean, optional): sets the direction\n// O:  - (array) [x,y]: a tuple of coordinates\nfunction controlPoint(current, previous, next, reverse) {\n    // When 'current' is the first or last point of the array\n    // 'previous' or 'next' don't exist.\n    // Replace with 'current'\n    const p = previous || current;\n    const n = next || current;\n    \n    // The smoothing ratio\n    const smoothing = 0.2;\n    \n    // Properties of the opposed-line\n    const o = lineProperties(p, n);\n    \n    // If is end-control-point, add PI to the angle to go backward\n    const angle = o.angle + (reverse ? Math.PI : 0);\n    const length = o.length * smoothing;\n    \n    // The control point position is relative to the current point\n    const x = current[0] + Math.cos(angle) * length;\n    const y = current[1] + Math.sin(angle) * length;\n    return [x, y]\n}\n\n// Create the bezier curve command \n// I:  - point (array) [x,y]: current point coordinates\n//     - i (integer): index of 'point' in the array 'a'\n//     - a (array): complete array of points coordinates\n// O:  - (string) 'C x2,y2 x1,y1 x,y': SVG cubic bezier C command\nfunction bezierCommand(point, i, a) {\n    // start control point\n    const [cpsX, cpsY] = controlPoint(a[i - 1], a[i - 2], point)  // end control point\n    const [cpeX, cpeY] = controlPoint(point, a[i - 1], a[i + 1], true);\n    return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${point[0]},${point[1]}`\n}\n\n// Svg path line command\n// I:  - point (array) [x, y]: coordinates\n// O:  - (string) 'L x,y': svg line command\nfunction lineCommand(point) {\n    return `L ${point[0]} ${point[1]}`;\n}\n\n// Render the svg <path> element \n// I:  - points (array): points coordinates\n//     - command (function)\n//       I:  - point (array) [x,y]: current point coordinates\n//           - i (integer): index of 'point' in the array 'a'\n//           - a (array): complete array of points coordinates\n//       O:  - (string) a svg path command\n// O:  - (string): a Svg <path> element\nfunction svgPath(points, command) {\n    // build the d attributes by looping over the points\n    const d = points.reduce((acc, point, i, a) => i === 0\n        // if first point\n        ? `M ${point[0]},${point[1]}`\n        // else\n        : `${acc} ${command(point, i, a)}`\n    , '');\n    \n    return d;\n}\n\nfunction makePath({ data, yMin, yMax, width, height, yRangeMin, yRangeMax, offsetY = 0, maxMinFixed = false, smooth = true }) {\n    const dataMap = {};\n    if (data && data.length) {\n        const maxX = Math.max(...data.map(d => d.x));\n        let minY;\n        let maxY;\n        if (maxMinFixed) {\n            minY = util.isNumber(yMin) ? yMin : findMinY({ data });\n        } else {\n            minY = util.isNumber(yMin) ? findMinY({ data, min: yMin }) : findMinY({ data });\n            minY = round5(minY, true);\n        }\n        if (maxMinFixed) {\n            maxY = util.isNumber(yMax) ? yMax : findMaxY({ data });\n        } else {\n            maxY = util.isNumber(yMax) ? findMaxY({ data, max: yMax }) : findMaxY({ data });\n            maxY = round5(maxY);\n        }\n\n        const realHeight = height - offsetY;\n        const fnX = (val, idx) => {\n            const x = Math.round(val / maxX * width);\n            if (util.isDefined(idx)) {\n                if (!dataMap[idx]) { dataMap[idx] = {}; }\n                dataMap[idx].x = x;\n                dataMap[idx].xVal = val;\n            }\n            return x;\n        }\n\n        const fnY = (val, idx) => {\n            let dataVal = val;\n            if (util.isNumber(yRangeMin) && util.isNumber(yRangeMax)) {\n                dataVal = normalizeRange(dataVal, minY, maxY, yRangeMin, yRangeMax);\n                return realHeight - normalizeRange(dataVal, yRangeMin, yRangeMax, offsetY, height);\n            }\n            dataVal = normalizeRange(dataVal, minY, maxY, minY, maxY);\n            const y = Math.round(realHeight - normalizeRange(dataVal, minY, maxY, offsetY, height));\n            if (util.isDefined(idx)) {\n                if (!dataMap[idx]) { dataMap[idx] = {}; }\n                dataMap[idx].y = y;\n                dataMap[idx].yVal = dataVal;\n            }\n            return y;\n        };\n\n        const dataArray = data.map((p, idx) => [fnX(p.x, idx + 1), fnY(p.y, idx + 1)]);\n        const finalDataArray = smoothValues(dataArray, 2, (e) => e[1], (e, val) => { e[1] = val; return e; });\n\n        for (let i = 0, l = finalDataArray.length; i < l; i += 1) {\n            if (util.isDefined(dataMap[i])) {\n                dataMap[i].ySmooth = finalDataArray[i][1];\n            }\n        }\n\n        const d = svgPath(finalDataArray, smooth ? bezierCommand : lineCommand);\n        return { d, maxX, maxY, minY, dataMap };\n    }\n    return {};\n}\n\nconst initialState = {\n    mouseData: {},\n};\n\n@observer\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState,\n        };\n        this.svgRef = null;\n    }\n\n    mouseMove = (e) => {\n        if (this.props.stores) {\n            const { width = 600, height = 200 } = this.props;\n            const svgWidth = this.svgRef.clientWidth;\n            const svgHeight = this.svgRef.clientHeight;\n\n            const x = parseInt(normalizeRange(e.layerX, 30, svgWidth, 0, width), 10);\n            const y = parseInt(normalizeRange(e.layerY, 20, svgHeight, 0, height) + 20, 10);\n\n            const { appState } = this.props.stores;\n            appState.setMousePosition([x, y]);\n        }\n    };\n\n    getMouseData(dataMap, xPos, key, autoLimit = false, padding = 0) {\n        const { data = [], width = 600, height = 200 } = this.props;\n        const x = parseInt(normalizeRange(xPos, 0, width, 0, data.length), 10);\n        // console.log(`xPos=${xPos}, svgWidth=${svgWidth}, data.length=${data.length}`)\n        if (util.checkNested(dataMap, x, key)) {\n            // console.log(`dataMap[x]=${JSON.stringify(dataMap[x])}, xPos=${xPos}, x=${x}, key=${key}`);\n            let val = dataMap[x][key];\n            if (autoLimit && key === 'y') {\n                if (val > height / 2) {\n                    return val - 70 - padding;\n                }\n                return val + 20 - padding;\n            }\n            if (autoLimit && key === 'x') {\n                if (val > width / 2) {\n                    // console.log(`autoLimit=${autoLimit}, key=${key}, val=${val}, width=${width}`)\n                    return val - 160 - padding;\n                }\n                return val + 20 - padding;\n            }\n            return val;\n        }\n    }\n\n\n    render() {\n        const {\n            width = 600,\n            height = 200,\n            offsetY = 0,\n            paddingLeft = 0, // Make room for yTicks.\n            paddingBottom = 0, // Make room for xTicks.\n            tickCount = 6, // Number of ticks to show\n            showXTicks, // Show X ticks\n            showYTicks, // Show Y ticks\n            xTicks, // xTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            yTicksPrefix,\n            yTicksPostfix,\n\n            yMax, // Y max value to use for yTicks\n            yMin, // Y min value to use for yTicks\n\n            showY2Ticks, // Show Y ticks\n            y2Ticks, // yTicks array to use instead of values. JSON.stringified and backslash escaped.\n            y2TicksPrefix,\n            y2TicksPostfix,\n            y2Max, // Y max value to use for y2Ticks\n            y2Min,\n\n            y2BMax, // Y max value to use for y2TicksB\n            y2BMin, // Y max value to use for y2TicksB\n            range2bMin = 0,\n            range2bMax = 100,\n\n            y2CMax, // Y max value to use for y2TicksC\n            y2CMin, // Y max value to use for y2TicksC\n            range2cMin = 0,\n            range2cMax = 100,\n\n            y2DMax, // Y max value to use for y2TicksC\n            y2DMin, // Y max value to use for y2TicksC\n            range2dMin = 0,\n            range2dMax = 100,\n\n            y3Min,\n            y3Max, // Y max value to use for yTicks3\n\n            range3Min = 0,\n            range3Max = 100,\n\n            legend,\n            legendB,\n            legendC,\n            legendD,\n            legend2,\n            legend2B,\n            legend2C,\n            legend2D,\n            legend3,\n\n            data = [],\n            dataB = [],\n            dataC = [],\n            dataD = [],\n            data2 = [],\n            data2B = [],\n            data2C = [],\n            data2D = [],\n            data3 = [],\n\n            marker,\n            unit,\n            unitB,\n            unitC,\n            unitD,\n            unit2,\n            unit2B,\n            unit2C,\n            unit2D,\n        } = this.props;\n        const { appState = {} } = this.props.stores || {};\n        const { mousePos = [], darkmode } = appState;\n\n        const PADDING_LEFT = paddingLeft || (showYTicks ? 30 : 0);\n        const PADDING_BOTTOM = paddingBottom || (showXTicks ? 20 : 0);\n\n        const common = {\n            width,\n            height,\n            offsetY,\n        };\n\n        // console.table(xTicks);\n        // console.table(yTicks);\n        const dataMaxY = findMaxY({ data, max: yMax });\n        const dataBMaxY = findMaxY({ data: dataB, max: dataMaxY });\n        const MAX_Y = round5(dataBMaxY);\n\n        const dataMinY = findMinY({ data, min: yMin });\n        const dataBMinY = findMinY({ data: dataB, min: dataMinY });\n        const MIN_Y = round5(dataBMinY, true);\n\n        const {\n            d,\n            maxX: MAX_X = 0,\n            dataMap,\n        } = makePath({\n            ...common,\n            data,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n            smooth: false,\n        });\n\n        const { d: dB, dataMap: dataMapB } = makePath({\n            ...common,\n            data: dataB,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n            smooth: false,\n        });\n\n        const { d: dC, dataMap: dataMapC } = makePath({\n            ...common,\n            data: dataC,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n            smooth: false,\n        });\n\n        const { d: dD, dataMap: dataMapD } = makePath({\n            ...common,\n            data: dataD,\n            yMin: MIN_Y,\n            yMax: MAX_Y,\n            maxMinFixed: true,\n            smooth: false,\n        });\n\n        const {\n            d: d2,\n            minY: MIN_Y2 = 0,\n            maxY: MAX_Y2 = 0,\n            dataMap: dataMap2,\n        } = makePath({\n            ...common,\n            data: data2,\n            yMin: y2Min,\n            yMax: y2Max,\n            smooth: false,\n        });\n\n        const { d: d2B, dataMap: dataMap2B } = makePath({\n            ...common,\n            data: data2B,\n            yMin: y2BMin,\n            yMax: y2BMax,\n            yRangeMin: range2bMin,\n            yRangeMax: range2bMax,\n            smooth: false,\n        });\n\n        const { d: d2C, dataMap: dataMap2C } = makePath({\n            ...common,\n            data: data2C,\n            yMin: y2CMin,\n            yMax: y2CMax,\n            yRangeMin: range2cMin,\n            yRangeMax: range2cMax,\n            maxMinFixed: true,\n            smooth: false,\n        });\n\n        const { d: d2D, dataMap: dataMap2D } = makePath({\n            ...common,\n            data: data2D,\n            yMin: y2DMin,\n            yMax: y2DMax,\n            yRangeMin: range2dMin,\n            yRangeMax: range2dMax,\n            maxMinFixed: true,\n            smooth: false,\n        });\n\n        const { d: d3 } = makePath({\n            ...common,\n            data: data3,\n            yMin: y3Min,\n            yMax: y3Max,\n            yRangeMin: range3Min,\n            yRangeMax: range3Max,\n        });\n\n        const X_TICKS = parseTicks(xTicks) || getTicks(tickCount, 0, MAX_X);\n        const Y_TICKS = parseTicks(yTicks) || getTicks(tickCount, MIN_Y, MAX_Y, yTicksPrefix, yTicksPostfix).reverse();\n        const Y_TICKS2 = parseTicks(y2Ticks) || getTicks(tickCount, MIN_Y2, MAX_Y2, y2TicksPrefix, y2TicksPostfix).reverse();\n\n        const MOUSEPOS_TEXT_OFFSET = 10;\n\n        return (\n            <div class={style.lineChart} style={`height: ${height}px; overflow: hidden;`}>\n                <svg xmlns='http://www.w3.org/2000/svg' class={style.svg} viewBox={`0 0 ${width} ${height}`}\n                    preserveAspectRatio='none'\n                    style={`padding-left: ${PADDING_LEFT}px; padding-bottom: ${PADDING_BOTTOM}px; width: calc(100%); max-height: 100%;`}\n                    onMouseMove={this.mouseMove}\n                    ref={c => this.svgRef = c}\n                >\n                    {d3 && <path d={d3} class={style.path3} />}\n                    {d2D && <path d={d2D} class={style.path2D} />}\n                    {d2C && <path d={d2C} class={style.path2C} />}\n                    {d2B && <path d={d2B} class={style.path2B} />}\n                    {d2 && <path d={d2} class={style.path2} />}\n                    {dD && <path d={dD} class={style.pathD} />}\n                    {dB && <path d={dB} class={style.pathB} />}\n                    {dC && <path d={dC} class={style.pathC} />}\n                    {d && <path d={d} class={style.path} />}\n\n                    {/* {dCold && dCold.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathCold} />)};\n                    {dWarm && dWarm.map(o => <line x1={o[0].x} y1={o[0].y} x2={o[1].x} y2={o[1].y} class={style.pathWarm} />)}; */}\n\n                    {legend && <line x1='10' y1='5' x2='30' y2='5' class={style.path} />}\n                    {legend && <text x='35' y='10' font-size='10px' class={style.pathText}>{legend}</text>}\n\n                    {legendB && <line x1='10' y1='15' x2='30' y2='15' class={style.pathB} />}\n                    {legendB && <text x='35' y='20' font-size='10px' class={style.pathText}>{legendB}</text>}\n\n                    {legendC && <line x1='10' y1='25' x2='30' y2='25' class={style.pathC} />}\n                    {legendC && <text x='35' y='30' font-size='10px' class={style.pathText}>{legendC}</text>}\n\n                    {legendD && <line x1='10' y1='35' x2='30' y2='35' class={style.pathD} />}\n                    {legendD && <text x='35' y='40' font-size='10px' class={style.pathText}>{legendD}</text>}\n\n\n                    {legend2 && <line x1={width - 150} y1='5' x2={width - 130} y2='5' class={style.path2} />}\n                    {legend2 && <text x={width - 125} y='10' font-size='10px' class={style.pathText}>{legend2}</text>}\n\n                    {legend2B && <line x1={width - 150} y1='15' x2={width - 130} y2='15' class={style.path2B} />}\n                    {legend2B && <text x={width - 125} y='20' font-size='10px' class={style.pathText}>{legend2B}</text>}\n\n                    {legend2C && <line x1={width - 150} y1='25' x2={width - 130} y2='25' class={style.path2C} />}\n                    {legend2C && <text x={width - 125} y='30' font-size='10px' class={style.pathText}>{legend2C}</text>}\n\n                    {legend2D && <line x1={width - 150} y1='35' x2={width - 130} y2='35' class={style.path2C} />}\n                    {legend2D && <text x={width - 125} y='30' font-size='10px' class={style.pathText}>{legend2D}</text>}\n\n\n                    {legend3 && <line x1={width - 150} y1='25' x2={width - 130} y2='25' class={style.path3} />}\n                    {legend3 && <text x={width - 125} y='30' font-size='10px' class={style.pathText}>{legend3}</text>}\n\n                    {marker && <line x1={marker} y1={height} x2={marker} y2='0' class={style.marker} />}\n\n                    {mousePos && mousePos.length > 0 && <line x1={mousePos[0]} y1={height} x2={mousePos[0]} y2='0' class={style.mouseLines} />}\n                    {mousePos && mousePos.length > 0 && <line x1={0} y1={this.getMouseData(dataMap, mousePos[0], 'y')} x2={width} y2={this.getMouseData(dataMap, mousePos[0], 'y')} class={style.mouseLines} />}\n                    \n                    {mousePos && mousePos.length > 0 && dataMap && <circle cx={this.getMouseData(dataMap, mousePos[0], 'x')} cy={this.getMouseData(dataMap, mousePos[0], 'ySmooth')} r='5' class={style.path} />}\n                    {mousePos && mousePos.length > 0 && dataMapB && <circle cx={this.getMouseData(dataMapB, mousePos[0], 'x')} cy={this.getMouseData(dataMapB, mousePos[0], 'ySmooth')} r='5' class={style.pathB} />}\n                    {mousePos && mousePos.length > 0 && dataMapC && <circle cx={this.getMouseData(dataMapC, mousePos[0], 'x')} cy={this.getMouseData(dataMapC, mousePos[0], 'ySmooth')} r='5' class={style.pathC} />}\n                    {mousePos && mousePos.length > 0 && dataMapD && <circle cx={this.getMouseData(dataMapD, mousePos[0], 'x')} cy={this.getMouseData(dataMapD, mousePos[0], 'ySmooth')} r='5' class={style.pathD} />}\n                    {mousePos && mousePos.length > 0 && dataMap2 && <circle cx={this.getMouseData(dataMap2, mousePos[0], 'x')} cy={this.getMouseData(dataMap2, mousePos[0], 'ySmooth')} r='5' class={style.path2} />}\n                    {mousePos && mousePos.length > 0 && dataMap2B && <circle cx={this.getMouseData(dataMap2B, mousePos[0], 'x')} cy={this.getMouseData(dataMap2B, mousePos[0], 'ySmooth')} r='5' class={style.path2B} />}\n                    {mousePos && mousePos.length > 0 && dataMap2C && <circle cx={this.getMouseData(dataMap2C, mousePos[0], 'x')} cy={this.getMouseData(dataMap2C, mousePos[0], 'ySmooth')} r='5' class={style.path2C} />}\n                    {mousePos && mousePos.length > 0 && dataMap2D && <circle cx={this.getMouseData(dataMap2D, mousePos[0], 'x')} cy={this.getMouseData(dataMap2D, mousePos[0], 'ySmooth')} r='5' class={style.path2D} />}\n\n                    {mousePos && mousePos.length > 0 && <rect x={this.getMouseData(dataMap, mousePos[0], 'x', true, 10)} y={this.getMouseData(dataMap, mousePos[0], 'y', true, 10)} width='160' height='80' rx='5' ry='5' class={style.mouseHoverBox} />}\n                    {mousePos && mousePos.length > 0 \n                        && <text x={this.getMouseData(dataMap, mousePos[0], 'x', true)} y={this.getMouseData(dataMap, mousePos[0], 'y', true)} \n                            font-size='11px'\n                            class={darkmode ? style.mouseHoverDarkmode : style.mouseHover}\n                        >\n                            <tspan x={this.getMouseData(dataMap, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.path}>--</tspan> {legend}: {this.getMouseData(dataMap, mousePos[0], 'yVal')} {unit}</tspan>\n                            {dB && dataMapB && <tspan x={this.getMouseData(dataMapB, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.pathB}>--</tspan> {legendB}: {this.getMouseData(dataMapB, mousePos[0], 'yVal')} {unitB || unit}</tspan>}\n                            {dC && dataMapC && <tspan x={this.getMouseData(dataMapC, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.pathC}>--</tspan> {legendC}: {this.getMouseData(dataMapC, mousePos[0], 'yVal')} {unitC || unit}</tspan>}\n                            {dD && dataMapD && <tspan x={this.getMouseData(dataMapD, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.pathD}>--</tspan> {legendD}: {this.getMouseData(dataMapD, mousePos[0], 'yVal')} {unitD || unit}</tspan>}\n                            {d2 && dataMap2 && <tspan x={this.getMouseData(dataMap2, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.path2}>--</tspan> {legend2}: {this.getMouseData(dataMap2, mousePos[0], 'yVal')} {unit2}</tspan>}\n                            {d2B && dataMap2B && <tspan x={this.getMouseData(dataMap2B, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.path2B}>--</tspan> {legend2B}: {this.getMouseData(dataMap2B, mousePos[0], 'yVal')} {unit2B || unit2}</tspan>}\n                            {d2C && dataMap2C && <tspan x={this.getMouseData(dataMap2C, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.path2C}>--</tspan> {legend2C}: {this.getMouseData(dataMap2C, mousePos[0], 'yVal')} {unit2C || unit2}</tspan>}\n                            {d2D && dataMap2D && <tspan x={this.getMouseData(dataMap2D, mousePos[0], 'x', true)} dy='1.2em'><tspan class={style.path2D}>--</tspan> {legend2D}: {this.getMouseData(dataMap2D, mousePos[0], 'yVal')} {unit2D || unit2}</tspan>}\n\n                        </text>}\n                </svg>\n                {showXTicks && (\n                    <div class={style['x-axis']}\n                        style={{\n                            left: `${PADDING_LEFT}px`,\n                            width: `calc(100% - ${PADDING_LEFT}px)`,\n                        }}\n                    >\n                        {X_TICKS.map(v => <div data-value={transformXTick(v)} />)}\n                    </div>\n                )}\n                {showYTicks && (\n                    <div\n                        class={style['y-axis']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n                {showY2Ticks && (\n                    <div\n                        class={style['y-axis2']}\n                        style={{\n                            bottom: `${PADDING_BOTTOM}px`,\n                        }}\n                    >\n                        {Y_TICKS2.map(v => <div data-value={v} />)}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default LineChart;\n","import util from 'preact-util';\n\nclass WifetUtil {\n    static normalizeRange(val, min, max, newMin, newMax) {\n        return newMin + (val - min) * (newMax - newMin) / (max - min);\n    }\n\n    /**\n    * Returns a random number between min (inclusive) and max (exclusive)\n    */\n    static getRandom(min, max) {\n        return Math.random() * (max - min) + min;\n}\n\n    /**\n    * Returns a random integer between min (inclusive) and max (inclusive).\n    * The value is no lower than min (or the next integer greater than min\n    * if min isn't an integer) and no greater than max (or the next integer\n    * lower than max if max isn't an integer).\n    * Using Math.round() will give you a non-uniform distribution!\n    */\n    static getRandomInt(min, max) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    static makeRandomData({ cnt = 200, min, max, onlyUp = false, inputData = [], diff = 5, maxSkew = 1, rangeMin, rangeMax }) {\n        const data = [];\n        let current = 0;\n        let skew = 0;\n        for (let i = 0, l = cnt; i < l; i += 1) {\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y)) {\n                skew = WifetUtil.getRandomInt(skew - diff, skew + diff);\n                current = inputData[i].y + skew;\n                if (Math.abs(skew) > maxSkew) { skew -= skew / 2; }\n            } else if (util.isUndefined(current)) {\n                current = WifetUtil.getRandomInt(min, max);\n            } else if (onlyUp) {\n                current = WifetUtil.getRandomInt(current, current + diff);\n            } else {\n                // console.log('current - diff, current + diff', current - diff, current + diff);\n                current = WifetUtil.getRandomInt(current - diff, current + diff);\n                // console.log('===> ', current);\n            }\n            if (current < min) {\n                current = min;\n            }\n            if (current > max) {\n                current = max;\n            }\n            if (rangeMin && rangeMax) {\n                current = WifetUtil.normalizeRange(current, min, max, rangeMin, rangeMax);\n            }\n            // console.log('current', current);\n            data.push({ x: i, y: current })\n        }\n        return data;\n    }\n\n    static addPercent(inputData = [], percent = 10, $max = 0) {\n        let max = $max;\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y) && inputData[i].y > max) {\n                max = inputData[i].y;\n            }\n        }\n        const data = [];\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y)) {\n                const val = inputData[i].y;\n                const newVal = val + (percent * max / 100);\n                data.push({\n                    x: i,\n                    y: newVal,\n                });\n            }\n        }\n        return data;\n    }\n\n    static calcData(inputData = [], fn = () => {}, opts = {}) {\n        const data = [];\n        for (let i = 0, l = inputData.length; i < l; i += 1) {\n            let newVal = 0;\n            if (util.isDefined(inputData[i]) && util.isDefined(inputData[i].y)) {\n                const val = inputData[i].y;\n                newVal = fn(val, i, opts);\n            }\n            data.push({\n                x: i,\n                y: newVal,\n            });\n        }\n        return data;\n    }\n\n    static calcProductionData(windspeed, idx, opts) {\n        const maxEffect = Math.pow(12, 3);\n        let ws = windspeed\n        if (ws > 12) {\n            ws = 12;\n        }\n        const result = Math.round(Math.pow(ws, 3));\n\n        if (util.isDefined(opts.min) && util.isDefined(opts.max)) {\n            return Math.round(WifetUtil.normalizeRange(result, 0, maxEffect, opts.min, opts.max));\n        }\n        return Math.round(result);\n    }\n\n    static calcProductionDataNOK(Mw, idx, opts) {\n        if (util.isDefined(opts.priceData[idx]) && util.isDefined(opts.priceData[idx].y)) {\n            const result = Math.round(Mw * opts.priceData[idx].y);\n            return result;\n        }\n        return 0;\n    }\n}\n\nexport default WifetUtil;\n"],"sourceRoot":""}