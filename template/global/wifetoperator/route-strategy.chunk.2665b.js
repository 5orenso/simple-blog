(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{uO3H:function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var o,a=n("hosL"),s=n("/eY4"),c=n("Gblv"),l=n("wgWz"),u=n("bbv7"),p={},d=Object(s.a)(o=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWindpark=function(t){n.props.stores.windmillStore.setCurrentWindparkName(t.target.dataset.windpark),n.loadAll()},n.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},p),n}var n,o;o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=e.prototype;return s.loadAll=function(){return new Promise(function(t,e){var n,r,i,o,a,s,c,u,p,d;return r=(n=this.props.stores).weatherYrStore,i=n.productionStore,o=n.priceStore,a=n.demandStore,s=n.windmillStore.currentWindparkName,c=l.a.getDateDiffTime(-4),u=l.a.getDateDiffTime(10),p=Math.floor((new Date).getTime()/1e3),this.setState({now:p,xMin:c,xMax:u}),Promise.resolve(this.loadYrData()).then((function(){try{return d=r.getWindSpeeds(s),o.generateData(),i.generateData(d,o.prices),a.generateData(),t()}catch(t){return e(t)}}),e)}.bind(this))},s.loadYrData=function(){return new Promise(function(t,e){function n(){return l+=1,r}function r(){return l<u?(a.updateQueryFilter({name:(p=s[l]).name,altitude:p.position.altitude,lat:p.position.lat,lon:p.position.lon}),Promise.resolve(a.load()).then((function(){try{return n}catch(t){return e(t)}}),e)):[1]}function i(){return Promise.resolve(Promise.all(c)).then(t,e)}var o,a,s,c,l,u,p,d;return a=(o=this.props.stores).weatherYrStore,c=[],l=0,u=(s=o.windmillStore.windparks).length,(d=function(t){for(;t;){if(t.then)return void t.then(d,e);try{if(t.pop){if(t.length)return t.pop()?i.call(this):t;t=n}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(r)}.bind(this))},s.componentDidMount=function(){this.loadAll()},s.render=function(){var t=this,e=this.state,n=e.now,r=e.xMin,i=e.xMax,o=this.props.stores,s=o.windmillStore,l=o.productionStore,p=o.demandStore,d=l.productionData,h=l.productionBoostData,f=l.productionLongLifeData,b=p.demands,m=p.demandAi,w=s.windparks,g=s.currentWindparkName;return Object(a.h)("div",{class:"container-fluid mt-5 pt-2"},Object(a.h)("div",{class:"row"},Object(a.h)("div",{class:"col-4"},Object(a.h)("h1",null,Object(a.h)("i",{class:"fas fa-chess-knight"})," Strategy")),Object(a.h)("div",{class:"col-8 pt-2"},Object(a.h)("ul",{class:"nav nav-pills float-right"},w&&w.map((function(e){return Object(a.h)("li",{class:"nav-item"},Object(a.h)("button",{class:"btn btn-link nav-link "+(e.name===g?"active":""),onClick:t.setWindpark,"data-windpark":e.name},e.name))})))),Object(a.h)("div",{class:"col-12"},Object(a.h)(u.a,{stores:this.props.stores,width:1200,height:500,showXTicks:1,xTicksVal:function(t){return c.a.isoDate(t)},xMin:r,xMax:i,paddingTop:30,dataLeft:[b,m],legendLeft:["Demand","Demand AI prediction"],yMaxLeft:4e3,yMinLeft:0,showYTicksLeft:1,yTicksLeft:["4TW","3TW","2TW","1TW","0TW"],unitLeft:["Mw","Mw"],dataRight:[d,h,f],legendRight:["Normal production","Boost 10%","Long life -5%"],yMaxRight:4e3,yMinRight:0,showYTicksRight:1,yTicksRight:["4TW","3TW","2TW","1TW","0TW"],unitRight:["Mw"],avgWindowRight:[8,8,8],marker:n}))))},e}(a.Component))||o;e.default=d}}]);
//# sourceMappingURL=route-strategy.chunk.2665b.js.map