!function(t){t.fn.extend({smoothZoom:function(o){function e(){if("true"==o.showCaption){var e=t("#lightzoomed").attr("alt");e?t(".sz-caption").html("<span>"+e+"</span>").fadeIn():t(".sz-caption").empty()}}function a(){var e=t("#lightzoomed").offset(),a=t("#lightzoomed").width(),i=t("#lightzoomed").height(),s=t(window).scrollTop();t(".sz-overlay, .sz-left, .sz-right").fadeOut(),t(".sz-zoomed").animate({width:a,height:i,top:e.top-s,left:e.left},o.zoomoutSpeed,o.zoomoutEasing,function(){t(".sz-zoomed, .sz-overlay, .sz-right, .sz-left, .sz-caption, .sz-close").remove(),t("#lightzoomed").removeAttr("id")})}function i(){var o=t("#lightzoomed").parents("a").data("smoothzoom"),a=t("#lightzoomed").parents("a").index("[data-smoothzoom="+o+"]"),i=t("a[data-smoothzoom="+o+"]").length,s=a+1;s>=i?t(".sz-zoomed").animate({width:"80%",height:"80%",top:"10%",left:"10%"},200,function(){t(".sz-zoomed").animate({width:"90%",height:"90%",top:"5%",left:"5%"},200)}):(t("#lightzoomed").removeAttr("id"),t(".sz-caption").fadeOut(),t(".sz-zoomed").animate({width:"80%",height:"80%",top:"10%",left:"10%",opacity:"0"},function(){t("[data-smoothzoom="+o+"]:eq("+s+")").find("img").attr("id","lightzoomed");var a=t("#lightzoomed").parent().attr("href");t(".sz-zoomed").css({opacity:"0",background:"url("+a+")",width:"80%",height:"80%",top:"10%",left:"10%"}),t("<img/>").attr("src",a).load(function(){t(this).remove(),t(".sz-zoomed").animate({opacity:"1",width:"90%",height:"90%",top:"5%",left:"5%"})}),e()}))}function s(){var o=t("#lightzoomed").parents("a").data("smoothzoom"),a=t("#lightzoomed").parents("a").index("[data-smoothzoom="+o+"]"),i=(t("a[data-smoothzoom="+o+"]").length,a-1);-1>=i?t(".sz-zoomed").animate({width:"80%",height:"80%",top:"10%",left:"10%"},200,function(){t(".sz-zoomed").animate({width:"90%",height:"90%",top:"5%",left:"5%"},200)}):(t("#lightzoomed").removeAttr("id"),t(".sz-caption").fadeOut(),t(".sz-zoomed").animate({opacity:"0",width:"80%",height:"80%",top:"10%",left:"10%"},function(){t("[data-smoothzoom="+o+"]:eq("+i+")").find("img").attr("id","lightzoomed");var a=t("#lightzoomed").parent().attr("href");t(".sz-zoomed").css({background:"url("+a+")",opacity:"0",width:"80%",height:"80%",top:"10%",left:"10%"}),t("<img/>").attr("src",a).load(function(){t(this).remove(),t(".sz-zoomed").animate({width:"90%",height:"90%",top:"5%",left:"5%",opacity:"1"})}),e()}))}var n={zoominSpeed:800,zoomoutSpeed:400,zoominEasing:"easeOutExpo",zoomoutEasing:"easeOutExpo",navigationButtons:"true",closeButton:"false",showCaption:"true"},o=t.extend(n,o);t("a[data-smoothzoom]").click(function(a){{var i=(t("img",this).attr("src"),t(this).attr("href")),s=(t(this).attr("target"),t("img",this).offset()),n=t("img",this).width(),d=t("img",this).height(),h=t(window).scrollTop();t(window).width(),t(window).height()}t("img",this).attr("id","lightzoomed"),t("body").append("<div class='sz-overlay'></div><a href='#' class='sz-zoomed' style='background:url("+i+")'>&nbsp;</a><div class='sz-ui'></div>");var m=t("#lightzoomed").parents("a").data("smoothzoom"),z=t("a[data-smoothzoom="+m+"]").length;"true"==o.navigationButtons&&z>1&&t("body").append("<a href='#' class='sz-left'>&#9664;</a><a href='#' class='sz-right'>&#9654;</a>"),"true"==o.closeButton&&t("body").append("<a href='#' class='sz-close'>&#10006;</a>"),"true"==o.showCaption&&(t("body").append("<div class='sz-caption'></div>"),e()),t(".sz-overlay, .sz-left, .sz-right").fadeIn(),t(".sz-zoomed").css({width:n,height:d,top:s.top-h,left:s.left}),t(".sz-zoomed").animate({width:"90%",height:"90%",top:"5%",left:"5%"},o.zoominSpeed,o.zoominEasing),a.preventDefault()}),t(document.body).on("click",".sz-zoomed, .sz-close",function(t){a(),t.preventDefault()}),t(document.body).on("click",".sz-right",function(t){i(),t.preventDefault()}),t(document.body).on("click",".sz-left",function(t){s(),t.preventDefault()}),t(document).keydown(function(o){switch(o.which){case 37:t(".sz-overlay").length&&s();break;case 39:t(".sz-overlay").length&&i();break;case 27:a();break;case 40:a();break;default:return}o.preventDefault()})}})}(jQuery);