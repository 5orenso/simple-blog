{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/marked/lib/marked.esm.js","webpack:///./component.js","webpack:///../node_modules/querystring-es3/decode.js","webpack:///../src/index.js","webpack:///../src/lib.js","webpack:///./index.js","webpack:///../src/to-vdom.js","webpack:///../src/markup-to-vdom.js","webpack:///../src/parse-markup.js","webpack:///../node_modules/querystring-es3/encode.js","webpack:///../node_modules/querystring-es3/index.js","webpack:///../node_modules/preact-markdown/index.js","webpack:///../src/util.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getDefaults","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","escape","html","encode","escapeTest","test","replace","escapeReplace","getEscapeReplacement","escapeTestNoEncode","escapeReplaceNoEncode","unescape","unescapeTest","_","toLowerCase","charAt","String","fromCharCode","parseInt","substring","edit","regex","opt","source","obj","val","caret","getRegex","RegExp","cleanUrl","base","href","prot","decodeURIComponent","nonWordAndColonTest","e","indexOf","originIndependentUrl","baseUrls","justDomain","rtrim","relativeBase","protocol","domain","resolveUrl","encodeURI","merge","target","arguments","length","splitCells","tableRow","count","cells","match","offset","str","escaped","curr","split","trim","shift","pop","splice","push","invert","suffLen","currChar","substr","checkSanitizeDeprecation","console","warn","repeatString","pattern","result","outputLink","cap","link","raw","lexer","title","text","state","inLink","token","type","tokens","inlineTokens","ch","out","charCodeAt","Math","random","toString","marked","src","callback","Error","defaults","Lexer","lex","done","err","Parser","parse","pending","setTimeout","lang","code","message","escapeReplacements","noopTest","exec","Tokenizer","constructor","options","this","space","rules","block","newline","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentInNode","slice","join","indentCodeCompensation","heading","trimmed","depth","inline","hr","blockquote","blockTokens","list","istask","ischecked","indent","blankLine","endsWithBlankLine","line","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","start","loose","items","itemRegex","trimLeft","search","nextBulletRegex","min","task","checked","trimRight","top","spacers","filter","hasMultipleLineBreaks","every","chars","lineBreaks","char","pre","def","tag","table","item","header","align","rows","j","k","row","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","b","level","findClosingBracket","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","lLength","rDelim","rLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","lastIndex","index","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","inlineQueue","next","lastToken","cutSrc","lastParagraphClipped","some","extTokenizer","startBlock","startIndex","Infinity","tempSrc","tempStart","forEach","getStartIndex","errMsg","error","keepPrevChar","keys","includes","lastIndexOf","startInline","Renderer","infostring","quote","slugger","slug","body","listitem","checkbox","tablerow","content","tablecell","flags","image","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","textRenderer","parseInline","l2","l3","cell","itemBody","ret","renderers","parser","unshift","setOptions","use","args","opts","childTokens","hasExtensions","pack","ext","prevRenderer","apply","prop","prevTokenizer","lexInline","App","props","apiServer","categoryId","imageSize","containerClass","rowClass","colClass","containerStyle","rowStyle","colStyle","imageClass","imageStyle","titleClass","titleStyle","ingressClass","ingressStyle","showTitle","showIngress","showImage","linkTarget","artlist","setArtlist","useState","imageServer","setImageServer","imagePath","setImagePath","imageIdx","setImageidx","autoscroll","setAutoscroll","useRef","useEffect","async","headers","settings","fetchOpt","credentials","method","cache","jwtToken","Authorization","qs","JSON","stringify","querystring","fetch","then","response","json","catch","fetchApi","fetchData","class","style","art","img","teaser","markdown","markdownOpts","MARKDOWN_OPTIONS","ingress","sep","eq","regexp","maxKeys","len","kstr","vstr","v","x","idx","isArray","Array","xs","getHookState","currentComponent","currentHook","hooks","initialState","reducer","init","hookState","currentIndex","_reducer","invokeOrReturn","nextValue","action","setState","useReducer","argsChanged","initialValue","useMemo","current","factory","flushAfterPaintEffects","afterPaintEffects","component","invokeCleanup","invokeEffect","hook","comp","oldArgs","newArgs","arg","f","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","vnode","requestAnimationFrame","raf","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","commitQueue","cb","widgetDOMHostElements","scripts","selector","clientSpecified","hostNodes","currentScript","document","getElementsByTagName","parentNode","let","scriptTagAttrs","attributes","nodeValue","getHabitatSelectorFromClient","querySelectorAll","queriedTag","widget","hostElements","root","cleanRoot","defaultProps","elm","hostNode","_habitat","element","attrs","dataAttrName","propName","all","letter","toUpperCase","scrp","propsObj","hasAttribute","getAttribute","innerHTML","collectPropsFromElement","elements","habitat","Widget","render","clean","walk","arr","nodeType","textContent","isFirstOrLast","nodeName","allowScripts","children","h","allowEvents","Function","childNodes","exists","visitor","reduce","attrName","parserDoc","customReviver","EMPTY_OBJ","setReviver","shouldComponentUpdate","ref","wrap","markup","setComponents","components","vdom","reviver","defaultReviver","dom","doc","parserError","wrappedMarkup","mime","DOMParser","parseFromString","implementation","createHTMLDocument","frame","createElement","cssText","setAttribute","appendChild","contentWindow","open","write","close","fc","firstChild","removeChild","lastChild","onError","cl","Component","res","stringifyPrimitive","isFinite","undefined","objectKeys","ks","encodeURIComponent","decode","require","preact","Markup","default","markupOpts","markedOpts","assign","removeNode","normalizedProps","createVNode","original","vnodeId","createRef","Fragment","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","enqueueRender","rerenderQueue","process","prevDebounce","debounceRendering","defer","queue","sort","a","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","reorderChildren","placeChild","applyRef","tmp","toChildArray","nextDom","sibDom","outer","nextSibling","insertBefore","setStyle","setProperty","IS_NON_DIMENSIONAL","oldValue","useCapture","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","removeAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","newType","contextType","doRender","sub","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","oldHtml","newHtml","localName","createTextNode","createElementNS","is","data","dangerouslySetInnerHTML","hydrate","diffProps","parentVNode","skipRemove","componentWillUnmount","replaceNode","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","isValidElement","ctor","handled","getDerivedStateFromError","componentDidCatch","update","forceUpdate","Promise","resolve","Preact","interopDefault","getElementById","firstElementChild","app","preRenderData","inlineDataElement","querySelector","decodeURI","CLI_DATA"],"mappings":"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","file":"bundle.d0a16.esm.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\n\nlet defaults = getDefaults();\n\nfunction changeDefaults(newDefaults) {\n  defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n  if (!cells[0].trim()) { cells.shift(); }\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) { cells.pop(); }\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\n// copied from https://stackoverflow.com/a/5450113/806777\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n  let result = '';\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n    count >>= 1;\n    pattern += pattern;\n  }\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n  const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    const token = {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text,\n      tokens: lexer.inlineTokens(text, [])\n    };\n    lexer.state.inLink = false;\n    return token;\n  } else {\n    return {\n      type: 'image',\n      raw,\n      href,\n      title,\n      text: escape(text)\n    };\n  }\n}\n\nfunction indentCodeCompensation(raw, text) {\n  const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  const indentToCode = matchIndentToCode[1];\n\n  return text\n    .split('\\n')\n    .map(node => {\n      const matchIndentInNode = node.match(/^\\s+/);\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      const [indentInNode] = matchIndentInNode;\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    })\n    .join('\\n');\n}\n\n/**\n * Tokenizer\n */\nclass Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  }\n\n  code(src) {\n    const cap = this.rules.block.code.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic\n          ? rtrim(text, '\\n')\n          : text\n      };\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      const raw = cap[0];\n      const text = indentCodeCompensation(raw, cap[3] || '');\n\n      return {\n        type: 'code',\n        raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      let text = cap[2].trim();\n\n      // remove trailing #s\n      if (/#$/.test(text)) {\n        const trimmed = rtrim(text, '#');\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      const token = {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text,\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ *> ?/gm, '');\n\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens: this.lexer.blockTokens(text, []),\n        text\n      };\n    }\n  }\n\n  list(src) {\n    let cap = this.rules.block.list.exec(src);\n    if (cap) {\n      let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine,\n        line, nextLine, rawLine, itemContents, endEarly;\n\n      let bull = cap[1].trim();\n      const isordered = bull.length > 1;\n\n      const list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n\n      bull = isordered ? `\\\\d{1,9}\\\\${bull.slice(-1)}` : `\\\\${bull}`;\n\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      }\n\n      // Get next list item\n      const itemRegex = new RegExp(`^( {0,3}${bull})((?: [^\\\\n]*)?(?:\\\\n|$))`);\n\n      // Check if current bullet point can start a new List Item\n      while (src) {\n        endEarly = false;\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n\n        if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n\n        raw = cap[0];\n        src = src.substring(raw.length);\n\n        line = cap[2].split('\\n', 1)[0];\n        nextLine = src.split('\\n', 1)[0];\n\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n\n        blankLine = false;\n\n        if (!line && /^ *$/.test(nextLine)) { // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n\n        if (!endEarly) {\n          const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\\\d{1,9}[.)])`);\n\n          // Check if following lines should be included in List Item\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            line = rawLine;\n\n            // Re-align to follow commonmark nesting rules\n            if (this.options.pedantic) {\n              line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            }\n\n            // End list item if found start of new bullet\n            if (nextBulletRegex.test(line)) {\n              break;\n            }\n\n            if (line.search(/[^ ]/) >= indent || !line.trim()) { // Dedent if possible\n              itemContents += '\\n' + line.slice(indent);\n            } else if (!blankLine) { // Until blank line, item doesn't need indentation\n              itemContents += '\\n' + line;\n            } else { // Otherwise, improper indentation ends this item\n              break;\n            }\n\n            if (!blankLine && !line.trim()) { // Check if current line is blank\n              blankLine = true;\n            }\n\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n          }\n        }\n\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        }\n\n        // Check for task list items\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw: raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n\n        list.raw += raw;\n      }\n\n      // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n\n      const l = list.items.length;\n\n      // Item child tokens handled here at end because we needed to have the final item to trim it first\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n        const spacers = list.items[i].tokens.filter(t => t.type === 'space');\n        const hasMultipleLineBreaks = spacers.every(t => {\n          const chars = t.raw.split('');\n          let lineBreaks = 0;\n          for (const char of chars) {\n            if (char === '\\n') {\n              lineBreaks += 1;\n            }\n            if (lineBreaks > 1) {\n              return true;\n            }\n          }\n\n          return false;\n        });\n\n        if (!list.loose && spacers.length && hasMultipleLineBreaks) {\n          // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item\n          list.loose = true;\n          list.items[i].loose = true;\n        }\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n    if (cap) {\n      const token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n      if (this.options.sanitize) {\n        token.type = 'paragraph';\n        token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.tokens = [];\n        this.lexer.inline(token.text, token.tokens);\n      }\n      return token;\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        type: 'def',\n        tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(c => { return { text: c }; }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n\n        let l = item.align.length;\n        let i, j, k, row;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.rows.length;\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(c => { return { text: c }; });\n        }\n\n        // parse child tokens inside headers and cells\n\n        // header child tokens\n        l = item.header.length;\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = [];\n          this.lexer.inlineTokens(item.header[j].text, item.header[j].tokens);\n        }\n\n        // cell child tokens\n        l = item.rows.length;\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = [];\n            this.lexer.inlineTokens(row[k].text, row[k].tokens);\n          }\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      const token = {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      const token = {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1],\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  }\n\n  text(src) {\n    const cap = this.rules.block.text.exec(src);\n    if (cap) {\n      const token = {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src) {\n    const cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize\n          ? 'text'\n          : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0]))\n          : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      const trimmedUrl = cap[2].trim();\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!(/>$/.test(trimmedUrl))) {\n          return;\n        }\n\n        // ending angle bracket cannot be escaped\n        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        const lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n      let href = cap[2];\n      let title = '';\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n    if ((cap = this.rules.inline.reflink.exec(src))\n        || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link || !link.href) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  }\n\n  emStrong(src, maskedSrc, prevChar = '') {\n    let match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return;\n\n    // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n    if (match[3] && prevChar.match(/[\\p{L}\\p{N}]/u)) return;\n\n    const nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n      const lLength = match[0].length - 1;\n      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\n\n      const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0;\n\n      // Clip maskedSrc to same section of string as src (move to lexer?)\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) { // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) { // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n\n        // Remove extra characters. *a*** -> *a*\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);\n\n        // Create `em` if smallest delimiter has odd char count. *a***\n        if (Math.min(lLength, rLength) % 2) {\n          const text = src.slice(1, lLength + match.index + rLength);\n          return {\n            type: 'em',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text,\n            tokens: this.lexer.inlineTokens(text, [])\n          };\n        }\n\n        // Create 'strong' if smallest delimiter has even char count. **a***\n        const text = src.slice(2, lLength + match.index + rLength - 1);\n        return {\n          type: 'strong',\n          raw: src.slice(0, lLength + match.index + rLength + 1),\n          text,\n          tokens: this.lexer.inlineTokens(text, [])\n        };\n      }\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n    if (cap) {\n      let text = cap[2].replace(/\\n/g, ' ');\n      const hasNonSpaceChars = /[^ ]/.test(text);\n      const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2], [])\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n    if (cap) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  inlineText(src, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n    if (cap) {\n      let text;\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n}\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)( [^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?<?([^\\s>]+)>?(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */)\n  .replace('bull', block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('|table', '')\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n    + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n});\n\nblock.gfm.table = edit(block.gfm.table)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.gfm.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('table', block.gfm.table) // interrupt paragraphs with table\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //        () Skip orphan delim inside strong    (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^[^_*]*?\\_\\_[^_*]*?\\*[^_*]*?(?=\\_\\_)|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?\\_[^_*]*?(?=\\*\\*)|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n};\n\n// list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();\n\n// sequences em should skip over [title](link), `code`, <html>\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\ninline.escapedEmSt = /\\\\\\*|\\\\_/g;\n\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\n\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim)\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g')\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g')\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', inline._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .replace('ref', block._label)\n  .getRegex();\n\ninline.nolink = edit(inline.nolink)\n  .replace('ref', block._label)\n  .getRegex();\n\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g')\n  .replace('reflink', inline.reflink)\n  .replace('nolink', inline.nolink)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n});\n\n/**\n * smartypants text replacement\n */\nfunction smartypants(text) {\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n}\n\n/**\n * mangle email addresses\n */\nfunction mangle(text) {\n  let out = '',\n    i,\n    ch;\n\n  const l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n\n/**\n * Block Lexer\n */\nclass Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n    this.tokenizer.rules = rules;\n  }\n\n  /**\n   * Expose Rules\n   */\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n\n  /**\n   * Static Lex Inline Method\n   */\n  static lexInline(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n')\n      .replace(/\\t/g, '    ');\n\n    this.blockTokens(src, this.tokens);\n\n    let next;\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n\n    return this.tokens;\n  }\n\n  /**\n   * Lexing\n   */\n  blockTokens(src, tokens = []) {\n    if (this.options.pedantic) {\n      src = src.replace(/^ +$/gm, '');\n    }\n    let token, lastToken, cutSrc, lastParagraphClipped;\n\n    while (src) {\n      if (this.options.extensions\n        && this.options.extensions.block\n        && this.options.extensions.block.some((extTokenizer) => {\n          if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n          return false;\n        })) {\n        continue;\n      }\n\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        // An indented code block cannot interrupt a paragraph.\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // fences\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // heading\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // hr\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // blockquote\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // list\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // html\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // def\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // lheading\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        let startIndex = Infinity;\n        const tempSrc = src.slice(1);\n        let tempStart;\n        this.options.extensions.startBlock.forEach(function(getStartIndex) {\n          tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n          if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }\n        });\n        if (startIndex < Infinity && startIndex >= 0) {\n          cutSrc = src.substring(0, startIndex + 1);\n        }\n      }\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        lastParagraphClipped = (cutSrc.length !== src.length);\n        src = src.substring(token.raw.length);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    this.state.top = true;\n    return tokens;\n  }\n\n  inline(src, tokens) {\n    this.inlineQueue.push({ src, tokens });\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  inlineTokens(src, tokens = []) {\n    let token, lastToken, cutSrc;\n\n    // String with links masked to avoid interference with em and strong\n    let maskedSrc = src;\n    let match;\n    let keepPrevChar, prevChar;\n\n    // Mask out reflinks\n    if (this.tokens.links) {\n      const links = Object.keys(this.tokens.links);\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    }\n    // Mask out other blocks\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    }\n\n    // Mask out escaped em & strong delimiters\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n      keepPrevChar = false;\n\n      // extensions\n      if (this.options.extensions\n        && this.options.extensions.inline\n        && this.options.extensions.inline.some((extTokenizer) => {\n          if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n          return false;\n        })) {\n        continue;\n      }\n\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // tag\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // link\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // reflink, nolink\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // em & strong\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // br\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // del (gfm)\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // autolink\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // url (gfm)\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startInline) {\n        let startIndex = Infinity;\n        const tempSrc = src.slice(1);\n        let tempStart;\n        this.options.extensions.startInline.forEach(function(getStartIndex) {\n          tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n          if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }\n        });\n        if (startIndex < Infinity && startIndex >= 0) {\n          cutSrc = src.substring(0, startIndex + 1);\n        }\n      }\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n}\n\n/**\n * Renderer\n */\nclass Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    code = code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang, true)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  }\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  }\n\n  html(html) {\n    return html;\n  }\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h'\n        + level\n        + ' id=\"'\n        + this.options.headerPrefix\n        + slugger.slug(raw)\n        + '\">'\n        + text\n        + '</h'\n        + level\n        + '>\\n';\n    }\n    // ignore IDs\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  }\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  }\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  }\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  }\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? '<' + type + ' align=\"' + flags.align + '\">'\n      : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  }\n\n  // span level renderer\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  }\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  }\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  }\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + escape(href) + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n}\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nclass TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n}\n\n/**\n * Slugger generates header id\n */\nclass Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  serialize(value) {\n    return value\n      .toLowerCase()\n      .trim()\n      // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '')\n      // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n  }\n\n  /**\n   * Finds the next safe (unique) slug to use\n   */\n  getNextSafeSlug(originalSlug, isDryRun) {\n    let slug = originalSlug;\n    let occurenceAccumulator = 0;\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n    return slug;\n  }\n\n  /**\n   * Convert string to unique id\n   * @param {object} options\n   * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n   */\n  slug(value, options = {}) {\n    const slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  }\n}\n\n/**\n * Parsing & Compiling\n */\nclass Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n\n  /**\n   * Static Parse Inline Method\n   */\n  static parseInline(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens, top = true) {\n    let out = '',\n      i,\n      j,\n      k,\n      l2,\n      l3,\n      row,\n      cell,\n      header,\n      body,\n      token,\n      ordered,\n      start,\n      loose,\n      itemBody,\n      item,\n      checked,\n      task,\n      checkbox,\n      ret;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'space': {\n          continue;\n        }\n        case 'hr': {\n          out += this.renderer.hr();\n          continue;\n        }\n        case 'heading': {\n          out += this.renderer.heading(\n            this.parseInline(token.tokens),\n            token.depth,\n            unescape(this.parseInline(token.tokens, this.textRenderer)),\n            this.slugger);\n          continue;\n        }\n        case 'code': {\n          out += this.renderer.code(token.text,\n            token.lang,\n            token.escaped);\n          continue;\n        }\n        case 'table': {\n          header = '';\n\n          // header\n          cell = '';\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            cell += this.renderer.tablecell(\n              this.parseInline(token.header[j].tokens),\n              { header: true, align: token.align[j] }\n            );\n          }\n          header += this.renderer.tablerow(cell);\n\n          body = '';\n          l2 = token.rows.length;\n          for (j = 0; j < l2; j++) {\n            row = token.rows[j];\n\n            cell = '';\n            l3 = row.length;\n            for (k = 0; k < l3; k++) {\n              cell += this.renderer.tablecell(\n                this.parseInline(row[k].tokens),\n                { header: false, align: token.align[k] }\n              );\n            }\n\n            body += this.renderer.tablerow(cell);\n          }\n          out += this.renderer.table(header, body);\n          continue;\n        }\n        case 'blockquote': {\n          body = this.parse(token.tokens);\n          out += this.renderer.blockquote(body);\n          continue;\n        }\n        case 'list': {\n          ordered = token.ordered;\n          start = token.start;\n          loose = token.loose;\n          l2 = token.items.length;\n\n          body = '';\n          for (j = 0; j < l2; j++) {\n            item = token.items[j];\n            checked = item.checked;\n            task = item.task;\n\n            itemBody = '';\n            if (item.task) {\n              checkbox = this.renderer.checkbox(checked);\n              if (loose) {\n                if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                  item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                    item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                  }\n                } else {\n                  item.tokens.unshift({\n                    type: 'text',\n                    text: checkbox\n                  });\n                }\n              } else {\n                itemBody += checkbox;\n              }\n            }\n\n            itemBody += this.parse(item.tokens, loose);\n            body += this.renderer.listitem(itemBody, task, checked);\n          }\n\n          out += this.renderer.list(body, ordered, start);\n          continue;\n        }\n        case 'html': {\n          // TODO parse inline content if parameter markdown=1\n          out += this.renderer.html(token.text);\n          continue;\n        }\n        case 'paragraph': {\n          out += this.renderer.paragraph(this.parseInline(token.tokens));\n          continue;\n        }\n        case 'text': {\n          body = token.tokens ? this.parseInline(token.tokens) : token.text;\n          while (i + 1 < l && tokens[i + 1].type === 'text') {\n            token = tokens[++i];\n            body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n          }\n          out += top ? this.renderer.paragraph(body) : body;\n          continue;\n        }\n\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n\n    return out;\n  }\n\n  /**\n   * Parse Inline Tokens\n   */\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n      i,\n      token,\n      ret;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'escape': {\n          out += renderer.text(token.text);\n          break;\n        }\n        case 'html': {\n          out += renderer.html(token.text);\n          break;\n        }\n        case 'link': {\n          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'image': {\n          out += renderer.image(token.href, token.title, token.text);\n          break;\n        }\n        case 'strong': {\n          out += renderer.strong(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'em': {\n          out += renderer.em(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'codespan': {\n          out += renderer.codespan(token.text);\n          break;\n        }\n        case 'br': {\n          out += renderer.br();\n          break;\n        }\n        case 'del': {\n          out += renderer.del(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'text': {\n          out += renderer.text(token.text);\n          break;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n    return out;\n  }\n}\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    const highlight = opt.highlight;\n    let tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    const done = function(err) {\n      let out;\n\n      if (!err) {\n        try {\n          if (opt.walkTokens) {\n            marked.walkTokens(tokens, opt.walkTokens);\n          }\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!tokens.length) return done();\n\n    let pending = 0;\n    marked.walkTokens(tokens, function(token) {\n      if (token.type === 'code') {\n        pending++;\n        setTimeout(() => {\n          highlight(token.text, token.lang, function(err, code) {\n            if (err) {\n              return done(err);\n            }\n            if (code != null && code !== token.text) {\n              token.text = code;\n              token.escaped = true;\n            }\n\n            pending--;\n            if (pending === 0) {\n              done();\n            }\n          });\n        }, 0);\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  try {\n    const tokens = Lexer.lex(src, opt);\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parse(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Use Extension\n */\n\nmarked.use = function(...args) {\n  const opts = merge({}, ...args);\n  const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };\n  let hasExtensions;\n\n  args.forEach((pack) => {\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      hasExtensions = true;\n      pack.extensions.forEach((ext) => {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n        if (ext.renderer) { // Renderer extensions\n          const prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function(...args) {\n              let ret = ext.renderer.apply(this, args);\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n        if (ext.tokenizer) { // Tokenizer Extensions\n          if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n          if (ext.start) { // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n        if (ext.childTokens) { // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n    }\n\n    // ==-- Parse \"overwrite\" extensions --== //\n    if (pack.renderer) {\n      const renderer = marked.defaults.renderer || new Renderer();\n      for (const prop in pack.renderer) {\n        const prevRenderer = renderer[prop];\n        // Replace renderer with func to run extension, but fall back if false\n        renderer[prop] = (...args) => {\n          let ret = pack.renderer[prop].apply(renderer, args);\n          if (ret === false) {\n            ret = prevRenderer.apply(renderer, args);\n          }\n          return ret;\n        };\n      }\n      opts.renderer = renderer;\n    }\n    if (pack.tokenizer) {\n      const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n      for (const prop in pack.tokenizer) {\n        const prevTokenizer = tokenizer[prop];\n        // Replace tokenizer with func to run extension, but fall back if false\n        tokenizer[prop] = (...args) => {\n          let ret = pack.tokenizer[prop].apply(tokenizer, args);\n          if (ret === false) {\n            ret = prevTokenizer.apply(tokenizer, args);\n          }\n          return ret;\n        };\n      }\n      opts.tokenizer = tokenizer;\n    }\n\n    // ==-- Parse WalkTokens extensions --== //\n    if (pack.walkTokens) {\n      const walkTokens = marked.defaults.walkTokens;\n      opts.walkTokens = function(token) {\n        pack.walkTokens.call(this, token);\n        if (walkTokens) {\n          walkTokens.call(this, token);\n        }\n      };\n    }\n\n    if (hasExtensions) {\n      opts.extensions = extensions;\n    }\n\n    marked.setOptions(opts);\n  });\n};\n\n/**\n * Run callback for every token\n */\n\nmarked.walkTokens = function(tokens, callback) {\n  for (const token of tokens) {\n    callback.call(marked, token);\n    switch (token.type) {\n      case 'table': {\n        for (const cell of token.header) {\n          marked.walkTokens(cell.tokens, callback);\n        }\n        for (const row of token.rows) {\n          for (const cell of row) {\n            marked.walkTokens(cell.tokens, callback);\n          }\n        }\n        break;\n      }\n      case 'list': {\n        marked.walkTokens(token.items, callback);\n        break;\n      }\n      default: {\n        if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) { // Walk any extensions\n          marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {\n            marked.walkTokens(token[childTokens], callback);\n          });\n        } else if (token.tokens) {\n          marked.walkTokens(token.tokens, callback);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Parse Inline\n */\nmarked.parseInline = function(src, opt) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked.parseInline(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked.parseInline(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  try {\n    const tokens = Lexer.lexInline(src, opt);\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parseInline(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n};\n\n/**\n * Expose\n */\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\n\nconst options = marked.options;\nconst setOptions = marked.setOptions;\nconst use = marked.use;\nconst walkTokens = marked.walkTokens;\nconst parseInline = marked.parseInline;\nconst parse = marked;\nconst parser = Parser.parse;\nconst lexer = Lexer.lex;\n\nexport { Lexer, Parser, Renderer, Slugger, TextRenderer, Tokenizer, defaults, getDefaults, lexer, marked, options, parse, parseInline, parser, setOptions, use, walkTokens };\n","import { h } from 'preact';\nimport { useState, useEffect, useCallback, useRef } from 'preact/hooks';\nimport querystring from 'querystring';\nimport Markdown from 'preact-markdown';\n\nconst MARKDOWN_OPTIONS = {\n\tpedantic: false,\n\tgfm: true,\n\tbreaks: true,\n\tsanitize: false,\n\tsmartLists: true,\n\tsmartypants: true,\n\txhtml: true,\n};\n\nfunction fetchApi({ url, headers = {}, body = {}, settings = {} }) {\n    const fetchOpt = {\n        credentials: 'omit',\n        method: 'GET',\n        mode: 'cors',\n        cache: 'default',\n        headers: {},\n    };\n    if (settings.jwtToken) {\n        fetchOpt.headers = {\n            Authorization: `Bearer ${settings.jwtToken}`,\n        };\n    }\n\n    let qs = '';\n    if (settings.method === 'POST' || settings.method === 'PUT' || settings.method === 'PATCH' || settings.method === 'DELETE') {\n        fetchOpt.method = settings.method;\n        fetchOpt.body = JSON.stringify(body);\n        fetchOpt.headers['Content-Type'] = 'application/json';\n    } else {\n        qs = querystring.stringify(body);\n    }\n    // console.log('fetchOpt', fetchOpt);\n    // console.log(`${main.props.apiServer}${endpoint}${qs ? `?${qs}` : ''}`);\n    return fetch(`${settings.apiServer}${url}${qs ? `?${qs}` : ''}`, fetchOpt)\n        .then((response) => {\n            return response;\n        })\n        .then(response => response.json())\n        .catch((error) => {\n            throw (error);\n        });\n}\n\nexport default function App(props) {\n    const {\n        apiServer,\n        jwtToken,\n        categoryId,\n        tag,\n        imageSize = '220x',\n        containerClass = '',\n        rowClass = '',\n        colClass = '',\n        containerStyle = '',\n        rowStyle = '',\n        colStyle = '',\n        imageClass = 'img-fluid',\n        imageStyle = '',\n        titleClass = '',\n        titleStyle = '',\n        ingressClass = '',\n        ingressStyle = '',\n        showTitle = true,\n        showIngress = true,\n        showImage = true,\n        linkTarget = '',\n    } = props;\n\n    const [artlist, setArtlist] = useState([]);\n    const [imageServer, setImageServer] = useState('');\n    const [imagePath, setImagePath] = useState('');\n    const [imageIdx, setImageidx] = useState(0);\n    const [autoscroll, setAutoscroll] = useState(true);\n    const imageScrollerRef = useRef(null);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const result = await fetchApi({\n                url: `/api/article/?category${categoryId}`,\n                settings: {\n                    apiServer,\n                },\n            })\n            setArtlist(result.artlist);\n            setImageServer(result.imageServer);\n            setImagePath(result.imagePath);\n        };\n        if (categoryId) {\n            fetchData();\n        }\n    }, [categoryId]);\n\n    return (\n        <div class={`${containerClass || 'container-fluid'}`} style={containerStyle}>\n            {/* {JSON.stringify(images, null, 4)} */}\n            {/* {JSON.stringify(article)} */}\n\n            <div class={`${rowClass || 'row'}`} style={rowStyle}>\n                {artlist && artlist.map((art, idx) => {\n                    const img = art.img && art.img.length > 0 ? art.img[0] : null;\n                    return (\n                        <div class={`position-relative ${colClass || 'col'}`} style={colStyle}>\n                            {img && <>\n                                <img\n                                    src={`https://${imageServer}/${imageSize}/${img.src}`}\n                                    class={imageClass}\n                                    style={imageStyle}\n                                />\n                            </>}\n                            <a href={art.url} class='stretched-link' target={linkTarget}>\n                                <h3\n                                    class={titleClass}\n                                    style={titleStyle}\n                                >\n                                    {art.title}\n                                </h3>\n                            </a>\n                            <div \n                                class={ingressClass}\n                                style={ingressStyle}\n                            >\n                                {art.teaser ? <>\n                                    {art.teaser && <Markdown markdown={art.teaser} markdownOpts={MARKDOWN_OPTIONS} />}\n                                </> : <>\n                                    {art.ingress && <Markdown markdown={art.ingress} markdownOpts={MARKDOWN_OPTIONS} />}\n                                </>}\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","import { h as defaultReviver, Component } from 'preact';\nimport markupToVdom from './markup-to-vdom';\n\nlet customReviver;\n\nexport default class Markup extends Component {\n\tstatic setReviver(h) {\n\t\tcustomReviver = h;\n\t}\n\n\tshouldComponentUpdate({ wrap, type, markup }) {\n\t\tlet p = this.props;\n\t\treturn wrap!==p.wrap || type!==p.type || markup!==p.markup;\n\t}\n\n\tsetComponents(components) {\n\t\tthis.map = {};\n\t\tif (components) {\n\t\t\tfor (let i in components) {\n\t\t\t\t// eslint-disable-next-line no-prototype-builtins\n\t\t\t\tif (components.hasOwnProperty(i)) {\n\t\t\t\t\tlet name = i.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g, '$1$3-$2$4').toLowerCase();\n\t\t\t\t\tthis.map[name] = components[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trender({ wrap=true, type, markup, components, reviver, onError, 'allow-scripts':allowScripts, 'allow-events':allowEvents, trim, ...props }) {\n\t\tlet h = reviver || this.reviver || this.constructor.prototype.reviver || customReviver || defaultReviver,\n\t\t\tvdom;\n\n\t\tthis.setComponents(components);\n\n\t\tlet options = {\n\t\t\tallowScripts,\n\t\t\tallowEvents,\n\t\t\ttrim\n\t\t};\n\n\t\ttry {\n\t\t\tvdom = markupToVdom(markup, type, h, this.map, options);\n\t\t} catch (error) {\n\t\t\tif (onError) {\n\t\t\t\tonError({ error });\n\t\t\t}\n\t\t\telse if (typeof console!=='undefined' && console.error) {\n\t\t\t\tconsole.error(`preact-markup: ${error}`);\n\t\t\t}\n\t\t}\n\n\t\tif (wrap===false) return vdom || null;\n\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tlet c = props.hasOwnProperty('className') ? 'className' : 'class',\n\t\t\tcl = props[c];\n\t\tif (!cl) props[c] = 'markup';\n\t\telse if (cl.splice) cl.splice(0, 0, 'markup');\n\t\telse if (typeof cl==='string') props[c] += ' markup';\n\t\telse if (typeof cl==='object') cl.markup = true;\n\n\t\treturn h('div', props, vdom || null);\n\t}\n}\n","import { h, render } from \"preact\";\n/**\n * Removes `-` fron a string and capetalize the letter after\n * example: data-props-hello-world =>  dataPropsHelloWorld\n * Used for props passed from host DOM element\n * @param  {String} str string\n * @return {String} Capetalized string\n */\nconst camelcasize = str => {\n  return str.replace(/-([a-z])/gi, (all, letter) => {\n    return letter.toUpperCase();\n  });\n};\n\n/**\n * [getExecutedScript internal widget to provide the currently executed script]\n * @param  {document} document [Browser document object]\n * @return {HTMLElement}     [script Element]\n */\nconst getExecutedScript = () => {\n  return (\n    document.currentScript ||\n    (() => {\n      let scripts = document.getElementsByTagName(\"script\");\n      return scripts[scripts.length - 1];\n    })()\n  );\n};\n\n/**\n * Get the props from a host element's data attributes\n * @param  {Element} tag The host element\n * @return {Object}  props object to be passed to the component\n */\nconst collectPropsFromElement = (element, defaultProps = {}) => {\n  let attrs = element.attributes;\n\n  let props = Object.assign({}, defaultProps);\n\n  // collect from element\n  Object.keys(attrs).forEach(key => {\n    if (attrs.hasOwnProperty(key)) {\n      let dataAttrName = attrs[key].name;\n      if (!dataAttrName || typeof dataAttrName !== \"string\") {\n        return false;\n      }\n      let propName = dataAttrName.split(/(data-props?-)/).pop() || '';\n      propName = camelcasize(propName);\n      if (dataAttrName !== propName) {\n        let propValue = attrs[key].nodeValue;\n        props[propName] = propValue;\n      }\n    }\n  });\n\n  // check for child script text/props or application/json\n  [].forEach.call(element.getElementsByTagName('script'), scrp => {\n    let propsObj = {}\n    if(scrp.hasAttribute('type')) {\n      if (\n        scrp.getAttribute(\"type\") !== \"text/props\" &&\n        scrp.getAttribute(\"type\") !== \"application/json\"\n      )\n        return;\n      try {\n        propsObj = JSON.parse(scrp.innerHTML);\n      } catch(e) {\n        throw new Error(e)\n      }\n      Object.assign(props, propsObj)\n    }\n  });  \n\n  return props;\n};\n\nconst getHabitatSelectorFromClient = (currentScript) => {\n  let scriptTagAttrs = currentScript.attributes;\n  let selector = null;\n  // check for another props attached to the tag\n  Object.keys(scriptTagAttrs).forEach(key => {\n    if (scriptTagAttrs.hasOwnProperty(key)) {\n      const dataAttrName = scriptTagAttrs[key].name;\n      if (dataAttrName === 'data-mount-in') {\n        selector = scriptTagAttrs[key].nodeValue;\n      }\n    }\n  });\n  return selector\n}\n\n/**\n * Return array of 0 or more elements that will host our widget\n * @param  {id} attrId the data widget id attribute the host should have\n * @param  {document} scope  Docuemnt object or DOM Element as a scope\n * @return {Array}        Array of matching habitats\n */\nconst widgetDOMHostElements = (\n  { selector, inline, clientSpecified}\n) => {\n  let hostNodes = [];\n  let currentScript = getExecutedScript();\n\n  if (inline === true) {\n    let parentNode = currentScript.parentNode;\n    hostNodes.push(parentNode);\n  }\n  if (clientSpecified === true && !selector) {\n    // user did not specify where to mount - get it from script tag attributes\n    selector = getHabitatSelectorFromClient(currentScript);\n  }\n  if (selector) {\n    [].forEach.call(document.querySelectorAll(selector), queriedTag => {\n      hostNodes.push(queriedTag);\n    });\n  }\n  return hostNodes;\n};\n\n/**\n * preact render function that will be queued if the DOM is not ready\n * and executed immeidatly if DOM is ready\n */\nconst preactRender = (widget, hostElements, root, cleanRoot, defaultProps) => {\n  hostElements.forEach(elm => {\n    let hostNode = elm;\n    if (hostNode._habitat) {\n      return; \n    }\n    hostNode._habitat = true;\n    let props = collectPropsFromElement(elm, defaultProps) || defaultProps;\n    if(cleanRoot) {\n      hostNode.innerHTML = \"\";\n    }\n    return render(h(widget, props), hostNode, root);\n  });\n};\n\nexport {\n  collectPropsFromElement,\n  widgetDOMHostElements,\n  getExecutedScript,\n  camelcasize,\n  preactRender,\n  getHabitatSelectorFromClient\n};\n","import habitat from \"preact-habitat\";\n\nimport Widget from \"./component\";\n\nlet _habitat = habitat(Widget);\n\n_habitat.render({\n  selector: '[data-widget-host=\"simple-blog-related\"]',\n  clean: true\n});\n","\nconst EMPTY_OBJ = {};\n\n// deeply convert an XML DOM to VDOM\nexport default function toVdom(node, visitor, h, options) {\n\twalk.visitor = visitor;\n\twalk.h = h;\n\twalk.options = options || EMPTY_OBJ;\n\treturn walk(node);\n}\n\nfunction walk(n, index, arr) {\n\tif (n.nodeType===3) {\n\t\tlet text = 'textContent' in n ? n.textContent : n.nodeValue || '';\n\n\t\tif (walk.options.trim!==false) {\n\t\t\tlet isFirstOrLast = index===0 || index===arr.length-1;\n\n\t\t\t// trim strings but don't entirely collapse whitespace\n\t\t\tif (text.match(/^[\\s\\n]+$/g) && walk.options.trim!=='all') {\n\t\t\t\ttext = ' ';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttext = text.replace(/(^[\\s\\n]+|[\\s\\n]+$)/g, walk.options.trim==='all' || isFirstOrLast ? '' : ' ');\n\t\t\t}\n\t\t\t// skip leading/trailing whitespace\n\t\t\t// if (!text || text===' ' && arr.length>1 && (index===0 || index===arr.length-1)) return null;\n\t\t\tif ((!text || text===' ') && arr.length>1 && isFirstOrLast) return null;\n\t\t\t// if (!text && arr.length>1 && (index===0 || index===arr.length-1)) return null;\n\t\t\t// if (!text || text===' ') return null;\n\t\t}\n\t\treturn text;\n\t}\n\tif (n.nodeType!==1) return null;\n\tlet nodeName = String(n.nodeName).toLowerCase();\n\n\t// Do not allow script tags unless explicitly specified\n\tif (nodeName==='script' && !walk.options.allowScripts) return null;\n\n\tlet out = walk.h(\n\t\tnodeName,\n\t\tgetProps(n.attributes),\n\t\twalkChildren(n.childNodes)\n\t);\n\tif (walk.visitor) walk.visitor(out);\n\treturn out;\n}\n\nfunction getProps(attrs) {\n\tlet len = attrs && attrs.length;\n\tif (!len) return null;\n\tlet props = {};\n\tfor (let i=0; i<len; i++) {\n\t\tlet { name, value } = attrs[i];\n\t\tif (name.substring(0,2)==='on' && walk.options.allowEvents){\n\t\t\tvalue  = new Function(value); // eslint-disable-line no-new-func\n\t\t}\n\t\tprops[name] = value;\n\t}\n\treturn props;\n}\n\nfunction walkChildren(children) {\n\tlet c = children && Array.prototype.map.call(children, walk).filter(exists);\n\treturn c && c.length ? c : null;\n}\n\nlet exists = x => x;\n","import parseMarkup from './parse-markup';\nimport toVdom from './to-vdom';\n\nconst EMPTY_OBJ = {};\n\n/** Convert markup into a virtual DOM.\n*\t@param {String} markup\t\tHTML or XML markup (indicate via `type`)\n*\t@param {String} [type=xml]\tA type to use when parsing `markup`. Either `xml` or `html`.\n*\t@param {Function} reviver\tThe JSX/hyperscript reviver (`h` function) to use. For example, Preact's `h` or `ReactDOM.createElement`.\n*\t@param {Object} [map]\t\tOptional map of custom element names to Components or variant element names.\n */\nexport default function markupToVdom(markup, type, reviver, map, options) {\n\tlet dom = parseMarkup(markup, type);\n\n\tif (dom && dom.error) {\n\t\tthrow new Error(dom.error);\n\t}\n\n\tlet body = dom && dom.body || dom;\n\tvisitor.map = map || EMPTY_OBJ;\n\tlet vdom = body && toVdom(body, visitor, reviver, options);\n\tvisitor.map = null;\n\n\n\treturn vdom && vdom.props && vdom.props.children || null;\n}\n\nfunction toCamelCase(name) {\n\treturn name.replace(/-(.)/g, (match, letter) =>letter.toUpperCase());\n}\n\nfunction visitor(node) {\n\tlet name = (node.type || '').toLowerCase(),\n\t\tmap = visitor.map;\n\n\t// eslint-disable-next-line no-prototype-builtins\n\tif (map && map.hasOwnProperty(name)){\n\t\tnode.type = map[name];\n\t\tnode.props = Object.keys(node.props || {}).reduce((attrs,attrName)=>{\n\t\t\tattrs[toCamelCase(attrName)] = node.props[attrName];\n\t\t\treturn attrs;\n\t\t},{});\n\t} else {\n\t\tnode.type =  name.replace(/[^a-z0-9-]/i,'');\n\t}\n\n}\n","let parserDoc;\n\n/** Parse markup into a DOM using the given mimetype.\n *\t@param {String} markup\n */\nexport default function parseMarkup(markup, type) {\n\tlet doc,\n\t\tmime = type==='html' ? 'text/html' : 'application/xml',\n\t\tparserError, wrappedMarkup, tag;\n\n\t// wrap with an element so we can find it after parsing, and to support multiple root nodes\n\tif (type==='html') {\n\t\ttag = 'body';\n\t\twrappedMarkup = '<!DOCTYPE html>\\n<html><body>'+markup+'</body></html>';\n\t}\n\telse {\n\t\ttag = 'xml';\n\t\twrappedMarkup = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<xml>'+markup+'</xml>';\n\t}\n\n\t// if available (browser support varies), using DOMPaser in HTML mode is much faster, safer and cleaner than injecting HTML into an iframe.\n\ttry {\n\t\tdoc = new DOMParser().parseFromString(wrappedMarkup, mime);\n\t} catch (err) {\n\t\tparserError = err;\n\t}\n\n\t// fall back to using an iframe to parse HTML (not applicable for XML, since DOMParser() for XML works in IE9+):\n\tif (!doc && type==='html') {\n\t\tdoc = parserDoc || (parserDoc = buildParserFrame());\n\t\tdoc.open();\n\t\tdoc.write(wrappedMarkup);\n\t\tdoc.close();\n\t}\n\n\tif (!doc) return;\n\n\t// retrieve our wrapper node\n\tlet out = doc.getElementsByTagName(tag)[0],\n\t\tfc = out.firstChild;\n\n\tif (markup && !fc) {\n\t\tout.error = 'Document parse failed.';\n\t}\n\n\t// pluck out parser errors\n\tif (fc && String(fc.nodeName).toLowerCase()==='parsererror') {\n\t\t// remove post/preamble to get just the error message as text\n\t\tfc.removeChild(fc.firstChild);\n\t\tfc.removeChild(fc.lastChild);\n\t\tout.error = (fc.textContent || fc.nodeValue || parserError || 'Unknown error');\n\t\t// remove the error from the DOM leaving things nice and tidy\n\t\tout.removeChild(fc);\n\t}\n\n\treturn out;\n}\n\n/** A shared frame is used for the fallback HTML parser, built on-demand. */\nfunction buildParserFrame() {\n\tif (document.implementation && document.implementation.createHTMLDocument) {\n\t\treturn document.implementation.createHTMLDocument('');\n\t}\n\tlet frame = document.createElement('iframe');\n\tframe.style.cssText = 'position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;';\n\tframe.setAttribute('sandbox', 'allow-forms');\n\tdocument.body.appendChild(frame);\n\treturn frame.contentWindow.document;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","const preact = require('preact');\nconst Markup = require('preact-markup').default;\nconst { marked } = require('marked');\n\nmodule.exports = Markdown;\n\nfunction Markdown(props, opts) {\n  opts = opts || {};\n  const h = opts.h || preact.h;\n  let markdown;\n  if (typeof props === 'string') {\n    markdown = props;\n    props = {};\n  } else if (props && typeof props.markdown === 'string') {\n    markdown = props.markdown;\n  } else {\n    throw new Error('Invalid arguments. Markdown requires either a `<String>` or object: `{markdown: <String>}`');\n  }\n\n  const markupOpts = props.markupOpts || opts.markupOpts || {};\n  const markedOpts = props.markedOpts || opts.markedOpts || props.markdownOpts || opts.markdownOpts || {};\n  if (props.markdownOpts || opts.markdownOpts) console.warn('DEPRECATED: `.markdownOpts` Use `.markedOpts`');\n\n  return h(Markup, Object.assign({\n    markup: marked(markdown, markedOpts),\n    trim: false,\n    type: 'html',\n  }, markupOpts));\n}\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\tif (options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children != null && // Can be null if childVNode suspended\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t// there are probably some internal data structures that aren't\n\t\t\t// updated properly.\n\t\t\t//\n\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t// value check in `diff()` won't be skipped.\n\t\t\tif (!isHydrating && newParentVNode.type === 'option') {\n\t\t\t\t// @ts-ignore We have validated that the type of parentDOM is 'option'\n\t\t\t\t// in the above check\n\t\t\t\tparentDom.value = '';\n\t\t\t} else if (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\tfor (let tmp = 0; tmp < childVNode._children.length; tmp++) {\n\t\tlet vnode = childVNode._children[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tchildVNode._children,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t(child === dom ||\n\t\t\t\t\t(nodeType ? child.localName == nodeType : child.nodeType == 3))\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(decodeURI(inlineDataElement.innerHTML)).preRenderData ||\n\t\t\t\tpreRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === normalizeURL(location.pathname);\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n"],"sourceRoot":""}